
<h2>Problem</h2>
<p>The <a href="/docs/agents/java-agent/troubleshooting/generate-debug-logs-troubleshooting-java">log data</a> for your Java app shows failures to connect to New Relic. You want to verify if the <code>INFO</code> messages are due to traffic connectivity or firewall rules, or if they are due to more serious issues.</p>
<h2>Solution</h2>
<p>Occasional failures to connect to the <a href="/docs/accounts-partnerships/education/getting-started-new-relic/glossary#collector">New Relic collector</a> should not be a cause for concern. These failures should not affect the performance metrics available in your app's New Relic user interface.</p>
<p>New Relic's Java agent attempts to connect about once a minute. To troubleshoot the problem:</p>
<ol>
  <li>Search your log files for <a href="#info-messages"><code>INFO</code> messages about connection failures</a>.</li>
  <li>Check <a href="#message-frequency">how frequently the messages appear</a>.</li>
</ol>
<p>For example, look for messages such as:</p>
<pre><code>Jul 31, 2017 21:37:14 +0000 NewRelic 10
INFO: Failed to connect to collector.newrelic.com.:443 for My Application:java.net.
ConnectException: Connection refused:connect
</code></pre>
<p>or</p>
<pre><code>Jul 31, 2017 21:37:14 +0000 NewRelic 40
INFO: The data collector is temporarily unavailable.
This can happen periodically. In the event that availability of our servers 
is not restored after a period of time, 
then please report this to New Relic.
java.net.SocketException: Connection reset
</code></pre>
<p>Depending on how frequently the message appears, do the following to troubleshoot the problem:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p><strong>Frequency of INFO message</strong></p>
      </div>
      <div>
        <p><strong>Comments</strong></p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>A few minutes</p>
      </div>
      <div>
        <p>New Relic's Java agent can cache a significant amount of metric data when it cannot connect. Even if the outage lasts a few minutes, in general, this will not result in any loss of information in the APM UI. You can safely ignore these messages.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Intermittently over a few days</p>
      </div>
      <div>
        <p>Intermittent connection issues can occasionally cause many of these messages in a short time. If this occurs only once every few days, and all your app data appears in the New Relic UI, you can safely ignore these messages.</p>
      </div>
    </div>
    <div>
      <div>
        <p>Every minute for several minutes</p>
      </div>
      <div>
        <p>If failures occur every minute for more than a few minutes, then the Java agent is not able to receive data from your app, and no data can be reported. In this situation:</p>
        <ol>
          <li>Verify whether New Relic is experiencing availability problems: Check New Relic's status at <a href="https://status.newrelic.com">status.newrelic.com</a>.</li>
          <li>If New Relic is not reporting any issues, <a href="/docs/agents/java-agent/troubleshooting/gather-troubleshooting-information-java">gather troubleshooting information</a> for your app.</li>
        </ol>
      </div>
    </div>
  </div>
</div>
<h2>Cause</h2>
<p>Despite the log text, this error generally is caused by a failure of connectivity or firewalled traffic rather than the New Relic collector actually being unavailable. For more information, see the lists of <a href="/docs/apm/new-relic-apm/getting-started/networks">IP ranges</a> used by all of New Relic's services.</p>
