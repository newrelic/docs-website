
<p>An optimized cloud native environment requires a cultural shift—one that enables teams to build new skills and motivations for the type of cross-team work required in distributed, modern cloud environments. The transformation can be difficult when the people involved do not clearly see the benefits of change.</p>
<p><a href="https://en.wikipedia.org/wiki/Service_level_objective">Service level objectives</a> (SLOs) provide a powerful mechanism to codify team goals in a way that stakeholders can measure and share. They also provide clear boundaries on service expectations that help teams achieve greater velocity and freedom in experimenting with new approaches.</p>
<p>This tutorial defines SLOs for successful service delivery objectives and provides guidance on how to utilize New Relic instrumentation to surface current performance metrics relative to those objectives. Measurable SLOs, and visibility into your current progress towards those SLOs, help to ensure that you can properly assess future optimization efforts.</p>
<h2>Service level components [#slo-component]</h2>
<p>An SLO is an agreed upon means of measuring the performance of your service. The SLO defines a target value of a specified quantitative measure, which is called a service level indicator (SLI); for example:</p>
<ul>
  <li>Average <a href="/docs/using-new-relic/user-interface-functions/view-your-data/response-time">response time</a></li>
  <li>Response time percentile</li>
  <li>Application availability</li>
</ul>
<p>SLOs clarify a target value for SLIs; for example:</p>
<ul>
  <li>Average response time should be less than 200 ms</li>
  <li>95% of requests should be completed within 250 ms</li>
  <li>Availability of the service should be 99.99%</li>
</ul>
<p>Logically group SLOs together to provide an overall boolean indicator of whether or not the service is meeting expectations. For example, a helpful SLO for alerting purposes could be:</p>
<p>95% of requests completed within 250 ms AND availability is 99.99%</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Service level components</p>
      </div>
      <div>
        <p>Example values</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>SLI (Indicator)</p>
      </div>
      <div>
        <p>HTTP status codes</p>
      </div>
    </div>
    <div>
      <div>
        <p>SLO (Objective)</p>
      </div>
      <div>
        <p>&#x3C; 1% HTTP 500s over 30 days</p>
      </div>
    </div>
    <div>
      <div>
        <p>SLA (Agreement)</p>
      </div>
      <div>
        <p>For every additional .1% of HTTP 500s, 5% refund of total contract</p>
      </div>
    </div>
  </div>
</div>
<h2>Resources</h2>
<p><a href="https://en.wikipedia.org/wiki/Value_stream_mapping">Value stream mapping</a> can be a useful exercise to work through before setting SLOs. Work with your teams to clarify key components of your service and appropriate metrics. Use these inputs as starting points for this tutorial.</p>
<p>In addition:</p>
<ul>
  <li>Learn about SLOs, SLIs, and SLAs from the <a href="https://blog.newrelic.com/engineering/best-practices-for-setting-slos-and-slis-for-modern-complex-systems/">New Relic's Best Practices for setting SLOs and SLIs for modern complex systems</a> or the <a href="https://cloudplatform.googleblog.com/2017/01/availability-part-deux--CRE-life-lessons.html">Google Cloud Platform blog</a>.</li>
  <li>Learn how New Relic has applied SLOs and SLIs into its reliability practices form this <a href="https://www.usenix.org/conference/srecon18americas/presentation/flaming">SREcon18 Americas presentation</a> (approximately 21 minutes).</li>
</ul>
<h2>1. Build an inventory of services requiring SLOs [#build]</h2>
<p>Start defining SLOs for your application by first taking an inventory of the services that your application provides to both your internal and external customers.</p>
<ol>
  <li>Draft a list of services. Make the scope of services you consider as comprehensive as possible.</li>
  <li>Engage your team members and other stakeholders to validate the list for completeness.</li>
  <li>Segment your application stack to understand the potential components that might require SLOs.</li>
</ol>
<p>For example, most applications can be segmented as:</p>
<ul>
  <li>Application (backend/microservices)</li>
  <li>Dependency services (such as the message queue)</li>
  <li>Database</li>
  <li>Website</li>
  <li>Underlying servers</li>
</ul>
<div data-component="CollapserGroup" data-prop="W10=">
  <div data-component="Collapser" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJpZCIsInZhbHVlIjoic2xvcy1leGFtcGxlLWNsYW1zaGVsbCJ9LHsidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ0aXRsZSIsInZhbHVlIjoiRXhhbXBsZSBTTE9zIn1d">
    <div data-prop-text="title">Example SLOs</div>
    <p>This example lists components that would benefit from SLOs:</p>
    <div data-component="Table" data-prop="W10=">
      <div>
        <div>
          <div>
            <p>Customer type</p>
          </div>
          <div>
            <p>Component name</p>
          </div>
          <div>
            <p>Owner</p>
          </div>
          <div>
            <p>Language stack</p>
          </div>
          <div>
            <p>Operating system</p>
          </div>
        </div>
      </div>
      <div>
        <div>
          <div>
            <p>External</p>
          </div>
          <div>
            <p>Service 1</p>
          </div>
          <div>
            <p>John D.</p>
          </div>
          <div>
            <p>Java</p>
          </div>
          <div>
            <p>RHEL 6</p>
          </div>
        </div>
        <div>
          <div>
            <p>Internal</p>
          </div>
          <div>
            <p>Service 2</p>
          </div>
          <div>
            <p>Jane A.</p>
          </div>
          <div>
            <p>.NET</p>
          </div>
          <div>
            <p>Win2003 R2</p>
          </div>
        </div>
        <div>
          <div>
            <p>Internal</p>
          </div>
          <div>
            <p>ActiveMQ</p>
          </div>
          <div>
            <p>John D.</p>
          </div>
          <div>
            <p>Java</p>
          </div>
          <div>
            <p>AIX</p>
          </div>
        </div>
        <div>
          <div>
            <p>External</p>
          </div>
          <div>
            <p>Website</p>
          </div>
          <div>
            <p>Jane A.</p>
          </div>
          <div>
            <p>Classic ASP</p>
          </div>
          <div>
            <p>Win2000</p>
          </div>
        </div>
        <div>
          <div>
            <p>Internal</p>
          </div>
          <div>
            <p>MS SQL</p>
          </div>
          <div>
            <p>Dave Z.</p>
          </div>
          <div>
            <p>n/a</p>
          </div>
          <div>
            <p>Win2003 R2</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<p>Building a definitive list of services that require SLOs can be challenging, because an application often consists of many endpoints with complex interdependencies.</p>
<p>Begin your SLO journey with pragmatism. Start by defining a broader, simpler set of SLOs that are driven by what your customers care about most and what your team can control. As your teams align around a defined set of SLOs, you can then begin to fine-tune and add more complexity.</p>
<h2>2. Research customer expectations for SLOs [#research-expectations]</h2>
<p>Once you have an inventory of services, begin to gather the information you need to define the SLOs for those services. Interviews with customers that depend on your services are often valuable for understanding service expectations. For example, to define SLOs for internal teams, ask questions like:</p>
<ul>
  <li>If possible, can you broadly categorize the types of requests we can expect from you and your service?</li>
  <li>To what extent do you or your service depend on timely responses to requests?</li>
  <li>Are there requests for which response time is not critical?</li>
  <li>How does your service handle unavailable dependencies or data?</li>
  <li>What is the maximum amount of unavailable data that your service can handle?</li>
  <li>At what threshold does your service fail if a request takes too long?</li>
  <li>What are acceptable rates of errors?</li>
  <li>What would a SLA look like between our product and yours?</li>
</ul>
<p>Existing usage data can also be a helpful research input.</p>
<h2>3. Define SLOs [#define-slos]</h2>
<p>Using the research on customer expectations that you gathered, draft a focused set of SLOs. New Relic recommends setting SLOs against one or more of the following SLIs:</p>
<ul>
  <li>Application availability percentage</li>
  <li>Average <a href="/docs/using-new-relic/user-interface-functions/view-your-data/response-time">response time</a></li>
  <li>Response percentile</li>
  <li>Error rate</li>
  <li><a href="/docs/apm/new-relic-apm/apdex/apdex-measuring-user-satisfaction">Apdex</a> value</li>
</ul>
<p>Also, consider instrumenting and tracking the following SLIs:</p>
<ul>
  <li>Throughput (peak and trough)</li>
  <li>Database call count and duration</li>
  <li>DNS and SSL timing</li>
  <li>DOM processing and page rendering</li>
  <li>Mean-time-to-detection (MTTD)</li>
</ul>
<p>For a more comprehensive list of potential areas to measure, see our article on <a href="https://newrelic.com/devops/measuring-devops">Measuring DevOps</a>.</p>
<p>Recommendation: To determine if your application is performing to customer expectations:</p>
<ol>
  <li>Consider combining multiple SLIs (for example, availability and response time) into one SLO.</li>
  <li>Aim to define a consistent set of conditions across all of the services in your list.</li>
  <li>Consult your team and stakeholders to validate that the SLOs you set are reasonable, consistently attainable (even if you are not currently meeting them), and aligned to customer expectations.</li>
</ol>
<p>After you finish this step, you should have a set of well-defined SLOs and SLIs.</p>
<h2>4. Determine what can be instrumented [#determine-instrumented]</h2>
<p>Now you are ready to deploy agents or monitors to establish a performance baseline for the SLIs you created. With proper instrumentation in place, you will have visibility into the performance indicators that matter for your team and your customers. You will also have a clear understanding of how to meet your SLOs.</p>
<ol>
  <li>Identify the service components your team will optimize.</li>
  <li>Verify which application tiers meet New Relic monitoring requirements.</li>
  <li>To ensure you have robust baselines from which to work, determine the level of instrumentation that is possible (or allowed) within your organization.</li>
</ol>
<p>There may be situations where instrumentation of the current on-premise environment is not viable. For example, firewalls with certain settings may not permit New Relic agents to transmit data.</p>
<div data-component="Callout" data-prop="W3sidHlwZSI6Im1keEF0dHJpYnV0ZSIsIm5hbWUiOiJ2YXJpYW50IiwidmFsdWUiOiJ0aXAifV0=">
  <p>If the application has a web front end in these situations, use <a href="/docs/synthetics/new-relic-synthetics/getting-started/introduction-new-relic-synthetics">New Relic Synthetics</a>. Synthetics offers non-agent monitoring while still providing the ability to establish a baseline.</p>
</div>
<p>To instrument the example applications and components in this tutorial, use these New Relic products:</p>
<p>Examples:</p>
<div data-component="Table" data-prop="W10=">
  <div>
    <div>
      <div>
        <p>Customer type</p>
      </div>
      <div>
        <p>Component name</p>
      </div>
      <div>
        <p>Tier owner</p>
      </div>
      <div>
        <p>Language stack</p>
      </div>
      <div>
        <p>Server OS</p>
      </div>
      <div>
        <p>New Relic Product</p>
      </div>
    </div>
  </div>
  <div>
    <div>
      <div>
        <p>External</p>
      </div>
      <div>
        <p>Service 1</p>
      </div>
      <div>
        <p>John D.</p>
      </div>
      <div>
        <p>Java</p>
      </div>
      <div>
        <p>RHEL 6</p>
      </div>
      <div>
        <p><a href="/docs/apm/new-relic-apm/getting-started/introduction-new-relic-apm">APM</a>, <a href="/docs/infrastructure/new-relic-infrastructure/getting-started/introduction-new-relic-infrastructure">Infrastructure</a>, <a href="/docs/synthetics/new-relic-synthetics/getting-started/introduction-new-relic-synthetics">Synthetics</a></p>
      </div>
    </div>
    <div>
      <div>
        <p>Internal</p>
      </div>
      <div>
        <p>Service 2</p>
      </div>
      <div>
        <p>Jane A.</p>
      </div>
      <div>
        <p>.Net</p>
      </div>
      <div>
        <p>Win2003 R2</p>
      </div>
      <div>
        <p><a href="/docs/apm/new-relic-apm/getting-started/introduction-new-relic-apm">APM</a>, <a href="/docs/infrastructure/new-relic-infrastructure/getting-started/introduction-new-relic-infrastructure">Infrastructure</a></p>
      </div>
    </div>
    <div>
      <div>
        <p>Internal</p>
      </div>
      <div>
        <p>ActiveMQ</p>
      </div>
      <div>
        <p>John D.</p>
      </div>
      <div>
        <p>Java</p>
      </div>
      <div>
        <p>AIX</p>
      </div>
      <div>
        <p><a href="/docs/apm/new-relic-apm/getting-started/introduction-new-relic-apm">APM</a>, <a href="/docs/plugins/plugins-new-relic/getting-started/introduction-new-relic-plugins">Plugins</a></p>
      </div>
    </div>
    <div>
      <div>
        <p>External</p>
      </div>
      <div>
        <p>Website</p>
      </div>
      <div>
        <p>Jane A.</p>
      </div>
      <div>
        <p>Classic ASP</p>
      </div>
      <div>
        <p>Win2000</p>
      </div>
      <div>
        <p><a href="/docs/synthetics/new-relic-synthetics/getting-started/introduction-new-relic-synthetics">Synthetics</a></p>
      </div>
    </div>
    <div>
      <div>
        <p>Internal</p>
      </div>
      <div>
        <p>MS SQL</p>
      </div>
      <div>
        <p>Dave Z.</p>
      </div>
      <div>
        <p>NA</p>
      </div>
      <div>
        <p>Win2003 R2</p>
      </div>
      <div>
        <p><a href="/docs/infrastructure/new-relic-infrastructure/getting-started/introduction-new-relic-infrastructure">Infrastructure</a>, <a href="/docs/integrations/host-integrations/getting-started/introduction-host-integrations">On-host integration</a></p>
      </div>
    </div>
  </div>
</div>
<h2>5. Review the default metrics [#review-default]</h2>
<p>After you deploy the agents and monitors, use <a href="/docs/using-new-relic/service-maps/get-started/introduction-service-maps">service maps</a> to review the default metrics that New Relic captures. For example, a typical service map shows many common SLIs that application teams rely on, including response time, Apdex, throughput, and error rate metrics from APM. It also shows page load time, Ajax response, throughput, and error rate from Browser.</p>
<h2>6. Set up custom instrumentation [#custom-instrumentation]</h2>
<p>Use custom instrumentation to close any remaining visibility gaps visibility for your SLIs. New Relic provides several options for adding custom instrumentation, including:</p>
<ul>
  <li>Making API calls to agents from inside your source code</li>
  <li>Packaging XML-based custom instrumentation modules with deployed applications</li>
  <li>Adding UI-based instrumentation without a code deploy</li>
</ul>
<p>In addition, you can add custom attributes to each transaction event— matching application performance factors to critical business information, and then tracking those attributes in Insights dashboards.</p>
<p>For more information, see the custom instrumentation documentation for your application:</p>
<ul>
  <li><a href="/docs/agents/manage-apm-agents/agent-data/custom-instrumentation">APM</a></li>
  <li><a href="/docs/insights/insights-data-sources/custom-data/insert-data-via-new-relic-browser">Browser</a></li>
  <li><a href="/docs/infrastructure/new-relic-infrastructure/configuration/configure-infrastructure-agent#conf-custom_attributes">Infrastructure</a></li>
  <li><a href="/docs/insights/insights-data-sources/custom-data/send-custom-data-insights">Insights</a></li>
  <li><a href="/docs/mobile-monitoring/new-relic-mobile/maintenance/add-custom-data-new-relic-mobile">Mobile</a></li>
  <li><a href="/docs/synthetics/new-relic-synthetics/scripting-monitors/add-custom-attributes-new-relic-synthetics-data">Synthetics</a></li>
</ul>
<h2>7. Create dashboards to track SLIs [#create-dashboards]</h2>
<p>Once you implement the appropriate instrumentation, it is easy to visualize your service level indicators with New Relic <a href="/docs/insights/use-insights-ui/manage-dashboards/create-edit-copy-insights-dashboards">Insights dashboards</a>. <a href="/docs/insights/use-insights-ui/getting-started/introduction-new-relic-insights">Insights</a> provides a single location to <a href="/docs/insights/nrql-new-relic-query-language/using-nrql/introduction-nrql">query</a> and view all the data that New Relic products gather. For example, Insights helps visualize the following data gathered from New Relic products:</p>
<ul>
  <li>Infrastructure: Use <a href="/docs/infrastructure/new-relic-infrastructure/data-instrumentation/default-infrastructure-attributes-events">default Infrastructure events and attributes</a> for your systems, processes, events, storage, and network; <a href="/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations">Infrastructure integrations</a>; and custom attributes.</li>
  <li>APM: Use <a href="/docs/insights/new-relic-insights/decorating-events/apm-default-attributes-insights">Transaction</a> and <a href="/docs/insights/new-relic-insights/decorating-events/error-event-default-attributes-insights">TransactionError</a> event types.</li>
  <li>Browser: Use <a href="/docs/insights/new-relic-insights/decorating-events/browser-default-attributes-insights">PageView and PageAction</a> event types.</li>
  <li>Mobile: Use several <a href="/docs/insights/new-relic-insights/decorating-events/mobile-default-attributes-insights">Mobile</a> event types.</li>
  <li>Synthetics: Use <a href="/docs/insights/new-relic-insights/decorating-events/synthetics-default-attributes-insights">SyntheticCheck, SyntheticRequest, and SyntheticPrivateMinion</a>event types.</li>
</ul>
<p>Each event has an event type, a timestamp, and one or more key <a href="/docs/insights/new-relic-insights/decorating-events/insights-attributes">attributes</a>. For more information about the data that New Relic receives from your app, see <a href="/docs/data-analysis/metrics/analyze-your-metrics/data-collection-metric-timeslice-event-data">Data collection</a>.</p>
<p>To query and view data from the SLIs you selected for baselining:</p>
<ol>
  <li>Use the <a href="/docs/insights/use-insights-ui/explore-data/event-explorer-query-chart-your-event-data">Insights Data explorer</a> to create widgets for your dashboards.</li>
  <li>Create dashboards that include <a href="/docs/insights/use-insights-ui/manage-dashboards/chart-types">widgets</a> for SLI baseline data.</li>
  <li>Use these widgets and dashboards to establish team dashboards that you can <a href="/docs/insights/use-insights-ui/manage-dashboards/view-organize-share-insights-dashboards">share</a> and use to conduct operations reviews.</li>
</ol>
<p>
  <img src="./images/catalyst-establish-objectives-2.png" alt="Establish objectives: Insights" title="Establish objectives: Insights">
</p>
<p><strong><a href="https://insights.newrelic.com">insights.newrelic.com</a> > (select a dashboard):</strong> Query your SLI baseline data, create dashboards with widgets to visualize the data, then share with your team and stakeholders.</p>
<p>The metrics you capture will become your application's baseline. Share your Insights dashboard with your application team and stakeholders to provide visibility into what is happening with your application and to monitor future performance.</p>
