---
title: 'NGINX OpenTelemetry metrics and attributes reference'
metaDescription: 'Complete reference of NGINX metrics collected via OpenTelemetry, including resource attributes for both on-host and Kubernetes deployments.'
redirects:
  - /docs/opentelemetry/nginx/nginx-otel-metrics-reference
freshnessValidatedDate: never
---

This reference covers all metrics and attributes collected by the OpenTelemetry NGINX receiver, applicable to both on-host and Kubernetes deployments.

## Core NGINX metrics [#core-metrics]

The OpenTelemetry Collector Contrib's [nginxreceiver](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/nginxreceiver) collects the following metrics from the NGINX stub status module:

<table>
  <thead>
    <tr>
      <th style={{ width: "350px" }}>
        Metric
      </th>
      <th>
        Description
      </th>
      <th>
        Type
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        `nginx.connections_accepted`
      </td>
      <td>
        The total number of accepted client connections. Use this to track connection acceptance rates over time.
      </td>
      <td>
        Sum
      </td>
    </tr>
    <tr>
      <td>
        `nginx.connections_handled`
      </td>
      <td>
        The total number of handled connections. Generally, the parameter value is the same as nginx.connections_accepted unless some resource limits have been reached (for example, the worker_connections limit). A gap between accepted and handled suggests resource constraints.
      </td>
      <td>
        Sum
      </td>
    </tr>
    <tr>
      <td>
        `nginx.connections_current`
      </td>
      <td>
        The current number of nginx connections by state. States include: <strong>active</strong> (total active connections), <strong>reading</strong> (reading request headers), <strong>writing</strong> (writing responses), <strong>waiting</strong> (keep-alive connections waiting for next request).
      </td>
      <td>
        Sum
      </td>
    </tr>
    <tr>
      <td>
        `nginx.requests`
      </td>
      <td>
        Total number of requests made to the server since it started. Use rate calculations to derive requests per second for performance monitoring.
      </td>
      <td>
        Sum
      </td>
    </tr>
  </tbody>
</table>

**Capacity planning tips:**
- High `waiting` connections may indicate keep-alive tuning opportunities
- Gap between `accepted` and `handled` connections suggests resource constraints
- Request-to-connection ratios help optimize worker configurations

## Resource attributes [#resource-attributes]

Resource attributes provide context about your NGINX deployment and vary depending on whether you're using on-host or Kubernetes deployment.

### Common attributes [#common-attributes]

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        Attribute
      </th>
      <th style={{ width: "350px" }}>
        Description
      </th>
      <th>
        Example Values
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        `state`
      </td>
      <td>
        The state of a connection (applicable to `nginx.connections_current` metric)
      </td>
      <td>
        `active`, `reading`, `writing`, `waiting`
      </td>
    </tr>
    <tr>
      <td>
        `nginx.server.endpoint`
      </td>
      <td>
        The NGINX stub status endpoint URL
      </td>
      <td>
        `http://localhost:8080/stub_status`
      </td>
    </tr>
  </tbody>
</table>

### On-host deployment attributes [#on-host-attributes]

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        Attribute
      </th>
      <th style={{ width: "350px" }}>
        Description
      </th>
      <th>
        Example Values
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        `nginx.deployment.name`
      </td>
      <td>
        A unique name to identify this NGINX deployment
      </td>
      <td>
        `production-web-01`, `staging-api`
      </td>
    </tr>
    <tr>
      <td>
        `nginx.display.name`
      </td>
      <td>
        A display-friendly name combining "server" prefix with deployment name
      </td>
      <td>
        `server:production-web-01`
      </td>
    </tr>
    <tr>
      <td>
        `host.name`
      </td>
      <td>
        The hostname of the system where NGINX is running
      </td>
      <td>
        `web-server-01.example.com`
      </td>
    </tr>
    <tr>
      <td>
        `host.id`
      </td>
      <td>
        The unique identifier of the host system
      </td>
      <td>
        `i-1234567890abcdef0`
      </td>
    </tr>
    <tr>
      <td>
        `logtype`
      </td>
      <td>
        The type of log being collected (applicable to logs only). Used by New Relic's built-in [parsing rules](https://docs.newrelic.com/docs/logs/ui-data/built-log-parsing-rules/#nginx). This attribute is only available when log forwarding is enabled.
      </td>
      <td>
        `nginx` (for access logs), `nginx-error` (for error logs)
      </td>
    </tr>
  </tbody>
</table>

### Kubernetes deployment attributes [#kubernetes-attributes]

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        Attribute
      </th>
      <th style={{ width: "350px" }}>
        Description
      </th>
      <th>
        Example Values
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        `k8s.cluster.name`
      </td>
      <td>
        The name of the Kubernetes cluster
      </td>
      <td>
        `nginx-cluster`, `production-k8s`
      </td>
    </tr>
    <tr>
      <td>
        `k8s.namespace.name`
      </td>
      <td>
        The Kubernetes namespace where the NGINX pod is running
      </td>
      <td>
        `default`, `web-services`, `production`
      </td>
    </tr>
    <tr>
      <td>
        `k8s.pod.name`
      </td>
      <td>
        The name of the Kubernetes pod running NGINX
      </td>
      <td>
        `nginx-deployment-7d4b8c6f9-x5z8w`
      </td>
    </tr>
    <tr>
      <td>
        `nginx.deployment.name`
      </td>
      <td>
        Set to the pod name for Kubernetes deployments
      </td>
      <td>
        `nginx-deployment-7d4b8c6f9-x5z8w`
      </td>
    </tr>
    <tr>
      <td>
        `nginx.display.name`
      </td>
      <td>
        A comprehensive display name including cluster, namespace, and pod information
      </td>
      <td>
        `server:k8s:nginx-cluster:default:pod:nginx-deployment-7d4b8c6f9-x5z8w:nginx:8080`
      </td>
    </tr>
  </tbody>
</table>

## Metric collection details [#collection-details]

### Collection frequency
- **Default interval**: 30 seconds
- **Configurable**: Can be adjusted in the OpenTelemetry Collector configuration

### Data source
All metrics are collected from the NGINX [stub_status module](https://nginx.org/en/docs/http/ngx_http_stub_status_module.html), which must be enabled and configured to expose an HTTP endpoint.

### Metric types
- **Sum metrics**: Cumulative values that represent totals over time
- **Rate calculations**: Use New Relic's `rate()` function to convert cumulative metrics to per-second rates for monitoring

## Related documentation [#related-docs]

**Setup guides:**
- [Monitor NGINX on self-hosted environments](/docs/opentelemetry/integrations/nginx/nginx-otel-host/) - Complete setup for on-host deployments
- [Monitor NGINX on Kubernetes](/docs/opentelemetry/integrations/nginx/nginx-otel-kubernetes/) - Complete setup for Kubernetes deployments

**Data usage:**
- [Find and query your NGINX data](/docs/opentelemetry/integrations/nginx/find-and-query-your-data/) - Dashboards, NRQL queries, and alerts

**Technical reference:**
- [NGINX receiver documentation](https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/receiver/nginxreceiver/documentation.md) - OpenTelemetry technical details