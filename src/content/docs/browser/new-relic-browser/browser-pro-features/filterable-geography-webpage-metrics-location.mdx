---
title: 'Filterable geography: Webpage metrics by location'
metaDescription: 'In New Relic browser monitoring, filterable geography lets you filter webpage performance metrics for locations, users, networks, browsers, etc.'
redirects:
  - /docs/browser/new-relic-browser/additional-standard-features/filterable-geography-webpage-metrics-location
---

For New Relic browser monitoring, the filterable geography UI page provides a world view with color-coded performance information about cities, regions, and countries anywhere around the world. You can filter and drill down into detailed information, or use your mouse to select or zoom in and out of any location on the map.

The enhanced attributes provide deep visibility not only about your end users' experience with page load timing, but also with network performance anywhere around the world. This level of visual detail is especially useful for professionals in IT and Operations to make business decisions about peering agreements and CDN usage.

## Requirements

* Requires the [Pro or Pro+SPA agent type](/docs/browser/browser-monitoring/installation/install-browser-monitoring-agent/#agent-types)

## Factors affecting collected data [#collected-data]

To capture page load timing information, the agent uses the [Navigation Timing API](/docs/browser/new-relic-browser/browser-agent-apis/navigation-timing-api), which most (but not all) browsers support. If the browsers do not support the Navigation Timing API, then the UI charts and data points can only show the network data they receive for DNS lookup, connection, secure handshake, etc. This may not be 100% of the app's overall traffic.

Also, firewalls may have an impact on the geographical data collected about your end users.

## View performance data by location [#apdex-by-region]

![New Relic Browser: Filterable Geography](./images/screen-browser-filter-geography.png "New Relic Browser: Filterable Geography")

<figcaption>
  **[one.newrelic.com](https://one.newrelic.com) > Browser > (select an app) > Browser app > Filterable Geography:** Here is an example of the map before drilling down into detailed information about London, England.
</figcaption>

To view or sort the performance information by location:

1. Go to **[one.newrelic.com](https://one.newrelic.com) > Browser > (select an app) > Filterable Geography**.
2. Select the [type of performance data](#type) to view from the dropdown, or use the default **Average page load time**.
3. To drill down to a [specific area](#functions), mouse over or select any area on the geographical map, or select any of the ten worst performing locations from the list to the right of the map.
4. To view specific performance metrics, select any of the [attributes](#filter) below the funnel <Icon name="fe-filter"/>
   icon.
5. To view comparison data, select the [**Page load performance** or **Historical performance**](#comparison) chart below the selected location's geographical map.

## Use map functions [#functions]

Use any of New Relic's standard [user interface functions](/docs/accounts-partnerships/education/getting-started-new-relic/new-relic-user-interface) and [page functions](/docs/accounts-partnerships/education/getting-started-new-relic/standard-dashboard-features) to drill down into detailed information. Here is a summary of additional options with the Filterable Geography page.

<table>
  <thead>
    <tr>
      <th width={200}>
        **If you want to...**
      </th>

      <th>
        **Do this...**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td id="type">
        Change what kind of performance data appears
      </td>

      <td>
        Select your choice from the dropdown.

        ![Browser: Filterable Geography](./images/icon-dropdown.png "Browser: Filterable Geography")

        Default performance indicator is **Average page load time**. The map's legend lists the ten best or worst performing areas (depending on the selected performance indicator) for the selected time period. For example:

        * If you select **Count**, the map's legend shows the top ten locations with the highest number of page loads, as well as the average page load time for each.
        * If you select **Connection setup**, the UI filters out areas with low throughput. Then the map's legend shows the top ten locations where average connection time is the slowest, as well as the average page load time and count for each.
      </td>
    </tr>

    <tr>
      <td>
        View summary performance information about a specific location
      </td>

      <td>
        Mouse over any colored area on the map, select a location from the list, or zoom in and out of any area on the map.
      </td>
    </tr>

    <tr>
      <td>
        View detailed data for a location
      </td>

      <td>
        Select any area of the map. For example:

        * If you select Canada, the map and legend show color-coded performance data for each province and territory. The list to the right of the map shows the top ten worst performing areas.
        * If you select a specific province or territory, the map shows color-coded performance data for the top ten cities.

        The map includes circled locations which you can mouse over or select to view detailed information. In addition, the **Page load performance** and **Historical performance** [charts below the map](#comparison) automatically update with each location you select.
      </td>
    </tr>

    <tr>
      <td>
        Hide the list of available attributes
      </td>

      <td>
        Select the funnel <Icon name="fe-filter"/>
        icon.

        ![Browser: Filterable Geography](./images/icon-filter_0.png "Browser: Filterable Geography")
      </td>
    </tr>

    <tr>
      <td>
        Return to a larger world view
      </td>

      <td>
        Select another location on the map, or clear the [filter labels](#filter) above the map.

        <Callout variant="tip">
          To return to the original map view of the world, select any area on an ocean.
        </Callout>
      </td>
    </tr>
  </tbody>
</table>

## Examine heat map details [#heat-map]

![Browser: Filterable Geography (London zoom)](./images/crop-filter-geo-london3.png "Browser: Filterable Geography (London zoom)")

<figcaption>
  **[one.newrelic.com](https://one.newrelic.com) > Browser > (select an app) > Browser app > Filterable Geography:** Here is an example of the map as you use filter and zoom tools to drill down into detailed information about London, England. Athough overall throughput for the area is good (green), the nearby yellow areas, and the smaller red and orange circles indicate nearby cities with varying levels of throughput problems, not the size of those cities.
</figcaption>

The Filterable Geography heat map identifies performance quality with color and with the size of circles.

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        **Heat map**
      </th>

      <th>
        **Description**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Color scale
      </td>

      <td>
        Performance quality ranges from green (the best) to yellow, orange, and then red (the worst). When selecting indicators of usage rather than performance, the heat map shows shades of purple, with the darkest shades indicating the highest usage.

        The color scale adapts to your app's specific performance. Each area is a [percentile range](#ranges). To view the range for each color segment, mouse over the heat map's legend.

        ![Browser: Filterable Geography legend](./images/icon-filter-geo-legend.png "Browser: Filterable Geography legend")
      </td>
    </tr>

    <tr>
      <td>
        Thresholds
      </td>

      <td>
        Different thresholds are dynamically applied to the colors based on the type of performance indicator you select from the dropdown and the maximum value your app has reported. For example, green for **Average page load time** may indicate 0 to 3.3 seconds, while green for **Average network time** may indicate 0 to 256 milliseconds.
      </td>
    </tr>

    <tr>
      <td>
        Circles
      </td>

      <td>
        The map's colored circles help you identify areas with performance problems at a glance. Each circle's radius is based on throughput reported for the city it represents, not the size of the city itself.

        You may see many circles overlapping each other. This usually indicates a grouping of metropolitan areas which represent a geographic area of heavy traffic.
      </td>
    </tr>
  </tbody>
</table>

## Filter performance metrics [#filter]

The **Filter** <Icon name="fe-filter"/>
feature allows you to select and group data by attributes in various categories, including:

Page view

* Geography
* Browser
* Identity
* Custom

![Browser: Filterable Geography (attributes)](./images/crop-filter-geo-attributes.png "Browser: Filterable Geography (attributes)")

The filtered results appear on the geographical map, where you can use any of the standard [map functions](#functions) to explore additional details. Here are some examples.

<CollapserGroup>
  <Collapser
    id="example-asn"
    title={<strong>Unsatisfactory network performance by ASN</strong>}
  >
    In this example, your organization is preparing to renew a peering agreement with the owner of an autonomous system, called "My-ASN." You are concerned that continued outages and other connection issues are affecting customer satisfaction with your site, and you want to compare its performance with other ASNs. 

    1. Go to **[one.newrelic.com](https://one.newrelic.com) > Browser > (select an app) > Filterable Geography**.
    2. From the performance type dropdown, select **Connection setup**.
    3. Select the funnel <Icon name="fe-filter"/>
       icon.
    4. To view the specific ASN's performance: From the search window, type **My-ASN**, and then select this name from the **Filter by** results.

       OR

       To compare performance with other ASNs: From **Geography attributes > ASN organizations**, review the performance data for each organization on the list, and then select **Back to groupings list**.
    5. To close the filter list, select the funnel <Icon name="fe-filter"/>
       icon.
    6. Follow standard procedures to use the [map functions](#functions) and view [comparative performance](#comparison) details.
    7. To clear the filter, select the attribute name.
  </Collapser>

  <Collapser
    id="example-promo"
    title={<strong>Page rendering performance during sales promotion</strong>}
  >
    In this example, your organization has a special three-day sales promotion for an upcoming holiday. Your **holiday-merchandise** page has undergone major changes, including dozens of new images. You want to look for performance problems with page rendering on Android mobile devices during this sales period. 

    1. Go to **[one.newrelic.com](https://one.newrelic.com) > Browser > (select an app) > Filterable Geography**.
    2. Use the [time picker](/docs/data-analysis/user-interface-functions/time-picker-setting-time-periods-view-data) to change the date range to the promotion period.
    3. From the performance type dropdown, select **Page rendering**.
    4. Select the funnel <Icon name="fe-filter"/>
       icon.
    5. From **Page view attributes > Page Url**, select your site's **holiday-merchandise** page, and then select **Back to groupings list**.
    6. From **Browser attributes > User agent OS**, select **Android**, and then select **Back to groupings list**.
    7. To close the filter list, select the funnel <Icon name="fe-filter"/>
       icon.
    8. Follow standard procedures to use the [map functions](#functions) and view [comparative performance](#comparison) details.
    9. To clear the filters, select their attribute names.
  </Collapser>
</CollapserGroup>

## View comparative performance details [#comparison]

Charts on the **Page load performance** and **Historical performance** tabs automatically refresh with comparative performance details for the selected location.

![Browser Filterable Geography Comparative Performance charts](./images/crop-browser-filterable-geo-comparative.png "Browser Filterable Geography Comparative Performance charts")

<figcaption>
  **[one.newrelic.com](https://one.newrelic.com) > Browser > (select an app) > Browser app > Filterable Geography:** Charts on the **Page load performance** and **Historical performance** tabs automatically refresh with details for the selected location.
</figcaption>

The **Page load performance** tab shows two charts. The **Average page load time** chart includes:

* Average page load time for each segment of the [page load timing process](/docs/browser/new-relic-browser/page-load-timing/page-load-timing-process) in seconds
* [Request queuing](/docs/apm/applications-menu/features/request-queuing-tracking-front-end-time) information (the time after a request enters your production systems and before it reaches your application) if applicable

The **Average network time** chart shows key elements, including how long it takes for DNS lookup, connection establishment, and secure handshake, in seconds.

<Callout variant="tip">
  Sometimes areas on the charts may appear to be zero or near zero. This is because some apps use existing TCP connections, and they do not need to establish new connections.
</Callout>

The **Historical performance** tab shows comparison data for the selected [time period](/docs/apm/new-relic-apm/ui-functions/time-picker-setting-time-periods-view-data), yesterday, and last week for the selected location. This includes:

* Average response time
* Throughput in pages per minute (**ppm**)

## Available metrics [#metrics]

You can filter and group geographical performance data with metrics like:

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        **Performance**
      </th>

      <th>
        **Metrics**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Webpage
      </td>

      <td>
        * [Page load time](/docs/browser/new-relic-browser/page-load-timing-resources/page-load-timing-process)
        * Throughput (pages per minute or **ppm**)
        * Network time
        * Connection time
        * Secure connection time
      </td>
    </tr>

    <tr>
      <td>
        Network
      </td>

      <td>
        * Autonomous system number and name (ASN) via IP mapping
        * SSL negotiation timing
        * DNS timing
        * Time to first byte
        * ASN [latitude](/docs/insights/new-relic-insights/decorating-events/browser-default-attributes-insights#browser-asnlatitude) and [longitude](/docs/insights/new-relic-insights/decorating-events/browser-default-attributes-insights#browser-asnlongitude) for Internet service providers (ISPs)

        To ensure end user security, the agent collects GeoIP information for the end user's ISP. The agent does **not** collect GeoIP information for the specific end user. For example, if an end user in Portland, Oregon uses an ISP located in Beaverton, Oregon the GeoIP information would show their location as Beaverton.
      </td>
    </tr>

    <tr>
      <td>
        User agents
      </td>

      <td>
        * Operating systems
        * Browser names or types
        * Browser versions
        * Device types
      </td>
    </tr>
  </tbody>
</table>

## Performance and usage ranges [#ranges]

The color-coded legend shows performance and usage as percentile ranges.

<CollapserGroup>
  <Collapser
    id="performance-ranges"
    title="Performance color ranges"
  >
    Percentile colors for performance range from green (the best) to red (the worst).

    <table>
      <thead>
        <tr>
          <th>
            **Performance percentile ranges (best to worst)**
          </th>

          <th style={{ width: "110px" }}>
            **Green**
          </th>

          <th style={{ width: "110px" }}>
            **Yellow**
          </th>

          <th style={{ width: "110px" }}>
            **Orange**
          </th>

          <th style={{ width: "110px" }}>
            **Red**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Back-end duration
          </td>

          <td>
            0-74.9
          </td>

          <td>
            75-86.9
          </td>

          <td>
            87-94.9
          </td>

          <td>
            95+
          </td>
        </tr>

        <tr>
          <td>
            Connection setup duration
          </td>

          <td>
            0-96.9
          </td>

          <td>
            97-97.9
          </td>

          <td>
            98-98.9
          </td>

          <td>
            99+
          </td>
        </tr>

        <tr>
          <td>
            DNS lookup duration
          </td>

          <td>
            0-96.9
          </td>

          <td>
            97-97.9
          </td>

          <td>
            98-98.9
          </td>

          <td>
            99+
          </td>
        </tr>

        <tr>
          <td>
            DOM processing duration
          </td>

          <td>
            0-74.9
          </td>

          <td>
            75-86.9
          </td>

          <td>
            87-94.9
          </td>

          <td>
            95+
          </td>
        </tr>

        <tr>
          <td>
            Network duration
          </td>

          <td>
            0-74.9
          </td>

          <td>
            75-86.9
          </td>

          <td>
            87-94.9
          </td>

          <td>
            95+
          </td>
        </tr>

        <tr>
          <td>
            Page load duration
          </td>

          <td>
            0-74.9
          </td>

          <td>
            75-86.9
          </td>

          <td>
            87-94.9
          </td>

          <td>
            95+
          </td>
        </tr>

        <tr>
          <td>
            Page rendering duration
          </td>

          <td>
            0-74.9
          </td>

          <td>
            75-86.9
          </td>

          <td>
            87-94.9
          </td>

          <td>
            95+
          </td>
        </tr>

        <tr>
          <td>
            Queue duration
          </td>

          <td>
            0-74.9
          </td>

          <td>
            75-86.9
          </td>

          <td>
            87-94.9
          </td>

          <td>
            95+
          </td>
        </tr>

        <tr>
          <td>
            Secure handshake duration
          </td>

          <td>
            0-96.9
          </td>

          <td>
            97-97.9
          </td>

          <td>
            98-98.9
          </td>

          <td>
            99+
          </td>
        </tr>

        <tr>
          <td>
            Web app duration
          </td>

          <td>
            0-74.9
          </td>

          <td>
            75-86.9
          </td>

          <td>
            87-94.9
          </td>

          <td>
            95+
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser
    id="usage-ranges"
    title="Usage color ranges"
  >
    Percentile colors for usage counts appear as shades of purple, from lightest (lowest usage) to darkest (highest usage).

    <table>
      <thead>
        <tr>
          <th>
            **Usage percentile ranges (lowest to highest)**
          </th>

          <th style={{ width: "110px" }}>
            **Lightest purple**
          </th>

          <th style={{ width: "110px" }}>
            **Light purple**
          </th>

          <th style={{ width: "110px" }}>
            **Darker purple**
          </th>

          <th style={{ width: "110px" }}>
            **Darkest purple**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Page load count
          </td>

          <td>
            0-79.9
          </td>

          <td>
            80-89.9
          </td>

          <td>
            90-99.9
          </td>

          <td>
            100
          </td>
        </tr>

        <tr>
          <td>
            Unique sessions count
          </td>

          <td>
            0-79.9
          </td>

          <td>
            80-89.9
          </td>

          <td>
            90-99.9
          </td>

          <td>
            100
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>
