---
title: Filter log ingest
metaDescription: "Test"
---

import logsIngestPipeline from 'images/logs_diagram_ingest-pipeline.webp'

import logsDropFilterSelection1 from 'images/logs_screenshot-full_drop-filter-selection-1.webp'

import logsAttribute from 'images/logs_screenshot-full_drop-filter-attribute.webp'

import logsDrop from 'images/logs_screenshot-drop-log.webp'

import logsIntro from 'images/logs_screenshot-full_intro.webp'


As we've talked about before, modern systems create massive amounts of logs. Not all of those are useful. In fact, there's a high chance when you look at your logs you'd find *most* aren't useful.


<SideBySide>
    <Side>

New Relic provides the ability to create rule sets that look at your logs and ignore logs that you haven't selected for ingest. This has a few key benefits:


* Lower costs by storing only the logs relevant to your account.
* Lower costs by dropping specific attributes 
* Reduce toil by only storing valuable logs.

    </Side>
    <Side>

<img
  title="Logs architecture for drop filters in New Relic"
  alt="Diagram of logs architecture for drop filters in New Relic"
  src={logsIntro}
/>

    </Side>
</SideBySide>


## How drop filter rules work [#how-it-works]

A drop filter rule matches data based on a query. When triggered, the drop filter rule removes the matching data from the ingestion pipeline before it is written to the New Relic database (NRDB).

This creates an explicit demarcation between the logs being forwarded from your domain and the data that New Relic collects. Since the data removed by the drop filter rule doesn't reach our backend, it cannot be queried: the data is gone and cannot be restored.

## Decide which logs to drop [#decide]

Deciding which logs to keep and which logs to drop is a highly specific decision for each team and organization. Logs valuable to one organization may not be valuable to another. Regardless, here are a few suggestions on how to decide which logs are valuable and which to drop:

* **What logs do your team already use**: If your team already manually reviews a subset of logs regularly, that indicates those logs are valuable and should not be dropped. Likewise, if there is a set of lgos your team never looks at that might indicate they should be dropped.
* **What apps and systems are producing the most logs**: an app or system that creates a large amount of logs indicates you should spend time deciding what to do with those logs. Is it a valuable and widely used app which indicates you should keep most of the logs? Is it a redundent system which is spewing logs with minimal value? 

Do take note that while an app or system may be rarely used, that doesn't mean logs are always not valuable. You would hate to drop logs from an application that is barely used only for that application to go down in a few months with no easy way to troubleshoot. 

<img
  title="Logs architecture for drop filters in New Relic"
  alt="Diagram of logs architecture for drop filters in New Relic"
  src={logsIngestPipeline}
/>

<figcaption>
  During the ingestion process, customer log data can be parsed, transformed, or dropped before being stored in the New Relic database (NRDB).
</figcaption>

## Filter your log ingest [#filter-steps]

The following steps will guide you through how to drop logs in the New Relic UI.


Let's say Acme Corp creates 2TB of logs each day. They decide this too many logs to ingest for both cost and usability reasons. They take a look at their logs and realize over half of their daily logs are from a legacy Node.js application. While they need to keep the app around, they don't care for the logs created by this app. They decided to drop all logs created from the Node app.


<Steps>
    <Step>
        ### Navigate to the UI

        Go to **[one.newrelic.com > Logs](https://one.newrelic.com/launcher/logger.log-launcher)**
    </Step>
    <Step>
        ### Create your drop rule

        Filter or query to the specific set of logs that contain the data to be dropped.

        There are a few ways to do this, but the easiest is to query for the logs you want to drop. In this case, ACME Corp would do the following:


<SideBySide>
    <Side>

        1. Select **All partitions** near the search bar
        2. Enter their query. In this case `logtype=node` 
        3. Press enter and confirm the correct logs appear. 
        4. Once the query is active, from **Manage data** on the left nav of the Logs UI, click **Create drop filter**.
        5. Give the drop rule a meaningful name.
        6. Save the drop filter rule.
    </Side>
    <Side>
        <img
        title="Query log "
        alt="An image showing how to query for the logs you will drop"
        src={logsDrop}
         />
    </Side>
</SideBySide>

    </Step>

    <Step>
        ### Drop attributes

        ACME Corp still wants to reduce their ingest. They decided that they don't need certain attributes in their stored logs, so they decide to drop attributes such as `purchase_order`.

<SideBySide>
    <Side>

        1. In **All logs** click on a log that contains the attribute you want to drop to open log detail view.
        2. Click on the attribute you want to drop to open the attribute menu. In this case `purchase_order`.
        3. Click **Create drop filter from attribute**.
        4. Give the drop rule a meaningful name.
        5. Save the drop filter rule.    
    </Side>
    <Side>
        <img
        title="Query attribute"
        alt="An image showing how to query for the attributes you will drop"
        src={logsAttribute}
         />
    </Side>
</SideBySide>
    </Step>
</Steps>

Repeate the above steps as many times as required until you're happy with your log ingest. If you need help querying for logs and attributes, [check out our doc on log specific syntax](/docs/logs/ui-data/query-syntax-logs/).

<DocTiles numbered>
  <DocTile title='Get started' path="/docs/journey-large-logs/get-started" ></DocTile>
  <DocTile title='Filter and reduce your log ingest'  label={{text: 'You are here', color: '#FCD672'}}   path="/docs/journey-large-logs/filter" ></DocTile>
</DocTiles>

<DocTiles>
  <DocTile title='Organize your logs' number='3'path="/docs/journey-large-logs/organize" ></DocTile>
</DocTiles>