---
title: Send Snyk data to New Relic
metaDescription: 'Send your security data from Snyk directly to New Relic.'
freshnessValidatedDate: never
---

This guide describes how to integrate New Relic Security RX with <DNT>Snyk</DNT> Webhooks. Webhooks in <DNT>Snyk</DNT> are a beta feature only available for <DNT>Snyk's Business</DNT> or Enterprise customers. As a beta feature, the <DNT>Webhook API</DNT> and structure may change without notice, so please exercise discretion when using Webhooks for automation in your security processes.

While we will make every effort to keep in sync with changes to <DNT>Snyk Webhooks</DNT>, if you notice that we've fallen out of step, let us know.

After completion of these steps, you will see new vulnerabilities detected by <DNT>Snyk</DNT> in your New Relic account in real time, and you'll be able to build out analytics dashboards newly detected issues.

For more information, see the [official <DNT>Snyk</DNT> documentation](https://snyk.docs.apiary.io/#reference/webhooks).

## Prerequisites [#prereqs]

* A <DNT>Snyk</DNT> API Token
* New Relic <InlinePopover type="licenseKey"/>
* You must be a <DNT>Snyk</DNT> organization administrator to configure Webhooks via API

## Webhook configuration [#webhook-config]

To configure your webhook, go through the following steps:

<Steps>
  <Step>
    ### Get your Snyk API token[#snky-API-token]

    In the Snyk UI, under the user menu, click <DNT>**Account settings**</DNT> and copy your <DNT>Snyk</DNT> API Token key. Read more in the [official Snyk documentation](https://docs.snyk.io/snyk-admin/snyk-broker/snyk-broker-code-agent/setting-up-the-code-agent-broker-client-deployment/step-1-obtaining-the-required-tokens-for-the-setup-procedure/obtaining-your-snyk-api-token).
  </Step>

  <Step>
    ### New Relic <DNT>**License - Insert**</DNT> license key[#nr-license-key]

    Select a <DNT>**License - Insert**</DNT> <InlinePopover type="licenseKey"/> in your New Relic account, or create a new one.

    <Callout variant="important">
      In addition to your <DNT>Snyk</DNT> and New Relic keys, you need to generate a random signing secret. This is required by Snyk but not used by New Relic when receiving data.
    </Callout>
  </Step>

  <Step>
    ### Compile Snyk organization IDs[#sny-org-ids]

    Get a list of the <DNT>Snyk</DNT> organization IDs you have access to by running the following command:

    ```shell
    curl -H "content-type: application/json" \
      -H "authorization: token YOUR_SNYK_API_TOKEN" \
      "https://api.snyk.io/api/v1/orgs" | jq -r '.orgs[] | "\(.id)\t\(.name)"'
    ```

    <Callout variant="important">
      To run this command, you need to install [jq](https://stedolan.github.io/jq/), a command-line JSON processor.
    </Callout>
  </Step>

  <Step>
    ### Create a webhook in each Snyk organization [#create-webhook]

    You must configure a webhook separately for each <DNT>Snyk</DNT> organization.

    Run the following command to create a webhook that will post to the security ingest processor at New Relic every time a project is tested. This gets sent through the [project_snapshot](https://snyk.docs.apiary.io/#introduction/consuming-webhooks/event-types) event type.

    ```shell
    curl -X POST -H "content-type: application/json" \
      -H "authorization: token <SNYK_API_TOKEN>" \
      --data '{"url": 
          "https://security-ingest-processor.service.newrelic.com/v1/security/webhooks/snyk?Api-Key=YOUR_NEW_RELIC_LICENSE_KEY",
          "secret": "YOUR_SIGNING_SECRET"}' \
      "https://api.snyk.io/api/v1/org/<SNYK_ORG_ID>/webhooks"
    ```

    <Callout variant="important">
      If you're using an EU license key, use the EU endpoint: `https://security-ingest-processor.service.eu.newrelic.com/v1/security/webhooks`.
    </Callout>
  </Step>

  <Step>
    ### Test a webhook connection [#confirm-webhook]

    The following command returns an array of results with a webhook ID and url for each configured webhook in the organization:

    ```shell
    curl -H "content-type: application/json" \
      -H "authorization: token YOUR_SNYK_API_TOKEN" \
      "https://api.snyk.io/api/v1/org/YOUR_SNYK_ORG_ID/webhooks"
    ```

    To test a webhook, copy the ID from the webhook you want to test, and run the following command:

    ```shell
    curl -X POST --data "" -H "content-type: application/json" \
      -H "authorization: token YOUR_SNYK_API_TOKEN" \
      "https://api.snyk.io/api/v1/org/YOUR_SNYK_ORG_ID/webhooks/YOUR_WEBHOOK_ID/ping"
    ```

    The command will return `OK` if you've set up the webhook correctly.
  </Step>
</Steps>

## Test a Webhook manually [#webhook-test]

You might need to trigger a manual scan of a project within <DNT>Snyk</DNT> to get data flowing into New Relic. You can do this through the <DNT>Snyk</DNT> CLI or API, or from the <DNT>Snyk</DNT> UI, by clicking <DNT>**Retest now**</DNT> on a scan target within a project.

Check the official <DNT>Snyk</DNT> documentation on [running manual tests](https://docs.snyk.io/getting-started/running-tests#run-tests-manually).

<img
  title="Test a webhook manually"
  alt="Test a webhook manually"
  src="/images/vulnerability-management_screenshot-crop_test-webhook.webp"
/>

<figcaption>
  Click <DNT>**Retest now**</DNT> on a scan target within a project.
</figcaption>

## Verify that your Snyk data is sent to New Relic [#verify-snyk-sending]

Check logs in New Relic to verify that the <DNT>Snyk</DNT> findings from your manual test were successfully delivered by entering `logtype:security` to filter for security events.

1. Go to <DNT>**[one.newrelic.com](https://one.newrelic.com) > All capabilities > Logs**</DNT>.
2. In the search bar, enter `logtype:security` and click <DNT>**Query logs**</DNT>.

<img
  title="Logs screen"
  alt="Logs screen"
  src="/images/vulnerability-management_screenshot-crop_verify-snyk-data.webp"
/>

<figcaption>
  <DNT>
    **[one.newrelic.com](https://one.newrelic.com) > All capabilities > Logs**
  </DNT>
</figcaption>

The Snyk Webhook transports only return <DNT>**New Issues**</DNT> and <DNT>**Removed Issues**</DNT> that occur with each test. New Relic will parse only the <DNT>**New Issues**</DNT>. If the manual test doesn't reveal any new issues, you won't see any new security logs in New Relic. In this case, you'll see a log message in New Relic for the successful webhook transport along the lines of:

```sql
SnykWebhook scan reported 879 byte payload with 0 events (0 unique issue ids) from '' errors=no
```

## View Snyk data in New Relic [#view-data-NR]

Once you have one or more webhook events configured, you can view the results of <DNT>Snyk</DNT> webhook being sent to our security ingest endpoint in New Relic.

Check out the 3 ways you can use to identify <DNT>Snyk</DNT> data in New Relic:

### Viewing data in Security RX [#view-data]

You can find this page at <DNT>**[one.newrelic.com](https://one.newrelic.com) > All capabilities > Security RX**</DNT>.

This view gives you a birds-eye view of all your software's vulnerabilities, including any data that's been consumed from the <DNT>Snyk</DNT> integration. Use the various tabs to identify and triage vulnerabilities.

<img
  title="Vulnerability Management overview"
  alt="An image showing the summary Vulnerability Management overview page."
  src="/images/security_screenshot-full_security-overview.webp"
/>


<figcaption>
  <DNT>**[one.newrelic.com](https://one.newrelic.com) > All capabilities > Security RX**</DNT>.
</figcaption>

### Querying vulnerability events [#query-vuln-events]

When <DNT>Snyk</DNT> events are processed, they're stored in the <DNT>**Vulnerability**</DNT> table. To query this table and view the raw data, do the following:

1. Go to <DNT>**[one.newrelic.com](https://one.newrelic.com) > All capabilities > Query your data**</DNT>.
2. Enter the following query:

   ```sql
   FROM Vulnerability SELECT * WHERE source = 'Snyk' SINCE 7 days ago
   ```

   <img
     title="Query vulnerability events"
     alt="Query vulnerability events"
     src="/images/vulnerability-management_screenshot-full_query-vuln-events.webp"
   />

   <figcaption>
     <DNT>
       **[one.newrelic.com](https://one.newrelic.com) > All capabilities > Query your data**
     </DNT>
   </figcaption>

### Snyk dashboard [#snyk-dashboard]

You can install the pre-built <DNT>Snyk</DNT> dashboard from the [New Relic Instant Observability marketplace](https://newrelic.com/instant-observability/snyk).

This dashboard offers another view into vulnerability data, and you can use the chart widgets to build your own dashboard views from your Snyk integration data.

<img
  title="Snyk dashboard"
  alt="Snyk dashboard"
  src="/images/vm_screenshot-full_snyk-dashboard.webp"
/>

<figcaption>
  Install the [Instant Observability Snyk dashboard](https://newrelic.com/instant-observability/snyk).
</figcaption>
