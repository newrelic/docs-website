---
title: Long-term log storage with live archives
tags:
 - Logs
 - Log management
 - Get started
translate:
 - jp
 - kr
metaDescription: 'Store your logs with New Relic for up to seven years using live archives.'
redirects:
 - /docs/logs/get-started/log-live-archives


signupBanner:
 text: Monitor and improve your entire stack. 100GB free. Forever.
freshnessValidatedDate: never
---

Live archives allows you to store logs for as long as you need. New Relic has a thirty-day retention for logs by default, but with live archives, you can extend that period for up to seven years. Like old tax documents, sometimes you don't need your data close at hand, but it's safe to keep the information available for reference if needed.

Is live archives for you? Here are some use cases where you might benefit from this feature:

* <DNT>**Internal retention requirements**</DNT>: Does your company have a policy that requires you to keep logs for a certain period? The extended storage periods of live archives may help you meet your requirements.
* <DNT>**Trends and long-term debugging**</DNT>: Long-term log storage can help improve year-over-year performance. For example, if you manage a retail company, you can compare logs from one holiday season to the next to see how you can improve performance.

## How live archives works [#how-it-works]

The live archives feature offers long-term log data storage that you intend to query sparingly for a lower storage cost. With live archives, you can have peace of mind knowing your logs are available for a longer period for potential audits or long-term debugging, but you will be charged separately for storage and querying your old data.

## Get started

<Steps>
  <Step>
    ### Enable live archives [#enable]

    First, you need to request live archives capabilities.

    1. On the <DNT>**Data retention**</DNT> UI page, located in the [data management hub](https://one.newrelic.com/data-management-hub).
    2. Scroll down to <DNT>**Logging live archives**</DNT>.
    3. Hit <DNT>**Request**</DNT>. A member of our team will reach out to you.
  </Step>

  <Step>
    Once you've enabled live archives, you need to edit your data retention.

    1. On the <DNT>**Data retention**</DNT> UI page, located in the [data management hub](https://one.newrelic.com/data-management-hub) select <DNT>**Edit data retention**</DNT>.
    2. Scroll down to <DNT>**Logging live archives**</DNT> and enter the total number of days you'd like your data stored. Keep in mind that this includes the standard retention days.
    3. Click <DNT>**Apply changes**</DNT>.

    Keep in mind that you will need [Admin capabilities](/docs/accounts/accounts-billing/new-relic-one-user-management/user-management-concepts/#roles) to edit data retention.

    <img
      title="edit data retention"
      alt="A screenshot showing users how to edit their data retention."
      src="/images/logs_screenshot-crop_edit-data-retention-live-archives.webp"
    />
  </Step>

  <Step>
    ### Create a partition using live archives [#partitions]

    A partition is a way to group logs based on specific criteria. Creating partitions can help you filter out the logs you don't need and keep the ones you do with live archives.

    1. Go to <DNT>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**</DNT>.

    2. To the left of the logs query bar, click <DNT>**Data partitions**</DNT>, then click <DNT>**Create data partition**</DNT>.

    3. Define a Partition name as an alphanumeric string that begins with Log\_.

    4. Select the field <DNT>**Use live archives on this partition**</DNT>.

       <img
         title="create a live archives partition"
         alt="A screenshot showing a user how to create a partition using live archives"
         src="/images/logs_screenshot-crop_create-a-partition-using-live-archives.webp"
       />

       <figcaption>
         Go to <DNT>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs > Data partitions**</DNT> to create a partition using live archives.
       </figcaption>

    5. The <DNT>**Total effective retention**</DNT> days will be updated to reflect the regular retention _and_ the [live archives retention](/docs/logs/get-started/live-archives-billing/#what-counts).

    You can also edit an existing partition clicking the <Icon name="fe-more-horizontal"/> icon on the <DNT>**Data partitions**</DNT> page. If you use an existing partition, the same parameters that you selected for the original partition will apply to your live archive data.

    <img
      width="60%;"
      title="Edit a live archives partition"
      alt="A screenshot showing a user how to edit a partition using live archives"
      src="/images/logs_screenshot-crop_edit-data-partition-using-live-archives.webp"
    />

    For more information about how to use partitions, see our doc [Organize data with partitions](/docs/logs/ui-data/data-partitions/).
  </Step>

  <Step>
    ## Query your logs

    <Callout variant="important">
      Users can query logs in live archives if they have the Live archives query [permission](/docs/accounts/accounts-billing/new-relic-one-user-management/user-permissions/). Refer to [user management concepts](/docs/accounts/accounts-billing/new-relic-one-user-management/user-management-concepts/) for more information about using groups, roles, and permissions to control access to certain features.
    </Callout>

    There are a few ways to query live archives: Lucene, NRQL, or NRQL in the NerdGraph API. For all three methods, you'll need the **Live archives query** capability to query live archives.

    ### Query live archives with Lucene query syntax [#query]

    If you're familiar with Lucene query syntax, you can execute it in our <DNT>**Logs**</DNT> UI.

    1. Go to <DNT>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**</DNT>.
    2. Using the search bar, run your desired query. Practicing your query first is best to ensure it works as expected.
    3. Select the dates you'd like to query.
    4. A screen will show you that you're about to query live archives. Querying live archives is more expensive, so only select <DNT>**Query live archives**</DNT> if you're ready.

    <img
      title="lucene live archives"
      alt="A screenshot showing a user how to query live archives in the logs UI"
      src="/images/logs_live_archives_query_confirmation.webp"
    />

    <figcaption>
      Go to <DNT>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**</DNT> to query data stored with live archives.
    </figcaption>

    ### Query live archives with NRQL [#nrql]

    If you want to query using the same language you use for errors inbox or alerts, we suggest querying in NRQL.

    1. Go to <DNT>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**</DNT>.
    2. Click **NRQL** in the top right corner.
    3. Enter the NRQL query you want to run.
    4. Practice the query first to make sure it works as expected.
    5. Toggle <DNT>**Use live archives**</DNT>.
    6. A screen will show you that you're about to query live archives. Querying live archives is more expensive, so only select <DNT>**Query live archives**</DNT> if you're ready.

    <img
      title="nrql live archives"
      alt="A screenshot showing a user how to query live archives with NRQL"
      src="/images/logs_screenshot-crop_query-live-archives-nrql.webp"
    />

    <figcaption>
      Go to <DNT>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**</DNT>, then select <DNT>**NRQL**</DNT> to query data stored with live archives using the query builder.
    </figcaption>

    ### Query live archives using NerdGraph API [#api]

    You can also query your live archives data using NRQL in the NerdGraph API. You must include the `{eventNamespaces: "Logging:Archive"}` in the NRQL options to specify the live archives `eventNamespace`.

    Here is an example query:

    ```graphql
    query {
      actor {
        account(id: 1234567) {
          nrql(
            query: "SELECT count(*) FROM Log SINCE '2024-02-01 12:00:00' UNTIL '2024-02-01 13:00:00'"
            options: { eventNamespaces: "Logging:Archive" }
            async: true
          ) {
            results
          }
        }
      }
    }
    ```
  </Step>

  <Step>
    ### See your data consumption [#data-consumption]

    Live archives is billed differently than the rest of your logs. You can read more about it in our [Live archives storage: Billing and rules documentation](/docs/logs/get-started/live-archives-billing/). Live archives has three billing pillars.

    * <DNT>**Data**</DNT>: You will be charged for when you originally ingest the regular logs.
    * <DNT>**Storage**</DNT>: Live archives charges a fee for storing your data with live archives.
    * <DNT>**Compute**</DNT>: Queries of live archives data will be billed in Compute Capacity Units. See our [Usage plan documentation](/docs/licenses/license-information/usage-plans/new-relic-usage-plan/#list-price) for more information about Compute Capacity Units.

    To see your data storage  on the <DNT>**Plan & Usage**</DNT> page:

    1. Go to <DNT>**[one.newrelic.com](https://one.newrelic.com/)**</DNT>, click the user menu, and then click <DNT>**Administration**</DNT> to open the <DNT>**Plan & usage**</DNT> page.
    2. Scroll down to <DNT>**Retention (GB-month)**</DNT>.
    3. Click <DNT>**View more details**</DNT> for more information about the storage breakdown.

    Once you query live archives, you can explore your compute consumption in the consumption management hub.

    1. Go to <DNT>**[one.newrelic.com](https://one.newrelic.com/)**</DNT>, click the user menu, and then click <DNT>**Administration**</DNT>.
    2. Select <DNT>**Consumption management**</DNT>.
    3. Scroll down to <DNT>**Product capabilities**</DNT>.
    4. Select <DNT>**Logs**</DNT>.
    5. Facet by <DNT>**Data category**</DNT> to view compute consumption for live archives.
  </Step>
</Steps>

## Example [#examples]

Let's say you need to check if a user logged into a machine from their computer to fulfill a ticket on September 1st. You can use live archives to help confirm that this took place by completing the following steps:

1. Check the time frame that the user logged into their machine.
2. Test your query in <DNT>**Logs**</DNT> to ensure it's working as expected. This is a dry run and won't return any data, but you're just validating the query. If it works, you can then run the more expensive query on your archived logs.

   Example query:

   ```
   "logtype":"linux_audit" "type":"USER_LOGIN" "hostname":"apache_svr01"
   ```
3. Change the time selector to search for the dates the user logged into their machine.
4. Select <DNT>**Query live archives**</DNT>.

## Data deletion [#delete]

If at any point you want to reduce your data retention, please note:

* You will need Admin privileges to edit data retention.
* _You can't recover data if you reduce data retention later. Please choose and configure your retention periods carefully._
* Your data deletion is effective on the day you reduce your retention.
* You can request to delete your data for any given set of days. We'll delete all live archives data for the selected dates.
* Days start and end on UTC boundaries, so when making a request, ensure it aligns with UTC. This can mean adding or subtracting a day.

<Callout variant="important">
  For the avoidance of doubt, New Relic has no obligation to retain data in live archives after account downgrade or lapse in contract, or otherwise if you do not meet applicable commercial requirements.
</Callout>

<DocTiles>
  <DocTile
    title="Understand how live archives billing works"
    number="1"
    path="/docs/logs/get-started/live-archives-billing"
  />

  <DocTile
    title="Learn more about creating data partitions"
    number="2"
    path="/docs/logs/ui-data/data-partitions/"
  />

  <DocTile
    title="Query your logs"
    number="3"
    path="/docs/logs/ui-data/query-syntax-logs/"
  />
</DocTiles>
