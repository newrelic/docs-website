---
title: Long-term log storage with live archives
tags:
 - Logs
 - Log management
 - Get started
translate:
 - jp
 - kr
metaDescription: 'Store your logs with New Relic for up to seven years using live archives.'
redirects:
 - /docs/logs/get-started/log-live-archives


signupBanner:
 text: Monitor and improve your entire stack. 100GB free. Forever.
freshnessValidatedDate: never
---


import logsEditDataRetentionLiveArchives from 'images/logs_screenshot-crop_edit-data-retention-live-archives.webp'


import logsCreateaPartitionUsingLiveArchives from 'images/logs_screenshot-crop_create-a-partition-using-live-archives.webp'


import logsQueryLiveArchivesNrql from 'images/logs_screenshot-crop_query-live-archives-nrql.webp'


import logsLuceneLiveArchives from 'images/logs_screenshot-crop_lucene-live-archives.webp'


import logsEditDataPartitionUsingLiveArchives from 'images/logs_screenshot-crop_edit-data-partition-using-live-archives.webp'


Live archives allows you to store logs for as long as you need. New Relic has a thirty-day retention for logs by default, but with live archives, you can extend that period for up to seven years. Like old tax documents, sometimes you don't need your data close at hand, but it's safe to keep the information available for reference if needed.


Is live archives for you? Here are some example use cases:


* <DoNotTranslate>**Internal retention requirements**</DoNotTranslate>: Have an internal retention period where you would like to keep logs and be able to query them only when necessary? Live archives can help with extended storage and querying capability.
* <DoNotTranslate>**Trends and long-term debugging**</DoNotTranslate>: Long term log storage can help improve year-over-year performance. For example, if you manage a retail company, comparing logs from one holiday season to the next can improve performance.


## How live archives works [#how-it-works]


The live archives feature offers long-term log data storage that you intend to query sparingly for a lower storage cost. With live archives, you can have peace of mind knowing your logs are available for a longer period for potential audits or long-term debugging, but you will only be charged for querying when you _query old data_.


## Get started
<Steps>
<Step>
### Enable live archives [#enable]


First, you need to request live archives capabilities. 


1. On the <DoNotTranslate>**Data retention**</DoNotTranslate> UI page, located in the [data management hub](https://one.newrelic.com/data-management-hub).
2. Scroll down to <DoNotTranslate>**Logging live archives**</DoNotTranslate>.
3. Hit <DoNotTranslate>**Request**</DoNotTranslate>. A member of our team will reach out to you.


Once you've enabled live archives, you need to edit your data retention.


1. On the <DoNotTranslate>**Data retention**</DoNotTranslate> UI page, located in the [data management hub](https://one.newrelic.com/data-management-hub) select <DoNotTranslate>**Edit data retention**</DoNotTranslate>.
2. Scroll down to <DoNotTranslate>**Logging live archives**</DoNotTranslate> and enter the total number of days you'd like your data stored. Keep in mind that this includes the standard retention days.
3. Click <DoNotTranslate>**Apply changes**</DoNotTranslate>.


Keep in mind that you will need [Admin capabilities](/docs/accounts/accounts-billing/new-relic-one-user-management/user-management-concepts/#roles) to edit data retention.


<img
   title= "edit data retention"
   alt= "A screenshot showing users how to edit their data retention."
   src={logsEditDataRetentionLiveArchives}
/>


<figcaption>
 Go to <DoNotTranslate>**one.newrelic.com > [Data management hub](https://one.newrelic.com/data-management-hub) > Data retention > Select logging live archives > Edit data retention**</DoNotTranslate>: Select your archive duration to store your logs for as long as you need.
</figcaption>
</Step>


<Step>
### Create a partition using live archives [#partitions]

A partition is a way to group logs based on specific criteria. Creating partitions can help you filter out the logs you don't need and keep the ones you do with live archives.

1. Go to <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**</DoNotTranslate>.
2. To the left of the logs query bar, click <DoNotTranslate>**Data partitions**</DoNotTranslate>, then click <DoNotTranslate>**Create data partition**</DoNotTranslate>.
3. Define a Partition name as an alphanumeric string that begins with Log_.
4. Select the field <DoNotTranslate>**Use live archives on this partition**</DoNotTranslate>.
5. The <DoNotTranslate>**Total effective retention**</DoNotTranslate> days will be updated to reflect the regular retention _and_ the [live archives retention](/docs/logs/get-started/live-archives-billing/#what-counts).

<img
   title= "create a live archives partition"
   alt= "A screenshot showing a user how to create a partition using live archives"
   src={logsCreateaPartitionUsingLiveArchives}
/>

<figcaption>
   Go to <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs > Data partitions**</DoNotTranslate> to create a partition using live archives.
</figcaption>

You can also edit an existing partition clicking the <Icon name="fe-more-horizontal"/> icon on the <DoNotTranslate>**Data partitions**</DoNotTranslate> page.

<img
   width="60%;"
   title= "Edit a live archives partition"
   alt= "A screenshot showing a user how to edit a partition using live archives"
   src={logsEditDataPartitionUsingLiveArchives}
/>

</Step>

<Step>
### Query live archives with logs syntax [#query]

There are two ways to query live archives: with Lucene or NRQL. If you want to use logs syntax that you're familiar with outside of New Relic, we suggest querying in the <DoNotTranslate>**Logs**</DoNotTranslate> UI. You'll need the **Live archives query** capability to query live archives.

1. Go to <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**</DoNotTranslate>.
2. Using the search bar, run your desired query. Practicing your query first is best to ensure it works as expected.
3. Select the dates you'd like to query.
4. A screen will show you that you're about to query live archives. Querying live archives is more expensive, so only select <DoNotTranslate>**Query live archives**</DoNotTranslate> if you're ready.

<img
   title= "lucene live archives"
   alt= "A screenshot showing a user how to query live archives in the logs UI"
   src={logsLuceneLiveArchives}
/>

<figcaption>
   Go to <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**</DoNotTranslate> to query data stored with live archives.
</figcaption>

</Step>


<Step>
### Query live archives with NRQL [#nrql]

If you want to query using the same language you use for errors inbox or alerts, we suggest querying in NRQL. You'll need the **Live archives query** capability to query live archives.

1. Go to <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**</DoNotTranslate>.
2. Enter the NRQL query you want to run.
3. Practice the query first to make sure it works as expected.
4. Toggle <DoNotTranslate>**Use live archives**</DoNotTranslate>.
5. A screen will show you that you're about to query live archives. Querying live archives is more expensive, so only select <DoNotTranslate>**Query live archives**</DoNotTranslate> if you're ready.

<img
   title= "nrql live archives"
   alt= "A screenshot showing a user how to query live archives with NRQL"
   src={logsQueryLiveArchivesNrql}
/>

<figcaption>
   Go to <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**</DoNotTranslate>, then select <DoNotTranslate>**NRQL**</DoNotTranslate> to query data stored with live archives using the query builder.
</figcaption>
</Step>

<Step>
### Query live archives using Nerdgraph API [#api]

You can also query your live archives data using the Nerdgraph API. You'll need the **Live archives query** capability to query live archives. You must include the `{eventNamespaces: "Logging:Archive"}` in the NRQL options to specify the live archives `eventNamespace`.  

Here is an example query:

```
query {
  actor {
    account(id: 1234567) {
      nrql(
        query: "SELECT count(*) FROM Log SINCE '2024-02-01 12:00:00' UNTIL '2024-02-01 13:00:00'"
        options: {eventNamespaces: "Logging:Archive"}
        async: true
      ) {
        results
      }
    }
  }
}
```
</Step>

<Step>
### See your data consumption [#data-consumption]

Live archives is billed differently than the rest of your logs. You can read more about it in our [Live archives storage: Billing and rules documentation](/docs/logs/get-started/live-archives-billing/). Live archives has three billing pillars.


* <DoNotTranslate>**Data**</DoNotTranslate>: You will be charged for when you originally ingest the regular logs.
* <DoNotTranslate>**Storage**</DoNotTranslate>: Live archives charges a fee for storing your data with live archives.
* <DoNotTranslate>**Compute**</DoNotTranslate>: Queries of live archives data will be billed in Compute Capacity Units. See our [Usage plan documentation](https://docs.newrelic.com/docs/licenses/license-information/usage-plans/new-relic-usage-plan/#list-price) for more information about Compute Capacity Units.

To see your data storage  on the <DoNotTranslate>**Plan & Usage**</DoNotTranslate> page:

1. Go to <DoNotTranslate>**[one.newrelic.com](https://one.newrelic.com/)**</DoNotTranslate>, click the user menu, and then click <DoNotTranslate>**Administration**</DoNotTranslate> to open the <DoNotTranslate>**Plan & usage**</DoNotTranslate> page. 
2. Scroll down to <DoNotTranslate>**Retention (GB-month)**</DoNotTranslate>.
3. Click <DoNotTranslate>**View more details**</DoNotTranslate> for more information about the storage breakdown.

Once you query live archives, you can explore your compute consumption in the compute management hub.

1. Go to <DoNotTranslate>**[one.newrelic.com](https://one.newrelic.com/)**</DoNotTranslate>, click the user menu, and then click <DoNotTranslate>**Administration**</DoNotTranslate>. 
2. Select <DoNotTranslate>**Compute management**</DoNotTranslate>.
3. Scroll down to <DoNotTranslate>**Product capabilities**</DoNotTranslate>.
4. Select <DoNotTranslate>**Logs**</DoNotTranslate>.
5. Facet by <DoNotTranslate>**Data category**</DoNotTranslate> to view compute consumption for live archives.
</Step>
</Steps>


## Example [#examples]

Let's say you need to check if a user logged into a machine from their computer to fulfill a ticket on September 1st. You can use live archives to help confirm that this took place by completing the following steps:

1. Check the time frame that the user logged into their machine.
2. Test your query in <DoNotTranslate>**Logs**</DoNotTranslate> to ensure it's working as expected.

Example query:
```
"logtype":"linux_audit" "type":"USER_LOGIN" "hostname":"apache_svr01"
```
3. Change the time selector to search for the dates the user logged into their machine.
4. Select <DoNotTranslate>**Query live archives**</DoNotTranslate>.

## Data deletion [#delete]

If at any point you want to reduce your data retention, please note:

* You will need Admin privileges to edit data retention.
* _You can't recover data if you reduce data retention later. Please choose and configure your retention periods carefully._
* Your data deletion is effective on the day you reduce your retention.
* You can request to delete your data for any given set of days. We'll delete all live archives data for the selected dates.
* Days start and end on UTC boundaries, so when making a request, ensure it aligns with UTC. This can mean adding or subtracting a day.

<Callout variant="important">
   For the avoidance of doubt, New Relic has no obligation to retain data in live archives after account downgrade or lapse in contract, or otherwise if you do not meet applicable commercial requirements.
</Callout>


<DocTiles>
 <DocTile title='Understand how live archives billing works' number='1' path="/docs/logs/get-started/live-archives-billing" ></DocTile>
 <DocTile title='Learn more about creating data partitions' number='2' path="/docs/logs/ui-data/data-partitions/"></DocTile>
 <DocTile title='Query your logs' number='3' path="/docs/logs/ui-data/query-syntax-logs/" ></DocTile>
</DocTiles>




