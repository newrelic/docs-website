---
title: Fluent Bit health monitoring on Kubernetes clusters
tags:
  - Health management configuration for Fluent Bit on Kubernetes
  - Fluent Bit on Kubernetes cluster
metaDescription: '
  Monitor the health of Fluent Bit log collector on your Kubernetes clusters. Set up, monitor, and update Fluent Bit configurations.
  '
freshnessValidatedDate: never
---

<Callout title="preview">
  We're still working on this feature, but we'd love for you to try it out!

  This feature is currently provided as part of a preview program pursuant to our [pre-release policies](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

From the New Relic platform, you can arrive at the health monitoring UI of your Fluent Bit agent on Kubernetes clusters in the following ways:

<CollapserGroup>
<Collapser id="via-integration-and-agents" title="Via Integrations & Agents">
 1. Open the **Installed** tab. You’ll see the list of agents and integrations currently installed.
 2. Use the <dnt>**Search entities**</dnt> field or the <dnt>**Type**</dnt> filter to narrow down the list to Fluent Bit agents.
 3. Select the agent that you want to monitor.
</Collapser>
<Collapser id="via-all-entities" title="Via All Entities">
 1. Under the **Fluent Bit - Kubernetes** group, find the agent that you want to monitor.
 2. Select the agent.
</Collapser>
<Collapser id="via-fleet" title="Via Fleet">
 1. In <dnt>**New Relic Control**</dnt>, open **Fleets**.
 2. Identify and select the fleet that has the Fluent Bit instrumentation.
 3. On the <dnt>**Agents**</dnt> tab, select the Fluent Bit agent.
</Collapser>
</CollapserGroup>

<img
  title="Log collector health monitoring UI"
  alt="Log collector health monitoring UI"
  src="/images/log-collector-health-monitoring.webp"
/>

<figcaption>
  <DNT>**[one.newrelic.com](https://one.newrelic.com) > Integrations & Agents > Installed**</DNT>: From the Installed tab, you can filter down the log collector by name, and select it to view the health monitoring UI.
</figcaption>

If you are on the basic level of health monitoring that by default comes with the Fluent Bit agent, then you will be getting only the essential metrics in 10 minutes interval that are necessary to ensure the log forwarder entity is operational. You can upgrade to the advanced level of health monitoring to get a comprehensive set of metrics in 1 minute interval that provides a detailed overview of the log forwarder's performance and status. You can also opt out of health monitoring if you do not want any health monitoring for your log collectors.

Due to the ingestion of Fluent Bit health monitoring metrics, the ingested data volume increases and is charged on a per GB basis, as specified in your Order. Following is a monthly estimate of data ingested from a single Fluent Bit instance for each monitoring level:

- **Essential monitoring:** 0.003 GB
- **Advanced monitoring:** 1 GB

## Upgrade the Fluent Bit health monitoring level [#upgrade-fluent-bit-health-monitoring-level]

To upgrade the health monitoring level to Advanced monitoring, modify the Fluent Bit configuration in any one of the following ways:

* [Configuration in Kubernetes environment](#configuration-in-kubernetes-environment)
* [Remote configuration via Fleet Control](#modify-and-deploy-config-via-fleet-control)

  ### Modify configuration in Kubernetes environment [#modify-in-kubernetes-environment]
  If you are not using the New Relic Control solution, you can modify the Fluent Bit configuration directly in your Kubernetes environment. Locate the `values.yaml` file and set the `fluentBitMetrics` field to `advanced`. Then, apply the changes to your Kubernetes cluster using the following command:

              ```shell
              helm upgrade RELEASE_NAME newrelic/nri-bundle \
                --namespace NEWRELIC_NAMESPACE \
                -f values-newrelic.yaml \
                [--version fixed-chart-version]
              ```

If there are multiple Kubernetes environments with Fluent Bit agents, you need to repeat this process in each one.


  ### Modify configuration via Fleet Control [#modify-via-fleet-control]
  If you have already opted in to the [New Relic Control](/docs/new-relic-control/getting-started/) solution, and installed [Agent Control](/docs/new-relic-control/agent-control/setup/) on your Kubernetes clusters, using [Fleet Control](/docs/new-relic-control/fleet-control/overview) you can remotely modify your Fluent Bit configuration from the New Relic platform and deploy it to a fleet of environments. The high-level steps to modify the Fluent Bit configuration are as follows:

<Steps>

<Step>
  #### Modify the configuration [#modify-the-configuration]

  To create a Fluent Bit configuration, follow these steps:
  1. In New Relic, go to <dnt>**All Capabilities**</dnt>, search for <dnt>**New Relic Control**</dnt>, and then pin it to the side.
  2. In <dnt>**New Relic Control**</dnt>, open <dnt>**Configurations**</dnt> and look for the existing Fluent Bit configuration on Kuberneties.
  3. To edit your configuration, select the three dots (…) next to it and click **Edit configuration**.
  4. In the configuration editor, set the `fluentBitMetrics` field to `advanced` and click **Save**.
</Step>

<Step>
  #### Create a deployment [#create-a-deployment]

  To deploy the Fluent Bit configuration to your Kubernetes cluster, follow these steps:
  1. In New Relic Control, open **Fleets**.
  2. Select the fleet you want to modify the Fluent Bit configuration for.
  3. Click **Create a deployment**.
  4. On the New deployment page, enter a deployment name and description, and then click **Add a configuration**.
  5. Select **Fluent Bit** as the agent type, select the configuration you want to deploy, and then click **Next**.
  6. Select the configuration version. 
  <Callout variant="important">
    A configuration can have multiple versions. Choose the version you want to deploy. For a newly created configuration, you’ll have only one version.
  </Callout>
  7. Click **Add to deployment**.
  <Callout variant="important">
    Ensure the fleet has at least one managed entity. Or, add one.
  </Callout>
  8. Click **Start deployment**. 
</Step>

<Step>
#### View fleet [#view-fleet]
  In Fleets, select the specific fleet you want to work with. This opens the fleet detail page. The Summary tab shows the entities that are part of your fleet. To view agent or deployment details, use the Agents or the Deployments tab.
</Step>

</Steps>

After the deployment is complete, the Fluent Bit agent will start sending advanced health monitoring metrics to New Relic in a 1 minute scrape interval. You can view these metrics in the helth monitoring UI of the Fluent Bit agent.

## Opt out of health monitoring [#opt-out-health-monitoring]
If you want to opt out of health monitoring for your Fluent Bit agent, perform the same step as [upgrading the health monitoring level](#upgrade-fluent-bit-health-monitoring-level), but set the `fluentBitMetrics` field to `none` in the `values.yaml` file or in the Fleet Control configuration editor. This will disable health monitoring for your Fluent Bit agent.

## Related topics [#related-topics]

<DocTiles>
  <DocTile title="Monitor the health and performance of the Fluent Bit agent" path="/docs/logs/log-collectors-health-monitoring/fluent-bit-heath-monitoring/log-collector-management.mdx" >Learn how to monitor the health and performance of the Fluent Bit agent.</DocTile>
  <DocTile title="Upgrade your Fleunt Bit version" path="/docs/logs/log-collectors-health-monitoring/fluent-bit-heath-monitoring/upgrade-fb.mdx" >Learn how to upgrade your Fleunt Bit version.</DocTile>
  <DocTile title="Troubleshoot common issues" path="/docs/logs/log-collectors-health-monitoring/fluent-bit-heath-monitoring/troubleshooting.mdx" >Learn how to troubleshoot common issues with Fluent Bit health monitoring.</DocTile>
  <DocTile title="Overview of log collector health monitoring" path="/docs/logs/log-collectors-health-monitoring/overview">Learn about the log collector health monitoring solution.</DocTile>
</DocTiles>
