---
title: Query Pixie data
tags:
  - Pixie Auto-telemetry
  - Service monitoring
  - Kubernetes
  - eBPF
metaDescription: "Learn how to query Pixie data using the query builder and NerdGraph API"
redirects:
  - /docs/auto-telemetry-pixie/auto-telemetry-pixie-data-model
  - /docs/integrations/kubernetes-integration/understand-use-data/auto-telemetry-pixie-data-model
---

You can build your own dashboard charts and [query](/docs/using-new-relic/data/understand-data/query-new-relic-data) your persisted Pixie telemetry data using the query builder and the NerdGraph API.

New Relic persists select Pixie telemetry data for long-term storage. Find out more about the hybrid storage model for the New Relic Pixie integration [here](/docs/kubernetes-pixie/auto-telemetry-pixie/understand-use-data/overview).

## Metrics and specifications

### HTTP metrics

Query for duration of inbound HTTP request. For example:

```sql
FROM Metric SELECT average(http.server.duration)
WHERE instrumentation.provider='pixie'
FACET service.name
```

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        Event type
      </th>

      <th>
        Metric
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Metric name
      </td>

      <td>
        `http.server.duration`
      </td>
    </tr>

    <tr>
      <td>
        Spec
      </td>

      <td>
        [OpenTelemetry HTTP metric spec](https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/metrics/semantic_conventions/http-metrics.md)
      </td>
    </tr>

    <tr>
      <td>
        Description
      </td>

      <td>
        Measures the duration of the inbound HTTP request.
      </td>
    </tr>

    <tr>
      <td>
        OTEL data type
      </td>

      <td>
        `MetricDataTypeDoubleSummary` with `min(quantile=0)` and `max(quantile=1)`
      </td>
    </tr>

    <tr>
      <td>
        Unit
      </td>

      <td>
        milliseconds
      </td>
    </tr>

    <tr>
      <td>
        Required attributes
      </td>

      <td>
        `service.name`
      </td>
    </tr>

    <tr>
      <td>
        Static attributes
      </td>

      <td>
        `instrumentation.provider` = `pixie`
      </td>
    </tr>

    <tr>
      <td>
        HTTP attributes
      </td>

      <td>
        `http.status_code`
      </td>
    </tr>

    <tr>
      <td>
        Entity attributes
      </td>

      <td>
        `service.instance.id` <br/>
        `k8s.cluster.name` <br/>
        `k8s.namespace.name` <br/>
        `k8s.pod.name` <br/>
        `k8s.container.name` <br/>
      </td>
    </tr>
  </tbody>
</table>

### JVM metrics

Query to measure the time spent in a given JVM garbage collectors in milliseconds. For example:

```sql
FROM Metric SELECT average(runtime.jvm.gc.collection)
WHERE instrumentation.provider = 'pixie' FACET service.name, gc
```

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        Event type
      </th>

      <th>
        Metric
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Metric name
      </td>

      <td>
        `runtime.jvm.gc.collection`
      </td>
    </tr>

    <tr>
      <td>
        Spec
      </td>

      <td>
        [opentelemetry.jvm.gc.collection](https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/instrumentation/runtime-metrics/library/src/main/java/io/opentelemetry/instrumentation/runtimemetrics/GarbageCollector.java)
      </td>
    </tr>

    <tr>
      <td>
        Description
      </td>

      <td>
        Time spent in a given JVM garbage collector in milliseconds.
      </td>
    </tr>

    <tr>
      <td>
        Unit
      </td>

      <td>
        milliseconds
      </td>
    </tr>

    <tr>
      <td>
        Required attributes
      </td>

      <td>
        `service.name`
      </td>
    </tr>

    <tr>
      <td>
        Static attributes
      </td>

      <td>
        `instrumentation.provider` = `pixie`
      </td>
    </tr>

    <tr>
      <td>
        JVM attributes
      </td>

      <td>
        `gc` = `young|full`
      </td>
    </tr>

    <tr>
      <td>
        Entity attributes
      </td>

      <td>
        `service.instance.id` <br/>
        `k8s.cluster.name` <br/>
        `k8s.namespace.name` <br/>
        `k8s.pod.name` <br/>
        `k8s.container.name` <br/>
      </td>
    </tr>
  </tbody>
</table>

Query to find out the number of bytes in a given JVM memory area. For example:

```sql
FROM Metric SELECT average(runtime.jvm.memory.area)
WHERE type = 'used' AND instrumentation.provider = 'pixie'
FACET service.name
```

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        Event type
      </th>

      <th>
        Metric
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Metric name
      </td>

      <td>
        `runtime.jvm.memory.area`
      </td>
    </tr>

    <tr>
      <td>
        Spec
      </td>

      <td>
        [opentelemetry-java-instrumentation](https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/instrumentation/runtime-metrics/library/src/main/java/io/opentelemetry/instrumentation/runtimemetrics/MemoryPools.java)
      </td>
    </tr>

    <tr>
      <td>
        Description
      </td>

      <td>
        Bytes of a given JVM memory area.
      </td>
    </tr>

    <tr>
      <td>
        Unit
      </td>

      <td>
        bytes
      </td>
    </tr>

    <tr>
      <td>
        Required attributes
      </td>

      <td>
        `service.name`
      </td>
    </tr>

    <tr>
      <td>
        Static attributes
      </td>

      <td>
        `instrumentation.provider` = `pixie`
      </td>
    </tr>

    <tr>
      <td>
        JVM attributes
      </td>

      <td>
        `type` = `used|total|max` <br/>
        `area` = `heap` <br/>
      </td>
    </tr>

    <tr>
      <td>
        Entity attributes
      </td>

      <td>
        `service.instance.id` <br/>
        `k8s.cluster.name` <br/>
        `k8s.namespace.name` <br/>
        `k8s.pod.name` <br/>
        `k8s.container.name` <br/>
      </td>
    </tr>
  </tbody>
</table>

### HTTP server span

Example query:

```sql
FROM Span SELECT uniques(name)
WHERE span.kind = 'server'
AND instrumentation.provider = 'pixie'
AND service.name = 'orders'
```

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        Spec
      </th>

      <th>
        Semantic conventions for HTTP spans
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Event type
      </td>

      <td>
        Span
      </td>
    </tr>

    <tr>
      <td>
        Required attributes
      </td>

      <td>
        `name` = `normalized HTTP path` <br/>
        `service.name` <br/>
        `trace.id` <br/>
        `span.id` <br/>
      </td>
    </tr>

    <tr>
      <td>
        Static attributes
      </td>

      <td>
        `span.kind` = `server` <br/>
        `instrumentation.provider` = `pixie` <br/>
      </td>
    </tr>

    <tr>
      <td>
        HTTP attributes
      </td>

      <td>
        `http.host` <br/>
        `http.method` <br/>
        `http.path` <br/>
        `http.status_code` <br/>
        `http.url` <br/>
        `http.user_agent` <br/>
      </td>
    </tr>
  </tbody>
</table>
