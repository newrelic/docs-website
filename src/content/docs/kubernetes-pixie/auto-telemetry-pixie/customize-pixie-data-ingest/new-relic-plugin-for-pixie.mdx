---
title: New Relic Plugin for Pixie
tags:
  - Pixie Auto-telemetry
  - Service monitoring
  - Kubernetes
  - eBPF
  - Pixie Plugin
  - Pixie
metaDescription: Overview and configuration of the New Relic Plugin for Pixie
redirects:
  - /docs/auto-telemetry-pixie/install-auto-telemetry-pixie
  - /docs/auto-telemetry-pixie/get-started-auto-telemetry-pixie/#install-auto-telemetry-with-pixie
---

import newrelicPlugin from 'images/newrelic-plugin-for-pixie-how-it-works.jpg'
import customizeIngest from 'images/customize-pixie-ingest.jpg'
import dataRetention from 'images/pixie-data-retention-scripts.jpg'

## Overview [#overview]

[Pixie's plugin system enables](https://docs.px.dev/reference/plugins/plugin-system/) integration with New Relic which enables long-term data retention and alerting capabilities.

Pixie only retain data in-cluster for *up to* 24 hours at most before it is aged out of memory.  By leveraging the New Relic Plugin for Pixie, you're able to send Pixie data to the New Relic platform using New Relic's OpenTelemetry Line Protocol (OTLP) endpoint.  For more information, please visit [How OpenTelemetry works](https://docs.newrelic.com/docs/more-integrations/open-source-telemetry-integrations/opentelemetry/opentelemetry-introduction#how-it-works) within the New Relic docs.

Pixie also does not provide native alerting capabilities on the data it collects and this is not currently planned as part of their roadmap.  By sending Pixie data to New Relic, users can now leverage [New Relic Alerts and applied intelligence](https://docs.newrelic.com/docs/alerts-applied-intelligence/overview) capabilities.


## How the New Relic Plugin for Pixie Works [#how-the-newrelic-plugin-works]

<img
  title="New Relic Plugin for Pixie"
  alt="newrelic-plugin-for-pixie"
  src={newrelicPlugin}
/>

1. When the `newrelic-pixie` Kubernetes Job is deployed to your cluster, it connects to Pixie Cloud (Commmunity or Self-hosted) and registers the New Relic plugin for the cluster in Pixie **automatically**. The `newrelic-pixie` job stops running once the registration is done and does not consume additional resources.

2. Pixie Cloud communicates with the Vizier running in the cluster and registers the PxL scripts that should be executed as part of Pixie's plugin framework.

3. The New Relic plugin will run pre-defined and user-defined PxL scripts, summarize the data, and then send data to New Relic's OTLP endpoint using port 443 (default).


## How to Customize your Pixie Data Ingest [#customize-pixie-data-ingest]

The Pixie Plugin framework allows users to define and manage custom PxL scripts for long-term data export. This enables the ability to write your own scripts, extract data specific to your use case from the cluster, and send data to New Relic's OpenTelemetry endpoint.

The New Relic Pixie plugin comes with several preset scripts which are enabled by default:

|  Data Type | PxL Script Name  |
|---|---|
| HTTP Metrics  | nri-HTTP Metrics-[clustername]  |
| HTTP Spans  | nri-HTTP Spans-[clustername]  |
| JVM Metrics  | nri-JVM Metrics-[clustername]  |
| MySQL Spans  | nri-MySQL Spans-[clustername]  |
| PostgreSQL Spans  | nri-PostgreSQL Spans-[clustername]  |

Instructions for querying this data once in New Relic can be found [here](https://docs.newrelic.com/docs/kubernetes-pixie/auto-telemetry-pixie/understand-use-data/query-pixie-data).

To make adjustments to your data ingest or add your own custom export, navigate to the `Live Debugging with Pixie` tab in the Kubernetes Cluster Explorer.  In the upper right, click the `Customize Pixie Ingest` button to open the `Data Retention Scripts` slideout.

<img
  title="Customize Pixie Ingest"
  alt="customize-pixie-ingest"
  src={customizeIngest}
/>

Here you'll see a list of the preset scripts prefixed with `nri-[scriptname]-[clustername]`.  To create a new script and data export, click the `Create Script` button in the upper right.  Visit the links in the next section for more details on how to create your own custom scripts.

<img
  title="Customize PxL Scripts"
  alt="customize-pxl-scripts"
  src={dataRetention}
/>


## Exporting Data from a Custom PxL Script

This topic is covered in detail in [Pixie's documentation](https://docs.px.dev/tutorials/integrations/otel/#write-the-pxl-script).

Pixie has also published a tutorial on [YouTube](https://www.youtube.com/watch?v=WXY6vhnqpyc).