---
title: Customize your webhook payload
tags:
  - Alerts and applied intelligence
  - Alerts
  - Alert notifications
translate:
  - jp
metaDescription: Examples of webhook values we can send to the defined callback URL for alerts notifications.
redirects:
  - /docs/alerts/webhook-examples
  - /docs/features/webhook-examples
  - /docs/alerts/newrelic-webhooks
  - /docs/alert-policies/webhook-examples
  - /docs/alerts/new-relic-alerting/managing-notification-channels/webhook-alert-examples
  - /docs/alerts/new-relic-alerts-beta/managing-notification-channels/default-alert-webhook-alert-examples
  - /docs/alerts/new-relic-alerts-beta/managing-notification-channels/default-alert-webhook-examples
  - /docs/alerts/new-relic-alerts-beta/managing-notification-channels/webhook-examples
  - /docs/alerts/new-relic-alerts-beta/managing-notification-channels/webhook-payload-values
  - /docs/alerts/new-relic-alerts-beta/managing-notification-channels/customizing-your-webhook-payload
  - /docs/alerts/new-relic-alerts-beta/managing-notification-channels/customize-your-webhook-payload
  - /docs/alerts/alert-policies/examples/webhook-examples
  - /docs/alerts/new-relic-alerts/managing-notification-channels/webhook-examples-legacy
  - /node/3371
  - /docs/alerts/new-relic-alerts/managing-notification-channels/customize-your-webhook-payload
  - /docs/alerts/new-relic-alerts/notifications/customize-your-webhook-payload
  - /docs/alerts-applied-intelligence/new-relic-alerts/alert-notifications/customize-your-webhook-payload
---

 <Callout variant="important" title="EOL NOTICE">
   We're replacing notification channels with more powerful workflows. Existing notifications will be automatically migrated to workflows that provide      more options, flexibility, and control, and you can enrich notifications with additional data. [Learn about workflows](/docs/alerts-applied-intelligence/applied-intelligence/incident-workflows/incident-workflows/).
  </Callout>

If you use webhooks as your [alerts notification channel](/docs/alerts/new-relic-alerts-beta/managing-notification-channels/notification-channels-controlling-where-send-alerts#webhook), you can use the default values. You can also customize the payload in the POST message for further integration into your system.

## Define webhooks [#ssl]

When defining JSON webhooks, use the format `"name":"value",`. For example:

```
"current_state":"acknowledged",
```

When defining static webhook variables in a form payload, use the format `name="value"`. For example:

```
current_state="acknowledged"
```

Do not include any custom, self-signed SSL certificates in your webhook. Our agents [enable SSL by default](/docs/accounts-partnerships/accounts/security/data-security). Due to our security policy, custom SSL certificates will not be imported into our Trust store. Webhooks with the `$METADATA` variable for synthetic monitoring multi-location failure conditions are currently not supported.

## Webhook values [#variables]

We support these default dynamic webhook values. For your convenience, they're listed in alphabetical order, but you can define your webhook values in any order. You may also add custom variables by using your own key/value pairs such as `"Error Type": "My Error"`.

<table>
  <thead>
    <tr>
      <th>
        **Key**
      </th>

      <th>
        **Variable**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `"account_id"`
      </td>

      <td>
        `$ACCOUNT_ID`

        **Possible values:** New Relic account ID (string)
      </td>
    </tr>

    <tr>
      <td>
        `"account_name"`
      </td>

      <td>
        `$ACCOUNT_NAME`

        **Possible values:** New Relic account name (string)
      </td>
    </tr>

    <tr>
      <td>
        `"closed_violations_count_critical"`
      </td>

      <td>
        `$CLOSED_VIOLATIONS_COUNT_CRITICAL`
      </td>
    </tr>

    <tr>
      <td>
        `"closed_violations_count_warning"`
      </td>

      <td>
        `$CLOSED_VIOLATIONS_COUNT_WARNING`
      </td>
    </tr>

    <tr>
      <td>
        `"condition_id"`
      </td>

      <td>
        `$CONDITION_ID`
      </td>
    </tr>

    <tr>
      <td>
        `"condition_description"`
      </td>

      <td>
        `$DESCRIPTION`

        This includes the [description field](/docs/alerts/new-relic-alerts/defining-conditions/alert-condition-descriptions) from the alert condition, if there is one.
      </td>
    </tr>

    <tr>
      <td>
        `"condition_name"`
      </td>

      <td>
        `$CONDITION_NAME`

        **Possible values:** (user-defined string)
      </td>
    </tr>

    <tr>
      <td>
        `"current_state"`
      </td>

      <td>
        `$EVENT_STATE`

        **Possible values:** `[open|acknowledged|closed]`
      </td>
    </tr>

    <tr>
      <td>
        `"details"`
      </td>

      <td>
        `$EVENT_DETAILS`
      </td>
    </tr>

    <tr>
      <td>
        `"duration"`
      </td>

      <td>
        `$DURATION`
      </td>
    </tr>

    <tr>
      <td>
        `"event_type"`
      </td>

      <td>
        `$EVENT_TYPE`

        **Possible values:** `[INCIDENT]`
      </td>
    </tr>

    <tr>
      <td>
        `"incident_acknowledge_url"`
      </td>

      <td>
        `$INCIDENT_ACKNOWLEDGE_URL`
      </td>
    </tr>

    <tr>
      <td>
        `"incident_id"`
      </td>

      <td>
        `$INCIDENT_ID`
      </td>
    </tr>

    <tr>
      <td>
        `"incident_url"`
      </td>

      <td>
        `$INCIDENT_URL`
      </td>
    </tr>

    <tr>
      <td>
        `"metadata"`
      </td>

      <td>
        `$METADATA`

        Currently used only for Synthetic monitoring multi-location failure conditions.

        **Possible values:** (object)
      </td>
    </tr>

    <tr>
      <td>
        `"open_violations_count_critical"`
      </td>

      <td>
        `$OPEN_VIOLATIONS_COUNT_CRITICAL`
      </td>
    </tr>

    <tr>
      <td>
        `"open_violations_count_warning"`
      </td>

      <td>
        `$OPEN_VIOLATIONS_COUNT_WARNING`
      </td>
    </tr>

    <tr>
      <td>
        `"owner"`
      </td>

      <td>
        `$EVENT_OWNER`
      </td>
    </tr>

    <tr>
      <td>
        `"policy_name"`
      </td>

      <td>
        `$POLICY_NAME`

        **Possible values:** (user-defined string)
      </td>
    </tr>

    <tr>
      <td>
        `"policy_url"`
      </td>

      <td>
        `$POLICY_URL`
      </td>
    </tr>

    <tr>
      <td>
        `"runbook_url"`
      </td>

      <td>
        `$RUNBOOK_URL`
      </td>
    </tr>

    <tr>
      <td>
        `"severity"`
      </td>

      <td>
        `$SEVERITY`

        **Possible values:** \[`CRITICAL]`
      </td>
    </tr>

    <tr>
      <td>
        `"targets"`
      </td>

      <td>
        `$TARGETS`

        The `$TARGETS` variable cannot be used with FORM data, but is compatible with JSON data.

        For [static NRQL faceted alerts](/docs/alerts/new-relic-alerts/defining-conditions/create-alert-conditions-nrql-queries#threshold-types), the name of the facet that triggered the alert will be populated in the targetâ€™s **name** field.

        For a description of the available fields, see [Target values](/docs/alerts/new-relic-alerts/managing-notification-channels/customize-your-webhook-payload#target-values).
      </td>
    </tr>

    <tr>
      <td>
        `"timestamp"`
      </td>

      <td>
        `$TIMESTAMP`
      </td>
    </tr>

    <tr>
      <td>
        `"timestamp_utc_string"`
      </td>

      <td>
        `$TIMESTAMP_UTC_STRING`

        A human-readable timestamp in the `YYYY-MM-DD, HH:MM UTC` format.
      </td>
    </tr>

    <tr>
      <td>
        `"version"`
      </td>

      <td>
        `$VERSION`
      </td>
    </tr>

    <tr>
      <td>
        `"violation_callback_url"`
      </td>

      <td>
        `$VIOLATION_CALLBACK_URL`
      </td>
    </tr>

    <tr>
      <td>
        `"violation_chart_url"`
      </td>

      <td>
        `$VIOLATION_CHART_URL`
      </td>
    </tr>
  </tbody>
</table>

## Targets values [#target-values]

This section describes the `$TARGETS` field in your webhook. This data is not customizable and is provided here for reference. Your `$TARGETS` contain a list of zero or more targets (entities). Each target is described by a JSON object with the following fields.

<table>
  <thead>
    <tr>
      <th width={250}>
        **Key**
      </th>

      <th>
        **Variable**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `"id"`
      </td>

      <td>
        ID of the target or entity
      </td>
    </tr>

    <tr>
      <td>
        `"name"`
      </td>

      <td>
        Name of the target or entity
      </td>
    </tr>

    <tr>
      <td>
        `"labels"`
      </td>

      <td>
        Combined entity tags and NRQL facets that are derived from the condition evaluation and available entity tags.
      </td>
    </tr>

    <tr>
      <td>
        `"link"`
      </td>

      <td>
        URL link to this target or entity.
      </td>
    </tr>

    <tr>
      <td>
        `"product"`
      </td>

      <td>
        Type of product for this target or entity; for example, `APM`
      </td>
    </tr>

    <tr>
      <td>
        `"type"`
      </td>

      <td>
        Type of target or entity under `product`; for example, `Application`
      </td>
    </tr>
  </tbody>
</table>

## Webhook format example [#webhook-format-examples]

The following examples show a webhook payload using both the default dynamic variables and a custom variable. You can use some or all of the dynamic variables, along with any custom variables, to define your own payload.

<CollapserGroup>
  <Collapser
    id="json-example"
    title="JSON webhook example"
  >
    <Callout variant="important">
      The following webhook example has extra spaces and line breaks for readability. Actual webhook responses are delivered as one continuous line of text. The `"team": "DevOps"` line is an example of a custom variable.
    </Callout>

    ```
    {
    "account_id": "$ACCOUNT_ID",
    "account_name": "$ACCOUNT_NAME",
    "closed_violations_count_critical": "$CLOSED_VIOLATIONS_COUNT_CRITICAL",
    "closed_violations_count_warning": "$CLOSED_VIOLATIONS_COUNT_WARNING",
    "condition_family_id": "$CONDITION_FAMILY_ID",
    "condition_id": "$CONDITION_ID",
    "condition_name": "$CONDITION_NAME",
    "current_state": "$EVENT_STATE",
    "details": "$EVENT_DETAILS",
    "duration": "$DURATION",
    "event_type": "$EVENT_TYPE",
    "incident_acknowledge_url": "$INCIDENT_ACKNOWLEDGE_URL",
    "incident_id": "$INCIDENT_ID",
    "incident_url": "$INCIDENT_URL",
    "open_violations_count_critical": "$OPEN_VIOLATIONS_COUNT_CRITICAL",
    "open_violations_count_warning": "$OPEN_VIOLATIONS_COUNT_WARNING",
    "owner": "$EVENT_OWNER",
    "policy_name": "$POLICY_NAME",
    "policy_url": "$POLICY_URL",
    "runbook_url": "$RUNBOOK_URL",
    "severity": "$SEVERITY",
    "targets": "$TARGETS",
    "timestamp": "$TIMESTAMP",
    "timestamp_utc_string": "$TIMESTAMP_UTC_STRING",
    "violation_callback_url": "$VIOLATION_CALLBACK_URL",
    "violation_chart_url": "$VIOLATION_CHART_URL",
    "team": "DevOps"
    }
    ```
  </Collapser>

  <Collapser
    id="form-example"
    title="Form webhook example"
  >
    <Callout variant="important">
      The following webhook example has extra spaces and line breaks for readability. Actual webhook responses are delivered as one continuous line of text.
    </Callout>

    ```
    account_id=$ACCOUNT_ID
    account_name=$ACCOUNT_NAME
    closed_violations_count_critical=$CLOSED_VIOLATIONS_COUNT_CRITICAL
    closed_violations_count_warning=$CLOSED_VIOLATIONS_COUNT_WARNING
    condition_family_id=$CONDITION_FAMILY_ID
    condition_id=$CONDITION_ID
    condition_name=$CONDITION_NAME
    current_state=$EVENT_STATE
    details=$EVENT_DETAILS
    duration=$DURATION
    event_type=$EVENT_TYPE
    incident_acknowledge_url=$INCIDENT_ACKNOWLEDGE_URL
    incident_id=$INCIDENT_ID
    incident_url=$INCIDENT_URL
    open_violations_count_critical=$OPEN_VIOLATIONS_COUNT_CRITICAL
    open_violations_count_warning=$OPEN_VIOLATIONS_COUNT_WARNING
    owner=$EVENT_OWNER
    policy_name=$POLICY_NAME
    policy_url=$POLICY_URL
    runbook_url=$RUNBOOK_URL
    severity=$SEVERITY
    timestamp=$TIMESTAMP
    timestamp_utc_string=$TIMESTAMP_UTC_STRING
    violation_callback_url=$VIOLATION_CALLBACK_URL
    violation_chart_url=$VIOLATION_CHART_URL
    team="DevOps"  <--[example of custom variable]
    ```
  </Collapser>

  <Collapser
    id="MS-Teams-example"
    title="Microsoft Teams example"
  >
    ```
    {
      "@type": "MessageCard",
      "@context": "http://schema.org/extensions",
      "themeColor": "0076D7",
      "summary": {{ json annotations.title.[0] }},
      "sections": [{
        "activityTitle": "{{eq state 'CLOSED' yes='ðŸŸ©' no='ðŸŸ¥'}} {{ annotations.title.[0] }}",
        "activitySubtitle": "{{#each accumulations.policyName}}{{this}}{{#unless @last}}, {{/unless}}{{/each}}",
        "activityImage": "https://one.newrelic.com/apple-touch-icon.png?v=2.1",
        "facts": [{
          "name": "Timestamp",
          "value": {{ json issueActivatedAtUtc }}
          }, {
          "name": "Account",
          "value": "{{ accumulations.tag.account.[0] }} ({{ nrAccountId }})"
          }, {
          "name": "Severity",
          "value": {{ json priority}}
          }, {
          "name": "State",
          "value": {{ json state}}
          }, {
          "name": "Duration",
          "value": {{ json issueDurationText }}
          }, {
          "name": "Impacted entities",
          "value": "{{#each entitiesData.names}}{{this}}{{#unless @last}}, {{/unless}}{{/each}}"
          }, {
          "name": "Details",
          "value": "{{#each accumulations.conditionName}}{{this}}{{#unless @last}}, {{/unless}}{{/each}}"
          }],
        "markdown": true
        }, {
          "text": "<img src="{{ violationChartUrl }}" alt="Incident Chart">"
        }],
        "potentialAction": [{
          "@type": "OpenUri",
          "name": "View Incident",
          "targets": [{
          "os": "default",
          "uri": {{ json issuePageUrl }}
          }]
        }, {
          "@type": "OpenUri",
          "name": "Acknowledge Incident",
          "targets": [{
          "os": "default",
          "uri": {{ json issueAckUrl }}
          }]
        }, {
          "@type": "OpenUri",
          "name": "Open Runbook",
          "targets": [{
          "os": "default",
          "uri": {{ json accumulations.runbookUrl.[0] }}
          }]
        }]  
      }
    ```
  </Collapser>
</CollapserGroup>
