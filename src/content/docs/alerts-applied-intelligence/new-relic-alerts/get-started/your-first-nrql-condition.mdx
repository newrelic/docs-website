---
title: Write your first NRQL alerts condition
tags:
  - Alerts and Applied Intelligence
  - New Relic Alerts
  - Alert conditions
  - NRQL
metaDescription: How to start writing NRQL alerts conditions with a step-by-step user case.
---

Use our [New Relic query language (NRQL)](/docs/query-your-data/nrql-new-relic-query-language/get-started/introduction-nrql-new-relics-query-language/) to create alerts conditions with ease.

Your condition describes what you want to be notified about, and only requires two attributes: a query and a threshold. The query defines the data that's important to you, and determines what you want to be notified about. The threshold determines when you’ll be notified.

Follow these steps to write your first alerts condition using a NRQL query and a threshold. Once you're done, you'll have a working alert condition.

## Step 1: Write your query [#step1-nrql]

In this example, a condition is created for each host's CPU utilization (query), which will trigger a notification when the CPU utilization is above 70% (threshold).

You can use a NRQL query to return data about how your environment is performing. Then you can create a condition from that query. Find the [NRQL query builder](/docs/query-your-data/explore-query-data/query-builder/use-advanced-nrql-mode-query-data/) at the top of the UI.

![A screenshot showing where you can find the NRQL query builder button in New Relic One.](./images/find-builder.png 'A screenshot showing where you can find the NRQL query builder button in New Relic One.')

<figcaption>
  Click the **Query your data** button to open the query builder and start writing a NRQL query. Once you've written a valid query, you can create a condition from it.
</figcaption>

The condition shows each host’s CPU utilization. Use this NRQL query, or something similar that's relevant to what you're monitoring, to create a condition.

![A screenshot of a NRQL query that finds the average CPU utilization faceted by hostname.](./images/nrql-query.png 'A screenshot of a NRQL query that finds the average CPU utilization faceted by hostname.')

<figcaption>
  This query finds the average CPU utilization in an environment and then breaks it
  down (facets) by individual host names.
</figcaption>

Once you've created a valid NRQL query, click the **Create alert** button.

Learn more about the [NRQL syntax](/docs/query-your-data/nrql-new-relic-query-language/get-started/introduction-nrql-new-relics-query-language/#syntax) to create a variety of queries.

## Step 2: Name and revise your NRQL condition [#step2-nrql]

Give your NRQL condition a name that's meaningful to you. Your query's visualization is shown automatically.

![The query's visualization shows each host’s average CPU utilization.](./images/show-nrql-graph.png 'The query's visualization shows each host’s average CPU utilization.')

<figcaption>
  The query's visualization shows each host’s average CPU utilization. A critical violation will open if any host’s average CPU utilization is over 70%. A warning threshold is met at 67%.

  Warning thresholds are described below.
</figcaption>

## Step 3: Set your condition thresholds [#step3-nrql]

Set critical and warning thresholds to determine when you’re notified about your environment's performance. 

In this example, our critical threshold (red) checks for any hosts with CPU utilization over 0.7% for at least 5 minutes. A warning threshold (yellow) is also added showing when any host's CPU utilization goes over 0.67% for at least 5 minutes.

![A visualization of the NRQL query with critical and warning threshold lines.](./images/nrql-set-threshold.png 'A visualization of the NRQL query with critical and warning threshold lines.')

<figcaption>
  Use the **Set your condition thresholds** section to set the critical and warning thresholds for your condition.
</figcaption>

A critical threshold is required for your alerts condition. [Warning thresholds](/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/set-thresholds-alert-condition/#threshold-levels) are optional. 

Warning thresholds don't create an incident or notify you like the critical threshold does. If a critical threshold opens an incident and notifies you, warning threshold violations created after will be included in the report.

## Step 4: Create a policy

Finally, add your condition to an existing policy or create a new one.

![A screenshot of the Policy section for the Create alert form.](./images/nrql-create-policy.png 'A screenshot of the Policy section for the Create alert form.')

<figcaption>
  When you create a new policy, you can group your violations by policy, condition, or by violation (this creates an incident for each violation). These [incident preferences](/docs/alerts-applied-intelligence/new-relic-alerts/alert-policies/specify-when-alerts-create-incidents/) settings determine how frequently you're notified when there's a violation.
</figcaption>

## What's next? [#nextsteps-nrql]

Now that you've created your first condition, set up your [incident preferences](/docs/alerts-applied-intelligence/new-relic-alerts/alert-policies/specify-when-alerts-create-incidents/) and [notification channels](/docs/alerts-applied-intelligence/new-relic-alerts/alert-notifications/notification-channels-control-where-send-alerts/). 

For a detailed, comprehensive overview of NRQL conditions, see [Create NRQL alert conditions](/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-nrql-alert-conditions/)
