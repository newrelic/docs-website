---
title: Alerts and applied intelligence notification integrations
tags:
  - Alerts and applied intelligence
  - Applied intelligence
  - Incident intelligence
  - Destinations
metaDescription: "Alerts and applied intelligence notification integrations are specific services and platforms you can use to send notifications from New Relic."
---

import accountsJiraDestination from 'images/accounts_screenshot-crop_jira-destination.webp'

import accountsJiraTemplate from 'images/accounts_screenshot-crop_jira-template.webp'

import accountsBridgeEventPattern from 'images/accounts_screenshot-crop_bridge-event-pattern.webp'

import accountsServiceNowDestination from 'images/accounts_screenshot-crop_service-now-destination.webp'

import accountsServiceNowMessageTemplate from 'images/accounts_screenshot-crop_service-now-message-template.webp'

import accountsSlackDestinationAuthentication from 'images/accounts_screenshot-crop_slack-destination-authentication.webp'

import accountsSlackSignIn from 'images/accounts_screenshot-crop_slack-sign-in.webp'

import accountsSlackDestinationAllowAccess from 'images/accounts_screenshot-crop_slack-destination-allow-access.webp'

import accountsSlackAuthenticationCompleted from 'images/accounts_screenshot-crop_slack-authentication-completed.webp'

import accountsSlackMessageTemplate from 'images/accounts_screenshot-crop_slack-message-template.webp'

import accountsSlackChannelTestNotification from 'images/accounts_screenshot-crop_slack-channel-test-notification.webp'

import accountsWebhookDestination from 'images/accounts_screenshot-crop_webhook-destination.webp'

import accountsWebhookPreviewError from 'images/accounts_screenshot-crop_webhook-preview-error.webp'

import accountsWebhookNotificationTemplate from 'images/accounts_screenshot-crop_webhook-notification-template.webp'

import accountsEmailConfWorkflow from 'images/accounts_screenshot-crop_email-configure-workflow.webp'

import accountsEmailSettings from 'images/accounts_screenshot-crop_email-settings.webp'

import accountsAWSEventBridgeDestination from 'images/accounts_screenshot-crop_awseventbridge-destination.webp'

import accountsPagerDutyAccountDestinationNewUi from 'images/accounts_screenshot-crop_pager-duty-account-destination-new-ui.webp'

import accountsPagerDutyAddNewWorkflow from 'images/accounts_screenshot-crop_pager-duty-add-webhook.webp'

import accountsPagerDutyAddNewRelicIntegration from 'images/accounts_screenshot-crop_pager-duty-add-new-relic-integration.webp'

import accountsPagerDutyIntegrationOpened from 'images/accounts_screenshot-crop_pager-duty-integration-opened.webp'

import accountsPagerDutyServiceDestination from 'images/accounts_screenshot-crop_pager-duty-service-destination.webp'

import accountsMigrateSlackNewWorkflow from 'images/accounts_screenshot-crop_slack-new-workflow.webp'

import accountsMigrateSlackRemoveLegacy from 'images/accounts_screenshot-crop_slack-remove-legacy.webp'


Alerts and applied intelligence notification integrations allow you to connect specific services and platforms to the New Relic platform. You can use these connections to send notifications from New Relic. Through these notifications you get information about issues that need a review or that help you to take a decision about a detected problem.

## Integration details [#detail]

Read more about each of our specific notification integrations.

<CollapserGroup>
  <Collapser
    className="freq-link"
    id="jira"
    title="Atlassian Jira"
  >
  Integrate New Relic with Atlassian Jira (Cloud) and automatically create, update, and close Jira issues.

    <Video
      type="wistia"
      id="vp5rigddko"
    />

  ### Permissions [#jira-permissions]
  <Callout variant="important">
    This integration doesn't support JIRA on-premises or data center installations. 
  </Callout>

  The required permissions from the Jira `API-Token` are `BROWSE_PROJECTS`, `ASSIGN_ISSUES`, `CLOSE_ISSUES`, `CREATE_ISSUES`, `EDIT_ISSUES`, `RESOLVE_ISSUES`, `TRANSITION_ISSUES`, `USER_PICKER`, and `ADD_COMMENTS`.

  To enable the two-way sync toggle, the provided Jira `API-Key` must have an `Admin` role.

  ### Set up a Jira destination [#set-up-jira]

  Create Jira issues, then enable Jira and New Relic to share updates, and stay synced.

  To create a Jira destination follow these steps:
    
    1. Go to **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI**, click **Destinations**, and then select **Jira**.

    2. Enter the following information:

        * **Name:** Custom name to identify the destination.

        * **URL:** The URL of the destination.

        * **Username:** The email address of the user.

        * **API token:** generated from your Atlassian account.


  Before saving the destination, we recommend you click the **Test connection** button to check your connection.

    <img
      width="80%;"
      title="Jira destination configuration."
      alt="A screenshot of a Jira destination configuration."
      src={accountsJiraDestination}
      />


 ### Two-way sync [#jira-two-way]

Two-way sync is applicable for workflows. To enable it, turn on the two-way integration toggle.

When turned on, a [Jira Webhook](https://developer.atlassian.com/server/jira/platform/webhooks/) is created in your Jira account. The webhook contains access details to New Relic (URL and API key).

### Sync with NewRelic Workflows [#two-way-sync-workflows]

  * Closure of New Relic Issue is triggered when the JIRA issue status changes to `done`.

  * Acknowledgment of New Relic Issue is triggered when the JIRA issue status changes to `in-progress`.

### Configure the message template in Workflows [#configure-jira-message-template]

To configure a template for a Jira issue follow these steps:

    1. Go to **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI > Workflows** and click on an existing workflow, or the **+ Add a new workflow** button.

    2. Choose a destination. You can also create a new destination at this stage.

    3. Upon successful connection to the destination, choose a project, and then select the Jira issue type you would like to be used.

    4. Once the issue-type is selected, the configured project's fields are fetched from your account and automatically mapped to your Jira instance.

  
To help you get started, we automatically populate the required and recommended fields and values. Include a value in all required fields.


### Send a test notification [#send-jira-test]

Click a test notification with default field values to see the JIRA issue.

If successful, there'll be a link to view the incident in JIRA.

    <img
         width="80%;"
         title="The Jira-specific custom variables menu."
         alt="A screenshot of the Jira-specific custom variables menu."
         src={accountsJiraTemplate}
       />

       <figcaption>
         Jira notification message template.
       </figcaption>

  </Collapser>

  <Collapser
  className="freq-link"
  id="eventBridge"
  title="AWS EventBridge"
  >
 
   Use New Relic and [AWS EventBridge](https://aws.amazon.com/eventbridge/) to customize and deliver notifications to targets like AWS Lambda, Amazon simple notification service (SNS) queues, CloudWatch Logs, and others.
    
    <Video
      type="wistia"
      id="24mucmd1mj"
    />

  ### Set up an EventBridge destination [#set-up-eventbridge]
    
  <Callout variant="important">
    New Relic is listed in AWS as a [SaaS Partner Event Source](https://aws.amazon.com/eventbridge/integrations/).
  </Callout>

  To create an AWS EventBridge destination follow these steps:
    
    1. Go to **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI**, click **Destinations**, and then select **AWS EventBridge**.

    2. Enter the following information:

        * **Name:** Custom name to identify the destination.

        * **AWS region:** This is your AWS regional endpoint. Select the region where your event source is hosted.

        * **AWS account ID:** Your AWS account ID. This is a 12-digit number.

  <img
    width="80%;"
    title="AWS EventBridge destination"
    alt="AWS EventBridge destination"
    src={accountsAWSEventBridgeDestination}
    />


  ### Choose your event source [#eventbridge-source]

  Once you've configured your EventBridge destination with your AWS account ID, when you create a new event source, it's available in EventBridge.

    1. Select or create a destination name.

    2. Select or create an event source.

  
  When you create a new event source, it's created in your AWS EventBridge account as an integration partner event source.


  ### Associate the event-source in your AWS account, and create a rule [#eventbridge-rule]

    To associate the event source with an event bus:

    1. In the AWS EventBridge console, choose **Partner event sources** in the navigation pane.

    2. Select the button next to the partner event source and then choose **Associate with event bus**.

      The status of the event source changes from **Pending** to **Active**, and the name of the event bus updates to match your event source name. You can now start creating rules that match events from New Relic.

    3. Create a rule for the event bus.

      To react to notifications sent from New Relic, you need to create rules with an event-pattern that filters-in New-Relic events.

     <img
        width="80%;"
        title="Event pattern with the newrelic partner prefix."
        alt="A screenshot of rule Event pattern."
        src={accountsBridgeEventPattern}
      />

    Use this AWS doc on how to [create an event source rule](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-saas.html#eb-create-rule-partner-events) for more detailed instructions.


  ### Configure the message event template in Workflows [#message-eventbridge]

    Navigate to workflows, click on an existing workflow or the **Add a new Workflow** button, and choose the eventbridge destination.
    When you send notifications from New Relic to EventBridge, you can use a message template to customize that notification.

    You can use the default template or customize your own. Choose variables from the [variables menu](/docs/alerts-applied-intelligence/notifications/message-templates/#variables-menu) and apply [handlebars syntax](/docs/alerts-applied-intelligence/notifications/message-templates/#handlebars-syntax) to enrich your events.

    The EventBridge API requires JSON. See our [JSON usage examples](/docs/alerts-applied-intelligence/notifications/message-templates/#usage-examples). The template preview shows the rendered JSON.

    Once the event template conforms to a valid JSON, you can send a test notification to AWS EventBridge.

  </Collapser>

  <Collapser
    className="freq-link"
    id="email"
    title="Email"
  >
  
  The email destination is created automatically when you choose **Email** as the notification channel for a [workflow](/docs/alerts-applied-intelligence/applied-intelligence/incident-workflows/incident-workflows/), so you don't need to configure that from the **Destinations** menu. Each email destination is unique to the workflow associated with it, and this means that it may appear as a duplicate in the destinations feed.

  To send an email notification:

  1. Go to **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI**.
  2. Select **Workflows** on the left navigation panel.
  3. Click **+ Add a workflow**.

    <img
      width="80%;"
      title="Configure your workflow"
      alt="Configure your workflow"
      src={accountsEmailConfWorkflow}
    />
    
  4. Name your workflow. This field is mandatory and needs to be unique.
  5. Filter the data you need. You can choose between **Basic** and **Advanced** options to add the issues you want to send.
  6. Click **Additional settings** to enrich your data. Enable **Enrich your data** to build a NRQL query.
  7. Click **Save and exit**.
  8. Select **Email** as notification method.
    
    <img
    width="60%;"
    title="Email settings"
    alt="A screenshot of the email settings."
    src={accountsEmailSettings}
    />
    
  9. Add the emails you want to send notifications to. You can add one or more recipients.

      * You can find users with New Relic accounts by searching for their email address.
      * To add a user without a New Relic account or email distribution list, enter their full email address.
      * Each list of email addresses added to the email settings will create its own unique destination, which will appear in the destination feed.
      * You can follow the email notifications per destination in the [notifications log](/docs/alerts-applied-intelligence/notifications/destinations/#notifications-log).
    
  10. Customize the email message.
    
      * For the email subject, you can use the default payload or customize it to contain the required data. 
      * The email body includes default data that can't be changed but you can also add your own customized additional details. These customizations appear under the **Custom Details** section.
      * To enrich the email, pick variables from the [variables menu](/docs/alerts-applied-intelligence/notifications/message-templates/#variables-menu) and apply [handlebars syntax](/docs/alerts-applied-intelligence/notifications/message-templates/#handlebars-syntax).

  11. Click **Send test notification** to make sure the email notifications reach the inbox.
  12. Click **Save**.
  13. Click **Activate workflow**.


  From the Workflow main page, you can enable, edit, delete, or copy workflow id to clipboard the created workflow.

  </Collapser>

  <Collapser
    className="freq-link"
    id="mobile_push"
    title="New Relic mobile push"
  >
   Send push notifications to your New Relic iOS or Android mobile apps.
    
    <Video
      type="wistia"
      id="s29hxnyi4v"
    />

    ### Set up a mobile push destination [#set-mobile_push-destination]

    To create a mobile push destination, you need the following:

    * **Push destination name:** A unique destination name.
    * **User id:** This will be automatically filled in based on the current logged in user.
    
    <Callout variant="important">
      Currently you're restricted to creating mobile push destinations for the current logged in user with [modify capabilities](/docs/alerts-applied-intelligence/notifications/destinations#requirements). You may only create a single push destination for your user. If you try to create more then one, an error will pop up. Before saving the destination, we recommend you test the connection via the **Test connection** button.
    </Callout>
    

  ### Configure when to receive push notifications in workflows [#mobile]

    Go to **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI > Workflows** and click on an existing workflow, or the **+Add a new workflow** button and choose the mobile notifier.
    To configure a mobile push, click on the mobile notifier and select the desired destination.
  
  </Collapser>

  <Collapser
    className="freq-link"
    id="opsgeniewebhook_templates"
    title="Opsgenie"
  >
    ### Webhook template for Atlassian Opsgenie

    Send notifications from Workflows to Opsgenie using using a webhook template
     [Opsgenie webhook template for workflows](https://support.atlassian.com/opsgenie/docs/integrate-opsgenie-with-new-relic-alerts-new/)
  </Collapser>

  <Collapser
    className="freq-link"
    id="pagerduty"
    title="PagerDuty"
  >
    
  Integrate New Relic with PagerDuty to automatically create, update, acknowledge, and resolve PagerDuty incidents.

    <Video
      type="wistia"
      id="lvzd77zj17"
    />

  We offer two ways to integrate with PagerDuty:

  * **[Account level integration using REST API Keys (recommended)](#pagerduty-ali)**: The integration is fully automatic and supports two-way sync and the ability to define multiple PagerDuty services on a single New Relic destination.

  * **[Service integration using Events API keys](#pagerduty-sli)**: The single service integration uses the service level integration key, and requires a separate New Relic destination for each unique PagerDuty service.


  ### Account level integration [#pagerduty-ali]

  The integration is fully automatic and supports two-way sync and the ability to define multiple PagerDuty services on a single New Relic destination.

  ### Permissions [#pd-permissions]

  This integration requires permission to perform the following actions:

    * [List services](https://developer.pagerduty.com/api-reference/b3A6Mjc0ODE5Ng-list-services)

    * [Create an integration](https://developer.pagerduty.com/api-reference/b3A6Mjc0ODIwMw-create-a-new-integration)

    * [Create a webhook subscription](https://developer.pagerduty.com/api-reference/b3A6MjkyNDc4NA-create-a-webhook-subscription)

    * [Create a note](https://developer.pagerduty.com/api-reference/b3A6Mjc0ODE1MA-create-a-note-on-an-incident)

    * [List teams](https://developer.pagerduty.com/api-reference/b3A6Mjc0ODIyMw-list-teams)

    * [List users](https://developer.pagerduty.com/api-reference/b3A6Mjc0ODIzMw-list-users)


  This integration requires a REST API Key. There are two types of REST API keys in PagerDuty:

    * [General access key](https://support.pagerduty.com/docs/generating-api-keys#section-generating-a-general-access-rest-api-key): It includes all the permissions listed above and PagerDuty Admins and Account Owners have access. [See PagerDuty instructions](https://support.pagerduty.com/docs/api-access-keys#generate-a-general-access-rest-api-key).

    * [Personal user tokens](https://support.pagerduty.com/docs/generating-api-keys#section-generating-a-personal-rest-api-key): If your account has advanced permissions, you can create unique personal REST API keys. Requests made using personal REST API keys are restricted to the user's permissions. If you choose to provide a user token API key, make sure it has the required permissions described above. [See PagerDuty instructions](https://support.pagerduty.com/docs/api-access-keys#generate-a-user-token-rest-api-key).
    
  <Callout variant="tip">
      For personal user tokens, we recommend you use a dedicated integration user that does not belong to a real user.
  </Callout>


  ### Set up a destination [#set-up-pagerduty]

  To create a PagerDuty destination follow these steps:
    
    1. Go to **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI**, click **Destinations**, and then select **PagerDuty**.

    2. Enter the following information:

        * **Name**: Custom name to identify the destination.

        * **API Key**: For this integration, you will be asked to provide a REST API Key. There're two types of REST API keys in PagerDuty, [general access](https://support.pagerduty.com/docs/generating-api-keys#section-generating-a-general-access-rest-api-key) and [user tokens](https://support.pagerduty.com/docs/generating-api-keys#section-generating-a-personal-rest-api-key).


  Before saving the destination, we recommend testing the connection by clicking the **Test connection** button.

      <img
        width="80%;"
        title="PagerDuty account-level destination configuration"
        alt="A screenshot of a PagerDuty account-level destination configuration"
        src={accountsPagerDutyAccountDestinationNewUi}
      />


  ### Two-way sync [#two-way-pagerduty]

  To enable two-way sync, turn on the **two-way integration** toggle.

  When turned on, a PagerDuty subscription is created at a later stage for the selected PagerDuty service (see [customize a message template](#message-pagerduty)). The webhook contains access details to New Relic (URL and New Relic API key).

  By default, any change of state to the PagerDuty incident created by New Relic will sync back to New Relic.

  <Callout variant="important">
    Please note that if you're a PagerDuty Event Intelligence or Digital Operations customer using Intelligent Alert Grouping on a given service, there could be a potential mismatch in PagerDuty Incidents sent back to New Relic.
  </Callout>


  ### Sync with New Relic workflows [#two-way-sync-workflows]

  * The closure of a New Relic issue is triggered when the PagerDuty incident is resolved.

  * The acknowledgment of a New Relic issue is triggered when the PagerDuty incident is acknowledged.


  ### Configure the message template in Workflows [#message-pagerduty]

  To configure the message template:

    1. Go to **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI > Workflows** and click on an existing workflow, or the **+ Add a new Workflow** button and choose the PagerDuty notifier.
    
    2. Choose a destination. You can also create a new destination at this stage.

    3. Select a PagerDuty service.

    4. Select a user. New Relic will post notes in behalf of selected user.
        
    5. Send details to the Custom Details section in Pagerduty. You can use the default payload or customize it using free text or dynamic variables from the issue payload. Pick variables from the [variables menu](/docs/alerts-applied-intelligence/notifications/message-templates/#variables-menu) and apply [handlebars syntax](/docs/alerts-applied-intelligence/notifications/message-templates/#handlebars-syntax) to enrich your payload. The **preview** section on the right hand-side shows an expected payload after the template is rendered. If the payload doesn't form a valid JSON, an error will be shown and it won't be possible to save the template.

  Note that custom details in PagerDuty Alerts is automatically populated.


 
  ### Send a test notification [#test-notification-pagerduty]

  You can see how the PagerDuty incident will appear by clicking a test notification with default field values. If successful, a incident will be created and a link will appear.

       <img
        width="80%;"
        title="PagerDuty service-level workflow configuration."
        alt="A screenshot of a PagerDuty service-level workflow configuration."
        src={accountsPagerDutyAddNewWorkflow}
      />


  ### Service integration [#pagerduty-sli]

  This integration requires to set up a New Relic PagerDuty integration in the service you would like New Relic to create incidents in.

  To create a New Relic integration in the PagerDuty service follow these steps:

    1. Go to  **Services > Service Directory**  and select the service where you'd like to add the integration.

    2. Select the  **Integrations** tab and click **Add an integration**.

    3. Find and mark the New Relic integration in the list and click **Add**.

          <img title="PagerDuty New Relic integration." width="70%;" alt="New Relic integration." src={accountsPagerDutyAddNewRelicIntegration}/>

    4. Click on the right to view and copy your  **Integration Key**.

          <img title="PagerDuty New Relic integration key." alt="New Relic integration key." src={accountsPagerDutyIntegrationOpened}/>



  ### Configure the message template [#message-pagerduty]

  To configure the message template:

      1. Go to **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI > Workflows** and click on an existing workflow, or the **+ Add a new workflow** button and choose the PagerDuty notifier.
      2. Choose a destination. You can also create a new destination at this stage.
      3. (Optional) Edit the default incident summary.


  Note that custom details in PagerDuty Alerts is automatically populated.


  ### Send a test notification [#test-notification-pagerduty]

  You can see how the PagerDuty incident will appear by clicking a test notification with default field values.
  </Collapser>



  <Collapser
    className="freq-link"
    id="servicenow"
    title="ServiceNow (Incident-Management)"
  >
    
    <Callout>
    Currently, we don't recommend you to install this integration anymore.
    
    Instead, we recommend you to use the new certified integration with New Relic Workflows. See how to install and use it, in the [next section](#servicenow-certified).
    </Callout>



  Integrate New Relic with ServiceNow ITSM and automatically create, update, and resolve ServiceNow incidents.

    <Video
      type="wistia"
      id="6or6n8am4k"
    />

    ### Roles [#roles-servicenow]

    As part of the integrations, we fetch fields from the your ServiceNow incident table, and other optional values. We require the following permissions:

     * Full read permissions for the tables `sys_dictionary`, `sys_choice`, `sys_user`, and `task`.
     * Read/write permission to `incident`.
     * To fetch users for the `caller` column, we need read permissions for the `sys_user` table.

    The out-of-the-box non-granular roles `personalize_choices`, `personalize_dictionary`, `rest_service` or `snc_platform_rest_api_access`, and `itil` have the above permissions.

    Read/write permissions to the `api_key_credentials` table are required to enable two-way integration. The roles `credentials_admin` and `discovery_admin` provide these.


  ### Set up a destination [#set-up-service-destination]

  To create a ServiceNow destination follow these steps:

   1. Go to **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI**, click **Destinations**, and then select **ServiceNow**.

   2. Enter the following information:

        * **Destination Name:** Custom name to identify the destination.

        * **Domain:** The URL of the destination.

        * **Username:** The name of the user.

        * **Password:** The user's password.


  Before saving the destination, we recommend testing the connection by clicking the **Test connection** button.

  ### Two-way sync [#two-way-snow]

  To configure the **two-way integration**:

      1. Turn on the `two-way integration` toggle.

      2. Open and download this [XML file](https://storage.googleapis.com/newrelic-notifications/snow-two-way-sync/Newrelic-Snow-Sync-Configurations.xml), which includes the business rule triggering events back to New Relic.

      3. In the ServiceNow sidebar menu, go to **System Definition > Business Rules**.

      4. Click the menu icon in one of the column headers, select **Import XML**, and upload the XML file you downloaded.


  Once the destination is saved, a New Relic API key is kept in `api_key_credentials`. The key is sent in a header as part of the REST callback call to New Relic.

  
  ### Sync with workflows [#two-way-sync-snow-workflows]

      * When the ServiceNow incident state changes to resolved triggers the closure of New Relic issue.
      * When the ServiceNow incident state changes from open triggers the acknowledgment of New Relic issue.


  ### Configure the message template in workflows [#configure-servicenow-message-template]

    1. Go to **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI > Workflows** and click on an existing workflow, or the **+ Add a new workflow** button
    
    2. Choose a ServiceNow destination.
      
    3. Upon a successful connection, ServiceNow incident table columns are fetched from your account and automatically mapped to your ServiceNow instance.

  To help you get started, the required and recommended fields are pre-populated with default values.

  When you add a custom value for a supported field, you can add a dynamic value from the issue payload or write your own value.

  You can remove any non-required field and add your own.

### Send a test notification [#send-servicenow-test]

  Click on **Send test notification** to see ServiceNow incidents with default field values. If successful, you'll see a link with the created incident.

      <img
        width="80%;"
        title="ServiceNow incident template."
        alt="A screenshot of some recommended ServiceNow-incident fields and values."
        src={accountsServiceNowMessageTemplate}
      />

      <figcaption>
        Select, edit, or remove fields for the ServiceNow-Incident template.
      </figcaption>

  </Collapser>

<Collapser
    className="freq-link"
    id="servicenow-certified"
    title="Servicenow (Certified application)"
  >
  The certified Servicenow integration with New Relic Workflows is available in the ServiceNow store. Read more about this integration in [our forum](https://forum.newrelic.com/s/hubtopic/aAX8W00000006D7/coming-soon-a-new-integration-between-new-relic-workflows-and-servicenow).

  ### Set up a destination [#set-up-destination]

  To create a ServiceNow destination, follow these steps:

  1. [Download](https://store.servicenow.com/sn_appstore_store.do#!/store/application/d117597d1b9b9d9078faddf7b04bcba7/1.0.0?referer=%2Fstore%2Fsearch%3Flistingtype%3Dallintegrations%25253Bancillary_app%25253Bcertified_apps%25253Bcontent%25253Bindustry_solution%25253Boem%25253Butility%25253Btemplate%26q%3Dnew%2520relic&sl=sh) and install the new relic application on the ServiceNow store.
  2. Go to **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI**, click **Destinations** and then select **Webhook**.
  3. Fill in the following fields:
        - **Destination Name**: a name to identify the destination.
        - **Domain**: The endpoint URL of the destination. It should include `*.service-now.com/api/x_newre_core/new_relic/issue/notification`, for example, `https://my_instance.service-now.com/api/x_newre_core/new_relic/issue/notification`.
        - **Username**: The name of the user to authenticate ServiceNow. You must have the `x_newre_core.inbound_api` permission.
        - **Password**: The user's password to authenticate ServiceNow.
  4. [Download the **Installation Guide**](https://store.servicenow.com/appStoreAttachments.do?sys_id=90ce114e1baa6510e0190d48624bcbd3) from the servicenow store and follow its instructions.
  </Collapser>

  <Collapser
    className="freq-link"
    id="slack"
    title="Slack"
  >
  Send notification messages to your Slack channels.

  See how [to migrate from your old Slack webhook destination to the new Slack app](#migrate-slack) for more information.

    <Video
      type="wistia"
      id="zs92j5i31v"
    />

  ### Prerequisites [#slack-prereqs]

  Your Slack workspace needs to have the [New Relic application](https://newrelic.slack.com/apps/AP92KQJS3-new-relic?tab=more_info)(or the [EU App](https://slack.com/apps/AS5D75HQQ-new-relic-eu?tab=more_info) for `one.eu.newrelic` customers) installed. A workspace administrator must approve the application before you can individually install it. Please contact support@newrelic.com for app support.

  ### Set up a Slack destination [#set-slack-destination]

  1. Go to **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI**, click **Destinations**, and then select **Slack**.
    
  2. Click the **Authenticate in one click** button to go to the Slack landing page, and continue the OAuth2 authentication process. If you're not signed into the required workspace, you're redirected to Slack to sign in.

    <img
      width="60%;"
      title="Create a Slack destination with a click."
      alt="A screenshot of the one-click Slack authentication."
      src={accountsSlackDestinationAuthentication}
    />

  3. Add your workspace name or select the relevant workspace, and click **Continue**.

    <img
      width="50%;"
      title="add a Slack workspace."
      alt="add a workspace."
      src={accountsSlackSignIn}
    />

  4. When signed in to the selected workspace, allow New Relic to perform the specified actions.

    <img
      width="40%;"
      title="select a workspace and configure permissions."
      alt="A screenshot permissions configurations."
      src={accountsSlackDestinationAllowAccess}
    />

  5. Click **Allow**, and return to the destination page.

    <img
      width="80%;"
      title="authentication completed successfully."
      alt="A screenshot completed authentication."
      src={accountsSlackAuthenticationCompleted}
    />

  
### Configure the Slack message template in Workflows [#configure-slack-message-settings]

  1. Go to **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI > Workflows** and click on an existing workflow, or the **+ Add a workflow** button.
  
  2. Select a destination (Workspace) and a Slack channel to send messages. You can create a new destination if there is no pre-defined destination for the required workspace. For privacy reasons, users need to be authenticated once to select private channels. When selecting a private channel, the bot will automatically be added to the channel.
    
  3. You can use the default notification or enrich it with custom details. Pick variables from the [variables menu](/docs/alerts-applied-intelligence/notifications/message-templates/#variables-menu) and apply [handlebars syntax](/docs/alerts-applied-intelligence/notifications/message-templates/#handlebars-syntax) to enrich your payload.

  4. Click the **Send test notification** button to send a test notification with a pre-defined example payload to the channel. This creates a message in the selected Slack channel.

    <img
      width="80%;"
      title="Authenticate to select private channels."
      alt="Slack settings, user is not authenticated."
      src={accountsSlackMessageTemplate}
    />

  </Collapser>

  <Collapser
    className="freq-link"
    id="Splunk_on_call_templates"
    title="Splunk on-call (VictorOps)"
  >
    ### Webhook template for Splunk On-call

     Send notifications from workflows to Splunk On-call using a [webhook template](https://help.victorops.com/knowledge-base/new-relic-integration-guide/#about-splunk-on-call-and-new-relic)
  </Collapser>

  <Collapser
    className="freq-link"
    id="webhook"
    title="Webhook"
  >
You should use a webhook notifier in Workflows to send notification messages to a specified HTTPS endpoint. By default, the notifier assumes that the content type of the request is JSON and makes an HTTP POST request to the given endpoint. When you start configuring it, the webhook notifier provides a default JSON payload structure that you can use out of the box. However, if you require more customization, you can modify the payload using Handlebars template syntax. This allows you to populate variables within the payload dynamically, tailoring it to your specific needs.

In addition to the payload, you also have the ability to include additional HTTP headers in the webhook request. This can be useful for passing extra information or authentication tokens to the receiving endpoint. Here is a video tutorial for setting up webhooks.

    <Video
      type="wistia"
      id="feyutwgew8"
    />

  ### Set up a webhook destination [#set-webhook-destination]

  To create a webhook destination follow these steps:

  1. Go to **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI**, click **Destinations**, and then select **Webhook**.

  2. Enter the following information: 

     * **Webhook name:** Reference name for your webhook.
     * **Endpoint URL:** The endpoint of the target application where an HTTP POST request will be sent. 
     * **Use authorization:** (Optional) You can choose between `Basic Authentication` or `Bearer Token`.
  
  <img
      width="80%;"
      title="Webhook destination configuration"
      alt="Webhook destination configuration"
      src={accountsWebhookDestination}
    />

If you're new to working with webhooks and want to test the configuration and examine webhook payloads without writing a service, you can use HTTP catch-all services. [Beeceptor](https://beeceptor.com) and [Webhook.site](https://webhook.site) are examples of services that give you a designated URL where you can receive HTTP payloads and then inspect the JSON payload of the event. This feature is valuable for gathering relevant information before starting your development process.

If you're building a new service to consume this payload you must test it locally. Using local tunnels is a good idea for testing and debugging webhooks in a local environment before deploying to a production server. These tunnels allow you to receive incoming webhook requests from New Relic on your local machine, eliminating the need for a publicly accessible server during development. Tools like Beeceptor or ngrok enable you to create a temporary public URL that forwards requests to your local server by specifying the desired application port or address. This expedites iteration and debugging, as you can directly observe and analyze webhook payloads in your local development environment.

### Two-way sync [#two-way-webhook]

For notifications sent from workflows, you can acknowledge or close issues using [Nerdgraph](/docs/apis/nerdgraph/examples/nerdgraph-issues-api-via-github/#resolve-ack-issues).

If you are testing two-way sync with webhooks, you can use Beeceptor's customized response status and payload templates. This allows you to draft a desired response when acknowledging the received events.

### Configure the webhook event template [#configure-webhook-event-template]

Pick a webhook destination from the list, and configure the `HTTP-POST` request.

The request configuration requires you to:

1. Set a name for the template.
2. Select a pre-configured destination from the destinations list or create a new one.
3. Add custom headers (optional).
4. Configure the request's payload.


### Customize the webhook payload in Workflows [#customize-webhook-payload]
    
Go to **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI > Workflows** and click on an existing workflow, or the **+ Add a new workflow** button and select a Webhook destination.
       
    <Callout variant="important">
      The request's content-type is JSON by default, so the payload needs to be in JSON format too. To get familiar with the format, see [our usage examples](/docs/alerts-applied-intelligence/notifications/message-templates/#usage-examples). 
    </Callout>
    
You can use the default payload or customize it to contain the required data. Pick variables from the [variables menu](/docs/alerts-applied-intelligence/notifications/message-templates/#variables-menu) and apply [handlebars syntax](/docs/alerts-applied-intelligence/notifications/message-templates/#handlebars-syntax) to enrich your webhook.

The **Preview** section on the right hand-side shows an expected payload after the template is rendered. If the payload doesn't form a valid JSON, there'll be an error and you couldn't save the template.

       <img
         width="80%;"
         title="An invalid Json payload."
         alt="A screenshot of an invalid Json payload."
         src={accountsWebhookPreviewError}
       />

  <Callout variant="tip">
    Undefined type errors may indicate that the attribute wasn't indexed recently or doesn't exist. To fix the error, try adding an `if else` statement. For example, `"closed_at": {{#if issueClosedAtUtc}} {{ json issueClosedAtUtc }} {{else}}"None"{{/if}}`
  </Callout>
    
  If the webhook payload conforms to a valid JSON, you can send a test notification to your defined webhook destination.

  We recommend sending a test notification to make sure that everything's connected correctly. 

       <img
         width="80%;"
         title="A test webhook notification template."
         alt="A screenshot of a test webhook notification template."
         src={accountsWebhookNotificationTemplate}
       />

  </Collapser>


  <Collapser
    className="freq-link"
    id="xMatters_templates"
    title="xMatters"
  >
    ### Webhook template for xMatters

    Send notifications from Workflows to xMatters using a webhook template.

    ```json
    {
    {{#if nrAccountId}}"account_id": {{nrAccountId}},{{/if}}
    "account_name": {{json accumulations.tag.account.[0]}},
    {{#if accumulations.tag.action}}"action":{{json accumulations.tag.action.[0]}},{{/if}}
    "closed_violations_count": {
        "critical": {{#if closedIncidentsCount}}{{closedIncidentsCount}}{{else}}0{{/if}},
        "warning": 0,
        "total": {{#if closedIncidentsCount}}{{closedIncidentsCount}}{{else}}0{{/if}}
    },
    "condition_family_id": {{accumulations.conditionFamilyId.[0]}},
    "condition_id": {{accumulations.conditionFamilyId.[0]}},
    "condition_name": {{json accumulations.conditionName.[0]}},
    {{#if accumulations.evaluationName}}"condition_metric_name": {{json accumulations.evaluationName.[0]}},{{/if}}
    {{#if accumulations.evaluationMetricValueFunction}}"condition_metric_value_function": {{json accumulations.evaluationMetricValueFunction.[0]}},{{/if}}
    "current_state": {{#if issueClosedAt}}"closed"{{else if issueAcknowledgedAt}}"acknowledged"{{else}}"open"{{/if}},
    "details": {{json issueTitle}},
    "duration": {{#if issueDurationMs}}{{issueDurationMs}}{{else}}0{{/if}},
    "event_type": "INCIDENT",
    "incident_acknowledge_url": {{json issueAckUrl}},
    "incident_url": {{json issuePageUrl}},
    "incident_id": {{json issueId}},
    "metadata": {
        {{#if locationStatusesObject}}"location_statuses": {{locationStatusesObject}},{{/if}}
        {{#if accumulations.metadata_entity_type}}"entity.type": {{json accumulations.metadata_entity_type.[0]}},{{/if}}
        {{#if accumulations.metadata_entity_name}}"entity.name": {{json accumulations.metadata_entity_name.[0]}}{{/if}}
    },
    "open_violations_count": {
        "critical": {{#if openIncidentsCount}}{{openIncidentsCount}}{{else}}0{{/if}},
        "warning": 0,
        "total": {{#if openIncidentsCount}}{{openIncidentsCount}}{{else}}0{{/if}}
    },
    "policy_name": {{json accumulations.policyName.[0]}},
    {{#if policyUrl}}"policy_url": {{json policyUrl}},{{/if}}
    "radar_entity": {
        "accountId": {{json accumulations.tag.accountId.[0]}},
        "domain": {{json accumulations.conditionProduct.[0]}},
        "domainId": {{json issueId}},
        "entityGuid": {{json entitiesData.entities.[0].id}},
        "name": {{#if accumulations.targetName}}{{json accumulations.targetName.[0]}}{{else if entitiesData.entities}}{{json entitiesData.entities.[0].name}}{{else}}"NA"{{/if}},
        "type": {{#if entitiesData.types.[0]}}{{json entitiesData.types.[0]}}{{else}}"NA"{{/if}}
    },
    {{#if accumulations.runbookUrl}}"runbook_url": {{json accumulations.runbookUrl.[0]}},{{/if}}
    "severity": {{#eq HIGH priority}}"WARNING"{{else}}{{json priority}}{{/eq}},
    "state": {{json state}},
    "status": {{json status}},
    "targets": [
        {
            "id": {{#if entitiesData.entities.[0].id}}{{json entitiesData.entities.[0].id}}{{else if accumulations.nrqlEventType}}{{json accumulations.nrqlEventType.[0]}}{{else}}"N/A"{{/if}},
            "name": {{#if accumulations.targetName}}{{json accumulations.targetName.[0]}}{{else if entitiesData.entities}}{{json entitiesData.entities.[0].name}}{{else}}"NA"{{/if}},
            "link": {{json issuePageUrl}},
            "product": {{json accumulations.conditionProduct.[0]}},
            "type": {{#if entitiesData.types.[0]}}{{json entitiesData.types.[0]}}{{else}}"NA"{{/if}},
            "labels": {
                {{#each accumulations.rawTag}}{{#if this.[0]}}"{{@key}}":{{json this.[0]}},{{/if}}{{/each}}
                "NewRelic": "targetLabels"
            }
        }
    ],
    "timestamp": {{#if closedAt}}{{closedAt}}{{else if acknowledgedAt}}{{acknowledgedAt}}{{else}}{{createdAt}}{{/if}},
    "timestamp_utc_string": {{json issueUpdatedAt}},
    "version": "1.0",
    {{#if accumulations.conditionDescription}}"VIOLATION DESCRIPTION": {{json accumulations.conditionDescription.[0]}},{{/if}}
    {{#if violationChartUrl}}"violation_chart_url": {{json violationChartUrl}},{{/if}}
    "violation_callback_url": {{json issuePageUrl}}
    }
    ```

  </Collapser>
</CollapserGroup>

## Migrate your legacy Slack destinations to the new Slack destination [#migrate-slack]

To migrate your legacy Slack destinations to the new Slack destination follow these steps:

  1. Set up a [new Slack destination](/docs/alerts-applied-intelligence/notifications/notification-integrations/#slack-prereqs).

  2. For each workflow that sends to the legacy Slack destination, do the following:

      * Find the Slack channel that was sent with the legacy notification, and save it.

      <img
        width="80%;"
        title="Migrate Slack, create a new workflow."
        alt="Migrate Slack, create a new workflow."
        src={accountsMigrateSlackNewWorkflow}
      />

      * Test the notification to see it works.

      * Remove the existing legacy Slack notifier.

        <img
        width="80%;"
        title="Migrate Slack, remove the existing legacy slack notifier."
        alt="Migrate Slack, remove the existing legacy slack notifier."
        src={accountsMigrateSlackRemoveLegacy}
      />

      * Click **Test workflow** to confirm with a real issue matching the filter (if they exist).

      * Save the workflow.


## API options [#api]

You can also use our NerdGraph API to view and configure [destinations](/docs/apis/nerdgraph/examples/nerdgraph-api-notifications-destinations) and [notification channels](/docs/apis/nerdgraph/examples/nerdgraph-api-notifications-channels).
