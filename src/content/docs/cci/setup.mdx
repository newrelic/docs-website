---
title: Set up AWS CCI
metaDescription: Set up Cloud Cost Intelligence with AWS. Configure IAM roles and data paths for detailed cost analysis and streamlined access in New Relic.
redirect:
  - /docs/cci/getting-started/setup
freshnessValidatedDate: never
---

<Callout title="preview">
  We're still working on this feature, but we'd love for you to try it out!

  This feature is currently provided as part of a preview program pursuant to our [pre-release policies](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

Configure Cloud Cost Intelligence with AWS by setting up IAM roles and data export paths for detailed cost analysis and management.

<Steps>
  <Step>
    ## Access integration

    Go to **Cloud Cost Intelligence** on the left panel and click **Add the integration**.
  </Step>

  <Step>
    ## Select New Relic account

    Select your New Relic account and click **Continue**.
  </Step>

  <Step>
    ## Provide connection details

    Enter the required details to fetch cost data from AWS:
        - **Connection name** - Default name provided. Edit for custom name.
        - **Cross-account IAM role ARN** - IAM role ARN for Cloud Cost Intelligence to access your S3 bucket (format: `arn:aws:iam::<account-id>:role/<role-name>`).
        - **External ID** - Copy the external ID and add it to your IAM role trust policy in AWS.
        - **Data export name** - Name of the data export file. For report `cci-ingestion-test`, the path is `cost-and-usage-reports/cci-ingestion-test/data`.
        - **S3 bucket name** - Exact bucket name. Use `us-east-2` region for optimal performance.
  </Step>

  <Step>
    ## Configure trust policy

    Add the New Relic global user (`arn:aws:iam::207192125115:user/cci_global_user`) to your IAM role trust policy:

  ```json
  {
    "Version": "2012-10-17",
    "Statement": [
      {
        "Effect": "Allow",
        "Principal": {
          "AWS": "arn:aws:iam::207192125115:user/cci_global_user"
        },
        "Action": "sts:AssumeRole",
        "Condition": {
          "StringEquals": {
            "sts:ExternalId": "<externalID>"
          }
        }
      }
    ]
  }
  ```
    <Callout variant="important">
    - Set `sts:ExternalId` to the external ID from the previous step. This ensures the role is assumed only in the context intended by New Relic, enhancing integration security.
    - Activate STS for regions where it's not active by default (e.g., `ap-east-1`, `eu-south-1`).
    </Callout>
  </Step>

  <Step>
    ## Test connection

    Click **Test connection** to verify successful connection to your AWS environment.
  </Step>
</Steps>

<Callout variant="tip">
Initial data processing can take a few hours after setup.
</Callout>