---
title: Automate AWS with CloudFormation
tags:
  - cloud cost intelligence
  - aws
  - amazon web services
  - aws cost management
  - cloud cost optimization
  - cci aws
  - automated setup
  - cloudformation
metaDescription: Use the automated AWS CloudFormation template to quickly set up Cloud Cost Intelligence by provisioning required AWS resources and configurations.
freshnessValidatedDate: never
---

<Callout title="preview">
  We're still working on this feature, but we'd love for you to try it out!

  This feature is currently provided as part of a preview program pursuant to our [pre-release policies](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

Use the automated AWS CloudFormation template to accelerate your Cloud Cost Intelligence setup. The pre-configured stack automatically provisions the required AWS environment, including S3 bucket configuration, CUR export settings, [Trusted Advisor settings check](/docs/cci/financial-intelligence/cci-recommendations/#aws-trusted-advisor), and necessary IAM roles and policies. Review all resource permissions in the AWS CloudFormation console before deploying.

## Cost considerations

The template automatically creates an S3 bucket for CUR data ingestion. The default region is `us-east-2`, but you can change this using the CloudFormation parameters to match your infrastructure needs.

## Setup instructions

<Steps>
  <Step>
    ### Access Cloud Cost Intelligence in New Relic

    1. Log in to <DNT>[**one.newrelic.com**](https://one.newrelic.com)</DNT> using your New Relic account credentials.
    2. In the left navigation menu, select **Integrations & Agents**.
    3. Select **Cloud Cost Intelligence - AWS**.
  </Step>

  <Step>
    ### Choose CloudFormation automation

    Select **Automate AWS with CloudFormation (Recommended)** and click **Continue**.
  </Step>

  <Step>
    ### Launch CloudFormation in AWS

    Click **Launch your CloudFormation in AWS**. Log in to your AWS account with Admin role when prompted. The **CloudFormation Stacks** screen opens in the AWS console.
  </Step>

  <Step>
    ### Configure stack parameters

    In the **Create Stack** form, configure the following parameters:

    **Pre-populated parameters (do not modify):**
    - **New Relic Account ID**: Pre-populated. Do not change.
    - **New Relic Data Region**: Pre-populated. Do not change.
    - **External ID**: Pre-populated. Do not change.

    **Required parameters:**
    - **NewRelicAPIKey**: Enter your New Relic API key. Generate this in the New Relic UI: User menu > API Keys.
    - **Stack Name**: Default value provided. Edit if needed, but ensure the name is globally unique across all AWS CloudFormation stacks.
    - **Bucket Name**: Default value provided. Edit if needed, but ensure the name is globally unique across all S3 buckets.
    - **Connection Name**: Default value provided. Edit if needed for your naming conventions.

    **Optional parameters:**
    - **Grant Access to Trusted Advisor**: Defaults to **Yes**. When enabled, allows checking if **Trusted Advisor** cost insights is enabled for your account and retrieves recommendations. If you choose **No** or **Trusted Advisor** is not enabled, **Trusted Advisor** recommendations will not be available.

    <Callout variant="important">
    CCI Native Recommendations are independent of **Trusted Advisor** and will work regardless of this setting.
    </Callout>

    All other parameters are optional and can be configured as needed.
  </Step>

  <Step>
    ### Acknowledge IAM resource creation

    Select **I acknowledge that AWS CloudFormation might create IAM resources** (or Identity and Access Management resources).
  </Step>

  <Step>
    ### Create the stack

    Click **Create stack**.
  </Step>

  <Step>
    ### Verify stack creation

    When the stack creation completes successfully, the status displays **CREATE_COMPLETE**.
  </Step>

  <Step>
    ### Verify CUR report generation

    Wait 24 hours, then verify that a CUR report in parquet format appears in your AWS bucket.

    <Callout variant="important">
    The path below is an example. Your actual path will have different timestamps, UUIDs, and billing periods.
    </Callout>

    > **Amazon S3** > **Buckets** > **bucket_name** > **cost-and-usage-reports/** > **bucket_name-cci/data** > **BILLING_PERIOD=2025-12/** > **2025-12-24T03:05:19.886Z-a2e23b2a-588a-4305-97fd-be712f555b75/** > **bucket_name-cci-00001.snappy.parquet**

    Your integration setup is complete.
  </Step>
</Steps>

## Limitations

The automated CloudFormation template does not:

- Create or configure any compute or network resources.
- Enable any additional AWS service or update the support level.
- Automate the process of ingesting Logs, Traces and any other metrics.
- Create any write access roles or policies.

## Configured policies and permissions

The automated stack configures the following access levels:

- **Billing Data Access**: Read-only permission to the specific S3 bucket created for storing Cost and Usage Reports.
- **Service Pricing Access**: Read-only access to the AWS Pricing API to correlate your usage with public rates.
- **Configuration Automation**: Limited permissions required to generate the CUR exports and verify the integration status during the setup phase.
- **Optional Optimization Access**: (If selected) Read-only access to AWS Trusted Advisor to surface cost-saving recommendations.

<DocTiles numbered>
  <DocTile
    title="Overview of Cloud Cost Intelligence - AWS"
    path="/docs/cci/get-started/aws/aws-cci"
  />

  <DocTile
    title="Automate AWS with CloudFormation"
    label={{text: 'You are here', color: '#FCD672'}}
    path="/docs/cci/get-started/aws/automated-setup-cloudformation"
  />

  <DocTile
    title="Manually integrate your AWS account"
    path="/docs/cci/get-started/aws/manual-integrate-aws-account"
  />
</DocTiles>