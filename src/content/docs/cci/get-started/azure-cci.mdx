---
title: Cloud Cost Intelligence - Azure
tags:
  - cloud cost intelligence
  - azure
  - azure cost management
  - cloud cost optimization
  - cci azure
metaDescription: Connect your Azure billing to New Relic Cloud Cost Intelligence to monitor, analyze, and optimize cloud spending across Azure services.
redirect:
  - /docs/cci/financial-intelligence/cci-azure
  - /docs/cci/azure-cci
freshnessValidatedDate: 2025-10-15
---

<Callout title="preview">
  We're still working on this feature, but we'd love for you to try it out!

  This feature is currently provided as part of a preview program pursuant to our [pre-release policies](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

Connect your Azure billing to Cloud Cost Intelligence to monitor and optimize cloud spending. View spending patterns, resource use, and cost allocation across services and resource groups.

Key capabilities:
  - **Optimize resources** - Identify underutilized or costly services and adjust allocations
  - **Control costs** - Track cost drivers across compute, storage, networking, and databases
  - **Multi-subscription monitoring** - View spending across subscriptions and management groups
  - **Cost accountability** - Enable chargeback using Azure tags and resource groups
  - **Budget management** - Set alerts for spending thresholds and limits

## Before you begin

You need:
  - Azure subscription with active billing account
  - Contributor or Owner role on the subscription
  - Azure Cost Management access
  - Billing reader permissions for subscription or management group

## Setup instructions

<Callout variant="important">
**Already have a FOCUS export?** If you have an existing billing export with **Cost and Usage (FOCUS)** format, daily frequency, and Parquet compression, you can use it. Otherwise, create a new export following [Check for existing export](#check-existing-export), [Create billing export](#create-billing-export), and [Configure storage settings](#configure-storage-settings).
</Callout>

<Steps>
  <Step>
    ### Check for existing export [#check-existing-export]

    Check if you already have a billing export with the required format:

    1. In the Azure portal, go to **Cost Management & Billing**.
    2. Select your **Billing Scope**, then expand **Settings** and click **Exports**.
    3. Review the list for an export with **Cost and Usage (FOCUS)** format and **Parquet** compression.

      - **If a matching export exists**: Proceed to [Select New Relic account](#select-new-relic-account).
      - **If no matching export exists**: Continue to [Create billing export](#create-billing-export).

  </Step>
  <Step>
    ### Create billing export [#create-billing-export]

    1. In the Azure portal, go to **Cost Management & Billing**.
    2. Select your **Billing Scope**, then expand **Settings** and click **Exports**.
    3. Click **Create**.
    4. Select **Cost and Usage (FOCUS)** as the export type.

    <Callout variant="important">
      For EA and MCA the export type format should be **Cost and usage details (FOCUS) : 1.2-preview..**
    </Callout>

    5. Provide an export prefix. Configure the export with these parameters:

    <table>
      <thead>
        <tr>
          <th width={200}>Parameter</th>
          <th width={200}>Value</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Type of Data</td>
          <td>Cost and Usage details (FOCUS) - Preview</td>
          <td>Provides detailed cost and usage information in FOCUS format</td>
        </tr>
        <tr>
          <td>Export Name</td>
          <td>A descriptive name of your choice</td>
          <td>Meaningful identifier for your export</td>
        </tr>
        <tr>
          <td>Dataset Version</td>
          <td>1.2-preview (Latest dataset schema files)</td>
          <td>Latest schema version available</td>
        </tr>
        <tr>
          <td>Frequency</td>
          <td>Daily export of month-to-date costs</td>
          <td>Daily exports capture month-to-date cost information</td>
        </tr>
        <tr>
          <td>Export Description</td>
          <td>A meaningful description of your choice</td>
          <td>Context about the export purpose</td>
        </tr>
      </tbody>
    </table>

    6. Click **Next**.

  </Step>
  <Step>
    ### Configure storage settings [#configure-storage-settings]

    1. Configure where Azure stores your billing data:

    <table>
      <thead>
        <tr>
          <th width={200}>Setting</th>
          <th width={200}>Value</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Storage Type</td>
          <td>Blob Storage</td>
          <td>Azure Blob Storage for cost data</td>
        </tr>
        <tr>
          <td>Destination Storage</td>
          <td>Use existing storage account or create a new one</td>
          <td>Storage location for billing data</td>
        </tr>
        <tr>
          <td>Container and Directory</td>
          <td>Use existing container/directory or create new</td>
          <td>Organization structure for billing exports</td>
        </tr>
        <tr>
          <td>Compression Type</td>
          <td>Parquet</td>
          <td>Provides optimal storage efficiency and query performance</td>
        </tr>
        <tr>
          <td>Data Overwrite</td>
          <td>Yes</td>
          <td>Allows updates to existing data</td>
        </tr>
        <tr>
          <td>File Partitioning</td>
          <td>Yes</td>
          <td>Enables efficient data organization and retrieval</td>
        </tr>
      </tbody>
    </table>

      <Callout variant="important">
        We recommend the storage account to be based in **(US) East US**. This helps save on outbound data transfer costs. The storage type should be **Azure Blob storage**.
      </Callout>

    2. Review your settings.
    3. Click **Create**.
    4. Verify the export appears in your **Exports** list and ensure:

       - FOCUS (FinOps Open Cost and Usage Specification) format is in preview
       - Dataset version 1.2-preview is the latest schema version
       - Daily exports capture month-to-date cost information
       - Parquet compression provides storage efficiency and query performance
  </Step>
  <Step>
    ### Select New Relic account [#select-new-relic-account]

    1. Go to <DNT>[**one.newrelic.com**](https://one.newrelic.com) > **All Capabilities** > **Cloud Cost Intelligence - Azure**</DNT>.
    2. Select your account and click **Continue**.
  </Step>
  <Step>
    ### Provide Azure connection details [#provide-azure-connection-details]

    1. Enter your Azure billing and storage information:

    <table>
      <thead>
        <tr>
          <th width={220}>Field</th>
          <th>Description</th>
          <th>Location</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>**Azure Agreement Type**</td>
          <td>
            Select your agreement type.
          </td>
          <td>
            Navigate to **Azure Console > Cost Management + Billing > Settings > Properties**. See [Billing accounts and scopes in the Azure portal](https://learn.microsoft.com/en-us/azure/cost-management-billing/manage/view-all-accounts).
          </td>
        </tr>
        <tr>
          <td>**Tenant ID**</td>
          <td>
            Enter the unique identifier for your organization's Microsoft Entra ID instance.
          </td>
          <td>
            Go to **[Microsoft Entra Admin center](https://entra.microsoft.com/#home)**
          </td>
        </tr>
        <tr>
          <td>**Billing account ID**</td>
          <td>
            Enter your billing account ID.
          </td>
          <td>
            Navigate to **Azure Console > Cost Management + Billing > Settings > Properties**. See [Billing administration](https://learn.microsoft.com/en-us/azure/cost-management-billing/manage/direct-ea-administration#to-view-enrollment-properties).
          </td>
        </tr>
        <tr>
          <td>**Azure Storage account name**</td>
          <td>
            Enter the storage account name from the export you created. To reduce outbound data transfer costs, use a storage account in **East US (US)**. The storage type must be **Azure Blob storage**.
          </td>
          <td>
          </td>
        </tr>
        <tr>
          <td>**Storage Container Name**</td>
          <td>
            Enter the container name within your storage account that holds the billing export files.
          </td>
          <td>
            Go to **[Microsoft Azure](https://portal.azure.com/#home) > Subscription > Storage account > Container**
            **Note**: You must grant access to the New Relic service principal in the next step for this container.
          </td>
        </tr>
        <tr>
          <td>**Directory Path**</td>
          <td>
            By default Microsoft Azure creates cost export files in folders with monthly nomenclatures, like `20251101-20251130` for Nov 2025, and `20251201-20251231` for Dec 2025. CCI automatically traverses these files for daily cost reports. You need to provide the Directory Path only if the files have not been configured to be published in the container root.

            **Example 1**: If files are configured to be published in Storage Container named `newreliccciazure` in the root.
            - **Action**: Leave empty

            **Example 2**: If files are configured to be published in Storage Container named `newreliccciazure` in a specified directory `azureCostData`, with sub-directory like `johnDoefiles`, the final file folder structure looks like `newreliccciazure/azureCostData/johnDoefiles/20251101`.
            - **Action**: Provide `azureCostData/johnDoefiles` as the Directory path
          </td>
          <td>
          </td>
        </tr>
      </tbody>
    </table>

    2. Click **Continue**.
  </Step>
  <Step>
    ### Authorize access [#authorize-access]

    Authorize the New Relic service principal (**msazurecostdata**) to access your billing data:

    1. Click **Initiate Connection**.
    2. Complete the **Microsoft Authentication** flow.
      <Callout variant="important">
        Azure administrator approval required.
      </Callout>
    3. Accept the authentication request.
    4. A small file (0 KB) will download. You can delete this file.
  </Step>
  <Step>
    ### Confirm service principal [#confirm-service-principal]

    Verify the service principal was added:

    1. Go to **Enterprise Applications** in **Microsoft Entra Account**.
    2. Confirm **msazurecostdata** appears in the list.

      <Callout variant="important">
        See [Microsoft Entra documentation](https://learn.microsoft.com/en-us/entra/identity/enterprise-apps/view-applications-portal) for help viewing enterprise applications.
      </Callout>

  </Step>
  <Step>
    ### Assign permissions [#assign-permissions]

    Assign **Storage Blob Data Reader** role for read-only access:

    1. Open your storage account container and select **Access Control (IAM)**.
    2. Click **Add** > **Add role assignment**.
    3. Select **Storage Blob Data Reader**.
    4. Search for and select `msazurecostdata`.
    5. Click **Review + Assign** and verify `msazurecostdata` appears in role assignments.
  </Step>
  <Step>
    ### Verify setup [#verify-setup]

    Confirm:
    - **msazurecostdata** appears in **Enterprise Applications**
    - Service principal has **Storage Blob Data Reader** role
    - Role applies to correct storage container
    - Connection test succeeds in New Relic

      <Callout variant="important">
        **Security**: Service principal has read-only access to billing data only. It cannot write, modify, or delete data.
      </Callout>

  </Step>
  <Step>
    ### Data processing [#data-processing]

    Initial processing takes up to 12 hours. Your cost data then appears in the Cost Overview dashboard.
  </Step>
  <Step>
    ### View your data [#view-your-data]

    Go to [**Intelligent summary**](/docs/cci/financial-intelligence/intelligent-summary) to view your Azure cost data and optimize spending.
  </Step>
</Steps>

<DocTiles numbered>
  <DocTile
    title="Set up AWS"
    path="/docs/cci/get-started/aws-cci"
  />

  <DocTile
    title="Set up Azure"
    label={{text: 'You are here', color: '#FCD672'}}
    path="/docs/cci/get-started/azure-cci"
  />

  <DocTile
    title="Set up Google Cloud Platform"
    path="/docs/cci/get-started/gcp-cci"
  />
</DocTiles>
