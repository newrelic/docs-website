---
title: 'Manage custom KPIs for Intelligent workloads'
tags:
  - New Relic
  - Use New Relic
  - Workloads
  - Intelligent workloads
  - KPIs
metaDescription: 'Define and monitor custom key performance indicators for your Intelligent workloads.'
redirects:
  - /docs/new-relic-solutions/new-relic-one/workloads/advanced-workload-kpis
freshnessValidatedDate: never
---

<Callout variant="important">
  Custom KPIs for Intelligent workloads are in **Public Preview**.
</Callout>

Custom KPIs let you define and monitor business-specific metrics at the workload level, connecting technical performance to business outcomes. Available exclusively for [Intelligent workloads](/docs/new-relic-solutions/new-relic-one/workloads/intelligent-workloads), KPIs automatically scope to current workload entities and update as membership changes.

## What are workload KPIs? [#definition]

Workload KPIs are custom metrics you define using NRQL queries that evaluate data across all entities in your Intelligent workload. They help you:

* **Track business metrics**: Revenue, conversions, completed orders, user signups
* **Monitor aggregated performance**: Average response time across all services
* **Measure end-to-end metrics**: Total transaction duration from start to finish
* **Alert on workload-level thresholds**: Notify teams when business goals are at risk
* **Connect tech to business**: Correlate application performance with business outcomes

Unlike entity-level metrics that track individual services or hosts, workload KPIs provide a holistic view of how your entire transaction flow performs.

## Default KPIs [#default-kpis]

When you create an Intelligent workload, New Relic automatically provides two default KPIs focused on your focal transaction. These KPIs are **uneditable** but can be hidden if not needed:

### Success Rate (Focal Transaction)

Measures the percentage of executions of the focal transaction that do NOT result in an error. This represents the availability and reliability of your critical transaction:

```sql
SELECT percentage(count(*), WHERE error IS false) AS 'Success Rate'
FROM Transaction
WHERE entityGuid = '{{focalTransactionEntityGuid}}'
```

**Why it matters:** A dip in the Success Rate is often the first indicator of a code issue, infrastructure failure, or downstream dependency problem. Monitoring this helps you catch reliability issues before they significantly impact users.

**Note:** This KPI cannot be edited but can be hidden from the summary page if you prefer to track different metrics.

### P99 Response Time (Focal Transaction)

The maximum time it took for the fastest 99% of executions of the focal transaction to complete. Only 1% of requests were slower than this value:

```sql
SELECT PERCENTILE(duration, 99) AS 'P99 Response Time'
FROM Transaction
WHERE entityGuid = '{{focalTransactionEntityGuid}}'
```

**Why it matters:** This KPI monitors tail latency and helps prevent user frustration. It ensures that even during peak loads or background processing spikes, the workload does not suffer from significant bottlenecks. While average response time might look acceptable, P99 reveals the experience of users encountering the slowest responses.

**Note:** This KPI cannot be edited but can be hidden from the summary page if you prefer to track different metrics.

## How KPIs work with Intelligent workloads [#how-they-work]

KPIs leverage the automatic entity discovery of Intelligent workloads:

1. **Dynamic scoping**: KPIs automatically query only entities currently in the workload
2. **Auto-updates**: As workload membership changes every 5 minutes, KPIs adjust their scope
3. **Workload-wide aggregation**: Calculate metrics across all participating entities
4. **Business context**: Define metrics that matter to stakeholders, not just engineers

<Callout variant="tip">
  Use the `{{workloadEntityNames}}` or `{{workloadEntityGuids}}` template variables in your NRQL queries to automatically scope to current workload entities.
</Callout>

## Add a KPI [#add-kpi]

You can add KPIs to your Intelligent workload in two ways: create custom KPIs or add existing KPIs from the catalog.

### Create a custom KPI [#create-custom-kpi]

Create new KPIs to track the metrics most important to your business:

1. Open your Intelligent workload
2. Navigate to the <DNT>**Manage KPIs**</DNT> section
3. Click <DNT>**Add new KPI**</DNT>
4. Configure the KPI:
   * **Name**: Give it a descriptive, business-friendly name
   * **NRQL query**: Write a query that calculates the metric
   * **Group** (optional): Organize KPIs by functional area (e.g., "Performance", "Business Metrics")
   * **Category** (optional): Further classify KPIs (e.g., "Latency", "Throughput", "Revenue")
5. Click <DNT>**Preview**</DNT> to verify the query returns expected results
6. Click <DNT>**Save**</DNT>

<Callout variant="important">
  You can display a maximum of **8 KPIs** on the summary page at one time. This limit ensures the summary remains focused and readable.
</Callout>

### Add KPIs from the catalog [#add-from-catalog]

Reuse KPIs already created in your workload or clone them from other workloads in your account:

1. Navigate to <DNT>**Manage KPIs**</DNT>
2. Click <DNT>**Add from catalog**</DNT>
3. Browse available KPIs:
   * KPIs created for this workload
   * KPIs from other Intelligent workloads in your account
4. Select the KPI(s) you want to add
5. Choose whether to:
   * **Add**: Use the KPI as-is from the catalog
   * **Clone**: Create a copy that you can modify independently
6. Click <DNT>**Add to summary**</DNT>

Cloning KPIs helps you avoid duplication of effort when similar metrics are tracked across multiple workloads.

## Organize KPIs with groups and categories [#organize-kpis]

Use groups and categories to organize your KPI catalog and make it easier to find related metrics:

* **Group**: Broad functional area (e.g., "Performance", "Business Metrics", "User Experience", "Reliability")
* **Category**: Specific metric type (e.g., "Latency", "Throughput", "Revenue", "Error Rate", "Conversion")

**Example organization:**
```
Group: Performance
  ├─ Category: Latency
  │   ├─ P99 Response Time
  │   └─ Average Checkout Duration
  └─ Category: Throughput
      └─ Transactions per Minute

Group: Business Metrics
  ├─ Category: Revenue
  │   └─ Order Value
  └─ Category: Conversion
      └─ Checkout Completion Rate
```

This structure helps teams quickly locate specific KPIs in large workload catalogs and understand the purpose of each metric at a glance.

### Example KPIs [#examples]

Here are common KPI patterns for Intelligent workloads with suggested groups and categories:

#### Average checkout duration
Track how long customers take to complete checkout:

**Group:** Performance
**Category:** Latency

```sql
SELECT average(duration) * 1000 AS 'Avg Duration (ms)'
FROM Transaction
WHERE appName IN ({{workloadEntityNames}})
AND name LIKE '%checkout%'
```

#### Total error rate
Monitor error percentage across all workload entities:

**Group:** Reliability
**Category:** Error Rate

```sql
SELECT percentage(count(*), WHERE error IS true) AS 'Error Rate'
FROM Transaction
WHERE appName IN ({{workloadEntityNames}})
```

#### Business transactions per minute
Measure transaction throughput for revenue-generating requests:

**Group:** Business Metrics
**Category:** Throughput

```sql
SELECT rate(count(*), 1 minute) AS 'Transactions/min'
FROM Transaction
WHERE appName IN ({{workloadEntityNames}})
AND transactionType = 'Web'
AND (name LIKE '%purchase%' OR name LIKE '%checkout%')
```

#### Average API response time
Track performance of API calls in the workload:

```sql
SELECT average(duration * 1000) AS 'Avg Response Time (ms)'
FROM Transaction
WHERE appName IN ({{workloadEntityNames}})
AND transactionType = 'Web'
```

#### Database query performance
Monitor database performance across the workload:

```sql
SELECT average(duration * 1000) AS 'Avg Query Time (ms)'
FROM DatastoreDuration
WHERE entity.name IN ({{workloadEntityNames}})
```

#### Successful order completion rate
Track the percentage of successful order transactions:

```sql
SELECT percentage(count(*), WHERE httpResponseCode = '200')
FROM Transaction
WHERE appName IN ({{workloadEntityNames}})
AND name LIKE '%order%' OR name LIKE '%purchase%'
```

#### External service call latency
Monitor third-party API and service call performance:

```sql
SELECT average(duration * 1000) AS 'Avg External Call Time (ms)'
FROM Span
WHERE entity.name IN ({{workloadEntityNames}})
AND category = 'http'
AND span.kind = 'client'
```

## View and monitor KPIs [#monitor]

After adding KPIs, up to 8 can be displayed on your workload summary page as tiles. Each KPI tile shows:

* **Current value**: Real-time KPI measurement
* **Trend indicator**: Visual showing if the metric is improving or degrading
* **Time series chart**: Historical performance over the selected time range
* **Anomaly detection**: Highlights when KPIs deviate from normal patterns

The 8-KPI limit ensures your summary page remains focused and easy to scan. Use the **Manage KPIs** page to view the complete catalog of all KPIs available for your workload.

### Interpreting KPI status [#kpi-status]

KPIs display color-coded status when you set a target value:

* **Green**: Performing at or better than target
* **Yellow**: Within acceptable range but approaching threshold
* **Red**: Below target, requires attention

<Callout variant="tip">
  Set realistic targets based on historical data. Start with P50 or P75 percentiles and adjust as your team improves performance.
</Callout>

## Create KPI alerts [#alerts]

Alert on KPIs to notify teams when business-critical metrics deviate from goals:

1. Click the KPI you want to alert on
2. Select <DNT>**Create alert condition**</DNT>
3. Configure the alert:
   * **Threshold type**: Above or below target value
   * **Threshold value**: Numeric value that triggers the alert
   * **Duration**: How long the threshold must be breached before alerting
   * **Notification channels**: Where to send alerts (Slack, PagerDuty, email, etc.)
4. Give the alert a descriptive name
5. Save the alert condition

### Alert best practices [#alert-best-practices]

* **Start with critical KPIs**: Alert on 2-3 most important metrics first
* **Set appropriate thresholds**: Balance between sensitivity and alert fatigue
* **Use duration windows**: Avoid alerts for momentary spikes (e.g., "for at least 5 minutes")
* **Configure severity levels**: Use warning and critical thresholds for graduated response
* **Test alerts**: Verify notifications reach the right teams

## Edit or delete KPIs [#manage]

The **Manage KPIs** page provides a central location to create, edit, delete, and view all KPIs for your Intelligent workload:

<img
  title="Manage KPIs page"
  alt="Screenshot showing KPI management interface with KPI table and configuration options"
  src="/images/intelligent-workload-manage-kpis.webp"
/>

<figcaption>
  <DNT>**Manage KPIs:**</DNT> View, edit, and configure your workload KPIs from the Manage KPIs page.
</figcaption>

### Edit a KPI [#edit-kpi]

Modify KPI details as your business goals evolve:

1. Go to <DNT>**Manage KPIs**</DNT> in your Intelligent workload
2. Find the KPI you want to modify
3. Click <Icon name="fe-more-horizontal"/> next to the KPI name
4. Select <DNT>**Edit**</DNT>
5. Update any of the following:
   * **NRQL query**: Modify the query logic
   * **Name**: Change the KPI display name
   * **Group**: Update the functional grouping
   * **Category**: Adjust the classification
6. Click <DNT>**Preview**</DNT> to validate changes
7. Click <DNT>**Save**</DNT>

<Callout variant="tip">
  Default KPIs (Success Rate and P99 Response Time) cannot be edited, but you can hide them from the summary page if they don't meet your needs.
</Callout>

### Delete a KPI [#delete-kpi]

Permanently remove KPIs that are no longer relevant:

1. Go to <DNT>**Manage KPIs**</DNT>
2. Find the KPI to remove
3. Click <Icon name="fe-more-horizontal"/> next to the KPI name
4. Select <DNT>**Delete**</DNT>
5. Confirm deletion

<Callout variant="caution">
  Deleting a KPI:
  * Permanently removes it from the catalog
  * Removes any associated alerts
  * Cannot be undone

  Consider exporting alert configurations before deleting KPIs you might recreate later.
</Callout>

### Hide default KPIs [#hide-default]

If the default KPIs don't align with your monitoring needs:

1. Go to your workload summary page
2. Find the default KPI tile
3. Click <Icon name="fe-more-horizontal"/>
4. Select <DNT>**Hide from summary**</DNT>

Hidden KPIs remain in the catalog and can be shown again later.

## Best practices [#best-practices]

Follow these guidelines to get the most value from workload KPIs:

### Start focused [#start-focused]
* **Limit to 5-8 KPIs on summary**: Maximum is 8, but fewer is often better
* **Prioritize business-critical metrics**: Focus on what stakeholders care about most
* **Use default KPIs**: Start with Success Rate and P99 Response Time, then add custom metrics
* **Align with SLOs**: Use KPIs to track service level objectives

### Use meaningful names [#meaningful-names]
* **Make KPIs self-explanatory**: "Checkout Completion Rate" vs. "tx_rate_metric_1"
* **Include units in names**: "Avg Response Time (ms)" vs. "Response Time"
* **Be consistent**: Use the same naming pattern for all KPIs

### Set realistic targets [#realistic-targets]
* **Base on historical data**: Review 30-90 days of performance
* **Account for variance**: Set targets above P50 but below P95
* **Adjust over time**: Update targets as you improve performance
* **Consider business context**: Peak hours may have different targets

### Test thoroughly [#test-queries]
* **Verify NRQL before saving**: Use the query builder to test results
* **Check edge cases**: Ensure queries work during low traffic and outages
* **Validate units**: Confirm calculations return expected values
* **Monitor query performance**: Avoid queries that time out

### Review regularly [#review-regularly]
* **Monthly KPI audit**: Remove irrelevant KPIs, add new ones
* **Update as architecture changes**: Adjust queries when services change
* **Gather team feedback**: Ask if KPIs help with decision-making
* **Document KPI meanings**: Maintain a guide explaining each KPI's business context

## Limitations [#limitations]

Be aware of these current limitations during Public Preview:

* **Summary page display**: Maximum of 8 KPIs can be displayed on the summary page at one time
* **Default KPIs**: Cannot be edited, but can be hidden from the summary
* **Query timeout**: 60 seconds per query
* **Query scope**: KPIs can only query entities in the workload
* **Historical data**: KPI data retained for 30 days
* **Update frequency**: KPI values update every minute
* **Entity types**: Limited to entities supported by Intelligent workloads

## Troubleshooting [#troubleshooting]

### KPI shows no data [#no-data]

If your KPI displays "No data":

1. **Check the NRQL query**: Verify it returns results in the query builder
2. **Confirm entity names**: Ensure `{{workloadEntityNames}}` includes active entities
3. **Verify time range**: Check if data exists in the selected time window
4. **Review permissions**: Ensure you have access to query the data sources

### KPI values seem incorrect [#incorrect-values]

If KPI calculations don't match expectations:

1. **Test without template**: Replace `{{workloadEntityNames}}` with actual entity names
2. **Check aggregation**: Verify `average()`, `sum()`, or `percentage()` is appropriate
3. **Review filters**: Confirm `WHERE` clauses don't exclude relevant data
4. **Validate units**: Ensure calculations match the specified unit (e.g., ms vs. seconds)

### KPI alerts not firing [#alerts-not-firing]

If you're not receiving expected alerts:

1. **Check alert condition status**: Verify the condition is enabled
2. **Review threshold values**: Ensure thresholds are appropriate for the metric
3. **Confirm notification channels**: Verify channels are configured correctly
4. **Check incident duration**: Make sure breaches last longer than the duration setting
5. **Test manually**: Temporarily set a threshold that should fire immediately

## Next steps [#next-steps]

Enhance your Intelligent workload monitoring:

* **[Use AI insights](/docs/new-relic-solutions/new-relic-one/workloads/intelligent-workload-ai-insights)**: Get AI-generated summaries referencing your KPIs
* **[Configure workload alerts](/docs/new-relic-solutions/new-relic-one/workloads/workload-status-views-notifications)**: Set up notifications for workload status changes
* **[Learn NRQL query syntax](/docs/nrql/get-started/introduction-nrql-new-relics-query-language)**: Master query writing for complex KPIs
* **[Create custom dashboards](/docs/query-your-data/explore-query-data/dashboards/introduction-dashboards)**: Visualize KPIs alongside other metrics
