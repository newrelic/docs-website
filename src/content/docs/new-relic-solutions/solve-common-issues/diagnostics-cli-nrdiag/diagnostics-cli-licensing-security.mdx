---
title: Diagnostics CLI licensing and security
tags:
  - Using New Relic
  - Cross-product functions
  - Diagnostics CLI (nrdiag)
metaDescription: 'Like any other New Relic tool, the Diagnostics CLI service (nrdiag) is designed to protect data privacy for you and your customers.'
redirects:
  - /docs/using-new-relic/cross-product-functions/diagnostics-cli-nrdiag/diagnostics-cli-licensing-security
freshnessValidatedDate: never
---

Like any other New Relic tool, the Diagnostics CLI service is designed to protect data privacy for you and your customers. The Diagnostics CLI inspects system information and relevant New Relic product artifacts, such as logs and config files. The CLI focuses only on information needed to perform diagnostic checks that assess New Relic product configuration and operability.

By default, this data is not transmitted to New Relic. You do have the option to upload this information to your New Relic account over HTTPS. For more information about New Relic's security measures, see our [security and privacy documentation](/docs/security/security-privacy/data-privacy/data-privacy-new-relic), or visit the [New Relic security website](https://newrelic.com/security).

## License agreements [#diagnostics-licenses]

The use of the Diagnostics CLI is subject to this [license agreement](/docs/licenses/license-information/other-licenses/new-relic-diagnostics-licenses), as well as licensing agreements for open-source software used by the Diagnostics CLI.

## Data uploaded to account [#uploaded-account-data]

The Diagnostics CLI allows uploading of this information to a New Relic account over HTTPS if you use a specific command-line argument. You will be prompted before the collection of any files that we expect to have sensitive information.

Before the collected files [contained within `nrdiag-output.zip` and `nrdiag-output.json`](/docs/using-new-relic/cross-product-functions/diagnostics-cli-nrdiag/interpret-nrdiag-output) are uploaded to New Relic, you will also be prompted. This allows you to review and edit any information that you do not want to provide. (For example, the `nrdiag-output.zip` will include your user name.) You also have the option to cancel the upload altogether.

## Data storage

All attachments made using `nrdiag` or containing `nrdiag` data are stored by New Relic.

## Environment variables

The Diagnostics CLI examines the following environment variables to perform diagnostic checks. The values of these variables are recorded locally in the `nrdiag-output.json` file. These include:

* Any environment variable containing `NEWRELIC` or `NEW_RELIC`
* Any environment variable beginning with `NRIA`

<DNT>
  **A-C:**
</DNT>

* `APP_ENV`
* `APPDATA`
* `COR_ENABLE_PROFILER`
* `COR_PROFILER`
* `COR_PROFILER_PATH`
* `CORECLR_ENABLE_PROFILING`
* `CORECLR_PROFILER`
* `CORECLR_PROFILER_PATH`

<DNT>
  **D-I:**
</DNT>

* `DEFAULT_LOCALE_CFG_FILE`
* `DOCKER_API_VERSION`
* `DOCKER_HOST`
* `DOTNET_INSTALL_PATH`
* `DOTNET_SDK_VERSION`
* `GLIBC_REPO`
* `GLIBC_VERSION`
* `HOME`

<DNT>
  **J-L:**
</DNT>

* `JAVA_HOME`
* `JAVA_JCE`
* `JAVA_PACKAGE`
* `JAVA_VERSION_BUILD`
* `JAVA_VERSION_MAJOR`
* `JAVA_VERSION_MINOR`
* `JBOSS_HOME`
* `LANG`
* `LOCALAPPDATA`

<DNT>
  **M:**
</DNT>

* `MINION_API_ENDPOINT`
* `MINION_API_PROXY`
* `MINION_API_PROXY_SELF_SIGNED_CERT`
* `MINION_CHECK_TIMEOUT`
* `MINION_DOCKER_API_VERSION`
* `MINION_DOCKER_HOST`
* `MINION_DOCKER_RUNNER_APPARMOR`
* `MINION_DOCKER_RUNNER_REGISTRY_ENDPOINT`
* `MINION_GROUP`
* `MINION_JAR`
* `MINION_JVM_MB`
* `MINION_JVM_OPTS`
* `MINION_LOG_LEVEL`
* `MINION_PROVIDER`
* `MINION_USER`

<DNT>
  **N-Z:**
</DNT>

* `PATH`
* `ProgramFiles`
* `ProgramData`
* `RACK_ENV`
* `RAILS_ENV`
* `RUBY_ENV`
* `WORKDIR`
