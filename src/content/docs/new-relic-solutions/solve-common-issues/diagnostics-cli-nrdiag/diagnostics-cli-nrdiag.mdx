---
title: Diagnostics CLI (nrdiag)
tags:
  - Using New Relic
  - Cross-product functions
  - Diagnostics CLI (nrdiag)
metaDescription: Use New Relic Diagnostics CLI to automatically diagnose common problems with New Relic agents and send the results to Support.
redirects:
  - /docs/new-relic-diagnostics
  - /docs/agents/manage-apm-agents/troubleshooting/new-relic-diagnostics
  - /docs/using-new-relic/cross-product-functions/troubleshooting/new-relic-diagnostics
  - /docs/using-new-relic/cross-product-functions/diagnostics-cli-nrdiag/diagnostics-cli-nrdiag-old
  - /docs/using-new-relic/cross-product-functions/diagnostics-cli-nrdiag/diagnostics-cli-nrdiag
freshnessValidatedDate: never
---

The Diagnostics CLI (`nrdiag`) is a utility that automatically detects common problems with New Relic products. If the Diagnostics CLI detects a problem, it suggests troubleshooting steps. The Diagnostics CLI can automatically upload troubleshooting data to a New Relic account.

The Diagnostics CLI is open source and is located in [GitHub](https://github.com/newrelic/newrelic-diagnostics-cli).

For additional troubleshooting steps for your agent, check out [Not seeing data](/docs/agents/manage-apm-agents/troubleshooting/not-seeing-data).

<img
  title="New Relic Diagnostics - Ubuntu Linux"
  alt="New Relic Diagnostics - Ubuntu Linux"
  src="/images/solutions_screenshot-crop_ubuntu-diagnostics.gif"
/>

<figcaption>
  Here's an example of the Diagnostics CLI running on Ubuntu Linux. The program checks your New Relic agent configurations for issues and generates zipped troubleshooting logs that are ready to be attached to support tickets.
</figcaption>

## Compatibility

The Diagnostics CLI is available for Linux, macOS, and Windows. It can detect common configuration issues for:

* <DNT>**APM**</DNT>: Available for all <InlinePopover type="apm"/> agents. For the Go agent, only basic connectivity checks are available.
* <DNT>**Browser monitoring**</DNT>: Detection for <InlinePopover type="browser"/> agent.
* <DNT>**Infrastructure monitoring**</DNT>: Linux and Windows agents
* <DNT>**Mobile agents**</DNT>: iOS and Android
* <DNT>**Synthetic monitoring**</DNT>: Containerized private minions (CPM)
* <DNT>**Kubernetes**</DNT>: Kubernetes, Agent Control, Helm and Flux

The Diagnostics CLI does not require `superuser` or `admin` permissions to run, although we recommend those permissions for some checks. It will return an error if it does not have permissions to read the files it scans.

## Get started

To use the Diagnostics CLI:

1. Run the Diagnostics CLI, including [task suites](/docs/new-relic-solutions/solve-common-issues/diagnostics-cli-nrdiag/run-diagnostics-cli-nrdiag) and [command line options](/docs/using-new-relic/cross-product-functions/diagnostics-cli-nrdiag/pass-command-line-options-nrdiag) as needed.
2. Supply the [`-attach` or `-api-key`](/docs/using-new-relic/cross-product-functions/diagnostics-cli-nrdiag/pass-command-line-options-nrdiag) flag for uploading results to your New Relic account.
3. Optional: Validate your [config file settings](/docs/using-new-relic/cross-product-functions/diagnostics-cli-nrdiag/validate-config-file-settings-nrdiag).
4. Interpret the [output](/docs/using-new-relic/cross-product-functions/diagnostics-cli-nrdiag/interpret-nrdiag-output).

Like any other New Relic tool, the Diagnostics CLI service is designed to protect you and your customers' data privacy. For detailed information, see our [Diagnostics CLI licensing and security](/docs/using-new-relic/cross-product-functions/diagnostics-cli-nrdiag/diagnostics-cli-licensing-security) documentation.
