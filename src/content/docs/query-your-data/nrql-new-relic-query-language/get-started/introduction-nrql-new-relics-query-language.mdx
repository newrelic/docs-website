---
title: "Introduction to NRQL, New Relic's query language"
tags:
  - Query your data
  - 'NRQL: New Relic query language'
  - Get started
translate:
  - jp
metaDescription: "An introduction NRQL, the New Relic query language."
redirects:
  - /docs/insights/new-relic-insights/using-new-relic-query-language/using-nrql
  - /docs/insights/new-relic-insights/using-new-relic-query-language/get-started-nrql
  - /docs/insights/nrql-new-relic-query-language/using-nrql/introduction-nrql
  - /docs/insights/insights-data-sources/default-events-attributes/view-default-data-other-new-relic-products-insights
  - /node/38966
  - /docs/query-data/nrql-new-relic-query-language/getting-started/introduction-nrql
  - /docs/query-your-data/explore-query-data/nrql/nrql
  - /node/38966
  - /docs/query-data/nrql-new-relic-query-language/getting-started/introduction-nrql
  - /docs/query-your-data/explore-query-data/nrql/nrql
  - /docs/insights/
  - /docs/rubicon/known-limitations
  - /docs/insights/known-limitations
  - /docs/insights/new-relic-insights/troubleshooting/known-limitations
  - /docs/insights/new-relic-insights
  - /docs/apis/server-api-v2
  - /docs/apm/apis/api-v2-examples/server-examples-api-v2
  - /docs/apm/apis/server-examples-v2/obtaining-available-used-disk-space-api-v2
  - /docs/apm/apis/server-examples-v2/obtaining-disk-io-rates-api-v2
  - /docs/apm/apis/server-examples-v2/obtaining-disk-io-data-api-v2
  - /docs/apm/apis/server-examples-v2/listing-your-server-id-metric-data-api-v2
  - /docs/apm/apis/server-examples-v2/calculating-average-available-server-memory-api-v2
  - /docs/apis/server-examples-v2/calculating-average-available-server-memory-v2
  - /docs/apm/apis/server-examples-v2/getting-average-cpu-percentages-api-v2
  - /docs/apm/apis/server-examples-v2/listing-cpu-load-data-api-v2
  - /docs/apm/apis/server-examples-v2/obtaining-load-average-values-server
  - /docs/apm/apis/server-examples-v2/obtaining-server-networking-data-api-v2
  - /docs/apm/apis/server-examples-v2/removing-server-dashboard-api-v2
  - /docs/apis/server-examples-v2/obtaining-available-used-disk-space-v2
  - /docs/apis/server-examples-v2/obtaining-disk-io-data-v2
  - /docs/apis/server-examples-v2/listing-your-server-id-metric-data-v2
  - /docs/apis/server-examples-v2/obtaining-load-average-values-server-v2
  - /docs/apis/server-examples-v2/obtaining-server-networking-data-v2
  - /docs/apis/rest-api-v2/server-examples-v2/removing-server-dashboard-v2
  - /docs/apis/rest-api-v2/server-examples-v2/obtaining-available-used-disk-space-v2
  - /docs/apis/rest-api-v2/server-examples-v2/listing-your-server-id-metric-data-v2
  - /docs/apis/rest-api-v2/server-examples-v2/calculating-average-available-server-memory-v2
  - /docs/apis/server-examples-v2/getting-average-cpu-percentages-v2
  - /docs/apis/rest-api-v2/server-examples-v2/obtaining-server-networking-data-v2
  - /docs/servers/rest-api-examples-v2/server-api-examples/obtaining-server-networking-data-v2
  - /docs/apis/rest-api-v2/server-examples-v2/obtaining-disk-io-data-v2
  - /docs/apis/rest-api-v2/server-examples-v2/list-your-server-id-metric-data-v2
  - /docs/apis/rest-api-v2/server-examples-v2/calculate-average-available-server-memory-v2
  - /docs/apis/server-examples-v2/get-average-cpu-percentages-v2
  - /docs/apis/rest-api-v2/server-examples-v2/listing-cpu-load-data-v2
  - /docs/apis/rest-api-v2/server-examples-v2/obtaining-load-average-values-server-v2
  - /docs/apis/rest-api-v2/server-examples-v2/removing-server-index-v2
  - /docs/apis/rest-api-v2/server-examples-v2/get-available-used-disk-space-v2
  - /docs/servers/rest-api-examples-v2/server-api-examples/calculate-average-available-server-memory-v2
  - /docs/servers/rest-api-examples-v2/server-api-examples/delete-server-index-v2
  - /docs/servers/rest-api-examples-v2/server-api-examples/get-server-networking-data-v2
  - /docs/servers/rest-api-examples-v2/server-api-examples/get-load-average-values-server-v2
  - /docs/intro-new-relic-apis
  - /docs/apis/getting-started/introduction-new-relic-apis
  - /docs/servers/rest-api-examples-v2/server-api-examples/get-host-networking-data-v2
  - /docs/servers/rest-api-examples-v2/server-api-examples/list-your-server-id-metric-data-v2
  - /docs/servers/rest-api-examples-v2/server-api-examples/calculate-average-available-host-memory-v2
  - /docs/servers/rest-api-examples-v2/server-api-examples/get-average-cpu-percentages-v2
  - /docs/servers/rest-api-examples-v2/server-api-examples/get-load-average-values-host-v2
  - /docs/servers/rest-api-examples-v2/server-api-examples/delete-host-index-v2
  - /docs/servers/rest-api-examples-v2
  - /docs/servers/rest-api-examples-v2/server-api-examples
  - /docs/rubicon/query-history
  - /docs/insights/query-history
  - /docs/insights/new-relic-insights/managing-dashboards-and-data/query-history
  - /docs/insights/new-relic-insights/using-insights-interface/query-history
  - /docs/insights/new-relic-insights/using-insights-interface/query-history-creating-editing-nrql-queries
  - /docs/insights/new-relic-insights/using-insights-interface/query-page-creating-editing-nrql-queries
  - /docs/insights/using-insights-ui/basic-ui-tasks/query-page-create-edit-nrql-queries
  - /docs/insights/use-insights-ui/basic-ui-tasks/query-page-create-edit-nrql-queries
  - /docs/insights/nrql-new-relic-query-language/using-nrql/query-page-create-edit-nrql-queries
  - /docs/insights/use-insights-ui/manage-account-data/query-page-create-edit-nrql-queries
  - /docs/insights/use-insights-ui/getting-started/introduction-new-relic-insights/  
  - /docs/insights/use-insights-ui/explore-data/query-page-create-edit-nrql-queries/
  - /docs/insights/use-insights-ui/manage-dashboards/add-customize-nrql-charts/
  - /docs/insights/use-insights-ui/manage-dashboards/add-customize-metric-charts/
  - /docs/insights/new-relic-insights/managing-dashboards-data/add-edit-agent-metric-widgets
  - /docs/insights/new-relic-insights/managing-dashboards-data/add-customize-agent-metric-widgets
  - /docs/insights/new-relic-insights/managing-dashboards-data/add-customize-metric-widgets
  - /docs/insights/using-insights-ui/advanced-ui-tasks/add-customize-metric-widgets
  - /docs/insights/use-insights-ui/manage-dashboards/add-customize-metric-widgets    
---

One way to [query your New Relic data](/docs/using-new-relic/data/understand-data/query-new-relic-data) is with the New Relic Query Language (NRQL). This resource explains what NRQL is, when and how you can use it, and basic syntax rules. For more detailed information on querying, including a listing of clauses and functions and example queries, see [NRQL syntax, clauses, and functions](/docs/query-your-data/nrql-new-relic-query-language/get-started/nrql-syntax-clauses-functions).

## What is NRQL?

NRQL is New Relic's SQL-like query language. You can use NRQL to retrieve detailed New Relic data and get insight into your applications, hosts, and business-important activity.

Reasons to use NRQL include:

* To answer a question for the purpose of troubleshooting or business analysis
* To create a new chart
* To make API queries of New Relic data (for example, using our [NerdGraph](/docs/apis/graphql-api/tutorials/nerdgraph-graphiql-nrql-tutorial) API)

NRQL is used behind the scenes to generate some New Relic charts:

![New Relic view chart NRQL query](./images/new-relic-view-chart-nrql-query_0.png "new-relic-view-chart-nrql-query.png")

<figcaption>
  Some New Relic charts are built using NRQL. One way to start using NRQL is to view a chart's query and then edit it to make your own custom chart.
</figcaption>

## Where can you use NRQL? [#where]

You can use NRQL in these places:

* [New Relic One query builder](/docs/chart-builder/use-chart-builder/get-started/introduction-chart-builder)
* [NerdGraph](/docs/apis/graphql-api/tutorials/nerdgraph-graphiql-nrql-tutorial): our GraphQL-format API, which includes options for making NRQL queries

![nrql_example.png](./images/nrql_example.png "nrql_example.png")

<figcaption>
  **[one.newrelic.com](https://one.newrelic.com) > Query your data**: You can run a NRQL query in [New Relic One](/docs/new-relic-one/use-new-relic-one/get-started/introduction-new-relic-one). This NRQL query shows a count of [distributed tracing](/docs/understand-dependencies/distributed-tracing/get-started/introduction-distributed-tracing) spans faceted by their entity names.
</figcaption>

NRQL is one of several ways to query New Relic data. For more on all query options, see [Query your data](/docs/using-new-relic/data/understand-data/query-new-relic-data).

## What data can you query with NRQL? [#what-you-can-query]

NRQL allows you to query these New Relic data types:

* [Event data](/docs/using-new-relic/data/understand-data/new-relic-data-types#event-data) from all New Relic products, including:
  * [APM events](/docs/insights/insights-data-sources/default-data/apm-default-events-insights), like `Transaction`
  * [Browser monitoring events](/docs/insights/insights-data-sources/default-data/browser-default-events-insights), like `PageView`
  * [Mobile monitoring events](/docs/insights/insights-data-sources/default-data/mobile-default-events-insights), like `Mobile`
  * [Infrastructure events](/docs/infrastructure/manage-your-data/data-instrumentation/default-infrastructure-events), like `ProcessSample`
  * [Synthetics events](/docs/insights/insights-data-sources/default-data/synthetics-default-events-insights), like `SyntheticCheck`
  * Custom events, like those reported by the [Event API](/docs/insights/insights-data-sources/custom-data/introduction-event-api)
* [Metric timeslice data](/docs/using-new-relic/data/understand-data/new-relic-data-types#timeslice-data) (metrics reported by APM, browser, and mobile)
* The [`Metric` data type](/docs/using-new-relic/data/understand-data/new-relic-data-types#metric-time-series) (metrics reported by the Metric API and data sources that use that API)
* The [`Span` data type](/docs/using-new-relic/data/understand-data/new-relic-data-types#trace-data) (distributed tracing data)
* The [`Log` data type](/docs/using-new-relic/data/understand-data/new-relic-data-types#log-data) (data from New Relic Logs)

<Callout variant="tip">
  Some data, like relationships between monitored entities, is not available via NRQL but is available using our [NerdGraph API](/docs/apis/nerdgraph/get-started/introduction-new-relic-nerdgraph).
</Callout>

## Start using NRQL [#start-learning]

One way to start using NRQL and to understand what data you have available is to go to a NRQL interface (for example, the [New Relic One query builder](/docs/chart-builder/use-chart-builder/get-started/introduction-chart-builder)), type `FROM`, and press space. The interface will suggest available types of data:

![nrql_query01.png](./images/nrql_query01.png "nrql_query01.png")

To see the [attributes](/docs/using-new-relic/welcome-new-relic/get-started/glossary#attribute) available for a specific data type, type `FROM DATA_TYPE SELECT` and press space. The interface will suggest available attributes. For example:

![nrql_query02.png](./images/nrql_query02.png "nrql_query02.png")

To see the complete JSON associated with a data type, including all of its attributes, use the `keyset()` attribute. For example:

```
FROM Transaction SELECT keyset()
```

NRQL is used behind the scenes to build some New Relic charts and dashboards. One way to learn NRQL is to find one of these NRQL-generated charts and start playing with the NRQL to create new, customized queries and charts:

![New Relic view chart NRQL query](./images/new-relic-view-chart-nrql-query_0.png "new-relic-view-chart-nrql-query.png")

<figcaption>
  Charts built with NRQL will have **View query** as an option. You can then edit and customize that query to see how your changes affect the resulting visualization.
</figcaption>

<Callout variant="important">
  To explore your data without having to use NRQL, use the [data explorer](/docs/query-your-data/explore-query-data/browse-data/introduction-data-explorer/). Learn more about [querying data in New Relic](/docs/query-your-data/explore-query-data/get-started/introduction-querying-new-relic-data/).
</Callout>

## NRQL query examples [#examples]

Here's an example NRQL query of `Transaction` data, which is reported by [APM](/docs/apm).

```
FROM Transaction SELECT average(duration) 
  FACET appName TIMESERIES auto
```

This would generate a chart that looks like:

![nrql_example.png](./images/nrql_example_0.png "nrql_example.png")

Here are some more query examples:

<CollapserGroup>
  <Collapser
    id="basic-browser-nrql"
    title="Basic NRQL query of browser data"
  >
    Here's a NRQL query of `PageView` data from [browser monitoring](/docs/browser).

    ```
    SELECT uniqueCount(user) FROM PageView 
      WHERE userAgentOS = 'Mac' 
      FACET countryCode
      SINCE 1 day ago 
      LIMIT 20
    ```
  </Collapser>

  <Collapser
    id="attribute-with-space"
    title="Attribute name with a space in it"
  >
    If a [custom attribute](/docs/insights/new-relic-insights/decorating-events/insights-custom-attributes) name has a space in it, use backticks around the attribute name:

    ```
    SELECT count(*)
     FROM Transaction
     FACET `Logged-in user`
    ```
  </Collapser>

  <Collapser
    id="query-multiple-events-columns"
    title="Querying multiple data sources"
  >
    To return data from two data sources, separate their data types with a comma. For example, this query returns a count of all [APM transactions](/docs/insights/new-relic-insights/decorating-events/insights-attributes#transaction-defaults) and [browser events](/docs/insights/new-relic-insights/decorating-events/insights-attributes#browser-defaults) over the last three days:

    ```
    SELECT count(*) FROM Transaction, PageView SINCE 3 days ago
    ```
  </Collapser>

  <Collapser
    id=""
    title="Query returning multiple columns"
  >
    To return multiple columns from a dataset, separate the aggregator arguments with a comma:

    ```
    SELECT function(attribute), function(attribute) ...
      FROM ...
    ```

    This query returns the minimum, average, and maximum duration for browser monitoring `PageView` events over the last week:

    ```
    SELECT min(duration), max(duration), average(duration)
      FROM PageView SINCE 1 week ago
    ```
  </Collapser>
</CollapserGroup>

See more [NRQL query examples](/docs/query-data/nrql-new-relic-query-language/nrql-query-examples).

## NRQL syntax [#syntax]

The syntax of a NRQL query is similar to standard SQL queries. Here is a breakdown of the structure of a NRQL query:

```
<a href="/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#state-select">SELECT</a> <a href="/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#functions">function(attribute)</a> [<a href="/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#sel-as">AS</a> 'label'][, ...] 
  <a href="/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#sel-from">FROM</a> data type
  [<a href="/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#sel-where">WHERE</a> attribute [comparison] [AND|OR ...]][AS 'label'][, ...]
  [<a href="/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#sel-facet">FACET</a> attribute | function(attribute)]
  [<a href="/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#sel-limit">LIMIT</a> number]
  [<a href="/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#sel-since">SINCE</a> time]
  [<a href="/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#sel-until">UNTIL</a> time]
  [<a href="/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#sel-timezone">WITH TIMEZONE</a> timezone]
  [<a href="/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#sel-compare">COMPARE WITH</a> time]
  [<a href="/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#sel-timeseries">TIMESERIES</a> time]
```

Basic rules include:

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        **NRQL condition**
      </th>

      <th>
        Details
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Required values
      </td>

      <td>
        The [`SELECT`](#state-select) statement and [`FROM`](#sel-from) clause are required. All other clauses are optional. You can start your query with either `SELECT` or `FROM`.
      </td>
    </tr>

    <tr>
      <td>
        Query string size
      </td>

      <td>
        The query string must be less than 4 KB.
      </td>
    </tr>

    <tr>
      <td>
        Case sensitivity
      </td>

      <td>
        * The data type names and attribute names are case sensitive.
        * [NRQL clauses](/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#clauses) and [functions](/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#functions) are not case sensitive.
      </td>
    </tr>

    <tr>
      <td>
        Syntax for strings
      </td>

      <td>
        NRQL uses single quotes to designate strings. For example:

        ```
        ... where traceId = '030a573f0df02c57'
        ```
      </td>
    </tr>

    <tr>
      <td>
        Attribute names with spaces
      </td>

      <td>
        Use backticks ``` `` ``` to quote a [custom attribute](/docs/insights/new-relic-insights/decorating-events/insights-custom-attributes) name that has a space in it. For example:

        ```
        ... FACET `Logged-in user`
        ```
      </td>
    </tr>

    <tr>
      <td>
        Data type coercion
      </td>

      <td>
        Insights does not support data type "coercion." For more information, see [Data type conversion](/docs/insights/nrql-new-relic-query-language/nrql-reference/nrql-syntax-components-functions#type-conversion).
      </td>
    </tr>

    <tr>
      <td>
        Use of math functions
      </td>

      <td>
        [Basic and advanced math functions](/docs/insights/nrql-new-relic-query-language/using-nrql/nrql-math-using-select) are supported in the [`SELECT`](/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#state-select) statement.
      </td>
    </tr>

    <tr>
      <td>
        JOIN functions
      </td>

      <td>
        NRQL does not have the equivalent of the SQL JOIN function, but you can [simulate a JOIN with custom attributes](/docs/insights/new-relic-insights/using-new-relic-query-language/simulate-sql-join-functions-insights).
      </td>
    </tr>
  </tbody>
</table>

Read more about [NRQL syntax and functions](/docs/query-data/nrql-new-relic-query-language/getting-started/nrql-syntax-components-functions).
