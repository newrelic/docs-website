---
title: Simulate SQL JOIN functions in Insights
contentType: page
template: basicDoc
topics:
  - Query your data
  - 'NRQL: New Relic Query Language'
  - NRQL query tutorials
japaneseVersion: ''
---

NRQL does not have an equivalent SQL-like `JOIN` function. Also, there is no equivalent for nested queries or subqueries.

You can simulate a `JOIN` by using [custom attributes](/docs/insights/insights-data-sources/custom-data/send-custom-data-insights) in a query's [`WHERE`](/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#sel-where) or [`FACET`](/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#sel-facet) clause.

## Simulate SQL `JOIN` with custom attributes

To gain more in-depth data, you can add [custom attributes](/docs/insights/insights-data-sources/custom-data/send-custom-data-insights) to some data types.

For example, you want to know which browser types are experiencing the highest web duration for a specific product purchase. You could add a custom attribute named `Product` to your application's purchase transaction method. Then you could run this NRQL query:

```
SELECT max(duration), average(duration), max(backendDuration), average(backendDuration) 
FROM PageView 
WHERE Product = 'Hat' 
FACET userAgentName 
SINCE 7 days ago
```
