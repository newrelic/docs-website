---
title:  "NR24-01 - Fluent Bit"
tags:
  - Security
  - Security bulletin
  - Log forwarding
  - Fluent Bit
metaDescription: "Security bulletin for Windows and Linux infrastructure agent and Fluent Bit, the Kubernetes plugin, and the Fluent Bit output plugin." 
releaseDate: '2024-06-08' 
---

<DNT>**Vulnerability Identifier:**</DNT> NR24-01

<DNT>**Priority:**</DNT> High

## Summary

New Relic advises all customers using log forwarding instrumentation to update the following solutions:

* Linux Infrastructure Agent AND Fluent Bit
* Kubernetes Plugin
* Fluent Bit Output Plugin

New Relic has released new versions of these services to eliminate a recently announced [vulnerable version of Fluent Bit](https://nvd.nist.gov/vuln/detail/CVE-2024-4323). Each identified service has been updated to use [Fluent Bit version 3.0.4, which was released to remediate the identified vulnerability](https://fluentbit.io/blog/2024/05/21/statement-on-cve-2024-4323-and-its-fix/).

Customers who are using the Infrastructure Agent but have disabled log forwarding are not impacted.

## Action required

New Relic is recommending that customers who use the log forwarding instrumentation (as identified below) immediately take the following Actions:

<table>
  <thead>
    <th>
      <td>
        Solution
      </td>
    </th>

    <th>
      <td>
        Action Required
      </td>
    </th>
  </thead>

  <tbody>
    <tr>
      <td>
        Windows Infrastructure Agent
      </td>

      <td>
        On Windows, the embedded version of Fluent Bit within the Windows Infrastructure Agent has been determined to not be impacted by CVE-2024-4323.
      </td>
    </tr>

    <tr>
      <td>
        Linux Infrastructure Agent
      </td>

      <td>
        Upgrade the Infrastructure Agent to version 1.52.3 or later, **AND** update Fluent Bit to version 3.0.4 or later
      </td>
    </tr>

    <tr>
      <td>
        Kubernetes Plugin
      </td>

      <td>
        Upgrade using either `newrelic-logging-1.22.0` or `nri-bundle-5.0.80`
      </td>
    </tr>

    <tr>
      <td>
        Fluent Bit Output Plugin
      </td>

      <td>
        Update to version 2.0.0
      </td>
    </tr>
  </tbody>
</table>

New Relic has provided the following resources to assist with these updates:

* [Update the Infrastructure Agent](/docs/infrastructure/install-infrastructure-agent/update-or-uninstall/update-infrastructure-agent/)
* [Update Fluent Bit with the Linux Infrastructure Agent](/docs/logs/forward-logs/forward-your-logs-using-infrastructure-agent/#install-fb-version)
* [Install the newest helm charts for the Kubernetes Plugin](https://github.com/newrelic/helm-charts/tree/master?tab=readme-ov-file#Installthecharts)
* [Install the Kubernetes integration](/docs/kubernetes-pixie/kubernetes-integration/installation/kubernetes-integration-install-configure/)
* [Fluent Bit plugin for log forwarding](/docs/logs/forward-logs/fluent-bit-plugin-log-forwarding/)
* [Check the Fluent Bit versions being used on your host](/docs/infrastructure/infrastructure-ui-pages/infrastructure-inventory-page-search-your-entire-infrastructure/#search)
* [Check the Fluent Bit log forwarder version](/docs/logs/forward-logs/fluent-bit-plugin-log-forwarding/#upgrade-plugin)

New Relic has not identified any workarounds at this time.

## Frequently Asked Questions

1. **I am using the Infrastructure Agent but have disabled log forwarding. Am I impacted?**

   No, if log forwarding is disabled, the Infrastructure Agent will not run Fluent Bit and will not be impacted. However, New Relic recommends that you upgrade the agent regularly and check for updates at a minimum of every 3 months to ensure you are using a current version.

   Additionally, New Relic recommends that all customers identify any other uses of Fluent Bit in their environments and update them to at least version 3.0.4.

2. **Once I update to the latest versions of the listed log forwarding services, do I have to do anything else?**

   Yes, but only if you are running Infrastructure Agents on Linux hosts. If you are running the Linux Infrastructure Agent, you will **also** need to [update Fluent Bit](/docs/logs/forward-logs/forward-your-logs-using-infrastructure-agent/#install-fb-version) within your environment to version 3.0.4 or later.

   There are no further configuration changes required to the Kubernetes Plugin or the Fluent Bit Output Plugin after updating to the most recent versions, although New Relic recommends that you periodically check your set configurations to make sure they match your desired settings.

## Supporting Release Notes

[Infrastructure Agent Release Notes](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/)

[Logs Release Notes](/docs/release-notes/logs-release-notes/)

[Kubernetes Integration Release Notes](/docs/release-notes/infrastructure-release-notes/kubernetes-integration-release-notes/3/)

[Fluent Bit Output Plugin Release Notes](https://github.com/newrelic/newrelic-fluent-bit-output/releases)

## Technical vulnerability information

[CVE-2024-4323](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-4323)

[Fluent Bit's Statement on CVE-2024-4323](https://fluentbit.io/blog/2024/05/21/statement-on-cve-2024-4323-and-its-fix/)

[Research Synopsis of CVE-2024-4323](https://www.tenable.com/security/research/tra-2024-17)

## Publication History

June 7, 2024 - NR24-01 Published
