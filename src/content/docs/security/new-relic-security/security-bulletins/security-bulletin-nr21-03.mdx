---
title: Security Bulletin NR21-03
tags:
  - Security
  - Security and Privacy
  - Security bulletins
metaDescription: 'RCE Log4j CVE 2021-44228'
redirects:
  - /docs/security/security-privacy/security-bulletins/security-bulletin-nr21-02
---

## Summary

Fix for RCE Log4j CVE 2021-44228

**Release date:** December 09th, 2021

**Vulnerability identifier:** NR21-03

**Priority:** Critical

## Affected software [#affected]

The following New Relic agent versions are affected:

<table>
  <thead>
    <tr>
      <th>
        Name
      </th>

      <th>
        Affected version
      </th>

      <th>
        Remediated version
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Java agent
      </td>

      <td>
        All supported agent versions prior to 6.5.1 or 7.4.1
      </td>

      <td>
        6.5.1 & 7.4.
      </td>
    </tr>
  </tbody>
</table>

## Vulnerability information [#vuln-info]
A high level vulnerability was publicly disclosed for the log4j framework on 2021-12-09. An attacker is able to execute arbitrary code using log messages or log message parameters. We have updated the New Relic Java agent to use a remediated version 2.15.0 of the Apache log4j 2 logging framework. Due to the vulnerability in the log4j logging framework in versions 2.0 to 2.14.1 customers are encouraged to immediately update their agent versions to either 6.5.1 or 7.4.1.

Separately, customers that are using affected versions of the log4j framework (versions 2.0 to 2.14.1) directly in their applications are also encouraged to upgrade log4j to 2.15.0 to remediate this issue for their application.

Upgrading your New Relic Java Agent will not remediate this issue for your application itself, if you use affected versions of log4j.

- [CVE-2021-44228 â€“ Log4j 2 Vulnerability Analysis](https://www.randori.com/blog/cve-2021-44228/)
- [Log4Shell: RCE 0-day exploit found in log4j, a popular Java logging package](https://www.lunasec.io/docs/blog/log4j-zero-day/)
- [Exploiting JNDI Injections in Java](https://www.veracode.com/blog/research/exploiting-jndi-injections-java)
- [Apache log4j Release Notes](https://logging.apache.org/log4j/2.x/changes-report.html#a2.15.0)
- [Apache log4j Issue](https://issues.apache.org/jira/browse/LOG4J2-3198)
- [Apache log4j Security](https://logging.apache.org/log4j/2.x/security.html)
- [New Relic Explorers Hub](https://discuss.newrelic.com/t/log4j-zero-day-vulnerability-and-the-new-relic-java-agent/170322)

## Workarounds
If you are unable to upgrade either your Java agent or log4j2 version, you should consider using the [publicly-available workaround](https://www.lunasec.io/docs/blog/log4j-zero-day/) of setting the `log4j2.formatMsgNoLookups=true` system property in your application startup command. See also https://nvd.nist.gov/vuln/detail/CVE-2021-44228 for additional advisories, solutions, and tools.

## Report security vulnerabilities to New Relic [#report]
New Relic is committed to the security of our customers and your data. If you believe you have found a security vulnerability in one of our products or websites, we welcome and greatly appreciate you reporting it to New Relic's coordinated disclosure program. For more information, see our documentation about [reporting security vulnerabilities](/docs/security/new-relic-security/data-privacy/reporting-security-vulnerabilities).
