---
title: eBPF best practices guide
tags:
    - New Relic solutions
    - Best practices guides
    - eBPF
metaDescription: Best practices to help you find problems faster and deliver a better experience to your customers with New Relic's eBPF solution.
freshnessValidatedDate: never
---

eBPF-powered APM (eAPM) uses eBPF technology to provide APM functionality in a single agent with zero code instrumentation. This approach empowers platform engineering teams by eliminating the need for coordination with application teams for monitoring deployment.

## When to use eBPF-powered APM [#when-to-use-eapm]

### Ideal use cases for eAPM

**Large-scale deployments:** When you have many applications that need monitoring deployed at scale and require "good enough" metrics without the overhead of individual language agents.

**Unknown or unmodifiable workloads:** When the workload you want to monitor is written in an unknown programming language and/or cannot be modified.

**Platform engineering efficiency:** When you want to deploy monitoring at scale without coordinating with individual application teams.

**Linux-focused environments:** When you don't need to monitor Windows platforms, as eBPF works excellently on Linux in both Kubernetes and host environments.

**No distributed tracing requirement:** When your monitoring needs don't require distributed tracing capabilities.

## eBPF vs traditional APM comparison [#comparison]

Understanding the differences between eBPF-powered APM and traditional APM agents helps you choose the right approach:

<table>
  <thead>
    <tr>
      <th>Functionality</th>
      <th>eBPF agent (eAPM)</th>
      <th>APM agent</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Summary</td>
      <td>✅</td>
      <td>✅</td>
    </tr>
    <tr>
      <td>Transaction</td>
      <td>✅ (segment linking for Java, Go, Node.js)</td>
      <td>✅</td>
    </tr>
    <tr>
      <td>Database operations</td>
      <td>✅</td>
      <td>✅</td>
    </tr>
    <tr>
      <td>Service map</td>
      <td>✅</td>
      <td>✅</td>
    </tr>
    <tr>
      <td>Distributed tracing</td>
      <td>❌</td>
      <td>✅</td>
    </tr>
    <tr>
      <td>Programming language agnostic</td>
      <td>✅</td>
      <td>❌</td>
    </tr>
    <tr>
      <td>Custom instrumentation</td>
      <td>❌</td>
      <td>✅</td>
    </tr>
    <tr>
      <td>Auto-discover apps and services continuously</td>
      <td>✅</td>
      <td>❌</td>
    </tr>
    <tr>
      <td>Deduplicate data ingestion</td>
      <td>✅</td>
      <td>✅</td>
    </tr>
    <tr>
      <td>Linux support</td>
      <td>✅</td>
      <td>✅</td>
    </tr>
    <tr>
      <td>Windows support</td>
      <td>❌</td>
      <td>✅</td>
    </tr>
    <tr>
      <td>TCP and DNS telemetry</td>
      <td>✅</td>
      <td>❌</td>
    </tr>
    <tr>
      <td>Does not require additional container</td>
      <td>✅</td>
      <td>❌</td>
    </tr>
  </tbody>
</table>

### Data source perspective

eBPF-powered APM shifts the monitoring perspective from the application layer to the kernel layer:

<table>
  <thead>
    <tr>
      <th>Feature</th>
      <th>APM language agent</th>
      <th>eBPF-powered APM</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Data source</td>
      <td>Application's memory / runtime hooks</td>
      <td>Linux kernel (via eBPF)</td>
    </tr>
    <tr>
      <td>Language dependency</td>
      <td>High (requires specific agent for each language)</td>
      <td>None (operates on kernel's view of process)</td>
    </tr>
    <tr>
      <td>Code modification</td>
      <td>Required</td>
      <td>Not required (observes process from outside)</td>
    </tr>
    <tr>
      <td>Outcome</td>
      <td>Deep insight for known languages</td>
      <td>Great insight for any workload on Linux (C++, Rust, etc.)</td>
    </tr>
  </tbody>
</table>

## Best practices for deployment [#deployment-best-practices]

### 1. Unified monitoring approach

**Single agent for infrastructure and application monitoring:** Plan to use one agent to handle both infrastructure and application monitoring needs.

**Benefits:**
* APM insights that populate New Relic APM UI automatically
* Network insights from the same agent (available November 2025)
* Future capabilities: log collection and database insights

**Result:** Unified APM insight where the agent automatically gathers critical application performance data (eAPM) and network metrics to populate existing APM dashboards, providing deep context without code changes or restarts.

### 2. Supplementing traditional APM

**Coexistence strategy:** Use eBPF agent to supplement APM language agents for comprehensive coverage.

**Recommended approach:**
* **APM language agents:** Handle custom instrumentation needs
* **eBPF-powered APM:** Cover everything else for continuous monitoring and discovering/reporting new services

This gives you full APM coverage with coexistence between eAPM and APM agents, without double data ingestion.

### 3. Network metrics integration

Combine eBPF-powered APM with eBPF Network Metrics for both application and network insights:

**Deployment options:**

<table>
  <thead>
    <tr>
      <th>Application metric source</th>
      <th>Network metric source</th>
      <th>Configuration</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>APM language agent</td>
      <td>eBPF agent (Network Metrics only mode)</td>
      <td>Two agents</td>
    </tr>
    <tr>
      <td>eBPF agent (eAPM)</td>
      <td>eBPF agent (same agent)</td>
      <td>Single agent</td>
    </tr>
  </tbody>
</table>

**Advantages:** Provides visibility into network insights outside your application boundary, totally augmenting APM capabilities.

<Callout variant="tip">
**Release status (November 2025):** eBPF-powered APM is generally available, while eBPF Network Metrics is in public preview.
</Callout>

## Implementation recommendations [#implementation-recommendations]

### Choose eBPF over Pixie

We recommend installing eBPF-powered APM in your environment rather than Pixie for better performance and feature set.

### Start with eAPM for scale

If you need to deploy monitoring at scale across many applications and want "good enough" metrics without complex coordination, start with eBPF-powered APM.

### Add Network Metrics for complete visibility

Once eAPM is deployed, consider adding eBPF Network Metrics to gain visibility beyond application boundaries for comprehensive troubleshooting capabilities.

### Plan for future capabilities

The eBPF agent roadmap includes log collection and database insights, making it an increasingly powerful unified monitoring solution.

## Related resources [#related-resources]

* [eBPF overview](/docs/ebpf/overview/) - Understanding eBPF capabilities
* [Linux installation guide](/docs/ebpf/linux-installation/) - Installing on Linux hosts  
* [Kubernetes installation guide](/docs/ebpf/k8s-installation/) - Installing on Kubernetes clusters
* [Full-stack observability best practices](/docs/new-relic-solutions/best-practices-guides/full-stack-observability/) - Additional monitoring guidance

