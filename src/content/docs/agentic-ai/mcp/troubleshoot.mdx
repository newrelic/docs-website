---
title: Troubleshoot New Relic MCP
metaDescription: "Common troubleshooting steps and solutions for New Relic's Model Context Protocol server setup and configuration issues."
freshnessValidatedDate: never
---


## OAuth flow not starting
- Ensure your browser can access `localhost`.
- Check firewall settings.
- Verify that your tools can access `OAuth` URLs.

## API key not working
- Verify key format (starts with `NRAK-`).
- Check key permissions in New Relic.
- Ensure the key is not expired.

## MCP server not detected
- Restart the application completely.
- Check `JSON` syntax validity.
- Verify file paths and permissions.
## mcp-remote proxy issues
- Ensure `Node.js` is installed.
- Check internet connectivity.
- Verify npx can access `mcp-remote` package.

## Access denied for custom groups

### Problem
You are unable to successfully connect to or authenticate with the New Relic AI MCP Server and receive the following error message: `Missing required capabilities to access MCP server. Please ensure you have the necessary permissions.` This typically occurs if you are a member of a custom user group without any organization-level grant.

### Cause
Your custom group lacks the required organization-level access controls or roles needed to use the MCP Server endpoints. Access to this organization-wide feature must be explicitly granted to your group or user role.

### Resolution
The administrator responsible for your organization's user access must perform the grant. This is typically a user with the **Core** or **Full Platform** user type who has the `Authentication Domain Manager` or `Tenant Manager` role. This administrator must implement one of the following two solutions to grant you access:
1. Grant the group an organization-level role:
    - The administrator must add one of the following roles to the custom group you belong to: `Organization Read Only`, `Organization Manager`, or `Organization Product admin`.
2. Move you to an authorized group:
    - The administrator must add you to an existing user group that already has one of the specific required organization-level roles listed earlier.

For detailed information on user management concepts, roles, and organization grants, refer to the [New Relic user management documentation](/docs/accounts/accounts-billing/new-relic-one-user-management/user-management-concepts). If your organization uses System for Cross-domain Identity Management (SCIM) for user management, these group and role adjustments must be performed within your external Identity Provider (IdP).

## Error messages
- **Connection refused**: Check URL and network connectivity of your tools.
- **Authentication required**: Verify that the API key is still active and was inputted correctly or complete `OAuth` flow.
- **Invalid client**: `OAuth` configuration issue, try `mcp-remote` proxy.
- **`Time.UnmarshalJSON`**: Use `mcp-remote` proxy for `OAuth`.