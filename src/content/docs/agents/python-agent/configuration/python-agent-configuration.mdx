---
title: Python agent configuration
contentType: page
template: basicDoc
topics:
  - Agents
  - Python agent
  - Configuration
japaneseVersion: ''
---

[Our Python agent](/docs/agents/python-agent/getting-started/introduction-new-relic-python) lets you change the default agent behavior agent using configuration options.

The only required Python agent configuration setting is the [license key](/docs/subscriptions/license-key). The license key identifies the account where the agent reports application data. Depending on how you are hosting your application, the license key can be provided via a configuration file or an environment variable.

## Configuration methods and precedence

The primary way to configure the Python agent is via the [configuration file](#agent-configuration-file), which is generated as part of the standard [install process](/docs/agents/python-agent/installation-configuration/python-agent-installation). It is also possible to set a limited number of configuration options using [server-side configuration in the UI](#server-side-configuration) or by using [environment variables](#environment-variables). You can also specify some settings on a per-request basis by passing settings with the [WSGI request environ dictionary](#per-request-configuration).

The Python agent follows this order of precedence for configuration:

![diagram-python-config-precedence.png](./images/diagram-python-config-precedence_0.png "diagram-python-config-precedence.png")

With the Python agent, per-request options override server-side config. If enabled, server-side config overrides **all** corresponding values in the agent config file, even if the server-side values are left blank. The agent config file overrides environment variables. Environment variables override the agent defaults.

Here are detailed descriptions of each configuration method:

<CollapserGroup>
  <Collapser
    className="freq-link"
    id="agent-configuration-file"
    title="Agent configuration file"
  >
    Typically you configure your Python agent from a local configuration file on the agent's host system. Supply the path to the config file at startup using one of these methods:

    * When you call [`newrelic.agent.initialize()`](/docs/agents/python-agent/customization-extension/python-management-api#mgmt), provide the path to the config file as the first argument.

      OR
    * Set the `NEW_RELIC_CONFIG_FILE` environment variable. If you use the `newrelic-admin` wrapper script, you must use the environment variable because the wrapper script calls the agent automatically.

    The configuration file uses a structure similar to Microsoft Windows `.ini` files. For more information, see the Python ConfigParser module's [file format documentation](http://docs.python.org/library/configparser.html).

    <Callout variant="tip">
      A sample configuration file is included with the Python agent as `newrelic/newrelic.ini`. You can also generate one from the `newrelic-admin` script using the `generate-config` command, or download a copy from [our download repo](https://download.newrelic.com/python_agent/release/).
    </Callout>
  </Collapser>

  <Collapser
    className="freq-link"
    id="server-side-configuration"
    title="Server-side configuration"
  >
    <Callout variant="tip">
      **Owner or Admins**
    </Callout>

    [Server-side configuration](/docs/agents/manage-apm-agents/configuration/server-side-agent-configuration) allows you to configure certain settings in the New Relic One UI. This applies your changes automatically to all agents even if they run across multiple hosts. Where available, this document includes the UI labels for server-side config under individual config options as the **Server-side label**.

    <Callout variant="important">
      If server-side config is enabled, the agent ignores any value in the config file that **could** be set in the UI. Even if the UI value is empty, the agent treats this as an empty string and does not use the agent config file.
    </Callout>
  </Collapser>

  <Collapser
    className="freq-link"
    id="environment-variables"
    title="Environment variables"
  >
    Environment variables allow you to override the defaults for certain core settings. If the equivalent setting is explicitly listed in the agent config file, the config file settings take precedence over the environment variable. Where available, environment variables are documented below under individual config options as the **Environ variable**.

    For simple configurations, you can use the environment variables in conjunction with [server-side configuration](#server-side-configuration) and avoid the agent config file altogether. This is the default setup with [Heroku](/docs/agents/python-agent/hosting-services/python-agent-heroku), where installing the New Relic add-on automatically populates the necessary environment variables.

    <Table>
      <thead>
        <tr>
          <th width="400px">
            **Environment variable**
          </th>

          <th>
            **Configuration setting**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `NEW_RELIC_LICENSE_KEY`
          </td>

          <td>
            `license_key`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_APP_NAME`
          </td>

          <td>
            `app_name`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_MONITOR_MODE`
          </td>

          <td>
            `monitor_mode`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_DEVELOPER_MODE`
          </td>

          <td>
            `developer_mode`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_LOG`
          </td>

          <td>
            `log_file`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_LOG_LEVEL`
          </td>

          <td>
            `log_level`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_HIGH_SECURITY`
          </td>

          <td>
            `high_security`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_PROXY_SCHEME`
          </td>

          <td>
            `proxy_scheme`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_PROXY_HOST`
          </td>

          <td>
            `proxy_host`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_PROXY_PORT`
          </td>

          <td>
            `proxy_port`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_PROXY_USER`
          </td>

          <td>
            `proxy_user`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_PROXY_PASS`
          </td>

          <td>
            `proxy_pass`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_AUDIT_LOG`
          </td>

          <td>
            `audit_log_file`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_STARTUP_TIMEOUT`
          </td>

          <td>
            `startup_timeout`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_SHUTDOWN_TIMEOUT`
          </td>

          <td>
            `shutdown_timeout`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_LABELS`
          </td>

          <td>
            `labels`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_PROCESS_HOST_DISPLAY_NAME`
          </td>

          <td>
            `process_host.display_name`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_API_KEY`
          </td>

          <td>
            `api_key`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_CA_BUNDLE_PATH`
          </td>

          <td>
            `ca_bundle_path`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_DISTRIBUTED_TRACING_ENABLED`
          </td>

          <td>
            `distributed_tracing.enabled`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_FEATURE_FLAG`
          </td>

          <td>
            `feature_flag`
          </td>
        </tr>
      </tbody>
    </Table>
  </Collapser>

  <Collapser
    className="freq-link"
    id="per-request-configuration"
    title="Per-request configuration"
  >
    For certain WSGI servers, you can override the [app name](#app_name) and [capture attributes](#attributes) settings on a per-request basis. This is possible with WSGI servers where you can define additional key/value pairs that are passed into the per-request WSGI environ dictionary.

    Set these values with the strings `on`, `off`, `true`, `false`, `1` and `0`. If set from a configuration mechanism implemented using Python code, Python objects evaluating to True or False will also be accepted.

    <dt id="example-apache-mod-wsgi">
      Example: Apache/mod_wsgi app name
    </dt>

    <dd>
      In the Apache/mod_wsgi server, you can use the `SetEnv` directive to override config settings (optionally inside a `Location` or `Directory` block). For example, you could override the [app name](#app_name) for a complete virtual host, or for a subset of URLs handled by the WSGI application for that virtual host.
    </dd>

    In addition to being able to override certain agent configuration settings, you can set other per-request configuration settings with their WSGI environment key:

    <CollapserGroup>
      <Collapser
        id="set_background_task"
        title="newrelic.set"
        title="_"
        title="background"
        title="_"
        title="task"
      >
        If set to `true`, this web transaction will instead be reported as a [non-web transaction](/docs/apm/transactions/intro-transactions/monitor-background-processes-other-non-web-transactions).
      </Collapser>

      <Collapser
        id="ignore_transaction"
        title="newrelic.ignore"
        title="_"
        title="transaction"
      >
        If set to `true`, this web transaction will not be reported.
      </Collapser>

      <Collapser
        id="suppress_apdex_metric"
        title="newrelic.suppress"
        title="_"
        title="apdex"
        title="_"
        title="metric"
      >
        If set to `true`, no Apdex metric will be generated for this web transaction.
      </Collapser>

      <Collapser
        id="suppress_transaction_trace"
        title="newrelic.suppress"
        title="_"
        title="transaction"
        title="_"
        title="trace"
      >
        If set to `true`, this web transaction cannot be recorded in a [transaction trace](/docs/apm/transactions/transaction-traces/transaction-traces).
      </Collapser>

      <Collapser
        id="disable_browser_autorum"
        title="newrelic.disable"
        title="_"
        title="browser"
        title="_"
        title="autorum"
      >
        If set to `true`, this disables automatic insertion of the JavaScript header/footer for page load timing (sometimes referred to as real user monitoring or RUM). Only applicable if auto-insertion is [available for your web framework](/docs/agents/python-agent/supported-features/page-load-timing-python#restrictions_on_instrumentation).
      </Collapser>
    </CollapserGroup>

    <Callout variant="important">
      Using a WSGI middleware to set these values will not work where the Python agent's own WSGI application wrapper was applied at an outer scope. In these cases you must make calls to the agent API to achieve the same outcome.
    </Callout>
  </Collapser>
</CollapserGroup>

## Multiple environment configuration

The agent reads its primary configuration from an agent config section called `newrelic`. You can provide overrides for specific deployment environments (for example, Development, Staging, Production) in additional sections. Preface these sections with `[newrelic:environment]`, where `environment` is replaced with the name of your environment.

To specify that the agent should use an environment-based configuration, use one of these methods:

* When you call [`newrelic.agent.initialize()`](/docs/agents/python-agent/customization-extension/python-management-api#mgmt), provide the environment name as the second argument.

  OR
* Set the `NEW_RELIC_ENVIRONMENT` environment variable to the environment name.

If no environment is specified, the agent will use the default settings as specified in the `newrelic` agent config section.

The basic structure of the configuration file is:

```
[newrelic]
... default settings

[newrelic:development]
... override settings

[newrelic:staging]
... override settings

[newrelic:production]
... override settings
```

## General configuration settings

These settings are available in the agent configuration file.

<CollapserGroup>
  <Collapser
    id="license_key"
    title="license"
    title="_"
    title="key (REQUIRED)"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            String
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            (none)
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file, environment variable
          </td>
        </tr>

        <tr>
          <th>
            [Environ variable](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_LICENSE_KEY`
          </td>
        </tr>
      </tbody>
    </Table>

    Specifies the [license key](/docs/subscriptions/license-key) of your New Relic account. This key associates your app's metrics with your New Relic account.
  </Collapser>

  <Collapser
    id="app_name"
    title="app"
    title="_"
    title="name (HIGHLY RECOMMENDED)"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            String
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `Python Application`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Per-request option, config file, environment variable
          </td>
        </tr>

        <tr>
          <th>
            [Per-request option](#per-request-configuration)
          </th>

          <td>
            `newrelic.app_name`
          </td>
        </tr>

        <tr>
          <th>
            [Environ variable](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_APP_NAME`
          </td>
        </tr>
      </tbody>
    </Table>

    The [application name](/docs/apm/new-relic-apm/installation-configuration/name-your-application) used to aggregate data in the New Relic One UI. To report data to [multiple apps at the same time](/docs/apm/new-relic-apm/installation-configuration/using-multiple-names-app), specify a list of names separated with a semicolon `;`. Do not put a space before the semicolon, which causes the Python config parser to interpret the name as an embedded comment.
  </Collapser>

  <Collapser
    id="monitor_mode"
    title="monitor"
    title="_"
    title="mode"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file, environment variable
          </td>
        </tr>

        <tr>
          <th>
            [Environ variable](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_MONITOR_MODE`
          </td>
        </tr>
      </tbody>
    </Table>

    When `true`, the agent collects performance data about your app and reports this data to our [data collector](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#collector).
  </Collapser>

  <Collapser
    id="developer_mode"
    title="developer"
    title="_"
    title="mode"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file, environment variable
          </td>
        </tr>

        <tr>
          <th>
            [Environ variable](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_DEVELOPER_MODE`
          </td>
        </tr>
      </tbody>
    </Table>

    When `true`, the agent will instrument your web app, but will not send any actual data. In this offline mode, you will not be billed for an active agent.

    Use developer mode to test [new versions of the agent](/docs/release-notes/agent-release-notes/python-release-notes), or test the agent against third-party packages in a developer environment. Offline mode is not a way of running the APM locally, because the metrics the agent collects are not reported anywhere.
  </Collapser>

  <Collapser
    id="log_file"
    title="log"
    title="_"
    title="file"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            String
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            (none)
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file, environment variable
          </td>
        </tr>

        <tr>
          <th>
            [Environ variable](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_LOG`
          </td>
        </tr>
      </tbody>
    </Table>

    Sets the name of a log file, which is useful for debugging issues with the agent. This is not set by default, since the agent does not know your web app process's parent user or what directories that process has permission to write to. For detailed information, see [Python agent logging](/docs/agents/python-agent/installation-configuration/python-agent-logging).

    Whatever you set this to, ensure the permissions for the containing directory and the file itself are correct, and that the user that your web application runs as can write to the file.

    <Callout variant="tip">
      Use an absolute path unless you are sure what the working directory of your application will be at startup. If you can't write out a log file, you can also use `stderr` and output to standard error output. This would normally result in output appearing in your web server log.
    </Callout>
  </Collapser>

  <Collapser
    id="log_level"
    title="log"
    title="_"
    title="level"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            String
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `info`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file, environment variable
          </td>
        </tr>

        <tr>
          <th>
            [Environ variable](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_LOG_LEVEL`
          </td>
        </tr>
      </tbody>
    </Table>

    Sets the level of detail of log messages, if you've set the [log file location](#log_file). This `log_level` will not affect the Python logging module log level. Possible values, in increasing order of detail, are `critical`, `error`, `warning`, `info`, and `debug`.

    To report agent issues, the most useful setting is `debug`. However, `debug` generates a lot of information very quickly, so do not keep the agent at this level for longer than it takes to reproduce your problem.
  </Collapser>

  <Collapser
    id="high_security"
    title="high"
    title="_"
    title="security"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file, environment variable
          </td>
        </tr>

        <tr>
          <th>
            [Environ variable](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_HIGH_SECURITY`
          </td>
        </tr>
      </tbody>
    </Table>

    High security mode enforces certain security settings and prevents them from being overridden, so that no sensitive data is sent to us. Enabling high security mode means that request parameters are not collected, and you cannot send raw SQL.

    To activate high security mode, set it to `true` in the local **.ini** configuration file **and** activate it in the Account Settings in the UI. For more information, see [High security](/docs/accounts-partnerships/accounts/security/high-security).
  </Collapser>

  <Collapser
    id="proxy"
    title="proxy"
    title="_"
    title="scheme, proxy"
    title="_"
    title="host, proxy"
    title="_"
    title="port, proxy"
    title="_"
    title="user, proxy"
    title="_"
    title="pass"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Strings
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            (none)
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file, environment variable
          </td>
        </tr>

        <tr>
          <th>
            Environ variables
          </th>

          <td>
            `NEW_RELIC_PROXY_SCHEME`

            `NEW_RELIC_PROXY_HOST`

            `NEW_RELIC_PROXY_PORT`

            `NEW_RELIC_PROXY_USER`

            `NEW_RELIC_PROXY_PASS`
          </td>
        </tr>
      </tbody>
    </Table>

    By default, the Python agent attempts to directly connect to our servers. If there is a firewall between your host and the our [collector](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#collector) that requires you to use an HTTP proxy, set `proxy_host` and `proxy_port` to the required values for your HTTP proxy. If proxy authentication is implemented by the HTTP proxy, also set `proxy_user` and `proxy_pass`.

    The `proxy_scheme` setting dictates what protocol scheme is used to talk to the HTTP proxy. When set to `http`, the agent uses a SSL tunnel through the HTTP proxy for end-to-end encryption.

    Instead of setting the `proxy_scheme`, `proxy_host` and `proxy_port` settings, you can also set the `proxy_host` setting to a valid URI for the proxy. Include the scheme, host, and port; for example, `http://proxy-host:8000`. This also works if you set the details of the HTTP proxy with the `NEW_RELIC_PROXY_HOST` environment variable.

    <Callout variant="tip">
      Python agent versions 2.0.0 or earlier do not provide the `proxy_scheme` setting, and the protocol scheme defaults to `http` or `https` depending whether [`ssl`](#ssl) is disabled or enabled. If you are upgrading from an older agent version and your config file doesn't include `proxy_scheme`, ensure you add the setting and set it appropriately. If you don't, the agent will continue to base the protocol scheme on the `ssl` setting for backwards compatibility. As proxies are usually only configured to accept proxy requests via the `http` protocol scheme, not setting `proxy_scheme` may result in a failure.
    </Callout>
  </Collapser>

  <Collapser
    id="audit-log-file"
    title="audit"
    title="_"
    title="log"
    title="_"
    title="file"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            String
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            (none)
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file, environment variable
          </td>
        </tr>

        <tr>
          <th>
            [Environ variable](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_AUDIT_LOG`
          </td>
        </tr>
      </tbody>
    </Table>

    Sets the name of the audit log file. If set, the agent logs details of messages passed back and forth between the monitored process and the [collector](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#collector). This allows you to evaluate the security of the Python agent.

    Use an absolute path unless you are sure what your app's working directory will be at startup. Whatever you set this to, ensure the permissions for the containing directory and the file itself are correct. Also ensure your web app's parent user can write to the file.

    <Callout variant="caution">
      Do not use audit logging on an ongoing basis, especially in a production environment. Because the agent does not truncate or rotate the log file, the log file can grow very quickly.
    </Callout>
  </Collapser>

  <Collapser
    id="labels"
    title="labels"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            String
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            (none)
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file, environment variable
          </td>
        </tr>

        <tr>
          <th>
            [Environ variable](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_LABELS`
          </td>
        </tr>
      </tbody>
    </Table>

    Attach [labels](/docs/apm/new-relic-apm/maintenance/labels-categories-organize-your-apps-servers) to this app. Specify name:value separated by a colon `:`, and separate additional labels with semicolons `;`.

    <dt id="example-2-labels">
      Two labels
    </dt>

    <dd>
      ```
      Server:One;Data Center:Primary
      ```
    </dd>
  </Collapser>

  <Collapser
    id="process_host-display_name"
    title="process"
    title="_"
    title="host.display"
    title="_"
    title="name"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            String
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            (none)
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file, environment variable
          </td>
        </tr>

        <tr>
          <th>
            [Environ variable](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_PROCESS_HOST_DISPLAY_NAME`
          </td>
        </tr>
      </tbody>
    </Table>

    Sets the hostname to be [displayed in the APM UI](/docs/apm/new-relic-apm/maintenance/add-rename-remove-hosts#display_name). If set, this overrides the default hostname that the agent captures automatically.
  </Collapser>

  <Collapser
    id="api-key"
    title="api"
    title="_"
    title="key"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            String
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            (none)
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file, environment variable
          </td>
        </tr>

        <tr>
          <th>
            [Environ variable](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_API_KEY`
          </td>
        </tr>
      </tbody>
    </Table>

    Sets the [api_key](https://docs.newrelic.com/docs/apis/rest-api-v2/requirements/api-keys) to be used with [newrelic-admin record-deploy](/docs/agents/python-agent/installation-configuration/python-agent-admin-script#record-deploy).
  </Collapser>

  <Collapser
    id="ca-bundle-path"
    title="ca"
    title="_"
    title="bundle"
    title="_"
    title="path"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            String
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            (none)
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file, environment variable
          </td>
        </tr>

        <tr>
          <th>
            [Environ variable](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_CA_BUNDLE_PATH`
          </td>
        </tr>
      </tbody>
    </Table>

    Manual override for the path to your local CA bundle. This CA bundle will be used to validate the SSL certificate presented by our data collection service.

    <Callout variant="tip">
      This configuration option is only available in Python Agent versions 4.2.0 and newer.
    </Callout>
  </Collapser>
</CollapserGroup>

## Attributes

Attributes are key-value pairs that provide information for transaction traces, traced errors, browser monitoring, and transaction events. In addition to configuring attributes for all four destinations with the general attribute settings below, they can also be configured on a per-destination basis.

For more information, see [Python agent attributes](/docs/agents/python-agent/attributes/python-agent-attributes), [Enabling and disabling attributes](/docs/agents/python-agent/attributes/enabling-disabling-attributes-python), and [Attribute examples](/docs/agents/python-agent/attributes/python-attribute-examples).

<CollapserGroup>
  <Collapser
    id="cfg-attributes-enabled"
    title="attributes.enabled"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    This setting can be used to turn on or off all attributes.
  </Collapser>

  <Collapser
    id="cfg-attributes-include"
    title="attributes.include"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            List of Strings
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            (none)
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    If attributes are enabled, attribute keys found in this list will be sent to us. Keys in the list should be space-separated as shown below:

    ```
    key1 key2 key3
    ```

    Rules for attributes can be found [on the agent attributes page](/docs/subscriptions/agent-attributes).
  </Collapser>

  <Collapser
    id="cfg-attributes-exclude"
    title="attributes.exclude"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            List of Strings
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            (none)
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    All attribute keys found in this list will not be sent to us. Keys in the list should be space-separated as shown below:

    ```
    key1 key2 key3
    ```

    Rules for attributes can be found [on the agent attributes page](/docs/subscriptions/agent-attributes).
  </Collapser>
</CollapserGroup>

## Transaction tracer configuration

<Callout variant="important">
  Do not use brackets `[suffix]` at the end of your transaction name. The agent automatically strips brackets from the name. Instead, use parentheses `(suffix)` or other symbols if needed.
</Callout>

For more information about transaction traces, see [Transaction traces](/docs/traces/transaction-traces).

<CollapserGroup>
  <Collapser
    id="txn-tracer-enabled"
    title="transaction"
    title="_"
    title="tracer.enabled"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Server-side config, config file
          </td>
        </tr>

        <tr>
          <th>
            [Server-side label](#server-side-configuration)
          </th>

          <td>
            `Enable transaction tracing?`
          </td>
        </tr>
      </tbody>
    </Table>

    If enabled, the transaction tracer [captures deep information about slow transactions](/docs/apm/transactions/transaction-traces/transaction-traces).
  </Collapser>

  <Collapser
    id="txn-tracer-threshold"
    title="transaction"
    title="_"
    title="tracer.transaction"
    title="_"
    title="threshold"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Positive float or string (`apdex_f`)
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `apdex_f`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Server-side config, config file
          </td>
        </tr>

        <tr>
          <th>
            [Server-side label](#server-side-configuration)
          </th>

          <td>
            `Threshold`
          </td>
        </tr>
      </tbody>
    </Table>

    Threshold in seconds for when to collect a transaction trace. When the response time of a controller action exceeds this threshold, the agent records a transaction trace. Valid values are any positive float, or `apdex_f` (four times [apdex_t](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#apdex_t)).
  </Collapser>

  <Collapser
    id="txn-tracer-sql"
    title="transaction"
    title="_"
    title="tracer.record"
    title="_"
    title="sql"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            String
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `obfuscated`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Server-side config, config file
          </td>
        </tr>

        <tr>
          <th>
            [Server-side label](#server-side-configuration)
          </th>

          <td>
            `Record SQL?`
          </td>
        </tr>
      </tbody>
    </Table>

    When the transaction tracer is [enabled](#txn-tracer-enabled), the agent can record SQL statements. The recorder has three modes: `off` (sends no SQL), `raw` (sends the SQL statement in its original form), and `obfuscated` (strips out numeric and string literals).

    Most web frameworks (including Django) parameterize SQL queries so they do not actually contain the values used to fill out the query. If you use `raw` mode with one of these frameworks, the Python agent will only see the SQL prior to insertion of values. The parametrized SQL will look much like `obfuscated` mode.
  </Collapser>

  <Collapser
    id="txn-tracer-stack"
    title="transaction"
    title="_"
    title="tracer.stack"
    title="_"
    title="trace"
    title="_"
    title="threshold"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Float
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `0.5`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Server-side config, config file
          </td>
        </tr>

        <tr>
          <th>
            [Server-side label](#server-side-configuration)
          </th>

          <td>
            `Stack trace threshold`
          </td>
        </tr>
      </tbody>
    </Table>

    Threshold in seconds for when to collect stack traces from SQL calls. When SQL statements exceed this threshold, the agent captures the current stack trace. This is helpful for pinpointing where long SQL calls originate in an application.
  </Collapser>

  <Collapser
    id="txn-tracer-explain"
    title="transaction"
    title="_"
    title="tracer.explain"
    title="_"
    title="enabled"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Server-side config, config file
          </td>
        </tr>

        <tr>
          <th>
            [Server-side label](#server-side-configuration)
          </th>

          <td>
            `Enable SQL query plans?`
          </td>
        </tr>
      </tbody>
    </Table>

    Determines whether the Python agent will capture query plans for slow SQL queries. Only supported in MySQL and PostgreSQL.
  </Collapser>

  <Collapser
    id="txn-tracer-explain-threshold"
    title="transaction"
    title="_"
    title="tracer.explain"
    title="_"
    title="threshold"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Float
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `0.5`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Server-side config, config file
          </td>
        </tr>

        <tr>
          <th>
            [Server-side label](#server-side-configuration)
          </th>

          <td>
            `Query plan threshold`
          </td>
        </tr>
      </tbody>
    </Table>

    Queries in transaction traces that exceed this threshold will report [slow query data](/docs/apm/applications-menu/monitoring/viewing-slow-query-details) and any available explain plans. Explain plan collection will not happen if [`transaction_tracer.explain_enabled`](#txn-tracer-explain-threshold) is `false`.
  </Collapser>

  <Collapser
    id="cfg-tt-attributes-enabled"
    title="transaction"
    title="_"
    title="tracer.attributes.enabled"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    This setting can be used to turn on or off all attributes for transaction traces. If `attributes.enabled` at the root level is `false`, no attributes will be sent to transaction traces regardless on how this configuration setting (`transaction_tracer.attributes.enabled`) is set.
  </Collapser>

  <Collapser
    id="cfg-tt-attributes-include"
    title="transaction"
    title="_"
    title="tracer.attributes.include"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            List of strings
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            (none)
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    If attributes are enabled for transaction traces, all attribute keys found in this list will be sent to us in transaction traces. For more information, see the [agent attribute rules](/docs/apm/other-features/attributes/agent-attributes).
  </Collapser>

  <Collapser
    id="cfg-tt-attributes-exclude"
    title="transaction"
    title="_"
    title="tracer.attributes.exclude"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            List of Strings
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            (none)
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    All attribute keys found in this list will not be sent in transaction traces. For more information, see the [agent attribute rules](/docs/apm/other-features/attributes/agent-attributes).
  </Collapser>

  <Collapser
    id="txn-tracer-function"
    title="transaction"
    title="_"
    title="tracer.function"
    title="_"
    title="trace"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            String
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            (none)
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    For the specified functions or methods, the agent will capture additional function timing instrumentation. Specify these names in the form `module:function` or `module:class.function`.
  </Collapser>
</CollapserGroup>

## Transaction segment configuration

Here are Transaction segment settings available via the agent configuration file.

<CollapserGroup>
  <Collapser
    id="cfg-tt-attributes-enabled"
    title="transaction"
    title="_"
    title="segments.attributes.enabled"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    This setting can be used to turn on or off all attributes for segments of transaction traces. If `attributes.enabled` at the root level is `false`, no attributes will be sent to segments of transaction traces regardless on how this configuration setting (`transaction_segments.attributes.enabled`) is set.
  </Collapser>

  <Collapser
    id="cfg-tt-attributes-include"
    title="transaction"
    title="_"
    title="segments.attributes.include"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            List of strings
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            (none)
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    If attributes are enabled for segments of transaction traces, all attribute keys found in this list will be sent in segments of transaction traces. For more information, see the [agent attribute rules](/docs/apm/other-features/attributes/agent-attributes).
  </Collapser>

  <Collapser
    id="cfg-tt-attributes-exclude"
    title="transaction"
    title="_"
    title="segments.attributes.exclude"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            List of Strings
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            (none)
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    All attribute keys found in this list will not be sent in segments of transaction traces. For more information, see the [agent attribute rules](/docs/apm/other-features/attributes/agent-attributes).
  </Collapser>
</CollapserGroup>

## Error collector configuration

Here are error collector settings available via the agent configuration file.

<Callout variant="tip">
  For an overview of error configuration in APM, see [Manage errors in APM](/docs/agents/manage-apm-agents/agent-data/manage-errors-apm-collect-ignore-mark-expected).
</Callout>

<CollapserGroup>
  <Collapser
    id="error-enabled"
    title="error"
    title="_"
    title="collector.enabled"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Server-side config, config file
          </td>
        </tr>

        <tr>
          <th>
            [Server-side label](#server-side-configuration)
          </th>

          <td>
            `Enable error collection?`
          </td>
        </tr>
      </tbody>
    </Table>

    If enabled, the error collector captures information about uncaught exceptions.
  </Collapser>

  <Collapser
    id="error-ignore"
    title="error"
    title="_"
    title="collector.ignore"
    title="_"
    title="errors"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            String
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            (none)
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Server-side config, config file
          </td>
        </tr>

        <tr>
          <th>
            [Server-side label](#server-side-configuration)
          </th>

          <td>
            `Ignore these errors`
          </td>
        </tr>
      </tbody>
    </Table>

    To stop collecting specific errors, set this to a space-separated list of the Python exception type names to ignore. Use the form `module:class` for the exception name.
  </Collapser>

  <Collapser
    id="error-ignore-status-codes"
    title="error"
    title="_"
    title="collector.ignore"
    title="_"
    title="status"
    title="_"
    title="codes"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            String
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `100-102 200-208 226 300-308 404`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    Lists HTTP status codes which the agent should ignore rather than record as errors. List additional status codes as integers separated by spaces, and specify ranges with a hyphen `-` separator between the start and end values. To add one of the default codes to your allow list, preface the code with an exclamation point `!`.

    This setting is only compatible with some web frameworks, as some frameworks do not use exceptions to return HTTP responses.
  </Collapser>

  <Collapser
    id="cfg-error-attributes-enabled"
    title="error"
    title="_"
    title="collector.attributes.enabled"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    This setting can be used to turn on or off all attributes for traced errors. If `attributes.enabled` is `false` at the root level, then no attributes will be sent to traced errors regardless on how this configuration setting (`error_collector.attributes.enabled`) is set.
  </Collapser>

  <Collapser
    id="cfg-ec-attributes-include"
    title="error"
    title="_"
    title="collector.attributes.include"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            List of strings
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            (none)
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    If attributes are enabled for traced errors, all attribute keys found in this list will be sent to in traced errors. For more information, see the [agent attribute rules](/docs/apm/other-features/attributes/agent-attributes).
  </Collapser>

  <Collapser
    id="cfg-ec-attributes-exclude"
    title="error"
    title="_"
    title="collector.attributes.exclude"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            List of strings
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            (none)
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    Attribute keys found in this list will not be sent to in traced errors. For more information, see the [agent attribute rules](/docs/apm/other-features/attributes/agent-attributes).
  </Collapser>

  <Collapser
    id="cfg-ec-capture-events"
    title="error"
    title="_"
    title="collector.capture"
    title="_"
    title="events"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    If enabled, the error collector captures event data for advanced analytics. For more information, see [APM Errors](https://docs.newrelic.com/docs/apm/applications-menu/events/view-apm-errors-error-traces).
  </Collapser>
</CollapserGroup>

## Browser monitoring settings

Here are browser monitoring settings available via the agent configuration file.

<CollapserGroup>
  <Collapser
    id="browser-enabled"
    title="browser"
    title="_"
    title="monitoring.enabled"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    Enables browser monitoring. For more information, see [Page load timing in Python](/docs/python/page-load-timing-in-python).

    <Callout variant="important">
      Before enabling browser monitoring in the config file, [enable it in the application settings in the browser monitoring UI](/docs/browser/new-relic-browser/installation-configuration/adding-apps-new-relic-browser#select-apm-app).
    </Callout>
  </Collapser>

  <Collapser
    id="browser-auto"
    title="browser"
    title="_"
    title="monitoring.auto"
    title="_"
    title="instrument"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    For [supported Python web frameworks](/docs/agents/python-agent/supported-features/page-load-timing-python#restrictions_on_instrumentation), this setting enables auto-insertion of the browser monitoring JavaScript fragments.
  </Collapser>

  <Collapser
    id="browser-content-type"
    title="browser"
    title="_"
    title="monitoring.content"
    title="_"
    title="type"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            String
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `text/html`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    Specify the HTML `Content-Type`(s) that our browser monitoring agent should auto-instrument. Add additional entries in a space-separated list.

    <dt id="example-instrument-xhtml-xml">
      Instrument xhtml+xml page responses
    </dt>

    <dd>
      If you are generating HTML page responses and using the `Content-Type` of `application/xhtml+xml`, you can override the allowed content types to list both this content type and the default `text/html` by using:

      ```
      browser_monitoring.content_type = text/html application/xhtml+xml
      ```

      <Callout variant="important">
        The browser monitoring JavaScript snippet prevents the page from validating as `application/xhtml+xml`, although the page should load and render in end-user browsers.
      </Callout>
    </dd>
  </Collapser>

  <Collapser
    id="cfg-browser-attributes-enabled"
    title="browser"
    title="_"
    title="monitoring.attributes.enabled"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    This setting can be used to turn on or off all attributes for browser monitoring. This is the data which gets sent to page views in Insights. If `attributes.enabled` is false at the root level, no attributes will be sent up in browser monitoring regardless on how the configuration setting (`browser_monitoring.attributes.enabled`) is set.
  </Collapser>

  <Collapser
    id="cfg-bm-attributes-include"
    title="browser"
    title="_"
    title="monitoring.attributes.include"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            List of Strings
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            (none)
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    If attributes are enabled for `browser_monitoring`, all attribute keys found in this list will be sent in page views. For more information, see the [agent attribute rules](/docs/apm/other-features/attributes/agent-attributes).
  </Collapser>

  <Collapser
    id="cfg-bm-attributes-exclude"
    title="browser"
    title="_"
    title="monitoring.attributes.exclude"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            List of Strings
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            (none)
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    All attribute keys found in this list will not be sent in page views. For more information, see the [agent attribute rules](/docs/apm/other-features/attributes/agent-attributes).
  </Collapser>
</CollapserGroup>

## Transaction events settings

Here are Transaction events settings available via the agent configuration file.

<Callout variant="tip">
  These configuration settings used to be called `analytic_events`. If your configuration file still uses `analytic_events`, update your agent to use `transaction_events`.
</Callout>

<CollapserGroup>
  <Collapser
    id="transaction-events-enabled"
    title="transaction"
    title="_"
    title="events.enabled"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    Transaction event data allows the use of additional information such as [histograms](/docs/applications-menu/histograms-viewing-data-distribution) and [percentiles](/docs/applications-menu/percentiles-comparing-ranked-data).
  </Collapser>

  <Collapser
    id="cfg-events-attributes-enabled"
    title="transaction"
    title="_"
    title="events.attributes.enabled"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    This setting can be used to turn on or off all attributes for transaction events. If `attributes.enabled` is `false` at the root level, then no attributes will be sent to transaction events regardless on how this configuration setting (`transaction_events.attributes.enabled`) is set.
  </Collapser>

  <Collapser
    id="cfg-events-attributes-include"
    title="transaction"
    title="_"
    title="events.attributes.include"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            List of Strings
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            (none)
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    If attributes are enabled for transaction events, all attribute keys found in this list will be sent in transaction events. For more information, see the [agent attribute rules](/docs/apm/other-features/attributes/agent-attributes).
  </Collapser>

  <Collapser
    id="cfg-events-attributes-exclude"
    title="transaction"
    title="_"
    title="events.attributes.exclude"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            List of Strings
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            (none)
          </td>
        </tr>
      </tbody>
    </Table>

    All attribute keys found in this list will not be sent to in transaction events. Note that excluding attributes from transaction events does not exclude from span events. For more information, see the [agent attribute rules](/docs/apm/other-features/attributes/agent-attributes).
  </Collapser>
</CollapserGroup>

## Custom Insights events settings

Here are Custom Insights events settings available via the agent configuration file.

<CollapserGroup>
  <Collapser
    id="custom-insights-events-enabled"
    title="custom"
    title="_"
    title="insights"
    title="_"
    title="events.enabled"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    Allow recording of events to the Insights custom events API via [`record_custom_event()`](/docs/agents/python-agent/customization-extension/python-transaction-api#record_custom_event).
  </Collapser>
</CollapserGroup>

## Datastore tracer settings

These datastore tracer settings are available via the agent configuration file:

<CollapserGroup>
  <Collapser
    id="datastore-tracer-instance-reporting-enabled"
    title="datastore"
    title="_"
    title="tracer.instance"
    title="_"
    title="reporting.enabled"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    When enabled, the agent collects datastore instance metrics (such as host and port) for some database drivers. These are also reported on slow query traces and transaction traces.
  </Collapser>

  <Collapser
    id="datastore-tracer-database-name-reporting-enabled"
    title="datastore"
    title="_"
    title="tracer.database"
    title="_"
    title="name"
    title="_"
    title="reporting.enabled"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    When enabled, the agent collects database name for some database drivers. The database name is reported on slow query traces and transaction traces.
  </Collapser>
</CollapserGroup>

## Distributed tracing settings

<Callout variant="important">
  Enabling distributed tracing disables [cross application tracing](#cross-application-tracer) and has other effects on APM features. Before enabling, read the [transition guide](https://docs.newrelic.com/docs/transition-guide-distributed-tracing).

  Requires [Python agent version 4.2.0.100 or higher](/docs/agents/python-agent/installation-configuration/upgrade-python-agent).
</Callout>

Distributed tracing lets you see the path that a request takes as it travels through a distributed system. Settings include:

<CollapserGroup>
  <Collapser
    id="distributed-tracing-enabled"
    title="distributed"
    title="_"
    title="tracing.enabled"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file, environment variable
          </td>
        </tr>

        <tr>
          <th>
            [Environ variable](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_DISTRIBUTED_TRACING_ENABLED`
          </td>
        </tr>
      </tbody>
    </Table>

    Set this to `true` to enable distributed tracing.
  </Collapser>
</CollapserGroup>

## Span event configuration

[Span events](/docs/apm/distributed-tracing/getting-started/how-new-relic-distributed-tracing-works#data-structure) are collected for [distributed tracing](#distributed-tracing-settings). Distributed tracing must be enabled to report span events. Configuration options include:

<CollapserGroup>
  <Collapser
    id="cfg-tt-attributes-enabled"
    title="span"
    title="_"
    title="events.enabled"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    This setting can be used to turn on or off whether the Python agent sends spans.
  </Collapser>

  <Collapser
    id="cfg-tt-attributes-enabled"
    title="span"
    title="_"
    title="events.attributes.enabled"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    This setting can be used to turn on or off for all [attributes](/docs/using-new-relic/welcome-new-relic/getting-started/glossary#attribute) for span events. If `attributes.enabled` at the root level is `false`, no attributes will be sent to span events regardless on how this configuration setting (`span_events.attributes.enabled`) is set. For more information, see the [agent attribute rules](/docs/apm/other-features/attributes/agent-attributes).
  </Collapser>

  <Collapser
    id="cfg-tt-attributes-include"
    title="span"
    title="_"
    title="events.attributes.include"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            List of strings
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            (none)
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    If attributes are enabled for span events, all attribute keys found in this list will be sent in span events. For more information, see the [agent attribute rules](/docs/apm/other-features/attributes/agent-attributes).
  </Collapser>

  <Collapser
    id="cfg-tt-attributes-exclude"
    title="span"
    title="_"
    title="events.attributes.exclude"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            List of Strings
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            (none)
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    All attribute keys found in this list will not be sent in span events. For more information, see the [agent attribute rules](/docs/apm/other-features/attributes/agent-attributes).
  </Collapser>
</CollapserGroup>

## Event loop visibility settings

<Callout variant="important">
  Requires [Python agent version 5.0.0.124 or higher](/docs/agents/python-agent/installation-configuration/upgrade-python-agent).
</Callout>

Event loop visibility surfaces information about transactions that block the event loop. The agent will generate information about transactions that have waited a significant amount of time to acquire control of the event loop. Settings include:

<CollapserGroup>
  <Collapser
    id="event-loop-visibility-enabled"
    title="event"
    title="_"
    title="loop"
    title="_"
    title="visibility.enabled"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    Set this to `false` to disable event loop information.
  </Collapser>

  <Collapser
    id="event-loop-visbility-blocking-threshold"
    title="event"
    title="_"
    title="loop"
    title="_"
    title="visibility.blocking"
    title="_"
    title="threshold"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Float
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `0.1`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    Threshold in seconds for how long a transaction must block the event loop before generating event loop information.
  </Collapser>
</CollapserGroup>

## Other configuration settings

Here are assorted other settings available via the agent configuration file.

<CollapserGroup>
  <Collapser
    id="utilization-detect_aws"
    title="utilization.detect"
    title="_"
    title="aws"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `true`
          </td>
        </tr>
      </tbody>
    </Table>

    If `true`, the agent automatically detects that it is running in an AWS environment.
  </Collapser>

  <Collapser
    id="utilization-detect_azure"
    title="utilization.detect"
    title="_"
    title="azure"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `true`
          </td>
        </tr>
      </tbody>
    </Table>

    If `true`, the agent automatically detects that it is running in an Azure environment.
  </Collapser>

  <Collapser
    id="utilization-detect_gcp"
    title="utilization.detect"
    title="_"
    title="gcp"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `true`
          </td>
        </tr>
      </tbody>
    </Table>

    If `true`, the agent automatically detects that it is running in a Google Cloud Platform environment.
  </Collapser>

  <Collapser
    id="utilization-detect_pcf"
    title="utilization.detect"
    title="_"
    title="pcf"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `true`
          </td>
        </tr>
      </tbody>
    </Table>

    If `true`, the agent automatically detects that it is running in a Pivotal Cloud Foundry environment.
  </Collapser>

  <Collapser
    id="utilization-detect_docker"
    title="utilization.detect"
    title="_"
    title="docker"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `true`
          </td>
        </tr>
      </tbody>
    </Table>

    If `true`, the agent automatically detects that it is running in Docker.
  </Collapser>

  <Collapser
    id="slow-sql"
    title="slow"
    title="_"
    title="sql.enabled"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Server-side config, config file
          </td>
        </tr>

        <tr>
          <th>
            [Server-side label](#server-side-configuration)
          </th>

          <td>
            `Enable Slow SQL?`
          </td>
        </tr>
      </tbody>
    </Table>

    If enabled, the agent captures details from long-running SQL database queries.
  </Collapser>

  <Collapser
    id="thread-profiler"
    title="thread"
    title="_"
    title="profiler.enabled"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Server-side config, config file
          </td>
        </tr>

        <tr>
          <th>
            [Server-side label](#server-side-configuration)
          </th>

          <td>
            `Enable thread profiler?`
          </td>
        </tr>
      </tbody>
    </Table>

    Enables you to schedule [thread profiling sessions](/docs/apm/applications-menu/events/thread-profiler-dashboard). The thread profiler will periodically capture a snapshot of the call stack for each active thread in the application to construct a statistically representative call tree.
  </Collapser>

  <Collapser
    id="cross-application-tracer"
    title="cross"
    title="_"
    title="application"
    title="_"
    title="tracer.enabled"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    Enables [cross application tracing](/docs/apm/transactions/cross-application-traces/introduction-cross-application-traces), which connect your apps and services within your service-oriented architecture.
  </Collapser>

  <Collapser
    id="strip_exception_messages_enabled"
    title="strip"
    title="_"
    title="exception"
    title="_"
    title="messages.enabled"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    If enabled, exception messages will be stripped from error traces before they are sent to the [collector](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#collector), in order to prevent the inadvertent capture of sensitive information. This option is automatically enabled in high security mode.
  </Collapser>

  <Collapser
    id="strip_exception_messages_whitelist"
    title="strip"
    title="_"
    title="exception"
    title="_"
    title="messages.whitelist"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            String
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            (none)
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    Exceptions listed in your allow list will not have their messages stripped, even if `strip_exception_messages.enabled` is `true`. The allow list is a space-separated string of exception types, each in the form of `module:exception_name`. List built-in exceptions as `exception_name`; you do not need to prepend `module:` to them.

    **Example: Built-in exception and user-defined exception**

    ```
    KeyError my_module:MyException
    ```
  </Collapser>

  <Collapser
    id="startup-timeout"
    title="startup"
    title="_"
    title="timeout"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Float
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `0.0`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file, environment variable
          </td>
        </tr>

        <tr>
          <th>
            [Environ variable](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_STARTUP_TIMEOUT`
          </td>
        </tr>
      </tbody>
    </Table>

    By default, the agent starts when it receives the first transaction (either web or [non-web](/docs/apm/transactions/intro-transactions/monitor-background-processes-other-non-web-transactions)). The agent then starts in parallel, ensuring that this initial request is not delayed. However, the agent does not record the details of this initial request because the agent cannot collect data until registration is complete.

    To override this, you can set a startup timeout in seconds. The agent will then pause the initial transaction and wait for registration to complete.

    <Callout variant="important">
      Since `startup_timeout` delays your app start, we recommend only setting a startup timeout for background task queuing systems, not web applications.
    </Callout>
  </Collapser>

  <Collapser
    id="shutdown-timeout"
    title="shutdown"
    title="_"
    title="timeout"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Float
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `2.5`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file, environment variable
          </td>
        </tr>

        <tr>
          <th>
            [Environ variable](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_SHUTDOWN_TIMEOUT`
          </td>
        </tr>
      </tbody>
    </Table>

    On process shutdown, the agent attempts one final upload to the [collector](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#collector). To prevent the agent running indefinitely in case of an issue, the process shuts down normally if the `shutdown_timeout` threshold is reached. This shutdown can result in data loss, but the agent prioritizes key metric data during the upload process.

    For background task queuing systems, especially those which run a small number of tasks per process, you may want to increase the shutdown timeout to ensure the agent can upload all data on process shutdown.

    <Callout variant="tip">
      The agent defaults to a 2.5 second timeout because Apache and many other web servers have a 3.0 second process termination timeout. The agent exits at 2.5 seconds to allow `atexit` cleanup code registered for the process to run.
    </Callout>
  </Collapser>

  <Collapser
    id="shutdown-timeout"
    title="compressed"
    title="_"
    title="content"
    title="_"
    title="encoding"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            String
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `gzip`
          </td>
        </tr>

        <tr>
          <th>
            [Set in](#options)
          </th>

          <td>
            Config file
          </td>
        </tr>
      </tbody>
    </Table>

    If the data compression threshold is reached in the payload, the agent compresses data, using gzip compression by default. The config option `compression_content_encoding` can be set to `deflate` to use deflate compression.
  </Collapser>
</CollapserGroup>

## Heroku

<CollapserGroup>
  <Collapser
    id="heroku-use_dyno_names"
    title="heroku.use"
    title="_"
    title="dyno"
    title="_"
    title="names"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Environ variable
          </th>

          <td>
            `NEW_RELIC_HEROKU_USE_DYNO_NAMES`
          </td>
        </tr>
      </tbody>
    </Table>

    If `true`, the agent uses Heroku dyno names as the hostname.
  </Collapser>

  <Collapser
    id="heroku-dyno_name_prefixes_to_shorten"
    title="heroku.dyno"
    title="_"
    title="name"
    title="_"
    title="prefixes"
    title="_"
    title="to"
    title="_"
    title="shorten"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            `["scheduler", "run"]`
          </td>
        </tr>

        <tr>
          <th>
            Environ variable
          </th>

          <td>
            `NEW_RELIC_HEROKU_DYNO_NAME_PREFIXES_TO_SHORTEN`
          </td>
        </tr>
      </tbody>
    </Table>

    Ordinarily the agent reports dyno names with a trailing dot and process ID (for example, **worker.3**). You can remove this trailing data by specifying the prefixes you want to report without trailing data (for example, **worker**).
  </Collapser>
</CollapserGroup>

## Built-in instrumentation

The Python agent instruments a range of Python packages/modules. This instrumentation only occurs when the target Python package/module is imported by an application.

To disable default instrumentation, provide a special `import-hook` section corresponding to the name of the module that triggered instrumentation. Then set the `enabled` setting to `false` to disable instrumentation of that module.

<dt id="example-disable-mysqldb">
  Example: Disabling MySQLdb database query instrumentation
</dt>

<dd>
  Add the following to the configuration file:

  ```
  [import-hook:MySQLdb]
  enabled = false
  ```
</dd>

## For more help
