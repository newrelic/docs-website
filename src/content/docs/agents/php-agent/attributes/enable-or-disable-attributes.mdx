---
title: Enable or disable attributes
tags:
  - Agents
  - PHP agent
  - Attributes
metaDescription: 'How to include and exclude specific attributes for your New Relic PHP agent, including properties and rules.'
redirects:
  - /docs/php/php-agent-enabling-and-disabling-attributes
  - /docs/agents/php-agent/attributes/enabling-and-disabling-attributes
  - /docs/agents/php-agent/attributes/enabling-disabling-attributes
---

Learn about properties to enable or disable attributes, and the rules that New Relic uses when determining which attributes to include or exclude for a [destination](/docs/features/agent-attributes#destinations). This also includes a summary of the PHP agent properties that have been deprecated with the release of New Relic agent attributes.

## Properties

Use the following destination properties to open or close the destination to any attribute collection:

<CollapserGroup>
  <Collapser
    id="cfg-attributes-enabled"
    title={<InlineCode>newrelic.attributes.enabled</InlineCode>}
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            True
          </td>
        </tr>
      </tbody>
    </table>

    Turns on or turns off all attributes in all destinations.
  </Collapser>

  <Collapser
    id="cfg-browser-attributes-enabled"
    title={<InlineCode>newrelic.browser_monitoring.attributes.enabled</InlineCode>}
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default:
          </th>

          <td>
            False
          </td>
        </tr>
      </tbody>
    </table>

    Turns on or turns off all attributes for browser monitoring. This is the data that gets sent to page views in Insights. If `newrelic.attributes.enabled` is `false`, no attributes will be sent to browser monitoring regardless of how this property is set.
  </Collapser>

  <Collapser
    id="cfg-error-attributes-enabled"
    title={<InlineCode>newrelic.error_collector.attributes.enabled</InlineCode>}
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default:
          </th>

          <td>
            True
          </td>
        </tr>
      </tbody>
    </table>

    Turns on or turns off all attributes for traced errors. If `newrelic.attributes.enabled` is `false`, no attributes will be sent to traced errors regardless of how this property is set.
  </Collapser>

  <Collapser
    id="cfg-events-attributes-enabled"
    title={<InlineCode>newrelic.transaction_events.attributes.enabled</InlineCode>}
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default:
          </th>

          <td>
            True
          </td>
        </tr>
      </tbody>
    </table>

    Turns on or turns off all attributes for transaction events. If `newrelic.attributes.enabled` is `false`, no attributes will be sent to transaction events regardless of how this property is set.
  </Collapser>

  <Collapser
    id="cfg-tt-attributes-enabled"
    title={<InlineCode>newrelic.transaction_tracer.attributes.enabled</InlineCode>}
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            True
          </td>
        </tr>
      </tbody>
    </table>

    Turns on or off all attributes for transaction traces. If `newrelic.attributes.enabled` is `false`, no attributes will be sent to transaction traces regardless of how this property is set.
  </Collapser>

  <Collapser
    id="cfg-tt-attributes-enabled"
    title={<InlineCode>newrelic.span_events.attributes.enabled</InlineCode>}
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default
          </th>

          <td>
            True
          </td>
        </tr>
      </tbody>
    </table>

    Turns on or off all attributes for `Span` data. If `newrelic.attributes.enabled` is `false`, no attributes will be sent to spans regardless of how this property is set.
  </Collapser>
</CollapserGroup>

Use the following attribute/destination specific `.include` or `.exclude` properties to add or remove specific attributes in specific destinations:

<CollapserGroup>
  <Collapser
    id="cfg-attributes-include"
    title={<InlineCode>newrelic.attributes.include</InlineCode>}
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Comma-delimited list of strings
          </td>
        </tr>

        <tr>
          <th>
            Default:
          </th>

          <td>
            Empty
          </td>
        </tr>
      </tbody>
    </table>

    If attributes are enabled, all attribute keys in this list will be sent to New Relic.
  </Collapser>

  <Collapser
    id="cfg-attributes-exclude"
    title={<InlineCode>newrelic.attributes.exclude</InlineCode>}
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Comma-delimited list of strings
          </td>
        </tr>

        <tr>
          <th>
            Default:
          </th>

          <td>
            Empty
          </td>
        </tr>
      </tbody>
    </table>

    All attribute keys in this list will **not** be sent to New Relic.
  </Collapser>

  <Collapser
    id="cfg-bm-attributes-include"
    title={<InlineCode>newrelic.browser_monitoring.attributes.include</InlineCode>}
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Comma-delimited list of strings
          </td>
        </tr>

        <tr>
          <th>
            Default:
          </th>

          <td>
            Empty
          </td>
        </tr>
      </tbody>
    </table>

    If attributes are enabled for browser_monitoring, all attribute keys in this list will be sent to New Relic Browser in page views.
  </Collapser>

  <Collapser
    id="cfg-bm-attributes-exclude"
    title={<InlineCode>newrelic.browser_monitoring.attributes.exclude</InlineCode>}
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Comma-delimited list of strings
          </td>
        </tr>

        <tr>
          <th>
            Default:
          </th>

          <td>
            Empty
          </td>
        </tr>
      </tbody>
    </table>

    All attribute keys found in this list will **not** be sent to New Relic in page views.
  </Collapser>

  <Collapser
    id="cfg-ec-attributes-include"
    title={<InlineCode>newrelic.error_collector.attributes.include</InlineCode>}
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Comma-delimited list of strings
          </td>
        </tr>

        <tr>
          <th>
            Default:
          </th>

          <td>
            Empty
          </td>
        </tr>
      </tbody>
    </table>

    If attributes are enabled for traced errors, all attribute keys in this list will be sent to New Relic in traced errors.
  </Collapser>

  <Collapser
    id="cfg-ec-attributes-exclude"
    title={<InlineCode>newrelic.error_collector.attributes.exclude</InlineCode>}
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Comma-delimited list of strings
          </td>
        </tr>

        <tr>
          <th>
            Default:
          </th>

          <td>
            Empty
          </td>
        </tr>
      </tbody>
    </table>

    All attribute keys in this list will **not** be sent to New Relic in traced errors.
  </Collapser>

  <Collapser
    id="cfg-te-attributes-include"
    title={<InlineCode>newrelic.transaction_events.attributes.include</InlineCode>}
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Comma-delimited list of strings
          </td>
        </tr>

        <tr>
          <th>
            Default:
          </th>

          <td>
            Empty
          </td>
        </tr>
      </tbody>
    </table>

    If attributes are enabled for transaction events, all attribute keys in this list will be sent to New Relic in transaction events.
  </Collapser>

  <Collapser
    id="cfg-te-attributes-exclude"
    title={<InlineCode>newrelic.transaction_events.attributes.exclude</InlineCode>}
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Comma-delimited list of strings
          </td>
        </tr>

        <tr>
          <th>
            Default:
          </th>

          <td>
            Empty
          </td>
        </tr>
      </tbody>
    </table>

    All attribute keys in this list will **not** be sent to New Relic in transaction events.
  </Collapser>

  <Collapser
    id="cfg-tt-attributes-include"
    title={<InlineCode>newrelic.transaction_tracer.attributes.include</InlineCode>}
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Comma-delimited list of strings
          </td>
        </tr>

        <tr>
          <th>
            Default:
          </th>

          <td>
            Empty
          </td>
        </tr>
      </tbody>
    </table>

    If attributes are enabled for transaction traces, all attribute keys in this list will be sent to New Relic in transaction traces.
  </Collapser>

  <Collapser
    id="cfg-tt-attributes-exclude"
    title={<InlineCode>newrelic.transaction_tracer.attributes.exclude</InlineCode>}
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Comma-delimited list of strings
          </td>
        </tr>

        <tr>
          <th>
            Default:
          </th>

          <td>
            Empty
          </td>
        </tr>
      </tbody>
    </table>

    All attribute keys in this list will **not** be sent to New Relic in transaction traces.
  </Collapser>

  <Collapser
    id="cfg-tt-attributes-include"
    title={<InlineCode>newrelic.span_events.attributes.include</InlineCode>}
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Comma-delimited list of strings
          </td>
        </tr>

        <tr>
          <th>
            Default:
          </th>

          <td>
            Empty
          </td>
        </tr>
      </tbody>
    </table>

    If attributes are enabled for span events, all attribute keys in this list will be sent to New Relic in span events.
  </Collapser>

  <Collapser
    id="cfg-tt-attributes-exclude"
    title={<InlineCode>newrelic.span_events.attributes.exclude</InlineCode>}
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Comma-delimited list of strings
          </td>
        </tr>

        <tr>
          <th>
            Default:
          </th>

          <td>
            Empty
          </td>
        </tr>
      </tbody>
    </table>

    All attribute keys in this list will **not** be sent to New Relic in span events.
  </Collapser>
</CollapserGroup>

## Attribute rules [#attruls]

New Relic follows these rules when determining which attributes to include or exclude for a destination.

<CollapserGroup>
  <Collapser
    id="rule-root-precedence"
    title="Root level takes precedence for enabled."
  >
    The `newrelic.attributes.enabled` field trumps all other settings. When `false`, no attributes will be reported to New Relic.

    Example configuration:

    ```
    newrelic.attributes.enabled = false
    newrelic.attributes.include = foo,bar
    newrelic.transaction_tracer.attributes.enabled = true
    ```

    Example output:

    ```
    Keys passed in: password, foo, bar, bat
    Keys included for all destinations:
    Keys excluded for all destinations: password, foo, bar, bat
    ```
  </Collapser>

  <Collapser
    id="rule-destination-precedence"
    title="Destination enabled takes precedence over include and exclude."
  >
    `newrelic.{destination}.attributes.enabled` flags take precedence over include and exclude keys.

    Example configuration:

    ```
    newrelic.transaction_tracer.attributes.enabled = false
    newrelic.attributes.include = one,two
    newrelic.transaction_tracer.attributes.include = three,four
    ```

    Example output:

    ```
    Keys passed in: one, two, three, four
    Keys included for transaction traces:
    Keys excluded for transaction traces: one, two, three, four
    ```
  </Collapser>

  <Collapser
    id="rule-included-destination"
    title="Attribute is included if the destination is enabled."
  >
    If a destination is enabled, all user attributes are sent to that destination by default.

    All user attributes default to `true`. However, by default, request attributes and message parameters are disabled for all destinations.

    Example configuration:

    ```
    newrelic.attributes.enabled = true
    newrelic.attributes.exclude = myAttKey
    ```

    Example output:

    ```
    Keys passed in: foo, bar, myAttKey
    Keys included: foo, bar
    Keys excluded: myAttKey
    ```
  </Collapser>

  <Collapser
    id="rule-exclude-wins"
    title="Exclude always supersedes include."
  >
    If the same key is listed in the include and exclude lists, then attributes with the specified key will be excluded.

    Example configuration:

    ```
    newrelic.attributes.enabled = true
    newrelic.attributes.include = foo,myCustomAtt
    newrelic.attributes.exclude = password,myCustomAtt
    ```

    Example output:

    ```
    Keys passed in: foo, myCustomAtt, password
    Keys included: foo
    Keys excluded: password, myCustomAtt
    ```
  </Collapser>

  <Collapser
    id="rule-keys-case-sensitive"
    title="Keys are case sensitive."
  >
    Keys are case sensitive.

    Example configuration:

    ```
    newrelic.attributes.enabled = true
    newrelic.attributes.exclude = password,PaSsWoRd
    ```

    Example output:

    ```
    Keys passed in: password, Password, PASSWORD, PaSsWoRd, PassWORD
    Keys included: Password, PASSWORD, PassWORD
    Keys excluded: password, PaSsWoRd
    ```
  </Collapser>

  <Collapser
    id="rule-star-wildcard"
    title={<>Use a star (<InlineCode>\*</InlineCode>) for wildcards.</>}
  >
    You can use an asterisk or star (`*`) at the end of a key as a wildcard. This will match a set of attributes with the same prefix.

    Example configuration:

    ```
    newrelic.attributes.enabled = true
    newrelic.attributes.include = custom*
    newrelic.attributes.exclude = request.parameters.*
    ```

    Example output:

    ```
    Keys passed in: custom, custom.key1, custom.key2, request.parameters., request.parameters.foo, request.parameters.bar
    Keys included: custom, custom.key1, custom.key2
    Keys excluded: request.parameters., request.parameters.foo, request.parameters.bar
    ```
  </Collapser>

  <Collapser
    id="rule-specific-wins"
    title="Most specific setting for a key takes priority."
  >
    If multiple include or exclude attributes affect the same key, the most specific setting will have priority.

    Example configuration:

    ```
    newrelic.attributes.enabled = true
    newrelic.attributes.include = request.parameters.foo
    newrelic.attributes.exclude = request.parameters.*
    ```

    Example output:

    ```
    Keys passed in: request.parameters., request.parameters.foo, request.parameters.bar
    Keys included: request.parameters.foo
    Keys excluded: request.parameters., request.parameters.bar
    ```
  </Collapser>

  <Collapser
    id="rule-destination-include-exclude"
    title="Include or exclude affects the specific destination."
  >
    If the attribute include or exclude is specified on a destination, then it only impacts that destination.

    Example configuration:

    ```
    newrelic.attributes.include = foo
    newrelic.transaction_events.attributes.exclude = foo
    ```

    Example output:

    ```
    Keys passed in: foo
    Keys included for transaction events: 
    Keys included for other destinations: foo
    Keys excluded for transaction events: foo
    ```
  </Collapser>
</CollapserGroup>

## Deprecated properties [#deprecated]

The following properties have been deprecated. Switch to the new attributes configuration for these properties when upgrading your PHP agent.

<table>
  <thead>
    <tr>
      <th width={200}>
        **Deprecated property**
      </th>

      <th>
        **New property**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `newrelic.capture_params`
      </td>

      <td>
        `newrelic.attributes.include = request.parameters.*`

        By default, request parameters are not sent to New Relic. Add `request.parameters.*` to the `newrelic.attributes.include` list to turn on all request parameters. The `newrelic.capture_params` property has been deprecated.
      </td>
    </tr>

    <tr>
      <td>
        `newrelic.ignored_params`
      </td>

      <td>
        `newrelic.attributes.exclude = request.parameters.{name}`

        Add each request parameter key to the `newrelic.attributes.exclude` list, delimited by commas. Be sure to prepend the key with `request.parameters`. The `newrelic.ignored_params` property has been deprecated.
      </td>
    </tr>

    <tr>
      <td>
        `newrelic.{destination}.capture_attributes`
      </td>

      <td>
        `newrelic.{destination}.attributes.enabled`

        The old `newrelic.{destination}.capture_attributes` flag would turn off user attribute collection. This has been deprecated. Use `newrelic.{destination}.attributes.enabled` instead.
      </td>
    </tr>
  </tbody>
</table>

## For more help

If you need more help, check out these support and learning resources:

* Suggest a change and learn how to [contribute](https://github.com/newrelic/newrelic-php-agent/issues) to our PHP agent open source repository.
* Browse the [Explorers Hub](https://discuss.newrelic.com/) to get help from the community and join in discussions.
* Find [answers on our sites and learn how to use our support portal](https://docs.newrelic.com/docs/using-new-relic/welcome-new-relic/get-started/find-help-use-support-portal/).
* Run [New Relic Diagnostics](https://docs.newrelic.com/docs/using-new-relic/cross-product-functions/troubleshooting/new-relic-diagnostics/), our troubleshooting tool for Linux, Windows, and macOS.
* Review New Relic's [data security](https://docs.newrelic.com/docs/security/) and [licenses](https://docs.newrelic.com/docs/licenses/) documentation.
