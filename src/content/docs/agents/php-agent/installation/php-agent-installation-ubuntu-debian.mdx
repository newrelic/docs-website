---
title: 'PHP agent installation: Ubuntu and Debian'
tags:
  - Agents
  - PHP agent
  - Installation
translate:
  - jp
metaDescription: 'Ubuntu and Debian users: To install, upgrade, or uninstall your New Relic PHP agent, start here.'
redirects:
  - /docs/php/php-agent-installation-ubuntu-and-debian
  - /docs/agents/php-agent/installation/php-agent-installation-ubuntu-and-debian
---

Our [PHP agent](/docs/agents/php-agent/getting-started/new-relic-php#configuration) auto-instruments your code so you can start monitoring applications. These are the standard procedures to install our PHP agent on Ubuntu or Debian. (This is not the same as the Ubuntu and Debian procedures for the [infrastructure monitoring agent](/docs/infrastructure/new-relic-infrastructure/installation/install-infrastructure-linux#apt-based).) For other situations, see the [PHP agent procedures for non-standard PHP installations](/docs/php/php-agent-installation-non-standard-php).

<Callout variant="tip">
  To use PHP or any other agent, as well as the rest of our [observability platform](https://one.newrelic.com), join the New Relic family! [Sign up](https://newrelic.com/signup) to create your free account in only a few seconds. Then ingest up to 100GB of data for free each month. Forever.
</Callout>

## PHP versions [#php7]

The package name for the PHP agent is `newrelic-php5`. Although the name references PHP 5, this package works for all [supported PHP versions](/docs/agents/php-agent/getting-started/php-agent-compatibility-requirements#php-release), including PHP 7 versions.

## Recommended: Use `apt` [#use-apt]

This is the recommended method for New Relic installation and maintenance.

<Callout variant="important">
  Run the commands in this procedure as root.
</Callout>

<table>
  <thead>
    <tr>
      <th style={{ width: "75px" }}>
        Step
      </th>

      <th>
        Notes
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        **1.**
      </td>

      <td>
        **Configure the New Relic apt repository.**

        ```
        echo 'deb http://apt.newrelic.com/debian/ newrelic non-free' | sudo tee /etc/apt/sources.list.d/newrelic.list
        ```

        This command adds `deb http://apt.newrelic.com/debian/ newrelic non-free` to `/etc/apt/sources.list.d/newrelic.list`. It creates the file if it does not exist.

        This step is only required once per system.
      </td>
    </tr>

    <tr>
      <td>
        **2.**
      </td>

      <td>
        **Trust the New Relic GPG key.**

        This step is required to register New Relic as an authenticated source where apt-get will look for new packages. To get the New Relic public apt-key from global key servers, run the following command as root:

        ```
        wget -O- https://download.newrelic.com/548C16BF.gpg | sudo apt-key add -
        ```

        If you do not run this command as root, you may see an error message about the public key.
      </td>
    </tr>

    <tr>
      <td>
        **3.**
      </td>

      <td>
        **Update the local package list.**

        Execute the following command as root:

        ```
        sudo apt-get update
        ```
      </td>
    </tr>

    <tr>
      <td>
        **4.**
      </td>

      <td>
        **Install the PHP agent.**

        Execute the following command to install directly from the New Relic repositories:

        ```
        sudo apt-get install newrelic-php5
        ```
      </td>
    </tr>

    <tr>
      <td>
        **5.**
      </td>

      <td>
        **Non-standard installations: Complete installation manually.**

        If you are not using the default Ubuntu or Debian PHP packages, the `newrelic-php5` package may be unable to configure PHP automatically. You may see this error:

        ```
        Please run newrelic-install as root to complete installation.
        ```

        If so, run the following command:

        ```
        sudo newrelic-install install
        ```
      </td>
    </tr>

    <tr>
      <td>
        **6.**
      </td>

      <td>
        **Configure your application name and New Relic license key.**

        The installation process prompts for your application name and license key. Your [license key](/docs/subscriptions/license-key) appears in the account information section of **Account settings**. For headless installations, you can also [preseed your license key and application name by using `debconf`](#preseeding).
      </td>
    </tr>

    <tr>
      <td>
        **7.**
      </td>

      <td>
        **Restart your web server or FastCGI Process Manager (FPM).**

        Generate traffic for your app, and wait a few minutes for your application to send data to New Relic. Then, [check your app's performance in the New Relic UI](/docs/apm/applications-menu/monitoring/apm-overview-page).
      </td>
    </tr>
  </tbody>
</table>

## Optional: Unattended installation [#unattended]

To run an unattended installation, you can use non-interactive mode. Include the `-y` flag to automatically respond `yes` to any prompt during package installation. For example:

```
DEBIAN_FRONTEND=noninteractive apt-get -y install newrelic-php5
```

## Manual: Use `dpkg` [#use-dpkg]

<Callout variant="important">
  If you use `dpkg`, you must manually install updates. This is why New Relic recommends the [`apt` method](#use-apt) for installation and maintenance. Run the commands in this procedure as root.
</Callout>

To install the PHP agent manually using `dpkg`:

<table>
  <thead>
    <tr>
      <th style={{ width: "75px" }}>
        Step
      </th>

      <th>
        Notes
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        **1.**
      </td>

      <td>
        **Copy the URL for the package download.**

        Navigate to the appropriate URL for your architecture, and copy the full URL for the latest `newrelic-daemon`, `newrelic-php5-common`, and `newrelic-php5` packages:

        * [32-bit architecture](https://download.newrelic.com/debian/dists/newrelic/non-free/binary-i386/)
        * [64-bit architecture](https://download.newrelic.com/debian/dists/newrelic/non-free/binary-amd64/)
      </td>
    </tr>

    <tr>
      <td>
        **2.**
      </td>

      <td>
        **Download the package.**

        Run the following `wget` command, replacing `https://LINK_TO_PACKAGE` with the full URL of the package:

        ```
        wget -L https://<var>LINK_TO_PACKAGE</var>
        ```
      </td>
    </tr>

    <tr>
      <td>
        **3.**
      </td>

      <td>
        **Install the PHP agent.**

        Run the appropriate command as root, replacing `X.X.X.X` with the current version:

        **32-bit:**

        ```
        dpkg -i newrelic-php5-common_<var>X.X.X.X</var>_all.deb newrelic-daemon_<var>X.X.X.X</var>_i386.deb newrelic-php5_<var>X.X.X.X</var>_i386.deb
        ```

        **64-bit:**

        ```
        dpkg -i newrelic-php5-common_<var>X.X.X.X</var>_all.deb newrelic-daemon_<var>X.X.X.X</var>_amd64.deb newrelic-php5_<var>X.X.X.X</var>_amd64.deb
        ```
      </td>
    </tr>

    <tr>
      <td>
        **4.**
      </td>

      <td>
        **Configure your application name and New Relic license key.**

        The installation process prompts for your application name and license key. Your [license key](/docs/subscriptions/license-key) appears in the account information section of **Account settings**. For headless installations, you can also [preseed your license key and application name by using `debconf`](#preseeding).
      </td>
    </tr>

    <tr>
      <td>
        **5.**
      </td>

      <td>
        **Restart your web server or FastCGI Process Manager (FPM).**

        Generate traffic for your app, and wait a few minutes for your application to send data to New Relic. Then, [check your app's performance in the New Relic UI](/docs/apm/applications-menu/monitoring/apm-overview-page).
      </td>
    </tr>
  </tbody>
</table>

## Headless: Preseed license key and app name [#preseeding]

For headless installations, you can preseed your [license key](/docs/subscriptions/license-key) and [application name](/docs/site/naming-your-application). You must use the default php5 packages provided by your distribution. To preseed, set values in your `debconf` database by using [`debconf-set-selections`](http://manpages.ubuntu.com/manpages/trusty/en/man1/debconf-set-selections.1.html).

<Callout variant="important">
  These settings will be ignored if you are not using a packaged PHP. You will be prompted to run `newrelic-install`.
</Callout>

These keys are located in the `newrelic-php5` package:

<table>
  <thead>
    <tr>
      <th>
        Name
      </th>

      <th width="100px">
        Type
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        ```
        newrelic-php5/<var>application-name</var>
        ```

        The name of your app. This string sets [`newrelic.appname`](/docs/php/php-agent-phpini-settings#inivar-appname) in your `newrelic.ini`.
      </td>

      <td>
        string
      </td>
    </tr>

    <tr>
      <td>
        ```
        newrelic-php5/<var>license-key</var>
        ```

        Your [New Relic license key](/docs/subscriptions/license-key). This string sets [`newrelic.license`](/docs/php/php-agent-phpini-settings#inivar-license) in your `newrelic.ini`.
      </td>

      <td>
        string
      </td>
    </tr>
  </tbody>
</table>

For example, you can run these commands to preseed your app name and license key:

```
echo newrelic-php5 newrelic-php5/application-name string "<var>My App Name</var>" | debconf-set-selections
echo newrelic-php5 newrelic-php5/license-key string "<var>YOUR_LICENSE_KEY</var>" | debconf-set-selections
```

## For more help

If you need more help, check out these support and learning resources:

* Suggest a change and learn how to [contribute](https://github.com/newrelic/newrelic-php-agent/issues) to our PHP agent open source repository.
* Browse the [Explorers Hub](https://discuss.newrelic.com/) to get help from the community and join in discussions.
* Find [answers on our sites and learn how to use our support portal](https://docs.newrelic.com/docs/using-new-relic/welcome-new-relic/get-started/find-help-use-support-portal/).
* Run [New Relic Diagnostics](https://docs.newrelic.com/docs/using-new-relic/cross-product-functions/troubleshooting/new-relic-diagnostics/), our troubleshooting tool for Linux, Windows, and macOS.
* Review New Relic's [data security](https://docs.newrelic.com/docs/security/) and [licenses](https://docs.newrelic.com/docs/licenses/) documentation.