---
title: newrelic_get_linking_metadata
type: apiDoc
shortDescription: Returns a collection of metadata necessary for linking data to a trace or an entity.
tags:
  - Agents
  - PHP agent
  - PHP agent API
---

## Syntax

```
newrelic_get_linking_metadata()
```

Returns a collection of metadata necessary for linking data to a trace or an entity.

## Requirements

Requires PHP agent [version 9.3 or higher](https://docs.newrelic.com/docs/release-notes/agent-release-notes/php-release-notes).

Must be called inside a [transaction](https://docs.newrelic.com/docs/accounts-partnerships/education/getting-started-new-relic/glossary#transaction).

## Description

This call returns an opaque map of key-value pairs that can be used to correlate this application to other data in the New Relic backend.

## Examples

### Create a linking payload

Obtains the linking data and encodes it as JSON for exporting to tooling:

```
if (extension_loaded('newrelic')) {
  $linking_md = newrelic_get_linking_metadata();
  $payload = json_encode($linking_md);
}
```

## For more help

If you need more help, check out these support and learning resources:

* Suggest a change and learn how to [contribute](https://github.com/newrelic/newrelic-php-agent/issues) to our PHP agent open source repository.
* Browse the [Explorers Hub](https://discuss.newrelic.com/) to get help from the community and join in discussions.
* Find [answers on our sites and learn how to use our support portal](https://docs.newrelic.com/docs/using-new-relic/welcome-new-relic/get-started/find-help-use-support-portal/).
* Run [New Relic Diagnostics](https://docs.newrelic.com/docs/using-new-relic/cross-product-functions/troubleshooting/new-relic-diagnostics/), our troubleshooting tool for Linux, Windows, and macOS.
* Review New Relic's [data security](https://docs.newrelic.com/docs/security/) and [licenses](https://docs.newrelic.com/docs/licenses/) documentation.