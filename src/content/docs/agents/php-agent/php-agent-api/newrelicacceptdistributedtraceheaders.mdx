---
title: newrelic_accept_distributed_trace_headers
type: apiDoc
shortDescription: Accepts an array of distributed trace headers.
tags:
  - Agents
  - PHP agent
  - PHP agent API
metaDescription: Distributed tracing allows you to see the path a request takes as it travels through a distributed system. Use this API to accept a distributed trace payload.
redirects:
  - /docs/agents/php-agent/php-agent-api/newrelicacceptdistributedtraceheaders-php-agent-api
---

## Syntax

```
newrelic_accept_distributed_trace_headers (array $headers, string $transport_type)
```

Accepts an array of distributed trace headers.

## Requirements

Requires PHP agent [version 9.8 or higher](https://docs.newrelic.com/docs/release-notes/agent-release-notes/php-release-notes).

## Description

[Distributed tracing](https://docs.newrelic.com/docs/agents/php-agent/features/distributed-tracing-php) allows you to see the path that a request takes as it travels through a distributed system. When distributed tracing is enabled, use `newrelic_accept_distributed_trace_headers` to accept a payload of headers. These include both W3C Trace Context and New Relic distributed trace headers.

It is possible to only accept only W3C Trace Context headers and disable the New Relic Distributed Tracing header via the `newrelic.distributed_tracing_exclude_newrelic_header` INI setting.

## Parameters

<table>
  <thead>
    <tr>
      <th width="25%">
        Parameter
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `$headers`

        _array_
      </td>

      <td>
        Required: an array containing distributed tracing headers.
      </td>
    </tr>

    <tr>
      <td>
        `$transport_type`

        _string_
      </td>

      <td>
        Optional. A string overriding the default transport type.

        Default values:

        * `HTTP` for web traffic
        * `Unknown` for non-web traffic

        Additional accepted values:

        * `AMQP`
        * `HTTP`
        * `HTTPS`
        * `IronMQ`
        * `JMS`
        * `Kafka`
        * `Other`
        * `Queue`
      </td>
    </tr>
  </tbody>
</table>

## Return values

Returns `True` if the headers were accepted successfully, otherwise returns `False`.

## Examples

For examples of how and when to use this API method, see the documentation to [manually instrument applications and services](https://docs.newrelic.com/docs/agents/php-agent/features/distributed-tracing-php#manual).

## For more help

If you need more help, check out these support and learning resources:

* Suggest a change and learn how to [contribute](https://github.com/newrelic/newrelic-php-agent/issues) to our PHP agent open source repository.
* Browse the [Explorers Hub](https://discuss.newrelic.com/) to get help from the community and join in discussions.
* Find [answers on our sites and learn how to use our support portal](https://docs.newrelic.com/docs/using-new-relic/welcome-new-relic/get-started/find-help-use-support-portal/).
* Run [New Relic Diagnostics](https://docs.newrelic.com/docs/using-new-relic/cross-product-functions/troubleshooting/new-relic-diagnostics/), our troubleshooting tool for Linux, Windows, and macOS.
* Review New Relic's [data security](https://docs.newrelic.com/docs/security/) and [licenses](https://docs.newrelic.com/docs/licenses/) documentation.