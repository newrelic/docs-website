---
title: newrelic_set_user_attributes (PHP agent API)
type: apiDoc
shortDescription: Create user-related custom attributes. newrelic_add_custom_parameter is more flexible.
tags:
  - Agents
  - PHP agent
  - PHP agent API
metaDescription: New Relic PHP agent API call to attach user-related custom attributes to APM and Browser events.
---

## Syntax

```
newrelic_set_user_attributes(string $user_value, string $account_value, string $product_value)
```

Create user-related custom attributes. newrelic_add_custom_parameter is more flexible.

## Requirements

Agent version [3.1.5.111](https://docs.newrelic.com/docs/release-notes/agent-release-notes/php-release-notes/php-agent-315111) or higher.

## Description

<Callout variant="tip">
  This call only allows you to assign values to pre-existing keys. For a more flexible method to create key/value pairs, use [`newrelic_add_custom_parameter`](/docs/agents/php-agent/php-agent-api/newrelic_add_custom_parameter).
</Callout>

As of release 4.4, calling `newrelic_set_user_attributes("a", "b", "c");` is equivalent to calling `newrelic_add_custom_parameter("user", "a"); newrelic_add_custom_parameter("account", "b"); newrelic_add_custom_parameter("product", "c");` All three parameters are required, but they may be empty strings.

## Parameters

<table>
  <thead>
    <tr>
      <th width="25%">
        Parameter
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `$user_value`

        _string_
      </td>

      <td>
        Required (can be empty string). Specify a name or username to associate with this page view. This value is assigned to the `user` key.
      </td>
    </tr>

    <tr>
      <td>
        `$account_value`

        _string_
      </td>

      <td>
        Required (can be empty string). Specify the name of a user account to associate with this page view. This value is assigned to the `account` key.
      </td>
    </tr>

    <tr>
      <td>
        `$product_value`

        _string_
      </td>

      <td>
        Required (can be empty string). Specify the name of a product to associate with this page view. This value is assigned to the `product` key.
      </td>
    </tr>
  </tbody>
</table>

## Return values

This function will return `true` if the attributes were added successfully.

## Examples

### Record three user attributes [#record-three]

```
function example() {
    if (extension_loaded('newrelic')) { // Ensure PHP agent is available
        newrelic_set_user_attributes("MyUserName", "MyAccountName", "MyProductName");
    }
}
```

### Record two user attributes and one empty attribute [#record-two]

```
function example() {
    if (extension_loaded('newrelic')) { // Ensure PHP agent is available
        newrelic_set_user_attributes("MyUserName", "", "MyProductName");
    }
}
```

## For more help

If you need more help, check out these support and learning resources:

* Suggest a change and learn how to [contribute](https://github.com/newrelic/newrelic-php-agent/issues) to our PHP agent open source repository.
* Browse the [Explorers Hub](https://discuss.newrelic.com/) to get help from the community and join in discussions.
* Find [answers on our sites and learn how to use our support portal](https://docs.newrelic.com/docs/using-new-relic/welcome-new-relic/get-started/find-help-use-support-portal/).
* Run [New Relic Diagnostics](https://docs.newrelic.com/docs/using-new-relic/cross-product-functions/troubleshooting/new-relic-diagnostics/), our troubleshooting tool for Linux, Windows, and macOS.
* Review New Relic's [data security](https://docs.newrelic.com/docs/security/) and [licenses](https://docs.newrelic.com/docs/licenses/) documentation.