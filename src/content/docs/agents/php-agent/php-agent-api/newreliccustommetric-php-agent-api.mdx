---
title: newrelic_custom_metric (PHP agent API)
type: apiDoc
shortDescription: Add a custom metric (in milliseconds) to time a component of your app not captured by default.
tags:
  - Agents
  - PHP agent
  - PHP agent API
metaDescription: New Relic PHP agent API call to record custom metric timeslice data.
redirects:
  - /docs/agents/php-agent/php-agent-api/newreliccustommetric-php-agent
  - /docs/agents/php-agent/php-agent-api/newrelic_custom_metric
---

## Syntax

```
newrelic_custom_metric(string $metric_name, float $value)
```

Add a custom metric (in milliseconds) to time a component of your app not captured by default.

## Requirements

Compatible with all agent versions.

## Description

Record [custom metrics](/docs/agents/manage-apm-agents/agent-data/custom-metrics) that aren't captured by default by the PHP agent.

Then you can:

* Use the [data explorer](/docs/query-your-data/explore-query-data/data-explorer/introduction-data-explorer) to search for your custom metrics, create customizable charts, and add them to Insights dashboards.
* Use the [New Relic REST API](/docs/apis/rest-api-v2/requirements/new-relic-rest-api-v2-getting-started) to programmatically retrieve and use custom metric data outside of the New Relic UI.
* [Create custom metric alerts](/docs/alerts/new-relic-alerts/configuring-alert-policies/define-custom-metrics-alert-condition) to notify you or your team when your custom metric exceeds specific values.

## Parameters

<table>
  <thead>
    <tr>
      <th width="25%">
        Parameter
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `$metric_name`

        _string_
      </td>

      <td>
        Required. Name your custom metrics with a **Custom/** prefix (for example, **Custom/MyMetric**). This helps the UI organize your custom metrics in one place, and it makes them easily findable via the Metric Explorer.
      </td>
    </tr>

    <tr>
      <td>
        `$value`

        _float_
      </td>

      <td>
        Required. Records timing in milliseconds. For example: a value of `4` is stored as `.004` seconds in New Relic's systems.

        If the value is NaN, Infinity, denorm or negative zero, the behavior of this function is undefined. New Relic may discard 1 or more bits of precision (ULPs) from the given value.
      </td>
    </tr>
  </tbody>
</table>

## Return values

Returns `true` if the metric was added successfully.

## Examples

### Record a 100 millisecond response time [#100-ms-example]

```
function example() {
    if (extension_loaded('newrelic')) { // Ensure PHP agent is available
	    newrelic_custom_metric("Custom/custom-metric-name", 100.00);
    }
}
```

## For more help

If you need more help, check out these support and learning resources:

* Suggest a change and learn how to [contribute](https://github.com/newrelic/newrelic-php-agent/issues) to our PHP agent open source repository.
* Browse the [Explorers Hub](https://discuss.newrelic.com/) to get help from the community and join in discussions.
* Find [answers on our sites and learn how to use our support portal](https://docs.newrelic.com/docs/using-new-relic/welcome-new-relic/get-started/find-help-use-support-portal/).
* Run [New Relic Diagnostics](https://docs.newrelic.com/docs/using-new-relic/cross-product-functions/troubleshooting/new-relic-diagnostics/), our troubleshooting tool for Linux, Windows, and macOS.
* Review New Relic's [data security](https://docs.newrelic.com/docs/security/) and [licenses](https://docs.newrelic.com/docs/licenses/) documentation.