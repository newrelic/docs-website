---
title: Data access control
tags:
  - Accounts
  - Accounts and billing
  - New Relic user management
metaDescription: "Control user access to specific log data with data access policies."
redirects:
  - /docs/accounts/accounts-billing/new-relic-one-user-management/data-access-control/
freshnessValidatedDate: never
---

Controlling who accesses specific data within your organization is vital for security, compliance, and data governance. While New Relic's [role-based access control](/docs/accounts/accounts-billing/new-relic-one-user-management/user-management-concepts) manages what features users can access, <DNT>**data access control**</DNT> manages what specific data users can view.

Currently, data access control is available for log data, allowing you to restrict user access to specific [log partitions](/docs/logs/ui-data/data-partitions/).

## How it works [#how-it-works]

For example, imagine you're part of a large organization generating massive volumes of logs across various teams, services, and environments. Your security team needs to monitor critical security logs that may contain personally identifiable information (PII), but your development teams only need to see logs relevant to their specific microservices. <DNT>**Data access control**</DNT> lets you create policies that define exactly which log partitions each team can access.

You create data access policies that restrict access to specific log partitions and assign them to user groups via access grants. Users in groups with assigned policies can only access the log partitions allowed by those policies.

Key concepts:

* **Data access policies**: Define which log partitions users can access using allow-lists or deny-lists.
* **Policy assignment**: Policies are assigned to groups via the <DNT>*Access Management**</DNT> UI.
* **Wildcard matching**: Use `%` as a wildcard to match multiple partitions (e.g., `log_prod%` matches all partitions starting with "log_prod").
* **Multiple policies**: When users belong to multiple groups with different policies, the most permissive access applies.

<Callout variant="important">
Users with restricted access might still see information from restricted log partitions through [historical exports](/docs/apis/nerdgraph/examples/nerdgraph-historical-data-export/), [alert notifications](/docs/alerts/get-notified/incident-workflows/), or the [Insights API](/docs/apis/insights-apis/query-insights-event-data-api/). See [potential data exposure risks](#data-exposure-risks) for details and mitigations.
</Callout>

## Requirements [#requirements]

To create and manage data access policies, you must have:

* [Pro or Enterprise edition](https://newrelic.com/pricing) account
* [Authentication domain manager](/docs/accounts/accounts-billing/new-relic-one-user-management/user-management-concepts#admin-settings) role
* [Core user or full platform user](/docs/accounts/accounts-billing/new-relic-one-user-management/user-type) type

## Create and assign data access policies [#create-policies]

You can create and assign data access policies through the UI or the [NerdGraph API](/docs/apis/nerdgraph/examples/nerdgraph-data-access-control). To create a policy through the UI, refer to the following steps:

<Steps>

<Step>
### Create a policy [#create]

1. Go to <DNT>**[one.newrelic.com > Administration](https://one.newrelic.com/admin-portal) > Access Management > Data access policies**</DNT>.
2. Click <DNT>**Create a policy**</DNT> (or <DNT>**Add a policy**</DNT> if you have existing policies).

<img
  title="Add data access policy"
  alt="Screenshot showing how to add a data access policy"
  src="/images/add-data-policy-.webp"
/>

3. Enter a name for the policy.
4. Select a condition:
   * <DNT>**Deny selected**</DNT>: Blocks access to selected log partitions.
   * <DNT>**Allow selected**</DNT>: Allows access only to selected log partitions.
5. From the <DNT>**Filter partitions by account**</DNT> dropdown, select accounts to shortlist the log partition list.
6. Select log partitions to include in the policy:
   * Choose partitions from the dropdown, or
   * Type partition names or wildcards (e.g., `log_go%` to match multiple partitions), separated by commas.
7. Click <DNT>**Review policy**</DNT> to verify your configuration.
8. Click <DNT>**Create policy**</DNT>.

The policy appears in the <DNT>**Data access policies**</DNT> tab. To view, edit, or delete it, click the <Icon name="fe-more-horizontal"/> menu.
</Step>

<Step>
### Assign the policy to a group [#assign]

1. Go to <DNT>**Administration > Access Management > Grants**</DNT>.
2. Find the grant to assign the policy, then click the <Icon name="fe-more-horizontal"/> menu next to it.
3. Select <DNT>**Add data access policy**</DNT>.
4. From the <DNT>**Policies**</DNT> dropdown, select your policy.
5. Click <DNT>**Save**</DNT>.

The <DNT>**Policy name**</DNT> column shows the assigned policy. To remove or change it, use the <Icon name="fe-more-horizontal"/> menu.
</Step>

</Steps>

## Multiple policies and access resolution [#multiple-policies]

When users belong to multiple groups with different data access policies:

* **Allow policies combine**: Users gain access to all partitions allowed across their groups. For example, if Group A allows `log_frontend%` and Group B allows `log_backend%`, users access both.
* **Deny policies override**: Any deny policy overrides allow policies. For example, if Group A allows `log_%` but Group B denies `log_sensitive`, users access all partitions except `log_sensitive`.

To view which policies apply to a user, go to <DNT>**Administration > Access Management > Grants**</DNT> and check the <DNT>**Policy name**</DNT> column for their groups.

## Potential data exposure risks [#data-exposure-risks]

While data access control restricts log data access in most New Relic features, there are scenarios where users might still see restricted data:

<CollapserGroup>

<Collapser
  id="api-keys"
  title="Legacy Insights API keys"
>

**Risk**: Users with legacy Insights API keys can query restricted log partitions, as these keys don't follow data access policies.

**Mitigation**:

1. Go to your [API keys page](https://one.newrelic.com/admin-portal/api-keys/home)
2. Identify legacy Insights API keys
3. Rotate or delete these keys
4. Create new [user keys](/docs/apis/intro-apis/new-relic-api-keys/#user-key) that respect data access policies

</Collapser>

<Collapser
  id="alerts"
  title="Alerts and notifications"
>

**Risks**:

* Users can target any alert condition in an account they access for notifications, including conditions on restricted partitions
* Users can add [notification enrichment](/docs/alerts/get-notified/incident-workflows/#enrichments) with queries targeting restricted partitions
* Users can query these events which may contain restricted data: `NrAiSignal`, `NrAiIncident`, `NrAiIssue`, `NrAiNotification`, `NrIntegrationError`
* Users can view condition detail pages and issue pages even when conditions query restricted partitions

**Mitigation**:

1. Create a [custom role](/docs/accounts/accounts-billing/new-relic-one-user-management/account-user-mgmt-tutorial/#roles) without access to alerts and notification workflows
2. Assign it to users who shouldn't manage alerts
3. Avoid faceting on sensitive fields in alert conditions

</Collapser>

<Collapser
  id="data-partition-modify"
  title="Modify access to the Data partitions rules capability"
>

**Risk**: 

Users with the <DNT>**Modify**</DNT> access to the <DNT>**Data partitions rules**</DNT> capability can modify data partition configurations. This allows users to access restricted log data by changing partition rules or settings. This capability bypasses data access control restrictions.

**Mitigation**:

* Grant this access only to trusted administrators who need to manage partition configurations.
* Create [custom roles](/docs/accounts/accounts-billing/new-relic-one-user-management/account-user-mgmt-tutorial/#roles) without this capability for users who only need to view logs.

</Collapser>

<Collapser
  id="query-keys-modify"
  title="Modify access to the Query keys capability"
>

**Risk**: Users with the <DNT>**Modify**</DNT> access to the <DNT>**Query keys**</DNT> capability can create query keys that provide account-wide querying capabilities. These keys bypass user-level data access restrictions. This allows querying any log data across the entire account, including restricted partitions.

**Mitigation**:

* Grant this access only to trusted administrators who need to create query keys.
* Create [custom roles](/docs/accounts/accounts-billing/new-relic-one-user-management/account-user-mgmt-tutorial/#roles) without this capability for regular users.

</Collapser>

</CollapserGroup>

## Related topics [#related-topics]

<DocTiles>
  <DocTile title="User management concepts" path="/docs/accounts/accounts-billing/new-relic-one-user-management/user-management-concepts">Learn about user types, roles, and user management capabilities.</DocTile>
  <DocTile title="Manage users with NerdGraph" path="/docs/apis/nerdgraph/examples/nerdgraph-manage-users">Use the NerdGraph API to programmatically manage users and access grants.</DocTile>
  <DocTile title="Log partitions" path="/docs/logs/ui-data/data-partitions/">Understand how to organize your log data into partitions for better control and performance.</DocTile>
  <DocTile title="Manage data access policies via NerdGraph" path="/docs/apis/nerdgraph/examples/nerdgraph-data-access-control">Learn to create and manage data access policies using the NerdGraph API.</DocTile>
</DocTiles>
