---
title: Google Cloud Pub/Sub monitoring integration
tags:
  - Integrations
  - Google Cloud Platform integrations
  - GCP integrations list
metaDescription: 'New Relic''s Google Cloud Pub/Sub integration: how to activate it and what data it reports.'
redirects:
  - /docs/integrations/google-cloud-platform-integrations/gcp-integrations-list/google-cloud-pubsub-monitoring-integration
  - /docs/gcp-gcp_pubsub-integration
---

[New Relic's integrations](/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations) with the [Google Cloud Platform (GCP)](https://cloud.google.com/) include an integration to report [Google Cloud Pub/Sub](https://cloud.google.com/pubsub/) data to New Relic. This document explains how to activate the GCP Pub/Sub integration and describes the data that will be reported.

## Features

As part of the Google Cloud [stream analytics solution](https://cloud.google.com/solutions/stream-analytics), the Cloud Pub/Sub service ingests and delivers event streams for quick data processing and analysis.

## Activate integration [#activate]

To enable the integration follow standard procedures to [connect your GCP service to New Relic](/docs/connect-google-cloud-platform-services-infrastructure).

## Polling frequency [#polling]

New Relic integrations query your GCP services according to a polling interval, which varies depending on the integration. The polling frequency for Google Cloud Pub/Sub is five minutes. The resolution is 1 data point every minute.

## Find and use data [#find-data]

After activating the integration and waiting a few minutes (based on the [polling frequency](#polling)), data will appear in the New Relic UI. To [find and use your data](/docs/infrastructure/integrations/find-use-infrastructure-integration-data), including links to your <InlinePopover type="dashboards" /> and alert settings, go to **[one.newrelic.com](https://one.newrelic.com/all-capabilities) > Infrastructure > GCP > (select an integration)**.

## Metric data [#metrics]

Pub/Sub topics are named entities that represent feeds of messages, and subscriptions are named entities that represent message destinations on a particular topic.

To view [metric data](/docs/telemetry-data-platform/understand-data/new-relic-data-types/#metrics) for your GCP Pub/Sub integration in New Relic, [create NRQL queries](/docs/integrations/new-relic-integrations/getting-started/use-integration-data-new-relic-insights#nrql) for `GcpPubSubTopicSample` and `GcpPubSubSubscriptionSample` [events](/docs/data-apis/understand-data/new-relic-data-types/#event-data) and their related attributes.

### GcpPubSubTopicSample [#gcp-app-engine-service-sample]

Query `GcpPubSubTopicSample` events in New Relic to view data for the following attributes:

<dd>
  <table>
    <thead>
      <tr>
        <th style={{ width: "400px" }}>
          Attribute
        </th>

        <th>
          Description
        </th>
      </tr>
    </thead>

    <tbody>
      <tr>
        <td>
          `topic.ByteCost`
        </td>

        <td>
          Cost of operations, measured in bytes. This is used to measure utilization for quotas.
        </td>
      </tr>

      <tr>
        <td>
          `topic.ConfigUpdates`
        </td>

        <td>
          Cumulative count of configuration changes, grouped by operation type and result.
        </td>
      </tr>

      <tr>
        <td>
          `topic.MessageSizes`
        </td>

        <td>
          Distribution of publish message sizes (in bytes).
        </td>
      </tr>

      <tr>
        <td>
          `topic.NumRetainedAckedMessagesByRegion`
        </td>

        <td>
          Number of acknowledged messages retained in a topic, broken down by Cloud region.
        </td>
      </tr>

      <tr>
        <td>
          `topic.NumUnackedMessagesByRegion`
        </td>

        <td>
          Number of unacknowledged messages in a topic, broken down by Cloud region.
        </td>
      </tr>

      <tr>
        <td>
          `topic.OldestRetainedAckedMessageAgeByRegion`
        </td>

        <td>
          Age (in seconds) of the oldest acknowledged message retained in a topic, broken down by Cloud region.
        </td>
      </tr>

      <tr>
        <td>
          `topic.OldestUnackedMessageAgeByRegion`
        </td>

        <td>
          Age (in seconds) of the oldest unacknowledged message in a topic, broken down by Cloud region.
        </td>
      </tr>

      <tr>
        <td>
          `topic.RetainedAckedBytesByRegion`
        </td>

        <td>
          Total byte size of the acknowledged messages retained in a topic, broken down by Cloud region.
        </td>
      </tr>

      <tr>
        <td>
          `topic.SendMessageOperation`
        </td>

        <td>
          Cumulative count of publish message operations.
        </td>
      </tr>

      <tr>
        <td>
          `topic.SendRequest`
        </td>

        <td>
          Cumulative count of publish requests.
        </td>
      </tr>

      <tr>
        <td>
          `topic.UnackedBytesByRegion`
        </td>

        <td>
          Total byte size of the unacknowledged messages in a topic, broken down by Cloud region.
        </td>
      </tr>
    </tbody>
  </table>
</dd>

### GcpPubSubSubscriptionSample [#gcp-app-engine-service-sample]

Query `GcpPubSubSubscriptionSample` events in New Relic to view data for the following attributes:

<dd>
  <table>
    <thead>
      <tr>
        <th style={{ width: "400px" }}>
          Attribute
        </th>

        <th>
          Description
        </th>
      </tr>
    </thead>

    <tbody>
      <tr>
        <td>
          `subscription.BacklogBytes`
        </td>

        <td>
          Total byte size of the unacknowledged messages (a.k.a. backlog messages) in a subscription.
        </td>
      </tr>

      <tr>
        <td>
          `subscription.ByteCost`
        </td>

        <td>
          Cumulative cost of operations, measured in bytes. This is used to measure quota utilization.
        </td>
      </tr>

      <tr>
        <td>
          `subscription.ConfigUpdates`
        </td>

        <td>
          Cumulative count of configuration changes for each subscription, grouped by operation type and result.
        </td>
      </tr>

      <tr>
        <td>
          `subscription.ModAckDeadlineMessageOperation`
        </td>

        <td>
          Cumulative count of ModifyAckDeadline message operations, grouped by result.
        </td>
      </tr>

      <tr>
        <td>
          `subscription.ModAckDeadlineRequest`
        </td>

        <td>
          Cumulative count of ModifyAckDeadline requests, grouped by result.
        </td>
      </tr>

      <tr>
        <td>
          `subscription.NumOutstandingMessages`
        </td>

        <td>
          Number of messages delivered to a subscription's push endpoint, but not yet acknowledged.
        </td>
      </tr>

      <tr>
        <td>
          `subscription.NumRetainedAckedMessages`
        </td>

        <td>
          Number of acknowledged messages retained in a subscription.
        </td>
      </tr>

      <tr>
        <td>
          `subscription.NumRetainedAckedMessagesByRegion`
        </td>

        <td>
          Number of acknowledged messages retained in a subscription, broken down by Cloud region.
        </td>
      </tr>

      <tr>
        <td>
          `subscription.NumUnackedMessagesByRegion`
        </td>

        <td>
          Number of unacknowledged messages in a subscription, broken down by Cloud region.
        </td>
      </tr>

      <tr>
        <td>
          `subscription.NumUndeliveredMessages`
        </td>

        <td>
          Number of unacknowledged messages (a.k.a. backlog messages) in a subscription.
        </td>
      </tr>

      <tr>
        <td>
          `subscription.OldestRetainedAckedMessageAge`
        </td>

        <td>
          Age (in seconds) of the oldest acknowledged message retained in a subscription.
        </td>
      </tr>

      <tr>
        <td>
          `subscription.OldestRetainedAckedMessageAgeByRegion`
        </td>

        <td>
          Age (in seconds) of the oldest acknowledged message retained in a subscription, broken down by Cloud region.
        </td>
      </tr>

      <tr>
        <td>
          `subscription.OldestUnackedMessageAge`
        </td>

        <td>
          Age (in seconds) of the oldest unacknowledged message (a.k.a. backlog message) in a subscription.
        </td>
      </tr>

      <tr>
        <td>
          `subscription.OldestUnackedMessageAgeByRegion`
        </td>

        <td>
          Age (in seconds) of the oldest unacknowledged message in a subscription, broken down by Cloud region.
        </td>
      </tr>

      <tr>
        <td>
          `subscription.PullAckMessageOperation`
        </td>

        <td>
          Cumulative count of acknowledge message operations, grouped by result.
        </td>
      </tr>

      <tr>
        <td>
          `subscription.PullAckRequest`
        </td>

        <td>
          Cumulative count of acknowledge requests, grouped by result.
        </td>
      </tr>

      <tr>
        <td>
          `subscription.PullMessageOperation`
        </td>

        <td>
          Cumulative count of pull message operations, grouped by result.
        </td>
      </tr>

      <tr>
        <td>
          `subscription.PullRequest`
        </td>

        <td>
          Cumulative count of pull requests, grouped by result.
        </td>
      </tr>

      <tr>
        <td>
          `subscription.PushRequest`
        </td>

        <td>
          Cumulative count of push attempts, grouped by result. Unlike pulls, the push server implementation does not batch user messages, so each request only contains one user message. The push server retries on errors, so a given user message can appear multiple times.
        </td>
      </tr>

      <tr>
        <td>
          `subscription.PushRequestLatencies`
        </td>

        <td>
          Distribution of push request latencies (in microseconds), grouped by result.
        </td>
      </tr>

      <tr>
        <td>
          `subscription.RetainedAckedBytes`
        </td>

        <td>
          Total byte size of the acknowledged messages retained in a subscription.
        </td>
      </tr>

      <tr>
        <td>
          `subscription.RetainedAckedBytesByRegion`
        </td>

        <td>
          Total byte size of the acknowledged messages retained in a subscription, broken down by Cloud region.
        </td>
      </tr>

      <tr>
        <td>
          `subscription.StreamingPullAckMessageOperation`
        </td>

        <td>
          Cumulative count of StreamingPull acknowledge message operations, grouped by result.
        </td>
      </tr>

      <tr>
        <td>
          `subscription.StreamingPullAckRequest`
        </td>

        <td>
          Cumulative count of streaming pull requests with non-empty acknowledge ids, grouped by result.
        </td>
      </tr>

      <tr>
        <td>
          `subscription.StreamingPullMessageOperation`
        </td>

        <td>
          Cumulative count of streaming pull message operations, grouped by result.
        </td>
      </tr>

      <tr>
        <td>
          `subscription.StreamingPullModAckDeadlineMessageOperation`
        </td>

        <td>
          Cumulative count of StreamingPull ModifyAckDeadline operations, grouped by result.
        </td>
      </tr>

      <tr>
        <td>
          `subscription.StreamingPullModAckDeadlineRequest`
        </td>

        <td>
          Cumulative count of streaming pull requests with non-empty ModifyAckDeadline fields, grouped by result.
        </td>
      </tr>

      <tr>
        <td>
          `subscription.StreamingPullResponse`
        </td>

        <td>
          Cumulative count of streaming pull responses, grouped by result.
        </td>
      </tr>

      <tr>
        <td>
          `subscription.UnackedBytesByRegion`
        </td>

        <td>
          Total byte size of the unacknowledged messages in a subscription, broken down by Cloud region.
        </td>
      </tr>
    </tbody>
  </table>
</dd>
