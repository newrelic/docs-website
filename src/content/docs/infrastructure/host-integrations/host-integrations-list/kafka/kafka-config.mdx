---
title: Kafka configuration settings
tags:
  - Integrations
  - On-host integrations
  - On-host integrations list
  - Advanced configuration
metaDescription: Advanced configuration New Relic's Kafka integration.
freshnessValidatedDate: never
---

This integration is open source software. That means that you can [browse its source code](https://github.com/newrelic/nri-kafka) and send improvements or create your own fork and build it.

## Labels and custom attributes [#labels]

You can use environment variables to control config settings, such as your <InlinePopover type="licenseKey"/>, and are then passed through the infrastructure agent. For instructions on how to use this feature, see [configure the infrastructure agent](/docs/infrastructure/new-relic-infrastructure/configuration/configure-infrastructure-agent#passthrough).

You can further decorate your metrics using labels. Labels allow you to add key and value pairs attributes to your metrics which you can then use to query, filter or group your metrics on. Our default sample config file includes examples of labels but, as they're not mandatory, you can remove, change or, add new ones of your choice.

```yaml
  labels:
    env: production
    role: kafka
```

For more about the general structure of on-host integration configuration, see the [On-host integration configuration overview](/docs/integrations/integrations-sdk/file-specifications/host-integration-configuration-overview).

## Inventory data [#inventory]

The Kafka integration captures the non-default broker and topic configuration parameters. It also collects the topic partition schemes as reported by ZooKeeper. The data is available on the [Infrastructure inventory UI page](/docs/infrastructure/new-relic-infrastructure/infrastructure-ui-pages/infrastructure-inventory-page-search-your-entire-infrastructure) under the `config/kafka` source.


## Zookeeper `autodiscovery` arguments [#zookeeper-discovery]

These are only relevant when you set the `autodiscover_strategy` option to `zookeeper`.

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        Setting
      </th>

      <th>
        Description
      </th>

      <th>
        Default
      </th>

      <th>
        Applies to
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `ZOOKEEPER_HOSTS`
      </td>

      <td>
        The list of Apache ZooKeeper hosts (in JSON format) that need to be connected.
    
        If `CONSUMER_OFFSET` is set to `false`, `KafkaBrokerSamples` and `KafkaTopicSamples` will be collected.
      </td>

      <td>
        \[]
      </td>

      <td style={{ "text-align": "center" }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `ZOOKEEPER_AUTH_SCHEME`
      </td>

      <td>
        The ZooKeeper authentication scheme that is used to connect. Currently, the only supported value is `digest`. If omitted, no authentication is used.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `ZOOKEEPER_AUTH_SECRET`
      </td>

      <td>
        The ZooKeeper authentication secret that is used to connect. Should be of the form `username:password`. Only required if `zookeeper_auth_scheme` is specified.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `ZOOKEEPER_PATH`
      </td>

      <td>
        The Zookeeper node under which the Kafka configuration resides. Defaults to `/`.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `PREFERRED_LISTENER`
      </td>

      <td>
        Use a specific listener to connect to a broker. If unset, the first listener that passes a successful test connection is used. Supported values are `PLAINTEXT`, `SASL_PLAINTEXT`, `SSL`, and `SASL_SSL`.

        Note that the `SASL_*` protocols only support Kerberos (GSSAPI) authentication.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>
  </tbody>
</table>

## Bootstrap broker discovery arguments [#bootstrap-discovery]

These are only relevant when you set the `autodiscover_strategy` option to`bootstrap`.

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        Setting
      </th>

      <th>
        Description
      </th>

      <th>
        Default
      </th>

      <th>
        Applies to
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `BOOTSTRAP_BROKER_HOST`
      </td>

      <td>
        The host for the bootstrap broker.

        If `CONSUMER_OFFSET` is set to `false`, `KafkaBrokerSamples` and `KafkaTopicSamples` will be collected.
      </td>

      <td>
        N/A
      </td>

      <td style={{ "text-align": "center" }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `BOOTSTRAP_BROKER_KAFKA_PORT`
      </td>

      <td>
        The Kafka port for the bootstrap broker.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    <tr>
      <td>
        `BOOTSTRAP_BROKER_KAFKA_PROTOCOL`
      </td>

      <td>
        The protocol to use to connect to the bootstrap broker. Supported values are `PLAINTEXT`, `SASL_PLAINTEXT`, `SSL`, and `SASL_SSL`.

        Note the `SASL_*` protocols only support Kerberos (GSSAPI) authentication.
      </td>

      <td>
        PLAINTEXT
      </td>

      <td style={{ "text-align": "center" }}>
        M/I
      </td>
    </tr>

    <tr>
      <td>
        `BOOTSTRAP_BROKER_JMX_PORT`
      </td>

      <td>
        The JMX port to use for collection on each broker in the cluster.

        Note that all discovered brokers should have JMX active on this port.
      </td>

      <td>
        N/A
      </td>

      <td style={{ "text-align": "center" }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `BOOTSTRAP_BROKER_JMX_USER`
      </td>

      <td>
        The JMX user to use for collection on each broker in the cluster.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `BOOTSTRAP_BROKER_JMX_PASSWORD`
      </td>

      <td>
        The JMX password to use for collection on each broker in the cluster.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>
  </tbody>
</table>

## JMX options [#jmx]

These options apply to all JMX connections on the instance.

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        Setting
      </th>

      <th>
        Description
      </th>

      <th>
        Default
      </th>

      <th>
        Applies to
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `KEY_STORE`
      </td>

      <td>
        The filepath of the keystore containing the JMX client's SSL certificate.
      </td>

      <td>
        N/A
      </td>

      <td style={{ "text-align": "center" }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `KEY_STORE_PASSWORD`
      </td>

      <td>
        The password for the JMX SSL key store.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `TRUST_STORE`
      </td>

      <td>
        The filepath of the trust keystore containing the JMX server's SSL
        certificate.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `TRUST_STORE_PASSWORD`
      </td>

      <td>
        The password for the JMX trust store.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `DEFAULT_JMX_USER`
      </td>

      <td>
        The default user that is connecting to the JMX host to collect metrics. If the username field is omitted for a JMX host, this value will be used.
      </td>

      <td>
        admin
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `DEFAULT_JMX_PASSWORD`
      </td>

      <td>
        The default password to connect to the JMX host. If the password field is omitted for a JMX host, this value will be used.
      </td>

      <td>
        admin
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `TIMEOUT`
      </td>

      <td>
        The timeout for individual JMX queries in milliseconds.
      </td>

      <td>
        10000
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>
  </tbody>
</table>

## Broker TLS connection options [#broker-tls]

You need these options if the broker protocol is `SSL` or `SASL_SSL`.

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        Setting
      </th>

      <th>
        Description
      </th>

      <th>
        Default
      </th>

      <th>
        Applies to
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `TLS_CA_FILE`
      </td>

      <td>
        The certificate authority file for SSL and `SASL_SSL` listeners, in PEM format.
      </td>

      <td>
        N/A
      </td>

      <td style={{ "text-align": "center" }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `TLS_CERT_FILE`
      </td>

      <td>
        The client certificate file for SSL and `SASL_SSL` listeners, in PEM format.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `TLS_KEY_FILE`
      </td>

      <td>
        The client key file for SSL and `SASL_SSL` listeners, in PEM format.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `TLS_INSECURE_SKIP_VERIFY`
      </td>

      <td>
        Skip verifying the server's certificate chain and host name.
      </td>

      <td>
        false
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>
  </tbody>
</table>

## Broker SASL and Kerberos connection options [#broker-sasl-kerberos]

You need these options if the broker protocol is `SASL_PLAINTEXT` or `SASL_SSL`.

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        Setting
      </th>

      <th>
        Description
      </th>

      <th>
        Default
      </th>

      <th>
        Applies to
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `SASL_MECHANISM`
      </td>

      <td>
        The type of SASL authentication to use. Supported options are `SCRAM-SHA-512`, `SCRAM-SHA-256`, `PLAIN`, and `GSSAPI`.
      </td>

      <td>
        N/A
      </td>

      <td style={{ "text-align": "center" }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        <DNT>
          **SASL_USERNAME**
        </DNT>
      </td>

      <td>
        SASL username required with the PLAIN and SCRAM mechanisms.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `SASL_PASSWORD`
      </td>

      <td>
        SASL password required with the PLAIN and SCRAM mechanisms.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `SASL_GSSAPI_REALM`
      </td>

      <td>
        Kerberos realm required with the GSSAPI mechanism.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `SASL_GSSAPI_SERVICE_NAME`
      </td>

      <td>
        Kerberos service name required with the GSSAPI mechanism.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `SASL_GSSAPI_USERNAME`
      </td>

      <td>
        Kerberos username required with the GSSAPI mechanism.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `SASL_GSSAPI_KEY_TAB_PATH`
      </td>

      <td>
        Kerberos key tab path required with the GSSAPI mechanism.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `SASL_GSSAPI_KERBEROS_CONFIG_PATH`
      </td>

      <td>
        Kerberos config path required with the GSSAPI mechanism.
      </td>

      <td>
        `/etc/krb5.conf`
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `SASL_GSSAPI_DISABLE_FAST_NEGOTIATION`
      </td>

      <td>
        Disable FAST negotiation.
      </td>

      <td>
        false
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>
  </tbody>
</table>

## Broker collection filtering [#broker-filteri]

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        Setting
      </th>

      <th>
        Description
      </th>

      <th>
        Default
      </th>

      <th>
        Applies to
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `LOCAL_ONLY_COLLECTION`
      </td>

      <td>
        Collect only the metrics related to the configured bootstrap broker. Only used if `autodiscover_strategy` is `bootstrap`.

        You must set environments that use discovery (such as Kubernetes) to true because othwerwise brokers will be discovered twice: By the integration, and by the discovery mechanism, leading to duplicate data.
        
        Note that activating this flag will skip `KafkaTopicSample` collection.
      </td>

      <td>
        false
      </td>

      <td style={{ "text-align": "center" }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `TOPIC_MODE`
      </td>

      <td>
        Determines how many topics we collect. Options are `all`, `none`, `list`, or `regex`.
      </td>

      <td>
        none
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `TOPIC_LIST`
      </td>

      <td>
        JSON array of topic names to monitor. Only in effect if `topic_mode` is set to `list`.
      </td>

      <td>
        \[]
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `TOPIC_REGEX`
      </td>

      <td>
        Regex pattern that matches the topic names to monitor. Only in effect if
        `topic_mode` is set to `regex`.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    <tr>
      <td>
        `TOPIC_BUCKET`
      </td>

      <td>
        Used to split topic collection across multiple instances. Should be of the form `<bucket number>/<number of buckets>`.
      </td>

      <td>
        1/1
      </td>

      <td style={{ "text-align": "center" }}>
        M/I
      </td>
    </tr>

    <tr>
      <td>
        `COLLECT_TOPIC_SIZE`
      </td>

      <td>
        Collect the metric Topic size. Options are `true` or `false`, defaults to `false`.

        This is a resource-intensive metric to collect, especially against many topics.
      </td>

      <td>
        false
      </td>

      <td style={{ "text-align": "center" }}>
        M/I
      </td>
    </tr>

    <tr>
      <td>
        `COLLECT_TOPIC_OFFSET`
      </td>

      <td>
        Collect the metric topic offset. Options are `true` or `false`, defaults to `false`.

        This is a resource-intensive metric to collect, especially against many topics.
      </td>

      <td>
        false
      </td>

      <td style={{ "text-align": "center" }}>
        M/I
      </td>
    </tr>
  </tbody>
</table>

## Configure `KafkaConsumerSample` and `KafkaProducerSample` collection [#KafkaConsumerSample-collection]

The Kafka integration collects both metrics (M) and inventory (I) information. Check the <DNT>**Applies to**</DNT> column below to find which settings you can use for each specific collection:

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        Setting
      </th>

      <th>
        Description
      </th>

      <th>
        Default
      </th>

      <th>
        Applies to
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `CLUSTER_NAME`
      </td>

      <td>
        User-defined name to uniquely identify the cluster being monitored. <DNT>**Required**</DNT>.
      </td>

      <td>
        N/A
      </td>

      <td style={{ "text-align": "center" }}>
        M/I
      </td>
    </tr>

    <tr>
      <td>
        `PRODUCERS`
      </td>

      <td>
        Producers to collect. For each producer, you can specify a `name`, `hostname`, `port`, `username`, and `password` in JSON form.
        `name` is the producer's name as it appears in Kafka. If it's not set, metrics from all producers in the `host:port` will be gathered.
        `host`, `port`, `username`, and `password` are the optional JMX settings and use the default if unspecified.
        It's also possible to set the value `default` to let the `name` undefined and use the default values for `host`, `port`, `username` and `password`.
        Required to produce `KafkaProducerSample`.

        See these examples:

        `[{"host": "localhost", "port": 24, "username": "me", "password": "secret"}]`

        `[{"name": "myProducer", "host": "localhost", "port": 24, "username": "me", "password": "secret"}]`
      </td>

      <td>
        \[]
      </td>

      <td style={{ "text-align": "center" }}>
        M/I
      </td>
    </tr>

    <tr>
      <td>
        `CONSUMERS`
      </td>

      <td>
        Consumers to collect. For each consumer, you can specify a `name`, `hostname`, `port`, `username`, and `password` in JSON form.
        `name` is the consumer's name as it appears in Kafka. If it's not set, metrics from all consumers in the `host:port` will be gathered.
        `host`, `port`, `username`, and `password` are the optional JMX settings and use the default if unspecified.
        It's also possible to set the value `default` to let the `name` undefined and use the default values for `host`, `port`, `username` and `password`.
        Required to produce `KafkaConsumerSample`.

        See these examples:

        `[{"host": "localhost", "port": 24, "username": "me", "password": "secret"}]`

        `[{"name": "myConsumer", "host": "localhost", "port": 24, "username": "me", "password": "secret"}]`
      </td>

      <td>
        \[]
      </td>

      <td style={{ "text-align": "center" }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `DEFAULT_JMX_HOST`
      </td>

      <td>
        The default host to collect JMX metrics. If the host field is omitted from a producer or consumer configuration, this value will be used.
      </td>

      <td>
        localhost
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `DEFAULT_JMX_PORT`
      </td>

      <td>
        The default port to collect JMX metrics. If the port field is omitted from a producer or consumer configuration, this value will be used.
      </td>

      <td>
        9999
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `DEFAULT_JMX_USER`
      </td>

      <td>
        The default user that is connecting to the JMX host to collect metrics. If the username field is omitted from a producer or consumer configuration, this value will be used.
      </td>

      <td>
        admin
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `DEFAULT_JMX_PASSWORD`
      </td>

      <td>
        The default password to connect to the JMX host. If the password field is omitted from a producer or consumer configuration, this value will be used.
      </td>

      <td>
        admin
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `METRICS`
      </td>

      <td>
        Set to `true` to enable metrics only collection.
      </td>

      <td>
        false
      </td>

      <td style={{ 'text-align': 'center' }}/>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `INVENTORY`
      </td>

      <td>
        Set to `true` to enable inventory only collection.
      </td>

      <td>
        false
      </td>

      <td style={{ 'text-align': 'center' }}/>
    </tr>
  </tbody>
</table>

#### JMX SSL and timeout options

These options apply to all JMX connections on the instance.

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        Setting
      </th>

      <th>
        Description
      </th>

      <th>
        Default
      </th>

      <th>
        Applies to
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `KEY_STORE`
      </td>

      <td>
        The filepath of the keystore containing the JMX client's SSL certificate.
      </td>

      <td>
        N/A
      </td>

      <td style={{ "text-align": "center" }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `KEY_STORE_PASSWORD`
      </td>

      <td>
        The password for the JMX SSL key store.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `TRUST_STORE`
      </td>

      <td>
        The filepath of the trust keystore containing the JMX server's SSL
        certificate.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `TRUST_STORE_PASSWORD`
      </td>

      <td>
        The password for the JMX trust store.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `TIMEOUT`
      </td>

      <td>
        The timeout for individual JMX queries in milliseconds.
      </td>

      <td>
        10000
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>
  </tbody>
</table>

## Configure `KafkaOffsetSample` collection [#KafkaOffsetSample-collection]

The Kafka integration collects both metrics and inventory information. Check the <DNT>**Applies to**</DNT> column below to find which settings can be used for each specific collection:

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        Setting
      </th>

      <th>
        Description
      </th>

      <th>
        Default
      </th>

      <th>
        Applies to
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `CLUSTER_NAME`
      </td>

      <td>
        User-defined name to uniquely identify the cluster being monitored. <DNT>**Required**</DNT>.
      </td>

      <td>
        N/A
      </td>

      <td style={{ "text-align": "center" }}>
        M/I
      </td>
    </tr>

    <tr>
      <td>
        `KAFKA_VERSION`
      </td>

      <td>
        The version of the Kafka broker you're connecting to, used for setting optimum API versions. It must match, or be lower than, the version from the broker.

        Versions older than 1.0.0 may be missing some features.

        Note that if the broker binary name is kafka_2.12-2.7.0, the Kafka api version to be used is 2.7.0, the preceding 2.12 is the Scala language version.
      </td>

      <td>
        1.0.0
      </td>

      <td style={{ "text-align": "center" }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `AUTODISCOVER_STRATEGY`
      </td>

      <td>
        The method of discovering brokers. Options are `zookeeper` or `bootstrap`.
      </td>

      <td>
        zookeeper
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    <tr>
      <td>
        `CONSUMER_OFFSET`
      </td>

      <td>
        Populate consumer offset data in `KafkaOffsetSample` if set to true.

        Note that this option will skip `Broker/Consumer/Producer` collection and only collect `KafkaOffsetSample`.
      </td>

      <td>
        false
      </td>

      <td style={{ "text-align": "center" }}>
        M/I
      </td>
    </tr>

    <tr>
      <td>
        `CONSUMER_GROUP_REGEX`
      </td>

      <td>
        `regex` pattern that matches the consumer groups to collect offset statistics for. This is limited to collecting statistics for 300 consumer groups.

        Note: This option must be set when `CONSUMER_OFFSET` is true.
      </td>

      <td>
        N/A
      </td>

      <td style={{ "text-align": "center" }}>
        M/I
      </td>
    </tr>

    <tr>
      <td>
        `INACTIVE_CONSUMER_GROUP_OFFSET`
      </td>

      <td>
        Collects offset metrics from consumer groups without any active consumer, it requires `CONSUMER_OFFSET` set to true.
      </td>

      <td>
        false
      </td>

      <td style={{ "text-align": "center" }}>
        M/I
      </td>
    </tr>

    <tr>
      <td>
        `CONSUMER_GROUP_OFFSET_BY_TOPIC`
      </td>

      <td>
        Activates an extra metric aggregation for consumerGroup by topic. it requires `CONSUMER_OFFSET` set to true.
      </td>

      <td>
        N/A
      </td>

      <td style={{ "text-align": "center" }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `METRICS`
      </td>

      <td>
        Set to `true` to enable metrics only collection.
      </td>

      <td>
        false
      </td>

      <td style={{ 'text-align': 'center' }}/>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `INVENTORY`
      </td>

      <td>
        Set to `true` to enable inventory only collection.
      </td>

      <td>
        false
      </td>

      <td style={{ 'text-align': 'center' }}/>
    </tr>
  </tbody>
</table>

## Zookeeper autodiscovery arguments [#zookeeper-autodiscovery]

This is only relevant when the `autodiscover_strategy` option is set to `zookeeper`.

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        Setting
      </th>

      <th>
        Description
      </th>

      <th>
        Default
      </th>

      <th>
        Applies to
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `ZOOKEEPER_HOSTS`
      </td>

      <td>
        The list of Apache ZooKeeper hosts (in JSON format) that need to be connected.

        If `CONSUMER_OFFSET` is set to `false`, `KafkaBrokerSamples` and `KafkaTopicSamples` will be collected.
      </td>

      <td>
        \[]
      </td>

      <td style={{ "text-align": "center" }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `ZOOKEEPER_AUTH_SCHEME`
      </td>

      <td>
        The ZooKeeper authentication scheme that is used to connect. Currently, the only supported value is `digest`. If omitted, no authentication is used.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `ZOOKEEPER_AUTH_SECRET`
      </td>

      <td>
        The ZooKeeper authentication secret that is used to connect. Should be of the form `username:password`. Only required if `zookeeper_auth_scheme` is specified.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `ZOOKEEPER_PATH`
      </td>

      <td>
        The Zookeeper node under which the Kafka configuration resides. Defaults to `/`.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `PREFERRED_LISTENER`
      </td>

      <td>
        Use a specific listener to connect to a broker. If unset, the first listener that passes a successful test connection is used. Supported values are `PLAINTEXT`, `SASL_PLAINTEXT`, `SSL`, and `SASL_SSL`.

        Note the `SASL_*` protocols only support Kerberos (GSSAPI) authentication.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>
  </tbody>
</table>

## Bootstrap broker discovery arguments [#bootstrap-broker]

This is only relevant when the `autodiscover_strategy` option is set to `bootstrap`.

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        Setting
      </th>

      <th>
        Description
      </th>

      <th>
        Default
      </th>

      <th>
        Applies to
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `BOOTSTRAP_BROKER_HOST`
      </td>

      <td>
        The host for the bootstrap broker.

        If `CONSUMER_OFFSET` is set to `false`, `KafkaBrokerSamples` and `KafkaTopicSamples` will be collected.
      </td>

      <td>
        N/A
      </td>

      <td style={{ "text-align": "center" }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `BOOTSTRAP_BROKER_KAFKA_PORT`
      </td>

      <td>
        The Kafka port for the bootstrap broker.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    <tr>
      <td>
        `BOOTSTRAP_BROKER_KAFKA_PROTOCOL`
      </td>

      <td>
        The protocol to use to connect to the bootstrap broker. Supported values are `PLAINTEXT`, `SASL_PLAINTEXT`, `SSL`, and `SASL_SSL`.

        Note the `SASL_*` protocols only support Kerberos (GSSAPI) authentication.
      </td>

      <td>
        PLAINTEXT
      </td>

      <td style={{ "text-align": "center" }}>
        M/I
      </td>
    </tr>

    <tr>
      <td>
        `BOOTSTRAP_BROKER_JMX_PORT`
      </td>

      <td>
        The JMX port to use for collection on each broker in the cluster.

        Note that all discovered brokers should have JMX active on this port.
      </td>

      <td>
        N/A
      </td>

      <td style={{ "text-align": "center" }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `BOOTSTRAP_BROKER_JMX_USER`
      </td>

      <td>
        The JMX user to use for collection on each broker in the cluster.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `BOOTSTRAP_BROKER_JMX_PASSWORD`
      </td>

      <td>
        The JMX password to use for collection on each broker in the cluster.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>
  </tbody>
</table>

## JMX SSL and timeout options [#jmx-ssl-timeout]

These apply to all JMX connections on an instance.

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        Setting
      </th>

      <th>
        Description
      </th>

      <th>
        Default
      </th>

      <th>
        Applies to
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `KEY_STORE`
      </td>

      <td>
        The filepath of the keystore containing the JMX client's SSL certificate.
      </td>

      <td>
        N/A
      </td>

      <td style={{ "text-align": "center" }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `KEY_STORE_PASSWORD`
      </td>

      <td>
        The password for the JMX SSL key store.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `TRUST_STORE`
      </td>

      <td>
        The filepath of the trust keystore containing the JMX server's SSL
        certificate.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `TRUST_STORE_PASSWORD`
      </td>

      <td>
        The password for the JMX trust store.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `DEFAULT_JMX_USER`
      </td>

      <td>
        The default user that is connecting to the JMX host to collect metrics. If the username field is omitted for a JMX host, this value will be used.
      </td>

      <td>
        admin
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `DEFAULT_JMX_PASSWORD`
      </td>

      <td>
        The default password to connect to the JMX host. If the password field is omitted for a JMX host, this value will be used.
      </td>

      <td>
        admin
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        `TIMEOUT`
      </td>

      <td>
        The timeout for individual JMX queries in milliseconds.
      </td>

      <td>
        10000
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>
  </tbody>
</table>



