---
title: Microsoft SQL Server's integration configuration settings
tags:
  - Integrations
  - On-host integrations
  - On-host integrations list
  - Configuration
metaDescription: Configuration New Relic's Kafka integration.
---

This integration is open source software. That means you can [browse its source code](https://github.com/newrelic/nri-mssql) and send improvements, or create your own fork and build it.

## Labels and custom attributes [#labels]

You can also decorate your metrics with labels. Labels allow you to add key/value pair attributes to your metrics so that you can query, filter, or group your metrics.

Even though our default sample configuration file includes examples of labels, they're optional. You can remove, modify, or add new ones.

```yaml
 labels:
   env: production
   role: load_balancer
```

### Microsoft SQL Server instance settings [#instance-settings]

The Microsoft SQL Server integration collects both Metrics and Inventory information. In the table, use the **Applies to** column for the settings available to each collection:

<table>
  <thead>
    <tr>
      <th style={{ width: '150px' }}>
        Setting
      </th>

      <th>
        Description
      </th>

      <th>
        Default
      </th>

      <th>
        Applies to
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        **HOSTNAME**
      </td>

      <td>
        Hostname or IP where MS SQL server is running.
      </td>

      <td>
        127.0.0.1
      </td>

      <td style={{ "text-align": "center" }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        **PORT**
      </td>

      <td>
        Port on which MS SQL server is listening.
        <br/>
        **Note**: Port is only required when `INSTANCE` is not specified.
      </td>

      <td>
        1433
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        **INSTANCE**
      </td>

      <td>
        The MS SQL Server Instance to connect to.
        <br/>
        **Note**: Only required when `PORT` is not specified. Do not use both.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        **USERNAME**
      </td>

      <td>
        Username for accessing the MS SQL server.
        <br/>
        If using a domain user use the syntax `domain\user`
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        **PASSWORD**
      </td>

      <td>
        Password for the given SQL or Domain user.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        **EXTRA_CONNECTION_URL_ARGS**
      </td>

      <td>
        Specify extra connection parameters as attr1=val1&attr2=val2.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        **ENABLE_SSL**
      </td>

      <td>
        Use SSL to connect to the MS SQL Server.
      </td>

      <td>
        false
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        **TRUST_SERVER_CERTIFICATE**
      </td>

      <td>
        if set to `true`, server certificate is NOT verified for SSL.
      </td>

      <td>
        false
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        **CERTIFICATE_LOCATION**
      </td>

      <td>
        Location of the SSL Certificate.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        **TIMEOUT**
      </td>

      <td>
        Timeout for queries, in seconds. Set 0 for no timeout.
      </td>

      <td>
        30
      </td>

      <td style={{ 'text-align': 'center' }}>
        M/I
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        **ENABLE_BUFFER_METRICS**
      </td>

      <td>
        Enable collection of buffer pool metrics. These can be resource intensive
        for large systems.
      </td>

      <td>
        true
      </td>

      <td style={{ 'text-align': 'center' }}>
        M
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        **ENABLE_DATABASE_RESERVE_METRICS**
      </td>

      <td>
        Enable collection of database partition reserve space. These can be resource
        intensive for large systems.
      </td>

      <td>
        true
      </td>

      <td style={{ 'text-align': 'center' }}>
        M
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        **CUSTOM_METRICS_QUERY**
      </td>

      <td>
        A SQL query to collect custom metrics. See the [custom query example](/docs/infrastructure/host-integrations/host-integrations-list/microsoft-sql/microsoft-sql-server-integration#custom-query).
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        **CUSTOM_METRICS_CONFIG**
      </td>

      <td>
        YAML configuration with one or more SQL queries to collect custom metrics.
        See the [multiple custom queries example](/docs/infrastructure/host-integrations/host-integrations-list/microsoft-sql/microsoft-sql-server-integration#multi-custom-query).
      </td>

      <td>
        false
      </td>

      <td style={{ 'text-align': 'center' }}>
        M
      </td>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        **METRICS**
      </td>

      <td>
        Set to `true` to enable metrics-only collection.
      </td>

      <td>
        false
      </td>

      <td style={{ 'text-align': 'center' }}/>
    </tr>

    {
      ' '
    }

    <tr>
      <td>
        **INVENTORY**
      </td>

      <td>
        Set to `true` to enable inventory-only collection.
      </td>

      <td>
        false
      </td>

      <td style={{ 'text-align': 'center' }}/>
    </tr>
  </tbody>
</table>

The values for these settings can be defined in several ways:

- Adding the value directly in the config file. This is the most common way.
- Replacing the values from environment variables using the `{{ }}` notation. Read more about [using environment variable passthroughs with on-host integrations](/docs/infrastructure/install-infrastructure-agent/configuration/configure-infrastructure-agent/#passthrough) or see the example for [environment variables replacement](/docs/infrastructure/host-integrations/host-integrations-list/elasticsearch/elasticsearch-integration#envvar-replacement).
<Callout variant="important">
  This requires infrastructure agent v1.14.0+. 
</Callout>

- Using secrets management. Use this to protect sensitive information, such as passwords that would be exposed in plain text on the configuration file. For more information, see [secrets management](/docs/integrations/host-integrations/installation/secrets-management).

## Inventory data [#inventory]

The Microsoft SQL Server integration captures the configuration parameters and current settings of the Microsoft SQL Server environment. It collects the results of the `sp_configure` stored procedure, as well as current running configuration settings from the `sys.configurations` table. The data is available on the [Inventory page](/docs/infrastructure/new-relic-infrastructure/infrastructure-ui-pages/infrastructure-inventory-page-search-your-entire-infrastructure), under the `config/mssql` source.

For more about inventory data, see [Understand integration data](/docs/infrastructure/integrations-getting-started/getting-started/understand-integration-data-data-types#inventory-data).
