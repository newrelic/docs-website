---
title: AWS IoT monitoring integration
tags:
  - Integrations
  - Amazon integrations
  - AWS integrations list
metaDescription: 'New Relic''s AWS IoT monitoring integration: what data it reports, and how to enable it.'
redirects:
  - /docs/integrations/amazon-integrations/aws-integrations-list/aws-iot-monitoring-integration
  - /docs/aws-iot-integration
  - /docs/aws-iot-monitoring-integration
---

<Callout variant="important">
  Enable the [AWS CloudWatch Metric Streams integration](/docs/infrastructure/amazon-integrations/aws-integrations-list/aws-metric-stream/) to monitor all CloudWatch metrics from your AWS services, including custom namespaces. Individual integrations are no longer our recommended option.
</Callout>

New Relic offers an [integration](/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations) for reporting your AWS IoT [metric data](/docs/telemetry-data-platform/understand-data/new-relic-data-types/#metrics-new-relic).

[AWS IoT](https://docs.aws.amazon.com/iot/latest/developerguide/what-is-aws-iot.html) is a service that provides communication between Internet-connected devices and the AWS Cloud. It also collects and stores telemetry data. With the AWS IoT Infrastructure integration, you can access these features:

* View charts and other information about your AWS IoT communication and telemetry data.
* Create custom queries and charts in New Relic from automatically captured metric data.
* Set alert conditions on your AWS IoT integration data directly from the New Relic **Integrations** page.

## Activate integration [#connect]

To enable this integration follow standard procedures to [Connect AWS services to New Relic](/docs/infrastructure/infrastructure-integrations/getting-started/connect-aws-integrations-infrastructure).

## Configuration and polling [#polling]

By default, New Relic queries your AWS IoT services [every 5 minutes](/docs/integrations/amazon-integrations/get-started/polling-intervals-aws-integrations). If you want New Relic to query your services less often, you can [change the polling frequency](/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations).

## Explore integration data [#find-data]

After [connecting the AWS IoT integration to New Relic](/docs/integrations/amazon-integrations/getting-started/connect-aws-services-infrastructure) and waiting a few minutes, you can [use integration data](/docs/telemetry-data-platform/understand-data/new-relic-data-types/):

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        View AWS IoT integrations data
      </th>

      <th>
        Do this
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        <InlinePopover type="dashboards" /> and [alerts](/docs/infrastructure/new-relic-infrastructure/infrastructure-alert-conditions/infrastructure-alerts-add-edit-or-view-host-alert-information#integration)
      </td>

      <td>
        Go to **[one.newrelic.com](https://one.newrelic.com/all-capabilities) > Infrastructure > AWS > IoT**.
      </td>
    </tr>

    <tr>
      <td>
        [Metric data](#metrics) on custom dashboards
      </td>

      <td>
        Go to the [query builder](/docs/query-your-data/explore-query-data/query-builder/query-builder-basic-mode) and create queries for `IOTBrokerSample`, `IOTRuleActionSample`, and `IOTRuleSample` events.
      </td>
    </tr>
  </tbody>
</table>

## Metric data [#metrics]

To view metric data for your AWS IoT integration, [create NRQL queries](/docs/integrations/new-relic-integrations/getting-started/use-integration-data-new-relic-insights#nrql) for `IOTBrokerSample`, `IOTRuleActionSample`, and `IOTRuleSample` [events](/docs/data-apis/understand-data/new-relic-data-types/#event-data) and their related attributes. For more information on AWS IoT metrics and dimensions, see the [AWS IoT Developer Guide](https://docs.aws.amazon.com/iot/latest/developerguide/metrics_dimensions.html).

<CollapserGroup>
  <Collapser
    id="iotbrokersample"
    title="IOTBrokerSample events"
  >
    Query `IOTBrokerSample` events to view data for the following attributes:

    <table>
      <thead>
        <tr>
          <th style={{ width: "250px" }}>
            Name
          </th>

          <th>
            Description
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `connect.AuthError`
          </td>

          <td>
            Number of connection requests that the message broker could not authorize.
          </td>
        </tr>

        <tr>
          <td>
            `connect.ClientError`
          </td>

          <td>
            Number of connection requests rejected because the MQTT message did not meet the [AWS IoT requirements](http://docs.aws.amazon.com/iot/latest/developerguide/iot-limits.html).
          </td>
        </tr>

        <tr>
          <td>
            `connect.ServerError`
          </td>

          <td>
            Number of connection requests that failed because of an internal error.
          </td>
        </tr>

        <tr>
          <td>
            `connect.Success`
          </td>

          <td>
            Number of successful connections to the message broker.
          </td>
        </tr>

        <tr>
          <td>
            `connect.Throttle`
          </td>

          <td>
            Number of connection requests that were throttled because the client exceeded the allowed connect request rate.
          </td>
        </tr>

        <tr>
          <td>
            `ping.Success`
          </td>

          <td>
            Number of ping messages that the message broker received.
          </td>
        </tr>

        <tr>
          <td>
            `publishIn.AuthError`
          </td>

          <td>
            Number of publish requests that the message broker could not authorize.
          </td>
        </tr>

        <tr>
          <td>
            `publishIn.ClientError`
          </td>

          <td>
            Number of publish requests that the message broker rejected because the message did not meet the [AWS IoT requirements](http://docs.aws.amazon.com/iot/latest/developerguide/iot-limits.html).
          </td>
        </tr>

        <tr>
          <td>
            `publishIn.ServerError`
          </td>

          <td>
            Number of publish requests that the message broker failed to process because of an internal error.
          </td>
        </tr>

        <tr>
          <td>
            `publishIn.Success`
          </td>

          <td>
            Number of publish requests that the message broker successfully processed.
          </td>
        </tr>

        <tr>
          <td>
            `publishIn.Throttle`
          </td>

          <td>
            Number of publish requests that were throttled because the client exceeded the allowed inbound message rate.
          </td>
        </tr>

        <tr>
          <td>
            `publishOut.AuthError`
          </td>

          <td>
            Number of publish requests that the message broker made that could not be authorized by AWS IoT.
          </td>
        </tr>

        <tr>
          <td>
            `publishOut.ClientError`
          </td>

          <td>
            Number of publish requests that the message broker made that were rejected because the message did not meet the [AWS IoT requirements](http://docs.aws.amazon.com/iot/latest/developerguide/iot-limits.html).
          </td>
        </tr>

        <tr>
          <td>
            `publishOut.Success`
          </td>

          <td>
            Number of publish requests that the message broker successfully made.
          </td>
        </tr>

        <tr>
          <td>
            `subscribe.AuthError`
          </td>

          <td>
            Number of subscription requests made by a client that could not be authorized.
          </td>
        </tr>

        <tr>
          <td>
            `subscribe.ClientError`
          </td>

          <td>
            Number of subscribe requests that were rejected because the `SUBSCRIBE` message did not meet the [AWS IoT requirements](http://docs.aws.amazon.com/iot/latest/developerguide/iot-limits.html).
          </td>
        </tr>

        <tr>
          <td>
            `subscribe.ServerError`
          </td>

          <td>
            Number of subscribe requests that were rejected because of an internal error.
          </td>
        </tr>

        <tr>
          <td>
            `subscribe.Success`
          </td>

          <td>
            Number of subscribe requests that the message broker successfully processed.
          </td>
        </tr>

        <tr>
          <td>
            `subscribe.Throttle`
          </td>

          <td>
            Number of subscribe requests that were throttled because the client exceeded the allowed subscribe request rate.
          </td>
        </tr>

        <tr>
          <td>
            `unsubscribe.ClientError`
          </td>

          <td>
            Number of unsubscribe requests that were rejected because the `UNSUBSCRIBE` message did not meet the [AWS IoT requirements](http://docs.aws.amazon.com/iot/latest/developerguide/iot-limits.html).
          </td>
        </tr>

        <tr>
          <td>
            `unsubscribe.ServerError`
          </td>

          <td>
            Number of unsubscribe requests that were rejected because of an internal error.
          </td>
        </tr>

        <tr>
          <td>
            `unsubscribe.Success`
          </td>

          <td>
            Number of unsubscribe requests that the message broker successfully processed.
          </td>
        </tr>

        <tr>
          <td>
            `unsubscribe.Throttle`
          </td>

          <td>
            Number of unsubscribe requests that were rejected because the client exceeded the allowed unsubscribe request rate.
          </td>
        </tr>

        <tr>
          <td>
            `deleteThingShadow.Accepted`
          </td>

          <td>
            Number of `DeleteThingShadow` requests processed successfully.
          </td>
        </tr>

        <tr>
          <td>
            `getThingShadow.Accepted`
          </td>

          <td>
            Number of `GetThingShadow` requests processed successfully.
          </td>
        </tr>

        <tr>
          <td>
            `updateThingShadow.Accepted`
          </td>

          <td>
            Number of `UpdateThingShadow` requests processed successfully.
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser
    id="iotruleactionsample"
    title="IOTRuleActionSample events"
  >
    Query `IOTRuleActionSample` events to view data for the following attributes:

    <table>
      <thead>
        <tr>
          <th style={{ width: "250px" }}>
            Name
          </th>

          <th>
            Description
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `success`
          </td>

          <td>
            Number of successful rule action invocations. The `RuleName` dimension contains the name of the rule that specifies the action that was invoked. The `ActionType` dimension contains the type of action that was invoked.
          </td>
        </tr>

        <tr>
          <td>
            `failure`
          </td>

          <td>
            Number of failed rule action invocations. The `RuleName` dimension contains the name of the rule that specifies the action that was invoked. The `RuleName`dimension contains the name of the rule that specifies the action. The `ActionType` dimension contains the type of action that was invoked.
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser
    id="iotrulesample"
    title="IOTRuleSample events"
  >
    Query `IOTRuleSample` events to view data for the following attributes:

    <table>
      <thead>
        <tr>
          <th style={{ width: "250px" }}>
            Name
          </th>

          <th>
            Description
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `topicMatch`
          </td>

          <td>
            The number of incoming messages published on a topic on which a rule is listening. The `RuleName` dimension contains the name of the rule.
          </td>
        </tr>

        <tr>
          <td>
            `parseError`
          </td>

          <td>
            The number of JSON parse errors that occurred in messages published on a topic on which a rule is listening. The `RuleName` dimension contains the name of the rule.
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>
