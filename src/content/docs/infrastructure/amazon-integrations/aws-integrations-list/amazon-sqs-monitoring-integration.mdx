---
title: Amazon SQS monitoring integration
tags:
  - Integrations
  - Amazon integrations
  - AWS integrations list
metaDescription: "New Relic's Amazon Simple Queue Service (SQS) monitoring integration: what data it reports, and how to enable it."
redirects:
  - /docs/integrations/amazon-integrations/aws-integrations-list/amazon-sqs-monitoring-integration
  - /docs/aws-sqs-integration
  - /docs/infrastructure/infrastructure-integrations/amazon-integrations/aws-sqs-integration
  - /docs/infrastructure/amazon-integrations/amazon-integrations/aws-sqs-monitoring-integration
  - /docs/integrations/amazon-integrations/aws-integrations-list/aws-sqs-monitoring-integration
---

[New Relic infrastructure integrations](/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations) include an integration for reporting your Amazon SQS data to New Relic. This document explains how to activate the integration and describes the data reported.

## Features

[Amazon Simple Queue Service (Amazon SQS)](https://aws.amazon.com/sqs/) provides hosted queues for storing messages in transit. New Relic's SQS integration reports queue-related data such as the count of messages delivered, delayed, and received, message size, and other [metrics](#metrics) and [configuration/inventory data](#inventory). SQS data is available in pre-built dashboards and you can also create custom queries and charts in [New Relic One](/docs/infrastructure/integrations-getting-started/getting-started/use-integration-data-new-relic-insights). You can also create alert conditions to notify you of changes in SQS data.

## Activate integration [#activate]

To enable this integration follow standard procedures to [Connect AWS services to New Relic](/docs/infrastructure/infrastructure-integrations/getting-started/connect-aws-integrations-infrastructure).

## Configuration and polling [#polling]

You can change the polling frequency and filter data using [configuration options](/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations).

Default [polling](/docs/infrastructure/amazon-integrations/aws-integrations-list/aws-polling-intervals-infrastructure-integrations) information for the Amazon SQS integration:

* New Relic polling interval: 5 minutes
* Amazon CloudWatch data interval: 1 minute

## Find and use data [#find-data]

To find your integration data, go to [**one.newrelic.com**](http://one.newrelic.com) **> Infrastructure > AWS** and select one of the SQS integration links.

You can [query and explore your data](/docs/using-new-relic/data/understand-data/query-new-relic-data) using the `QueueSample` [event type](/docs/insights/use-insights-ui/getting-started/introduction-new-relic-insights#event-type), with a `provider` value of `SqsQueue`.

For more on how to use your data, see [Understand integration data](/docs/infrastructure/integrations/find-use-infrastructure-integration-data).

## Metric data [#metrics]

This integration collects the following Amazon SQS metrics. For full metric descriptions, see [Amazon's SQS documentation](http://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/sqs-metricscollected.html).

<table>
  <thead>
    <tr>
      <th width={360}>
        Name
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `approximateAgeOfOldestMessage`
      </td>

      <td>
        The approximate age of the oldest non-deleted message in the queue, in seconds. For dead letter queues, this value is the longest time that a message has been in the queue.
      </td>
    </tr>

    <tr>
      <td>
        `approximateNumberOfMessagesDelayed`
      </td>

      <td>
        The approximate number of messages in the queue that are delayed and not available for reading immediately. This can happen when the queue is configured as a delay queue or when a message has been sent with a delay parameter.
      </td>
    </tr>

    <tr>
      <td>
        `approximateNumberOfMessagesNotVisible`
      </td>

      <td>
        The approximate number of messages that are "in flight." Messages are considered in flight if they have been sent to a client but have not yet been deleted or have not yet reached the end of their visibility window.
      </td>
    </tr>

    <tr>
      <td>
        `approximateNumberOfMessagesVisible`
      </td>

      <td>
        The approximate number of messages available for retrieval from the queue.
      </td>
    </tr>

    <tr>
      <td>
        `numberOfEmptyReceives`
      </td>

      <td>
        The number of `ReceiveMessage` API calls that did not return a message.
      </td>
    </tr>

    <tr>
      <td>
        `numberOfMessagesDeleted`
      </td>

      <td>
        The number of messages deleted from the queue.
      </td>
    </tr>

    <tr>
      <td>
        `numberOfMessagesReceived`
      </td>

      <td>
        The number of messages returned by calls to the `ReceiveMessage` API action.
      </td>
    </tr>

    <tr>
      <td>
        `numberOfMessagesSent`
      </td>

      <td>
        The number of messages added to a queue.
      </td>
    </tr>

    <tr>
      <td>
        `sentMessagesSize`
      </td>

      <td>
        The size in bytes of messages added to a queue.
      </td>
    </tr>
  </tbody>
</table>

## Inventory data [#inventory]

This integration reports the following SQS configuration options as inventory data. For more about inventory data, see [Understand integration data](/docs/infrastructure/integrations-getting-started/getting-started/understand-integration-data-data-types#inventory-data).

<Callout variant="tip">
  Data indicated with an asterisk `*` are only fetched if [extended inventory collection](/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations#extended) is on.
</Callout>

<table>
  <thead>
    <tr>
      <th width={285}>
        Name
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `awsRegion`
      </td>

      <td>
        The AWS region for the queue.
      </td>
    </tr>

    <tr>
      <td>
        `delaySeconds`\*
      </td>

      <td>
        The number of seconds that a message placed into the queue should remain invisible to consumers before becoming available for consumption.

        Valid values: `0` and `900` (15 minutes).
      </td>
    </tr>

    <tr>
      <td>
        `maximumMessageSize`\*
      </td>

      <td>
        The maximum amount of bytes a message can contain before Amazon SQS rejects it. For more information, see [SetQueueAttributes](http://docs.aws.amazon.com/AWSSimpleQueueService/latest/APIReference/API_SetQueueAttributes.html).
      </td>
    </tr>

    <tr>
      <td>
        `messageRetentionPeriod`\*
      </td>

      <td>
        The number of seconds Amazon SQS retains a message. For more information, see [SetQueueAttributes](http://docs.aws.amazon.com/AWSSimpleQueueService/latest/APIReference/API_SetQueueAttributes.html).
      </td>
    </tr>

    <tr>
      <td>
        `queue`
      </td>

      <td>
        The name of the queue, which is a combination of the region, the AWS account ID and the customer specified queue name.

        For example, in `https://sqs.us-east-1.amazonaws.com/01234567890/new-car-orders`:

        * `us-east-1` is the region
        * `01234567890` is the AWS account ID
        * `new-car-orders` is the name of the queue
      </td>
    </tr>

    <tr>
      <td>
        `queueArn`\*
      </td>

      <td>
        The [Amazon Resource Name](http://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html) (ARN) for the queue.

        For example, in `arn:aws:sqs:us-east-1:01234567890/new-car-orders` the ARN is `aws`.
      </td>
    </tr>

    <tr>
      <td>
        `queueUrl`
      </td>

      <td>
        The URL for the queue.

        For example, `https://sqs.us-east-1.amazonaws.com/01234567890/new-car-orders`.
      </td>
    </tr>

    <tr>
      <td>
        `receiveMessageWaitTimeSeconds`\*
      </td>

      <td>
        The time in seconds for which a ReceiveMessage call will wait for a message to arrive.

        Valid values: `0` to `20`
      </td>
    </tr>

    <tr>
      <td>
        `visibilityTimeout`\*
      </td>

      <td>
        The visibility timeout for the queue, in seconds.

        Valid values: `0` to `43200` (12 hours).
      </td>
    </tr>

    <tr>
      <td>
        `createdTimestamp`\*
      </td>

      <td>
        Returns the time when the queue was created in seconds.
      </td>
    </tr>

    <tr>
      <td>
        `lastModifiedTimestamp`\*
      </td>

      <td>
        Returns the time when the queue was last changed in seconds.
      </td>
    </tr>

    <tr>
      <td>
        `redrivePolicy`\*
      </td>

      <td>
        Returns the string that includes the parameters for dead letter queue functionality of the source queue.
      </td>
    </tr>
  </tbody>
</table>
