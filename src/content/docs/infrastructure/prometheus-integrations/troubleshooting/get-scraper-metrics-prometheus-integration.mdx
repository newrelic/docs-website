---
title: Get scraper metrics (Prometheus integration)
type: troubleshooting
tags:
  - Integrations
  - Prometheus integrations
  - Troubleshooting
metaDescription: How to get scraper metrics for your Prometheus OpenMetrics integration with New Relic for Docker or Kubernetes.
redirects:
  - /docs/integrations/prometheus-integrations/troubleshooting/get-scraper-metrics-prometheus-integration
---

import osDocker from 'images/os_icon_docker.webp'

import osk8 from 'images/os_icon_k8.webp'

## Problem

You want to get scraper metrics for your Prometheus OpenMetrics integration with New Relic for Docker or Kubernetes.

<img title="Docker icon" alt="Docker icon" src={osDocker}/> **Docker:** If you configure the `http://localhost:8080/metrics` endpoint, the integration will also scrape its own metrics.

<img title="img-integration-k8s@2x.png" alt="img-integration-k8s@2x.png" src={osk8}/> **Kubernetes:** By default, the scraper will also scrape its own metrics.

## Solution

To learn more about what is happening inside the scraper, use the following metrics for your Docker or Kubernetes integration with New Relic:

<table>
  <thead>
    <tr>
      <th>
        Metric
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `nr_stats_targets`
      </td>

      <td>
        Discovered targets by retriever (for example, Fixed, Kubernetes).
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_fetch_errors_total`
      </td>

      <td>
        Fetches attempted that resulted in an error by target.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_discoveries_total`
      </td>

      <td>
        Attempted discoveries by retriever (for example, Fixed, Kubernetes).
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_fetches_total`
      </td>

      <td>
        Fetches attempted by target.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_integration_fetch_target_duration_seconds`
      </td>

      <td>
        The total time in seconds to fetch the metrics of a target.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_integration_list_targets_duration_by_kind`
      </td>

      <td>
        The total time in seconds to get the list of targets by resource kind and retriever (for example, Kubernetes Pods, services, etc).
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_integration_payload_size`
      </td>

      <td>
        Size of target's payload.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_integration_process_duration_seconds`
      </td>

      <td>
        The total time in seconds to process all the steps of the integration.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_integration_total_executions`
      </td>

      <td>
        The number of times the integration has been executed.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_integration_total_payload_size`
      </td>

      <td>
        Total size of the payloads scraped.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_metrics_total_timeseries`
      </td>

      <td>
        The total number of scraped time series.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_metrics_total_timeseries_by_target`
      </td>

      <td>
        Total number of time series by target.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_metrics_total_timeseries_by_target_type`
      </td>

      <td>
        Total number of metrics scraped by type and target.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_metrics_total_timeseries_by_type`
      </td>

      <td>
        Total number of metrics scraped by type.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_discovery_errors_total`
      </td>

      <td>
        Attempted discoveries that resulted in an error by retriever.
      </td>
    </tr>
  </tbody>
</table>
