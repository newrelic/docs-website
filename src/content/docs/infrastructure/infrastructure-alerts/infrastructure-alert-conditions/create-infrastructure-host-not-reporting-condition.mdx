---
title: Create infrastructure "host not reporting" condition
tags:
  - Infrastructure
  - Infrastructure alerts
  - Infrastructure alert conditions
metaDescription: How to create a "host not reporting" alerting condition for infrastructure monitoring.
redirects:
  - /docs/create-infrastructure-host-not-reporting-condition
  - /docs/alerts/new-relic-alerts/defining-conditions/create-infrastructure-host-not-reporting-condition
  - /docs/alerts/new-relic-alerts/configuring-alert-policies/create-infrastructure-host-not-reporting-condition
  - /docs/infrastructure/new-relic-infrastructure/configuration/create-infrastructure-host-not-reporting-condition
  - /docs/infrastructure/new-relic-infrastructure/infrastructure-alert-conditions/create-infrastructure-host-not-reporting-condition
  - /docs/infrastructure/new-relic-infrastructure/infrastructure-alert-conditions
---

Use infrastructure monitoring's **Host not reporting** [condition](/docs/infrastructure/new-relic-infrastructure/configuration/infrastructure-alerts-add-edit-or-view-host-alert-information) to notify you when we've stopped receiving data from an infrastructure agent. This feature allows you to dynamically alert on groups of hosts, configure the time window from five to 60 minutes, and take full advantage of alerts notifications.

## Features

You can define conditions based on the sets of hosts most important to you, and configure thresholds appropriate for each [filter set](/docs/infrastructure/new-relic-infrastructure/filter-group/filter-sets-organize-your-infrastructure-hosts). The **Host not reporting** event triggers when data from the infrastructure agent doesn't reach our [collector](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#collector) within the time frame you specify.

<Callout variant="caution">
If you have filtered your `Host Not Reporting` condition using tags or labels and then remove a critical tag or label from a targeted host, the system will open a Host Not Reporting violation, since it will characterize that host as having lost its connection.
</Callout>

This feature's flexibility allows you to easily customize what to monitor and when to notify selected individuals or teams. In addition, the email notification includes links to help you quickly troubleshoot the situation.

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        **Host not reporting condition**
      </th>

      <th>
        **Features**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        What to monitor
      </td>

      <td>
        You can use [filter sets](/docs/infrastructure/new-relic-infrastructure/filter-group/filter-sets-organize-your-infrastructure-hosts) to select which hosts you want to be monitored with the alert condition. The condition will also automatically apply to any hosts you add in the future that match these filters.
      </td>
    </tr>

    <tr>
      <td>
        How to notify
      </td>

      <td>
        Conditions are contained in [policies](/docs/using-new-relic/welcome-new-relic/get-started/glossary#alert-policy). You can select an existing policy or create a new policy with email notifications from the Infrastructure monitoring UI. If you want to create a new policy with other types of [notification channels](/docs/alerts/new-relic-alerts/managing-notification-channels/notification-channels-controlling-where-send-alerts), use the [UI](/docs/alerts/new-relic-alerts/configuring-alert-policies/name-or-rename-alert-policy).
      </td>
    </tr>

    <tr>
      <td>
        When to notify
      </td>

      <td>
        Email addresses (identified in the policy) will be notified automatically about [threshold](/docs/using-new-relic/welcome-new-relic/get-started/glossary#alert-threshold) violations for any host matching the filters you have applied, depending on the policy's [incident preferences](/docs/alerts/new-relic-alerts/configuring-alert-policies/specify-when-new-relic-creates-incidents).
      </td>
    </tr>

    <tr>
      <td>
        Where to troubleshoot
      </td>

      <td>
        The link at the top of the email notification will take you to the [infrastructure **Events** page](/docs/infrastructure/new-relic-infrastructure/infrastructure-ui-pages/infrastructure-events-page-live-feed-every-config-change) centered on the time when the host disconnected. Additional links in the email will take you to additional detail.
      </td>
    </tr>
  </tbody>
</table>

## Create "host not reporting" condition [#create-condition]

To define the **Host not reporting** condition criteria:

1. Follow standard procedures to [create an infrastructure condition](/docs/infrastructure/new-relic-infrastructure/configuration/infrastructure-alerts-add-edit-or-view-host-alert-information).
2. Select **Host not reporting** as the **Alert type**.
3. Define the **Critical** threshold for triggering the notification: minimum 5 minutes, maximum 60 minutes.
4. Enable **'Do not trigger alerts for hosts that perform a clean shutdown'** option, if you want to prevent false alerts when you have hosts set to shut down via command line.  
   Currently this feature is supported on all Windows systems and Linux systems using systemd.
   Alternatively, you can add the `hostStatus: shutdown` [tag](/docs/new-relic-one/use-new-relic-one/core-concepts/use-tags-help-organize-find-your-data/) to your host along with checking the option mentioned above. This will stop all Host Not Reporting violations from opening for that host, as long as that tag is on it, regardless of agent version or OS. Removing the tag will allow the system to open Host Not Reporting violations for that host again.

Depending on the policy's [incident preferences](/docs/alerts/new-relic-alerts/configuring-alert-policies/specify-when-new-relic-creates-incidents), it will define which notification channels to use when the defined **Critical** threshold for the condition passes. To avoid "false positives," the host must stop reporting for the entire time period before a violation is opened.

**Example:** You create a condition to open a violation when any of the filtered set of hosts stop reporting data for **seven** minutes.

* If any host stops reporting for five minutes, then resumes reporting, the condition **does not** open a violation.
* If any host stops reporting for seven minutes, even if the others are fine, the condition **does** open a violation.

## Investigate the problem [#view-incidents]

To further investigate why a host is not reporting data:

1. Review the details in the email notification.
2. Use the link from the email notification to monitor ongoing changes in your environment from Infrastructure monitoring's [**Events** page](/docs/infrastructure/new-relic-infrastructure/infrastructure-ui-pages/infrastructure-events-page-live-feed-every-config-change). For example, use the **Events** page to help determine if a host disconnected right after a root user made a configuration change to the host.
3. Optional: Use the email notification's [**Acknowledge** link](/docs/alerts/new-relic-alerts/reviewing-alert-incidents/acknowledge-alert-incidents) to verify you are aware of and taking ownership of the alerting incident.
4. Use the email links to examine additional details in the [**Incident details** page](/docs/alerts/new-relic-alerts/reviewing-alert-incidents/view-incident-violation-details).

## Intentional outages [#intentional]

We can distinguish between unexpected situations and planned situations with the option **Do not trigger alerts for hosts that perform a clean shutdown**. Use this option for situations such as:

* Host has been taken offline intentionally.
* Host has planned downtime for maintenance.
* Host has been shut down or decommissioned.
* Autoscaling hosts or shutting down instances in a cloud console.

We rely on Linux and Windows shutdown signals to flag a clean shutdown.

We've confirmed that these scenarios are detected by the agent:

* AWS Auto-scaling event with EC2 instances that use systemd (Amazon Linux, CentOs/RedHat 7 and newer, Ubuntu 16 and newer, Suse 12 and newer, Debian 9 and newer)
* User-initiated shutdown of Windows systems
* User-initiated shutdown of Linux systems that use systemd (Amazon Linux, CentOs/RedHat 7 and newer, Ubuntu 16 and newer, Suse 12 and newer, Debian 9 and newer)

We know that these scenarios are **not** detected by the agent:

* User-initiated shutdown of Linux systems that do not use systemd (CentOs/RedHat 6 and earlier, Ubuntu 14, Debian 8). This includes other modern Linux systems that still use Upstart or SysV init systems.
* AWS Auto-scaling event with EC2 instances that do not use systemd (CentOs/RedHat 6 and earlier, Ubuntu 14, Debian 8). This includes other more modern Linux systems that still use Upstart or SysV init systems.
