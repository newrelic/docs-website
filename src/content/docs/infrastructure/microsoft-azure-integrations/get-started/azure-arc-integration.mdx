---
title: Install the New Relic Extension On Azure Arc
tags:
  - Infrastructure
  - Install NewRelic Extension
  - NewRelic Extension
  - Azure Arc Extension
metaDescription: New Relic's Extension For Azure Arc.
freshnessValidatedDate: never
---

This documentation provides step-by-step instructions on how to install the New Relic Extension on an Azure arc connected machine using the Azure command-line interface (Azure CLI).

<CollapserGroup>
  <Collapser
    id="verbose-with-manifest"
    title="What Is Azure Arc?"
  >
    Azure arc extends the Azure platform to help you build applications and services with the flexibility to run across data centers and in multicloud environments. Azure arc helps you develop cloud-native applications with a consistent development, operations, and security model.
  </Collapser>
</CollapserGroup>

## Prerequisites

Before you begin, ensure that you have:

* Azure CLI installed on your local machine.
* Azure arc connected machine set up and registered in your Azure subscription.
* Permissions from either the Azure subscription owner or contributor roles that enable you to manage resources in the specified resource group.

## Installation Steps

<Steps>
  <Step>
    ### Open a terminal or command prompt

    Connect to your Azure subscription and execute the following steps through the Azure CLI.  

  </Step>

  <Step>
    ### Run Azure CLI Commands

    Enter the following commands in your terminal to install the New Relic agent on your Azure arc connected machine:

    <DNT>
      **For Linux-based machines:**
    </DNT>

    ```bash
    az connectedmachine extension create \
      --resource-group "your-resource-group" \
      --machine-name "your-machine-name" \
      --location "your-location" \
      --name NewRelicAgent \
      --publisher newrelic.infrastructure.extensions \
      --type newrelic-infra \
      --settings '{ "NR_LICENSE_KEY": "YOUR-NEW-RELIC-LICENSE-KEY" }'
    ```

    <DNT>
      **For Windows-based machines:**
    </DNT>

    ```bash
    az connectedmachine extension create \
      --resource-group "your-resource-group" \
      --machine-name "your-machine-name" \
      --location "your-location" \
      --name NewRelicAgent \
      --publisher newrelic.infrastructure.extensions \
      --type newrelic-infra-windows \
      --settings '{ "NR_LICENSE_KEY": "YOUR-NEW-RELIC-LICENSE-KEY" }'
    ```

    Replace placeholders like "your-resource-group," "your-machine-name," and "your-location" with your actual resource group, machine name, and location.  

  </Step>

  <Step>
    ### Verify your installation:

    Verify that the installation succeeded by checking the New Relic agent status on your Azure arc connected machine.

    1. Azure Portal -
       <img title="azureArcExtension.webp" alt="Azure Arc Extension" src="/images/Azure-arc-extension.webp"/>
    2. View Azure arc connected VM metrics on NewRelic:
       <img title="azureArcMetrics.webp" alt="Azure Arc NewRelic Metics" src="/images/Azure-Arc-Metrics.webp"/>
  </Step>
</Steps>
