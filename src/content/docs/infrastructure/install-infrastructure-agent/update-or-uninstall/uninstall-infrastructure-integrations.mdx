---
title: Uninstall infrastructure integrations
tags:
  - Infrastructure
  - Install the infrastructure agent
  - Update or uninstall
metaDescription: How to uninstall any of New Relic's infrastructure Integrations.
redirects:
  - /docs/infrastructure/new-relic-infrastructure/installation/uninstall-integrations
  - /docs/infrastructure/install-configure-infrastructure/update-or-uninstall/uninstall-integrations
---

[Uninstalling the infrastructure agent](/docs/infrastructure/new-relic-infrastructure/installation/uninstall-infrastructure-agent-or-integrations) does not directly affect any of your [infrastructure Integrations](/docs/infrastructure/infrastructure-integrations/getting-started/connect-aws-integrations-infrastructure): if you uninstall the agent, your integrations will remain. Similarly, if you [disable or uninstall your integrations](#uninstall-integrations), the infrastructure agent will remain.

To uninstall any of your integrations, follow the procedure corresponding to the type of integration.

## Cloud integrations [#uninstall-cloud]

<CollapserGroup>
  <Collapser
    id="uninstall-aws"
    title="AWS"
  >
    You can disable [infrastructure AWS integrations](/docs/infrastructure/infrastructure-integrations/getting-started/connect-aws-integrations-infrastructure) and still retain the connection between your AWS account and New Relic. We recommend not to disable your EC2 and EBS integrations because those add important metadata to your infrastructure data.

    <table>
      <thead>
        <tr>
          <th style={{ width: "250px" }}>
            **If you want to...**
          </th>

          <th>
            **Do this**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td id="disable-aws-integrations">
            Disable one or more AWS service integrations
          </td>

          <td>
            To disable services while keeping your AWS account linked to New Relic:

            1. From **[one.newrelic.com](http://one.newrelic.com) > Infrastructure**, select **AWS > Manage services**.
            2. From your **Edit AWS account** page, clear the checkbox for each active service you want to disable.
            3. Save your changes.
          </td>
        </tr>

        <tr>
          <td id="unlink-aws">
            Disable all AWS integrations
          </td>

          <td>
            To disconnect your AWS account completely from New Relic, you need to unlink your AWS account. This disables all New Relic integrations associated with that AWS account.

            1. Go to **[one.newrelic.com](http://one.newrelic.com) > Infrastructure** **> AWS > Manage services**.
            2. From your **Edit AWS account** page, select **Unlink this account**.
            3. Save your changes.
            4. Sign in to AWS and select [**Services > IAM > Roles**](https://console.aws.amazon.com/iam/home#roles).
            5. Select the checkbox for the role you want to delete, then select **Role Actions > Delete Role**.

            Unlinking your AWS account will disable the trust relationship set up via your ARN.
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser
    id="uninstall-azure"
    title="Azure"
  >
    <table>
      <thead>
        <tr>
          <th style={{ width: "250px" }}>
            **If you want to...**
          </th>

          <th>
            **Do this**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td id="disable-azure-integrations">
            Disable one or more Azure service integrations
          </td>

          <td>
            To disable services while keeping your Azure account linked to New Relic:

            1. Go to **[one.newrelic.com](https://one.newrelic.com) > Infrastructure > Azure > Manage services**.
            2. From your **Edit Azure account** page, clear the checkbox for each active service you want to disable.
            3. Save your changes.
          </td>
        </tr>

        <tr>
          <td id="unlink-azure">
            Disable all Azure integrations
          </td>

          <td>
            To disconnect your Azure account completely from New Relic, you need to unlink your Azure account. This requires being either the user who registered the app or an administrator. This procedure will disable all New Relic integrations associated with that Azure account.

            1. Go to **[one.newrelic.com](http://one.newrelic.com) > Infrastructure >** **Azure > Manage services**.
            2. From your **Edit Azure account** page, select **Unlink this account**.
            3. Save your changes.
            4. Sign in to [Azure](https://portal.azure.com/) and go into **All Services > Identity > App registrations**, or go to **Azure Active Directory** service and select **App registrations**.
            5. Find the registered app (the recommended name is `NewRelic-Integrations`). To see the full list of available apps, select the dropdown menu beside the search field and select **All apps**.
            6. Select the app and, on the panel that opens, select **Delete**.
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser
    id="uninstall-gcp"
    title="Google Cloud Platform (GCP)"
  >
    <table>
      <thead>
        <tr>
          <th style={{ width: "250px" }}>
            **If you want to...**
          </th>

          <th>
            **Do this**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td id="disable-gcp-integrations">
            Disable one or more GCP service integrations
          </td>

          <td>
            To disable services while keeping your GCP account linked to New Relic:

            1. From **[one.newrelic.com](http://one.newrelic.com) > Infrastructure > GCP** **> Manage services**.
            2. From your **Edit GCP account** page, clear the checkbox for each active service you want to disable.
            3. Save your changes.
          </td>
        </tr>

        <tr>
          <td id="unlink-gcp">
            Disable all GCP integrations
          </td>

          <td>
            To disconnect your GCP account completely from New Relic, you need to unlink your GCP account. This disables all New Relic integrations associated with that GCP account.

            If you registered the GCP project using a **User account**, follow these steps.

            1. Go to **[one.newrelic.com](http://one.newrelic.com) > Infrastructure > GCP** **> Manage services**.
            2. From your **Edit GCP account** page, select **Unlink this account**.
            3. Save your changes.

            If you registered the GCP project using a **Service account**, follow these steps. If you are deleting a custom role, be aware that this role may be used for other purposes besides New Relic access.

            1. Sign in to New Relic and go to **Infrastructure > Integrations > Google Cloud Platform**.
            2. For a standard (non-custom) user role, select **Manage Services** for the account you want to remove. Copy the value of **User** and save it.

               OR

               For a custom user role, go to **IAM > admin > Roles**, search for the role, select it, and select **DELETE**. You are now finished and can skip the remaining steps.
            3. Standard (non-custom) user role: Sign in to [Google Cloud](https://console.cloud.google.com/) and select the correct project in the **Select a project** box.
            4. From the navigation menu, select **IAM & admin > IAM**.
            5. Search for and select the user value you saved, then select **REMOVE**.
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## On-host integrations [#uninstall-on-host]

If you used the integrations package, [see the integrations package instructions](/docs/infrastructure/new-relic-infrastructure/installation/uninstall-infrastructure-agent-or-integrations#uninstall-package).

Here are some examples:

<CollapserGroup>
  <Collapser
    id="uninstall-apache"
    title="Apache"
  >
    <table>
      <thead>
        <tr>
          <th style={{ width: "250px" }}>
            **Package manager**
          </th>

          <th>
            **Uninstall instructions**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td id="uninstall-apache-apt">
            apt (Debian or Ubuntu)
          </td>

          <td>
            `sudo apt-get remove nri-apache`
          </td>
        </tr>

        <tr>
          <td id="uninstall-apache-yum">
            yum (Amazon Linux, CentOS, or RHEL)
          </td>

          <td>
            `sudo yum remove nri-apache`
          </td>
        </tr>

        <tr>
          <td>
            zypper (SLES)
          </td>

          <td>
            `sudo zypper -n remove nri-apache`
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser
    id="uninstall-cassandra"
    title="Cassandra"
  >
    <table>
      <thead>
        <tr>
          <th style={{ width: "250px" }}>
            **Package manager**
          </th>

          <th>
            **Uninstall instructions**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td id="uninstall-cassandra-apt">
            apt (Debian or Ubuntu)
          </td>

          <td>
            `sudo apt-get remove nri-cassandra`
          </td>
        </tr>

        <tr>
          <td id="uninstall-cassandra-yum">
            yum (Amazon Linux, CentOS, or RHEL)
          </td>

          <td>
            `sudo yum remove nri-cassandra`
          </td>
        </tr>

        <tr>
          <td>
            zypper (SLES)
          </td>

          <td>
            `sudo zypper -n remove nri-cassandra`
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser
    id="uninstall-kubernetes"
    title="Kubernetes"
  >
    Ensure you are using the appropriate context in the machine where you will run Helm and `kubectl`:

    You can check the available contexts with:

    ```
    kubectl config get-contexts
    ```

    And switch to the desired context using:

    ```
    kubectl config use-context <var>CONTEXT_NAME</var>
    ```

    If you used Helm to install the Kubernetes integration, just uninstall it using Helm:

    ```
    helm uninstall --namespace <var>NAMESPACE_USED_DURING_INSTALLATION</var> <var>RELEASE_NAME</var>
    ```

    If you installed Kubernetes integration using a manifest, use the same manifest to uninstall it:

    ```
    kubectl delete -f newrelic-infrastructure.yaml
    ```
  </Collapser>

  <Collapser
    id="uninstall-mysql"
    title="MySQL"
  >
    <table>
      <thead>
        <tr>
          <th style={{ width: "250px" }}>
            **Package manager**
          </th>

          <th>
            **Uninstall instructions**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td id="uninstall-mysql-apt">
            apt (Debian or Ubuntu)
          </td>

          <td>
            `sudo apt-get remove nri-mysql`
          </td>
        </tr>

        <tr>
          <td id="uninstall-mysql-yum">
            yum (Amazon Linux, CentOS, or RHEL)
          </td>

          <td>
            `sudo yum remove nri-mysql`
          </td>
        </tr>

        <tr>
          <td>
            zypper (SLES)
          </td>

          <td>
            `sudo zypper -n remove nri-mysql`
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser
    id="uninstall-nginx"
    title="NGINX"
  >
    <table>
      <thead>
        <tr>
          <th style={{ width: "250px" }}>
            **Package manager**
          </th>

          <th>
            **Uninstall instructions**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td id="uninstall-nginx-apt">
            apt (Debian or Ubuntu)
          </td>

          <td>
            `sudo apt-get remove nri-nginx`
          </td>
        </tr>

        <tr>
          <td id="uninstall-nginx-yum">
            yum (Amazon Linux, CentOS, or RHEL)
          </td>

          <td>
            `sudo yum remove nri-nginx`
          </td>
        </tr>

        <tr>
          <td>
            zypper (SLES)
          </td>

          <td>
            `sudo zypper -n remove nri-nginx`
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser
    id="uninstall-redis"
    title="Redis"
  >
    <table>
      <thead>
        <tr>
          <th style={{ width: "250px" }}>
            **Package manager**
          </th>

          <th>
            **Uninstall instructions**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td id="uninstall-redis-apt">
            apt (Debian or Ubuntu)
          </td>

          <td>
            `sudo apt-get remove nri-redis`
          </td>
        </tr>

        <tr>
          <td id="uninstall-redis-yum">
            yum (Amazon Linux, CentOS, or RHEL)
          </td>

          <td>
            `sudo yum remove nri-redis`
          </td>
        </tr>

        <tr>
          <td>
            zypper (SLES)
          </td>

          <td>
            `sudo zypper -n remove nri-redis`
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser
    id="uninstall-statsd"
    title="StatsD"
  >
    1. `cd /path/to/statsd`
    2. `npm uninstall @newrelic/statsd-infra-backend`
    3. From the StatsD config.js, remove the `"@newrelic/statsd-infra-backend"` entry from the list of backends.
    4. Restart StatsD.
  </Collapser>
</CollapserGroup>

## Moving away from the integrations package [#uninstall-package]

While it is still possible to use the integrations package, we recommend removing it completely and working with integrations on an individual basis.

The last integration package contains the following versions of the integrations:

* Apache 1.1.2
* Cassandra 2.0.3
* MySQL 1.1.5
* Nginx 1.0.2
* Redis 1.0.1

If you remove the integrations package and want to continue using the related on-host integrations, you will need to install them one by one. To uninstall the package and re-install your integrations:

1. Remove the integrations package by following these instructions. The config files from the old integrations will not be deleted, so you wonâ€™t have to configure them again.

   <CollapserGroup>
     <Collapser
       id="uninstall-package-instructions"
       title="Uninstall package"
     >
       <table>
         <thead>
           <tr>
             <th style={{ width: "250px" }}>
               **Package manager**
             </th>

             <th>
               **Uninstall instructions**
             </th>
           </tr>
         </thead>

         <tbody>
           <tr>
             <td id="uninstall-all-apt">
               `apt` (Debian or Ubuntu)
             </td>

             <td>
               1. `sudo apt-get remove newrelic-infra-integrations`
               2. `sudo apt-get autoremove`
             </td>
           </tr>

           <tr>
             <td id="uninstall-all-yum">
               `yum` (Amazon Linux, CentOS, or RHEL)
             </td>

             <td>
               1. `sudo yum remove newrelic-infra-integrations`
               2. `sudo yum autoremove`
             </td>
           </tr>

           <tr>
             <td>
               `zypper` (SLES)
             </td>

             <td>
               ```
               sudo zypper -n remove newrelic-infra-integrations --clean-deps
               ```
             </td>
           </tr>
         </tbody>
       </table>
     </Collapser>
   </CollapserGroup>
2. Install your integrations one by one following [these instructions](/docs/integrations/host-integrations/installation/install-host-integrations-built-new-relic). To replicate the integrations package, you will need to install all the available integrations again.
