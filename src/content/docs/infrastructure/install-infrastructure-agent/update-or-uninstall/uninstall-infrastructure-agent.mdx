---
title: 'Uninstall the infrastructure agent '
tags:
  - Infrastructure
  - Install the infrastructure agent
  - Update or uninstall
metaDescription: 'How to uninstall the infrastructure agent for your Linux or Windows operating system, as well as any infrastructure integrations.'
redirects:
  - /docs/servers/servers-pages/servers-ui/remove-servers-new-relic-ui
  - /docs/servers/servers-pages/servers-ui/remove-servers-new-relic-servers-ui
  - /docs/infrastructure/new-relic-infrastructure/installation/uninstall-infrastructure-agent
  - /docs/servers/servers-pages/servers-ui/delete-servers-new-relic-servers-ui
  - /docs/servers/new-relic-servers-windows/installation-configuration/uninstall-servers-windows
  - /docs/infrastructure/new-relic-infrastructure/installation/uninstall-infrastructure-agent-or-integrations
---

import osWindows from 'images/os_icon_windows.webp'

import osMac from 'images/os_icon_mac.webp'

import osSuse from 'images/os_icon_suse.webp'

import osRedhat from 'images/os_icon_redhat.webp'

import osCentos from 'images/os_icon_centos.webp'

import osAmazonLinux from 'images/os_icon_amazon-linux.webp'

import osUbuntu from 'images/os_icon_ubuntu.webp'

import osDebian from 'images/os_icon_debian.webp'

Your hosts are added automatically when you install the infrastructure agent for your [Linux](/docs/infrastructure/new-relic-infrastructure/installation/install-infrastructure-linux) or [Windows](/docs/infrastructure/new-relic-infrastructure/installation/install-infrastructure-windows-server) operating system, or [update](/docs/infrastructure/new-relic-infrastructure/installation/update-infrastructure-agent) the agent. Similarly, your hosts disappear automatically when you uninstall the agent. You do not need to manually add or remove your hosts.

Uninstalling the agent does not directly affect any of your [integrations](/docs/infrastructure/infrastructure-integrations/getting-started/connect-aws-integrations-infrastructure). To uninstall an integration, see [Uninstall integrations](/docs/infrastructure/install-configure-infrastructure/update-or-uninstall/uninstall-integrations).

## Uninstall the Linux infrastructure agent [#uninstall-linux]

If you used the default install procedure for your infrastructure agent for Linux environments, use your package management tools to uninstall it. You do not need to stop the service before running the uninstall command.

<CollapserGroup>
  <Collapser
    id="apt-uninstall"
    title={<>Uninstall with apt (<img src={osDebian} title="Debian icon" alt="Debian.webp" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }}/>Debian, <img src={osUbuntu} title="ubuntu icon" alt="ubuntu icon" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }}/>Ubuntu)</>}
  >
    Execute the following command as root:

    ```
    sudo apt-get remove newrelic-infra
    ```
  </Collapser>

  <Collapser
    id="yum-uninstall"
    title={<>Uninstall with yum (<img src={osAmazonLinux} title="amazon linux.webp" alt="amazon linux.webp" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }}/>Amazon Linux, <img src={osCentos} title="centos icon" alt="centos icon" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }}/>CentOS, <img src={osRedhat} title="redhat icon" alt="redhat icon" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }}/>RHEL)</>}
  >
    Execute the following command as root:

    ```
    sudo yum remove newrelic-infra
    ```
  </Collapser>

  <Collapser
    id="zipper-uninstall"
    title={<>Uninstall with Zypper (<img src={osSuse} title="suse icon" alt="suse icon" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }}/>SLES)</>}
  >
    Execute the following command as root:

    ```
    sudo zypper -n remove newrelic-infra
    ```
  </Collapser>
</CollapserGroup>

If you followed an [assisted](/docs/infrastructure/install-configure-infrastructure/linux-installation/assisted-install-infrastructure-linux) or [manual](/docs/infrastructure/install-configure-infrastructure/linux-installation/manual-install-infrastructure-linux) installation process, you need to manually delete all the files created when you unpacked the agent file.

<Callout variant="important">
  Since there are are no automated scripts, old files may remain when you uninstall. Be sure to manually remove outdated files.
</Callout>

## Uninstall the <img style={{ width: '32px', height: '32px', verticalAlign: 'middle'}} class="inline" title="Windows Server" alt="Windows Server icon" src={osWindows}/> Windows infrastructure agent [#uninstall-windows]

<Callout variant="tip">
  Requires [Administrator rights](/docs/infrastructure/new-relic-infrastructure/getting-started/compatibility-requirements-new-relic-infrastructure#permissions) in your Windows admin group.
</Callout>

If you used the default install procedure for the infrastructure agent for Windows environments, to uninstall:

1. [Stop the infrastructure agent](/docs/infrastructure/new-relic-infrastructure/configuration/start-stop-restart-check-infrastructure-agent-status#windows).
2. From the Windows **Control Panel**, use the **Add/Remove Programs and Features** tool to uninstall the infrastructure agent.
3. From the Windows **Program Files**, manually delete the New Relic folder to delete all files associated with the infrastructure agent for Windows.

If you followed an [assisted](/docs/infrastructure/install-configure-infrastructure/windows-installation/assisted-install-infrastructure-windows) or [manual](/docs/infrastructure/install-configure-infrastructure/windows-installation/manual-install-infrastructure-windows) installation process, you need to manually delete all the files created when you unpacked the agent file.

<Callout variant="important">
  Since there are are no automated scripts, old files may remain when you uninstall. Be sure to manually remove outdated files.
</Callout>

## Uninstall the <img style={{ width: '32px', height: '32px', verticalAlign: 'middle'}} class="inline" title="macOS" alt="macOS icon" src={osMac}/> macOS infrastructure agent [#uninstall-macos]

If you used the default install procedure for the infrastructure agent for macOS environments, to uninstall:

1. [Stop the infrastructure agent](/docs/infrastructure/new-relic-infrastructure/configuration/start-stop-restart-check-infrastructure-agent-status#macOS):
   ```
     brew services stop newrelic-infra-agent
   ```

2. From the terminal, run the uninstall command:
   ```
     brew uninstall newrelic-infra-agent
   ```

## Uninstall using config management tools [#uninstall-other]

To uninstall the infrastructure agent if you used a configuration management tool:

<table>
  <thead>
    <tr>
      <th style={{ width: "250px" }}>
        **Config management tools**
      </th>

      <th>
        **Uninstall New Relic infrastructure agent**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [Ansible](/docs/infrastructure/new-relic-infrastructure/config-management-tools/configure-new-relic-infrastructure-using-ansible)
      </td>

      <td>
        Set the [`'agent_state'`](/docs/infrastructure/new-relic-infrastructure/config-management-tools/configure-new-relic-infrastructure-using-ansible#role-config) parameter to `'absent'`
      </td>
    </tr>

    <tr>
      <td>
        [Chef](/docs/infrastructure/new-relic-infrastructure/config-management-tools/configure-new-relic-infrastructure-using-chef)
      </td>

      <td>
        Set the [`'agent_action'`](/docs/infrastructure/new-relic-infrastructure/config-management-tools/configure-new-relic-infrastructure-using-chef#attributes) node to `uninstall`
      </td>
    </tr>

    <tr>
      <td>
        [AWS Elastic Beanstalk](/docs/infrastructure/install-infrastructure-agent/config-management-tools/install-infrastructure-agent-aws-elastic-beanstalk)
      </td>

      <td>
        Remove `newrelic.config` from `.ebextensions`, then deploy.
      </td>
    </tr>

    <tr>
      <td>
        [Puppet](/docs/infrastructure/new-relic-infrastructure/config-management-tools/configure-new-relic-infrastructure-puppet)
      </td>

      <td>
        Set the [`'ensure'`](/docs/infrastructure/new-relic-infrastructure/config-management-tools/configure-new-relic-infrastructure-puppet#reference) parameter to `'absent'`
      </td>
    </tr>
  </tbody>
</table>

## Optional: Purge remaining files [#leftover-files]

If you use standard package management tools for your selected platform, the uninstall process typically leaves configuration and other miscellaneous files. If you need to completely purge any of the remaining files after uninstalling the New Relic infrastructure agent, follow standard procedures for your operating system.
