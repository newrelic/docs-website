---
title: New Relic Lens overview
tags:
  - New Relic Lens
  - Query data
  - SQL queries
  - Cross-database joins
  - Data analysis
  - Multiple data sources
metaDescription: "Learn about New Relic Lens, a unified query platform for querying multiple data sources using ANSI SQL and performing cross-database joins."
freshnessValidatedDate: never
---

<Callout title="preview">
  We're still working on this feature, but we'd love for you to try it out!

  This feature is currently provided as part of a preview program pursuant to our [pre-release policies](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy). To enable Lens, check with your <dnt>Organization Manager</dnt> to opt in from the <DNT>**[Previews & Trials](https://one.newrelic.com/admin-portal/promotion-management/home)**</DNT> page.
</Callout>

As a New Relic user, you may need to analyze your telemetry data alongside data stored across multiple databases, data warehouses, and spreadsheets. Manually exporting data from each source and combining it with your observability data offline takes time and reduces productivity. Additionally, you often can't consolidate all data into a single database due to compliance, security, or operational requirements.

<DNT>New Relic Lens</DNT> addresses these challenges. <DNT>Lens</DNT> is a unified query platform within New Relic that lets you connect and query multiple data sources directly from New Relic. Write a query in <DNT>Lens</DNT> using ANSI SQL and perform cross-database joins to analyze and correlate data from various sources. <DNT>Lens</DNT> pushes computational work to each data source, which processes its portion of the query and returns only the results. <DNT>Lens</DNT> then combines these results, minimizing data transfer and maintaining security by never ingesting raw data from your external sources.

<img
  title="New Relic Lens Architecture"
  alt="A schematic diagram of New Relic Lens architecture."
  src="/images/nr-lens-arch.webp"
/>

## How it works [#how-it-works]

Using <DNT>Lens</DNT> involves the following steps:

<Steps>
  <Step>
    ### Enable Lens

    <DNT>Lens</DNT> is available as a public preview. Check with your <dnt>Organization Manager</dnt> to opt in from the <DNT>**[Previews & Trials](https://one.newrelic.com/admin-portal/promotion-management/home)**</DNT> page.
  </Step>

  <Step>
    ### Check permissions

    If you are a <dnt>Organization Manager</dnt>, you have the necessary permissions to access all <DNT>Lens</DNT> features by default. If you're not an <dnt>Organization Manager</dnt>, reach out to your <dnt>Authentication Domain Manager</dnt> to [create a custom role with the required permissions](docs/new-relic-lens/overview/#permissions).
    
  </Step>

  <Step>
    ### Set up <dnt>connectors</dnt>

    <DNT>Lens</DNT> includes built-in <dnt>system connectors</dnt> for NRDB data. With necessary permissions, you can set up [<dnt>data connectors</dnt>](/docs/new-relic-lens/set-up-connectors) to connect to external data sources:

    * **Cloud data warehouses**: Snowflake, Redshift, ClickHouse
    * **Relational databases**: PostgreSQL, MySQL, SQL Server
    * **Document databases**: MongoDB, Elasticsearch
    * **Spreadsheets**: Google Sheets
    * **Data lakes**: Iceberg
    * **Metrics and monitoring**: Prometheus, AWS CloudWatch
  </Step>

  <Step>
    ### Query data

    Write SQL queries in the [Query Builder, Notebooks, or custom dashboards](/docs/new-relic-lens/query-data) using the format `connection_name.schema.table` to reference tables and join data across sources.
  </Step>

  <Step>
    ### Create <dnt>materialized views</dnt> (optional)

    For complex queries that run frequently, you can save results as [<dnt>materialized views</dnt>](/docs/new-relic-lens/materialized-views) to reduce costs and improve performance.
  </Step>
</Steps>

## Use cases [#use-cases]

Lens enables various data analysis scenarios:

* **Budget analysis**: Compare New Relic utilization data from NRDB with budget data stored in Snowflake to track spending against allocated budgets.
* **Workflow optimization**: Replace multiple manual export/import steps (from one database to another) with a single SQL query that joins all necessary data, reducing costs and improving efficiency.
* **Aggregate data across regions**: Track user traffic across various geographical regions by unioning data from different data sources.
* **Performance optimization with <dnt>materialized views</dnt>**: An executive dashboard combines data from 5+ databases and refreshes weekly. By storing the results from the multi-database `JOIN` query in a <dnt>materialized view</dnt>, you avoid running the computationally expensive query each time someone loads the dashboard. This reduces query costs and significantly improves page load speed.

## Where you can use Lens [#where-to-use]

You can use Lens in the following areas of the New Relic platform:

* **Query Builder**: Write and execute SQL queries directly in the query builder.
* <dnt>**Notebooks**</dnt>: Create SQL blocks in notebooks to combine queries with visualizations and markdown documentation.
* **Customer Dashboards**: Add SQL-based charts to your private dashboards.

<Callout variant="important">
SQL-based charts aren't supported in public dashboards.
</Callout>

## User roles and permissions [#permissions]

<dnt>Connector</dnt> and <dnt>materialized view</dnt> access are controlled by specific RBAC permissions. Users with the <dnt>**Organization Manager**</dnt> role have all <dnt>Lens</dnt> related RBAC permissions by default. For other users, the <dnt>**Authentication Domain Manager**</dnt> needs to create an [organization-scoped custom role](/docs/accounts/accounts-billing/new-relic-one-user-management/account-user-mgmt-tutorial/#roles) with the required <dnt>Lens</dnt> permissions from the <dnt>**Query Your Data**</dnt> section.

In addition to <DNT>Lens</DNT> RBAC permissions, you can configure fine-grained access control for individual <dnt>connectors</dnt>. For details, see [<dnt>Connector</dnt> access control](/docs/new-relic-lens/set-up-connectors#access-control).

<dnt>
{/* ### Connector permissions [#connector-permissions]

The following permissions control access to Lens connectors:

* **`nr_lens.read.catalogs`**: View connectors and their details
* **`nr_lens.create.catalogs`**: Create new connectors
* **`nr_lens.update.catalogs`**: Edit existing connectors
* **`nr_lens.delete.catalogs`**: Delete connectors
* **`nr_lens.query.connector`**: Query data from connectors

### Materialized view permissions [#mv-permissions]

The following permissions control access to materialized views:

* **`nr_lens.read.materialized_views`**: View materialized views
* **`nr_lens.create.materialized_views`**: Create materialized views
* **`nr_lens.update.materialized_views`**: Edit materialized views
* **`nr_lens.refresh.materialized_views`**: Refresh materialized views
* **`nr_lens.delete.materialized_views`**: Delete materialized views */}
</dnt>

## Related topics [#related-topics]

<DocTiles>
  <DocTile title="Set up Lens connectors" path="/docs/new-relic-lens/set-up-connectors">
    Set up and manage connections to your data sources.
  </DocTile>
  <DocTile title="Query data with Lens" path="/docs/new-relic-lens/query-data">
    Learn how to access <dnt>Lens</dnt> and write your first query.
  </DocTile>
  <DocTile title="Create Materialized views" path="/docs/new-relic-lens/materialized-views">
    Create and manage <dnt>materialized views</dnt> for better performance.
  </DocTile>
  </DocTiles>
