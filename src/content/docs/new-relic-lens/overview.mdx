---
title: New Relic Lens overview
tags:
  - New Relic Lens
  - Query data
  - SQL queries
  - Cross-database joins
  - Data analysis
  - Multiple data sources
metaDescription: "Learn about New Relic Lens, a unified query platform for querying multiple data sources using ANSI SQL and performing cross-database joins."
freshnessValidatedDate: never
---

<Callout title="preview">
  We're still working on this feature, but we'd love for you to try it out!

  This feature is currently provided as part of a preview program pursuant to our [pre-release policies](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy). To enable Lens, check with your billing or organization admins to opt in from the <DNT>**[Previews & Trials](https://one.newrelic.com/admin-portal/promotion-management/home)**</DNT> page.
</Callout>

As a New Relic user, you may need to analyze your telemetry data alongside data stored across multiple databases, data warehouses, and spreadsheets. Manually exporting data from each source and combining it with your observability data offline takes time and reduces productivity. Additionally, you often can't consolidate all data into a single database due to compliance, security, or operational requirements.

New Relic Lens addresses these challenges. Lens is a unified query platform within New Relic that lets you connect and query multiple data sources directly from New Relic. Write a query in Lens using ANSI SQL and perform cross-database joins to analyze and correlate data from various sources.

<img
  title="New Relic Lens Architecture"
  alt="A schematic diagram of New Relic Lens architecture."
  src="/images/nr-lens-arch.webp"
/>

## How it works [#how-it-works]

Using Lens involves the following steps:

<Steps>
  <Step>
    ### Enable Lens

    Lens is available as a public preview. Check with your billing or organization admins to opt in from the <DNT>**[Previews & Trials](https://one.newrelic.com/admin-portal/promotion-management/home)**</DNT> page.
  </Step>

  <Step>
    ### Check permissions

    You need the required [permissions](#permissions) to access Lens features. Admins can enable permissions or create custom roles.
  </Step>

  <Step>
    ### Set up connectors

    Lens includes built-in system connectors for NRDB data. With necessary permissions, you can set up [data connectors](/docs/new-relic-lens/set-up-connectors) to connect to external data sources:

    * **Cloud data warehouses**: Snowflake, Redshift, ClickHouse
    * **Relational databases**: PostgreSQL, MySQL, SQL Server
    * **Document databases**: MongoDB, Elasticsearch
    * **Spreadsheets**: Google Sheets
    * **Data lakes**: Iceberg
    * **Metrics and monitoring**: Prometheus, AWS CloudWatch
  </Step>

  <Step>
    ### Query data

    Write SQL queries in the [Query Builder, Notebooks, or custom dashboards](/docs/new-relic-lens/query-data) using the format `connection_name.schema.table` to reference tables and join data across sources.
  </Step>

  <Step>
    ### Create materialized views (optional)

    For complex queries that run frequently, you can save results as [materialized views](/docs/new-relic-lens/materialized-views) to reduce costs and improve performance.
  </Step>
</Steps>

## Use cases [#use-cases]

Lens enables various data analysis scenarios:

* **Budget analysis**: Compare New Relic utilization data from NRDB with budget data stored in Snowflake to track spending against allocated budgets.
* **Workflow optimization**: Replace multiple manual export/import steps (from one database to another) with a single SQL query that joins all necessary data, reducing costs and improving efficiency.
* **Aggregate data across regions**: Track user traffic across various geographical regions by unioning data from different data sources.
* **Performance optimization with materialized views**: An executive dashboard combines data from 5+ databases and refreshes weekly. By storing the results from the multi-database `JOIN` query in a materialized view, you avoid running the computationally expensive query each time someone loads the dashboard. This reduces query costs and significantly improves page load speed.

## Where you can use Lens [#where-to-use]

You can use Lens in the following areas of the New Relic platform:

* **Query Builder**: Write and execute SQL queries directly in the query builder.
* <dnt>**Notebooks**</dnt>: Create SQL blocks in notebooks to combine queries with visualizations and markdown documentation.
* **Customer Dashboards**: Add SQL-based charts to your private dashboards.

<Callout variant="important">
SQL-based charts aren't supported in public dashboards.
</Callout>

## User roles and permissions [#permissions]

Lens access is controlled by the following permissions. Contact your admin to enable these permissions for your role or to create a [custom role](/docs/accounts/accounts-billing/new-relic-one-user-management/account-user-mgmt-tutorial/#roles) with the permissions you need. To learn more about role, user access, and account management, refer to the [tutorial on managing accounts and user access](/docs/accounts/accounts-billing/new-relic-one-user-management/account-user-mgmt-tutorial/).

* **`nr_lens.read.catalogs`**: View connectors and their details
* **`nr_lens.create.catalogs`**: Create new connectors
* **`nr_lens.update.catalogs`**: Edit existing connectors
* **`nr_lens.delete.catalogs`**: Delete connectors
* **`nr_lens.query.connector`**: Query data from connectors
* **`nr_lens.read.materialized_views`**: View materialized views
* **`nr_lens.create.materialized_views`**: Create materialized views
* **`nr_lens.update.materialized_views`**: Edit materialized views
* **`nr_lens.refresh.materialized_views`**: Refresh materialized views
* **`nr_lens.delete.materialized_views`**: Delete materialized views

### Data access control [#data-access-control]

Access to data in Lens depends on the data source type:

* **Data connectors**: Users can view all connectors in their organization, but can only query connectors where they have permissions.
* **NRDB data**: Access follows the user's existing New Relic account permissions. Users can only query NRDB data from accounts where they have permissions.

## Related topics [#related-topics]

<DocTiles>
  <DocTile title="Set up Lens connectors" path="/docs/new-relic-lens/set-up-connectors">
    Set up and manage connections to your data sources.
  </DocTile>
  <DocTile title="Query data with Lens" path="/docs/new-relic-lens/query-data">
    Learn how to access Lens and write your first query.
  </DocTile>
  <DocTile title="Create Materialized views" path="/docs/new-relic-lens/materialized-views">
    Create and manage materialized views for better performance.
  </DocTile>
  </DocTiles>
