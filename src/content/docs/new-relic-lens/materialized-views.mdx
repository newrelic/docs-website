---
title: Materialized Views
tags:
  - New Relic Lens
  - Materialized views
  - Query optimization
  - Performance
metaDescription: "Learn how to create and manage materialized views in New Relic Lens to optimize query performance and reduce costs."
freshnessValidatedDate: never
---

<Callout title="preview">
  We're still working on this feature, but we'd love for you to try it out!

  This feature is currently provided as part of a preview program pursuant to our [pre-release policies](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

For larger, computationally expensive queries, you can store the results as materialized views in Lens. A materialized view stores the precomputed results of a query, allowing you to query the stored data instead of running the complex query each time.

## Benefits of materialized views [#benefits]

Materialized views help you:

* **Reduce query costs**: Avoid repeatedly fetching the same data from external data sources, which can incur costs based on data scanned or transferred.
* **Improve performance**: Query precomputed results instead of running complex joins across multiple databases each time.
* **Simplify dashboards**: Store results from multi-database queries and reference them simply in dashboard widgets.

## Create a materialized view [#create]

To create a materialized view:

1. Go to **[one.newrelic.com](https://one.newrelic.com) > Administration > Materialized views**.
2. Click **Create a materialized view**.
3. Enter a unique name for the materialized view.
4. Write your SQL query that will generate the result set to store.
5. Click **Create**.

The query runs and stores the results. Depending on the complexity of your query and the amount of data involved, this process may take some time.

## Refresh a materialized view [#refresh]

Materialized views contain a snapshot of data from when they were created or last refreshed. To get fresh data:

1. Go to **[one.newrelic.com](https://one.newrelic.com) > Administration > Materialized views**.
2. Find the materialized view you want to refresh.
3. Click the <Icon name="fe-more-horizontal"/> menu.
4. Select **Refresh**.

The view re-runs the original query and updates the stored results with the latest data.

<Callout variant="tip">
Consider your data freshness requirements when deciding how often to refresh materialized views. Frequently refreshing views with complex queries may increase costs.
</Callout>

## Query a materialized view [#query]

You can query a materialized view like any other table in Lens:

1. Go to **[one.newrelic.com](https://one.newrelic.com) > Query your data**.
2. Enable the toggle beside **Notebooks** and click **+ SQL** to add a SQL block.
3. Reference your materialized view using the `mv.` prefix followed by the view name:

   ```sql
   SELECT * FROM mv.your_materialized_view_name
   ```

4. Click **Run** to execute your query.

You can apply additional filters, joins, or aggregations on the materialized view:

```sql
SELECT store_id, transaction_count
FROM mv.top_stores_mv
WHERE transaction_count > 1000
ORDER BY transaction_count DESC
```

The materialized view acts as a table containing the precomputed results, allowing you to perform further analysis without running the original complex query again.

## Delete a materialized view [#delete]

To delete a materialized view you no longer need:

1. Go to **[one.newrelic.com](https://one.newrelic.com) > Administration > Materialized views**.
2. Find the materialized view you want to delete.
3. Click the <Icon name="fe-more-horizontal"/> menu.
4. Select **Delete**.
5. Confirm the deletion.

<Callout variant="caution">
Deleting a materialized view is permanent. Any queries or dashboards referencing the deleted view will fail.
</Callout>

## Example use case [#example]

Consider an executive dashboard that combines data from multiple databases:

1. Create a materialized view with a complex multi-database join:

   ```sql
   SELECT
     s.store_id,
     s.store_name,
     COUNT(t.transaction_id) as transaction_count,
     SUM(t.amount) as total_revenue
   FROM snowflake.sales.stores s
   JOIN telemetry.Transaction t ON s.store_id = t.store_id
   GROUP BY s.store_id, s.store_name
   ```

2. Save this as a materialized view named `store_performance_mv`.

3. In your dashboard, query the materialized view:

   ```sql
   SELECT * FROM mv.store_performance_mv
   ORDER BY total_revenue DESC
   LIMIT 10
   ```

4. Refresh the materialized view weekly to update the data.

This approach avoids running the expensive cross-database query each time someone loads the dashboard.

## Related topics [#related-topics]

<DocTiles>
  <DocTile title="Lens overview" path="/docs/new-relic-lens/overview">
    Learn about Lens features and capabilities.
  </DocTile>
  <DocTile title="Query data" path="/docs/new-relic-lens/query-data">
    Learn SQL syntax and cross-database join examples.
  </DocTile>
  <DocTile title="Get started" path="/docs/new-relic-lens/get-started">
    Write your first Lens query.
  </DocTile>
</DocTiles>
