---
title: Materialized views
tags:
  - New Relic Lens
  - Materialized views
  - Query optimization
  - Performance
metaDescription: "Learn how to create and manage materialized views in New Relic Lens to optimize query performance and reduce costs."
freshnessValidatedDate: never
---

<Callout title="preview">
  We're still working on this feature, but we'd love for you to try it out!

  This feature is currently provided as part of a preview program pursuant to our [pre-release policies](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy). To enable Lens, check with your <dnt>Organization Manager</dnt> to opt in from the <DNT>**[Previews & Trials](https://one.newrelic.com/admin-portal/promotion-management/home)**</DNT> page.
</Callout>

For larger, computationally expensive queries, you can store the results as <dnt>materialized views</dnt> in <DNT>**Lens**</DNT>. A <dnt>materialized view</dnt> stores the precomputed results of a query, allowing you to query the stored data instead of running the complex query each time.

## Benefits of <dnt>materialized views</dnt> [#benefits]

<dnt>Materialized views</dnt> help you:

* **Reduce query costs**: Avoid repeatedly fetching the same data from external data sources, which can incur costs based on data scanned or transferred.
* **Improve performance**: Query precomputed results instead of running complex joins across multiple databases each time.
* **Simplify dashboards**: Store results from multi-database queries and reference them simply in dashboard widgets.

## Prerequisites [#prerequisites]

Before you start:

* Verify you have the necessary [permissions](/docs/new-relic-lens/overview#permissions) to create and manage <dnt>materialized views</dnt>.
* If you need to query external data sources, ensure the [<dnt>connectors</dnt>](/docs/new-relic-lens/set-up-connectors) are set up.

## Create a <dnt>materialized view</dnt> [#create]

To create a <dnt>materialized view</dnt>:

1. Go to <dnt>**[one.newrelic.com](https://one.newrelic.com) > Administration > Materialized views**</dnt>.
2. Click <dnt>**Create materialized view**</dnt>.
3. Enter a unique name for the <dnt>materialized view</dnt>.
4. To query NRDB data, select an account from the account selector. You can join NRDB data from this account with external data sources.
5. Write your SQL query using the [table reference format](/docs/new-relic-lens/query-data#table-format): `connection_name.schema.table`
6. Click <dnt>**Create**</dnt>.

The <dnt>materialized view</dnt> appears in the list. Storing results may take some time depending on the complexity of your query.

## Refresh a <dnt>materialized view</dnt> [#refresh]

<dnt>Materialized views</dnt> contain a snapshot of data from when they were created or last refreshed. To get fresh data:

1. Go to <dnt>**[one.newrelic.com](https://one.newrelic.com) > Administration > Materialized views**</dnt>.
2. Find the <dnt>materialized view</dnt> you want to refresh.
3. Click the <Icon name="fe-more-horizontal"/> menu.
4. Select <dnt>**Refresh**</dnt>.

The view re-runs the original query and updates the stored results with the latest data.

<Callout variant="important">
Consider your data freshness requirements when deciding how often to refresh <dnt>materialized views</dnt>. Frequently refreshing views with complex queries may increase costs.
</Callout>

## Query a <dnt>materialized view</dnt> [#query]

You can query a <dnt>materialized view</dnt> like any other table in <DNT>**Lens**</DNT>:

1. Go to <dnt>**[one.newrelic.com](https://one.newrelic.com) > Query your data**</dnt>.
2. Enable the toggle beside <dnt>**Notebooks**</dnt> and click <dnt>**+ SQL**</dnt> to add a SQL block.
3. Reference your <dnt>materialized view</dnt> using the `mv.` prefix followed by the view name:

   ```sql
   SELECT * FROM mv.your_materialized_view_name
   ```

4. Execute your query.

You can apply additional filters, joins, or aggregations on the <dnt>materialized view</dnt>:

```sql
SELECT store_id, transaction_count
FROM mv.top_stores_mv
WHERE transaction_count > 1000
ORDER BY transaction_count DESC
```

The <dnt>materialized view</dnt> acts as a table containing the precomputed results, allowing you to perform further analysis without running the original complex query again.

## Delete a <dnt>materialized view</dnt> [#delete]

To delete a <dnt>materialized view</dnt> you no longer need:

1. Go to <dnt>**[one.newrelic.com](https://one.newrelic.com) > Administration > Materialized views**</dnt>.
2. Find the <dnt>materialized view</dnt> you want to delete.
3. Click the <Icon name="fe-more-horizontal"/> menu.
4. Select <dnt>**Delete**</dnt>.
5. Confirm the deletion.

<Callout variant="caution">
Deleting a <dnt>materialized view</dnt> is permanent. Any queries or dashboards referencing the deleted view will fail.
</Callout>

For query examples including cross-database joins, refer to [Query materialized views](/docs/new-relic-lens/query-data/#query-mv).

## Related topics [#related-topics]

<DocTiles>
  <DocTile title="Lens overview" path="/docs/new-relic-lens/overview">
    Learn about <DNT>**Lens**</DNT> features and capabilities.
  </DocTile>
    <DocTile title="Query data with Lens" path="/docs/new-relic-lens/query-data">
    Write your first <DNT>**Lens**</DNT> query.
  </DocTile>
</DocTiles>
