---
title: "NerdGraph tutorial: Manage your synthetic monitors"
tags:
  - APIs
  - NerdGraph
  - Synthetic
metaDescription: Use NerdGraph to programmatically manage your synthetic monitors, private locations, and secure credentials.
freshnessValidatedDate: never
---

Synthetic monitors help you proactively check your applications, services, and endpoints to ensure they're working properly. You can automate the management of your [synthetic monitors](/docs/synthetics/synthetic-monitoring/using-monitors/add-edit-monitors/), [private locations](/docs/synthetics/synthetic-monitoring/private-locations/private-locations-overview-monitor-internal-sites-add-new-locations/), [secure credentials](/docs/synthetics/synthetic-monitoring/using-monitors/store-secure-credentials-scripted-browsers-api-tests/), and [monitor downtimes](/docs/synthetics/synthetic-monitoring/using-monitors/monitor-downtimes-disable-monitoring-during-scheduled-maintenance-times/) using [NerdGraph](/docs/apis/nerdgraph/get-started/introduction-new-relic-nerdgraph/).

With the appropriate permissions and access, you can programmatically manage your entire synthetic monitoring setup through queries and mutations in NerdGraph. Alternatively, you can perform these operations via the [New Relic UI](/docs/synthetics/synthetic-monitoring/using-monitors/add-edit-monitors/).

<Callout variant="important">
  As of August 26, 2024, you can no longer create new monitors using legacy runtimes on public or private locations. On October 22, 2024, we will [end of life](/whats-new/2024/04/whats-new-04-09-eol-synthetics-runtime-cpm) the containerized private minion (CPM) and legacy synthetics runtime versions.

  * For public locations, use [the runtime upgrade UI](/docs/synthetics/synthetic-monitoring/using-monitors/runtime-upgrade-ui/) to update your monitors to the newest runtimes.
  * For private locations, please review our [recommended migration steps](/docs/synthetics/synthetic-monitoring/private-locations/job-manager-transition-guide/#monitorMigration) to avoid monitor degradation.
</Callout>

To get started with NerdGraph synthetic monitoring operations, go to [GraphQL Explorer](https://one.newrelic.com/nerdgraph-graphiql) and follow these instructions.

## Requirements [#requirements]

Requirements include:

* A [New Relic account](https://newrelic.com/signup). You'll need your API user key from this account to authenticate [mutations and queries](/docs/apis/nerdgraph/get-started/introduction-new-relic-nerdgraph/).
* [General NerdGraph requirements](/docs/apis/nerdgraph/get-started/introduction-new-relic-nerdgraph/#authentication).
* Relevant user permissions: You need the same [synthetic monitoring permissions](/docs/synthetics/synthetic-monitoring/administration/user-roles-synthetic-monitoring) for NerdGraph as you do for the synthetics UI.


## Common parameters reference [#common-parameters]

Most monitor types share these common parameters. This reference section provides detailed information about parameters used across different monitor operations including creation, updates, and configuration management.

### Input parameters

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Data Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>`accountId`</td>
      <td>String</td>
      <td>The account in which the Synthetics monitor gets created.</td>
    </tr>
    <tr>
      <td>`monitor.locations`</td>
      <td>String</td>
      <td>Specifies the location where the monitor runs. The location accepts two values:
        * `Public`: Specifies the public location(s) where the monitor runs.
        * `Private`: Specifies the private location(s) where the monitor runs.
      </td>
    </tr>
    <tr>
      <td>`monitor.name`</td>
      <td>String</td>
      <td>The name of the monitor.</td>
    </tr>
    <tr>
      <td>`monitor.period`</td>
      <td>String</td>
      <td>The interval at which the monitor runs in minutes.</td>
    </tr>
    <tr>
      <td>`monitor.status`</td>
      <td>String</td>
      <td>Specifies the status of the monitor. The status accepts two values:
        * `Enabled`: The monitor is active and will perform checks at the specified intervals.
        * `Disabled`: The monitor is inactive and will not perform any checks until re-enabled.
      </td>
    </tr>
    <tr>
      <td>`monitor.uri`</td>
      <td>String</td>
      <td>The URI the monitor runs against. This is the web address that the monitor will check for availability and performance.</td>
    </tr>
    <tr>
      <td>`monitor.advancedOptions`</td>
      <td>String</td>
      <td>Specifies the additional configuration options to customize the monitor's behavior:
        * `customHeaders`: Headers to include in the request, allowing you to specify custom HTTP headers for the monitor's checks.
        * `redirectIsFailure`: Determines if redirects should be treated as failures, allowing you to categorize redirect responses as unsuccessful checks.
        * `responseValidationText`: Text to validate in the response, ensuring the monitor checks for specific content in the server's reply.
        * `shouldBypassHeadRequest`: Indicates whether to bypass the HEAD request, allowing the monitor to skip initial HEAD requests and proceed directly to GET requests.
        * `useTlsValidation`: Specifies whether to use TLS validation, ensuring the monitor verifies the security of the connection using TLS protocols.
        * `enableScreenshotOnFailureAndScript`: Captures a screenshot during job execution when a failure occurs or a script is executed.
      </td>
    </tr>
    <tr>
      <td>`monitor.apdexTarget`</td>
      <td>Float</td>
      <td>The monitor's Apdex target is used to populate SLA reports. Defaults to 7 seconds (7000ms).</td>
    </tr>
    <tr>
      <td>`monitor.browsers`</td>
      <td>String</td>
      <td>Specifies the browser(s) that the monitor will use to execute jobs. The supported browsers are `Chrome`, `Edge`, and `Firefox`. Don't include this attribute when using the Chrome 72 legacy runtime.</td>
    </tr>
    <tr>
      <td>`monitor.devices`</td>
      <td>String</td>
      <td>Specifies the devices that the monitor will use to execute jobs. The supported devices are `Desktop`, `Mobile (Landscape)`, `Mobile (Portrait)`, `Tablet (Landscape)`, and `Tablet (Portrait)`.</td>
    </tr>
    <tr>
      <td>`monitor.runtime`</td>
      <td>String</td>
      <td>The runtime environment the monitor uses to run jobs.
        * `runtimeType`: The runtime type used by your monitor. `CHROME_BROWSER` is the only accepted value.
          * For scripted API monitor, certificate check monitor, and brokenlink monitor, `NODE_API` is the only accepted value.
        * `runtimeTypeVersion`: The runtime type version used by your monitor. `100` is the only accepted value.
          * For scripted API monitor, certificate check monitor, and brokenlink monitor,`16.10` is the only accepted value.
        * `scriptLanguage`: The language used in your monitor. `JAVASCRIPT` is the only accepted value.
      </td>
    </tr>
    <tr>
      <td>`monitor.script`</td>
      <td>String</td>
      <td>This is the script code that the monitor runs. Make sure it is not encoded in base64. it should be in plain text.</td>
    </tr>
    <tr>
      <td>`monitor.steps`</td>
      <td>String</td>
      <td>The monitor will execute a series of steps defined within the script.
        * `ordinal`: The position of the step within the script ranging from 1-100.
        * `type`: The types of steps to be added to the script include `navigate`, `click element`, `double click element`, etc.
        * `values`: The metadata values related to the step.
        </td>
    </tr>
    <tr>
      <td>`monitor.numberDaysToFailBeforeCertExpires`</td>
      <td>Int</td>
      <td>Specify the number of days remaining until the certificate expires to trigger a monitor failure.
      </td>
    </tr>
    <tr>
      <td>`monitor.tags`</td>
      <td>String</td>
      <td>Tags can be assigned during the monitor creation process or subsequently through tagging operations in NerdGraph or the user interface. To add multiple tags in a single mutation call, use an array containing key-value pairs.
      </td>
    </tr>
  </tbody>
</table>

{/* ## Understand fields in NerdGraph explorer [#fields]

You can view field definitions in [NerdGraph explorer](/docs/apis/nerdgraph/get-started/introduction-new-relic-nerdgraph/#explorer), but it may help to better understand the `LOCATION`, `PERIOD`, `TAGS`, and other fields.

<CollapserGroup>

<Collapser
  id="browsers-attribute"
  title="Define browsers fields"
>
Configure simple browser, scripted browser, and step monitors to use one or more browser types. Don't include this attribute when using the Chrome 72 legacy runtime. Examples:

* `[CHROME]` to use Chrome only
* `[FIREFOX]` to use Firefox only
* `[CHROME, FIREFOX]` to use Chrome and Firefox

</Collapser>
  
<Collapser
  id="devices-attribute"
  title="Define devices fields"
>
Configure simple browser, scripted browser, and step monitors to use one or more emulated device types. Don't include this attribute when using the Chrome 72 legacy runtime. Examples:
* `[DESKTOP]`
* `[MOBILE_LANDSCAPE]`
* `[MOBILE_PORTRAIT]`
* `[TABLET_LANDSCAPE]`
* `[TABLET_PORTRAIT]`

    Multiple emulated device configurations can be used by a single monitor:

* `[DESKTOP, MOBILE_PORTRAIT, TABLET_LANDSCAPE]`

</Collapser>
  
  <Collapser
    id="location-field"
    title="Define location fields"
  >
    To identify a [private location](/docs/synthetics/synthetic-monitoring/private-locations/private-locations-overview-monitor-internal-sites-add-new-locations) in your scripts, use the private location's entity GUID. If the private location is configured to use [verified script execution](/docs/synthetics/synthetic-monitoring/private-locations/verified-script-execution-private-locations/), also include the `vsePassword` attribute. For example:

    ```graphql
    locations: {
      private: {
        guid: LOCATION_ENTITY_GUID, 
        vsePassword: YOUR_VSE_PASSWORD
      }
    }
    ```

    [Public locations](/docs/synthetics/synthetic-monitoring/administration/synthetic-public-minion-ips/#location) use the location identifier without the AWS\_ prefix, for example:

    ```graphql
    locations: {
      public: ["US_EAST_2", "US_WEST_1"]
    }
    ```
  </Collapser>

  <Collapser
    id="period-attribute"
    title="Define period fields"
  >
    The `PERIOD` attribute defines a time interval for your monitors to execute. To define the interval, use these forms:

    * `EVERY_MINUTE` for every minute.
    * `EVERY_N_MINUTES`, where 'N' is minutes. Supported values include `EVERY_5_MINUTES`, `EVERY_10_MINUTES`, `EVERY_15_MINUTES`, and `EVERY_30_MINUTES`.
    * `EVERY_HOUR` for every hour.
    * `EVERY_N_HOURS`, where 'N' is hours. Supported values include `EVERY_6_HOURS` and `EVERY_12_HOURS`.
    * `EVERY_DAY` for once a day.
  </Collapser>

  <Collapser
    id="tags-attribute"
    title="Define tags fields"
  >
    Tags are optional. You can add tags during monitor creation, or later using tagging calls in NerdGraph or the UI. Multiple tags can be added in a single mutation call using an array that contains keys and values.
  </Collapser>

  <Collapser
    id="optional-fields"
    title="Define optional fields"
  >
    Some fields are for more advanced configurations. These are optional.

    For [ping monitors](#create-ping), these include:

      * `HEADER_NAME`: Your custom header names that appear on the request.

      * `HEADER_VALUE`: The custom header value on the request.

      * `REDIRECT_IS_FAILURE`: Your monitor reports a failure if it's redirected.

      * `VALIDATION_TEXT`: If this text is not included in your monitor's response, it returns a failure.

      * `TLS_VALIDATION`: Verifies the [validity](/docs/synthetics/synthetic-monitoring/using-monitors/add-edit-monitors/#simple) of the SSL certificate chain.

      * `BYPASS_HEAD_REQUEST`: Bypasses the initial HEAD request and instead makes a GET request.


    For [simple browser monitors](#create-simple-browser):

      * `RUNTIME_TYPE`: The runtime type used by your monitor. "CHROME_BROWSER" is the only accepted value.

      * `RUNTIME_TYPE_VERSION`: The runtime type version used by your monitor. "100" is the only accepted value.

      * `SCRIPT_LANGUAGE`: The language used in your monitor. "JAVASCRIPT" is the only accepted value.


    For [scripted API monitors](#create-scripted-API):

      * `SCRIPT_CONTENT`: The actual contents of the script. This should **not** be based64 encoded.

      * `RUNTIME_TYPE`: The runtime type used by your monitor. "NODE_API" is the only accepted value.

      * `RUNTIME_TYPE_VERSION`: The runtime type version used by your monitor. The only accepted value is `16.10`.

      * `SCRIPT_LANGUAGE`: The language used in your monitor. "JAVASCRIPT" is the only accepted value.


    For [scripted browser monitors](#create-scripted-browser):

      * `SCRIPT_CONTENT`: The actual contents of the script. This should **not** be based64 encoded.

      * `RUNTIME_TYPE`: The runtime type used by your monitor. "CHROME_BROWSER" is the only accepted value.

      * `RUNTIME_TYPE_VERSION`: The runtime type version used by your monitor. "100" is the only accepted value.

      * `SCRIPT_LANGUAGE`: The language used in your monitor. "JAVASCRIPT" is the only accepted value.


    For [step monitors](#create-step):

      * `RUNTIME_TYPE`: The runtime type used by your monitor. "CHROME_BROWSER" is the only accepted value.

      * `RUNTIME_TYPE_VERSION`: The runtime type version used by your monitor. "100" is the only accepted value.

      * `SCRIPT_LANGUAGE`: The language used in your monitor. "JAVASCRIPT" is the only accepted value.


    For [certificate check monitors](#create-certificate-check):

      * `DAYS_UNTIL_EXPIRATION`: Notifies you when you need to update your certificate. For example, if you wanted a notification 30 days before the certificate expires, you would input 30.

      * `RUNTIME_TYPE`: The runtime type used by your monitor. "NODE_API" is the only accepted value.

      * `RUNTIME_TYPE_VERSION`: The runtime type version used by your monitor. The only accepted value is `16.10`.

      * `SCRIPT_LANGUAGE`: The language used in your monitor. "JAVASCRIPT" is the only accepted value.


    For [broken link monitors](#create-broken-links):

      * `RUNTIME_TYPE`: The runtime type used by your monitor. "NODE_API" is the only accepted value.

      * `RUNTIME_TYPE_VERSION`: The runtime type version used by your monitor. The only accepted value is `16.10`.

      * `SCRIPT_LANGUAGE`: The language used in your monitor. "JAVASCRIPT" is the only accepted value.
      

    For all monitors:

      * `APDEX_TARGET`: The monitor's Apdex target used to populate SLA reports. Defaults to 7 seconds (7000ms).
  </Collapser>
</CollapserGroup> */}

## Create synthetic monitors [#create-monitors]

You can create various types of synthetic monitors using NerdGraph mutations. Each monitor type has specific parameters and configurations. Before diving into specific monitor types, review the [Common parameters reference](#common-parameters) section for shared parameter details.

The following sections show how to create each type of monitor:

<Callout variant="tip">
  Include the runtime object with `runtimeType`, `runtimeTypeVersion`, and `scriptLanguage` to use newer runtimes. This is required for all new monitors.
</Callout>

<CollapserGroup>

{/* </CollapserGroup>

<CollapserGroup> */}
  <Collapser
    id="create-ping"
    title="Create a ping monitor"
  >
    This API allows you to create a simple monitor in the synthetics monitoring system using the `syntheticsCreateSimpleMonitor` mutation with specified configurations. As a response, it returns any errors encountered during the creation process, ensuring you can address issues promptly.

    #### Input parameters
    For detailed parameter descriptions, see the [Common parameters reference](#common-parameters) section.

    #### Sample request
    ```graphql
      mutation {
        syntheticsCreateSimpleMonitor(
          accountId: ACCOUNT_ID
          monitor: {
            locations: { public: ["US_EAST_1", "US_WEST_1"] }
            name: "Example Ping Monitor"
            period: EVERY_5_MINUTES
            status: ENABLED
            uri: "https://example.com"
            advancedOptions: {
              responseValidationText: "Welcome"
              useTlsValidation: true
            }
            apdexTarget: 7.0
          }
        ) {
          errors {
            description
            type
          }
        }
      }
    ```
    #### Sample response
    ```graphql
    {
      "data": {
        "syntheticsCreateSimpleMonitor": {
          "errors": null
        }
      }
    }
    ```
  </Collapser>

  <Collapser
    id="create-simple-browser"
    title="Create a simple browser monitor"
  >
    This API allows you to create a simple browser monitor in the synthetics monitoring system using the `syntheticsCreateSimpleBrowserMonitor` mutation with specified configurations. As a response, it returns any errors encountered during the creation process, ensuring you can address issues promptly.

    #### Input parameters
    For detailed parameter descriptions, see the [Common parameters reference](#common-parameters) section.

    #### Sample query
      ```graphql
      mutation {
        syntheticsCreateSimpleBrowserMonitor(
          accountId: ACCOUNT_ID
          monitor: {
            browsers: [BROWSERS]
            devices: [DEVICES]
            locations: { public: ["LOCATION_1", "LOCATION_2"] }
            name: "YOUR_MONITOR_NAME"
            period: PERIOD
            runtime: {
              runtimeType: "RUNTIME_TYPE"
              runtimeTypeVersion: "RUNTIME_TYPE_VERSION"
              scriptLanguage: "SCRIPT_LANGUAGE"
            }
            status: STATUS
            uri: "MONITORED_URI"
            advancedOptions: {
              customHeaders: { name: "HEADER_NAME", value: "HEADER_VALUE" }
              enableScreenshotOnFailureAndScript: ENABLE_SCREENSHOT
              responseValidationText: "VALIDATION_TEXT"
              useTlsValidation: TLS_VALIDATION
            }
            apdexTarget: APDEX_TARGET
          }
        ) {
          errors {
            description
            type
          }
        }
      }
      ```
  </Collapser>

  <Collapser
    id="create-scripted-browser"
    title="Create a scripted browser"
  >
    This API allows you to create a [scripted browser monitor](/docs/synthetics/synthetic-monitoring/scripting-monitors/introduction-scripted-browser-monitors) in the synthetics monitoring system using the `syntheticsCreateScriptBrowserMonitor` mutation with specified configurations. As a response, it returns any errors encountered during the creation process, ensuring you can address issues promptly.

    #### Input parameters
    For detailed parameter descriptions, see the [Common parameters reference](#common-parameters) section.

    #### Sample query
    ```graphql
    mutation {
      syntheticsCreateScriptBrowserMonitor(
        accountId: ACCOUNT_ID
        monitor: {
          browsers: [BROWSERS]
          devices: [DEVICES]
          locations: { public: ["LOCATION_1", "LOCATION_2"] }
          name: "MONITOR_NAME"
          period: PERIOD
          runtime: {
            runtimeType: "RUNTIME_TYPE"
            runtimeTypeVersion: "RUNTIME_TYPE_VERSION"
            scriptLanguage: "SCRIPT_LANGUAGE"
          }
          script: "SCRIPT_CONTENT"
          status: STATUS
          advancedOptions: { enableScreenshotOnFailureAndScript: ENABLE_SCREENSHOT }
          apdexTarget: APDEX_TARGET
        }
      ) {
        errors {
          description
          type
        }
      }
    }
    ```
  </Collapser>

  <Collapser
    id="create-scripted-API"
    title="Create a scripted API monitor"
  >
    This API allows you to create a [Scripted API monitor](/docs/synthetics/synthetic-monitoring/scripting-monitors/write-synthetic-api-tests) in the synthetics monitoring system using the `syntheticsCreateScriptApiMonitor` mutation with specified configurations. As a response, it returns any errors encountered during the creation process, ensuring you can address issues promptly.

    #### Input parameters
    For detailed parameter descriptions, see the [Common parameters reference](#common-parameters) section.

    #### Sample query
    ```graphql
    mutation {
      syntheticsCreateScriptApiMonitor(
        accountId: ACCOUNT_ID
        monitor: {
          locations: { public: ["LOCATION_1", "LOCATION_2"] }
          name: "YOUR_MONITOR_NAME"
          period: PERIOD
          runtime: {
            runtimeType: "RUNTIME_TYPE"
            runtimeTypeVersion: "RUNTIME_TYPE_VERSION"
            scriptLanguage: "SCRIPT_LANGUAGE"
          }
          script: "SCRIPT_CONTENT"
          status: STATUS
          apdexTarget: APDEX_TARGET
        }
      ) {
        errors {
          description
          type
        }
      }
    }
    ```
  </Collapser>

  <Collapser
    id="create-step"
    title="Create a step monitor"
  >
    This API allows you to create a step monitor in the synthetics monitoring system using the `syntheticsCreateStepMonitor` mutation with specified configurations. Step monitors provide codeless, multi-step browser-based monitoring. As a response, the API returns any errors encountered during the creation process, ensuring you can address issues promptly.

    #### Input parameters
    For detailed parameter descriptions, see the [Common parameters reference](#common-parameters) section.

    #### Sample query
    ```graphql
    mutation {
      syntheticsCreateStepMonitor(
        accountId: ACCOUNT_ID
        monitor: {
          browsers: [BROWSERS]
          devices: [DEVICES]
          locations: { public: ["LOCATION_1", "LOCATION_2"] }
          name: "MONITOR_NAME"
          period: PERIOD
          runtime: {
            runtimeType: "RUNTIME_TYPE"
            runtimeTypeVersion: "RUNTIME_TYPE_VERSION"
            scriptLanguage: "SCRIPT_LANGUAGE"
          }
          status: STATUS
          steps: [
            { 
              ordinal: 0, 
              type: NAVIGATE, 
              values: ["MONITORED_URI", "USER_AGENT"] }
            {
              ordinal: STEP_NUMBER
              type: STEP_TYPE
              values: ["CONDITIONAL_TYPE", "VALUE"]
            }
          ]
          advancedOptions: { enableScreenshotOnFailureAndScript: ENABLE_SCREENSHOT }
          apdexTarget: APDEX_TARGET
        }
      ) {
        errors {
          description
          type
        }
      }
    }
    ```
  </Collapser>

  <Collapser
    id="create-certificate-check"
    title="Create a certificate check monitor"
  >
    This API allows you to create a certificate check monitor in the synthetics monitoring system using the `syntheticsCreateCertCheckMonitor` mutation with specified configurations. Set up monitors to notify you when your SSL certificates are about to expire. As a response, the API returns any errors encountered during the creation process, ensuring you can address issues promptly.

    #### Input parameters
    For detailed parameter descriptions, see the [Common parameters reference](#common-parameters) section.

    #### Sample query

    ```graphql
    mutation {
      syntheticsCreateCertCheckMonitor(
        accountId: ACCOUNT_ID
        monitor: {
          domain: "DOMAIN"
          locations: { public: ["LOCATION_1", "LOCATION_2"] }
          name: "YOUR_MONITOR_NAME"
          numberDaysToFailBeforeCertExpires: DAYS_UNTIL_EXPIRATION
          period: PERIOD
          status: STATUS
          apdexTarget: APDEX_TARGET
        }
      ) {
        errors {
          description
          type
        }
      }
    }
    ```
  </Collapser>

  <Collapser
    id="create-broken-links"
    title="Create a broken links monitor"
  >
    This API allows you to create a broken links monitor on a webpage using the `syntheticsCreateBrokenLinksMonitor` mutation with specified configurations. As a response, the API returns any errors encountered during the creation process, ensuring you can address issues promptly.

    #### Input parameters
    For detailed parameter descriptions, see the [Common parameters reference](#common-parameters) section.

    #### Sample query
    ```graphql
    mutation {
      syntheticsCreateBrokenLinksMonitor(
        accountId: ACCOUNT_ID
        monitor: {
          locations: { public: ["LOCATION_1", "LOCATION_2"] }
          name: "YOUR_MONITOR_NAME"
          period: PERIOD
          status: STATUS
          apdexTarget: APDEX_TARGET
          uri: "MONITOR_URI"
          tags: { key: "YOUR_TAG_NAME", values: "TAG_VALUE" }
        }
      ) {
        errors {
          description
          type
        }
      }
    }
    ```
  </Collapser>
</CollapserGroup>

## Update your synthetic monitors [#update-monitors]

After creating monitors, you may need to modify their configurations. While you can't change the monitor type after creating it, you can update its settings. Only the [guid](#query) and the settings that need to be updated are required as part of the request.

Update operations use the same parameters as creation operations. Refer to the [Common parameters reference](#common-parameters) section for parameter details.

<Callout variant="tip">
  Include the runtime object that includes runtimeType, runtimeTypeVersion, and scriptLanguage to [upgrade a monitor](#upgrade-monitor-runtime) to use a newer runtime. Include this object and set these attributes to empty string to downgrade to a legacy runtime. Don't include this object and these attributes to continue using a legacy runtime.
</Callout>

<CollapserGroup>
  <Collapser
    id="update-ping"
    title="Update a ping monitor"
  >
    Use the `syntheticsUpdateSimpleMonitor` mutation to update an existing simple monitor by using the guid parameter along with the monitor details. You can fetch guid information using [Query monitors](#query-examples) query.

    #### Sample query

    ```graphql
    mutation {
      syntheticsUpdateSimpleMonitor(
        guid: "ENTITY_GUID"
        monitor: {
          locations: { public: ["LOCATION_1", "LOCATION_2"] }
          name: "YOUR_MONITOR_NAME"
          period: PERIOD
          status: STATUS
          uri: "MONITORED_URI"
          advancedOptions: {
            customHeaders: { name: "HEADER_NAME", value: "HEADER_VALUE" }
            redirectIsFailure: REDIRECT_IS_FAILURE
            responseValidationText: "VALIDATION_TEXT"
            shouldBypassHeadRequest: BYPASS_HEAD_REQUEST
            useTlsValidation: TLS_VALIDATION
          }
          apdexTarget: APDEX_TARGET
        }
      ) {
        errors {
          description
          type
        }
      }
    }
    ```
  </Collapser>

  <Collapser
    id="update-simple-browser"
    title="Update a simple browser monitor"
  >
    Use the `syntheticsUpdateSimpleBrowserMonitor` mutation to update an existing simple browser monitor by using the guid parameter along with the monitor details. You can fetch guid information using [Query monitors](#query-examples) query.

    #### Sample query

    ```graphql
    mutation {
      syntheticsUpdateSimpleBrowserMonitor(
        guid: ENTITY_GUID
        monitor: {
          browsers: [BROWSERS]
          devices: [DEVICES]
          locations: { public: ["LOCATION_1", "LOCATION_2"] }
          name: "YOUR_MONITOR_NAME"
          period: PERIOD
          runtime: {
            runtimeType: "RUNTIME_TYPE"
            runtimeTypeVersion: "RUNTIME_TYPE_VERSION"
            scriptLanguage: "SCRIPT_LANGUAGE"
          }
          status: STATUS
          uri: "MONITORED_URI"
          advancedOptions: {
            customHeaders: { name: "HEADER_NAME", value: "HEADER_VALUE" }
            enableScreenshotOnFailureAndScript: ENABLE_SCREENSHOT
            responseValidationText: "VALIDATION_TEXT"
            useTlsValidation: TLS_VALIDATION
          }
          apdexTarget: APDEX_TARGET
        }
      ) {
        errors {
          description
          type
        }
      }
    }
    ```
  </Collapser>

  <Collapser
    id="update-scripted-browser"
    title="Update a scripted browser monitor"
  >
    Use the `syntheticsUpdateScriptBrowserMonitor` mutation to update an existing script browser monitor by using the guid parameter along with the monitor details. You can fetch guid information using [Query monitors](#query-examples) query.

    #### Sample query

    ```graphql
    mutation {
      syntheticsUpdateScriptBrowserMonitor(
        guid: ENTITY_GUID
        monitor: {
          browsers: [BROWSERS]
          devices: [DEVICES]
          locations: { public: ["LOCATION_1", "LOCATION_2"] }
          name: "MONITOR_NAME"
          period: PERIOD
          runtime: {
            runtimeType: "RUNTIME_TYPE"
            runtimeTypeVersion: "RUNTIME_TYPE_VERSION"
            scriptLanguage: "SCRIPT_LANGUAGE"
          }
          script: "SCRIPT_CONTENT"
          status: STATUS
          advancedOptions: { enableScreenshotOnFailureAndScript: ENABLE_SCREENSHOT }
          apdexTarget: APDEX_TARGET
        }
      ) {
        errors {
          description
          type
        }
      }
    }
    ```
  </Collapser>

  <Collapser
    id="update-API-test"
    title="Update an API test monitor"
  >
    Use the `syntheticsUpdateScriptApiMonitor` mutation to update an existing script API monitor by using the guid parameter along with the monitor details. You can fetch guid information using [Query monitors](#query-examples) query.

    #### Sample query

    ```graphql
    mutation {
      syntheticsUpdateScriptApiMonitor(
        guid: ENTITY_GUID
        monitor: {
          locations: { public: ["LOCATION_1", "LOCATION_2"] }
          name: "YOUR_MONITOR_NAME"
          period: PERIOD
          runtime: {
            runtimeType: "RUNTIME_TYPE"
            runtimeTypeVersion: "RUNTIME_TYPE_VERSION"
            scriptLanguage: "SCRIPT_LANGUAGE"
          }
          script: "SCRIPT_CONTENT"
          status: STATUS
          apdexTarget: APDEX_TARGET
        }
      ) {
        errors {
          description
          type
        }
      }
    }
    ```
  </Collapser>

  <Collapser
    id="update-step"
    title="Update a step monitor"
  >
    Use the `syntheticsUpdateStepMonitor` mutation to update an existing step monitor by using the guid parameter along with the monitor details. You can fetch guid information using [Query monitors](#query-examples) query.

    #### Sample query

    ```graphql
    mutation {
      syntheticsUpdateStepMonitor(
        guid: ENTITY_GUID
        monitor: {
          browsers: [BROWSERS]
          devices: [DEVICES]
          locations: { public: ["LOCATION_1", "LOCATION_2"] }
          name: "MONITOR_NAME"
          period: PERIOD
          runtime: {
            runtimeType: "RUNTIME_TYPE"
            runtimeTypeVersion: "RUNTIME_TYPE_VERSION"
            scriptLanguage: "SCRIPT_LANGUAGE"
          }
          status: STATUS
          steps: [
            { 
              ordinal: 0,
              type: NAVIGATE,
              values: ["MONITORED_URI", "USER_AGENT"] 
            }
            {
              ordinal: STEP_NUMBER,
              type: STEP_TYPE,
              values: ["VALUE_1", "VALUE_2"]
            }
          ]
          advancedOptions: { enableScreenshotOnFailureAndScript: ENABLE_SCREENSHOT }
          apdexTarget: APDEX_TARGET
        }
      ) {
        errors {
          description
          type
        }
      }
    }
    ```
  </Collapser>

  <Collapser
    id="update-certificate-check"
    title="Update a certificate check monitor"
  >
    Use the `syntheticsUpdateCertCheckMonitor` mutation to update an existing cert check monitor by using the guid parameter along with the monitor details. You can fetch guid information using [Query monitors](#query-examples) query.

    #### Sample query

    ```graphql
    mutation {
      syntheticsUpdateCertCheckMonitor(
        guid: ENTITY_GUID
        monitor: {
          domain: "DOMAIN"
          locations: { public: ["LOCATION_1", "LOCATION_2"] }
          name: "YOUR_MONITOR_NAME"
          numberDaysToFailBeforeCertExpires: DAYS_UNTIL_EXPIRATION
          period: PERIOD
          status: STATUS
          apdexTarget: APDEX_TARGET
        }
      ) {
        errors {
          description
          type
        }
      }
    }
    ```
  </Collapser>

  <Collapser
    id="update-broken-links"
    title="Update a broken links monitor"
  >
    Use the `syntheticsUpdateBrokenLinksMonitor` mutation to update an existing broken link monitor by using the guid parameter along with the monitor details. You can fetch guid information using [Query monitors](#query-examples) query.

    #### Sample query

    ```graphql
    mutation {
      syntheticsUpdateBrokenLinksMonitor(
        guid: ENTITY_GUID
        monitor: {
          locations: { public: ["LOCATION_1", "LOCATION_2"] }
          name: "YOUR_MONITOR_NAME"
          period: PERIOD
          status: STATUS
          apdexTarget: APDEX_TARGET
          uri: "MONITOR_URI"
          tags: { 
            key: "YOUR_TAG_NAME", 
            values: "TAG_VALUE" 
          }
        }
      ) {
        errors {
          description
          type
        }
      }
    }
    ```
  </Collapser>

  <Collapser
    id="upgrade-monitor-runtime"
    title="Upgrade a monitor's runtime"
  >
    You can use the below example to update a simple browser, scripted API, or scripted browser monitor to the new Chrome 100+ or Node.js 16.10 runtimes. The following example upgrades a scripted browser monitor to the new runtime from the legacy runtime.

    * To update a simple browser monitor using the below example, change the mutation to `syntheticsUpdateSimpleBrowserMonitor` instead of `syntheticsUpdateScriptBrowserMonitor`.
    * To update a scripted API monitor using the below example, change the mutation to `syntheticsUpdateScriptApiMonitor` instead of `syntheticsUpdateScriptBrowserMonitor`.

    Check out [optional-fields](#optional-fields) for additional details on runtime settings.

    #### Sample query

    ```graphql
    mutation {
      syntheticsUpdateScriptBrowserMonitor ( 
        guid: "ENTITY_GUID", 
        monitor: {
          runtime: {
            runtimeType: "RUNTIME_TYPE", 
            runtimeTypeVersion: "RUNTIME_TYPE_VERSION", 
            scriptLanguage: "SCRIPT_LANGUAGE"
            }
          }
        ) {
        errors {
          description
          type
        }
      }
    }
    ```
  </Collapser>

<Collapser
    id="downgrade-monitor-runtime"
    title="Downgrade a monitor's runtime"
  >
    You can use the example below to update a simple browser, scripted API, or scripted browser monitor to use a legacy runtime prior to the October 22, 2024 EOL. The following example downgrades a scripted browser monitor from the new runtime to the legacy runtime.

    * To update a simple browser monitor using the below example, change the mutation to `syntheticsUpdateSimpleBrowserMonitor` instead of `syntheticsUpdateScriptBrowserMonitor`.
    * To update a scripted API monitor using the below example, change the mutation to `syntheticsUpdateScriptApiMonitor` instead of `syntheticsUpdateScriptBrowserMonitor`.

    Check out [optional-fields](#optional-fields) for additional details on runtime settings.

    #### Sample query

    ```graphql
    mutation {
      syntheticsUpdateScriptBrowserMonitor ( 
        guid: "ENTITY_GUID", 
        monitor: {
          runtime: {
            runtimeType: "", 
            runtimeTypeVersion: "", 
            scriptLanguage: ""
            }
          }
        ) {
        errors {
          description
          type
        }
      }
    }
    ```
  </Collapser>
  <Collapser
    id="move-monitor"
    title="Move a monitor between VSE enabled private locations">
    
    Use the following mutation to move a scripted API monitor between VSE-enabled private locations. Ensure that you include the script to regenerate HMACs:

    #### Sample query
    
    ```graphql
    mutation {
      syntheticsUpdateScriptApiMonitor(
        guid: "ENTITY_GUID"
        monitor: {locations: 
          {private: [{
            guid: "LOCATION_GUID", 
            vsePassword: "YOUR_VSE_PASSWORD"}]
          }, 
          script: "SCRIPT_CONTENT"}
      ) 
      {
        errors {
          description
          type
        }
        monitor {
          status
        }
      }
    }
    ```
    </Collapser>    
</CollapserGroup>

## Delete a synthetic monitor [#delete-monitor]

When monitors are no longer needed, you can remove them to streamline your synthetic monitoring setup. This ensures optimized and current monitoring resources. 

<CollapserGroup>
  <Collapser
    id="delete-monitor"
    title="Delete monitor"
  >
    This API allows you to delete an existing monitor using the `syntheticsDeleteMonitor` mutation with the guid parameter.

    ```graphql
    mutation {
      syntheticsDeleteMonitor (
        guid: "ENTITY_GUID"
      ) {
        deletedGuid
      }
    }
    ```
  </Collapser>
</CollapserGroup>

## Manage your private locations [#private-locations]

[Private locations](/docs/synthetics/synthetic-monitoring/private-locations/private-locations-overview-monitor-internal-sites-add-new-locations) allow you to monitor applications behind your firewall or in restricted networks. When you create a private location, you install and configure private minions to execute the monitors assigned to that private location.

Use these operations to set up and manage private locations for your monitoring infrastructure:

<CollapserGroup>
  <Collapser
    id="private-location"
    title="Create a private location"
  >
   This API allows you to create a private location in the synthetics monitoring system using the `syntheticsCreatePrivateLocation` mutation with specified configurations.

    #### Input parameters
    <table>
      <thead>
        <tr>
          <th>Parameter</th>
          <th>Data Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>`accountId`</td>
          <td>Integer</td>
          <td>(Required) The account ID associated with the private location.</td>
        </tr>
        <tr>
          <td>`description`</td>
          <td>String</td>
          <td>The description of the private location.</td>
        </tr>
        <tr>
          <td>`name`</td>
          <td>String</td>
          <td>(Required) The name of the private location.</td>
        </tr>
        <tr>
          <td>`shared`</td>
          <td>Boolean</td>
          <td>Specifies whether the private location is shared across the organization.</td>
        </tr>
        <tr>
          <td>`verifiedScriptExecution`</td>
          <td>Boolean</td>
          <td>(Required) If the value is true, the private location requires a password to edit.
          </td>
        </tr>
      </tbody>
    </table>

    #### Sample query

    ```graphql
    mutation {
      syntheticsCreatePrivateLocation (
        accountId: ACCOUNT_ID,
        name: "PrivateLocationName",
        description: "Optional description",
        shared: true,
        verifiedScriptExecution: false
      ) {
        guid
        errors {
          description
          type
        }
      }
    }
    ```
  </Collapser>

  <Collapser
    id="private-location"
    title="Update a private location"
  >
  This API allows you to update a private location in the synthetics monitoring system using the `syntheticsUpdatePrivateLocation` mutation with specified configurations.

  <Callout variant="important">
  If a location is shared and used by other accounts in your organization to run synthetic monitors, you cannot unshare this private location until those monitors are disabled.
</Callout>

#### Input parameters
    <table>
      <thead>
        <tr>
          <th>Parameter</th>
          <th>Data Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>`description`</td>
          <td>String</td>
          <td>The description of the private location.</td>
        </tr>
        <tr>
          <td>`guid`</td>
          <td>String</td>
          <td>(Required) The name of the private location.</td>
        </tr>
        <tr>
          <td>`shared`</td>
          <td>Boolean</td>
          <td>Specifies whether the private location is shared across the organization.</td>
        </tr>
        <tr>
          <td>`verifiedScriptExecution`</td>
          <td>Boolean</td>
          <td>(Required) If the value is true, the private location requires a password to edit.
          </td>
        </tr>
      </tbody>
    </table>

#### Sample query
    ```graphql
    mutation {
      syntheticsUpdatePrivateLocation (
        shared: false,
        guid: ENTITY_GUID,     
        description: "EnterYourDescription", 
        verifiedScriptExecution: true
      ) {
        description
        verifiedScriptExecution
        errors {
          description
          type
        }
      }
    }
    ```
  </Collapser>

  <Collapser
    id="delete-private locations"
    title="Delete a private location"
  >

  This API allows you to delete a private location using the `syntheticsDeletePrivateLocation` mutation with the entity_guid parameter.

    ```graphql
    mutation {
      syntheticsDeletePrivateLocation (
        guid: ENTITY_GUID
      ) {
        errors {
          description
          type
        }
      }
    }
    ```
  </Collapser>

  <Collapser
    id="purge-private-location"
    title="Purge a private location job queue"
  >
    This API allows you to clear the job queue for a private location using the `syntheticsPurgePrivateLocationQueue` mutation. This is useful when you need to remove a backlog of queued synthetic monitor jobs that may have accumulated due to performance issues or temporary connectivity problems.

    <Callout variant="tip">
      Use this operation carefully as it will permanently remove all queued jobs. Jobs currently running will not be affected.
    </Callout>

    #### Input parameters
    <table>
      <thead>
        <tr>
          <th>Parameter</th>
          <th>Data Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>`guid`</td>
          <td>String</td>
          <td>(Required) The unique identifier (GUID) of the private location whose job queue you want to purge.</td>
        </tr>
      </tbody>
    </table>

    #### Sample query
    ```graphql
    mutation {
      syntheticsPurgePrivateLocationQueue (
        guid: "PRIVATE_LOCATION_ENTITY_GUID"
      ) {
        errors {
          description
          type
        }
      }
    }
    ```

  </Collapser>
</CollapserGroup>

## Manage your secure credentials [#secure-credentials]

[Secure credentials](/docs/synthetics/synthetic-monitoring/using-monitors/store-secure-credentials-scripted-browsers-api-tests) help you store, protect, and centrally manage sensitive information like passwords, API keys, or encoded certificates. Your synthetic monitors can securely access this information during script execution.

Use NerdGraph to programmatically manage your secure credentials when you need to update values or automate credential management:

<CollapserGroup>
  <Collapser
    id="create-secure-credential"
    title="Create a secure credential"
  >
    This API allows you to create a secure credential using the `syntheticsCreateSecureCredential` mutation.

    #### Input parameters
    <table>
      <thead>
        <tr>
          <th>Parameter</th>
          <th>Data Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>`accountId`</td>
          <td>Integer</td>
          <td>(Required) The account ID of the New Relic account where the secure credential will be created.</td>
        </tr>
        <tr>
          <td>`description`</td>
          <td>String</td>
          <td>A description to help identify the purpose of this credential.</td>
        </tr>
        <tr>
          <td>`key`</td>
          <td>String</td>
          <td>(Required) The unique key identifier for the synthetics secure credential in New Relic.</td>
        </tr>
        <tr>
          <td>`value`</td>
          <td>String</td>
          <td>(Required) The sensitive value to store securely (password, API key, etc.).</td>
        </tr>
      </tbody>
    </table>

    #### Sample query
    ```graphql
    mutation {
      syntheticsCreateSecureCredential (
        accountId: ACCOUNT_ID,
        description: "Your optional description",
        key: SECURE_CREDENTIAL_NAME,
        value: SECURE_CREDENTIAL_VALUE
      ) {
        errors {
          description
          type
        }
      }
    }
    ```
  </Collapser>

  <Collapser
    id="update-secure-credential"
    title="Update a secure credential"
  >
    This API allows you to update an existing secure credential using the `syntheticsUpdateSecureCredential` mutation. You can update the value and description while keeping the same key name.

    #### Input parameters
    <table>
      <thead>
        <tr>
          <th>Parameter</th>
          <th>Data Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>`accountId`</td>
          <td>Integer</td>
          <td>(Required) The account ID that contains the secure credential.</td>
        </tr>
        <tr>
          <td>`description`</td>
          <td>String</td>
          <td>Updated description for the secure credential.</td>
        </tr>
        <tr>
          <td>`key`</td>
          <td>String</td>
          <td>(Required) The unique key identifier for the synthetics secure credential in New Relic.</td>
        </tr>
        <tr>
          <td>`value`</td>
          <td>String</td>
          <td>(Required) The new sensitive value to store.</td>
        </tr>
      </tbody>
    </table>

    #### Sample query
    ```graphql
    mutation {
      syntheticsUpdateSecureCredential(
        accountId: ACCOUNT_ID
        description: "Updated description for the secure credential."
        key: SECURE_CREDENTIAL_NAME
        value: SECURE_CREDENTIAL_VALUE
      ) {
        createdAt
        lastUpdate
        errors {
          description
          type
        }
      }
    }
    ```
  </Collapser>

  <Collapser
    id="delete-secure-credential"
    title="Delete a secure credential"
  >
    This API allows you to delete a secure credential using the `syntheticsDeleteSecureCredential` mutation. Once deleted, any monitors referencing this credential will fail until updated.

    <Callout variant="caution">
      Before deleting a secure credential, make sure no active monitors are using it. Deleting a credential that's in use will cause those monitors to fail.
    </Callout>

    #### Input parameters
    <table>
      <thead>
        <tr>
          <th>Parameter</th>
          <th>Data Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>`accountId`</td>
          <td>Integer</td>
          <td>(Required) The account ID that contains the secure credential.</td>
        </tr>
        <tr>
          <td>`key`</td>
          <td>String</td>
          <td>(Required) The unique key identifier for the synthetics secure credential in New Relic.</td>
        </tr>
      </tbody>
    </table>

    #### Sample query
    ```graphql
    mutation {
      syntheticsDeleteSecureCredential (
        accountId: ACCOUNT_ID,
        key: "SECURE_CREDENTIAL_NAME"
      ) {
        errors {
          description
          type
        }
      }
    }
    ```
  </Collapser>
</CollapserGroup>

## Manage your monitor downtimes [#monitor-downtimes]

Monitor downtimes let you schedule periods when your synthetic monitors stop running. This is useful during planned maintenance, deployments, or known outages when you don't want to receive alerts. You can create one-time downtimes or recurring schedules (daily, weekly, or monthly). To learn more about when you might schedule monitor downtimes, refer [Disable monitoring during scheduled maintenance times.](/docs/synthetics/synthetic-monitoring/using-monitors/monitor-downtimes-disable-monitoring-during-scheduled-maintenance-times/)

<Callout variant="tip">
  For timezone values, refer to the [tz database of time zones](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones). For example, use `America/Los_Angeles` for Pacific Time.
</Callout>

<CollapserGroup>
  <Collapser
    id="create-once-downtime"
    title="Create a one-time monitor downtime"
  >
    This API allows you to create a one-time monitor downtime using the `syntheticsCreateOnceMonitorDowntime` mutation. Use this for planned maintenance or events that happen only once.

    #### Input parameters
    <table>
      <thead>
        <tr>
          <th>Parameter</th>
          <th>Data Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>`accountId`</td>
          <td>Integer</td>
          <td>(Required) The New Relic account ID where the downtime will be created.</td>
        </tr>
        <tr>
          <td>`name`</td>
          <td>String</td>
          <td>(Required) A descriptive name for the downtime period.</td>
        </tr>
        <tr>
          <td>`monitorGuids`</td>
          <td>Array</td>
          <td>List of monitor GUIDs to include in the downtime. Leave empty to apply to all monitors.</td>
        </tr>
        <tr>
          <td>`timezone`</td>
          <td>String</td>
          <td>(Required) The timezone for the downtime schedule (e.g., `America/New_York`).</td>
        </tr>
        <tr>
          <td>`startTime`</td>
          <td>String</td>
          <td>(Required) When the downtime starts in `yyyy-MM-ddTHH:mm:ss` format.</td>
        </tr>
        <tr>
          <td>`endTime`</td>
          <td>String</td>
          <td>(Required) When the downtime ends in `yyyy-MM-ddTHH:mm:ss` format.</td>
        </tr>
      </tbody>
    </table>

    #### Sample query
    ```graphql
    mutation {
      syntheticsCreateOnceMonitorDowntime (
        accountId: ACCOUNT_ID,
        name: "MonitorDowntimeName",
        monitorGuids: ["OptionalMonitorEntityGuid", "OptionalMonitorEntityGuid"],
        timezone: "TIMEZONE",
        startTime: "yyyy-MM-ddTHH:mm:ss",
        endTime: "yyyy-MM-ddTHH:mm:ss"
      ) {
        guid
        accountId
        name
        monitorGuids
        timezone
        startTime
        endTime
      }
    }
    ```
  </Collapser>

  <Collapser
    id="create-daily-downtime"
    title="Create a daily recurring monitor downtime"
  >
    This API allows you to create a daily recurring monitor downtime using the `syntheticsCreateDailyMonitorDowntime` mutation. Use this for regular maintenance windows that occur every day.

    #### Input parameters
    <table>
      <thead>
        <tr>
          <th>Parameter</th>
          <th>Data Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>`accountId`</td>
          <td>Integer</td>
          <td>(Required) The New Relic account ID where the downtime will be created.</td>
        </tr>
        <tr>
          <td>`name`</td>
          <td>String</td>
          <td>(Required) A descriptive name for the recurring downtime.</td>
        </tr>
        <tr>
          <td>`monitorGuids`</td>
          <td>Array</td>
          <td>List of monitor GUIDs to include in the downtime.</td>
        </tr>
        <tr>
          <td>`timezone`</td>
          <td>String</td>
          <td>(Required) The timezone for the downtime schedule.</td>
        </tr>
        <tr>
          <td>`startTime`</td>
          <td>String</td>
          <td>(Required) Daily start time in `yyyy-MM-ddTHH:mm:ss` format.</td>
        </tr>
        <tr>
          <td>`endTime`</td>
          <td>String</td>
          <td>(Required) Daily end time in `yyyy-MM-ddTHH:mm:ss` format.</td>
        </tr>
        <tr>
          <td>`endRepeat`</td>
          <td>Object</td>
          <td>When to stop the recurring downtime. Use `onDate` for a specific date or `onRepeat` for number of occurrences.</td>
        </tr>
      </tbody>
    </table>

    #### Sample query
    ```graphql
    mutation {
      syntheticsCreateDailyMonitorDowntime (
        accountId: ACCOUNT_ID,
        name: "MonitorDowntimeName",
        monitorGuids: ["OptionalMonitorEntityGuid", "AnotherOptionalMonitorEntityGuid"],
        timezone: "TIMEZONE",
        startTime: "yyyy-MM-ddTHH:mm:ss",
        endTime: "yyyy-MM-ddTHH:mm:ss",
        endRepeat: {
          onDate: "yyyy-MM-ddTHH:mm:ss", onRepeat: Int
        }
      ) {
        guid
        accountId
        name
        monitorGuids
        timezone
        startTime
        endTime
        endRepeat {
          onDate
          onRepeat
        }
      }
    }
    ```
  </Collapser>

  <Collapser
    id="create-weekly-downtime"
    title="Create a weekly recurring monitor downtime"
  >
    This API allows you to create a weekly recurring monitor downtime using the `syntheticsCreateWeeklyMonitorDowntime` mutation. Use this for maintenance windows that occur on specific days of the week.

    #### Input parameters
    <table>
      <thead>
        <tr>
          <th>Parameter</th>
          <th>Data Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>`accountId`</td>
          <td>Integer</td>
          <td>(Required) The New Relic account ID where the downtime will be created.</td>
        </tr>
        <tr>
          <td>`name`</td>
          <td>String</td>
          <td>(Required) A descriptive name for the weekly downtime.</td>
        </tr>
        <tr>
          <td>`monitorGuids`</td>
          <td>Array</td>
          <td>List of monitor GUIDs to include in the downtime.</td>
        </tr>
        <tr>
          <td>`timezone`</td>
          <td>String</td>
          <td>(Required) The timezone for the downtime schedule.</td>
        </tr>
        <tr>
          <td>`startTime`</td>
          <td>String</td>
          <td>(Required) Weekly start time in `yyyy-MM-ddTHH:mm:ss` format.</td>
        </tr>
        <tr>
          <td>`endTime`</td>
          <td>String</td>
          <td>(Required) Weekly end time in `yyyy-MM-ddTHH:mm:ss` format.</td>
        </tr>
        <tr>
          <td>`maintenanceDays`</td>
          <td>Array</td>
          <td>(Required) Days of the week (e.g., `MONDAY`, `TUESDAY`, `WEDNESDAY`).</td>
        </tr>
        <tr>
          <td>`endRepeat`</td>
          <td>Object</td>
          <td>When to stop the recurring downtime.</td>
        </tr>
      </tbody>
    </table>

    #### Sample query
    ```graphql
    mutation {
      syntheticsCreateWeeklyMonitorDowntime (
        accountId: ACCOUNT_ID,
        name: "MonitorDowntimeName",
        monitorGuids: ["OptionalMonitorEntityGuid", "AnotherOptionalMonitorEntityGuid"],
        timezone: "TIMEZONE",
        startTime: "yyyy-MM-ddTHH:mm:ss",
        endTime: "yyyy-MM-ddTHH:mm:ss",
        maintenanceDays: [WeekDaysEnums],
        endRepeat: { onDate: "yyyy-MM-ddTHH:mm:ss", onRepeat: Int }
      ) {
        guid
        accountId
        name
        monitorGuids
        timezone
        startTime
        endTime
        maintenanceDays
        endRepeat {
          onDate
          onRepeat
        }
      }
    }
    ```
  </Collapser>

  <Collapser
    id="create-monthly-downtime"
    title="Create a monthly recurring monitor downtime"
  >
    This API allows you to create a monthly recurring monitor downtime using the `syntheticsCreateMonthlyMonitorDowntime` mutation. Use this for maintenance windows that occur on specific days each month.

    #### Input parameters
    <table>
      <thead>
        <tr>
          <th>Parameter</th>
          <th>Data Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>`accountId`</td>
          <td>Integer</td>
          <td>(Required) The New Relic account ID where the downtime will be created.</td>
        </tr>
        <tr>
          <td>`name`</td>
          <td>String</td>
          <td>(Required) A descriptive name for the monthly downtime.</td>
        </tr>
        <tr>
          <td>`monitorGuids`</td>
          <td>Array</td>
          <td>List of monitor GUIDs to include in the downtime.</td>
        </tr>
        <tr>
          <td>`timezone`</td>
          <td>String</td>
          <td>(Required) The timezone for the downtime schedule.</td>
        </tr>
        <tr>
          <td>`startTime`</td>
          <td>String</td>
          <td>(Required) Monthly start time in `yyyy-MM-ddTHH:mm:ss` format.</td>
        </tr>
        <tr>
          <td>`endTime`</td>
          <td>String</td>
          <td>(Required) Monthly end time in `yyyy-MM-ddTHH:mm:ss` format.</td>
        </tr>
        <tr>
          <td>`frequency`</td>
          <td>Object</td>
          <td>(Required) Defines when in the month the downtime occurs. Use `daysOfWeek` for relative dates (e.g., first Monday) or `daysOfMonth` for specific dates (e.g., 15th of each month).</td>
        </tr>
        <tr>
          <td>`endRepeat`</td>
          <td>Object</td>
          <td>When to stop the recurring downtime.</td>
        </tr>
      </tbody>
    </table>

    #### Sample query
    ```graphql
    mutation {
      syntheticsCreateMonthlyMonitorDowntime (
        accountId: ACCOUNT_ID,
        name: "MonitorDowntimeName",
        monitorGuids: ["OptionalMonitorEntityGuid", "AnotherOptionalMonitorEntityGuid"],
        timezone: "TIMEZONE",
        startTime: "yyyy-MM-ddTHH:mm:ss",
        endTime: "yyyy-MM-ddTHH:mm:ss",
        endRepeat: { onDate: "yyyy-MM-ddTHH:mm:ss", onRepeat: Int }
    frequency: {
      daysOfWeek: {
        weekDay: WeekDaysEnum
        ordinalDayOfMonth: DayOfMonthOrdinal
      }
      daysOfMonth: [Int]
    }
      ) {
        guid
        accountId
        name
        monitorGuids
        timezone
        startTime
        endTime
        frequency {
          daysOfWeek {
            weekDay
            ordinalDayOfMonth
          }
          daysOfMonth
        }
        endRepeat {
          onDate
          onRepeat
        }
      }
    }
    ```
  </Collapser>

  <Collapser
    id="update-downtime"
    title="Update a monitor downtime"
  >
    This API allows you to update an existing monitor downtime using the `syntheticsEditMonitorDowntime` mutation. You can modify any downtime type (once, daily, weekly, or monthly) using this single mutation.

    #### Input parameters
    <table>
      <thead>
        <tr>
          <th>Parameter</th>
          <th>Data Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>`guid`</td>
          <td>String</td>
          <td>(Required) The GUID of the existing monitor downtime to update.</td>
        </tr>
        <tr>
          <td>`name`</td>
          <td>String</td>
          <td>Updated name for the downtime.</td>
        </tr>
        <tr>
          <td>`monitorGuids`</td>
          <td>Array</td>
          <td>Updated list of monitor GUIDs.</td>
        </tr>
        <tr>
          <td>`once`</td>
          <td>Object</td>
          <td>Configuration for one-time downtime.</td>
        </tr>
        <tr>
          <td>`daily`</td>
          <td>Object</td>
          <td>Configuration for daily recurring downtime.</td>
        </tr>
        <tr>
          <td>`weekly`</td>
          <td>Object</td>
          <td>Configuration for weekly recurring downtime.</td>
        </tr>
        <tr>
          <td>`monthly`</td>
          <td>Object</td>
          <td>Configuration for monthly recurring downtime.</td>
        </tr>
      </tbody>
    </table>

    #### Sample query
    ```graphql
  mutation {
  syntheticsEditMonitorDowntime (
    guid: "MonitorDowntimeEntityGuid",
    name: "MONITOR_DOWNTIME_NAME",
    monitorGuids: ["OptionalMonitorEntityGuid", "AnotherOptionalMonitorEntityGuid"],
    once: {
      timezone: "TIMEZONE",
      startTime: "yyyy-MM-ddTHH:mm:ss",
      endTime: "yyyy-MM-ddTHH:mm:ss"
    },
    daily: {
      timezone: "TIMEZONE",
      startTime: "yyyy-MM-ddTHH:mm:ss",
      endTime: "yyyy-MM-ddTHH:mm:ss",
      endRepeat: {
        onDate: "yyyy-MM-ddTHH:mm:ss",
        onRepeat: Int
      }
    },
    weekly: {
      timezone: "TIMEZONE",
      startTime: "yyyy-MM-ddTHH:mm:ss",
      endTime: "yyyy-MM-ddTHH:mm:ss",
      endRepeat: {
        onDate: "yyyy-MM-ddTHH:mm:ss",
        onRepeat: Int
      },
      maintenanceDays: [WeekDaysEnums]
    },
    monthly: {
      timezone: "TIMEZONE",
      startTime: "yyyy-MM-ddTHH:mm:ss",
      endTime: "yyyy-MM-ddTHH:mm:ss",
      endRepeat: {
        onDate: "yyyy-MM-ddTHH:mm:ss",
        onRepeat: Int
      },
      frequency: {
        daysOfWeek: {
          weekDay: WeekDaysEnum,
          ordinalDayOfMonth: DayOfMonthOrdinal
      },
      daysOfMonth: [Int]
    }
    }
  ) {
    guid,
    accountId,
    name,
    monitorGuids,
    timezone,
    startTime,
    endTime,
    endRepeat {
      onDate,
      onRepeat
    },
    maintenanceDays,
    frequency {
      daysOfWeek {
        weekDay,
        ordinalDayOfMonth
      },
      daysOfMonth
    }
  }
}
```
  </Collapser>

  <Collapser
    id="delete-downtime"
    title="Delete a monitor downtime"
  >
    This API allows you to delete a monitor downtime using the `syntheticsDeleteMonitorDowntime` mutation. Once deleted, the scheduled downtime will be removed and monitors will resume their normal schedule.

    #### Input parameters
    <table>
      <thead>
        <tr>
          <th>Parameter</th>
          <th>Data Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>`guid`</td>
          <td>String</td>
          <td>(Required) The GUID of the monitor downtime to delete.</td>
        </tr>
      </tbody>
    </table>

    #### Sample query
    ```graphql
    mutation {
      syntheticsDeleteMonitorDowntime (
        guid: "DOWNTIME_ENTITY_GUID"
      ) {
        guid
      }
    }
    ```

    #### Sample response
    ```graphql
    {
      "data": {
        "syntheticsDeleteMonitorDowntime": {
          "guid": "DOWNTIME_ENTITY_GUID"
        }
      }
    }
    ```
  </Collapser>
</CollapserGroup>

## Use queries to retrieve data [#query]

After setting up your monitoring infrastructure, you can use queries to retrieve information about your synthetic entities. Queries make requests to fetch data about monitors, private locations, credentials, and downtimes.

To learn additional query capabilities available to your synthetic entities, check out [NerdGraph entities API tutorial](/docs/apis/nerdgraph/examples/nerdgraph-entities-api-tutorial/).

<CollapserGroup>
  <Collapser
    id="query-examples"
    title="Query monitors"
  >
    This query retrieves all synthetic monitors in your account, returning essential information including the monitor's GUID, name, account ID, monitor type, and associated tags. The tags contain additional configuration details and metadata about each monitor.

    #### Input parameters
    <table>
      <thead>
        <tr>
          <th>Parameter</th>
          <th>Data Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>`query`</td>
          <td>String</td>
          <td>The search query to filter entities. Use `domain = 'SYNTH' AND type = 'MONITOR'` to retrieve all synthetic monitors.</td>
        </tr>
      </tbody>
    </table>

    #### Sample query
    ```graphql
    {
      actor {
        entitySearch(query: "domain = 'SYNTH' AND type = 'MONITOR'") {
          results {
            entities {
              ... on SyntheticMonitorEntityOutline {
                guid
                name
                accountId
                monitorType
                tags {
                  key
                  values
                }
              }
            }
          }
        }
      }
    }
    ```
  </Collapser>

  <Collapser
    id="private-examples"
    title="Query private locations"
  >
    This query retrieves all private locations in your account, returning essential information including the location's GUID, name, account ID, and associated tags. Private locations allow you to monitor applications behind your firewall, and their configuration details are accessible through the tags.

    #### Input parameters
    <table>
      <thead>
        <tr>
          <th>Parameter</th>
          <th>Data Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>`query`</td>
          <td>String</td>
          <td>The search query to filter entities. Use `domain = 'SYNTH' AND type = 'PRIVATE_LOCATION'` to retrieve all private locations.</td>
        </tr>
      </tbody>
    </table>

    #### Sample query
    ```graphql
    {
      actor {
        entitySearch(query: "domain = 'SYNTH' AND type = 'PRIVATE_LOCATION'") {
          results {
            entities {
              accountId
              guid
              name
              tags {
                key
                values
              }
            }
          }
        }
      }
    }
    ```
  </Collapser>

  <Collapser
    id="downtime-query"
    title="Query monitor downtimes"
  >
    This query retrieves all monitor downtimes in your account, returning essential information including the downtime's GUID, name, account ID, and associated tags. Monitor downtimes are scheduled periods when synthetic monitors stop running, useful during planned maintenance or known outages. Configuration details such as schedule type, timezone, and recurrence patterns are stored in tags.

    #### Input parameters
    <table>
      <thead>
        <tr>
          <th>Parameter</th>
          <th>Data Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>`query`</td>
          <td>String</td>
          <td>The search query to filter entities. Use `domain = 'SYNTH' AND type = 'MONITOR_DOWNTIME'` to retrieve all monitor downtimes.</td>
        </tr>
      </tbody>
    </table>

    #### Sample query
    ```graphql
    {
      actor {
        entitySearch(query: "domain = 'SYNTH' AND type = 'MONITOR_DOWNTIME'") {
          results {
            entities {
              accountId
              guid
              name
              tags {
                key
                values
              }
            }
          }
        }
      }
    }
    ```
  </Collapser>

  <Collapser
    id="credentials-example"
    title="Query secure credentials"
  >
    This query retrieves all secure credentials in your account, returning metadata information including the credential's GUID, name, account ID, tags, and last update timestamp. Secure credentials help store, protect, and centrally manage sensitive information like passwords, API keys, or encoded certificates. For security reasons, querying secure credentials returns metadata only, but not the actual credential values themselves.

    #### Input parameters
    <table>
      <thead>
        <tr>
          <th>Parameter</th>
          <th>Data Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>`query`</td>
          <td>String</td>
          <td>The search query to filter entities. Use `domain = 'SYNTH' AND type = 'SECURE_CRED'` to retrieve all secure credentials.</td>
        </tr>
      </tbody>
    </table>

    #### Sample query
    ```graphql
    {
      actor {
        entitySearch(query: "domain = 'SYNTH' AND type = 'SECURE_CRED'") {
          results {
            entities {
              ... on SecureCredentialEntityOutline {
                accountId
                guid
                name
                tags {
                  key
                  values
                }
                updatedAt
              }
            }
          }
        }
      }
    }
    ```
  </Collapser>

  <Collapser
    id="query-script-example"
    title="Query monitor script"
  >
    This query retrieves the script content used in a scripted API or scripted browser monitor. The script contains the JavaScript code that defines the monitor's behavior, such as API calls, browser interactions, or custom validation logic. This query only works with scripted monitor types - other monitor types (simple, ping, step, certificate check, broken links) will return an error since they don't use custom scripts.

    #### Input parameters
    <table>
      <thead>
        <tr>
          <th>Parameter</th>
          <th>Data Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>`id` (account)</td>
          <td>Integer</td>
          <td>The New Relic account ID that contains the monitor.</td>
        </tr>
        <tr>
          <td>`monitorGuid`</td>
          <td>String</td>
          <td>The unique entity GUID of the scripted monitor whose script you want to retrieve.</td>
        </tr>
      </tbody>
    </table>

    #### Sample query
    ```graphql
    {
      actor {
        account(id: ACCOUNT_ID) {
          synthetics {
            script(monitorGuid: "ENTITY_GUID") {
              text
            }
          }
        }
      }
    }
    ```
  </Collapser>

  <Collapser
    id="query-steps-example"
    title="Query monitor steps"
  >
    This query retrieves the steps configured for a step monitor. Step monitors provide codeless, multi-step browser-based monitoring through a sequence of predefined actions like navigation, clicks, form inputs, and assertions. Each step has an ordinal position, a type that defines the action, and values that contain the step's configuration data. This query only works with step monitors - other monitor types will return an error since they don't use step-based configurations.

    #### Input parameters
    <table>
      <thead>
        <tr>
          <th>Parameter</th>
          <th>Data Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>`id` (account)</td>
          <td>Integer</td>
          <td>The New Relic account ID that contains the monitor.</td>
        </tr>
        <tr>
          <td>`monitorGuid`</td>
          <td>String</td>
          <td>The unique entity GUID of the step monitor whose steps you want to retrieve.</td>
        </tr>
      </tbody>
    </table>

    #### Sample query
    ```graphql
    {
      actor {
        account(id: ACCOUNT_ID) {
          synthetics {
            steps(monitorGuid: "ENTITY_GUID") {
              ordinal
              type
              values
            }
          }
        }
      }
    }
    ```
  </Collapser>

  <Collapser
    id="query-guid-example"
    title="Query to map monitor ID to entity GUID"
  >
    This query retrieves the entity GUID for a synthetic monitor using the monitor ID. This is useful when you have the legacy numeric monitor ID and need to convert it to the entity GUID format required for most NerdGraph operations. The entity GUID is the modern identifier used for updates, deletions, and other monitor management tasks, while the monitor ID is the older numeric identifier that may appear in URLs or legacy integrations.

    #### Input parameters
    <table>
      <thead>
        <tr>
          <th>Parameter</th>
          <th>Data Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>`query`</td>
          <td>String</td>
          <td>The search query to find the monitor. Use `domainId = 'MONITOR_ID'` where MONITOR_ID is the numeric ID of the monitor you want to find.</td>
        </tr>
      </tbody>
    </table>

    #### Sample query
    ```graphql
    {
      actor {
        entitySearch(
          query: "(domainId = 'MONITOR_ID')"
        ) {
          results {
            entities {
              ... on SyntheticMonitorEntityOutline {
                guid
                name
                monitorId
              }
            }
          }
        }
      }
    }
    ```
  </Collapser>

  <Collapser
    id="query-runtime-upgrade-status"
    title="Query to retrieve the status of all runtime upgrade tests"
  >
    This query retrieves the status of all runtime upgrade tests for legacy runtime monitors in your account. These tests validate whether monitors using older runtimes (like Chrome 72 or Node.js API legacy) can successfully run on newer runtimes (Chrome 100+ or Node.js 16.10). The results populate the [runtime upgrades UI](/docs/synthetics/synthetic-monitoring/using-monitors/runtime-upgrade-ui/) and help you identify which monitors are ready for upgrade. The test result is stored in the `validationStatus` tag, and if the upgrade test failed, detailed error information is available in the `validationError` tag.

    #### Input parameters
    <table>
      <thead>
        <tr>
          <th>Parameter</th>
          <th>Data Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>`query`</td>
          <td>String</td>
          <td>The search query to filter entities. Use `domain = 'SYNTH' AND type = 'RUNTIME_VALIDATION'` to retrieve all runtime upgrade test results.</td>
        </tr>
      </tbody>
    </table>

    #### Sample query
    ```graphql
    {
      actor {
        entitySearch(query: "domain = 'SYNTH' AND type = 'RUNTIME_VALIDATION'") {
          results {
            entities {
              accountId
              guid
              name
              tags {
                key
                values
              }
            }
          }
        }
      }
    }
    ```
  </Collapser>

  <Collapser
    id="query-runtime-upgrade-status-monitor"
    title="Query to retrieve the status of a runtime upgrade test by monitor ID"
  >
    This query retrieves the status of a runtime upgrade test for a specific legacy runtime monitor using the monitor ID. This is useful when you want to check the upgrade readiness of a particular monitor rather than all monitors in your account. The test validates whether the monitor can successfully run on newer runtimes and these results populate the [runtime upgrades UI](/docs/synthetics/synthetic-monitoring/using-monitors/runtime-upgrade-ui/). The test result is stored in the `validationStatus` tag, and if the upgrade test failed, detailed error information is available in the `validationError` tag.

    #### Input parameters
    <table>
      <thead>
        <tr>
          <th>Parameter</th>
          <th>Data Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>`query`</td>
          <td>String</td>
          <td>The search query to filter entities. Use `domain = 'SYNTH' AND type = 'RUNTIME_VALIDATION' AND domainId = 'MONITOR_ID'` where MONITOR_ID is the numeric ID of the specific monitor.</td>
        </tr>
      </tbody>
    </table>

    #### Sample query
    ```graphql
    {
      actor {
        entitySearch(
          query: "domain = 'SYNTH' AND type = 'RUNTIME_VALIDATION' AND domainId = 'MONITOR_ID'"
        ) {
          results {
            entities {
              accountId
              guid
              name
              tags {
                key
                values
              }
            }
          }
        }
      }
    }
    ```
  </Collapser>
</CollapserGroup>