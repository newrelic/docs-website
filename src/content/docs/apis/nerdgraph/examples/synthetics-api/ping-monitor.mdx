---
title: "Manage ping monitors"
tags:
  - Synthetics
  - APIs
  - NerdGraph
  - Examples
metaDescription: How to use New Relic NerdGraph API to create ping monitors for synthetic monitoring.
freshnessValidatedDate: never
---

New Relic allows you use NerdGraph to create [ping monitors](/docs/synthetics/synthetic-monitoring/using-monitors/add-edit-monitors) (also known as simple monitors). Ping monitors check if a URL or endpoint is accessible by making HTTP requests at regular intervals. This tutorial provides examples of how to use the NerdGraph API to automate the creation of ping monitors.

## Create a ping monitor [#create-ping-monitor]

You can create a ping monitor using the `syntheticsCreateSimpleMonitor` mutation. This mutation allows you to configure monitoring for any publicly accessible URL or endpoint.

### Input parameters

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Data Type</th>
      <th>Is it Required?</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>`accountId`</td>
      <td>Integer</td>
      <td>Yes</td>
      <td>Your New Relic [account ID](/docs/accounts/accounts-billing/account-structure/account-id) where the monitor will be created.</td>
    </tr>
    <tr>
      <td>`monitor.locations.public`</td>
      <td>Array</td>
      <td>Yes</td>
      <td>Array of [public location](/docs/synthetics/synthetic-monitoring/using-monitors/add-edit-monitors/#setting-location) identifiers where the monitor will run checks (e.g., `["US_EAST_1", "US_WEST_1"]`).</td>
    </tr>
    <tr>
      <td>`monitor.name`</td>
      <td>String</td>
      <td>Yes</td>
      <td>The display name for your ping monitor.</td>
    </tr>
    <tr>
      <td>`monitor.period`</td>
      <td>Enum</td>
      <td>Yes</td>
      <td>How often the monitor runs. Options: `EVERY_MINUTE`, `EVERY_5_MINUTES`, `EVERY_10_MINUTES`, `EVERY_15_MINUTES`, `EVERY_30_MINUTES`, `EVERY_HOUR`, `EVERY_6_HOURS`, `EVERY_12_HOURS`, `EVERY_DAY`.</td>
    </tr>
    <tr>
      <td>`monitor.status`</td>
      <td>Enum</td>
      <td>Yes</td>
      <td>The monitor status. Options: `ENABLED` (monitor is active and performing checks), `DISABLED` (monitor is inactive).</td>
    </tr>
    <tr>
      <td>`monitor.uri`</td>
      <td>String</td>
      <td>Yes</td>
      <td>The URL or endpoint to monitor (e.g., `https://example.com`).</td>
    </tr>
    <tr>
      <td>`monitor.advancedOptions.responseValidationText`</td>
      <td>String</td>
      <td>No</td>
      <td>Text that must appear in the response for the check to pass. If specified, the monitor will fail if this text is not found in the response body.</td>
    </tr>
    <tr>
      <td>`monitor.advancedOptions.useTlsValidation`</td>
      <td>Boolean</td>
      <td>No</td>
      <td>Whether to validate the TLS/SSL certificate. Set to `true` to verify the validity of the SSL certificate chain.</td>
    </tr>
    <tr>
      <td>`monitor.apdexTarget`</td>
      <td>Float</td>
      <td>No</td>
      <td>The monitor's Apdex target in seconds, used to populate SLA reports. Defaults to 7.0 seconds.</td>
    </tr>
  </tbody>
</table>

### Sample request

```graphql
mutation {
  syntheticsCreateSimpleMonitor(
    accountId: ACCOUNT_ID
    monitor: {
      locations: { public: ["LOCATION_1", "LOCATION_2"] }
      name: "YOUR_MONITOR_NAME"
      period: PERIOD
      status: STATUS
      uri: "MONITORED_URI"
      advancedOptions: {
        customHeaders: { name: "HEADER_NAME", value: "HEADER_VALUE" }
        redirectIsFailure: REDIRECT_IS_FAILURE
        responseValidationText: "VALIDATION_TEXT"
        shouldBypassHeadRequest: BYPASS_HEAD_REQUEST
        useTlsValidation: TLS_VALIDATION
      }
      apdexTarget: APDEX_TARGET
    }
  ) {
    errors {
      description
      type
    }
  }
}
```

### Sample response

A successful response returns `null` for errors:

```json
{
  "data": {
    "syntheticsCreateSimpleMonitor": {
      "errors": null
    }
  }
}
```

If there are any issues creating the monitor, the `errors` array will contain objects with `description` and `type` fields explaining what went wrong.

## Update a ping monitor [#update-ping-monitor]

You can update an existing ping monitor using the `syntheticsUpdateSimpleMonitor` mutation. This allows you to modify the configuration of a ping monitor that has already been created.

### Input parameters

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Data Type</th>
      <th>Is it Required?</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>`guid`</td>
      <td>String</td>
      <td>Yes</td>
      <td>The unique entity [GUID](/docs/apis/nerdgraph/examples/synthetics-api/query-synthetics-data#query-monitors) of the monitor you want to update.</td>
    </tr>
    <tr>
      <td>`monitor.locations.public`</td>
      <td>Array</td>
      <td>No</td>
      <td>Array of [public location](/docs/synthetics/synthetic-monitoring/using-monitors/add-edit-monitors/#setting-location) identifiers where the monitor will run checks (e.g., `["US_EAST_1", "US_WEST_1"]`).</td>
    </tr>
    <tr>
      <td>`monitor.name`</td>
      <td>String</td>
      <td>No</td>
      <td>The updated display name for your ping monitor.</td>
    </tr>
    <tr>
      <td>`monitor.period`</td>
      <td>Enum</td>
      <td>No</td>
      <td>How often the monitor runs. Options: `EVERY_MINUTE`, `EVERY_5_MINUTES`, `EVERY_10_MINUTES`, `EVERY_15_MINUTES`, `EVERY_30_MINUTES`, `EVERY_HOUR`, `EVERY_6_HOURS`, `EVERY_12_HOURS`, `EVERY_DAY`.</td>
    </tr>
    <tr>
      <td>`monitor.status`</td>
      <td>Enum</td>
      <td>No</td>
      <td>The monitor status. Options: `ENABLED` (monitor is active and performing checks), `DISABLED` (monitor is inactive).</td>
    </tr>
    <tr>
      <td>`monitor.uri`</td>
      <td>String</td>
      <td>No</td>
      <td>The URL or endpoint to monitor (e.g., `https://example.com`).</td>
    </tr>
    <tr>
      <td>`monitor.advancedOptions.customHeaders`</td>
      <td>Object</td>
      <td>No</td>
      <td>Custom HTTP headers to include in the request. Each header has a `name` and `value` property.</td>
    </tr>
    <tr>
      <td>`monitor.advancedOptions.redirectIsFailure`</td>
      <td>Boolean</td>
      <td>No</td>
      <td>If `true`, the monitor will treat HTTP redirects (3xx status codes) as failures.</td>
    </tr>
    <tr>
      <td>`monitor.advancedOptions.responseValidationText`</td>
      <td>String</td>
      <td>No</td>
      <td>Text that must appear in the response for the check to pass. If specified, the monitor will fail if this text is not found in the response body.</td>
    </tr>
    <tr>
      <td>`monitor.advancedOptions.shouldBypassHeadRequest`</td>
      <td>Boolean</td>
      <td>No</td>
      <td>If `true`, the monitor will skip the initial HEAD request and only make a GET request.</td>
    </tr>
    <tr>
      <td>`monitor.advancedOptions.useTlsValidation`</td>
      <td>Boolean</td>
      <td>No</td>
      <td>Whether to validate the TLS/SSL certificate. Set to `true` to verify the validity of the SSL certificate chain.</td>
    </tr>
    <tr>
      <td>`monitor.apdexTarget`</td>
      <td>Float</td>
      <td>No</td>
      <td>The monitor's Apdex target in seconds, used to populate SLA reports. Defaults to 7.0 seconds.</td>
    </tr>
  </tbody>
</table>

### Sample request

```graphql
mutation {
  syntheticsUpdateSimpleMonitor(
    guid: "ENTITY_GUID"
    monitor: {
      locations: { public: ["LOCATION_1", "LOCATION_2"] }
      name: "YOUR_MONITOR_NAME"
      period: PERIOD
      status: STATUS
      uri: "MONITORED_URI"
      advancedOptions: {
        customHeaders: { name: "HEADER_NAME", value: "HEADER_VALUE" }
        redirectIsFailure: REDIRECT_IS_FAILURE
        responseValidationText: "VALIDATION_TEXT"
        shouldBypassHeadRequest: BYPASS_HEAD_REQUEST
        useTlsValidation: TLS_VALIDATION
      }
      apdexTarget: APDEX_TARGET
    }
  ) {
    errors {
      description
      type
    }
  }
}
```

### Sample response

A successful response returns `null` for errors:

```json
{
  "data": {
    "syntheticsUpdateSimpleMonitor": {
      "errors": null
    }
  }
}
```

If there are any issues updating the monitor, the `errors` array will contain objects with `description` and `type` fields explaining what went wrong.

## Delete a synthetic monitor [#delete-monitor]

This API allows you to delete an existing monitor using the `syntheticsDeleteMonitor` mutation with the guid parameter.

### Input parameters

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Data Type</th>
      <th>Is it Required?</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>`guid`</td>
      <td>String</td>
      <td>Yes</td>
      <td>The unique entity [GUID](/docs/apis/nerdgraph/examples/synthetics-api/query-synthetics-data#query-monitors) of the monitor you want to delete.</td>
    </tr>
  </tbody>
</table>

### Sample request

```graphql
mutation {
  syntheticsDeleteMonitor(
    guid: "ENTITY_GUID"
  ) {
    deletedGuid
  }
}
```

### Sample response

A successful deletion returns the GUID of the deleted monitor:

```json
{
  "data": {
    "syntheticsDeleteMonitor": {
      "deletedGuid": "ENTITY_GUID"
    }
  }
}
```

If there are any issues deleting the monitor, an error will be returned with details about what went wrong.

## Query ping monitors [#query-ping-monitors]

You can query your ping monitors to retrieve information about their configuration, status, and metadata. This query retrieves all synthetic monitors in your account, including ping monitors, returning essential information like the monitor's GUID, name, account ID, monitor type, and associated tags.

### Input parameters

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Data Type</th>
      <th>Is it Required?</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>`query`</td>
      <td>String</td>
      <td>Yes</td>
      <td>The search query to filter entities. Use `domain = 'SYNTH' AND type = 'MONITOR'` to retrieve all synthetic monitors, or add additional filters to narrow results.</td>
    </tr>
  </tbody>
</table>

### Sample query

```graphql
{
  actor {
    entitySearch(query: "domain = 'SYNTH' AND type = 'MONITOR'") {
      results {
        entities {
          ... on SyntheticMonitorEntityOutline {
            guid
            name
            accountId
            monitorType
            tags {
              key
              values
            }
          }
        }
      }
    }
  }
}
```

### Sample response

```json
{
  "data": {
    "actor": {
      "entitySearch": {
        "results": {
          "entities": [
            {
              "guid": "MjUyMDUyOHxTWU5USHxNT05JVE9SfDMwNDg1",
              "name": "Example Ping Monitor",
              "accountId": 2520528,
              "monitorType": "SIMPLE",
              "tags": [
                {
                  "key": "language",
                  "values": ["en"]
                },
                {
                  "key": "runState",
                  "values": ["ENABLED"]
                },
                {
                  "key": "uri",
                  "values": ["https://example.com"]
                }
              ]
            }
          ]
        }
      }
    }
  }
}
```

## Map monitor ID to entity GUID [#map-monitor-id]

If you have a legacy numeric monitor ID and need to convert it to the entity GUID format required for updates and deletions, use this query:

### Sample query

```graphql
{
  actor {
    entitySearch(
      query: "(domainId = 'MONITOR_ID')"
    ) {
      results {
        entities {
          ... on SyntheticMonitorEntityOutline {
            guid
            name
            monitorId
          }
        }
      }
    }
  }
}
```

Replace `MONITOR_ID` with your numeric monitor ID. The response will include the entity GUID you need for other operations.


