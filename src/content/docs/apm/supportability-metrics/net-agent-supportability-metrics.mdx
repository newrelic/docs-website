---
title: ".NET agent supportability metrics"
tags:
  - APM
  - Supportability metrics
  - NET agent
  - Troubleshooting
  - Performance monitoring
metaDescription: "Use .NET agent supportability metrics to troubleshoot performance issues, validate configuration, and monitor agent health in your applications."
redirects:
  - /docs/apm/agents/net-agent/other-features/supportability-metrics-net
freshnessValidatedDate: never
---

Supportability metrics help you understand how your .NET agent is performing and identify potential issues with your application monitoring. These metrics provide valuable insights into agent behavior, feature adoption, and configuration effectiveness.

<Callout variant="important">
  You're charged for supportability metric ingest as part of your New Relic data consumption. These metrics provide valuable troubleshooting and optimization information that can help you resolve issues faster and improve application performance.
</Callout>

## What are supportability metrics? [#what-are-supportability-metrics]

Supportability metrics are specialized metrics that the .NET agent automatically collects about its own operation. They help you:

* **Troubleshoot monitoring issues**: Identify why certain data isn't appearing in your dashboards
* **Validate configuration**: Confirm that features like distributed tracing or logging are working correctly
* **Monitor agent performance**: Track resource usage and identify potential bottlenecks
* **Optimize feature usage**: Understand which agent features your application is using most

All supportability metrics use the `Supportability/` prefix in their metric names, making them easy to identify and query.

## Distributed tracing metrics [#distributed-tracing-metrics]

These metrics help you troubleshoot distributed tracing configuration and connectivity issues between your services.

### NewRelic payload metrics

| Metric name | Description | When to investigate |
|-------------|-------------|---------------------|
| `Supportability/DistributedTrace/CreatePayload/Success` | Successfully created tracing payload for outbound requests | Low values may indicate configuration issues |
| `Supportability/DistributedTrace/CreatePayload/Exception` | Failed to create tracing payload due to errors | Any non-zero values indicate problems |
| `Supportability/DistributedTrace/AcceptPayload/Success` | Successfully processed incoming tracing payload | Should match inbound request volume |
| `Supportability/DistributedTrace/AcceptPayload/Exception` | Failed to process incoming tracing payload | Investigate non-zero values for configuration issues |

### W3C TraceContext metrics

| Metric name | Description | When to investigate |
|-------------|-------------|---------------------|
| `Supportability/TraceContext/Create/Success` | Created W3C-compliant trace headers | Should match outbound request volume |
| `Supportability/TraceContext/Accept/Success` | Processed incoming W3C trace headers | Should match inbound traced request volume |
| `Supportability/TraceContext/Accept/Exception` | Failed to process W3C headers | Non-zero values indicate header format issues |
| `Supportability/TraceContext/TraceParent/Parse/Exception` | Invalid traceparent header format received | Check upstream services for proper W3C implementation |

<Callout variant="tip">
  Compare success metrics with your actual request volume. Low ratios may indicate that not all services in your trace have distributed tracing enabled.
</Callout>

## Agent collector communication metrics [#collector-metrics]

These metrics monitor communication between your agent and New Relic's data collection service.

### Connection and retry metrics

| Metric name | Description | What it means |
|-------------|-------------|---------------|
| `Supportability/Agent/Collector/connect/Success` | Successful connections to New Relic | Should show regular successful connections |
| `Supportability/Agent/Collector/connect/Exception` | Failed connection attempts | High values indicate network or configuration issues |
| `Supportability/Agent/Collector/DataSent` | Bytes sent to New Relic per request type | Monitor for data usage tracking |
| `Supportability/Agent/Collector/MaxPayloadSizeLimit` | Payload size limit reached | Indicates data is being dropped due to size limits |

### Data harvest metrics

| Metric name | Description | When to investigate |
|-------------|-------------|---------------------|
| `Supportability/EventHarvest/ReportPeriod` | How often data is sent to New Relic | Validate against your configuration settings |
| `Supportability/EventHarvest/HarvestLimitReached` | Data reservoir reached capacity | High values indicate you need to adjust harvest limits |
| `Supportability/AnalyticsEvents/TotalEventsSeen` | Total transaction events collected | Compare with TotalEventsSent to check for data loss |
| `Supportability/AnalyticsEvents/TotalEventsSent` | Total transaction events transmitted | Should be close to TotalEventsSeen |

<CollapserGroup>
  <Collapser
    id="example-data-loss"
    title="Example: Detecting data loss"
  >
    If you see these values in your metrics:

    * `Supportability/AnalyticsEvents/TotalEventsSeen`: 10,000
    * `Supportability/AnalyticsEvents/TotalEventsSent`: 2,000

    This indicates your agent collected 10,000 transaction events but only sent 2,000 to New Relic. The difference (8,000 events) was dropped due to reservoir size limits. Consider increasing your `analyticsEvents.maximumSamplesStored` configuration.
  </Collapser>
</CollapserGroup>

## Application logging metrics [#logging-metrics]

Monitor the performance and configuration of New Relic's application logging features.

### Log forwarding metrics

| Metric name | Description | When to investigate |
|-------------|-------------|---------------------|
| `Supportability/Logging/Forwarding/Sent` | Log messages successfully forwarded to New Relic | Should match your application's log volume |
| `Supportability/Logging/Forwarding/Seen` | Total log messages processed by agent | Compare with Sent to identify dropped logs |
| `Supportability/Logging/Forwarding/Dropped` | Log messages dropped before forwarding | Non-zero values indicate filtering or capacity issues |

### Log decoration metrics

| Metric name | Description | What it indicates |
|-------------|-------------|------------------|
| `Supportability/Logging/LocalDecorating/DotNET/enabled` | Local log decoration is active | Confirms linking metadata is being added to logs |
| `Supportability/Logging/LocalDecorating/DotNET/disabled` | Local log decoration is disabled | Check configuration if you expect log linking |

## Performance and instrumentation metrics [#performance-metrics]

These metrics help you understand agent overhead and instrumentation effectiveness.

### Agent timing metrics

| Metric name | Description | Performance impact |
|-------------|-------------|-------------------|
| `Supportability/AgentTiming/Bootstrap` | Time spent initializing the agent | High values may indicate startup delays |
| `Supportability/AgentTiming/Transaction/Create` | Time to create new transactions | Monitor for performance overhead |
| `Supportability/AgentTiming/SqlParsing` | Time spent parsing SQL statements | High values may affect database query performance |

### Instrumentation metrics

| Metric name | Description | What to monitor |
|-------------|-------------|-----------------|
| `Supportability/Library/[LibraryName]/[Version]` | Successfully instrumented library versions | Validates that expected frameworks are being monitored |
| `Supportability/WrapperShutdown/[InstrumentationName]` | Instrumentation disabled due to errors | Non-zero values indicate problematic instrumentation |

<Callout variant="important">
  When `WrapperShutdown` metrics appear, the agent has automatically disabled problematic instrumentation to protect your application performance. Review agent logs for specific error details.
</Callout>

## Environment and configuration metrics [#environment-metrics]

Understand your application's runtime environment and agent configuration.

### Runtime information

| Metric name | Description | Use case |
|-------------|-------------|----------|
| `Supportability/AgentVersion/[Version]` | Agent version in use | Validate agent updates and version consistency |
| `Supportability/Dotnet/NetFramework/[Version]` | .NET Framework version | Environment validation and compatibility checking |
| `Supportability/Dotnet/NetCore/[Version]` | .NET Core/.NET version | Runtime environment validation |
| `Supportability/OS/Linux` | Running on Linux (value: 1) or Windows (value: 0) | Platform-specific troubleshooting |

### Installation and configuration

| Metric name | Description | Configuration insight |
|-------------|-------------|---------------------|
| `Supportability/Dotnet/InstallType/[Type]` | Installation method used | Validate deployment strategy |
| `Supportability/utilization/aws` | Running in AWS environment | Cloud platform identification |
| `Supportability/utilization/azure` | Running in Azure environment | Cloud platform identification |
| `Supportability/utilization/gcp` | Running in Google Cloud | Cloud platform identification |
| `Supportability/utilization/docker` | Running in Docker container | Containerization detection |
| `Supportability/utilization/kubernetes` | Running in Kubernetes cluster | Orchestration platform detection |

## API usage metrics [#api-usage-metrics]

Track which New Relic .NET agent API methods your application is using.

| Metric name | Description | Usage insights |
|-------------|-------------|---------------|
| `Supportability/ApiInvocation/AddCustomAttribute` | Custom attribute API calls | Monitor custom attribute usage patterns |
| `Supportability/ApiInvocation/NoticeError` | Error recording API calls | Track manual error reporting frequency |
| `Supportability/ApiInvocation/SetTransactionName` | Transaction naming API calls | Validate custom transaction naming |
| `Supportability/ApiInvocation/StartTransaction` | Manual transaction creation | Monitor custom transaction patterns |

## Querying supportability metrics [#querying-metrics]

Use these NRQL queries to analyze your supportability metrics:

<CollapserGroup>
  <Collapser
    id="query-distributed-tracing"
    title="Monitor distributed tracing health"
  >
    ```sql
    SELECT
      count(*) as 'Total Requests',
      sum(Supportability/TraceContext/Create/Success) as 'Successful Outbound Traces',
      sum(Supportability/TraceContext/Accept/Success) as 'Successful Inbound Traces',
      sum(Supportability/TraceContext/Accept/Exception) as 'Failed Inbound Traces'
    FROM Metric
    WHERE metricName LIKE 'Supportability/TraceContext%'
    SINCE 1 hour ago
    TIMESERIES
    ```
  </Collapser>

  <Collapser
    id="query-data-harvest"
    title="Check for data loss"
  >
    ```sql
    SELECT
      sum(Supportability/AnalyticsEvents/TotalEventsSeen) as 'Events Collected',
      sum(Supportability/AnalyticsEvents/TotalEventsSent) as 'Events Sent',
      (sum(Supportability/AnalyticsEvents/TotalEventsSeen) - sum(Supportability/AnalyticsEvents/TotalEventsSent)) as 'Events Dropped'
    FROM Metric
    WHERE metricName LIKE 'Supportability/AnalyticsEvents%'
    SINCE 1 day ago
    ```
  </Collapser>

  <Collapser
    id="query-agent-performance"
    title="Monitor agent performance overhead"
  >
    ```sql
    SELECT
      average(Supportability/AgentTiming/Bootstrap) as 'Avg Bootstrap Time (ms)',
      average(Supportability/AgentTiming/Transaction/Create) as 'Avg Transaction Creation Time (ms)',
      percentile(Supportability/AgentTiming/SqlParsing, 95) as '95th Percentile SQL Parse Time (ms)'
    FROM Metric
    WHERE metricName LIKE 'Supportability/AgentTiming%'
    SINCE 1 hour ago
    TIMESERIES
    ```
  </Collapser>

  <Collapser
    id="query-environment-info"
    title="Audit runtime environment"
  >
    ```sql
    SELECT
      uniques(metricName) as 'Environment Details'
    FROM Metric
    WHERE metricName LIKE 'Supportability/Dotnet%'
       OR metricName LIKE 'Supportability/utilization%'
       OR metricName LIKE 'Supportability/AgentVersion%'
    SINCE 1 day ago
    ```
  </Collapser>
</CollapserGroup>

## Troubleshooting with supportability metrics [#troubleshooting]

### Common issues and solutions

| Problem | Metrics to check | Solution |
|---------|------------------|----------|
| Missing distributed traces | `Supportability/TraceContext/Create/Success` and `Accept/Success` | Verify distributed tracing is enabled on all services |
| High data costs | `Supportability/Agent/Collector/DataSent` | Review data harvest configuration and sampling rates |
| Performance degradation | `Supportability/AgentTiming/*` metrics | Check for high timing values and optimize configuration |
| Transaction events missing | Compare `TotalEventsSeen` vs `TotalEventsSent` | Increase analytics events reservoir size |
| Log data not appearing | `Supportability/Logging/Forwarding/*` metrics | Validate logging configuration and forwarding setup |

### Creating alerts for supportability metrics

Monitor critical supportability metrics with [NRQL alert conditions](/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-nrql-alert-conditions/):

<CollapserGroup>
  <Collapser
    id="alert-data-loss"
    title="Alert on data loss"
  >
    **Alert condition**: Data loss detection

    ```sql
    SELECT
      (sum(Supportability/AnalyticsEvents/TotalEventsSeen) - sum(Supportability/AnalyticsEvents/TotalEventsSent)) / sum(Supportability/AnalyticsEvents/TotalEventsSeen) * 100
    FROM Metric
    WHERE metricName LIKE 'Supportability/AnalyticsEvents%'
    ```

    **Threshold**: Alert when data loss exceeds 10%
  </Collapser>

  <Collapser
    id="alert-connection-issues"
    title="Alert on connection problems"
  >
    **Alert condition**: Collector connection failures

    ```sql
    SELECT sum(Supportability/Agent/Collector/connect/Exception)
    FROM Metric
    WHERE metricName = 'Supportability/Agent/Collector/connect/Exception'
    ```

    **Threshold**: Alert when failures exceed 5 in 5 minutes
  </Collapser>
</CollapserGroup>

## Next steps [#next-steps]

* Learn more about [custom instrumentation](/docs/apm/agents/net-agent/custom-instrumentation/introduction-net-custom-instrumentation) to expand your monitoring coverage
* Explore [.NET agent configuration options](/docs/apm/agents/net-agent/configuration/net-agent-configuration) to optimize performance
* Set up [custom dashboards](/docs/query-your-data/explore-query-data/dashboards/introduction-dashboards) to visualize your supportability metrics
* Review [.NET agent troubleshooting guides](/docs/apm/agents/net-agent/troubleshooting) for additional problem-solving resources