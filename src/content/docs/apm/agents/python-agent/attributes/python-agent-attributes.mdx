---
title: Python agent attributes
tags:
  - Agents
  - Python agent
  - Attributes
metaDescription: A summary of attributes captured by the Python agent.
redirects:
  - /docs/agents/python-agent/attributes/python-agent-attributes
  - /docs/agents/python-agent/miscellaneous/python-agent-attributes
freshnessValidatedDate: never
---

[Attributes](/docs/features/agent-attributes) are key-value pairs containing information that determines the properties of an event or transaction. We enable users to customize exactly which attributes will be sent to each of these destinations:

* [Transaction traces](/docs/apm/transactions/transaction-traces/transaction-traces)
* [Traced errors](/docs/apm/applications-menu/events/viewing-apm-errors-error-traces)
* [Transaction events](/docs/insights/new-relic-insights/decorating-events/apm-default-attributes-insights)
* [Page views](/docs/insights/new-relic-insights/decorating-events/browser-default-attributes-insights)

These attribute settings apply to Python agent version 2.56.0.42 or higher. To take advantage of all available features, [update your Python agent](/docs/agents/python-agent/installation-configuration/upgrade-python-agent) to the [latest release](/docs/release-notes/agent-release-notes/python-release-notes).

## Python agent web transaction attributes [#attributes]

The following lists the attributes that can be configured in the Python agent for [web transactions](/docs/apm/transactions/intro-transactions/transactions-new-relic-apm). For more information, see [Python agent configuration: attributes](/docs/python/python-agent-configuration#attributes).

<CollapserGroup>
  <Collapser
    id="requestHeadersAccept"
    title="request.headers.accept"
  >
    The types as read from the HTTP Accept request header.

    Defaults:

    * Transaction traces: Enabled
    * Error collector (traced errors): Enabled
    * Transaction events: Enabled
    * Page views (<InlinePopover type="browser"/>): Unavailable
  </Collapser>

  <Collapser
    id="requestHeadersContentLength"
    title="request.headers.contentLength"
  >
    The incoming request size in bytes as read from the `Content-Length` request header.

    Defaults:

    * Transaction traces: Enabled
    * Error collector (traced errors): Enabled
    * Transaction events: Enabled
    * Page views (browser monitoring): Unavailable
  </Collapser>

  <Collapser
    id="requestHeadersContentType"
    title="request.headers.contentType"
  >
    The incoming request content-type as read from the `Content-Type` request header.

    Defaults:

    * Transaction traces: Enabled
    * Error collector (traced errors): Enabled
    * Transaction events: Enabled
    * Page views (browser monitoring): Unavailable
  </Collapser>

  <Collapser
    id="requestHeadersHost"
    title="request.headers.host"
  >
    The name from the HTTP host request header.

    Defaults:

    * Transaction traces: Enabled
    * Error collector (traced errors): Enabled
    * Transaction events: Enabled
    * Page views (browser monitoring): Unavailable
  </Collapser>

  <Collapser
    id="requestHeadersReferer"
    title="request.headers.referer"
  >
    The incoming request referer as read from the `Referer` request header.

    Defaults:

    * Transaction traces: Enabled
    * Error collector (traced errors): Enabled
    * Transaction events: Enabled
    * Page views (browser monitoring): Unavailable
  </Collapser>

  <Collapser
    id="requestHeadersUserAgent"
    title="request.headers.userAgent"
  >
    The incoming request user-agent as read from the `User-Agent` request header.

    Defaults:

    * Transaction traces: Enabled
    * Error collector (traced errors): Enabled
    * Transaction events: Enabled
    * Page views (browser monitoring): Unavailable
  </Collapser>

  <Collapser
    id="requestMethod"
    title="request.method"
  >
    The HTTP method of the incoming request.

    Defaults:

    * Transaction traces: Enabled
    * Error collector (traced errors): Enabled
    * Transaction events: Enabled
    * Page views (browser monitoring): Unavailable
  </Collapser>

  <Collapser
    id="requestParameters"
    title="request.parameters.*"
  >
    Parameters from the query string of the request URL.

    <Callout variant="tip">
      The `capture_params` property has been deprecated. However, if set to `true`, it will enable request parameters for transaction traces and traced errors.
    </Callout>

    Defaults:

    * Transaction traces: Disabled
    * Error collector (traced errors): Disabled
    * Transaction events: Disabled
    * Page views (browser monitoring): Disabled
  </Collapser>

  <Collapser
    id="requestUri"
    title="request.uri"
  >
    The URI of the incoming request.

    Defaults:

    * Transaction traces: Enabled
    * Error collector (traced errors): Enabled
    * Transaction events: Enabled
    * Page views (browser monitoring): Unavailable
  </Collapser>

  <Collapser
    id="responseContentLength"
    title="response.headers.contentLength"
  >
    Taken from the `Content-Length` response header, this specifies the size of the outgoing response in bytes.

    Defaults:

    * Transaction traces: Enabled
    * Error collector (traced errors): Enabled
    * Transaction events: Enabled
    * Page views (browser monitoring): Unavailable
  </Collapser>

  <Collapser
    id="responseContentType"
    title="response.headers.contentType"
  >
    Taken from the `Content-Type` response header, this specifies the content type of the outgoing response.

    Defaults:

    * Transaction traces: Enabled
    * Error collector (traced errors): Enabled
    * Transaction events: Enabled
    * Page views (browser monitoring): Unavailable
  </Collapser>

  <Collapser
    id="responseStatus"
    title="response.status"
  >
    The outgoing response status.

    Defaults:

    * Transaction traces: Enabled
    * Error collector (traced errors): Enabled
    * Transaction events: Enabled
    * Page views (browser monitoring): Unavailable
  </Collapser>

  <Collapser
    id="threadConcurrency"
    title="thread.concurrency"
  >
    A measure of "thread utilization," representing the number of threads handling concurrent requests.

    Defaults:

    * Transaction traces: Enabled
    * Error collector (traced errors): Enabled
    * Transaction events: Disabled
    * Page views (browser monitoring): Unavailable
  </Collapser>

  <Collapser
    id="webfrontendQueueSeconds"
    title="webfrontend.queue.seconds"
  >
    Time (in seconds) spent in request queuing.

    Defaults:

    * Transaction traces: Enabled
    * Error collector (traced errors): Enabled
    * Transaction events: Disabled
    * Page views (browser monitoring): Unavailable
  </Collapser>

  <Collapser
    id="wsgiInputBytes"
    title="wsgi.input.bytes"
  >
    Number of bytes received in the WSGI input stream (file-like object.)

    Defaults:

    * Transaction traces: Enabled
    * Error collector (traced errors): Enabled
    * Transaction events: Disabled
    * Page views (browser monitoring): Unavailable
  </Collapser>

  <Collapser
    id="wsgiInputCallsRead"
    title="wsgi.input.calls.read"
  >
    Number of calls to `read()` by the WSGI server to handle request.

    Defaults:

    * Transaction traces: Enabled
    * Error collector (traced errors): Enabled
    * Transaction events: Disabled
    * Page views (browser monitoring): Unavailable
  </Collapser>

  <Collapser
    id="wsgiInputCallsReadline"
    title="wsgi.input.calls.readline"
  >
    Number of calls to `readline()` by the WSGI server to handle request.

    Defaults:

    * Transaction traces: Enabled
    * Error collector (traced errors): Enabled
    * Transaction events: Disabled
    * Page views (browser monitoring): Unavailable
  </Collapser>

  <Collapser
    id="wsgiInputCallsReadlines"
    title="wsgi.input.calls.readlines"
  >
    Number of calls to `readlines()` by the WSGI server to handle request.

    Defaults:

    * Transaction traces: Enabled
    * Error collector (traced errors): Enabled
    * Transaction events: Disabled
    * Page views (browser monitoring): Unavailable
  </Collapser>

  <Collapser
    id="wsgiInputSeconds"
    title="wsgi.input.seconds"
  >
    Time (in seconds) to read WSGI input stream.

    Defaults:

    * Transaction traces: Enabled
    * Error collector (traced errors): Enabled
    * Transaction events: Disabled
    * Page views (browser monitoring): Unavailable
  </Collapser>

  <Collapser
    id="wsgiOutputBytes"
    title="wsgi.output.bytes"
  >
    Number of bytes sent in the WSGI output response.

    Defaults:

    * Transaction traces: Enabled
    * Error collector (traced errors): Enabled
    * Transaction events: Disabled
    * Page views (browser monitoring): Unavailable
  </Collapser>

  <Collapser
    id="wsgiOutputCallsWrite"
    title="wsgi.output.calls.write"
  >
    Number of calls to `write()` by the WSGI server to send the response.

    Defaults:

    * Transaction traces: Enabled
    * Error collector (traced errors): Enabled
    * Transaction events: Disabled
    * Page views (browser monitoring): Unavailable
  </Collapser>

  <Collapser
    id="wsgiOutputCallsYield"
    title="wsgi.output.calls.yield"
  >
    Number of calls to `yield` by the WSGI server to send the response.

    Defaults:

    * Transaction traces: Enabled
    * Error collector (traced errors): Enabled
    * Transaction events: Disabled
    * Page views (browser monitoring): Unavailable
  </Collapser>

  <Collapser
    id="wsgiOutputSeconds"
    title="wsgi.output.seconds"
  >
    Time (in seconds) to send the WSGI response.

    Defaults:

    * Transaction traces: Enabled
    * Error collector (traced errors): Enabled
    * Transaction events: Disabled
    * Page views (browser monitoring): Unavailable
  </Collapser>
</CollapserGroup>

## Python agent message transaction attributes [#message_attributes]

The following sections list the attributes that can be configured in the Python agent for [message transactions](/docs/agents/python-agent/supported-features/python-message-queues) started by incoming message brokers like <DNT>RabbitMQ</DNT>. For more information, see [Python agent configuration: attributes](/docs/python/python-agent-configuration#attributes).

<CollapserGroup>
  <Collapser
    id="messageCorrelationId"
    title="message.correlationId"
  >
    The application-generated identifier used in RPC configurations.

    Defaults:

    * Transaction traces: Disabled
    * Error collector (traced errors): Disabled
    * Transaction events: Disabled
  </Collapser>

  <Collapser
    id="messageExchangeType"
    title="message.exchangeType"
  >
    The type of exchange this message was consumed from: direct, fanout, topic, or headers

    Defaults:

    * Transaction traces: Disabled
    * Error collector (traced errors): Disabled
    * Transaction events: Disabled
  </Collapser>

  <Collapser
    id="messageHeaders"
    title="message.headers.*"
  >
    The headers of the incoming message.

    Defaults:

    * Transaction traces: Disabled
    * Error collector (traced errors): Disabled
    * Transaction events: Disabled
  </Collapser>

  <Collapser
    id="messageQueueName"
    title="message.queueName"
  >
    The name of the queue this message was consumed from.

    Defaults:

    * Transaction traces: Enabled
    * Error collector (traced errors): Enabled
    * Transaction events: Enabled
  </Collapser>

  <Collapser
    id="messageReplyTo"
    title="message.replyTo"
  >
    The callback queue used in RPC configurations.

    Defaults:

    * Transaction traces: Disabled
    * Error collector (traced errors): Disabled
    * Transaction events: Disabled
  </Collapser>

  <Collapser
    id="messageRoutingKey"
    title="message.routingKey"
  >
    The routing key of the incoming message.

    Defaults:

    * Transaction traces: Enabled
    * Error collector (traced errors): Enabled
    * Transaction events: Enabled
  </Collapser>
</CollapserGroup>

## Python agent external trace attributes [#message_attributes]

The following sections list the attributes that can be configured in the Python agent for traces started by outgoing libraries, like [httplib, boto3, requests,](/docs/agents/python-agent/getting-started/instrumented-python-packages#external-web-services) and so on, or when using the [external trace API](/docs/agents/python-agent/python-agent-api/external-trace). For more information, see [Python agent configuration: attributes](/docs/python/python-agent-configuration#attributes).

<CollapserGroup>
  <Collapser
    id="httpUrl"
    title="http.url"
  >
    The url of the outgoing call, stripped of any request parameters.

    Excluded when:

    * A rule matching 'http.url' is present in the "transaction_segments.attributes.exclude" setting. (for segments)

    * A rule matching 'http.url' is present in the "span_events.attributes.exclude" configuration setting. (for spans)

      Defaults:

    * Transaction segments: Enabled

    * Span events: Enabled
  </Collapser>
</CollapserGroup>

## Python agent database trace attributes [#message_attributes]

The following sections list the attributes that can be configured in the Python agent for traces started by database libraries like [mysql, psycopg2, cx_Oracle,](/docs/agents/python-agent/getting-started/instrumented-python-packages#sql-database-adapters) and so on, or when using the database trace API. For more information, see [Python agent configuration: attributes](/docs/python/python-agent-configuration#attributes).

<CollapserGroup>
  <Collapser
    id="dbdbInstance"
    title="db.instance"
  >
    The name of the database used in the query.

    Excluded when:

    * The "datastore_tracer.database_name_reporting.enabled" configuration setting is set to False.

    * If a rule matching 'db.instance' is present in the "transaction_segments.attributes.exclude" setting (for segments)

    * If a rule matching 'db.instance' is present in the "span_events.attributes.exclude" configuration setting. (for spans)

      Defaults:

    * Transaction segments: Enabled

    * Span events: Enabled
  </Collapser>

  <Collapser
    id="dbHost"
    title="host"
  >
    The host used to connect to the database.

    Excluded when:

    * The "datastore_tracer.instance_reporting.enabled configuration" setting is set to False.

      Defaults:

    * Transaction segments: Enabled
  </Collapser>

  <Collapser
    id="dbPortPathOrId"
    title="port_path_or_id"
  >
    The port, path, or ID of the database.

    Excluded when:

    * The "datastore_tracer.instance_reporting.enabled configuration" setting is set to False.

      Defaults:

    * Transaction segments: Enabled
  </Collapser>

  <Collapser
    id="sql"
    title="sql"
  >
    The SQLl used in the query, as processed according to the [transaction_tracer.record_sql setting](/docs/agents/python-agent/configuration/python-agent-configuration#txn-tracer-sql). Large queries are limited in size.

    Excluded when:

    * The "transaction_tracer.record_sql setting" setting is set to "off."

      Defaults:

    * Transaction segments: Enabled, reported as "obfuscated" SQL.
  </Collapser>

  <Collapser
    id="dbPeerHostname"
    title="peer.hostname"
  >
    The host used to connect to the database.

    Excluded when:

    * The "datastore_tracer.instance_reporting.enabled configuration" setting is set to False. (Otherwise, "Unknown" is reported instead.)

      Defaults:

    * Span events: Enabled
  </Collapser>

  <Collapser
    id="dbPeerAddress"
    title="peer.address"
  >
    The host used to connect to the database, including the port or path information.

    Excluded when:

    * The "datastore_tracer.instance_reporting.enabled configuration" setting is set to False. (Otherwise, "Unknown" is reported instead.)

      Defaults:

    * Span events: Enabled
  </Collapser>

  <Collapser
    id="dbStatement"
    title="db.statement"
  >
    The SQL used in the query, as processed according to the [transaction_tracer.record_sql setting](/docs/agents/python-agent/configuration/python-agent-configuration#txn-tracer-sql). Large queries are limited in size.

    Excluded when:

    * The "transaction_tracer.record_sql setting" setting is set to "off."

      Defaults:

    * Span events: Enabled, reported as "obfuscated" SQL.
  </Collapser>

  <Collapser
    id="dbOperation"
    title="db.operation"
  >
    The database operation that was performed by this span. Only to be included if db.statement is not applicable.

    Excluded when:

    * The attribute db.statement is reported.

      Defaults:

    * Transaction segments: Enabled

    * Span events: Enabled
  </Collapser>
</CollapserGroup>

## Python agent datastore trace attributes [#message_attributes]

The following sections list the attributes that can be configured in the Python agent for traces started by datastore libraries like [redis, memcache, pymongo,](/docs/agents/python-agent/getting-started/instrumented-python-packages#sql-database-adapters) and so on, or when using the [datastore trace API](/docs/agents/python-agent/python-agent-api/datastore_trace). For more information, see [Python agent configuration: attributes](/docs/python/python-agent-configuration#attributes).

<CollapserGroup>
  <Collapser
    id="dbdbInstance"
    title="db.instance"
  >
    The name of the datastore instance used in the query.

    Excluded when:

    * The "datastore_tracer.database_name_reporting.enabled" configuration setting is set to False.

    * If a rule matching 'db.instance' is present in the "transaction_segments.attributes.exclude" setting (for segments).

    * If a rule matching 'db.instance' is present in the "span_events.attributes.exclude" configuration setting (for spans).

      Defaults:

    * Transaction segments: Enabled

    * Span events: Enabled
  </Collapser>

  <Collapser
    id="dsHost"
    title="host"
  >
    The host used to connect to the datastore.

    Excluded when:

    * The "datastore_tracer.instance_reporting.enabled configuration" setting is set to False.

      Defaults:

    * Transaction segments: Enabled
  </Collapser>

  <Collapser
    id="dsPortPathOrId"
    title="port_path_or_id"
  >
    The port, path, or ID of the datastore.

    Excluded when:

    * The "datastore_tracer.instance_reporting.enabled configuration" setting is set to False.

      Defaults:

    * Transaction segments: Enabled
  </Collapser>

  <Collapser
    id="dsPeerHostname"
    title="peer.hostname"
  >
    The host used to connect to the datastore.

    Excluded when:

    * The "datastore_tracer.instance_reporting.enabled configuration" setting is set to False. (Otherwise, "Unknown" will be reported instead.)

      Defaults:

    * Span events: Enabled
  </Collapser>

  <Collapser
    id="dsPeerAddress"
    title="peer.address"
  >
    The host used to connect to the datastore, including the port, path, or ID information.

    Excluded when:

    * The "datastore_tracer.instance_reporting.enabled configuration" setting is set to False. (Otherwise, "Unknown" will be reported instead.)

      Defaults:

    * Span events: Enabled
  </Collapser>
</CollapserGroup>

## Python agent span attributes [#attributes]

The following sections list the attributes that can be configured in the Python agent for [span events](/docs/apm/distributed-tracing/ui-data/span-event). For more information, see [Python agent configuration: attributes](/docs/python/python-agent-configuration#attributes).

<CollapserGroup>
  <Collapser
    id="errorClass"
    title="error.class"
  >
    The class of exception, if one exists, that is recorded on the span event. Exception details can be recorded on spans with the [notice_error](/docs/agents/python-agent/python-agent-api/noticeerror-python-agent-api/) API.

    Defaults:

    * Span events: Enabled
  </Collapser>

  <Collapser
    id="errorMessage"
    title="error.message"
  >
    The exception message, if one exists, that is recorded on the span event. Exception details can be recorded on spans with the [notice_error](/docs/agents/python-agent/python-agent-api/noticeerror-python-agent-api/) API.

    Defaults:

    * Span events: Enabled
  </Collapser>
</CollapserGroup>

## Add custom attributes [#adding_custom_attributes]

To capture additional custom attributes from your application, use `newrelic.agent.add_custom_attribute()`.

For full reference see, [Collecting custom attributes](/docs/apm/other-features/attributes/collecting-custom-attributes#python-att).

Defaults:

* Transaction traces: Enabled
* Error collector (traced errors): Enabled
* Transaction events: Enabled
* Page views (browser monitoring): Disabled

<Callout variant="important">
  Before creating custom attributes, review our list of [reserved terms](/docs/insights/event-data-sources/custom-events/data-requirements-limits-custom-event-data/#reserved-words). Otherwise, unexpected results might occur.
</Callout>

## Add custom attributes to exceptions [#adding_error_attributes]

When using the `newrelic.agent.notice_error()` API call, you can pass in a dictionary of `params` that will be recorded as attributes on the traced error.

Defaults:

* Transaction traces: Unavailable
* Error collector (traced errors): Enabled
* Transaction events: Unavailable
* Page views (browser monitoring): Unavailable

## Upgrade your config file [#upgrading]

Upgrade your <DNT>**newrelic.ini**</DNT> configuration file when you upgrade to Python agent <DNT>**2.56.0.42**</DNT> or higher. For more information about deprecated configuration settings, see [Enabling and disabling attributes](/docs/agents/python-agent/attributes/enabling-disabling-attributes-python#deprecated).
