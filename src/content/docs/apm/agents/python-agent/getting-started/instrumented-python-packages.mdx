---
title: Instrumented Python packages
tags:
  - Agents
  - Python agent
  - Getting started
metaDescription: Summary of Python packages and modules that are automatically instrumented with the New Relic Python agent.
redirects:
  - /docs/agents/python-agent/getting-started/instrumented-python-packages
  - /docs/python/instrumented-python-packages
  - /docs/agents/python-agent/supported-features/instrumented-python-packages
---

This document lists the packages and modules automatically instrumented by the [Python agent](/docs/agents/python-agent/getting-started/new-relic-python) after you [install](/docs/agents/python-agent/getting-started/python-agent-quick-start) it. You can also use [custom instrumentation](/docs/agents/python-agent/supported-features/python-custom-instrumentation) if you want to:

* Disable instrumentation for specific packages or modules if the instrumentation interferes with your app.
* Instrument a-third party package or module that is not instrumented automatically by the agent.
* Add more specific instrumentation for your own code, such as to track the time spent in additional functions.

To request built-in instrumentation for additional packages, get support at [support.newrelic.com](https://support.newrelic.com).

## Web frameworks

<CollapserGroup>
  <Collapser
    id="aiohttp"
    title={<ExternalLink href="http://aiohttp.readthedocs.io">aiohttp</ExternalLink>}
  >
    Support for versions 2.2.x or higher.

    Function timing in transactions traces for slow transactions is provided for:

    * View functions (coroutines).
    * Application middleware.

    Exception logging is provided for:

    * Uncaught exceptions resulting in a non-200 HTTP response.

    The web transaction is named after the view function.
  </Collapser>

  <Collapser
    id="bottle"
    title={<ExternalLink href="http://bottlepy.org/">Bottle</ExternalLink>}
  >
    Function timing in transactions traces for slow transactions is provided for:

    * View function.
    * Template rendering via SimpleTemplate, MakoTemplate, CheetahTemplate, Jinja2Template and SimpleTalTemplate interfaces.

    Exception logging is provided for:

    * Uncaught exceptions which would otherwise generate 500 responses from Bottle.

    The web transaction is named after the view function.

    As Bottle uses external template libraries, see also which of those packages may be supported for additional detail.
  </Collapser>

  <Collapser
    id="cherrypy"
    title={<ExternalLink href="http://cherrypy.org/">CherryPy</ExternalLink>}
  >
    Function timing in transactions traces for slow transactions is provided for:

    * Handler function.

    Exception logging is provided for:

    * Uncaught exceptions which would otherwise generate 500 responses from CherryPy.

    The web transaction is named after the handler function.

    As CherryPy relies upon external template libraries, see also which of those packages may be supported for additional detail.
  </Collapser>

  <Collapser
    id="django"
    title={<ExternalLink href="http://www.djangoproject.com/">Django</ExternalLink>}
  >
    Function timing in transactions traces for slow transactions is provided for:

    * Request middleware.
    * View middleware.
    * Template response middleware.
    * Response middleware.
    * Exception middleware.
    * Template rendering.

    Exception logging is provided for:

    * Exceptions occurring during loading of view handlers by URL resolver.
    * Exceptions occurring within the execution of the view handler.
    * Uncaught exceptions which would otherwise generate 500 responses from Django.

    Page load timing (sometimes referred to as real user monitoring or RUM) support consists of:

    * Optional automatic insertion of JavaScript header/footer via response middleware.
    * Provision of template tag library to enable manual insertion of the JavaScript header/footer into templates.

    The web transaction is named after the view handler, unless a request or view middleware returns a response object prior to the view handler being invoked.

    Instrumentation is also implemented to provide better web transaction naming or additional functional tracing when using:

    * [django-REST-framework](http://www.django-rest-framework.org/)
    * [django-piston](https://bitbucket.org/jespern/django-piston/wiki/Home)
    * [django-tastypie](http://tastypieapi.org/)
  </Collapser>

  <Collapser
    id="falcon"
    title={<ExternalLink href="https://falconframework.org/">Falcon</ExternalLink>}
  >
    Function timing in transactions traces for slow transactions is provided for:

    * Handler function.

    Exception logging is provided for:

    * Uncaught exceptions which would otherwise generate error responses from Falcon.

    The web transaction is named after the handler function.
  </Collapser>

  <Collapser
    id="fastapi"
    title={<ExternalLink href="https://github.com/tiangolo/fastapi">FastAPI</ExternalLink>}
  >
    Function timing in transactions traces for slow transactions is provided for:

    * Route functions (coroutines).
    * Application middleware.
    * Exception handlers.
    * Background Tasks

    Exception logging is provided for:

    * Exceptions occurring inside middleware.
    * Exceptions occurring inside an exception handler.
    * Uncaught exceptions which would otherwise generate 500 responses from FastAPI.

    The web transaction is named after the route handler.
  </Collapser>

  <Collapser
    id="flask"
    title={<ExternalLink href="http://flask.pocoo.org/">Flask</ExternalLink>}
  >
    Function timing in transactions traces for slow transactions is provided for:

    * View function.
    * Template rendering via render_template() and render_template_string().

    Exception logging is provided for:

    * Uncaught exceptions which would otherwise generate 500 responses from Flask.

    The web transaction is named after the view function.

    As Flask uses Jinja2 for templates, see also details of Jinja2 instrumentation listed below.
  </Collapser>

  <Collapser
    id="grpc"
    title={<ExternalLink href="https://grpc.github.io/grpc/python/">gRPC</ExternalLink>}
  >
    Supported for versions 1.4 or higher.

    Function timing in transaction traces for slow transactions is provided for:

    * `_stream_response_in_pool`
    * `_unary_response_in_pool`

    Exception logging is provided for:

    * grpc server aborts
  </Collapser>

  <Collapser
    id="pylons"
    title={<ExternalLink href="http://pylonsproject.org/">Pylons</ExternalLink>}
  >
    Function timing in transactions traces for slow transactions is provided for:

    * Controller function, before and after methods.
    * Template rendering via render_genshi(), render_jinja2() and render_mako().

    Exception logging is provided for:

    * Uncaught exceptions which would otherwise generate 500 responses from Pylons.

    The web transaction is named after the controller/action.

    As Pylons can use Genshi, Jinja2 or Mako for templates see also details of instrumentation for those modules listed below.
  </Collapser>

  <Collapser
    id="pyramid"
    title={<ExternalLink href="http://pylonsproject.org/">Pyramid</ExternalLink>}
  >
    Function timing in transactions traces for slow transactions is provided for:

    * View handler functions.

    Exception logging is provided for:

    * Uncaught exceptions which would otherwise generate 500 responses from Pyramid.

    The web transaction is named after the view handler.
  </Collapser>

  <Collapser
    id="sanic"
    title={<ExternalLink href="https://github.com/channelcat/sanic">Sanic</ExternalLink>}
  >
    Function timing in transactions traces for slow transactions is provided for:

    * View functions (coroutines).
    * Application middleware.

    Exception logging is provided for:

    * Exceptions occurring inside of a request middleware.
    * Exceptions occurring inside of a response middleware.
    * Exceptions occurring inside a request handler.
    * Exceptions occurring inside an exception handler.
    * Uncaught exceptions which would otherwise generate 500 responses from Sanic.

    The web transaction is named after the view handler.
  </Collapser>

  <Collapser
    id="starlette"
    title={<ExternalLink href="https://github.com/encode/starlette">Starlette</ExternalLink>}
  >
    Function timing in transactions traces for slow transactions is provided for:

    * Route functions (coroutines).
    * Application middleware.
    * Exception handlers.
    * Background Tasks

    Exception logging is provided for:

    * Exceptions occurring inside middleware.
    * Exceptions occurring inside an exception handler.
    * Uncaught exceptions which would otherwise generate 500 responses from Starlette.

    The web transaction is named after the route handler.
  </Collapser>

  <Collapser
    id="tornado"
    title={<ExternalLink href="http://www.tornadoweb.org/en/stable/">Tornado</ExternalLink>}
  >
    You can use the Python agent with an app that uses [Tornado 6](/docs/agents/python-agent/web-frameworks-servers/python-agent-tornado-6-web-framework).
  </Collapser>

  <Collapser
    id="web2py"
    title={<ExternalLink href="http://web2py.com/">Web2py</ExternalLink>}
  >
    Function timing in transactions traces for slow transactions is provided for:

    * Overall time in models phase.
    * Overall time in controller phase.
    * Overall time in view phase.
    * Execution time for specific scripts executed within models, controller and view phases.

    Exception logging is provided for:

    * Uncaught exceptions which would otherwise generate 500 responses from Web2py.

    The web transaction is named after the view script.
  </Collapser>
</CollapserGroup>

## Back-end services [#backend-services]

<CollapserGroup>
  <Collapser
    id="gearman"
    title={<ExternalLink href="https://pypi.python.org/pypi/gearman/">gearman</ExternalLink>}
  >
    Timing of task execution performed in a gearman worker recorded as background tasks against designated web application. Timing as a web external any client side calls to a gearman server to queue up or wait for the execution of queued tasks.
  </Collapser>

  <Collapser
    id="celery"
    title={<ExternalLink href="http://celeryproject.org/">Celery</ExternalLink>}
  >
    Timing of task execution recorded as background tasks against designated web application.
  </Collapser>
</CollapserGroup>

## Template rendering

<CollapserGroup>
  <Collapser
    id="genshi"
    title={<ExternalLink href="http://genshi.edgewall.org/">Genshi</ExternalLink>}
  >
    Function timing in transactions traces for slow transactions is provided for:

    * Template rendering.
  </Collapser>

  <Collapser
    id="jinja2"
    title={<ExternalLink href="http://jinja.pocoo.org/">Jinja2</ExternalLink>}
  >
    Function timing in transactions traces for slow transactions is provided for:

    * Template compilation.
    * Template rendering.
  </Collapser>

  <Collapser
    id="mako"
    title={<ExternalLink href="http://www.makotemplates.org/">Mako</ExternalLink>}
  >
    Function timing in transactions traces for slow transactions is provided for:

    * Template rendering.
  </Collapser>
</CollapserGroup>

## GraphQL Frameworks

The Python agent provides insight into your GraphQL application's operations and resolvers and reports GraphQL-specific metrics and span attributes. For more information on transaction naming and other features, please view our [GraphQL documentation](/docs/agents/python-agent/supported-features/python-graphQL). As of agent version 6.10.0.165, the agent supports the following GraphQL frameworks:

* [Graphene](https://docs.graphene-python.org/en/latest/)
* [Ariadne](https://ariadnegraphql.org/docs/intro)
* [Strawberry](https://strawberry.rocks/)
* [Starlette GraphQL](https://www.starlette.io/graphql/)
* [FastAPI GraphQL](https://fastapi.tiangolo.com/advanced/graphql/)


## Instance details

The agent collects [instance details for a variety of databases and database drivers](/docs/apm/applications-menu/features/analyze-database-instance-level-performance-issues). The ability to view specific instances and the types of database information depends on your Python agent version.

Python agent [version 2.72.0.52 or higher](/docs/release-notes/agent-release-notes/python-release-notes) supports the following:

<table>
  <thead>
    <tr>
      <th>
        Database
      </th>

      <th>
        Python package name
      </th>

      <th>
        Minimum package version
      </th>

      <th>
        Minimum agent version
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [PostgreSQL](https://www.postgresql.org/)
      </td>

      <td>
        [psycopg2](https://pypi.python.org/pypi/psycopg2)
      </td>

      <td>
        2.0.14
      </td>

      <td>
        2.72.0.52
      </td>
    </tr>

    <tr>
      <td>
        [MySQL](http://www.mysql.com/)
      </td>

      <td>
        [MySQLdb](https://pypi.python.org/pypi/MySQL-python/)
      </td>

      <td>
        1.2.5
      </td>

      <td>
        2.74.0.54
      </td>
    </tr>

    <tr>
      <td>
        [Redis](http://redis.io/)
      </td>

      <td>
        [redis](https://pypi.python.org/pypi/redis)
      </td>

      <td>
        2.6.2
      </td>

      <td>
        2.74.0.54
      </td>
    </tr>

    <tr>
      <td>
        [Memcached](https://memcached.org/)
      </td>

      <td>
        [python-memcached](https://pypi.python.org/pypi/python-memcached)
      </td>

      <td>
        1.51
      </td>

      <td>
        2.76.0.55
      </td>
    </tr>

    <tr>
      <td>
        [Elasticsearch](https://www.elastic.co/products/elasticsearch)
      </td>

      <td>
        [elasticsearch](https://pypi.python.org/pypi/elasticsearch)
      </td>

      <td>
        0.45
      </td>

      <td>
        2.78.0.56
      </td>
    </tr>
  </tbody>
</table>

To request instance-level information from datastores currently not listed for your agent, get support at [support.newrelic.com](https://support.newrelic.com).

## SQL database adapters

For Python DB-API 2.0 compliant modules listed in this section, the Python agent supports:

* Timing of database queries
* Capturing SQL for the database query
* Capturing a stack trace for long database queries
* MySQL and PostgreSQ only: Capturing explain plans for slow database queries

The Python agent should be able to track database queries for any Python DB-API 2.0 compliant modules. However, we only officially supports the modules listed in this section..

* [cx_Oracle](http://cx-oracle.sourceforge.net/)
* [MySQLdb](http://mysql-python.sourceforge.net/)
* [oursql](https://launchpad.net/oursql)
* [proboscis](https://pypi.python.org/pypi/proboscis)
* [psycopg2](http://initd.org/psycopg/)
* [psycopg2ct](http://pypi.python.org/pypi/psycopg2ct)
* [psycopg2cffi](http://pypi.python.org/pypi/psycopg2cffi)
* [pymysql](https://github.com/petehunt/PyMySQL)
* [pyodbc](https://pypi.org/project/pyodbc/)
* [ibm_db_dbi](https://pypi.python.org/pypi/ibm_db)
* [mysql-connector-python](http://dev.mysql.com/doc/connector-python/en/index.html)
* [py-postgresql](http://python.projects.pgfoundry.org/)
* [pymssql](http://www.pymssql.org/)

For the following database adapters, we provides additional instrumentation for functionality outside of the DB-API 2.0 specification, such as shortcut methods to execute queries without creating cursors:

* [pysqlite2](http://pypi.python.org/pypi/pysqlite/)
* [sqlite3](http://docs.python.org/library/sqlite3.html)

If your database client module is not listed in this section, get support at [support.newrelic.com](https://support.newrelic.com). New Relic Support may be able to suggest a temporary change to your config file to get it working.

## NoSQL database clients

Timing of calls made against NoSQL databases are provided for the following client modules.

* [pymongo](http://pypi.python.org/pypi/pymongo/)
* [redis](http://pypi.python.org/pypi/redis/)

## Elasticsearch clients

Time spent in calls made to Elasticsearch will be listed in both the main overview chart, as well as in the Databases tab in the UI.

* [elasticsearch](https://www.elastic.co/guide/en/elasticsearch/client/python-api/current/index.html)
* [pyelasticsearch](http://pyelasticsearch.readthedocs.org/)

## Memcache clients

Timing of memcache requests and capture of type of request is provided for the following memcache client modules.

* [memcache](http://www.tummy.com/Community/software/python-memcached/)
* [pylibmc](http://sendapatch.se/projects/pylibmc/)
* [bmemcached](https://github.com/jaysonsantos/python-binary-memcached)
* [pymemcache](https://github.com/Pinterest/pymemcache)
* [umemcache](https://github.com/esnme/ultramemcache)

## Solr service clients

Timing of Solr service requests and type of request is provided for the following Solr client modules.

* [pysolr](http://pypi.python.org/pypi/pysolr/)
* [solrpy](https://pypi.org/project/solrpy/)

## Message broker clients

Timing of message broker transactions is provided for the following modules.

* [pika](https://pypi.python.org/pypi/pika)

## External web services

Timing of external web service requests is carried out via the following modules.

* [aiohttp](http://aiohttp.readthedocs.io)
* [dropbox](https://www.dropbox.com/developers/start/setup#python)
* [facepy](http://facepy.readthedocs.org/)
* [feedparser](https://pypi.python.org/pypi/feedparser)
* [gRPC](https://grpc.github.io/grpc/python/)
* [httplib](http://docs.python.org/library/httplib.html)
* [httplib2](https://pypi.org/project/httplib2/)
* [httpx](https://www.python-httpx.org/)
* [pywapi](https://code.google.com/archive/p/python-weather-api/)
* [requests](http://docs.python-requests.org)
* [urllib](http://docs.python.org/library/urllib.html)
* [urllib2](http://docs.python.org/library/urllib2.html)
* [urllib3](https://urllib3.readthedocs.org/en/latest/)
* [xmlrpclib](http://docs.python.org/library/xmlrpclib.html)
