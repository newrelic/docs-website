---
title: newrelic_record_custom_event (PHP agent API)
type: apiDoc
shortDescription: Record a custom event with the given name and attributes.
tags:
  - Agents
  - PHP agent
  - PHP agent API
metaDescription: New Relic PHP agent API call to report custom event data to New Relic.
redirects:
  - /docs/agents/php-agent/php-agent-api/newrelic_record_custom_event
---

## Syntax

```
newrelic_record_custom_event(string $name, array $attributes)
```

Record a custom event with the given name and attributes.

## Requirements

Agent version [4.18.0.89](/docs/release-notes/agent-release-notes/php-release-notes/php-agent-418089) or higher.

## Description

Records a [custom event](/docs/using-new-relic/welcome-new-relic/getting-started/glossary#custom%20event) for use in [New Relic](/docs/insights/new-relic-insights/understanding-insights/new-relic-insights). For more information, see [Inserting custom events with the PHP agent](/docs/insights/new-relic-insights/adding-querying-data/inserting-custom-events-new-relic-agents#php-att).

<Callout variant="tip">
  When creating custom events, follow these rules:

  * The agent records a maximum of 10,000 events per minute. Limit the number of unique event type names that you create, and do not generate these names dynamically.
  * Avoid using [reserved words](/docs/insights/nrql-new-relic-query-language/nrql-resources/reserved-words) and characters for the event and attributes names.
  * Ensure you do not exceed the event size and rate restrictions.
</Callout>

## Parameters

<table>
  <thead>
    <tr>
      <th width="25%">
        Parameter
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `$name`

        _string_
      </td>

      <td>
        Required. Name of the custom event.
      </td>
    </tr>

    <tr>
      <td>
        `$attributes`

        _array_
      </td>

      <td>
        Required. Supply custom attributes as an associative array. Supply the attribute names as keys of up to 255 characters, and supply the values as scalar values. Arrays and objects are not supported.
      </td>
    </tr>
  </tbody>
</table>

## Examples

### Basic example

```
if (extension_loaded('newrelic')) { // Ensure PHP agent is available
    newrelic_record_custom_event("WidgetSale", array("color"=>"red", "weight"=>12.5));
}
```

## For more help

If you need more help, check out these support and learning resources:

* Suggest a change and learn how to [contribute](https://github.com/newrelic/newrelic-php-agent/issues) to our PHP agent open source repository.
* Browse the [Explorers Hub](https://discuss.newrelic.com/) to get help from the community and join in discussions.
* Find [answers on our sites and learn how to use our support portal](/docs/using-new-relic/welcome-new-relic/get-started/find-help-use-support-portal/).
* Run [New Relic Diagnostics](/docs/using-new-relic/cross-product-functions/troubleshooting/new-relic-diagnostics/), our troubleshooting tool for Linux, Windows, and macOS.
* Review New Relic's [data security](/docs/security/) and [licenses](/docs/licenses/) documentation.