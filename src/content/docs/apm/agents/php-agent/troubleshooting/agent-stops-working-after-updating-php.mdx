---
title: Agent stops working after updating PHP
type: troubleshooting
tags:
  - Agents
  - PHP agent
  - Troubleshooting
redirects:
  - /docs/agents/php-agent/troubleshooting/agent-stops-working-after-updating-php
  - /docs/agent-stops-working-after-updating-php
---

## Problem

You updated PHP to a [supported release version](/docs/agents/php-agent/getting-started/php-agent-compatibility-requirements#php-release), but the PHP agent stopped working or reporting.

## Solution

If you update your PHP installation to another major release version (for example, 5.3 to 5.4), you must reinstall the PHP agent. Updating PHP to minor release versions does not require reinstalling the agent.

To reinstall the agent, follow the [installation instructions](/docs/agents/php-agent/installation/php-agent-installation-overview) for your platform, or use the `newrelic-install install` command to start the **[newrelic-install script](/docs/agents/php-agent/advanced-installation/using-newrelic-install-script)**.

If you are using a package manager (for example, `apt-get upgrade`) to update PHP without specifying packages, you may also be [upgrading the New Relic PHP agent](/docs/agents/php-agent/installation/upgrading-php-agent) in the process. To ensure the upgrade is applied successfully:

1. Restart your web server (Apache, Nginx, PHP-FPM, etc.).
2. Wait five minutes to see if the agent starts reporting.
3. If the agent is still not reporting, [verify the daemon setup](/docs/agents/php-agent/troubleshooting/verifying-php-daemon). If it is set to start in external mode, you must [manually start the daemon](/docs/agents/php-agent/advanced-installation/starting-php-daemon-advanced#daemon-external) for the agent to start reporting.