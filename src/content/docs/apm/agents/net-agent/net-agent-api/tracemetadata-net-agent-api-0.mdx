---
title: TraceMetadata (.NET agent API)
type: apiDoc
shortDescription: Returns properties in the current execution environment used to support tracing.
tags:
  - Agents
  - NET agent
  - NET agent API
metaDescription: New Relic .NET agent API call to attach custom attributes to your transaction data.
redirects:
  - /docs/agents/net-agent/net-agent-api/tracemetadata-net-agent-api-0
freshnessValidatedDate: never
---

## Syntax

```cs
NewRelic.Api.Agent.TraceMetadata;
```

Returns properties in the current execution environment used to support tracing.

## Requirements

Agent version 8.19 or higher.

Compatible with all app types.

[Distributed tracing must be enabled](/docs/agents/net-agent/configuration/net-agent-configuration#distributed_tracing) to get meaningful values.

## Description

Provides access to the following properties:

### Properties

<table>
  <thead>
    <tr>
      <th width="25%">
        Name
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `TraceId`
      </td>

      <td>
        Returns a string representing the currently executing trace. If the trace ID is not available, or distributed tracing is disabled, the value will be `string.Empty`.
      </td>
    </tr>

    <tr>
      <td>
        `SpanId`
      </td>

      <td>
        Returns a string representing the currently executing span. If the span ID is not available, or distributed tracing is disabled, the value will be `string.Empty`.
      </td>
    </tr>

    <tr>
      <td>
        `IsSampled`
      </td>

      <td>
        Returns `true` if the current trace is sampled for inclusion, `false` if it is sampled out.
      </td>
    </tr>
  </tbody>
</table>

## Examples

```cs
IAgent agent = NewRelic.Api.Agent.NewRelic.GetAgent();
TraceMetadata traceMetadata = agent.TraceMetadata;
string traceId = traceMetadata.TraceId;
string spanId = traceMetadata.SpanId;
bool isSampled = traceMetadata.IsSampled;
```
