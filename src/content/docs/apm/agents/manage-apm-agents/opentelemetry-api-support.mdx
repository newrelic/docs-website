---
title: OpenTelemetry API support in New Relic agents
tags:
  - APM
  - Agents
  - Manage APM agents
  - OpenTelemetry
metaDescription: 'Use OpenTelemetry APIs for custom instrumentation with New Relic APM agents.'
freshnessValidatedDate: never
---

{/* cspell:ignore Collapser, CollapserGroup, AWSSDK, Npgsql, Owin, Armeria, otelbridgemode, Dotelbridgemode, Dopentelemetry, Dotel, boto, botocore */}

New Relic APM agents now support OpenTelemetry (OTel) APIs, allowing you to instrument your applications using vendor-neutral OpenTelemetry APIs while maintaining full access to New Relic's powerful APM features. This capability gives you the flexibility to write portable instrumentation code without sacrificing the depth of insights and features that New Relic provides.

## Benefits [#benefits]

Using OpenTelemetry API support with New Relic agents provides several advantages:

* **Vendor-neutral instrumentation**: Write custom instrumentation using standard OpenTelemetry APIs that work across observability platforms
* **No migration required**: Enable OTel API support in your existing New Relic agent without ripping and replacing your instrumentation
* **Gradual adoption**: Use OpenTelemetry APIs for new custom instrumentation while existing New Relic instrumentation continues to work
* **Mixed-mode compatibility**: Seamlessly trace requests across services instrumented with New Relic agents, OpenTelemetry APIs, or pure OTel agents
* **Community instrumentation**: Leverage native OpenTelemetry instrumentation for frameworks and libraries

## What this feature provides [#what-it-provides]

When you enable OpenTelemetry API support in a New Relic agent, the agent can:

* Capture spans, traces, metrics, and logs created using OpenTelemetry APIs
* Integrate OTel-generated telemetry seamlessly into New Relic APM traces
* Support native OpenTelemetry instrumentation that doesn't conflict with New Relic's built-in instrumentation
* Maintain trace context across mixed New Relic and OpenTelemetry instrumented services

<Callout variant="important">
This feature is **disabled by default**. You must explicitly enable it through agent configuration.
</Callout>

## Supported languages and features [#supported-languages]

OpenTelemetry API support is available for the following New Relic APM agents:

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>Language</th>
      <th style={{ width: "120px" }}>Minimum version</th>
      <th>Traces API</th>
      <th>Metrics API</th>
      <th>Logs API</th>
      <th>Span links</th>
      <th>Events on spans</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Java</td>
      <td>[SME: VERSION]</td>
      <td><Icon name="fe-check" /></td>
      <td><Icon name="fe-check" /></td>
      <td><Icon name="fe-check" /></td>
      <td><Icon name="fe-check" /></td>
      <td><Icon name="fe-check" /></td>
    </tr>
    <tr>
      <td>Node.js</td>
      <td>[SME: VERSION]</td>
      <td><Icon name="fe-check" /></td>
      <td><Icon name="fe-check" /></td>
      <td><Icon name="fe-check" /></td>
      <td><Icon name="fe-check" /></td>
      <td><Icon name="fe-check" /></td>
    </tr>
    <tr>
      <td>.NET</td>
      <td>[SME: VERSION]</td>
      <td><Icon name="fe-check" /></td>
      <td><Icon name="fe-check" /></td>
      <td>See note below</td>
      <td><Icon name="fe-check" /></td>
      <td><Icon name="fe-check" /></td>
    </tr>
    <tr>
      <td>Python</td>
      <td>[SME: VERSION]</td>
      <td><Icon name="fe-check" /></td>
      <td><Icon name="fe-x" /></td>
      <td><Icon name="fe-x" /></td>
      <td><Icon name="fe-x" /></td>
      <td><Icon name="fe-x" /></td>
    </tr>
    <tr>
      <td>Ruby</td>
      <td>[SME: VERSION]</td>
      <td><Icon name="fe-check" /></td>
      <td><Icon name="fe-x" /></td>
      <td><Icon name="fe-x" /></td>
      <td>[SME: CONFIRM]</td>
      <td>[SME: CONFIRM]</td>
    </tr>
  </tbody>
</table>

<Callout variant="tip">
**.NET logs:** The .NET agent already uses the logging library that became the OpenTelemetry API for log data. For backwards compatibility, enabling OpenTelemetry API support does not change how the .NET agent instruments logs.
</Callout>

### Sampling in Mixed Environments

All agents support **trace ratio sampling** for OpenTelemetry spans, which aligns with OpenTelemetry standards and ensures consistent sampling logic across mixed environments.

**Key benefits**:
* Consistent sampling decisions across New Relic and OTel-instrumented services
* Preservation of upstream trace decisions from OTel SDKs
* Support for Span Links to associate independently sampled traces

For details on how adaptive sampling works, sampling targets per agent, and configuration options, see [Distributed tracing sampling](/docs/distributed-tracing/concepts/how-new-relic-distributed-tracing-works/#trace-origin-sampling).

## Supported instrumentation types [#instrumentation-types]

### Native instrumentation (automatic)

Native OpenTelemetry instrumentation is supported out of the box. These instrumentations are built into the OpenTelemetry distribution and automatically work when you enable OpenTelemetry API support.

The specific native instrumentations available vary by language agent. See the [configuration section](#configuration) for details on which instrumentations are supported for each language.

<Callout variant="important">
**Known limitation**: Some native instrumentations may produce slightly different span names or metric names compared to New Relic's built-in instrumentation due to differences in OpenTelemetry semantic conventions (for example, Elasticsearch, RabbitMQ).
</Callout>

### Library instrumentation (not supported in initial release)

OpenTelemetry library instrumentations that require separate package installation are **not supported** in this release. This includes most language-specific OpenTelemetry contrib libraries that must be added as dependencies.

### Custom instrumentation with OpenTelemetry APIs

You can write custom instrumentation using the standard OpenTelemetry APIs:

* **Traces**: Create custom spans and add attributes using the OpenTelemetry Tracing API
* **Metrics**: Record custom metrics using the OpenTelemetry Metrics API (where supported)
* **Logs**: Write logs using the OpenTelemetry Logs API (where supported)

See the [OpenTelemetry documentation](https://opentelemetry.io/docs/instrumentation/) for details on using these APIs in your language.

## How to enable OpenTelemetry API support [#enable]

OpenTelemetry API support is disabled by default. Enable it through your agent's configuration:

<CollapserGroup>
  <Collapser
    id="java-config"
    title="Java agent configuration"
  >
    ### Enable OpenTelemetry API support

    Enable OpenTelemetry API support using the `otelbridgemode` system property:

    ```bash
    -Dotelbridgemode=true
    ```

    Additionally, configure OpenTelemetry SDK settings:

    ```bash
    -Dopentelemetry.sdk.spans.enabled=true
    -Dopentelemetry.sdk.autoconfigure.enabled=true
    ```

    <Callout variant="important">
    The Java agent does **not** ship any OpenTelemetry instrumentation. It only instruments the OpenTelemetry trace, metrics, and logs APIs to capture signals emitted by your application.
    </Callout>

    ### How it works

    The New Relic Java agent instruments the OpenTelemetry APIs such that it can capture telemetry from the following sources:

    #### 1. OpenTelemetry manual instrumentation

    Custom instrumentation written by customers using the OpenTelemetry trace, metrics, or logs APIs will be automatically captured by the agent.

    **Example**: See [OpenTelemetry API Bridge example](https://github.com/jasonjkeller/opentelemetry-api-bridge)

    #### 2. OpenTelemetry standalone library instrumentation

    Standalone library instrumentations do not require the OpenTelemetry Java agent. Customers add a standalone library as a dependency to their application, which provides an SDK to inject OpenTelemetry API calls into their libraries/frameworks.

    Any OpenTelemetry instrumentation listed with "Standalone Library Instrumentation" should generally work with the New Relic hybrid agent (though not all have been tested).

    **Example**: [Armeria client/server instrumentation](https://github.com/jasonjkeller/armeria-client-server-example)

    #### 3. OpenTelemetry native instrumentation

    Native instrumentation is manual instrumentation built directly into the library or framework by its maintainer. Customers using a library with native instrumentation may only need to toggle a configuration option to enable it.

    <Callout variant="tip">
    In Java, OpenTelemetry native instrumentation is sparse and only supported by a few libraries.
    </Callout>

    **Tested and verified:**
    - **Elasticsearch Java API Client**: Native OpenTelemetry instrumentation

    ### Configuration example: Elasticsearch

    To use Elasticsearch Java API Client with OpenTelemetry native instrumentation:

    **1. Add dependencies to build.gradle or pom.xml:**

    ```gradle
    implementation("io.opentelemetry:opentelemetry-sdk-extension-autoconfigure")
    implementation("io.opentelemetry:opentelemetry-exporter-otlp")
    ```

    **2. Initialize AutoConfiguredOpenTelemetrySdk in your application:**

    ```java
    import io.opentelemetry.sdk.autoconfigure.AutoConfiguredOpenTelemetrySdk;

    // Initialize in your application startup
    AutoConfiguredOpenTelemetrySdk.initialize();
    ```

    **3. Set JVM properties:**

    ```bash
    -Dotelbridgemode=true
    -Dopentelemetry.sdk.spans.enabled=true
    -Dopentelemetry.sdk.autoconfigure.enabled=true
    -Dotel.instrumentation.elasticsearch.enabled=true
    -Dotel.instrumentation.elasticsearch.capture-search-query=true
    ```

    ### Known limitations

    - **No automatic instrumentation**: Unlike the .NET agent, the Java agent does not automatically enable any OpenTelemetry instrumentations
    - **Manual setup required**: Customers must add dependencies and initialize the OpenTelemetry SDK
    - **Limited testing**: Only Elasticsearch native instrumentation has been thoroughly tested
    - **No bytecode instrumentation**: Java OpenTelemetry auto-instrumentation that uses bytecode manipulation conflicts with the New Relic agent
  </Collapser>

  <Collapser
    id="nodejs-config"
    title="Node.js agent configuration"
  >
    ### Enable OpenTelemetry API support

    Enable OpenTelemetry API support in your `newrelic.js` configuration file:

    ```javascript
    exports.config = {
      // ... other config
      opentelemetry_bridge: {
        enabled: true,
        traces: {
          enabled: true
        }
      }
      // ... other config
    }
    ```

    When starting your application, include the New Relic module and any OpenTelemetry instrumentation:

    ```bash
    node -r newrelic -r ./otel-instrumentation.js your-app.js
    ```

    <Callout variant="important">
    The Node.js agent does **not** automatically enable any OpenTelemetry instrumentations. It only instruments the OpenTelemetry APIs to capture telemetry emitted by your application.
    </Callout>

    ### Supported OpenTelemetry APIs

    When OpenTelemetry support is enabled, the Node.js agent fully supports:

    #### Traces API
    Create custom spans and add attributes using the OpenTelemetry Tracing API. See the [OpenTelemetry Node.js tracing example](https://github.com/newrelic/newrelic-node-examples/tree/4a3332d55e4455dca0f8eeba34a87e4a513a679a/opentelemetry-example).

    #### Metrics API
    The **Metrics API is the most useful feature** for Node.js customers. It expands the metrics collection capability to include dimensional metrics, a frequently requested feature.

    Record custom metrics using the OpenTelemetry Metrics API. See the [OpenTelemetry Node.js metrics example](https://github.com/newrelic/newrelic-node-examples/tree/4a3332d55e4455dca0f8eeba34a87e4a513a679a/opentelemetry-example).

    #### Logs API
    The JavaScript OpenTelemetry Logs API is still in development, but the Node.js agent supports it. You can use the API to emit logs that will be shipped to New Relic.

    See the [OpenTelemetry Node.js logs example](https://github.com/newrelic/newrelic-node-examples/tree/4a3332d55e4455dca0f8eeba34a87e4a513a679a/opentelemetry-example).

    ### Supported instrumentation types

    #### Manual instrumentation (recommended)
    Customers who instrument their applications with the OpenTelemetry API will find that the agent processes and ships that data correctly.

    #### Native and library instrumentation (limited)
    The list of OpenTelemetry instrumentations has significant overlap with the Node.js agent's supported modules. Instrumentations that are not already covered by the New Relic agent may:
    - Conflict with agent internals
    - Not have sufficient customer demand

    <Callout variant="caution">
    We have not tested OpenTelemetry instrumentations outside of the official OpenTelemetry list and cannot recommend specific ones at this time.
    </Callout>

    ### Configuration example: GCP Pub/Sub

    To use Google Cloud Pub/Sub with OpenTelemetry tracing:

    **1. Enable OpenTelemetry tracing in the Pub/Sub client:**

    ```javascript
    const { PubSub } = require('@google-cloud/pubsub');
    const newrelic = require('newrelic');

    const pubsubClient = new PubSub({
      enableOpenTelemetryTracing: true
    });
    ```

    **2. Wrap your function in a background transaction (if not in an existing transaction):**

    ```javascript
    newrelic.startBackgroundTransaction('publish-message', async function() {
      const txn = newrelic.getTransaction();
      await publishMessage(); // your publish function
      txn.end();
    });
    ```

    **3. Configure the agent:**

    ```javascript
    exports.config = {
      opentelemetry_bridge: {
        enabled: true,
        traces: {
          enabled: true
        }
      }
    };
    ```

    **4. Start your application:**

    ```bash
    node -r newrelic -r ./otel-instrumentation.js your-app.js
    ```

    ### Known limitations

    - **No automatic instrumentations**: The agent does not automatically enable OpenTelemetry instrumentations
    - **Memory baseline increase**: Known memory increase of approximately 1-2 MB when OpenTelemetry support is enabled
    - **Instrumentation conflicts**: Significant overlap between OpenTelemetry and New Relic instrumentations may cause conflicts
    - **Limited testing**: Most OpenTelemetry instrumentations beyond manual API usage have not been tested
  </Collapser>

  <Collapser
    id="dotnet-config"
    title=".NET agent configuration"
  >
    ### Enable OpenTelemetry API support

    Enable OpenTelemetry API support using either environment variables or the `newrelic.config` XML configuration file.

    **Using environment variables:**

    ```bash
    NEW_RELIC_OPENTELEMETRY_ENABLED=true
    NEW_RELIC_OPENTELEMETRY_TRACES_ENABLED=true
    NEW_RELIC_OPENTELEMETRY_METRICS_ENABLED=false
    ```

    **Using newrelic.config:**

    ```xml
    <configuration>
      <openTelemetry enabled="true">
        <traces enabled="true" include="" exclude="" />
        <metrics enabled="false" include="" exclude="" />
      </openTelemetry>
    </configuration>
    ```

    <Callout variant="tip">
    * **Traces** are enabled by default when OpenTelemetry support is enabled
    * **Metrics** are disabled by default and must be explicitly enabled
    * The `include` and `exclude` attributes accept comma-separated lists of activity source names (traces) or meter names (metrics)
    </Callout>

    ### Supported native instrumentations

    The following OpenTelemetry instrumentations work automatically when you enable OpenTelemetry API support:

    #### Traces instrumentations (out of the box)

    These tracing instrumentations work without additional configuration:

    * **AWSSDK.\*** (except specific clients listed in conflicts below)
    * **Elasticsearch** (version 8.15.0+)
    * **GraphQL**
    * **Grpc.Net.Client**
    * **Quartz**
    * **RabbitMQ**
    * **Custom instrumentation** written by customers using the OpenTelemetry Tracing API

    See the [OpenTelemetry documentation for .NET traces instrumentations](https://opentelemetry.io/docs/zero-code/dotnet/instrumentations/#traces-instrumentations) for the most up-to-date information.

    #### Metrics instrumentations (opt-in)

    When you enable metrics support, these OpenTelemetry metric instrumentations work automatically:

    * **ASP.NET**
    * **ASP.NET Core**
    * **HTTPClient**
    * **.NET Runtime**
    * **Npgsql**
    * **NServiceBus**
    * **Process metrics**
    * **SQLClient**
    * **Custom instrumentation** written by customers using the OpenTelemetry Metrics API

    See the [OpenTelemetry documentation for .NET metrics instrumentations](https://opentelemetry.io/docs/zero-code/dotnet/instrumentations/#metrics-instrumentations) and [Microsoft's built-in metrics documentation](https://learn.microsoft.com/en-us/dotnet/core/diagnostics/built-in-metrics) for more details.

    #### Logs instrumentations

    The .NET agent already instruments the logging library that became the OpenTelemetry API for log data. **No changes are required** for logs when enabling OpenTelemetry API support. For backwards compatibility, log instrumentation continues to work as before.

    ### Additional instrumentations (manual opt-in)

    The following OpenTelemetry instrumentations conflict with New Relic's built-in instrumentation and are **disabled by default**. You can manually enable them using the `include` configuration option if needed:

    * AspNet
    * AspNetCore
    * AWSSDK (Bedrock, DynamoDB, Firehose, Kinesis, Lambda, SQS)
    * Azure (Cosmos, Functions, Service Bus)
    * connector-net
    * Couchbase
    * Kafka
    * MassTransit
    * Microsoft.Data.SqlClient
    * MongoDB.Driver
    * Npgsql
    * NServiceBus.Core
    * OpenAI.ChatClient
    * Oracle.ManagedDataAccess
    * Owin
    * StackExchangeRedis
    * System.Data
    * System.Data.SqlClient
    * System.Net.Http
    * System.Web.Mvc
    * WCF

    <Callout variant="caution">
    These instrumentations are not actively tested by New Relic. While many were manually tested during initial implementation, you should thoroughly test them in your environment before using in production.
    </Callout>

    **Example: Manually enabling specific instrumentations**

    ```bash
    # Enable OpenTelemetry's Kafka instrumentation instead of New Relic's
    NEW_RELIC_OPENTELEMETRY_TRACES_INCLUDE=Kafka
    ```

    ```xml
    <openTelemetry enabled="true">
      <traces enabled="true" include="Kafka,MongoDB.Driver" />
    </openTelemetry>
    ```

  </Collapser>

  <Collapser
    id="python-config"
    title="Python agent configuration"
  >
    ### Enable OpenTelemetry API support

    Enable OpenTelemetry API support in your `newrelic.ini` configuration file or using environment variables:

    **Using newrelic.ini:**

    ```ini
    [newrelic]
    opentelemetry.enabled = true
    ```

    **Using environment variable:**

    ```bash
    NEW_RELIC_OPENTELEMETRY_ENABLED=true
    ```

    <Callout variant="important">
    When OpenTelemetry support is enabled, the agent will automatically detect if `opentelemetry-api` is installed and switch to using OpenTelemetry instrumentation for supported libraries.
    </Callout>

    ### Supported native instrumentations (automatic)

    These libraries have native OpenTelemetry instrumentation built in. When the agent detects both `opentelemetry-api` and one of these libraries, it will automatically disable New Relic's hooks and use the native OpenTelemetry instrumentation instead:

    * **Ariadne** (GraphQL library)
    * **Strawberry** (GraphQL library)
    * **Elasticsearch**

    <Callout variant="tip">
    **AI libraries** with native instrumentation are explicitly disabled for now and will be supported in a future release.
    </Callout>

    ### Supported library instrumentations (automatic detection)

    If the agent's OpenTelemetry setting is enabled and it detects that an OpenTelemetry instrumentation library is installed, it will automatically use the OpenTelemetry instrumentation instead of New Relic's instrumentation hooks.

    Most OpenTelemetry libraries from the [official OpenTelemetry Python instrumentation list](https://opentelemetry.io/ecosystem/registry/?language=python&component=instrumentation) should work.

    **Currently excluded** (will use New Relic instrumentation):
    * AWS libraries (boto, boto3sqs, botocore, aws-lambda)
    * gRPC libraries

    ### Manual instrumentation

    Any custom instrumentation written using the OpenTelemetry Tracing API will be captured by the agent.

    **Example:**

    ```python
    from opentelemetry import trace

    tracer = trace.get_tracer(__name__)

    with tracer.start_as_current_span("my-custom-span") as span:
        span.set_attribute("custom.attribute", "value")
        # Your code here
    ```

    ### Configuration options

    **Fine-tune instrumentation** (advanced):

    ```ini
    [newrelic]
    opentelemetry.enabled = true
    # Note: include/exclude settings will be functional in future releases
    # to help fine-tune which instrumentations are used
    ```

    ### Supported features

    #### Traces API
    ✅ **Fully supported**: Create custom spans and add attributes using the OpenTelemetry Tracing API

    #### Metrics API
    ❌ **Not yet supported**: OpenTelemetry Metrics API is not enabled in the Python agent

    #### Logs API
    ✅ **Already works**: The agent already supports logging as-is. There is no OpenTelemetry API for logging in Python (only an SDK exists). What OpenTelemetry configures for logging is whether it's enabled and which endpoints to send data to.

    ### How it works

    When OpenTelemetry support is enabled:

    1. **Agent searches** the system to determine if OpenTelemetry instrumentation libraries are installed
    2. **Automatic switching**: If found, the agent uses the OpenTelemetry library's instrumentation instead of New Relic's hooks
    3. **Seamless integration**: OpenTelemetry spans are integrated into New Relic traces

    ### Known limitations

    - **Metrics not supported**: OpenTelemetry Metrics API is not yet enabled
    - **Some AWS and gRPC libraries excluded**: Will continue to use New Relic instrumentation
    - **AI libraries disabled**: Native OpenTelemetry instrumentation for AI libraries is disabled for now
    - **Include/exclude settings**: Fine-tuning options are planned for future releases but only enable/disable is currently functional
  </Collapser>

  <Collapser
    id="ruby-config"
    title="Ruby agent configuration"
  >
    ### Enable OpenTelemetry API support

    [SME: Provide Ruby configuration details including:
    - Environment variables to enable OTel support
    - Config file settings (newrelic.yml)
    - Configuration example]

    ### Supported features

    #### Traces API
    ✅ **Supported**: Create custom spans and add attributes using the OpenTelemetry Tracing API

    #### Metrics API
    ❌ **Not supported**: OpenTelemetry Metrics API is not available in this release

    #### Logs API
    ❌ **Not supported**: OpenTelemetry Logs API is not available in this release

    #### Span Links
    [SME: Confirm if supported - initial docs indicated TBD]

    #### Events on Spans
    [SME: Confirm if supported - initial docs indicated TBD]

    ### Supported instrumentations

    [SME: Provide details about:
    - List of supported native instrumentations out of the box
    - Any known conflicts or instrumentations to exclude
    - Manual instrumentation capabilities]

    ### Known limitations

    - **Limited API support**: Only Traces API is supported in this release
    - **Metrics and Logs**: Not available
    - [SME: Add any Ruby-specific limitations or known issues]
  </Collapser>
</CollapserGroup>

## Verify it's working [#verify]

After enabling OpenTelemetry API support, verify that it's working:

1. Deploy your application with the updated agent configuration
2. If using custom instrumentation, ensure your code is creating spans/metrics using OpenTelemetry APIs
3. Generate traffic to your application
4. Check your New Relic APM UI:
   * Go to **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > APM & services > (select your app)**
   * View distributed traces to see spans created by OpenTelemetry APIs integrated into your traces
   * [SME: Are there any UI indicators that distinguish OTel spans from NR spans?]

## Limitations and known issues [#limitations]

### Instrumentation limitations

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>Limitation</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Library instrumentation not supported</td>
      <td>
        OpenTelemetry library instrumentations that require separate package installation are not supported in this release. Only native instrumentations that are built into the OpenTelemetry distribution work automatically.
      </td>
    </tr>
    <tr>
      <td>Java bytecode instrumentation conflicts</td>
      <td>
        Java OpenTelemetry auto-instrumentation that uses bytecode manipulation is not supported due to technical conflicts with the New Relic agent's bytecode instrumentation.
      </td>
    </tr>
    <tr>
      <td>Configuration required</td>
      <td>
        You may need to manually configure which instrumentations to enable or disable to avoid conflicts between OpenTelemetry and New Relic's built-in instrumentation.
      </td>
    </tr>
  </tbody>
</table>

### Semantic convention differences

Some OpenTelemetry instrumentations use different naming conventions for spans and metrics compared to New Relic's built-in instrumentation:

* **Elasticsearch**: Span names and operation names may differ in casing and length
* **RabbitMQ**: Distributed tracing works differently (span links vs. parent/child relationships)

<Callout variant="tip">
These differences may affect existing dashboards and alert conditions that rely on specific span or metric names. Review and update your queries if you switch from New Relic instrumentation to OpenTelemetry instrumentation for these services.
</Callout>

### Agent-specific limitations

* **Node.js**: Known memory baseline increase of approximately 1-2 MB
* **Python**: Only Traces API is supported; Metrics and Logs APIs are not available
* **Ruby**: Only Traces API is supported; Metrics and Logs APIs are not available
* **.NET**: Enabling OpenTelemetry metrics may increase dimensional metric ingest costs

### Configuration complexity

OpenTelemetry environment variables and configuration are **not** fully compatible with New Relic agent configuration. While your application code using OpenTelemetry APIs is vendor-neutral, the agent configuration remains New Relic-specific.

## Troubleshooting [#troubleshooting]

### OpenTelemetry spans not appearing in traces

If you've enabled OpenTelemetry API support but don't see OTel-generated spans in your traces:

<CollapserGroup>
  <Collapser
    id="verify-enabled"
    title="Verify OpenTelemetry support is enabled"
  >
    Check your agent configuration to confirm OpenTelemetry support is enabled:

    * Review environment variables or configuration files
    * Check agent logs for confirmation that OpenTelemetry support is active
    * Ensure you've restarted your application after changing configuration
  </Collapser>

  <Collapser
    id="check-version"
    title="Verify agent version"
  >
    Confirm you're running the minimum required agent version that supports OpenTelemetry APIs. See the [supported languages table](#supported-languages) above.
  </Collapser>

  <Collapser
    id="check-conflicts"
    title="Check for instrumentation conflicts"
  >
    Some OpenTelemetry instrumentations may conflict with New Relic's built-in instrumentation:

    * Review the list of conflicting instrumentations for your language
    * Use the `exclude` configuration to disable conflicting New Relic instrumentation, or
    * Use the `include` configuration to explicitly enable only specific OTel instrumentations
  </Collapser>

  <Collapser
    id="verify-instrumentation"
    title="Verify instrumentation type is supported"
  >
    Confirm the OpenTelemetry instrumentation you're trying to use is a **native instrumentation** (built into the OTel distribution) and not a library instrumentation that requires separate packages.

    Library instrumentations are not supported in this release.
  </Collapser>
</CollapserGroup>

### Memory usage increased (Node.js)

The Node.js agent with OpenTelemetry API support enabled has a known baseline memory increase of approximately 1-2 MB. This is expected behavior due to the additional OpenTelemetry SDK components loaded by the agent.

If memory usage increase is unacceptable for your use case:
* Disable OpenTelemetry API support if you're not actively using it
* Monitor memory usage and adjust your application's resource allocation accordingly

### Custom instrumentation not working

If custom instrumentation using OpenTelemetry APIs is not creating spans:

1. Verify you're using the correct OpenTelemetry API version for your language
2. Check that the API calls are actually being executed (add logging)
3. Ensure spans are being properly ended (incomplete spans may not appear)
4. Review agent logs for any errors related to OpenTelemetry instrumentation

[SME: Add any agent-specific troubleshooting steps]

## What's next? [#whats-next]

* Learn about [distributed tracing in New Relic](/docs/distributed-tracing/concepts/introduction-distributed-tracing/)
* Explore [OpenTelemetry documentation](https://opentelemetry.io/docs/instrumentation/) for your language
* Read about [OpenTelemetry data in New Relic](/docs/more-integrations/open-source-telemetry-integrations/opentelemetry/introduction-opentelemetry-new-relic/)
* [SME: Add links to related docs, migration guides, or best practices]

## Feedback [#feedback]

This is a new capability and we're actively iterating based on customer feedback. If you have suggestions or encounter issues, please contact your New Relic account team or [file a support ticket](/docs/new-relic-solutions/solve-common-issues/find-help-use-support-portal/).
