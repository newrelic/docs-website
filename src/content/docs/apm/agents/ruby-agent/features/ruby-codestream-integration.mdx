---
title: New Relic CodeStream integration
tags:
  - Agents
  - Ruby agent
  - Supported features
metaDescription: The Ruby agent can be integrated with New Relic CodeStream to provide code-level metrics.
---

Display context-sensitive APM data directly in your IDE by integrating [New Relic CodeStream](/docs/codestream/how-use-codestream/performance-monitoring#code-level) with the Ruby agent. Visualize code-level production telemetry in your editor as your write and review code with this integration.

## Getting started

First, [install](/docs/codestream/start-here/install-codestream) the New Relic CodeStream extension into your supported IDE of choice and log in.

<Callout variant="important">
  The New Relic CodeStream integration is available in Ruby agent version 8.8.0 and higher. For versions 8.10.0 and higher, the integration is enabled by default. Versions 8.8.0 and 8.9.0 must have the integration enabled via configuration. To enable the integration, either set `code_level_metrics.enabled: true` in `newrelic.yml` or `NEW_RELIC_CODE_LEVEL_METRICS_ENABLED=true` as an environment variable.
</Callout>

## Agent attributes

The Ruby agent reports and attaches the following attributes to spans produced by your application:

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        **Name**
      </th>

      <th>
        **Description**
      </th>

      <th>
        **Example**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `code.function`
      </td>

      <td>
        The name of the instrumented function (Ruby method). Note that class methods will be prefixed by `self.`.
      </td>

      <td>
        create
      </td>
    </tr>

    <tr>
      <td>
        `code.filepath`
      </td>

      <td>
        The absolute path to the source code file in which `code.function` is defined
      </td>

      <td>
        /app/app/controllers/widgets_controller.rb
      </td>
    </tr>

    <tr>
      <td>
        `code.lineno`
      </td>

      <td>
        The line number where `code.function` is defined in code.filepath
      </td>

      <td>
        1138
      </td>
    </tr>

    <tr>
      <td>
        `code.namespace`
      </td>

      <td>
       The namespace (class / module name) in which `code.function` is defined
      </td>

      <td>
        WidgetsController
      </td>
    </tr>
  </tbody>
</table>

<Callout variant="important">
Not every method in your application code will be instrumented with the above attributes. As of version 8.10.0, the Ruby agent will provide code-level metrics for Rails controller methods, `ActiveJob` methods, and any Ruby method which has been configured to be manually traced.

 </Callout>


