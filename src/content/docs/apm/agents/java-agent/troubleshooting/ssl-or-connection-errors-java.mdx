---
title: SSL or connection errors (Java)
type: troubleshooting
tags:
  - Agents
  - Java agent
  - Troubleshooting
metaDescription: What to do if you see SSL or connection errors in your New Relic Java app's logs.
redirects:
  - /docs/agents/java-agent/troubleshooting/ssl-or-connection-errors-java
  - /docs/java/java-kb-102
  - /docs/agents/java-agent/troubleshooting/ssl-or-connection-errors
  - /docs/agents/java-agent/troubleshooting/new-ssl-or-connection-errors-java
---

## Problem A: SSL/connection errors in logs [#ssl-error-logs]

Your New Relic Java agent's [log data](/docs/agents/java-agent/troubleshooting/generate-debug-logs-troubleshooting-java) shows SSL or connection errors.

<Callout variant="tip">
  See [Configuring your SSL certificates](/docs/agents/java-agent/configuration/configuring-your-ssl-certificates) for instructions on how to communicate with the New Relic collector over HTTPS.
</Callout>

### Solution A [#ssl-error-logs-solution]

Failures to connect via SSL typically appear early in the Java agent's log files. For example:

```
PKIX path building failed: java.security.cert.CertPathBuilderException: PKIXCertPathBuilderImpl could not build a valid CertPath
```

```
INFO: connection error: java.net.SocketException: java.lang.ClassNotFoundException:
Cannot find the specified class com.ibm.websphere.ssl.protocol.SSLSocketFactory
```

If you see either of these errors, your JDK instance probably is using a customized trust store.

**Recommendation:**

Follow these [steps to debug TLS connections](https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/ReadDebug.html)

## Problem B: logs show exception [#log-exception]

Your New Relic Java agent's [log data](/docs/agents/java-agent/troubleshooting/generate-debug-logs-troubleshooting-java) shows the following `CertificateException`.

```
java.security.cert.CertificateException: Could not parse certificate: java.io.IOException: Illegal header: -----BEGIN CERTIFICATE-----
```

This is most likely related to this [JDK issue](https://bugs.openjdk.java.net/browse/JDK-8208602).

### Solution B [#log-exception-solution]

Examine and validate that the header and footer of your certificates do not have trailing whitespaces. If they do, edit or use different certificates.
