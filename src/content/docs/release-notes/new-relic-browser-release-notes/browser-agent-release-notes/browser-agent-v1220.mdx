---
subject: Browser agent
releaseDate: '2022-10-07'
version: '1220'
---

This release is in public preview. We're slowly rolling out these features to different browser agents based on the browser's instrumentation method. Here's the release timeline:

* Internal NR Platform release date: 10/07/2022
* Production APM-injected release date: 10/7/2022
* Production Standalone release date: Estimated around 12/13/2022

## New Features

### Capture unhandled Promise rejections
The Agent now observes and captures unhandled Promise rejections as JavaScript Error objects.

### Removed 3rd Party Cookies
The browser agent no longer uses 3rd party cookies to maintain and track session information. 1st party implementation using window.sessionStorage is now used, which is automatically cleared when a page session ends. This is still managed using the privacy settings form in your browser application settings.

### LCP is no longer reported on initially-hidden pages
LCP metrics are no longer reported on pages whose state is hidden at load time, such as tabs refreshing in the background of a focused tab.

### Async Module Loading
Individual features of the browser agent can now be dynamically loaded, enabled, or disabled at runtime.

### Removal of script tag injection
The agent no longer inserts other features into the page via a script tag insertion. It now uses network requests to instantiate other code modules.

### Updated test process
In an effort to better support the majority of our traffic, the test suite required to merge PRs has been updated to run against the latest 10 major versions of Chrome, Firefox, Edge, Android, and the latest 5 major versions of Safari and iOS. As part of this process, outdated code and polyfill libraries aimed at supporting deprecated browsers are no longer included in production builds by default.

## Bug Fixes

### Fixed issue with BrowserInteraction nodes generating circular references
BrowserInteractions no longer generate circular trees when they are self referential.

### Remove non-ASCII characters from builds
Certain dependencies were appending non-ASCII characters to build files. These characters were affecting older Python agent implementations downstream that worked to parse and encode the agent snippet. The build files are now checked and cleaned of non-ASCII characters before shipping.
