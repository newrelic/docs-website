---
subject: 'Python agent'
releaseDate: '2024-07-11'
version: 9.12.0
downloadLink: 'https://pypi.python.org/pypi/newrelic'
features: ['Add instrumentation for aiomcache', 'Add support for collect_ai serverside config', 'Capture stack traces in NewRelicContextFormatter logs']
bugs: ['Fix crash in package capture in Python 2.7', 'Fix attribute check in OpenAI', 'Fix casing on LangChain metric and span names']
security: []
---

## Notes

This release of the Python agent adds instrumentation for [aiomcache](https://pypi.org/project/aiomcache/), support for an internally set `collect_ai` serverside configuration setting, formatting stack traces in `NewRelicContextFormatter`, fixes a crash in package catpuring in Python 2.7, an attribute check in [OpenAI](https://pypi.org/project/openai) instrumentation, and casing on [LangChain](https://pypi.org/project/langchain/) metric and span names.

Install the agent using `easy_install/pip/distribute` via the [Python Package Index](https://pypi.python.org/pypi/newrelic) or download it directly from the [New Relic download site](https://download.newrelic.com/python_agent/release).

## New features

* Add instrumentation for aiomcache:

  * Add instrumentation support for [aiomcache](https://pypi.org/project/aiomcache/). Thank you [Jair Henrique](https://github.com/jairhenrique) for the contribution!

* Add support for `collect_ai` serverside config:

  * Add support for an internally set `collect_ai` serverside configuration setting. Note this is returned in the connect response when a particular feature flag is set on an account.

* Adds support for formatting stack traces in `NewRelicContextFormatter`:

  * `NewRelicContextFormatter` now implements the `format_exc_info` class method that formats stack traces. Thank you [Daniel Fritz](https://github.com/fritzdj) for the contribution!

## Bug fixes

* Fix crash in package capture in Python 2.7:

  * Previously, when capturing packages on Python 2.7 an `UnboundLocalError` would be raised. This has been fixed.

* Fix attribute check in OpenAI:

  * Fix a typo in an attribute check inside the [OpenAI](https://pypi.org/project/openai) instrumentation. Thank you [Liam Niehus-Staab](https://github.com/niehusst) for the contribution!

* Fix casing on LangChain metric and span names:

  * Previously, if [LangChain](https://pypi.org/project/langchain/) was being used in combination with an unsupported Large Language Model library (aka not Bedrock or OpenAI) then the AI dashboard tab would not appear in the UI because the metric name was not cased correctly. This has been fixed and the Span names have been updated to match the casing of the metric name.

## Support statement

We recommend updating to the latest agent version as soon as it's available. If you can't upgrade to the latest version, update your agents to a version no more than 90 days old. Read [more](/docs/new-relic-solutions/new-relic-one/install-configure/update-new-relic-agent/) about keeping agents up to date.

See the New Relic Python agent [EOL policy](/docs/apm/agents/python-agent/getting-started/python-agent-eol-policy/) for information about agent releases and support dates.
