---
subject: Python agent
releaseDate: '2024-05-13'
version: 9.9.1
downloadLink: 'https://pypi.python.org/pypi/newrelic'
features: ['Add new Langchain vectorstores']
bugs: ['Update Celery instrumentation', 'Add HTTP method attributes to urllib3 traces', 'Fix gRPC URI detection']
security: []
---

## Notes

This release of the Python agent fixes [Celery](https://pypi.org/project/celery/) instrumentation on worker processes, adds new Langchain vectorstores, adds HTTP method attributes to urllib3 traces, and fixes an issue with URI detection in gRPC clients.

Install the agent using `easy_install/pip/distribute` via the [Python Package Index](https://pypi.python.org/pypi/newrelic) or download it directly from the [New Relic download site](https://download.newrelic.com/python_agent/release).

## New features

* **Add new [Langchain](https://pypi.org/project/langchain/) vectorstores**

  * Support for the following Langchain vectorstores: `Relyt`, `OracleVS`, `UpstashVectorStore`, `VLite`

## Bug fixes

* **Fix [Celery](https://pypi.org/project/celery/) instrumentation on worker processes**

  * Instrumentation updates in v9.9.0 introduced a bug where Celery workers running with worker optimizations enabled would overwrite instrumentation. This has been fixed and instrumentation should now function the same with and without worker optimizations enabled.

* **Add HTTP method attributes to [urllib3](https://pypi.org/project/urllib3/) traces**

  * urllib3 traces did not include the HTTP method as an attribute previously.  This has now been added.

* **Fix gRPC URI detection for client ExternalTraces**

  * The latest version of gRPC changed the format of URIs used in clients, which caused the hostname to be reported as "dns" for all client requests. This has been fixed and hostnames should be reported correctly again.

## Support statement

We recommend updating to the latest agent version as soon as it's available. If you can't upgrade to the latest version, update your agents to a version no more than 90 days old. Read [more](/docs/new-relic-solutions/new-relic-one/install-configure/update-new-relic-agent/) about keeping agents up to date.

See the New Relic Python agent [EOL policy](/docs/apm/agents/python-agent/getting-started/python-agent-eol-policy/) for information about agent releases and support dates.
