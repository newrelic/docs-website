---
subject: Node.js agent
releaseDate: '2021-11-17'
version: 8.6.0
features: ["Introduce a context management API to be used in place of manually calling tracer.segment get/set."]
bugs: ["Fix an issue where `recordConsume` was not binding consumer if it was a promise."]
security: []
downloadLink: 'https://www.npmjs.com/package/newrelic'
---

## Notes

* Added onResolved instrumentation hook to apply instrumentation prior to module load.

  This hook fires after the module filepath has been resolved just prior to the module being loaded by the CommonJS module loader.

* Fixed issue where recordConsume was not binding consumer if it was a promise

* Pinned mongo versioned tests up to 4.2.0 until we can address #982

* Introduced a context management API to be used in place of manually calling tracer.segment get/set.
