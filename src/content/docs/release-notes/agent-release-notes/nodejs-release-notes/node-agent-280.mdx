---
subject: Node.js agent
releaseDate: '2018-02-21'
version: 2.8.0
downloadLink: 'https://www.npmjs.com/package/newrelic'
---

### Note

This release is deprecated due to an issue where the agent may capture transaction attributes regardless of agent settings. If you are using this release, upgrade your agent to agent version 2.9.1 or higher. For more information, see [Security Bulletin NR18-06](/docs/using-new-relic/new-relic-security/security-bulletins/security-bulletin-nr18-06).

### New features

* Added instrumentation support for MongoDB version 3.

  Version 3 of [mongodb](https://npmjs.org/package/mongodb) is now supported. Previously datastore host information (instance metrics) was incorrectly captured by the agent with `mongodb` v3. This has been fixed and all features should be functional now.

### Improvements

* Updated documentation for `apdex_t` setting and removed environment variable.

  This was never configurable on client side and the documentation was misleading.
* Documented environment variables for `slow_sql` configurations.

  Thanks to Olivier Tassinari (@oliviertassinari) for the update!
* Updated `hapi/hapi-pre-17/package.json` to run `errors.tap.js` in more versions.
* Added internal cache to unwrapped core modules for agent use.
* Improved logging around environment facts gathering.

### Bug fixes

* Enable certain agent attributes when high-security mode is enabled.

  During the switch from the old `capture_params`/`ignored_params` to the new attribute include/exclude rules, high-security mode was over-zealous in what attributes it disallowed. This has been trimmed back to be in line with other agents.
