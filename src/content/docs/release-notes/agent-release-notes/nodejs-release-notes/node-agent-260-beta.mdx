---
subject: Node.js agent
releaseDate: '2017-05-03'
version: 2.6.0-beta
downloadLink: 'https://www.npmjs.com/package/@newrelic/beta-agent'
---

### Notes

* Dropped support for Express &lt;4.6.

### New features

* Improved API for writing web framework instrumentation.

  Introduced a new `WebFrameworkShim` class for writing instrumentation. This shim can be accessed using the `newrelic.instrumentWebframework` API method.

### Improvements

* Incorporated fixes and features from 1.38.0, 1.38.1, and 1.38.2.
* Only one transaction is created for each request emitted by a server.

  Previously we created a transaction for each _listener_ on the `request` event.
* Fixed the beta sign up link in the README.md.
* Rewrote instrumentation for Connect, Director, Express, Hapi, and Restify.

  These instrumentations were rewritten using the new `WebFrameworkShim`. As a consequence of this rewrite, all our instrumentations now have feature parity, meaning every instrumentation will create Middleware metrics for your server.

  Tutorials on using the new instrumentation shim can be found on our API docs: [http://newrelic.github.io/node-newrelic/](http://newrelic.github.io/node-newrelic/).
* Removed `express_segments` feature flag.

  This configuration previously controlled the creation of middleware metrics in our Express instrumentation. With the move to the WebFrameworkShim this was dropped.
