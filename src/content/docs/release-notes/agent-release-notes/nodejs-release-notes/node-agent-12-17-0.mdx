---
subject: Node.js agent
releaseDate: '2025-04-02'
version: 12.17.0
downloadLink: 'https://www.npmjs.com/package/newrelic'
security: []
bugs: []
features: ["Azure Function utilization","Support honoring W3C `traceparent` sampled flag"]
---

## Notes

#### Features

* Azure Function utilization ([#3017](https://github.com/newrelic/node-newrelic/pull/3017)) ([80ab93e](https://github.com/newrelic/node-newrelic/commit/80ab93ee5599800a823e3828f9730d5421b460c2))
* Support honoring W3C `traceparent` sampled flag ([#3009](https://github.com/newrelic/node-newrelic/pull/3009)) ([d903413](https://github.com/newrelic/node-newrelic/commit/d903413a6216dae2cde3e6b6366c3a390d4ed4cd))
  * By default the agent will not honor the `traceparent` sampled flag.
  * To control how sampling works with `traceparent` set the following in config: 
    * `distributed_tracing.sampler.remote_parent_sampled`(when the traceparent sampled flag is `01`) 
        * `always_on`: the agent will sample spans
        * `always_off`: the agent will not sample spans
        * `default`: the agent will rely on existing priority sampling to make its decisions
    * `distributed_tracing.sampler.remote_parent_not_sampled`(when the traceparent sampled flag is `00`)
        * `always_on`: the agent will sample spans
        * `always_off`: the agent will not sample spans
        * `default`: the agent will rely on existing priority sampling to make its decisions

#### Code refactoring

* Updated otel bridge to centralize mapping rules for a given span attribute to accomondate semantic convention spec updates ([#3010](https://github.com/newrelic/node-newrelic/pull/3010)) ([c20c36b](https://github.com/newrelic/node-newrelic/commit/c20c36bbe0f63ab18fbbe85ad4bfaa3b80f1475d))

#### Documentation

* Updated compatibility report ([#3013](https://github.com/newrelic/node-newrelic/pull/3013)) ([8fab715](https://github.com/newrelic/node-newrelic/commit/8fab715581ccc5da7118884a0080557891329daa))

#### Tests

* Pinned `openai@4.90.0` to work with `@langchain/openai` ([#3019](https://github.com/newrelic/node-newrelic/pull/3019)) ([eaa3db0](https://github.com/newrelic/node-newrelic/commit/eaa3db0a556a19c44a05926dc339ea7bcbc9cebd))


### Support statement:

We recommend updating to the latest agent version as soon as it's available. If you can't upgrade to the latest version, update your agents to a version no more than 90 days old. Read more about keeping agents up to date. (https://docs.newrelic.com/docs/new-relic-solutions/new-relic-one/install-configure/update-new-relic-agent/)

See the New Relic Node.js agent EOL policy for information about agent releases and support dates. (https://docs.newrelic.com/docs/apm/agents/nodejs-agent/getting-started/nodejs-agent-eol-policy/)