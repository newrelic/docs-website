---
subject: Ruby agent
releaseDate: '2012-12-18'
version: 3.5.4.33
metaDescription: Release notes for Ruby Agent 3.5.4.33.
---

<Callout variant="important">
  The end-of-life date for this agent version is July 29, 2019. To update to the latest agent version, see [Update the agent](/docs/agents/manage-apm-agents/installation/update-new-relic-agent). For more information, see [End-of-life policy](/docs/agents/manage-apm-agents/maintenance/new-relic-agent-plugin-end-life-policy).
</Callout>

### Fixes

* Add queue time support for sinatra apps

  Sinatra applications can now take advantage of frontend queue time reporting. Thanks to Winfield Peterson for this contribution.
* Simplify queue time configuration for nginx 1.2.6+

  Beginning in version 1.2.6, recently released as a development version, the $msec variable can be used to set an http header. This change allows frontend queue time to be tracked in New Relic simply by adding this line to the nginx config:

  proxy_set_header X-Queue-Start "t=$&#x7B;msec}000"

  It will no longer be necessary to compile a patched version of nginx or compile in the perl or lua module to enable this functionality.

  Thanks to Lawrence Pit for the contribution.
* Report back build number and stage along with version info

  In the 3.5.3 series the agent would fail to report its full version number to NewRelic's environment report. For example it would report its version as 3.5.3 instead of 3.5.3.25 or 3.5.3.25.beta. The agent will now report its complete version number as defined in newrelic_rpm.gemspec.
* The host and the port that the agent reports to can now be set from environment vars

  The host can be set with NEW_RELIC_HOST and the port with NEW_RELIC_PORT. These setting will overrride any other settings in your newrelic.yml.
* Fix RUM reporting to multiple applications

  When the agent is configured to report to multiple "roll up" applications RUM did not work correctly.
