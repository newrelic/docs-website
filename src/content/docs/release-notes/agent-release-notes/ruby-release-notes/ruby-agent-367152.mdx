---
subject: Ruby agent
releaseDate: '2013-09-09'
version: 3.6.7.152
metaDescription: Release notes for Ruby Agent 3.6.7.152
---

<Callout variant="important">
  The end-of-life date for this agent version is July 29, 2019. To update to the latest agent version, see [Update the agent](/docs/agents/manage-apm-agents/installation/update-new-relic-agent). For more information, see [End-of-life policy](/docs/agents/manage-apm-agents/maintenance/new-relic-agent-plugin-end-life-policy).
</Callout>

### Notes

* Resque-pool support

  Resque processes started via the resque-pool gem weren't recognized by the Ruby agent. The agent now starts correctly in those worker processes.
* Environment-based configuration

  All settings in newrelic.yml can now be configured via environment variables. See [https://newrelic.com/docs/ruby/ruby-agent-configuration](https://newrelic.com/docs/ruby/ruby-agent-configuration) for full details.
* Fix compatibility issues with excon and curb instrumentation

  This release of the agent fixes a warning seen under certain circumstances with the excon gem (most notably, when excon was used by fog), as well as a bug with the curb instrumentation that conflicted with the feedzirra gem.
* Allow license key to be set by Capistrano variables

  A license key can be passed via a Capistrano variable where previously it could only be in newrelic.yml. Thanks Chris Marshall for the contribution!
* Make HTTP client instrumentation aware of "Host" request header

  If a "Host" header is set explicitly on an HTTP request, that hostname will be used for external metrics. Thanks Mislav Marohnić for the contribution!
* Fix ActiveSupport::Concern warnings with MethodTracer

  Including NewRelic::Agent::MethodTracer in a class using Concerns could cause deprecation warnings. Thanks Mike Połtyn for the contribution!
* Fix Authlogic constant name

  Code checking for the Authlogic module was using in the wrong case. Thanks Dharam Gollapudi for the contribution!
