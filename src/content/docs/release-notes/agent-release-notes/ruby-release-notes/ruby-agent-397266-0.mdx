---
subject: Ruby agent
releaseDate: '2014-11-14'
version: 3.9.7.266
downloadLink: 'http://rubygems.org/gems/newrelic_rpm/versions/3.9.7.266'
---

### Notes

* Support for synthetic monitors

  The Ruby agent now gives you additional information for requests from synthetic monitors. More transaction traces and events give you a clearer look into how your application is performing around the world.

  For more details, see [https://docs.newrelic.com/docs/synthetics/new-relic-synthetics/getting-s...](https://docs.newrelic.com/docs/synthetics/new-relic-synthetics/getting-started/new-relic-synthetics)
* Support for multiple job per fork gems with Resque

  The resque-jobs-per-fork and resque-multi-job-forks gems alter Resque to fork every N jobs instead of every job. This previously caused issues for the Ruby agent, but those have been resolved. These gems are fully supported.

  Running Resque with the FORK_PER_JOB=false environment variable setting is also supported now.

  For more details on our Resque support, see [https://docs.newrelic.com/docs/agents/ruby-agent/background-jobs/resque-...](https://docs.newrelic.com/docs/agents/ruby-agent/background-jobs/resque-instrumentation)
* Support agent when starting Resque Pool from Rake task

  When running resque-pool with its provided rake tasks, the agent would not start up properly. Thanks Tiago Sousa for the fix!
* Fix for DelayedJob + Rails 4.x queue depth metrics

  The Ruby agent periodically records DelayedJob queuedepth as a metric, but this didn't work properly in Rails 4.x applications. This has been fixed. Thanks Jonathan del Strother for his help with the issue!
* Fix for failure in background transactions with rules.ignore_url_regexes

  The recently added feature for ignoring transactions via URL regexes caused errors for non-web transactions. This has been fixed.
* Rename the TransactionNamer.name method to TransactionNamer.name_for

  The internal TransactionNamer class had a class method called 'name', with a different signature than the existing Class#name method and could cause problems when trying to introspect instances of the class.

  Thanks to Dennis Taylor for contributing this fix!
