---
subject: Ruby agent
releaseDate: '2021-10-27'
version: 8.1.0
downloadLink: 'https://rubygems.org/downloads/newrelic_rpm-8.1.0.gem'
features: ["Add instrumentation for Ruby standard library Logger"] 
bugs: ["Stop deadlocks between New Relic thread and Delayed Job sampling thread", "Allow Net::HTTP requests to IPv6 addresses", "Properly install Padrino instrumentation", "Allow integers to be passed to error_collector.ignore_status_codes configuration"]
security: []
---

## v8.1.0

* **Instrumentation for Ruby standard library Logger**

  The agent will now automatically instrument Logger, recording number of lines and size of logging output, with breakdown by severity.

* **Bugfix for Padrino instrumentation**

  A bug was introduced to the way the agent installs padrino instrumentation in 7.0.0. This release fixes the issues with the padrino instrumentation. Thanks to @sriedel for bringing this issue to our attention.

* **Bugfix: Stop deadlocks between New Relic thread and Delayed Job sampling thread**

  Running the agent's polling queries for the DelayedJobSampler within the same ActiveRecord connection decreases the frequency of deadlocks in development environments. Thanks @jdelStrother for bringing this to our attention and providing excellent sample code to speed up development!

* **Bugfix: Allow Net::HTTP request to IPv6 addresses**

  The agent will no longer raise an `URI::InvalidURIError` error if an IPv6 address is passed to Net::HTTP. Thank you @tristinbarnett and @tabathadelane for crafting a solution!

* **Bugfix: Allow integers to be passed to error_collector.ignore_status_codes configuration**

  Integers not wrapped in quotation marks can be passed to `error_collector.ignore_status_codes` in the `newrelic.yml` file. Our thanks goes to @elaguerta and @brammerl for resolving this issue!

* **Bugfix: allow add_method_tracer to be used on BasicObjects**

  Previously, our `add_method_tracer` changes referenced `self.class` which is not available on `BasicObjects`. This has been fixed. Thanks to @toncid for bringing this issue to our attention.

## Support statement

New Relic recommends that you upgrade the agent regularly and at a minimum every 3 months. As of this release, the oldest supported version is [5.4.0.347](https://docs.newrelic.com/docs/release-notes/agent-release-notes/ruby-release-notes/ruby-agent-540347).
