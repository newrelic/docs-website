---
subject: Ruby agent
releaseDate: '2014-09-08'
version: 3.9.4.245
metaDescription: Release notes for Ruby Agent 3.9.4.245
---

<Callout variant="important">
  The end-of-life date for this agent version is July 29, 2019. To update to the latest agent version, see [Update the agent](/docs/agents/manage-apm-agents/installation/update-new-relic-agent). For more information, see [End-of-life policy](/docs/agents/manage-apm-agents/maintenance/new-relic-agent-plugin-end-life-policy).
</Callout>

### Notes

* Allow agent to use alternate certificate stores

  When connecting via SSL to New Relic, the Ruby agent verifies its connection via a certificate bundle shipped with the agent. This caused problems with certain proxy configurations, so the `ca_bundle_path` setting in newrelic.yml can now override the default cert bundle location.

  For more information, see [custom SSL certificates](/docs/agents/ruby-agent/installation-configuration/ssl-settings-ruby-agent)
* Rails 4.2 beta in tests

  Although still in beta, a new version of Rails is on its way! We're already running our automated test suites against the beta to ensure New Relic is ready the day the next Rails is released.
* ActiveRecord 4 cached queries fix

  Queries against the ActiveRecord 4.x query cache were incorrectly being counted as database time by the agent.
* Fix for error in newrelic.yml loading

  If your application used a `RAILS_ENV` value that was not listed in newrelic.yml recent agent versions would return a NameError rather than a helpful message. This has been fixed. Thanks Oleksiy Kovyrin for the patch!
