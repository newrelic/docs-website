---
subject: Ruby agent
releaseDate: '2023-05-01'
version: 9.2.2
downloadLink: https://rubygems.org/downloads/newrelic_rpm-9.2.2.gem
features: []
bugs: ["Transaction#finished? no longer throws a NoMethodError when initial_segment is nil"]
security: []
redirect:
  - /docs/release-notes/agent-release-notes/ruby-release-notes/ruby-agent-922
---

<Callout variant="important">
  We recommend updating to the latest agent version as soon as it's available. If you can't upgrade to the latest version, update your agents to a version no more than 90 days old. Read more about [keeping agents up to date](/docs/new-relic-solutions/new-relic-one/install-configure/update-new-relic-agent/).

  See the New Relic Ruby agent [EOL policy](https://docs.newrelic.com/docs/apm/agents/ruby-agent/getting-started/ruby-agent-eol-policy/) for information about agent releases and support dates.
</Callout>

## v9.2.2

  Version 9.2.2 of the agent fixes a bug with the `Transaction#finished?` method.

- **Bugfix: Transaction#finished? no longer throws a NoMethodError when initial_segment is nil**

  This change adds a safe navigation operator to `Transaction#finished?` to prevent `NoMethodErrors` when a transaction does not have any segments. Our thanks goes to [@JulienDefrance](https://github.com/JulienDefrance) for reporting this issue. [PR#1983](https://github.com/newrelic/newrelic-ruby-agent/pull/1983)


