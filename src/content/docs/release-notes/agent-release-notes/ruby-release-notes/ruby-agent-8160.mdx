---
subject: Ruby agent
releaseDate: '2023-02-06'
version: 8.16.0
downloadLink: 'https://rubygems.org/downloads/newrelic_rpm-8.16.0.gem'
features: ["Add new Ruby on Rails library instrumentations. The agent now newly supports or has updated support for Action Cable, Action Controller, Action Mailbox, Action Mailer, Active Job, and Active Support"]
bugs: []
security: []
---

<Callout variant="important">
We recommend updating to the latest agent version as soon as it's available. If you can't upgrade to the latest version, update your agents to a version at most 90 days old. Read more about [keeping agent up to date](/docs/new-relic-solutions/new-relic-one/install-configure/update-new-relic-agent/).

As of this release, the oldest supported version is [6.9.0.363](https://docs.newrelic.com/docs/release-notes/agent-release-notes/ruby-release-notes/ruby-agent-690363)
</Callout>

## v8.16.0

Version 8.16.0 introduces more Ruby on Rails instrumentation (especially for Rails 6 and 7) for various Action\*/Active\* libraries whose actions produce [Active Support notifications events](https://guides.rubyonrails.org/active_support_instrumentation.html).

- **Add Various Ruby on Rails Library Instrumentations**

  New instrumentation is now automatically provided by several Action\*/Active\* libaries that generate Active Support notifications. With each Ruby on Rails release, new the Rails libraries add new events and sometimes existing events have their payload parameters updated as well. The New Relic Ruby agent will now automatically process more of these events and parameters with New Relic segments created for each event. At a minimum, each segment gives timing information for the event. In several cases, all non-sensitive event payload parameters are also passed along in the segment.

  The agent now newly supports or has updated support for the following libraries:

  - Action Cable (for WebSockets) [PR#1749](https://github.com/newrelic/newrelic-ruby-agent/pull/1749)
  - Action Controller (for the 'C' in MVC) [PR#1744](https://github.com/newrelic/newrelic-ruby-agent/pull/1744/)
  - Action Mailbox (for sending mail) [PR#1740](https://github.com/newrelic/newrelic-ruby-agent/pull/1740)
  - Action Mailer (for routing mail) [PR#1740](https://github.com/newrelic/newrelic-ruby-agent/pull/1740)
  - Active Job (for background jobs) [PR#1742](https://github.com/newrelic/newrelic-ruby-agent/pull/1761)
  - Active Support (for caching operations) [PR#1742](https://github.com/newrelic/newrelic-ruby-agent/pull/1742)

  The instrumentations for each of these libaries are all enabled by default, but can be independently disabled via configuration by using the following parameters:

  | Configuration name | Default | Behavior |
  | ----- | ----- | ----- |
  | `disable_action_cable` | `false` | If `true`, disables Action Cable instrumentation. |
  | `disable_action_controller` | `false` | If `true`, disables Action Controller instrumentation. |
  | `disable_action_mailbox` | `false` | If `true`, disables Action Mailbox instrumentation. |
  | `disable_action_mailer` | `false` | If `true`, disables Action Mailer instrumentation. |
  | `disable_activejob` | `false` | If `true`, disables Active Job instrumentation. |
  | `disable_active_support` | `false` | If `true`, disables Active Support instrumentation. |
