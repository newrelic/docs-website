---
subject: PHP agent
releaseDate: '2022-11-03'
version: 10.3.0.315
downloadLink: 'https://download.newrelic.com/php_agent/archive/10.3.0.315'
features: ['Logs in Context enabled by default']
bugs: ['Ensure datastore segments do not create children segments', 'Fix "All transactions unknown" error']
security: []
---
## New Relic PHP Agent v10.3.0.315

<Callout variant="important">
We recommend updating to the latest agent version as soon as it's available. If your organization has established practices that prevent you from upgrading to the latest version, ensure that your agents are regularly updated to a version at most 90 days old. Read more about [keeping your agent up to date](/docs/new-relic-solutions/new-relic-one/install-configure/update-new-relic-agent/).
</Callout>

### Important end-of-life information

* Support for 32 bit and FreeBSD binaries were deprecated with release v9.19.0.309 and **are no longer shipped starting with this release**.
* Support for ZTS binaries was deprecated with release v9.17.0.300 and will be **removed in a release in the near future**.
* **For installations using an unsupported PHP version or platform (32 bit, FreeBSD, ZTS, etc), it is highly recommended to disable the auto-update mechanisms for the PHP agent packages.** This can be done by adding the PHP agent packages to an exclusion list for package upgrades.  Alternatively, the PHP agent packages can be version pinned to an agent version that supports the old, unsupported feature(s). Failure to prevent upgrades may result in a newer agent release being installed, removing support for the required, unsupported features. This would disrupt APM data collection.  
The PHP agent packages which are affected are:
   - newrelic-php5
   - newrelic-php5-common
   - newrelic-daemon

* The [PHP agent compatibility and requirements](https://docs.newrelic.com/docs/apm/agents/php-agent/getting-started/php-agent-compatibility-requirements/) page should be consulted for the latest information on supported PHP versions and platforms.

### New features

* APM logs in context. Automatic application log forwarding is now enabled by default. This version of the agent will automatically send enriched application logs to New Relic. To learn more about this feature see [PHP: Configure logs in context](/docs/logs/logs-context/configure-logs-context-php), and additional configuration options are available [PHP agent configuration: Config file](/docs/apm/agents/php-agent/configuration/php-agent-configuration#logs-in-context). To learn about how to toggle log ingestion on or off by account see [Disable automatic logging](/docs/logs/logs-context/disable-automatic-logging). [#556](https://github.com/newrelic/newrelic-php-agent/pull/566)

### Bug fixes
* agent: Fix to ensure datastore segments do not create children segments. [#511](https://github.com/newrelic/newrelic-php-agent/pull/511)
* agent: Updates instrumentation lookups for PHP 7.4+. Using reserved field of zend_func's op_array is no longer reliable as other extensions are unreliably using this shared area which then corrupts the opcache enough that it no longer provides lookups. The new method no longer relies on the agent storing any information in the reserved array of a  zend_function.   Fixes: [Laravel 9 PHP8.1 Not reporting errors, All transactions are "unknown" bug](https://github.com/newrelic/newrelic-php-agent/issues/387)
