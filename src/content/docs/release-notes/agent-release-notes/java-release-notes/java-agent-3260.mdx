---
subject: Java agent
releaseDate: '2016-02-23'
version: 3.26.0
downloadLink: 'https://download.newrelic.com/newrelic/java-agent/newrelic-agent/3.26.0/'
features: ["The agent now identifies external calls when Spray Client is used", "The agent now tracks Futures started in Spray routes", "The agent now identifies transactions when spray-can is used without spray-routing", "The agent now tracks async activity created by Typesafe/Lightbend's functional-relational-mapper, Slick", "JDBC instrumentation now provides more consistent and complete data for supported JDBC drivers"]
bugs: ["Fixed a bug where CXF would name transactions based on auto-generated proxy classes", "Fixed a bug in EJB instrumentation that could cause a NullPointerException", "Fixed a bug where the EJB instrumentation erroneously set transaction names", "Fixed a bug in the Cross Application Tracing API that caused Application Response time to be attributed to other transaction time", "Fixed a bug in request queueing calculations where queueing time could show up as a steadily increasing value", "Fixed a bug that prevented HttpURLConnection External metrics from reporting on the IBM J9 JVM", "With Spray routing, fixed a bug that incorrectly set the transaction name of similar route names", "Fixed a bug where some transaction traces would report external segments for non I/O calls in Apache HttpClient", "The Java Agent will now read Cross Application Tracing HTTP header names regardless of case", "Fixed a bug that could cause cross application tracing between the New Relic Java Agent and non-Java New Relic Agents to fail"]
security: []
---
<ButtonGroup>
  <ButtonLink
    role="button"
    to="https://download.newrelic.com/newrelic/java-agent/newrelic-agent/3.26.0/"
    variant="primary"
  >
    Download this agent version
  </ButtonLink>
</ButtonGroup>

### Improvements

* Spray Client

  The agent now identifies external calls when Spray Client is used. You will see your Spray Client calls with the hostname and port of the destination. The calls also have support for Cross Application Tracing, and are shown in Service Maps and Transaction Maps.
* The agent now tracks Futures started in Spray routes.
* The agent now identifies transactions when spray-can is used without spray-routing.
* Slick

  The agent now tracks async activity created by Typesafe/Lightbend's functional-relational-mapper, Slick. If the underlying database driver is supported by the agent the database activity will be traced.
* Improvements for JDBC

  The Java agent’s JDBC instrumentation now provides more consistent and complete data for supported JDBC drivers. The Java agent supports the following drivers:

  * MySQL 5.1.4 - 5.1.x
  * PostgreSQL 8.2-504 - 9.4-1206 (jdbc4 and jdbc41 drivers only)
  * Oracle ojdbc14, ojdbc5, ojdbc6, ojdbc7
  * Microsoft SQLServer 2.0 - 4.2
  * jTDS 1.2 - 1.3.x
  * DB2 9.1 - 10.x
  * Derby 10.6.1.0 - 10.x
  * H2 1.0.x - 1.4.x
  * HSQL 1.7.2.2 - 2.x
  * MariaDB 1.1.7 - 1.3.x

  **Note** Previous versions of the Java Agent had partial “generic” support for other JDBC drivers. The new, improved JDBC instrumentation replaces the “generic” JDBC instrumentation.

### Fixes

* Fixed a bug where CXF would name transactions based on auto-generated proxy classes. The agent now normalizes CXF transaction names.
* Fixed a bug in EJB instrumentation that could cause a NullPointerException in application code.
* Fixed a bug where the EJB instrumentation erroneously set transaction names. In this version, the agent records a metric.
* Fixed a bug in the Cross Application Tracing API that caused Application Response time to be attributed to other transaction time, and prevented linking of transaction traces when doing CAT.
* Fixed a bug in request queueing calculations where queueing time could show up as a steadily increasing value instead of the correct time.
* Fixed a bug that prevented HttpURLConnection External metrics from reporting on the IBM J9 JVM.
* With Spray routing, fixed a bug that incorrectly set the transaction name of similar route names or set them to "Unknown Route".
* Fixed a bug where some transaction traces would report external segments for non I/O calls in Apache HttpClient.
* The Java Agent will now read Cross Application Tracing HTTP header names regardless of case.
* Fixed a bug that could cause cross application tracing between the New Relic Java Agent and non-Java New Relic Agents to fail.

### Known Issues

* Postgres JDBC

  This release does not contain support for some versions of the PostgreSQL jdbc3 drivers supported in previous releases. We recommend that you use 3.26.1.
