---
subject: Java agent
releaseDate: '2017-08-28'
version: 3.42.0
downloadLink: 'https://download.newrelic.com/newrelic/java-agent/newrelic-agent/3.42.0'
features: ["Supports Hystrix version 1.5", "Improved metadata collection for cloud providers"]
bugs: ["Fixed bug that caused agent to not report error rate metrics", "Improved Hystrix transaction reporting to better handle cases where an Observable is created that never executes", "Fixed an issue where JAX-RS subresources would not be picked up for transaction naming", "Fixed a bug with DataNucleus that was preventing instance level and query information from being picked up", "Fixed a bug that caused the agent to report external calls made with Commons HTTPClient as unknown host"]
security: []
---
<ButtonGroup>
  <ButtonLink
    role="button"
    to="https://download.newrelic.com/newrelic/java-agent/newrelic-agent/3.42.0/"
    variant="primary"
  >
    Download this agent version
  </ButtonLink>
</ButtonGroup>

### Improvements

* Hystrix

  With this release, the Java agent now supports Hystrix version 1.5.
* Improved metadata collection for cloud providers

  The agent now collects additional metadata when running in AWS, GCP, Azure, and PCF. This information is used to provide an enhanced experience when the agent is deployed on those platforms.

### Bug Fixes

* Fixed bug that caused agent to not report error rate metrics. The UI would show application errors, but error rate would show up as 0%. This was introduced in 3.38.0.
* Improved Hystrix transaction reporting to better handle cases where an Observable is created that never executes.
* Fixed an issue where JAX-RS subresources would not be picked up for transaction naming, resulting in an incorrect or incomplete transaction name.
* Fixed a bug with DataNucleus that was preventing instance level and query information from being picked up.
* Fixed a bug that caused the agent to report external calls made with Commons HTTPClient as "unknown host".

### Known Issues

* Fixed in 3.44.0

  * High-throughput applications with daily logging enabled and a specified log limit could cause log files to grow without bound.
  * The agent could leak memory when instrumenting the Ning Async Http Client.
  * Akka HTTP content type was not reported.
* Fixed in 3.46.0

  * In rare cases, a Vert.x application running this version of the agent can deadlock.
  * Usage of the `setNull()` method on the JDBC interface now reports up `null` in the query string sent to New Relic instead of incorrectly reporting up the `sqlType` as the value.
  * JVM crash that can occur when running the Java agent with the non-default spring-aop-2 instrumentation enabled.
