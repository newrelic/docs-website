---
subject: Java agent
releaseDate: '2019-12-10'
version: 5.9.0
downloadLink: 'http://download.newrelic.com/newrelic/java-agent/newrelic-agent/5.9.0/'
features: ["AWS SDK support for S3, SQS, and SNS", "Distributed Tracing now supports traces originating from the New Relic Browser agent", "The agent no longer has a dependency on ANTLR"]
bugs: ["The ca_bundle_path configuration setting would fail to correctly import certificates when running on IBM J9", "Clarified the startup log message about the state of browser monitoring for the current application", "The agent logger would sometimes throw a NullPointerException", "The agent would stop reporting Kafka metrics when one or more clients where closed", "HttpURLConnection instrumentation could cause a NullPointerException in the agent logs and fail to report External metrics"]
security: []
---
<ButtonGroup>
  <ButtonLink
    role="button"
    to="https://download.newrelic.com/newrelic/java-agent/newrelic-agent/5.9.0/"
    variant="primary"
  >
    Download this agent version
  </ButtonLink>
</ButtonGroup>

### Improvements

* AWS SDK

  * AWS S3 - The Java agent now reports calls to Amazon S3 using AmazonS3 and S3Client as external metrics
  * AWS SQS - The Java agent now reports calls to Amazon SQS using AmazonSQS, AmazonSQSAsync, SqsClient as message queue metrics
  * AWS SNS - The Java agent now reports calls to Amazon SQS using AmazonSNS, AmazonSNSAsync, SnsClient as message queue metrics
* Distributed Tracing - The agent now supports [distributed traces](https://docs.newrelic.com/docs/understand-dependencies/distributed-tracing/get-started/introduction-distributed-tracing) originating from the [New Relic Browser agent](https://docs.newrelic.com/docs/browser/new-relic-browser/getting-started/introduction-new-relic-browser)

### Fixes

* The `ca_bundle_path` configuration setting would fail to correctly import certificates when running on IBM J9
* Clarified the startup log message about the state of browser monitoring for the current application.
* The agent logger would sometimes throw a NullPointerException
* The agent would stop reporting Kafka metrics when one or more clients where closed
* HttpURLConnection instrumentation could cause a NullPointerException in the agent logs and fail to report External metrics

### Deprecated

* Jar Collector system properties prefixed with `newrelic.config.module` and environment variables prefixed with `NEW_RELIC_MODULE` are deprecated and will be removed in a future agent release. Instead use the `newrelic.config.jar_collector` and `NEW_RELIC_JAR_COLLECTOR` prefixes.

### Removed dependency

* The agent no longer has a dependency on ANTLR.
