---
subject: Java agent
releaseDate: '2015-01-20'
version: 3.13.0
downloadLink: 'https://download.newrelic.com/newrelic/java-agent/newrelic-agent/3.13.0/'
features: ["Custom Insights events API", "The agent now captures and reports thread profiles in XRay Sessions for non-web transactions"]
bugs: ["Incorrect JMS transaction names for users of Oracle ATG Web Commerce"]
security: ["Application code could encounter a NoClassDefFoundError"]
---
<ButtonGroup>
  <ButtonLink
    role="button"
    to="https://download.newrelic.com/newrelic/java-agent/newrelic-agent/3.13.0/"
    variant="primary"
  >
    Download this agent version
  </ButtonLink>
</ButtonGroup>

### Improvements:

* Custom Insights events API

  In addition to attaching custom attributes to the events that the Java agent generates automatically for each transaction, you can now record custom event types into Insights with the new NewRelic.getAgent().getInsights().recordCustomEvent API.
* The agent now captures and reports thread profiles in XRay Sessions for non-web transactions.

### Fixes:

* Incorrect JMS transaction names for users of Oracle ATG Web Commerce
* In rare cases, application code would encounter a NoClassDefFoundError for one or more classes contained in the newrelic.jar.
