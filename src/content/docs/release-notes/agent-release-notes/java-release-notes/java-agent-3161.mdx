---
subject: Java agent
releaseDate: '2015-05-14'
version: 3.16.1
downloadLink: 'https://download.newrelic.com/newrelic/java-agent/newrelic-agent/3.16.1/'
features: ["Redis", "RabbitMQ", "Cross Application Tracing API", "Play 2 Framework", "Circuit Breaker", "Added configuration to disable Deadlock Detection", "Reduced the memory overhead of the Java agent"]
bugs: ["Play 2 Framework", "The proxy_host name is no longer sent to New Relic", "Fixed issue where external transactions were reported twice when using HttpURLConnection", "The Java Agent now honors the segment_limit setting for async traces", "Cross-application requests from other New Relic-instrumented applications will reliably appear in the App and Transaction maps"]
security: []
---
<ButtonGroup>
  <ButtonLink
    role="button"
    to="https://download.newrelic.com/newrelic/java-agent/newrelic-agent/3.16.1/"
    variant="primary"
  >
    Download this agent version
  </ButtonLink>
</ButtonGroup>

### Improvements:

* Redis

  Added support for the Jedis client versions 1.4.0 or higher. You can now see your Redis calls in breakdowns in the overview chart, entries in the Databases tab, and segments in transaction traces.
* RabbitMQ

  Updated RabbitMQ instrumentation to support RabbitMQ 3.5 and higher.
* Cross Application Tracing API

  Use the cross application tracing API when the agent does not provide cross application tracing support for your application. [See the documentation](http://newrelic.github.io/java-agent-api/javadoc/com/newrelic/api/agent/Transaction.html)
* Play 2 Framework

  Improved instrumentation for Play controller classes.
* Circuit Breaker

  Starting in this release, the New Relic Java agent detects when memory is nearly exhausted and trips a “circuit breaker” that limits the agent’s memory usage. The agent won’t report transactions while the circuit breaker is tripped, so throughput will be understated. In the rare case that the circuit breaker trips, the New Relic UI will provide more information. For more details, [see the documentation](https://docs.newrelic.com/docs/agents/java-agent/custom-instrumentation/java-agent-custom-instrumentation-circuit-breaker).
* Added configuration to disable Deadlock Detection

  Under very heavy load conditions with many threads, the Deadlock Detector service may slow response time. You can now disable this feature with the following setting:

  ```
  deadlock_detector:
      enabled: false
  ```
* Reduced the memory overhead of the Java agent

### Fixes:

* Play 2 Framework

  The Java Agent now honors the `segment_limit` setting for async traces, and can now handle much deeper async traces. This is useful to decrease if you're experiencing slower response time or high memory overhead when executing large async transactions.

  Cross-application requests from other New Relic-instrumented applications will reliably appear in the App and Transaction maps.
* The proxy_host name is no longer sent to New Relic.
* Fixed issue where external transactions were reported twice when using HttpURLConnection. Previously, this caused throughput to appear doubled.
