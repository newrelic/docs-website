---
subject: Java agent
releaseDate: '2019-06-13'
version: 5.1.1
downloadLink: 'https://download.newrelic.com/newrelic/java-agent/newrelic-agent/5.1.1/'
features: []
bugs: ["Fixed bugs in the gRPC instrumentation", "Fixed memory leak", "Agent could cause the gRPC server listeners to fail to execute its completed and cancelled methods"]
security: []
---
<ButtonGroup>
  <ButtonLink
    role="button"
    to="https://download.newrelic.com/newrelic/java-agent/newrelic-agent/5.1.1/"
    variant="primary"
  >
    Download this agent version
  </ButtonLink>
</ButtonGroup>

### Fixes

* gRPC

This release fixes two bugs in the Java agent's gRPC instrumentation. We highly recommend customers using gRPC instrumentation to upgrade to this and or later agent versions.

* References to transaction segments were not being removed correctly, which can cause a memory leak
* The agent could cause the gRPC server listeners to fail to execute its `completed` and/or `cancelled` methods, which can cause unexpected behavior
