---
subject: Java agent
releaseDate: '2015-07-01'
version: 3.18.0
downloadLink: 'https://download.newrelic.com/newrelic/java-agent/newrelic-agent/3.18.0/'
features: ["Jetty", "Thrift", "Resin", "Heap Alerting", "Exception messages for allow list"]
bugs: []
security: []
---

<ButtonGroup>
  <ButtonLink
    role="button"
    to="https://download.newrelic.com/newrelic/java-agent/newrelic-agent/3.18.0/"
    variant="primary"
  >
    Download this agent version
  </ButtonLink>
</ButtonGroup>

### Improvements

* Jetty

  Updated Jetty instrumentation to support Jetty 9.3.
* Thrift

  Added support for Apache Thrift 0.8 and greater. This instrumentation automatically adds timing to Thrift calls and sets transaction names based on Thrift method names. It can be disabled in the newrelic.yml by adding:

  ```
  com.newrelic.instrumentation.thrift-0.8:
      enabled: false
  ```
* Resin

  The New Relic Resin Instrumentation now reports errors as HttpErrors, allowing them to be ignored.
* Heap Alerting

  A new heap utilization metric has been created for alerting purposes. This metric tracks the percentage of heap in use as a number between 0 and 1, where 0 means no heap usage and 1 means a full heap. The new metric is: Memory/Heap/Utilization
* Exception messages for allow list

  Java exception messages will now be obfuscated when high-security mode is enabled. If specific exception messages should be allowed through, they can be added to your allow list with the following configuration property:

  ```
  strip_exception_messages:
      whitelist: 'java.lang.NullPointerException,java.lang.IllegalStateException'
  ```

  The allow list is a comma-delimited string of exception class package + class name. This can be enabled or disabled independently of high-security mode with the following property:

  ```
  strip_exception_messages:
      enabled: true
  ```
