---
subject: Java agent
releaseDate: '2026-01-14'
version: 9.0.0
downloadLink: 'https://download.newrelic.com/newrelic/java-agent/newrelic-agent/9.0.0/'
features: [“Config to delete stale agent temp jars”, “Inclusion option for selectively instrumenting applications”]
bugs: [“Fix IllegalAccessError in AWS S3 Instrumentation”, “Fix mislabeled instrumentation version for logback-class-1.5.20”, “Fix logging message for max attribute value”, “Correct Otel-style Sampler priorities” ]
security: []
---
<ButtonGroup>
  <ButtonLink
    role="button"
    to="https://download.newrelic.com/newrelic/java-agent/newrelic-agent/9.0.0/"
    variant="primary"
  >
    Download this agent version
  </ButtonLink>
</ButtonGroup>

## New features and improvements

- Add config to delete stale agent temp jars on startup by @jtduffy in [2676](https://github.com/newrelic/newrelic-java-agent/pull/2676)
- Add "inclusion" option to compliment the exclude configuration for selectively instrumenting applications @jtduffy in [2638](https://github.com/newrelic/newrelic-java-agent/pull/2638)
  - To use this feature, set the environment variable `NEW_RELIC_STARTUP_JAVA_ARTIFACT_INCLUDES` or system property `newrelic.config.startup_java_artifact_includes`. Specify the artifacts that should be instrumented as a comma-separated list.

## Fixes

- Resolve IllegalAccessError by moving wrapper class out of S3AsyncClient_Instrumentation by @jtduffy in [2503](https://github.com/newrelic/newrelic-java-agent/pull/2503)
- Fix mislabeled instrumentation version on log events in logback-classic-1.5.20 by @jasonjkeller in [2594](https://github.com/newrelic/newrelic-java-agent/pull/2594)
- Fixed logging message for max attribute value by @jeffalder in [2680](https://github.com/newrelic/newrelic-java-agent/pull/2680)
- Corrected Trace Ratio sampler priorities by @jtduffy in [2583](https://github.com/newrelic/newrelic-java-agent/pull/2583)

## Removals

- Removes deprecated jdbc-inet-* modules by @obenkenobi in [2572](https://github.com/newrelic/newrelic-java-agent/pull/2572)
- Removes deprecated java.completable-future-jdk8 instrumentation by @obenkenobi in [2562](https://github.com/newrelic/newrelic-java-agent/pull/2562)
- Removes aws wrap instrumentation by @obenkenobi in [2567](https://github.com/newrelic/newrelic-java-agent/pull/2567)
- Removes jdbc-sybase-6 module by @obenkenobi in [2614](https://github.com/newrelic/newrelic-java-agent/pull/2614)
- Removes play 2.3 instrumentation by @obenkenobi in [2568](https://github.com/newrelic/newrelic-java-agent/pull/2568)
- Removes deprecated thrift-0.8 module by @obenkenobi in [2569](https://github.com/newrelic/newrelic-java-agent/pull/2569)
- Removes deprecated solr 4.0 & 5.0 modules by @obenkenobi in [2570](https://github.com/newrelic/newrelic-java-agent/pull/2570)
- Removes deprecated module grails-1.3 by @obenkenobi in [2573](https://github.com/newrelic/newrelic-java-agent/pull/2573)
- Removes deprecated module hibernate-3.3 by @obenkenobi in [2574](https://github.com/newrelic/newrelic-java-agent/pull/2574)
- Removes deprecated footer injection API by @sharvath-newrelic in [2620](https://github.com/newrelic/newrelic-java-agent/pull/2620)
- Removes deprecated Struts 1 pointcuts by @obenkenobi in [2561](https://github.com/newrelic/newrelic-java-agent/pull/2561)
- Removes deprecated module glassfish-3 by @sharvath-newrelic in [2575](https://github.com/newrelic/newrelic-java-agent/pull/2575)
- Removes deprecated rabbit-amqp modules 2.5.0, 2.4.1, 1.7.2 by @obenkenobi in [2571](https://github.com/newrelic/newrelic-java-agent/pull/2571)
- Removes deployment marker function by @jtduffy in [2589](https://github.com/newrelic/newrelic-java-agent/pull/2589)


## Update to latest version [#procedures]

To identify which version of the Java agent you're currently using, run `java -jar newrelic.jar -v`. Your Java agent version will be printed to your console.

Then, to update to the latest Java agent version:

1. Back up the **entire** [Java agent root directory](/docs/agents/manage-apm-agents/troubleshooting/find-agent-root-directory#java-agent) to another location. Rename that directory to `NewRelic_Agent#.#.#`, where `#.#.#` is the agent version number.
2. [Download the agent.](/docs/release-notes/agent-release-notes/java-release-notes).
3. Unzip the new agent download file, then copy `newrelic-api.jar` and `newrelic.jar` into the original [Java agent root directory](/docs/agents/manage-apm-agents/troubleshooting/find-agent-root-directory#java-agent).
4. Compare your old `newrelic.yml` with the newly downloaded `newrelic.yml` from the zip, and [update the file if needed](#diff).
5. Restart your Java dispatcher.

If you experience issues after the Java agent update, restore from the backed-up New Relic agent directory.

## Update agent config differences [#diff]

We add new settings to `newrelic.yml` as we release new versions of the agent. You can use `diff` or another diffing utility to see what's changed, and add the new config settings to your old file. Make sure not to overwrite any customizations you've made to the file, such as your license key, app name, or changes to default settings.

For example, if you `diff` the default `newrelic.yml` files for Java agent versions 7.10.0 and 7.11.0, the results printed to the console will be like:

```yaml
➜ diff newrelic_7.10.0.yml newrelic_7.11.0.yml
...
107a108,119
>       # Whether the log events should include context from loggers with support for that.
>       context_data:
>
>         # When true, application logs will contain context data.
>         enabled: false
>
>         # A comma separated list of attribute keys whose values should be sent to New Relic.
>         #include:
>
>         # A comma separated list of attribute keys whose values should not be sent to New Relic.
>         #exclude:
>
125a138
>
128c141
<     enabled: false
---
>     enabled: true
...
```

In this example, these lines were added to the default `newrelic.yml` in Java agent version 7.11.0. If you're moving to 7.11.0 or higher, you should add these new lines to your original `newrelic.yml`.

## Support statement:

* New Relic recommends that you upgrade the agent regularly to ensure that you're getting the latest features and performance benefits. Additionally, older releases will no longer be supported when they reach [end-of-life](https://docs.newrelic.com/docs/using-new-relic/cross-product-functions/install-configure/notification-changes-new-relic-saas-features-distributed-software/).


