---
subject: Java agent
releaseDate: '2017-12-11'
version: 3.45.0
downloadLink: 'https://download.newrelic.com/newrelic/java-agent/newrelic-agent/3.45.0'
features: ["RabbitMQ 5.0 support"]
bugs: ["Exceptions thrown within scala Future/CallbackRunnable code could cause inaccurate transaction times", "Deadlock could occur when tracking asynchronous activity in Vert.x"]
security: []
---
<ButtonGroup>
  <ButtonLink
    role="button"
    to="https://download.newrelic.com/newrelic/java-agent/newrelic-agent/3.45.0/"
    variant="primary"
  >
    Download this agent version
  </ButtonLink>
</ButtonGroup>

### Improvements

* RabbitMQ

The agent now provides instrumentation for RabbitMQ 5.0.

**Note:**

* This release changes instrumentation for all supported versions of RabbitMQ to use the exchange name instead of routing keys for the transaction name and produce/consume metrics. This should provide more meaningful transaction names, but will change what transactions you see in New Relic.
* Now reports queue purge
* No longer reports misleading MessageBroker consume metric for callbacks/message listeners
* Adds message properties to tracer attributes, and a configuration to disable them:

  ```
  message_tracer:
      segment_parameters:
        enabled: false
  ```

### Bug Fixes

* Exceptions thrown within scala Future/CallbackRunnable code could cause inaccurate transaction times
* Deadlock could occur when tracking asynchronous activity in Vert.x.
