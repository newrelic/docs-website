---
subject: Java agent
releaseDate: '2016-06-28'
version: 3.30.0
downloadLink: 'https://download.newrelic.com/newrelic/java-agent/newrelic-agent/3.30.0/'
features: ["Mule ESB 3.4 - 3.6", "Play 2.5", "Cassandra async 2.1.2+ and 3.x", "Async Http Client 2.x", "Transaction traces for key transactions", "JDBC performance and overhead improved"]
bugs: ["Fixed multiple issues related to Java Agent logging", "Fixed a bug where transactions could timeout during agent harvest", "Resolved Metric grouping issue in Spray/Akka instrumentation", "ClassCircularityError could be induced by the agent when running with a custom security manager", "Fixed issue where a database connection can get labeled as JDBC instead of the more specific database name"]
security: []
---
<ButtonGroup>
  <ButtonLink
    role="button"
    to="https://download.newrelic.com/newrelic/java-agent/newrelic-agent/3.30.0/"
    variant="primary"
  >
    Download this agent version
  </ButtonLink>
</ButtonGroup>

### Improvements

* Mule ESB 3.4 - 3.6

  This release adds instrumentation for Mulesoft Mule ESB Server versions 3.4 through 3.6. Requests to an HTTP Transport will show in New Relic as web transactions. Mule ESB Server instances will appear as "dispatchers" on the [overview page](https://docs.newrelic.com/docs/apm/applications-menu/monitoring/apm-overview-page) and the [JVM metrics page](https://docs.newrelic.com/docs/apm/applications-menu/monitoring/jvm-metrics-page). All of the usual features of New Relic APM are supported including alerting, error reporting, JMS puts and takes, cross application tracing, transaction traces, key transactions, external services, and database call reporting.

  NOTE: The newer HTTP operation-based Connector is not yet supported.
* Play 2.5

  This release adds instrumentation for the Play 2.5 framework. The previous Java Agent release supports versions of Play up to 2.4.
* Cassandra async 2.1.2+ and 3.x

  This release adds instrumentation for asynchronous queries in versions 2.1.2+ and 3.x of the Datastax Cassandra driver, including [slow query](https://docs.newrelic.com/docs/apm/applications-menu/monitoring/databases-slow-queries-page) support. You’ll see relevant breakdowns in the overview chart, entries on the Databases page, and segments in transaction traces.
* Async Http Client 2.x

  This release adds instrumentation for [external service](https://docs.newrelic.com/docs/apm/applications-menu/monitoring/external-services-page) calls made using Async Http Client versions 2.x. If the called external service is also running New Relic, you will see [cross application tracing](https://docs.newrelic.com/docs/apm/transactions/cross-application-traces/cross-application-tracing) details as well. This instrumentation will also capture external calls made from Play WSAPI (which uses Async Http Client).
* Transaction traces for key transactions

  If you set an Apdex value for a [key transaction](https://docs.newrelic.com/docs/apm/transactions/key-transactions/key-transactions-tracking-important-transactions-or-events), the agent will now capture transaction traces based on that [key transaction's Apdex value](https://docs.newrelic.com/docs/apm/transactions/key-transactions/updating-key-transactions) if it's smaller than the [application’s Apdex value](https://docs.newrelic.com/docs/apm/new-relic-apm/apdex/change-your-apdex-settings).
* JDBC performance and overhead improved

  This release offers better performance and lower overhead of JDBC instrumentation, especially in situations with large numbers of connections.

### Fixes:

* Fixed multiple issues related to Java Agent logging including:

  * ClassCastExceptions thrown into customer application logs
  * Agent logging being diverted into customer application logs
* Fixed a bug where transactions could timeout during agent harvest, resulting in missing metrics and logging: "Traced activity timed out after 600 seconds. The traced_activity_timeout configuration parameter can be used to adjust this timeout.”
* Resolved [Metric grouping issue](https://docs.newrelic.com/docs/agents/manage-apm-agents/troubleshooting/metric-grouping-issues) in Spray/Akka tell instrumentation. The agent now names temporary actors "temp".
* In rare cases a ClassCircularityError could be induced by the agent when running with a custom security manager.
* Fixed issue where a database connection can get labeled as "JDBC" instead of the more specific, supported database type such as "MySQL" or "PostgreSQL". This issue specifically affects customers running with a proxying or delegating JDBC connection.
