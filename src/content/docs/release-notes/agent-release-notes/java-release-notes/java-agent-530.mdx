---
subject: Java agent
releaseDate: '2019-07-24'
version: 5.3.0
downloadLink: 'https://download.newrelic.com/newrelic/java-agent/newrelic-agent/5.3.0/'
features: ["Support for gRPC version 1.22", "Support for Alibaba's Dragonwell JDK", "Support for Azul's Zing JVM", "Configurable Security Policies (CSP)"]
bugs: ["LinkageError for applications using both OpenJ9 and Log4J log manager", "ClassNotFoundException for applications that specify a Log4j ContextSelector via the -DLog4jContextSelector system property", "Akka-http instrumentation could name transactions incorrectly", "JaxRS instrumentation did not apply to cases where a concrete class implements the same method from two different interfaces", "JMX metrics weren't reported when one or more composite attributes were null", "Race condition that could throw a NullPointerException", "Akka-http path matching instrumentation could produce NullPointerExceptions", "ignore_status_codes system property was not getting applied correctly"]
security: []
---
<ButtonGroup>
  <ButtonLink
    role="button"
    to="https://download.newrelic.com/newrelic/java-agent/newrelic-agent/5.3.0/"
    variant="primary"
  >
    Download this agent version
  </ButtonLink>
</ButtonGroup>

### Improvements

* gRPC

  The Java agent now has support for gRPC version 1.22
* Dragonwell JDK

  The Java agent now fully supports Alibaba's Dragonwell JDK
* Azul Zing

  The Java agent now supports Azul's Zing JVM
* Enables ability to migrate to [Configurable Security Policies (CSP)](https://docs.newrelic.com/docs/agents/manage-apm-agents/configuration/enable-configurable-security-policies) on a per agent basis for accounts already using [High Security Mode (HSM](https://docs.newrelic.com/docs/agents/manage-apm-agents/configuration/high-security-mode).

  When both HSM and CSP are enabled for an account, an agent (this version or later) can successfully connect with either high_security: true or the appropriate security_policies_token configured.

### Fixes

* LinkageError for applications using both OpenJ9 and Log4J log manager
* ClassNotFoundException for applications that specify a Log4j ContextSelector via the -DLog4jContextSelector system property
* Akka-http instrumentation would name transactions incorrectly when using an asynchronous onComplete callback to match routes
* The agentâ€™s JaxRS instrumentation did not apply to cases where a concrete class implements the same method from two different interfaces
* The agent would not report JMX metrics when one or more composite attributes were null
* Race condition that could throw a NullPointerException in the agent log during class transformation
* Akka-http path matching instrumentation could produce NullPointerExceptions when using a "repeat" path segment with no values. Transactions that pass some values will report as-is, but transactions that pass no values will be reported with a different segment in the metric name: "().repeat()"
* ignore_status_codes system property was not getting applied correctly
