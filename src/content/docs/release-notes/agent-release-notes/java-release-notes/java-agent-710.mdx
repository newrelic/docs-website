---
subject: Java agent
releaseDate: '2021-07-07'
version: 7.1.0
downloadLink: 'https://download.newrelic.com/newrelic/java-agent/newrelic-agent/7.1.0/'
features: ["Java instrumentation by XML traceLambda and traceByReturnType properties added", "Scala APIs to allow Scala code to be instrumented using a fluent Scala API", "Real-time profiling for Java using JFR metrics is enabled by default instead of the Java annotations"]
bugs: []
security: []
---
<ButtonGroup>
  <ButtonLink
    role="button"
    to="https://download.newrelic.com/newrelic/java-agent/newrelic-agent/7.1.0/"
    variant="primary"
  >
    Download this agent version
  </ButtonLink>
</ButtonGroup>

### Known issues

Some customers saw increased overhead when Real-time profiling is enabled.

See [notice](#disabling-jfr) below on how to disable it.

### New features and improvements:

* Java instrumentation by XML new properties:

  * traceLambda - to trace lambdas inside a method
  * traceByReturnType - to trace all methods in a class that return a given type

  These are compatible with Java and Scala. For more information, see
  [Java instrumentation by XML](/docs/agents/java-agent/custom-instrumentation/java-instrumentation-xml/).


* Scala APIs

  New artifacts allow Scala code to be instrumented using a fluent Scala API
  instead of the Java annotations. There are specific artifacts for versions
  2.10, 2.11, 2.12, 2.13 of Scala. Scala 3.0 users can use the 2.13 artifact.

  For more information, see [Scala instrumentation](/docs/agents/java-agent/frameworks/scala-installation-java/).


* [Real-time profiling for Java using JFR metrics](/docs/agents/java-agent/features/real-time-profiling-java-using-jfr-metrics/)

  This feature is now enabled by default.

  <Callout variant="important">
    This feature will cause an increase in the consumption of data. The amount depends on the application. <span id="disabling-jfr">This feature can be disabled by adding the following to the agent yaml config nested under the `common` stanza:</span>

    ```
      jfr:
        enabled: false
    ```
  </Callout>

  For more information, see [JFR core README](https://github.com/newrelic/newrelic-jfr-core/blob/main/README.md).

### Support statement:

* New Relic recommends that you upgrade the agent regularly to ensure that you're getting the latest features and
  performance benefits. Additionally, older releases will no longer be supported when they reach
  [end-of-life](/docs/using-new-relic/cross-product-functions/install-configure/notification-changes-new-relic-saas-features-distributed-software/).
