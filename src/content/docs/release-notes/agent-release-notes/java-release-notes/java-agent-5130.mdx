---
subject: Java agent
releaseDate: '2020-06-16'
version: 5.13.0
downloadLink: 'https://download.newrelic.com/newrelic/java-agent/newrelic-agent/5.13.0/'
features: ["Additional info will be copied from transaction events onto span events when using distributed or infinite tracing", "Added TracedMethod.addCustomAttribute APIs for adding attributes to spans", "The Java agent now uses AWS's IMDS v2 to gather instance information"]
bugs: ["Jetty JMX metrics would not report when running embedded in Spring Boot", "Local configuration settings could revert to the default following an agent reconnect"]
security: []
---
<ButtonGroup>
  <ButtonLink
    role="button"
    to="https://download.newrelic.com/newrelic/java-agent/newrelic-agent/5.13.0/"
    variant="primary"
  >
    Download this agent version
  </ButtonLink>
</ButtonGroup>

### Improvements

* Distributed tracing: With [distributed tracing spans](https://docs.newrelic.com/docs/understand-dependencies/distributed-tracing/get-started/introduction-distributed-tracing) and/or [Infinite Tracing](/docs/distributed-tracing/infinite-tracing/introduction-infinite-tracing), the Java agent will now incorporate additional information from the [transaction event](https://docs.newrelic.com/attribute-dictionary?attribute_name=&events_tids%5B%5D=8236) on to the root [span event](https://docs.newrelic.com/attribute-dictionary?attribute_name=&field_data_source_tid%5B%5D=8332) of the transaction.
* New [TracedMethod.addCustomAttribute(...) APIs](https://newrelic.github.io/java-agent-api/javadoc/com/newrelic/api/agent/TracedMethod.html) have been added for adding attributes directly to spans.

  **Note:** Any attribute include or exclude settings specific to transaction events should be applied to your span attributes configuration or your global attributes configuration.
* The Java agent now uses AWS's IMDS v2 to gather instance information.

### Fixes

* Jetty JMX metrics would not report when running embedded in Spring Boot.
* Local configuration settings could revert to the default following an agent reconnect.
