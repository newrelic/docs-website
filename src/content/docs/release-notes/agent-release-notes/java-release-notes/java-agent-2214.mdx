---
subject: Java agent
releaseDate: '2013-09-10'
version: 2.21.4
downloadLink: 'https://download.newrelic.com/newrelic/java-agent/newrelic-agent/2.21.4/'
features: []
bugs: ["Metric Grouping Issue with Netty", "Make Cookie parsing more robust when running on Netty", "Agent could not connect to New Relic in non-DNS environments", "Relic in environments where DNS was used for hostname resolution.
* Fix: In 2.21.2 and 2.21.3 an"]
security: []
---
<ButtonGroup>
  <ButtonLink
    role="button"
    to="https://download.newrelic.com/newrelic/java-agent/newrelic-agent/2.21.4/"
    variant="primary"
  >
    Download this agent version
  </ButtonLink>
</ButtonGroup>

<Callout variant="important">
  The end-of-life date for this agent version is July 29, 2019. To update to the latest agent version, see [Update the agent](/docs/agents/manage-apm-agents/installation/update-new-relic-agent). For more information, see [End-of-life policy](/docs/agents/manage-apm-agents/maintenance/new-relic-agent-plugin-end-life-policy).
</Callout>

### Notes

* Fix: Metric Grouping Issue with Netty

  The request URL was referenced in some metric names, causing Metric Explosion. The URL is no longer included in the metric name.
* Fix: Make Cookie parsing more robust when running on Netty

  Cases where the Cookie header was malformed were causing exceptions to be thrown. Agent now makes a better effort to capture the individual valid parts.
* Fix: Agent could not connect to New Relic in non-DNS environments

  Fixed an issue which caused the agent to only be able to connect to New Relic in environments where DNS was used for hostname resolution.
* Fix: In 2.21.2 and 2.21.3 an @Trace annotation ignored the transaction for Apdex

  An @Trace annotation on a method called in a web transaction had the side-effect of ignoring the transaction for calculating the Apdex score.
