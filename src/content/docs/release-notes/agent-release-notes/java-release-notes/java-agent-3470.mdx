---
subject: Java agent
releaseDate: '2018-02-05'
version: 3.47.0
downloadLink: 'https://download.newrelic.com/newrelic/java-agent/newrelic-agent/3.47.0/'
redirects:
  - /docs/release-notes/java-agent-3470
features: ["Instrumentation for Jersey Client versions 1.x and 2.x", "request.uri is collected as an agent attribute"]
bugs: ["Fixes a bug in Jersey 2 instrumentation where external segments could time out", "Agent may have incorrectly reported the transaction thread name to New Relic as New Relic Token Expiration Handler", "Agent was incorrectly bundling javax.xml and jregex packages", "Wildfly instrumentation could cause async servlet transactions to go unreported"]
security: []
---
<ButtonGroup>
  <ButtonLink
    role="button"
    to="https://download.newrelic.com/newrelic/java-agent/newrelic-agent/3.47.0/"
    variant="primary"
  >
    Download this agent version
  </ButtonLink>
</ButtonGroup>

### Improvements

* Jersey Client

  The agent now provides instrumentation for Jersey Client versions 1.x and 2.x. You will see your calls using the Jersey Client APIs as Externals in New Relic, whether you are using the synchronous or reactive client API.
* `request.uri` collected as an agent attribute

  You can now control the collection of `request.uri` on errors and transaction Traces you would other attributes. For more information on agent attributes [see here](https://docs.newrelic.com/docs/agents/manage-apm-agents/agent-data/agent-attributes).

### Fixes

* Fixes a bug in Jersey 2 instrumentation where external segments could time out, causing an abnormally large "total time" for a transaction. This bug would occur if a client disconnected while being sent a response or if an unstable network is in place where an IOException occurs during response.
* In some cases, the agent may have incorrectly reported the transaction thread name to New Relic as "New Relic Token Expiration Handler".
* Agent was incorrectly bundling javax.xml and jregex packages
* Fixes an issue in the Wildfly instrumentation that could cause async servlet transactions to go unreported.
