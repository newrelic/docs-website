---
subject: Java agent
releaseDate: '2014-05-20'
version: 3.7.0
downloadLink: 'https://download.newrelic.com/newrelic/java-agent/newrelic-agent/3.7.0/'
features: ["Flexible capturing of attributes", "Agent-Side High Security Configuration", "Discovery of hostname reported to New Relic", "Improved JMX metric naming", "Improved Jetty coverage"]
bugs: ["Naming of CGLib classes", "JMS transaction naming", "Potential memory leak from database calls", "VerifyError can occur when using Nevado JMS"]
security: []
---
<ButtonGroup>
  <ButtonLink
    role="button"
    to="https://download.newrelic.com/newrelic/java-agent/newrelic-agent/3.7.0/"
    variant="primary"
  >
    Download this agent version
  </ButtonLink>
</ButtonGroup>

### Notes

* Flexible capturing of attributes

  The Java agent offers the ability to fine tune the attributes being sent to New Relic. Please see our docs site for more information on configuring attributes: [https://docs.newrelic.com/docs/java/java-agent-attributes](https://docs.newrelic.com/docs/java/java-agent-attributes)
* Agent-Side High Security Configuration

  If your account is set to high security in the New Relic UI, you must add the following to your local newrelic.yml configuration file:

  ```
  high_security: true
  ```

  Without this property, the agent will stop collecting data when high security is enabled in the New Relic UI. See [https://docs.newrelic.com/docs/subscriptions/high-security](https://docs.newrelic.com/docs/subscriptions/high-security)
* Discovery of hostname reported to New Relic

  If New Relic reports an IP address for your hostname, you can now control whether the host name is an IP version 4 or 6 address by setting the following property in your newrelic.yml configuration file:

  ```
  process_host: 
    ipv_preference: {4 or 6}
  ```
* Improved JMX metric naming

  You can now set the metric name when configuring JMX metrics through a custom yaml file using the property "root_metric_name". Note, all of the JMX metrics will still be prefixed with "JMX" and end with the name of the attribute. See [https://docs.newrelic.com/docs/java/custom-jmx-yaml-examples](https://docs.newrelic.com/docs/java/custom-jmx-yaml-examples)
* Fix: Naming of CGLib classes

  CGLib auto generated classes with Spring resulted in poor metric names. The agent now excludes the random part from the name.
* Fix: JMS transaction naming

  JMS onMessage instrumentation now uses a lower priority for naming transactions and honors the enable_auto_transaction_naming config.
* Improved Jetty coverage

  Jetty versions 9.04 through 9.06 were not instrumented. This has been fixed.
* Fix: Potential memory leak from database calls

  In some cases when database work is performed outside of a New Relic transaction, a memory leak could occur. This bug has been present in the agent since 3.5.0.
* Fix: VerifyError can occur when using Nevado JMS.
