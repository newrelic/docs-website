---
subject: Java agent
releaseDate: '2018-11-13'
version: 4.8.0
downloadLink: 'https://download.newrelic.com/newrelic/java-agent/newrelic-agent/4.8.0/'
features: []
bugs: ["Agent could break webpage rendering", "Transactions were kept alive until they timed out", "Agent could stop reporting following a ForceDisconnectException resulting in OutOfMemory Exceptions", "Agent now validates that app_names only contains three application names", "Long segment times when a custom WSRequestFilter is used that modifies an outbound play-ws request"]
security: []
---
<ButtonGroup>
  <ButtonLink
    role="button"
    to="https://download.newrelic.com/newrelic/java-agent/newrelic-agent/4.8.0/"
    variant="primary"
  >
    Download this agent version
  </ButtonLink>
</ButtonGroup>

### Fixes

* Fixed an issue where the agent would break webpage rendering by inserting New Relic Browser monitoring javascript into the `<header>` tag of pages which were missing `<head>` tags.
* Certain frameworks, like Spring Cloud Gateway, triggered a bug in the Spring webflux instrumentation, causing transactions to stay open until they timed out. This bug resulted in more memory pressure and looked like a memory leak. This has been fixed in this release.
* Fixed an issue where the agent would stop reporting to New Relic following a ForceDisconnectException and accumulate transaction data resulting in OutOfMemory Exceptions.
* The agent now validates that app_names only contains three application names. If the agent is configured to report more than three application names, the agent will log a warning message and stop reporting to New Relic.
* When a custom WSRequestFilter is used that modifies an outbound play-ws request, the agent would report overly long segments due to Segment timeouts and will also result in a loss of External/ metrics. This has been fixed.
