---
subject: Java agent
releaseDate: '2020-05-05'
version: 5.12.0
features: ["Infinite Tracing on New Relic Edge", "Spring PatchMapping annotation will now be used to start and name transactions", "Span Events now report error attributes if an error occurs"]
bugs: ["Solr Instrumentation could cause a NullPointerException", "The JDBC ResultSet instrumentation is now disabled by default", "The quartz_job configuration did not affect applications using Quartz-2.0 and higher"]
security: []
---
<ButtonGroup>
  <ButtonLink
    role="button"
    to="https://download.newrelic.com/newrelic/java-agent/newrelic-agent/5.12.0/"
    variant="primary"
  >
    Download this agent version
  </ButtonLink>
</ButtonGroup>

### New Features

Added support for [Infinite Tracing on New Relic Edge](https://docs.newrelic.com/docs/understand-dependencies/distributed-tracing/enable-configure/enable-distributed-tracing).

Infinite Tracing observes 100% of your distributed traces and provides visualizations for the most actionable data so you have the examples of errors and long-running traces so you can better diagnose and troubleshoot your systems.

You configure your agent to send traces to a trace observer in New Relic Edge. You view your distributed traces through the New Relicâ€™s UI. There is no need to install a collector on your network.

Infinite Tracing is currently available on a sign-up basis. If you would like to participate, please contact your sales representative.

### Known Issue

In-process spans from Java services will not appear in distributed traces. All users should upgrade to 5.12.1.

### Improvements

* Spring

  Spring PatchMapping annotation will now be used to start and name transactions.
* SQL

  Common Table Expressions in SQL Server, Postgres, and MySQL will report [Datastore Metrics](https://docs.newrelic.com/docs/apm/applications-menu/monitoring/databases-page-view-operations-throughput-response-time) `Datastore/<vendor>/statement/<first cte name>/with` and `Datastore/<vendor>/operation/with`
* Distributed Tracing

  [Span events](https://docs.newrelic.com/docs/apm/distributed-tracing/ui-data/span-event) now report error attributes if an error occurs: TransactionError events will also contain a corresponding `spanId` attribute indicating where the error occurred.

### Fixes

* Solr Instrumentation could cause a `NullPointerException` in the agent logs for queries containing null parameters
* The `JAVA_ENV` environment variable configuration has been deprecated. Use `NEW_RELIC_ENVIRONMENT` to set the [environment configuration for the agent](https://docs.newrelic.com/docs/agents/java-agent/configuration/java-agent-configuration-config-file#newrelic-environment) to use
* The JDBC `ResultSet` instrumentation is now disabled by default internally. Applications configured solely via system properties and/or environment variables can enable with: `-Dnewrelic.config.class_transformer.com.newrelic.instrumentation.jdbc-resultset.enabled=true` or `NEW_RELIC_CLASS_TRANSFORMER_COM_NEWRELIC_INSTRUMENTATION_JDBC-RESULTSET_ENABLED=TRUE`
* The `quartz_job` configuration did not affect applications using Quartz-2.0 and higher
