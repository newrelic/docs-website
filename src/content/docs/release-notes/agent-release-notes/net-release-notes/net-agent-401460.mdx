---
subject: .NET agent
releaseDate: '2015-03-12'
version: 4.0.146.0
---

<Callout variant="important">
  The end-of-life date for this agent version is July 29, 2019. To update to the latest agent version, see [Update the agent](/docs/agents/manage-apm-agents/installation/update-new-relic-agent). For more information, see [End-of-life policy](/docs/agents/manage-apm-agents/maintenance/new-relic-agent-plugin-end-life-policy).
</Callout>

### New Features

* ASP.NET, MVC, and Web API instrumentation has been greatly improved. We now time each of the lifecycle events to help diagnose problematic areas of the .NET lifecycle such as session state lock contention. MVC and WebAPI should now properly wrap the time spent in controller actions inside the proper segment.
  * We should now see far more exceptions that occur in your application, with full stack traces. The caveat here is that your error rate may appear to spike after upgrading and you may need to add some additional configuration to ignore more errors (or adjust error rate thresholds).

### Fixes

* Fixed a bug where WebAPI exceptions didn't contain stack traces.
* Increases the number of places during the ASP.NET Lifecycle that New Relic API methods that modify the transaction (like SetTransactionName) can be used.
* Provides support for instrumentation of methods on generic class types.
* Fixed a bug that would sometimes cause IIS to get into a bad state under certain load conditions where it would stop serving requests. This could be identified by an exception from IIS around System.Web.HttpApplication.PipelineStepManager.ResumeSteps.

### Other

* MVC2 applications will no longer generate MVC-specific segments or have MVC route-based transaction names.
* Thread profiles will no longer put threads into the Web Requests thread bucket (the Other bucket will be used instead)
