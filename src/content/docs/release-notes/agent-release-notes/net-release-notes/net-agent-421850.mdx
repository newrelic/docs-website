---
subject: .NET agent
releaseDate: '2015-03-31'
version: 4.2.185.0
---

<Callout variant="important">
  The end-of-life date for this agent version is July 29, 2019. To update to the latest agent version, see [Update the agent](/docs/agents/manage-apm-agents/installation/update-new-relic-agent). For more information, see [End-of-life policy](/docs/agents/manage-apm-agents/maintenance/new-relic-agent-plugin-end-life-policy).
</Callout>

### New Features

* Customers who use the MongoDB.Driver for .NET in their applications will start to see MongoDB-based transaction segments. Operations will include data querying, aggregation, index creation/retrieval, data insertion/update/removal and bulk write operations. MongoDB datastore transactions will appear in the **[Monitoring > Databases](/docs/apm/applications-menu/monitoring/databases-slow-queries-page)** APM page. The .NET agent uses the 1.10.0 version of the MongoDB Driver for .NET but will report instrumentation for applications using older versions of the driver.
* Provides support for NServiceBus instrumentation, which will appear as transaction segments containing **Message Broker**, the queue name and the action (such as **Produce** or **Consume**). Since NServiceBus can be used for inter-application communication, nodes will also appear within the [Cross-Application Tracing map](/docs/apm/transactions/cross-application-traces/cross-application-tracing) in APM. This release supports NServiceBus 5.0 and later.

### Fixes

* Fixes a bug where WCF applications hosted in IIS with compatibility mode disabled would not receive any useful transaction traces.
* Fixes a bug where WCF applications hosted in IIS with compatibility mode disabled would see twice as much throughput and \*.svc transactions.
* Fixes a bug where some frameworks (WCF, Umbraco, DotNetNuke, etc.) were not having their transactions named as they were in agent 3.x and instead were getting named by the route.
* Fixed a bug where server-side redirects would cause transactions to be dropped.
* Fixes a bug where default page redirection in IIS classic pipeline mode would cause the redirection to fail and a 404 to occur instead.
* Fixes a bug where an exception could be thrown if the Content Type of an outgoing payload could not be parsed.
* Fixes an issue where the Azure Cloud Services NuGet package will not install on roles that are added as part of a second Cloud Service project.
* Fixes a bug where transactions would sometimes not show up in the UI.

### Notes

* There is a known issue in version 4.2.185.0 of the .NET agent which prevents auto-injection in certain specific cases. This issue only affects WebForms websites running in integrated pipeline mode, and only manifests when navigating to the website's root URL.
