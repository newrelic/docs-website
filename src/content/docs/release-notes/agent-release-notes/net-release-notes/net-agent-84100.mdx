---
subject: .NET agent
releaseDate: '2021-07-21'
version: 8.41.0.0
features: ['Capture HTTP request method on transactions', 'Capture stack traces in Transaction Traces', 'Report name configuration in Environment data']
bugs: ['No longer delete user headers from RabbitMQ messages']
security: []
---

## New Features

* Feature [#611](https://github.com/newrelic/newrelic-dotnet-agent/issues/611): Capture HTTP request method on transactions in the AspNetCore, Asp35, Wcf3, and Owin wrappers.
* Feature [#580](https://github.com/newrelic/newrelic-dotnet-agent/issues/580): Send initial app name and source in environment data. ([#653](https://github.com/newrelic/newrelic-dotnet-agent/pull/653))
* Adds support for capturing stack traces for each instrumented method in a Transaction Trace.
  * This feature is disabled by default.
  * You can enable the capture of stack traces by setting either maxStackTrace to any value greater than 1.  This value will only be used to determine if stack traces are captured or not despite the name.
  * The following are the default settings for stack traces. These can be changed using the newrelic.config:
    * A maximum 80 stack frames are reported per stack trace.

## Fixes

* Fixes issue [#639](https://github.com/newrelic/newrelic-dotnet-agent/issues/639): RabbitMQ instrumentation can delete user headers from messages. Thank you @witoldsz for finding and reporting this bug. ([#648](https://github.com/newrelic/newrelic-dotnet-agent/pull/648))

## Checksums

| File                                                           | SHA - 256  Hash                                                  |
| -------------------------------------------------------------- | ---------------------------------------------------------------- |
| newrelic-agent-win-8.41.0.0-scriptable-installer.zip           | 1D52B36A3975C5CA2A203AD68D5817ECB3A83CF0600B1ECD7869659964532600 |
| newrelic-agent-win-x64-8.41.0.0.msi                            | 2E21966D5E10C5B788B2F2C5B518D2199E5B0D66EEBDF4D0E7B2191726A310BB |
| newrelic-agent-win-x64-8.41.0.0.zip                            | 2A7B5D96BF5F501640497769BA2ACCD1CB43F85AEFBBEA20B2932E3D58377CF5 |
| newrelic-agent-win-x86-8.41.0.0.msi                            | 954A364C0C47B2935CA3AF6E3F9441A4F6333D480AC2D97444EBF16ECBC60C13 |
| newrelic-agent-win-x86-8.41.0.0.zip                            | 55ECB00F775056C814FA9B6F57F2CA0F2C42522AC09E5E58D87172F0D6B9D633 |
| newrelic-netcore20-agent-8.41.0.0-1.x86_64.rpm                 | DE5C792C8412153F6B5594ED1601BFB078190750B28772D11A646D09AF28C42B |
| newrelic-netcore20-agent-win-8.41.0.0-scriptable-installer.zip | 6EEF6BDA67C6E9AE173C8E8D58DF78F18E459966C5AB6C213024371D0F18BDC4 |
| newrelic-netcore20-agent-win-x64-8.41.0.0.zip                  | F75913CC26973EF81742D65D6AB489DF1E7D2019B009D2E82754DBC3B1BA0A9E |
| newrelic-netcore20-agent-win-x86-8.41.0.0.zip                  | 29742D9528FF1D2C718C741B4A6C15D6EAD56618C488F5685A1FE64CA22CEFA3 |
| newrelic-netcore20-agent_8.41.0.0_amd64.deb                    | B7A5B1F98C58B468770FE2EDFC0F51C9081851B9EA0C5CA0B56B02E1120F38C3 |
| newrelic-netcore20-agent_8.41.0.0_amd64.tar.gz                 | 2958DEF3988093F81866F29F8B5584D2A29CD5F6B385901534541EF023AD2992 |

## Support statement

New Relic recommends that you upgrade the agent regularly and at a minimum every 3 months. As of this release, the oldest supported version is [.NET Agent 8.13.798.0](/docs/release-notes/agent-release-notes/net-release-notes/net-agent-8137980).

## Upgrading

* Follow standard procedures to [update the .NET agent](/docs/agents/net-agent/installation-configuration/update-net-agent).
* If you are upgrading from a particularly old agent, review the list of major changes and procedures to [upgrade legacy .NET agents](/docs/agents/net-agent/troubleshooting/upgrade-legacy-net-agents).
