---
subject: .NET agent
releaseDate: '2021-09-16'
version: 9.0.0.0
downloadLink: 'https://download.newrelic.com/dot_net_agent/latest_release'
features: ['Enable Distributed Tracing by default', 'Allow configuration of number of span event samples', 'Allow setting log level and directory by environment variable', 'Deprecate Cross Application Tracing, support for Castle.Monorail, and some Agent APIs']
bugs: ['Fix missing SQL Explain Plans', 'Fix serialization error with some custom attributes', 'Reduce install size']
security: []
---

### New Features

* Feature [#672](https://github.com/newrelic/newrelic-dotnet-agent/issues/672): This release of the .NET agent enables distributed tracing by default, and deprecates cross application tracing. ([#700](https://github.com/newrelic/newrelic-dotnet-agent/pull/700))
* Feature [#671](https://github.com/newrelic/newrelic-dotnet-agent/issues/671): The maximum number of samples stored for span events can be configured via the `spanEvents.maximumSamplesStored` configuration in the `newrelic.config` or the `NEW_RELIC_SPAN_EVENTS_MAX_SAMPLES_STORED` environment variable.([#701](https://github.com/newrelic/newrelic-dotnet-agent/pull/701))
* Feature [#703](https://github.com/newrelic/newrelic-dotnet-agent/issues/703): Increases the default maximum number of samples stored for span events from 1000 to 2000.([#705](https://github.com/newrelic/newrelic-dotnet-agent/pull/705))
* Feature [#532](https://github.com/newrelic/newrelic-dotnet-agent/issues/532): Adds environment variables for log level `NEWRELIC_LOG_LEVEL` and directory `NEWRELIC_LOG_DIRECTORY` to allow better control of logs for the agent and the profiler. ([#717](https://github.com/newrelic/newrelic-dotnet-agent/pull/717))

### Fixes

* Fixes issue [#707](https://github.com/newrelic/newrelic-dotnet-agent/issues/707): In 8.40.1 SQL explain plans are not being captured for parameterized SQL statements. ([#708](https://github.com/newrelic/newrelic-dotnet-agent/pull/708))
* Fixes issue [#502](https://github.com/newrelic/newrelic-dotnet-agent/issues/502): Agent encountering serialization error ([#715](https://github.com/newrelic/newrelic-dotnet-agent/pull/715))
* Fixes issue [#679](https://github.com/newrelic/newrelic-dotnet-agent/issues/679): Update gRPC libraries from 2.35.0 to 2.40.0 to reduce installation size ([#721](https://github.com/newrelic/newrelic-dotnet-agent/pull/721))

### Deprecations/Removed Features

* Cross application tracing is now deprecated, and disabled by default. To continue using it, enable it with `crossApplicationTracer.enabled = true` and `distributedTracing.enabled = false`.
* Issue [#667](https://github.com/newrelic/newrelic-dotnet-agent/issues/611), [668](https://github.com/newrelic/newrelic-dotnet-agent/issues/668), [#669](https://github.com/newrelic/newrelic-dotnet-agent/issues/669): previously deprecated agent configuration options are now disabled.  See the [migration guide](https://docs.newrelic.com/docs/agents/net-agent/getting-started/8x-to-9x-agent-migration-guide/#removal-of-deprecated-agent-configuration-settings) for details.
* Issue [#666](https://github.com/newrelic/newrelic-dotnet-agent/issues/666): previously deprecated agent APIs have been removed, and disabled in the Agent. Disabled APIs will log a warning when invoked by old versions of the .NET agent API. See the [migration guide](https://docs.newrelic.com/docs/agents/net-agent/getting-started/8x-to-9x-agent-migration-guide/#removal-of-deprecated-public-agent-api-methods) for details. ([#687](https://github.com/newrelic/newrelic-dotnet-agent/pull/687))
* Issue [#702](https://github.com/newrelic/newrelic-dotnet-agent/issues/702) Deprecate instrumentation for Castle.Monorail ([#710](https://github.com/newrelic/newrelic-dotnet-agent/pull/710))

### Checksums

| File                                                          | SHA - 256  Hash                                                  |
| ------------------------------------------------------------- | ---------------------------------------------------------------- |
| newrelic-agent-win-9.0.0.0-scriptable-installer.zip           | 44D43682A42ABE2736CCACFC1F762155898DFC3E692091D351F12389A88B8A46 |
| newrelic-agent-win-x64-9.0.0.0.msi                            | 161EC6128E104F87D4800ED6D311B3D918BDE678AEC9B599ED7A247327ED971B |
| newrelic-agent-win-x64-9.0.0.0.zip                            | 810FEAA211079B40D4E3313BFEE347EA3F947BF278CFA4AC8C55CA0685830CF8 |
| newrelic-agent-win-x86-9.0.0.0.msi                            | F2C1F758F47734B4959F7109C8FECD2FB2D18CC2A94661D4BDE75F092EDDBF77 |
| newrelic-agent-win-x86-9.0.0.0.zip                            | 017C05C9C86CB5DA1A072C546B44619665A90130813E37C5E9EFF256ED10193D |
| newrelic-netcore20-agent-9.0.0.0-1.x86_64.rpm                 | 678D19758034E93BD4F9DA3CB3407BDC9405F9CD91C69C62DE20C6D38B59B81C |
| newrelic-netcore20-agent-win-9.0.0.0-scriptable-installer.zip | C8536759FFA847805484790D87A34A1506042B037F691A2619F67EAFB219D398 |
| newrelic-netcore20-agent-win-x64-9.0.0.0.zip                  | 5A0609465319C57AEE37C0C5F7686062E0B0A694488A2DEAB0563651C6E6011C |
| newrelic-netcore20-agent-win-x86-9.0.0.0.zip                  | 21CA7F79E83562430CBFDC8653D8527915E5CA2B8F804D53154299A9ACAD5803 |
| newrelic-netcore20-agent_9.0.0.0_amd64.deb                    | 1A8F05C857223F075F6442B8332FB35BEA7892C3B50B01C4B8A9472E05E4FC08 |
| newrelic-netcore20-agent_9.0.0.0_amd64.tar.gz                 | C5C6E12199F029B7D0DEB23F27D1D4FAC413284D446CEA29200FE1F1500AEFD3 |

## Support statement

New Relic recommends that you upgrade the agent regularly and at a minimum every 3 months. As of this release, the oldest supported version is [.NET agent 8.13.798.0](/docs/release-notes/agent-release-notes/net-release-notes/net-agent-8137980).

## Upgrading

* Follow standard procedures to [update the .NET agent](/docs/agents/net-agent/installation-configuration/update-net-agent).
* If you are upgrading from a particularly old agent, review the list of major changes and procedures to [upgrade legacy .NET agents](/docs/agents/net-agent/troubleshooting/upgrade-legacy-net-agents).
