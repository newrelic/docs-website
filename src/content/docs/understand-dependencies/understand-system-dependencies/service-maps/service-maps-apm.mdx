---
title: Legacy APM service maps
tags:
  - Understand dependencies
  - Understand system dependencies
  - Service maps
metaDescription: 'How to create, customize, and use service maps in New Relic APM.'
redirects:
  - /docs/apm/applications-menu/monitoring/customizing-your-service-map
  - /docs/apm/applications-menu/monitoring/customizing-service-maps
  - /docs/apm/applications-menu/monitoring/customize-service-maps
  - /docs/apm/applications-menu/service-maps/customize-service-maps
  - /docs/data-analysis/service-maps/customize-service-maps/customize-service-maps
  - /docs/data-analysis/service-maps/customize-service-maps/customize-your-service-maps
  - /docs/data-analysis/service-maps/customize-service-maps
  - /docs/data-analysis/user-interface-functions/view-your-data/customize-your-service-maps
  - /docs/data-analysis/service-maps/get-started/customize-your-service-maps
---

Here is information about using the legacy APM service maps feature to create, customize, and use service maps. For help using the current service maps feature, see [How to use service maps](/docs/understand-dependencies/understand-system-dependencies/service-maps/how-use-service-maps).

## Requirements [#requirements]

The legacy service map features in APM depend on your New Relic agent version:

<table>
  <thead>
    <tr>
      <th width={200}>
        **Feature**
      </th>

      <th>
        **Requirements**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        App visibility
      </td>

      <td>
        For your app to appear in service maps, one of the following must be true:

        * Your app must have the [minimum agent version required for distributed tracing](/docs/understand-dependencies/distributed-tracing/enable-configure/enable-distributed-tracing) and have distributed tracing enabled. Note: [New Relic Mobile apps do not yet support distributed tracing and will not show relationships to applications that have distributed tracing enabled](/docs/apm/distributed-tracing/getting-started/transition-guide-distributed-tracing#maps-no-browser-mobile).
        * Your app must have the [minimum APM agent version required for cross app tracing](/docs/apm/transactions/cross-application-traces/troubleshooting-cross-application-tracing#agents) and have cross app tracing enabled.
      </td>
    </tr>

    <tr>
      <td>
        Host and instance visibility
      </td>

      <td>
        To view specific hosts, instances, and types of database information, your agent must meet the same minimum agent versions as the [APM database and instance feature](/docs/apm/applications-menu/features/analyze-database-instance-level-performance-issues#compatibility) and use any of the compatible database drivers.
      </td>
    </tr>

    <tr>
      <td>
        Database-only visibility
      </td>

      <td>
        APM's service maps feature includes the ability to opt out of the deeper, host and instance level view. However, to view databases in service maps **without** the instance-level details, you must still meet the same minimum agent versions as the [**Database and slow queries** features](/docs/apm/applications-menu/monitoring/databases-slow-queries-page#availablity).
      </td>
    </tr>
  </tbody>
</table>

## Create maps [#creating-maps]

The APM service maps feature helps you create your first map by providing default map or architecture suggestions that automatically build a default map (if you have more than ten reporting apps). To view these suggested maps, go to **[one.newrelic.com](https://one.newrelic.com) > More > Service Maps > Suggested maps**.

To create a new map:

1. Do one of the following:
   * Start from scratch: Go to **[one.newrelic.com](https://one.newrelic.com) > More > Service maps > Map list > Create new map <Icon name="fe-plus-circle"/>
     **.
   * Copy an existing map: Go to **[one.newrelic.com](https://one.newrelic.com) > More > Service maps > (select a map) > Save as new**.
2. Name your map.
3. [Rearrange, group](#select-arrange-group-nodes), or [add nodes](#add-nodes) on the map as needed.

<Callout variant="important">
  Previously, you could have private service maps. Now, all users can view, edit, and delete all existing or new service maps in the account.
</Callout>

## Save and rename maps [#save-rename-share-maps]

Here are some tips about saving and renaming maps:

<CollapserGroup>
  <Collapser
    id="saving"
    title="Save"
  >
    * To save changes to a map, select **Save**.
    * To create a copy of the current map, select **Save as new**.
  </Collapser>

  <Collapser
    id="renaming"
    title="Rename"
  >
    To rename a map:

    1. Go to **[one.newrelic.com](https://one.newrelic.com) > More > Service maps > (select a map)**.
    2. Select the pencil <Icon name="fe-edit-2"/>
       icon next to the map name.
    3. Change the name, then select **Save**.
  </Collapser>
</CollapserGroup>

## Add or remove nodes on maps [#add-nodes]

After you [create](#creating-maps) or save a map, build out your map by adding nodes to it. Nodes are added to the map differently based on the node type.

To remove any node from the map, mouse over the node, then select the remove **X** icon.

<CollapserGroup>
  <Collapser
    id="app-browser-db-nodes"
    title="Applications, Mobile apps, plugins"
  >
    Nodes for applications, mobile apps, and plugins (including databases) need to be added to the map in order to add any other nodes. Nodes are added and connected into the map as you select them. The check mark <Icon name="fe-check"/>
    icon means that node is already on the map.

    To add New Relic monitored apps or plugins to maps:

    1. Go to **[one.newrelic.com](https://one.newrelic.com) > More > Service maps > (select a map) > App/Service**.
    2. Select any applications from the **App/Service** list.
    3. [Rearrange or group](#select-arrange-group-nodes) together as needed.
  </Collapser>

  <Collapser
    id="connected-nodes"
    title="Browser, databases, external services, connected apps"
  >
    In the New Relic UI, your out-of-process services are referred to as [web external](/docs/using-new-relic/welcome-new-relic/get-started/glossary#web-external) or background external data. To add Browser apps, databases, external services, or other connected apps to the map:

    1. Select an incoming or outgoing connection widget.
    2. From the list of connections, mouse over an app or service, then select the plus <Icon name="fe-plus"/>
       icon.
    3. [Rearrange](#select-arrange-group-nodes) as needed.

    ![crop-incoming-outgoing-service-maps.png](./images/crop-incoming-outgoing-service-maps.png "crop-incoming-outgoing-service-maps.png")
  </Collapser>

  <Collapser
    id="custom-nodes"
    title="Custom nodes"
  >
    To add a custom node to the map:

    1. Go to **[one.newrelic.com](https://one.newrelic.com) > More > Service maps > (select a map) > App/Service**.
    2. From the **App/Service** list, select ![](./images/custom-node.png) **Create custom node**.
    3. Name the node.
    4. Add connections: Select the left (for incoming) or right (for outgoing) arrow <Icon name="fe-arrow-right"/>
       icons. Then select the plus <Icon style={{color: '#B9D7B6'}} name="fe-plus-circle"/>
       icon on your target node.
    5. Select **Save**.
    6. [Rearrange](#select-arrange-group-nodes) as needed.

    To add or remove custom node connections:

    1. Mouse over the custom node and select the pencil <Icon name="fe-edit-2"/>
       icon.
    2. Select the left (for incoming) or right (for outgoing) arrow <Icon name="fe-arrow-right"/>
       icons.
    3. To add a connection, select the plus <Icon style={{color: '#B9D7B6'}} name="fe-plus-circle"/>
       icon.
    4. To remove a connection, select the minus <Icon style={{color: '#D75968'}} name="fe-minus-circle"/>
       icon.
    5. Select **Save**.

    ![crop-custom-connections-service-maps.png](./images/crop-custom-connections-service-maps.png "crop-custom-connections-service-maps.png")
  </Collapser>
</CollapserGroup>

## Move around the map [#moving-map]

Move around the map by panning or zooming in and out.

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        **If you want to...**
      </th>

      <th>
        **Do this...**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Pan the map
      </td>

      <td>
        * In pan <Icon name="fe-move"/>
          mode, click and drag.
        * In drag-select <ImageSizing width="22px">![](./images/sm-drag-select-toggle_0.png)</ImageSizing> mode, hold the **Alt** key, then click and drag.
      </td>
    </tr>

    <tr>
      <td>
        Zoom in and out
      </td>

      <td>
        In either mode, zoom in and out by scrolling the mouse wheel.
      </td>
    </tr>

    <tr>
      <td>
        View your entire map in [traffic light](/docs/data-analysis/user-interface-functions/view-your-data/service-maps-visualize-monitor-apps-entire-architecture#traffic-lights) mode
      </td>

      <td>
        Zoom out until node details fade out and are replaced by health status colors.
      </td>
    </tr>

    <tr>
      <td>
        Toggle the traffic light view on and off
      </td>

      <td>
        Select **Views**, then select **Traffic light mode**.
      </td>
    </tr>

    <tr>
      <td>
        View all the nodes and their dependencies
      </td>

      <td>
        Select **Discover your environment**.
      </td>
    </tr>

    <tr>
      <td>
        Drill down into more detail from a node
      </td>

      <td>
        Use [standard UI functions](/docs/apm/new-relic-apm/ui-functions/standard-dashboard-features#drilldown).
      </td>
    </tr>
  </tbody>
</table>

## Select, arrange, group nodes [#node-groups]

Click on a node to select it and view its performance summary. You can also select multiple nodes at once, to group and ungroup them:

<CollapserGroup>
  <Collapser
    id="selecting-nodes"
    title="Select nodes"
  >
    To select one node, click on the node. To select multiple nodes:

    * Click the drag-select <ImageSizing width="22px">![](./images/sm-drag-select-toggle_0.png)</ImageSizing> icon to switch to drag-select mode. Click and drag the mouse to draw a square around the nodes you want to select.

      OR
    * Hold the **Shift** key and click on each node you want to select.
  </Collapser>

  <Collapser
    id="arranging-nodes"
    title="Arrange nodes"
  >
    <Callout variant="caution">
      Auto-arrange cannot be undone. Consider saving a copy of your map first.
    </Callout>

    * To arrange nodes on the map, select one or more node, then drag to a snap point on the map.
    * To automatically organize all your nodes and connections, select **Auto-arrange map**.
  </Collapser>

  <Collapser
    id="group-nodes"
    title="Group and ungroup nodes"
  >
    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            **If you want to...**
          </th>

          <th>
            **Do this...**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Group nodes together on the map
          </td>

          <td>
            Select two or more nodes, then select <ImageSizing width="22px">![](./images/sm-grouping-icon.png)</ImageSizing> **Create group**.
          </td>
        </tr>

        <tr>
          <td>
            Name your new group
          </td>

          <td>
            Mouse over the group, then select the pencil <Icon name="fe-edit-2"/>
            icon.
          </td>
        </tr>

        <tr>
          <td>
            Rename an existing group
          </td>

          <td>
            Select the pencil <Icon name="fe-edit-2"/>
            icon.
          </td>
        </tr>

        <tr>
          <td>
            Remove nodes from a group
          </td>

          <td>
            Select the group, then select the minus <Icon name="fe-minus-circle"/>
            icon for each item you want to remove.

            ![Remove Nodes from Groups](./images/crop-service-map-app-group.png "Remove Nodes from Groups")
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Delete maps [#deleting]

To delete a map:

1. Go to **[one.newrelic.com](https://one.newrelic.com) > More > Service maps > (select a map)**.
2. Select the map name's pencil <Icon name="fe-edit-2"/>
   icon.
3. Select **Delete map**.

## Identify issues with external services [#identify-external-issues]

If your app connects to an [external service](/docs/using-new-relic/welcome-new-relic/get-started/glossary#web-external) that New Relic does not monitor (for example, a third-party API), New Relic watches the service for a week in order to baseline its response time. If New Relic can collect a statistically significant number of data points (more than 100), New Relic compares the current response time to this baseline and uses this to set the health status indicator:

* <Icon
    style={{color: '#A5C27C'}}
    name="fe-square"
  />
  Green: Response time from the service is less than 1.75 times the baseline.
* <Icon
    style={{color: '#FCB95D'}}
    name="fe-square"
  />
  Yellow: Response time from the service is longer than 1.75 times the baseline.
* <Icon
    style={{color: '#D75966'}}
    name="fe-square"
  />
  Red: Response time from the service is longer than 2.5 times the baseline.
* <Icon
    style={{color: '#A8A8A8'}}
    name="fe-square"
  />
  Gray: Alerts concluded it does not have enough data to determine the health status.
* <Icon
    style={{color: '#A67EAA'}}
    name="fe-square"
  />
  Purple: Alerts cannot yet conclude if it has enough data to determine the health status.

## Visualize and monitor complex architectures [#features]

Use service maps to visualize and monitor complex architectures. For a tutorial introducing the latest features, select the service map's question _question-circle_ icon.

<CollapserGroup>
  <Collapser
    id="nodes"
    title="Nodes"
  >
    Nodes are the basic building blocks for your map. You can [add a variety of node types](/docs/apm/applications-menu/monitoring/customizing-service-maps#add-nodes) including:

    <table>
      <thead>
        <tr>
          <th width={250}>
            Node type
          </th>

          <th>
            Description
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            New Relic [APM](/docs/apm/new-relic-apm/getting-started/welcome-new-relic-apm)-monitored app
          </td>

          <td>
            [Add your app](/docs/apm/applications-menu/monitoring/customize-service-maps#app-browser-db-nodes) to the map to view their connections to databases, Browser apps, out-of-process services, and other instrumented apps. (In the New Relic UI, your out-of-process services are also referred to as [web external](/docs/using-new-relic/welcome-new-relic/get-started/glossary#web-external) or background external data.)
          </td>
        </tr>

        <tr>
          <td>
            New Relic [Browser](/docs/browser/new-relic-browser/welcome-new-relic-browser/new-relic-browser) apps
          </td>

          <td>
            Automatically detected for each app and [added](/docs/apm/applications-menu/monitoring/customize-service-maps#connected-nodes) via the incoming connections widget. Only displays Browser apps [linked to an APM app](/docs/browser/new-relic-browser/installation-configuration/adding-apps-new-relic-browser#options) (standalone browser apps are not supported).
          </td>
        </tr>

        <tr>
          <td>
            New Relic [Mobile](/docs/mobile-monitoring/new-relic-mobile/getting-started/new-relic-mobile) apps
          </td>

          <td>
            Automatically detected and [added](/docs/apm/applications-menu/monitoring/customize-service-maps#connected-nodes) via the [app/service list panel](#app-map-pickers).
          </td>
        </tr>

        <tr>
          <td>
            [Plugins](/docs/plugins/plugins-new-relic/getting-started/welcome-plugin-central), including [Databases](/docs/apm/applications-menu/monitoring/databases-slow-queries-dashboard)
          </td>

          <td>
            Automatically detected for each app and added via the [connections widget](/docs/data-analysis/user-interface-functions/view-your-data/customize-your-service-maps#connected-nodes). Databases in service maps require the [same agent versions](/docs/apm/applications-menu/monitoring/databases-slow-queries-dashboard#db_dashboard) as the new Database page features.
          </td>
        </tr>

        <tr>
          <td>
            [External services](/docs/apm/applications-menu/monitoring/external-services-dashboard)
          </td>

          <td>
            Service maps automatically detects external services (visible in the [connections widget](#connections)), to track your app's external dependencies and [monitor the health of those connections](#identify-external-issues).
          </td>
        </tr>

        <tr>
          <td>
            Custom nodes
          </td>

          <td>
            [Add custom nodes](/docs/apm/applications-menu/monitoring/customize-service-maps#custom-nodes) via the [app/service list panel](#app-map-pickers) to include apps and services not automatically instrumented by New Relic (for example, load balancers, implementation planning, and so on).
          </td>
        </tr>

        <tr>
          <td>
            Group nodes
          </td>

          <td>
            A [group node](#arrange-group) contains multiple other nodes. For apps, group nodes include a summarized [health status indicator](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#health-status) for all nodes in the group.
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser
    id="arrange-group"
    title="Node arrangement and grouping"
  >
    Click and drag a node to [move it around the map](/docs/apm/applications-menu/monitoring/customize-service-maps#select-arrange-group-nodes), for a customizable view of your architecture.

    App nodes can also be grouped together into a single node to better organize related apps and services. Grouped nodes include summarized [health status indicator](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#health-status) for all nodes in the group. To remove items from a group, mouse over the group and select the pencil _pencil_ icon, then select the minus _minus-circle_ icon to remove the item from the group.

    ![crop-service-map-app-group.png](./images/crop-service-map-app-group.png "crop-service-map-app-group.png")
  </Collapser>

  <Collapser
    id="connections"
    title="Incoming and outgoing connections"
  >
    Service maps automatically detects incoming and outgoing connections based on HTTP calls between entities. Mouse over a node to highlight the node's connections. Widgets at the end of each node display a count of that node's connections, and you can click on those widgets to add related entities to the map:

    ![crop-incoming-outgoing-service-maps.png](./images/crop-incoming-outgoing-service-maps.png "crop-incoming-outgoing-service-maps.png")
  </Collapser>

  <Collapser
    id="info-panel"
    title="View performance summary"
  >
    Click on an app to view its performance over the last 30 minutes. The chart defaults to **Response time**, but you can view other metrics by selecting any of the available **Apdex**, **Throughput**, or **Error rate** links. While charts use the last 30 minutes of performance data, the service map as a whole is based on the last five minutes.

    View the app in APM or Browser and view its [labels](/docs/data-analysis/user-interface-functions/labels-categories-organize-your-apps-servers) by selecting the overflow _ellipsis-v_ icon. Click the app name again to hide the summary charts, and select the overflow _ellipsis-h_ icon again to hide other details.

    ![crop-app-details-service-maps.png](./images/crop-app-details-service-maps.png "crop-app-details-service-maps.png")
  </Collapser>

  <Collapser
    id="app-map-pickers"
    title="Map list and app/service list panels"
  >
    Select the **Map list** panel to:

    * Search for and view your maps, and access other users' shared maps.
    * [Create a new map](/docs/data-analysis/service-maps/customize-service-maps#creating-maps).

    Select the **App/Service List** panel to:

    * Add new apps, mobile apps, and plugins to your map.
    * Create [custom nodes](/docs/data-analysis/service-maps/customize-service-maps#custom-nodes) and [add them to the map](/docs/data-analysis/service-maps/customize-service-maps#add-nodes).
  </Collapser>

  <Collapser
    id="health-performance"
    title="Health status and performance metrics"
  >
    You can see health status indicators for most nodes. Except for out-of-process services ([external services](/docs/using-new-relic/welcome-new-relic/get-started/glossary#web-external) or background services), entities use the health status indicators [used by New Relic Alerts](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#health-status).

    For out-of-process (external) services, the health status indicator [measures the health of the connection](#identify-external-issues) to the external service.
  </Collapser>

  <Collapser
    id="view-all"
    title="View all connected apps and services"
  >
    The **Discover your environment** feature allows you to view all of your apps, services, and dependencies together with a single click. This feature detects all connected applications and services (including externals and databases) to give you a comprehensive view of your overall software architecture environment.

    To view all connected apps and services:

    1. In APM, select **Service maps**.
    2. From your **Map list**, select **Discover your environment** to display all of your nodes.
    3. Hover over any node to view its dependencies and how it connects to other parts of your service map. Click on individual nodes to zoom in and view their details.

    The **Discover your environment** feature may not be available if you are using an older New Relic agent version. See [Troubleshooting cross application tracing](/docs/apm/transactions/cross-application-traces/troubleshooting-cross-application-tracing#agents) for version information. This feature may also not be available for highly complex service maps with many elements.

    ![Screenshot showing how to discover your environment for service maps.](./images/discover_your_environment.png "discover_your_environment.png")

    <figcaption>
      Go to **[one.newrelic.com](https://one.newrelic.com) > More > Service maps > Map list > Discover your environment:** Use this option to view all of your nodes and their dependencies in one place.
    </figcaption>
  </Collapser>

  <Collapser
    id="traffic-lights"
    title="Traffic light mode"
  >
    Traffic light mode lets you view the health status of your entire architecture at a glance. This feature helps you quickly find service and app problems, even within a complex environment with many nodes. To toggle this mode, select the **Views** tab, then select **Traffic light mode**.

    When traffic lights mode is **On**, zooming out far enough on a service map eventually causes the nodes to switch from displaying textual information, to only health status colors. Click on individual nodes to zoom in and view more details. Traffic light mode is on by default.

    When traffic lights mode is **Off**, service map nodes retain their textual information and do not switch to health status colors, No matter how far you zoom out.

    ![Zoom out of your service map to view in traffic lights mode](./images/traffic-lights_service-maps_APM.jpg "traffic-lights_service-maps_APM.jpg")

    **[one.newrelic.com](https://one.newrelic.com) > More > Service maps > Views > Traffic light mode:** When traffic light mode is enabled, zooming out of your service map displays nodes in health status colors.
  </Collapser>

  <Collapser
    id="midnight-mode"
    title="Midnight mode"
  >
    **Midnight mode** inverts the screen's colors, going from a white background to a dark background. Midnight mode reduces eye strain, especially in low light environments.

    To toggle this mode, select the **Views** tab, then select **Midnight mode**.
  </Collapser>
</CollapserGroup>
