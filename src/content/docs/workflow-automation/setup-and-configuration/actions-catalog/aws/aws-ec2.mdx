---
title: "AWS EC2 actions"
tags:
  - workflow automation
  - workflow
  - workflow automation actions
  - AWS actions
  - AWS EC2 actions
metaDescription: "A list of available aws ec2 actions in the actions catalog for workflow definitions"
freshnessValidatedDate: never
---

<Callout title="preview">
  We're still working on this feature, but we'd love for you to try it out!

  This feature is currently provided as part of a preview program pursuant to our [pre-release policies](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

This page provides a comprehensive reference for aws ec2 actions available in the workflow automation actions catalog. These actions enable you to ec2 instance and snapshot management.

## Prerequisites

Before using AWS actions in workflow automation, ensure you have:

  * An AWS account with appropriate permissions.
  * AWS credentials configured (IAM user credentials, IAM role ARN, or session credentials).
  * The necessary IAM permissions for the specific AWS services you plan to use.

See [Set up AWS credentials](/docs/workflow-automation/setup-and-configuration/set-up-aws-credentials/) for information on how to create IAM users and IAM roles, and set up static and session AWS credentials for integration with workflow automation AWS actions.

<CollapserGroup>

    <Collapser
        id="aws-ec2-runinstances"
        title="Run an AWS EC2 instance"
    >

  Launches the specified number of instances using an AMI for which you have permissions.

  You can specify a number of options, or leave the default options. The following rules apply:
    - If you don't specify a subnet ID, we choose a default subnet from your default VPC for you. If you don't have a default VPC, you must specify a subnet ID in the request.
    - If any of the AMIs have a product code attached for which the user has not subscribed, the request fails.

  <Tabs>
    <TabsBar>
      <TabsBarItem id="aws-ec2-runinstances-inputs">
        Inputs
      </TabsBarItem>
      <TabsBarItem id="aws-ec2-runinstances-outputs">
        Outputs
      </TabsBarItem>
      <TabsBarItem id="aws-ec2-runinstances-example">
        Example
      </TabsBarItem>
    </TabsBar>
    <TabsPages>
      <TabsPageItem id="aws-ec2-runinstances-inputs">
      <table>
          <thead>
              <tr>
                <th>Input Field</th>
                <th>Optionality</th>
                <th>Type</th>
                <th>Example</th>
              </tr>
          </thead>
          <tbody>
              <tr>
                  <td>**awsRoleArn**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`arn:aws:iam::123456789012:role/my-workflow-role`</td>
              </tr>
              <tr>
                  <td>**awsAccessKeyId**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`${{ :secrets:<awsAccessKeyId> }}`</td>
              </tr>
              <tr>
                  <td>**awsSecretAccessKey**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`${{ :secrets:<awsSecretAccessKey> }}`</td>
              </tr>
              <tr>
                  <td>**awsSessionToken**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`${{ :secrets:<awsSessionToken> }}`</td>
              </tr>
              <tr>
                  <td>**region**</td>
                  <td>Required</td>
                  <td>String</td>
                  <td>`region: "us-east-2"`</td>
              </tr>
              <tr>
                  <td>**imageId**</td>
                  <td>Required</td>
                  <td>String</td>
                  <td>`"ami-0ca4d5db4872d0c28"`</td>
              </tr>
              <tr>
                  <td>**instanceType**</td>
                  <td>Required</td>
                  <td>String</td>
                  <td>`"t2.micro"`</td>
              </tr>
              <tr>
                  <td>**minCount**</td>
                  <td>Required</td>
                  <td>Int</td>
                  <td>`1`</td>
              </tr>
              <tr>
                  <td>**maxCount**</td>
                  <td>Required</td>
                  <td>Int</td>
                  <td>`10`</td>
              </tr>
              <tr>
                  <td>**parameters**</td>
                  <td>Optional</td>
                  <td>Map</td>
                  <td>
  ```yaml
  {
  "EbsOptimized": false,
  "TagSpecifications": [
    {
      "ResourceType": "instance",
      "Tags": [
        {
          "Key": "Name",
          "Value": "My-Web-Server"
        }
      ]
    }
    }
  ```
                  </td>
              </tr>
              <tr>
                  <td>**selectors**</td>
                  <td>Optional</td>
                  <td>List</td>
                  <td>`[{\"name\": \"response\", \"expression\": \".response\"}, {\"name\": \"success\", \"expression\": \".success\"}, {\"name\": \"errorMessage\", \"expression\": \".errorMessage\"}]`</td>
              </tr>
          </tbody>
      </table>

      <Callout variant="important">
        To support a wide range of inputs, the `parameters` map accepts any optional argument available. This allows you to dynamically construct requests by adding multiple fields.
      </Callout>
    </TabsPageItem>

    <TabsPageItem id="aws-ec2-runinstances-outputs">
    <table>
      <thead>
          <tr>
              <th>Output Field</th>
              <th>Type</th>
              <th>Example</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>**response**</td>
              <td>Object</td>
              <td>
                <p>
                  Response syntax can be referred: [run_instances - Boto3 1.40.50 documentation](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/ec2/client/run_instances.html)
                </p>
              </td>
          </tr>
          <tr>
              <td>**success**</td>
              <td>Boolean</td>
              <td>`success: true | false`</td>
          </tr>
          <tr>
              <td>**errorMessage**</td>
              <td>String</td>
              <td>`errorMessage: ""`</td>
          </tr>
      </tbody>
    </table>
    </TabsPageItem>

    <TabsPageItem id="aws-ec2-runinstances-example">
    <table>
      <thead>
          <tr>
              <th>Workflow example</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>
  ```yaml
    name: ec2_run_instance
    workflowInputs:
      arnRole:
        type: String
        required: true
    steps:
      - name: RunInstance
        type: action
        action: aws.ec2.runInstances
        version: '1'
        inputs:
          awsRoleArn: ${{.workflowInputs.arnRole}}
          region: us-east-2
          imageId: ami-0ca4d5db4872d0c28
          instanceType: t2.micro
          minCount: 1
          maxCount: 1
          parameters:
            EbsOptimized: false
            TagSpecifications:
              - ResourceType: instance
                Tags:
                  - Key: Name
                    Value: My-Test-Instance
          selectors:
            - name: instanceId
              expression: .response.Instances[0].InstanceId
  ```
              </td>
          </tr>
      </tbody>
    </table>
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>

    <Collapser
        id="aws-ec2-describeinstances"
        title="Describe an instance"
    >

      Describes the specified instances or all instances.

      <Tabs>
    <TabsBar>
        <TabsBarItem id="aws-ec2-describeinstances-inputs">
          Inputs
      </TabsBarItem>

      <TabsBarItem id="aws-ec2-describeinstances-outputs">
        Outputs
      </TabsBarItem>

      <TabsBarItem id="aws-ec2-describeinstances-example">
        Example
      </TabsBarItem>
    </TabsBar>

    <TabsPages>
      <TabsPageItem id="aws-ec2-describeinstances-inputs">
      <table>
          <thead>
              <tr>
                <th>Input Field</th>
                <th>Optionality</th>
                <th>Type</th>
                <th>Example</th>
              </tr>
          </thead>
          <tbody>
              <tr>
                  <td>**awsRoleArn**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`arn:aws:iam::123456789012:role/my-workflow-role`</td>
              </tr>
              <tr>
                  <td>**awsAccessKeyId**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`${{ :secrets:<awsAccessKeyId> }}`</td>
              </tr>
              <tr>
                  <td>**awsSecretAccessKey**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`${{ :secrets:<awsSecretAccessKey> }}`</td>
              </tr>
              <tr>
                  <td>**awsSessionToken**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`${{ :secrets:<awsSessionToken> }}`</td>
              </tr>
              <tr>
                  <td>**region**</td>
                  <td>Required</td>
                  <td>String</td>
                  <td>`region: "us-east-2"`</td>
              </tr>
              <tr>
                  <td>**instanceIds**</td>
                  <td>Optional</td>
                  <td>List</td>
                  <td>`"[\"i-0123456789abcdef0\", \"i-0fedcba9876543210\"]"`</td>
              </tr>
              <tr>
                  <td>**filters**</td>
                  <td>Optional</td>
                  <td>List</td>
                  <td>`"[{\"Name\": \"instance-state-name\", \"Values\": [\"running\"]}]"`</td>
              </tr>
              <tr>
                  <td>**nextToken**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`"abcdefgh"`</td>
              </tr>
              <tr>
                  <td>**maxResults**</td>
                  <td>Optional</td>
                  <td>Int</td>
                  <td>100</td>
              </tr>
              <tr>
                  <td>**selectors**</td>
                  <td>Optional</td>
                  <td>List</td>
                  <td>`[{\"name\": \"response\", \"expression\": \".response\"}, {\"name\": \"success\", \"expression\": \".success\"}, {\"name\": \"errorMessage\", \"expression\": \".errorMessage\"}]`</td>
              </tr>
          </tbody>
      </table>

        <Callout variant="important">
          In action input at least one of the AWS credentials (short, long, role) should be provided, where role take precedence over the others.
        </Callout>
    </TabsPageItem>

    <TabsPageItem id="aws-ec2-describeinstances-outputs">
    <table>
      <thead>
          <tr>
              <th>Output Field</th>
              <th>Type</th>
              <th>Example</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>**response**</td>
              <td>Object</td>
              <td>
  ```yaml
  {"response":<aws api response>

  }} 
  ```
              <p>
              Response syntax can be referred [describe_instances](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/ec2/client/describe_instances.html).
              </p>
              </td>
          </tr>
          <tr>
              <td>**success**</td>
              <td>Boolean</td>
              <td>`success: true | false`</td>
          </tr>
          <tr>
              <td>**errorMessage**</td>
              <td>String</td>
              <td>`errorMessage: "The parameter instancesSet cannot be used with the parameter maxResults"`</td>
          </tr>
      </tbody>
    </table>

      <Callout variant="important">
        - If you specify instance IDs, the output includes information for only the specified instances. 
        - If you specify filters, the output includes information for only those instances that meet the filter criteria.
        - If you do not specify instance IDs or filters, the output includes information for all instances.
        - The parameter `instanceIds` cannot be used with `maxResults`.
        </Callout>
    </TabsPageItem>

    <TabsPageItem id="aws-ec2-describeinstances-example">
    <table>
      <thead>
          <tr>
              <th>Workflow Example</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>
  ```yaml
    name: ab-ec2-describe-test
  description: ''
  workflowInputs:
    arnRole:
      type: String
  steps:
    - name: aws_ec2_describeInstances_1
      type: action
      action: aws.ec2.describeInstances
      version: '1'
      inputs:
        awsRoleArn: ${{ .workflowInputs.arnRole }}
        region: us-east-2
        instanceIds:
          - i-123456789abcdef0
      next: end
    ```
              </td>
          </tr>
      </tbody>
    </table>
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>

    <Collapser
        id="aws-ec2-startinstances"
        title="Restart an instance"
    >

  Starts an Amazon EBS-backed instance that you previously stopped.

  <Tabs>
    <TabsBar>
      <TabsBarItem id="aws-ec2-startinstances-inputs">
        Inputs
      </TabsBarItem>

      <TabsBarItem id="aws-ec2-startinstances-outputs">
        Outputs
      </TabsBarItem>

      <TabsBarItem id="aws-ec2-startinstances-example">
        Example
      </TabsBarItem>
    </TabsBar>

    <TabsPages>
      <TabsPageItem id="aws-ec2-startinstances-inputs">
      <table>
        <thead>
            <tr>
              <th>Input Field</th>
              <th>Optionality</th>
              <th>Type</th>
              <th>Example</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>**awsRoleArn**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`arn:aws:iam::123456789012:role/my-workflow-role`</td>
            </tr>
            <tr>
                <td>**awsAccessKeyId**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsAccessKeyId> }}`</td>
            </tr>
            <tr>
                <td>**awsSecretAccessKey**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsSecretAccessKey> }}`</td>
            </tr>
            <tr>
                <td>**awsSessionToken**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsSessionToken> }}`</td>
            </tr>
            <tr>
                <td>**region**</td>
                <td>Required</td>
                <td>String</td>
                <td>`region: "us-east-2"`</td>
            </tr>
            <tr>
                <td>**instanceIds**</td>
                <td>Required</td>
                <td>List</td>
                <td>`"[\"i-0123456789abcdef0\", \"i-0fedcba9876543210\"]"`</td>
            </tr>
            <tr>
                <td>**selectors**</td>
                <td>Optional</td>
                <td>List</td>
                <td>`[{\"name\": \"response\", \"expression\": \".response\"}, {\"name\": \"success\", \"expression\": \".success\"}, {\"name\": \"errorMessage\", \"expression\": \".errorMessage\"}]`</td>
            </tr>
        </tbody>
      </table>

        <Callout variant="tip">
          In the action input, at least one of the AWS credentials (short, long, role) should be provided, where the role takes precedence over the others.
        </Callout>
    </TabsPageItem>

    <TabsPageItem id="aws-ec2-startinstances-outputs">
    <table>
      <thead>
          <tr>
              <th>Output Field</th>
              <th>Type</th>
              <th>Example</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>**response**</td>
              <td>Object</td>
              <td>
  ```yaml
      {"response":{
    'StartingInstances': [
        {
            'InstanceId': 'string',
            'CurrentState': {
                'Code': 123,
                'Name': 'pending'|'running'|'shutting-down'|'terminated'|'stopping'|'stopped'
            },
            'PreviousState': {
                'Code': 123,
                'Name': 'pending'|'running'|'shutting-down'|'terminated'|'stopping'|'stopped'
            }
        },
    ]
}

}

}
  ```
              <p>
              Response syntax can be referred [start_instances - Boto3 1.40.50 documentation](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/ec2/client/start_instances.html)
              </p>
              </td>
          </tr>
          <tr>
              <td>**success**</td>
              <td>Boolean</td>
              <td>`success: true | false`</td>
          </tr>
          <tr>
              <td>**errorMessage**</td>
              <td>String</td>
              <td>`errorMessage: "The parameter instancesSet cannot be used with the parameter maxResults"`</td>
          </tr>
      </tbody>
    </table>
    </TabsPageItem>

    <TabsPageItem id="aws-ec2-startinstances-example">
    <table>
      <thead>
          <tr>
              <th>Workflow example</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>
  ```yaml
    name: ab-ec2-startInstance-test
description: ''
workflowInputs:
  arnRole:
    type: String
  region:
    type: String
    defaultValue: us-west-2
  instanceIds:
    type: list
    defaultValue: ["i-123456789abcdef0"]
steps:
  - name: aws_ec2_startInstances_1
    type: action
    action: aws.ec2.startInstances
    version: '1'
    inputs:
      awsRoleArn: ${{ .workflowInputs.arnRole }}
      region: ${{ .workflowInputs.region }}
      instanceIds: ${{ .workflowInputs.instanceIds }}
    next: end
    ```
              </td>
            </tr>
      </tbody>
    </table>
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>

    <Collapser
        id="aws-ec2-stopinstances"
        title="Stop an instance"
    >

  Stops an Amazon EBS-backed instance

  <Tabs>
    <TabsBar>
      <TabsBarItem id="aws-ec2-stopinstances-inputs">
        Inputs
      </TabsBarItem>

      <TabsBarItem id="aws-ec2-stopinstances-outputs">
        Outputs
      </TabsBarItem>

      <TabsBarItem id="aws-ec2-stopinstances-example">
        Example
      </TabsBarItem>
    </TabsBar>

    <TabsPages>
      <TabsPageItem id="aws-ec2-stopinstances-inputs">
      <table>
        <thead>
            <tr>
              <th>Input Field</th>
              <th>Optionality</th>
              <th>Type</th>
              <th>Example</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>**awsRoleArn**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`arn:aws:iam::123456789012:role/my-workflow-role`</td>
            </tr>
            <tr>
                <td>**awsAccessKeyId**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsAccessKeyId> }}`</td>
            </tr>
            <tr>
                <td>**awsSecretAccessKey**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsSecretAccessKey> }}`</td>
            </tr>
            <tr>
                <td>**awsSessionToken**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsSessionToken> }}`</td>
            </tr>
            <tr>
                <td>**region**</td>
                <td>Required</td>
                <td>String</td>
                <td>`region: "us-east-2"`</td>
            </tr>
            <tr>
                <td>**instanceIds**</td>
                <td>Required</td>
                <td>List</td>
                <td>`"[\"i-0123456789abcdef0\", \"i-0fedcba9876543210\"]"`</td>
            </tr>
            <tr>
                <td>**hibernate**</td>
                <td>Optional</td>
                <td>Boolean</td>
                <td>true or false (Default: `false`)</td>
            </tr>
            <tr>
                <td>**force**</td>
                <td>Optional</td>
                <td>Boolean</td>
                <td>true or false (Default: `false`)</td>
            </tr>
            <tr>
                <td>**selectors**</td>
                <td>Optional</td>
                <td>List</td>
                <td>`[{\"name\": \"response\", \"expression\": \".response\"}, {\"name\": \"success\", \"expression\": \".success\"}, {\"name\": \"errorMessage\", \"expression\": \".errorMessage\"}]`</td>
            </tr>
        </tbody>
      </table>

      <Callout variant="important">
        In the action input, at least one of the AWS credentials (short, long, role) should be provided, where the role takes precedence over the others.
      </Callout>
    </TabsPageItem>

    <TabsPageItem id="aws-ec2-stopinstances-outputs">
    <table>
      <thead>
          <tr>
              <th>Output Field</th>
              <th>Type</th>
              <th>Example</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>**response**</td>
              <td>Object</td>
              <td>
  ```yaml
    {
    'StoppingInstances': [
        {
            'InstanceId': 'string',
            'CurrentState': {
                'Code': 123,
                'Name': 'pending'|'running'|'shutting-down'|'terminated'|'stopping'|'stopped'
            },
            'PreviousState': {
                'Code': 123,
                'Name': 'pending'|'running'|'shutting-down'|'terminated'|'stopping'|'stopped'
            }
        },
    ]
}
  ```
                <p>
                Response syntax can be referred [stop_instances](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/ec2/client/stop_instances.html)
                </p>
              </td>
          </tr>
          <tr>
              <td>**success**</td>
              <td>Boolean</td>
              <td>`success: true | false`</td>
          </tr>
          <tr>
              <td>**errorMessage**</td>
              <td>String</td>
              <td>`errorMessage: "An error occurred (InvalidInstanceID.Malformed) when calling the StopInstances operation: The instance ID 'i-123456789' is malformed"`</td>
          </tr>
      </tbody>
    </table>
    </TabsPageItem>

    <TabsPageItem id="aws-ec2-stopinstances-example">
    <table>
      <thead>
          <tr>
              <th>Workflow example</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>
  ```yaml
    name: ec2_stop_instance
description: ''
workflowInputs:
  arnRole:
    type: String
  region:
    type: String
    defaultValue: us-west-2
  instanceIds:
    type: list
    defaultValue: ["i-123456789abcdef0"]
steps:
  - name: aws_stop_instances_1
    type: action
    action: aws.ec2.stopInstances
    version: '1'
    inputs:
      awsRoleArn: ${{ .workflowInputs.arnRole }}
      region: ${{ .workflowInputs.region }}
      instanceIds: ${{ .workflowInputs.instanceIds }}
    next: end
    ```
              </td>
          </tr>
      </tbody>
    </table>
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>

    <Collapser
        id="aws-ec2-rebootinstances"
        title="Request instance reboot"
    >

  Requests a reboot of the specified instances. This operation is asynchronous; it only queues a request to reboot the specified instances. The operation succeeds if the instances are valid and belong to you. Requests to reboot terminated instances are ignored.

  If an instance does not cleanly shut down within a few minutes, Amazon EC2 performs a hard reboot.

  <Tabs>
    <TabsBar>
      <TabsBarItem id="aws-ec2-rebootinstances-inputs">
        Inputs
      </TabsBarItem>

      <TabsBarItem id="aws-ec2-rebootinstances-outputs">
        Outputs
      </TabsBarItem>

      <TabsBarItem id="aws-ec2-rebootinstances-example">
        Example
      </TabsBarItem>
    </TabsBar>

    <TabsPages>
      <TabsPageItem id="aws-ec2-rebootinstances-inputs">
      <table>
          <thead>
              <tr>
                <th>Input Field</th>
                <th>Optionality</th>
                <th>Type</th>
                <th>Example</th>
              </tr>
          </thead>
          <tbody>
              <tr>
                  <td>**awsRoleArn**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`arn:aws:iam::123456789012:role/my-workflow-role`</td>
              </tr>
              <tr>
                  <td>**awsAccessKeyId**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`${{ :secrets:<awsAccessKeyId> }}`</td>
              </tr>
              <tr>
                  <td>**awsSecretAccessKey**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`${{ :secrets:<awsSecretAccessKey> }}`</td>
              </tr>
              <tr>
                  <td>**awsSessionToken**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`${{ :secrets:<awsSessionToken> }}`</td>
              </tr>
              <tr>
                  <td>**region**</td>
                  <td>Required</td>
                  <td>String</td>
                  <td>`region: "us-east-2"`</td>
              </tr>
              <tr>
                  <td>**instanceIds**</td>
                  <td>Required</td>
                  <td>List</td>
                  <td>`"[\"i-0123456789abcdef0\", \"i-0fedcba9876543210\"]"`</td>
              </tr>
              <tr>
                  <td>**selectors**</td>
                  <td>Optional</td>
                  <td>List</td>
                  <td>`[{\"name\": \"response\", \"expression\": \".response\"}, {\"name\": \"success\", \"expression\": \".success\"}, {\"name\": \"errorMessage\", \"expression\": \".errorMessage\"}]`</td>
              </tr>
          </tbody>
      </table>

        <Callout variant="important">
          In the action input, at least one of the AWS credentials (short, long, role) should be provided, where the role takes precedence over the others.
        </Callout>
    </TabsPageItem>

    <TabsPageItem id="aws-ec2-rebootinstances-outputs">
    <table>
      <thead>
          <tr>
              <th>Output Field</th>
              <th>Type</th>
              <th>Example</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>**response**</td>
              <td>Object</td>
              <td>[reboot_instances - Boto3 1.40.56 documentation](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/ec2/client/reboot_instances.html)</td>
          </tr>
          <tr>
              <td>**success**</td>
              <td>Boolean</td>
              <td>`success: true | false`</td>
          </tr>
          <tr>
              <td>**errorMessage**</td>
              <td>String</td>
              <td>`errorMessage: ""`</td>
          </tr>
      </tbody>
    </table>
    </TabsPageItem>

    <TabsPageItem id="aws-ec2-rebootinstances-example">
    <table>
      <thead>
          <tr>
              <th>Workflow example</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>
  ```yaml
    name: reboot-ec2-test
description: ''
workflowInputs:
  arnRole:
    type: String
  region:
    type: String
    defaultValue: us-west-2
  instanceIds:
    type: list
    defaultValue: ["i-123456789abcdef0"]
steps:
  - name: aws_ec2_rebootInstances_1
    type: action
    action: aws.ec2.rebootInstances
    version: '1'
    inputs:
      awsRoleArn: ${{ .workflowInputs.arnRole }}
      region: ${{ .workflowInputs.region }}
      instanceIds: ${{ .workflowInputs.instanceIds }}
    next: end
    ```
              </td>
          </tr>
      </tbody>
    </table>
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>

    <Collapser
        id="aws-ec2-terminateinstances"
        title="Terminate instances"
    >

  Shuts down the specified instances. This operation is [idempotent](https://docs.aws.amazon.com/ec2/latest/devguide/ec2-api-idempotency.html); if you terminate an instance more than once, each call succeeds.

  If you specify multiple instances and the request fails (for example, because of a single incorrect instance ID), none of the instances are terminated.

  <Tabs>
    <TabsBar>
      <TabsBarItem id="aws-ec2-terminateinstances-inputs">
        Inputs
      </TabsBarItem>

      <TabsBarItem id="aws-ec2-terminateinstances-outputs">
        Outputs
      </TabsBarItem>

      <TabsBarItem id="aws-ec2-terminateinstances-example">
        Example
      </TabsBarItem>
    </TabsBar>

    <TabsPages>
      <TabsPageItem id="aws-ec2-terminateinstances-inputs">
      <table>
        <thead>
            <tr>
              <th>Input Field</th>
              <th>Optionality</th>
              <th>Type</th>
              <th>Example</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>**awsRoleArn**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`arn:aws:iam::123456789012:role/my-workflow-role`</td>
            </tr>
            <tr>
                <td>**awsAccessKeyId**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsAccessKeyId> }}`</td>
            </tr>
            <tr>
                <td>**awsSecretAccessKey**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsSecretAccessKey> }}`</td>
            </tr>
            <tr>
                <td>**awsSessionToken**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsSessionToken> }}`</td>
            </tr>
            <tr>
                <td>**region**</td>
                <td>Required</td>
                <td>String</td>
                <td>`region: "us-east-2"`</td>
            </tr>
            <tr>
                <td>**instanceIds**</td>
                <td>Required</td>
                <td>List</td>
                <td>`"[\"i-0123456789abcdef0\", \"i-0fedcba9876543210\"]"`</td>
            </tr>
            <tr>
                <td>**selectors**</td>
                <td>Optional</td>
                <td>List</td>
                <td>`[{\"name\": \"response\", \"expression\": \".response\"}, {\"name\": \"success\", \"expression\": \".success\"}, {\"name\": \"errorMessage\", \"expression\": \".errorMessage\"}]`</td>
            </tr>
        </tbody>
      </table>

      <Callout variant="important">
        In the action input, at least one of the AWS credentials (short, long, role) should be provided, where the role takes precedence over the others.
      </Callout>
    </TabsPageItem>

    <TabsPageItem id="aws-ec2-terminateinstances-outputs">
    <table>
      <thead>
          <tr>
              <th>Output Field</th>
              <th>Type</th>
              <th>Example</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>**response**</td>
              <td>Object</td>
              <td>
  ```yaml
    {
    'TerminatingInstances': [
        {
            'InstanceId': 'string',
            'CurrentState': {
                'Code': 123,
                'Name': 'pending'|'running'|'shutting-down'|'terminated'|'stopping'|'stopped'
            },
            'PreviousState': {
                'Code': 123,
                'Name': 'pending'|'running'|'shutting-down'|'terminated'|'stopping'|'stopped'
            }
        },
    ]
}
  ```
                <p>
                Response syntax can be referred [terminate_instances - Boto3 1.40.50 documentation](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/ec2/client/terminate_instances.html)
                </p>
              </td>
          </tr>
          <tr>
              <td>**success**</td>
              <td>Boolean</td>
              <td>`success: true | false`</td>
          </tr>
          <tr>
              <td>**errorMessage**</td>
              <td>String</td>
              <td>`errorMessage: "An error occurred (InvalidInstanceID.Malformed) when calling the TerminateInstances operation: The instance ID 'i-012345678' is malformed"`</td>
          </tr>
      </tbody>
    </table>
    </TabsPageItem>

    <TabsPageItem id="aws-ec2-terminateinstances-example">
    <table>
      <thead>
          <tr>
              <th>Workflow example</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>
  ```yaml
    name: ec2-terminate-test
description: ''
workflowInputs:
  arnRole:
    type: String
  region:
    type: String
    defaultValue: us-west-2
  instanceIds:
    type: list
    defaultValue: ["i-123456789abcdef0"]
steps:
  - name: aws_ec2_terminateInstances_1
    type: action
    action: aws.ec2.terminateInstances
    version: '1'
    inputs:
      awsRoleArn: ${{ .workflowInputs.arnRole }}
      region: ${{ .workflowInputs.region }}
      instanceIds: ${{ .workflowInputs.instanceIds }}
    next: end
    ```
              </td>
          </tr>
      </tbody>
    </table>
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>

    <Collapser
        id="aws-ec2-createSnapshot"
        title="Snapshot EBS volume"
    >

      Creates a snapshot of an EBS volume and stores it in Amazon S3. You can use snapshots for backups, to make copies of EBS volumes, and save data before shutting down an instance.

      The location of the source EBS volume determines where you can create the snapshot.

      <Tabs>
    <TabsBar>
        <TabsBarItem id="aws-ec2-createSnapshot-inputs">
          Inputs
      </TabsBarItem>

      <TabsBarItem id="aws-ec2-createSnapshot-outputs">
        Outputs
      </TabsBarItem>
    </TabsBar>

    <TabsPages>
      <TabsPageItem id="aws-ec2-createSnapshot-inputs">
      <table>
          <thead>
              <tr>
                <th>Input Field</th>
                <th>Optionality</th>
                <th>Type</th>
                <th>Example</th>
              </tr>
          </thead>
          <tbody>
              <tr>
                  <td>**awsRoleArn**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`arn:aws:iam::123456789012:role/my-workflow-role`</td>
              </tr>
              <tr>
                  <td>**awsAccessKeyId**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`${{ :secrets:<awsAccessKeyId> }}`</td>
              </tr>
              <tr>
                  <td>**awsSecretAccessKey**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`${{ :secrets:<awsSecretAccessKey> }}`</td>
              </tr>
              <tr>
                  <td>**awsSessionToken**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`${{ :secrets:<awsSessionToken> }}`</td>
              </tr>
              <tr>
                  <td>**region**</td>
                  <td>Required</td>
                  <td>String</td>
                  <td>`region: "us-east-2"`</td>
              </tr>
              <tr>
                  <td>**description**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`"This is a test snapshot"`</td>
              </tr>
              <tr>
                  <td>**outpostArn**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`"arn:aws:ec2:us-east-1:123456789012:outpost/op-1a2b3c4d5e6f7g8h9"`</td>
              </tr>
              <tr>
                  <td>**volumeId**</td>
                  <td>Required</td>
                  <td>String</td>
                  <td>`"vol-0123456789abcdef0"`</td>
              </tr>
              <tr>
                  <td>**tagSpecifications**</td>
                  <td>Optional</td>
                  <td>List</td>
                  <td>`[{"ResourceType":"snapshot","Tags":[{"Key":"testKey","Value":"testValue"}]}]`</td>
              </tr>
              <tr>
                  <td>**location**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`"regional"`</td>
              </tr>
              <tr>
                  <td>**selectors**</td>
                  <td>Optional</td>
                  <td>List</td>
                  <td>`[{\"name\": \"response\", \"expression\": \".response\"}, {\"name\": \"success\", \"expression\": \".success\"}, {\"name\": \"errorMessage\", \"expression\": \".errorMessage\"}]`</td>
              </tr>
          </tbody>
      </table>

        <Callout variant="important">
          Input at least one of the AWS credentials (short, long, role) should be provided, where role take precedence over the others.
        </Callout>
    </TabsPageItem>

    <TabsPageItem id="aws-ec2-createSnapshot-outputs">
    <table>
      <thead>
          <tr>
              <th>Output Field</th>
              <th>Type</th>
              <th>Example</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>**response**</td>
              <td>Object</td>
              <td>
  ```yaml
  {
    'OwnerAlias': 'string',
    'OutpostArn': 'string',
    'Tags': [
        {
            'Key': 'string',
            'Value': 'string'
        },
    ],
    'StorageTier': 'archive'|'standard',
    'RestoreExpiryTime': datetime(2015, 1, 1),
    'SseType': 'sse-ebs'|'sse-kms'|'none',
    'AvailabilityZone': 'string',
    'TransferType': 'time-based'|'standard',
    'CompletionDurationMinutes': 123,
    'CompletionTime': datetime(2015, 1, 1),
    'FullSnapshotSizeInBytes': 123,
    'SnapshotId': 'string',
    'VolumeId': 'string',
    'State': 'pending'|'completed'|'error'|'recoverable'|'recovering',
    'StateMessage': 'string',
    'StartTime': datetime(2015, 1, 1),
    'Progress': 'string',
    'OwnerId': 'string',
    'Description': 'string',
    'VolumeSize': 123,
    'Encrypted': True|False,
    'KmsKeyId': 'string',
    'DataEncryptionKeyId': 'string'
}
  ```
              <p>
              Response syntax can be referred [create_snapshot](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/ec2/client/create_snapshot.html).
              </p>
              </td>
          </tr>
          <tr>
              <td>**success**</td>
              <td>Boolean</td>
              <td>`success: true | false`</td>
          </tr>
          <tr>
              <td>**errorMessage**</td>
              <td>String</td>
              <td>`errorMessage: "The parameter instancesSet cannot be used with the parameter maxResults"`</td>
          </tr>
      </tbody>
    </table>
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>

    <Collapser
        id="aws-ec2-deleteSnapshot"
        title="Delete a snapshot"
    >

  Deletes the specified snapshot. 
  
  You cannot delete a snapshot of the root device of an EBS volume used by a registered AMI. You must first deregister the AMI before you can delete the snapshot.

  <Tabs>
    <TabsBar>
        <TabsBarItem id="aws-ec2-deleteSnapshot-inputs">
          Inputs
      </TabsBarItem>

      <TabsBarItem id="aws-ec2-deleteSnapshot-outputs">
        Outputs
      </TabsBarItem>

      <TabsBarItem id="aws-ec2-deleteSnapshot-example">
        Example
      </TabsBarItem>
    </TabsBar>

    <TabsPages>
      <TabsPageItem id="aws-ec2-deleteSnapshot-inputs">
      <table>
          <thead>
              <tr>
                <th>Input Field</th>
                <th>Optionality</th>
                <th>Type</th>
                <th>Example</th>
              </tr>
          </thead>
          <tbody>
              <tr>
                  <td>**awsRoleArn**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`arn:aws:iam::123456789012:role/my-workflow-role`</td>
              </tr>
              <tr>
                  <td>**awsAccessKeyId**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`${{ :secrets:<awsAccessKeyId> }}`</td>
              </tr>
              <tr>
                  <td>**awsSecretAccessKey**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`${{ :secrets:<awsSecretAccessKey> }}`</td>
              </tr>
              <tr>
                  <td>**awsSessionToken**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`${{ :secrets:<awsSessionToken> }}`</td>
              </tr>
              <tr>
                  <td>**region**</td>
                  <td>Required</td>
                  <td>String</td>
                  <td>`region: "us-east-2"`</td>
              </tr>
              <tr>
                  <td>**snapshotId**</td>
                  <td>Required</td>
                  <td>String</td>
                  <td>`"snapshot-id-1"`</td>
              </tr>
              <tr>
                  <td>**selectors**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`[{\"name\": \"response\", \"expression\": \".response\"}, {\"name\": \"success\", \"expression\": \".success\"}, {\"name\": \"errorMessage\", \"expression\": \".errorMessage\"}]`</td>
              </tr>
          </tbody>
      </table>

        <Callout variant="tip">
          Input at least one of the AWS credentials (short, long, role) should be provided, where the role takes precedence over the others.
        </Callout>
    </TabsPageItem>

    <TabsPageItem id="aws-ec2-deleteSnapshot-outputs">
    <table>
      <thead>
          <tr>
              <th>Output Field</th>
              <th>Type</th>
              <th>Example</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>**response**</td>
              <td>Object</td>
              <td>
              No Response in case of `success : true`
              <p>
              Response syntax can be referred [delete_snapshot - Boto3 1.40.55 documentation](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/ec2/client/delete_snapshot.html).
              </p>
              </td>
          </tr>
          <tr>
              <td>**success**</td>
              <td>Boolean</td>
              <td>`success: true | false`</td>
          </tr>
          <tr>
              <td>**errorMessage**</td>
              <td>String</td>
              <td>`errorMessage: "Failed to delete snapshot"`</td>
          </tr>
      </tbody>
    </table>
    </TabsPageItem>

    <TabsPageItem id="aws-ec2-deleteSnapshot-example">
    <table>
      <thead>
          <tr>
              <th>Workflow Example</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>
  ```yaml
    name: ec2-deleteSnapshot-test
description: ''
workflowInputs:
  arnRole:
    type: String
  region:
    type: String
    defaultValue: us-west-2
  snapshotId:
    type: list
    defaultValue: snapshot-id-1
steps:
  - name: aws_ec2_deleteSnapshot_1
    type: action
    action: aws.ec2.deleteSnapshot
    version: '1'
    inputs:
      awsRoleArn: ${{ .workflowInputs.arnRole }}
      region: ${{ .workflowInputs.region }}
      snapshotId: ${{ .workflowInputs.snapshotId }}
    next: end
    ```
              </td>
          </tr>
      </tbody>
    </table>
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>

    <Collapser
        id="aws-bedrock-invokeAgent"
        title="Invoke an AWS Bedrock agent"
    >

  Invokes an AWS Bedrock agent.

  <Tabs>
    <TabsBar>
        <TabsBarItem id="aws-bedrock-invokeAgent-inputs">
          Inputs
      </TabsBarItem>

      <TabsBarItem id="aws-bedrock-invokeAgent-outputs">
        Outputs
      </TabsBarItem>

      <TabsBarItem id="aws-bedrock-invokeAgent-example">
        Example
      </TabsBarItem>
    </TabsBar>

    <TabsPages>
      <TabsPageItem id="aws-bedrock-invokeAgent-inputs">
      <table>
          <thead>
              <tr>
                <th>Input Field</th>
                <th>Optionality</th>
                <th>Type</th>
                <th>Example</th>
              </tr>
          </thead>
          <tbody>
              <tr>
                  <td>**awsRoleArn**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`arn:aws:iam::123456789012:role/my-workflow-role`</td>
              </tr>
              <tr>
                  <td>**awsAccessKeyId**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`${{ :secrets:<awsAccessKeyId> }}`</td>
              </tr>
              <tr>
                  <td>**awsSecretAccessKey**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`${{ :secrets:<awsSecretAccessKey> }}`</td>
              </tr>
              <tr>
                  <td>**awsSessionToken**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`${{ :secrets:<awsSessionToken> }}`</td>
              </tr>
              <tr>
                  <td>**region**</td>
                  <td>Required</td>
                  <td>String</td>
                  <td>`"us-east-2"`</td>
              </tr>
              <tr>
                  <td>**agentId**</td>
                  <td>Required</td>
                  <td>String</td>
                  <td>`Q123456789`</td>
              </tr>
              <tr>
                  <td>**agentAliasId**</td>
                  <td>Required</td>
                  <td>String</td>
                  <td>`AL12345678`</td>
              </tr>
              <tr>
                  <td>**sessionId**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`	e1572683-d2dd-4904-a32a-36f398b52dd5`</td>
              </tr>
              <tr>
                  <td>**inputText**</td>
                  <td>Required</td>
                  <td>String</td>
                  <td>`"your prompt to agent"`</td>
              </tr>
              <tr>
                  <td>**parameters**</td>
                  <td>Optional</td>
                  <td>Map</td>
                  <td>
  ```yaml
{

invocationId : "your-invocation-id",

endSession : True

}
  ```
                  </td>
              </tr>
              <tr>
                  <td>**selectors**</td>
                  <td>Optional</td>
                  <td>List</td>
                  <td>`[{\"name\": \"response\", \"expression\": \".response\"}, {\"name\": \"success\", \"expression\": \".success\"}, {\"name\": \"errorMessage\", \"expression\": \".errorMessage\"}]`</td>
              </tr>
          </tbody>
      </table>
    </TabsPageItem>

    <TabsPageItem id="aws-bedrock-invokeAgent-outputs">
    <table>
      <thead>
          <tr>
              <th>Output Field</th>
              <th>Type</th>
              <th>Example</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>**response**</td>
              <td>Object</td>
              <td>
  ```yaml
  {
    "success": true,
    "response": {
        "contentType": "application/json",
        "sessionId": "046d9e16-7b2b-4404-88c0-1fa8efb655a9",
        "completion": "Response from bedrock agent"
    }
}
  ```
              </td>
          </tr>
          <tr>
              <td>**success**</td>
              <td>Boolean</td>
              <td>`success: true | false`</td>
          </tr>
          <tr>
              <td>**errorMessage**</td>
              <td>String</td>
              <td>`An error occurred (ValidationException) when calling the InvokeAgent operation`</td>
          </tr>
      </tbody>
    </table>
    </TabsPageItem>

    <TabsPageItem id="aws-bedrock-invokeAgent-example">
    <table>
      <thead>
          <tr>
            <th>Workflow Example</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>
  ```yaml
    name: test-bedrock-agent
description: 'This invokes an aws bedrock agent'

steps:
  - name: aws_bedrock_invokeAgent_1
    type: action
    action: aws.bedrock.invokeAgent
    version: '1'
    inputs:
      region: us-east-1
      agentId: Agent123456
      agentAliasId: Alias12345
      sessionId: 5aa61ad7-8e57-4369-a178-66ff5dae71f2
      inputText: What are the top 3 developments in AI?
      awsRoleArn: ${{ :secrets:arnRole }}
      parameters:
        endSession: false
    next: end
    ```
              </td>
          </tr>
      </tbody>
    </table>
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>
</CollapserGroup>