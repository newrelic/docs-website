---
title: "AWS SQS actions"
tags:
  - workflow automation
  - workflow
  - workflow automation actions
  - AWS actions
  - AWS SQS actions
metaDescription: "A list of available aws sqs actions in the actions catalog for workflow definitions"
freshnessValidatedDate: never
---

<Callout title="preview">
  We're still working on this feature, but we'd love for you to try it out!

  This feature is currently provided as part of a preview program pursuant to our [pre-release policies](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

This page provides a comprehensive reference for aws sqs actions available in the workflow automation actions catalog. These actions enable you to sqs queue operations.

## Prerequisites

Before using AWS actions in workflow automation, ensure you have:

  * An AWS account with appropriate permissions.
  * AWS credentials configured (IAM user credentials, IAM role ARN, or session credentials).
  * The necessary IAM permissions for the specific AWS services you plan to use.

See [Set up AWS credentials](/docs/workflow-automation/setup-and-configuration/set-up-aws-credentials/) for information on how to create IAM users and IAM roles, and set up static and session AWS credentials for integration with workflow automation AWS actions.

<CollapserGroup>
    <Collapser
        id="aws-sqs-sendmessage"
        title="Send a message to an AWS SQS queue"
    >
  Sends a message to a specified Amazon SQS queue.

  <Tabs>
    <TabsBar>
      <TabsBarItem id="aws-sqs-sendmessage-inputs">
        Inputs
      </TabsBarItem>
      <TabsBarItem id="aws-sqs-sendmessage-outputs">
        Outputs
      </TabsBarItem>
      <TabsBarItem id="aws-sqs-sendmessage-example">
        Example
      </TabsBarItem>
    </TabsBar>

    <TabsPages>
      <TabsPageItem id="aws-sqs-sendmessage-inputs">
    <table>
        <thead>
            <tr>
              <th>Input Field</th>
              <th>Optionality</th>
              <th>Type</th>
              <th>Example</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>**awsRoleArn**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`arn:aws:iam::123456789012:role/my-workflow-role`</td>
            </tr>
            <tr>
                <td>**awsAccessKeyId**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsAccessKeyId> }}`</td>
            </tr>
            <tr>
                <td>**awsSecretAccessKey**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsSecretAccessKey> }}`</td>
            </tr>
            <tr>
                <td>**awsSessionToken**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsSessionToken> }}`</td>
            </tr>
            <tr>
                <td>**region**</td>
                <td>Required</td>
                <td>String</td>
                <td>`"us-east-2"`</td>
            </tr>
            <tr>
                <td>**queueUrl**</td>
                <td>Required</td>
                <td>String</td>
                <td>"`https://sqs.us-east-2.amazonaws.com/123456789012/my-queue`"</td>
            </tr>
            <tr>
                <td>**messageBody**</td>
                <td>Required</td>
                <td>String</td>
                <td>`"This is a test message"`</td>
            </tr>
            <tr>
                <td>**messageDeduplicationId**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`"abc123deduplicationId5678"`</td>
            </tr>
            <tr>
                <td>**messageGroupId**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`"group1"`</td>
            </tr>
            <tr>
                <td>**messageAttributes**</td>
                <td>Optional</td>
                <td>Map</td>
                <td>
                  <p>
                  `{ "my_attribute_name_1": { "DataType": "String", "StringValue":"my_attribute_value_1"},`
                  </p>

                  <p>
                  `"my_attribute_name_2": { "DataType": "String", "StringValue":"my_attribute_value_2"}}`
                  </p>
                </td>
            </tr>
            <tr>
                <td>**delaySeconds**</td>
                <td>Optional</td>
                <td>Int</td>
                <td>`123`</td>
            </tr>
        </tbody>
    </table>
  </TabsPageItem>

  <TabsPageItem id="aws-sqs-sendmessage-outputs">
  <table>
    <thead>
        <tr>
            <th>Output Field</th>
            <th>Type</th>
            <th>Example</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>**response**</td>
            <td>object</td>
            <td>
            `{"statusCode":200, "payload":{"status":"success","data":{"MessageId":"e9b73a52-d018-4a73-9fcd-8efb682fba43","MD5OfMessageBody":"fae535c7f7c5687a1c3d8bc52288e33a","MD5OfMessageAttributes":"3ae3c4f59958e031d0d53af2d157e834", }, "message":"Message sent successfully to the SQS queue." }}`
              <p>
              Response syntax can be referred to [SQS send_message - Boto3 documentation](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/sqs/client/send_message.html)
              </p>
            </td>
        </tr>
        <tr>
            <td>**success**</td>
            <td>Boolean</td>
            <td>`success: true | false`</td>
        </tr>
        <tr>
            <td>**errorMessage**</td>
            <td>String</td>
            <td>`"errorMessage": "SQS.Client.exceptions.QueueDoesNotExist: "The specified queue does not exist.""`</td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>

  <TabsPageItem id="aws-sqs-sendmessage-example">
  <table>
    <thead>
        <tr>
            <th>Workflow example</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
  ```yaml
    name: sqs-send-message-test
  description: Sends a message to an SQS queue
  workflowInputs:
    arnRole:
      type: String
  steps:
    - name: aws_sqs_sendMessage_1
      type: action
      action: aws.sqs.sendMessage
      version: '1'
      inputs:
        awsRoleArn: ${{ .workflowInputs.arnRole }}
        region: us-east-2
        queueUrl: https://sqs.us-east-2.amazonaws.com/123456789012/workflow-test-queue
        messageBody: "This is a test message"
        messageAttributes:
          my_attribute_name_1:
            DataType: "String"
            StringValue: "my_attribute_value_1"
          my_attribute_name_2:
            DataType: "String"
            StringValue: "my_attribute_value_2"
      next: end
  ```
            </td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>
</CollapserGroup>

<CollapserGroup>
    <Collapser
        id="aws-sqs-receivemessage"
        title="Receives a message from an AWS SQS queue"
    >
  Retrieves one or more messages, from the specified queue

  <Tabs>
    <TabsBar>
      <TabsBarItem id="aws-sqs-receivemessage-inputs">
        Inputs
      </TabsBarItem>
      <TabsBarItem id="aws-sqs-receivemessage-outputs">
        Outputs
      </TabsBarItem>
      <TabsBarItem id="aws-sqs-receivemessage-example">
        Example
      </TabsBarItem>
    </TabsBar>

    <TabsPages>
      <TabsPageItem id="aws-sqs-receivemessage-inputs">
    <table>
        <thead>
            <tr>
              <th>Input Field</th>
              <th>Optionality</th>
              <th>Type</th>
              <th>Example</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>**awsRoleArn**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`arn:aws:iam::123456789012:role/my-workflow-role`</td>
            </tr>
            <tr>
                <td>**awsAccessKeyId**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsAccessKeyId> }}`</td>
            </tr>
            <tr>
                <td>**awsSecretAccessKey**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsSecretAccessKey> }}`</td>
            </tr>
            <tr>
                <td>**awsSessionToken**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsSessionToken> }}`</td>
            </tr>
            <tr>
                <td>**region**</td>
                <td>Required</td>
                <td>String</td>
                <td>`"us-east-2"`</td>
            </tr>
            <tr>
                <td>**queueUrl**</td>
                <td>Required</td>
                <td>String</td>
                <td>"`https://sqs.us-east-2.amazonaws.com/123456789012/my-queue`"</td>
            </tr>
            <tr>
                <td>**maxNumberOfMessages**</td>
                <td>Optional</td>
                <td>Int</td>
                <td>`10`</td>
            </tr>
            <tr>
                <td>**waitTimeSeconds**</td>
                <td>Optional</td>
                <td>Int</td>
                <td>`5`</td>
            </tr>
            <tr>
                <td>**VisibilityTimeout**</td>
                <td>Optional</td>
                <td>Int</td>
                <td>`123`</td>
            </tr>
            <tr>
                <td>**AttributeNames**</td>
                <td>Optional</td>
                <td>List</td>
                <td>
  ```yaml
    [
      'All'|'Policy'|'VisibilityTimeout'|'MaximumMessageSize'|'MessageRetentionPeriod'|'ApproximateNumberOfMessages'|'ApproximateNumberOfMessagesNotVisible'|'CreatedTimestamp'|'LastModifiedTimestamp'|'QueueArn'|'ApproximateNumberOfMessagesDelayed'|'DelaySeconds'|'ReceiveMessageWaitTimeSeconds'|'RedrivePolicy'|'FifoQueue'|'ContentBasedDeduplication'|'KmsMasterKeyId'|'KmsDataKeyReusePeriodSeconds'|'DeduplicationScope'|'FifoThroughputLimit'|'RedriveAllowPolicy'|'SqsManagedSseEnabled',
    ]
  ```
                </td>
            </tr>
            <tr>
                <td>**messageAttributeNames**</td>
                <td>Optional</td>
                <td>List</td>
                <td>
  ```yaml
    [
      'message_attribute_name',
    ],
  ```
                </td>
            </tr>
            <tr>
                <td>**messageSystemAttributeNames**</td>
                <td>Optional</td>
                <td>List</td>
                <td>`['SenderId', 'SentTimestamp']`</td>
            </tr>
            <tr>
                <td>**receiveRequestAttemptId**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`"req-1234abcd"`</td>
            </tr>
        </tbody>
    </table>
  </TabsPageItem>

  <TabsPageItem id="aws-sqs-receivemessage-outputs">
  <table>
    <thead>
        <tr>
            <th>Output Field</th>
            <th>Type</th>
            <th>Example</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>**response**</td>
            <td>object</td>
            <td>
            `{"response":<aws api response> }`
              <p>
              Response syntax can be referred to receive_message - Boto3 documentation](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/sqs/client/receive_message.html)
              </p>
            </td>
        </tr>
        <tr>
            <td>**success**</td>
            <td>Boolean</td>
            <td>`success: true | false`</td>
        </tr>
        <tr>
            <td>**errorMessage**</td>
            <td>String</td>
            <td>`"errorMessage": "SQS.Client.exceptions.QueueDoesNotExist: "The specified queue does not exist.""`</td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>

  <TabsPageItem id="aws-sqs-receivemessage-example">
  
    ```yaml
      name: sqs-receive-message-test
      description: 'Receives a message from an SQS queue'
      steps:
        - name: aws_sqs_receiveMessage_1
          type: action
          action: aws.sqs.receiveMessage
          version: '1'
          inputs:
            awsRoleArn: ${{ :secrets:awsRoleArn }}
            region: us-east-1
            queueUrl: https://sqs.us-east-1.amazonaws.com/123456789012/workflow-test-queue
            waitTimeSeconds: 5
            maxNumberOfMessages: 10
            messageAttributeNames: ['message_attribute_name'],
    ```
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>
</CollapserGroup>
