---
title: "AWS Systems Manager actions"
tags:
  - workflow automation
  - workflow
  - workflow automation actions
  - AWS actions
  - Systems Manager actions
metaDescription: "A reference for AWS Systems Manager actions available in the workflow automation actions catalog"
freshnessValidatedDate: never
---

<Callout title="preview">
  We're still working on this feature, but we'd love for you to try it out!

  This feature is currently provided as part of a preview program pursuant to our [pre-release policies](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

This page provides a comprehensive reference for AWS Systems Manager actions available in the workflow automation actions catalog. These actions enable you to automate operational tasks, manage documents, and execute automations within your workflow definitions.

## Prerequisites

Before using AWS Systems Manager actions in workflow automation, ensure you have:

  * An AWS account with appropriate permissions.
  * AWS credentials configured (IAM user credentials, IAM role ARN, or session credentials).
  * The necessary IAM permissions for AWS Systems Manager operations.

See [Set up AWS credentials](/docs/workflow-automation/setup-and-configuration/set-up-aws-credentials/) for information on how to create IAM users and IAM roles, and set up static and session AWS credentials for integration with workflow automation AWS actions.

## Systems Manager actions

<CollapserGroup>
    <Collapser
        id="awssystemsmanagerwritedocument"
        title="Create document"
    >
  Writes a document to the AWS account based on the AWS credentials passed in the action input. See [AWS Systems Manager Documentation](https://docs.aws.amazon.com/systems-manager/?id=docs_gateway)

  <Tabs>
    <TabsBar>
      <TabsBarItem id="writedocumentinputs">
        Inputs
      </TabsBarItem>

      <TabsBarItem id="writedocumentoutputs">
        Outputs
      </TabsBarItem>

      <TabsBarItem id="writedocumentexample">
        Example
      </TabsBarItem>
    </TabsBar>

    <TabsPages>
      <TabsPageItem id="writedocumentinputs">
      <table>
        <thead>
            <tr>
                <th>Input Field</th>
                <th>Optionality</th>
                <th>Type</th>
                <th>Example</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>**awsAccessKeyId**</td>
                <td>Required</td>
                <td>String</td>
                <td>`${{ :secrets:<awsAccessKeyId> }}`</td>
            </tr>
            <tr>
                <td>**awsSecretAccessKey**</td>
                <td>Required</td>
                <td>String</td>
                <td>`${{ :secrets:<awsSecretAccessKey> }}`</td>
            </tr>
            <tr>
                <td>**awsSessionToken**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsSessionToken> }}`</td>
            </tr>
            <tr>
                <td>**region**</td>
                <td>Required</td>
                <td>String</td>
                <td>`region: "us-east-2"`</td>
            </tr>
            <tr>
                <td>**documentName**</td>
                <td>Required</td>
                <td>String</td>
                <td>`documentName: "my-ssm-document"`</td>
            </tr>
            <tr>
                <td>**documentType**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`documentType: "Command"`</td>
            </tr>
            <tr>
                <td>**documentFormat**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`documentFormat: "YAML"`</td>
            </tr>
            <tr>
                <td>**documentContent**</td>
                <td>Required</td>
                <td>String</td>
                <td></td>
            </tr>
            <tr>
                <td>**override**</td>
                <td>Optional</td>
                <td>Boolean</td>
                <td>
                `override: true (default)`. When `true`, always write the document with the provided name even if one already exist. When `false`, if a document with the provided `documentName` already exist, the action returns `success: false` and `errorMessage:Document already exists`. Please enable override if you want to update the existing document.
                </td>
            </tr>
        </tbody>
    </table>
    </TabsPageItem>

    <TabsPageItem id="writedocumentoutputs">
    <table>
      <thead>
          <tr>
              <th>Output Field</th>
              <th>Type</th>
              <th>Example</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>**documentName**</td>
              <td>String</td>
              <td>`documentName: "my-ssm-document"`</td>
      </tr>
          <tr>
              <td>**documentVersion**</td>
              <td>String</td>
              <td>`documentVersion: 1`</td>
          </tr>
          <tr>
              <td>**documentType**</td>
              <td>String</td>
              <td>`documentType: "Command"`</td>
          </tr>
          <tr>
              <td>**documentStatus**</td>
              <td>String</td>
              <td>`documentStatus: "Active"`.</td>
          </tr>
          <tr>
              <td>**success**</td>
              <td>Boolean</td>
              <td>`success: true`</td>
          </tr>
          <tr>
              <td>**errorMessage**</td>
              <td>String</td>
              <td>`errorMessage: "Some error message from ssm"`</td>
          </tr>
      </tbody>
    </table>
    </TabsPageItem>

    <TabsPageItem id="writedocumentexample">
    <table>
      <thead>
          <tr>
              <th>Workflow definition</th>
              <th>Inputs</th>
              <th>Outputs</th>
          </tr>
      </thead>
      <tbody>
          <tr>
            <td>
  ```yaml
    schemaVersion: '0.3'
    description: List all Lambda function names.
    mainSteps:
      - name: ExecuteAwsApi
        action: aws:executeAwsApi
        isEnd: true
  ```
            </td>
            <td>
  ```yaml
    inputs:
            Service: lambda
            Api: ListFunctions
  ```
            </td>
            <td>
  ```yaml
    outputs:
          - Name: resultFunctionName
            Selector: $..FunctionName
            Type: StringList
    outputs:
      - ExecuteAwsApi.resultFunctionName
  ```
            </td>
          </tr>
      </tbody>
    </table>
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>

    <Collapser
        id="awssystemsmanagerdeletedocument"
        title="Delete document"
    >
  Deletes an AWS document in the AWS account based on the credentials passed in the action input. See [AWS Systems Manager Documentation](https://docs.aws.amazon.com/systems-manager/latest/userguide/documents.html)

  <Tabs>
    <TabsBar>
      <TabsBarItem id="systemsmanagerinputs">
        Inputs
      </TabsBarItem>

      <TabsBarItem id="systemsmanageroutputs">
        Outputs
      </TabsBarItem>

      <TabsBarItem id="systemsmanagerexample">
        Example
      </TabsBarItem>
    </TabsBar>

    <TabsPages>
      <TabsPageItem id="systemsmanagerinputs">
        <table>
          <thead>
              <tr>
                <th>Input Field</th>
                <th>Optionality</th>
                <th>Type</th>
                <th>Example</th>
                </tr>
          </thead>
          <tbody>
              <tr>
                  <td>**awsAccessKeyId**</td>
                  <td>Required</td>
                  <td>String</td>
                  <td>`${{ :secrets:<awsAccessKeyId> }}`</td>
              </tr>
              <tr>
                  <td>**awsSecretAccessKey**</td>
                  <td>Required</td>
                  <td>String</td>
                  <td>`${{ :secrets:<awsSecretAccessKey> }}`</td>
              </tr>
              <tr>
                  <td>**awsSessionToken**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`${{ :secrets:<awsSessionToken> }}`</td>
              </tr>
              <tr>
                  <td>**region**</td>
                  <td>Required</td>
                  <td>String</td>
                  <td>`region: "us-east-2"`</td>
              </tr>
              <tr>
                  <td>**documentName**</td>
                  <td>Required</td>
                  <td>String</td>
                  <td>`documentName: "my-ssm-document"`</td>
              </tr>
          </tbody>
      </table>
    </TabsPageItem>

    <TabsPageItem id="systemsmanageroutputs">
    <table>
      <thead>
          <tr>
              <th>Output Field</th>
              <th>Type</th>
              <th>Example</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>**documentName**</td>
              <td>String</td>
              <td>documentName: "my-ssm-document"</td>
      </tr>
          <tr>
              <td>**success**</td>
              <td>Boolean</td>
              <td>`success: true`</td>
          </tr>
          <tr>
              <td>**errorMessage**</td>
              <td>String</td>
              <td>`errorMessage: "Some error message from ssm"`</td>
          </tr>
      </tbody>
    </table>
    </TabsPageItem>

    <TabsPageItem id="systemsmanagerexample">
    <table>
      <thead>
          <tr>
              <th>Workflow definition</th>
              <th>Inputs</th>
              <th>Outputs</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>
  ```yaml
    schemaVersion: '0.3'
    description: List all Lambda function names.
    mainSteps:
      - name: ExecuteAwsApi
        action: aws:executeAwsApi
        isEnd: true
  ```
              </td>
              <td>
  ```yaml
    inputs:
            Service: lambda
            Api: ListFunctions
  ```
              </td>
              <td>
  ```yaml
    outputs:
          - Name: resultFunctionName
            Selector: $..FunctionName
            Type: StringList
    outputs:
      - ExecuteAwsApi.resultFunctionName
  ```
              </td>
          </tr>
      </tbody>
    </table>
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>

    <Collapser
        id="awssystemsmanagerstartautomation"
        title="Start automation"
    >
  Starts an automation using an AWS document. See [AWS Systems Manager Documentation](https://docs.aws.amazon.com/systems-manager/latest/APIReference/API_StartAutomationExecution.html)

  <Tabs>
    <TabsBar>
      <TabsBarItem id="startautomationinputs">
        Inputs
      </TabsBarItem>

      <TabsBarItem id="startautomationoutputs">
        Outputs
      </TabsBarItem>

      <TabsBarItem id="startautomationexample">
        Example
      </TabsBarItem>
    </TabsBar>

    <TabsPages>
      <TabsPageItem id="startautomationinputs">
              <table>
              <thead>
                  <tr>
                    <th>Input Field</th>
                    <th>Optionality</th>
                    <th>Type</th>
                    <th>Example</th>
                </tr>
              </thead>
              <tbody>
                  <tr>
                      <td>**awsAccessKeyId**</td>
                      <td>Required</td>
                      <td>String</td>
                      <td>`${{ :secrets:<awsAccessKeyId> }}`</td>
                  </tr>
                  <tr>
                      <td>**awsSecretAccessKey**</td>
                      <td>Required</td>
                      <td>String</td>
                      <td>`${{ :secrets:<awsSecretAccessKey> }}`</td>
                  </tr>
                  <tr>
                      <td>**awsSessionToken**</td>
                      <td>Optional</td>
                      <td>String</td>
                      <td>`${{ :secrets:<awsSessionToken> }}`</td>
                  </tr>
                  <tr>
                      <td>**region**</td>
                      <td>Required</td>
                      <td>String</td>
                      <td>`region: "us-east-2"`</td>
                  </tr>
                  <tr>
                      <td>**documentName**</td>
                      <td>Required</td>
                      <td>String</td>
                      <td>`documentName: "my-ssm-document"`</td>
                  </tr>
                  <tr>
                      <td>**parameters**</td>
                      <td>Optional</td>
                      <td>Map</td>
                      <td>`parameters: myKey: myValue`</td>
                  </tr>
                  <tr>
                      <td>**idempotencyToken**</td>
                      <td>Optional</td>
                      <td>UUID</td>
                      <td>`idempotencyToken: "any token"`</td>
                  </tr>
              </tbody>
          </table>
    </TabsPageItem>

    <TabsPageItem id="startautomationoutputs">
    <table>
      <thead>
          <tr>
              <th>Output Field</th>
              <th>Type</th>
              <th>Example</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>**automationExecutionId**</td>
              <td>String</td>
              <td>`automationExecutionId: "3143a28d-241c-4abd-a3ca-9c0ff3890241"`</td>
      </tr>
          <tr>
              <td>**success**</td>
              <td>Boolean</td>
              <td>`success: true`</td>
          </tr>
          <tr>
              <td>**errorMessage**</td>
              <td>String</td>
              <td>`errorMessage: "Some error message from ssm"`</td>
          </tr>
      </tbody>
    </table>
    </TabsPageItem>

    <TabsPageItem id="startautomationexample">
    <table>
      <thead>
          <tr>
              <th>Workflow definition</th>
              <th>Inputs</th>
              <th>Outputs</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>
  ```yaml
      schemaVersion: '0.3'
      description: List all Lambda function names.
      mainSteps:
        - name: ExecuteAwsApi
          action: aws:executeAwsApi
          isEnd: true
  ```
              </td>
              <td>
  ```yaml
      Service: lambda
            Api: ListFunctions
  ```
              </td>
              <td>
  ```yaml
    - Name: resultFunctionName
              Selector: $..FunctionName
              Type: StringList
      outputs:
        - ExecuteAwsApi.resultFunctionName
  ```
              </td>
          </tr>
      </tbody>
    </table>
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>

    <Collapser
        id="awssystemsmanagerwaitforautomationstatus"
        title="Wait for automation status"
    >
  Waits for an automation using an AWS document. See [AWS Systems Manager Documentation](https://docs.aws.amazon.com/systems-manager/?id=docs_gateway) for more information.

  <Tabs>
    <TabsBar>
      <TabsBarItem id="automationstatusinputs">
        Inputs
      </TabsBarItem>

      <TabsBarItem id="automationstatusoutputs">
        Outputs
      </TabsBarItem>

      <TabsBarItem id="automationstatusexample">
        Example
      </TabsBarItem>
    </TabsBar>

    <TabsPages>
      <TabsPageItem id="automationstatusinputs">
      <table>
          <thead>
              <tr>
                  <th>Input Field</th>
                  <th>Optionality</th>
                  <th>Type</th>
                  <th>Example</th>
              </tr>
          </thead>
          <tbody>
              <tr>
                  <td>**awsRoleArn**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`arn:aws:iam::123456789012:role/my-workflow-role`</td>
              </tr>
              <tr>
                  <td>**awsAccessKeyId**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`${{ :secrets:<awsAccessKeyId> }}`</td>
              </tr>
              <tr>
                  <td>**awsSecretAccessKey**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`${{ :secrets:<awsSecretAccessKey> }}`</td>
              </tr>
              <tr>
                  <td>**awsSessionToken**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`${{ :secrets:<awsSessionToken> }}`</td>
              </tr>
              <tr>
                  <td>**region**</td>
                  <td>Required</td>
                  <td>String</td>
                  <td>`region: "us-east-2"`</td>
              </tr>
              <tr>
                  <td>**automationExecutionId**</td>
                  <td>Required</td>
                  <td>String</td>
                  <td>`automationExecutionId: "3143a28d-241c-4abd-a3ca-9c0ff3890241"`. The automation executionID for which we need to wait for its completion.</td>
              </tr>
              <tr>
                  <td>**automationExecutionStatuses**</td>
                  <td>Optional</td>
                  <td>List</td>
                  <td>List of automation execution statuses from [AutomationExecution](https://docs.aws.amazon.com/systems-manager/latest/APIReference/API_AutomationExecution.html#AutomationExecutionStatus) that can stop the waiting, `Default: ["Success", "Failed"]`</td>
              </tr>
              <tr>
                  <td>**timeout**</td>
                  <td>Optional</td>
                  <td>int</td>
                  <td>`timeout: 600`. The duration in seconds can wait for automation status to be one of the expected `automationExecutionStatuses`. Post this timeout duration, the action return value with timeout error.</td>
              </tr>
              <tr>
                  <td>**selectors**</td>
                  <td>Optional</td>
                  <td>List</td>
                  <td>`[{\"name\": \"automationExecutionStatus\", \"expression\": \".automationExecutionStatus\"}, {\"name\": \"scriptOutput\", \"expression\": \".automationExecutionOutputs.pythonStep.scriptOutput | tojson\"}]`.</td>
              </tr>
          </tbody>
      </table>
      
        <Callout variant="important">
          1. In the action input, only `awsAccessKeyId` and `awsSecretAccessKey` can be provided, but they should be static credentials of an IAM user.
          2. If session credentials are to be used, `awsAccessKeyId`, `awsSecretAccessKey` and `awsSessionToken` must be passed to the action input.
          3. Refer to the instructions to set up [AWS credentials](/docs/workflow-automation/setup-and-configuration/set-up-aws-credentials).
          4. Use selectors to get only the specified parameters as output.
      </Callout>
    </TabsPageItem>

    <TabsPageItem id="automationstatusoutputs">
    <table>
      <thead>
          <tr>
              <th>Output Field</th>
              <th>Type</th>
              <th>Example</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>**automationExecutionId**</td>
              <td>String</td>
              <td>`automationExecutionId: "3143a28d-241c-4abd-a3ca-9c0ff3890241"`</td>
          </tr>
          <tr>
              <td>**automationExecutionStatus**</td>
              <td>String</td>
              <td>`automationExecutionStatus: "Success"`. If action is successful, It will either of the values passed in `automationExecutionStatuses` input field. Else, this will be null.</td>
          </tr>
          <tr>
              <td>**automationExecutionOutputs**</td>
              <td>Map</td>
              <td>
  ```yaml
    "automationExecutionOutputs": {
          "ExecuteGetApiResources": {
            "resultResourceId": [
              "pky3cb"
            ]
          },
          "ExecuteListVersionsByFunction": {
            "resultLambdaVersionArn": [
              "arn:aws:lambda:us-east-2:123456789012:function:ApiGwTestFn:1"
            ]
          }
    }
  ```
            <p>
            The output will be a map of output values from the document. Any output in the document can be collected using this output field and can be used in subsequent steps of the workflow automation definition.
            </p>
              </td>
          </tr>
          <tr>
              <td>**success**</td>
              <td>Boolean</td>
              <td>`success: true`</td>
          </tr>
          <tr>
              <td>**errorMessage**</td>
              <td>String</td>
              <td>`errorMessage: "Some error message from ssm"`</td>
          </tr>
      </tbody>
    </table>
    </TabsPageItem>

    <TabsPageItem id="automationstatusexample">
    <table>
      <thead>
          <tr>
              <th>Workflow definition</th>
              <th>Inputs</th>
              <th>Outputs</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>
  ```yaml
      schemaVersion: '0.3'
      description: List all Lambda function names.
      mainSteps:
        - name: ExecuteAwsApi
          action: aws:executeAwsApi
          isEnd: true
  ```
              </td>
              <td>
  ```yaml
      Service: lambda
            Api: ListFunctions
  ```
              </td>
              <td>
  ```yaml
    - Name: resultFunctionName
              Selector: $..FunctionName
              Type: StringList
      outputs:
        - ExecuteAwsApi.resultFunctionName
  ```
              </td>
          </tr>
      </tbody>
    </table>
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>

</CollapserGroup>
