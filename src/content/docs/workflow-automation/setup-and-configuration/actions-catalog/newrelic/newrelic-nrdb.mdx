---
title: "New Relic NRDB actions"
tags:
  - workflow automation
  - workflow
  - workflow automation actions
  - New Relic actions
  - New Relic NRDB actions
metaDescription: "A list of available new relic nrdb actions in the actions catalog for workflow definitions"
freshnessValidatedDate: never
---

<Callout title="preview">
  We're still working on this feature, but we'd love for you to try it out!

  This feature is currently provided as part of a preview program pursuant to our [pre-release policies](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

This page provides a comprehensive reference for new relic nrdb actions available in the workflow automation actions catalog. These actions enable you to query new relic database.

## Prerequisites

Before using New Relic actions in workflow automation, ensure you have:

  * A New Relic account with appropriate permissions.
  * A New Relic license key (if sending data to a different account).
  * The necessary permissions for the specific New Relic services you plan to use.

See [License Key](/docs/apis/intro-apis/new-relic-api-keys/#license-key) for information on how to create and manage your New Relic Account License Key.



## Query actions

<CollapserGroup>
    <Collapser
        id="newrelic.nrdb.query"
        title="Run a NRDB query"
    >

Executes a cross-accounts NRQL query through the NerdGraph API.

<Tabs>
  <TabsBar>
    <TabsBarItem id="nrdbqueryinputs">
      Inputs
    </TabsBarItem>

    <TabsBarItem id="nrdbqueryoutputs">
      Outputs
    </TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="nrdbqueryinputs">
  <table>
      <thead>
          <tr>
              <th>Input</th>
              <th>Optionality</th>
              <th>Type</th>
              <th>Description</th>
              <th>Example</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>**query**</td>
              <td>Required</td>
              <td>string</td>
              <td>The NRQL query statement.</td>
              <td></td>
          </tr>
          <tr>
              <td>**accountIds**</td>
              <td>Optional</td>
              <td>list of int</td>
              <td>The **New Relic Account ID** input is a list of target IDs that allows you to specify the target accounts where the query is executed against. If this value is not provided as an input, the query will automatically be executed against the account associated with the workflow's execution account.</td>
              <td></td>
          </tr>
          <tr>
              <td>**selectors**</td>
              <td>Optional</td>
              <td>list</td>
              <td>The selectors to get the only specified parameters as output.</td>
              <td>
              ```json
                steps:
                  - name: queryForLog
                    type: action
                    action: newrelic.nrdb.query
                    version: 1
                    inputs:
                      accountIds: [12345]
                      query: FROM Log SELECT * WHERE message LIKE 'DEMO%'
                      selectors:
                        - name: resultsAsString
                          expression: '.results | tostring'
              ```
            </td>
          </tr>
      </tbody>
  </table>
  </TabsPageItem>

  <TabsPageItem id="nrdbqueryoutputs">
  <table>
    <thead>
        <tr>
            <th>Output</th>
            <th>Type</th>
            <th>Example</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>**results**: An array of objects containing the results of the query.</td>
            <td></td>
            <td>
  ```yaml
    {
      results=[
        { message=[INFO] - Workflow: test has ended, messageId=39af98 },
        { message=[INFO] - Workflow: test - Step query has started, messageId=649c612 },
        ...
      ]
    }
  ```
            </td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>
</CollapserGroup>
