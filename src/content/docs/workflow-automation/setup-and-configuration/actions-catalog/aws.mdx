---
title: "AWS actions"
tags:
  - workflow automation
  - workflow
  - workflow automation actions
  - AWS actions
metaDescription: "A list of available actions in the actions catalog for workflow definitions"
freshnessValidatedDate: never
---

<Callout title="preview">
  We're still working on this feature, but we'd love for you to try it out!

  This feature is currently provided as part of a preview program pursuant to our [pre-release policies](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

This page provides a comprehensive reference for AWS actions available in the workflow automation actions catalog. These actions enable you to integrate AWS services into your workflow definitions, including Lambda functions, Systems Manager automation, EC2 instance management, and general API execution.

## Prerequisites

Before using AWS actions in workflow automation, ensure you have:

  * An AWS account with appropriate permissions
  * AWS credentials configured (IAM user credentials, IAM role ARN, or session
  credentials)
  * The necessary IAM permissions for the specific AWS services you plan to use.

See [Set up AWS credentials](/docs/workflow-automation/setup-and-configuration/set-up-aws-credentials/) for information on how to create IAM users and IAM roles, and set up static and session AWS credentials for integration with workflow automation AWS actions.

## Available AWS actions

Quick reference of all AWS actions by service:

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>AWS Service</th>
      <th style={{ width: "250px" }}>Action</th>
      <th>Purpose</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>**Lambda**</td>
      <td>[Invoke function](#awslambdainvoke)</td>
      <td>Execute Lambda function synchronously or asynchronously</td>
    </tr>
    <tr>
      <td>**Lambda**</td>
      <td>[Update function configuration](#awslambdaupdatefunctionconfiguration)</td>
      <td>Modify function settings</td>
    </tr>
    <tr>
      <td>**Lambda**</td>
      <td>[Get function](#awslambdagetfunction)</td>
      <td>Retrieve function metadata</td>
    </tr>
    <tr>
      <td>**Lambda**</td>
      <td>[List aliases](#awslambdalistaliases)</td>
      <td>View function aliases</td>
    </tr>
    <tr>
      <td>**EC2**</td>
      <td>[Start instances](#awsec2startinstances)</td>
      <td>Power on EC2 instances</td>
    </tr>
    <tr>
      <td>**EC2**</td>
      <td>[Reboot instances](#awsec2rebootinstances)</td>
      <td>Restart EC2 instances</td>
    </tr>
    <tr>
      <td>**EC2**</td>
      <td>[Terminate instances](#awsec2terminateinstances)</td>
      <td>Permanently delete instances</td>
    </tr>
    <tr>
      <td>**EC2**</td>
      <td>[Run instances](#awsec2runinstances)</td>
      <td>Launch new EC2 instances</td>
    </tr>
    <tr>
      <td>**EC2**</td>
      <td>[Delete snapshot](#awsec2deletesnapshot)</td>
      <td>Remove EBS snapshots</td>
    </tr>
    <tr>
      <td>**Systems Manager**</td>
      <td>[Create document](#awssystemsmanagerwritedocument)</td>
      <td>Create automation document</td>
    </tr>
    <tr>
      <td>**Systems Manager**</td>
      <td>[Delete document](#awssystemsmanagerdeletedocument)</td>
      <td>Remove automation document</td>
    </tr>
    <tr>
      <td>**Systems Manager**</td>
      <td>[Start automation](#awssystemsmanagerstartautomation)</td>
      <td>Execute automation runbook</td>
    </tr>
    <tr>
      <td>**Systems Manager**</td>
      <td>[Wait for automation status](#awssystemsmanagerwaitforautomationstatus)</td>
      <td>Poll automation execution</td>
    </tr>
    <tr>
      <td>**General**</td>
      <td>[Execute API](#awsexecuteapi)</td>
      <td>Call any AWS API directly</td>
    </tr>
  </tbody>
</table>

## Lambda actions

<CollapserGroup>
    <Collapser
        id="awslambdainvoke"
        title="Invoke function"
    >
  Invokes a Lambda function synchronously or asynchronously with an optional payload.

<Tabs>
  <TabsBar>
    <TabsBarItem id="awslambdainputs">
      Inputs
    </TabsBarItem>

    <TabsBarItem id="awslambdaoutputs">
      Outputs
    </TabsBarItem>

    <TabsBarItem id="awslambdaexample">
      Example
    </TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="awslambdainputs">
      <table>
          <thead>
              <tr>
                  <th>Input Field</th>
                  <th>Optionality</th>
                  <th>Type</th>
                  <th>Example</th>
              </tr>
          </thead>
          <tbody>
              <tr>
                  <td>**awsRoleArn**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`arn:aws:iam::123456789012:role/my-workflow-role`</td>
              </tr>
              <tr>
                  <td>**awsAccessKeyId**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`${{ :secrets:<awsAccessKeyId> }}`</td>
              </tr>
              <tr>
                  <td>**awsSecretAccessKey**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`${{ :secrets:<awsSecretAccessKey> }}`</td>
              </tr>
              <tr>
                  <td>**awsSessionToken**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`${{ :secrets:<awsSessionToken> }}`</td>
              </tr>
              <tr>
                  <td>**region**</td>
                  <td>Required</td>
                  <td>String</td>
                  <td>`"us-east-2"`</td>
              </tr>
              <tr>
                  <td>**functionName**</td>
                  <td>Required</td>
                  <td>String</td>
                  <td>`my-lambda-function`</td>
              </tr>
              <tr>
                  <td>**invocationType**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`Event'|'RequestResponse'|'DryRun'`</td>
              </tr>
              <tr>
                  <td>**payload**</td>
                  <td>Optional</td>
                  <td>String</td>
                  <td>`'{"key": "value"}'`</td>
              </tr>
              <tr>
                  <td>**parameters**</td>
                  <td>Optional</td>
                  <td>Map</td>
                  <td>
  ```yaml
  {
        "Qualifier": "1",
        "ClientContext":"encoded value"
      },
  ```
                  </td>
              </tr>
              <tr>
                  <td>**selectors**</td>
                  <td>Optional</td>
                  <td>List</td>
                  <td>`[{\"name\": \"response\", \"expression\": \".response\"}, {\"name\": \"success\", \"expression\": \".success\"}, {\"name\": \"errorMessage\", \"expression\": \".errorMessage\"}]`</td>
              </tr>
          </tbody>
      </table>

    <Callout variant="important">
      - **Action Timeout**: This action has a maximum 1-minute(60-second) timeout for synchronous invocations
      - **Long-Running Functions**: For functions that may run longer than 1 minute, you must use the Event InvocationType. This invokes the function asynchronously. You can then use other actions (like aws.cloudwatch.getLogEvents or checking an SQS/SNS callback) to get the result.
        - `InvocationType` is critical:
          - `RequestResponse` (default): Invokes the function synchronously. The action waits for the function to complete and returns the response.
          - `Event`: Invokes the function asynchronously. The action returns a success status immediately without waiting for the code to finish.
        - `ClientContext` is for advanced use cases and the provided String must be Base64-encoded
        - Any additional API parameters not listed above can be passed in the `parameters` map. To support a wide range of inputs, the `parameters` map accepts any optional argument available in the official boto3 API documentation. This allows you to dynamically construct requests by adding multiple fields.
    </Callout>
  </TabsPageItem>

  <TabsPageItem id="awslambdaoutputs">
  <table>
    <thead>
        <tr>
            <th>Output Field</th>
            <th>Type</th>
            <th>Example</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>**response**</td>
            <td>object</td>
            <td>
  ```yaml
  [{"success":true,"response":{"StatusCode":200,"ExecutedVersion":"$LATEST","Payload":{"statusCode":200,"body":"\"Hello userName\""}}}]
  ```
        <p>
          Response syntax can be referred to [invoke - Boto3 documentation](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/lambda/client/invoke.html)
        </p>
            </td>
        </tr>
        <tr>
            <td>**success**</td>
            <td>Boolean</td>
            <td>`success: true | false`</td>
        </tr>
        <tr>
            <td>**errorMessage**</td>
            <td>String</td>
            <td>`"errorMessage": "ValidationException: 1 validation error detected"`</td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>

  <TabsPageItem id="awslambdaexample">
  <table>
    <thead>
        <tr>
          <th>Workflow example</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>
  ```yaml
      name: lambda-invoke-function-test
      description: 'Invokes a Lambda function with a payload'
      workflowInputs:
        arnRole:
          type: String
      steps:
        - name: aws_lambda_invoke_1
          type: action
          action: aws.lambda.invoke
          version: '1'
          inputs:
            awsRoleArn: ${{ .workflowInputs.arnRole }}
            region: us-east-1
            functionName: my-lambda-processor
          payload: '{"orderId": "12345", "amount": 99.99}'
          next: end
  ```
          </td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>

    <Collapser
        id="awslambdaupdatefunctionconfiguration"
        title="Update function configuration"
    >

  Modifies the configuration of a specific AWS Lambda function. Provide only the parameters you want to change.

<Tabs>
  <TabsBar>
    <TabsBarItem id="updateFunctionConfiguration-inputs">
      Inputs
    </TabsBarItem>

    <TabsBarItem id="updateFunctionConfiguration-outputs">
      Outputs
    </TabsBarItem>

    <TabsBarItem id="updateFunctionConfiguration.example">
      Example
    </TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="updateFunctionConfiguration.inputs">
    <table>
      <thead>
          <tr>
            <th>Input Field</th>
            <th>Optionality</th>
            <th>Type</th>
            <th>Example</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>**awsRoleArn**</td>
              <td>Optional</td>
              <td>String</td>
              <td>`arn:aws:iam::123456789012:role/my-workflow-role`</td>
          </tr>
          <tr>
              <td>**awsAccessKeyId**</td>
              <td>Optional</td>
              <td>String</td>
              <td>`${{ :secrets:<awsAccessKeyId> }}`</td>
          </tr>
          <tr>
              <td>**awsSecretAccessKey**</td>
              <td>Optional</td>
              <td>String</td>
              <td>`${{ :secrets:<awsSecretAccessKey> }}`</td>
          </tr>
          <tr>
              <td>**awsSessionToken**</td>
              <td>Optional</td>
              <td>String</td>
              <td>`${{ :secrets:<awsSessionToken> }}`</td>
          </tr>
          <tr>
              <td>**region**</td>
              <td>Required</td>
              <td>String</td>
              <td>`"us-east-2"`</td>
          </tr>
          <tr>
              <td>**functionName**</td>
              <td>Required</td>
              <td>String</td>
              <td>`"my-lambda-function-to-update"`</td>
          </tr>
          <tr>
              <td>**role**</td>
              <td>Optional</td>
              <td>String</td>
              <td>`arn:aws:iam::123456789012:role/new-lambda-role`</td>
          </tr>
          <tr>
              <td>**handler**</td>
              <td>Optional</td>
              <td>String</td>
              <td>`“main.new_handler"`</td>
          </tr>
          <tr>
              <td>**description**</td>
              <td>Optional</td>
              <td>String</td>
              <td>`Updated function description`</td>
          </tr>
          <tr>
              <td>**parameters**</td>
              <td>Optional</td>
              <td>Map</td>
              <td>
  ```yaml
    {
      "Timeout": "60",
      "MemorySize": 123,
    },
  ```
              </td>
          </tr>
          <tr>
              <td>**selectors**</td>
              <td>Optional</td>
              <td>List</td>
              <td>`[{\"name\": \"response\", \"expression\": \".response\"}, {\"name\": \"success\", \"expression\": \".success\"}, {\"name\": \"errorMessage\", \"expression\": \".errorMessage\"}]`</td>
          </tr>
      </tbody>
    </table>

    <Callout variant="important">
      To support a wide range of inputs, the `parameters` map accepts any optional argument available. This allows you to dynamically construct requests by adding multiple fields.
    </Callout>
  </TabsPageItem>

  <TabsPageItem id="updateFunctionConfiguration-outputs">
  <table>
    <thead>
        <tr>
            <th>Output Field</th>
            <th>Type</th>
            <th>Example</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>**response**</td>
            <td>object</td>
            <td>
  ```yaml
    [{"success":true,"response":{"FunctionName":"hello-you","FunctionArn":"arn:aws:lambda:us-east-2:----:function:hello-you","Runtime":"nodejs20.x","Role":"arn:aws:iam::----:role/TF-hello-you-role","Handler":"hello-you.handler","CodeSize":334,"Description":"This is hello you description from action","Timeout":30,"MemorySize":128,"LastModified":"2025-09-23T13:57:03.000+0000","CodeSha256":"CU03aDDg+34=","Version":"$LATEST","TracingConfig":{"Mode":"PassThrough"},"RevisionId":"0f1e4d9b-c45a-4896-a32d-7cd78e77a273","State":"Active","LastUpdateStatus":"InProgress","LastUpdateStatusReason":"The function is being created.","LastUpdateStatusReasonCode":"Creating","PackageType":"Zip","Architectures":["x86_64"],"EphemeralStorage":{"Size":512},"SnapStart":{"ApplyOn":"None","OptimizationStatus":"Off"},"RuntimeVersionConfig":{"RuntimeVersionArn":"arn:aws:lambda:us-east-2::runtime:01eab27397bfdbdc243d363698d4bc355e3c8176d34a51cd47dfe58cf977f508"},"LoggingConfig":{"LogFormat":"Text","LogGroup":"/aws/lambda/hello-you"}}}]
  ```
              <p>
                Response syntax can be referred to [update_function_configuration - Boto3 documentation](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/lambda/client/update_function_configuration.html)
              </p>
            </td>
        </tr>
        <tr>
            <td>**success**</td>
            <td>Boolean</td>
            <td>`success: true | false`</td>
        </tr>
        <tr>
            <td>**errorMessage**</td>
            <td>String</td>
            <td>`[   {     "errorMessage": "An error occurred (ResourceNotFoundException) when calling the UpdateFunctionConfiguration operation: Function not found: arn:aws:lambda:us-east-2:661945836867:function:my-lambda-function-to-update",     "success": false,     "response": null   } ]`</td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>

  <TabsPageItem id="ec2-terminateInstances.example">
  <table>
    <thead>
        <tr>
            <th>Workflow example</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
  ```yaml
      name: lambda-update-config-test
      description: 'Updates the timeout and memory of a Lambda function'
      workflowInputs:
        arnRole:
          type: String
      steps:
        - name: aws_lambda_update_function_configuration_1
          type: action
          action: aws.lambda.updateFunctionConfiguration
          version: '1'
          inputs:
            awsRoleArn: ${{ .workflowInputs.arnRole }}
            region: us-west-2
            functionName: my-lambda-function-to-update
            parameters:
            Timeout:60
            MemorySize:123
            
          next: end
  ```
            </td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>

    <Collapser
        id="awslambdagetfunction"
        title="Get function"
    >

  Retrieves the configuration details, code location, and other metadata for a specific AWS Lambda function.

<Tabs>
  <TabsBar>
    <TabsBarItem id="lambda.getFunction-inputs">
      Inputs
    </TabsBarItem>

    <TabsBarItem id="lambda.getFunction-outputs">
      Outputs
    </TabsBarItem>

    <TabsBarItem id="lambda.getFunction.example">
      Example
    </TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="lambda.getFunction.inputs">
    <table>
      <thead>
          <tr>
            <th>Input Field</th>
            <th>Optionality</th>
            <th>Type</th>
            <th>Example</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>**awsRoleArn**</td>
              <td>Optional</td>
              <td>String</td>
              <td>`arn:aws:iam::123456789012:role/my-workflow-role`</td>
          </tr>
          <tr>
              <td>**awsAccessKeyId**</td>
              <td>Optional</td>
              <td>String</td>
              <td>`${{ :secrets:<awsAccessKeyId> }}`</td>
          </tr>
          <tr>
              <td>**awsSecretAccessKey**</td>
              <td>Optional</td>
              <td>String</td>
              <td>`${{ :secrets:<awsSecretAccessKey> }}`</td>
          </tr>
          <tr>
              <td>**awsSessionToken**</td>
              <td>Optional</td>
              <td>String</td>
              <td>`${{ :secrets:<awsSessionToken> }}`</td>
          </tr>
          <tr>
              <td>**region**</td>
              <td>Required</td>
              <td>String</td>
              <td>`"us-east-2"`</td>
          </tr>
          <tr>
              <td>**functionName**</td>
              <td>Required</td>
              <td>String</td>
              <td>`"my-lambda-function"`</td>
          </tr>
          <tr>
              <td>**parameters**</td>
              <td>Optional</td>
              <td>Map</td>
              <td>
  ```yaml
    {
      "Qualifier": "1"
    },
  ```
              </td>
          </tr>
          <tr>
              <td>**selectors**</td>
              <td>Optional</td>
              <td>List</td>
              <td>`[[{"name": "response", "expression": ".response"}]`</td>
          </tr>
      </tbody>
    </table>

    <Callout variant="important">
      To support a wide range of inputs, the `parameters` map accepts any optional argument available. This allows you to dynamically construct requests by adding multiple fields.
    </Callout>
  </TabsPageItem>

  <TabsPageItem id="lambda.getFunction-outputs">
  <table>
    <thead>
        <tr>
            <th>Output Field</th>
            <th>Type</th>
            <th>Example</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>**response**</td>
            <td>object</td>
            <td>
  ```yaml
    {"response":<aws api response> } 
  ```
            <p>
              Response syntax can be referred to [update_function_configuration - Boto3 documentation](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/lambda/client/get_function.html)
            </p>
          </td>
        </tr>
        <tr>
            <td>**success**</td>
            <td>Boolean</td>
            <td>`success: true | false`</td>
        </tr>
        <tr>
            <td>**errorMessage**</td>
            <td>String</td>
            <td>`"errorMessage": "ResourceNotFoundException: Function not found"`</td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>

  <TabsPageItem id="lambda.getFunction.example">
  <table>
    <thead>
        <tr>
            <th>Workflow example</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
  ```yaml
      name: lambda-get-function-test
      description: 'Retrieves the configuration of a specific Lambda function'
      workflowInputs:
        arnRole:
          type: String
      steps:
        - name: aws_lambda_getFunction_1
          type: action
          action: aws.lambda.getFunction
          version: '1'
          inputs:
            awsRoleArn: ${{ .workflowInputs.arnRole }}
            region: us-east-1
            FunctionName: hello-you
            parameters:
              Qualifier: 1
          next: end
  ```
            </td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>

    <Collapser
        id="awslambdalistaliases"
        title="List aliases"
    >
  Returns a list of aliases for a specific AWS Lambda function. Aliases are pointers to function versions.

<Tabs>
  <TabsBar>
    <TabsBarItem id="lambda.listAliases-inputs">
      Inputs
    </TabsBarItem>

    <TabsBarItem id="lambda.listAliases-outputs">
      Outputs
    </TabsBarItem>

    <TabsBarItem id="lambda.listAliases.example">
      Example
    </TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="lambda.listAliases.inputs">
    <table>
      <thead>
          <tr>
            <th>Input Field</th>
            <th>Optionality</th>
            <th>Type</th>
            <th>Example</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>**awsRoleArn**</td>
              <td>Optional</td>
              <td>String</td>
              <td>`arn:aws:iam::123456789012:role/my-workflow-role`</td>
          </tr>
          <tr>
              <td>**awsAccessKeyId**</td>
              <td>Optional</td>
              <td>String</td>
              <td>`${{ :secrets:<awsAccessKeyId> }}`</td>
          </tr>
          <tr>
              <td>**awsSecretAccessKey**</td>
              <td>Optional</td>
              <td>String</td>
              <td>`${{ :secrets:<awsSecretAccessKey> }}`</td>
          </tr>
          <tr>
              <td>**awsSessionToken**</td>
              <td>Optional</td>
              <td>String</td>
              <td>`${{ :secrets:<awsSessionToken> }}`</td>
          </tr>
          <tr>
              <td>**region**</td>
              <td>Required</td>
              <td>String</td>
              <td>`"us-east-2"`</td>
          </tr>
          <tr>
              <td>**functionName**</td>
              <td>Required</td>
              <td>String</td>
              <td>`“my-lambda-function“`</td>
          </tr>
          <tr>
              <td>**marker**</td>
              <td>Optional</td>
              <td>String</td>
              <td>
              Pass the `NextMarker` token from a previous response for pagination.
              <p>
                e.g., `“abcd....."`
              </p>
              </td>
          </tr>
          <tr>
              <td>**maxItems**</td>
              <td>Optional</td>
              <td>Int</td>
              <td>
              Limit the number of aliases returned
              <p>
                e.g., `123`
              </p>
              </td>
          </tr>
          <tr>
              <td>**parameters**</td>
              <td>Optional</td>
              <td>Map</td>
              <td>
              For additional optional API parameters.
              <p>
                e.g., `{"AnotherOptionalParam": "value"}`
              </p>
              </td>
          </tr>
          <tr>
              <td>**selectors**</td>
              <td>Optional</td>
              <td>List</td>
              <td>`[{"name": "response", "expression": ".response"}]`</td>
          </tr>
      </tbody>
    </table>

    <Callout variant="important">
      - **Pagination**: Use the Marker and MaxItems inputs to paginate through a large number of aliases.
      - To support a wide range of inputs, the `parameters` map accepts any optional argument available. This allows you to dynamically construct requests by adding multiple fields.
    </Callout>
  </TabsPageItem>

  <TabsPageItem id="lambda.listAliases-outputs">
  <table>
    <thead>
        <tr>
            <th>Output Field</th>
            <th>Type</th>
            <th>Example</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>**response**</td>
            <td>object</td>
            <td>
    ```yaml
    {"response":<aws api response> } 
    ```
              <p>
                Response syntax can be referred to [update_function_configuration - Boto3 documentation](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/lambda/client/list_aliases.html)
              </p>
            </td>
        </tr>
        <tr>
            <td>**success**</td>
            <td>Boolean</td>
            <td>`success: true | false`</td>
        </tr>
        <tr>
            <td>**errorMessage**</td>
            <td>String</td>
            <td>`"errorMessage": "ResourceNotFoundException: Function not found"`</td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>

  <TabsPageItem id="lambda.listAliases.example">
  <table>
    <thead>
        <tr>
            <th>Workflow example</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
  ```yaml
      name: lambda-list-aliases-test
      description: 'Lists all aliases for a Lambda function'
      workflowInputs:
        arnRole:
          type: String
      steps:
        - name: aws_lambda_list_aliases_1
          type: action
          action: aws.lambda.listAliases
          version: '1'
          inputs:
            awsRoleArn: ${{ .workflowInputs.arnRole }}
            region: us-east-1
            functionName: hello-you
            parameters:
              FunctionVersion: 1
          next: end
  ```
            </td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>
</CollapserGroup>

## EC2 actions

<CollapserGroup>
    <Collapser
        id="awsec2deletesnapshot"
        title="Delete snapshot"
    >

  This action deletes an Amazon EC2 snapshot. You cannot delete a snapshot of the root device of an EBS volume used by a registered AMI. You must first deregister the AMI before you can delete the snapshot.

<Tabs>
  <TabsBar>
      <TabsBarItem id="ec2-deleteSnapshot-inputs">
        Inputs
    </TabsBarItem>

    <TabsBarItem id="ec2-deleteSnapshot-outputs">
      Outputs
    </TabsBarItem>

    <TabsBarItem id="ec2-deleteSnapshot-example">
      Example
    </TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="ec2-deleteSnapshot-inputs">
    <table>
        <thead>
            <tr>
              <th>Input Field</th>
              <th>Optionality</th>
              <th>Type</th>
              <th>Example</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>**awsRoleArn**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`arn:aws:iam::123456789012:role/my-workflow-role`</td>
            </tr>
            <tr>
                <td>**awsAccessKeyId**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsAccessKeyId> }}`</td>
            </tr>
            <tr>
                <td>**awsSecretAccessKey**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsSecretAccessKey> }}`</td>
            </tr>
            <tr>
                <td>**awsSessionToken**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsSessionToken> }}`</td>
            </tr>
            <tr>
                <td>**region**</td>
                <td>Required</td>
                <td>String</td>
                <td>`region: "us-east-2"`</td>
            </tr>
            <tr>
                <td>**snapshotId**</td>
                <td>Required</td>
                <td>String</td>
                <td>`“snapshot-id-1"`</td>
            </tr>
            <tr>
                <td>**selectors**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`[{\"name\": \"response\", \"expression\": \".response\"}, {\"name\": \"success\", \"expression\": \".success\"}, {\"name\": \"errorMessage\", \"expression\": \".errorMessage\"}]`</td>
            </tr>
        </tbody>
    </table>

      <Callout variant="tip">
        In the action input, at least one of the AWS credentials (short, long, role) should be provided, where the role takes precedence over the others.
      </Callout>
  </TabsPageItem>

  <TabsPageItem id="ec2-deleteSnapshot-outputs">
  <table>
    <thead>
        <tr>
            <th>Output Field</th>
            <th>Type</th>
            <th>Example</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>**response**</td>
            <td>Object</td>
            <td>
            No Response in case of success : true
            <p>
            Response syntax can be referred [delete_snapshot - Boto3 1.40.55 documentation](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/ec2/client/delete_snapshot.html).
            </p>
            </td>
        </tr>
        <tr>
            <td>**success**</td>
            <td>Boolean</td>
            <td>`success: true | false`</td>
        </tr>
        <tr>
            <td>**errorMessage**</td>
            <td>String</td>
            <td>`errorMessage: "Failed to delete snapshot"`</td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>

  <TabsPageItem id="ec2-deleteSnapshot-example">
  <table>
    <thead>
        <tr>
            <th>Workflow Example</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
  ```yaml
      name: ec2-deleteSnapshot-test
      description: ''
      workflowInputs:
        arnRole:
          type: String
        region:
          type: String
          defaultValue: us-west-2
        snapshotId:
          type: List
          defaultValue: snapshot-id-1
      steps:
        - name: aws_ec2_deleteSnapshot_1
          type: action
          action: aws.ec2.deleteSnapshot
          version: '1'
          inputs:
            awsRoleArn: ${{ .workflowInputs.arnRole }}
            region: ${{ .workflowInputs.region }}
            snapshotId: ${{ .workflowInputs.snapshotId }}
          next: end
    ```
            </td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>

    <Collapser
        id="awsec2rebootinstances"
        title="Reboot instances"
    >

  Requests a reboot of the specified instances. This operation is asynchronous; it only queues a request to reboot the specified instances. The operation succeeds if the instances are valid and belong to you. Requests to reboot terminated instances are ignored.

  If an instance does not cleanly shut down within a few minutes, Amazon EC2 performs a hard reboot.

<Tabs>
  <TabsBar>
    <TabsBarItem id="ec2-rebootInstances-inputs">
      Inputs
    </TabsBarItem>

    <TabsBarItem id="ec2-rebootInstances-outputs">
      Outputs
    </TabsBarItem>

    <TabsBarItem id="ec2-rebootInstances-example">
      Example
    </TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="ec2-rebootInstances-inputs">
    <table>
        <thead>
            <tr>
              <th>Input Field</th>
              <th>Optionality</th>
              <th>Type</th>
              <th>Example</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>**awsRoleArn**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`arn:aws:iam::123456789012:role/my-workflow-role`</td>
            </tr>
            <tr>
                <td>**awsAccessKeyId**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsAccessKeyId> }}`</td>
            </tr>
            <tr>
                <td>**awsSecretAccessKey**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsSecretAccessKey> }}`</td>
            </tr>
            <tr>
                <td>**awsSessionToken**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsSessionToken> }}`</td>
            </tr>
            <tr>
                <td>**region**</td>
                <td>Required</td>
                <td>String</td>
                <td>`region: "us-east-2"`</td>
            </tr>
            <tr>
                <td>**instanceIds**</td>
                <td>Required</td>
                <td>List</td>
                <td>`"[\"i-0123456789abcdef0\", \"i-0fedcba9876543210\"]"`</td>
            </tr>
            <tr>
                <td>**selectors**</td>
                <td>Optional</td>
                <td>List</td>
                <td>`[{\"name\": \"response\", \"expression\": \".response\"}, {\"name\": \"success\", \"expression\": \".success\"}, {\"name\": \"errorMessage\", \"expression\": \".errorMessage\"}]`</td>
            </tr>
        </tbody>
    </table>

      <Callout variant="important">
        In the action input, at least one of the AWS credentials (short, long, role) should be provided, where the role takes precedence over the others.
      </Callout>
  </TabsPageItem>

  <TabsPageItem id="ec2-rebootInstances-outputs">
  <table>
    <thead>
        <tr>
            <th>Output Field</th>
            <th>Type</th>
            <th>Example</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>**response**</td>
            <td>Object</td>
            <td>[reboot_instances - Boto3 1.40.56 documentation](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/ec2/client/reboot_instances.html)</td>
        </tr>
        <tr>
            <td>**success**</td>
            <td>Boolean</td>
            <td>`success: true | false`</td>
        </tr>
        <tr>
            <td>**errorMessage**</td>
            <td>String</td>
            <td>`errorMessage: ""`</td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>

  <TabsPageItem id="ec2-rebootInstances-example">
  <table>
    <thead>
        <tr>
            <th>Workflow example</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
  ```yaml
      name: reboot-ec2-test
      description: ''
      workflowInputs:
        arnRole:
          type: String
        region:
          type: String
          defaultValue: us-west-2
        instanceIds:
          type: List
          defaultValue: ["i-123456789abcdef0"]
      steps:
        - name: aws_ec2_rebootInstances_1
          type: action
          action: aws.ec2.rebootInstances
          version: '1'
          inputs:
            awsRoleArn: ${{ .workflowInputs.arnRole }}
            region: ${{ .workflowInputs.region }}
            instanceIds: ${{ .workflowInputs.instanceIds }}
          next: end
    ```
            </td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>

    <Collapser
        id="awsec2startinstances"
        title="Start instances"
    >

  Starts an Amazon EBS-backed instance that you previously stopped.

<Tabs>
  <TabsBar>
    <TabsBarItem id="ec2-startInstances-inputs">
      Inputs
    </TabsBarItem>

    <TabsBarItem id="ec2-startInstances-outputs">
      Outputs
    </TabsBarItem>

    <TabsBarItem id="ec2-startInstances-example">
      Example
    </TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="ec2-startInstances-inputs">
    <table>
      <thead>
          <tr>
            <th>Input Field</th>
            <th>Optionality</th>
            <th>Type</th>
            <th>Example</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>**awsRoleArn**</td>
              <td>Optional</td>
              <td>String</td>
              <td>`arn:aws:iam::123456789012:role/my-workflow-role`</td>
          </tr>
          <tr>
              <td>**awsAccessKeyId**</td>
              <td>Optional</td>
              <td>String</td>
              <td>`${{ :secrets:<awsAccessKeyId> }}`</td>
          </tr>
          <tr>
              <td>**awsSecretAccessKey**</td>
              <td>Optional</td>
              <td>String</td>
              <td>`${{ :secrets:<awsSecretAccessKey> }}`</td>
          </tr>
          <tr>
              <td>**awsSessionToken**</td>
              <td>Optional</td>
              <td>String</td>
              <td>`${{ :secrets:<awsSessionToken> }}`</td>
          </tr>
          <tr>
              <td>**region**</td>
              <td>Required</td>
              <td>String</td>
              <td>`region: "us-east-2"`</td>
          </tr>
          <tr>
              <td>**instanceIds**</td>
              <td>Required</td>
              <td>List</td>
              <td>`"[\"i-0123456789abcdef0\", \"i-0fedcba9876543210\"]"`</td>
          </tr>
          <tr>
              <td>**selectors**</td>
              <td>Optional</td>
              <td>List</td>
              <td>`[{\"name\": \"response\", \"expression\": \".response\"}, {\"name\": \"success\", \"expression\": \".success\"}, {\"name\": \"errorMessage\", \"expression\": \".errorMessage\"}]`</td>
          </tr>
      </tbody>
    </table>

      <Callout variant="tip">
        In the action input, at least one of the AWS credentials (short, long, role) should be provided, where the role takes precedence over the others.
      </Callout>
  </TabsPageItem>

  <TabsPageItem id="ec2-startInstances-outputs">
  <table>
    <thead>
        <tr>
            <th>Output Field</th>
            <th>Type</th>
            <th>Example</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>**response**</td>
            <td>Object</td>
            <td>
  ```yaml
    {"response":{
        'StartingInstances': [
            {
                'InstanceId': 'String',
                'CurrentState': {
                    'Code': 123,
                    'Name': 'pending'|'running'|'shutting-down'|'terminated'|'stopping'|'stopped'
                },
                'PreviousState': {
                    'Code': 123,
                    'Name': 'pending'|'running'|'shutting-down'|'terminated'|'stopping'|'stopped'
                }
            },
        ]
    }

    }

    }
```
            <p>
            Response syntax can be referred [start_instances - Boto3 1.40.50 documentation](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/ec2/client/start_instances.html)
            </p>
            </td>
        </tr>
        <tr>
            <td>**success**</td>
            <td>Boolean</td>
            <td>`success: true | false`</td>
        </tr>
        <tr>
            <td>**errorMessage**</td>
            <td>String</td>
            <td>`errorMessage: "The parameter instancesSet cannot be used with the parameter maxResults"`</td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>

  <TabsPageItem id="httpgetexample">
  <table>
    <thead>
        <tr>
            <th>Workflow example</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
  ```yaml
      name: ab-ec2-startInstance-test
      description: ''
      workflowInputs:
        arnRole:
          type: String
        region:
          type: String
          defaultValue: us-west-2
        instanceIds:
          type: list
          defaultValue: ["i-123456789abcdef0"]
      steps:
        - name: aws_ec2_startInstances_1
          type: action
          action: aws.ec2.startInstances
          version: '1'
          inputs:
            awsRoleArn: ${{ .workflowInputs.arnRole }}
            region: ${{ .workflowInputs.region }}
            instanceIds: ${{ .workflowInputs.instanceIds }}
          next: end
    ```
            </td>
          </tr>
    </tbody>
  </table>
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>

    <Collapser
        id="awsec2terminateinstances"
        title="Terminate instances"
    >

  Terminates the specified instances. This operation is [idempotent](https://docs.aws.amazon.com/ec2/latest/devguide/ec2-api-idempotency.html); if you terminate an instance more than once, each call succeeds.

  If you specify multiple instances and the request fails (for example, because of a single incorrect instance ID), none of the instances are terminated.

<Tabs>
  <TabsBar>
    <TabsBarItem id="ec2-terminateInstances-inputs">
      Inputs
    </TabsBarItem>

    <TabsBarItem id="ec2-terminateInstances-outputs">
      Outputs
    </TabsBarItem>

    <TabsBarItem id="ec2-terminateInstances.example">
      Example
    </TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="ec2-terminateInstances.inputs">
    <table>
      <thead>
          <tr>
            <th>Input Field</th>
            <th>Optionality</th>
            <th>Type</th>
            <th>Example</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>**awsRoleArn**</td>
              <td>Optional</td>
              <td>String</td>
              <td>`arn:aws:iam::123456789012:role/my-workflow-role`</td>
          </tr>
          <tr>
              <td>**awsAccessKeyId**</td>
              <td>Optional</td>
              <td>String</td>
              <td>`${{ :secrets:<awsAccessKeyId> }}`</td>
          </tr>
          <tr>
              <td>**awsSecretAccessKey**</td>
              <td>Optional</td>
              <td>String</td>
              <td>`${{ :secrets:<awsSecretAccessKey> }}`</td>
          </tr>
          <tr>
              <td>**awsSessionToken**</td>
              <td>Optional</td>
              <td>String</td>
              <td>`${{ :secrets:<awsSessionToken> }}`</td>
          </tr>
          <tr>
              <td>**region**</td>
              <td>Required</td>
              <td>String</td>
              <td>`region: "us-east-2"`</td>
          </tr>
          <tr>
              <td>**instanceIds**</td>
              <td>Required</td>
              <td>List</td>
              <td>`"[\"i-0123456789abcdef0\", \"i-0fedcba9876543210\"]"`</td>
          </tr>
          <tr>
              <td>**selectors**</td>
              <td>Optional</td>
              <td>List</td>
              <td>`[{\"name\": \"response\", \"expression\": \".response\"}, {\"name\": \"success\", \"expression\": \".success\"}, {\"name\": \"errorMessage\", \"expression\": \".errorMessage\"}]`</td>
          </tr>
      </tbody>
    </table>

    <Callout variant="important">
      In the action input, at least one of the AWS credentials (short, long, role) should be provided, where the role takes precedence over the others.
    </Callout>
  </TabsPageItem>

  <TabsPageItem id="ec2-terminateInstances-outputs">
  <table>
    <thead>
        <tr>
            <th>Output Field</th>
            <th>Type</th>
            <th>Example</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>**response**</td>
            <td>object</td>
            <td>
  ```yaml
  {
      'TerminatingInstances': [
          {
              'InstanceId': 'String',
              'CurrentState': {
                  'Code': 123,
                  'Name': 'pending'|'running'|'shutting-down'|'terminated'|'stopping'|'stopped'
              },
              'PreviousState': {
                  'Code': 123,
                  'Name': 'pending'|'running'|'shutting-down'|'terminated'|'stopping'|'stopped'
              }
          },
      ]
  }
  ```
              <p>
              Response syntax can be referred [terminate_instances - Boto3 1.40.50 documentation](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/ec2/client/terminate_instances.html)
              </p>
            </td>
        </tr>
        <tr>
            <td>**success**</td>
            <td>Boolean</td>
            <td>`success: true | false`</td>
        </tr>
        <tr>
            <td>**errorMessage**</td>
            <td>String</td>
            <td>`errorMessage: "An error occurred (`InvalidInstanceID.Malformed`) when calling the TerminateInstances operation: The instance ID 'i-012345678' is malformed"`</td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>

  <TabsPageItem id="ec2-terminateInstances.example">
  <table>
    <thead>
        <tr>
            <th>Workflow example</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
  ```yaml
      name: ec2-terminate-test
      description: ''
      workflowInputs:
        arnRole:
          type: String
        region:
          type: String
          defaultValue: us-west-2
        instanceIds:
          type: list
          defaultValue: ["i-123456789abcdef0"]
      steps:
        - name: aws_ec2_terminateInstances_1
          type: action
          action: aws.ec2.terminateInstances
          version: '1'
          inputs:
            awsRoleArn: ${{ .workflowInputs.arnRole }}
            region: ${{ .workflowInputs.region }}
            instanceIds: ${{ .workflowInputs.instanceIds }}
          next: end
    ```
            </td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>

    <Collapser
        id="awsec2runinstances"
        title="Run instances"
    >
  
  Launches the specified number of instances using an AMI for which you have permissions.

  You can specify a number of options, or leave the default options. The following rules apply:
    - If you don’t specify a subnet ID, we choose a default subnet from your default VPC for you. If you don’t have a default VPC, you must specify a subnet ID in the request.
    - If any of the AMIs have a product code attached for which the user has not subscribed, the request fails.
    
<Tabs>
  <TabsBar>
    <TabsBarItem id="ec2.runInstances-inputs">
      Inputs
    </TabsBarItem>
    <TabsBarItem id="ec2.runInstances-outputs">
      Outputs
    </TabsBarItem>
    <TabsBarItem id="ec2.runInstances.example">
      Example
    </TabsBarItem>
  </TabsBar>
  <TabsPages>
    <TabsPageItem id="ec2.runInstances-inputs">
    <table>
        <thead>
            <tr>
              <th>Input Field</th>
              <th>Optionality</th>
              <th>Type</th>
              <th>Example</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>**awsRoleArn**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`arn:aws:iam::123456789012:role/my-workflow-role`</td>
            </tr>
            <tr>
                <td>**awsAccessKeyId**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsAccessKeyId> }}`</td>
            </tr>
            <tr>
                <td>**awsSecretAccessKey**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsSecretAccessKey> }}`</td>
            </tr>
            <tr>
                <td>**awsSessionToken**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsSessionToken> }}`</td>
            </tr>
            <tr>
                <td>**region**</td>
                <td>Required</td>
                <td>String</td>
                <td>`region: "us-east-2"`</td>
            </tr>
            <tr>
                <td>**imageId**</td>
                <td>Required</td>
                <td>String</td>
                <td>`“ami-0ca4d5db4872d0c28”`</td>
            </tr>
            <tr>
                <td>**instanceType**</td>
                <td>Required</td>
                <td>String</td>
                <td>`“t2.micro”`</td>
            </tr>
            <tr>
                <td>**minCount**</td>
                <td>Required</td>
                <td>Int</td>
                <td>`1`</td>
            </tr>
            <tr>
                <td>**maxCount**</td>
                <td>Required</td>
                <td>Int</td>
                <td>`10`</td>
            </tr>
            <tr>
                <td>**parameters**</td>
                <td>Optional</td>
                <td>Map</td>
                <td>
  ```yaml
  {
  "EbsOptimized": false,
  "TagSpecifications": [
    {
      "ResourceType": "instance",
      "Tags": [
        {
          "Key": "Name",
          "Value": "My-Web-Server"
        }
      ]
    }
    }
  ```
                </td>
            </tr>
            <tr>
                <td>**selectors**</td>
                <td>Optional</td>
                <td>List</td>
                <td>`[{\"name\": \"response\", \"expression\": \".response\"}, {\"name\": \"success\", \"expression\": \".success\"}, {\"name\": \"errorMessage\", \"expression\": \".errorMessage\"}]`</td>
            </tr>
        </tbody>
    </table>
  
    <Callout variant="important">
      To support a wide range of inputs, the `parameters` map accepts any optional argument available. This allows you to dynamically construct requests by adding multiple fields.
    </Callout>
  </TabsPageItem>

  <TabsPageItem id="ec2.runInstances-outputs">
  <table>
    <thead>
        <tr>
            <th>Output Field</th>
            <th>Type</th>
            <th>Example</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>**response**</td>
            <td>object</td>
            <td>
              <p>
                Response syntax can be referred: [run_instances - Boto3 1.40.50 documentation](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/ec2/client/run_instances.html)
              </p>
            </td>
        </tr>
        <tr>
            <td>**success**</td>
            <td>Boolean</td>
            <td>`success: true | false`</td>
        </tr>
        <tr>
            <td>**errorMessage**</td>
            <td>String</td>
            <td>`errorMessage: ""`</td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>

  <TabsPageItem id="ec2.runInstances.example">
  <table>
    <thead>
        <tr>
            <th>Workflow example</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
  ```yaml
    name: ec2_run_instance
    workflowInputs:
      arnRole:
        type: String
        required: true
    steps:
      - name: RunInstance
        type: action
        action: aws.ec2.runInstances
        version: '1'
        inputs:
          awsRoleArn: ${{.workflowInputs.arnRole}}
          region: us-east-2
          imageId: ami-0ca4d5db4872d0c28
          instanceType: t2.micro
          minCount: 1
          maxCount: 1
          parameters:
            EbsOptimized: false
            TagSpecifications:
              - ResourceType: instance
                Tags:
                  - Key: Name
                    Value: My-Test-Instance
          selectors:
            - name: instanceId
              expression: .response.Instances[0].InstanceId
  ```
            </td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>

</CollapserGroup>

## Systems Manager actions

<CollapserGroup>
    <Collapser
        id="awssystemsmanagerwritedocument"
        title="Create document"
    >
  Writes a document to the AWS account based on the AWS credentials passed in the action input. See [AWS Systems Manager Documentation](https://docs.aws.amazon.com/systems-manager/?id=docs_gateway)

<Tabs>
  <TabsBar>
    <TabsBarItem id="writedocumentinputs">
      Inputs
    </TabsBarItem>

    <TabsBarItem id="writedocumentoutputs">
      Outputs
    </TabsBarItem>

    <TabsBarItem id="writedocumentexample">
      Example
    </TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="writedocumentinputs">
    <table>
      <thead>
          <tr>
              <th>Input Field</th>
              <th>Optionality</th>
              <th>Type</th>
              <th>Example</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>**awsAccessKeyId**</td>
              <td>Required</td>
              <td>String</td>
              <td>`${{ :secrets:<awsAccessKeyId> }}`</td>
          </tr>
          <tr>
              <td>**awsSecretAccessKey**</td>
              <td>Required</td>
              <td>String</td>
              <td>`${{ :secrets:<awsSecretAccessKey> }}`</td>
          </tr>
          <tr>
              <td>**awsSessionToken**</td>
              <td>Optional</td>
              <td>String</td>
              <td>`${{ :secrets:<awsSessionToken> }}`</td>
          </tr>
          <tr>
              <td>**region**</td>
              <td>Required</td>
              <td>String</td>
              <td>`region: "us-east-2"`</td>
          </tr>
          <tr>
              <td>**documentName**</td>
              <td>Required</td>
              <td>String</td>
              <td>`documentName: "my-ssm-document"`</td>
          </tr>
          <tr>
              <td>**documentType**</td>
              <td>Optional</td>
              <td>String</td>
              <td>`documentType: "Command"`</td>
          </tr>
          <tr>
              <td>**documentFormat**</td>
              <td>Optional</td>
              <td>String</td>
              <td>`documentFormat: "YAML"`</td>
          </tr>
          <tr>
              <td>**documentContent**</td>
              <td>Required</td>
              <td>String</td>
              <td></td>
          </tr>
          <tr>
              <td>**override**</td>
              <td>Optional</td>
              <td>Boolean</td>
              <td>
              `override: true (default)`. When `true`, always write the document with the provided name even if one already exist. When `false`, if a document with the provided `documentName` already exist, the action returns `success: false` and `errorMessage:Document already exists`. Please enable override if you want to update the existing document.
              </td>
          </tr>
      </tbody>
  </table>
  </TabsPageItem>

  <TabsPageItem id="writedocumentoutputs">
  <table>
    <thead>
        <tr>
            <th>Output Field</th>
            <th>Type</th>
            <th>Example</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>**documentName**</td>
            <td>String</td>
            <td>`documentName: "my-ssm-document"`</td>
    </tr>
        <tr>
            <td>**documentVersion**</td>
            <td>String</td>
            <td>`documentVersion: 1`</td>
        </tr>
        <tr>
            <td>**documentType**</td>
            <td>String</td>
            <td>`documentType: "Command"`</td>
        </tr>
        <tr>
            <td>**documentStatus**</td>
            <td>String</td>
            <td>`documentStatus: "Active"`.</td>
        </tr>
        <tr>
            <td>**success**</td>
            <td>Boolean</td>
            <td>`success: true`</td>
        </tr>
        <tr>
            <td>**errorMessage**</td>
            <td>String</td>
            <td>`errorMessage: "Some error message from ssm"`</td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>

  <TabsPageItem id="writedocumentexample">
  <table>
    <thead>
        <tr>
            <th>Workflow definition</th>
            <th>Inputs</th>
            <th>Outputs</th>
        </tr>
    </thead>
    <tbody>
        <tr>
          <td>
  ```yaml
    schemaVersion: '0.3'
    description: List all Lambda function names.
    mainSteps:
      - name: ExecuteAwsApi
        action: aws:executeAwsApi
        isEnd: true
  ```
          </td>
          <td>
  ```yaml
    inputs:
            Service: lambda
            Api: ListFunctions
  ```
          </td>
          <td>
  ```yaml
    outputs:
          - Name: resultFunctionName
            Selector: $..FunctionName
            Type: StringList
    outputs:
      - ExecuteAwsApi.resultFunctionName
  ```
          </td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>

    <Collapser
        id="awssystemsmanagerdeletedocument"
        title="Delete document"
    >
  Deletes an AWS document in the AWS account based on the credentials passed in the action input. See [AWS Systems Manager Documentation](https://docs.aws.amazon.com/systems-manager/latest/userguide/documents.html)

<Tabs>
  <TabsBar>
    <TabsBarItem id="systemsmanagerinputs">
      Inputs
    </TabsBarItem>

    <TabsBarItem id="systemsmanageroutputs">
      Outputs
    </TabsBarItem>

    <TabsBarItem id="systemsmanagerexample">
      Example
    </TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="systemsmanagerinputs">
      <table>
        <thead>
            <tr>
              <th>Input Field</th>
              <th>Optionality</th>
              <th>Type</th>
              <th>Example</th>
              </tr>
        </thead>
        <tbody>
            <tr>
                <td>**awsAccessKeyId**</td>
                <td>Required</td>
                <td>String</td>
                <td>`${{ :secrets:<awsAccessKeyId> }}`</td>
            </tr>
            <tr>
                <td>**awsSecretAccessKey**</td>
                <td>Required</td>
                <td>String</td>
                <td>`${{ :secrets:<awsSecretAccessKey> }}`</td>
            </tr>
            <tr>
                <td>**awsSessionToken**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsSessionToken> }}`</td>
            </tr>
            <tr>
                <td>**region**</td>
                <td>Required</td>
                <td>String</td>
                <td>`region: "us-east-2"`</td>
            </tr>
            <tr>
                <td>**documentName**</td>
                <td>Required</td>
                <td>String</td>
                <td>`documentName: "my-ssm-document"`</td>
            </tr>
        </tbody>
    </table>
  </TabsPageItem>

  <TabsPageItem id="systemsmanageroutputs">
  <table>
    <thead>
        <tr>
            <th>Output Field</th>
            <th>Type</th>
            <th>Example</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>**documentName**</td>
            <td>String</td>
            <td>documentName: "my-ssm-document"</td>
    </tr>
        <tr>
            <td>**success**</td>
            <td>Boolean</td>
            <td>`success: true`</td>
        </tr>
        <tr>
            <td>**errorMessage**</td>
            <td>String</td>
            <td>`errorMessage: "Some error message from ssm"`</td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>

  <TabsPageItem id="systemsmanagerexample">
  <table>
    <thead>
        <tr>
            <th>Workflow definition</th>
            <th>Inputs</th>
            <th>Outputs</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
  ```yaml
    schemaVersion: '0.3'
    description: List all Lambda function names.
    mainSteps:
      - name: ExecuteAwsApi
        action: aws:executeAwsApi
        isEnd: true
  ```
            </td>
            <td>
  ```yaml
    inputs:
            Service: lambda
            Api: ListFunctions
  ```
            </td>
            <td>
  ```yaml
    outputs:
          - Name: resultFunctionName
            Selector: $..FunctionName
            Type: StringList
    outputs:
      - ExecuteAwsApi.resultFunctionName
  ```
            </td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>

    <Collapser
        id="awssystemsmanagerstartautomation"
        title="Start automation"
    >
  Starts an automation using an AWS document. See [AWS Systems Manager Documentation](https://docs.aws.amazon.com/systems-manager/latest/APIReference/API_StartAutomationExecution.html)

<Tabs>
  <TabsBar>
    <TabsBarItem id="startautomationinputs">
      Inputs
    </TabsBarItem>

    <TabsBarItem id="startautomationoutputs">
      Outputs
    </TabsBarItem>

    <TabsBarItem id="startautomationexample">
      Example
    </TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="startautomationinputs">
            <table>
            <thead>
                <tr>
                  <th>Input Field</th>
                  <th>Optionality</th>
                  <th>Type</th>
                  <th>Example</th>
              </tr>
            </thead>
            <tbody>
                <tr>
                    <td>**awsAccessKeyId**</td>
                    <td>Required</td>
                    <td>String</td>
                    <td>`${{ :secrets:<awsAccessKeyId> }}`</td>
                </tr>
                <tr>
                    <td>**awsSecretAccessKey**</td>
                    <td>Required</td>
                    <td>String</td>
                    <td>`${{ :secrets:<awsSecretAccessKey> }}`</td>
                </tr>
                <tr>
                    <td>**awsSessionToken**</td>
                    <td>Optional</td>
                    <td>String</td>
                    <td>`${{ :secrets:<awsSessionToken> }}`</td>
                </tr>
                <tr>
                    <td>**region**</td>
                    <td>Required</td>
                    <td>String</td>
                    <td>`region: "us-east-2"`</td>
                </tr>
                <tr>
                    <td>**documentName**</td>
                    <td>Required</td>
                    <td>String</td>
                    <td>`documentName: "my-ssm-document"`</td>
                </tr>
                <tr>
                    <td>**parameters**</td>
                    <td>Optional</td>
                    <td>Map</td>
                    <td>`parameters: myKey: myValue`</td>
                </tr>
                <tr>
                    <td>**idempotencyToken**</td>
                    <td>Optional</td>
                    <td>UUID</td>
                    <td>`idempotencyToken: "any token"`</td>
                </tr>
            </tbody>
        </table>
  </TabsPageItem>

  <TabsPageItem id="startautomationoutputs">
  <table>
    <thead>
        <tr>
            <th>Output Field</th>
            <th>Type</th>
            <th>Example</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>**automationExecutionId**</td>
            <td>String</td>
            <td>`automationExecutionId: "3143a28d-241c-4abd-a3ca-9c0ff3890241"`</td>
    </tr>
        <tr>
            <td>**success**</td>
            <td>Boolean</td>
            <td>`success: true`</td>
        </tr>
        <tr>
            <td>**errorMessage**</td>
            <td>String</td>
            <td>`errorMessage: "Some error message from ssm"`</td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>

  <TabsPageItem id="startautomationexample">
  <table>
    <thead>
        <tr>
            <th>Workflow definition</th>
            <th>Inputs</th>
            <th>Outputs</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
  ```yaml
      schemaVersion: '0.3'
      description: List all Lambda function names.
      mainSteps:
        - name: ExecuteAwsApi
          action: aws:executeAwsApi
          isEnd: true
  ```
            </td>
            <td>
  ```yaml
      Service: lambda
            Api: ListFunctions
  ```
            </td>
            <td>
  ```yaml
    - Name: resultFunctionName
              Selector: $..FunctionName
              Type: StringList
      outputs:
        - ExecuteAwsApi.resultFunctionName
  ```
            </td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>

    <Collapser
        id="awssystemsmanagerwaitforautomationstatus"
        title="Wait for automation status"
    >
  Waits for an automation using an AWS document. See [AWS Systems Manager Documentation](https://docs.aws.amazon.com/systems-manager/?id=docs_gateway) for more information.

<Tabs>
  <TabsBar>
    <TabsBarItem id="automationstatusinputs">
      Inputs
    </TabsBarItem>

    <TabsBarItem id="automationstatusoutputs">
      Outputs
    </TabsBarItem>

    <TabsBarItem id="automationstatusexample">
      Example
    </TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="automationstatusinputs">
    <table>
        <thead>
            <tr>
                <th>Input Field</th>
                <th>Optionality</th>
                <th>Type</th>
                <th>Example</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>**awsRoleArn**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`arn:aws:iam::123456789012:role/my-workflow-role`</td>
            </tr>
            <tr>
                <td>**awsAccessKeyId**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsAccessKeyId> }}`</td>
            </tr>
            <tr>
                <td>**awsSecretAccessKey**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsSecretAccessKey> }}`</td>
            </tr>
            <tr>
                <td>**awsSessionToken**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsSessionToken> }}`</td>
            </tr>
            <tr>
                <td>**region**</td>
                <td>Required</td>
                <td>String</td>
                <td>`region: "us-east-2"`</td>
            </tr>
            <tr>
                <td>**automationExecutionId**</td>
                <td>Required</td>
                <td>String</td>
                <td>`automationExecutionId: "3143a28d-241c-4abd-a3ca-9c0ff3890241"`. The automation executionID for which we need to wait for its completion.</td>
            </tr>
            <tr>
                <td>**automationExecutionStatuses**</td>
                <td>Optional</td>
                <td>List</td>
                <td>List of automation execution statuses from [AutomationExecution](https://docs.aws.amazon.com/systems-manager/latest/APIReference/API_AutomationExecution.html#AutomationExecutionStatus) that can stop the waiting, `Default: ["Success", "Failed"]`</td>
            </tr>
            <tr>
                <td>**timeout**</td>
                <td>Optional</td>
                <td>int</td>
                <td>`timeout: 600`. The duration in seconds can wait for automation status to be one of the expected `automationExecutionStatuses`. Post this timeout duration, the action return value with timeout error.</td>
            </tr>
            <tr>
                <td>**selectors**</td>
                <td>Optional</td>
                <td>List</td>
                <td>`[{\"name\": \"automationExecutionStatus\", \"expression\": \".automationExecutionStatus\"}, {\"name\": \"scriptOutput\", \"expression\": \".automationExecutionOutputs.pythonStep.scriptOutput | tojson\"}]`.</td>
            </tr>
        </tbody>
    </table>
    
      <Callout variant="important">
        1. In the action input, only `awsAccessKeyId` and `awsSecretAccessKey` can be provided, but they should be static credentials of an IAM user.
        2. If session credentials are to be used, `awsAccessKeyId`, `awsSecretAccessKey` and `awsSessionToken` must be passed to the action input.
        3. Refer to the instructions to set up [AWS credentials](/docs/workflow-automation/setup-and-configuration/set-up-aws-credentials).
        4. Use selectors to get only the specified parameters as output.
    </Callout>
  </TabsPageItem>

  <TabsPageItem id="automationstatusoutputs">
  <table>
    <thead>
        <tr>
            <th>Output Field</th>
            <th>Type</th>
            <th>Example</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>**automationExecutionId**</td>
            <td>String</td>
            <td>`automationExecutionId: "3143a28d-241c-4abd-a3ca-9c0ff3890241"`</td>
        </tr>
        <tr>
            <td>**automationExecutionStatus**</td>
            <td>String</td>
            <td>`automationExecutionStatus: "Success"`. If action is successful, It will either of the values passed in `automationExecutionStatuses` input field. Else, this will be null.</td>
        </tr>
        <tr>
            <td>**automationExecutionOutputs**</td>
            <td>Map</td>
            <td>
  ```yaml
    "automationExecutionOutputs": {
          "ExecuteGetApiResources": {
            "resultResourceId": [
              "pky3cb"
            ]
          },
          "ExecuteListVersionsByFunction": {
            "resultLambdaVersionArn": [
              "arn:aws:lambda:us-east-2:123456789012:function:ApiGwTestFn:1"
            ]
          }
    }
  ```
          <p>
          The output will be a map of output values from the document. Any output in the document can be collected using this output field and can be used in subsequent steps of the workflow automation definition.
          </p>
            </td>
        </tr>
        <tr>
            <td>**success**</td>
            <td>Boolean</td>
            <td>`success: true`</td>
        </tr>
        <tr>
            <td>**errorMessage**</td>
            <td>String</td>
            <td>`errorMessage: "Some error message from ssm"`</td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>

  <TabsPageItem id="automationstatusexample">
  <table>
    <thead>
        <tr>
            <th>Workflow definition</th>
            <th>Inputs</th>
            <th>Outputs</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
  ```yaml
      schemaVersion: '0.3'
      description: List all Lambda function names.
      mainSteps:
        - name: ExecuteAwsApi
          action: aws:executeAwsApi
          isEnd: true
  ```
            </td>
            <td>
  ```yaml
      Service: lambda
            Api: ListFunctions
  ```
            </td>
            <td>
  ```yaml
    - Name: resultFunctionName
              Selector: $..FunctionName
              Type: StringList
      outputs:
        - ExecuteAwsApi.resultFunctionName
  ```
            </td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>

</CollapserGroup>

## General AWS actions

<CollapserGroup>
    <Collapser
        id="awsexecuteapi"
        title="Execute an AWS API"
    >

  This action allows you to execute any AWS API operation for a specified service. It supports providing AWS credentials, region, service name, API name, and optional parameters. The action can return outputs such as success status, response data, and error messages, making it versatile for interacting with AWS services programmatically.

  ### Security and IAM configuration

  To use this action, you must configure AWS credentials. See [Set up AWS credentials](/docs/workflow-automation/setup-and-configuration/set-up-aws-credentials/) for detailed instructions on creating an IAM role or IAM user.

  <Callout variant="important">
    **Security best practice:** When defining IAM policies for this action, always use least-privilege access. Grant only the specific AWS API actions your workflow requires, and restrict permissions to specific resources rather than using wildcards.
  </Callout>

  ### Required IAM permissions

  The permissions you need depend on which AWS services and APIs your workflow calls. Use the examples below as templates for creating least-privilege policies.

  **Example: Allow sending messages to a specific SQS queue**

  ```json
  {
    "Version": "2012-10-17",
    "Statement": [
      {
        "Effect": "Allow",
        "Action": "sqs:SendMessage",
        "Resource": "arn:aws:sqs:us-west-2:<your-aws-account-id>:<your-queue-name>"
      }
    ]
  }
  ```

  **Example: Allow querying a specific DynamoDB table**

  ```json
  {
    "Version": "2012-10-17",
    "Statement": [
      {
        "Effect": "Allow",
        "Action": "dynamodb:Query",
        "Resource": "arn:aws:dynamodb:us-west-2:<your-aws-account-id>:table/<your-table-name>"
      }
    ]
  }
  ```

  **Example: Multiple services with specific permissions**

  ```json
  {
    "Version": "2012-10-17",
    "Statement": [
      {
        "Effect": "Allow",
        "Action": "sqs:SendMessage",
        "Resource": "arn:aws:sqs:us-west-2:<your-aws-account-id>:<your-queue-name>"
      },
      {
        "Effect": "Allow",
        "Action": "dynamodb:Query",
        "Resource": "arn:aws:dynamodb:us-west-2:<your-aws-account-id>:table/<your-table-name>"
      }
    ]
  }
  ```

  <Callout variant="tip">
    - Replace `<your-aws-account-id>`, `<your-queue-name>`, and `<your-table-name>` with your actual values
    - Find available AWS service APIs in the [Boto3 documentation](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/index.html)
    - For more complex IAM policy patterns, see the [AWS IAM documentation](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html)
  </Callout>

  For more information on how this action works, see the [AWS Systems Manager executeAwsApi documentation](https://docs.aws.amazon.com/systems-manager/latest/userguide/automation-action-executeAwsApi.html).

<Tabs>
  <TabsBar>
    <TabsBarItem id="awsexecuteinputs">
      Inputs
    </TabsBarItem>

    <TabsBarItem id="awsexecuteoutputs">
      Outputs
    </TabsBarItem>

    <TabsBarItem id="awsexecuteexamples">
      Example
    </TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="awsexecuteinputs">
    <table>
        <thead>
            <tr>
              <th>Input Field</th>
              <th>Optionality</th>
              <th>Type</th>
              <th>Example</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>**awsRoleArn**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`arn:aws:iam::123456789012:role/my-workflow-role`</td>
            </tr>
            <tr>
                <td>**awsAccessKeyId**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsAccessKeyId> }}`</td>
            </tr>
            <tr>
                <td>**awsSecretAccessKey**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsSecretAccessKey> }}`</td>
            </tr>
            <tr>
                <td>**awsSessionToken**</td>
                <td>Optional</td>
                <td>String</td>
                <td>`${{ :secrets:<awsSessionToken> }}`</td>
            </tr>
            <tr>
                <td>**region**</td>
                <td>Required</td>
                <td>String</td>
                <td>`region: "us-east-2"`</td>
            </tr>
            <tr>
                <td>**service**</td>
                <td>Required</td>
                <td>String</td>
                <td>`service: "sqs"`.[AWS available services](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/index.html)</td>
            </tr>
            <tr>
                <td>**api**</td>
                <td>Required</td>
                <td>String</td>
                <td>api: "create_queue"</td>
            </tr>
            <tr>
                <td>**parameters**</td>
                <td>Required</td>
                <td>Map</td>
                <td>
  ```yaml
    parameters: {
        "QueueName": "dks-testing-queue",
        "Attributes": {
            "DelaySeconds": "0",
            "MessageRetentionPeriod": "86400"
        }
    }
  ```
                </td>
            </tr>
            <tr>
                <td>**selectors**</td>
                <td>Optional</td>
                <td>List</td>
                <td>`[{\"name\": \"response\", \"expression\": \".response\"}, {\"name\": \"success\", \"expression\": \".success\"}, {\"name\": \"errorMessage\", \"expression\": \".errorMessage\"}]`</td>
            </tr>
        </tbody>
    </table>

      <Callout variant="tip">
        - In the action input, at least one of the AWS credentials (short, long, role) should be provided, where the role takes precedence over the others.
        - In the action input, if `awsAccessKeyId` and `awsSecretAccessKey` are to be provided, make sure they are static credentials of an IAM user.
        - If session credentials are to be used, `awsAccessKeyId`, `awsSecretAccessKey` and `awsSessionToken` must be passed to the action input.
        - Refer to [AWS credentials](/docs/workflow-automation/set-up-aws-credentials/) for instructions.
        - Use selectors to get only the specified parameters as output.
      </Callout>
  </TabsPageItem>

  <TabsPageItem id="awsexecuteoutputs">
  <table>
    <thead>
        <tr>
            <th>Output Field</th>
            <th>Type</th>
            <th>Example</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>**response**</td>
            <td>object</td>
            <td>`{"response":<aws api reponse>`
  }} each service and api have different response for example https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/dynamodb/client/query.html.</td>
        </tr>
        <tr>
            <td>**success**</td>
            <td>Boolean</td>
            <td>`success: true | false`</td>
        </tr>
        <tr>
            <td>**errorMessage**</td>
            <td>String</td>
            <td>`errorMessage: "User does not have permission to query DynamoDB"`</td>
        </tr>
    </tbody>
  </table>
  </TabsPageItem>

  <TabsPageItem id="awsexecuteexamples">

  ### Example 1: Send a message to an SQS queue

    This example demonstrates how to send a message to an Amazon SQS queue using the `aws.execute.api` action with IAM role authentication.

    ```yaml
    name: sqs_send_message_example

    workflowInputs:
      awsRoleArn:
        type: String
        description: "ARN of the IAM role to assume (e.g., arn:aws:iam::123456789012:role/workflow-sqs-role)"
      awsRegion:
        type: String
        defaultValue: us-east-2
      awsQueueUrl:
        type: String
        defaultValue: "https://sqs.us-east-2.amazonaws.com/<your-account-id>/<your-queue-name>"

    steps:
      - name: sendSqsMessage
        type: action
        action: aws.execute.api
        version: 1
        inputs:
          awsRoleArn: ${{ .workflowInputs.awsRoleArn }}
          region: ${{ .workflowInputs.awsRegion }}
          service: sqs
          api: send_message
          parameters:
            QueueUrl: ${{ .workflowInputs.awsQueueUrl }}
            MessageBody: |
              {
                "message": "deployment is bad",
                "status": "not good"
              }
          selectors:
            - name: success
              expression: '.success'
            - name: messageId
              expression: '.response.MessageId'
            - name: errorMessage
              expression: '.errorMessage'

      - name: logResult
        type: action
        action: newrelic.ingest.sendLogs
        version: 1
        inputs:
          message: 'SQS message sent. Success: ${{ .steps.sendSqsMessage.outputs.success }}, MessageId: ${{ .steps.sendSqsMessage.outputs.messageId }}'
          licenseKey: '${{ :secrets:NEW_RELIC_LICENSE_KEY }}'
    ```

    **Required IAM policy for this example:**

    ```json
    {
      "Version": "2012-10-17",
      "Statement": [
        {
          "Effect": "Allow",
          "Action": "sqs:SendMessage",
          "Resource": "arn:aws:sqs:us-east-2:<your-aws-account-id>:<your-queue-name>"
        }
      ]
    }
    ```

    **Expected outputs:**
      - `success`: Boolean indicating whether the message was sent successfully
      - `messageId`: The unique ID assigned by SQS to the sent message
      - `errorMessage`: Error message if the operation failed

  ### Example 2: Query a DynamoDB table

    This example demonstrates how to query a DynamoDB table using the `aws.execute.api` action with session credentials.

    ```yaml
    name: dynamodb_query_example

    workflowInputs:
      awsAccessKeyId:
        type: String
        defaultValue: "${{ :secrets:AWS_ACCESS_KEY_ID }}"
      awsSecretAccessKey:
        type: String
        defaultValue: "${{ :secrets:AWS_SECRET_ACCESS_KEY }}"
      awsSessionToken:
        type: String
        defaultValue: "${{ :secrets:AWS_SESSION_TOKEN }}"
      awsRegion:
        type: String
        defaultValue: us-east-2
      tableName:
        type: String
        defaultValue: workflow-definitions-prod
      scopedName:
        type: String
        description: "The scoped name to query"
      version:
        type: String
        defaultValue: "1"

    steps:
      - name: queryDynamoDB
        type: action
        action: aws.execute.api
        version: 1
        inputs:
          awsAccessKeyId: ${{ .workflowInputs.awsAccessKeyId }}
          awsSecretAccessKey: ${{ .workflowInputs.awsSecretAccessKey }}
          awsSessionToken: ${{ .workflowInputs.awsSessionToken }}
          region: ${{ .workflowInputs.awsRegion }}
          service: dynamodb
          api: query
          parameters:
            TableName: ${{ .workflowInputs.tableName }}
            KeyConditionExpression: "ScopedName = :scopedNameValue AND Version = :versionValue"
            ExpressionAttributeValues:
              ":scopedNameValue":
                S: ${{ .workflowInputs.scopedName }}
              ":versionValue":
                N: ${{ .workflowInputs.version }}
          selectors:
            - name: success
              expression: '.success'
            - name: response
              expression: '.response'
            - name: errorMessage
              expression: '.errorMessage'

      - name: logResult
        type: action
        action: newrelic.ingest.sendLogs
        version: 1
        inputs:
          message: 'DynamoDB query result: ${{ .steps.queryDynamoDB.outputs.response.Items }}'
          licenseKey: '${{ :secrets:NEW_RELIC_LICENSE_KEY }}'
    ```

    **Required IAM policy for this example:**

    ```json
    {
      "Version": "2012-10-17",
      "Statement": [
        {
          "Effect": "Allow",
          "Action": "dynamodb:Query",
          "Resource": "arn:aws:dynamodb:us-east-2:<your-aws-account-id>:table/workflow-definitions-prod"
        }
      ]
    }
    ```

    **Expected outputs:**
      - `success`: Boolean indicating whether the query was successful
      - `response`: The DynamoDB query response containing the matching items
      - `errorMessage`: Error message if the operation failed
  </TabsPageItem>
  </TabsPages>
</Tabs>
    </Collapser>
</CollapserGroup>
