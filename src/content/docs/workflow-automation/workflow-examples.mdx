---
title: Workflow examples
tags:
  - workflow automation
  - workflow
  - automation
  - examples
metaDescription: "Common workflow automation scenarios and examples for incident response, infrastructure management, and integrations."
freshnessValidatedDate: never
---

This page shows common automation scenarios you can build with Workflow Automation. Use these examples as starting points for your own workflows, or explore the [template library](/docs/workflow-automation/create-a-workflow-automation/use-a-template) for ready-to-deploy solutions.

## Incident response and remediation

### Automatically roll back failed deployments

When synthetic monitors detect API failures after a deployment, workflows can:
- Identify the deployment from New Relic change tracking
- Request team approval via Slack
- Roll back to the previous version using AWS Lambda or API Gateway
- Notify teams with success or failure status

**Key actions**: `newrelic.nerdgraph.execute`, `slack.chat.postMessage`, `aws.lambda.updateFunctionCode`, `aws.apigateway.updateStage`

### Resize EC2 instances on high CPU

When CPU usage exceeds thresholds, workflows can:
- Gather alert details and instance metadata
- Send Slack notifications with approval buttons
- Use AWS Systems Manager to modify instance types
- Poll for completion and send status updates

**Key actions**: `aws.ec2.describeInstances`, `slack.chat.postMessage`, `aws.ssm.sendCommand`, `workflow.wait`

### Auto-restart failed services

Detect service failures and automatically:
- Query recent error rates and affected endpoints
- Identify the failing container or instance
- Execute restart commands via AWS ECS or Systems Manager
- Monitor recovery and escalate if restart fails

**Key actions**: `newrelic.nerdgraph.execute`, `aws.ecs.updateService`, `aws.ssm.sendCommand`, `workflow.switch`

## Infrastructure automation

### Scale services based on load

Monitor transaction volumes, error rates, or latency metrics. Trigger workflows that:
- Query NRQL for recent performance trends
- Calculate required capacity adjustments
- Execute scaling operations via cloud provider APIs
- Log changes to New Relic for audit trails

**Key actions**: `newrelic.nerdgraph.execute`, `aws.autoscaling.setDesiredCapacity`, `slack.chat.postMessage`

### Manage AWS resources

Workflows integrate with AWS services to:
- Start and stop EC2 instances on schedules
- Modify Auto Scaling group sizes
- Update API Gateway configurations
- Execute Systems Manager runbooks
- Send messages to SQS queues

**Key actions**: `aws.ec2.startInstances`, `aws.ec2.stopInstances`, `aws.autoscaling.updateAutoScalingGroup`, `aws.apigateway.updateStage`, `aws.sqs.sendMessage`

### Scheduled infrastructure maintenance

Run recurring workflows that:
- Create snapshots of EBS volumes before updates
- Rotate application secrets and update services
- Clean up unused resources based on tags
- Generate compliance reports

**Key actions**: `aws.ec2.createSnapshot`, `aws.secretsmanager.updateSecret`, `aws.ec2.describeInstances`, `newrelic.nerdgraph.execute`

## Notifications and reporting

### Send enriched alerts to Slack

Transform New Relic alerts into actionable Slack messages:
- Include entity details, NRQL query results, and related incidents
- Add context from logs, metrics, and traces
- Provide direct links to New Relic dashboards
- Format data as CSV attachments

**Key actions**: `newrelic.nerdgraph.execute`, `data.toCSV`, `slack.chat.postMessage`, `slack.files.upload`

### Generate scheduled reports

Run NRQL queries on a schedule and:
- Convert results to CSV format
- Post summaries to Slack channels
- Send data to external systems via HTTP
- Track SLA compliance and performance trends

**Key actions**: `newrelic.nerdgraph.execute`, `data.toCSV`, `slack.files.upload`, `http.request`

### Create incident tickets automatically

When alerts fire, automatically:
- Query New Relic for alert context and affected entities
- Check if an incident already exists in Jira/ServiceNow
- Create a new ticket with enriched context
- Post ticket link back to Slack

**Key actions**: `newrelic.nerdgraph.execute`, `http.request`, `slack.chat.postMessage`

## Integrations and data sync

### Connect to any API

Use HTTP actions to integrate with:
- Incident management platforms (Jira, ServiceNow, PagerDuty)
- CI/CD systems (Jenkins, GitHub Actions, GitLab)
- Configuration management databases
- Custom internal tools
- Third-party monitoring services

**Key actions**: `http.request`, `data.transform`, `workflow.switch`

### Sync data across systems

Pull deployment information from CI/CD, correlate with New Relic change tracking, and update ticketing systemsâ€”all in one workflow.

Example flow:
1. Query GitHub API for recent deployments
2. Cross-reference with New Relic change tracking
3. Check for errors or anomalies after deployment
4. Update Jira ticket with deployment status
5. Send summary to Slack

**Key actions**: `http.request`, `newrelic.nerdgraph.execute`, `workflow.forEach`, `slack.chat.postMessage`

### Sync alert data to external databases

When alerts fire:
- Extract alert details and entity metadata
- Transform data to match external schema
- Insert records into PostgreSQL, MySQL, or BigQuery
- Track alert history for custom analytics

**Key actions**: `newrelic.nerdgraph.execute`, `data.transform`, `http.request`

## Passing data between steps

All workflows can reference outputs from previous steps using template syntax. This allows you to chain together actions and build complex automation logic.

### Basic data passing

```yaml
steps:
  - name: getAlert
    action: newrelic.nerdgraph.execute
    inputs:
      query: |
        {
          actor {
            account(id: 123456) {
              alerts {
                violation(id: 789) {
                  condition
                  entity {
                    name
                    guid
                  }
                }
              }
            }
          }
        }

  - name: sendToSlack
    action: slack.chat.postMessage
    inputs:
      channel: "#incidents"
      text: "Alert: ${{ .steps.getAlert.outputs.data.actor.account.alerts.violation.condition }}"
```

### Using data in loops

```yaml
steps:
  - name: listInstances
    action: aws.ec2.describeInstances
    inputs:
      filters:
        - name: "tag:Environment"
          values: ["production"]

  - name: checkEachInstance
    action: workflow.forEach
    inputs:
      items: "${{ .steps.listInstances.outputs.reservations }}"
      steps:
        - name: getInstanceMetrics
          action: newrelic.nerdgraph.execute
          inputs:
            query: "SELECT average(cpuPercent) FROM SystemSample WHERE instanceId = '${{ .item.instanceId }}'"
```

### Conditional logic with data

```yaml
steps:
  - name: checkCPU
    action: newrelic.nerdgraph.execute
    # ... query configuration

  - name: decideAction
    action: workflow.switch
    inputs:
      value: "${{ .steps.checkCPU.outputs.data.actor.account.nrql.results[0].average }}"
      cases:
        - when: "${{ .value > 90 }}"
          steps:
            - name: resizeInstance
              action: aws.ec2.modifyInstanceAttribute
              # ... resize configuration
        - when: "${{ .value > 70 }}"
          steps:
            - name: sendWarning
              action: slack.chat.postMessage
              # ... warning message
```

## Next steps

- **[Create your own workflow](/docs/workflow-automation/create-a-workflow-automation/create-your-own)** - Step-by-step guide to building workflows
- **[Actions catalog](/docs/workflow-automation/setup-and-configuration/actions-catalog)** - Browse all available actions
- **[Use a template](/docs/workflow-automation/create-a-workflow-automation/use-a-template)** - Deploy pre-built workflows
- **[Set up AWS credentials](/docs/workflow-automation/setup-and-configuration/set-up-aws-credentials)** - Configure AWS authentication
