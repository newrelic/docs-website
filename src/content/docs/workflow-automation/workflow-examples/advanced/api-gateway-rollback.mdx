---
title: API gateway rollback
tags:
  - workflow automation
  - workflow
  - aws
  - api gateway
metaDescription: "Detect deployments via change tracking, send Slack approval requests, and automate API Gateway rollback."
freshnessValidatedDate: never
---

Detect deployments via New Relic change tracking, send Slack approval requests, and automate API Gateway rollback using AWS Systems Manager.

**Requirements:**
  - AWS credentials (API Gateway + Systems Manager)
  - Slack token
  - New Relic entity monitoring

**What this workflow does:**
  - Detect recent deployments using New Relic change tracking
  - Send Slack notifications with approval buttons `(:+1: or :-1:)`
  - Create SSM document after approval to automate rollback
  - Roll back API Gateway integration to previous Lambda version
  - Create new deployment to apply rollback
  - Send status notifications to Slack
  - Clean up SSM document after completion

**Key actions**: `newrelic.nerdgraph.execute`, `slack.chat.postMessage`, `slack.chat.getReactions`, `aws.systemsManager.writeDocument`, `aws.systemsManager.startAutomation`, `aws.systemsManager.waitForAutomationStatus`, `aws.systemsManager.deleteDocument`

## What's next

- **[EC2 management](/docs/workflow-automation/workflow-examples/advanced/ec2-management)**: Infrastructure automation
- **[NRQL alerting](/docs/workflow-automation/workflow-examples/advanced/nrql-alerting)**: Custom alert patterns
