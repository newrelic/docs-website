---
title: Using Agent APIs
tags:
translate:
metaDescription: 'Detailed New Relic Roku Agent API, covering initialization, event logging, and metric recording for Roku applications. Includes function descriptions and usage examples.'
redirects:
freshnessValidatedDate: never
---

The New Relic Roku agent provides a comprehensive API for monitoring system and video events in Roku applications. The API is organized into logical categories to help you quickly find the methods you need.

## API categories

Browse API methods by category:

<table>
  <thead>
    <tr>
      <th width="30%">
        Category
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        [Agent initialization](/docs/streaming-video-&-ads/installation/roku/agent-api/initialization/overview)
      </td>
      <td>
        Initialize the agent and control video session tracking
      </td>
    </tr>
    <tr>
      <td>
        [Lifecycle methods](/docs/streaming-video-&-ads/installation/roku/agent-api/lifecycle/overview)
      </td>
      <td>
        Track application and scene lifecycle events
      </td>
    </tr>
    <tr>
      <td>
        [Event tracking](/docs/streaming-video-&-ads/installation/roku/agent-api/events/overview)
      </td>
      <td>
        Send custom, system, and video events
      </td>
    </tr>
    <tr>
      <td>
        [HTTP monitoring](/docs/streaming-video-&-ads/installation/roku/agent-api/http-monitoring/overview)
      </td>
      <td>
        Monitor network requests and responses
      </td>
    </tr>
    <tr>
      <td>
        [Custom attributes](/docs/streaming-video-&-ads/installation/roku/agent-api/custom-attributes/overview)
      </td>
      <td>
        Add metadata to events for filtering and analysis
      </td>
    </tr>
    <tr>
      <td>
        [Logging](/docs/streaming-video-&-ads/installation/roku/agent-api/logging/overview)
      </td>
      <td>
        Send log messages to New Relic
      </td>
    </tr>
    <tr>
      <td>
        [Metrics](/docs/streaming-video-&-ads/installation/roku/agent-api/metrics/overview)
      </td>
      <td>
        Track custom quantitative measurements
      </td>
    </tr>
    <tr>
      <td>
        [Harvest configuration](/docs/streaming-video-&-ads/installation/roku/agent-api/harvest/overview)
      </td>
      <td>
        Control when data is sent to New Relic
      </td>
    </tr>
    <tr>
      <td>
        [Configuration](/docs/streaming-video-&-ads/installation/roku/agent-api/configuration/overview)
      </td>
      <td>
        Update agent settings at runtime
      </td>
    </tr>
    <tr>
      <td>
        [Domain management](/docs/streaming-video-&-ads/installation/roku/agent-api/domain-management/overview)
      </td>
      <td>
        Configure domain substitution for URLs
      </td>
    </tr>
    <tr>
      <td>
        [User identification](/docs/streaming-video-&-ads/installation/roku/agent-api/user-identification/overview)
      </td>
      <td>
        Associate events with specific users
      </td>
    </tr>
  </tbody>
</table>

## Quick start guide

### 1. Initialize the agent

Start by initializing the New Relic agent in your Roku application:

```brightscript
sub Main(aa as Object)
    screen = CreateObject("roSGScreen")
    m.port = CreateObject("roMessagePort")
    screen.setMessagePort(m.port)
    scene = screen.CreateScene("VideoScene")
    screen.show()

    m.nr = NewRelic("ACCOUNT ID", "API KEY")
```

### 2. Start system logging

Enable system event monitoring:

```brightscript
m.syslog = NewRelicSystemStart(m.port)
```

### 3. Track video sessions

Monitor video playback:

```brightscript
NewRelicVideoStop(m.nr)
```

### 4. Send custom events

Track application events:

```brightscript
nrSendCustomEvent(m.nr, "MyEvent", "MY_ACTION")
attr = {"key0":"val0", "key1":"val1"}
nrSendCustomEvent(m.nr, "MyEvent", "MY_ACTION", attr)
```

### 5. Add custom attributes

Add metadata to your events:

```brightscript
nrSetCustomAttribute(m.nr, "myNum", 123, "CONTENT_START")
nrSetCustomAttribute(m.nr, "myString", "hello")
```

### 6. Set user identifier

Associate events with specific users:

```brightscript
nrSetUserId(m.nr, "TEST_USER")
```