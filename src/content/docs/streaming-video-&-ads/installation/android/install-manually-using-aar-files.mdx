

<TabsPageItem id="aar-new">
        1. Clone the [video-agent-android](https://github.com/newrelic/video-agent-android) repository.

        2. Open it with Android Studio.

        3. Go to <DNT>**View > Tool Windows > Gradle**</DNT> to open the Gradle tool window.

        4. In there, unfold <DNT>**NRVideoProject > Tasks > build**</DNT> and double-click <DNT>**assemble**</DNT>. This will generate the AAR libraries inside the module's folder <DNT>**build > outputs > aar**</DNT>.

        5. In your project, go to <DNT>**File > New > New Module**</DNT>, import `.JAR/.AAR` package and click <DNT>**Next**</DNT>.

        6. Select the AAR files you generated in the previous step and click <DNT>**Finish**</DNT>.

        7. Repeat steps 5 and 6 with all the AAR files you want to include.

        8. In your app module's `build.gradle` file, add the following:

        ```groovy
        dependencies {
          ...
          implementation project(":NewRelicVideoCore")
          implementation project(":NRExoPlayerTracker")
          implementation project(':NRIMATracker')
        }
        ```
        9. Click <DNT>**Continue**</DNT>.

        10. Select an agent to deploy.

            <Tabs>
                <TabsBar>
                    <TabsBarItem id="exoplayer-new-aar">
                        Video agent with ExoPlayer tracker only
                    </TabsBarItem>
                    <TabsBarItem id="exoplayer-ima-new-aar">
                        Video agent with ExoPlayer and IMA trackers
                    </TabsBarItem>
                </TabsBar>

                <TabsPages>
                    <TabsPageItem id="exoplayer-new-aar">

                        ### Java

                        ```java
                        //Add the import statements for the NewRelicVideoAgent class at the top of your Java file where you handle the ExoPlayer instance.
                        import com.newrelic.videoagent.core.NewRelicVideoAgent;
                        import com.newrelic.videoagent.core.tracker.NRVideoTracker;
                        import com.newrelic.videoagent.exoplayer.tracker.NRTrackerExoPlayer;
                        ```

                        ```java
                        // Initialize the tracker where 'player' is your ExoPlayer instance
                        Integer trackerId = NewRelicVideoAgent.getInstance().start(new NRTrackerExoPlayer(player));
                        ```

                        ### Kotlin

                        ```kotlin
                        //Add the import statements for the NewRelicVideoAgent class at the top of your Kotlin file where you handle the ExoPlayer instance.
                        import com.newrelic.videoagent.core.NewRelicVideoAgent;
                        import com.newrelic.videoagent.core.tracker.NRVideoTracker;
                        import com.newrelic.videoagent.exoplayer.tracker.NRTrackerExoPlayer;
                        ```

                        ```kotlin
                        // Initialize the tracker where 'player' is your ExoPlayer instance
                        val trackerId = NewRelicVideoAgent.getInstance().start(NRTrackerExoPlayer(player))
                        ```
                    </TabsPageItem>

                    <TabsPageItem id="exoplayer-ima-new-aar">

                        ### Java

                        ```java
                        //Add the import statements for the NewRelicVideoAgent class at the top of your Java file where you handle the ExoPlayer instance.
                        import com.newrelic.videoagent.core.tracker.NRVideoTracker;
                        import com.newrelic.videoagent.exoplayer.tracker.NRTrackerExoPlayer;
                        import com.newrelic.videoagent.ima.tracker.NRTrackerIMA;
                        ```

                        ```java
                        //Initiate the tracker where player is your Exoplayer
                        Integer trackerId = NewRelicVideoAgent.getInstance().start(new NRTrackerExoPlayer(player), new NRTrackerIMA());
                        ```

                        ```java
                        // Implement onAdEvent method and add the following code snippet
                        if (NewRelicVideoAgent.getInstance().getAdTracker(trackerId) != null) {
                          ((NRTrackerIMA) NewRelicVideoAgent.getInstance().getAdTracker(trackerId)).onAdEvent(adEvent);
                        }
                        ```

                        ```java
                        // Implement onAdError method and add the following code snippet
                        if (NewRelicVideoAgent.getInstance().getAdTracker(trackerId) != null) {
                          ((NRTrackerIMA) NewRelicVideoAgent.getInstance().getAdTracker(trackerId)).onAdError(adErrorEvent);
                        }
                        ```

                        ### Kotlin

                        ```kotlin
                        //Add the import statements for the NewRelicVideoAgent class at the top of your Kotlin file where you handle the ExoPlayer instance.
                        import com.newrelic.videoagent.core.NewRelicVideoAgent;
                        import com.newrelic.videoagent.core.tracker.NRVideoTracker;
                        import com.newrelic.videoagent.exoplayer.tracker.NRTrackerExoPlayer;
                        import com.newrelic.videoagent.ima.tracker.NRTrackerIMA;
                        ```

                        ```kotlin
                        //Initiate the tracker where player is your Exoplayer
                        val trackerId = NewRelicVideoAgent.getInstance().start(NRTrackerExoPlayer(player), NRTrackerIMA())
                        ```

                        ```kotlin
                        // Implement onAdEvent method and add the following code snippet
                        NewRelicVideoAgent.getInstance().getAdTracker(trackerId)?.let {
                          (it as NRTrackerIMA).onAdEvent(adEvent)
                        }
                        ```

                        ```kotlin
                        // Implement onAdError method and add the following code snippet
                        NewRelicVideoAgent.getInstance().getAdTracker(trackerId)?.let {
                          (it as NRTrackerIMA).onAdError(adErrorEvent)
                        }
                        ```

                    </TabsPageItem>
                </TabsPages>
            </Tabs>

        11. Click <DNT>**See your data**</DNT> to deploy your updated code and see the data.
        </TabsPageItem>

        <TabsPageItem id="source-new">
        1. Clone the [video-agent-android](https://github.com/newrelic/video-agent-android) repository.

        2. In your Android project, go to <DNT>**File > New > Import Module**</DNT>.

        3. Enter the location of the library module directory and click <DNT>**Finish**</DNT>.

        <Callout variant="important">
            Library module directory is located in the repo you just cloned. Example modules: NewRelicVideoCore, NRExoPlayerTracker, NRIMATracker.
        </Callout>

        4. Repeat steps 2 and 3 with all the modules you want to include.

        5. In your app module's `build.gradle` file, add the following:

        ```groovy
        dependencies {
          ...
          implementation project(":NewRelicVideoCore")
          implementation project(":NRExoPlayerTracker")
          implementation project(':NRIMATracker')
        }
        ```
        6. Click <DNT>**Continue**</DNT>.

        7. Select an agent to deploy.

            <Tabs>
                <TabsBar>
                    <TabsBarItem id="exoplayer-new-source">
                        Video agent with ExoPlayer tracker only
                    </TabsBarItem>
                    <TabsBarItem id="exoplayer-ima-new-source">
                        Video agent with ExoPlayer and IMA trackers
                    </TabsBarItem>
                </TabsBar>

                <TabsPages>
                    <TabsPageItem id="exoplayer-new-source">

                        ### Java

                        ```java
                        //Add the import statements for the NewRelicVideoAgent class at the top of your Java file where you handle the ExoPlayer instance.
                        import com.newrelic.videoagent.core.NewRelicVideoAgent;
                        import com.newrelic.videoagent.core.tracker.NRVideoTracker;
                        import com.newrelic.videoagent.exoplayer.tracker.NRTrackerExoPlayer;
                        ```

                        ```java
                        // Initialize the tracker where 'player' is your ExoPlayer instance
                        Integer trackerId = NewRelicVideoAgent.getInstance().start(new NRTrackerExoPlayer(player));
                        ```

                        ### Kotlin

                        ```kotlin
                        //Add the import statements for the NewRelicVideoAgent class at the top of your Kotlin file where you handle the ExoPlayer instance.
                        import com.newrelic.videoagent.core.NewRelicVideoAgent;
                        import com.newrelic.videoagent.core.tracker.NRVideoTracker;
                        import com.newrelic.videoagent.exoplayer.tracker.NRTrackerExoPlayer;
                        ```

                        ```kotlin
                        // Initialize the tracker where 'player' is your ExoPlayer instance
                        val trackerId = NewRelicVideoAgent.getInstance().start(NRTrackerExoPlayer(player))
                        ```
                    </TabsPageItem>

                    <TabsPageItem id="exoplayer-ima-new-source">

                        ### Java

                        ```java
                        //Add the import statements for the NewRelicVideoAgent class at the top of your Java file where you handle the ExoPlayer instance.
                        import com.newrelic.videoagent.core.tracker.NRVideoTracker;
                        import com.newrelic.videoagent.exoplayer.tracker.NRTrackerExoPlayer;
                        import com.newrelic.videoagent.ima.tracker.NRTrackerIMA;
                        ```

                        ```java
                        //Initiate the tracker where player is your Exoplayer
                        Integer trackerId = NewRelicVideoAgent.getInstance().start(new NRTrackerExoPlayer(player), new NRTrackerIMA());
                        ```

                        ```java
                        // Implement onAdEvent method and add the following code snippet
                        if (NewRelicVideoAgent.getInstance().getAdTracker(trackerId) != null) {
                          ((NRTrackerIMA) NewRelicVideoAgent.getInstance().getAdTracker(trackerId)).onAdEvent(adEvent);
                        }
                        ```

                        ```java
                        // Implement onAdError method and add the following code snippet
                        if (NewRelicVideoAgent.getInstance().getAdTracker(trackerId) != null) {
                          ((NRTrackerIMA) NewRelicVideoAgent.getInstance().getAdTracker(trackerId)).onAdError(adErrorEvent);
                        }
                        ```

                        ### Kotlin

                        ```kotlin
                        //Add the import statements for the NewRelicVideoAgent class at the top of your Kotlin file where you handle the ExoPlayer instance.
                        import com.newrelic.videoagent.core.NewRelicVideoAgent;
                        import com.newrelic.videoagent.core.tracker.NRVideoTracker;
                        import com.newrelic.videoagent.exoplayer.tracker.NRTrackerExoPlayer;
                        import com.newrelic.videoagent.ima.tracker.NRTrackerIMA;
                        ```

                        ```kotlin
                        //Initiate the tracker where player is your Exoplayer
                        val trackerId = NewRelicVideoAgent.getInstance().start(NRTrackerExoPlayer(player), NRTrackerIMA())
                        ```

                        ```kotlin
                        // Implement onAdEvent method and add the following code snippet
                        NewRelicVideoAgent.getInstance().getAdTracker(trackerId)?.let {
                          (it as NRTrackerIMA).onAdEvent(adEvent)
                        }
                        ```

                        ```kotlin
                        // Implement onAdError method and add the following code snippet
                        NewRelicVideoAgent.getInstance().getAdTracker(trackerId)?.let {
                          (it as NRTrackerIMA).onAdError(adErrorEvent)
                        }
                        ```
                    </TabsPageItem>
                </TabsPages>
            </Tabs>

        8. Click <DNT>**See your data**</DNT> to deploy your updated code and see the data.
        </TabsPageItem>

## What's next?

* [View your data](/docs/streaming-video-&-ads/view-data-in-newrelic/streaming-video-&-ads-features): Learn about the different views available in New Relic to monitor your streaming video and ads
* [Compatibility requirements](/docs/streaming-video-&-ads/installation/compatibility-requirements): Check supported platforms and versions
* [Update the agent](/docs/streaming-video-&-ads/update-the-media-agent): Keep your agent up to date
