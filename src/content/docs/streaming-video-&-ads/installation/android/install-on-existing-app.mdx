---
title: Install on an existing monitored application
metaDescription: 'Install the Streaming Video & Ads agent on an Android application that is already monitored by New Relic.'
freshnessValidatedDate: never
---

<Callout variant="important">
    If you are a first time user and want to add the streaming agent to a new application, see [Install on a new mobile application](/docs/streaming-video-&-ads/installation/android/install-on-new-app).
</Callout>

Choose your instrumentation method from the following options:

<Tabs>
    <TabsBar>
        <TabsBarItem id="jitpack-existing">
            Install automatically using jitpack
        </TabsBarItem>
        <TabsBarItem id="aar-existing">
            Install manually using AAR Files
        </TabsBarItem>
        <TabsBarItem id="source-existing">
            Install manually using source code
        </TabsBarItem>
    </TabsBar>

    <TabsPages>
        <TabsPageItem id="jitpack-existing">
            1. Add the following line inside your root `build.gradle` file:

            ```groovy
            allprojects {
              repositories {
                ...

                // Add this line at the end of your repositories
                maven { url 'https://jitpack.io' }
              }
            }
            ```

            2. Add the following dependencies inside your app's `build.gradle` file:

            ```groovy
            dependencies {
              ...

              // Add this to install the NewRelicVideoCore (required)
              implementation 'com.github.newrelic.video-agent-android:NewRelicVideoCore:master-SNAPSHOT'

              // Add this to install the ExoPlayer tracker
              implementation 'com.github.newrelic.video-agent-android:NRExoPlayerTracker:master-SNAPSHOT'

              // Add this to install the Google IMA library tracker
              implementation 'com.github.newrelic.video-agent-android:NRIMATracker:master-SNAPSHOT'
            }
            ```
            3. To install a specific version replace the `master-SNAPSHOT` by a version tag.

            4. Click <DNT>**Continue**</DNT>.

            5. Select an agent to deploy.

            <Tabs>
                <TabsBar>
                    <TabsBarItem id="exoplayer-existing-jitpack">
                        Video agent with ExoPlayer tracker only
                    </TabsBarItem>
                    <TabsBarItem id="exoplayer-ima-existing-jitpack">
                        Video agent with ExoPlayer and IMA trackers
                    </TabsBarItem>
                </TabsBar>

                <TabsPages>
                    <TabsPageItem id="exoplayer-existing-jitpack">

                        ### Java

                        ```java
                        //Add the import statements for the NewRelicVideoAgent class at the top of your Java file where you handle the ExoPlayer instance.
                        import com.newrelic.videoagent.core.NewRelicVideoAgent;
                        import com.newrelic.videoagent.core.tracker.NRVideoTracker;
                        import com.newrelic.videoagent.exoplayer.tracker.NRTrackerExoPlayer;
                        ```

                        ```java
                        // Initialize the tracker where 'player' is your ExoPlayer instance
                        Integer trackerId = NewRelicVideoAgent.getInstance().start(new NRTrackerExoPlayer(player));
                        ```

                        ### Kotlin

                        ```kotlin
                        //Add the import statements for the NewRelicVideoAgent class at the top of your Kotlin file where you handle the ExoPlayer instance.
                        import com.newrelic.videoagent.core.NewRelicVideoAgent;
                        import com.newrelic.videoagent.core.tracker.NRVideoTracker;
                        import com.newrelic.videoagent.exoplayer.tracker.NRTrackerExoPlayer;
                        ```

                        ```kotlin
                        // Initialize the tracker where 'player' is your ExoPlayer instance
                        val trackerId = NewRelicVideoAgent.getInstance().start(NRTrackerExoPlayer(player))
                        ```

                    </TabsPageItem>

                    <TabsPageItem id="exoplayer-ima-existing-jitpack">

                        ### Java

                        ```java
                        //Add the import statements for the NewRelicVideoAgent class at the top of your Java file where you handle the ExoPlayer instance.
                        import com.newrelic.videoagent.core.tracker.NRVideoTracker;
                        import com.newrelic.videoagent.exoplayer.tracker.NRTrackerExoPlayer;
                        import com.newrelic.videoagent.ima.tracker.NRTrackerIMA;
                        ```

                        ```java
                        //Initiate the tracker where player is your Exoplayer
                        Integer trackerId = NewRelicVideoAgent.getInstance().start(new NRTrackerExoPlayer(player), new NRTrackerIMA());
                        ```

                        ```java
                        // Implement onAdEvent method and add the following code snippet
                        if (NewRelicVideoAgent.getInstance().getAdTracker(trackerId) != null) {
                          ((NRTrackerIMA) NewRelicVideoAgent.getInstance().getAdTracker(trackerId)).onAdEvent(adEvent);
                        }
                        ```

                        ```java
                        // Implement onAdError method and add the following code snippet
                        if (NewRelicVideoAgent.getInstance().getAdTracker(trackerId) != null) {
                          ((NRTrackerIMA) NewRelicVideoAgent.getInstance().getAdTracker(trackerId)).onAdError(adErrorEvent);
                        }
                        ```
                        ### Kotlin

                        ```kotlin
                        //Add the import statements for the NewRelicVideoAgent class at the top of your Kotlin file where you handle the ExoPlayer instance.
                        import com.newrelic.videoagent.core.NewRelicVideoAgent;
                        import com.newrelic.videoagent.core.tracker.NRVideoTracker;
                        import com.newrelic.videoagent.exoplayer.tracker.NRTrackerExoPlayer;
                        import com.newrelic.videoagent.ima.tracker.NRTrackerIMA;
                        ```

                        ```kotlin
                        //Initiate the tracker where player is your Exoplayer
                        val trackerId = NewRelicVideoAgent.getInstance().start(NRTrackerExoPlayer(player), NRTrackerIMA())
                        ```

                        ```kotlin
                        // Implement onAdEvent method and add the following code snippet
                        NewRelicVideoAgent.getInstance().getAdTracker(trackerId)?.let {
                          (it as NRTrackerIMA).onAdEvent(adEvent)
                        }
                        ```

                        ```kotlin
                        // Implement onAdError method and add the following code snippet
                        NewRelicVideoAgent.getInstance().getAdTracker(trackerId)?.let {
                          (it as NRTrackerIMA).onAdError(adErrorEvent)
                        }
                        ```
                    </TabsPageItem>
                </TabsPages>
            </Tabs>

            6. Click <DNT>**See your data**</DNT> to deploy your updated code and see the data.
        </TabsPageItem>

        <TabsPageItem id="aar-existing">
        1. Clone the [video-agent-android](https://github.com/newrelic/video-agent-android) repository.

        2. Open it with Android Studio.

        3. Go to <DNT>**View > Tool Windows > Gradle**</DNT> to open the gradle tool window.

        4. In there, unfold <DNT>**NRVideoProject > Tasks > build**</DNT> and double-click <DNT>**assemble**</DNT>. This will generate the AAR libraries inside the module's folder <DNT>**build > outputs > aar**</DNT>.

        5. In your project, go to <DNT>**File > New > New Module**</DNT>, import `.JAR/.AAR` Package and click <DNT>**Next**</DNT>.

        6. Select the AAR files you generated in the previous step and click <DNT>**Finish**</DNT>.

        7. Repeat the steps 5 and 6 with all the AAR files you want to include.

        8. In your app module's `build.gradle` file, add the following:

        ```groovy
        dependencies {
          ...
          implementation project(":NewRelicVideoCore")
          implementation project(":NRExoPlayerTracker")
          implementation project(':NRIMATracker')
        }
        ```
        9. Click <DNT>**Continue**</DNT>.

        10. Select an agent to deploy.

            <Tabs>
                <TabsBar>
                    <TabsBarItem id="exoplayer-existing-aar">
                        Video agent with ExoPlayer tracker only
                    </TabsBarItem>
                    <TabsBarItem id="exoplayer-ima-existing-aar">
                        Video agent with ExoPlayer and IMA trackers
                    </TabsBarItem>
                </TabsBar>

                <TabsPages>
                    <TabsPageItem id="exoplayer-existing-aar">

                        ### Java

                        ```java
                        //Add the import statements for the NewRelicVideoAgent class at the top of your Java file where you handle the ExoPlayer instance.
                        import com.newrelic.videoagent.core.NewRelicVideoAgent;
                        import com.newrelic.videoagent.core.tracker.NRVideoTracker;
                        import com.newrelic.videoagent.exoplayer.tracker.NRTrackerExoPlayer;
                        ```

                        ```java
                        Integer trackerId = NewRelicVideoAgent.getInstance().start(new NRTrackerExoPlayer(player));
                        ```

                        ### Kotlin

                        ```kotlin
                        val trackerId = NewRelicVideoAgent.getInstance().start(NRTrackerExoPlayer(player))
                        ```
                    </TabsPageItem>

                    <TabsPageItem id="exoplayer-ima-existing-aar">

                        ### Java

                        ```java
                        Integer trackerId = NewRelicVideoAgent.getInstance().start(new NRTrackerExoPlayer(player), new NRTrackerIMA());
                        ```

                        ### Kotlin

                        ```kotlin
                        val trackerId = NewRelicVideoAgent.getInstance().start(NRTrackerExoPlayer(player), NRTrackerIMA())
                        ```
                    </TabsPageItem>
                </TabsPages>
            </Tabs>

        11. Click <DNT>**See your data**</DNT> to deploy your updated code and see the data.
        </TabsPageItem>

        <TabsPageItem id="source-existing">
        1. Clone the [video-agent-android](https://github.com/newrelic/video-agent-android) repository.

        2. In your Android project, go to <DNT>**File > New > Import Module**</DNT>.

        3. Enter the location of the library module directory and click <DNT>**Finish**</DNT>.

        <Callout variant="important">
            Library module directory is located in the repo you just cloned. Example modules: NewRelicVideoCore, NRExoPlayerTracker, NRIMATracker.
        </Callout>

        4. Repeat steps 2 and 3 with all the modules you want to include.

        5. In you app module's `build.gradle` file, add the following:

        ```groovy
        dependencies {
          ...
          implementation project(":NewRelicVideoCore")
          implementation project(":NRExoPlayerTracker")
          implementation project(':NRIMATracker')
        }
        ```
        6. Click <DNT>**Continue**</DNT>.

        7. Select an agent to deploy.

            <Tabs>
                <TabsBar>
                    <TabsBarItem id="exoplayer-existing-source">
                        Video agent with ExoPlayer tracker only
                    </TabsBarItem>
                    <TabsBarItem id="exoplayer-ima-existing-source">
                        Video agent with ExoPlayer and IMA trackers
                    </TabsBarItem>
                </TabsBar>

                <TabsPages>
                    <TabsPageItem id="exoplayer-existing-source">

                        ### Java

                        ```java
                        Integer trackerId = NewRelicVideoAgent.getInstance().start(new NRTrackerExoPlayer(player));
                        ```

                        ### Kotlin

                        ```kotlin
                        val trackerId = NewRelicVideoAgent.getInstance().start(NRTrackerExoPlayer(player))
                        ```
                    </TabsPageItem>

                    <TabsPageItem id="exoplayer-ima-existing-source">

                        ### Java

                        ```java
                        Integer trackerId = NewRelicVideoAgent.getInstance().start(new NRTrackerExoPlayer(player), new NRTrackerIMA());
                        ```

                        ### Kotlin

                        ```kotlin
                        val trackerId = NewRelicVideoAgent.getInstance().start(NRTrackerExoPlayer(player), NRTrackerIMA())
                        ```
                    </TabsPageItem>
                </TabsPages>
            </Tabs>

        8. Click <DNT>**See your data**</DNT> to deploy your updated code and see the data.
        </TabsPageItem>
    </TabsPages>
</Tabs>

## What's next?

* [View your data](/docs/streaming-video-&-ads/view-data-in-newrelic/streaming-video-&-ads-features): Learn about the different views available in New Relic to monitor your streaming video and ads
* [Compatibility requirements](/docs/streaming-video-&-ads/installation/compatibility-requirements): Check supported platforms and versions
* [Update the agent](/docs/streaming-video-&-ads/update-the-media-agent): Keep your agent up to date
