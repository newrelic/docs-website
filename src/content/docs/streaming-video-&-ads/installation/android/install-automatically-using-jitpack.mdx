---
title: Install automatically using jitpack
metaDescription: 'Install the Streaming Video & Ads agent on a new Android application that is not yet monitored by New Relic.'
freshnessValidatedDate: never
---
            
1. Add the following line inside your root `build.gradle` file:

```groovy
allprojects {
  repositories {
   ...
  // Add this line at the end of your repositories
 maven { url 'https://jitpack.io' }
  }
}
```

2. Add the following dependencies inside your app's `build.gradle` file:

```groovy
dependencies {
  ...
  // Add this to install the NewRelicVideoCore (required)
  implementation 'com.github.newrelic.video-agent-android:NewRelicVideoCore:4.+'
  // Add this to install the ExoPlayer tracker
  implementation 'com.github.newrelic.video-agent-android:NRExoPlayerTracker:4.+'
  // Add this to install the Google IMA library tracker
  implementation 'com.github.newrelic.video-agent-android:NRIMATracker:4.+'
}
```
3. Click <DNT>**Continue**</DNT>.

4. Application Setup (Required)

Add NRVideo configuration in your Application class or MainActivity:

  - **Java - Application/MainActivity**

```java
import com.newrelic.videoagent.core.NRVideo;
import com.newrelic.videoagent.core.NRVideoConfiguration;

// In your Application class or MainActivity onCreate
NRVideoConfiguration config = new NRVideoConfiguration.Builder("AA4e7c8a14cefdaf8281d227f3fb6739bb37208bfe-NRMA")
    .autoDetectPlatform(getApplicationContext())
    .withHarvestCycle(30)
    .build();
NRVideo.newBuilder(getApplicationContext()).withConfiguration(config).build();
```

  - **Kotlin - Application/MainActivity**

```kotlin
import com.newrelic.videoagent.core.NRVideo
import com.newrelic.videoagent.core.NRVideoConfiguration

// In your Application class or MainActivity onCreate
val config = NRVideoConfiguration.Builder("AA4e7c8a14cefdaf8281d227f3fb6739bb37208bfe-NRMA")
    .autoDetectPlatform(applicationContext)
    .withHarvestCycle(30)
    .build()
NRVideo.newBuilder(applicationContext).withConfiguration(config).build()
```

5. Select an agent to deploy.

            <Tabs>
                <TabsBar>
                    <TabsBarItem id="exoplayer-new-jitpack">
                        Video agent with ExoPlayer tracker only
                    </TabsBarItem>
                    <TabsBarItem id="exoplayer-ima-new-jitpack">
                        Video agent with ExoPlayer and IMA trackers
                    </TabsBarItem>
                </TabsBar>

                <TabsPages>
                    <TabsPageItem id="exoplayer-new-jitpack">

                        ### Java - Import statements

                        ```java
                        import com.newrelic.videoagent.core.NRVideo;
                        import com.newrelic.videoagent.core.NRVideoPlayerConfiguration;
                        ```

                        ### Kotlin - Import statements

                        ```kotlin
                        import com.newrelic.videoagent.core.NRVideo
                        import com.newrelic.videoagent.core.NRVideoPlayerConfiguration
                        ```

                        ### Java - Player configuration setup

                        ```java
                        // Configure NRVideo player
                        NRVideoPlayerConfiguration playerConfiguration = new NRVideoPlayerConfiguration("test-player", player, false, null);
                        Integer trackerId = NRVideo.addPlayer(playerConfiguration);
                        ```

                        ### Kotlin - Player configuration setup

                        ```kotlin
                        // Configure NRVideo player
                        val playerConfiguration = NRVideoPlayerConfiguration("test-player", player, false, null)
                        val trackerId = NRVideo.addPlayer(playerConfiguration)
                        ```

                        ### Java - Cleanup in onDestroy

                        ```java
                        @Override
                        protected void onDestroy() {
                            super.onDestroy();
                            NRVideo.releaseTracker(trackerId);
                        }
                        ```

                        ### Kotlin - Cleanup in onDestroy

                        ```kotlin
                        override fun onDestroy() {
                            super.onDestroy()
                            NRVideo.releaseTracker(trackerId)
                        }
                        ```
                    </TabsPageItem>

                    <TabsPageItem id="exoplayer-ima-new-jitpack">

                        ### Java

                        ```java
                        //Add the import statements for the NewRelicVideoAgent class at the top of your Java file where you handle the ExoPlayer instance.
                        import com.newrelic.videoagent.core.tracker.NRVideoTracker;
                        import com.newrelic.videoagent.exoplayer.tracker.NRTrackerExoPlayer;
                        import com.newrelic.videoagent.ima.tracker.NRTrackerIMA;
                        ```

                        ```java
                        //Initiate the tracker where player is your Exoplayer
                        Integer trackerId = NewRelicVideoAgent.getInstance().start(new NRTrackerExoPlayer(player), new NRTrackerIMA());
                        ```

                        ```java
                        // Implement onAdEvent method and add the following code snippet
                        if (NewRelicVideoAgent.getInstance().getAdTracker(trackerId) != null) {
                          ((NRTrackerIMA) NewRelicVideoAgent.getInstance().getAdTracker(trackerId)).onAdEvent(adEvent);
                        }
                        ```

                        ```java
                        // Implement onAdError method and add the following code snippet
                        if (NewRelicVideoAgent.getInstance().getAdTracker(trackerId) != null) {
                          ((NRTrackerIMA) NewRelicVideoAgent.getInstance().getAdTracker(trackerId)).onAdError(adErrorEvent);
                        }
                        ```

                        ### Kotlin

                        ```kotlin
                        //Add the import statements for the NewRelicVideoAgent class at the top of your Kotlin file where you handle the ExoPlayer instance.
                        import com.newrelic.videoagent.core.NewRelicVideoAgent;
                        import com.newrelic.videoagent.core.tracker.NRVideoTracker;
                        import com.newrelic.videoagent.exoplayer.tracker.NRTrackerExoPlayer;
                        import com.newrelic.videoagent.ima.tracker.NRTrackerIMA;
                        ```

                        ```kotlin
                        //Initiate the tracker where player is your Exoplayer
                        val trackerId = NewRelicVideoAgent.getInstance().start(NRTrackerExoPlayer(player), NRTrackerIMA())
                        ```

                        ```kotlin
                        // Implement onAdEvent method and add the following code snippet
                        NewRelicVideoAgent.getInstance().getAdTracker(trackerId)?.let {
                          (it as NRTrackerIMA).onAdEvent(adEvent)
                        }
                        ```

                        ```kotlin
                        // Implement onAdError method and add the following code snippet
                        NewRelicVideoAgent.getInstance().getAdTracker(trackerId)?.let {
                          (it as NRTrackerIMA).onAdError(adErrorEvent)
                        }
                        ```
                    </TabsPageItem>
                </TabsPages>
            </Tabs>

            6. Click <DNT>**See your data**</DNT> to deploy your updated code and see the data.