---
title: REST API calls for alerts
tags:
  - Alerts 
  - REST API alerts
translate:
  - jp
metaDescription: How to use the New Relic REST API Explorer to add and manage alerts.
redirects:
  - /docs/alerts/new-relic-alerting/getting-started/using-alert-apis
  - /docs/alerts/new-relic-alerts-beta/getting-started/rest-api-calls-new-relic-alerts
  - /docs/alerts/new-relic-alerts/getting-started/rest-api-calls-new-relic-alerts
  - /docs/alerts/new-relic-alerts/rest-api-alerts/rest-api-calls-new-relic-alerts
  - /docs/alerts/rest-api-alerts/legacy-alerts-rest-api
  - /docs/alerts/rest-api-alerts/legacy-alerts-rest-api/list-legacy-alert-policies
  - /docs/apis/alert-api-examples
  - /docs/apm/apis/api-v2-examples/alert-policy-examples-api-v2
  - /docs/apm/apis/application-examples-v2/alert-policy-examples-api-v2
  - /docs/apm/apis/alert-examples-v2/listing-policies-api-v2
  - /docs/alerts/alert-policies/rest-api-alert-policies/list-policies-v2
  - /docs/alerts/rest-api-alerts/legacy-alerts-rest-api/list-policies-v2
  - /docs/alerts/rest-api-alerts/legacy-alerts-rest-api/list-legacy-alert-channels-users
  - /docs/apm/apis/alert-examples-v2/listing-alert-channels-users-api-v2
  - /docs/alerts/alert-policies/rest-api-alert-policies/list-alert-channels-users-v2
  - /docs/apis/rest-api-v2/alert-examples-v2/list-alert-channels-users-v2
  - /docs/alerts/rest-api-alerts/legacy-alerts-rest-api/disable-or-re-enable-legacy-alert-policies
  - /docs/apm/apis/alert-examples-v2/disabling-or-enabling-alert-policies-api-v2
  - /docs/apis/rest-api-v2/alert-examples-v2/disabling-or-enabling-alert-policies-v2
  - /docs/apis/rest-api-v2/alert-examples-v2/disable-or-re-enable-alert-policies-v2
  - /docs/alerts/alert-policies/rest-api-alert-policies/disable-or-re-enable-alert-policies-v2
  - /docs/alerts/rest-api-alerts/legacy-alerts-rest-api/maintain-apps-hosts-legacy-alert-policies
  - /docs/apm/apis/alert-examples-v2/maintaining-apps-servers-alert-policies-api-v2
  - /docs/apis/alert-examples-v2/maintaining-apps-servers-alert-policies-v2
  - /docs/apis/rest-api-v2/alert-examples-v2/maintaining-apps-servers-alert-policies-v2
  - /docs/apis/rest-api-v2/alert-examples-v2/maintain-apps-servers-alert-policies-v2
  - /docs/alerts/alert-policies/rest-api-alert-policies/maintain-apps-servers-alert-policies-v2
  - /docs/alerts/rest-api-alerts/legacy-alerts-rest-api/apps-set-legacy-alert-thresholds-trigger-times
  - /docs/apm/apis/alert-examples-v2/setting-app-alert-thresholds-trigger-times-api-v2
  - /docs/apis/rest-api-v2/alert-examples-v2/setting-app-alert-thresholds-trigger-times-v2
  - /docs/alerts/rest-api-alerts/legacy-alerts-rest-api/servers-set-legacy-alert-thresholds-trigger-times
  - /docs/apm/apis/alert-examples-v2/setting-server-alert-thresholds-trigger-times-api-v2
  - /docs/apis/rest-api-v2/alert-examples-v2/setting-server-alert-thresholds-trigger-times-v2
  - /docs/alerts/rest-api-alerts/legacy-alerts-rest-api/legacy-availability-monitoring-examples
  - /docs/apis/availability-monitoring-api-v2
  - /docs/apm/apis/api-v2-examples/availability-monitoring-examples-api-v2
  - /docs/apm/apis/application-examples-v2/availability-monitoring-examples-api-v2
  - /docs/apis/rest-api-v2/alert-examples-v2/availability-monitoring-examples-v2
  - /docs/alerts/alert-policies/rest-api-alert-policies/availability-monitoring-examples-v2
  - /docs/apis/synthetics-rest-api/alert-examples/manage-synthetics-alert-notifications-rest-api
  - /docs/alerts/rest-api-alerts/new-relic-alerts-rest-api/rest-api-calls-new-relic-alerts
  - /docs/alerts-applied-intelligence/new-relic-alerts/rest-api-alerts/rest-api-calls-new-relic-alerts
  - /docs/apis/rest-api-v2/alert-examples-v2/alerting-rest-api
  - /docs/apis/rest-api-v2/alert-examples-v2/rest-api-calls-new-relic-alerts
  - /docs/alerts-applied-intelligence/new-relic-alerts/rest-api-alerts/rest-api-calls-alerts
  - /docs/alerts/new-relic-alerts/rest-api-alerts
  - /docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/rest-api-calls-alerts
  - /docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/alerts-api/intro-alerts-api/
freshnessValidatedDate: never
---

Our REST API is New Relic's original API for programmatically configuring New Relic alerting settings ([learn about NerdGraph, our preferred API](/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/alerts-nerdgraph/nerdgraph-api-examples)).

The [REST API Explorer](/docs/apm/apis/api-explorer-v2/getting-started-new-relics-api-explorer) also includes the `curl` request format, available parameters, potential response status codes, and JSON response structure for each of the available API calls. You can also [create alert conditions in the UI](/docs/alerts/create-alert/create-alert-condition/alert-conditions/).

## Before using the REST API [#before-start]

Before using the REST API to manage alerting data, read the [Intro to using alerts with our NerdGraph API](/docs/alerts/scale-automate/nerdgraph/nerdgraph-api-examples/) document.

For infrastructure alerting, see [REST API for infrastructure monitoring alerts](/docs/infrastructure/new-relic-infrastructure/infrastructure-alert-conditions/rest-api-calls-new-relic-infrastructure-alerts/)

## Available data and functions via REST API [#data]

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        <DNT>
          **REST API functions**
        </DNT>
      </th>

      <th>
        <DNT>
          **Comments**
        </DNT>
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        View account data
      </td>

      <td>
        In general, any [role](/docs/accounts-partnerships/accounts/account-setup/users-roles) can use a <InlinePopover type="userKey"/> with <DNT>**GET > List**</DNT> functions to <DNT>**view**</DNT> alerts data. The account Owner and Admins may use their API key.

        List output will be [paginated](/docs/apis/rest-api-v2/requirements/pagination-api-output). Available functions include:

        * [Alert policies](#policies-list)
        * Conditions for [APM, browser monitoring, and mobile monitoring](#conditions-list) ([Some limitations apply.](#excluded))
        * Conditions for [external services](#ext-conditions-list)
        * Conditions for [synthetic monitoring](#synthetics-conditions)
        * Conditions for [Multi-location synthetic monitoring](#multilocation-synthetics-conditions)
        * Conditions for NRQL ([Some limitations apply.](#excluded))
        * [Events](#events)
        * [Incidents](/docs/alerts/organize-alerts/specify-when-alerts-create-events/)
      </td>
    </tr>

    <tr>
      <td>
        Maintain account data
      </td>

      <td>
        You may have an `Owner` or `Admin` role in your account <DNT>**and**</DNT> a [user key](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key) or have a custom role that grants permissions to manage alerts and a user key in order to use any maintenance function, including <DNT>**POST > Create**</DNT>, <DNT>**PUT > Add**</DNT>, <DNT>**PUT > Update**</DNT>, and <DNT>**DELETE**</DNT>.
      </td>
    </tr>
  </tbody>
</table>

## Conditions excluded from the REST API [#excluded]

These types of conditions do not have available endpoints in the API:

* APM: Web transaction percentiles, conditions targeting labels, and anomalies
* NRQL: Anomalies

## Alert policies [#alert-policies]

These API functions include links to the API Explorer, where you can create, delete, or list [policies](https://api.newrelic.com/docs/#/Alerts%20Policies).

<Callout variant="important">
  If your organization hosts data in the EU data center, ensure you're using the proper [API endpoints for EU region accounts](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints).
</Callout>

<CollapserGroup>
  <Collapser
    id="policies-create"
    title="Create new policies"
  >
    To add new policies, use your [user key](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key) and include these two values in the API call:

    <table>
      <thead>
        <tr>
          <th style={{ width: "230px" }}>
            <DNT>
              **Required values**
            </DNT>
          </th>

          <th>
            <DNT>
              **Definition**
            </DNT>
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `incident_preference`
          </td>

          <td>
            Determines how alerts will [create incidents](/docs/alerts/organize-alerts/specify-when-alerts-create-events/). This must be one of the following:

            * `PER_POLICY` (default): Roll up by [policy](/docs/alerts/organize-alerts/specify-when-alerts-create-events/#preference-policy).
            * `PER_CONDITION`: Roll up by [condition](/docs/alerts/organize-alerts/specify-when-alerts-create-events/#preference-condition).
            * `PER_CONDITION_AND_TARGET`: Roll up by [target and condition](/docs/alerts/organize-alerts/specify-when-alerts-create-events/#preference-target).
          </td>
        </tr>

        <tr>
          <td>
            [Policy `name`](/docs/alerts/organize-alerts/create-edit-or-find-alert-policy/)
          </td>

          <td>
            The policy `name` is required. Leaving it unchanged will create a policy called `string`.
          </td>
        </tr>
      </tbody>
    </table>

    <DNT>
      **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Policies/post_alerts_policies_json) > Alerts Policies > POST > Create**
    </DNT>


    ```shell
    curl -X POST 'https://api.newrelic.com/v2/alerts_policies.json' \
         -H "$API_KEY" -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "policy": {
        "incident_preference": "string",
        "name": "string"
      }
    }'
    ```
  </Collapser>

  <Collapser
    id="policies-update"
    title="Update policies"
  >
    Use this API to update an existing policy's `name` and `incident_preference`. You'll need your [user key](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key).

    <table>
      <thead>
        <tr>
          <th style={{ width: "230px" }}>
            <DNT>
              **Required values**
            </DNT>
          </th>

          <th>
            <DNT>
              **Definition**
            </DNT>
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `id`
          </td>

          <td>
            To find a policy's ID, use either of these options:

            * From the UI: On a policy's UI page, find the ID under the policy name.
            * With the API: Use the [List policies API](/docs/alerts/rest-api-alerts/new-relic-alerts-rest-api/rest-api-calls-new-relic-alerts#policies-list).
          </td>
        </tr>

        <tr>
          <td>
            `incident_preference`
          </td>

          <td>
            Determines how alerts will [create incidents](/docs/alerts/organize-alerts/specify-when-alerts-create-events/). Must be one of the following:

            * `PER_POLICY` (default): Roll up by [policy](/docs/alerts/organize-alerts/specify-when-alerts-create-events/#preference-policy).
            * `PER_CONDITION`: Roll up by [condition](/docs/alerts/organize-alerts/specify-when-alerts-create-events/#preference-condition).
            * `PER_CONDITION_AND_TARGET`: Roll up by [condition and signal](/docs/alerts/organize-alerts/specify-when-alerts-create-events/#preference-signal).
          </td>
        </tr>

        <tr>
          <td>
            [Policy `name`](/docs/alerts/organize-alerts/create-edit-or-find-alert-policy/)
          </td>

          <td>
            The policy `name`, if you do not change the `name` it defaults to a policy called `string`.

            To find a policy's exact name, use the [List policies API](/docs/alerts/rest-api-alerts/new-relic-alerts-rest-api/rest-api-calls-new-relic-alerts#policies-list).
          </td>
        </tr>
      </tbody>
    </table>

    <DNT>
      **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Policies/put_alerts_policies__policy_id__json) > Alerts Policies > PUT > Update**
    </DNT>

    ```shell
    curl -X PUT 'https://api.newrelic.com/v2/alerts_policies/{id}.json' \
         -H "$API_KEY" -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "policy": {
        "incident_preference": "string",
        "name": "string"
      }
    }'
    ```
  </Collapser>

  <Collapser
    id="policies-delete"
    title="Delete existing policies"
  >
    To delete an existing policy, use your [user key](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key), and include the `policy_id` (available from <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Policies/get_alerts_policies_json) > Alerts Policies > GET > List**</DNT>) in the API call:

    <DNT>
      **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Policies/delete_alerts_policies__policy_id__json) > Alerts Policies > DELETE**
    </DNT>

    ```shell
    curl -X DELETE 'https://api.newrelic.com/v2/alerts_policies/$POLICY_ID.json' \
         -H "$API_KEY" -i
    ```
  </Collapser>

  <Collapser
    id="policies-list"
    title="List existing policies"
  >
    To view a list of existing policies for your account, use your [user key](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key), and include these optional values in the API call:

    * Optional policy `name` filter
    * Optional [pagination](/docs/apis/rest-api-v2/requirements/pagination-api-output) value

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Policies/get_alerts_policies_json) > Alerts Policies > GET > List**
      </DNT>

      ```shell
      curl -X GET 'https://api.newrelic.com/v2/alerts_policies.json' \
           -H "$API_KEY" -i
      ```
  </Collapser>
</CollapserGroup>

## Conditions for APM, browser, and mobile [#conditions]

These API functions include links to the API Explorer, where you can create, update, delete, or list policy [conditions](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions). These calls are for conditions with these types of entities:

* APM: Apps and key transactions
* Browser: Apps and key transactions
* Mobile: Mobile apps

<DNT>**Exception:**</DNT> The following APM conditions are <DNT>**not available**</DNT> from this API endpoint:

* Conditions targeting labels (dynamic targeting)
* Web transaction percentile conditions
* Anomaly conditions

<Callout variant="important">
  The API Explorer provides information about other types of conditions using <DNT>**separate endpoints**</DNT>, including [external services](#ext-services-conditions) (APM and mobile), and [synthetic monitoring](#synthetics-conditions). Consider all types of alert conditions when searching or updating. If your account hosts data in the EU data center, ensure you are using the proper [API endpoints for EU region accounts](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints).
</Callout>

<CollapserGroup>
  <Collapser
    id="conditions-create"
    title="Create conditions for policies"
  >
    To add conditions to policies, include these values in the API call:

    * Your <InlinePopover type="userKey"/>
    * The `policy_id` (available from <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Policies/get_alerts_policies_json) > Alerts Policies > GET > List**</DNT>)
    * The required `condition` values in the API call (described in the API Explorer page and in the [alerts conditions API glossary](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names))

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Conditions/post_alerts_conditions_policies__policy_id__json) > Alerts Conditions > POST > Create**
      </DNT>

      ```shell
      curl -X POST 'https://api.newrelic.com/v2/alerts_conditions/policies/$POLICY_ID.json' \
           -H "$API_KEY" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "condition": {
          "type": "string",
          "name": "string",
          "enabled": boolean,
          "entities": [
            integer
          ],
          "metric": "string",
          "gc_metric": "string",
          "condition_scope": "string",
          "violation_close_timer": integer,
          "runbook_url": "string",
          "terms": [
            {
              "duration": "string",
              "operator": "string",
              "priority": "string",
              "threshold": "string",
              "time_function": "string"
            }
          ],
          "user_defined": {
            "metric": "string",
            "value_function": "string"
          }
        }
      }'
      ```

      The JSON response returns a condition `id`, which you will need to update or delete the condition. You can also view the condition `id` from <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Conditions/get_alerts_conditions_json) > Alerts Conditions > GET > List**</DNT>.
  </Collapser>

  <Collapser
    id="conditions-update"
    title="Update conditions for policies"
  >
    To update conditions for policies, include these values in the API call:

    * Your [user key](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * The condition's `id` (available from <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Conditions/get_alerts_conditions_json) > Alerts Conditions > GET > List**</DNT>)
    * The required `condition` values in the API call (described in the API Explorer page and in the [alerts conditions API glossary](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names))

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Conditions/put_alerts_conditions__condition_id__json) > Alerts Conditions > PUT > Update**
      </DNT>

      ```shell
      curl -X PUT 'https://api.newrelic.com/v2/alerts_conditions/$CONDITION_ID.json' \
           -H "$API_KEY" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "condition": {
          "type": "string",
          "name": "string",
          "enabled": boolean,
          "entities": [
            integer
          ],
          "metric": "string",
          "metric": "string",
          "gc_metric": "string",
          "condition_scope": "string",
          "violation_close_timer": integer,
          "runbook_url": "string",
          "terms": [
            {
              "duration": "string",
              "operator": "string",
              "priority": "string",
              "threshold": "string",
              "time_function": "string"
            }
          ],
          "user_defined": {
            "metric": "string",
            "value_function": "string"
          }
        }
      }'
      ```
  </Collapser>

  <Collapser
    id="conditions-delete"
    title="Delete conditions from policies"
  >
    To delete conditions from policies, include these values in the API call:

    * Your [user key](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * The `condition_id` (available from <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Conditions/get_alerts_conditions_json) > Alerts Conditions > GET > List**</DNT>)

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Conditions/delete_alerts_conditions__condition_id__json) > Alerts Conditions > DELETE > Delete**
      </DNT>

      ```shell
      curl -X DELETE 'https://api.newrelic.com/v2/alerts_conditions/$CONDITION_ID.json' \
           -H "$API_KEY" -i
      ```
  </Collapser>

  <Collapser
    id="conditions-list"
    title="List existing conditions for policies"
  >
    To view a list of existing conditions for your policy, use your [user key](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key), and the associated [`policy_id`](#policies-list) in the API call.

    <DNT>
      **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Conditions/get_alerts_conditions_json) > Alerts Conditions > GET > List**
    </DNT>

    ```shell
    curl -X GET 'https://api.newrelic.com/v2/alerts_conditions.json?policy_id=$POLICY_ID' \
         -H "$API_KEY" -i
    ```
  </Collapser>
</CollapserGroup>

## Conditions for NRQL [#conditions-nrql]

These API functions include links to the API Explorer, where you can create, update, delete, or list NRQL [conditions](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions) for your policies.

<DNT>**Exception:**</DNT> NRQL anomaly conditions are <DNT>**not available**</DNT> from this endpoint.

<Callout variant="important">
  If your organization hosts data in the EU data center, ensure you are using the proper [API endpoints for EU region accounts](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints).
</Callout>

<CollapserGroup>
  <Collapser
    id="create-nrql-conditions"
    title="Create NRQL conditions for policies"
  >
    Recommendation: Due to the way NRQL data is streamed, set the `aggregation_method` to `EVENT_FLOW` and use the default settings of `60` for `aggregation_window` and `120` for `aggregation_delay`. `EVENT_FLOW` works in most use-cases, but for a discussion on which use cases work better with `EVENT_TIMER`, see [Choose your aggregation method](/docs/alerts/create-alert/fine-tune/streaming-alerts-key-terms-concepts/#aggregation-methods).

    <DNT>
      **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20NRQL%20Conditions/post_alerts_nrql_conditions_policies__policy_id__json) > Alerts NRQL Conditions > POST > Create**
    </DNT>

    To create NRQL conditions for policies:

    ```shell
    curl -X POST 'https://api.newrelic.com/v2/alerts_nrql_conditions/policies/$POLICY_ID.json' \
         -H "$API_KEY" -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "nrql_condition": {
        "type": "string",
        "name": "string",
        "runbook_url": "string",
        "enabled": boolean,
        "terms": [
          {
            "duration": "string",
            "operator": "string",
            "priority": "string",
            "threshold": "string",
            "time_function": "string"
          }
        ],
        "value_function": "string",
        "nrql": {
          "query": "string"
        },
        "signal": {
          "aggregation_window": "string",
          "slide_by": "integer",
          "aggregation_method": "string",
          "aggregation_delay": integer,
          "aggregation_timer": integer,
          "fill_option": "string",
          "fill_value": "string"
        },
        "expiration": {
          "expiration_duration": "string",
          "open_violation_on_expiration": boolean,
          "close_violations_on_expiration": boolean
        }
      }
    }'
    ```

    If you omit `type` or set it as `static`, it will default to standard NRQL alerting.

    <Callout variant="important">
    Customers on [Advanced and Core Compute pricing plans](https://newrelic.com/pricing/compute#pricing_plan-compute) may incur additional CCU charges when utilizing sliding window aggregation. While this method enhances data analysis by smoothing out fluctuations, its use may lead to increased costs over other methods. For details, refer the [pricing section for sliding windows](/docs/nrql/using-nrql/create-smoother-charts-sliding-windows/#pricing). To determine whether you are on Advanced or Core Compute pricing plans, refer to your Order.
    </Callout>
  </Collapser>

  <Collapser
    id="update-nrql-conditions"
    title="Update NRQL conditions for policies"
  >
    To update NRQL conditions for policies, include these values in the API call:

    * Your [user key](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * The condition's `id` (available from [API Explorer <Icon name="fe-external-link"/>](https://api.newrelic.com/docs/#/Alerts%20NRQL%20Conditions/get_alerts_nrql_conditions_json) <DNT>**Alerts NRQL Conditions > GET > List**</DNT>)
    * The required `condition` values in the API call (described in the API Explorer page and in the [alerts conditions API glossary](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names))

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20NRQL%20Conditions/put_alerts_nrql_conditions__condition_id__json) > Alerts NRQL Conditions > PUT > Update**
      </DNT>

      ```shell
      curl -X PUT 'https://api.newrelic.com/v2/alerts_nrql_conditions/$CONDITION_ID.json' \
           -H "$API_KEY" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "nrql_condition": {
          "name": "string",
          "runbook_url": "string",
          "enabled": boolean,
          "terms": [
            {
              "duration": "string",
              "operator": "string",
              "priority": "string",
              "threshold": "string",
              "time_function": "string"
            }
          ],
          "value_function": "string",
          "nrql": {
            "query": "string"
          }
        }
      }'
      ```
  </Collapser>

  <Collapser
    id="delete-nrql-conditions"
    title="Delete NRQL conditions for policies"
  >
    To delete NRQL conditions from policies, include these values in the API call:

    * Your [user key](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * The condition's `id` (available from [API Explorer <Icon name="fe-external-link"/>](https://api.newrelic.com/docs/#/Alerts%20NRQL%20Conditions/get_alerts_nrql_conditions_json) <DNT>**Alerts NRQL Conditions > GET > List**</DNT>)

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20NRQL%20Conditions/delete_alerts_nrql_conditions__condition_id__json) > Alerts NRQL Conditions > DELETE > Delete**
      </DNT>

      ```shell
      curl -X DELETE 'https://api.newrelic.com/v2/alerts_nrql_conditions/$CONDITION_ID.json' \
           -H "$API_KEY" -i
      ```
  </Collapser>

  <Collapser
    id="list-nrql-conditions"
    title="List existing NRQL conditions for policies"
  >
    To view a list of existing conditions for your alert policy, use your user key and the associated [`policy_id`](#policies-list) in the API call.

    <DNT>
      **[API Explorer]https://api.newrelic.com/docs/#/Alerts%20NRQL%20Conditions/get_alerts_nrql_conditions_json) > Alerts NRQL Conditions > GET > List**
    </DNT>

    ```shell
    curl -X GET 'https://api.newrelic.com/v2/alerts_nrql_conditions.json' \
         -H "$API_KEY" -i \
         -d 'policy_id=$POLICY_ID'
    ```
  </Collapser>
</CollapserGroup>

## Conditions for external services [#ext-services-conditions]

These API functions include links to the API Explorer, where you can create, update, delete, or list policy [conditions](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions). These calls are for conditions for external services. The API calls can be used with <InlinePopover type="apm"/> and mobile monitoring apps.

<Callout variant="important">
  If your organization hosts data in the EU data center, ensure you are using the proper [API endpoints for EU region accounts](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints).
</Callout>

<CollapserGroup>
  <Collapser
    id="ext-conditions-create"
    title="External services: Create conditions for policies"
  >
    To add conditions for external services to policies that have APM or mobile monitoring apps, include these values in the API call:

    * Your [user key](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * The `policy_id` (available from <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Policies/get_alerts_policies_json) > Alerts Policies > GET > List**</DNT>)
    * The required `external_service_condition` values in the API call (described in the API Explorer page and in the [Alerts conditions API glossary](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names))

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20External%20Service%20Conditions/post_alerts_external_service_conditions_policies__policy_id__json) > Alerts External Service Conditions > POST > Create**
      </DNT>

      ```shell
      curl -X POST 'https://api.newrelic.com/v2/alerts_external_service_conditions/policies/$POLICY_ID.json' \
           -H "$API_KEY" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "external_service_condition": {
          "type": "string",
          "name": "string",
          "enabled": boolean,
          "entities": [
            integer
          ],
          "external_service_url": "string",
          "metric": "string",
          "runbook_url": "string",
          "terms": [
            {
              "duration": "string",
              "operator": "string",
              "priority": "string",
              "threshold": "string",
              "time_function": "string"
            }
          ]
        }
      }'
      ```

      The JSON response returns a condition `id`, which you will need to update or delete the condition. You can also view the condition `id` from <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20External%20Service%20Conditions/get_alerts_external_service_conditions_json) > Alerts External Service Conditions > GET > List**</DNT>.
  </Collapser>

  <Collapser
    id="ext-conditions-update"
    title="External services: Update conditions for policies"
  >
    To update conditions for external services to policies that have APM or mobile monitoring apps, include these values in the API call:

    * Your [user key](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * The external service condition's `id` (available from <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20External%20Service%20Conditions/get_alerts_external_service_conditions_json) > Alerts External Service Conditions > GET > List**</DNT>)
    * The required `external_service_condition` values in the API call (described in the API Explorer page and in the [alerts conditions API glossary](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names))

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20External%20Service%20Conditions/put_alerts_external_service_conditions__condition_id__json) > Alerts External Service Conditions > PUT > Update**
      </DNT>

      ```shell
      curl -X PUT 'https://api.newrelic.com/v2/alerts_external_service_conditions/$CONDITION_ID.json' \
           -H "$API_KEY" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "external_service_condition": {
          "type": "string",
          "name": "string",
          "enabled": boolean,
          "entities": [
            integer
          ],
          "external_service_url": "string",
          "metric": "string",
          "runbook_url": "string",
          "terms": [
            {
              "duration": "string",
              "operator": "string",
              "priority": "string",
              "threshold": "string",
              "time_function": "string"
            }
          ]
        }
      }'
      ```
  </Collapser>

  <Collapser
    id="ext-conditions-delete"
    title="External services: Delete conditions from policies"
  >
    To delete conditions for external services from policies with APM or mobile monitoring apps, include these values in the API call:

    * Your [user key](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * The `condition_id` (available from <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20External%20Service%20Conditions/get_alerts_external_service_conditions_json) > Alerts External Service Conditions > GET > List**</DNT>)

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20External%20Service%20Conditions/delete_alerts_external_service_conditions__condition_id__json) > Alerts External Service Conditions > DELETE**
      </DNT>


      ```shell
      curl -X DELETE 'https://api.newrelic.com/v2/alerts_external_service_conditions/$CONDITION_ID.json' \
           -H "$API_KEY" -i
      ```
  </Collapser>

  <Collapser
    id="ext-conditions-list"
    title="External services: List existing conditions for policies"
  >
    To view a list of existing conditions for policies with external service apps (APM or mobile monitoring), use your [user key](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key) and the associated [`policy_id`](#policies-list) in the API call.

    <DNT>
      **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20External%20Service%20Conditions/get_alerts_external_service_conditions_json) > Alerts External Service Conditions > GET > List**
    </DNT>

    ```shell
    curl -X GET 'https://api.newrelic.com/v2/alerts_external_service_conditions.json' \
         -H "$API_KEY" -i \
         -d 'policy_id=$POLICY_ID'
    ```
  </Collapser>
</CollapserGroup>

## Conditions for synthetic monitoring [#synthetics-conditions]

These API functions include links to the API Explorer, where you can create, update, delete, or list [conditions](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions) for your alert policies. The API calls can be used with synthetic monitoring.

<CollapserGroup>
 <Collapser
    id="synthetics-conditions-create"
    title="Synthetic monitoring: Create conditions for policies"
  >
    To add conditions to policies for synthetic monitoring, include these values in the API call:

    * Your [user key](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * The `policy_id` (available from <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Policies/get_alerts_policies_json) > Alerts Policies > GET > List**</DNT>)
    * The required `synthetics_condition` values in the API call (described in the API Explorer page and in the [alerts conditions API glossary](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names))

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Synthetics%20Conditions/post_alerts_synthetics_conditions_policies__policy_id__json) > Alerts Synthetics Conditions > POST > Create**
      </DNT>

      ```shell
      curl -X POST 'https://api.newrelic.com/v2/alerts_synthetics_conditions/policies/$POLICY_ID.json' \
           -H "$API_KEY" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "synthetics_condition": {
          "name": "string",
          "monitor_id": "string",
          "runbook_url": "string",
          "enabled": boolean
        }
      }'
      ```

      The JSON response returns a condition `id`, which you will need to update or delete the condition. You can also view the condition `id` from <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Synthetics%20Conditions/get_alerts_synthetics_conditions_json) > Alerts Synthetics Conditions > GET > List**</DNT>.
  </Collapser>

<Collapser
    id="conditions-update"
    title="Update conditions for policies"
  >
    To update conditions for policies, include these values in the API call:

    * Your [user key](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * The condition's `id` (available from <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Conditions/get_alerts_conditions_json) > Alerts Conditions > GET > List**</DNT>)
    * The required `condition` values in the API call (described in the API Explorer page and in the [alerts conditions API glossary](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names))

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Conditions/put_alerts_conditions__condition_id__json) > Alerts Conditions > PUT > Update**
      </DNT>


      ```shell
      curl -X PUT 'https://api.newrelic.com/v2/alerts_conditions/$CONDITION_ID.json' \
           -H "X-Api-Key:$API_KEY" -i \
           -H "$API_KEY" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "condition": {
          "type": "string",
          "name": "string",
          "enabled": boolean,
          "entities": [
            integer
          ],
          "metric": "string",
          "metric": "string",
          "gc_metric": "string",
          "condition_scope": "string",
          "violation_close_timer": integer,
          "runbook_url": "string",
          "terms": [
            {
              "duration": "string",
              "operator": "string",
              "priority": "string",
              "threshold": "string",
              "time_function": "string"
            }
          ],
          "user_defined": {
            "metric": "string",
            "value_function": "string"
          }
        }
      }'
      ```
  </Collapser>
  
  <Collapser
    id="synthetics-conditions-delete"
    title="Synthetic monitoring: Delete conditions from policies"
  >
    To delete policy conditions for synthetic monitoring, include these values in the API call:

    * Your [user key](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * The `condition_id` (available from <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Synthetics%20Conditions/get_alerts_synthetics_conditions_json) > Alerts Synthetics Conditions > GET > List**</DNT>)

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Synthetics%20Conditions/delete_alerts_synthetics_conditions__condition_id__json) > Alerts Synthetics Conditions > DELETE**
      </DNT>

      ```shell
      curl -X DELETE 'https://api.newrelic.com/v2/alerts_synthetics_conditions/$CONDITION_ID.json' \
           -H "$API_KEY" -i
      ```
  </Collapser>

  <Collapser
    id="synthetics-conditions-list"
    title="Synthetic monitoring: List existing conditions for policies"
  >
    To view a list of existing policy conditions for synthetic monitoring, use your [user key](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key) and the associated [`policy_id`](#policies-list) in the API call.

    <DNT>
      **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Synthetics%20Conditions/get_alerts_synthetics_conditions_json) > Alerts Synthetics Conditions > GET > List**
    </DNT>

    ```shell
    curl -X GET 'https://api.newrelic.com/v2/alerts_synthetics_conditions.json' \
         -H "$API_KEY" -i \
         -d 'policy_id=$POLICY_ID'
    ```
  </Collapser>
</CollapserGroup>

## Multi-location conditions for synthetic monitoring [#multilocation-synthetics-conditions]

These API functions include links to the API Explorer, where you can create, update, delete, or list [conditions](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions) for your alert policies. The API calls can be used for multi-location conditions with synthetic monitoring. Before creating or updating a condition, read the [rules for multi-location alert conditions](/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/advanced-techniques/multi-location-synthetic-monitoring-alert-conditions/#rules).

<CollapserGroup>
  <Collapser
    id="multilocation-synthetics-conditions-create"
    title="Multi-location synthetics: Create conditions for policies"
  >
    To add conditions to policies for multi-location synthetic monitoring, include these values in the API call:

    * Your [user key](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * The `policy_id` (available from <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Policies/get_alerts_policies_json) > Alerts Policies > GET > List**</DNT>)
    * The required `location_failure_condition` values in the API call (described in the API Explorer page and in the [alerts conditions API glossary](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names))

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Deprecation%20Notice%20-%20Alerts%20Location%20Failure%20Conditions/post_alerts_location_failure_conditions_policies__policy_id__json) > Alerts Location Failure Conditions > POST > Create**
      </DNT>

      ```shell
      curl -X POST 'https://api.newrelic.com/v2/alerts_location_failure_conditions/policies/$POLICY_ID.json' \
           -H "$API_KEY" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "location_failure_condition": {
          "name": "string",
          "runbook_url": "string",
          "enabled": boolean,
          "entities":
          [
            "string"
          ],
          "terms": [
            {
              "priority": "string",
              "threshold": integer,
            }
          ],
          "violation_time_limit_seconds": integer
        }
      }'
      ```

      The JSON response returns a condition `id`, which you will need to update or delete the condition. You can also view the condition `id` from <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Deprecation%20Notice%20-%20Alerts%20Location%20Failure%20Conditions/get_alerts_location_failure_conditions_policies__policy_id__json) > Alerts Location Failure Conditions > GET > List**</DNT>.
  </Collapser>

  <Collapser
    id="multilocation-synthetics-conditions-update"
    title="Multi-location synthetics: Update conditions for policies"
  >
    To update policy conditions for multi-location synthetic monitoring, include these values in the API call:

    * Your [user key](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * The condition `id` (available from <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Deprecation%20Notice%20-%20Alerts%20Location%20Failure%20Conditions/get_alerts_location_failure_conditions_policies__policy_id__json) > Alerts Location Failure Conditions > GET > List**</DNT>)
    * The required `location_failure_condition` values in the API call (described in the API Explorer page and in the [alerts conditions API glossary](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names))

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Deprecation%20Notice%20-%20Alerts%20Location%20Failure%20Conditions/put_alerts_location_failure_conditions__condition_id__json) > Alerts Location Failure Conditions > PUT > Update**
      </DNT>

      ```shell
      curl -X PUT 'https://api.newrelic.com/v2/alerts_location_failure_conditions/$CONDITION_ID.json' \
           -H "$API_KEY" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "location_failure_condition": {
          "name": "string",
          "runbook_url": "string",
          "enabled": boolean,
          "entities":
          [
            "string"
          ],
          "terms": [
            {
              "priority": "string",
              "threshold": integer,
            }
          ],
          "violation_time_limit_seconds": integer
        }
      }'
      ```
  </Collapser>

  <Collapser
    id="multilocation-synthetics-conditions-delete"
    title="Multi-location synthetics: Delete conditions for policies"
  >
    To delete policy conditions for multi-location synthetic monitoring, include these values in the API call:

    * Your [user key](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * The `condition_id` (available from <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Deprecation%20Notice%20-%20Alerts%20Location%20Failure%20Conditions/get_alerts_location_failure_conditions_policies__policy_id__json) > Alerts Location Failure Conditions > GET > List**</DNT>)

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Deprecation%20Notice%20-%20Alerts%20Location%20Failure%20Conditions/delete_alerts_location_failure_conditions__condition_id__json) > Alerts Location Failure Conditions > DELETE**
      </DNT>

      ```shell
      curl -X DELETE 'https://api.newrelic.com/v2/alerts_location_failure_conditions/$CONDITION_ID.json' \
           -H "$API_KEY" -i
      ```
  </Collapser>

  <Collapser
    id="multilocation-synthetics-conditions-list"
    title="Multi-location synthetics: List existing conditions for policies"
  >
    To view a list of existing policy conditions for multi-location synthetic monitoring, use your [user key](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key) and the associated [`policy_id`](#policies-list) in the API call.

    <DNT>
      **[API Explorer](https://api.newrelic.com/docs/#/Deprecation%20Notice%20-%20Alerts%20Location%20Failure%20Conditions/get_alerts_location_failure_conditions_policies__policy_id__json) > Alerts Location Failure Conditions > GET > List**
    </DNT>

    ```shell
    curl -X GET 'https://api.newrelic.com/v2/alerts_location_failure_conditions/policies/$POLICY_ID.json' \
         -H "$API_KEY" -i
    ```
  </Collapser>
</CollapserGroup>

## Alert entity conditions [#alert-entity-conditions]

These API functions include links to the API Explorer, where you can list, add and remove entities in the conditions for your alert policies.

<Callout variant="important">
  If your organization hosts data in the EU data center, ensure you are using the proper [API endpoints for EU region accounts](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints).
</Callout>

<CollapserGroup>
  <Collapser
    id="list-condition-by-entity"
    title="List condition by entity"
  >
    To view the [conditions](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-condition) an [entity](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity) that apply to an entity in APM, browser, mobile, or key transactions, include these values in the API call:

    * Your [user key.](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * The `entity_id` This is the specific [entity (alert target)](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity) to be monitored.
    * The `entity_type`, which must be one of the following:

      * `Application`
      * `BrowserApplication`
      * `MobileApplication`
      * `KeyTransaction`

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Entity%20Conditions/get_alerts_entity_conditions__entity_id__json) > Alerts Entity Conditions > GET > list**
      </DNT>

      ```shell
      curl -X GET 'https://api.newrelic.com/v2/alerts_entity_conditions/$ENTITY_ID.json' \
           -H "$API_KEY" -i \
           -G -d 'entity_type=$ENTITY_TYPE'
      ```
  </Collapser>

  <Collapser
    id="add-entity"
    title="Add an entity to a condition"
  >
    To add an [entity](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity) to a condition, include these values in the API call:

    * Your [user key](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * The `entity_id` This is the [entity (alert target)](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity) to be monitored. It is the numeric ID for the APM application, browser app, key transaction, or mobile app.
    * The `condition_id` (available from <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Conditions/get_alerts_conditions_json) > Alerts Conditions > GET > List**</DNT>)
    * The `entity_type`, which must be one of the following:

      * `Application`
      * `BrowserApplication`
      * `MobileApplication`
      * `KeyTransaction`

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Conditions/get_alerts_conditions_json) > Alerts Entity Conditions > PUT > Add**
      </DNT>

      ```shell
      curl -X PUT 'https://api.newrelic.com/v2/alerts_entity_conditions/$ENTITY_ID.json' \
           -H "$API_KEY" -i \
           -H 'Content-Type: application/json' \
           -G -d 'entity_type=$ENTITY_TYPE&condition_id=$CONDITION_ID'
      ```
  </Collapser>

  <Collapser
    id="remove_entity"
    title="Remove an entity from a condition"
  >
    To remove an [entity](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity) being monitored from a condition, include these values in the API call:

    * Your [user key](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * The `entity_id` This is the specific monitored [entity (alert target)](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity) to be removed. It is the numeric ID for the APM application, browser app, key transaction, or mobile app.
    * The `condition_id` (available from <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Conditions/get_alerts_conditions_json) > Alerts Conditions > GET > List**</DNT>)
    * The `entity_type`, which must be one of the following:

      * `Application`
      * `BrowserApplication`
      * `MobileApplication`
      * `KeyTransaction`

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Entity%20Conditions/delete_alerts_entity_conditions__entity_id__json) > Alerts Entity Conditions > DELETE > Remove**
      </DNT>

      ```shell
      curl -X DELETE 'https://api.newrelic.com/v2/alerts_entity_conditions/$ENTITY_ID.json' \
           -H "$API_KEY" -i \
           -G -d 'entity_type=$ENTITY_ID&condition_id=$CONDITION_ID'
      ```
  </Collapser>
</CollapserGroup>
