---
title: Upload dSYM files
tags:
  - Mobile monitoring
  - New Relic Mobile iOS
  - Configuration
metaDescription: How to retrieve dSYMs for crash reports from Bitcode-enabled iOS apps monitored with New Relic mobile monitoring.
redirects:
  - /docs/mobile-monitoring/new-relic-mobile-ios/install-configure/upload-dsyms-bitcode-apps
---

Your app's dSYM files are stored in Xcode's dSYM archive path folder. This is the folder where the iOS agent gets the dSYM files that are used to symbolicate your crash reports.

New Relic provides a post-build script as part of the [iOS agent's install process](/docs/mobile-monitoring/mobile-monitoring-installation/getting-started/ios-installation-configuration) and the [tvOS agent's install process](/docs/mobile-monitoring/new-relic-mobile-ios/get-started/tvos-installation-configuration). This script automatically uploads your app's dSYM files.

## Automatic script [#Automatic]

The script automatically uploads dSYM files **only for release builds**. Non-release builds must upload their files either [manually](#manual-dsym) or through the [mobile monitoring UI](#mobile-ui). Bitcode-enabled apps have their dSYM files generated by Apple. You must [download the dSYM files for Bitcode-enabled apps from Apple](/docs/mobile-monitoring/new-relic-mobile-ios/install-configure/retrieve-upload-dsyms-bitcode-enabled-apps) and upload them to New Relic.

If you see unreadable machine code in the [**Crashes** page](/docs/mobile-monitoring/mobile-monitoring-ui/crashes/mobile-apps-crashes-dashboard), your dSYM files may not be uploaded correctly. In some cases, you may need to [manually upload dSYM files](#manual-dsym).

The automatic script uses Python 2. As of October 2019 with [macOS 10.15 (Catalina)](https://developer.apple.com/documentation/macos_release_notes/macos_catalina_10_15_beta_10_release_notes#3318248), Python won't be installed by default. If you're using the automatic script (recommended), you may need to manually install [Python 2](https://www.python.org/downloads/mac-osx/). If you're using Homebrew, see [Python on Homebrew](https://docs.brew.sh/Homebrew-and-Python).

## Identify missing dSYMs [#IdentifyingMissingdSYMs]

When a Bitcode-enabled app is uploaded to Apple for App Store review or ad-hoc distribution, dSYMs need to be manually downloaded from Apple and uploaded to New Relic to allow the [mobile crash reports](/docs/mobile-monitoring/new-relic-mobile/getting-started/ios-agent-crash-reporting) to be properly symbolicated. These dSYMs can be downloaded through the archives organizer in Xcode within several minutes of uploading the app. In this situation follow the procedures to [find the archive and download dSYMs](#Archive).

If an app is missing a dSYM file, you'll see three indicators in the mobile monitoring UI:

* **Banner notification**: A banner warning appears on the [**Crash report** page](/docs/mobile-monitoring/mobile-monitoring-ui/crashes/mobile-apps-crash-report-dashboard). The warning reads:

```
We were unable to locate your dsym.
```

* **Upload prompt**: From the **Crash type summary** page you will be automatically prompted to upload a dSYM file if it is missing.
* **Machine code**: The crash stack trace on the **Crash report** page displays machine code and not a human-readable error message.

## Upload dSYM files through the mobile monitoring UI [#mobile-ui]

You can easily upload your dSYM files directly from the New Relic One UI. The maximum file size is 600 MB. To upload your dSYM files:

1. Go to [one.newrelic.com](https://one.newrelic.com) and click **Mobile**. Then select your app from the list.
2. View **Crash analysis**.
3. Select a specific crash from the **Crash types** list.
4. Click **Upload dSYM**. You can either drag and drop your dSYMs directly, or select the file form your computer.

## Manually upload dSYM files [#manual-dsym]

In some circumstances, New Relic's automatic upload of dSYM files may fail. If a dSYM upload is attempted and fails, it creates a build error with a detailed message. For example, if there's a network failure and the dSYM upload isn't completed, Xcode will report an error. For additional information about how New Relic handles dSYM uploads, see [New Relic's Online Technical Community](https://discuss.newrelic.com/t/relic-solution-ios-dsym-upload-deep-dive/42513).

If the automatic upload fails, you can manually upload your dSYM file. If you have multiple dSYM files, they can be within a single zip with a maximum file size of 600 MB. The <var>YOUR_NEW_RELIC_APPLICATION_TOKEN</var> value in the commands below is the same key used for `+[NewRelic startWithApplicationToken:]` (in Objective-C) or `NewRelic.start(withApplicationToken:)` (in Swift).

To manually upload your dSYM files:

<CollapserGroup>
  <Collapser
    id="python-manual-upload"
    title="Via Python script (agent versions 6.0.0 or higher)"
  >
    In iOS agent versions 6.0.0 or higher, the agent includes a Python script that automatically processes and uploads symbols. You can call this script from the command line:

    ```
    NewRelicAgent.framework/Resources/generateMap.py "<var>DSYM_ARCHIVE_PATH</var>" "<var>YOUR_NEW_RELIC_APPLICATION_TOKEN</var>"
    ```
  </Collapser>

  <Collapser
    id="command-line-manual-upload"
    title="Via command line"
  >
    To manually upload individual dSYM files from the command line:

    1. Zip up your dSYM file or files using the following command. Replace <var>{'~'}/ZIPPED_DSYM_PATH</var> with your new dSYM archive path and file name (for example, <var>Users/my-name/desktop</var>). Also replace <var>{'~'}/dSYM_PATH</var> with your existing dSYM file path.

       ```
       /usr/bin/zip --recurse-paths --quiet "<var>~/ZIPPED_DSYM_PATH</var>" "<var>~/dSYM_PATH</var>"
       ```
    2. Upload the dSYM zip file using the following command:

       * For **US accounts**:

         ```
         curl -F dsym=@"<var>~/DSYM_ZIP_PATH</var>" -H "X-APP-LICENSE-KEY: <var>YOUR_NEW_RELIC_APPLICATION_TOKEN</var>" https://mobile-symbol-upload.newrelic.com/symbol
         ```
       * For **EU accounts**:

         ```
         curl -F dsym=@"<var>~/DSYM_ZIP_PATH</var>" -H "X-APP-LICENSE-KEY: <var>YOUR_NEW_RELIC_APPLICATION_TOKEN</var>" https://mobile-symbol-upload.eu01.nr-data.net/symbol
         ```
  </Collapser>
</CollapserGroup>

## Troubleshooting [#auto-upload-fail-troubleshooting]

### Auto-upload failure [#troubleshooting-auto-upload]

If a dSYM auto-upload failed, the **Report Navigator** may have a fully formed cURL command. You can use this cURL command to reattempt an upload. Depending on the error, you may also need to follow some of the [dSYM manual upload steps](#manual-dsym).

Here is an example of a successful dSYM upload in the **Report Navigator**:

![iOS-Agent-PostBuildScript-Example.png](./images/Screen-Shot-2014-09-23-at-11.30.35-AM_0.png "iOS-Agent-PostBuildScript-Example.png")

<figcaption>
  **Example:** A successful dSYM upload in the **Report Navigator**.
</figcaption>

### Missing dSYMs [#troubleshooting-missing-dsyms]

If dSYM files are missing, you may need to check Xcode build settings to ensure the file is being generated. Frameworks which are built locally have separate build settings and may need to be updated as well.

Build settings:

```
Debug Information Format : Dwarf with dSYM File
Deployment Postprocessing: Yes
Strip Linked Product: Yes
Strip Debug Symbols During Copy : Yes
```
