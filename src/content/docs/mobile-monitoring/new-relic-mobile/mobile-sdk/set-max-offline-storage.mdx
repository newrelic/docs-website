---
title: Set max offline storage size
type: apiDoc
shortDescription: 'Sets the maximum size that can be stored in offline storage.'
tags:
  - Mobile monitoring
  - Mobile SDK API
  - Custom instrumentation
metaDescription: Mobile app monitoring API used to set the maximum size of offline storage.
---

<Tabs>
	<TabsBar>
        <TabsBarItem id="android">
            Android
        </TabsBarItem>
        <TabsBarItem id="ios">
            iOS
        </TabsBarItem>
    </TabsBar>

    <TabsPages>
        <TabsPageItem id="android">
## Syntax [#syntax]

### Java [#java]

```java
NewRelic.setMaxOfflineStorageSize(int $megaBytes)
```

### Kotlin [#kotlin]

```kotlin
NewRelic.setMaxOfflineStorageSize(megaBytes: Int)
```

## Description [#description]

Sets the maximum size of total data that can be stored for offline storage.

By default, mobile monitoring can collect a maximum of 100 megaBytes of offline storage. When a data payload fails to send because the device doesn't have an internet connection, it can be stored in the file system until an internet connection has been made. At which point all offline data is sent to New Relic and cleared from storage.
This method controls the maximum amount of offline storage that can be stored in the file system. When the size limit is reached, the New Relic agent will discard the new payloads that couldn't be stored. This method lets you override the maximum size of that offline storage. 


<Callout variant="important">
  Offline storage is disable by default but can be enabled with a feature flag using the enableFeature function. See [Configure mobile monitoring settings](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/configure-settings) to enable offline storage.
</Callout>


## Parameters [#parameters]

<table>
  <thead>
    <tr>
      <th width={200}>
        Parameter
      </th>
      <th width={200}>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `$megaBytes`
      </td>

            <td>
        `int`
      </td>

      <td>
        Required. Maximum size in megaBytes that can be stored in the file system.
      </td>
    </tr>
  </tbody>
</table>

## Example [#example]

Here's an example to set max offline storage size to 1000:

### Java [#java]

```java
NewRelic.setMaxOfflineStorageSize(1000);
```

### Kotlin [#kotlin]

```kotlin
NewRelic.setMaxOfflineStorageSize(1000)
```

        </TabsPageItem>
        <TabsPageItem id="ios">

## Syntax [#syntax]

### Objective-C [#objc]

```objectivec
+ (void) setMaxOfflineStorageSize:(unsigned int)size;
```

### Swift [#swift]

```swift
NewRelic.setMaxOfflineStorageSize(unsigned int $size)
```

## Description [#description]

Sets the maximum size of total data that can be stored for offline storage.

By default, mobile monitoring can collect a maximum of 100 megaBytes of offline storage. When a data payload fails to send because the device doesn't have an internet connection, it can be stored in the file system until an internet connection has been made. At which point all offline data is sent to New Relic and cleared from storage.
This method controls the maximum amount of offline storage that can be stored in the file system. When the size limit is reached, the New Relic agent will discard the new payloads that couldn't be stored. This method lets you override the maximum size of that offline storage. 


<Callout variant="important">
  Offline storage is disable by default but can be enabled with a feature flag using the enableFeature function. See [Configure mobile monitoring settings](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/configure-settings) to enable offline storage.
</Callout>

## Parameters [#parameters]

<table>
  <thead>
    <tr>
      <th width={200}>
        Parameter
      </th>

      <th width={200}>
        Type
      </th> 

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `$megaBytes`
      </td>

      <td>
        `unsigned int`
      </td>

      <td>
        Required. Maximum size in megaBytes that can be stored in the file system.
      </td>
    </tr>
  </tbody>
</table>

## Examples [#examples]

### Objective-C [#obj-c]

```objectivec
BOOL poolSizeSet = [NewRelic setMaxOfflineStorageSize:1000];
```

### Swift [#swift]

```swift
let poolSizeSet = NewRelic.setMaxOfflineStorageSize(1000)
```

</Tabs>
