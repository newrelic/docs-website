---
title: Android agent compatibility and requirements
tags:
  - Mobile monitoring
  - New Relic Mobile Android
  - Get started
translate:
  - jp
metaDescription: 'Compatible build systems, OS versions, and more for the Android agent.'
---

Mobile monitoring is compliant with standard application stores, including Google Play Store, Amazon Appstore, and others. Before you [install and configure the mobile agent](/docs/mobile-monitoring/new-relic-mobile-android/install-configure) with your Android applications, follow these guidelines for compatibility and other requirements.

## Foreground monitoring [#foreground]

The Android agent only monitors your app while it is in the foreground. The agent does not monitor background services while the app is closed. For more information, see our [Mobile data privacy and security documentation](/docs/mobile-monitoring/new-relic-mobile/get-started/security-mobile-apps).

## Android compatibility [#compatibility]

Make sure your Android app meets these requirements:

<table>
  <thead>
    <tr>
      <th width={200}>
        Component
      </th>

      <th>
        Application requirements
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Operating system
      </td>

      <td>
        Android 5.0 or higher

        * Version **6.0.0** and higher: Build must be compiled with Android SDK Tools version 21 or higher.
        * Version **5.0.0** and higher: Build must be compiled with Android SDK Tools version 14 or higher.
      </td>
    </tr>

    <tr>
      <td>
        API/SDK
      </td>

      <td>
        HttpURLConnection, OkHttp2 (except versions 2.0 and 2.4), OkHttp (versions 2.8, 3.5+, 4.0+), OkIO (version 1.11), AndroidHttpClient, Volley (version 1.0.0), and Apache HTTP Client networking APIs

        Build with Android SDK Tools version 21 or higher and the following as appropriate:

        * Android Studio
        * Gradle 3.3
        * Gradle plugin 3.4
        * Proguard 5.0
        * DexGuard 7.2.04 through 8.x

          <Callout variant="important">
            As of January 2021, our Android agent discontinued support for Android Gradle Plugin version 2. For more information, see our [Explorers Hub post](https://discuss.newrelic.com/t/important-upcoming-changes-to-capabilities-across-browser-php-python-mobile-and-android-agents/123951).
          </Callout>

          Upgrade to the most recent version before installing the Android agent.
      </td>
    </tr>

    <tr>
      <td>
        Languages
      </td>

      <td>
        Java 1.7 through Java 9. JDK 11 is supported in version 6.2.0 and higher.
      </td>
    </tr>

    <tr>
      <td>
        Devices
      </td>

      <td>
        Any Android compatible device (smartphones, tablets, etc.)
      </td>
    </tr>

    <tr>
      <td>
        File sizes
      </td>

      <td>
        The agent adds less than 500KB to your release APK.
      </td>
    </tr>

    <tr>
      <td>
        Architectures
      </td>

      <td>
        ARM, Intel Atom
      </td>
    </tr>

    <tr>
      <td>
        Signature validation
      </td>

      <td>
        The agent cannot instrument JARs that use [signature validation](https://docs.oracle.com/javase/7/docs/technotes/guides/jar/jar.html#Signature_Validation) during signing. JARs with manifests containing `SHA1-Digest` or `SHA-256-Digest` attributes will not be modified.
      </td>
    </tr>
  </tbody>
</table>

## Agent and Gradle compatibility [#agent-gradle]

The following are compatible versions of the New Relic Android agent, Gradle, and the [Android Gradle plugin](https://developer.android.com/studio/releases/gradle-plugin).

<Callout variant="important">
  As of January 2021, our Android agent discontinued support for Android Gradle Plugin version 2. For more information, see our [Explorers Hub post](https://discuss.newrelic.com/t/important-upcoming-changes-to-capabilities-across-browser-php-python-mobile-and-android-agents/123951).
</Callout>

<table>
  <thead>
    <tr>
      <th width={200}>
        Android Gradle plugin
      </th>

      <th>
        New Relic Android agent compatibility
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [2.3](https://developer.android.com/studio/releases/gradle-plugin#2-3-0)
      </td>

      <td>
        No longer supported in versions 6.0 and higher. [5.25](/docs/release-notes/mobile-release-notes/android-release-notes/android-5252) - [5.26](/docs/release-notes/mobile-release-notes/android-release-notes/android-5260-0) are not supported
      </td>
    </tr>

    <tr>
      <td>
        [3.0](https://developer.android.com/studio/releases/gradle-plugin#3-0-0) - [3.3](https://developer.android.com/studio/releases/gradle-plugin#3-3-0)
      </td>

      <td>
        No longer supported in versions 6.0 and higher.
      </td>
    </tr>

    <tr>
      <td>
        [3.4](https://developer.android.com/studio/releases/gradle-plugin#3-4-0)
      </td>

      <td>
        [5.25](/docs/release-notes/mobile-release-notes/android-release-notes/android-5252) and higher
      </td>
    </tr>

    <tr>
      <td>
        [4.+](https://developer.android.com/studio/releases/gradle-plugin#4-0-0)
      </td>

      <td>
        [5.26](/docs/release-notes/mobile-release-notes/android-release-notes/android-5260-0) and higher
      </td>
    </tr>

    <tr>
      <td>
        [7.1.0](https://developer.android.com/studio/releases/gradle-plugin#7-1-0)
      </td>

      <td>
        [6.2.0](/docs/release-notes/mobile-release-notes/android-release-notes/android-620) and higher
      </td>
    </tr>
  </tbody>
</table>

## Kotlin and Kotlin DSL [#kotlin]

You can also use [Kotlin projects with Gradle](https://kotlinlang.org/docs/reference/using-gradle.html) and New Relic's Android agent.

### Kotlin DSL support by Android agent version [#Kotlin-DSL-support-by-Android-agent-version]

With the exception of incompatibilities noted with [Android Gradle](#agent-gradle), New Relic's Android agent is compatible with versions **1.3 - 1.4** of the Kotlin Gradle Plugin.

<table>
  <thead>
    <tr>
      <th width={200}>
        Kotlin DSL version
      </th>

      <th>
        New Relic Android agent compatibility
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        1.2
      </td>

      <td>
        Unsupported
      </td>
    </tr>

    <tr>
      <td>
        1.3
      </td>

      <td>
        * **5.24 and lower:** Requires Kotlin Gradle Plugin version 1.3.10 or higher
        * **5.25:** Requires Kotlin Gradle Plugin version 1.3.10 or higher
        * **5.26:** Unsupported in Android agent versions 5.26.0 through 5.28.0
      </td>
    </tr>

    <tr>
      <td>
        1.4
      </td>

      <td>
        * **5.24 and lower:** Requires Kotlin Gradle Plugin version 1.3.10 or higher
        * **5.25:** Supported
        * **5.26:** Unsupported in Android agent versions 5.26.0 through 5.28.0
      </td>
    </tr>
  </tbody>
</table>

### Kotlin DSL support by AGP version [#kotlin-andoid-gradle]

Kotlin DSL support was officially added to Android Gradle Plugin in version 4.1, but many developers are already using it in place of Groovy.

<table id="Kotlin-DSL-support-by-Android-agent-version">
  <thead>
    <tr>
      <th width={200}>
        Kotlin DSL version
      </th>

      <th>
        Android Gradle Plugin and Android Gradle compatibility
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        1.3
      </td>

      <td>
        * **3.2 (AGP), 4.6 (Gradle) :** Requires Kotlin Gradle Plugin version 1.3.10 or higher
        * **3.3 (AGP), 5.1.1 (Gradle):** Requires Kotlin Gradle Plugin version 1.3.10 or higher
        * **3.4 (AGP), 5.1.1 (Gradle):** Requires Kotlin Gradle Plugin version 1.3.10 or higher
        * **3.5 (AGP), 5.4.1 (Gradle):** Requires Kotlin Gradle Plugin version 1.3.10 or higher
        * **3.6 (AGP), 5.6.4 (Gradle):** Requires Kotlin Gradle Plugin version 1.3.40 or higher
        * **4.0 (AGP), 6.1.1 (Gradle):** Requires Kotlin Gradle Plugin version 1.3.40 or higher
        * **4.1 (AGP), 6.5 (Gradle):** Requires Kotlin Gradle Plugin version 1.3.40 or higher
      </td>
    </tr>

    <tr>
      <td>
        1.4
      </td>

      <td>
        * **3.2 (AGP), 4.6 (Gradle) :** Requires Gradle 5.3
        * **3.3 (AGP), 5.1.1 (Gradle):** Requires Gradle 5.3
        * **3.4 (AGP), 5.1.1 (Gradle):** Supported
        * **3.5 (AGP), 5.4.1 (Gradle):** Supported
        * **3.6 (AGP), 5.6.4 (Gradle):** Supported
        * **4.0 (AGP), 6.1.1 (Gradle):** Supported
        * **4.1 (AGP), 6.5 (Gradle):** Supported
      </td>
    </tr>
  </tbody>
</table>

## Unit testing not supported [#testing]

Our New Relic mobile agents are designed and tested to work in a normal app lifecycle. We do not support running any testing environment on applications with the agent. Testing can cause conflicts and unpredictable behavior.
