---
title: "Configure New Relic ABAP add-on package"
metaDescription: "Configure New Relic ABAP add-on package."
freshnessValidatedDate: never
---

## Menu /NEWR/INSTALL [#menu-newr-install]

1. Log in to the production client of the central monitoring system.
2. Start the data provider setup by accessing the area `menu /NEWR/INSTALL`.
3. Navigate to the **SAP Easy Access root menu** before starting the area menu by typing `/n/NEWR/INSTALL` in the command field.

  <Callout variant="tip">
     If you're unsure whether you are at the **SAP Easy Access root menu**, type in `/n` and press **Enter**.
  </Callout>

After successfully installing the add-on on the central monitoring system:

  - Ensure the installer has proper authorization to perform the configuration.
  - Note the new transaction code introduced by the add-on package, listed in **Transaction Code for NRM4SAP Installation and Configuration**.
  - Add the parameter `/NEWR/*` to the code authorization object(s) in the installer's `profile/role`.

  <Callout variant="tip">
    If this is your first time installing the New Relic ABAP Add-on, complete all the steps described below. If upgrading from a previous version, refer [Upgrade from Previous Version]() to determine which steps are necessary.
  </Callout>

## Connect systems and generate configurations [#connect-systems]

  <Callout variant="important">
  Complete the configuration steps before installation if they have not yet been completed.
  </Callout>

### Setup HTTP and RFC destinations

  - Use SAP transaction `SM59` to set up [RFC destinations for each monitored system]. This verifies that RFC connections to monitored systems and [HTTP connections to New Relic] endpoints are configured correctly.

  <img
      title="Configure New Relic"
      alt="A screenshot displaying the SAP install new release and patch"
      src="/images/configure-newrelic.webp"
      width="500"
  />

### Setup Connection to Remote Database
  - This option invokes SAP Transaction **DBACOCKPIT**.
  - It verifies that connections to remote HANA DBs are set up correctly.
  - Create one DB Connection for each remote **HANA** database you want to monitor.
  - See [**Create Database Connection**](/docs/sap-solutions/configuration/configure-new-relic-abap-add-on-package/#create-database-connection) for detailed instructions.

### Configure connections to New Relic API endpoints [#configure-connections]

  Select this option to complete the connection to New Relic API endpoints.

  1. Click **New Entries** to add the following details:
      - **New Relic Account ID**: Specify the <DNT>**New Relic Account ID**</DNT> (optional to prefix it with SAP-)
      - **API Ingest Key**: Enter the API key for the New Relic account.
      - **Metric Endpoint**: Enter the Metric Endpoint for the New Relic account.
      - **Event Endpoint**: Enter the Event Endpoint for the New Relic account.
      - **Log Endpoint**: Enter the Log Endpoint for the New Relic account.
      - **Trace Endpoint**: Enter the Trace Endpoint for the New Relic account.

  <img
      title="New Entry"
      alt="A screenshot displaying the SAP HANA database new entry"
      src="/images/new-entry-1.webp"
      width="1000"
      />
  2. Click **Save**.
  <Callout variant="tip">
    Enter them separately along with the API Ingest Key, also multiple accounts can be configured here.
  </Callout>

### Copy Template Tables from Client 000 [#copy-template-tables]
Execute this option to copy the table from client 000. 

  1. Click the <img src="/images/new-relic-sap-clock.webp" class="inline" style={{height: "20px", width: "20px"}} alt="clock indicator in New Relic" title="Multiple apps name indicator in New Relic" /> icon.
  2. Confirm the successful copy with the success message.

### Define the Monitored Systems [#define-monitored-systems]
Use this option to define the monitored systems.

  1. Click **New Entries** and enter the following details:
      - **SAP System ID**: Enter the SAP system ID.
      - **Client**: Enter the client number.
  2. In the **Data Provider installating information** section, enter the following details:
      - **Destination**: Enter the RFC destination for the SAP system.
      - **Software Component**: Select the SAP software version from the drop-down.
      - **Database Vendor**: Enter the database vendor.
      - **Db Connection Name**: Enter the database connection name. (Currently only supports HANA database)
  3. Click **Monitoring Group**.
  
  <img
      title="New Entry"
      alt="A screenshot displaying the SAP HANA database new entry"
      src="/images/details-of-added-entry.webp"
      width="700"
      />
  4. Click **Yes** on the dialoge box, to specify the **Monitoring Group**.
  4. Select the required monitoring groups for the system, then click <img src="/images/generate.webp" class="inline" style={{height: "25px", width: "50px"}} alt="generate icon in New Relic" title="Multiple apps name indicator in New Relic" /> when completed.

<CollapserGroup>
  <Collapser
      id="sap-versions"
      title="SAP component versions"
    >
  
  <table>
    <thead>
      <tr>
        <th style={{ width: "200px" }}>
            Monitor Group
          </th>
          <th>
            Included Data Providers
          </th>
          <th>
            Applied to the System Type
          </th>
          <th>
            Special Notes
          </th>
        </tr>
    </thead>
      <tbody>
        <tr>
          <td>
          BIZ_DOC
          </td>
          <td>
          Change document event for business objects
          </td>
          <td>
          ECC systems and S/4 HANA
          </td>
          <td>
          </td>
        </tr>
        <tr>
          <td>
          DB_KPI
          </td>
          <td>
          Key Performance Indicators for databases, such as availability, space, etc.
          </td>
          <td>
          All Systems, except HANA Database
          </td>
          <td>
          </td>
        </tr>
        <tr>
          <td>
          HANA_DB
          </td>
          <td>
          HANA Database data providers connect directly to the HANA DB
          </td>
          <td>
          All HANA databases
          </td>
          <td>
          Requires Database Connection
          </td>
        </tr>
        <tr>
          <td>
          HOST
          </td>
          <td>
          Host metrics such as CPU, Memory, Disk Usage
          </td>
          <td>
          All ABAP Systems
          </td>
          <td>
          </td>
        </tr>
        <tr>
          <td>
          IDOC
          </td>
          <td>
          IDOC events
          </td>
          <td>
          ECC systems and S/4 HANA
          </td>
          <td>
          </td>
        </tr>
        <tr>
          <td>
          MAXDB
          </td>
          <td>
          Metrics for MAXDB database
          </td>
          <td>
          Systems with MAXDB
          </td>
          <td>
          </td>
        </tr>
        <tr>
          <td>
          MS_SQL
          </td>
          <td>
          Metrics for Microsoft SQL Server database
          </td>
          <td>
          Systems with Microsoft SQL Server
          </td>
          <td>
          </td>
        </tr>
        <tr>
          <td>
          Oracle
          </td>
          <td>
          Metrics for Oracle Database
          </td>
          <td>
          Systems with Oracle Database
          </td>
          <td>
          </td>
        </tr>
        <tr>
          <td>
          SAP_APPL
          </td>
          <td>
          Events, Logs, Metrics, and Traces for SAP Application Monitoring such as RFCs, Jobs, Transactions, etc.
          </td>
          <td>
          All ABAP Systems
          </td>
          <td>
          </td>
        </tr>
        <tr>
          <td>
          SAP_SYSTEM
          </td>
          <td>
          Metrics for SAP System and application server instances, monitoring such as User, System Performances, etc.
          </td>
          <td>
          All ABAP Systems
          </td>
          <td>
          </td>
        </tr>
        <tr>
          <td>
          CUSTOM
          </td>
          <td>
          Any data provider added by the customer
          </td>
          <td>
          </td>
          <td>
          </td>
        </tr>
        </tbody>
    </table>
    </Collapser>
  </CollapserGroup>

<Callout variant="tip">
  Maintain the list of Monitoring Groups by navigating to **Expert Mode > Installation Setups > Monitoring Group Maintenance**.
  </Callout>
  5. Once entries are saved, click **BACK** or the **F3** key to go to the next step.

### Check RFC Destinations [#check-rfc-destinations]
  1. Use this menu option to test the RFC destinations for each of the Monitored Systems and NR API endpoints.
  2. Note that RFC destinations ‘NONE’ are not tested.

### Generate Configurations for New Data Providers [#generate-configurations]
  - Use this menu option to generate all the new data providers related to the new release/patch.
  - For a fresh install, all Data Providers (DP) are generated in this step.
  - When executing this option, confirm the release and patch to be installed on the first screen.
  - If the installation release and patch number is empty, it means the configuration has already been generated.
  - If the configuration needs to be re-generated, use the **Re-generate Data Provider Configurations** in the **Maintain Monitored Systems** folder.

  <img
    title="Maintain Monitored Systems"
    alt="A screenshot displaying the SAP maintain monitored systems"
    src="/images/maintain-monitored-systems.webp"
    width="500"
  />
  - Alternatively, use the menu option **Reset Installation Flag (to re-install only)** to reset the installation flag and re-generate the configurations.

### Verify Installation Completeness [#verify-installation-completeness]
  1. Click **Verify Installation Completeness** to ensure everything is **OK**.
  2. If any item shows a red light, click on the execution button in the **Action Needed** column.

### Configuration Verification
  1. To verify that data providers are correctly configured, select the **Data Provider Registry Maintenance** folder.
  2. Click **Data Provider Registry**, or use transaction `/n/NEWR/REGISTRY`.
  3. Select any **Data Provider Name** and click **Configure** to verify the configuration parameters.
  4. Click the **TestDP** to test the data provider.

<img
  title="Data Provider Registry"
  alt="A screenshot displaying the SAP data provider registry"
  src="/images/data-provider-registry-1.webp"
  width="1000"
/>