---
title: "Troubleshooting"
metaDescription: "Instructions for troubleshooting SAP systems."
freshnessValidatedDate: never
---

## Server availability data providers not working

**Symptom**: The `NR_SAP_INSTANCE_AVAILABILITY` and `NR_SAP_SERVER_LIST` data providers fail to collect data.

**Cause**: The `DEFAULT.PFL` profile on monitored servers is not configured for SAPCONTROL web services.

**Solution**:

  1. Open the `DEFAULT.PFL` file and check if this line exists:

  `service/protectedwebmethods = SDEFAULT`

  2. If the line is missing, add the following parameter:

  `service/protectedwebmethods = SDEFAULT -GetQueueStatistic -ABAPGetWPTable -EnqGetStatistic -GetProcessList -GetEnvironment -GetVersionInfo -GetSystemInstanceList`

  3. Restart the SAP service:

  ```yaml
  stopsap sapstartsrv
  startsap sapstartsrv
  ```

  4. Verify the configuration:

  ```yaml
  sapcontrol -prot GSOAP_HTTP -nr 00 -function GetSystemInstanceList
  ```

**Expected result**: The command returns the system instance list without errors.