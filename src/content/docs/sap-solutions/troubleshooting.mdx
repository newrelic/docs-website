---
title: "Troubleshooting"
metaDescription: "Instructions for troubleshooting SAP systems."
freshnessValidatedDate: never
---

## Troubleshoot server availability

The `NR_SAP_INSTANCE_AVAILABILITY` and `NR_SAP_SERVER_LIST` data providers rely on SOAP calls to `SAPCONTROL` web services. For these to work, the `DEFAULT.PFL` profile on the monitored servers must be configured.

  1. Confirm the following line exists in the `DEFAULT.PFL` file:
  
  `service/protectedwebmethods = SDEFAULT`

  2. If this line is missing, add the following parameters:
  
  `service/protectedwebmethods = SDEFAULT -GetQueueStatistic -ABAPGetWPTable -EnqGetStatistic -GetProcessList -GetEnvironment -GetVersionInfo -GetSystemInstanceList`

  3. Restart the SAP service with the commands `stopsap sapstartsrv` and `startsap sapstartsrv`.

  4. Confirm the configuration works by running the command `sapcontrol -prot GSOAP_HTTP -nr 00 -function GetSystemInstanceList`.