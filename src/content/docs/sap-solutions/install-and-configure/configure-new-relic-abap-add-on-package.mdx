---
title: "Configure New Relic ABAP add-on package"
metaDescription: "Configure New Relic ABAP add-on package."
freshnessValidatedDate: never
---

## Using the /NEWR/INSTALL menu [#menu-newr-install]

1. Log in to the production client of the central monitoring system.
2. Start the data provider setup by accessing the area `/NEWR/INSTALL` menu.
3. Navigate to the **SAP Easy Access root menu** before starting the area menu by typing `/n/NEWR/INSTALL` in the command field.

  <Callout variant="tip">
     If you're unsure whether you are at the **SAP Easy Access root menu**, type in `/n` and press **Enter**.
  </Callout>

After successfully installing the add-on on the central monitoring system:

  - Ensure the installer has proper authorization to perform the configuration.
  - Note the new transaction code introduced by the add-on package, listed in **Transaction Code for NRM4SAP Installation and Configuration**.
  - Add the parameter `/NEWR/*` to the code authorization object(s) in the installer's `profile/role`.

  <Callout variant="tip">
    If upgrading from a previous version, refer [Upgrade from Previous Version](/docs/sap-solutions/upgrade-from-a-previous-version/install-upgrade-package) to determine which steps are necessary.
  </Callout>

## Connect systems and generate configurations [#connect-systems]

  <Callout variant="important">
  Complete the configuration steps before installation if they have not yet been completed.
  </Callout>

  - **Set up HTTP and RFC Destinations**: Use this option to invoke transaction `SM59` and verify your [RFC](/docs/sap-solutions/additional-resources/detailed-configuration/#create-rfc-for-monitored-systems) and [HTTPS](/docs/sap-solutions/additional-resources/detailed-configuration/#set-http-destination-to-new-relic-cloud) connections.
    
  - **Setup Connection to Remote Database**:
    - Use SAP transaction **DBACOCKPIT** to verify the setup of connections to remote HANA databases.
    - Ensure that a database connection is created for each remote HANA database you wish to monitor.
    - For detailed instructions, see [Create Database Connection](/docs/sap-solutions/additional-resources/detailed-configuration/#create-database-connection).

    <img
      title="Configure New Relic"
      alt="A screenshot displaying the SAP install new release and patch"
      src="/images/configure-newrelic.webp"
      width="500"
    />

  - **Configure Connections to NR API Endpoints**: 
    1. Click **New Entries**.
    2. Enter the <DNT>**New Relic Account ID**</DNT> (optionally prefixed with SAP-), **API Ingest Key**, **Metric Endpoint**, **Event Endpoint**, **Log Endpoint**, and **Trace Endpoint** for the New Relic account.
    3. Click **Save**.

    <img
      title="New Entry"
      alt="A screenshot displaying the SAP HANA database new entry"
      src="/images/new-entry-1.webp"
      width="1000"
    />
  
  - **Copy Template Tables from Client 000**: Execute this option to copy the table from client 000 by clicking the <img src="/images/new-relic-sap-clock.webp" class="inline" style={{height: "20px", width: "20px"}} alt="clock indicator in New Relic" title="Multiple apps name indicator in New Relic" /> icon, and confirm success with the success message.

  - **Define the Monitored Systems**: Use this option to define the monitored systems.
    1. Click **New Entries** to enter the **SAP System ID** and **Client** number.
    2. In **Data Provider Installation Information**, specify the RFC **Destination**, select the SAP **Software Component**, enter the **Database Vendor**, and provide the **DB Connection Name** (HANA database only).
    3. Click **Monitoring Group**, select **Yes** in the dialog box to confirm.
    4. Choose the necessary monitoring groups, and click the <img src="/images/generate.webp" class="inline" style={{height: "25px", width: "50px"}} alt="generate icon in New Relic" title="Multiple apps name indicator in New Relic" /> to complete the process.
    5. Click **BACK** or the **F3** key to go to the next step.

    <img
      title="New Entry"
      alt="A screenshot displaying the SAP HANA database new entry"
      src="/images/details-of-added-entry.webp"
      width="600"
    />

  <CollapserGroup>
    <Collapser
        id="sap-versions"
        title="SAP component versions"
      >
    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
              Monitor Group
            </th>
            <th>
              Included Data Providers
            </th>
            <th>
              Applied to the System Type
            </th>
            <th>
              Special Notes
            </th>
          </tr>
      </thead>
        <tbody>
          <tr>
            <td>
            BIZ_DOC
            </td>
            <td>
            Change document event for business objects
            </td>
            <td>
            ECC systems and S/4 HANA
            </td>
            <td>
            </td>
          </tr>
          <tr>
            <td>
            DB_KPI
            </td>
            <td>
            Key Performance Indicators for databases, such as availability, space, etc.
            </td>
            <td>
            All Systems, except HANA Database
            </td>
            <td>
            </td>
          </tr>
          <tr>
            <td>
            HANA_DB
            </td>
            <td>
            HANA Database data providers connect directly to the HANA DB
            </td>
            <td>
            All HANA databases
            </td>
            <td>
            Requires Database Connection
            </td>
          </tr>
          <tr>
            <td>
            HOST
            </td>
            <td>
            Host metrics such as CPU, Memory, Disk Usage
            </td>
            <td>
            All ABAP Systems
            </td>
            <td>
            </td>
          </tr>
          <tr>
            <td>
            IDOC
            </td>
            <td>
            IDOC events
            </td>
            <td>
            ECC systems and S/4 HANA
            </td>
            <td>
            </td>
          </tr>
          <tr>
            <td>
            MAXDB
            </td>
            <td>
            Metrics for MAXDB database
            </td>
            <td>
            Systems with MAXDB
            </td>
            <td>
            </td>
          </tr>
          <tr>
            <td>
            MS_SQL
            </td>
            <td>
            Metrics for Microsoft SQL Server database
            </td>
            <td>
            Systems with Microsoft SQL Server
            </td>
            <td>
            </td>
          </tr>
          <tr>
            <td>
            Oracle
            </td>
            <td>
            Metrics for Oracle Database
            </td>
            <td>
            Systems with Oracle Database
            </td>
            <td>
            </td>
          </tr>
          <tr>
            <td>
            SAP_APPL
            </td>
            <td>
            Events, Logs, Metrics, and Traces for SAP Application Monitoring such as RFCs, Jobs, Transactions, etc.
            </td>
            <td>
            All ABAP Systems
            </td>
            <td>
            </td>
          </tr>
          <tr>
            <td>
            SAP_SYSTEM
            </td>
            <td>
            Metrics for SAP System and application server instances, monitoring such as User, System Performances, etc.
            </td>
            <td>
            All ABAP Systems
            </td>
            <td>
            </td>
          </tr>
          <tr>
            <td>
            CUSTOM
            </td>
            <td>
            Any data provider added by the customer
            </td>
            <td>
            </td>
            <td>
            </td>
          </tr>
          </tbody>
      </table>
  </Collapser>
</CollapserGroup>

  <Callout variant="tip">
    Maintain the list of **Monitoring Groups** by navigating to **Expert Mode > Installation Setups > Monitoring Group Maintenance**.
  </Callout>

  - **Check RFC Destinations**: Use this menu option to test RFC destinations for all monitored systems and NR API endpoints, except for 'NONE'.

  - **Generate Configurations for New Data Providers**: 
    - Use this menu option to generate data providers for a new release or patch. For fresh installations, all Data Providers (DP) are generated.
    - On the first screen, confirm the release and patch details; empty fields indicate pre-existing configuration.
    - To regenerate, select **Re-generate Data Provider Configurations** in **Maintain Monitored Systems** or use **Reset Installation Flag (For Re-install only)** to reset the installation flag and regenerate configurations.

    <img
      title="Maintain Monitored Systems"
      alt="A screenshot displaying the SAP maintain monitored systems"
      src="/images/maintain-monitored-systems.webp"
      width="500"
    />

  - **Verify Installation Completeness**: Click **Verify Installation Completeness** to ensure everything is configured correctly. If any item displays a red indicator, click the execution button in the **Action Needed** column.

## Configuration verification
  1. To ensure data providers are correctly configured, open the **Data Provider Registry Maintenance** folder.
  2. Click **Data Provider Registry**, or use transaction `/n/NEWR/REGISTRY`.
  3. Select a **Data Provider Name** and verify configuration parameters by clicking **Configure**.
  4. Test the data provider by clicking **TestDP**.

    <img
      title="Data Provider Registry"
      alt="A screenshot displaying the SAP data provider registry"
      src="/images/data-provider-registry-1.webp"
      width="1000"
    />