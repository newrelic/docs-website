---
title: メトリックエクスプローラーメトリックタイムスライスデータの検索とチャート作成
contentType: page
template: basicDoc
topics:
  - Insights
  - Use Insights UI
  - Explore data
japaneseVersion: >-
  https://docs.newrelic.co.jp/docs/insights/use-insights-ui/explore-data/metric-explorer-search-chart-metrics-sent-new-relic-agents
---

[New Relic Insights](https://docs.newrelic.co.jp/docs/insights/use-insights-ui/getting-started/introduction-new-relic-insights)で、**データエクスプローラー** UIページを使用して、Insightsで使用できるデータを詳しく調べることができます。次の2つのタブを使用できます：

* イベント
* メトリックス

本ドキュメントでは、**メトリックス**タブの使用の詳細について説明します。**イベント**タブに関する情報については、[イベントデータエクスプローラー](/docs/insights/use-insights-ui/explore-data/event-explorer-query-chart-your-event-data)をご覧ください。

## 機能 [#features]

メトリックスについてInsightsの**データエクスプローラー**を使用して、以下を実行します:

* New Relic APMおよびBrowser、Mobileによりレポートされる[メトリックタイムスライスデータ](/docs/using-new-relic/data/understand-data/new-relic-data-types#timeslice-data)（[カスタムメトリックス](/docs/agents/manage-apm-agents/agent-metrics/custom-metrics)を含む）を検索してチャートを作成する。
* Insightsダッシュボードに[メトリックチャートを追加](/docs/insights/new-relic-insights/managing-dashboards-data/add-edit-agent-metric-widgets)することで、[NRQL](/docs/insights/new-relic-insights/using-new-relic-query-language/using-nrql)ベースのイベントチャートと共に、ご自分または別チームにとって関心のあるデータを一元的に監視。

<Callout variant="important">
  [NRQLを使用してメトリックタイムスライスのクエリ](/docs/query-data/nrql-new-relic-query-language/nrql-query-tutorials/query-metric-timeslice-data-nrql)を行うこともできます。これにより、このデータのクエリをより強力かつ柔軟に行えます。
</Callout>

![metric-data-explorer.png](./images/metric-data-explorer.png "metric-data-explorer.png")

**[insights.newrelic.com](https://insights.newrelic.com) > Data explorer > Metrics**: ここでは、データエクスプローラーを使用しての、ブラウザ側のApdexや1分当たりのMySQL呼び出し時間、外部サービスの平均応答時間のチャート作成が示されています。

以下に、メトリックエクスプローラーを最大限に活かした例を示します。

<CollapserGroup>
  <Collapser
    id="add-to-db"
    title="Insightsダッシュボードに追加する"
  >
    メトリックエクスプローラーでエージェントメトリックスを検索してチャートを作成する過程で、これらをInsightsダッシュボードに追加することで、他のInsightsチャートと合わせた収集、整理、共有、そして閲覧が可能になります。

    このオプションは、New Relic UIの大半のメトリックチャートで利用できる [標準的なページ機能](/docs/data-analysis/user-interface-functions/view-your-data/standard-page-functions#add-to-dashboard) です。
  </Collapser>

  <Collapser
    id="explore-api"
    title="APIを詳しく調べる"
  >
    [New Relic REST API](/docs/apis/rest-api-v2)を使用する場合は、メトリックエクスプローラーで以下を行うことができます。

    1. メトリックデータに目を通す。
    2. 必要とする厳密なメトリックとメトリック値を検索・特定する。
    3. 図表化したデータの見直しまたはサンプリング。
    4. 選択したメトリックと時間範囲の[REST API Explorer](/docs/apis/rest-api-v2/api-explorer-v2/using-api-explorer)プレセットを読み込むには、**View in API Explorer**を選択します。
  </Collapser>

  <Collapser
    id="metric-widgets"
    title="メトリック表"
  >
    メトリックエクスプローラーでは、ご自分の [New Relicメトリックデータ](/docs/insights/new-relic-insights/explore/metric-data-explorer-search-chart-metrics-sent-new-relic-agents)に関するカスタマイズ可能なチャートを検索・作成できます。チャートにつき図表化できるメトリックネームスペースは1つです。

    メトリックエクスプローラーのメトリックチャートを[カスタマイズ](/docs/insights/new-relic-insights/managing-dashboards-data/add-customize-metric-widgets)して、データのさらに詳細な表示を確認できます。
  </Collapser>

  <Collapser
    id="search-metrics"
    title="メトリックスを検索する"
  >
    メトリックを迅速に見つけるには、関連のエンティティを選択してから、メトリックのメトリックネームスペースを検索または参照します。

    検索結果は、関連度で順序付けられています。メトリックエクスプローラーでは、一般的に使用されているか、参照して詳しく調べたいデータを大量に含むエンティティとメトリックスも提案します。たとえば、メトリックエクスプローラーはメトリックス（`Apdex`、`Datastore`、`EndUser`、`External`など）に対してルートネームスペースを表示して、ユーザーによるメトリックスのトラバースと検索を容易にします。

    文字列検索では、いくつかの基本的な正規表現トークンを使用できます。例えば：

    * `^`を使用して、これに続く文字列とのマッチングを開始します。
    * ワイルドカードとして`*`を使用します。

    メトリックアラートの作成など、一部のNew Relic関数には、厳密なメトリック名が必要となります。メトリックの厳密な名前を入手する方法に関しては [メトリック名を取得する](/docs/insights/use-insights-ui/explore-data/metric-explorer-search-chart-metrics-sent-new-relic-agents#get-metric-name)を参照してください。
  </Collapser>

  <Collapser
    id="share"
    title="チャートを共有する"
  >
    メトリックエクスプローラーが作成するパーマリンクURLは、現在のページで選択した時間範囲のチャートとデータを表示します。パーマリンクを使用することで、データとチャートを同僚、New Relic Supportスタッフ、またご自分のNew Relicアカウントにアクセスできるあらゆる人物と共有できます。
  </Collapser>
</CollapserGroup>

## ワークフロー [#workflow]

以下の手順に従い、New Relicエージェントメトリックスを検索・図表化します。

1. **[insights.newrelic.com](https://insights.newrelic.com) > Data explorer > Metrics**に進み、メトリックスが報告するエンティティまたはアプリケーションを選択します。
2. 上位のメトリックスを参照するか、特定のメトリック名を検索します。
3. 選択したメトリックチャートを確認します。
4. [チャートオプション](/docs/insights/new-relic-insights/managing-dashboards-data/add-customize-metric-widgets#options)を設定します。
5. オプション：APIエクスプローラー（選択したメトリックと時間範囲に設定済み）を読み込むには、**Explorer API**を選択します。
6. ダッシュボードに個別のチャートを追加するには、**Add to dashboard**を選択します。
7. 対象とするダッシュボードで見つけられるよう、各チャートには意味のある名前を付けます。

## 例 [#examples]

<CollapserGroup>
  <Collapser
    id="custom-metric-example"
    title="ダッシュボードにカスタムメトリックチャートを追加する"
  >
    使用事例：New Relicエージェントが、ご利用のアプリケーションコードの一部でレスポンスタイムのメトリックデータを自動的に取得していないものの、あなたはそのパフォーマンスを定期的に確認・監視したいと考えています。

    1. カスタムメトリックを記録してNew Relicに送信できるよう、コードをインストゥルメントします。たとえば、エージェントAPIコールと、`Custom/MyMetric/My_label`などのカスタムメトリック名を使用します。
    2. コードが動作し、New Relicにデータを送信するようになってから、 **[insights.newrelic.com](https://insights.newrelic.com) > Data explorer > Metrics** に進みます。
    3. メトリックエクスプローラーのページから、ご利用のエージェントがメトリックスを報告しているエンティティを選択します。
    4. カスタムメトリック名を検索します。

       <Callout variant="tip">
         メトリックエクスプローラーの**Suggested Search**（自動で`Custom`と入力されます）を使用して、カスタムメトリックスを簡単に検索します。
       </Callout>
    5. メトリック名を選択して、メトリックデータを図表化します。
    6. チャートを設定するには、時間枠、チャート値（Y軸）、ホスト別のファセット（ある場合）などに関して利用可能なオプションを使用します。
    7. このチャートを類似したチャートあるいはその他のNRQLチャートと共に整理するには、 **Add to Insights dashboard**を選択します。
  </Collapser>

  <Collapser
    id="facet-host-example"
    title="ホスト別にファセットしたCPU使用率のメトリックチャートを追加する"
  >
    使用事例：所与のアプリケーションに関して、CPU使用率が各ホストにどのような影響を及ぼしているかをみます。

    1. **[insights.newrelic.com](https://insights.newrelic.com) > Data explorer > Metrics**に進み、アプリケーションを選択します。
    2. `CPU`を検索します。
    3. 検索結果から`CPU/System/Utilization`を選択して、メトリックエクスプローラーでアプリケーションにおけるCPU使用率を示すチャートを自動作成します。
    4. オプション：より広範囲のメトリックスを表示するには、`CPU`の前のネームスペースにワイルドカードを追加します。
    5. 新しいチャートでホスト別CPU使用率の内訳を示すには、**View by host**を選択します。
    6. このチャートを類似したチャートあるいはその他のNRQLチャートと共に整理するには、 **Add to Insights dashboard**を選択します。
  </Collapser>

  <Collapser
    id="api-example"
    title="メトリックスを検索して関連のREST APIコールを取得する"
  >
    使用事例：外部システムにメトリックスを投入して、New Relic Insightsまたはその他のNew Relic製品以外における経時的なパフォーマンス動向を追跡したいでしょう。

    1. **[insights.newrelic.com](https://insights.newrelic.com) > Data explorer > Metrics**に進み、エンティティ（アプリケーションまたはホスト）を選択します。
    2. 図表化したいメトリックを検索して、これを選択します。
    3. 選択したメトリックと時間範囲にプレセットされたデータを見直すには、新しいチャートで**View in API Explorer**を選択します。
  </Collapser>

  <Collapser
    id="get-metric-name"
    title="アラートを発する厳密なメトリック名を取得する"
  >
    使用事例：New Relic Alertsでアラートを作成できるよう、厳密なメトリック名を見つける必要があります。

    以下の手順に従い、メトリックエクスプローラーを使用してメトリックの厳密な名前を取得します。

    1. **[insights.newrelic.com](https://insights.newrelic.com) > Data explorer > Metrics**に進みます。
    2. メトリックを検索して、これを選択します。
    3. メトリックチャートから、**View in API Explorer**を選択します。
    4. そのメトリックのAPI Explorerページから、**names\[]**フィールドの名前をコピーします。
    5. 選択したポリシーの**Define thresholds**にある[条件ページ](/docs/alerts/new-relic-alerts/configuring-alert-policies/define-alert-conditions#create-condition)で、**When target application**ドロップダウンから`Custom > Enter metric name`と選択し、**Metric name**フィールドにメトリック名をペーストします。

    APIの使用も含めた、メトリック名の見つけ方の詳細に関しては、[厳密な名を特定する](/docs/data-analysis/metrics/analyze-your-metrics/locate-exact-metric-names)を参照してください。
  </Collapser>
</CollapserGroup>

## NRQLによりメトリックタイムスライスデータのクエリを行う [#query-with-nrql]

[NRQLを使用してメトリックタイムスライスのクエリ](/docs/query-data/nrql-new-relic-query-language/nrql-query-tutorials/query-metric-timeslice-data-nrql)を行うこともできます。これは、Insightsのメトリックエクスプローラーを使用するより強力で柔軟なクエリの方法です。

## その他のヘルプ [#more_help]

さらに支援が必要な場合は、これらのサポートと学習リソースを確認してください：

* [Explorers Hub](https://discuss.newrelic.com/)を参照して、コミュニティから支援を受け、ディスカッションに参加してください。
* [当社のサイトで回答を見つけ、サポートポータルの使用方法について学びます](/docs/using-new-relic/welcome-new-relic/get-started/find-help-use-support-portal)。
* Linux、Windows、およびmacOSのトラブルシューティングツールである[New Relic Diagnosticsを実行します](/docs/using-new-relic/cross-product-functions/troubleshooting/new-relic-diagnostics)。
* New Relicの[データセキュリティ](/docs/security)と[ライセンス](/docs/licenses)ドキュメントを見直してください。
