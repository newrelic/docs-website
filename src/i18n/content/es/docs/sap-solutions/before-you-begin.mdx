---
title: Prepárese para la instalación
metaDescription: How to install the SAP and alert ecosystems with New Relic
freshnessValidatedDate: never
translationType: machine
---

Antes de comenzar a emplear el monitoreo New Relic para sus soluciones SAP, cerciorar de que se cumplan los siguientes requisitos previos:

* **ID de cuenta de New Relic**: obtenga su [ID de cuenta](/docs/accounts/accounts-billing/account-setup/account-id) para identificar su cuenta de New Relic.

* **License Key**: Cerciora una New Relic <InlinePopover type="licenseKey" />necesaria para la autenticación y el acceso a los datos.

* **Data Center Region**: [decide la ubicación de tu centro de datos preferida (EE. UU. o UE)](/docs/accounts/accounts-billing/account-setup/choose-your-data-center/) y configura tu cuenta en consecuencia.

* **Requisitos del sistema SAP**: Confirme que sus sistemas SAP cumplen con los niveles de lanzamiento de componentes de software requeridos especificados por New Relic Monitor para Soluciones SAP.

* **Cuentas BTP de monitoreo**: Si las cuentas BTP son parte de su configuración de monitoreo, una de las siguientes debería estar disponible:

  * **Cuenta de CloudALM**: se debe configurar una cuenta de CloudALM para monitorear sus cuentas BTP.
  * **Servicio Process Integración Runtime**: Cerciore una subscripción al servicio Process Integración Runtime en sus cuentas BTP monitoreadas, que se requiere específicamente para el monitoreo de integración.

  <Callout variant="important">
    Es posible que necesite la aprobación o asistencia de configuración de sus equipos de seguridad o red para cumplir con estos requisitos previos. Cerciorar de completar estos pasos antes de comenzar la instalación y consulte la [Lista de verificación de preparación para la instalación](/docs/sap-solutions/additional-resources/pre-installation-checklist/#checklist-for-installation-readiness) para confirmar que todos los entornos estén configurados correctamente.
  </Callout>

## Descargar software

Puede obtener el paquete de instalación de su ejecutivo de cuenta de New Relic. El .zip descargado El paquete contiene los siguientes archivos:

<Callout variant="important">
  La lista completa de archivos se proporciona en **Packing\_List.txt**. Descomprima el paquete para acceder a estos archivos.
</Callout>

<CollapserGroup>
  <Collapser id="installation-package" title="Paquete de instalación">
    <table>
      <thead>
        <tr>
          <th style={{ width: '200px' }}>
            Título del archivo
          </th>

          <th>
            Nombre del archivo
          </th>

          <th>
            Observaciones
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Lista de embalaje
          </td>

          <td>
            `NRM4SAP<version>.txt`
          </td>

          <td>
            Lista de inventario de archivos
          </td>
        </tr>

        <tr>
          <td>
            Complemento ABAP
          </td>

          <td>
            `K-xxxAOIINNEWR.SAR`
          </td>

          <td>
            Archivo de archivo para el complemento SAP
          </td>
        </tr>

        <tr>
          <td>
            Paquete de actualización del complemento ABAP
          </td>

          <td>
            `K-xxxAOUINNEWR.SAP`
          </td>

          <td>
            Archivo de almacenamiento para la actualización del complemento de SAP
          </td>
        </tr>

        <tr>
          <td>
            Roles de autorización
          </td>

          <td>
            `_NEWR_DATA_PROVIDER.SAP`
          </td>

          <td>
            Rol de autorización para el usuario NR RFC
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Sistemas monitoreados [#monitored-systems]

Nuestra arquitectura sin agente emplea **conexiones RFC** para recuperar datos. Para garantizar conexiones seguras, debe crear un usuario del sistema SAP con un perfil de autorización específico para estas conexiones.

* Verifique que `SAP_BASIS` sea **la versión 740 o superior**, `Kernel` sea **la versión 753 parche 602 o superior** y `ST-PI` sea **la versión 740 SP 16 o superior**.

* **Cargar el rol de autorización** [`NEWR_DATA_PROVIDER`](/docs/sap-solutions/additional-resources/detailed-instructions/#upload-authorization-role).

* Cree un usuario del sistema con el rol cargado para conexiones RFC. Consulte [Crear New Relic RFC](/docs/sap-solutions/additional-resources/detailed-configuration/#create-rfc-user-id).

* Si está monitoreando una **base de datos de HANA**, cree un **usuario NRAGENT de base de datos de HANA** con acceso de **Catalog Read** y **Monitoring** empleando los siguientes comandos SQL:

  ```sql
    CREATE ROLE NR_AGENT_ROLE;
    GRANT CATALOG READ TO NR_AGENT_ROLE;
    GRANT MONITORING TO NR_AGENT_ROLE;
  ```

  ```sql
    CREATE USER NRAGENT PASSWORD 'Xxxxxxxx' NO FORCE_FIRST_PASSWORD_CHANGE;
    GRANT NR_AGENT_ROLE TO NRAGENT;
  ```

* Recopile el **host del servidor HANA** y **el puerto de la base de datos del inquilino** para la conexión SQL.

* Para otras bases de datos, active los **KPI de base de datos estándar del CCMS** correr el programa ABAP `RSDBKPIMON`.

## Sistema de monitoreo central [#central-monitoring-system]

En el sistema de monitoreo central, confirme que estén instaladas las siguientes versiones de componentes. Para versiones que no figuran en la lista, comunicar con su ejecutivo de cuentas de New Relic para obtener un paquete complementario.

<CollapserGroup>
  <Collapser id="sap-versions" title="Versiones de componentes de SAP">
    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Versión SAP\_BASIS
          </th>

          <th>
            Versión SAP\_ABA
          </th>

          <th>
            Versión ST-PI
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            740
          </td>

          <td>
            n/a
          </td>

          <td>
            740 SP14+
          </td>
        </tr>

        <tr>
          <td>
            750
          </td>

          <td>
            750
          </td>

          <td>
            740 SP14+
          </td>
        </tr>

        <tr>
          <td>
            750
          </td>

          <td>
            75A
          </td>

          <td>
            740 SP14+
          </td>
        </tr>

        <tr>
          <td>
            751
          </td>

          <td>
            75B
          </td>

          <td>
            740 SP14+
          </td>
        </tr>

        <tr>
          <td>
            752
          </td>

          <td>
            75 °C
          </td>

          <td>
            740 SP14+
          </td>
        </tr>

        <tr>
          <td>
            753
          </td>

          <td>
            75D
          </td>

          <td>
            740 SP14+
          </td>
        </tr>

        <tr>
          <td>
            754
          </td>

          <td>
            75E
          </td>

          <td>
            740 SP14+
          </td>
        </tr>

        <tr>
          <td>
            755
          </td>

          <td>
            75 °F
          </td>

          <td>
            740 SP14+
          </td>
        </tr>

        <tr>
          <td>
            756
          </td>

          <td>
            75 gramos
          </td>

          <td>
            740 SP14+
          </td>
        </tr>

        <tr>
          <td>
            757
          </td>

          <td>
            75 horas
          </td>

          <td>
            740 SP14+
          </td>
        </tr>

        <tr>
          <td>
            758
          </td>

          <td>
            75I
          </td>

          <td>
            740 SP14+
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

* Si su versión de SAP no figura en la lista, comunicar con su ejecutivo de cuenta de New Relic para obtener un paquete complementario adaptado a su versión.
* El sistema central debe tener al menos 20 procesos de trabajo de diálogo y 10 procesos de trabajo en segundo plano.
* Cerciorar de que se permita el acceso HTTPS saliente al centro de datos de New Relic.

<CollapserGroup>
  <Collapser id="us-eu-endpoints" title="Centro de datos extremo de EE. UU./UE">
    <table>
      <thead>
        <tr>
          <th style={{ width: '200px' }}>
            Conexión
          </th>

          <th>
            Centro de datos de EE. UU.
          </th>

          <th>
            Extremo del centro de datos de la UE
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Métrica
          </td>

          <td>
            [https://metric-api.newrelic.com/metric/v1](https://metric-api.newrelic.com/metric/v1)
          </td>

          <td>
            [https://metric-api.eu.newrelic.com/metric/v1](https://metric-api.eu.newrelic.com/metric/v1)
          </td>
        </tr>

        <tr>
          <td>
            Evento
          </td>

          <td>
            [https://insights-collector.newrelic.com/v1/accounts/events](https://insights-collector.newrelic.com/v1/accounts/events)
          </td>

          <td>
            [https://insights-collector.eu01.nr-data.net/accounts/event/v1](https://insights-collector.eu01.nr-data.net/accounts/event/v1)
          </td>
        </tr>

        <tr>
          <td>
            Logs
          </td>

          <td>
            [https://log-api.newrelic.com/log/v1](https://log-api.newrelic.com/log/v1)
          </td>

          <td>
            [https://log-api.eu.newrelic.com/log/v1](https://log-api.eu.newrelic.com/log/v1)
          </td>
        </tr>

        <tr>
          <td>
            Traza
          </td>

          <td>
            [https://trace-api.newrelic.com/trace/v1](https://trace-api.newrelic.com/trace/v1)
          </td>

          <td>
            [https://trace-api.eu.newrelic.com/trace/v1](https://trace-api.eu.newrelic.com/trace/v1)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

* Ajuste las políticas del servidor proxy para acceder a New Relic si es necesario. Cerciorar de que los ajustes del proxy estén configurados:

  * Nombre de dominio del servidor/dirección IP y puerto.
  * Credenciales de acceso al proxy, si es necesaria la autenticación.

* Modificar las políticas de firewall para permitir el tráfico HTTPS a New Relic si está bloqueado.

  <Callout variant="tip">
    Estas conexiones se pueden configurar en el **Central Monitoring System** mediante **la transacción SAP SM59** y probar. Consulta [Establecer destino HTTP en New Relic Cloud](/docs/sap-solutions/additional-resources/detailed-configuration/#set-http-destination-to-new-relic-cloud) para obtener más detalles.
  </Callout>

* Para cada sistema monitoreado especificado, emplee la transacción `SM59` y el ID del sistema remoto para crear un **RFC Destination** y probar conexiones. Consulte [Crear destinos RFC para sistemas monitoreados](/docs/sap-solutions/additional-resources/detailed-configuration/#create-rfc-for-monitored-systems) para obtener más detalles.

  <Callout variant="tip">
    Cerciorar de que el usuario RFC tenga asignado el rol `/NEWR/DATA_PROVIDER`.
  </Callout>

* Cerciorar de lo siguiente para monitorear la base de datos remota de HANA:

  * El sistema de monitoreo central debe tener acceso al servidor HANA y al puerto de base de datos del inquilino.

  * Si su sistema de monitoreo central no es un sistema `S4HANA`, cerciorar de que uno de los siguientes componentes esté instalado:

    * Cliente HANA v2.0 (la versión debe ser compatible con la base de datos HANA)

    * Archivo de biblioteca de cliente de HANA:

      * `libSQLDBCHDB.so` (Linux)
      * `libSQLDBCHDB.dll` (Windows)
      * La biblioteca debe estar ubicada en la carpeta del kernel de SAP y ser propiedad del ID de administrador de SID (por ejemplo, sd1adm).

  * Para cada base de datos HANA remota, emplee la transacción `SAP DBACOCKPIT` para crear una conexión de base de datos. Consulte \[Crear conexión a base de datos] para obtener más detalles.

## Monitorear la cuenta BTP

Para monitorear una cuenta BTP, necesita una instancia de CloudALM configurada para monitorear la cuenta BTP o una subscripción al servicio Process integración Runtime (aplicable solo al monitoreo de integración). Se requieren claves de servicio para la autenticación de la conexión. Para obtener más información, consulte [Cómo recuperar las claves de servicio](/docs/sap-solutions/additional-resources/obtain-service-key/process-integration-runtime).

Las claves de servicio también se emplean para crear [destinos HTTP externos](docs/sap-solutions/additional-resources/detailed-configuration/#create-authentication-endpoint) y servir como host de API para los proveedores de datos de API.