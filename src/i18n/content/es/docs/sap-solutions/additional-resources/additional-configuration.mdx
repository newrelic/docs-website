---
title: Configuración adicional
metaDescription: Additional configuration instructions for SAP systems.
freshnessValidatedDate: never
translationType: machine
---

Esta sección proporciona instrucciones adicionales para configurar el sistema.

<Steps>
  <Step>
    ## Rol de autorización de carga [#upload-authorization-role]

    1. Utilice `SAP transaction PFCG`.

    2. Vaya a **Role** &gt; **Upload** y cargue el archivo **\_NEWR\_DATA\_PROVIDER.SAP** desde el paquete de instalación.

    3. Confirme que se cargará el rol `/NEWR/DATA_PROVIDER`.

       <img title="Authorization Role" alt="A screenshot displaying the authorization role upload" src="/images/authorisation-role.webp" width="600" />

    4. Haga clic en el<img src="/images/change-icon.webp" class="inline" style={{height: "22px", width: "22px"}} alt="change icon in SAP" title="Change icon indicator in SAP" />

       icono una vez cargado.

    5. En la pestaña **Authorizations**, seleccione<img src="/images/change-icon.webp" class="inline" style={{height: "20px", width: "20px"}} alt="change icon in SAP" title="Change icon indicator in SAP" />

       **Cambiar datos de autorización** y activar mediante<img src="/images/activate-option.webp" class="inline" style={{height: "25px", width: "30px"}} alt="activate icon in SAP" title="Activate Icon in SAP" />icono.

    <img title="Authorizations Tab" alt="A screenshot displaying the authorization tab and Change Authorization Data in SAP upload" src="/images/sap-authorization-1.webp" width="500" />

    6. Si se sugiere un nombre de perfil, haga clic en el ícono de verificación verde.
    7. Verifique que el mensaje **Profile(s) were updated** aparezca en la barra de estado.
  </Step>

  <Step>
    ## Crear New Relic RFC [#create-rfc-user-id]

    Luego de activar el perfil de autorización, emplee la transacción `SU01` para crear un nuevo ID de usuario RFC (por ejemplo, `NR4SAPDP`). Establezca el tipo de usuario en **System** o **Communication** y agregue el rol `/NEWR/DATA_PROVIDER`.

    <img title="Create New RFC User" alt="A screenshot displaying the creation of a new RFC user in SAP" src="/images/rfc-userid.webp" width="600" />
  </Step>

  <Step>
    ## Crear destinos RFC para sistemas monitoreados [#create-rfc-for-monitored-systems]

    Emplee la transacción `SM59` para crear un destino RFC para cada sistema monitoreado.

    1. Seleccione las **ABAP Connections** y haga clic en el icono **Create** para configurar un nuevo destino RFC.

    2. Introduzca un nombre de **RFC Destination** descriptivo. Recomendamos nombrar el destino RFC como `NR_<SYSID>CLNT<CLNT#>`

    3. Establezca el **Connection Type** en `3 - ABAP Connection`.

    4. En la pestaña **Technical Settings**, ingrese:

       * **Target Host** (dominio completo o IP) y **Instance No.**.
       * Especifique el **Gateway Host** y el** Service** si es necesario.

    <img title="Create RFC destinations for monitored systems" alt="A screenshot displaying the how to create RFC destinations for monitored systems" src="/images/rfc-destination.webp" width="600" />

    5. En la pestaña **Logon &amp; Security**, ingrese el usuario RFC (`NR4SAPDP`) y la contraseña.
    6. Haga clic en **Save**.
    7. Vaya a **Utility &gt; Test &gt; Connection Test** y **Authorization Test** para confirmar una conexión exitosa.

    <Callout variant="important">
      Cerciorar de que los resultados de la prueba sean exitosos.
    </Callout>
  </Step>

  <Step>
    ## Establecer el destino HTTP en cloud New Relic

    Emplee la transacción `SM59` para configurar conexiones HTTPS a los extremos de API de New Relic.

    <Callout variant="important">
      Cerciorar de crear un destino RFC individual para eventos, logs, métrica y traza por separado.
    </Callout>

    1. Introduzca un **Destination Name** (por ejemplo, `NR_API_EVENT`).
    2. Establezca el **Connection Type** en `G` (Conexiones HTTP a servidor externo).
    3. Ingrese el **Target Host**, el **Service No.** como (443) (consulte [el puerto estándar](/docs/sap-solutions/additional-resources/network-accessibility) para HTTPS) y el **Path Prefix** (consulte [la lista de verificación de preparación de instalación](/docs/sap-solutions/additional-resources/installation-readiness) para obtener más detalles).
    4. Si se requiere un proxy, configúrelo en la pestaña **Technical Settings**.
    5. En la pestaña **Security Options**, marque el botón **Active** para SSL.
       <img title="HTTP destination to New Relic" alt="A screenshot displaying the connection setup for HTTP destination to New Relic" src="/images/http-destination-to-new-relic.webp" width="600" />
    6. Si es necesario, descargue el certificado raíz de [New Relic](https://one.newrelic.com) y agréguelo a SAP mediante la transacción `STRUST`.
    7. Emplee la **Connection Test** para verificar la conexión. Una conexión exitosa simbolizará **Enter Logon Data**. Si la prueba caduca, verifique la configuración de su firewall.
    8. Repita este procedimiento para todos los extremos de API de New Relic.
  </Step>

  <Step>
    ## Crear autenticación BTP/CloudALM extremo [#create-authentication-endpoint]

    Siga las instrucciones a continuación según el servicio:

    <CollapserGroup>
      <Collapser id="btp-process-integration-runtime" title="Tiempo de ejecución de integración de procesos BTP">
        1. Tenga en cuenta `clientId`, `clientsecret` y `tokenurl` de la **Service Key** descargada.
        2. Vaya a `tokenurl` en un navegador sitio web y descargue los certificados necesarios (`Digicert root, global, and SAP on demand`).

        <img title="BTP process integration runtime" alt="A screenshot displaying the connection setup for BTP process integration runtime" src="/images/btp-process-integration.webp" width="600" />

        3. Emplee la transacción `STRUST` para cargar los tres certificados uno por uno y haga clic en **Add to Certificate List**.
        4. Clic en **Save**.
        5. Emplee la transacción `SMICM` y navegue a **Administration &gt; ICM &gt; Exit Soft &gt; Global** para resetear todos los procesos de ICM.

        <img title="Administration ICM" alt="A screenshot displaying the Administration ICM" src="/images/administration-icm.webp" width="600" />

        6. Emplee la transacción `SM59` para crear una nueva conexión RFC en **HTTP Connections to External Server**.
        7. Divida el tokenURL en el prefijo de host y ruta. Agrega el prefijo de ruta con `?grant_type=client_credentials`.
        8. Establezca el **Service No.** en `443`.

        <img title="Service No." alt="A screenshot displaying the Service No." src="/images/service-no.webp" width="600" />

        9. En la pestaña **Login &amp; Security**, seleccione **Basic Authentication** e ingrese `clientId` y `clientsecret` como nombre de usuario y contraseña.
        10. Establezca el estado del **Secure Protocol** en **Active** y almacene la configuración.
        11. Ejecutar una **Connection Test**.
      </Collapser>

      <Collapser id="cloud-alm-api" title="API de CloudALM">
        1. Tenga en cuenta `clientId`, `clientsecret` y `url` de la **Service Key** descargada.
        2. Vaya a la URL en un navegador sitio web y descargue los certificados **Digicert root**, **global** y **SAP on demand** de Digicert.

        <img title="CloudALM API" alt="A screenshot displaying the connection setup for CloudALM API" src="/images/cloudalm-api.webp" width="600" />

        3. Emplee la transacción `STRUST` para cargar los tres certificados uno por uno y haga clic en **Add to Certificate List**.
        4. Clic en **Save**.
        5. Emplee la transacción `SMICM` y navegue a **Administration &gt; ICM &gt; Exit Soft &gt; Global** para resetear todos los procesos de ICM.

        <img title="Administration ICM" alt="A screenshot displaying the Administration ICM" src="/images/administration-icm.webp" width="600" />

        6. Emplee la transacción `SM59` para crear una nueva conexión RFC.
        7. Inserte la URL como **Target host** y establezca el **Service No.** en `443`. Establezca el **Path Prefix** en `/oauth/token?grant_type=client_credentials`.

        <img title="SM59 Configuration" alt="A screenshot displaying the SM59 configuration" src="/images/sm59-configuration.webp" width="600" />

        8. En la pestaña **Login &amp; Security**, seleccione **Basic Authentication** e ingrese `clientId` y `clientsecret` como nombre de usuario y contraseña.
        9. Establezca el estado del **Secure Protocol** en **Active** y almacene la configuración.
        10. Ejecutar una **Connection Test**.
      </Collapser>
    </CollapserGroup>
  </Step>

  <Step>
    ## Crear una conexión a la base de datos [#create-database-connection]

    Emplee la transacción `DBACOCKPIT` para definir las conexiones de la **HANA Database** remota.

    1. Haga doble clic en **Database Connections** y haga clic en **Add**.

       <img title="Database Connection" alt="A screenshot displaying the Database Connection" src="/images/database-connection.webp" width="600" />

    2. Introduzca un **Connection Name** (preferiblemente el mismo que el ID del sistema SAP).

    3. Seleccione la **HANA Database** como **Database System**.

    4. Introduzca el **Database user ID** (por ejemplo, `NRAGENT`) y la contraseña.

    5. Ingrese el **Database Host** y el** SQL Port**.

       <img title="SAP Connection Name" alt="A screenshot displaying the SAP Connection Name" src="/images/connection-name.webp" width="600" />

    6. Almacene los datos y haga clic en **Test** para verificar la conexión.
  </Step>
</Steps>