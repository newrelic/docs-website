---
title: Solución de problemas de las reglas de nube de Pipeline Control
metaDescription: Diagnose and resolve common issues with Pipeline Control cloud rules that drop data in New Relic infrastructure.
freshnessValidatedDate: never
translationType: machine
---

Esta guía le ayuda a solucionar problemas comunes con las reglas de la nube de Pipeline Control. Las reglas de nube se ejecutan en la infraestructura de New Relic y utilizan NRQL para descartar datos no deseados después de que llegan a los endpoints de New Relic.

## La regla no descarta datos

### Sintaxis NRQL inválida

**Problema**: La regla contiene sintaxis NRQL no válida y falla al procesar datos.

**Síntomas**:

* La regla aparece en la UI, pero no se están descartando datos
* Las métricas de descarte esperadas no aparecen
* El estado de la regla se muestra como inactivo o fallido

**Solución**:

* Valide su sintaxis NRQL en el generador de consultas cambiando `DELETE` a `SELECT` para probar la lógica de la consulta

* Verifique que la consulta devuelva los datos esperados antes de cambiarla nuevamente a `DELETE`

* Busque errores de sintaxis comunes de NRQL:

  * Cláusula `WHERE` faltante o incorrecta
  * Nombres de atributos o tipos de datos inválidos
  * Operadores de comparación incorrectos

* Consulte la [documentación de NRQL](/docs/nrql/get-started/introduction-nrql-new-relics-query-language/) para obtener orientación sobre la sintaxis

* Edite la regla para corregir errores de sintaxis y guarde.

### La regla no coincide con los datos esperados

**Problema**: La consulta NRQL es sintácticamente correcta pero no coincide con los datos que espera descartar.

**Síntomas**:

* La regla está activa, pero las métricas de descarte muestran volúmenes bajos o cero
* Los datos que espera que se descarten siguen apareciendo en New Relic
* La consulta no devuelve resultados cuando se prueba con `SELECT`

**Solución**:

* Prueba tu regla con `SELECT` en lugar de `DELETE` para ver con qué datos coincide

* Verifique que los nombres de los atributos coincidan con sus datos reales:

  * Verifique la ortografía y el uso de mayúsculas del atributo
  * Utilice el explorador de datos para inspeccionar los nombres reales de los atributos en su telemetría

* Confirme que los tipos de datos coincidan (comparaciones de cadenas vs. números)

* Verifique el rango de tiempo: asegúrese de que existan datos en la ventana de tiempo seleccionada

* Verifique que la cláusula `FROM` apunte al tipo de dato correcto (Log, Metric, Span, Transaction)

* Refine sus condiciones de `WHERE` para que coincidan con sus datos con mayor precisión

### Regla desplegada en la cuenta incorrecta

**Problema**: La regla está activa, pero procesa datos en una cuenta diferente a la prevista.

**Síntomas**:

* La regla existe en la interfaz de usuario, pero los datos esperados siguen apareciendo
* Las métricas de descarte no se muestran en la cuenta que está viendo
* Confusión sobre a qué cuenta afecta la regla

**Solución**:

* Verifique el selector de cuentas en la interfaz de usuario de Pipeline Control
* Recuerde que las reglas de la nube son **específicas de la cuenta** (a diferencia de las reglas de gateway, que son para toda la organización)
* Verifique que está viendo la misma cuenta donde se desplegó la regla
* Revise la lista de reglas en la cuenta correcta para confirmar que existe allí.
* Si es necesario, vuelva a crear la regla en la cuenta prevista

## Problemas de creación y edición de reglas

### No se pueden crear ni editar reglas

**Problema**: No tiene permiso para crear o modificar reglas de la nube.

**Síntomas**:

* Los botones de crear/editar están deshabilitados o faltan
* Mensaje de error sobre permisos insuficientes
* Los cambios no se guardan

**Solución**:

* Verifique que tiene el rol y las capacidades necesarios para las reglas de nube de Pipeline Control
* Póngase en contacto con el administrador de su cuenta para conceder los permisos adecuados.
* Consulte la [documentación de permisos de usuario](/docs/accounts/accounts-billing/new-relic-one-user-management/user-permissions/) para conocer las capacidades requeridas
* Asegúrese de estar en la cuenta correcta con el acceso adecuado

### Cambios en las reglas no visibles

**Problema**: Creó o editó una regla, pero no ve los cambios en la lista de reglas.

**Síntomas**:

* Realicé cambios, pero no aparecen en la UI
* La lista de reglas muestra la versión antigua
* Los cambios parecen haber desaparecido

**Solución**:

* Actualice la página de la IU de Pipeline Control
* Verifique que guardó la regla (los cambios se aplican inmediatamente al guardar)
* Verifique que la regla esté habilitada (las reglas pueden deshabilitarse sin eliminarlas)
* Verifique que está viendo la cuenta correcta en el selector de cuentas
* Los cambios se propagan en segundos; si no son visibles después de actualizar, intente editar la regla nuevamente.

## Problemas de monitoreo y métricas

### Métricas de descarte faltantes

**Problema**: La regla está activa, pero no puede ver las métricas sobre los datos descartados.

**Síntomas**:

* La regla aparece en la UI como activa
* No aparecen métricas de volumen de descarte en los dashboards
* No se puede confirmar si la regla está funcionando

**Solución**:

* Espere unos minutos para que aparezcan las métricas después del despliegue de la regla.
* Verifique que la regla realmente coincida y descarte datos probando con `SELECT`
* Verifique la cuenta correcta: las métricas de descarte aparecen en la misma cuenta que la regla
* Consulte las métricas de descarte directamente usando NRQL:
  ```sql
  FROM NrIntegrationError SELECT count(*) WHERE newRelicFeature = 'pipeline_control'
  ```
* Si la regla no coincide con los datos, consulte [La regla no coincide con los datos esperados](#rule-not-matching-expected-data)

### Impacto de costo inesperado

**Problema**: Los costos de las reglas de la nube son más altos de lo esperado.

**Síntomas**:

* Conteos altos de BSE (miles de millones de eventos escaneados)
* Los costos no coinciden con los volúmenes de descarte esperados
* Preocupación por la eficiencia de la medición

**Solución**:

* Revise la cláusula `WHERE` de su regla: las condiciones más amplias escanean más eventos

* Considere usar condiciones más selectivas para reducir los BSE escaneados

* Recuerde que los BSE suelen representar una fracción del costo mucho menor que los GB descartados

* Para fuentes de datos de alto volumen, considere usar [reglas de gateway](/docs/new-relic-control/pipeline-control/gateway/overview) en su lugar, las cuales:

  * Procesar datos antes de que lleguen a New Relic
  * Cobrar según el volumen de ingreso independientemente de los descartes
  * Puede ser más rentable para el filtrado a gran escala

* Consulte la [documentación de costos](/docs/new-relic-control/pipeline-control/costs) para obtener detalles sobre los modelos de medición

## Problemas de comportamiento de los datos

### Los datos siguen apareciendo después de implementar la regla

**Problema**: Se implementó una regla de descarte, pero los datos siguen apareciendo en New Relic.

**Síntomas**:

* Se creó una regla `DELETE` dirigida a datos específicos
* La regla se muestra como activa
* Los datos esperados siguen apareciendo en dashboards y consultas

**Solución**:

* Verifique que la regla esté usando `DELETE` no solo `SELECT`

* Verifica que la regla esté **habilitada** (las reglas deshabilitadas no procesan datos)

* Pruebe la regla con `SELECT` para confirmar que coincide con los datos esperados

* Verifique que las `WHERE` condiciones de la regla realmente coincidan con sus datos

* Recuerde que las reglas de la nube solo afectan a los **datos nuevos que llegan después de la implementación**

  * Los datos históricos que ya están en NRDB no se ven afectados
  * Los datos enviados antes de la activación de la regla permanecerán

* Las reglas se activan unos segundos después de guardarse; si los datos siguen apareciendo, es posible que la regla no esté coincidiendo correctamente.

* Verifique que está viendo datos recientes, no datos anteriores al despliegue de la regla

* Verifique la cuenta correcta donde está desplegada la regla

### La regla descarta demasiados datos

**Problema**: La regla está descartando más datos de lo previsto.

**Síntomas**:

* Faltan datos esperados en New Relic
* Las métricas de descarte muestran volúmenes más altos de lo previsto
* Dashboards o alertas con datos faltantes

**Solución**:

* Revise cuidadosamente la cláusula `WHERE` de la regla

* Prueba la regla con `SELECT` para ver exactamente con qué coincide

* Busque condiciones demasiado amplias:

  * El uso de `LIKE '%value%'` puede coincidir con más de lo previsto
  * Faltan condiciones que deberían acotar el alcance
  * Lógica booleana incorrecta (`AND` vs `OR`)

* Edite la regla para agregar condiciones más específicas

* Considere crear múltiples reglas específicas en lugar de una regla amplia

* Monitoree las métricas de descarte después de los cambios para verificar el comportamiento correcto

## Próximos pasos

Si continúa teniendo problemas después de seguir esta guía de solución de problemas:

* Revise la [documentación de reglas de nube](/docs/new-relic-control/pipeline-control/cloud-rules/create-pipeline-rules) para verificar la configuración de sus reglas
* Consulte la [documentación de NRQL](/docs/nrql/get-started/introduction-nrql-new-relics-query-language/) para obtener orientación sobre la sintaxis de consultas
* Usa el generador de consultas para probar versiones `SELECT` de tus reglas antes de implementarlas
* Revise la [documentación de costos](/docs/new-relic-control/pipeline-control/costs) para entender la medición de las reglas de la nube
* Comuníquese con el Soporte de New Relic con la definición de su regla y la información de la cuenta