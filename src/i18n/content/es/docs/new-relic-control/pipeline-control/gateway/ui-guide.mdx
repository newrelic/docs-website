---
title: Guía de la interfaz de usuario de Gateway
metaDescription: 'Use the form-based Pipeline Control Gateway UI to create transformation, filtering, and sampling rules without writing YAML configuration.'
freshnessValidatedDate: never
translationType: machine
---

The Pipeline Control gateway UI provides a form-based interface for creating and managing gateway rules without writing YAML directly. The UI organizes processing logic into three rule categories: sample rate, filter, and transform. Each category is configurable through guided modal dialogs.

## Organización de la UI

La interfaz de usuario del gateway está organizada en tres secciones principales:

### Tasa de muestreo

Configura el muestreo probabilístico con reglas condicionales para controlar qué porcentaje de datos de telemetría llega a New Relic. Admite:

* Porcentaje de muestreo predeterminado (0-100%)
* Escenarios de muestreo condicional basados en coincidencia de atributos

**Casos de uso comunes:**

* &quot;Muestrear el 90% de los logs del servicio B, el 83% de los logs del servicio A&quot;
* &quot;Conservar el 100% de los errores, 100% de las trazas &gt;1000ms, muestrear el 10% del resto&quot;

### Filtrar

Create OTTL-based filter rules to conditionally filter entire telemetry records or specific attributes. Supports:

* Coincidencia de patrones con el operador `matches` para regex
* Filtrado basado en atributos (entorno, nombre de la métrica, nivel de log)
* Condiciones combinadas con lógica `and`/`or`
* Operadores de comparación (`==`, `!=`, `>`, `<`, `>=`, `<=`)

**Casos de uso comunes:**

* &quot;Eliminar datos del entorno de prueba&quot;
* &quot;Descartar logs de nivel de depuración en producción&quot;
* &quot;Eliminar spans de comprobación de estado&quot;
* &quot;Descartar métricas con prefijo de prueba&quot;

### Transform

Defina reglas de transformación basadas en OTTL para modificar, enriquecer o analizar datos de telemetría. Admite:

* Adición y modificación de atributos mediante funciones OTTL
* Análisis de cadenas con patrones regex
* Transformaciones condicionales con reglas de coincidencia
* Múltiples sentencias OTTL por transformación

**Casos de uso comunes:**

* &quot;Agregar etiquetas de entorno y región a todas las métricas&quot;
* &quot;Analizar el formato de log de NGINX en atributos estructurados&quot;
* &quot;Normalizar los nombres de servicio en los ambientes&quot;
* &quot;Extraer códigos de estado HTTP de mensajes de log&quot;

## Crear reglas en la interfaz de usuario

### Creación de una regla de tasa de muestreo

1. En la interfaz de usuario de la puerta de enlace, en el bloque de tasa de muestreo, haga clic en el ícono de engranaje/configuración para crear una nueva configuración de muestreo.

2. Configurar el muestreo global:

   * Establezca el porcentaje de muestreo global (0-100%).
   * Use el control deslizante o ingrese un valor numérico. Esto se aplica a todos los datos que no coinciden con las reglas condicionales.

3. Agregar escenarios condicionales (opcional):

   * Haga clic en el icono MÁS para crear tasas de muestreo específicas de condiciones.
   * Para cada escenario, configure: Un nombre descriptivo (por ejemplo, &quot;`B service sample`&quot;), una descripción (por ejemplo, &quot;`B service description`&quot;), una expresión de coincidencia de atributos (por ejemplo, `attributes["appName"]=="TelemetryApp-ServiceB"`), un porcentaje de muestreo usando el control deslizante o ingrese un valor numérico (0-100%)

4. Haga clic en <DNT>**Save sample criteria**</DNT> para aplicar reglas de muestreo.

### Crear una regla de filtro

1. En la interfaz de usuario del gateway, haga clic en el icono de signo más en el bloque de filtros para crear una nueva regla de filtro.

2. Configurar información básica:

   * <DNT>**Rule name**</DNT>: Ingrese un nombre descriptivo.
   * <DNT>**Description**</DNT>: Explique qué hace la regla.

3. Defina una condición que coincida con sus datos y haga clic en <DNT>**Create rule**</DNT>.

4. Para agregar más condiciones según sea necesario, repita los pasos 1 a 3.

### Create a transform rule

1. En la interfaz de usuario del gateway, haga clic en el icono de signo más en el bloque de transformaciones para crear una nueva regla de transformación.

2. **Configurar la información básica**:

   * <DNT>**Rule name**</DNT>: Enter a descriptive name (for example, &quot;`parse-nginx-logs`&quot;)
   * <DNT>**Description**</DNT>: Explique qué hace la transformación

3. **Defina condiciones que coincidan con sus datos**:

   * Agregue condiciones para apuntar a registros de telemetría específicos.
   * Haga clic en <DNT>**Add condition**</DNT> para agregar múltiples condiciones:

   Se evalúan múltiples condiciones con lógica OR (si alguna condición coincide, se aplica la transformación). Condiciones de ejemplo: `body == "request failed"`, `severity.text == "ERROR"`, `severity.text == "FATAL_ERROR"` Dejar vacío para aplicar la transformación a todos los logs. Cada condición se muestra en un campo de entrada separado con el operador `OR` entre ellas.

4. **Definir sentencias OTTL**:

   * Agregue una o más sentencias de transformación OTTL.
   * Haga clic en <DNT>**Add statement**</DNT> para agregar múltiples transformaciones.
   * Cada instrucción se ejecuta en secuencia. Cambie el orden arrastrando el controlador a la izquierda de cada declaración.
   * Declaraciones de ejemplo usando funciones OTTL: `set(severity_text, "FAIL")`, `set(attributes["processors"], true)`, `set(attributes["environment"], "staging")`

5. Haga clic en <DNT>**Preview rule**</DNT> para ver cómo la transformación modifica los datos de muestra.

6. Realice cambios hasta que esté satisfecho con la transformación.

7. Haga clic en <DNT>**Create rule**</DNT> para agregar la transformación a su gateway.

### Despliega tus cambios

Después de configurar las reglas, siga estos pasos para desplegar su configuración:

1. Haga clic en <DNT>**Create Deployment**</DNT>.

2. En la nueva página de despliegue:

   * Ingrese un nombre y una descripción para el despliegue.
   * Identifique el agente de gateway de Pipeline Control en el que desea desplegar.
   * Abre el menú de puntos a la derecha y haz clic en <DNT>**Change version**</DNT>.

3. De la lista de versiones, seleccione la versión que corresponda a la configuración que acaba de crear. (Los números de versión se incrementan automáticamente con cada cambio de configuración, por lo que debería ser la última versión).

4. Haga clic en <DNT>**Add to deployment**</DNT> para aplicar la configuración.

5. Haga clic en <DNT>**Save draft**</DNT> y luego haga clic en <DNT>**Start deployment**</DNT>.

6. Debe confirmar nuevamente que desea iniciar el despliegue. Haga clic en <DNT>**Start deployment**</DNT> de nuevo para confirmar.

## Recursos de OpenTelemetry

* [Referencia de funciones OTTL](https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/pkg/ottl/ottlfuncs/README.md) - Lista completa de funciones OTTL para transformaciones y expresiones booleanas para filtrar
* [Procesador de transformación](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/processor/transformprocessor) - Documentación oficial del procesador de transformación
* [Procesador de filtros](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/processor/filterprocessor) - Documentación oficial del procesador de filtros con sintaxis de expresiones booleanas OTTL
* [Procesador de muestreo probabilístico](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/processor/probabilisticsamplerprocessor) - Documentación oficial del procesador de muestreo