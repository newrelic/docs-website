---
title: Balanceador de carga para clúster de puerta de enlace
metaDescription: Learn how to set up a load balancer for your gateway cluster to manage the flow of data from your monitored entities to New Relic.
freshnessValidatedDate: never
translationType: machine
---

New Relic recomienda implementar un equilibrador de carga para el clúster de puerta de enlace.

1. [Evaluar los requisitos de carga](/docs/new-relic-control/pipeline-control/sizing-and-scaling):

   * Determinar el rendimiento de datos esperado e identificar posibles cuellos de botella.
   * Evaluar el número de agentes APM y los tiempos pico de carga.

2. Seleccione el tipo de balanceador de carga:

   * Elija un [balanceador de carga de software que se integre bien con Kubernetes](https://kubernetes.io/docs/concepts/services-networking/ingress-controllers/). Las opciones incluyen soluciones basadas en la nube como [la aplicaciónAWS Load Balancer](https://docs.aws.amazon.com/eks/latest/userguide/alb-ingress.html), [Google Cloud Load Balancer](https://cloud.google.com/kubernetes-engine/docs/concepts/ingress) o [Azure Load Balancer](https://learn.microsoft.com/en-us/troubleshoot/azure/azure-kubernetes/load-bal-ingress-c/create-unmanaged-ingress-controller?tabs=azure-cli), así como soluciones de código abierto como [NGINX](https://kubernetes.github.io/ingress-nginx/) o [Traefik](https://doc.traefik.io/traefik/providers/kubernetes-ingress/).

3. Configurar el balanceador de carga:

   * Configure el balanceador de carga para distribuir el tráfico de manera uniforme entre múltiples instancias de puerta de enlace dentro del clúster de Kubernetes.
   * Implemente controles de salud para garantizar que solo las instancias saludables reciban tráfico.

4. Configurar DNS y certificados:

   * Configure las entradas DNS para garantizar un enrutamiento perfecto de datos a su puerta de enlace.
   * Obtenga y configure certificados SSL/TLS para proteger la comunicación entre el agente y la puerta de enlace.
   * Cerciorar de que el certificado esté configurado correctamente para que el balanceador de carga mantenga una transferencia de datos segura.

5. Tamaño y escala:

   * Configure políticas de escalamiento automático para agregar o eliminar instancias según un umbral predefinido, como el uso de CPU o el tráfico de red.
   * Monitorear el rendimiento métrico para ajustar las políticas de escalamiento según sea necesario.

6. Probar y optimizar:

   * Realizar pruebas de carga para garantizar una distribución efectiva del tráfico e identificar cualquier cuello de botella.
   * Optimice la configuración para minimizar la latencia y maximizar el rendimiento.

A modo de ejemplo, obtenga más información sobre cómo [implementar un balanceador de carga empleando específicamente los servicios de AWS.](/docs/new-relic-control/pipeline-control/aws-alb-for-gateway)