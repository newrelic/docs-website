---
title: Integración de Amazon Managed Kafka (MSK)
tags:
  - Integrations
  - Amazon integrations
  - AWS integrations list
metaDescription: 'New Relic''s AWS Managed Streaming for Kafka (MSK) integration: what data it reports, and how to enable it.'
freshnessValidatedDate: never
translationType: machine
---

<Callout variant="important">
  Habilite la [integración AWS CloudWatch Metric Streams ](/docs/infrastructure/amazon-integrations/aws-integrations-list/aws-metric-stream/)para monitor todas las métricas de CloudWatch desde sus servicios de AWS, incluido el espacio de nombres personalizado. La integración individual ya no es nuestra opción recomendada.
</Callout>

New Relic ofrece una integración para recopilar sus datos [de Amazon Web Services Managed Streaming para Apache Kafka](https://aws.amazon.com/msk/) . Este documento explica cómo activar esta integración y describe los datos que se pueden reportar.

## Activar la integración [#activate]

Para habilitar esta integración, siga los procedimientos estándar para [conectar los servicios de AWS a New Relic](/docs/infrastructure/infrastructure-integrations/getting-started/connect-aws-integrations-infrastructure).

## Configuración y sondeo [#polling]

Para cambiar la frecuencia de sondeo y filtrar datos, utilice [las opciones de configuración](/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations).

Información [de sondeo](/docs/infrastructure/amazon-integrations/aws-integrations-list/aws-polling-intervals-infrastructure-integrations) predeterminada para la integración de Amazon Managed Kafka:

* New Relic intervalo de sondeo: 5 minutos
* Intervalo de datos de Amazon CloudWatch: 1 minuto

## Ver y usar datos [#find-data]

Para ver sus datos de integración, vaya a <DNT>**[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &gt; Infrastructure &gt; AWS**</DNT> y seleccione una integración.

Puedes [consultar y explorar tus datos](/docs/using-new-relic/data/understand-data/query-new-relic-data) utilizando el siguiente [tipo de evento](/docs/data-apis/understand-data/new-relic-data-types/#event-data):

<table>
  <thead>
    <tr>
      <th>
        Entidad
      </th>

      <th>
        Tipo de evento
      </th>

      <th>
        Proveedor
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Grupo
      </td>

      <td>
        `AwsMskClusterSample`
      </td>

      <td>
        `AwsMskCluster`
      </td>
    </tr>

    <tr>
      <td>
        Corredor
      </td>

      <td>
        `AwsMskBrokerSample`
      </td>

      <td>
        `AwsMskBroker`
      </td>
    </tr>

    <tr>
      <td>
        Tema
      </td>

      <td>
        `AwsMskTopicSample`
      </td>

      <td>
        `AwsMskTopic`
      </td>
    </tr>
  </tbody>
</table>

Para obtener más información sobre cómo utilizar sus datos, consulte [Comprender y utilizar los datos de integración](/docs/infrastructure/integrations/find-use-infrastructure-integration-data).

## Datos métricos [#metrics]

Esta integración registra datos de Amazon Managed Kafka para clúster, broker y entidad temática.

### Datos administrados del clúster Kafka

<table>
  <thead>
    <tr>
      <th style={{ width: "275px" }}>
        Métrica
      </th>

      <th style={{ width: "150px" }}>
        Unidad
      </th>

      <th>
        Descripción
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `activeControllerCount`
      </td>

      <td>
        Contar
      </td>

      <td>
        Sólo un controlador por clúster debe estar activo en un momento dado.
      </td>
    </tr>

    <tr>
      <td>
        `globalPartitionCount`
      </td>

      <td>
        Contar
      </td>

      <td>
        Número total de particiones en todos los intermediarios del clúster.
      </td>
    </tr>

    <tr>
      <td>
        `globalTopicCount`
      </td>

      <td>
        Contar
      </td>

      <td>
        Número total de temas en todos los corredores del clúster.
      </td>
    </tr>

    <tr>
      <td>
        `offlinePartitionsCount`
      </td>

      <td>
        Contar
      </td>

      <td>
        Número total de particiones que están fuera de línea en el clúster.
      </td>
    </tr>
  </tbody>
</table>

### Datos gestionados de Kafka Broker

<table>
  <thead>
    <tr>
      <th style={{ width: "275px" }}>
        Métrica
      </th>

      <th style={{ width: "150px" }}>
        Unidad
      </th>

      <th>
        Descripción
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `bytesInPerSec`
      </td>

      <td>
        Bytes por segundo
      </td>

      <td>
        El número de bytes por segundo recibidos de los clientes.
      </td>
    </tr>

    <tr>
      <td>
        `bytesOutPerSec`
      </td>

      <td>
        Bytes por segundo
      </td>

      <td>
        El número de bytes por segundo enviados a los clientes.
      </td>
    </tr>

    <tr>
      <td>
        `cpuSystem`
      </td>

      <td>
        Por ciento
      </td>

      <td>
        El porcentaje de CPU en el espacio del kernel.
      </td>
    </tr>

    <tr>
      <td>
        `cpuUser`
      </td>

      <td>
        Por ciento
      </td>

      <td>
        El porcentaje de CPU en el espacio de usuario.
      </td>
    </tr>

    <tr>
      <td>
        `cpuIdle`
      </td>

      <td>
        Por ciento
      </td>

      <td>
        El porcentaje de tiempo de inactividad de la CPU.
      </td>
    </tr>

    <tr>
      <td>
        `fetchConsumerLocalTimeMsMean`
      </td>

      <td>
        Milisegundos
      </td>

      <td>
        El tiempo medio en milisegundos que se procesa la solicitud del consumidor en el líder.
      </td>
    </tr>

    <tr>
      <td>
        `fetchConsumerRequestQueueTimeMsMean`
      </td>

      <td>
        Milisegundos
      </td>

      <td>
        El tiempo medio en milisegundos que la solicitud del consumidor espera en la cola de solicitudes.
      </td>
    </tr>

    <tr>
      <td>
        `fetchConsumerResponseQueueTimeMsMean`
      </td>

      <td>
        Milisegundos
      </td>

      <td>
        El tiempo medio en milisegundos que la solicitud del consumidor espera en la cola de respuestas.
      </td>
    </tr>

    <tr>
      <td>
        `fetchConsumerResponseSendTimeMsMean`
      </td>

      <td>
        Milisegundos
      </td>

      <td>
        El tiempo medio en milisegundos para que el consumidor envíe una respuesta.
      </td>
    </tr>

    <tr>
      <td>
        `fetchConsumerTotalTimeMsMean`
      </td>

      <td>
        Milisegundos
      </td>

      <td>
        El tiempo total medio en milisegundos que el consumidor dedica a obtener datos del corredor.
      </td>
    </tr>

    <tr>
      <td>
        `fetchFollowerLocalTimeMsMean`
      </td>

      <td>
        Milisegundos
      </td>

      <td>
        El tiempo medio en milisegundos que se procesa la solicitud del seguidor en el líder.
      </td>
    </tr>

    <tr>
      <td>
        `fetchFollowerRequestQueueTimeMsMean`
      </td>

      <td>
        Milisegundos
      </td>

      <td>
        El tiempo medio en milisegundos que la solicitud del seguidor espera en la cola de solicitudes.
      </td>
    </tr>

    <tr>
      <td>
        `fetchFollowerResponseQueueTimeMsMean`
      </td>

      <td>
        Milisegundos
      </td>

      <td>
        El tiempo medio en milisegundos que la solicitud del seguidor espera en la cola de respuestas.
      </td>
    </tr>

    <tr>
      <td>
        `fetchFollowerResponseSendTimeMsMean`
      </td>

      <td>
        Milisegundos
      </td>

      <td>
        El tiempo medio en milisegundos para que el seguidor envíe una respuesta.
      </td>
    </tr>

    <tr>
      <td>
        `fetchFollowerTotalTimeMsMean`
      </td>

      <td>
        Milisegundos
      </td>

      <td>
        El tiempo total medio en milisegundos que los seguidores dedican a obtener datos del corredor.
      </td>
    </tr>

    <tr>
      <td>
        `fetchMessageConversionsPerSec`
      </td>

      <td>
        ContarPorSegundo
      </td>

      <td>
        El número de conversiones de mensajes de recuperación por segundo para el intermediario.
      </td>
    </tr>

    <tr>
      <td>
        `fetchThrottleTime`
      </td>

      <td>
        Milisegundos
      </td>

      <td>
        El tiempo medio de aceleración de recuperación en milisegundos.
      </td>
    </tr>

    <tr>
      <td>
        `fetchThrottleByteRate`
      </td>

      <td>
        Bytes por segundo
      </td>

      <td>
        El número de bytes limitados por segundo.
      </td>
    </tr>

    <tr>
      <td>
        `fetchThrottleQueueSize`
      </td>

      <td>
        Contar
      </td>

      <td>
        El número de mensajes en la cola de aceleración.
      </td>
    </tr>

    <tr>
      <td>
        `kafkaAppLogsDiskUsed`
      </td>

      <td>
        Por ciento
      </td>

      <td>
        El porcentaje de espacio en disco utilizado para el registro de la aplicación.
      </td>
    </tr>

    <tr>
      <td>
        `kafkaDataLogsDiskUsed`
      </td>

      <td>
        Por ciento
      </td>

      <td>
        El porcentaje de espacio en disco utilizado para el registro de datos.
      </td>
    </tr>

    <tr>
      <td>
        `leaderCount`
      </td>

      <td>
        Contar
      </td>

      <td>
        El número de réplicas de líder.
      </td>
    </tr>

    <tr>
      <td>
        `memoryBuffered`
      </td>

      <td>
        Bytes
      </td>

      <td>
        El tamaño en bytes de la memoria intermedia del intermediario.
      </td>
    </tr>

    <tr>
      <td>
        `memoryCached`
      </td>

      <td>
        Bytes
      </td>

      <td>
        El tamaño en bytes de la memoria caché del intermediario.
      </td>
    </tr>

    <tr>
      <td>
        `memoryFree`
      </td>

      <td>
        Bytes
      </td>

      <td>
        El tamaño en bytes de memoria libre y disponible para el intermediario.
      </td>
    </tr>

    <tr>
      <td>
        `memoryUsed`
      </td>

      <td>
        Bytes
      </td>

      <td>
        El tamaño en bytes de memoria que está utilizando el intermediario.
      </td>
    </tr>

    <tr>
      <td>
        `messagesInPerSec`
      </td>

      <td>
        ContarPorSegundo
      </td>

      <td>
        El número de mensajes entrantes por segundo para el intermediario.
      </td>
    </tr>

    <tr>
      <td>
        `networkProcessorAvgIdlePercent`
      </td>

      <td>
        Por ciento
      </td>

      <td>
        El porcentaje promedio de tiempo que los procesadores de la red están inactivos.
      </td>
    </tr>

    <tr>
      <td>
        `networkRxDropped`
      </td>

      <td>
        Contar
      </td>

      <td>
        El número de paquetes de recepción descartados.
      </td>
    </tr>

    <tr>
      <td>
        `networkRxErrors`
      </td>

      <td>
        Contar
      </td>

      <td>
        La cantidad de errores de recepción de red para el corredor.
      </td>
    </tr>

    <tr>
      <td>
        `networkRxPackets`
      </td>

      <td>
        Contar
      </td>

      <td>
        El número de paquetes recibidos por el corredor.
      </td>
    </tr>

    <tr>
      <td>
        `networkTxDropped`
      </td>

      <td>
        Contar
      </td>

      <td>
        El número de paquetes de transmisión descartados.
      </td>
    </tr>

    <tr>
      <td>
        `networkTxErrors`
      </td>

      <td>
        Contar
      </td>

      <td>
        La cantidad de errores de transmisión de red para el corredor.
      </td>
    </tr>

    <tr>
      <td>
        `networkTxPackets`
      </td>

      <td>
        Contar
      </td>

      <td>
        El número de paquetes transmitidos por el corredor.
      </td>
    </tr>

    <tr>
      <td>
        `partitionCount`
      </td>

      <td>
        Contar
      </td>

      <td>
        El número de particiones del corredor.
      </td>
    </tr>

    <tr>
      <td>
        `produceLocalTimeMsMean`
      </td>

      <td>
        Milisegundos
      </td>

      <td>
        El tiempo medio en milisegundos para que el seguidor envíe una respuesta.
      </td>
    </tr>

    <tr>
      <td>
        `produceMessageConversionsPerSec`
      </td>

      <td>
        ContarPorSegundo
      </td>

      <td>
        El número de conversiones de mensajes producidos por segundo para el intermediario.
      </td>
    </tr>

    <tr>
      <td>
        `produceMessageConversionsTimeMsMean`
      </td>

      <td>
        Milisegundos
      </td>

      <td>
        El tiempo medio en milisegundos dedicado a las conversiones de formato de mensaje.
      </td>
    </tr>

    <tr>
      <td>
        `produceRequestQueueTimeMsMean`
      </td>

      <td>
        Milisegundos
      </td>

      <td>
        El tiempo medio en milisegundos que los mensajes de solicitud pasan en la cola.
      </td>
    </tr>

    <tr>
      <td>
        `produceResponseQueueTimeMsMean`
      </td>

      <td>
        Milisegundos
      </td>

      <td>
        El tiempo medio en milisegundos que los mensajes de respuesta pasan en la cola.
      </td>
    </tr>

    <tr>
      <td>
        `produceResponseSendTimeMsMean`
      </td>

      <td>
        Milisegundos
      </td>

      <td>
        El tiempo medio en milisegundos dedicado al envío de mensajes de respuesta.
      </td>
    </tr>

    <tr>
      <td>
        `produceTotalTimeMsMean`
      </td>

      <td>
        Milisegundos
      </td>

      <td>
        El tiempo medio de producción en milisegundos.
      </td>
    </tr>

    <tr>
      <td>
        `produceThrottleTime`
      </td>

      <td>
        Milisegundos
      </td>

      <td>
        El tiempo promedio de aceleración de producción es en milisegundos.
      </td>
    </tr>

    <tr>
      <td>
        `produceThrottleByteRate`
      </td>

      <td>
        Bytes por segundo
      </td>

      <td>
        El número de bytes limitados por segundo.
      </td>
    </tr>

    <tr>
      <td>
        `produceThrottleQueueSize`
      </td>

      <td>
        Contar
      </td>

      <td>
        El número de mensajes en la cola de aceleración.
      </td>
    </tr>

    <tr>
      <td>
        `requestBytesMean`
      </td>

      <td>
        Contar
      </td>

      <td>
        El número medio de bytes de solicitud para el intermediario.
      </td>
    </tr>

    <tr>
      <td>
        `requestExemptFromThrottleTime`
      </td>

      <td>
        Milisegundos
      </td>

      <td>
        El tiempo promedio dedicado a la red de intermediarios y a los subprocesos de E/S para procesar solicitudes que están exentas de limitación.
      </td>
    </tr>

    <tr>
      <td>
        `requestHandlerAvgIdlePercent`
      </td>

      <td>
        Por ciento
      </td>

      <td>
        El porcentaje promedio de tiempo que los subprocesos del controlador de solicitudes están inactivos.
      </td>
    </tr>

    <tr>
      <td>
        `requestThrottleQueueSize`
      </td>

      <td>
        Contar
      </td>

      <td>
        El número de mensajes en la cola de aceleración.
      </td>
    </tr>

    <tr>
      <td>
        `requestThrottleTime`
      </td>

      <td>
        Milisegundos
      </td>

      <td>
        El tiempo promedio de aceleración de solicitudes en milisegundos.
      </td>
    </tr>

    <tr>
      <td>
        `requestTime`
      </td>

      <td>
        Milisegundos
      </td>

      <td>
        El tiempo promedio dedicado a la red de intermediarios y a los subprocesos de E/S para procesar las solicitudes.
      </td>
    </tr>

    <tr>
      <td>
        `rootDiskUsed`
      </td>

      <td>
        Por ciento
      </td>

      <td>
        El porcentaje del disco raíz utilizado por el intermediario.
      </td>
    </tr>

    <tr>
      <td>
        `swapUsed`
      </td>

      <td>
        Bytes
      </td>

      <td>
        El tamaño en bytes de la memoria de intercambio que está utilizando el intermediario.
      </td>
    </tr>

    <tr>
      <td>
        `swapFree`
      </td>

      <td>
        Bytes
      </td>

      <td>
        El tamaño en bytes de la memoria de intercambio que está disponible para el intermediario.
      </td>
    </tr>

    <tr>
      <td>
        `underMinIsrPartitionCount`
      </td>

      <td>
        Contar
      </td>

      <td>
        El número de particiones inferiores a minIsr para el intermediario.
      </td>
    </tr>

    <tr>
      <td>
        `underReplicatedPartitions`
      </td>

      <td>
        Contar
      </td>

      <td>
        El número de particiones poco replicadas para el intermediario.
      </td>
    </tr>

    <tr>
      <td>
        `zooKeeperRequestLatencyMsMean`
      </td>

      <td>
        Milisegundos
      </td>

      <td>
        Latencia media en milisegundos para las solicitudes de ZooKeeper del corredor.
      </td>
    </tr>

    <tr>
      <td>
        `zooKeeperSessionState`
      </td>

      <td>
        Otro
      </td>

      <td>
        Estado de conexión de la sesión de ZooKeeper del corredor, que puede ser uno de los siguientes: NOT\_CONNECTED: &apos;0.0&apos;, ASSOCIATING: &apos;0.1&apos;, CONNECTING: &apos;0.5&apos;, CONNECTEDREADONLY: &apos;0.8&apos;, CONNECTED: &apos;1.0&apos;, CLOSED: &apos;5.0&apos;, AUTH\_FAILED: &apos;10.0&apos;.
      </td>
    </tr>
  </tbody>
</table>

### Datos de temas de Kafka administrados

<table>
  <thead>
    <tr>
      <th style={{ width: "275px" }}>
        Métrica
      </th>

      <th style={{ width: "150px" }}>
        Unidad
      </th>

      <th>
        Descripción
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `bytesInPerSec`
      </td>

      <td>
        Bytes por segundo
      </td>

      <td>
        El número de bytes recibidos por segundo.
      </td>
    </tr>

    <tr>
      <td>
        `bytesOutPerSec`
      </td>

      <td>
        Bytes por segundo
      </td>

      <td>
        El número de bytes enviados por segundo.
      </td>
    </tr>

    <tr>
      <td>
        `fetchMessageConversionsPerSec`
      </td>

      <td>
        ContarPorSegundo
      </td>

      <td>
        El número de mensajes recuperados convertidos por segundo.
      </td>
    </tr>

    <tr>
      <td>
        `messagesInPerSec`
      </td>

      <td>
        ContarPorSegundo
      </td>

      <td>
        El número de mensajes recibidos por segundo.
      </td>
    </tr>

    <tr>
      <td>
        `produceMessageConversionsPerSec`
      </td>

      <td>
        ContarPorSegundo
      </td>

      <td>
        El número de conversiones por segundo de los mensajes producidos.
      </td>
    </tr>
  </tbody>
</table>

## Que sigue

<DocTiles>
  <DocTile title="Data and UI" path="/docs/message-queues-streaming/ui-data/understand-ui">Aprenda a usar New Relic para monitorear su clúster de Kafka</DocTile>
</DocTiles>