---
title: control de acceso a los datos
tags:
  - Accounts
  - Accounts and billing
  - New Relic user management
metaDescription: Control user access to specific log data with data access policies.
freshnessValidatedDate: never
translationType: machine
---

Controlar quién accede a datos específicos dentro de su organización es vital para la seguridad, el cumplimiento y la gobernanza de datos. Mientras que [el control de acceso basado en roles](/docs/accounts/accounts-billing/new-relic-one-user-management/user-management-concepts) de New Relic gestiona a qué características puede acceder el usuario, <DNT>**data access control**</DNT> gestiona qué datos específicos puede ver el usuario.

Actualmente, el control de acceso a datos está disponible para los datos de log, lo que le permite restringir el acceso de los usuarios a [particiones de log](/docs/logs/ui-data/data-partitions/) específicas.

## Cómo funciona [#how-it-works]

Las grandes organizaciones generan enormes cantidades de logs en diversos equipos, servicios y entornos. Los equipos de seguridad necesitan monitorear los logs de seguridad críticos que pueden contener información de identificación personal (PII), mientras que los equipos de desarrollo solo necesitan ver los logs relevantes para sus microservicios específicos. <DNT>**Data access control**</DNT> te permite crear políticas que definen exactamente a qué particiones de log puede acceder cada equipo.

Usted crea políticas de acceso a datos que restringen el acceso a particiones de log específicas y las asigna a grupos de usuarios mediante concesiones de acceso. Los usuarios de grupos con políticas asignadas solo pueden acceder a las particiones de log permitidas por dichas políticas.

Recomendamos comenzar con un enfoque de denegación total y luego agregar políticas de licencia para otorgar acceso solo a las particiones necesarias. Esto se ajusta al principio de mínimo privilegio y garantiza que los usuarios solo accedan a los datos que necesitan.

Conceptos clave:

* **Políticas de acceso a datos**: Defina a qué particiones de log puede acceder el usuario mediante listas de &apos;permitidos&apos; o listas de denegación.
* **Asignación de políticas**: Las políticas se asignan a los grupos a través de la UI <DNT>*Access Management*\*</DNT>.
* **Coincidencia con comodines**: emplee `%` como comodín para que coincida con varias particiones (por ejemplo, `log_prod%` coincide con todas las particiones que comienzan con &quot;log\_prod&quot;).
* **Políticas múltiples**: Cuando un usuario pertenece a varios grupos con políticas diferentes, se aplica el acceso más permisivo.

<Callout variant="important">
  Los usuarios con acceso restringido aún podrían ver información de particiones de log restringidas a través de [exportaciones históricas](/docs/apis/nerdgraph/examples/nerdgraph-historical-data-export/), [alertas de notificación](/docs/alerts/get-notified/incident-workflows/) o la [APIInsights ](/docs/apis/insights-apis/query-insights-event-data-api/). Consulte [los posibles riesgos de exposición de datos](#data-exposure-risks) para obtener detalles y medidas de mitigación.
</Callout>

## Requisitos [#requirements]

Para crear y gestionar políticas de acceso a datos, debe tener:

* Cuenta [Pro o edición Enterprise](https://newrelic.com/pricing)
* Rol [de administrador de dominio de autenticación](/docs/accounts/accounts-billing/new-relic-one-user-management/user-management-concepts#admin-settings)
* Tipo de [usuario principal o usuario de plataforma completa](/docs/accounts/accounts-billing/new-relic-one-user-management/user-type)

## Crear y asignar políticas de acceso a datos [#create-policies]

Puede crear y asignar políticas de acceso a datos a través de la UI o la [APIde NerdGraph](/docs/apis/nerdgraph/examples/nerdgraph-data-access-control). Para crear una política a través de la UI, siga los siguientes pasos:

<Steps>
  <Step>
    ### Crear una política [#create]

    1. Vaya a <DNT>**[one.newrelic.com &gt; Administration](https://one.newrelic.com/admin-portal) &gt; Access Management &gt; Data access policies**</DNT>.
    2. Haga clic en <DNT>**Create a policy**</DNT> (o <DNT>**Add a policy**</DNT> si tiene políticas existentes).

    <img title="Add data access policy" alt="Screenshot showing how to add a data access policy" src="/images/add-data-policy.webp" />

    3. Introduzca un nombre para la póliza.

    4. Seleccione una condición:

       * <DNT>**Deny selected**</DNT>Bloquea el acceso a las particiones de log seleccionadas.
       * <DNT>**Allow selected**</DNT>Permite el acceso únicamente a las particiones de log seleccionadas.

    5. Desde el menú desplegable <DNT>**Filter partitions by account**</DNT>, seleccione las cuentas para preseleccionar la lista de particiones de log.

    6. Seleccione las particiones de log que se incluirán en la política:

       * Seleccione las particiones en el menú desplegable, o
       * Escriba los nombres de las particiones o comodines (por ejemplo, `log_go%` para que coincidan varias particiones), separados por comas.

    7. Haz clic en <DNT>**Review policy**</DNT> para verificar tu configuración.

    8. Haga clic en <DNT>**Create policy**</DNT>.

    La política aparece en la pestaña <DNT>**Data access policies**</DNT>. Para verlo, editarlo o eliminarlo, haga clic en el <Icon name="fe-more-horizontal" /> menú.
  </Step>

  <Step>
    ### Asignar la política a un grupo [#assign]

    1. Vaya a <DNT>**Administration &gt; Access Management &gt; Grants**</DNT>.
    2. Busque la subvención a la que asignar la política y, a continuación, haga clic en <Icon name="fe-more-horizontal" /> menú al lado.
    3. Seleccione <DNT>**Add data access policy**</DNT>.
    4. Desde el menú desplegable <DNT>**Policies**</DNT>, seleccione su póliza.
    5. Haga clic en <DNT>**Save**</DNT>.

    La columna <DNT>**Policy name**</DNT> muestra la política asignada. Para eliminarlo o cambiarlo, emplee el <Icon name="fe-more-horizontal" /> menú.
  </Step>
</Steps>

## Riesgos potenciales de exposición de datos [#data-exposure-risks]

Si bien el control de acceso a los datos restringe el acceso a los datos de log en la mayoría de las funciones New Relic, existen escenarios en los que el usuario aún podría ver datos restringidos:

<CollapserGroup>
  <Collapser id="api-keys" title="Clave de APIde Legacy Insights">
    **Riesgo**: un usuario con una clave API Insights legacy puede consultar particiones de log restringidas, ya que estas claves no siguen las políticas de acceso a datos.

    **Mitigación**:

    1. Ve a tu [página de clave de API](https://one.newrelic.com/admin-portal/api-keys/home)
    2. Identificar la clave de APIInsights legacy
    3. Rota o elimina estas teclas
    4. Cree nuevas [claves de usuario](/docs/apis/intro-apis/new-relic-api-keys/#user-key) que respeten las políticas de acceso a datos.
  </Collapser>

  <Collapser id="alerts" title="alertas y notificaciones">
    **Riesgo**:

    Cuando condición de alerta consulta logs que contienen datos confidenciales, el usuario con acceso a esa cuenta puede:

    * Recibir notificación de cualquier condición de alerta, incluidas las condiciones que consultan particiones restringidas.
    * Consulta estos eventos que pueden contener datos restringidos: `NrAiSignal`, `NrAiIncident`, `NrAiIssue`, `NrAiNotification`, o `NrIntegrationError`
    * Visualice las páginas de detalles de condiciones y las páginas de problemas incluso cuando las condiciones consulten particiones restringidas.

    **Mitigación**:

    1. Cree un [rol personalizado](/docs/accounts/accounts-billing/new-relic-one-user-management/account-user-mgmt-tutorial/#roles) sin acceso a alertas y flujo de notificación de trabajo
    2. Asignarlo al usuario que no debería gestionar alertas.
    3. Evite facetar en campos sensibles en condición de alerta
  </Collapser>

  <Collapser id="data-partition-modify" title="Modificar la capacidad de acceso a las reglas de particiones de datos">
    **Riesgo**:

    El usuario con acceso <DNT>**Modify**</DNT> a la capacidad <DNT>**Data partitions rules**</DNT> puede modificar la configuración de partición de datos. Esto permite al usuario acceder a datos de log restringidos cambiando las reglas o la configuración de la partición. Esta capacidad elude las restricciones de control de acceso a los datos.

    **Mitigación**:

    * Conceda este acceso únicamente a los administradores de confianza que necesiten gestionar la configuración de la partición.
    * Cree [roles personalizados](/docs/accounts/accounts-billing/new-relic-one-user-management/account-user-mgmt-tutorial/#roles) sin esta funcionalidad para los usuarios que solo necesitan ver los logs.
  </Collapser>

  <Collapser id="query-keys-modify" title="Modificar el acceso a la capacidad de claves de consulta">
    **Riesgo**: un usuario con acceso <DNT>**Modify**</DNT> a la capacidad <DNT>**Query keys**</DNT> puede crear consultas que proporcionen capacidades de consulta en toda la cuenta. Estas claves eluden las restricciones de acceso a datos a nivel de usuario. Esto permite consultar cualquier dato de log en toda la cuenta, incluidas las particiones restringidas.

    **Mitigación**:

    * Otorgue este acceso únicamente a administradores de confianza que necesiten crear consultas.
    * Cree [roles personalizados](/docs/accounts/accounts-billing/new-relic-one-user-management/account-user-mgmt-tutorial/#roles) sin esta funcionalidad para usuarios regulares.
  </Collapser>
</CollapserGroup>

## Temas relacionados [#related-topics]

<DocTiles>
  <DocTile title="Conceptos de gestión de usuarios" path="/docs/accounts/accounts-billing/new-relic-one-user-management/user-management-concepts">
    Conozca los tipos de usuario, sus roles y las capacidades de gestión de usuarios.
  </DocTile>

  <DocTile title="Gestiona usuarios con NerdGraph" path="/docs/apis/nerdgraph/examples/nerdgraph-manage-users">
    Emplee la API de NerdGraph para gestionar mediante programación las licencias de usuario y de acceso.
  </DocTile>

  <DocTile title="Particiones de log" path="/docs/logs/ui-data/data-partitions/">
    Comprenda cómo organizar sus datos de log en particiones para un mejor control y rendimiento.
  </DocTile>

  <DocTile title="Gestiona las políticas de acceso a datos mediante NerdGraph." path="/docs/apis/nerdgraph/examples/nerdgraph-data-access-control">
    Aprenda a crear y gestionar políticas de acceso a datos empleando la API de NerdGraph.
  </DocTile>
</DocTiles>