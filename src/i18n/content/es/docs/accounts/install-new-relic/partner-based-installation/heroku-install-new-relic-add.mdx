---
title: 'Heroku: instale el complemento New Relic'
tags:
  - Accounts
  - Accounts and billing
  - Partner installation
metaDescription: 'Heroku users: How to install and manage the New Relic agent as an add-on account.'
freshnessValidatedDate: never
translationType: machine
---

[Heroku](https://devcenter.heroku.com/articles/newrelic) es una solución de plataforma como servicio (PaaS) para alojar aplicaciones web en varios idiomas de agentes. Con New Relic, puedes ampliar Heroku con métrica de nuestras soluciones de monitoreo, como <InlinePopover type="apm"/>y <InlinePopover type="browser"/>. El complemento New Relic es compatible con Java, Node.js, PHP, Python y Ruby.

## Instale el complemento New Relic [#addon-installation]

Para configurar el complemento New Relic, consulte [la documentación de Heroku](https://devcenter.heroku.com/articles/newrelic), incluidos los niveles de plan disponibles y los procedimientos de Toolbelt. Si tienes problemas, utiliza los [canales de soporte de Heroku](https://devcenter.heroku.com/articles/support-channels).

## Configurar el agente [#agent-installation]

Después de instalar el [complemento New Relic para Heroku](https://devcenter.heroku.com/articles/newrelic), siga los procedimientos de configuración para su agente <InlinePopover type="apm"/>.

<CollapserGroup>
  <Collapser
    id="heroku-java"
    title="Java"
  >
    La versión mínima del agente para Java es 3.17.1 o superior. Para instalar y configurar el agente de Java de New Relic para su complemento, consulte nuestra documentación [del agente de Java y Heroku](/docs/agents/java-agent/installation/java-agent-heroku) .
  </Collapser>

  <Collapser
    id="heroku-nodejs"
    title="Node.js"
  >
    Para instalar y configurar nuestro agente Node.js para su complemento, consulte:

    * Documentación de [Node.js y Heroku](/docs/agents/nodejs-agent/hosting-services/nodejs-agent-heroku) de New Relic
    * [Publicación de blog](//beachape.com/blog/2013/02/04/nodejs-on-heroku-with-newrelic/) (2013) con un ejemplo del "mundo real" de la instalación de nuestro agente Node.js para una aplicación Heroku
  </Collapser>

  <Collapser
    id="heroku-php"
    title="PHP"
  >
    Para instalar y configurar nuestro agente PHP para su complemento, consulte nuestro [agente PHP y la documentación de Heroku](/docs/agents/php-agent/advanced-installation/php-agent-heroku) .
  </Collapser>

  <Collapser
    id="heroku-python"
    title="Python"
  >
    Para instalar y configurar nuestro agente Python para su complemento, consulte nuestro [agente Python y la documentación de Heroku](/docs/agents/python-agent/hosting-services/python-agent-heroku) .
  </Collapser>

  <Collapser
    id="heroku-ruby"
    title="Ruby"
  >
    Para instalar y configurar nuestro agente Ruby para su complemento, consulte nuestra documentación [del agente Ruby y Heroku](/docs/agents/ruby-agent/installation-configuration/ruby-agent-heroku) .

    Si está utilizando nuestro agente Ruby con una aplicación que no es Rails, el usuario de Heroku debe instalar el complemento en su repositorio manualmente. Por ejemplo, en una aplicación Sinatra, agregue la gema `newrelic` a su <DNT>**Gemfile**</DNT> y luego agregue el siguiente código a su aplicación:

    ```ruby
    configure :production do
      require 'newrelic_rpm'
      end
    ```
  </Collapser>
</CollapserGroup>

## Administre sus cuentas complementarias de Heroku [#add-on-account]

Cada vez que instale el complemento New Relic para Heroku, New Relic creará automáticamente una nueva cuenta, completa con una [clave de licencia](#heroku-add-on-license-key) única, [una URL de cuenta](#heroku-add-on-account-url) y [un ID de cuenta](#heroku-add-on-account). Estos tres tipos de información son importantes para administrar cada una de sus cuentas complementarias de Heroku.

<CollapserGroup>
  <Collapser
    id="heroku-add-on-license-key"
    title="Clave de licencia"
  >
    El <InlinePopover type="licenseKey"/>identifica la cuenta donde reporta su aplicación. Para verificar la clave de licencia que usa su aplicación:

    1. Desde una línea de comando, ejecute:

       ```bash
       heroku config | grep -i relic
       ```

    2. Busque el valor de `NEW_RELIC_LICENSE_KEY`.

       Esta variable de entorno de clave de licencia anulará cualquier otra clave de licencia que codifique en su archivo de configuración de New Relic.
  </Collapser>

  <Collapser
    id="heroku-add-on-account-url"
    title="URL de la cuenta"
  >
    Si instala el complemento New Relic varias veces y necesita verificar la URL que usa su aplicación Heroku para informar a New Relic, busque en el registro de su agente una línea que indique `reporting to` seguida de una URL que use este formato:

    ```
    rpm.newrelic.com/accounts/###/applications/######
    ```
  </Collapser>

  <Collapser
    id="heroku-add-on-account"
    title="ID de la cuenta"
  >
    No puede cambiar [la ID de cuenta](/docs/accounts-partnerships/accounts/account-setup/account-id) de su complemento directamente. Si necesita cambiar la cuenta de New Relic que usa su aplicación Heroku para informar a New Relic, cambie la variable de entorno de clave de licencia actual en su archivo de configuración para que apunte a la clave de licencia de la cuenta de New Relic que desea usar:

    ```bash
    heroku config:set NEW_RELIC_LICENSE_KEY=changed_account_license_key
    ```
  </Collapser>
</CollapserGroup>

## Inicia sesión en New Relic [#signon]

Los clientes de Heroku pueden tener dos tipos diferentes de cuentas con New Relic:

* Cuentas complementarias: cuentas New Relic que los clientes instalaron en su aplicación Heroku utilizando [el complemento New Relic de Heroku](https://addons.heroku.com/newrelic)
* Cuentas "normales": otras cuentas de New Relic que los clientes no instalaron con el complemento de Heroku

Las cuentas regulares ofrecen una gama más amplia de características que las cuentas complementarias y se instalan y administran de manera diferente. Se aplican diferentes procedimientos, según el tipo de cuenta en la que desee iniciar sesión.

De acuerdo con los términos de la asociación de New Relic con Heroku, los clientes que instalen New Relic a través del complemento Heroku solo pueden acceder a sus cuentas del complemento New Relic iniciando sesión a través de Heroku. Por este motivo, si tiene cuentas adicionales y cuentas regulares de New Relic, no puede cambiar directamente entre ellas.

<CollapserGroup>
  <Collapser
    id="heroku-add-on-login"
    title="Inicie sesión en la cuenta complementaria de New Relic a través de Heroku"
  >
    Para iniciar sesión en sus cuentas complementarias de New Relic:

    1. Inicie sesión a través de la página de inicio de sesión de Heroku en [id.heroku.com/login](https://id.heroku.com/login).

    2. Seleccione la aplicación que tiene instalado el complemento New Relic.

    3. Seleccione New Relic de su lista de complementos.

       Si inicia sesión a través de Heroku, no verá ninguna de sus cuentas habituales de New Relic cuando seleccione <DNT>**[user menu](/docs/accounts/accounts-billing/general-account-settings/intro-account-settings) > Switch account**</DNT>.
  </Collapser>

  <Collapser
    id="regular-login"
    title="Inicie sesión en cuentas habituales de New Relic"
  >
    Para iniciar sesión o cambiar entre sus cuentas habituales de New Relic:

    1. Inicie sesión en New Relic en <DNT>**[one.newrelic.com](https://one.newrelic.com/all-capabilities)**</DNT>.

    2. Para cambiar de una cuenta normal de New Relic a otra: vaya al [menú de usuario](/docs/accounts/accounts-billing/general-account-settings/intro-account-settings) y seleccione una cuenta.

       Si inicia sesión directamente a través de New Relic, no verá ninguna de sus cuentas complementarias de New Relic de Heroku cuando seleccione <DNT>**[user menu](/docs/accounts/accounts-billing/general-account-settings/intro-account-settings) > Switch account**</DNT>.
  </Collapser>
</CollapserGroup>

## Configurar la notificación de despliegue [#deployment]

El complemento Heroku envía automáticamente una notificación desplegable a New Relic por <DNT>**one application**</DNT> por cuenta. Si agrega varias aplicaciones a su cuenta complementaria, debe usar la API REST de New Relic para enviar manualmente una notificación desplegable para su aplicación adicional.

No puede utilizar un gancho post-desplegar, porque la API de llamada REST de New Relic requiere un encabezado, y el gancho post-desplegar de Heroku no permite encabezados. Sin embargo, puede escribir un script que genere esta llamada API cada vez que implemente Heroku. Para obtener instrucciones sobre cómo grabar implementación a través de la API REST, consulte [Grabación implementada](/docs/apm/new-relic-apm/maintenance/recording-deployments#api).

<Callout variant="important">
  Cuando agrega un usuario al complemento Heroku, esto crea un registro de usuario para el usuario en New Relic. Sin embargo, si elimina al usuario del complemento Heroku, el registro de usuario no se elimina automáticamente de New Relic. En su lugar, también debes eliminar manualmente el registro de usuario de New Relic después de eliminar al usuario del complemento Heroku. Puede hacerlo yendo a la página <DNT>**User Management**</DNT> .
</Callout>
