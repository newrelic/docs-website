---
title: API de llamada REST para alerta
tags:
  - Alerts
  - REST API alerts
metaDescription: How to use the New Relic REST API Explorer to add and manage alerts.
freshnessValidatedDate: never
translationType: machine
---

Nuestra API REST es la API original de New Relic para configurar mediante programación los ajustes de alerta de New Relic ([obtenga más información sobre NerdGraph, nuestra API preferida](/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/alerts-nerdgraph/nerdgraph-api-examples)).

El [explorador API REST](/docs/apm/apis/api-explorer-v2/getting-started-new-relics-api-explorer) también incluye el formato de solicitud `curl`, los parámetros disponibles, los posibles códigos de estado de respuesta y la estructura de respuesta JSON para cada una de las API de llamada disponibles. También puedes [crear condición de alerta en la UI](/docs/alerts/create-alert/create-alert-condition/alert-conditions/).

## Antes de usar la API REST [#before-start]

Antes de emplear la API REST para gestionar datos de alerta, lea el [documento Introducción al uso de alertas con nuestra API NerdGraph](/docs/alerts/scale-automate/nerdgraph/nerdgraph-api-examples/) .

Para alertas de infraestructura, consulte [la API REST para alertas de monitoreo de infraestructura](/docs/infrastructure/new-relic-infrastructure/infrastructure-alert-conditions/rest-api-calls-new-relic-infrastructure-alerts/)

## Datos y funciones disponibles a través de REST API [#data]

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        <DNT>
          **REST API functions**
        </DNT>
      </th>

      <th>
        <DNT>
          **Comments**
        </DNT>
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Ver datos de la cuenta
      </td>

      <td>
        En general, cualquier [rol](/docs/accounts-partnerships/accounts/account-setup/users-roles) puede usar un <InlinePopover type="userKey" />con funciones <DNT>**GET &gt; List**</DNT> para <DNT>**view**</DNT> datos de alertas. El propietario y los administradores de la cuenta pueden emplear su clave de API.

        La salida de la lista será [paginada](/docs/apis/rest-api-v2/requirements/pagination-api-output). Las funciones disponibles incluyen:

        * [Politica de alertas](#policies-list)
        * Condiciones para [APM, monitoreo de browser y monitoreo de celulares](#conditions-list) ([Aplican algunas limitaciones).](#excluded)
        * Condiciones para [servicios externos.](#ext-conditions-list)
        * Condiciones para [el monitoreo sintético](#synthetics-conditions)
        * Condiciones para [el monitoreo sintético en múltiples ubicaciones](#multilocation-synthetics-conditions)
        * Condiciones para NRQL ([Se aplican algunas limitaciones).](#excluded)
        * [Evento](#events)
        * [Incidentes](/docs/alerts/organize-alerts/specify-when-alerts-create-incidents/)
      </td>
    </tr>

    <tr>
      <td>
        Mantener datos de cuenta
      </td>

      <td>
        Puede tener un rol `Owner` o `Admin` en su cuenta <DNT>**and**</DNT> una [clave de usuario](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key) o tener un rol personalizado que otorgue licencias para gestionar alertas y una clave de usuario para usar cualquier función de mantenimiento, incluidas <DNT>**POST &gt; Create**</DNT>, <DNT>**PUT &gt; Add**</DNT>, <DNT>**PUT &gt; Update**</DNT> y <DNT>**DELETE**</DNT>.
      </td>
    </tr>
  </tbody>
</table>

## Condiciones excluidas de la API REST [#excluded]

Este tipo de condiciones no tienen extremo disponible en la API:

* APM: percentil de transacción web, condiciones dirigidas a etiquetas y anomalía
* NRQL: anomalía

## Politica de alertas [#alert-policies]

Estas funciones de API incluyen enlaces al Explorador de API, donde puede crear, eliminar o enumerar [políticas](https://api.newrelic.com/docs/#/Alerts%20Policies).

<Callout variant="important">
  Si su organización aloja datos en el centro de datos de la UE, asegúrese de utilizar los [extremos de API adecuados para las cuentas de la región de la UE](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints).
</Callout>

<CollapserGroup>
  <Collapser id="policies-create" title="Crear nuevas políticas">
    Para agregar nuevas políticas, use su [clave de usuario](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key) e incluya estos dos valores en la llamada API:

    <table>
      <thead>
        <tr>
          <th style={{ width: "230px" }}>
            <DNT>
              **Required values**
            </DNT>
          </th>

          <th>
            <DNT>
              **Definition**
            </DNT>
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `incident_preference`
          </td>

          <td>
            Determina cómo las alertas [crearán incidentes](/docs/alerts/organize-alerts/specify-when-alerts-create-incidents/). Este debe ser uno de los siguientes:

            * `PER_POLICY` (predeterminado): Acumular por [política](/docs/alerts/organize-alerts/specify-when-alerts-create-incidents/#preference-policy).
            * `PER_CONDITION`:Enrollar por [condición](/docs/alerts/organize-alerts/specify-when-alerts-create-incidents/#preference-condition).
            * `PER_CONDITION_AND_TARGET`:Acumulación por [objetivo y condición](/docs/alerts/organize-alerts/specify-when-alerts-create-incidents/#preference-target).
          </td>
        </tr>

        <tr>
          <td>
            [Política `name`](/docs/alerts/organize-alerts/create-edit-or-find-alert-policy/)
          </td>

          <td>
            La política `name` es obligatoria. Si lo dejamos sin cambios, se creará una política llamada `string`.
          </td>
        </tr>
      </tbody>
    </table>

    <DNT>
      **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Policies/post_alerts_policies_json) &gt; Alerts Policies &gt; POST &gt; Create**
    </DNT>

    ```shell
    curl -X POST 'https://api.newrelic.com/v2/alerts_policies.json' \
         -H "$API_KEY" -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "policy": {
        "incident_preference": "string",
        "name": "string"
      }
    }'
    ```
  </Collapser>

  <Collapser id="policies-update" title="Actualizar políticas">
    Utilice esta API para actualizar `name` y `incident_preference` de una política existente. Necesitará su [clave de usuario](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key).

    <table>
      <thead>
        <tr>
          <th style={{ width: "230px" }}>
            <DNT>
              **Required values**
            </DNT>
          </th>

          <th>
            <DNT>
              **Definition**
            </DNT>
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `id`
          </td>

          <td>
            Para encontrar el ID de una política, emplee cualquiera de estas opciones:

            * Desde la UI: en la página UI de una política, busque el ID debajo del nombre de la política.
            * Con la API: utilice la [API Listar políticas](/docs/alerts/rest-api-alerts/new-relic-alerts-rest-api/rest-api-calls-new-relic-alerts#policies-list).
          </td>
        </tr>

        <tr>
          <td>
            `incident_preference`
          </td>

          <td>
            Determina cómo las alertas [crearán incidentes](/docs/alerts/organize-alerts/specify-when-alerts-create-incidents/). Debe ser uno de los siguientes:

            * `PER_POLICY` (predeterminado): Acumular por [política](/docs/alerts/organize-alerts/specify-when-alerts-create-incidents/#preference-policy).
            * `PER_CONDITION`:Enrollar por [condición](/docs/alerts/organize-alerts/specify-when-alerts-create-incidents/#preference-condition).
            * `PER_CONDITION_AND_TARGET`:Enrolle por [condición y señal](/docs/alerts/organize-alerts/specify-when-alerts-create-incidents/#preference-signal).
          </td>
        </tr>

        <tr>
          <td>
            [Política `name`](/docs/alerts/organize-alerts/create-edit-or-find-alert-policy/)
          </td>

          <td>
            La política `name`, si no cambia `name` se establece de manera predeterminada en una política llamada `string`.

            Para encontrar el nombre exacto de una política, utilice la [API Listar políticas](/docs/alerts/rest-api-alerts/new-relic-alerts-rest-api/rest-api-calls-new-relic-alerts#policies-list).
          </td>
        </tr>
      </tbody>
    </table>

    <DNT>
      **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Policies/put_alerts_policies__policy_id__json) &gt; Alerts Policies &gt; PUT &gt; Update**
    </DNT>

    ```shell
    curl -X PUT 'https://api.newrelic.com/v2/alerts_policies/{id}.json' \
         -H "$API_KEY" -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "policy": {
        "incident_preference": "string",
        "name": "string"
      }
    }'
    ```
  </Collapser>

  <Collapser id="policies-delete" title="Eliminar políticas existentes">
    Para eliminar una política existente, use su [clave de usuario](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key) e incluya el `policy_id` (disponible en <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Policies/get_alerts_policies_json) &gt; Alerts Policies &gt; GET &gt; List**</DNT>) en la llamada API:

    <DNT>
      **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Policies/delete_alerts_policies__policy_id__json) &gt; Alerts Policies &gt; DELETE**
    </DNT>

    ```shell
    curl -X DELETE 'https://api.newrelic.com/v2/alerts_policies/$POLICY_ID.json' \
         -H "$API_KEY" -i
    ```
  </Collapser>

  <Collapser id="policies-list" title="Listar políticas existentes">
    Para ver una lista de políticas existentes para su cuenta, use su [clave de usuario](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key) e incluya estos valores opcionales en la llamada API:

    * Filtro de política opcional `name`

    * Valor [de paginación](/docs/apis/rest-api-v2/requirements/pagination-api-output) opcional

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Policies/get_alerts_policies_json) &gt; Alerts Policies &gt; GET &gt; List**
      </DNT>

      ```shell
      curl -X GET 'https://api.newrelic.com/v2/alerts_policies.json' \
           -H "$API_KEY" -i
      ```
  </Collapser>
</CollapserGroup>

## Condiciones para APM, browser y dispositivos móviles [#conditions]

Estas funciones de API incluyen enlaces al Explorador de API, donde puede crear, actualizar, eliminar o enumerar [condiciones](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions) de políticas. Estas convocatorias son para condiciones con estos tipos de entidad:

* APM: Apps y clave de transacciones
* Browser: Clave de aplicaciones y transacciones
* Móvil: aplicaciones móviles

<DNT>**Exception:**</DNT> Las siguientes condiciones de APM son <DNT>**not available**</DNT> de estos extremos de API:

* Condiciones de etiquetas de orientación (orientación dinámica)
* Condiciones percentil transacción web
* Condiciones de anomalía

<Callout variant="important">
  El Explorador de API proporciona información sobre otros tipos de condiciones que emplean <DNT>**separate endpoints**</DNT>, incluidos [servicios externos](#ext-services-conditions) (APM y móviles) y [monitoreo sintético](#synthetics-conditions). Considere todos los tipos de condición de alerta al realizar búsquedas o actualizaciones. Si su cuenta aloja datos en el centro de datos de la UE, cerciorar de estar empleando los [extremos de API adecuados para las cuentas de la región de la UE](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints).
</Callout>

<CollapserGroup>
  <Collapser id="conditions-create" title="Crear condiciones para las políticas.">
    Para agregar condiciones a las políticas, incluya estos valores en la llamada API:

    * Su<InlinePopover type="userKey" />

    * El `policy_id` (disponible en <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Policies/get_alerts_policies_json) &gt; Alerts Policies &gt; GET &gt; List**</DNT>)

    * Los valores `condition` requeridos en la API de llamada (descritos en la página del Explorador de API y en el [glosario de API de condición de alerta](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names))

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Conditions/post_alerts_conditions_policies__policy_id__json) &gt; Alerts Conditions &gt; POST &gt; Create**
      </DNT>

      ```shell
      curl -X POST 'https://api.newrelic.com/v2/alerts_conditions/policies/$POLICY_ID.json' \
           -H "$API_KEY" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "condition": {
          "type": "string",
          "name": "string",
          "enabled": boolean,
          "entities": [
            integer
          ],
          "metric": "string",
          "gc_metric": "string",
          "condition_scope": "string",
          "violation_close_timer": integer,
          "runbook_url": "string",
          "terms": [
            {
              "duration": "string",
              "operator": "string",
              "priority": "string",
              "threshold": "string",
              "time_function": "string"
            }
          ],
          "user_defined": {
            "metric": "string",
            "value_function": "string"
          }
        }
      }'
      ```

      La respuesta JSON devuelve una condición `id`, que deberá actualizar o eliminar. También puede ver la condición `id` de <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Conditions/get_alerts_conditions_json) &gt; Alerts Conditions &gt; GET &gt; List**</DNT>.
  </Collapser>

  <Collapser id="conditions-update" title="Actualizar condiciones para pólizas">
    Para actualizar las condiciones de las políticas, incluya estos valores en la llamada API:

    * Tu [clave de usuario](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * La condición es `id` (disponible desde <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Conditions/get_alerts_conditions_json) &gt; Alerts Conditions &gt; GET &gt; List**</DNT>)

    * Los valores `condition` requeridos en la API de llamada (descritos en la página del Explorador de API y en el [glosario de API de condición de alerta](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names))

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Conditions/put_alerts_conditions__condition_id__json) &gt; Alerts Conditions &gt; PUT &gt; Update**
      </DNT>

      ```shell
      curl -X PUT 'https://api.newrelic.com/v2/alerts_conditions/$CONDITION_ID.json' \
           -H "$API_KEY" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "condition": {
          "type": "string",
          "name": "string",
          "enabled": boolean,
          "entities": [
            integer
          ],
          "metric": "string",
          "metric": "string",
          "gc_metric": "string",
          "condition_scope": "string",
          "violation_close_timer": integer,
          "runbook_url": "string",
          "terms": [
            {
              "duration": "string",
              "operator": "string",
              "priority": "string",
              "threshold": "string",
              "time_function": "string"
            }
          ],
          "user_defined": {
            "metric": "string",
            "value_function": "string"
          }
        }
      }'
      ```
  </Collapser>

  <Collapser id="conditions-delete" title="Eliminar condiciones de las políticas">
    Para eliminar condiciones de las políticas, incluya estos valores en la llamada API:

    * Tu [clave de usuario](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * El `condition_id` (disponible en <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Conditions/get_alerts_conditions_json) &gt; Alerts Conditions &gt; GET &gt; List**</DNT>)

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Conditions/delete_alerts_conditions__condition_id__json) &gt; Alerts Conditions &gt; DELETE &gt; Delete**
      </DNT>

      ```shell
      curl -X DELETE 'https://api.newrelic.com/v2/alerts_conditions/$CONDITION_ID.json' \
           -H "$API_KEY" -i
      ```
  </Collapser>

  <Collapser id="conditions-list" title="Enumerar las condiciones existentes para las pólizas.">
    Para ver una lista de las condiciones existentes para su póliza, emplee su [clave de usuario](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key) y el [`policy_id`](#policies-list) asociado en la llamada API.

    <DNT>
      **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Conditions/get_alerts_conditions_json) &gt; Alerts Conditions &gt; GET &gt; List**
    </DNT>

    ```shell
    curl -X GET 'https://api.newrelic.com/v2/alerts_conditions.json?policy_id=$POLICY_ID' \
         -H "$API_KEY" -i
    ```
  </Collapser>
</CollapserGroup>

## Condiciones para NRQL [#conditions-nrql]

Estas funciones de API incluyen enlaces al Explorador de API, donde puede crear, actualizar, eliminar o enumerar [condiciones](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions) NRQL para sus políticas.

<DNT>**Exception:**</DNT> Las condiciones de anomalía NRQL son <DNT>**not available**</DNT> de este extremo.

<Callout variant="important">
  Si su organización aloja datos en el centro de datos de la UE, asegúrese de utilizar los [extremos de API adecuados para las cuentas de la región de la UE](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints).
</Callout>

<CollapserGroup>
  <Collapser id="create-nrql-conditions" title="Crear condiciones NRQL para políticas">
    Recomendación: debido a la forma en que se transmiten los datos NRQL, configure `aggregation_method` en `EVENT_FLOW` y emplee las configuraciones predeterminadas de `60` para `aggregation_window` y `120` para `aggregation_delay`. `EVENT_FLOW` funciona en la mayoría de los casos de uso, pero para una discusión sobre qué casos de uso funcionan mejor con `EVENT_TIMER`, consulte [Elija su método de agregación](/docs/alerts/create-alert/fine-tune/streaming-alerts-key-terms-concepts/#aggregation-methods).

    <DNT>
      **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20NRQL%20Conditions/post_alerts_nrql_conditions_policies__policy_id__json) &gt; Alerts NRQL Conditions &gt; POST &gt; Create**
    </DNT>

    Para crear condiciones NRQL para políticas:

    ```shell
    curl -X POST 'https://api.newrelic.com/v2/alerts_nrql_conditions/policies/$POLICY_ID.json' \
         -H "$API_KEY" -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "nrql_condition": {
        "type": "string",
        "name": "string",
        "runbook_url": "string",
        "enabled": boolean,
        "terms": [
          {
            "duration": "string",
            "operator": "string",
            "priority": "string",
            "threshold": "string",
            "time_function": "string"
          }
        ],
        "value_function": "string",
        "nrql": {
          "query": "string"
        },
        "signal": {
          "aggregation_window": "string",
          "slide_by": "integer",
          "aggregation_method": "string",
          "aggregation_delay": integer,
          "aggregation_timer": integer,
          "fill_option": "string",
          "fill_value": "string"
        },
        "expiration": {
          "expiration_duration": "string",
          "open_violation_on_expiration": boolean,
          "close_violations_on_expiration": boolean
        }
      }
    }'
    ```

    Si omite `type` o lo configura como `static`, se utilizarán de forma predeterminada las alertas NRQL estándar.

    <Callout variant="important">
      Los clientes con [planes de precios de Calcular avanzados y básicos](https://newrelic.com/pricing/compute#pricing_plan-compute) pueden incurrir en cargos CCU adicionales al emplear la agregación de ventana deslizante. Si bien este método mejora el análisis de datos al suavizar las fluctuaciones, su uso puede generar mayores costos en comparación con otros métodos. Para obtener más detalles, consulte la [sección de precios de ventanas corredizas](/docs/nrql/using-nrql/create-smoother-charts-sliding-windows/#pricing). Para determinar si tiene planes de precios de Calcular avanzados o básicos, consulte su pedido.
    </Callout>
  </Collapser>

  <Collapser id="update-nrql-conditions" title="Actualizar las condiciones NRQL para políticas">
    Para actualizar las condiciones NRQL de las políticas, incluya estos valores en la llamada API:

    * Tu [clave de usuario](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * La condición `id` (disponible en [API Explorer) <Icon name="fe-external-link" />](https://api.newrelic.com/docs/#/Alerts%20NRQL%20Conditions/get_alerts_nrql_conditions_json) <DNT>**Alerts NRQL Conditions &gt; GET &gt; List**</DNT>)

    * Los valores `condition` requeridos en la API de llamada (descritos en la página del Explorador de API y en el [glosario de API de condición de alerta](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names))

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20NRQL%20Conditions/put_alerts_nrql_conditions__condition_id__json) &gt; Alerts NRQL Conditions &gt; PUT &gt; Update**
      </DNT>

      ```shell
      curl -X PUT 'https://api.newrelic.com/v2/alerts_nrql_conditions/$CONDITION_ID.json' \
           -H "$API_KEY" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "nrql_condition": {
          "name": "string",
          "runbook_url": "string",
          "enabled": boolean,
          "terms": [
            {
              "duration": "string",
              "operator": "string",
              "priority": "string",
              "threshold": "string",
              "time_function": "string"
            }
          ],
          "value_function": "string",
          "nrql": {
            "query": "string"
          }
        }
      }'
      ```
  </Collapser>

  <Collapser id="delete-nrql-conditions" title="Eliminar condiciones NRQL para políticas">
    Para eliminar condiciones NRQL de las políticas, incluya estos valores en la llamada API:

    * Tu [clave de usuario](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * La condición `id` (disponible en [API Explorer) <Icon name="fe-external-link" />](https://api.newrelic.com/docs/#/Alerts%20NRQL%20Conditions/get_alerts_nrql_conditions_json) <DNT>**Alerts NRQL Conditions &gt; GET &gt; List**</DNT>)

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20NRQL%20Conditions/delete_alerts_nrql_conditions__condition_id__json) &gt; Alerts NRQL Conditions &gt; DELETE &gt; Delete**
      </DNT>

      ```shell
      curl -X DELETE 'https://api.newrelic.com/v2/alerts_nrql_conditions/$CONDITION_ID.json' \
           -H "$API_KEY" -i
      ```
  </Collapser>

  <Collapser id="list-nrql-conditions" title="Enumerar las condiciones NRQL existentes para las políticas">
    Para ver una lista de condiciones existentes para su política de alertas, emplee su clave de usuario y el [`policy_id`](#policies-list) asociado en la API de llamada.

    <DNT>
      **\[API Explorer][https://api.newrelic.com/docs/#/Alerts%20NRQL%20Conditions/get\_alerts\_nrql\_conditions\_json](https://api.newrelic.com/docs/#/Alerts%20NRQL%20Conditions/get_alerts_nrql_conditions_json)) &gt; Alerts NRQL Conditions &gt; GET &gt; List**
    </DNT>

    ```shell
    curl -X GET 'https://api.newrelic.com/v2/alerts_nrql_conditions.json' \
         -H "$API_KEY" -i \
         -d 'policy_id=$POLICY_ID'
    ```
  </Collapser>
</CollapserGroup>

## Condiciones para servicios externos. [#ext-services-conditions]

Estas funciones de API incluyen enlaces al Explorador de API, donde puede crear, actualizar, eliminar o enumerar [condiciones](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions) de políticas. Estas convocatorias son de condiciones para servicios externos. La API de llamada se puede utilizar con <InlinePopover type="apm" />y aplicaciones de monitoreo de móviles.

<Callout variant="important">
  Si su organización aloja datos en el centro de datos de la UE, asegúrese de utilizar los [extremos de API adecuados para las cuentas de la región de la UE](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints).
</Callout>

<CollapserGroup>
  <Collapser id="ext-conditions-create" title="Servicios externos: crear condiciones para las políticas">
    Para agregar condiciones para servicios externos a políticas que tengan APM o monitoreo de aplicaciones móviles, incluya estos valores en la llamada API:

    * Tu [clave de usuario](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * El `policy_id` (disponible en <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Policies/get_alerts_policies_json) &gt; Alerts Policies &gt; GET &gt; List**</DNT>)

    * Los valores `external_service_condition` requeridos en la llamada API (descritos en la página API Explorer y en el [glosario API condición de alerta](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names))

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20External%20Service%20Conditions/post_alerts_external_service_conditions_policies__policy_id__json) &gt; Alerts External Service Conditions &gt; POST &gt; Create**
      </DNT>

      ```shell
      curl -X POST 'https://api.newrelic.com/v2/alerts_external_service_conditions/policies/$POLICY_ID.json' \
           -H "$API_KEY" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "external_service_condition": {
          "type": "string",
          "name": "string",
          "enabled": boolean,
          "entities": [
            integer
          ],
          "external_service_url": "string",
          "metric": "string",
          "runbook_url": "string",
          "terms": [
            {
              "duration": "string",
              "operator": "string",
              "priority": "string",
              "threshold": "string",
              "time_function": "string"
            }
          ]
        }
      }'
      ```

      La respuesta JSON devuelve una condición `id`, que deberá actualizar o eliminar. También puede ver la condición `id` de <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20External%20Service%20Conditions/get_alerts_external_service_conditions_json) &gt; Alerts External Service Conditions &gt; GET &gt; List**</DNT>.
  </Collapser>

  <Collapser id="ext-conditions-update" title="Servicios externos: Actualizar condiciones de pólizas">
    Para actualizar condiciones de servicios externos a políticas que tengan APM o monitoreo de aplicaciones móviles, incluya estos valores en la llamada API:

    * Tu [clave de usuario](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * La condición del servicio externo `id` (disponible en <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20External%20Service%20Conditions/get_alerts_external_service_conditions_json) &gt; Alerts External Service Conditions &gt; GET &gt; List**</DNT>)

    * Los valores `external_service_condition` requeridos en la API de llamada (descritos en la página del Explorador de API y en el [glosario de API de condición de alerta](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names))

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20External%20Service%20Conditions/put_alerts_external_service_conditions__condition_id__json) &gt; Alerts External Service Conditions &gt; PUT &gt; Update**
      </DNT>

      ```shell
      curl -X PUT 'https://api.newrelic.com/v2/alerts_external_service_conditions/$CONDITION_ID.json' \
           -H "$API_KEY" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "external_service_condition": {
          "type": "string",
          "name": "string",
          "enabled": boolean,
          "entities": [
            integer
          ],
          "external_service_url": "string",
          "metric": "string",
          "runbook_url": "string",
          "terms": [
            {
              "duration": "string",
              "operator": "string",
              "priority": "string",
              "threshold": "string",
              "time_function": "string"
            }
          ]
        }
      }'
      ```
  </Collapser>

  <Collapser id="ext-conditions-delete" title="Servicios externos: eliminar condiciones de las políticas">
    Para eliminar condiciones de servicios externos de políticas con APM o monitoreo de apps móviles, incluya estos valores en la llamada API:

    * Tu [clave de usuario](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * El `condition_id` (disponible en <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20External%20Service%20Conditions/get_alerts_external_service_conditions_json) &gt; Alerts External Service Conditions &gt; GET &gt; List**</DNT>)

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20External%20Service%20Conditions/delete_alerts_external_service_conditions__condition_id__json) &gt; Alerts External Service Conditions &gt; DELETE**
      </DNT>

      ```shell
      curl -X DELETE 'https://api.newrelic.com/v2/alerts_external_service_conditions/$CONDITION_ID.json' \
           -H "$API_KEY" -i
      ```
  </Collapser>

  <Collapser id="ext-conditions-list" title="Servicios externos: enumerar las condiciones existentes para las pólizas.">
    Para ver una lista de condiciones existentes para políticas con aplicaciones de servicios externos (APM o monitoreo de celulares), use su [clave de usuario](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key) y el [`policy_id`](#policies-list) asociado en la API de llamada.

    <DNT>
      **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20External%20Service%20Conditions/get_alerts_external_service_conditions_json) &gt; Alerts External Service Conditions &gt; GET &gt; List**
    </DNT>

    ```shell
    curl -X GET 'https://api.newrelic.com/v2/alerts_external_service_conditions.json' \
         -H "$API_KEY" -i \
         -d 'policy_id=$POLICY_ID'
    ```
  </Collapser>
</CollapserGroup>

## Condiciones para el monitoreo sintético [#synthetics-conditions]

Estas funciones de API incluyen enlaces al Explorador de API, donde puede crear, actualizar, eliminar o enumerar [condiciones](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions) para su política de alertas. La API de llamada se puede utilizar con monitoreo sintético.

<CollapserGroup>
  <Collapser id="synthetics-conditions-create" title="Monitoreo sintético: Crear condiciones para políticas">
    Para agregar condiciones a las políticas para el monitoreo sintético, incluya estos valores en la llamada API:

    * Tu [clave de usuario](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * El `policy_id` (disponible en <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Policies/get_alerts_policies_json) &gt; Alerts Policies &gt; GET &gt; List**</DNT>)

    * Los valores `synthetics_condition` requeridos en la API de llamada (descritos en la página del Explorador de API y en el [glosario de API de condición de alerta](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names))

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Synthetics%20Conditions/post_alerts_synthetics_conditions_policies__policy_id__json) &gt; Alerts Synthetics Conditions &gt; POST &gt; Create**
      </DNT>

      ```shell
      curl -X POST 'https://api.newrelic.com/v2/alerts_synthetics_conditions/policies/$POLICY_ID.json' \
           -H "$API_KEY" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "synthetics_condition": {
          "name": "string",
          "monitor_id": "string",
          "runbook_url": "string",
          "enabled": boolean
        }
      }'
      ```

      La respuesta JSON devuelve una condición `id`, que deberá actualizar o eliminar. También puede ver la condición `id` de <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Synthetics%20Conditions/get_alerts_synthetics_conditions_json) &gt; Alerts Synthetics Conditions &gt; GET &gt; List**</DNT>.
  </Collapser>

  <Collapser id="conditions-update" title="Actualizar condiciones para pólizas">
    Para actualizar las condiciones de las políticas, incluya estos valores en la llamada API:

    * Tu [clave de usuario](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * La condición es `id` (disponible desde <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Conditions/get_alerts_conditions_json) &gt; Alerts Conditions &gt; GET &gt; List**</DNT>)

    * Los valores `condition` requeridos en la API de llamada (descritos en la página del Explorador de API y en el [glosario de API de condición de alerta](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names))

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Conditions/put_alerts_conditions__condition_id__json) &gt; Alerts Conditions &gt; PUT &gt; Update**
      </DNT>

      ```shell
      curl -X PUT 'https://api.newrelic.com/v2/alerts_conditions/$CONDITION_ID.json' \
           -H "X-Api-Key:$API_KEY" -i \
           -H "$API_KEY" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "condition": {
          "type": "string",
          "name": "string",
          "enabled": boolean,
          "entities": [
            integer
          ],
          "metric": "string",
          "metric": "string",
          "gc_metric": "string",
          "condition_scope": "string",
          "violation_close_timer": integer,
          "runbook_url": "string",
          "terms": [
            {
              "duration": "string",
              "operator": "string",
              "priority": "string",
              "threshold": "string",
              "time_function": "string"
            }
          ],
          "user_defined": {
            "metric": "string",
            "value_function": "string"
          }
        }
      }'
      ```
  </Collapser>

  <Collapser id="synthetics-conditions-delete" title="Monitoreo sintético: Eliminar condiciones de las políticas">
    Para eliminar las condiciones de la política para el monitoreo sintético, incluya estos valores en la llamada API:

    * Tu [clave de usuario](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * El `condition_id` (disponible en <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Synthetics%20Conditions/get_alerts_synthetics_conditions_json) &gt; Alerts Synthetics Conditions &gt; GET &gt; List**</DNT>)

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Synthetics%20Conditions/delete_alerts_synthetics_conditions__condition_id__json) &gt; Alerts Synthetics Conditions &gt; DELETE**
      </DNT>

      ```shell
      curl -X DELETE 'https://api.newrelic.com/v2/alerts_synthetics_conditions/$CONDITION_ID.json' \
           -H "$API_KEY" -i
      ```
  </Collapser>

  <Collapser id="synthetics-conditions-list" title="Monitoreo sintético: Listar condiciones existentes para políticas">
    Para ver una lista de las condiciones de políticas existentes para Sintético monitoreo, emplee su [clave de usuario](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key) y el [`policy_id`](#policies-list) asociado en la API de llamada.

    <DNT>
      **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Synthetics%20Conditions/get_alerts_synthetics_conditions_json) &gt; Alerts Synthetics Conditions &gt; GET &gt; List**
    </DNT>

    ```shell
    curl -X GET 'https://api.newrelic.com/v2/alerts_synthetics_conditions.json' \
         -H "$API_KEY" -i \
         -d 'policy_id=$POLICY_ID'
    ```
  </Collapser>
</CollapserGroup>

## Condiciones de múltiples ubicaciones para el monitoreo sintético [#multilocation-synthetics-conditions]

Estas funciones de API incluyen enlaces al Explorador de API, donde puede crear, actualizar, eliminar o enumerar [condiciones](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions) para su política de alertas. La API de llamada se puede utilizar para condiciones de múltiples ubicaciones con monitoreo sintético. Antes de crear o actualizar una condición, lea las [reglas para la condición de alerta multiubicación](/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/advanced-techniques/multi-location-synthetic-monitoring-alert-conditions/#rules).

<CollapserGroup>
  <Collapser id="multilocation-synthetics-conditions-create" title="Sintético multiubicación: Crear condiciones para políticas">
    Para agregar condiciones a las políticas para el monitoreo sintético de múltiples ubicaciones, incluya estos valores en la llamada API:

    * Tu [clave de usuario](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * El `policy_id` (disponible en <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Policies/get_alerts_policies_json) &gt; Alerts Policies &gt; GET &gt; List**</DNT>)

    * Los valores `location_failure_condition` requeridos en la API de llamada (descritos en la página del Explorador de API y en el [glosario de API de condición de alerta](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names))

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Deprecation%20Notice%20-%20Alerts%20Location%20Failure%20Conditions/post_alerts_location_failure_conditions_policies__policy_id__json) &gt; Alerts Location Failure Conditions &gt; POST &gt; Create**
      </DNT>

      ```shell
      curl -X POST 'https://api.newrelic.com/v2/alerts_location_failure_conditions/policies/$POLICY_ID.json' \
           -H "$API_KEY" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "location_failure_condition": {
          "name": "string",
          "runbook_url": "string",
          "enabled": boolean,
          "entities":
          [
            "string"
          ],
          "terms": [
            {
              "priority": "string",
              "threshold": integer,
            }
          ],
          "violation_time_limit_seconds": integer
        }
      }'
      ```

      La respuesta JSON devuelve una condición `id`, que deberá actualizar o eliminar. También puede ver la condición `id` de <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Deprecation%20Notice%20-%20Alerts%20Location%20Failure%20Conditions/get_alerts_location_failure_conditions_policies__policy_id__json) &gt; Alerts Location Failure Conditions &gt; GET &gt; List**</DNT>.
  </Collapser>

  <Collapser id="multilocation-synthetics-conditions-update" title="Sintético multilocalización: Actualizar condiciones de pólizas">
    Para actualizar las condiciones de la política para el monitoreo sintético de múltiples ubicaciones, incluya estos valores en la llamada API:

    * Tu [clave de usuario](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * La condición `id` (disponible en <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Deprecation%20Notice%20-%20Alerts%20Location%20Failure%20Conditions/get_alerts_location_failure_conditions_policies__policy_id__json) &gt; Alerts Location Failure Conditions &gt; GET &gt; List**</DNT>)

    * Los valores `location_failure_condition` requeridos en la API de llamada (descritos en la página del Explorador de API y en el [glosario de API de condición de alerta](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names))

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Deprecation%20Notice%20-%20Alerts%20Location%20Failure%20Conditions/put_alerts_location_failure_conditions__condition_id__json) &gt; Alerts Location Failure Conditions &gt; PUT &gt; Update**
      </DNT>

      ```shell
      curl -X PUT 'https://api.newrelic.com/v2/alerts_location_failure_conditions/$CONDITION_ID.json' \
           -H "$API_KEY" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "location_failure_condition": {
          "name": "string",
          "runbook_url": "string",
          "enabled": boolean,
          "entities":
          [
            "string"
          ],
          "terms": [
            {
              "priority": "string",
              "threshold": integer,
            }
          ],
          "violation_time_limit_seconds": integer
        }
      }'
      ```
  </Collapser>

  <Collapser id="multilocation-synthetics-conditions-delete" title="Sintético multiubicación: Eliminar condiciones para pólizas">
    Para eliminar las condiciones de la política para el monitoreo sintético de múltiples ubicaciones, incluya estos valores en la llamada API:

    * Tu [clave de usuario](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * El `condition_id` (disponible en <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Deprecation%20Notice%20-%20Alerts%20Location%20Failure%20Conditions/get_alerts_location_failure_conditions_policies__policy_id__json) &gt; Alerts Location Failure Conditions &gt; GET &gt; List**</DNT>)

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Deprecation%20Notice%20-%20Alerts%20Location%20Failure%20Conditions/delete_alerts_location_failure_conditions__condition_id__json) &gt; Alerts Location Failure Conditions &gt; DELETE**
      </DNT>

      ```shell
      curl -X DELETE 'https://api.newrelic.com/v2/alerts_location_failure_conditions/$CONDITION_ID.json' \
           -H "$API_KEY" -i
      ```
  </Collapser>

  <Collapser id="multilocation-synthetics-conditions-list" title="Sintético multiubicación: Listar condiciones existentes para pólizas">
    Para ver una lista de las condiciones de políticas existentes para el monitoreo sintético en múltiples ubicaciones, use su [clave de usuario](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key) y el [`policy_id`](#policies-list) asociado en la API de llamada.

    <DNT>
      **[API Explorer](https://api.newrelic.com/docs/#/Deprecation%20Notice%20-%20Alerts%20Location%20Failure%20Conditions/get_alerts_location_failure_conditions_policies__policy_id__json) &gt; Alerts Location Failure Conditions &gt; GET &gt; List**
    </DNT>

    ```shell
    curl -X GET 'https://api.newrelic.com/v2/alerts_location_failure_conditions/policies/$POLICY_ID.json' \
         -H "$API_KEY" -i
    ```
  </Collapser>
</CollapserGroup>

## Condiciones de la entidad de alerta [#alert-entity-conditions]

Estas funciones API incluyen enlaces al API Explorer, donde puede enumerar, agregar y eliminar entidades en las condiciones de su política de alertas.

<Callout variant="important">
  Si su organización aloja datos en el centro de datos de la UE, asegúrese de utilizar los [extremos de API adecuados para las cuentas de la región de la UE](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints).
</Callout>

<CollapserGroup>
  <Collapser id="list-condition-by-entity" title="Condición de lista por entidad">
    Para ver las [condiciones](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-condition) que una [entidad](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity) aplica a una entidad en APM, browser, móvil o clave de transacción, incluya estos valores en la llamada API:

    * Su [clave de usuario.](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * El `entity_id` Esta es la [entidad específica (objetivo de alerta)](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity) que se monitoreará.

    * El `entity_type`, que debe ser uno de los siguientes:

      * `Application`
      * `BrowserApplication`
      * `MobileApplication`
      * `KeyTransaction`

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Entity%20Conditions/get_alerts_entity_conditions__entity_id__json) &gt; Alerts Entity Conditions &gt; GET &gt; list**
      </DNT>

      ```shell
      curl -X GET 'https://api.newrelic.com/v2/alerts_entity_conditions/$ENTITY_ID.json' \
           -H "$API_KEY" -i \
           -G -d 'entity_type=$ENTITY_TYPE'
      ```
  </Collapser>

  <Collapser id="add-entity" title="Agregar una entidad a una condición">
    Para agregar una [entidad](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity) a una condición, incluya estos valores en la llamada API:

    * Tu [clave de usuario](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * El `entity_id` Esta es la [entidad (objetivo de alerta)](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity) que se va a monitorear. Es el ID numérico de la aplicación APM, la aplicación browser , la transacción clave o la aplicación móvil.

    * El `condition_id` (disponible en <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Conditions/get_alerts_conditions_json) &gt; Alerts Conditions &gt; GET &gt; List**</DNT>)

    * El `entity_type`, que debe ser uno de los siguientes:

      * `Application`
      * `BrowserApplication`
      * `MobileApplication`
      * `KeyTransaction`

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Conditions/get_alerts_conditions_json) &gt; Alerts Entity Conditions &gt; PUT &gt; Add**
      </DNT>

      ```shell
      curl -X PUT 'https://api.newrelic.com/v2/alerts_entity_conditions/$ENTITY_ID.json' \
           -H "$API_KEY" -i \
           -H 'Content-Type: application/json' \
           -G -d 'entity_type=$ENTITY_TYPE&condition_id=$CONDITION_ID'
      ```
  </Collapser>

  <Collapser id="remove_entity" title="Eliminar una entidad de una condición">
    Para eliminar una [entidad](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity) que se está monitoreando de una condición, incluya estos valores en la llamada API:

    * Tu [clave de usuario](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * El `entity_id` Esta es la [entidad de monitorización específica (objetivo de alerta)](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity) que se eliminará. Es el ID numérico de la aplicación APM, la aplicación browser , la transacción clave o la aplicación móvil.

    * El `condition_id` (disponible en <DNT>**[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Conditions/get_alerts_conditions_json) &gt; Alerts Conditions &gt; GET &gt; List**</DNT>)

    * El `entity_type`, que debe ser uno de los siguientes:

      * `Application`
      * `BrowserApplication`
      * `MobileApplication`
      * `KeyTransaction`

      <DNT>
        **[API Explorer](https://api.newrelic.com/docs/#/Alerts%20Entity%20Conditions/delete_alerts_entity_conditions__entity_id__json) &gt; Alerts Entity Conditions &gt; DELETE &gt; Remove**
      </DNT>

      ```shell
      curl -X DELETE 'https://api.newrelic.com/v2/alerts_entity_conditions/$ENTITY_ID.json' \
           -H "$API_KEY" -i \
           -G -d 'entity_type=$ENTITY_ID&condition_id=$CONDITION_ID'
      ```
  </Collapser>
</CollapserGroup>