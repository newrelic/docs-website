---
title: Variables del flujo de trabajo
tags:
  - Alerts
  - workflows
  - Enrichments
  - Issues
metaDescription: 'For New Relic alerts, explanations of the variables used for workflows.'
freshnessValidatedDate: never
translationType: machine
---

Una explicación de las variables empleadas para las New Relic alertas [de flujo de trabajo](/docs/alerts-applied-intelligence/applied-intelligence/incident-workflows/incident-workflows).

<img
  title="Alerts workflow variables"
  alt="Alerts workflow variables"
  src="/images/alerts_screenshot-crop_workflow-variables.webp"
/>

<figcaption>
  Al crear un flujo de trabajo, puede utilizar variables para a) controlar qué tipos de problemas generarán una notificación y b) qué contendrá el contenido de una carga útil de notificación. Esta captura de pantalla muestra la sección de carga útil de la notificación.
</figcaption>

## Variables [#variables]

Aquí están las variables del flujo de trabajo y sus descripciones:

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        Clave (primera palabra utilizada para agrupar)
      </th>

      <th>
        Nombre para mostrar (primera palabra utilizada para agrupar)
      </th>

      <th>
        Descripción
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `accumulations.conditionDescription`
      </td>

      <td>
        conditionDescription
      </td>

      <td>
        La descripción personalizada del incidente de la condición.
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.conditionFamilyId`
      </td>

      <td>
        conditionFamilyId
      </td>

      <td>
        ID de la condición de detección de incidentes que generó el incidente.
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.conditionName`
      </td>

      <td>
        Nombres de condición de alerta
      </td>

      <td>
        New Relic rompió la condición.
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.conditionProduct`
      </td>

      <td>
        Productos de condición de alerta
      </td>

      <td>
        New Relic .
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.deepLinkUrl`
      </td>

      <td>
        URL de devolución de llamada de incidente
      </td>

      <td>
        Un enlace directo a la devolución de llamada del incidente relevante.
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.evaluation.metricValueFunction`
      </td>

      <td>
        Métrica personalizada función de valor
      </td>

      <td>
        Función de valor métrica personalizada.
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.evaluation.name`
      </td>

      <td>
        <InlinePopover type="apm"/>nombre de la métrica de condición
      </td>

      <td>
        <InlinePopover type="apm"/>nombre de la métrica de condición
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.nrqlQuery`
      </td>

      <td>
        Consulta NRQL
      </td>

      <td>
        Consulta NRQL de la condición.
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.origins`
      </td>

      <td>
        Orígenes del problema
      </td>

      <td>
        New Relic o fuentes de terceros que crearon el incidente.
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.policyName`
      </td>

      <td>
        Nombres de política de alertas
      </td>

      <td>
        Nombre de la política de detección de incidentes que generó el incidente.
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.runbookUrl`
      </td>

      <td>
        URL del runbook
      </td>

      <td>
        Una lista de URL de runbook.
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.sources`
      </td>

      <td>
        Fuentes del problema
      </td>

      <td>
        El(los) sistema(s) que informan el(los) incidente(s).
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.tag.account`
      </td>

      <td>
        New Relic
      </td>

      <td>
        New Relic .
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.tag.affectedService`
      </td>

      <td>
        Servicio afectado
      </td>

      <td>
        Una lista de servicios afectados.
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.tag.assignmentGroup`
      </td>

      <td>
        Grupo de tareas
      </td>

      <td>
        Una lista de grupos de tareas.
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.tag.causeService`
      </td>

      <td>
        Servicio de causa
      </td>

      <td>
        Una lista de los servicios de causa.
      </td>
    </tr>

    <tr>
      <td>
        `acknowledgedBy`
      </td>

      <td>
        Reconocido por
      </td>

      <td>
        El usuario que reconoció el problema.
      </td>
    </tr>

    <tr>
      <td>
        `activatedAt`
      </td>

      <td>
        Problema activado en
      </td>

      <td>
        Marca de timestamp de activación del problema.
      </td>
    </tr>

    <tr>
      <td>
        `annotations.description`
      </td>

      <td>
        Descripcion del problema
      </td>

      <td>
        Lista de todas las descripciones de incidentes.
      </td>
    </tr>

    <tr>
      <td>
        `annotations.title`
      </td>

      <td>
        Título del problema
      </td>

      <td>
        Lista de todos los títulos de incidentes.
      </td>
    </tr>

    <tr>
      <td>
        `annotations.wildcard`
      </td>

      <td>
        Facetas de alerta
      </td>

      <td>
        Facetas de alerta.
      </td>
    </tr>

    <tr>
      <td>
        `closedBy`
      </td>

      <td>
        Cerrado por
      </td>

      <td>
        La identificación del usuario que cerró el problema.
      </td>
    </tr>

    <tr>
      <td>
        `closedAt`
      </td>

      <td>
        Issue ClosedAt
      </td>

      <td>
        Timestamp del cierre del problema. Nulo si el problema no está cerrado.
      </td>
    </tr>

    <tr>
      <td>
        `closedIncidentsCount`
      </td>

      <td>
        Recuento de incidentes cerrados
      </td>

      <td>
        El número total de incidentes cerrados sobre este tema.
      </td>
    </tr>

    <tr>
      <td>
        `createdAt`
      </td>

      <td>
        Issue CreatedAt
      </td>

      <td>
        Timestamp de creación del problema.
      </td>
    </tr>

    <tr>
      <td>
        `dataMLModules.components`
      </td>

      <td>
        Componentes de aprendizaje automático
      </td>

      <td>
        Una lista de componentes de aprendizaje automático de alertas de New Relic.
      </td>
    </tr>

    <tr>
      <td>
        `dataMLModules.goldenSignals`
      </td>

      <td>
        Aprendizaje automático señales doradas
      </td>

      <td>
        Una lista de alertas New Relic señales doradas del aprendizaje automático.
      </td>
    </tr>

    <tr>
      <td>
        `dataMLModules.suggestedResponders`
      </td>

      <td>
        Respondedor sugerido de aprendizaje automático
      </td>

      <td>
        (Obsoleto) Una lista de respuestas sugeridas por aprendizaje automático de alertas de New Relic.
      </td>
    </tr>

    <tr>
      <td>
        `entitiesData.entities`
      </td>

      <td>
        Datos de la entidad impactada
      </td>

      <td>
        Una lista de objetos que describen el nombre, ID, tipo y clase de la entidad afectada.
      </td>
    </tr>

    <tr>
      <td>
        `entitiesData.ids`
      </td>

      <td>
        ID de entidades impactadas
      </td>

      <td>
        Un conjunto de todos los ID de entidades impactadas.
      </td>
    </tr>

    <tr>
      <td>
        `entitiesData.kinds`
      </td>

      <td>
        Tipos de entidades impactadas
      </td>

      <td>
        Un conjunto de todos los tipos de entidades impactadas.
      </td>
    </tr>

    <tr>
      <td>
        `entitiesData.names`
      </td>

      <td>
        Nombres de entidades impactadas
      </td>

      <td>
        Un conjunto de todos los nombres de entidades impactadas.
      </td>
    </tr>

    <tr>
      <td>
        `entitiesData.types`
      </td>

      <td>
        Tipos de entidades impactadas
      </td>

      <td>
        Un conjunto de todos los tipos de entidades impactadas.
      </td>
    </tr>

    <tr>
      <td>
        `impactedEntitiesCount`
      </td>

      <td>
        Recuento de entidades impactadas
      </td>

      <td>
        El número de entidades impactadas por este problema.
      </td>
    </tr>

    <tr>
      <td>
        `incidentIds`
      </td>

      <td>
        Identificaciones de incidentes
      </td>

      <td>
        Una lista de todos los incidentes agregados del problema.
      </td>
    </tr>

    <tr>
      <td>
        `isCorrelated`
      </td>

      <td>
        El problema está correlacionado
      </td>

      <td>
        Si el problema está correlacionado (`true`, `false`).
      </td>
    </tr>

    <tr>
      <td>
        `isAcknowledged`
      </td>

      <td>
        Se reconoce el problema
      </td>

      <td>
        Si se reconoce el problema (`true`, `false`).
      </td>
    </tr>

    <tr>
      <td>
        `issueAckUrl`
      </td>

      <td>
        URL de reconocimiento del problema
      </td>

      <td>
        Un enlace directo para reconocer el problema.
      </td>
    </tr>

    <tr>
      <td>
        `issueCloseUrl`
      </td>

      <td>
        URL de cierre del problema
      </td>

      <td>
        Un enlace directo para cerrar el tema.
      </td>
    </tr>

    <tr>
      <td>
        `issuePageUrl`
      </td>

      <td>
        URL de la página del problema
      </td>

      <td>
        Un enlace directo a la página del problema relevante.
      </td>
    </tr>

    <tr>
      <td>
        `issueActivatedAtUtc`
      </td>

      <td>
        Issue ActivatedAt UTC string
      </td>

      <td>
        Formato de cadena de activación de emisión en UTC.
      </td>
    </tr>

    <tr>
      <td>
        `issueClosedAtUtc`
      </td>

      <td>
        Issue ClosedAt UTC string
      </td>

      <td>
        Formato de cadena de cierre de problema en UTC.
      </td>
    </tr>

    <tr>
      <td>
        `issueCreatedAtUtc`
      </td>

      <td>
        Issue CreatedAt UTC string
      </td>

      <td>
        Formato de cadena de creación de problemas en UTC.
      </td>
    </tr>

    <tr>
      <td>
        `issueAcknowledgedAt`
      </td>

      <td>
        Issue AcknowledgedAt string
      </td>

      <td>
        Formato de cadena del problema reconocido en UTC.
      </td>
    </tr>

    <tr>
      <td>
        `issueClosedAt`
      </td>

      <td>
        Issue ClosedAt string
      </td>

      <td>
        Formato de cadena de cierre de problema en UTC.
      </td>
    </tr>

    <tr>
      <td>
        `issueDurationMs`
      </td>

      <td>
        Duración del problema en milisegundos
      </td>

      <td>
        El número de milisegundos desde que se abrió el problema.
      </td>
    </tr>

    <tr>
      <td>
        `issueDurationText`
      </td>

      <td>
        Duración del número textual
      </td>

      <td>
        Una representación amigable para los humanos de la duración del problema.
      </td>
    </tr>

    <tr>
      <td>
        `issueId`
      </td>

      <td>
        ID del problema
      </td>

      <td>
        El DNI único de la emisión.
      </td>
    </tr>

    <tr>
      <td>
        `issueTitle`
      </td>

      <td>
        Título del problema
      </td>

      <td>
        Generalmente el título del primer incidente.
      </td>
    </tr>

    <tr>
      <td>
        `issueUpdatedAt`
      </td>

      <td>
        Issue UpdatedAt UTC string
      </td>

      <td>
        Timestamp de la actualización del problema en UTC.
      </td>
    </tr>

    <tr>
      <td>
        `labels.accountIds`
      </td>

      <td>
        ID de cuenta asociada al entorno del problema
      </td>

      <td>
        ID de cuenta asociada a los entornos de alertas New Relic .
      </td>
    </tr>

    <tr>
      <td>
        `labels.aggregationKeys`
      </td>

      <td>
        Clave de agregación de alertas de etiquetas
      </td>

      <td>
        ID de incidente original de detección de incidentes de New Relic.
      </td>
    </tr>

    <tr>
      <td>
        `labels.originalAccountIds`
      </td>

      <td>
        Identificadores de cuentas de etiquetas
      </td>

      <td>
        ID de cuenta de la política de detección de incidentes.
      </td>
    </tr>

    <tr>
      <td>
        `labels.policyIds`
      </td>

      <td>
        Etiquetas política de alertas ID
      </td>

      <td>
        ID de política de detección de incidentes que generaron el incidente.
      </td>
    </tr>

    <tr>
      <td>
        `abels.targetId`
      </td>

      <td>
        ID de objetivo
      </td>

      <td>
        Identificación del objetivo.
      </td>
    </tr>

    <tr>
      <td>
        `mutingState`
      </td>

      <td>
        Estado de silenciamiento del problema
      </td>

      <td>
        El estado de silenciamiento calculado del problema (`MUTED`, `NOT_MUTED`).
      </td>
    </tr>

    <tr>
      <td>
        `nrAccountId`
      </td>

      <td>
        ID de la cuenta
      </td>

      <td>
        ID de la cuenta.
      </td>
    </tr>

    <tr>
      <td>
        `openIncidentsCount`
      </td>

      <td>
        Recuento de incidentes abiertos
      </td>

      <td>
        El número total de incidentes abiertos sobre este tema.
      </td>
    </tr>

    <tr>
      <td>
        `owner`
      </td>

      <td>
        Dueño
      </td>

      <td>
        La persona que reconoció el problema.
      </td>
    </tr>

    <tr>
      <td>
        `policyUrl`
      </td>

      <td>
        política de alertas URL
      </td>

      <td>
        Política de alertas URL.
      </td>
    </tr>

    <tr>
      <td>
        `priority`
      </td>

      <td>
        Prioridad del problema
      </td>

      <td>
        Nivel de prioridad del problema (`CRITICAL`, `HIGH`, `MEDIUM`, `LOW`).
      </td>
    </tr>

    <tr>
      <td>
        `priorityText`
      </td>

      <td>
        Texto de prioridad de emisión
      </td>

      <td>
        Prioridad de emisión en minúsculas (`Critical`, `High`, `Medium`, `Low`).
      </td>
    </tr>

    <tr>
      <td>
        `realIssueCount`
      </td>

      <td>
        Recuento de problemas
      </td>

      <td>
        Recuento de problemas.
      </td>
    </tr>

    <tr>
      <td>
        `state`
      </td>

      <td>
        Estado del problema
      </td>

      <td>
        Estado del ciclo de vida del problema (`CREATED`, `ACTIVATED`, `CLOSED`).
      </td>
    </tr>

    <tr>
      <td>
        `stateText`
      </td>

      <td>
        Texto del estado de emisión
      </td>

      <td>
        Estado del ciclo de vida del problema en minúsculas (`active` (abierto), `closed`).
      </td>
    </tr>

    <tr>
      <td>
        `status`
      </td>

      <td>
        Estado de correlación del problema
      </td>

      <td>
        El estado de correlación del problema.
      </td>
    </tr>

    <tr>
      <td>
        `totalIncidents`
      </td>

      <td>
        Recuento de incidentes
      </td>

      <td>
        El número de incidentes que se agregan o correlacionan en la emisión.
      </td>
    </tr>

    <tr>
      <td>
        `triggeredAt`
      </td>

      <td>
        Problema desencadenado en
      </td>

      <td>
        Timestamp de la notificación del problema activada.
      </td>
    </tr>

    <tr>
      <td>
        `triggerEvent`
      </td>

      <td>
        Evento desencadenante de notificación de problema
      </td>

      <td>
        El evento desencadenante de notificación (`STATE_CHANGE`, `INCIDENT_ADDED`, `INCIDENT_CLOSED`, `CLOSE_INACTIVE`, `CLOSE_TTL`, `USER_ACTION`, `PRIORITY_CHANGED`, `MERGE_REQUEST`).
      </td>
    </tr>

    <tr>
      <td>
        `updatedAt`
      </td>

      <td>
        Problema actualizado en
      </td>

      <td>
        Timestamp del problema actualizado por última vez.
      </td>
    </tr>

    <tr>
      <td>
        `violationChartUrl`
      </td>

      <td>
        URL del gráfico de incidentes
      </td>

      <td>
        Enlace a la imagen del gráfico de incidentes.
      </td>
    </tr>

    <tr>
      <td>
        `workflowName`
      </td>

      <td>
        Nombre del flujo de trabajo
      </td>

      <td>
        El nombre del flujo de trabajo que se activó.
      </td>
    </tr>
  </tbody>
</table>

## Ejemplos de enriquecimiento de datos de flujo de trabajo [#enrichment-examples]

Para obtener información sobre la entidad que incumplió una condición, puede utilizar variables personalizadas como parte de la declaración `WHERE` de la consulta. Por ejemplo, para obtener el estado de las instancias EC2 use:

```sql
SELECT latest(ec2State) FROM ComputeSample WHERE provider = 'Ec2Instance' AND entityName IN {{entitiesData.names}}
```

Esta consulta devuelve un valor único (por ejemplo, `stopped`), ya que la consulta solo utiliza un único campo. La variable `entitiesData.names` es una lista de identificador de la entidad. Puede utilizar cualquier otra propiedad de entidad de la misma manera.

Puede utilizar variables personalizadas para enriquecer su consulta de datos de flujo de trabajo de diferentes maneras:

<CollapserGroup>
  <Collapser
    id="application-drop"
    title="Consulta para cuando el tráfico de aplicaciones cae."
  >
    Hay ocasiones en las que desea saber cuándo disminuye el tráfico a su aplicación. Puede utilizar la variable `{{entitiesData.names}}` en lugar del nombre de su aplicación.

    ```sql
    SELECT count(*) FROM Transaction WHERE appName IN {{entitiesData.names}} SINCE 10 minutes ago
    ```
  </Collapser>

  <Collapser
    id="non-web-transactions-time"
    title="Tiempo de transacción sin web"
  >
    Tiempo promedio que la entidad impactada dedica a procesar solicitudes/transacción, desglosado por tipo de proceso

    ```sql
    SELECT average(apm.service.overview.other) * 1000 FROM Metric WHERE appName IN {{entitiesData.names}} FACET `segmentName` TIMESERIES
    ```
  </Collapser>

  <Collapser
    id="throughput"
    title="Rendimiento"
  >
    Número de solicitudes por minuto del proceso de entidades impactadas

    ```sql
    SELECT rate(count(apm.service.transaction.duration), 1 minute) AS 'Non-web throughput' FROM Metric WHERE (appName IN {{entitiesData.names}}) AND (transactionType = 'Other') TIMESERIES
    ```
  </Collapser>

  <Collapser
    id="error-rate"
    title="Tasa de errores"
  >
    Ratio de errores sobre el número total de procesos de solicitudes por parte de la entidad impactada

    ```sql
    SELECT count(apm.service.error.count) / count(apm.service.transaction.duration) AS 'Non-web errors' FROM Metric WHERE (appName IN {{entitiesData.names}}) AND (transactionType = 'Other') TIMESERIES
    ```
  </Collapser>

  <Collapser
    id="transaction-failures"
    title="Consulta por fallas en transacciones"
  >
    Hay ocasiones en las que quieres saber cuándo ha fallado tu aplicación de transacción. Esta consulta muestra las últimas respuestas al código de estado HTTP filtradas por la variable `{{entitiesData.names}}` que violó su umbral de política de alertas.

    ```sql
    SELECT latest(http.statusCode), average(duration) FROM Transaction WHERE appName IN {{entitiesData.names}}
    ```
  </Collapser>

  <Collapser
    id="kubernetes-consumption"
    title="Consulta para descripción general del consumo de Kubernetes"
  >
    Utilice una consulta como esta para obtener la cantidad de entidades y sus tiempos de ingesta dentro de un pod de Kubernetes. Al identificar qué entidades tienen tiempos de ingesta elevados, puede comenzar a abordar ese problema y encontrar una posible solución.

    ```sql
    SELECT uniqueCount(displayName), sum(nr.ingestTimeMs) FROM K8sServiceSample WHERE entityName IN {{entitiesData.names}} SINCE 1 hour ago
    ```
  </Collapser>

  <Collapser
    id="tags-from-facet"
    title="Consulta utilizando el valor de faceta desencadenante"
  >
    Si la condición de alerta consulta tiene facetas, puede utilizar el valor `FACET` que desencadena el incidente en una consulta. Por ejemplo, si la condición de alerta es esta:

    ```sql
    SELECT average(duration) FROM BrowserInteraction FACET appName
    ```

    Luego puede consultar utilizando el `appName` específico de esta manera:

    ```sql
    SELECT uniques(host) FROM Transaction WHERE appName IN {{accumulations.tag.appName}}
    ```
  </Collapser>
</CollapserGroup>
