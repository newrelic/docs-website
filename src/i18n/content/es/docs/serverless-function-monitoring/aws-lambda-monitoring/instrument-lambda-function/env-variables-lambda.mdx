---
title: Variables de entorno para AWS Lambda
metaDescription: Learn how to set and use environment variables in AWS Lambda functions for configuration and secrets management.
freshnessValidatedDate: never
tags:
  - AWS Lambda
  - Environment Variables
  - Configuration
  - Secrets Management
translationType: machine
---

Las variables de entorno son una forma de almacenar configuraciones y secretos fuera de su código. Las siguientes tablas muestran las variables obligatorias y las variables específicas de tiempo de ejecución que puede configurar para monitorear su función Lambda con New Relic.

## Variables de entorno obligatorias

Independientemente de su entorno de ejecución, debe configurar las siguientes variables de entorno para monitorear su función Lambda con New Relic:

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        Nombre de la variable
      </th>

      <th>
        Descripción
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `NEW_RELIC_ACCOUNT_ID`
      </td>

      <td>
        Especifica el ID de tu cuenta de New Relic
      </td>
    </tr>

    <tr>
      <td>
        `NEW_RELIC_LAMBDA_HANDLER`
      </td>

      <td>
        Especifica el contenedor del controlador empleado para encontrar el controlador real de su función. En el caso de tiempos de ejecución de Go, esta variable no es obligatoria.
      </td>
    </tr>

    <tr>
      <td>
        `NEW_RELIC_LICENSE_KEY`
      </td>

      <td>
        Especifica su clave de ingesta de New Relic, anulando Secrets Manager
      </td>
    </tr>

    <tr>
      <td>
        `NEW_RELIC_APM_LAMBDA_MODE`
      </td>

      <td>
        Establezca en 

        `true`

         para habilitar el monitoreo APM para su función Lambda
      </td>
    </tr>

    <tr>
      <td>
        `NEW_RELIC_TRUSTED_ACCOUNT_KEY`
      </td>

      <td>
        Especifica el ID de tu cuenta de New Relic o el ID principal, si existe
      </td>
    </tr>
  </tbody>
</table>

## Variables de entorno adicionales

En función de su entorno de ejecución, puede configurar las siguientes variables de entorno para configurar aún más el monitoreo Lambda de New Relic:

<Tabs>
  <TabsBar>
    <TabsBarItem id="Lambda extension">Extensión Lambda para</TabsBarItem> <TabsBarItem id="nodejs">Node.js,</TabsBarItem> <TabsBarItem id="python">Python,</TabsBarItem> <TabsBarItem id="java">Java</TabsBarItem> <TabsBarItem id="Go">, Go ,</TabsBarItem> <TabsBarItem id="Ruby">Ruby</TabsBarItem> <TabsBarItem id=".NET">y.NET</TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="nodejs">
      <table>
        <thead>
          <tr>
            <th>
              Variable ambiental
            </th>

            <th>
              Valor por defecto
            </th>

            <th>
              Opciones
            </th>

            <th>
              Descripción
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `NEW_RELIC_USE_ESM`
            </td>

            <td>
              `false`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              **OBSOLETO**

               : Esto se eliminará de las futuras versiones de la capa lambda de Node.js. En su lugar, configure su controlador en 

              `/opt/nodejs/node_modules/newrelic-esm-lambda-wrapper/index.handler`
            </td>
          </tr>

          <tr>
            <td>
              `NODE_OPTIONS`
            </td>

            <td />

            <td>
              `--experimental-loader newrelic/esm-loader.mjs`
            </td>

            <td>
              **Obligatorio**

              : si ESM está habilitado, configure esta variable de entorno para usar nuestro cargador ESM
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_AI_MONITORING_ENABLED`
            </td>

            <td>
              `false`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              **Obligatorio para la transmisión de respuestas**

              : configúrelo 

              `true`

               en para habilitar el monitoreo de respuestas New Relic UI de IA en .
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_DISTRIBUTED_TRACING_ENABLED`
            </td>

            <td>
              `true`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Generar traza habilitando rastreo distribución
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_NO_CONFIG_FILE`
            </td>

            <td>
              `false`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Emplee variables de entorno en Lambda configurando esto en 

              `true`
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_APP_NAME`
            </td>

            <td />

            <td />

            <td>
              Establezca el nombre de la aplicación, aunque no se use en la UIde New Relic
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_LOG_ENABLED`
            </td>

            <td>
              `false`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Habilite el logging del agente configurando esto en 

              `true`
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_LOG_LEVEL`
            </td>

            <td>
              `info`
            </td>

            <td>
              `fatal`

              , 

              `error`

              , 

              `warn`

              , 

              `info`

              , 

              `debug`

              , 

              `trace`
            </td>

            <td>
              Establecer el nivel de log del agente
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_LOG`
            </td>

            <td>
              `stdout`
            </td>

            <td>
              `stdout`
            </td>

            <td>
              Establezca la ruta del log del agente en 

              `stdout`

               para el modo sin servidor
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_NATIVE_METRICS_ENABLED`
            </td>

            <td>
              `true`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Deshabilite la reducción de la duración del inicio en frío estableciendo esto en 

              `false`

              , aunque no recopilará métricas de VM
            </td>
          </tr>
        </tbody>
      </table>

      Puede encontrar más variables de entorno en nuestra [documentación de configuración de Node.js.](/docs/apm/agents/nodejs-agent/installation-configuration/nodejs-agent-configuration/)
    </TabsPageItem>

    <TabsPageItem id="python">
      <table>
        <thead>
          <tr>
            <th>
              Variable ambiental
            </th>

            <th>
              Valor por defecto
            </th>

            <th>
              Opciones
            </th>

            <th>
              Descripción
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `NEW_RELIC_DISTRIBUTED_TRACING_ENABLED`
            </td>

            <td>
              `true`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Generar traza habilitando rastreo distribución
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_NO_CONFIG_FILE`
            </td>

            <td>
              `false`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Emplee variables de entorno en Lambda configurando esto en 

              `true`
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_APP_NAME`
            </td>

            <td />

            <td />

            <td>
              Establezca el nombre de la aplicación, aunque no se use en la UIde New Relic
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_LOG`
            </td>

            <td>
              `stderr`
            </td>

            <td>
              `stderr`
            </td>

            <td>
              Establezca la ruta del log del agente en 

              `stderr`

               para el modo sin servidor
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_LOG_LEVEL`
            </td>

            <td>
              `info`
            </td>

            <td>
              `critical`

              , 

              `error`

              , 

              `warning`

              , 

              `info`

              , 

              `debug`
            </td>

            <td>
              Establecer el nivel de log del agente
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_SERVERLESS_MODE_ENABLED`
            </td>

            <td>
              `false`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Habilite el modo sin servidor configurando esto en 

              `true`
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_PACKAGE_REPORTING_ENABLED`
            </td>

            <td>
              `true`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Mejore los tiempos de arranque en frío configurando esto en 

              `false`
            </td>
          </tr>
        </tbody>
      </table>

      Puede encontrar más variables de entorno en nuestra [documentación de configuración de Python](/docs/apm/agents/python-agent/configuration/python-agent-configuration/).
    </TabsPageItem>

    <TabsPageItem id="java">
      <table>
        <thead>
          <tr>
            <th>
              Variable ambiental
            </th>

            <th>
              Valor por defecto
            </th>

            <th>
              Opciones
            </th>

            <th>
              Descripción
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `NEW_RELIC_DISTRIBUTED_TRACING_ENABLED`
            </td>

            <td>
              `true`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Generar traza habilitando rastreo distribución
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_PRIMARY_APPLICATION_ID`
            </td>

            <td />

            <td />

            <td>
              Establezca su ID de cuenta de New Relic
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_DEBUG`
            </td>

            <td>
              `false`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Habilite el agente de nivel de logs configurando esto en 

              `true`
            </td>
          </tr>
        </tbody>
      </table>
    </TabsPageItem>

    <TabsPageItem id="Go">
      <table>
        <thead>
          <tr>
            <th>
              Variable ambiental
            </th>

            <th>
              Valor por defecto
            </th>

            <th>
              Opciones
            </th>

            <th>
              Descripción
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `NEW_RELIC_DISTRIBUTED_TRACING_ENABLED`
            </td>

            <td>
              `true`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Generar traza habilitando rastreo distribución
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_APP_NAME`
            </td>

            <td />

            <td />

            <td>
              Establezca el nombre de la aplicación, aunque no se use en la UIde New Relic
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_LOG`
            </td>

            <td>
              `stdout`
            </td>

            <td>
              `stdout`
            </td>

            <td>
              Establezca la ruta del log del agente en 

              `stdout`

               para el modo sin servidor
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_LOG_LEVEL`
            </td>

            <td />

            <td>
              `debug`

               para depurar, o vacío para información
            </td>

            <td>
              Establecer el nivel de log del agente
            </td>
          </tr>
        </tbody>
      </table>
    </TabsPageItem>

    <TabsPageItem id="Ruby">
      <table>
        <thead>
          <tr>
            <th>
              Variable ambiental
            </th>

            <th>
              Valor por defecto
            </th>

            <th>
              Opciones
            </th>

            <th>
              Descripción
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `NEW_RELIC_DISTRIBUTED_TRACING_ENABLED`
            </td>

            <td>
              `true`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Generar traza habilitando rastreo distribución
            </td>
          </tr>
        </tbody>
      </table>
    </TabsPageItem>

    <TabsPageItem id=".NET">
      <table>
        <thead>
          <tr>
            <th>
              Variable ambiental
            </th>

            <th>
              Valor por defecto
            </th>

            <th>
              Opciones
            </th>

            <th>
              Descripción
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `CORECLR_ENABLE_PROFILING`
            </td>

            <td>
              `0`
            </td>

            <td>
              `0`

              , 

              `1`
            </td>

            <td>
              **Obligatorio**

              : habilite la creación de perfiles configurando esto en 

              `1`
            </td>
          </tr>

          <tr>
            <td>
              `CORECLR_PROFILER`
            </td>

            <td />

            <td>
              `{36032161-FFC0-4B61-B559-F6C5D41BAE5A}`
            </td>

            <td>
              **Obligatorio**

              : Establezca esto en 

              `{36032161-FFC0-4B61-B559-F6C5D41BAE5A}`

               para habilitar el agente .NET
            </td>
          </tr>

          <tr>
            <td>
              `CORECLR_NEWRELIC_HOME`
            </td>

            <td />

            <td>
              `/opt/lib/newrelic-dotnet-agent`
            </td>

            <td>
              **Obligatorio**

              : Establezca esto en 

              `/opt/lib/newrelic-dotnet-agent`

               para habilitar el agente .NET
            </td>
          </tr>

          <tr>
            <td>
              `CORECLR_PROFILER_PATH`
            </td>

            <td />

            <td>
              `/opt/lib/newrelic-dotnet-agent/libNewRelicProfiler.so`
            </td>

            <td>
              **Obligatorio**

              : Establezca esto en 

              `/opt/lib/newrelic-dotnet-agent/libNewRelicProfiler.so`

               para habilitar el agente .NET
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_DISTRIBUTED_TRACING_ENABLED`
            </td>

            <td>
              `true`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Generar traza habilitando rastreo distribución
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_APP_NAME`
            </td>

            <td />

            <td />

            <td>
              Establezca el nombre de la aplicación, aunque no se use en la UIde New Relic
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_LOG_ENABLED`
            </td>

            <td>
              `1`
            </td>

            <td>
              `1`

              , 

              `0`
            </td>

            <td>
              Deshabilite el logging del agente configurando esto en 

              `0`
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_LOG_CONSOLE`
            </td>

            <td>
              `0`
            </td>

            <td>
              `1`

              , 

              `0`
            </td>

            <td>
              Establezca esto en 

              `1`

               para enviar logs a CloudWatch
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_LOG_LEVEL`
            </td>

            <td>
              `info`
            </td>

            <td>
              `info`

              , 

              `debug`

              , 

              `finest`
            </td>

            <td>
              Establecer el nivel de log del agente
            </td>
          </tr>
        </tbody>
      </table>

      Puede encontrar más variables de entorno en nuestra [documentación de configuración de .NET](/docs/apm/agents/net-agent/configuration/net-agent-configuration/) y en el método [de instrumentación sin capas](/docs/serverless-function-monitoring/aws-lambda-monitoring/instrument-lambda-function/enable-serverless-monitoring-aws-lambda-layerless/#dotnet) .
    </TabsPageItem>

    <TabsPageItem id="Lambda extension">
      <table>
        <thead>
          <tr>
            <th>
              Variable ambiental
            </th>

            <th>
              Valor por defecto
            </th>

            <th>
              Opciones
            </th>

            <th>
              Descripción
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `NEW_RELIC_LAMBDA_EXTENSION_ENABLED`
            </td>

            <td>
              `true`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Deshabilite la extensión configurando esto en 

              `false`
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_LICENSE_KEY_SECRET`
            </td>

            <td>
              `NEW_RELIC_LICENSE_KEY`
            </td>

            <td />

            <td>
              Establecer un nombre secreto personalizado en AWS Secrets Manager
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_DATA_COLLECTION_TIMEOUT`
            </td>

            <td>
              10s
            </td>

            <td />

            <td>
              Establezca la duración del tiempo de espera para 

              `Telemetry client error`
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_EXTENSION_LOGS_ENABLED`
            </td>

            <td>
              `true`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Deshabilite 

              `[NR_EXT]`

               líneas de log configurando esto en 

              `false`
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_EXTENSION_LOG_LEVEL`
            </td>

            <td>
              `INFO`
            </td>

            <td>
              `INFO`

              , 

              `DEBUG`

              , 

              `TRACE`

              , 

              `ERROR`

              , 

              `WARN`

              , 

              `ALL`
            </td>

            <td>
              Establezca el nivel de logs para 

              `NR_EXT`

               líneas de log
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_EXTENSION_SEND_FUNCTION_LOGS`
            </td>

            <td>
              `false`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Envíe logs de funciones configurando esto en 

              `true`
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_EXTENSION_SEND_EXTENSION_LOGS`
            </td>

            <td>
              `false`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Envíe logs de extensión configurando esto en 

              `true`
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_LOG_ENDPOINT`
            </td>

            <td>
              `https://log-api.newrelic.com/log/v1`
            </td>

            <td>
              `https://log-api.newrelic.com/log/v1`

              , 

              `https://log-api.eu.newrelic.com/log/v1`
            </td>

            <td>
              Establecer los logs extremos
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_TELEMETRY_ENDPOINT`
            </td>

            <td>
              `https://cloud-collector.newrelic.com/aws/lambda/v1`
            </td>

            <td>
              `https://cloud-collector.newrelic.com/aws/lambda/v1`

              , 

              `https://cloud-collector.eu01.nr-data.net/aws/lambda/v1`
            </td>

            <td>
              Establecer la telemetría extrema
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_IGNORE_EXTENSION_CHECKS`
            </td>

            <td />

            <td />

            <td>
              **OBSOLETO**

               Omite las comprobaciones suministrándolas como valores separados por comas dentro de una cadena. Emplee valores de cadena 

              `handler`

              , 

              `agent`

              , 

              `sanity`

              , 

              `vendor`

               o 

              `all`
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_LICENSE_KEY_SECRET`
            </td>

            <td />

            <td />

            <td>
              Especifique el **nombre** o **ARN** del secreto de AWS Secrets Manager que contiene su clave de licencia de New Relic.

              <br />

              <br />

              **Notas:**

              * Esto sólo se emplea si `` `NEW_RELIC_LICENSE_KEY` `` no está configurado.
              * El secreto debe estar en la misma región de AWS que su función Lambda.
              * El rol de ejecución de su función Lambda necesita la licencia `` `secretsmanager:GetSecretValue` `` para este secreto.
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_LICENSE_KEY_SSM_PARAMETER_NAME`
            </td>

            <td />

            <td />

            <td>
              Especifique el **nombre** o **ARN** del parámetro del almacén de parámetros de AWS Systems Manager que contiene su clave de licencia de New Relic.

              <br />

              <br />

              **Notas:**

              * Esto sólo se emplea si `` `NEW_RELIC_LICENSE_KEY` `` no está configurado.
              * El parámetro SSM debe estar en la misma región de AWS que su función Lambda.
              * La función de ejecución de su función Lambda necesita la licencia `` `ssm:GetParameter` `` para este parámetro.
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_CLOUD_AWS_ACCOUNT_ID`
            </td>

            <td />

            <td />

            <td>
              Para ayudar New Relic a mapear y mostrar correctamente las relaciones entre las entidades monitoreadas, proporcione el ID de la cuenta de AWS donde se encuentran sus recursos monitoreados, como la base de datos y la función Lambda.
            </td>
          </tr>
        </tbody>
      </table>

      Vea más variables de entorno para la extensión New Relic en nuestra [documentación](https://github.com/newrelic/newrelic-lambda-extension/blob/cf86fb53f0bd816e1d09d07f7b5c5ab4841010a0/config/config.go#L41-L55).
    </TabsPageItem>
  </TabsPages>
</Tabs>

## Que sigue

<DocTiles>
  <DocTile title="Instalar y configurar el monitoreo de Lambda" path="/docs/serverless-function-monitoring/aws-lambda-monitoring/instrument-lambda-function/configure-serverless-aws-monitoring">
    Comience con la instrumentación y configuración de su función Lambda
  </DocTile>

  <DocTile title="Datos e UI" path="/docs/serverless-function-monitoring/aws-lambda-monitoring/instrument-lambda-function/instrument-your-own">
    Aprenda a usar New Relic para monitorear su función Lambda AWS
  </DocTile>
</DocTiles>