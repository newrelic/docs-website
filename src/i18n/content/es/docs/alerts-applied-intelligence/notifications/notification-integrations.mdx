---
title: alerta e inteligencia aplicada notificación integraciones
tags:
  - Alerts and applied intelligence
  - Applied intelligence
  - Incident intelligence
  - Destinations
metaDescription: Alerts and applied intelligence notification integrations are specific services and platforms you can use to send notifications from New Relic.
freshnessValidatedDate: never
translationType: machine
---

import accountsJiraDestination from 'images/accounts_screenshot-crop_jira-destination.webp'

import accountsJiraTemplate from 'images/accounts_screenshot-crop_jira-template.webp'

import accountsBridgeEventPattern from 'images/accounts_screenshot-crop_bridge-event-pattern.webp'

import accountsServiceNowDestination from 'images/accounts_screenshot-crop_service-now-destination.webp'

import accountsServiceNowCreateDestination from 'images/accounts_screenshot-crop_servicenow-create-destination.webp'

import accountsServiceNowMessageTemplate from 'images/accounts_screenshot-crop_service-now-message-template.webp'

import accountsWebhookServiceNowFields from 'images/accounts_screenshot-crop_webhook-serviceNowFields.webp'

import accountsSlackDestinationAuthentication from 'images/accounts_screenshot-crop_slack-destination-authentication.webp'

import accountsSlackSignIn from 'images/accounts_screenshot-crop_slack-sign-in.webp'

import accountsSlackDestinationAllowAccess from 'images/accounts_screenshot-crop_slack-destination-allow-access.webp'

import accountsSlackAuthenticationCompleted from 'images/accounts_screenshot-crop_slack-authentication-completed.webp'

import accountsSlackMessageTemplate from 'images/accounts_screenshot-crop_slack-message-template.webp'

import accountsSlackChannelTestNotification from 'images/accounts_screenshot-crop_slack-channel-test-notification.webp'

import accountsWebhookDestination from 'images/accounts_screenshot-crop_webhook-destination.webp'

import accountsWebhookPreviewError from 'images/accounts_screenshot-crop_webhook-preview-error.webp'

import accountsWebhookNotificationTemplate from 'images/accounts_screenshot-crop_webhook-notification-template.webp'

import accountsEmailConfWorkflow from 'images/accounts_screenshot-crop_email-configure-workflow.webp'

import accountsEmailSettings from 'images/accounts_screenshot-crop_email-settings.webp'

import accountsAWSEventBridgeDestination from 'images/accounts_screenshot-crop_awseventbridge-destination.webp'

import accountsPagerDutyAccountDestinationNewUi from 'images/accounts_screenshot-crop_pager-duty-account-destination-new-ui.webp'

import accountsPagerDutyAddNewWorkflow from 'images/accounts_screenshot-crop_pager-duty-add-webhook.webp'

import accountsPagerDutyAddNewRelicIntegration from 'images/accounts_screenshot-crop_pager-duty-add-new-relic-integration.webp'

import accountsPagerDutyIntegrationOpened from 'images/accounts_screenshot-crop_pager-duty-integration-opened.webp'

import accountsPagerDutyServiceDestination from 'images/accounts_screenshot-crop_pager-duty-service-destination.webp'

import accountsMigrateSlackNewWorkflow from 'images/accounts_screenshot-crop_slack-new-workflow.webp'

import accountsMigrateSlackRemoveLegacy from 'images/accounts_screenshot-crop_slack-remove-legacy.webp'

La alerta y la inteligencia aplicada notificación integración le permiten conectar servicios y plataformas específicas a la plataforma New Relic. Puede utilizar estas conexiones para enviar notificaciones desde New Relic. A través de estas notificaciones obtienes información sobre problemas que necesitan una revisión o que te ayudan a tomar una decisión sobre un problema detectado.

## Detalles de integración [#detail]

Lea más sobre cada una de nuestras notificaciones específicas de integración.

<CollapserGroup>
  <Collapser
    className="freq-link"
    id="jira"
    title="Atlassian Jira"
  >
    Integre New Relic con Atlassian Jira (Cloud) y cree, actualice y cierre problemas de Jira automáticamente.

    <Video
      type="wistia"
      id="vp5rigddko"
    />

    ### Permisos [#jira-permissions]

    <Callout variant="important">
      Esta integración no es compatible con JIRA local ni con la instalación del centro de datos.
    </Callout>

    Los permisos requeridos de Jira `API-Token` son `BROWSE_PROJECTS`, `ASSIGN_ISSUES`, `CLOSE_ISSUES`, `CREATE_ISSUES`, `EDIT_ISSUES`, `RESOLVE_ISSUES`, `TRANSITION_ISSUES`, `USER_PICKER` y `ADD_COMMENTS`.

    Para habilitar la sincronización bidireccional, el Jira `API-Key` proporcionado debe tener una función `Admin` .

    ### Configurar un destino de Jira [#set-up-jira]

    Cree problemas de Jira, luego habilite Jira y New Relic para compartir actualizaciones y mantenerse sincronizados.

    Para crear un destino de Jira, siga estos pasos:

    1. Vaya a <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI**</DoNotTranslate>, haga clic en <DoNotTranslate>**Destinations**</DoNotTranslate> y luego seleccione <DoNotTranslate>**Jira**</DoNotTranslate>.

    2. Ingrese la siguiente informacion:

       * <DoNotTranslate>**Name:**</DoNotTranslate>

         Nombre personalizado para identificar el destino.

       * <DoNotTranslate>**URL:**</DoNotTranslate>

         La URL del destino.

       * <DoNotTranslate>**Username:**</DoNotTranslate>

         La dirección de correo electrónico del usuario.

       * <DoNotTranslate>**API token:**</DoNotTranslate>

         generado desde tu cuenta de Atlassian.

    Antes de guardar el destino, te recomendamos hacer clic en el botón <DoNotTranslate>**Test connection**</DoNotTranslate> para comprobar tu conexión.

    <img
      width="80%;"
      title="Jira destination configuration."
      alt="A screenshot of a Jira destination configuration."
      src={accountsJiraDestination}
    />

    ### Sincronización bidireccional [#jira-two-way]

    La sincronización bidireccional es aplicable para flujo de trabajo. Para habilitarlo, active la opción de integración bidireccional.

    Cuando está activado, se crea un [Jira Webhook](https://developer.atlassian.com/server/jira/platform/webhooks/) en su cuenta de Jira. El webhook contiene detalles de acceso a New Relic (URL y clave de API).

    ### Sincronización con New Relic flujo de trabajo [#two-way-sync-workflows]

    * El cierre de un problema de New Relic se activa cuando el estado del problema de Jira cambia a `done`.
    * El reconocimiento del problema de New Relic se activa cuando el estado del problema de Jira cambia a `in-progress`.

    ### Configurar la plantilla de mensajes en Workflows [#configure-jira-message-template]

    Para configurar una plantilla para un problema de Jira, siga estos pasos:

    1. Vaya a

       <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI > Workflows**</DoNotTranslate>

       y haga clic en un flujo de trabajo existente o haga clic en el botón

       <DoNotTranslate>**+ Add a new workflow**</DoNotTranslate>

       .

    2. Elija un destino existente o cree uno nuevo.

    3. Una vez que se haya conectado al destino, elija un proyecto y luego seleccione el tipo de problema de Jira que desea utilizar.

    4. Después de seleccionar el tipo de problema, los campos del proyecto configurado se asignan automáticamente a su instancia de Jira.

    Para ayudarlo a comenzar, completamos automáticamente los campos y valores obligatorios y recomendados. Asegúrese de haber incluido un valor en todos los campos obligatorios antes de continuar.

    ### Enviar una notificación de prueba [#send-jira-test]

    Haga clic en una notificación de prueba con valores de campo predeterminados para ver el problema de Jira. Si tiene éxito, tendrá un enlace para ver el incidente en Jira.

    <img
      width="80%;"
      title="The Jira-specific custom variables menu."
      alt="A screenshot of the Jira-specific custom variables menu."
      src={accountsJiraTemplate}
    />

    <figcaption>
      Plantilla de mensaje de notificación de Jira.
    </figcaption>
  </Collapser>

  <Collapser
    className="freq-link"
    id="eventBridge"
    title="AWS EventBridge"
  >
    Utilice New Relic y [AWS EventBridge](https://aws.amazon.com/eventbridge/) para personalizar y entregar notificaciones a objetivos como AWS Lambda, colas del servicio de notificaciones simples (SNS) de Amazon, registros de CloudWatch y más.

    <Video
      type="wistia"
      id="24mucmd1mj"
    />

    ### Configurar un destino de EventBridge [#set-up-eventbridge]

    <Callout variant="important">
      New Relic figura en AWS como [fuente de evento de socio SaaS](https://aws.amazon.com/eventbridge/integrations/).
    </Callout>

    Para crear un destino de AWS EventBridge, siga estos pasos:

    1. Vaya a <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI**</DoNotTranslate>, haga clic en <DoNotTranslate>**Destinations**</DoNotTranslate> y luego seleccione <DoNotTranslate>**AWS EventBridge**</DoNotTranslate>.

    2. Ingrese la siguiente informacion:

       * <DoNotTranslate>**Name:**</DoNotTranslate> Nombre personalizado para identificar el destino.
       * <DoNotTranslate>**AWS region:**</DoNotTranslate> Este es su extremo regional de AWS. Seleccione la región donde se aloja la fuente de su evento.
       * <DoNotTranslate>**AWS account ID:**</DoNotTranslate> Su ID de cuenta de AWS. Este es un número de 12 dígitos.

       <img
         width="80%;"
         title="AWS EventBridge destination"
         alt="AWS EventBridge destination"
         src={accountsAWSEventBridgeDestination}
       />

    ### Elija la fuente de su evento [#eventbridge-source]

    Una vez que haya configurado su destino de EventBridge con su ID de cuenta de AWS, cuando cree un nuevo origen de evento, estará disponible en EventBridge.

    1. Seleccione o cree un nombre de destino.

    2. Seleccione o cree una fuente de evento.

       Cuando crea una nueva fuente de eventos, se crea en su cuenta de AWS EventBridge como fuente de eventos de socio de integración.

    ### Asocie el origen del evento en su cuenta de AWS y cree una regla [#eventbridge-rule]

    Para asociar la fuente del evento con un bus de eventos:

    1. En la consola de AWS EventBridge, elija <DoNotTranslate>**Partner event sources**</DoNotTranslate> en el panel de navegación.

    2. Seleccione el botón junto a la fuente del evento del socio y luego elija <DoNotTranslate>**Associate with event bus**</DoNotTranslate>.

       El estado del origen del evento cambia de <DoNotTranslate>**Pending**</DoNotTranslate> a <DoNotTranslate>**Active**</DoNotTranslate> y el nombre del bus de eventos se actualiza para coincidir con el nombre del origen del evento. Ahora puede comenzar a crear reglas que coincidan con el evento de New Relic.

    3. Crea una regla para el bus de eventos.

       Para reaccionar a la notificación enviada desde New Relic, necesita crear reglas con un patrón de evento que filtre el evento New-Relic.

       <img
         width="80%;"
         title="Event pattern with the newrelic partner prefix."
         alt="A screenshot of rule Event pattern."
         src={accountsBridgeEventPattern}
       />

       Utilice este documento de AWS sobre cómo [crear una regla de origen de eventos](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-saas.html#eb-create-rule-partner-events) para obtener instrucciones más detalladas.

    ### Configurar la plantilla de evento de mensaje en flujo de trabajo [#message-eventbridge]

    Navegue hasta <DoNotTranslate>**Workflows**</DoNotTranslate>, haga clic en un flujo de trabajo existente o en el botón <DoNotTranslate>**Add a new Workflow**</DoNotTranslate> y elija el destino de EventBridge. Cuando envía notificaciones desde New Relic a EventBridge, puede usar una plantilla de mensaje para personalizar esa notificación.

    Puede utilizar la plantilla predeterminada o personalizar la suya propia. Elija <DoNotTranslate>**Variables**</DoNotTranslate> en el [menú de variables](/docs/alerts-applied-intelligence/notifications/message-templates/#variables-menu) y aplique [la sintaxis de los manillares](/docs/alerts-applied-intelligence/notifications/message-templates/#handlebars-syntax) para enriquecer su evento.

    La API de EventBridge requiere JSON y la vista previa de la plantilla muestra el JSON renderizado. Una vez que la plantilla del evento se ajuste a un JSON válido, puede enviar una notificación de prueba a AWS EventBridge. Consulte nuestros [ejemplos de uso de JSON](/docs/alerts-applied-intelligence/notifications/message-templates/#usage-examples) para obtener más información.
  </Collapser>

  <Collapser
    className="freq-link"
    id="email"
    title="Correo electrónico"
  >
    El destino del correo electrónico se crea automáticamente cuando elige <DoNotTranslate>**Email**</DoNotTranslate> como canal de notificación para un [flujo de trabajo](/docs/alerts-applied-intelligence/applied-intelligence/incident-workflows/incident-workflows/), por lo que no necesita configurarlo desde el menú <DoNotTranslate>**Destinations**</DoNotTranslate> . Cada destino de correo electrónico es exclusivo del flujo de trabajo asociado a él y esto significa que puede aparecer como un duplicado en el feed de destinos.

    Para enviar una notificación por correo electrónico:

    1. Vaya a <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI**</DoNotTranslate>.

    2. Seleccione <DoNotTranslate>**Workflows**</DoNotTranslate> en el panel de navegación izquierdo.

    3. Haga clic en <DoNotTranslate>**+ Add a workflow**</DoNotTranslate>.

       <img
         width="80%;"
         title="Configure your workflow"
         alt="Configure your workflow"
         src={accountsEmailConfWorkflow}
       />

    4. Nombra tu flujo de trabajo. Este campo es obligatorio y debe ser único.

    5. Filtra los datos que necesitas. Puedes elegir entre las opciones <DoNotTranslate>**Basic**</DoNotTranslate> y <DoNotTranslate>**Advanced**</DoNotTranslate> para agregar los números que deseas enviar.

    6. Haga clic en <DoNotTranslate>**Additional settings**</DoNotTranslate> para enriquecer sus datos. Habilite <DoNotTranslate>**Enrich your data**</DoNotTranslate> para crear una consulta NRQL.

    7. Haga clic en <DoNotTranslate>**Save and exit**</DoNotTranslate>.

    8. Seleccione <DoNotTranslate>**Email**</DoNotTranslate> como método de notificación.

       <img
         width="60%;"
         title="Email settings"
         alt="A screenshot of the email settings."
         src={accountsEmailSettings}
       />

    9. Agregue los correos electrónicos a los que desea enviar la notificación. Puede agregar uno o más destinatarios.

       * Puede encontrar usuarios con cuentas New Relic buscando su dirección de correo electrónico.

       * Para agregar un usuario sin una cuenta de New Relic o una lista de distribución de correo electrónico, ingrese su dirección de correo electrónico completa.

       * Cada lista de direcciones de correo electrónico agregadas a la configuración de correo electrónico creará su propio destino único, que aparecerá en el feed de destino.

       * Cuando crea un destino con una dirección de correo electrónico ya asociada a un destino existente, aparecerá un símbolo que ofrece la opción de fusionar los dos. Al seleccionar

         <DoNotTranslate>**Merge**</DoNotTranslate>

         se combinarán los destinos, lo que garantizará que las notificaciones se envíen de manera eficiente al destinatario previsto.

       * Puede seguir la notificación de correo electrónico por destino en el [registro de notificaciones](/docs/alerts-applied-intelligence/notifications/destinations/#notifications-log).

    10. Personaliza el mensaje de correo electrónico.

        * Para el asunto del correo electrónico, puede utilizar la carga útil predeterminada o personalizarla para que contenga los datos requeridos.

        * El cuerpo del correo electrónico incluye datos predeterminados que no se pueden cambiar, pero también puedes agregar tus propios detalles adicionales personalizados. Estas personalizaciones aparecen en la sección

          <DoNotTranslate>**Custom Details**</DoNotTranslate>

          .

        * Para enriquecer el correo electrónico, seleccione variables del [menú de variables](/docs/alerts-applied-intelligence/notifications/message-templates/#variables-menu) y aplique [la sintaxis de los manillares](/docs/alerts-applied-intelligence/notifications/message-templates/#handlebars-syntax).

    11. Haga clic en <DoNotTranslate>**Send test notification**</DoNotTranslate> para asegurarse de que la notificación por correo electrónico llegue a la bandeja de entrada.

    12. Haga clic en <DoNotTranslate>**Save**</DoNotTranslate>.

    13. Haga clic en <DoNotTranslate>**Activate workflow**</DoNotTranslate>.

    Desde la página principal de flujo de trabajo, puede habilitar, editar, eliminar o copiar la identificación del flujo de trabajo al portapapeles del flujo de trabajo creado.
  </Collapser>

  <Collapser
    className="freq-link"
    id="freshservice"
    title="FreshService"
  >
    Integre New Relic con FreshService para crear y resolver automáticamente el ticket de FreshService.

    ### Configurar el destino FreshService usando Webhook

    1. Vaya a [one.newrelic.com](https://one.newrelic.com/) >

       <DoNotTranslate>**Alerts & AI**</DoNotTranslate>

       , haga clic en

       <DoNotTranslate>**Destinations**</DoNotTranslate>

       y luego seleccione

       <DoNotTranslate>**Webhook**</DoNotTranslate>

       .

    2. Ingrese la siguiente informacion:

       * Nombre del webhook: nombre de referencia para su webhook de FreshService.

       * URL extrema: [https://yourdomain.freshservice.com/api/v2/tickets](https://yourdomain.freshservice.com/api/v2/tickets) (reemplace su dominio con el nombre de su mesa de ayuda de FreshService)

       * Habilite Autorización y seleccione Autorización básica. Ingrese la siguiente información para Nombre de usuario y Contraseña:

         * <DoNotTranslate>**Username:**</DoNotTranslate>

           [FreshService clave de API](https://support.freshservice.com/en/support/solutions/articles/50000000306-where-do-i-find-my-api-key-)

         * <DoNotTranslate>**Password:**</DoNotTranslate>

           X (la contraseña es solo X mayúscula)

    3. Guardar destino.

    ### Cree un flujo de trabajo y personalice el atributo FreshService con variables de flujo de trabajo

    1. Vaya a [one.newrelic.com](https://one.newrelic.com/) >

       <DoNotTranslate>**Alerts & AI**</DoNotTranslate>

       \> haga clic en

       <DoNotTranslate>**Workflows**</DoNotTranslate>

       . Haga clic en

       <DoNotTranslate>**+ Add a new workflow**</DoNotTranslate>

       .

    2. Ingrese un nombre para el flujo de trabajo.

    3. En Filtrar datos, cree el criterio de filtro deseado para enviar una notificación a un destino.

    4. En Notificar, seleccione

       <DoNotTranslate>**Webhook**</DoNotTranslate>

       y personalice el mensaje de notificación con la siguiente información:

       * En el campo Destino, seleccione el destino FreshService creado en los pasos anteriores.

       * Personalice la carga útil para enviar [variables de flujo de trabajo](/docs/alerts-applied-intelligence/applied-intelligence/incident-workflows/custom-variables-incident-workflows/) al [parámetro FreshService](https://api.freshservice.com/#create_ticket) relevante. (Ver carga útil de muestra)

         * Consulte [Sintaxis de manillares](/docs/alerts-applied-intelligence/notifications/message-templates/#handlebars-syntax) para obtener información adicional sobre funciones auxiliares para variables de flujo de trabajo.
         * Consulte [Campos personalizados de FreshService](https://support.freshservice.com/en/support/solutions/articles/154126-customizing-ticket-fields) para agregar campos personalizados.
         * El tipo de variable de flujo de trabajo debe coincidir con el tipo de parámetro FreshService.

    5. Pruebe la notificación haciendo clic en "Enviar notificación de prueba". Navegue hasta tickets de FreshService para ver ticket recién creado.

    ### Carga de muestra

    ```handlebars
    {
      "subject": {{json annotations.title.[0]}},
      "description": "{{issuePageUrl}}",
      "priority": 1,
      "status": {{#eq state "ACTIVATED"}}2{{else}}5{{/eq}},
      "email": "supportemail@domain.com",
      "custom_fields": {
        "nr_account_id": {{nrAccountId}}
      }
    }
    ```
  </Collapser>

  <Collapser
    className="freq-link"
    id="mobile_push"
    title="New Relic Mobile push"
  >
    Envíe notificaciones automáticas a sus aplicaciones móviles New Relic para iOS o Android.

    <Video
      type="wistia"
      id="s29hxnyi4v"
    />

    ### Configurar un destino de inserción móvil [#set-mobile_push-destination]

    Para crear un destino push móvil, necesita lo siguiente:

    * <DoNotTranslate>**Push destination name:**</DoNotTranslate> Un nombre de destino único.

    * <DoNotTranslate>**User id:**</DoNotTranslate> Esto se completará automáticamente según el usuario que haya iniciado sesión actualmente.

      <Callout variant="important">
        Actualmente, solo puede crear destinos push móviles para el usuario que inicia sesión actualmente con [capacidades de modificación](/docs/alerts-applied-intelligence/notifications/destinations#requirements). También puede crear solo un único destino de inserción para su usuario. Si intenta crear más de uno, se mostrará un error. Antes de guardar el destino, te recomendamos probar la conexión utilizando el botón <DoNotTranslate>**Test connection**</DoNotTranslate> .
      </Callout>

    ### Configurar cuándo recibir notificación push en flujo de trabajo [#mobile]

    Vaya a <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI > Workflows**</DoNotTranslate> y haga clic en un flujo de trabajo existente, o en el botón <DoNotTranslate>**+Add a new workflow**</DoNotTranslate> y elija el notificador móvil. Para configurar un push móvil, haga clic en el notificador móvil y seleccione el destino deseado.
  </Collapser>

  <Collapser
    className="freq-link"
    id="opsgeniewebhook_templates"
    title="Opsgenie"
  >
    ### Plantilla de webhook para Atlassian Opsgenie

    Enviar notificación de flujo de trabajo a Opsgenie usando una plantilla de webhook: [Plantilla de webhook de Opsgenie para flujo de trabajo](https://support.atlassian.com/opsgenie/docs/integrate-opsgenie-with-new-relic-alerts-new/)
  </Collapser>

  <Collapser
    className="freq-link"
    id="pagerduty"
    title="PagerDuty"
  >
    Integre New Relic con PagerDuty para crear, actualizar, reconocer y resolver automáticamente incidentes de PagerDuty.

    <Video
      type="wistia"
      id="lvzd77zj17"
    />

    Ofrecemos dos formas de integración con PagerDuty:

    * <DoNotTranslate>**[Account level integration using REST API Keys (recommended)](#pagerduty-ali)**</DoNotTranslate>

      : Esta integración totalmente automática admite la sincronización bidireccional y la capacidad de definir múltiples servicios PagerDuty en un único destino de New Relic.

    * <DoNotTranslate>**[Service integration using Events API keys](#pagerduty-sli)**</DoNotTranslate>

      : Esta integración de servicio único utiliza la clave de integración de nivel de servicio y requiere un destino New Relic separado para cada servicio PagerDuty único.

    ### Integración a nivel de cuenta [#pagerduty-ali]

    Esta integración totalmente automática admite la sincronización bidireccional y la capacidad de definir múltiples servicios PagerDuty en un único destino de New Relic.

    ### Permisos [#pd-permissions]

    Esta integración requiere permiso para realizar las siguientes acciones:

    * [Listar servicios](https://developer.pagerduty.com/api-reference/b3A6Mjc0ODE5Ng-list-services)

    * [Crear una integración](https://developer.pagerduty.com/api-reference/b3A6Mjc0ODIwMw-create-a-new-integration)

    * [Crear una suscripción de webhook](https://developer.pagerduty.com/api-reference/b3A6MjkyNDc4NA-create-a-webhook-subscription)

    * [Crear una nota](https://developer.pagerduty.com/api-reference/b3A6Mjc0ODE1MA-create-a-note-on-an-incident)

    * [Listar equipos](https://developer.pagerduty.com/api-reference/b3A6Mjc0ODIyMw-list-teams)

    * [Listar usuario](https://developer.pagerduty.com/api-reference/b3A6Mjc0ODIzMw-list-users)

      Esta integración requiere una clave REST de API. PagerDuty tiene dos tipos de clave de API REST:

    * [Clave de acceso general](https://support.pagerduty.com/docs/generating-api-keys#section-generating-a-general-access-rest-api-key): incluye todos los permisos enumerados anteriormente y los administradores de PagerDuty y los propietarios de cuentas tienen acceso. [Consulte las instrucciones de PagerDuty](https://support.pagerduty.com/docs/api-access-keys#generate-a-general-access-rest-api-key).

    * [Token de usuario personal](https://support.pagerduty.com/docs/generating-api-keys#section-generating-a-personal-rest-api-key): si su cuenta tiene permisos avanzados, puede crear una clave de API REST personal única. Las solicitudes realizadas utilizando la clave de API REST personal están restringidas a los permisos del usuario. Si elige proporcionar un token de usuario clave de API, asegúrese de que tenga los permisos requeridos descritos anteriormente. [Consulte las instrucciones de PagerDuty](https://support.pagerduty.com/docs/api-access-keys#generate-a-user-token-rest-api-key).

      <Callout variant="tip">
        Para el token de usuario personal, le recomendamos utilizar un usuario de integración dedicado que no pertenezca a un usuario real.
      </Callout>

    ### Configurar un destino [#set-up-pagerduty]

    Para crear un destino de PagerDuty:

    1. Vaya a <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI**</DoNotTranslate>, haga clic en <DoNotTranslate>**Destinations**</DoNotTranslate> y luego seleccione <DoNotTranslate>**PagerDuty**</DoNotTranslate>.

    2. Ingrese la siguiente informacion:

       * <DoNotTranslate>**Name**</DoNotTranslate>

         : Nombre personalizado para identificar el destino.

       * <DoNotTranslate>**API Key**</DoNotTranslate>

         : Para esta integración, se le pedirá que proporcione una clave de API REST. Hay dos tipos de clave API REST en PagerDuty, [acceso general](https://support.pagerduty.com/docs/generating-api-keys#section-generating-a-general-access-rest-api-key) y [token de usuario](https://support.pagerduty.com/docs/generating-api-keys#section-generating-a-personal-rest-api-key).

       Antes de guardar el destino, recomendamos probar la conexión haciendo clic en el botón <DoNotTranslate>**Test connection**</DoNotTranslate> .

       <img
         width="80%;"
         title="PagerDuty account-level destination configuration"
         alt="A screenshot of a PagerDuty account-level destination configuration"
         src={accountsPagerDutyAccountDestinationNewUi}
       />

    ### Sincronización bidireccional [#two-way-pagerduty]

    Para habilitar la sincronización bidireccional, active la opción <DoNotTranslate>**two-way integration**</DoNotTranslate> . Cuando está activado, se crea una suscripción a PagerDuty en una etapa posterior para el servicio PagerDuty seleccionado (consulte [personalizar una plantilla de mensaje](#message-pagerduty)). El webhook contiene detalles de acceso a New Relic (URL y clave API de New Relic). De forma predeterminada, cualquier cambio de estado en el incidente de PagerDuty creado por New Relic se sincronizará nuevamente con New Relic.

    <Callout variant="important">
      Si usted es un cliente de PagerDuty evento Intelligence o Digital Operations que utiliza la agrupación de alerta inteligente en un servicio determinado, pueden ocurrir posibles discrepancias en el incidente de PagerDuty enviado de vuelta a New Relic.
    </Callout>

    ### Sincronización con New Relic flujo de trabajo [#two-way-sync-workflows]

    * El cierre de un problema de New Relic se activa cuando se resuelve el incidente de PagerDuty.

    * El reconocimiento de un problema de New Relic se activa cuando se reconoce el incidente de PagerDuty.

      ### Configurar la plantilla de mensajes en flujo de trabajo [#message-pagerduty]

      Para configurar la plantilla de mensaje:

      1. Vaya a

         <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI > Workflows**</DoNotTranslate>

         y haga clic en un flujo de trabajo existente, o en el botón

         <DoNotTranslate>**+ Add a new workflow**</DoNotTranslate>

         y elija el notificador de PagerDuty.

      2. Elija un destino o cree uno nuevo.

      3. Seleccione un servicio PagerDuty.

      4. Seleccione un usuario. New Relic publicará notas en nombre del usuario seleccionado.

      5. Envíe los detalles a la sección Detalles personalizados en PagerDuty. Puede usar la carga útil predeterminada o personalizarla usando texto libre o variables dinámicas de la carga útil del problema. Elija variables del [menú de variables](/docs/alerts-applied-intelligence/notifications/message-templates/#variables-menu) y aplique [la sintaxis del manillar](/docs/alerts-applied-intelligence/notifications/message-templates/#handlebars-syntax) para enriquecer su carga útil. La sección

         <DoNotTranslate>**preview**</DoNotTranslate>

         en el lado derecho muestra una carga útil esperada después de renderizar la plantilla. Si la carga útil no forma un JSON válido, se mostrará un error y no será posible guardar la plantilla.

    Los detalles personalizados en PagerDuty alerta se completan automáticamente.

    ### Enviar una notificación de prueba [#test-notification-pagerduty]

    Puede ver cómo aparecerá el incidente de PagerDuty haciendo clic en una notificación de prueba con valores de campo predeterminados. Si tiene éxito, se creará un incidente y aparecerá un enlace.

    <img
      width="80%;"
      title="PagerDuty service-level workflow configuration."
      alt="A screenshot of a PagerDuty service-level workflow configuration."
      src={accountsPagerDutyAddNewWorkflow}
    />

    ### Integración de servicios [#pagerduty-sli]

    Esta integración requiere configurar una integración de New Relic PagerDuty en el servicio en el que desea que New Relic cree un incidente. Para crear una integración de New Relic en el servicio PagerDuty:

    1. Vaya a <DoNotTranslate>**Services > Service Directory**</DoNotTranslate> y seleccione el servicio donde desea agregar la integración.

    2. Seleccione la pestaña <DoNotTranslate>**Integrations**</DoNotTranslate> y haga clic en <DoNotTranslate>**Add an integration**</DoNotTranslate>.

    3. Busque y marque la integración de New Relic en la lista y haga clic en <DoNotTranslate>**Add**</DoNotTranslate>.

       <img
         title="PagerDuty New Relic integration."
         width="70%;"
         alt="New Relic integration."
         src={accountsPagerDutyAddNewRelicIntegration}
       />

    4. Haga clic a la derecha para ver y copiar su <DoNotTranslate>**Integration Key**</DoNotTranslate>.

       <img
         title="PagerDuty New Relic integration key."
         alt="New Relic integration key."
         src={accountsPagerDutyIntegrationOpened}
       />

    ### Configurar la plantilla de mensaje [#message-pagerduty]

    Para configurar la plantilla de mensaje:

    1. Vaya a

       <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI > Workflows**</DoNotTranslate>

       y haga clic en un flujo de trabajo existente, o haga clic en el botón

       <DoNotTranslate>**+ Add a new workflow**</DoNotTranslate>

       y elija el notificador de PagerDuty.

    2. Elija un destino o cree uno nuevo.

    3. (Opcional) Edite el resumen de incidentes predeterminado.

    Tenga en cuenta que los detalles personalizados en PagerDuty alerta se completan automáticamente.

    ### Enviar una notificación de prueba [#test-notification-pagerduty]

    Puede ver cómo aparecerá el incidente de PagerDuty haciendo clic en una notificación de prueba con valores de campo predeterminados.
  </Collapser>

  <Collapser
    className="freq-link"
    id="servicenow"
    title="ServiceNow (Incident-Management)"
  >
    <Callout>
      No le recomendamos que instale esta integración. En su lugar, le recomendamos utilizar la nueva integración certificada con New Relic flujo de trabajo. Vea cómo instalarlo y utilizarlo en la [siguiente sección](#servicenow-certified).
    </Callout>

    Integre New Relic con ServiceNow ITSM y cree, actualice y resuelva automáticamente incidentes de ServiceNow.

    <Video
      type="wistia"
      id="6or6n8am4k"
    />

    ### Roles [#roles-servicenow]

    Como parte de la integración, recuperamos campos de su tabla de incidentes de ServiceNow y otros valores opcionales. Requerimos los siguientes permisos:

    * Permisos de lectura completos para las tablas `sys_dictionary`, `sys_choice`, `sys_user` y `task`.

    * Permiso de lectura/escritura para `incident`.

    * Para recuperar el usuario de la columna `caller` , necesitamos permisos de lectura para la tabla `sys_user` .

      Las funciones no granulares listas para usar `personalize_choices`, `personalize_dictionary`, `rest_service` o `snc_platform_rest_api_access` y `itil` tienen los permisos anteriores. Se requieren permisos de lectura/escritura en la tabla `api_key_credentials` para habilitar la integración bidireccional. Los roles `credentials_admin` y `discovery_admin` los proporcionan.

    ### Configurar un destino [#set-up-service-destination]

    Para crear un destino de ServiceNow:

    1. Vaya a <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI**</DoNotTranslate>, haga clic en <DoNotTranslate>**Destinations**</DoNotTranslate> y luego seleccione <DoNotTranslate>**ServiceNow**</DoNotTranslate>.

    2. Ingrese la siguiente informacion:

       * <DoNotTranslate>**Destination Name:**</DoNotTranslate>

         Nombre personalizado para identificar el destino.

       * <DoNotTranslate>**Domain:**</DoNotTranslate>

         La URL del destino.

       * <DoNotTranslate>**Username:**</DoNotTranslate>

         El nombre del usuario.

       * <DoNotTranslate>**Password:**</DoNotTranslate>

         La contraseña del usuario.

       Antes de guardar el destino, recomendamos probar la conexión haciendo clic en el botón <DoNotTranslate>**Test connection**</DoNotTranslate> .

       ### Sincronización bidireccional [#two-way-snow]

       Para configurar el <DoNotTranslate>**two-way integration**</DoNotTranslate>:

       1. Active la palanca `two-way integration` .
       2. Abra y descargue este [archivo XML](https://storage.googleapis.com/newrelic-notifications/snow-two-way-sync/Newrelic-Snow-Sync-Configurations.xml), que incluye la regla comercial que activa el evento de regreso a New Relic.
       3. En el menú de la barra lateral de ServiceNow, vaya a <DoNotTranslate>**System Definition > Business Rules**</DoNotTranslate>.
       4. Haga clic en el icono de menú en uno de los encabezados de columna, seleccione <DoNotTranslate>**Import XML**</DoNotTranslate> y cargue el archivo XML que descargó.

       Una vez que guarda el destino, una clave de API de New Relic se guarda en `api_key_credentials`. La clave se envía en un encabezado como parte de la llamada de devolución de llamada REST a New Relic.

       ### Sincronización con flujo de trabajo [#two-way-sync-snow-workflows]

       * Cuando el estado del incidente de ServiceNow cambia a resuelto, se activa el cierre del problema de New Relic.
       * Cuando el estado del incidente de ServiceNow cambia de abierto, se activa el reconocimiento del problema de New Relic.

    ### Configurar la plantilla de mensajes en flujo de trabajo [#configure-servicenow-message-template]

    1. Vaya a <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI > Workflows**</DoNotTranslate> y haga clic en un flujo de trabajo existente o en el botón <DoNotTranslate>**+ Add a new workflow**</DoNotTranslate>

    2. Elija un destino de ServiceNow.

    3. Tras una conexión exitosa, las columnas de la tabla de incidentes de ServiceNow se recuperan de su cuenta y se asignan automáticamente a su instancia de ServiceNow.

       Para ayudarle a comenzar, los campos obligatorios y recomendados se rellenan previamente con valores predeterminados. Cuando agrega un valor personalizado para un campo admitido, puede agregar un valor dinámico desde la carga útil del problema o escribir su propio valor. Puede eliminar cualquier campo no obligatorio y agregar el suyo propio.

    ### Enviar una notificación de prueba [#send-servicenow-test]

    Haga clic en <DoNotTranslate>**Send test notification**</DoNotTranslate> para ver el incidente de ServiceNow con los valores de campo predeterminados. Si tiene éxito, verá un enlace con el incidente creado.

    <img
      width="80%;"
      title="ServiceNow incident template."
      alt="A screenshot of some recommended ServiceNow-incident fields and values."
      src={accountsServiceNowMessageTemplate}
    />

    <figcaption>
      Seleccione, edite o elimine campos para la plantilla de incidentes de ServiceNow.
    </figcaption>
  </Collapser>

  <Collapser
    className="freq-link"
    id="servicenow-certified"
    title="ServiceNow (Certified application)"
  >
    La integración certificada de ServiceNow con New Relic flujo de trabajo está disponible en la tienda ServiceNow. Cuando utilice ServiceNow, recuerde lo siguiente:

    * La instancia de ServiceNow almacena la notificación del problema de New Relic como `New Relic Issues`.

    * Puede configurar políticas de enrutamiento en ServiceNow para generar tareas u otros registros que representen o correspondan a esos problemas cuando coincidan con una política determinada.

    * El evento de reconocimiento o cierre en ServiceNow puede reconocer o cerrar el problema en New Relic.

    * Puede convertir automáticamente los problemas de New Relic en tareas procesables en ServiceNow.

    * ServiceNow puede recibir actualizaciones de New Relic sobre problemas.

    * El motor de políticas permite la calificación de New Relic <InlinePopover type="alerts"/>a medida que ingresan.

    * Relacione la entidad con los elementos de configuración y relacionelos con la tabla de tareas disponible.

    * Desde ServiceNow podrás enviar y ver como imágenes los enriquecimientos de New Relic.

      Puede integrar ServiceNow con New Relic utilizando el destino de la aplicación ServiceNow o el destino del webhook.

    <table>
      <thead>
        <tr>
          <th>
            Tipo de destino de New Relic
          </th>

          <th>
            ServiceNow
          </th>

          <th>
            Webhook
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Payload
          </td>

          <td>
            Controlado por New Relic
          </td>

          <td>
            Carga JSON gestionada por ti
          </td>
        </tr>

        <tr>
          <td>
            Posibilidad de actualizar New Relic desde ServiceNow
          </td>

          <td>
            Incluido. Una conexión New Relic se crea automáticamente cuando se crea el destino.
          </td>

          <td>
            Incluido. Debes crear la conexión New Relic manualmente.
          </td>
        </tr>

        <tr>
          <td>
            Políticas de enrutamiento
          </td>

          <td>
            Incluido
          </td>

          <td>
            Incluido
          </td>
        </tr>

        <tr>
          <td>
            Posibilidad de actualizar los campos de destino directamente
          </td>

          <td>
            Sí, usando la etiqueta en entidad junto con el diseñador predeterminado de New Relic Flow.
          </td>

          <td>
            Sí, usando la etiqueta en entidad y especificando en la carga útil del webhook junto con el diseñador predeterminado de New Relic Flow.
          </td>
        </tr>
      </tbody>
    </table>

    ### Configurar el destino de la aplicación ServiceNow [#servicenow-destination]

    <Callout variant="important">
      Si no tiene acceso para crear un nuevo destino, envíe un correo electrónico a [NotificationWorkflows@newrelic.com](mailto:notificationWorkflows@newrelic.com) con su nombre y número de cuenta para obtener ayuda.
    </Callout>

    Para crear un destino de ServiceNow, siga estos pasos:

    1. [Descargue](https://store.servicenow.com/sn_appstore_store.do#!/store/application/d117597d1b9b9d9078faddf7b04bcba7/1.0.0?referer=%2Fstore%2Fsearch%3Flistingtype%3Dallintegrations%25253Bancillary_app%25253Bcertified_apps%25253Bcontent%25253Bindustry_solution%25253Boem%25253Butility%25253Btemplate%26q%3Dnew%2520relic&sl=sh) e instale la aplicación New Relic en la tienda ServiceNow.

    2. Cree un usuario dentro de ServiceNow. Asegúrese de habilitar la opción <DoNotTranslate>**Web service access only**</DoNotTranslate> y otorgar el rol `x_newre_core.inbound_api` al usuario creado. Copie y guarde la contraseña generada.

    3. Vaya a <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI**</DoNotTranslate>, haga clic en <DoNotTranslate>**Destinations**</DoNotTranslate> y luego seleccione <DoNotTranslate>**ServiceNow**</DoNotTranslate>.

       <img
         width="80%;"
         title="Create a ServiceNow destination"
         alt="Create a ServiceNow destination"
         src={accountsServiceNowCreateDestination}
       />

    4. Haga clic en <DoNotTranslate>**Next**</DoNotTranslate>.

    5. Agregue el dominio, nombre de usuario y contraseña. El dominio debe incluir `*.service-now.com`. Agregue la contraseña que copió en el paso 2.

    6. Haga clic en <DoNotTranslate>**Next**</DoNotTranslate>.

    7. Nombra el destino.

    8. Haga clic en <DoNotTranslate>**Save destination**</DoNotTranslate>.

       ### Configurar el destino del webhook [#servicenow-webhook-destination]

       Para crear un destino de webhook, siga estos pasos:

    9. [Descargue](https://store.servicenow.com/sn_appstore_store.do#!/store/application/d117597d1b9b9d9078faddf7b04bcba7/1.1.0) e instale la aplicación New Relic en la tienda ServiceNow.

    10. Cree un usuario dentro de ServiceNow. Asegúrese de habilitar la opción <DoNotTranslate>**Web service access only**</DoNotTranslate> y otorgar el rol `x_newre_core.inbound_api` al usuario creado. Copie y guarde la contraseña generada.

    11. Vaya a <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI**</DoNotTranslate>, haga clic en <DoNotTranslate>**Destinations**</DoNotTranslate> y luego seleccione <DoNotTranslate>**Webhook**</DoNotTranslate>.

    12. Complete los siguientes campos:

        * <DoNotTranslate>**Webhook name**</DoNotTranslate>: un nombre para identificar el webhook.

        * <DoNotTranslate>**Endpoint URL**</DoNotTranslate>: La URL extrema del destino. Debe incluir `*.service-now.com/api/x_newre_core/new_relic/issue/notification`, por ejemplo, `https://my_instance.service-now.com/api/x_newre_core/new_relic/issue/notification`.

        * <DoNotTranslate>**Use authorization**</DoNotTranslate>: Habilite la opción <DoNotTranslate>**Basic authorization**</DoNotTranslate> e ingrese el nombre de usuario y la contraseña copiada para autenticar ServiceNow.

          <img
            width="80%;"
            title="Create a webhook destination"
            alt="Create a webhook destination"
            src={accountsWebhookDestination}
          />

    13. Haga clic en <DoNotTranslate>**Save destination**</DoNotTranslate>.

    Puede ver el breve vídeo a continuación que muestra cómo crear un destino de Webhook:

    <Video
      type="wistia"
      id="0er0remkv0"
    />

    Para agregar el `serviceNowFields` en una carga útil de Webhook:

    1. Vaya a <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI**</DoNotTranslate>, haga clic en <DoNotTranslate>**Workflows**</DoNotTranslate>.

    2. Haga clic en el <Icon name="fe-more-horizontal"/> en un webhook existente y seleccione <DoNotTranslate>**Edit**</DoNotTranslate> o haga clic en el botón <DoNotTranslate>**+ Add a new workflow**</DoNotTranslate> .

    3. Haga clic en el canal <DoNotTranslate>**Webhook**</DoNotTranslate> .

    4. Modifique la carga útil predeterminada agregando el atributo `serviceNowFields` que necesite.

       <img
         width="80%;"
         title="Adding the `serviceNowFields` attributes"
         alt="Adding the `serviceNowFields` attributes"
         src={accountsWebhookServiceNowFields}
       />

    5. Haga clic en <DoNotTranslate>**Send test notification**</DoNotTranslate> para comprobar sus cambios.

    6. Haga clic en <DoNotTranslate>**Save message**</DoNotTranslate>.

    7. Haga clic en <DoNotTranslate>**Activate workflow**</DoNotTranslate>.
  </Collapser>

  <Collapser
    className="freq-link"
    id="slack"
    title="Slack"
  >
    Envía mensajes de notificación a tus canales de Slack. Vea cómo [migrar desde su antiguo destino de webhook de Slack a la nueva aplicación de Slack](#migrate-slack) para obtener más información.

    <Video
      type="wistia"
      id="zs92j5i31v"
    />

    ### Requisitos previos [#slack-prereqs]

    Tu espacio de trabajo de Slack debe tener instalada la [aplicación New Relic](https://newrelic.slack.com/apps/AP92KQJS3-new-relic?tab=more_info)(o la [aplicación UE](https://slack.com/apps/AS5D75HQQ-new-relic-eu?tab=more_info) para `one.eu.newrelic` clientes). Un administrador del espacio de trabajo debe aprobar la aplicación antes de que pueda instalarla individualmente. Si necesita ayuda, comuníquese con [support@newrelic.com](mailto:support@newrelic.com).

    ### Configurar un destino de Slack [#set-slack-destination]

    1. Vaya a <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI**</DoNotTranslate>, haga clic en <DoNotTranslate>**Destinations**</DoNotTranslate> y luego seleccione <DoNotTranslate>**Slack**</DoNotTranslate>.

    2. Haga clic en el botón <DoNotTranslate>**Authenticate in one click**</DoNotTranslate> para ir a la página de inicio de Slack y continuar con el proceso de autenticación OAuth2. Si no ha iniciado sesión en el espacio de trabajo requerido, se le redirigirá a Slack para iniciar sesión.

       <img
         width="60%;"
         title="Create a Slack destination with a click."
         alt="A screenshot of the one-click Slack authentication."
         src={accountsSlackDestinationAuthentication}
       />

    3. Agregue el nombre de su espacio de trabajo o seleccione el espacio de trabajo relevante y haga clic en <DoNotTranslate>**Continue**</DoNotTranslate>.

       <img
         width="50%;"
         title="add a Slack workspace."
         alt="add a workspace."
         src={accountsSlackSignIn}
       />

    4. Cuando inicie sesión en el espacio de trabajo seleccionado, permita que New Relic realice las acciones especificadas.

       <img
         width="40%;"
         title="select a workspace and configure permissions."
         alt="A screenshot permissions configurations."
         src={accountsSlackDestinationAllowAccess}
       />

    5. Haga clic en <DoNotTranslate>**Allow**</DoNotTranslate> y regrese a la página de destino.

       <img
         width="80%;"
         title="authentication completed successfully."
         alt="A screenshot completed authentication."
         src={accountsSlackAuthenticationCompleted}
       />

    ### Configurar la plantilla de mensajes de Slack en flujo de trabajo [#configure-slack-message-settings]

    1. Vaya a <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI > Workflows**</DoNotTranslate> y haga clic en un flujo de trabajo existente o en el botón <DoNotTranslate>**+ Add a workflow**</DoNotTranslate> .

    2. Seleccione un destino (espacio de trabajo) y un canal de Slack para enviar mensajes. Puede crear un nuevo destino si no hay un destino predefinido para el espacio de trabajo requerido. Por razones de privacidad, el usuario debe autenticarse una vez para seleccionar canales privados. Al seleccionar un canal privado, el bot se agregará automáticamente al canal.

    3. Puede utilizar la notificación predeterminada o enriquecerla con detalles personalizados. Elija variables del [menú de variables](/docs/alerts-applied-intelligence/notifications/message-templates/#variables-menu) y aplique [la sintaxis del manillar](/docs/alerts-applied-intelligence/notifications/message-templates/#handlebars-syntax) para enriquecer su carga útil.

    4. Haga clic en el botón <DoNotTranslate>**Send test notification**</DoNotTranslate> para enviar una notificación de prueba con una carga útil de ejemplo predefinida al canal. Esto crea un mensaje en el canal de Slack seleccionado.

       <img
         width="80%;"
         title="Authenticate to select private channels."
         alt="Slack settings, user is not authenticated."
         src={accountsSlackMessageTemplate}
       />
  </Collapser>

  <Collapser
    className="freq-link"
    id="Splunk_on_call_templates"
    title="Splunk on-call (VictorOps)"
  >
    ### Plantilla de webhook para Splunk On-call

    Enviar notificación de flujo de trabajo a Splunk On-call usando una [plantilla de webhook](https://help.victorops.com/knowledge-base/new-relic-integration-guide/#about-splunk-on-call-and-new-relic)
  </Collapser>

  <Collapser
    className="freq-link"
    id="webhook"
    title="Webhook"
  >
    Debe utilizar un notificador de webhook en flujo de trabajo para enviar mensajes de notificación a un extremo HTTPS específico. De forma predeterminada, el notificador asume que el tipo de contenido de la solicitud es JSON y realiza una solicitud HTTP POST al extremo dado. Cuando comienza a configurarlo, el notificador de webhook proporciona una estructura de carga útil JSON predeterminada que puede usar de inmediato. Sin embargo, si necesita más personalización, puede modificar la carga útil utilizando la sintaxis de la plantilla de Manillar. Esto le permite completar variables dentro de la carga útil de forma dinámica, adaptándola a sus necesidades específicas.

    Además de la carga útil, también tiene la posibilidad de incluir encabezados HTTP adicionales en la solicitud de webhook. Esto puede resultar útil para pasar información adicional o token de autenticación al extremo receptor. Aquí hay un video tutorial para configurar webhooks.

    <Video
      type="wistia"
      id="feyutwgew8"
    />

    ### Configurar un destino de webhook [#set-webhook-destination]

    Para crear un destino de webhook, siga estos pasos:

    1. Vaya a <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI**</DoNotTranslate>, haga clic en <DoNotTranslate>**Destinations**</DoNotTranslate> y luego seleccione <DoNotTranslate>**Webhook**</DoNotTranslate>.

    2. Ingrese la siguiente informacion:

       * <DoNotTranslate>**Webhook name:**</DoNotTranslate>

         Nombre de referencia de su webhook.

       * <DoNotTranslate>**Endpoint URL:**</DoNotTranslate>

         El extremo de la aplicación de destino donde se enviará una solicitud HTTP POST.

       * <DoNotTranslate>**Use authorization:**</DoNotTranslate>

         (Opcional) Puede elegir entre `Basic Authentication`, `OAuth 2.0` o `Bearer Token`.

       <img
         width="80%;"
         title="Webhook destination configuration"
         alt="Webhook destination configuration"
         src={accountsWebhookDestination}
       />

    Si es nuevo en el trabajo con webhooks y desea probar la configuración y examinar la carga del webhook sin escribir un servicio, puede utilizar los servicios HTTP general. [Beeceptor](https://beeceptor.com) y [Webhook.site](https://webhook.site) son ejemplos de servicios que le brindan una URL designada donde puede recibir cargas útiles HTTP y luego inspeccionar la carga JSON del evento. Esta característica es valiosa para recopilar información relevante antes de comenzar su proceso de desarrollo.

    Si está creando un nuevo servicio para consumir esta carga útil, debe probarlo localmente. Usar túneles locales es una buena idea para probar y depurar webhooks en un entorno local antes de implementarlos en un servidor de producción. Estos túneles le permiten recibir solicitudes entrantes de webhooks de New Relic en su máquina local, lo que elimina la necesidad de un servidor de acceso público durante el desarrollo. Herramientas como Beeceptor o ngrok le permiten crear una URL pública temporal que reenvía solicitudes a su servidor local especificando el puerto o la dirección de la aplicación deseada. Esto acelera la iteración y la depuración, ya que puede observar y analizar directamente la carga del webhook en su entorno de desarrollo local.

    ### Sincronización bidireccional [#two-way-webhook]

    Para notificaciones enviadas desde flujo de trabajo, puede reconocer o cerrar problemas usando [Nerdgraph](/docs/apis/nerdgraph/examples/nerdgraph-issues-api-via-github/#resolve-ack-issues). Al probar la sincronización bidireccional con webhooks, puede utilizar el estado de respuesta personalizado y las plantillas de carga útil de Beeceptor. Esto le permite redactar una respuesta deseada al reconocer el evento recibido.

    ### Configurar la plantilla de evento de webhook [#configure-webhook-event-template]

    Elija un destino de webhook de la lista y configure la solicitud `HTTP-POST` .

    La configuración de la solicitud requiere que usted:

    1. Establezca un nombre para la plantilla.
    2. Seleccione un destino preconfigurado de la lista de destinos o cree uno nuevo.
    3. Agregue encabezados personalizados (opcional).
    4. Configure la carga útil de la solicitud.

    ### Personaliza la carga útil del webhook en flujo de trabajo [#customize-webhook-payload]

    Vaya a <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI > Workflows**</DoNotTranslate> y haga clic en un flujo de trabajo existente, o en el botón <DoNotTranslate>**+ Add a new workflow**</DoNotTranslate> y seleccione un destino de Webhook.

    <Callout variant="important">
      El tipo de contenido de la solicitud es JSON de forma predeterminada, por lo que la carga útil también debe estar en formato JSON. Para familiarizarse con el formato, consulte [nuestros ejemplos de uso](/docs/alerts-applied-intelligence/notifications/message-templates/#usage-examples).
    </Callout>

    Puede utilizar la carga útil predeterminada o personalizarla para que contenga los datos requeridos. Elija variables del [menú de variables](/docs/alerts-applied-intelligence/notifications/message-templates/#variables-menu) y aplique [la sintaxis de los manillares](/docs/alerts-applied-intelligence/notifications/message-templates/#handlebars-syntax) para enriquecer su webhook. La sección <DoNotTranslate>**Preview**</DoNotTranslate> en el lado derecho muestra una carga útil esperada después de renderizar la plantilla. Si la carga útil no forma un JSON válido, habrá un error y no podrá guardar la plantilla.

    <img
      width="80%;"
      title="An invalid Json payload."
      alt="A screenshot of an invalid Json payload."
      src={accountsWebhookPreviewError}
    />

    <Callout variant="tip">
      Los errores de tipo no definido pueden indicar que el atributo no se indexó recientemente o no existe. Para corregir el error, intente agregar una declaración `if else` . Por ejemplo, `"closed_at": {{#if issueClosedAtUtc}} {{ json issueClosedAtUtc }} {{else}}"None"{{/if}}`
    </Callout>

    Si la carga útil del webhook se ajusta a un JSON válido, puede enviar una notificación de prueba al destino del webhook definido. Recomendamos enviar una notificación de prueba para asegurarse de que todo esté conectado correctamente.

    <img
      width="80%;"
      title="A test webhook notification template."
      alt="A screenshot of a test webhook notification template."
      src={accountsWebhookNotificationTemplate}
    />
  </Collapser>

  <Collapser
    className="freq-link"
    id="xMatters_templates"
    title="xMatters"
  >
    ### Plantilla de webhook para xMatters

    Envíe notificaciones de flujo de trabajo a xMatters usando una plantilla de webhook.

    ```handlebars
    {
      {{#if nrAccountId}}"account_id": {{nrAccountId}},{{/if}}
      "account_name": {{json accumulations.tag.account.[0]}},
      {{#if accumulations.tag.action}}"action":{{json accumulations.tag.action.[0]}},{{/if}}
      "closed_violations_count": {
        "critical": {{#if closedIncidentsCount}}{{closedIncidentsCount}}{{else}}0{{/if}},
        "warning": 0,
        "total": {{#if closedIncidentsCount}}{{closedIncidentsCount}}{{else}}0{{/if}}
      },
      "condition_family_id": {{accumulations.conditionFamilyId.[0]}},
      "condition_id": {{accumulations.conditionFamilyId.[0]}},
      "condition_name": {{json accumulations.conditionName.[0]}},
      {{#if accumulations.evaluationName}}"condition_metric_name": {{json accumulations.evaluationName.[0]}},{{/if}}
      {{#if accumulations.evaluationMetricValueFunction}}"condition_metric_value_function": {{json accumulations.evaluationMetricValueFunction.[0]}},{{/if}}
      "current_state": {{#if issueClosedAt}}"closed"{{else if issueAcknowledgedAt}}"acknowledged"{{else}}"open"{{/if}},
      "details": {{json issueTitle}},
      "duration": {{#if issueDurationMs}}{{issueDurationMs}}{{else}}0{{/if}},
      "event_type": "INCIDENT",
      "incident_acknowledge_url": {{json issueAckUrl}},
      "incident_url": {{json issuePageUrl}},
      "incident_id": {{json issueId}},
      "metadata": {
        {{#if locationStatusesObject}}"location_statuses": {{locationStatusesObject}},{{/if}}
        {{#if accumulations.metadata_entity_type}}"entity.type": {{json accumulations.metadata_entity_type.[0]}},{{/if}}
        {{#if accumulations.metadata_entity_name}}"entity.name": {{json accumulations.metadata_entity_name.[0]}}{{/if}}
      },
      "open_violations_count": {
        "critical": {{#if openIncidentsCount}}{{openIncidentsCount}}{{else}}0{{/if}},
        "warning": 0,
        "total": {{#if openIncidentsCount}}{{openIncidentsCount}}{{else}}0{{/if}}
      },
      "policy_name": {{json accumulations.policyName.[0]}},
      {{#if policyUrl}}"policy_url": {{json policyUrl}},{{/if}}
      "radar_entity": {
        "accountId": {{json accumulations.tag.accountId.[0]}},
        "domain": {{json accumulations.conditionProduct.[0]}},
        "domainId": {{json issueId}},
        "entityGuid": {{json entitiesData.entities.[0].id}},
        "name": {{#if accumulations.targetName}}{{json accumulations.targetName.[0]}}{{else if entitiesData.entities}}{{json entitiesData.entities.[0].name}}{{else}}"NA"{{/if}},
        "type": {{#if entitiesData.types.[0]}}{{json entitiesData.types.[0]}}{{else}}"NA"{{/if}}
      },
      {{#if accumulations.runbookUrl}}"runbook_url": {{json accumulations.runbookUrl.[0]}},{{/if}}
      "severity": {{#eq HIGH priority}}"WARNING"{{else}}{{json priority}}{{/eq}},
      "state": {{json state}},
      "status": {{json status}},
      "targets": [
        {
          "id": {{#if entitiesData.entities.[0].id}}{{json entitiesData.entities.[0].id}}{{else if accumulations.nrqlEventType}}{{json accumulations.nrqlEventType.[0]}}{{else}}"N/A"{{/if}},
          "name": {{#if accumulations.targetName}}{{json accumulations.targetName.[0]}}{{else if entitiesData.entities}}{{json entitiesData.entities.[0].name}}{{else}}"NA"{{/if}},
          "link": {{json issuePageUrl}},
          "product": {{json accumulations.conditionProduct.[0]}},
          "type": {{#if entitiesData.types.[0]}}{{json entitiesData.types.[0]}}{{else}}"NA"{{/if}},
          "labels": {
            {{#each accumulations.rawTag}}{{#if this.[0]}}"{{@key}}":{{json this.[0]}},{{/if}}{{/each}}
            "NewRelic": "targetLabels"
          }
        }
      ],
      "timestamp": {{#if closedAt}}{{closedAt}}{{else if acknowledgedAt}}{{acknowledgedAt}}{{else}}{{createdAt}}{{/if}},
      "timestamp_utc_string": {{json issueUpdatedAt}},
      "version": "1.0",
      {{#if accumulations.conditionDescription}}"VIOLATION DESCRIPTION": {{json accumulations.conditionDescription.[0]}},{{/if}}
      {{#if violationChartUrl}}"violation_chart_url": {{json violationChartUrl}},{{/if}}
      "violation_callback_url": {{json issuePageUrl}}
    }
    ```
  </Collapser>
</CollapserGroup>

## Migra tus destinos legacy de Slack al nuevo destino de Slack [#migrate-slack]

Para migrar sus destinos legacy de Slack al nuevo destino de Slack, siga estos pasos:

1. Configura un nuevo destino de Slack.

2. Para cada flujo de trabajo que se envía al destino legacy de Slack, haga lo siguiente:

   * Busque el canal de Slack que se envió con la notificación legacy y guárdelo.

   <img
     width="80%;"
     title="Migrate Slack, create a new workflow."
     alt="Migrate Slack, create a new workflow."
     src={accountsMigrateSlackNewWorkflow}
   />

   * Pruebe la notificación para ver si funciona.

   * Elimine el notificador de Slack legacy existente.

     <img
       width="80%;"
       title="Migrate Slack, remove the existing legacy slack notifier."
       alt="Migrate Slack, remove the existing legacy slack notifier."
       src={accountsMigrateSlackRemoveLegacy}
     />

   * Haga clic en <DoNotTranslate>**Test workflow**</DoNotTranslate> para confirmar con un problema real que coincida con el filtro (si existe).

   * Guarde el flujo de trabajo.

## Opciones API [#api]

También puede utilizar nuestra API NerdGraph para ver y configurar [destinos](/docs/apis/nerdgraph/examples/nerdgraph-api-notifications-destinations) y [canal de notificación](/docs/apis/nerdgraph/examples/nerdgraph-api-notifications-channels).