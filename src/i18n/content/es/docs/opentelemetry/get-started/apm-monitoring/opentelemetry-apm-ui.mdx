---
title: OpenTelemetry APM UI
tags:
  - Integrations
  - Open source telemetry integrations
  - OpenTelemetry
metaDescription: The OpenTelemetry APM UI provides tools for identifying and diagnosing problems with services monitoring with OpenTelemetry.
freshnessValidatedDate: '2024-05-17T00:00:00.000Z'
translationType: machine
---

La UI APM OpenTelemetry proporciona una experiencia de monitoreo integral para los servicios instrumentados con OpenTelemetry, ofreciendo las mismas poderosas capacidades APM que espera del agente de lenguaje tradicional de New Relic.

## Requisitos previos

Antes de emplear la UI OpenTelemetry APM, cerciorar de tener:

* Configuró su servicio con instrumentación OpenTelemetry
* Configura tu servicio para enviar datos a New Relic
* Se creó [la entidad de servicioOpenTelemetry](/docs/opentelemetry/best-practices/opentelemetry-best-practices-resources/#services)

Si no completó estos pasos, consulte [Monitoreo deOpenTelemetry APM ](/docs/opentelemetry/get-started/apm-monitoring/opentelemetry-apm-intro/)para obtener instrucciones de configuración.

## Encuentre sus servicios de OpenTelemetry [#find-apm-services]

Para localizar sus servicios OpenTelemetry-instrumentado:

1. En la UI New Relic, navegue a **All entities &gt; Services - OpenTelemetry** o **APM &amp; Services**
2. Seleccione un servicio para abrir su [página Summary](#summary-page)

<Callout variant="tip">
  Emplee [la etiqueta de entidad](/docs/new-relic-solutions/new-relic-one/core-concepts/use-tags-help-organize-find-your-data/) en el explorador de entidades para filtrar servicios. Obtenga más información sobre cómo las entidades etiquetadas se calculan en [los recursos deOpenTelemetry en New Relic](/docs/opentelemetry/best-practices/opentelemetry-best-practices-resources).
</Callout>

## Cómo funciona OpenTelemetry con New Relic APM

Los servicios instrumentados de OpenTelemetrybrindan la misma experiencia APM curada que los servicios que emplean el agente de lenguaje de New Relic. Así es como funciona:

### Proceso de mapeo de datos

New Relic asigna automáticamente sus datos de OpenTelemetry a nuestras convenciones APM mediante lo siguiente:

1. **Generación de métricas APM **: Creamos la métrica necesaria para la experiencia APM directamente desde sus datos OpenTelemetry
2. **Conservación de datos originales**: sus datos originales OpenTelemetry permanecen disponibles para el panel personalizado y las alertas.
3. **Convenciones de normalización**: manejamos las convenciones semánticas en evolución de OpenTelemetry para que no tenga que rastrear las diferencias de versión

### Beneficios para los usuarios existentes de New Relic

Si está realizando la transición de New Relic agente a OpenTelemetry, puede continuar empleando las versiones familiares de Métrica y Consulta mientras adopta los estándares OpenTelemetry.

<Callout variant="important">
  **Por qué normalizamos los datos de OpenTelemetry**

  Las convenciones semánticas de OpenTelemetry aún están evolucionando y muchas aún no son estables. Al normalizar sus datos según las convenciones de New Relic, logramos lo siguiente:

  * Reduzca la complejidad del seguimiento de qué versiones de la convención OpenTelemetry emplea su instrumentación
  * Proporcione una experiencia consistente a medida que realiza la transición del agente New Relic a OpenTelemetry
  * Cerciorar de que su experiencia con APM se mantenga estable independientemente de los cambios de OpenTelemetry
</Callout>

### Fuentes de datos y priorización

La experiencia de APM emplea tres tipos de datos de OpenTelemetry:

* **Métrica** (primarias): proporciona estadísticas de servicio precisas como rendimiento, tiempo de respuesta y tasa de errores
* **Spans** (suplementario): Se emplea cuando las métricas no están disponibles o para una característica específica como la traza de la transacción.
* **Logs**: integrados para resolución de problemas y correlación

**Por qué se prefieren las métricas**: las métricas brindan una imagen completa del rendimiento de su servicio, mientras que los tramos generalmente se muestrean y pueden no representar todo el tráfico.

La experiencia de APM aprovecha principalmente estas convenciones semánticas de OpenTelemetry:

* [HTTP](https://opentelemetry.io/docs/specs/semconv/http/) - transacción sitio web y llamadas externas
* [RPC](https://opentelemetry.io/docs/specs/semconv/rpc/) - Llamadas a procedimientos remotos
* [Mensajería](https://opentelemetry.io/docs/specs/semconv/messaging/) - Operaciones de cola de mensajes
* [base de datos](https://opentelemetry.io/docs/specs/semconv/database/) - operaciones de base de datos

### Cómo se derivan las transacciones de los datos de OpenTelemetry [#transaction-mapping]

La experiencia APM de New Relic se centra en la noción de [transacción](https://docs.newrelic.com/docs/apm/transactions/intro-transactions/transactions-new-relic-apm/). Al emplear un agente de New Relic, es responsabilidad de la instrumentación del agente definir el alcance de una transacción (por ejemplo, una sola solicitud sitio web). El agente produce datos métricos que impulsan la gran mayoría de la experiencia de New Relic APM al registrar métricas de transacciones que miden la duración de las transacciones y sus operaciones individuales (por ejemplo, llamadas externas y llamadas de base de datos).

La instrumentación de OpenTelemetry no tiene un análogo directo a una transacción de New Relic, por lo que adaptar la noción de transacciones a los datos de OpenTelemetry es clave.

Al aprovechar [las convenciones semánticas](https://opentelemetry.io/docs/concepts/semantic-conventions/) de OpenTelemetry, podemos aprovechar los medios altamente estructurados y estandarizados de OpenTelemetrypara describir la telemetría con el fin de impulsar la experiencia APM de una manera muy similar a la del agente de New Relic.

Las convenciones semánticas definen métricas estándar para medir operaciones comunes como el manejo requests [HTTP](https://opentelemetry.io/docs/specs/semconv/http/http-metrics/) o [RPC](https://opentelemetry.io/docs/specs/semconv/rpc/rpc-metrics/). Estas métricas son análogas a las métricas de transacciones que produce el agente New Relic para describir [transacciones sitio web](https://docs.newrelic.com/docs/apm/transactions/intro-transactions/transactions-new-relic-apm/#types). Aprovechamos las métricas HTTP y RPC de OpenTelemetrypara sintetizar las métricas que impulsan la UI APM, como la [métrica`apm.service.transaction.duration` ](#metric-apm-service-transaction-duration).

New Relic también proporciona un concepto de [transacción no sitio web](https://docs.newrelic.com/docs/apm/transactions/intro-transactions/monitor-background-processes-other-non-web-transactions/). Las transacciones no sitio web se emplean comúnmente para sistemas que realizan el procesamiento de mensajes. La instrumentación que aprovecha [las convenciones de mensajería](https://github.com/open-telemetry/semantic-conventions/blob/main/docs/messaging/messaging-spans.md) de OpenTelemetrydará como resultado una síntesis métrica que representa las transacciones en el sitio web.

<Callout variant="important">
  **Operaciones de mensajería y datos de lapso**

  Las convenciones de mensajería de OpenTelemetry son menos maduras que las convenciones HTTP y RPC. Actualmente, generamos transacciones no sitio web métricas para operaciones de mensajería a partir de datos span en lugar de datos métricos. Este enfoque sigue las convenciones semánticas de mensajería, pero puede ver afectado por su estrategia de ejemplificación.
</Callout>

#### Nombres de transacciones

Cada transacción tiene un nombre que se deriva del atributo requerido por las convenciones semánticas de OpenTelemetry. Consulte la sección [Métrica del servicioAPM ](#apm-service-metrics)para saber cómo se deriva este nombre.

##### Nombre de transacción desconocido

A veces es posible que veas una transacción con `unknown` en el nombre. Esto es una indicación de que los datos de origen empleados para derivar la transacción no siguen ninguna de las convenciones semánticas de OpenTelemetry establecido que actualmente admitimos.

Algunos ejemplos:

* HTTP métrica faltante `http.request.method` o `http.route`. Por ejemplo, si a la métrica `http.server.request.duration` le falta el atributo `http.route`, el nombre de la transacción será `WebTransaction/server/GET unknown`.
* marco o protocolos para los cuales OpenTelemetry actualmente no define convenciones semánticas (por ejemplo, trabajos en segundo plano y marco CI).

## Navegando por la experiencia APM

### Resumen [#summary-page]

La [página Summary](/docs/apm/agents/manage-apm-agents/agent-data/triage-run-diagnostics/) proporciona una descripción general del estado de su servicio y se centra en la noción de [transacción](/docs/apm/transactions/intro-transactions/transactions-new-relic-apm/) de New Relic. Consulte [Cómo se derivan las transacciones de los datos de OpenTelemetry](#transaction-mapping) para obtener más detalles.

Las métricas New Relic que controlan la página Summary son las métricas [`apm.service.transaction.duration`](#metric-apmservicetransactionduration) y [`apm.service.error.count`](#metric-apmservicetransactionduration). Consúltelos para obtener detalles sobre cómo se derivan de sus datos de OpenTelemetry.

#### Personalización del objetivo Apdex [#customizing-apdex-target]

En la instrumentación New Relic, el objetivo de apdex personalizado se configura usando agente configuración. Para OpenTelemetry, al ver un servicio, navegue a **Settings &gt; Application** para configurar su objetivo Apdex.

### rastreo distribuido [#distributed-tracing-page]

La página de rastreo distribuido proporciona información detallada y valiosa sobre los datos de traza OpenTelemetry . Consulte [rastreo distribuido](/docs/distributed-tracing/ui-data/understand-use-distributed-tracing-ui/) para obtener información sobre el uso de la página. Consulte [OpenTelemetry traza en New Relic](/docs/opentelemetry/best-practices/opentelemetry-best-practices-traces) para obtener detalles sobre cómo se incorporan los datos de OpenTelemetry traza en New Relic.

Al igual que con [las señales doradas](#golden-signals), los intervalos se clasifican como errores si el estado del intervalo se establece en `ERROR` (por ejemplo, `otel.status_code = ERROR`). Si el intervalo es un error, la descripción del estado del intervalo (por ejemplo, `otel.status_description`) se muestra en **los detalles del error**.

OpenTelemetry span evento adjunta información de contexto de evento adicional a un lapso particular. Se emplean más comúnmente para capturar información de excepciones. Si está disponible, puede ver el evento de un lapso en **trace details**.

<Callout variant="tip">
  La presencia de un evento de excepción de lapso no califica el lapso como un error por sí solo. Sólo los intervalos con estado de intervalo establecido en `ERROR` se clasifican como errores.
</Callout>

<img title="Screenshot showing the right pane showing the two links for span events" alt="Screenshot showing the right pane showing the two links for span events" src="/images/opentelemetry_screenshot-crop_view-span-events.webp" />

### Mapa de servicios [#service-map-page]

La página del mapa de servicio proporciona una representación visual de toda su arquitectura. Consulte [los mapas de servicio](/docs/new-relic-solutions/new-relic-one/ui-data/service-maps/service-maps/) para obtener más información.

### Transacción [#transactions-page]

La [página de transacciones](/docs/apm/apm-ui-pages/monitoring/transactions-page-find-specific-performance-problems/) proporciona herramientas para identificar problemas y analizar [las transacciones](/docs/apm/transactions/intro-transactions/transactions-new-relic-apm/#txn-defined) de un servicio.

OpenTelemetry no tiene un análogo directo con la noción de transacción de New Relic. Consulte [Cómo se derivan las transacciones de los datos de OpenTelemetry](#transaction-mapping) para obtener más detalles.

Las métricas New Relic que impulsan la página Transacción son las métricas [`apm.service.transaction.duration`](#metric-apmservicetransactionduration) y [`apm.service.error.count`](#metric-apmservicetransactionduration). Consúltelos para obtener detalles sobre cómo se derivan de sus datos de OpenTelemetry.

#### Traza de la transaccion

[La traza de la transacción](/docs/apm/transactions/transaction-traces/introduction-transaction-traces/) para OpenTelemetry se deriva de sus datos de intervalo. En la página de transacciones puede encontrar una lista de la traza de la transacción. Esta lista requiere que los datos de lapso y los datos métricos para una transacción determinada estén correlacionados entre sí. Hacemos esto agregando un atributo `transaction.name` al tramo raíz de una traza de la transacción.

#### Desglose de segmentos [#segment-breakdown]

Al hacer clic en una transacción, se abre una vista detallada de la transacción que revela un desglose del segmento. A diferencia del agente New Relic, OpenTelemetry no emite métricas para segmentos individuales. Por lo tanto, las métricas de New Relic necesarias para impulsar la descomposición del segmento se derivan de los datos de tramo.

La desventaja notable de calcular el desglose de segmentos a partir de datos de tramos es que los tramos generalmente se muestrean. Sin embargo, incluso con la ejemplificación, el desglose de segmentos todavía puede servir para ayudarlo a identificar métodos u operaciones específicos que consumen la mayor parte del tiempo dentro de una transacción.

A partir de los datos de span, estimamos una tasa de ejemplificación calculando un rendimiento basado en los datos de span recibidos y dividiendo ese dato por el rendimiento real según lo informado por sus datos métricos. La tasa de ejemplificación estimada nos permite extrapolar la descomposición del segmento de una transacción.

Este proceso no es perfecto y puede ver afectado por diversos factores, entre ellos, el más notable es su estrategia de ejemplificación. Funciona mejor cuando se muestrea estrictamente un porcentaje de los datos de intervalo. Sin embargo, por ejemplo, si solo se toman muestras de los tramos que representan errores, el desglose del segmento puede estar sesgado.

### Base de datos [#databases-page]

La página de base de datos proporciona herramientas para identificar problemas y analizar las operaciones del cliente de base de datos de un servicio.

La instrumentación OpenTelemetry representa llamadas a base de datos empleando las convenciones semánticas [de base de datos](https://opentelemetry.io/docs/specs/semconv/database/).

La métrica New Relic que impulsa la página base de datos es la métrica [`apm.service.datastore.operation.duration`](#metric-apmservicedatastoreoperationduration). Consúltelo para obtener detalles sobre cómo se deriva de sus datos de OpenTelemetry.

#### Consumo de tiempo por persona que llama

Al hacer clic en una llamada de base de datos específica, verá el gráfico &quot;Consumo de tiempo por persona que llama&quot;. Este gráfico está impulsado por la métrica [`apm.service.transaction.overview`](#metric-apmservicetransactionoverview). Esta es la misma métrica que impulsa la vista [de desglose de segmentos](#segment-breakdown) de la página de transacciones y se deriva de los datos de lapso.

<Callout variant="important">
  Las convenciones semánticas de la base de datos de OpenTelemetry se consideraron recientemente estables. Todavía no existe mucha instrumentación estable, y la instrumentación que existe a menudo sólo emite datos de span y no datos métricos.

  Como tal, al emplear instrumentación que aún no adoptó las convenciones semánticas estables, las métricas APM generadas a partir de la página base de datos se derivan de los datos span.

  A medida que la instrumentación estable esté disponible y usted la adopte, la página de base de datos comenzará a aprovechar los datos métricos OpenTelemetry. Comunicar con la comunidad OpenTelemetry para consultar sobre la disponibilidad de instrumentación de base de datos estable en su idioma.
</Callout>

### Servicios externos [#externals-page]

La [página de servicios externos](/docs/apm/apm-ui-pages/monitoring/external-services/external-services-ui/) proporciona herramientas para identificar problemas y analizar las llamadas externas de un servicio, incluidas las entidades que llaman (servicios ascendentes) y las entidades llamadas (servicios descendentes).

La instrumentación de OpenTelemetry representa llamadas a servicios externos empleando las convenciones semánticas [HTTP](https://opentelemetry.io/docs/specs/semconv/http/) y [RPC](https://opentelemetry.io/docs/specs/semconv/rpc/).

La métrica New Relic que impulsa la página base de datos es la métrica [`apm.service.external.host.duration`](#metric-apmserviceexternalhostduration). Consúltelo para obtener detalles sobre cómo se deriva de sus datos de OpenTelemetry.

#### Consumo de tiempo por persona que llama

Al hacer clic en una llamada externa específica, verá el gráfico &quot;Consumo de tiempo por persona que llama&quot;. Este gráfico está impulsado por la métrica [`apm.service.transaction.overview`](#metric-apm-service-transaction-overview). Esta es la misma métrica que impulsa la vista [de desglose de segmentos](#segment-breakdown) de la página de transacciones y se deriva de los datos de lapso.

### Tiempo de ejecución de JVM [#jvm-runtime-page]

La página de tiempo de ejecución de JVM proporciona herramientas para identificar problemas y analizar la JVM de un servicio Java. La página solo se muestra para servicios que emplean [OpenTelemetry Java](https://opentelemetry.io/docs/languages/java/). Para diferenciar entre distintas instancias de servicio, la página requiere que se configure el atributo de recurso `service.instance.id` (consulte [Servicios](/docs/opentelemetry/best-practices/opentelemetry-best-practices-resources/#services) para obtener más detalles).

La página de tiempo de ejecución JVM muestra señales doradas junto con métricas de tiempo de ejecución JVM para correlacionar los problemas de tiempo de ejecución con el uso del servicio.

La consulta asume que los datos se ajustan a las convenciones semánticas [métricasJVM ](https://opentelemetry.io/docs/specs/semconv/runtime/jvm-metrics/). Tenga en cuenta que estas convenciones están incorporadas en [la biblioteca de instrumentación de tiempo de ejecución de Java de OpenTelemetry](https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/instrumentation/runtime-telemetry/runtime-telemetry-java8/library), que se incluye automáticamente con el agente de Java de OpenTelemetry.

### Tiempo de ejecución de Go [#go-runtime-page]

La página de tiempo de ejecución de Go proporciona herramientas para identificar problemas y analizar el tiempo de ejecución de un servicio Go. La página solo se muestra para servicios que emplean [OpenTelemetry Go](https://opentelemetry.io/docs/languages/go/). Para diferenciar entre distintas instancias de servicio, la página requiere que se configure el atributo de recurso `service.instance.id` (ver [Servicios](/docs/opentelemetry/best-practices/opentelemetry-best-practices-resources/#services) para obtener más detalles).

La página de tiempo de ejecución de Go muestra señales doradas junto con métricas de tiempo de ejecución de Go para correlacionar los problemas de tiempo de ejecución con el uso del servicio.

La consulta supone que los datos son producidos por la [biblioteca de instrumentación en tiempo de ejecuciónOpenTelemetry Go](https://opentelemetry.io/docs/specs/semconv/runtime/go-metrics/). Tenga en cuenta que actualmente no existen convenciones semánticas para la métrica del tiempo de ejecución de Go.

### Logs [#logs-page]

La página de Logs proporciona herramientas para identificar problemas y analizar el log de un servicio. Consulte [Usar UI de log](/docs/logs/ui-data/use-logs-ui/) para obtener más información.

### Errors Inbox [#errors-inbox-page]

La página Bandeja de entrada de errores proporciona herramientas para detectar y clasificar los errores de un servicio. Consulte [Primeros pasos con la Bandeja de entrada de errores](/docs/errors-inbox/getting-started/) para obtener más detalles.

La página Bandeja de entrada de errores se basa en datos de traza. Al igual que con [las señales doradas](#golden-signals), los intervalos se clasifican como errores si el estado del intervalo se establece en `ERROR` (por ejemplo, `otel.status_code = ERROR`).

Los intervalos de error se agrupan por su huella digital de error, y se calculan normalizando valores de identificación como UUID, valores hexadecimales, direcciones de email, etc. Cada intervalo de error distinto es una instancia individual dentro del grupo de errores. El mensaje del grupo de errores se determina de la siguiente manera:

* Descripción del estado del intervalo (por ejemplo, `otel.status_description`)
* `rpc.grpc.status_code` De las convenciones semánticas de [RPC](https://opentelemetry.io/docs/specs/semconv/rpc/rpc-spans/)
* `http.status_code` De las convenciones semánticas de [HTTP](https://opentelemetry.io/docs/specs/semconv/http/http-spans/)
* `http.response.status_code` De las convenciones semánticas de [HTTP](https://opentelemetry.io/docs/specs/semconv/http/http-spans/)
* `undefined` si ninguno de los anteriores está presente

### Vista de lapso (heredada) [#span-view-legacy]

En el pasado, los servicios instrumentados de OpenTelemetry ofrecían una experiencia de usuario completamente diferente a la del agente de idiomas de New Relic. Esta experiencia más antigua proporcionó gráficos seleccionados impulsados por datos de lapso. Los datos de lapso generalmente se muestrean, por lo que pueden ser engañosos, particularmente cuando se representan cosas como el rendimiento.

Por ahora, la antigua experiencia de usuario todavía está disponible a través de la página Vista Span (heredada). En la parte superior, contiene cuatro pestañas: Resumen, Transacciones, Base de datos y Servicios externos. Todos los gráficos en estas pestañas se basan en datos de intervalo.

<Callout variant="tip">
  **vista heredada basada en tramos**

  Nuestra antigua experiencia OpenTelemetry APM nos permitió visualizar datos desde perspectivas tanto métricas como de amplitud. Dado que los datos de extensión generalmente se muestrean, las métricas brindan mediciones de rendimiento y tiempo de respuesta más precisas. La vista basada en lapsos aún está disponible, pero se eliminará gradualmente. Consulte [Vista de tramo (heredado)](#span-view-legacy) para obtener más detalles.
</Callout>

## Métrica New Relic APM derivada de datos de span [#apm-metrics-from-span-data]

Las métricas New Relic APM que impulsan la experiencia APM generalmente se derivan de datos métricos. Sin embargo, hay algunos escenarios en los que las métricas APM se derivan de datos de intervalo. Para los siguientes escenarios, tenga en cuenta que la estrategia de ejemplificación que esté empleando influirá en la métrica generada.

### Desglose de segmentos

La vista de desglose del segmento de transacción se basa en datos de lapso. Consulte [el desglose de segmentos](#segment-breakdown) para obtener más información.

### base de datos de llamadas

Las [convenciones semánticas de la base de datos OpenTelemetry](https://opentelemetry.io/docs/specs/semconv/database/) fueron declaradas recientemente estables. Sin embargo, la mayoría de los instrumentos de base de datos aún no adoptaron las convenciones estables y aún no emiten datos métricos. Por lo tanto, al emplear instrumentación más antigua, las métricas que rigen la [página base de datos](#databases-page) se generan a partir de datos span. Se recomienda actualizar a la última instrumentación de base de datos estable tan pronto como esté disponible para su idioma.

### Sistemas de mensajería

Las [convenciones semánticas de mensajería de OpenTelemetry](https://opentelemetry.io/docs/specs/semconv/messaging/) aún están en desarrollo. La mayoría de la instrumentación de mensajería aún no emite datos métricos. New Relic representa las interacciones con los sistemas de mensajería como transacciones no sitio web. Consulte [Cómo se derivan las transacciones de los datos de OpenTelemetry](#transaction-mapping) para obtener más información.

### OpenTelemetry Ruby

OpenTelemetry ahora admite métrica para la mayoría de los lenguajes, sin embargo Ruby es una excepción notable. Para Ruby, realizamos un esfuerzo de máxima fe para generar una métrica New Relic APM a partir de datos de intervalo.

## Servicio APM métrica

La unidad métrica `apm.service.*` impulsa la experiencia APM de New Relic. Las siguientes secciones describen los datos de origen OpenTelemetry que se emplean para derivar la métrica `apm.service.*`.

### recurso métrico

Los siguientes atributos de recurso se copian de los datos de origen a APM métrica:

* `container.id`
* `entity.guid`
* `host.name`
* `instrumentation.provider`
* `k8s.cluster.name`
* `k8s.container.name`
* `k8s.namespace.name`
* `k8s.pod.name`
* `service.instance.id`
* `service.name`

### métrica: `apm.service.transaction.duration`

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        **Nombre**
      </th>

      <th>
        **[Tipo de instrumento](https://docs.newrelic.com/docs/data-apis/understand-data/metric-data/metric-data-type/)**
      </th>

      <th>
        **Unidad ([UCUM](https://ucum.org/ucum))**
      </th>

      <th>
        **Descripción**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `apm.service.transaction.duration`
      </td>

      <td>
        Distribución
      </td>

      <td>
        `s`, `ms`, `ns` **\[1]**
      </td>

      <td>
        Duración de las transacciones. **\[2]**
      </td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        **Atributo**
      </th>

      <th>
        **Tipo**
      </th>

      <th>
        **Descripción**
      </th>

      <th>
        **Ejemplo**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `transactionName`
      </td>

      <td>
        `string`
      </td>

      <td>
        El nombre de la transacción.
      </td>

      <td>
        `WebTransaction/server/GET /users/:id`, `OtherTransaction/consumer/unknown`
      </td>
    </tr>

    <tr>
      <td>
        `transactionType`
      </td>

      <td>
        `string`
      </td>

      <td>
        El tipo de transacción.
      </td>

      <td>
        `Web`, `Other`
      </td>
    </tr>

    <tr>
      <td>
        `error.type`
      </td>

      <td>
        `string`
      </td>

      <td>
        Describe una clase de error con el que finalizó la transacción.
      </td>

      <td>
        `500`, `TimeoutException`
      </td>
    </tr>
  </tbody>
</table>

**\[1]**: Se copia la unidad de la métrica de origen.

**\[2]**: Si `error.type` se resuelve como un valor distinto de nulo, `apm.service.error.count` se incrementa con el recuento respectivo de los datos de origen.

#### fuentes métricas

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        **Convención semántica**
      </th>

      <th>
        **Nombre de la métrica**
      </th>

      <th>
        **Condiciones**
      </th>

      <th>
        **`transactionName`**
      </th>

      <th>
        **`transactionType`**
      </th>

      <th>
        **`error.type`**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [`OtelHttpServer1_23`](https://github.com/open-telemetry/semantic-conventions/blob/v1.23.0/docs/http/http-metrics.md)
      </td>

      <td>
        `http.server.request.duration`
      </td>

      <td>
        `http.request.method IS NOT NULL`
      </td>

      <td>
        `WebTransaction/server/${http.request.method} ${http.route}`
      </td>

      <td>
        `Web`
      </td>

      <td>
        `${error.type}`
      </td>
    </tr>

    <tr>
      <td>
        [`OtelHttpServer1_20`](https://github.com/open-telemetry/opentelemetry-specification/blob/v1.20.0/specification/metrics/semantic_conventions/http-metrics.md)
      </td>

      <td>
        `http.server.duration`
      </td>

      <td>
        `http.method IS NOT NULL`
      </td>

      <td>
        `WebTransaction/server/${http.method} ${http.route}`
      </td>

      <td>
        `Web`
      </td>

      <td>
        `__http_error_status_code_or_null__`
      </td>
    </tr>

    <tr>
      <td>
        [`OtelRpcServer1_20`](https://github.com/open-telemetry/opentelemetry-specification/blob/v1.20.0/specification/trace/semantic_conventions/rpc.md)
      </td>

      <td>
        `rpc.server.duration`
      </td>

      <td>
        `rpc.system IS NOT NULL`
      </td>

      <td>
        `WebTransaction/server/${rpc.system}/${rpc.service:-unknown}.${rpc.method:-unknown}`
      </td>

      <td>
        `Web`
      </td>

      <td>
        `__rpc_error_status_code_or_null__`
      </td>
    </tr>
  </tbody>
</table>

### métrica: `apm.service.transaction.overview`

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        **Nombre**
      </th>

      <th>
        **[Tipo de instrumento](https://docs.newrelic.com/docs/data-apis/understand-data/metric-data/metric-data-type/)**
      </th>

      <th>
        **Unidad ([UCUM](https://ucum.org/ucum))**
      </th>

      <th>
        **Descripción**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `apm.service.transaction.overview`
      </td>

      <td>
        Resumen
      </td>

      <td>
        s
      </td>

      <td>
        Tiempo de ruptura del segmento de una transacción.
      </td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        **Atributo**
      </th>

      <th>
        **Tipo**
      </th>

      <th>
        **Descripción**
      </th>

      <th>
        **Ejemplo**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `transactionName`
      </td>

      <td>
        `string`
      </td>

      <td>
        El nombre de la transacción.
      </td>

      <td>
        `WebTransaction/server/GET /users/:id`, `OtherTransaction/consumer/unknown`
      </td>
    </tr>

    <tr>
      <td>
        `transactionType`
      </td>

      <td>
        `string`
      </td>

      <td>
        El tipo de transacción.
      </td>

      <td>
        `Web`, `Other`
      </td>
    </tr>

    <tr>
      <td>
        dominio atributo
      </td>

      <td>
        varios
      </td>

      <td>
        atributo específico del dominio que depende de la convención de origen, incluyendo: `db.system`, `db.sql.table`, `db.operation`, `external.host`
      </td>

      <td>
        Ver `apm.service.external.host.duration`, `apm.service.datastore.operation.duration`
      </td>
    </tr>
  </tbody>
</table>

#### Fuentes de span

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        **Convención semántica**
      </th>

      <th>
        **Tipo de lapso**
      </th>

      <th>
        **Condiciones**
      </th>

      <th>
        **`transactionName`**
      </th>

      <th>
        **`transactionType`**
      </th>

      <th>
        **dominio atributo**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [`OtelHttpServer1_23`](https://github.com/open-telemetry/semantic-conventions/blob/v1.23.0/docs/http/http-metrics.md)
      </td>

      <td>
        `server`
      </td>

      <td>
        `http.request.method IS NOT NULL`
      </td>

      <td>
        `WebTransaction/server/${http.request.method} ${http.route}`
      </td>

      <td>
        `Web`
      </td>

      <td />
    </tr>

    <tr>
      <td>
        [`OtelHttpServer1_20`](https://github.com/open-telemetry/opentelemetry-specification/blob/v1.20.0/specification/metrics/semantic_conventions/http-metrics.md)
      </td>

      <td>
        `server`
      </td>

      <td>
        `http.method IS NOT NULL`
      </td>

      <td>
        `WebTransaction/server/${http.method} ${http.route}`
      </td>

      <td>
        `Web`
      </td>

      <td />
    </tr>

    <tr>
      <td>
        [`OtelRpcServer1_20`](https://github.com/open-telemetry/opentelemetry-specification/blob/v1.20.0/specification/trace/semantic_conventions/rpc.md)
      </td>

      <td>
        `server`
      </td>

      <td>
        `rpc.system IS NOT NULL`
      </td>

      <td>
        `WebTransaction/server/${rpc.system}/${rpc.service:-unknown}.${rpc.method:-unknown}`
      </td>

      <td>
        `Web`
      </td>

      <td />
    </tr>

    <tr>
      <td>
        [`OtelMessagingConsumer1_24`](https://github.com/open-telemetry/semantic-conventions/blob/v1.24.0/docs/messaging/messaging-spans.md)
      </td>

      <td>
        `consumer`
      </td>

      <td>
        `messaging.operation IS NOT NULL`
      </td>

      <td>
        `OtherTransaction/consumer/${messaging.operation:-unknown}/${messaging.destination.template:-${messaging.destination.name:-unknown}}`
      </td>

      <td>
        `Other`
      </td>

      <td />
    </tr>

    <tr>
      <td>
        [`OtelDbClient1_33`](https://github.com/open-telemetry/semantic-conventions/blob/v1.33.0/docs/database/database-metrics.md)
      </td>

      <td>
        `internal`<br />`client`
      </td>

      <td>
        `db.system.name IS NOT NULL`
      </td>

      <td>
        `transactionName` del lapso de raíz local
      </td>

      <td>
        `transactionType` del lapso de raíz local
      </td>

      <td>
        `db.system`: `${db.system.name}`<br />`db.sql.table`: `${db.stored_procedure.name:-${db.collection.name:-${__db_summary_to_sql_table__}}}`<br />`db.operation`: `${db.operation.name:-${__db_summary_to_operation__:-unknown}}`
      </td>
    </tr>

    <tr>
      <td>
        [`OtelDbClientRedis1_24`](https://github.com/open-telemetry/semantic-conventions/blob/v1.24.0/docs/database/database-spans.md)
      </td>

      <td>
        `client`
      </td>

      <td>
        `db.system IS NOT NULL`<br />`db.system = 'redis'`
      </td>

      <td>
        `transactionName` del lapso de raíz local
      </td>

      <td>
        `transactionType` del lapso de raíz local
      </td>

      <td>
        `db.system`: `${db.system}`<br />`db.sql.table`: `${db.sql.table}`<br />`db.operation`: `${db.operation:-${name:-unknown}}`
      </td>
    </tr>

    <tr>
      <td>
        [`OtelDbClient1_24`](https://github.com/open-telemetry/semantic-conventions/blob/v1.24.0/docs/database/database-spans.md)
      </td>

      <td>
        `client`
      </td>

      <td>
        `db.system IS NOT NULL`
      </td>

      <td>
        `transactionName` del lapso de raíz local
      </td>

      <td>
        `transactionType` del lapso de raíz local
      </td>

      <td>
        `db.system`: `${db.system}`<br />`db.sql.table`: `${db.sql.table}`<br />`db.operation`: `${db.operation:-unknown}`
      </td>
    </tr>

    <tr>
      <td>
        [`OtelHttpClient1_23`](https://github.com/open-telemetry/semantic-conventions/blob/v1.23.1/docs/http/http-metrics.md)
      </td>

      <td>
        `client`
      </td>

      <td>
        `http.request.method IS NOT NULL`
      </td>

      <td>
        `transactionName` del lapso de raíz local
      </td>

      <td>
        `transactionType` del lapso de raíz local
      </td>

      <td>
        `external.host`: `${server.address:-unknown}`
      </td>
    </tr>

    <tr>
      <td>
        [`OtelHttpClient1_20`](https://github.com/open-telemetry/opentelemetry-specification/blob/v1.20.0/specification/metrics/semantic_conventions/http-metrics.md)
      </td>

      <td>
        `client`
      </td>

      <td>
        `http.method IS NOT NULL`
      </td>

      <td>
        `transactionName` del lapso de raíz local
      </td>

      <td>
        `transactionType` del lapso de raíz local
      </td>

      <td>
        `external.host`: `${net.peer.name:-unknown}`
      </td>
    </tr>

    <tr>
      <td>
        [`OtelRpcClient1_20`](https://github.com/open-telemetry/opentelemetry-specification/blob/v1.20.0/specification/metrics/semantic_conventions/rpc-metrics.md)
      </td>

      <td>
        `client`
      </td>

      <td>
        `rpc.system IS NOT NULL`
      </td>

      <td>
        `transactionName` del lapso de raíz local
      </td>

      <td>
        `transactionType` del lapso de raíz local
      </td>

      <td>
        `external.host`: `${net.peer.name:-unknown}`
      </td>
    </tr>
  </tbody>
</table>

### métrica: `apm.service.external.host.duration`

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        **Nombre**
      </th>

      <th>
        **[Tipo de instrumento](https://docs.newrelic.com/docs/data-apis/understand-data/metric-data/metric-data-type/)**
      </th>

      <th>
        **Unidad**
      </th>

      <th>
        **([UCUM](https://ucum.org/ucum))**
      </th>

      <th>
        **Descripción**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `apm.service.external.host.duration` | | |
      </td>

      <td>
        Distribución
      </td>

      <td>
        `s`, `ms`, `ns` **\[1]**
      </td>

      <td>
        Duración de las llamadas externas.
      </td>

      <td />
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        **Atributo**
      </th>

      <th>
        **Tipo**
      </th>

      <th>
        **Descripción**
      </th>

      <th>
        Ejemplo
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `external.host`
      </td>

      <td>
        `string`
      </td>

      <td>
        Dominio del servidor si está disponible sin búsqueda DNS inversa; de lo contrario, dirección IP o nombre de socket de dominio Unix
      </td>

      <td>
        `example.com`, `10.1.2.80`, `/tmp/my.sock`
      </td>
    </tr>
  </tbody>
</table>

**\[1]**: Se copia la unidad de la métrica de origen.

#### fuentes métricas

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        **Convención semántica**
      </th>

      <th>
        **Nombre de la métrica**
      </th>

      <th>
        **Condiciones**
      </th>

      <th>
        **`external.host`**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [`OtelHttpClient1_23`](https://github.com/open-telemetry/semantic-conventions/blob/v1.23.1/docs/http/http-metrics.md)
      </td>

      <td>
        `http.client.request.duration`
      </td>

      <td>
        `http.request.method IS NOT NULL`
      </td>

      <td>
        `${server.address:-unknown}`
      </td>
    </tr>

    <tr>
      <td>
        [`OtelHttpClient1_20`](https://github.com/open-telemetry/opentelemetry-specification/blob/v1.20.0/specification/metrics/semantic_conventions/http-metrics.md)
      </td>

      <td>
        `http.client.duration`
      </td>

      <td>
        `http.method IS NOT NULL`
      </td>

      <td>
        `${net.peer.name:-unknown}`
      </td>
    </tr>

    <tr>
      <td>
        [`OtelRpcClient1_20`](https://github.com/open-telemetry/opentelemetry-specification/blob/v1.20.0/specification/metrics/semantic_conventions/rpc-metrics.md)
      </td>

      <td>
        `rpc.client.duration`
      </td>

      <td>
        `rpc.system IS NOT NULL`
      </td>

      <td>
        `${net.peer.name:-unknown}`
      </td>
    </tr>
  </tbody>
</table>

### métrica: `apm.service.datastore.operation.duration`

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        **Nombre**
      </th>

      <th>
        **[Tipo de instrumento](https://docs.newrelic.com/docs/data-apis/understand-data/metric-data/metric-data-type/)**
      </th>

      <th>
        **Unidad ([UCUM](https://ucum.org/ucum))**
      </th>

      <th>
        **Descripción**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `apm.service.datastore.operation.duration`
      </td>

      <td>
        Distribución
      </td>

      <td>
        `s`, `ms`, `ns` **\[1]**
      </td>

      <td>
        Duración de las llamadas de almacenamiento de datos.
      </td>
    </tr>
  </tbody>
</table>

**\[1]**: Se copia la unidad de la métrica de origen.

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        **Atributo**
      </th>

      <th>
        **Tipo**
      </th>

      <th>
        **Descripción**
      </th>

      <th>
        **Ejemplo**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `db.system`
      </td>

      <td>
        `string`
      </td>

      <td>
        El producto del sistema de gestión de base de datos (DBMS) identificado por la instrumentación del cliente.
      </td>

      <td>
        `postgresql`, `mysql`, `mariadb`
      </td>
    </tr>

    <tr>
      <td>
        `db.sql.table`
      </td>

      <td>
        `string`
      </td>

      <td>
        El nombre de una colección (tabla, contenedor) dentro de la base de datos.
      </td>

      <td>
        `public.users`, `customers`
      </td>
    </tr>

    <tr>
      <td>
        `db.operation`
      </td>

      <td>
        `string`
      </td>

      <td>
        El nombre de la operación o comando que se está ejecutando.
      </td>

      <td>
        `findAndModify`, `HMSET`, `SELECT`
      </td>
    </tr>

    <tr>
      <td>
        `db.query.summary`
      </td>

      <td>
        `string`
      </td>

      <td>
        Resumen de baja cardinalidad de una consulta de la base de datos.
      </td>

      <td>
        `SELECT wuser_table`, `INSERT shipping_details`, `SELECT order`
      </td>
    </tr>
  </tbody>
</table>

#### fuentes métricas

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        **Convención semántica**
      </th>

      <th>
        **Nombre de la métrica**
      </th>

      <th>
        **Condiciones**
      </th>

      <th>
        **`db.system`**
      </th>

      <th>
        **`db.sql.table`**
      </th>

      <th>
        **`db.operation`**
      </th>

      <th>
        **`db.query.summary`**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [`OtelDbClient1_33`](https://github.com/open-telemetry/semantic-conventions/blob/v1.33.0/docs/database/database-metrics.md)
      </td>

      <td>
        `db.client.operation.duration`
      </td>

      <td>
        `db.system.name IS NOT NULL`
      </td>

      <td>
        `${db.system.name}`
      </td>

      <td>
        `${db.stored_procedure.name:-${db.collection.name:-${__db_summary_to_sql_table__}}}`
      </td>

      <td>
        `${db.operation.name:-${__db_summary_to_operation__:-unknown}}`
      </td>

      <td>
        `${db.query.summary}`
      </td>
    </tr>
  </tbody>
</table>

### Funciones auxiliares

Las funciones auxiliares son referencias a fragmentos de la lógica del atributo mapeo que son más complejos que las simples referencias a atributos.

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        **Función**
      </th>

      <th>
        **Descripción**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `__http_error_status_code_or_null__`
      </td>

      <td>
        Devuelve el valor de cadena de `http.status_code if >= 500`
      </td>
    </tr>

    <tr>
      <td>
        `__rpc_error_status_code_or_null__`
      </td>

      <td>
        Devuelve el valor de cadena de rpc.grpc.status\_code si en el conjunto: `[2,4,12,13,14,15]`
      </td>
    </tr>

    <tr>
      <td>
        `__db_summary_to_operation__`
      </td>

      <td>
        Devuelve la primera palabra en `db.query.summary` del conjunto (sin distinguir entre mayúsculas y minúsculas): `[alter,call,create,delete,drop,exec,execute,insert,merge,select,set,update]`
      </td>
    </tr>

    <tr>
      <td>
        `__db_summary_to_sql_table__`
      </td>

      <td>
        Devuelve la primera palabra en `db.query.summary` que NO está en el conjunto (sin distinguir entre mayúsculas y minúsculas): `[alter,call,create,delete,drop,exec,execute,insert,merge,select,set,update]`
      </td>
    </tr>

    <tr>
      <td>
        `__null__`
      </td>

      <td>
        marcador de posición para `null`
      </td>
    </tr>
  </tbody>
</table>

## Señales doradas [#golden-signals]

Las señales doradas de rendimiento, tiempo de respuesta y tasa de errores aparecen en varios lugares de la OpenTelemetry APM UI. Cuando se emplean, se calculan de la siguiente manera:

Para métrica, la consulta asume que los datos se ajustan a las convenciones semánticas [HTTP métrica](https://opentelemetry.io/docs/specs/semconv/http/http-metrics/) o [RPC métrica](https://opentelemetry.io/docs/specs/semconv/rpc/rpc-metrics/) .

Para los tramos, las consultas son genéricas y emplean únicamente el modelo de datos de tramos de nivel superior. Los intervalos se cuentan para el rendimiento y el tiempo de respuesta si son intervalos de entrada raíz en un servicio, se calculan empleando una heurística de `WHERE span.kind = server OR span.kind = consumer`. Los intervalos son errores si tienen un código de estado de `ERROR` (por ejemplo, `otel.status_code = ERROR`).

## Limitar datos con filtros [#narrow-with-filters]

Varias páginas incluyen una barra de filtros, con opciones como **Restringir datos a...**. Esto le permite filtrar consultas en la página para que coincidan con los criterios. Por ejemplo, puede restringir el despliegue a un canary en individuo filtrando por `service.version='1.2.3-canary'`. Los filtros se conservan al navegar entre páginas.

## Métricas doradas

Las métricas doradas son versiones de baja cardinalidad de datos de señales doradas, como HTTP/RPC métrica. Pueblan varias experiencias de plataforma, incluida la entidad Explorer, la página de actividad de carga de trabajo y la página de detalles de seguimiento de cambios. Estas métricas emplean nombres como `newrelic.goldenmetrics.ext.service.*`.

<Callout variant="important">
  Históricamente, las métricas doradas OpenTelemetry se calculaban a partir de tramos. Los intervalos suelen ser muestreados, por lo que solo proporcionan una imagen parcial. Ahora que las métricas están ampliamente disponibles, las métricas doradas se calculan empleando datos métricos en lugar de datos de intervalo.
</Callout>