---
title: Solucionar problemas de la integración de Elasticsearch y OpenTelemetry
tags:
  - OpenTelemetry
  - Elasticsearch
  - Integrations
  - Troubleshooting
metaDescription: Troubleshoot common issues with the Elasticsearch OpenTelemetry integration and resolve data collection problems.
freshnessValidatedDate: never
translationType: machine
---

Si ha completado la [instalación de la integración de OpenTelemetry de Elasticsearch](/docs/opentelemetry/integrations/elasticsearch/elasticsearch-otel-integration-install) pero no ve datos en New Relic, busque su problema a continuación y siga los pasos de la solución.

<CollapserGroup>
  <Collapser id="troubleshoot-collector-stopped" title="El servicio de colector se detuvo o falló">
    <strong>Cómo verificar</strong>

    ```bash
    sudo systemctl status otelcol-contrib
    ```

    <strong>Resolución</strong>

    * Si el servicio está inactivo, inícielo:
      <InlineCode>
        sudo systemctl start otelcol-contrib
      </InlineCode>
    * Si el servicio falló, corrija los errores de configuración y reinicie:
      <InlineCode>
        sudo systemctl restart otelcol-contrib
      </InlineCode>
  </Collapser>

  <Collapser id="troubleshoot-collector-logs-errors" title="Los logs del Collector reportan errores de scraping o exportación">
    <strong>Cómo verificar</strong>

    ```bash
    sudo journalctl -u otelcol-contrib.service -f
    ```

    <strong>Resolución</strong>

    Revise la salida del log y resuelva la causa raíz (por ejemplo, problemas de conexión, fallas de autenticación o problemas de permisos).
  </Collapser>

  <Collapser id="troubleshoot-connection-refused" title="Conexión rechazada al llamar a Elasticsearch">
    <strong>Muestra de error</strong>: <InlineCode>
      dial tcp \[::1]:9200: connect: connection refused
    </InlineCode>

    <strong>Resolución</strong>

    * Asegúrese de que el
      <InlineCode>
        endpoint
      </InlineCode>
      en
      <InlineCode>
        config.yaml
      </InlineCode>
      coincida con el host y el puerto de Elasticsearch.
    * Confirme que Elasticsearch se esté ejecutando y sea accesible desde el host del colector.
  </Collapser>

  <Collapser id="troubleshoot-403" title="403 Forbidden al exportar a New Relic">
    <strong>Muestra de error</strong>: <InlineCode>
      permanent error: 403 Forbidden
    </InlineCode>

    <strong>Resolución</strong>

    1. Verifique <InlineCode>
         NEWRELIC\_LICENSE\_KEY
       </InlineCode> en <InlineCode>
         /etc/systemd/system/otelcol-contrib.service.d/environment.conf
       </InlineCode>.

    2. Recargue systemd y reinicie el recopilador:

       ```bash
       sudo systemctl daemon-reload
       sudo systemctl restart otelcol-contrib
       ```
  </Collapser>

  <Collapser id="troubleshoot-permission-denied" title="Permiso denegado al recopilar logs">
    <strong>Muestra de error</strong>: <InlineCode>
      permission denied
    </InlineCode> o <InlineCode>
      cannot open file
    </InlineCode>

    <strong>Resolución</strong>

    1. Agregue el usuario del colector al grupo de Elasticsearch:
       ```bash
       sudo usermod -a -G elasticsearch otelcol-contrib
       ```
    2. Reinicie el colector:
       <InlineCode>
         sudo systemctl restart otelcol-contrib
       </InlineCode>
  </Collapser>

  <Collapser id="troubleshoot-api-reachability" title="No se puede acceder a la API de Elasticsearch desde el colector">
    <strong>Cómo verificar</strong>

    ```bash
    # Unsecured cluster
    curl -I http://localhost:9200

    # With authentication
    curl -u username:password -k https://localhost:9200
    ```

    <strong>Resolución</strong>

    Verifique que el clúster esté en buen estado, que las credenciales sean válidas y que la configuración del firewall o de seguridad permita el acceso.
  </Collapser>

  <Collapser id="troubleshoot-missing-entity" title="Entidad de Elasticsearch faltante en la UI de New Relic">
    <strong>Resolución</strong>

    * Asegúrese de que el procesador
      <InlineCode>
        resourcedetection
      </InlineCode>
      esté incluido en cada pipeline de métricas.
    * Verifique que
      <InlineCode>
        elasticsearch.cluster.name
      </InlineCode>
      esté configurado mediante el procesador
      <InlineCode>
        resource/cluster_name_override
      </InlineCode>
      .
  </Collapser>

  <Collapser id="troubleshoot-logs-missing" title="Métricas presentes pero faltan logs">
    <strong>Resolución</strong>

    * Confirme que las rutas del receptor
      <InlineCode>
        filelog
      </InlineCode>
      sean correctas y absolutas.
    * Verifique que el pipeline de logs incluya tanto el receptor
      <InlineCode>
        filelog
      </InlineCode>
      como el exportador
      <InlineCode>
        otlphttp
      </InlineCode>
      .
  </Collapser>
</CollapserGroup>