---
title: Descripción general de la supervisión de OpenTelemetry Kafka
tags:
  - Integrations
  - OpenTelemetry
  - Kafka
  - On-host integrations
metaDescription: Monitor Kafka with OpenTelemetry Collector for comprehensive metrics collection from self-hosted and Kubernetes Kafka clusters.
freshnessValidatedDate: never
translationType: machine
---

El monitoreo de Kafka proporciona visibilidad en tiempo real de sus clústeres de Apache Kafka para garantizar una transmisión de datos confiable y evitar costosos tiempos de inactividad en sistemas distribuidos. Al usar un enfoque basado en recopiladores, obtiene un monitoreo integral a través de una solución flexible e independiente del proveedor que funciona en entornos autohospedados y Kubernetes con Strimzi.

## Opciones del colector [#collector-options]

New Relic admite dos distribuciones de OpenTelemetry Collector para el monitoreo de Kafka, y ambas ofrecen una funcionalidad idéntica con los mismos archivos de configuración y capacidades de monitoreo.

* **NRDOT Collector (recomendado)**: La distribución de New Relic de OpenTelemetry Collector con soporte de New Relic para asistencia. Descargar desde [lanzamientos de NRDOT Collector](https://github.com/newrelic/nrdot-collector-releases/releases).
* **OpenTelemetry Collector**: La distribución de la comunidad upstream. Descargar de [lanzamientos de OpenTelemetry Collector](https://github.com/open-telemetry/opentelemetry-collector-releases/releases).

Seleccione el colector que mejor se adapte a sus requisitos operativos y de soporte, luego proceda a [configurar el monitoreo](#get-started) para su entorno.

<img title="OTel Kafka Dashboard" alt="Dashboard showing Kafka cluster health, network throughput, active brokers, topics, partitions, and consumer groups" src="/images/otel-kafka-dashboard.webp" />

<figcaption>
  Supervise sus clústeres de Kafka con dashboards integrales que muestran el estado del clúster, el estado del broker, las métricas de los temas y el rendimiento del grupo de consumidores.
</figcaption>

## ¿Por qué supervisar Kafka?

* Evite interrupciones: reciba alertas sobre fallas de intermediarios, particiones con poca replicación y temas fuera de línea antes de que causen tiempo de inactividad
* Optimice el rendimiento: identifique el retraso del consumidor, los productores lentos y los cuellos de botella de la red que afectan la velocidad de procesamiento de datos
* Planifique la capacidad: realice un seguimiento del uso de recursos, las tasas de mensajes y los recuentos de conexiones para escalar de forma proactiva
* Asegure la integridad de los datos: supervise el estado de la replicación y el equilibrio de la partición para evitar la pérdida de datos

### Caso de uso común

Ya sea que esté transmitiendo transacciones financieras, procesando datos de sensores de IoT o manejando la comunicación de microservicios, la supervisión de Kafka lo ayuda a detectar problemas antes de que afecten a su negocio. Reciba alertas cuando los picos de retraso del consumidor amenacen los dashboards en tiempo real, cuando las fallas del broker pongan en riesgo la pérdida de datos o cuando los cuellos de botella de la red ralenticen las tuberías de datos críticas. Esta supervisión es esencial para plataformas de comercio electrónico, sistemas de análisis en tiempo real y cualquier aplicación donde los retrasos o fallas en la entrega de mensajes puedan afectar la experiencia del usuario o las operaciones comerciales.

## Empezar [#get-started]

Elija su entorno Kafka para comenzar a monitorear. Cada guía de configuración incluye requisitos previos, pasos de configuración y consejos para la solución de problemas.

<TechTileGrid>
  <TechTile name="Self-hosted Kafka" to="/docs/opentelemetry/integrations/kafka/self-hosted" icon="logo-linux" />

  <TechTile name="Kubernetes (Strimzi)" to="/docs/opentelemetry/integrations/kafka/kubernetes-strimzi" icon="logo-kubernetes" />
</TechTileGrid>

## Cómo funciona [#how-it-works]

El monitoreo de Kafka funciona desplegando un colector junto a su clúster de Kafka para recopilar continuamente datos de rendimiento. El recopilador utiliza múltiples componentes especializados para capturar métricas integrales de diferentes partes de su infraestructura de Kafka.

**Tres componentes trabajan en conjunto para recopilar sus datos:**

* [Receptor de métricas de Kafka](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/kafkametricsreceiver) - Se conecta a su clúster de Kafka para monitorear la salud general, incluido el retraso del consumidor, las métricas de los tópicos y el estado de las particiones
* [OpenTelemetry Java Agent](https://github.com/open-telemetry/opentelemetry-java-instrumentation) - Se ejecuta junto a cada broker de Kafka para recopilar métricas detalladas de rendimiento de la JVM y datos operativos, luego envía esta información al recopilador
* [Receptor OTLP](https://github.com/open-telemetry/opentelemetry-collector/tree/main/receiver/otlpreceiver) - Recibe y procesa las métricas detalladas del broker del Agente Java

**Flujo de datos:**

1. El OpenTelemetry Java Agent se adjunta a los brokers de Kafka como un agente Java mediante el parámetro `-javaagent`
2. El Agente Java recopila métricas JMX de los brokers de Kafka mediante reglas de configuración personalizadas
3. Las métricas se envían a través del protocolo OTLP (gRPC) al OpenTelemetry Collector en el puerto 4317
4. El receptor de métricas de Kafka recopila métricas a nivel de clúster directamente de Kafka a través del puerto de arranque
5. Los datos se procesan, enriquecen y se agrupan para una transmisión eficiente
6. Las métricas se exportan a New Relic a través del exportador OTLP
7. New Relic crea entidades automáticamente y rellena los dashboards

**Lo que obtiene:** Las métricas clave incluyen retraso del consumidor, salud del broker, tasas de solicitudes, rendimiento de red, estado de replicación de particiones, utilización de recursos y datos de rendimiento de la JVM.

Para obtener nombres de métricas, descripciones y recomendaciones de alertas completas, consulte la [referencia de métricas de Kafka](/docs/opentelemetry/integrations/kafka/metrics-reference).

### Opcional: Añadir la supervisión a nivel de aplicación

La configuración de supervisión anterior rastrea el estado y el rendimiento de tu clúster de Kafka. Para obtener una imagen completa de cómo fluyen los datos a través de su sistema, también puede supervisar las aplicaciones que envían y reciben mensajes de Kafka.

**La supervisión de la aplicación añade:**

* Latencias de solicitud desde sus aplicaciones a Kafka
* Métricas de rendimiento a nivel de aplicación
* Tasas de error y rastreos distribuidos
* Visibilidad completa de productores → brokers → consumidores

**Configuración rápida:** Use el [Agente Java de OpenTelemetry](https://opentelemetry.io/docs/zero-code/java/agent/getting-started/) para la [instrumentación de Kafka sin código](https://opentelemetry.io/docs/zero-code/java/spring-boot-starter/out-of-the-box-instrumentation/). Para una configuración avanzada, consulte la [documentación de instrumentación de Kafka](https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/instrumentation/kafka).

## Próximos pasos [#next-steps]

¿Listo para comenzar a supervisar tus clústeres de Kafka?

**Configurar la supervisión:**

* [Kafka autohospedado](/docs/opentelemetry/integrations/kafka/self-hosted) - Monitorea Kafka que se ejecuta en máquinas físicas o virtuales
* [Kubernetes con Strimzi](/docs/opentelemetry/integrations/kafka/kubernetes-strimzi) - Monitoree Kafka desplegado en Kubernetes

**Después de la configuración:**

* [Busca y consulta tus datos](/docs/opentelemetry/integrations/kafka/find-and-query-data) - Navega por la interfaz de usuario de New Relic y escribe consultas NRQL
* [Explorar las métricas de Kafka](/docs/opentelemetry/integrations/kafka/metrics-reference) - Referencia completa de métricas con recomendaciones de alertas