---
title: Valores de configuración del agente de infraestructura
tags:
  - Infrastructure
  - Install the infrastructure agent
  - Configuration
metaDescription: 'Configuration settings for the New Relic infrastructure agent, including YAML and environment variable names, value, minimum agent version.'
freshnessValidatedDate: never
translationType: machine
---

El agente de infraestructura tiene un gran conjunto de [opciones de configuración para ajustar su comportamiento](/docs/infrastructure/new-relic-infrastructure/configuration/configure-infrastructure-agent). Aquí nosotros:

* Enumere todas las opciones de configuración (tanto en su YAML como en los nombres de las variables de entorno).
* Explique qué hacen las configuraciones y cuándo usarlas.
* Proporcione el tipo de variable y el valor predeterminado (si corresponde).
* Enumere la versión mínima requerida del agente según corresponda.

<Callout variant="important">
  Con la administración de secretos, puede configurar la integración del agente en el host con infraestructura para usar datos confidenciales (como contraseñas) sin tener que escribirlos como texto sin formato en el archivo de configuración de la integración. Para obtener más información, consulte [Gestión de secretos](/docs/integrations/host-integrations/installation/secrets-management).
</Callout>

¿Aún no tienes una cuenta New Relic? [Regístrate](https://newrelic.com/signup) gratis, para siempre.

## Empezar [#requirements]

Podrá configurar nuestro agente de infraestructura para adaptarlo a su entorno después de [crear una cuenta New Relic](https://newrelic.com/signup) (es gratis, para siempre) e [instalar el agente de infraestructura](/docs/infrastructure/install-infrastructure-agent/get-started/install-infrastructure-agent/).

El [`license_key`](#license-key) es la única configuración requerida.

Para ver un ejemplo de cómo se pueden usar todas estas variables, consulte nuestra [plantilla de configuración de muestra en GitHub](https://github.com/newrelic/infrastructure-agent/blob/master/assets/examples/infrastructure/newrelic-infra-template.yml.example).

## Variables de entorno

Muchas de las opciones de configuración enumeradas también admiten el uso de variables de entorno para establecer valores, que tienen prioridad sobre la configuración YAML.

<Callout variant="important">
  A menudo, el agente de infraestructura se ejecuta como un servicio del sistema en el host, gestionado globalmente (por ejemplo, `systemd` para Linux, servicios de Windows, `launchd` para macOS, etc.). Para aplicar cambios de configuración con variables de entorno en esta configuración, dichas variables de entorno deben configurar y hacer visibles para el contexto aislado donde se ejecuta el servicio del agente de infraestructura. La forma de hacer esto depende de la plataforma; consulte la documentación del administrador de servicios de su plataforma para saber cómo agregar variables de entorno a los servicios del sistema.
</Callout>

## Variables del agente [#agent-variables]

<CollapserGroup>
  <Collapser
    className="freq-link"
    id="license-key"
    title={<>license_key (<strong>REQUERIDA)</strong></>
    }
  >
    Especifica el <InlinePopover type="licenseKey" />para su cuenta New Relic. El agente utiliza esta clave para asociar la métrica de su servidor con su cuenta New Relic. Esta configuración se crea como parte del proceso de instalación estándar.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `license_key`
          </td>

          <td>
            `NRIA_LICENSE_KEY`
          </td>

          <td>
            cadena
          </td>

          <td />

          <td />
        </tr>
      </tbody>
    </table>

    Ejemplo:

    ```yml
    license_key: 1234567890abcdefghijklmnopqrstuvwxyz1234
    ```
  </Collapser>

  <Collapser className="freq-link" id="fedramp" title="FedRAMP">
    Especifica si se debe utilizar FedRAMP extremo.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `fedramp`
          </td>

          <td>
            `NRIA_FEDRAMP`
          </td>

          <td>
            booleano
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.15.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1150)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="max-procs" title="max_procs">
    Especifica la cantidad de procesadores lógicos disponibles para el agente. Aumentar este valor ayuda a distribuir la carga entre diferentes núcleos.

    Si se establece en `-1`, el agente intentará leer la variable de entorno `GOMAXPROCS`. Si esta variable no está configurada, el valor predeterminado será el número total de núcleos disponibles en el host.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `max_procs`
          </td>

          <td>
            `NRIA_MAX_PROCS`
          </td>

          <td>
            entero
          </td>

          <td>
            `1`
          </td>

          <td>
            [1.0.1002](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-101002)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="payload-compression-level" title="payload_compression_level">
    Desde la versión [1.0.804](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10804) o superior, los datos enviados desde el agente se comprimen de forma predeterminada. Para deshabilitar la compresión de carga útil, establezca `payload_compression_level` en 0.

    <Callout variant="important">
      Recomendación: No cambie esta configuración.
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `payload_compression_level`
          </td>

          <td>
            `NRIA_PAYLOAD_COMPRESSION_LEVEL`
          </td>

          <td>
            entero
          </td>

          <td>
            `6`
          </td>

          <td>
            [1.0.804](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10804)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="startup-connection-retries" title="startup_connection_retries">
    Número de veces que el agente reintentará la solicitud para verificar la disponibilidad de la plataforma de New Relic al inicio antes de generar un error.

    Si se establece en <DNT>**negative value**</DNT>, el agente seguirá comprobando la conexión hasta que tenga éxito.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `startup_connection_retries`
          </td>

          <td>
            `NRIA_STARTUP_CONNECTION_RETRIES`
          </td>

          <td>
            entero
          </td>

          <td>
            `6`
          </td>

          <td>
            1.0.936
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="startup-connection-retries" title="startup_connection_retry_time">
    Después de que se agota el tiempo de espera de una solicitud, tiempo que el agente espera para volver a intentar una solicitud y verificar la disponibilidad de la plataforma de New Relic al inicio.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `startup_connection_retry_time`
          </td>

          <td>
            `NRIA_STARTUP_CONNECTION_RETRY_TIME`
          </td>

          <td>
            cadena
          </td>

          <td>
            `5s`
          </td>

          <td>
            1.0.936 - 1.2.30
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="startup-connection-timeout" title="startup_connection_timeout">
    El tiempo que el agente espera hasta que una solicitud para verificar la disponibilidad de la plataforma de New Relic en el inicio se considera agotado.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `startup_connection_timeout`
          </td>

          <td>
            `NRIA_STARTUP_CONNECTION_TIMEOUT`
          </td>

          <td>
            cadena
          </td>

          <td>
            `10s`
          </td>

          <td>
            1.0.936
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="self-instrumentation" title="self_instrumentation">
    Habilita [la auto instrumentación del agente](/docs/infrastructure/install-infrastructure-agent/manage-your-agent/infrastructure-agent-self-instrumentation).

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `self_instrumentation`
          </td>

          <td>
            `NRIA_SELF_INSTRUMENTATION`
          </td>

          <td>
            cadena
          </td>

          <td>
            `empty`
          </td>

          <td>
            [1.24.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1240)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="logging_retry-limit" title="logging_retry_limit">
    Habilita [el reintento del agente para la transmisión log ](/docs/infrastructure/install-infrastructure-agent/manage-your-agent/infrastructure-agent-behavior/#retry)a través del reenviador de registros integrado de fluentbit. Los valores enteros corresponden al número de reintentos previstos. Otros valores posibles incluyen `False` para establecer el número de reintentos en infinito y `no_retries` para desactivar por completo la función de reintento.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `logging_retry_limit`
          </td>

          <td>
            `NRIA_LOGGING_RETRY_LIMIT`
          </td>

          <td>
            entero
          </td>

          <td>
            `5`
          </td>

          <td>
            [1.29.1](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1291)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Variables de la nube

Si el agente se ejecuta en una instancia de nube, intentará detectar el tipo de nube y recuperar [metadatos](/docs/integrations/new-relic-integrations/getting-started/understand-use-data-infrastructure-integrations#overview) básicos. métrica también se puede enriquecer con metadatos de nube extendidos (incluida una etiqueta de recursos personalizada) al [conectar la cuenta del proveedor de la nube](/docs/infrastructure/infrastructure-integrations/get-started/introduction-infrastructure-integrations#cloud) con New Relic.

<CollapserGroup>
  <Collapser className="freq-link" id="cloud-max-retry-count" title="cloud_max_retry_count">
    Establece la cantidad de veces que el agente vuelve a intentar conectarse en caso de que falle la detección de la nube.

    Si la detección de la nube falla durante la inicialización del agente, el agente volverá a intentarlo después de esperar [`CloudRetryBackOffSec` segundos](#cloud-retry-backoff-sec).

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `cloud_max_retry_count`
          </td>

          <td>
            `NRIA_CLOUD_MAX_RETRY_COUNT`
          </td>

          <td>
            entero
          </td>

          <td>
            `10`
          </td>

          <td>
            1.2.6
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="cloud-metadata-expiry-sec" title="cloud_metadata_expiry_sec">
    Establece el intervalo de tiempo que esperará el agente hasta descartar los metadatos, en segundos. Después de este período, los metadatos caducan y el agente los recuperará nuevamente.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `cloud_metadata_expiry_sec`
          </td>

          <td>
            `NRIA_CLOUD_METADATA_EXPIRY_SEC`
          </td>

          <td>
            entero
          </td>

          <td>
            `300`
          </td>

          <td>
            1.2.6
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="cloud-retry-backoff-sec" title="cloud_retry_backoff_sec">
    Establece el intervalo de tiempo que el agente espera entre los reintentos de detección de la nube en caso de que la detección de la nube falle, en segundos.

    Si la detección de la nube falla durante la inicialización del agente, lo volverá a intentar [`CloudMaxRetryCount` veces](#cloud-max-retry-count).

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `cloud_retry_backoff_sec`
          </td>

          <td>
            `NRIA_CLOUD_RETRY_BACKOFF_SEC`
          </td>

          <td>
            entero
          </td>

          <td>
            `60`
          </td>

          <td>
            1.2.6
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="cloud-provider" title="cloud_provider">
    Especifica el proveedor de nube en el que se ejecuta el agente. Cuando esto se configura en un valor diferente al predeterminado, el agente esperará hasta que adquiera exitosamente los metadatos (el ID de la instancia) del proveedor de la nube antes de enviar cualquier dato al backend.

    Con el comportamiento predeterminado, el agente también intentará detectar el proveedor de la nube y obtener los metadatos pero sin bloquear al agente.

    Valores permitidos: `""`, `"aws"`, `"azure"`, `"gcp"`, `"alibaba"`

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `cloud_provider`
          </td>

          <td>
            `NRIA_CLOUD_PROVIDER`
          </td>

          <td>
            cadena
          </td>

          <td>
            `""`
          </td>

          <td>
            1.40.1
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="disable-cloud-instance-id" title="disable_cloud_instance_id">
    Similar a [`DisableCloudMetadata`](#disable-cloud-metadata), pero deshabilita la recopilación de metadatos de la nube solo para el complemento de alias de host.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `disable_cloud_instance_id`
          </td>

          <td>
            `NRIA_DISABLE_CLOUD_INSTANCE_ID`
          </td>

          <td>
            booleano
          </td>

          <td>
            `false`
          </td>

          <td>
            1.0.220
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="disable-cloud-metadata" title="disable_cloud_metadata">
    Deshabilita la recopilación de metadatos en la nube.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `disable_cloud_metadata`
          </td>

          <td>
            `NRIA_DISABLE_CLOUD_METADATA`
          </td>

          <td>
            booleano
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.0.690](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10690)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Variables Docker

<CollapserGroup>
  <Collapser className="freq-link" id="container-cache-metadata-limit" title="container_cache_metadata_limit">
    Tiempo, en segundos, antes de que caduquen los metadatos del contenedor almacenado en caché y el agente necesite recuperarlos nuevamente.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `container_cache_metadata_limit`
          </td>

          <td>
            `NRIA_CONTAINER_CACHE_METADATA_LIMIT`
          </td>

          <td>
            entero
          </td>

          <td>
            `60`
          </td>

          <td>
            1.0.801
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="docker-api-version" title="docker_api_version">
    Especifica la versión de la API del cliente Docker .

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `docker_api_version`
          </td>

          <td>
            `NRIA_DOCKER_API_VERSION`
          </td>

          <td>
            cadena
          </td>

          <td>
            `1.24`
          </td>

          <td>
            [1.1.4](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-114)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Variables del sistema de archivos [#filesystem-variables]

<CollapserGroup>
  <Collapser className="freq-link" id="custom-supported-file-systems" title="custom_supported_file_systems">
    Lista de los tipos de sistemas de archivos que admite el agente. Este valor debe ser un subconjunto de la lista predeterminada y los elementos que no estén en la lista predeterminada se descartarán.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `custom_supported_file_systems`
          </td>

          <td>
            `NRIA_CUSTOM_SUPPORTED_FILESYSTEMS`
          </td>

          <td>
            \[]cadena
          </td>

          <td>
            Linux: `["xfs", "btrfs", "ext", "ext2", "ext3", "ext4", "hfs", "vxfs", "zfs"]`

            Ventanas: `["NTFS", "ReFS"]`
          </td>

          <td>
            1.0.220
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="file-devices-ignored" title="file_devices_ignored">
    Lista de dispositivos de almacenamiento que el agente ignorará al recopilar datos `StorageSample` .

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `file_devices_ignored`
          </td>

          <td>
            `NRIA_FILE_DEVICES_IGNORED`
          </td>

          <td>
            \[]cadena
          </td>

          <td />

          <td>
            1.0.220
          </td>
        </tr>
      </tbody>
    </table>

    Ejemplo como atributo YAML:

    ```yml
    file_devices_ignored:
      - sda1
      - sda2
    ```

    Ejemplo como variable de entorno:

    ```ini
    FILE_DEVICES_IGNORED="sda1,sda2"
    ```
  </Collapser>
</CollapserGroup>

## Variables de nombre de host

<CollapserGroup>
  <Collapser className="freq-link" id="display-name" title="display_name">
    Anula el nombre de host generado automáticamente para generar informes. Esto es útil cuando tiene varios hosts con el mismo nombre, ya que nuestro monitoreo de infraestructura utiliza el nombre de host como identificador único para cada host. Tenga en cuenta que este valor también se utiliza para el reemplazo de direcciones de loopback en nombres de entidades.

    Para obtener más información, consulte nuestra documentación sobre [cómo funciona la resolución de nombres de entidades](/docs/integrations/integrations-sdk/file-specifications/integration-executable-file-specifications#h2-loopback-address-replacement-on-entity-names).

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `display_name`
          </td>

          <td>
            `NRIA_DISPLAY_NAME`
          </td>

          <td>
            cadena
          </td>

          <td>
            vacío
          </td>

          <td>
            1.0.266
          </td>
        </tr>
      </tbody>
    </table>

    Ejemplo:

    ```yml
    display_name: teslaOne
    ```
  </Collapser>

  <Collapser className="freq-link" id="dns_hostname_resolution" title="dns_hostname_resolution">
    Cuando `true`, el nombre de host completo se resuelve realizando una búsqueda inversa de la dirección del host. De lo contrario, se recuperará con el comando nombre de host en Linux y desde el parámetro TCP/IP del registro en Windows.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `dns_hostname_resolution`
          </td>

          <td>
            `NRIA_DNS_HOSTNAME_RESOLUTION`
          </td>

          <td>
            booleano
          </td>

          <td>
            `true`
          </td>

          <td>
            [1.2.6](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-125)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="override-hostname" title="override_hostname">
    Cuando se establece, este es el valor que se informará para el nombre de host completo; de lo contrario, el agente realizará el comportamiento de búsqueda normal.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `override_hostname`
          </td>

          <td>
            `NRIA_OVERRIDE_HOSTNAME`
          </td>

          <td>
            cadena
          </td>

          <td />

          <td>
            1.0.1015
          </td>
        </tr>
      </tbody>
    </table>

    Ejemplo:

    ```
    my.custom-hostname.co.org
    ```
  </Collapser>

  <Collapser className="freq-link" id="override-hostname-short" title="override_hostname_short">
    Cuando se establece, este es el valor que se informará para el nombre de host; de lo contrario, el agente realizará el comportamiento de búsqueda normal.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `override_hostname_short`
          </td>

          <td>
            `NRIA_OVERRIDE_HOSTNAME_SHORT`
          </td>

          <td>
            cadena
          </td>

          <td />

          <td>
            1.0.1015
          </td>
        </tr>
      </tbody>
    </table>

    Ejemplo:

    ```
    my.custom-hostname
    ```
  </Collapser>
</CollapserGroup>

## Variables de instalación [#installation-variables]

<CollapserGroup>
  <Collapser className="freq-link" id="agent-dir" title="agent_dir">
    Directorio donde el agente almacena archivos para caché, inventario, integración, etc.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `agent_dir`
          </td>

          <td>
            `NRIA_AGENT_DIR`
          </td>

          <td>
            cadena
          </td>

          <td>
            Linux: `/var/db/newrelic-infra`

            Ventanas: `C:\Program Files\NewRelic\newrelic-infra\`
          </td>

          <td>
            1.0.2
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="plugin-dir" title="plugin_dir">
    Directorio que contiene los archivos de configuración de la integración.

    Cada integración tiene su propio archivo de configuración, denominado de forma predeterminada `<integration_name>-config.yml`, ubicado en una ubicación predefinida desde la cual el agente carga durante la inicialización.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `plugin_dir`
          </td>

          <td>
            `NRIA_PLUGIN_DIR`
          </td>

          <td>
            cadena
          </td>

          <td>
            Linux: `etc/newrelic-infra/integrations.d/`

            Ventanas: `\Program Files\NewRelic\newrelic-infra\integrations.d`
          </td>

          <td>
            1.0.2
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="custom-plugin-installation-dir" title="custom_plugin_installation_dir">
    Especifica una ruta personalizada para instalar la integración, que permite instalarlos fuera del `agent_dir`. Tiene prioridad cuando el agente busca integración instalada.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `custom_plugin_installation_dir`
          </td>

          <td>
            `NRIA_CUSTOM_PLUGIN_INSTALLATION_DIR`
          </td>

          <td>
            cadena
          </td>

          <td>
            Vacío
          </td>

          <td>
            1.0.2
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Variables de integracion

<CollapserGroup>
  <Collapser className="freq-link" id="passthrough_-environment" title="passthrough_environment">
    Una lista de variables de entorno que se pasarán a todas las integraciones. Si una integración ya tiene una opción de configuración existente con el mismo nombre, entonces la variable de entorno tiene prioridad.

    A partir del agente de infraestructura 1.24.1, `passthrough_environment` admite expresiones regulares para nombres de variables.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `passthrough_environment`
          </td>

          <td>
            `NRIA_PASSTHROUGH_ENVIRONMENT`
          </td>

          <td>
            \[]cadena
          </td>

          <td>
            Vacío
          </td>

          <td>
            [1.0.719](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10719)
          </td>
        </tr>
      </tbody>
    </table>

    Ejemplo como atributo YAML (dentro del archivo de configuración del agente, ubicado por defecto en `/etc/newrelic-infra.yml`):

    ```yml
    passthrough_environment:
      - HOST
      - PORT
      - NRIA_.*
    ```

    Ejemplo como variable de entorno:

    ```ini
    NRIA_PASSTHROUGH_ENVIRONMENT="HOST,PORT,NRIA_.*"
    ```

    Para hosts de Windows: `PATHEXT` es una variable de entorno de MS Windows. La función es determinar qué extensiones de archivo marcan los archivos que son ejecutables desde cada línea de comando. Esto resolverá cualquier error que informe &quot;... no se reconoce como el nombre de un cmdlet, función, archivo de script...&quot; para la integración Flex común:

    ```yml
    passthrough_environment:
      - PATHEXT
    ```
  </Collapser>

  <Collapser className="freq-link" id="entityname-integrations-v2-update" title="entityname_integrations_v2_update">
    El agente habilita el reemplazo de la dirección de bucle invertido en el nombre de la entidad (y, por lo tanto, la clave) automáticamente para la versión 3 del protocolo de integración. Si está utilizando la versión 2 del protocolo y desea este comportamiento, habilite la opción `entityname_integrations_v2_update` .

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `entityname_integrations_v2_update`
          </td>

          <td>
            `NRIA_ENTITYNAME_INTEGRATIONS_V2_UPDATE`
          </td>

          <td>
            booleano
          </td>

          <td>
            `false`
          </td>

          <td>
            1.2.15
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="http-server-enabled" title="http_server_enabled">
    Al establecer este parámetro de configuración en `true` , el agente abrirá un puerto HTTP (de forma predeterminada, `8001`) para recibir datos del backend de New Relic StatsD.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `http_server_enabled`
          </td>

          <td>
            `NRIA_HTTP_SERVER_ENABLED`
          </td>

          <td>
            booleano
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.0.818](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10818)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="http-server-host" title="http_server_host">
    Al establecer este valor, el agente comenzará a escuchar en el `HTTPServerPort` para recibir datos del backend de New Relic StatsD.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `http_server_host`
          </td>

          <td>
            `NRIA_HTTP_SERVER_HOST`
          </td>

          <td>
            cadena
          </td>

          <td>
            `localhost`
          </td>

          <td>
            [1.0.818](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10818)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="http-server-port" title="http_server_port">
    Establece el puerto para que el servidor http reciba datos del backend de New Relic StatsD.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `http_server_port`
          </td>

          <td>
            `NRIA_HTTP_SERVER_PORT`
          </td>

          <td>
            entero
          </td>

          <td>
            `8001`
          </td>

          <td>
            [1.0.818](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10818)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="http-server-cert" title="http_server_cert">
    The path to a PEM-encoded certificate used to listen for integration payloads over HTTPS. When configured with `http_server_key`, the agent uses HTTPS for the integration payload server.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `http_server_cert`
          </td>

          <td>
            `NRIA_HTTP_SERVER_CERT`
          </td>

          <td>
            cadena
          </td>

          <td>
            (ninguno)
          </td>

          <td>
            [1.24.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1240)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="http-server-key" title="http_server_key">
    The path to a PEM-encoded key used to listen for integration payloads over HTTPS. When configured with `http_server_cert`, the agent uses HTTPS for the integration payload server.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `http_server_key`
          </td>

          <td>
            `NRIA_HTTP_SERVER_KEY`
          </td>

          <td>
            cadena
          </td>

          <td>
            (ninguno)
          </td>

          <td>
            [1.24.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1240)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="http-server-ca" title="http_server_ca">
    The path to a PEM-encoded CA certificate used to enforce client certificate validation for HTTPS requests. When configured, the agent verifies client certificates against this CA to enable mutual TLS (mTLS) authentication for the integration payload server.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `http_server_ca`
          </td>

          <td>
            `NRIA_HTTP_SERVER_CA`
          </td>

          <td>
            cadena
          </td>

          <td>
            (ninguno)
          </td>

          <td>
            [1.24.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1240)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="remove-entities-period" title="remove_entities_period">
    Inicia el proceso de eliminación de entidades que no han reportado información durante este intervalo.

    Unidades de tiempo válidas: `s` (segundos), `m` (minutos) y `h` (hora).

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `remove_entities_period`
          </td>

          <td>
            `NRIA_REMOVE_ENTITIES_PERIOD`
          </td>

          <td>
            cadena
          </td>

          <td>
            `48h`
          </td>

          <td>
            [1.0.859](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10859)
          </td>
        </tr>
      </tbody>
    </table>

    Ejemplo:

    ```
    1h
    ```
  </Collapser>

  <Collapser className="freq-link" id="event_queue_depth" title="event_queue_depth">
    Si tiene una gran cantidad de procesos en el host o un gran volumen de datos recopilados a través de su integración, la cola del agente puede desbordarse. Aumente la profundidad de la cola para evitar mensajes de error resultantes de colas llenas.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `event_queue_depth`
          </td>

          <td>
            `NRIA_EVENT_QUEUE_DEPTH`
          </td>

          <td>
            int64
          </td>

          <td>
            `1000`
          </td>

          <td>
            [1.12.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1120/)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="default_integrations_temp_dir" title="default_integrations_temp_dir">
    Define el directorio temporal utilizado como almacenamiento persistente para la sincronización del SDK de integración.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `default_integrations_temp_dir`
          </td>

          <td>
            `NRIA_DEFAULT_INTEGRATIONS_TEMP_DIR`
          </td>

          <td>
            cadena
          </td>

          <td>
            `/tmp/nr-integrations`
          </td>

          <td>
            [1.50.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1500/)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="is_integrations_only" title="is_integrations_only">
    Emplee esta configuración si está instrumentando el host desde una fuente distinta al agente de infraestructura (por ejemplo, un recopilador OpenTelemetry o un exportador de nodos Prometheus) y desea seguir usando la integración del agente de infraestructura en el host para monitor otros servicios de infraestructura. Cuando está habilitado, el agente reporta el inventario del host y la telemetría de integración (evento métrico e inventario) decorados con metadatos del host, pero las métricas del host (CPU, memoria, disco, red, procesos) están deshabilitadas.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `is_integrations_only`
          </td>

          <td>
            `NRIA_IS_INTEGRATIONS_ONLY`
          </td>

          <td>
            booleano
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.53.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1530/)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Variables de inventario

<CollapserGroup>
  <Collapser className="freq-link" id="offline-time-to-reset" title="offline_time_to_reset">
    Si el inventario almacenado en caché supera este valor (por ejemplo, porque el agente está fuera de línea), el agente elimina y vuelve a crear automáticamente el almacén delta.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `offline_time_to_reset`
          </td>

          <td>
            `NRIA_OFFLINE_TIME_TO_RESET`
          </td>

          <td>
            cadena
          </td>

          <td>
            `24h`
          </td>

          <td>
            [1.0.888](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10888)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="enable-async-inventory" title="enable_async_inventory">
    Cuando se establece en verdadero, habilita el procesamiento asincrónico del inventario, lo que permite procesar una carga de inventario más grande.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `async_inventory_handler_enabled`
          </td>

          <td>
            `NRIA_ASYNC_INVENTORY_HANDLER_ENABLED`
          </td>

          <td>
            bool
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.40.1](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1401)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="ignored-inventory" title="ignored_inventory">
    La lista de rutas de inventario ignoradas por el agente.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `ignored_inventory`
          </td>

          <td>
            `NRIA_IGNORED_INVENTORY`
          </td>

          <td>
            string\[]
          </td>

          <td>
            Lista vacía
          </td>

          <td>
            [1.0.336](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10336)
          </td>
        </tr>
      </tbody>
    </table>

    Ejemplo como atributo YAML:

    ```yml
    ignored_inventory:
      - files/config/stuff.bar
      - files/config/stuff.foo
    ```

    Ejemplo como variable de entorno:

    ```ini
    NRIA_IGNORED_INVENTORY="files/config/stuff.bar,files/config/stuff.foo"
    ```
  </Collapser>
</CollapserGroup>

## Variables de linux [#linux-variables]

<CollapserGroup>
  <Collapser className="freq-link" id="pid-file" title="pid_file">
    Ubicación en Linux donde se crea el archivo `pid` del proceso del agente. Se utiliza al inicio para garantizar que no se esté ejecutando ninguna otra instancia del agente.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `pid_file`
          </td>

          <td>
            `NRIA_PID_FILE`
          </td>

          <td>
            cadena
          </td>

          <td>
            `/var/run/newrelic-infra/newrelic-infra.pid`
          </td>

          <td>
            1.0.2
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="ignore-reclaimable" title="ignore_reclaimable">
    Cuando es verdadero, la formulación de la memoria virtual del host considera `SReclaimable` como memoria disponible; de lo contrario, `SReclaimable` se considerará parte de la memoria utilizada.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `ignore_reclaimable`
          </td>

          <td>
            `NRIA_IGNORE_RECLAIMABLE`
          </td>

          <td>
            booleano
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.2.6](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-125)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Variables de registro

<CollapserGroup>
  <Collapser className="freq-link" id="log" title="log">
    log es un mapa de valores principales que se utiliza para configurar el logger del agente de infraestructura. Ejemplo como atributo YAML:

    ```yml
    log:
      file: '/var/log/newrelic-infra/newrelic-infra.log'
      level: debug
      forward: true
      stdout: false
    ```

    Ejemplo como variable de entorno:

    ```ini
    NRIA_LOG_FILE='/var/log/newrelic-infra/newrelic-infra.log'
    NRIA_LOG_LEVEL='smart'
    NRIA_LOG_FORWARD='false'
    NRIA_LOG_STDOUT='true'
    ```

    <CollapserGroup>
      <Collapser className="freq-link" id="file" title="archivo">
        Define la ruta del archivo para el registro.

        La instalación predeterminada crea un directorio log y establece este valor de ruta de archivo en la opción de configuración `file`. Este directorio log es diferente para cada sistema operativo, como se muestra a continuación.

        Cambie esta opción de configuración para personalizar la ruta del archivo para el registro.

        <table>
          <thead>
            <tr>
              <th style={{ width: "200px" }}>
                Nombre de la opción YML
              </th>

              <th style={{ width: "200px" }}>
                Variable ambiental
              </th>

              <th>
                Tipo
              </th>

              <th>
                Por defecto
              </th>

              <th>
                Versión
              </th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
                `file`
              </td>

              <td>
                `NRIA_LOG_FILE`
              </td>

              <td>
                cadena
              </td>

              <td>
                Vea abajo\*
              </td>

              <td />
            </tr>
          </tbody>
        </table>

        Rutas predeterminadas:

        * Linux: si no está definido, registra solo en la salida estándar.

        * Windows, versión del agente 1.0.944 o superior:

          ```
          C:\%ProgramData%\New Relic\newrelic-infra\newrelic-infra.log
          ```

          Si no se puede crear el directorio:

          ```
          C:\Program Files\New Relic\newrelic-infra\newrelic-infra.log
          ```
      </Collapser>

      <Collapser className="freq-link" id="level" title="nivel">
        Define el nivel de registros. Valores disponibles:

        * `info`: Muestra mensaje de registro de error de nivel, advertencia e información.

        * `smart`: Habilita el [modo detallado inteligente](/docs/infrastructure/infrastructure-troubleshooting/troubleshoot-logs/infrastructure-agent-logging-behavior/#smart-verbose-mode). El modo detallado inteligente registra los últimos `smart_level_entry_limit` mensajes de depuración cuando se registra un error.

        * `debug`: Muestra mensajes de registro de error de nivel, advertencia, información y depuración.

        * `trace`: Se mostrarán todos los mensajes del registro.

          <Callout variant="important">
            El registro a nivel de traza puede generar una gran cantidad de datos muy rápidamente. Ejecute el agente en modo traza solo durante el tiempo necesario para reproducir su problema, luego configure `level: info` y [reinicie su agente](/docs/infrastructure/new-relic-infrastructure/configuration/start-stop-restart-check-infrastructure-agent-status) para deshabilitar el registro detallado. Alternativamente, puede configurar `level`: `smart`, lo que habilitará el modo detallado inteligente.
          </Callout>

          <table>
            <thead>
              <tr>
                <th style={{ width: "200px" }}>
                  Nombre de la opción YML
                </th>

                <th style={{ width: "200px" }}>
                  Variable ambiental
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Por defecto
                </th>

                <th>
                  Versión
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  `level`
                </td>

                <td>
                  `NRIA_LOG_LEVEL`
                </td>

                <td>
                  cadena
                </td>

                <td>
                  No establecido
                </td>

                <td />
              </tr>
            </tbody>
          </table>
      </Collapser>

      <Collapser className="freq-link" id="log-format" title="formato">
        Define el formato de salida log . Valores disponibles:

        * `text`: Salida de texto sin formato, una línea por entrada log .

        * `json`: Salida con formato JSON, una línea por entrada log .

          <table>
            <thead>
              <tr>
                <th style={{ width: "200px" }}>
                  Nombre de la opción YML
                </th>

                <th style={{ width: "200px" }}>
                  Variable ambiental
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Por defecto
                </th>

                <th>
                  Versión
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  `format`
                </td>

                <td>
                  `NRIA_LOG_FORMAT`
                </td>

                <td>
                  cadena
                </td>

                <td>
                  `text`
                </td>

                <td>
                  [1.4.9](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-149)
                </td>
              </tr>
            </tbody>
          </table>
      </Collapser>

      <Collapser className="freq-link" id="forward" title="adelante">
        Permite reenviar el registro del agente a nuestra UI de registro. Para desactivarlo, establezca esta opción de configuración en `false`.

        <table>
          <thead>
            <tr>
              <th style={{ width: "200px" }}>
                Nombre de la opción YML
              </th>

              <th style={{ width: "200px" }}>
                Variable ambiental
              </th>

              <th>
                Tipo
              </th>

              <th>
                Por defecto
              </th>

              <th>
                Versión
              </th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
                `forward`
              </td>

              <td>
                `NRIA_LOG_FORWARD`
              </td>

              <td>
                booleano
              </td>

              <td>
                `false`
              </td>

              <td>
                [1.0.703](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10703)
              </td>
            </tr>
          </tbody>
        </table>
      </Collapser>

      <Collapser className="freq-link" id="stdout" title="stdout">
        De forma predeterminada, todos los registros se muestran tanto en la salida estándar como en un archivo de registro. Para deshabilitar el inicio de sesión en la salida estándar, establezca esta opción de configuración en `false`.

        <table>
          <thead>
            <tr>
              <th style={{ width: "200px" }}>
                Nombre de la opción YML
              </th>

              <th style={{ width: "200px" }}>
                Variable ambiental
              </th>

              <th>
                Tipo
              </th>

              <th>
                Por defecto
              </th>

              <th>
                Versión
              </th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
                `stdout`
              </td>

              <td>
                `NRIA_LOG_STDOUT`
              </td>

              <td>
                booleano
              </td>

              <td>
                `true`
              </td>

              <td>
                [1.0.703](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10703)
              </td>
            </tr>
          </tbody>
        </table>
      </Collapser>

      <Collapser className="freq-link" id="smart_level_entry_limit" title="smart_level_entry_limit">
        `smart_level_entry_limit` se refiere a la cantidad de mensajes de depuración anteriores que se registrarán cuando se registre un error. Por ejemplo, si el límite se establece en `5`, el registro de depuración se almacenará en caché en la memoria hasta que se registre un error, momento en el que también se registrarán los 5 mensajes de depuración anteriores.

        <Callout variant="important">
          Esta opción de configuración solo se usa cuando `level` está establecido en `smart` (Nivel inteligente habilitado).
        </Callout>

        <table>
          <thead>
            <tr>
              <th style={{ width: "200px" }}>
                Nombre de la opción YML
              </th>

              <th style={{ width: "200px" }}>
                Variable ambiental
              </th>

              <th>
                Tipo
              </th>

              <th>
                Por defecto
              </th>

              <th>
                Versión
              </th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
                `smart_level_entry_limit`
              </td>

              <td>
                `NRIA_SMART_LEVEL_ENTRY_LIMIT`
              </td>

              <td>
                entero
              </td>

              <td>
                `1000`
              </td>

              <td>
                [1.9.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-190)
              </td>
            </tr>
          </tbody>
        </table>
      </Collapser>

      <Collapser className="freq-link" id="rotate" title="girar">
        A partir de la versión [v1.28.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes) , puede utilizar la característica incorporada de rotación log . De forma predeterminada, la rotación log está deshabilitada. Para habilitarlo, debe especificar el tamaño máximo del archivo de registro con la opción `max_size_mb` . Cuando el archivo de registro del agente de infraestructura alcance ese tamaño, el archivo de registro actual se rotará a un nuevo archivo.

        ```yml
        log:
          level: info
          file: /var/log/newrelic-infra/newrelic-infra.log
          rotate:
            max_size_mb: 1000                        # Required
            max_files: 5                             # Optional
            compression_enabled: true                # Optional
            file_pattern: YYYY-MM-DD_hh-mm-ss.log    # Optional
        ```

        <CollapserGroup>
          <Collapser className="rotate-max_size_mb" id="rotate-max_size_mb" title="max_size_mb">
            `max_size_mb` especifica el tamaño máximo en MegaBytes del archivo de registro del agente de infraestructura. Cuando el archivo haya alcanzado este tamaño, el registro actual se rotará a un archivo nuevo. Cuando `max_size_mb` es `0`, la rotación log integrada está deshabilitada.

            <table>
              <thead>
                <tr>
                  <th style={{ width: "200px" }}>
                    Nombre de la opción YML
                  </th>

                  <th style={{ width: "200px" }}>
                    Variable ambiental
                  </th>

                  <th>
                    Tipo
                  </th>

                  <th>
                    Por defecto
                  </th>

                  <th>
                    Versión
                  </th>
                </tr>
              </thead>

              <tbody>
                <tr>
                  <td>
                    `max_size_mb`
                  </td>

                  <td>
                    `NRIA_LOG_ROTATE_MAX_SIZE_MB`
                  </td>

                  <td>
                    entero
                  </td>

                  <td>
                    `0` - Desactivado
                  </td>

                  <td />
                </tr>
              </tbody>
            </table>
          </Collapser>

          <Collapser className="rotate-max_files" id="rotate-max_files" title="max_files">
            `max_files` define cuántos archivos de registro archivados se conservarán. Cuando se excede este valor, los archivos más antiguos se eliminarán. Cuando `max_files` es `0` el límite de cantidad de archivos está deshabilitado.

            <table>
              <thead>
                <tr>
                  <th style={{ width: "200px" }}>
                    Nombre de la opción YML
                  </th>

                  <th style={{ width: "200px" }}>
                    Variable ambiental
                  </th>

                  <th>
                    Tipo
                  </th>

                  <th>
                    Por defecto
                  </th>

                  <th>
                    Versión
                  </th>
                </tr>
              </thead>

              <tbody>
                <tr>
                  <td>
                    `max_files`
                  </td>

                  <td>
                    `NRIA_LOG_ROTATE_MAX_FILES`
                  </td>

                  <td>
                    entero
                  </td>

                  <td>
                    `0`
                  </td>

                  <td />
                </tr>
              </tbody>
            </table>
          </Collapser>

          <Collapser className="rotate-compression_enabled" id="rotate-compression_enabled" title="compression_enabled">
            Puede habilitar la compresión para el archivo de registro configurando `compression_enabled` en `true`. Si se activa la compresión, los archivos rotados tendrán un formato `gzip` y utilizarán menos espacio en disco.

            <Callout variant="important">
              Durante la rotación log , si la compresión está habilitada, el uso de CPU del agente podría aumentar, especialmente cuando el valor `max_size_mb` es mayor que `1000`.
            </Callout>

            <table>
              <thead>
                <tr>
                  <th style={{ width: "200px" }}>
                    Nombre de la opción YML
                  </th>

                  <th style={{ width: "200px" }}>
                    Variable ambiental
                  </th>

                  <th>
                    Tipo
                  </th>

                  <th>
                    Por defecto
                  </th>

                  <th>
                    Versión
                  </th>
                </tr>
              </thead>

              <tbody>
                <tr>
                  <td>
                    `compression_enabled`
                  </td>

                  <td>
                    `NRIA_LOG_ROTATE_COMPRESSION_ENABLED`
                  </td>

                  <td>
                    booleano
                  </td>

                  <td>
                    `false`
                  </td>

                  <td />
                </tr>
              </tbody>
            </table>
          </Collapser>

          <Collapser className="rotate-file_pattern" id="rotate-file_pattern" title="file_pattern">
            `file_pattern` especifica el formato de nombre para el archivo de registro archivado. De forma predeterminada, el nuevo nombre de archivo utilizará el siguiente patrón de nombre: `original-file_YYYY-MM-DD_hh-mm-ss.log`.

            Puede personalizar el patrón de nombre de archivo con los siguientes campos de timestamp :

            * `YYYY`: Año

            * `MM`: Mes

            * `DD`: Día

            * `hh`: Hora

            * `mm`: Minuto

            * `ss`: Segundo

              El agente reemplazará automáticamente esos campos de timestamp con la hora de la rotación del archivo. Por ejemplo:

              ```yml
              log:
                level: info
                file: /var/log/newrelic-infra/newrelic-infra.log
                rotate:
                  max_size_mb: 1000
                  file_pattern: rotated.YYYY-MM-DD_hh-mm-ss.log
              ```

              <table>
                <thead>
                  <tr>
                    <th style={{ width: "200px" }}>
                      Nombre de la opción YML
                    </th>

                    <th style={{ width: "200px" }}>
                      Variable ambiental
                    </th>

                    <th>
                      Tipo
                    </th>

                    <th>
                      Por defecto
                    </th>

                    <th>
                      Versión
                    </th>
                  </tr>
                </thead>

                <tbody>
                  <tr>
                    <td>
                      `file_pattern`
                    </td>

                    <td>
                      `NRIA_LOG_ROTATE_FILE_PATTERN`
                    </td>

                    <td>
                      cadena
                    </td>

                    <td>
                      `file_YYYY-MM-DD_hh-mm-ss.file_extension`
                    </td>

                    <td />
                  </tr>
                </tbody>
              </table>
          </Collapser>
        </CollapserGroup>
      </Collapser>
    </CollapserGroup>
  </Collapser>
</CollapserGroup>

<Callout variant="tip">
  La versión 1.28.0 del agente de infraestructura introdujo mejoras compatibles con versiones anteriores en la configuración de registro. Consulte nuestra [documentación de github](https://github.com/newrelic/infrastructure-agent/blob/master/docs/log_configuration.md) para comprender las configuraciones legacy y cómo asignarlas a la nueva estructura.
</Callout>

## Variables métricas [#metrics]

<CollapserGroup>
  <Collapser className="freq-link" id="custom-attributes" title="custom_attributes">
    Atributo personalizado son pares de valores principales (similares a etiquetas en otras herramientas) que se utilizan para anotar los datos del agente de infraestructura. Puede utilizar estos metadatos para filtrar su entidad, [agrupar sus resultados](/docs/infrastructure-group-results-specific-attributes) y anotar sus datos. Por ejemplo, puede indicar el entorno de una máquina (de prueba o producción), el servicio que aloja una máquina (servicio de inicio de sesión, por ejemplo) o el equipo responsable de esa máquina.

    <Callout variant="tip">
      El agente recopila muchos detalles sobre su entorno como parte de su [atributo predeterminado](/docs/default-infrastructure-events-attributes), incluida [la etiqueta Amazon Elastic calcular Cloud (Amazon EC2)](/docs/default-infrastructure-events-attributes#aws-ec2-attributes).
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "250px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "250px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `custom_attributes`
          </td>

          <td>
            `NRIA_CUSTOM_ATTRIBUTES`
          </td>

          <td>
            map\[string]interface\{}
          </td>
        </tr>
      </tbody>
    </table>

    Emplee una lista de atributos personalizados para anotar los datos de esta instancia de agente. Separe las claves y los valores con dos puntos `:`, como en `KEY: VALUE`, y separe cada par principal de valor con un salto de línea. Las claves pueden ser cualquier YAML válido excepto las barras `/`. Los valores pueden ser cualquier cadena YAML, incluidos los espacios. Comenzar la clave con `label.` garantizará que permanezca como está, incluso si ese host puede ejecutar en diferentes entornos de nube, donde la etiqueta de nube o las etiquetas de nube pueden interactuar con él en la decoración combinada de la etiqueta. Por el contrario, `custom_labels` puede tener el prefijo `gcp.` o `azure.` cuando se ejecuta en esos entornos y cuando se combinan datos del agente de infraestructura con el monitoreo de la nube.

    Ejemplo como atributo YAML:

    ```yml
    custom_attributes:
      label.environment: production
      label.service: login service
      label.team: alpha-team
    ```

    Ejemplo como variable de entorno:

    ```ini
    NRIA_CUSTOM_ATTRIBUTES='{"label.customAttribute_1":"SOME_ATTRIBUTE","label.customAttribute_2": "SOME_ATTRIBUTE_2"}'
    ```

    Ejemplo de filtrado de NRQL por atributo personalizado:

    ```sql
    FROM SystemSample SELECT * WHERE label.environment = 'production'
    ```
  </Collapser>

  <Collapser className="freq-link" id="enable-process-metrics" title="enable_process_metrics">
    <Callout variant="important">
      Requiere la versión del agente de infraestructura 1.12.0 o superior. Las cuentas creadas antes del 20 de julio de 2020 y/o el agente de infraestructura instalado mediante la nueva instalación guiada tienen esta variable habilitada de forma predeterminada.
    </Callout>

    Permite el envío de [proceso métrica](/attribute-dictionary/?event=ProcessSample) a New Relic.

    De forma predeterminada, el agente de infraestructura no envía datos sobre los procesos del sistema operativo. El agente aún recopila dichos datos, a menos que `metrics_process_sample_rate` esté configurado en `-1`.

    Para informar datos métricos sobre todos los procesos del sistema operativo, establezca `enable_process_metrics` en `true`. Para deshabilitarlo, configúrelo en `false`.

    El envío de todos los datos del proceso podría aumentar el volumen de datos enviados a New Relic. Para definir con precisión qué procesos desea monitor, configure [`include_matching_metrics`](#include-matching-metrics) o [`exclude_matching_metrics`](#exclude-matching-metrics).

    De forma predeterminada, los procesos que utilizan poca memoria están excluidos del muestreo. Para obtener más información, consulte [desactivar-filtro-de-proceso-mem-cero](/docs/infrastructure/install-infrastructure-agent/configuration/infrastructure-agent-configuration-settings#disable-zero-mem-process-filter).

    <table>
      <thead>
        <tr>
          <th style={{ width: "245px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "295px" }}>
            Variable ambiental
          </th>

          <th style={{ width: "78px" }}>
            Tipo
          </th>

          <th style={{ width: "80px" }}>
            Por defecto
          </th>

          <th style={{ width: "80px" }}>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `enable_process_metrics`
          </td>

          <td>
            `NRIA_ENABLE_PROCESS_METRICS`
          </td>

          <td>
            booleano
          </td>

          <td>
            `false`
          </td>

          <td />
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="process-container-decoration" title="process_container_decoration">
    Cuando está habilitado, el agente decora muestras de proceso con información del contenedor si el proceso se ejecuta en un contenedor.

    Esta información incluye el ID del contenedor, el nombre del contenedor, el ID de la imagen, el nombre de la imagen y las etiquetas del contenedor.

    <table>
      <thead>
        <tr>
          <th style={{ width: "245px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "295px" }}>
            Variable ambiental
          </th>

          <th style={{ width: "78px" }}>
            Tipo
          </th>

          <th style={{ width: "80px" }}>
            Por defecto
          </th>

          <th style={{ width: "80px" }}>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `process_container_decoration`
          </td>

          <td>
            `NRIA_PROCESS_CONTAINER_DECORATION`
          </td>

          <td>
            booleano
          </td>

          <td>
            `true`
          </td>

          <td>
            1.55.0
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="include-matching-metrics" title="include_matching_metrics">
    <Callout variant="important">
      Actualmente, esta configuración solo se aplica a los procesos de un sistema operativo métrico.
    </Callout>

    Puedes controlar la cantidad de datos que se envían a New Relic configurando `include_matching_metrics`, lo que te permite restringir la transmisión de datos métricos en función de los valores del [atributo](/docs/query-your-data/nrql-new-relic-query-language/nrql-query-tutorials/query-infrastructure-dimensional-metrics-nrql#naming-conventions) métrico.

    Puedes incluir datos métricos definiendo valores literales o parciales para cualquiera de los atributos de la métrica. Por ejemplo, puede optar por enviar el `host.process.cpuPercent` de todos los procesos cuyo `process.name` coincida con la [expresión regular](https://github.com/google/re2/wiki/Syntax) `^java` .

    En este ejemplo, incluimos el proceso métrica usando archivos ejecutables y nombres:

    ```yml
    include_matching_metrics:          # You can combine attributes from different metrics
      process.name:
        - regex "^java"                # Include all processes starting with "java"
      process.executable:
        - "/usr/bin/python2"           # Include the Python 2.x executable
        - regex "\\System32\\svchost"  # Include all svchost executables
    ```

    Si necesita incluir argumentos de línea de comando en cualquiera de los valores, establezca [`strip_command_line`](#strip-command-line) en falso (el agente de infraestructura elimina los argumentos CLI de forma predeterminada para evitar que se filtren secretos).

    Si tanto `include_matching_metrics` como `exclude_matching_metrics` están presentes para el mismo elemento, la inclusión tiene prioridad.

    Para configurar `include_matching_metrics` como variable de entorno para la [integración de Kubernetes](/docs/integrations/kubernetes-integration), agréguelo en el manifiesto dentro del objeto `env:` :

    ```yml
    env:
      - name: NRIA_INCLUDE_MATCHING_METRICS
        value: |
          process.name:
            - regex "^java"
          process.executable:
            - "/usr/bin/python2"
            - regex "\\System32\\svchost"
    ```

    Por defecto

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `include_matching_metrics`
          </td>

          <td>
            `NRIA_INCLUDE_MATCHING_METRICS`
          </td>

          <td>
            metric.attribute:

            \- &quot;patrón&quot; de expresiones regulares

            \- &quot;cadena&quot;

            \- &quot;cadena-con-comodín\*&quot;
          </td>

          <td />

          <td />
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="exclude-matching-metrics" title="exclude_matching_metrics">
    <Callout variant="important">
      Actualmente, esta configuración solo se aplica a los procesos de un sistema operativo métrico.
    </Callout>

    Puede controlar la cantidad de datos que se envían a New Relic configurando `exclude_matching_metrics`, lo que le permite restringir la transmisión de datos métricos en función de los valores del [atributo](/docs/nrql/using-nrql/query-infrastructure-dimensional-metrics-nrql/#naming-conventions) métrica.

    Se excluyen los datos métricos definiendo valores literales o parciales para cualquiera de los atributos de la métrica. Por ejemplo, puede elegir no enviar el `host.process.cpuPercent` de todos los procesos cuyo `process.name` coincida con la [expresión regular](https://github.com/google/re2/wiki/Syntax) `^java` .

    En este ejemplo, excluimos el proceso métrica empleando archivos ejecutables y nombres:

    ```yml
    exclude_matching_metrics:          # You can combine attributes from different metrics
      process.name:
        - regex "^java"                # Exclude all processes starting with "java"
      process.executable:
        - "/usr/bin/python2"           # Exclude the Python 2.x executable
        - regex "\\System32\\svchost"  # Exclude all svchost executables
    ```

    Para configurar `exclude_matching_metrics` como una variable de entorno para la [integración de Kubernetes](/docs/kubernetes-pixie/kubernetes-integration/get-started/introduction-kubernetes-integration/), agréguela al manifiesto dentro del objeto `env:` :

    ```yml
    env:
      - name: NRIA_EXCLUDE_MATCHING_METRICS
        value: |
          process.name:
            - regex "^java"
          process.executable:
            - "/usr/bin/python2"
            - regex "\\System32\\svchost"
    ```

    Por defecto

    1.57.0

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `exclude_matching_metrics`
          </td>

          <td>
            `NRIA_EXCLUDE_MATCHING_METRICS`
          </td>

          <td>
            metric.attribute:

            \- &quot;patrón&quot; de expresiones regulares

            \- &quot;cadena&quot;

            \- &quot;cadena-con-comodín\*&quot;
          </td>

          <td />

          <td />
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="network-interface-filters" title="network_interface_filters">
    Puede utilizar la configuración de filtros de interfaz de red para ocultar del agente de infraestructura las interfaces de red no utilizadas o que no son interesantes. Esto ayuda a reducir el uso de recursos, el trabajo y el ruido en sus datos.

    <Callout variant="important">
      Las variables de entorno no son compatibles con esta configuración.
    </Callout>

    La configuración utiliza un mecanismo simple de coincidencia de patrones que puede buscar interfaces que comiencen con una secuencia específica de letras o números siguiendo cualquiera de los patrones:

    * `{name}[other characters]`, donde especificas el nombre usando la opción `prefix`

    * `[number]{name}[other characters]`, donde especificas el nombre usando la opción `index-1`

      New Relic Infrastructure implementa una lista predeterminada seleccionada de filtros, disponible tanto para [Linux](#filters-linux) como [para Windows](#filters-windows), que puede modificar.

      <table>
        <thead>
          <tr>
            <th style={{ width: "200px" }}>
              Nombre de la opción YML
            </th>

            <th style={{ width: "200px" }}>
              Variable ambiental
            </th>

            <th>
              Tipo
            </th>

            <th>
              Por defecto
            </th>

            <th>
              Versión
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `network_interface_filters`
            </td>

            <td>
              No soportado
            </td>

            <td>
              map\[string]\[]string
            </td>

            <td />

            <td>
              1.0.220
            </td>
          </tr>
        </tbody>
      </table>

      <CollapserGroup>
        <Collapser className="freq-link" id="filters-linux" title="Linux">
          Filtros de interfaz de red predeterminados para Linux:

          * Interfaces de red que comienzan con `dummy`, `lo`, `vmnet`, `sit`, `tun`, `tap` o `veth`

          * Interfaces de red que contienen `tun` o `tap`

            El siguiente ejemplo (agregado a su archivo de configuración) anula los filtros predeterminados. Esto ignorará las interfaces de red que comiencen con `dummy` o `lo` , o que contengan `tun` precedido por una secuencia de números y seguido de otros caracteres:

            ```yml
            network_interface_filters:
              prefix:
                - dummy
                - lo
              index-1:
                - tun
            ```
        </Collapser>

        <Collapser className="freq-link" id="filters-windows" title="Windows">
          Filtros de interfaz de red predeterminados para Windows:

          * Interfaces de red que comienzan con `Loop`, `isatap` o `Local`

            El siguiente ejemplo (agregado a su archivo de configuración) anula los filtros predeterminados. Esto ignorará las interfaces de red que comiencen con `Loop`:

            ```yml
            network_interface_filters:
              prefix:
                - Loop
            ```
        </Collapser>
      </CollapserGroup>
  </Collapser>

  <Collapser className="freq-link" id="disable-zero-mem-process-filter" title="disable_zero_mem_process_filter">
    `ZeroRSSFilter` excluye del muestreo los procesos que no utilizan memoria. Deshabilite el filtro para que el agente incluya estos procesos en el `ProcessSample`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `disable_zero_mem_process_filter`
          </td>

          <td>
            `NRIA_DISABLE_ZERO_MEM_PROCESS_FILTER`
          </td>

          <td>
            booleano
          </td>

          <td>
            `false`
          </td>

          <td>
            1.0.832
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Variables de complemento

<Callout variant="tip">
  Puede deshabilitar rápidamente todas las variables configurando [`DisableAllPlugins`](#disable-all-plugins) en `true` y activar solo las opciones que necesite.
</Callout>

<CollapserGroup>
  <Collapser className="freq-link" id="disable-all-plugins" title="disable_all_plugins">
    Para deshabilitar todos los complementos, establezca esta opción en `true`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `disable_all_plugins`
          </td>

          <td>
            `NRIA_DISABLE_ALL_PLUGINS`
          </td>

          <td>
            booleano
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.2.1](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-121)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="cloud-security-group-refresh-sec" title="cloud_security_group_refresh_sec">
    Período de muestreo para el complemento `CloudSecurityGroups` , en segundos. El valor mínimo es `30`. Para desactivarlo, configúrelo en `-1`.

    <Callout variant="important">
      Este complemento se activa solo si el agente se ejecuta en una instancia de AWS.
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `cloud_security_group_refresh_sec`
          </td>

          <td>
            `NRIA_CLOUD_SECURITY_GROUP_REFRESH_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `60`
          </td>

          <td>
            [1.0.692](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10703)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="daemontools-interval-sec" title="daemontools_interval_sec">
    Período de muestreo para el complemento `Daemontools` , en segundos. El valor mínimo es un `10`. Para desactivarlo, configúrelo en `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `daemontools_interval_sec`
          </td>

          <td>
            `NRIA_DAEMONTOOLS_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `15`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="dpkg-interval-sec" title="dpkg_interval_sec">
    Período de muestreo para el complemento `Dpkg` , en segundos. El valor mínimo es `30`. Para desactivarlo, configúrelo en `-1`. Si el parámetro no se establece explícitamente en el archivo de configuración, se puede desactivar estableciendo [`DisableAllPlugins`](#disable-all-plugins) en `true`.

    <Callout variant="important">
      Esto solo se activa en [los modos de ejecución`root` o `privileged` ](/docs/infrastructure/install-configure-infrastructure/linux-installation/linux-agent-running-modes)y en [distribuciones basadas en Debian](/docs/infrastructure/new-relic-infrastructure/installation/install-infrastructure-linux#debian-based-root).
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `dpkg_interval_sec`
          </td>

          <td>
            `NRIA_DPKG_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `30`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="facter-interval-sec" title="facter_interval_sec">
    Período de muestreo para el complemento `Facter` , en segundos. El valor mínimo es `30`. Para desactivarlo, configúrelo en `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `facter_interval_sec`
          </td>

          <td>
            `NRIA_FACTER_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `30`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="kernel-modules-refresh-sec" title="kernel_modules_refresh_sec">
    Período de muestreo para el complemento `KernelModules` , en segundos. El valor mínimo es `10`. Para desactivarlo, configúrelo en `-1`.

    <Callout variant="important">
      `kernel_modules_refresh_sec` solo se activa en [los modos de ejecución`root` o `privileged` ](/docs/infrastructure/install-configure-infrastructure/linux-installation/linux-agent-running-modes).
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `kernel_modules_refresh_sec`
          </td>

          <td>
            `NRIA_KERNEL_MODULES_REFRESH_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `10`
          </td>

          <td>
            1.0.755
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="network-interface-interval-sec" title="network_interface_interval_sec">
    Período de muestreo para el complemento `NetworkInterface` , en segundos. El valor mínimo es `30`. Para desactivarlo, configúrelo en `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `network_interface_interval_sec`
          </td>

          <td>
            `NRIA_NETWORK_INTERFACE_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `60`
          </td>

          <td>
            1.0.329
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="rpm-interval-sec" title="rpm_interval_sec">
    Período de muestreo para el complemento `Rpm` , en segundos. El valor mínimo es `30`. Para desactivarlo, configúrelo en `-1`.

    <Callout variant="important">
      `rpm_interval_sec` solo se activa cuando el agente se ejecuta en [modo raíz o privilegiado](/docs/infrastructure/install-configure-infrastructure/linux-installation/linux-agent-running-modes) para distribuciones RedHat, RedHat AWS o SUSE.
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `rpm_interval_sec`
          </td>

          <td>
            `NRIA_RPM_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `30`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="selinux-interval-sec" title="selinux_interval_sec">
    Período de muestreo para el complemento `SELinux` , en segundos. El valor mínimo es `30`. Para desactivarlo, configúrelo en `-1`. Esta opción se ignora si `SelinuxEnableSemodule` se establece en falso. Para obtener más información, consulte nuestro documento de resolución de problemas sobre cómo [desactivar el módulo `SELinux` ](/docs/infrastructure/new-relic-infrastructure/troubleshooting/reduce-infrastructure-agents-cpu-footprint).

    <Callout variant="important">
      `SELinux` Sólo se activa cuando el agente se ejecuta en [modo raíz](/docs/infrastructure/install-configure-infrastructure/linux-installation/linux-agent-running-modes).
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `selinux_interval_sec`
          </td>

          <td>
            `NRIA_SELINUX_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `30`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="sshd-config-refresh-sec" title="sshd_config_refresh_sec">
    Período de muestreo para el complemento `Sshd` , en segundos. El valor mínimo es `10`. Para desactivarlo, configúrelo en `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `sshd_config_refresh_sec`
          </td>

          <td>
            `NRIA_SSHD_CONFIG_REFRESH_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `15`
          </td>

          <td>
            1.0.755
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="supervisor-interval-sec" title="supervisor_interval_sec">
    Período de muestreo para el complemento `Supervisor` , en segundos. El valor mínimo es `10`. Para desactivarlo, configúrelo en `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `supervisor_interval_sec`
          </td>

          <td>
            `NRIA_SUPERVISOR_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `15`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="sysctl-interval-sec" title="sysctl_interval_sec">
    Período de muestreo para el complemento `Sysctl` , en segundos. El valor mínimo es `30`. Para desactivarlo, configúrelo en `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `sysctl_interval_sec`
          </td>

          <td>
            `NRIA_SYSCTL_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `60`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="systemd-interval-sec" title="systemd_interval_sec">
    Período de muestreo para el complemento `Systemd` , en segundos. El valor mínimo es `10`. Para desactivarlo, configúrelo en `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `systemd_interval_sec`
          </td>

          <td>
            `NRIA_SYSTEMD_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `30`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="sysvinit-interval-sec" title="sysvinit_interval_sec">
    Período de muestreo para el complemento `sysv` , en segundos. El valor mínimo es `10`. Para desactivarlo, configúrelo en `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `sysvinit_interval_sec`
          </td>

          <td>
            `NRIA_SYSVINIT_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `30`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="upstart-interval-sec" title="upstart_interval_sec">
    Período de muestreo para el complemento `Upstart` , en segundos. El valor mínimo es `10`. Para desactivarlo, configúrelo en `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `upstart_interval_sec`
          </td>

          <td>
            `NRIA_UPSTART_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `30`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="users-refresh-sec" title="users_refresh_sec">
    Período de muestreo para el complemento `Users` , en segundos. El valor mínimo es `10`. Para desactivarlo, configúrelo en `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `users_refresh_sec`
          </td>

          <td>
            `NRIA_USERS_REFRESH_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `30`
          </td>

          <td>
            1.0.755
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="supervisor-rpc-sock" title="supervisor_rpc_sock">
    Ubicación del enchufe [del supervisor](http://www.supervisord.org/) .

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `supervisor_rpc_sock`
          </td>

          <td>
            `NRIA_SUPERVISOR_RPC_SOCK`
          </td>

          <td>
            cadena
          </td>

          <td>
            `/var/run/supervisor.sock`
          </td>

          <td>
            1.0.2
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="facter-home-dir" title="facter_home_dir">
    Establece la variable de entorno `HOME` para [Puppet&apos;s Facter](https://puppet.com/docs/puppet/latest/puppet_index.html). Si no está definido, el valor predeterminado es el directorio de inicio del usuario actual.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `facter_home_dir`
          </td>

          <td>
            `NRIA_FACTER_HOME_DIR`
          </td>

          <td>
            cadena
          </td>

          <td />

          <td>
            [1.1.7](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-117)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Variables proxy

Para la versión 1.3.1 o superior del agente de infraestructura, la prioridad de los ajustes de configuración del proxy es:

* `NRIA_PROXY`
* `proxy`
* `HTTP_PROXY`
* `HTTPS_PROXY`

<CollapserGroup>
  <Collapser className="freq-link" id="proxy" title="proxy">
    Es posible que su sistema tenga reglas de firewall que requieran que el agente use un proxy para comunicarse con New Relic. Si es así, configure la URL del proxy con el formato https\://usuario:contraseña\@nombredehost:puerto. Puede ser HTTP o HTTPS.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `proxy`
          </td>

          <td>
            `NRIA_PROXY`
          </td>

          <td>
            cadena
          </td>

          <td>
            Vacío
          </td>

          <td>
            [1.0.308](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10308)
          </td>
        </tr>
      </tbody>
    </table>

    Ejemplo:

    ```
    https://proxy_user:access_10@proxy_01:1080
    ```
  </Collapser>

  <Collapser className="freq-link" id="ignore-system-proxy" title="ignore_system_proxy">
    Cuando se establece en `true`, las variables de entorno `HTTPS_PROXY` y `HTTP_PROXY` se ignoran. Esto es útil cuando el agente necesita conectarse directamente al recolector métrico y omitir el proxy del sistema existente.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `ignore_system_proxy`
          </td>

          <td>
            `NRIA_IGNORE_SYSTEM_PROXY`
          </td>

          <td>
            booleano
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.0.1002](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-101002)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="ca-bundle-dir" title="ca_bundle_dir">
    Si la opción `HTTPS_PROXY` hace referencia a un proxy con certificados autofirmados, esta opción especifica la ruta al directorio donde está disponible el certificado de proxy. Los certificados del directorio deben terminar con la extensión `.pem` .

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `ca_bundle_dir`
          </td>

          <td>
            `NRIA_CA_BUNDLE_DIR`
          </td>

          <td>
            cadena
          </td>

          <td />

          <td>
            [1.0.296](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10296)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="ca-bundle-file" title="ca_bundle_file">
    Si la opción `HTTPS_PROXY` hace referencia a un proxy con certificados autofirmados, esta opción especifica la ruta al archivo del certificado.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `ca_bundle_file`
          </td>

          <td>
            `NRIA_CA_BUNDLE_FILE`
          </td>

          <td>
            cadena
          </td>

          <td />

          <td>
            [1.0.296](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10296)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="proxy-validate-certificates" title="proxy_validate_certificates">
    Si se establece en `true`, cuando el proxy esté configurado para usar una conexión HTTPS, solo funcionará:

    * Si el proxy HTTPS tiene certificados de una autoridad certificadora válida.

    * Si las propiedades de configuración `ca_bundle_file` o `ca_bundle_dir` contienen los certificados de proxy HTTPS.

      <table>
        <thead>
          <tr>
            <th style={{ width: "200px" }}>
              Nombre de la opción YML
            </th>

            <th style={{ width: "200px" }}>
              Variable ambiental
            </th>

            <th>
              Tipo
            </th>

            <th>
              Por defecto
            </th>

            <th>
              Versión
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `proxy_validate_certificates`
            </td>

            <td>
              `NRIA_PROXY_VALIDATE_CERTIFICATES`
            </td>

            <td>
              booleano
            </td>

            <td>
              `false`
            </td>

            <td>
              1.3.0
            </td>
          </tr>
        </tbody>
      </table>
  </Collapser>

  <Collapser className="freq-link" id="proxy-config-plugin" title="proxy_config_plugin">
    Envía la siguiente información de configuración de proxy como inventario:

    * `HTTPS_PROXY`

    * `HTTP_PROXY`

    * `proxy ca_bundle_dir`

    * `ca_bundle_file`

    * `ignore_system_proxy`

    * `proxy_validate_certificates`

      <table>
        <thead>
          <tr>
            <th style={{ width: "200px" }}>
              Nombre de la opción YML
            </th>

            <th style={{ width: "200px" }}>
              Variable ambiental
            </th>

            <th>
              Tipo
            </th>

            <th>
              Por defecto
            </th>

            <th>
              Versión
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `proxy_config_plugin`
            </td>

            <td>
              `NRIA_PROXY_CONFIG_PLUGIN`
            </td>

            <td>
              booleano
            </td>

            <td>
              `true`
            </td>

            <td>
              1.3.0
            </td>
          </tr>
        </tbody>
      </table>
  </Collapser>
</CollapserGroup>

Si tiene problemas con la configuración del proxy, consulte [Resolución de problemas de proxy](/docs/infrastructure/new-relic-infrastructure/troubleshooting/https-proxy-configuration-missing).

## Variables de muestra

<CollapserGroup>
  <Collapser className="freq-link" id="metrics-network-sample-rate" title="metrics_network_sample_rate">
    Frecuencia de muestreo de muestras de red, en segundos. El valor mínimo es `10`. Para desactivarlo, configúrelo en `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `metrics_network_sample_rate`
          </td>

          <td>
            `NRIA_METRICS_NETWORK_SAMPLE_RATE`
          </td>

          <td>
            entero
          </td>

          <td>
            `10`
          </td>

          <td>
            [1.0.308](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10308)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="metrics-process-sample-rate" title="metrics_process_sample_rate">
    Tasa de muestreo de muestras de proceso, en segundos. El valor mínimo es `20`. Para deshabilitar completamente los ejemplos de procesos, establezca `metrics_process_sample_rate` en `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `metrics_process_sample_rate`
          </td>

          <td>
            `NRIA_METRICS_PROCESS_SAMPLE_RATE`
          </td>

          <td>
            entero
          </td>

          <td>
            `20`
          </td>

          <td>
            [1.0.308](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10308)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="metrics-storage-sample-rate" title="metrics_storage_sample_rate">
    Tasa de muestreo de muestras de almacenamiento, en segundos. El valor mínimo es `5`. Para desactivarlo, configúrelo en `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `metrics_storage_sample_rate`
          </td>

          <td>
            `NRIA_METRICS_STORAGE_SAMPLE_RATE`
          </td>

          <td>
            entero
          </td>

          <td>
            `20`
          </td>

          <td>
            [1.0.308](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10308)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="metrics-system-sample-rate" title="metrics_system_sample_rate">
    Frecuencia de muestreo de muestras del sistema, en segundos. El valor mínimo es `5`. Para desactivarlo, configúrelo en `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `metrics_system_sample_rate`
          </td>

          <td>
            `NRIA_METRICS_SYSTEM_SAMPLE_RATE`
          </td>

          <td>
            entero
          </td>

          <td>
            `5`
          </td>

          <td>
            [1.0.308](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10308)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="metrics-nfs-sample-rate" title="metrics_nfs_sample_rate">
    Frecuencia de muestreo de muestras de almacenamiento NFS, en segundos. El valor mínimo es `5`. Para desactivarlo, configúrelo en `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `metrics_nfs_sample_rate`
          </td>

          <td>
            `NRIA_METRICS_NFS_SAMPLE_RATE`
          </td>

          <td>
            entero
          </td>

          <td>
            `20`
          </td>

          <td>
            [1.5.40](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1540)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="detailed-nfs" title="detailed_nfs">
    NFS métrica detallada. Cuando esté habilitado, el agente proporcionará una lista completa de métricas NFS.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `detailed_nfs`
          </td>

          <td>
            `NRIA_DETAILED_NFS`
          </td>

          <td>
            booleano
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.5.40](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1540)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  ## Variables de compensación NTP

  `ntp_metrics` es un mapa principal de valor que se utiliza para configurar la métrica de compensación de tiempo. Cuando está habilitado y se proporciona una lista de hosts NTP, el agente proporcionará la métrica `ntp offset` del host (en segundos). Este valor se compara con el grupo de hosts NTP proporcionado cada `interval` minutos (el valor predeterminado y mínimo es 15 minutos). Entre intervalos, se informa el último desplazamiento conocido. Si la compensación informada es mayor que unos pocos segundos, puede causar problemas con la condición de alerta, consulta NRQL y lagunas de datos en el dashboard.

  Ejemplo como atributo YAML:

  ```yml
  ntp_metrics:
    enabled: true
    pool:
      - time.cloudflare.com
      - time.google.com
    interval: 15
    timeout: 10
  ```

  Ejemplo como variable de entorno:

  ```ini
  NRIA_NTP_METRICS_POOL='time.cloudflare.com,time.google.com'
  NRIA_NTP_METRICS_ENABLED='true'
  NRIA_NTP_METRICS_INTERVAL='15'
  NRIA_NTP_METRICS_TIMEOUT='10'
  ```

  <Collapser className="freq-link" id="ntp-enabled" title="ntp_metrics.enabled">
    Bandera para habilitar/deshabilitar la métrica de compensación NTP.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `enabled`
          </td>

          <td>
            `NRIA_NTP_METRICS_ENABLED`
          </td>

          <td>
            booleano
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.33.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1330)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="ntp-pool" title="ntp_metrics.pool">
    Define la lista de Hosts NTP a consultar. Cuando se definen múltiples hosts, se consultarán todos ellos y la métrica reportada será el valor promedio entre ellos.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `pool`
          </td>

          <td>
            `NRIA_NTP_METRICS_POOL`
          </td>

          <td>
            \[]cadena
          </td>

          <td>
            Vacío. Consulte los [servidores NTP públicos](https://timetoolsltd.com/information/public-ntp-server/).
          </td>

          <td>
            [1.33.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1330)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="ntp-interval" title="ntp_metrics.interval">
    Define el intervalo en minutos para solicitar compensación NTP del grupo proporcionado.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `interval`
          </td>

          <td>
            `NRIA_NTP_METRICS_INTERVAL`
          </td>

          <td>
            entero
          </td>

          <td>
            `15`
          </td>

          <td>
            [1.33.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1330)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="ntp-timeout" title="ntp_metrics.timeout">
    Define el tiempo de espera en segundos para las solicitudes realizadas a los hosts NTP.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `timeout`
          </td>

          <td>
            `NRIA_NTP_METRICS_TIMEOUT`
          </td>

          <td>
            entero
          </td>

          <td>
            `10`
          </td>

          <td>
            [1.33.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1330)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Variables de seguridad

<CollapserGroup>
  <Collapser className="freq-link" id="selinux-enable-semodule" title="selinux_enable_semodule">
    Obtenga versiones de los módulos de políticas instalados usando SEModule. Si está deshabilitado, el complemento SELinux solo recuperará el estado usando SEStatus.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `selinux_enable_semodule`
          </td>

          <td>
            `NRIA_SELINUX_ENABLE_SEMODULE`
          </td>

          <td>
            booleano
          </td>

          <td>
            `true`
          </td>

          <td>
            1.0.864
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="strip-command-line" title="strip_command_line">
    Cuando `true`, el agente elimina los argumentos del comando del atributo `commandLine` de `ProcessSample`.

    <Callout variant="tip">
      Esta es una medida de seguridad para evitar la filtración de información confidencial.
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `strip_command_line`
          </td>

          <td>
            `NRIA_STRIP_COMMAND_LINE`
          </td>

          <td>
            booleano
          </td>

          <td>
            `true`
          </td>

          <td>
            1.0.149
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Variables de estado extremo

<CollapserGroup>
  <Collapser className="freq-link" id="status-server-enabled" title="status_server_enabled">
    Habilita el servidor de estado en el agente que proporciona información de salud local. Los extremos disponibles son:

    Ejemplo de estado extremo principal (sin errores):

    ```bash
    curl http://localhost:8003/v1/status
    [output] {
    [output]   "checks": {
    [output]     "endpoints": [
    [output]       {
    [output]         "url": "https://infrastructure-command-api.newrelic.com/agent_commands/v1/commands",
    [output]         "reachable": true
    [output]       },
    [output]       {
    [output]         "url": "https://infra-api.newrelic.com/infra/v2/metrics",
    [output]         "reachable": true
    [output]       },
    [output]       {
    [output]         "url": "https://identity-api.newrelic.com/identity/v1",
    [output]         "reachable": true
    [output]       },
    [output]       {
    [output]         "url": "https://infra-api.newrelic.com/inventory",
    [output]         "reachable": true
    [output]       }
    [output]     ]
    [output]   },
    [output]   "config": {
    [output]     "reachability_timeout": "10s"
    [output]   }
    [output] }
    ```

    Estado principal extremo (con errores):

    ```bash
    curl http://localhost:8003/v1/status
    [output] {
    [output]   "checks": {
    [output]     "endpoints": [
    [output]       {
    [output]         "url": "https://staging-infra-api.newrelic.com/infra/v2/metrics",
    [output]         "reachable": false,
    [output]         "error": "endpoint check timeout exceeded"
    [output]       },
    [output]       {
    [output]         "url": "https://infra-api.newrelic.com/infra/v2/metrics",
    [output]         "reachable": true
    [output]       },
    [output]       {
    [output]         "url": "https://identity-api.newrelic.com/identity/v1",
    [output]         "reachable": true
    [output]       },
    [output]       {
    [output]         "url": "https://infra-api.newrelic.com/inventory",
    [output]         "reachable": true
    [output]       }
    [output]     ]
    [output]   },
    [output]   "config": {
    [output]     "reachability_timeout": "10s"
    [output]   }
    [output] }
    ```

    Ejemplo de errores extremos:

    ```bash
    curl http://localhost:18003/v1/status/errors
    [output] {
    [output]   "checks": {
    [output]     "endpoints": [
    [output]       {
    [output]         "url": "https://staging-infra-api.newrelic.com/infra/v2/metrics",
    [output]         "reachable": false,
    [output]         "error": "endpoint check timeout exceeded"
    [output]       }
    [output]     ]
    [output]   },
    [output]   "config": {
    [output]     "reachability_timeout": "10s"
    [output]   }
    [output] }
    ```

    Esto es similar al extremo de estado principal pero filtrando solo aquellos con errores.

    Ejemplo de extremo de entidad:

    ```bash
    curl http://localhost:8003/v1/status/entity
    [output] {
    [output]   "guid":"MMMMNjI0NjR8SU5GUkF8TkF8ODIwMDg3MDc0ODE0MTUwNTMy",
    [output]   "key":"your-host-name"
    [output] }
    ```

    Devuelve información sobre la entidad agente/host. Se devolverá un código de estado de respuesta *204* (&quot;Sin contenido&quot;) cuando el agente aún no tenga información sobre la entidad agente/host. Por lo tanto, pueden ser necesarias varias solicitudes hasta que el agente proporcione los datos de la entidad.

    <Callout variant="important">
      Esta configuración está habilitada de forma predeterminada cuando emplea la instalación guiada. Ayuda a confirmar que la instalación del agente fue exitosa.
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `status_server_enabled`
          </td>

          <td>
            `NRIA_STATUS_SERVER_ENABLED`
          </td>

          <td>
            booleano
          </td>

          <td>
            `false`
          </td>

          <td>
            1.19.0
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="status-server-port" title="status_server_port">
    Define el puerto para el extremo del servidor de estado.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `status_server_port`
          </td>

          <td>
            `NRIA_STATUS_SERVER_PORT`
          </td>

          <td>
            entero
          </td>

          <td>
            `8003`
          </td>

          <td>
            1.19.0
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Variables de Windows

<CollapserGroup>
  <Collapser className="freq-link" id="windows-services-refresh-sec" title="windows_services_refresh_sec">
    Período de muestreo para el complemento de servicios de Windows, en segundos. El valor mínimo es `10`. Para desactivarlo, configúrelo en `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `windows_services_refresh_sec`
          </td>

          <td>
            `NRIA_WINDOWS_SERVICES_REFRESH_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `30`
          </td>

          <td>
            [1.0.755](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10775)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="windows-updates-refresh-sec" title="windows_updates_refresh_sec">
    Período de muestreo para el complemento de actualizaciones de Windows, en segundos. El valor mínimo es `10`. Para desactivarlo, configúrelo en `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `windows_updates_refresh_sec`
          </td>

          <td>
            `NRIA_WINDOWS_UPDATES_REFRESH_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `60`
          </td>

          <td>
            [1.0.755](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10775)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="app-data-dir" title="app_data_dir">
    Define la ruta para almacenar datos en una ruta diferente al directorio de archivos del programa:

    * `%AppDir%/data`: Se utiliza para almacenar los datos delta.

    * `%AppDir%/user_data`: Directorio externo para archivos JSON generados por el usuario

    * `%AppDir%/newrelic-infra.log`: Si la opción de configuración del archivo de registro no está definida, entonces usamos esta ruta de directorio como predeterminada.

      <table>
        <thead>
          <tr>
            <th style={{ width: "200px" }}>
              Nombre de la opción YML
            </th>

            <th style={{ width: "200px" }}>
              Variable ambiental
            </th>

            <th>
              Tipo
            </th>

            <th>
              Por defecto
            </th>

            <th>
              Versión
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `app_data_dir`
            </td>

            <td>
              `NRIA_APP_DATA_DIR`
            </td>

            <td>
              cadena
            </td>

            <td>
              Ventanas: `env(ProgramData)\New Relic\newrelic-infra`

              Linux: No aplicable
            </td>

            <td>
              [1.0.755](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10775)
            </td>
          </tr>
        </tbody>
      </table>
  </Collapser>

  <Collapser className="freq-link" id="enable-win-update-plugin" title="enable_win_update_plugin">
    Habilita el complemento de actualizaciones de Windows, que recupera las listas de revisiones instaladas en el host.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `enable_win_update_plugin`
          </td>

          <td>
            `NRIA_ENABLE_WIN_UPDATE_PLUGIN`
          </td>

          <td>
            booleano
          </td>

          <td>
            `false`
          </td>

          <td>
            1.0.274
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="legacy-storage-sampler" title="legacy_storage_sampler">
    Si es `true`, el agente se verá obligado a utilizar Windows WMI (el método legacy del agente para obtener métrica para Windows; por ejemplo, `StorageSampler`) y deshabilitará el nuevo método (que utiliza la biblioteca PDH).

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `legacy_storage_sampler`
          </td>

          <td>
            `NRIA_LEGACY_STORAGE_SAMPLER`
          </td>

          <td>
            booleano
          </td>

          <td />

          <td>
            [1.0.1051](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-101051)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="win-process-priority-class" title="win_process_priority_class">
    Esta opción de configuración permite aumentar la prioridad del proceso `newrelic-infra.exe` a cualquiera de los siguientes valores:

    * `Normal`

    * `Idle`

    * `High`

    * `RealTime`

    * `BelowNormal`

    * `AboveNormal`

      <table>
        <thead>
          <tr>
            <th style={{ width: "200px" }}>
              Nombre de la opción YML
            </th>

            <th style={{ width: "200px" }}>
              Variable ambiental
            </th>

            <th>
              Tipo
            </th>

            <th>
              Por defecto
            </th>

            <th>
              Versión
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `win_process_priority_class`
            </td>

            <td>
              `NRIA_WIN_PROCESS_PRIORITY_CLASS`
            </td>

            <td>
              cadena
            </td>

            <td />

            <td>
              1.0.989
            </td>
          </tr>
        </tbody>
      </table>

      Ejemplo:

      ```
      Normal
      ```
  </Collapser>

  <Collapser className="freq-link" id="win-removable-drives" title="win_removable_drives">
    Permite que el agente de Windows informe las unidades `A:` y `B:` cuando están asignadas como unidades extraíbles.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `win_removable_drives`
          </td>

          <td>
            `NRIA_WIN_REMOVABLE_DRIVES`
          </td>

          <td>
            booleano
          </td>

          <td>
            `true`
          </td>

          <td>
            [1.3.1](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-131)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="win-network-interface-v2" title="win_network_interface_v2">
    Cuando está habilitado, el agente de Windows usa `GetIfEntry2` (contadores de 64 bits) en lugar de `GetIfEntry` (contadores de 32 bits) para las métricas de red. Esto proporciona estadísticas de red más precisas para interfaces de alto ancho de banda donde los contadores de 32 bits pueden desbordarse.

    <Callout variant="tip">
      Esta bandera se conserva para la compatibilidad con versiones anteriores y puede eliminarse en una versión futura.
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `win_network_interface_v2`
          </td>

          <td>
            `NRIA_WIN_NETWORK_INTERFACE_V2`
          </td>

          <td>
            booleano
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.71.4](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1714)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="wmi_proc_data" title="wmi_proc_data">
    Si lo establece en verdadero, obtendrá información del proceso de WMI y omitirá la verificación de acceso a la consulta en un entorno restringido.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Por defecto
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `enable_wmi_proc_data`
          </td>

          <td>
            `NRIA_ENABLE_WMI_PROC_DATA`
          </td>

          <td>
            booleano
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.3.1](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1420)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Cliente HTTP

Configure el cliente HTTP utilizado para la comunicación backend.

<CollapserGroup>
  <Collapser className="freq-link" id="http-headers" title="http_headers">
    Encabezados HTTP personalizados para incluir en todas las solicitudes al backend de New Relic.

    ```yml
    http:
      headers:
        "Proxy-Authorization": "myToken"
    ```

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nombre de la opción YML
          </th>

          <th style={{ width: "200px" }}>
            Variable ambiental
          </th>

          <th>
            Tipo
          </th>

          <th>
            Versión
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `headers`
          </td>

          <td>
            `NRIA_HTTP_HEADERS`
          </td>

          <td>
            key-value mapa
          </td>

          <td>
            [1.41.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## ¿Que sigue?

Tú también puedes:

* Comprenda más a fondo [la configuración del agente](/docs/infrastructure/new-relic-infrastructure/configuration/configure-infrastructure-agent).
* Cree un [archivo de configuración usando nuestra plantilla](https://github.com/newrelic/infrastructure-agent/blob/master/assets/examples/infrastructure/newrelic-infra-template.yml.example).
* Vea cómo puede [gestionar el agente](/docs/infrastructure/new-relic-infrastructure/configuration/start-stop-restart-check-infrastructure-agent-status).