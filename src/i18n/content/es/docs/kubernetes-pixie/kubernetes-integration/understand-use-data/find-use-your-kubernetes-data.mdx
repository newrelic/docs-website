---
title: Encuentre y utilice sus datos de Kubernetes
tags:
  - Integrations
  - Kubernetes integration
  - Understand and use data
metaDescription: 'New Relic''s Kubernetes integration: How to install and activate the integration, and what data is reported.'
freshnessValidatedDate: never
translationType: machine
---

import kubernetesDashboard from 'images/kubernetes_screenshot-full_dashboard.webp'

Puedes crear tus propios gráficos y [consultar](/docs/using-new-relic/data/understand-data/query-new-relic-data) todos tus datos [de integración Kubernetes ](/docs/integrations/kubernetes-integration/get-started/introduction-kubernetes-integration)utilizando el generador de consultas y la API NerdGraph. Nuestra integración recopila datos Kubernetes instrumentando la capa de orquestación del contenedor. Para una experiencia más sencilla y visual, utiliza el [explorador de clústeres](/docs/integrations/kubernetes-integration/understand-use-data/kubernetes-cluster-explorer).

<img
  title="New Relic - Kubernetes dashboard"
  alt="New Relic - Kubernetes dashboard"
  src={kubernetesDashboard}
/>

<figcaption>
  <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Dashboards**</DoNotTranslate>: Utilizando el [generador de consultas](/docs/chart-builder/use-chart-builder/get-started/introduction-chart-builder) puedes consultar tus datos Kubernetes y crear visualizaciones claras.
</figcaption>

## Consultar datos Kubernetes [#view-data]

La forma más sencilla de [consultar tus datos Kubernetes ](/docs/using-new-relic/data/understand-data/query-new-relic-data)es utilizando el [generador de consultas](/docs/query-your-data/explore-query-data/query-builder/use-advanced-nrql-mode-specify-data), que acepta [consultasNRQL ](/docs/query-data/nrql-new-relic-query-language/getting-started/introduction-nrql). Alternativamente, puede utilizar la [API NerdGraph](/docs/apis/nerdgraph/get-started/introduction-new-relic-nerdgraph) para recuperar datos de Kubernetes.

### Evento y atributo [#event-types]

Los datos Kubernetes se adjuntan al siguiente [evento](/docs/using-new-relic/data/understand-data/new-relic-data-types#event-data). Puede obtener más información sobre estos datos en [nuestro diccionario de datos](/attribute-dictionary/?dataSource=Kubernetes).

<table>
  <thead>
    <tr>
      <th style={{ width: "275px" }}>
        Nombre del evento
      </th>

      <th>
        Tipo de datos de Kubernetes
      </th>

      <th style={{ width: "200px" }}>
        Disponible desde
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `K8sNodeSample`
      </td>

      <td>
        Datos de nodo
      </td>

      <td>
        v1.0.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sNamespaceSample`
      </td>

      <td>
        Datos namespace
      </td>

      <td>
        v1.0.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sDeploymentSample`
      </td>

      <td>
        Desplegar datos
      </td>

      <td>
        v1.0.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sReplicasetSample`
      </td>

      <td>
        Datos del conjunto de réplicas
      </td>

      <td>
        v1.0.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sDaemonsetSample`
      </td>

      <td>
        Datos del DaemonSet
      </td>

      <td>
        v1.13.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sStatefulsetSample`
      </td>

      <td>
        Datos de StatefulSet
      </td>

      <td>
        v1.13.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sPodSample`
      </td>

      <td>
        Datos del pod
      </td>

      <td>
        v1.0.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sClusterSample`
      </td>

      <td>
        Datos del clúster
      </td>

      <td>
        v1.0.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sContainerSample`
      </td>

      <td>
        Datos del contenedor
      </td>

      <td>
        v1.0.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sVolumeSample`
      </td>

      <td>
        Datos de volumen
      </td>

      <td>
        v1.0.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sApiServerSample`
      </td>

      <td>
        Datos del servidor API
      </td>

      <td>
        v1.11.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sControllerManagerSample`
      </td>

      <td>
        Datos del administrador del controlador
      </td>

      <td>
        v1.11.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sSchedulerSample`
      </td>

      <td>
        Datos del programador
      </td>

      <td>
        v1.11.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sEtcdSample`
      </td>

      <td>
        datos etcd
      </td>

      <td>
        v1.11.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sEndpointSample`
      </td>

      <td>
        Datos extremos
      </td>

      <td>
        v1.13.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sServiceSample`
      </td>

      <td>
        Datos de servicio
      </td>

      <td>
        v1.13.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sHpaSample`
      </td>

      <td>
        Datos del escalador automático pod horizontal
      </td>

      <td>
        v2.3.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sCronjobSample`
      </td>

      <td>
        Datos de cronjob
      </td>

      <td>
        v3.10.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sJobSample`
      </td>

      <td>
        Datos del trabajo
      </td>

      <td>
        v3.10.0
      </td>
    </tr>
  </tbody>
</table>

Para obtener más información sobre estos eventos y sus atributos, consulte [nuestro diccionario de datos](/attribute-dictionary/?dataSource=Kubernetes).

### Metadatos Kubernetes en APM-aplicación de monitorización [#apm-custom-attributes]

[Al vincular su aplicación con Kubernetes](/docs/integrations/kubernetes-integration/metadata-injection/kubernetes-apm-metadata-injection), se agregan los siguientes atributos a la aplicación traza y rastreo distribuido:

* `nodeName`
* `containerName`
* `podName`
* `clusterName`
* `deploymentName`
* `namespaceName`

## Administrar alertas [#alerts]

Puedes recibir notificaciones sobre <InlinePopover type="alerts"/>e incidentes relacionados con tus datos Kubernetes :

<CollapserGroup>
  <Collapser
    id="create-alert"
    title="Crear una condición de alerta"
  >
    Para crear una condición de alerta para la integración de Kubernetes:

    1. Vaya a <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Infrastructure > Settings > Alerts & AI > Kubernetes**</DoNotTranslate> y luego seleccione <DoNotTranslate>**Create alert condition**</DoNotTranslate>.

    2. Para filtrar la alerta a la entidad Kubernetes que solo tiene el atributo elegido, seleccione <DoNotTranslate>**Filter**</DoNotTranslate>.

    3. Seleccione la configuración del umbral. Para obtener más información sobre las opciones <DoNotTranslate>**Trigger an alert when...**</DoNotTranslate> , consulte [Tipos de alerta](#alert-types).

    4. Seleccione una [política de alertas](/docs/alerts/new-relic-alerts/configuring-alert-policies/create-or-rename-alert-policy) existente o cree una nueva.

    5. Seleccione <DoNotTranslate>**Create**</DoNotTranslate>.

       Cuando se activa el umbral de una condición de alerta, New Relic envía una [notificación](#notifications) al canal de notificación de la póliza.
  </Collapser>

  <Collapser
    id="alert-types"
    title="Utilice los tipos de alerta predefinidos y umbral"
  >
    La integración Kubernetes viene con su propia política de alertas y condición de alerta. Para ver cuáles son las condiciones de alerta predefinidas, consulte [Integración Kubernetes : Política de alertas predefinida](/docs/integrations/kubernetes-integration/kubernetes-events/kubernetes-integration-predefined-alert-policy).

    Además, puede crear una condición de alerta para cualquier métrica recopilada por cualquier [integración de New Relic](/docs/integrations/new-relic-integrations/getting-started/introduction-infrastructure-integrations) que utilice, incluida la integración de Kubernetes:

    1. Seleccione el tipo de alerta

       <DoNotTranslate>**Integrations**</DoNotTranslate>

       .

    2. En el menú desplegable

       <DoNotTranslate>**Select a data source**</DoNotTranslate>

       , seleccione una fuente de datos de Kubernetes (K8).
  </Collapser>

  <Collapser
    id="notifications"
    title="Seleccionar alerta de notificación"
  >
    Cuando se activa el umbral de una condición de alerta, New Relic envía un mensaje al canal de notificación elegido en la política de alertas. Dependiendo del tipo de notificación, podrá tener las siguientes opciones:

    * [Ver el incidente](/docs/alerts-applied-intelligence/new-relic-alerts/alert-incidents/view-event-details-incidents).

    * [Reconocer el incidente](/docs/alerts/new-relic-alerts/reviewing-alert-incidents/acknowledge-alert-incidents).

    * Vaya a un gráfico de datos del incidente seleccionando el nombre del identificador.

      El identificador de entidad que activó la alerta aparece cerca de la parte superior del mensaje de notificación. El formato del identificador depende del tipo de alerta:

    * <DoNotTranslate>**Available pods are less than desired pods**</DoNotTranslate> alertas:

      ```
      K8s:CLUSTER_NAME:PARENT_NAMESPACE:replicaset:REPLICASET_NAME
      ```

    * <DoNotTranslate>**CPU or memory usage**</DoNotTranslate> alertas:

      ```
      K8s:CLUSTER_NAME:PARENT_NAMESPACE:POD_NAME:container:CONTAINER_NAME
      ```

      Aquí hay unos ejemplos.

      <CollapserGroup>
        <Collapser
          id="pod-alerts"
          title="Ejemplo de notificación de alerta de pod"
        >
          Para las alertas <DoNotTranslate>**Available pods are less than desired pods**</DoNotTranslate> , el ID del `ReplicaSet` que desencadena el problema podría tener este aspecto:

          ```
          k8s:beam-production:default:replicaset:nginx-deployment-1623441481
          ```

          Este identificador contiene la siguiente información:

          * Nombre del clúster: `beam-production`
          * Namespace principal: `default`
          * `ReplicaSet` nombre: `nginx-deployment-1623441481`
        </Collapser>

        <Collapser
          id="container-resource"
          title="Ejemplo de notificación de recursos de contenedor"
        >
          Para alertas de uso de memoria o CPU del contenedor, la entidad podría verse así:

          ```
          k8s:beam-production:kube-system:kube-state-metrics-797bb87c75-zncwn:container:kube-state-metrics
          ```

          Este identificador contiene la siguiente información:

          * Nombre del clúster: `beam-production`
          * Namespace principal: `kube-system`
          * Pod namespace: `kube-state-metrics-797bb87c75-zncwn`
          * Nombre del contenedor: `kube-state-metrics`
        </Collapser>
      </CollapserGroup>
  </Collapser>

  <Collapser
    id="nrql-alerts"
    title="Crear condición de alerta usando NRQL"
  >
    Siga los procedimientos estándar para [crear una condición de alerta para la consulta NRQL ](/docs/alerts/new-relic-alerts/defining-conditions/create-alert-conditions-nrql-queries).
  </Collapser>
</CollapserGroup>

## Reducir la ingesta de datos [#reducedataingest]

Nuestros gráficos admiten la configuración de una opción para reducir la cantidad de datos ingeridos a costa de la granularidad. Para habilitarlo, establezca `global.lowDataMode` en `true` en el gráfico `nri-bundle` .

`lowDataMode` afecta a cuatro componentes específicos del gráfico `nri-bundle` que se describe a continuación.

### New Relic Infrastructure

Si `lowDataMode` está habilitado, el intervalo de raspado predeterminado cambia de `15s` a `30s`. También puede especificar un valor personalizado usando `config.interval`, que tendrá preferencia sobre `lowDataMode`.

### Prometheus agente integrador

Si `lowDataMode` está habilitado, las métricas que tienen el prefijo siguiente se excluyen de forma predeterminada, ya que ya están recopiladas y utilizadas por la [integración New Relic Kubernetes ](/docs/integrations/kubernetes-integration/understand-use-data/find-use-your-kubernetes-data/#event-types).

```
- kube_
- container_
- machine_
- cadvisor_
```

### Registro New Relic

Si `lowDataMode` está habilitado, las etiquetas y anotaciones no se incluyen en el registro reenviado a New Relic. Esto reduce la ingesta general de datos en New Relic.

Se conservan los siguientes campos: `cluster_name`, `container_name`, `namespace_name`, `pod_name`, `stream`, `message` y `log`.

<DoNotTranslate>
  **Low Data Mode Log Example**
</DoNotTranslate>

El siguiente log contiene todos los atributos que normalmente captura el [complemento New Relic Logs Kubernetes ](/docs/logs/forward-logs/kubernetes-plugin-log-forwarding/):

```json
[
  {
    "cluster_name": "api-test",
    "kubernetes": {
      "annotations": {
        "kubernetes.io/psp": "eks.privileged"
      },
      "container_hash": "fryckbos/test@sha256:5b098eaf3c7d5b3585eb10cebee63665b6208bea31ef31a3f0856c5ffdda644b",
      "container_image": "fryckbos/test:latest",
      "container_name": "newrelic-logging",
      "docker_id": "134e1daf63761baa15e035b08b7aea04518a0f0e50af4215131a50c6a379a072",
      "host": "ip-192-168-17-123.ec2.internal",
      "labels": {
        "app": "newrelic-logging",
        "app.kubernetes.io/name": "newrelic-logging",
        "controller-revision-hash": "84db95db86",
        "pod-template-generation": "1",
        "release": "nri-bundle"
      },
      "namespace_name": "nrlogs",
      "pod_id": "54556e3e-719c-46b5-af69-020b75d69bf1",
      "pod_name": "nri-bundle-newrelic-logging-jxnbj"
    },
    "message": "[2021/09/14 12:30:49] [ info] [engine] started (pid=1)\n",
    "plugin": {
      "source": "kubernetes",
      "type": "fluent-bit",
      "version": "1.8.1"
    },
    "stream": "stderr",
    "time": "2021-09-14T12:30:49.138824971Z",
    "timestamp": 1631622649138
  }
]
```

Así es como se vería el log anterior después de habilitar `lowDataMode`:

```json
[
  {
    "cluster_name": "api-test",
    "container_name": "newrelic-logging",
    "namespace_name": "nrlogs",
    "pod_name": "nri-bundle-newrelic-logging-jxnbj",
    "message": "[2021/09/14 12:30:49] [ info] [engine] started (pid=1)\n",
    "stream": "stderr",
    "timestamp": 1631622649138
  }
]
```

### New Relic Pixie [#nr-pixie-integration]

Si `lowDataMode` está habilitado, la integración `newrelic-pixie` realiza un muestreo más intensivo en tramos de Pixie y reduce el intervalo de recopilación de 10 a 15 segundos.

`lowDataMode` ajustes:

```
HTTP_SPAN_LIMIT: 750
DB_SPAN_LIMIT: 250
COLLECT_INTERVAL_SEC: 15
```

La configuración predeterminada para estos parámetros y otros se puede encontrar en el repositorio Github [de newrelic-pixie-integración](https://github.com/newrelic/newrelic-pixie-integration) .

Para aprovechar al máximo la integración de Kubernetes de New Relic, necesitará una cuenta gratuita de New Relic. Si aún no lo ha hecho, cree el suyo a continuación para comenzar a monitorear sus datos hoy.

<InlineSignup/>