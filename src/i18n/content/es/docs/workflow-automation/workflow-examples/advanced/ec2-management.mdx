---
title: gestión de instancias EC2
tags:
  - workflow automation
  - workflow
  - aws
  - ec2
metaDescription: 'Respond to CPU alerts, request Slack approval, and automate EC2 instance resizing.'
freshnessValidatedDate: never
translationType: machine
---

Responda a las alertas de CPU de New Relic, solicite la aprobación de Slack y automatice el cambio de tamaño de la instancia EC2 a través de AWS Systems Manager.

**Requisitos:**

* Credenciales de AWS (EC2 + Systems Manager)
* Condición de alerta de New Relic
* Token de Slack

**Lo que hace este flujo de trabajo:**

* Recibe alertas de CPU alta de New Relic
* Recuperar los detalles de la alerta e identificar la instancia EC2 afectada
* Enviar una notificación de Slack con los detalles de la instancia y solicitar la aprobación
* Crear el documento SSM después de la aprobación para automatizar el cambio de tamaño
* Detiene la instancia, modifica el tipo de instancia y reinicia
* Enviar actualizaciones de progreso a Slack durante el cambio de tamaño
* Esperar la finalización y enviar el estado
* Limpiar el documento SSM y enviar la confirmación final

**Acciones clave**: `newrelic.nerdgraph.execute`, `newrelic.nrdb.query`, `slack.chat.postMessage`, `slack.chat.getReactions`, `aws.systemsManager.writeDocument`, `aws.systemsManager.startAutomation`, `aws.systemsManager.waitForAutomationStatus`, `aws.systemsManager.deleteDocument`, `utils.datetime.fromEpoch`, `utils.uuid.generate`

## Que sigue

* **[Reversión del API Gateway](/docs/workflow-automation/workflow-examples/advanced/api-gateway-rollback)**: Automatización del API Gateway
* **[Reversión de implementación](/docs/workflow-automation/workflow-examples/advanced/deployment-rollback)**: Monitoreo de implementación