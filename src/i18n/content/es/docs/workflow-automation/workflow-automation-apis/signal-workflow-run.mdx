---
title: Ejecución de flujo de trabajo de señal
tags:
  - workflow automation
  - workflow
  - Signal Workflow Run
  - workflow automation API
metaDescription: Actions trigger a signal to an existing running workflow.
freshnessValidatedDate: never
translationType: machine
---

Esta API activa una señal a un flujo de trabajo en ejecución existente. Esto se puede usar para enviar una devolución de llamada y que el flujo de trabajo la evalúe para ir a diferentes pasos siguientes. Los parámetros se pueden pasar junto con la señal.

## parámetro de entrada

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        Parámetro
      </th>

      <th>
        Tipo
      </th>

      <th>
        Requerido
      </th>

      <th>
        Descripción
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `accountId`
      </td>

      <td>
        Número
      </td>

      <td>
        Sí
      </td>

      <td>
        Su ID de cuenta.
      </td>
    </tr>

    <tr>
      <td>
        `runId`
      </td>

      <td>
        Cadena
      </td>

      <td>
        Sí
      </td>

      <td>
        El identificador único del flujo de trabajo en ejecución. Obtenido de la API 

        `StartWorkflowRun`

        .
      </td>
    </tr>

    <tr>
      <td>
        `signalName`
      </td>

      <td>
        Cadena
      </td>

      <td>
        Sí
      </td>

      <td>
        El nombre de la señal definida en el paso de espera del flujo de trabajo.
      </td>
    </tr>

    <tr>
      <td>
        `signalInputs`
      </td>

      <td>
        Matriz
      </td>

      <td>
        No
      </td>

      <td>
        Pares clave-valor opcionales para pasar datos con la señal.
      </td>
    </tr>
  </tbody>
</table>

## Solicitud de muestra

Dada la definición del flujo de trabajo que se muestra a continuación y un flujo de trabajo que ya está en ejecución.

```yaml
name: signalDemo

steps:
  - name: waitStep
    type: wait
    seconds: 300
    signals:
      - name: approve
        next: signalHandler
      - name: cancel
        next: signalHandler

  - name: NoSignalReceived
    type: action
    action: newrelic.ingest.sendLogs
    version: 1
    inputs:
      logs:
        - message: "no signals received"
    next: end

  - name: signalHandler
    type: action
    action: newrelic.ingest.sendLogs
    version: 1
    inputs:
      logs:
        - message: "signal '${{ .steps.waitStep.outputs.signalName }}' was received with: '${{ .steps.waitStep.outputs.signalInputs | tostring }}'"
```

Tras iniciar este flujo de trabajo, este runId se devuelve al inicio. `107e6df2-aa17-41bc-8065-bfa46bde810b`

El flujo de trabajo puede entonces indicar mediante esta mutación.

```graphql
mutation {
  workflowAutomationSignalWorkflowRun(
    accountId: 11933347
    runId: "107e6df2-aa17-41bc-8065-bfa46bde810b"
    signalName: "approve"
    signalInputs: [
      {key: "foo", value: "bar"}
    ]
  ) {
    runId
  }
}
```

## Ejemplo de salida de log

Lo siguiente se puede observar en los logs si el flujo de trabajo se inició con `options: {logLevel: DEBUG}`:

<img title="Screenshot displaying Logs if the workflow was started with the options: {logLevel: DEBUG}" alt="Screenshot displaying Logs if the workflow was started with the options: {logLevel: DEBUG}" src="/images/signal-workflow-run.webp" />

## Ejemplo de respuesta

La mutación devuelve:

* `runId`: El identificador único de la ejecución del flujo de trabajo que recibió la señal.