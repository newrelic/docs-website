---
title: Enviar notificación de flujo de trabajo
tags:
  - workflow automation
  - workflow
  - notifications
  - slack
  - pagerduty
metaDescription: 'Configure workflows to send notifications via Slack, PagerDuty, email, or webhooks when automation tasks complete or fail.'
freshnessValidatedDate: never
translationType: machine
---

<Callout title="avance">
  Todavía estamos trabajando en esta característica, ¡pero nos encantaría que la probaras!

  Esta característica se proporciona actualmente como parte de un programa de vista previa de conformidad con nuestras [políticas de prelanzamiento](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

Esta página cubre dos formas en que la automatización del flujo de trabajo se integra con la notificación:

1. **Envíe una notificación desde el flujo de trabajo**: use acciones de Slack, PagerDuty, email o webhook dentro de su flujo de trabajo para notificar a los equipos cuando el flujo de trabajo se complete, falle o requiera aprobación.
2. **Activar flujo de trabajo desde alertas**: Configure la automatización del flujo de trabajo como destino en las alertas New Relic para iniciar automáticamente el flujo de trabajo cuando se infringe la condición de alerta.

<Callout variant="important">
  **Dos conceptos diferentes:**

  * **Notificación saliente**: tu flujo de trabajo envía mensajes a Slack/PagerDuty usando acciones como `slack.chat.postMessage`
  * **Desencadenantes entrantes**: las alertas de New Relic activan la ejecución de su flujo de trabajo y pasan `issueId` automáticamente
</Callout>

## Enviar notificación de flujo de trabajo [#send-from-workflows]

Emplee estos canales de notificación para alertar a su equipo desde su flujo de trabajo. Seleccione el canal adecuado para su caso de uso:

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        **Canal**
      </th>

      <th>
        **Ideal para**
      </th>

      <th>
        **Complejidad de configuración**
      </th>

      <th>
        **Característica**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        **Slack**
      </td>

      <td>
        Colaboración en equipo, aprobaciones
      </td>

      <td>
        Fácil: requiere token de bot
      </td>

      <td>
        Mensajes enriquecidos, reacciones, hilos
      </td>
    </tr>

    <tr>
      <td>
        **PagerDuty**
      </td>

      <td>
        gestión de equipos, de guardia
      </td>

      <td>
        Fácil - requiere clave de API
      </td>

      <td>
        Políticas de escalamiento, seguimiento
      </td>
    </tr>

    <tr>
      <td>
        **Correo electrónico**
      </td>

      <td>
        Notificación formal, reportes
      </td>

      <td>
        Fácil: requiere configuración de destino
      </td>

      <td>
        Archivos adjuntos, formato HTML, resultados de la consulta
      </td>
    </tr>

    <tr>
      <td>
        **Webhooks**
      </td>

      <td>
        Integración personalizada
      </td>

      <td>
        Medio - requiere extremo
      </td>

      <td>
        Carga flexible, cualquier sistema
      </td>
    </tr>
  </tbody>
</table>

## Antes de que empieces

Antes de configurar la notificación, cerciorar de tener:

* Un flujo de trabajo creado en su cuenta (a partir de [una plantilla](/docs/workflow-automation/create-a-workflow-automation/use-a-template) o [uno personalizado](/docs/workflow-automation/create-a-workflow-automation/create-your-own)).
* Credenciales para su canal de notificación ( token de bot de Slack, clave de API de PagerDuty, etc.).
* Credenciales almacenadas en [el administrador de secretos](/docs/workflow-automation/limitations-and-faq/workflow-best-practices/#secure-credentials).

<Callout variant="tip">
  **Para enviar notificaciones desde flujos de trabajo**: Use el catálogo de acciones para agregar acciones de notificación directamente en los pasos de su flujo de trabajo:

  * **Slack**: Use [`slack.chat.postMessage`](/docs/workflow-automation/setup-and-configuration/actions-catalog/slack/slack-chat) para la integración directa de Slack
  * **PagerDuty**: Use [acciones de PagerDuty](/docs/workflow-automation/setup-and-configuration/actions-catalog/pagerduty/pagerduty-incident) para la gestión de incidentes
  * **Correo electrónico**: Use [`newrelic.notification.sendEmail`](/docs/workflow-automation/setup-and-configuration/actions-catalog/newrelic/newrelic-notification) después de configurar los destinos de correo electrónico en [Alerts &gt; Destinations](/docs/alerts/get-notified/destinations/)
</Callout>

## Activar flujo de trabajo desde alertas [#trigger-from-alerts]

Configure la automatización del flujo de trabajo como destino en las alertas New Relic para iniciar automáticamente el flujo de trabajo cuando se infrinjan las condiciones de alerta. Cuando se activa mediante una alerta, el flujo de trabajo recibe automáticamente `issueId` y `accountId` como entradas.

1. Navegue a **[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &gt; Alerts &gt; Destinations** y seleccione **Workflow Automation**.

2. Para configurar la **Automatización del flujo de trabajo**, ingrese la información requerida, como el **nombre de destino de la Automatización del flujo de trabajo** (un nombre único para\*\* Automatización del flujo de trabajo\*\*) y la **clave de API**.

3. Haz clic en **Save destination**.

   <img title="How to add a destination" alt="Image of the Workflow Automation destination page." src="/images/add-a-destination.webp" />

## Crear una notificación alerta flujo de trabajo [#create-the-notification-workflow]

Luego de configurar **flujo de trabajo Automatización** como destino, cree una alerta notificación flujo de trabajo para definir qué alertas activan su flujo de trabajo.

<Callout variant="important">
  Los siguientes pasos son para configurar **flujos de trabajo de notificación de alertas** (parte de New Relic Alerts), no **Workflow Automation**. Los flujos de trabajo de notificación de alertas enrutan los problemas a los destinos, incluido el destino **Workflow Automation** que configuró anteriormente. Para obtener documentación completa sobre los flujos de trabajo de alertas, consulte [Flujos de trabajo de eventos de alerta](/docs/alerts/get-notified/alert-event-workflows).
</Callout>

1. Vaya a **Alerts &gt; Notification Workflows** y seleccione **+ Add a workflow**.

2. Para configurar su flujo de notificación de trabajo, en la página Configurar su flujo de notificación de trabajo, proporcione la información requerida:

   * Introduce un nombre único que puedas reconocer.
   * Seleccione los atributos **Tag**, **Policy** y **Priority** de sus respectivos menús desplegables en la opción de filtro **Basic** para recibir notificaciones sobre un evento de alerta, u opte por la opción de filtro **Advanced** para elegir **Attributes**, **Operators** y **Values** para notificaciones de eventos de alerta más detalladas.
   * Haz clic en **Additional settings** para enriquecer tus datos creando [consultas NRQL](/docs/alerts/get-notified/alert-event-workflows/#enrichments) para recopilar datos relacionados de toda tu plataforma New Relic. Para ver ejemplos de enriquecimiento, consulte [Enriquecimiento de datos de flujos de trabajo](/docs/alerts/get-notified/custom-variables-alert-event-workflows/#enrichment-examples).

3. Para especificar destinos de notificación, en la sección **Notify**, elija el destino de **Workflow Automation** que creó en el paso anterior.

4. (Opcional) También puede agregar otros destinos como [Slack](/docs/workflow-automation/setup-and-configuration/actions-catalog/slack/slack-chat/#configure-slack-integration) para recibir notificaciones junto con la activación del flujo de trabajo:

   1. Seleccione **Slack destination** de la lista desplegable.
   2. Elige el **Channel** de la lista desplegable y marca la casilla **Receive notification updates on the channel**.
   3. Opcionalmente, agregue un mensaje personalizado en la sección **Custom Details**.

   <Callout variant="tip">
     Recomendamos enviar una notificación de prueba empleando la opción **Send test notification**.
   </Callout>

   4. Seleccione **Save message**.

5. Seleccione **Activate workflow**.

   <img title="How to configure a workflow" alt="Image of how to configure a workflow" src="/images/configure-workflow.gif" />

## Qué datos se pasan a flujo de trabajo Automatización [#data-passed]

Cuando una alerta activa su automatización del flujo de trabajo:

* **`issueId`**: Se pasa automáticamente a su flujo de trabajo. Su flujo de trabajo debe aceptar esto como parámetro de entrada. Como se documenta en [Cree su propio flujo de trabajo](/docs/workflow-automation/create-a-workflow-automation/create-your-own), el `issueId` &quot;se proporciona automáticamente cuando el flujo de trabajo se ejecuta a partir de una alerta&quot;.
* **`accountId`**: Su ID de cuenta de New Relic. Su flujo de trabajo debe aceptar esto como un parámetro de entrada obligatorio.

Su definición de automatización del flujo de trabajo debe declarar estas entradas. Por ejemplo:

```yaml
  workflowInputs:
    accountId:
      type: Int
    issueId:
      type: String
```

<Callout variant="important">
  Las entradas sin `defaultValue` son obligatorias y deben proporcionar cuando se activa el flujo de trabajo. Luego puedes usar `issueId` para consultar los detalles de la alerta usando la API NerdGraph dentro de tu flujo de trabajo.
</Callout>

## Que sigue

* **[Catálogo de acciones](/docs/workflow-automation/setup-and-configuration/actions-catalog/actions-catalog)**: Vea todas las acciones disponibles de AWS, New Relic y de integración.
* **[Emplee una plantilla](/docs/workflow-automation/create-a-workflow-automation/use-a-template)**: desplegar un workflow preconfigurado para escenarios comunes.
* **[Cree su propio workflow](/docs/workflow-automation/create-a-workflow-automation/create-your-own)**: cree un workflow personalizado desde cero.