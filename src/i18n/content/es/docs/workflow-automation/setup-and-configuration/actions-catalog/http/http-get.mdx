---
title: Obtener HTTP
tags:
  - workflow automation
  - workflow
  - workflow automation actions
  - HTTP actions
  - HTTP GET
metaDescription: A list of available http get in the actions catalog for workflow definitions
freshnessValidatedDate: never
translationType: machine
---

<Callout title="avance">
  Todavía estamos trabajando en esta característica, ¡pero nos encantaría que la probaras!

  Esta característica se proporciona actualmente como parte de un programa de vista previa de conformidad con nuestras [políticas de prelanzamiento](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

Esta página proporciona una referencia completa para HTTP Get disponible en el catálogo de acciones de automatización del flujo de trabajo. Estas acciones le permiten realizar operaciones GET de solicitud HTTP.

## Requisitos previos

Antes de emplear acciones HTTP en la automatización de flujos de trabajo, cerciorar de tener:

* Objetivo extremos de URL de API.
* Cualquier credencial de autenticación requerida (clave de API, token, etc.).
* Comprensión de los formatos de solicitud/respuesta de la API.

<Callout variant="tip">
  Las acciones HTTP admiten la sintaxis secreta para cualquier valor de encabezado, lo que le permite pasar de forma segura datos confidenciales como la clave de API. Consulte [el administrador de secretos](/docs/workflow-automation/limitations-and-faq/workflow-best-practices/#secure-credentials) para obtener más información.
</Callout>

## Encabezados de solicitud automáticos [#automatic-headers]

Todas requests HTTP realizadas por flujo de trabajo Automation incluyen automáticamente los siguientes encabezados:

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        Encabezamiento
      </th>

      <th>
        Formato
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `X-Abuse-Info`
      </td>

      <td>
        `Request sent by a New Relic WorkflowAutomation. {runId}`

        <br />

        donde 

        `{runId}`

         es el ID de ejecución del flujo de trabajo
      </td>
    </tr>

    <tr>
      <td>
        `User-Agent`
      </td>

      <td>
        `NewRelic/WorkflowAutomation (region={region}; https://newrelic.com ; support@newrelic.com)`

        <br />

        donde 

        `{region}`

         es la región New Relic
      </td>
    </tr>
  </tbody>
</table>

## Aplicar datos sitio web [#http-get]

Realizar una llamada HTTP GET para recuperar datos de un extremo de API.

<Callout variant="important">
  Si necesita pasar datos confidenciales a una entrada, por ejemplo un encabezado `Api-Key`, puede usar valores almacenados a través de la mutación NerdGraph [secretsManagementCreateSecret](https://onenr.io/0KQXX6BmdQa).

  **Ejemplo**

  ```yaml
    {
      "inputs": [
        {
          "key": "headers",
          "value": "{\"Api-Key\": \"${{ :secrets:NR_API_KEY }}\"}"
        }
      ]
    }
  ```
</Callout>

<Tabs>
  <TabsBar>
    <TabsBarItem id="httpgetinputs">
      Entradas
    </TabsBarItem>

    <TabsBarItem id="httpgetoutputs">
      Salidas
    </TabsBarItem>

    <TabsBarItem id="httpgetexample">
      Ejemplo
    </TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="httpgetinputs">
      <table>
        <thead>
          <tr>
            <th>
              Campo de entrada
            </th>

            <th>
              Opcionalidad
            </th>

            <th>
              Tipo
            </th>

            <th>
              Descripción
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              **url**
            </td>

            <td>
              Requerido
            </td>

            <td>
              Cadena
            </td>

            <td>
              La URL de destino para la solicitud. El esquema debe incluirse: 

              `https://example.com`

              . Consulte 

              [uso de entradas de flujo de trabajo](/docs/workflow-automation/workflow-examples/basic-patterns/workflow-inputs)

               para obtener valores dinámicos.
            </td>
          </tr>

          <tr>
            <td>
              **parámetros de URL**
            </td>

            <td>
              Opcional
            </td>

            <td>
              Mapa
            </td>

            <td>
              El parámetro consulta que se agregará a la URL. Toma un objeto JSON en formato de cadena.
            </td>
          </tr>

          <tr>
            <td>
              **encabezados**
            </td>

            <td>
              Opcional
            </td>

            <td>
              Mapa
            </td>

            <td>
              Las cabeceras que se deben agregar a la solicitud. Toma un objeto JSON en formato de cadena.
            </td>
          </tr>

          <tr>
            <td>
              **selectores**
            </td>

            <td>
              Opcional
            </td>

            <td>
              Lista
            </td>

            <td>
              Los selectores para obtener únicamente el parámetro especificado como resultado.
            </td>
          </tr>
        </tbody>
      </table>

      ### Selectores

      **Propósito:** Extraer datos específicos de la respuesta de la API.

      **Estructura:**

      * `name`:El nombre de la variable para almacenar el valor extraído
      * `expression`:JSONPath o expresión para analizar la respuesta
      * Emplee `responseBody | fromjson` para analizar las respuestas JSON
      * filtros adicionales de cadena usando notación de puntos (por ejemplo, `.abbreviation`)
    </TabsPageItem>

    <TabsPageItem id="httpgetoutputs">
      <table>
        <thead>
          <tr>
            <th>
              Campo de salida
            </th>

            <th>
              Tipo
            </th>

            <th>
              Descripción
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              **cuerpo de respuesta**
            </td>

            <td>
              Cadena
            </td>

            <td>
              El cuerpo de la respuesta.
            </td>
          </tr>

          <tr>
            <td>
              **código de estado**
            </td>

            <td>
              En t
            </td>

            <td>
              El código de estado de la respuesta.
            </td>
          </tr>

          <tr>
            <td>
              **éxito**
            </td>

            <td>
              Booleano
            </td>

            <td>
              Estado de la solicitud.
            </td>
          </tr>

          <tr>
            <td>
              **mensaje de error**
            </td>

            <td>
              Cadena
            </td>

            <td>
              Mensaje de motivo del fallo.
            </td>
          </tr>
        </tbody>
      </table>
    </TabsPageItem>

    <TabsPageItem id="httpgetexample">
      <table>
        <thead>
          <tr>
            <th>
              Definición de flujo de trabajo
            </th>

            <th>
              Aporte
            </th>

            <th>
              Producción
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              ```yaml
              name: httpGetTest
              steps:
                - name: query
                  type: action
                  action: http.get
                  version: 1
                  inputs:
                    url: ${{ .workflowInputs.url }}
                    urlParams: ${{ .workflowInputs.urlParams }}
                    headers: ${{ .workflowInputs.headers }}
                    selectors: ${{ .workflowInputs.selectors }}
              ```
            </td>

            <td>
              ```yaml
                {
                  "inputs": [
                    {
                      "key": "url",
                      "value": "https://example.com"
                    },
                    {
                      "key": "urlParams",
                      "value": "{\"foo\": \"bar\"}"
                    },
                    {
                      "key": "headers",
                      "value": "{\"baz\": \"bat\"}"
                    },
                    {
                      "key": "selectors",
                      "value": "[{\"name\": \"responseBody\", \"expression\": \".responseBody\"}, {\"name\": \"statusCode\", \"expression\": \".statusCode\"}]"
                    }
                  ]
                }
              ```
            </td>

            <td>
              ```yaml
                Success case:
                  {
                    "responseBody": "<!doctype html>\n<html>...</html>\n",
                    "statusCode": 200,
                    "success": true
                  }

                Failure case:
                  {
                    "errorMessage": "An unexpected error failed to call http get endpoint.",
                    "success": false
                  }
              ```
            </td>
          </tr>
        </tbody>
      </table>
    </TabsPageItem>
  </TabsPages>
</Tabs>