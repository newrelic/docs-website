---
title: Acciones de New Relic
tags:
  - workflow automation
  - workflow
  - workflow automation actions
  - New relic actions
metaDescription: A list of available actions in the actions catalog for workflow definitions
freshnessValidatedDate: never
translationType: machine
---

<Callout title="avance">
  Todavía estamos trabajando en esta característica, ¡pero nos encantaría que la probaras!

  Esta característica se proporciona actualmente como parte de un programa de vista previa de conformidad con nuestras [políticas de prelanzamiento](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

Esta página proporciona una referencia completa de las acciones de New Relic disponibles en el catálogo de acciones de automatización de flujo de trabajo. Estas acciones te permiten integrar las capacidades de la plataforma New Relic en tus definiciones de flujo de trabajo, incluyendo el envío de eventos personalizados y logs, la ejecución de consultas NerdGraph, la ejecución de consultas NRQL y el envío de notificaciones.

## Requisitos previos

Antes de emplear las acciones New Relic en la automatización del flujo de trabajo, cerciorar de tener lo siguiente:

* Una cuenta de New Relic con las licencias adecuadas.
* Una clave de licencia de New Relic (si se envían datos a una cuenta diferente).
* Las licencias necesarias para los servicios específicos de New Relic que planea emplear.

Consulte [la clave de licencia](/docs/apis/intro-apis/new-relic-api-keys/#license-key) para obtener información sobre cómo crear y gestionar su clave de licencia de cuenta de New Relic.

## Acciones disponibles de New Relic

Referencia rápida de todas las acciones de New Relic por categoría:

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        Categoría
      </th>

      <th style={{ width: "250px" }}>
        Acción
      </th>

      <th>
        Objetivo
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        **Ingesta de datos**
      </td>

      <td>
        [Enviar evento personalizado](#newrelicingestsendevents)
      </td>

      <td>
        Enviar evento personalizado a New Relic.
      </td>
    </tr>

    <tr>
      <td>
        **Ingesta de datos**
      </td>

      <td>
        [Enviar logs](#newrelicingestsendlogs)
      </td>

      <td>
        Enviar datos de log a New Relic.
      </td>
    </tr>

    <tr>
      <td>
        **NerdGraph**
      </td>

      <td>
        [Ejecutar consulta o mutación GraphQL](#newrelicnerdgraphexecute)
      </td>

      <td>
        Ejecutar comandos GraphQL contra la API de NerdGraph.
      </td>
    </tr>

    <tr>
      <td>
        **Consultar**
      </td>

      <td>
        [Ejecutar consulta NRDB](#newrelicnrdbquery)
      </td>

      <td>
        Ejecutar consulta NRQL entre cuentas.
      </td>
    </tr>

    <tr>
      <td>
        **Notificación**
      </td>

      <td>
        [Enviar notificación](#newrelicnotificationsend)
      </td>

      <td>
        Enviar notificaciones a destinos New Relic.
      </td>
    </tr>
  </tbody>
</table>

## acciones de ingesta de datos

<CollapserGroup>
  <Collapser id="newrelic.ingest.sendEvents" title="Enviar evento personalizado a New Relic">
    Envía un evento personalizado a New Relic

    <Tabs>
      <TabsBar>
        <TabsBarItem id="createventinputs">
          Entradas
        </TabsBarItem>

        <TabsBarItem id="createventoutputs">
          Salidas
        </TabsBarItem>

        <TabsBarItem id="createventexample">
          Ejemplo
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="createventinputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de entrada
                </th>

                <th>
                  Opcionalidad
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Ejemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **Atributo**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  mapa
                </td>

                <td>
                  `"{\"page\": \"1\", \"limit\": \"10\"}"`
                </td>
              </tr>

              <tr>
                <td>
                  **evento**
                </td>

                <td>
                  Requerido
                </td>

                <td>
                  lista
                </td>

                <td>
                  `"[{\"eventType\":\"XYZ\",\"attributes\":{\"foo\":\"bar\"}}, {\"eventType\":\"ABC\",\"value\":\"1234\",\"attributes\":{\"color\":\"red\"}}]`
                </td>
              </tr>

              <tr>
                <td>
                  **clave de licencia**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  cadena
                </td>

                <td>
                  `"{{ .secrets.secretName }}"`
                </td>
              </tr>

              <tr>
                <td>
                  **selectores**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  lista
                </td>

                <td>
                  `[{\"name\": \"success\", \"expression\": \".success\"}]`
                </td>
              </tr>
            </tbody>
          </table>

          <Callout variant="important">
            * **attributes**: Atributo común que forma parte de todos los eventos cuando se proporciona. Se realiza la fusión para cada elemento del evento cuando sea necesario; el elemento del evento anula la definición común.
            * **events**: La lista de datos del evento. Tenga en cuenta que el evento requiere el uso de un campo `eventType` que representa el tipo de evento personalizado y el máximo de eventos permitidos por solicitud es 100.
            * **licenseKey**: La clave de licencia de New Relic Account que especifica la cuenta objetivo donde se envían los eventos. Si no se proporciona este valor, se asume una clave de licencia predeterminada basada en la cuenta que ejecuta el flujo de trabajo.
            * **selectors**: Los selectores para obtener únicamente el parámetro especificado como salida.
          </Callout>
        </TabsPageItem>

        <TabsPageItem id="createventoutputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de salida
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Ejemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **éxito**
                </td>

                <td>
                  Booleano
                </td>

                <td>
                  `true`
                </td>
              </tr>

              <tr>
                <td>
                  **mensaje de error**
                </td>

                <td>
                  cadena
                </td>

                <td>
                  `"Error message if operation failed"`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="createventexample">
          <table>
            <thead>
              <tr>
                <th>
                  Ejemplo de flujo de trabajo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                  name: heartbeat_newrelicIngestSendEvents

                  workflowInputs:
                    cellName:
                      type: String

                  steps:
                    - name: runAction
                      type: action
                      action: newrelic.ingest.sendEvents
                      version: 1
                      inputs:
                        attributes:
                          colour: red
                          id: 1234
                        events:
                          - eventType: HeartBeat
                            test: "OK"
                            attributes:
                              foo: bar
                          - eventType: HeartBeat1234
                            test: "OK1234"
                            attributes:
                              foo: bar
                          - eventType: HeartBeat12345
                            test: "OK12345"
                            attributes:
                              foo: bar
                              colour: yellow
                          - eventType: HeartBeat12345678
                            test: "OK12345678"
                        selectors:
                          - name: success
                            expression: ".success"
                  ```

                  **Resultado esperado:**

                  ```yaml
                  {
                    "success": true
                  }
                  ```

                  **Recuperar evento:**

                  Tras ejecutar correctamente un flujo de trabajo, puede recuperar el evento asociado ejecutando una consulta en la cuenta que ejecutó el flujo de trabajo:

                  ```sql
                  SELECT * FROM HeartBeat
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>

<CollapserGroup>
  <Collapser id="newrelic.ingest.sendLogs" title="Enviar log a New Relic">
    Enviar log a New Relic

    <Tabs>
      <TabsBar>
        <TabsBarItem id="newrelic.ingest.sendLogsinputs">
          Entradas
        </TabsBarItem>

        <TabsBarItem id="newrelic.ingest.sendLogsoutputs">
          Salidas
        </TabsBarItem>

        <TabsBarItem id="newrelic.ingest.sendLogsexample">
          Ejemplo
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="newrelic.ingest.sendLogsinputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de entrada
                </th>

                <th>
                  Opcionalidad
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Ejemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **Atributo**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  mapa
                </td>

                <td>
                  `"{\"page\": \"1\", \"limit\": \"10\"}"`
                </td>
              </tr>

              <tr>
                <td>
                  **logs**
                </td>

                <td>
                  Requerido
                </td>

                <td>
                  lista
                </td>

                <td>
                  `"[{\"message\":\"XYZ\",\"attributes\":{\"foo\":\"bar\"}}, {\"message\":\"ABC\",\"value\":\"1234\",\"attributes\":{\"color\":\"red\"}}]"`
                </td>
              </tr>

              <tr>
                <td>
                  **clave de licencia**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  cadena
                </td>

                <td>
                  `"{{ .secrets.secretName }}"`
                </td>
              </tr>

              <tr>
                <td>
                  **selectores**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  lista
                </td>

                <td>
                  `[{\"name\": \"success\", \"expression\": \".success\"}]`
                </td>
              </tr>
            </tbody>
          </table>

          <Callout variant="important">
            * **attributes**: Atributo común incluido en todos los logs cuando se proporciona. Si un elemento de log especifica el mismo atributo, anula la definición común.
            * **logs**: La lista de datos de log. Tenga en cuenta que el número máximo de logs permitidos por solicitud es 100.
            * **licenseKey**: La clave de licencia de New Relic Account que especifica la cuenta objetivo a la que se envían los logs. Si no se proporciona, se asume una clave de licencia predeterminada basada en la cuenta que ejecuta el flujo de trabajo. Consulte [la clave de licencia](/docs/apis/intro-apis/new-relic-api-keys/#license-key) para obtener más información.
            * **selectors**: Los selectores para obtener únicamente el parámetro especificado como salida.
          </Callout>
        </TabsPageItem>

        <TabsPageItem id="newrelic.ingest.sendLogsoutputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de salida
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Ejemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **éxito**
                </td>

                <td>
                  Booleano
                </td>

                <td>
                  `true`
                </td>
              </tr>

              <tr>
                <td>
                  **mensaje de error**
                </td>

                <td>
                  cadena
                </td>

                <td>
                  `"Error message if operation failed"`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="newrelic.ingest.sendLogsexample">
          <table>
            <thead>
              <tr>
                <th>
                  Ejemplo de flujo de trabajo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                  name: heartbeat_newrelicIngestSendLogs

                  workflowInputs:
                    cellName:
                      type: String

                  steps:
                    - name: runAction
                      type: action
                      action: newrelic.ingest.sendLogs
                      version: 1
                      inputs:
                        attributes:
                          colour: red
                          id: 1234
                        logs:
                          - message: 'Heartbeat sendLogs Action Test Message'
                            attributes:
                              foo: bar
                          - message: 'HeartBeat1234'
                            attributes:
                              foo: bar
                          - message: 'HeartBeat12345'
                            attributes:
                              foo: bar
                              colour: yellow
                          - message: 'HeartBeat12345678'
                        selectors:
                          - name: success
                            expression: ".success"
                  ```

                  **Resultado esperado:**

                  ```yaml
                  {
                    "success": true
                  }
                  ```

                  **Recuperar logs:**

                  Tras ejecutar correctamente un flujo de trabajo, puede recuperar el log asociado ejecutando una consulta en la cuenta que ejecutó el flujo de trabajo:

                  ```sql
                  SELECT * FROM Log
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>

## Acciones de NerdGraph

<CollapserGroup>
  <Collapser id="newrelic.nerdgraph.execute" title="Ejecutar una consulta o mutación GraphQL en la API de New Relic NerdGraph">
    Ejecuta un comando Graphql contra la API NerdGraph de New Relic. El comando puede ser una consulta o una mutación.

    <Tabs>
      <TabsBar>
        <TabsBarItem id="nerdgraphexecuteinputs">
          Entradas
        </TabsBarItem>

        <TabsBarItem id="nerdgraphexecuteoutputs">
          Salidas
        </TabsBarItem>

        <TabsBarItem id="nerdgraphexecuteexample">
          Ejemplo
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="nerdgraphexecuteinputs">
          <table>
            <thead>
              <tr>
                <th>
                  Aporte
                </th>

                <th>
                  Opcionalidad
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Descripción
                </th>

                <th>
                  Ejemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **Graphql**
                </td>

                <td>
                  Requerido
                </td>

                <td>
                  cadena
                </td>

                <td>
                  Sintaxis GraphQL. Deberías usar GraphiQL para construir y probar tu comando.
                </td>

                <td />
              </tr>

              <tr>
                <td>
                  **variables**
                </td>

                <td>
                  Requerido
                </td>

                <td>
                  map[string]any
                </td>

                <td>
                  Variables de pares principales de valor para usar con la declaración GraphQL.
                </td>

                <td />
              </tr>

              <tr>
                <td>
                  **selectores**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  lista
                </td>

                <td>
                  Los selectores para obtener como resultado el único parámetro especificado.
                </td>

                <td>
                  ```yaml
                    {
                    "data": {
                      "actor": {
                        "user": {
                          "name": ""
                        }
                      }
                    }
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="nerdgraphexecuteoutputs">
          <table>
            <thead>
              <tr>
                <th>
                  Producción
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Ejemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **datos**
                </td>

                <td>
                  map[string]any: Contenido de la propiedad 

                  `data`

                   de una respuesta de NerdGraph.
                </td>

                <td>
                  ```yaml
                    steps:
                      - name: currentUserId
                        type: action
                        action: newrelic.nerdgraph.execute
                        version: 1
                        inputs:
                          graphql: |
                            query userId {
                              currentUser {
                                id
                              }
                            }
                      - name: sayHello
                        type: action
                        action: example.messaging.sayHello
                        version: 1
                        inputs:
                          name: ${{ .steps.currentUserId.outputs.data.currentUser.id }}
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="nerdgraphexecuteexample">
          <table>
            <thead>
              <tr>
                <th>
                  Ejemplo
                </th>

                <th>
                  Producción
                </th>

                <th>
                  Recuperar evento
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```json
                      name: testLog

                      steps:
                        - name: logStep
                          type: action
                          action: newrelic.ingest.sendLogs
                          version: 1
                          inputs:
                            logs:
                              - message: 'Hello World'
                  ```
                </td>

                <td>
                  ```yaml
                          {
                            "success": true
                          }
                  ```
                </td>

                <td>
                  Puede recuperar el evento asociado ejecutando una consulta en la cuenta que ejecutó el flujo de trabajo.

                  ```yaml
                    SELECT message FROM Log WHERE allColumnSearch('Hello World', insensitive: true) SINCE 30 minutes ago
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>

## Acciones de consulta

<CollapserGroup>
  <Collapser id="newrelic.nrdb.query" title="Ejecutar una consulta NRDB">
    Ejecuta una consulta NRQL entre cuentas a través de la API de NerdGraph.

    <Tabs>
      <TabsBar>
        <TabsBarItem id="nrdbqueryinputs">
          Entradas
        </TabsBarItem>

        <TabsBarItem id="nrdbqueryoutputs">
          Salidas
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="nrdbqueryinputs">
          <table>
            <thead>
              <tr>
                <th>
                  Aporte
                </th>

                <th>
                  Opcionalidad
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Descripción
                </th>

                <th>
                  Ejemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **consulta**
                </td>

                <td>
                  Requerido
                </td>

                <td>
                  cadena
                </td>

                <td>
                  La instrucción de consulta NRQL.
                </td>

                <td />
              </tr>

              <tr>
                <td>
                  **ID de cuenta**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  lista de int
                </td>

                <td>
                  El campo 

                  **New Relic Account ID**

                   es una lista de ID de objetivo que le permite especificar las cuentas objetivo contra las que se ejecuta la consulta. Si no se proporciona este valor como entrada, la consulta se ejecutará automáticamente en la cuenta asociada con la cuenta de ejecución del flujo de trabajo.
                </td>

                <td />
              </tr>

              <tr>
                <td>
                  **selectores**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  lista
                </td>

                <td>
                  Los selectores para obtener como resultado el único parámetro especificado.
                </td>

                <td>
                  ```json
                    steps:
                      - name: queryForLog
                        type: action
                        action: newrelic.nrdb.query
                        version: 1
                        inputs:
                          accountIds: [12345]
                          query: FROM Log SELECT * WHERE message LIKE 'DEMO%'
                          selectors:
                            - name: resultsAsString
                              expression: '.results | tostring'
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="nrdbqueryoutputs">
          <table>
            <thead>
              <tr>
                <th>
                  Producción
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Ejemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **results**

                  : Una matriz de objetos que contiene los resultados de la consulta.
                </td>

                <td />

                <td>
                  ```yaml
                    {
                      results=[
                        { message=[INFO] - Workflow: test has ended, messageId=39af98 },
                        { message=[INFO] - Workflow: test - Step query has started, messageId=649c612 },
                        ...
                      ]
                    }
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>

## acciones de notificación

<CollapserGroup>
  <Collapser id="newrelic.notification.send" title="Enviar notificación al destino de NewRelic">
    Envía un mensaje a un canal, integrado con destinos como por ejemplo Slack.

    <Tabs>
      <TabsBar>
        <TabsBarItem id="newrelicnotificationsendinputs">
          Entradas
        </TabsBarItem>

        <TabsBarItem id="newrelicnotificationsendoutputs">
          Salidas
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="newrelicnotificationsendinputs">
          <table>
            <thead>
              <tr>
                <th>
                  Aporte
                </th>

                <th>
                  Opcionalidad
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Descripción
                </th>

                <th>
                  Ejemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **tipo**
                </td>

                <td>
                  Requerido
                </td>

                <td>
                  cadena
                </td>

                <td>
                  Tipo de destino de New Relic
                </td>

                <td>
                  `slack`
                </td>
              </tr>

              <tr>
                <td>
                  **ID de destino**
                </td>

                <td>
                  Requerido
                </td>

                <td>
                  Cadena
                </td>

                <td>
                  DestinationId asociado con el destino de New Relic.
                </td>

                <td>
                  `123e4567-e89b-12d3-a456-426614174000`
                </td>
              </tr>

              <tr>
                <td>
                  **parámetro**
                </td>

                <td>
                  Requerido
                </td>

                <td>
                  mapa
                </td>

                <td>
                  Campos obligatorios para enviar notificaciones al tipo de destino seleccionado.
                </td>

                <td>
                  `{\"channel\": \"${{ YOUR_CHANNEL }}\", \"text\": \"Enter your text here\"}`
                </td>
              </tr>

              <tr>
                <td>
                  **selectores**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  lista
                </td>

                <td>
                  Los selectores para obtener como resultado el único parámetro especificado.
                </td>

                <td>
                  `[{\"name\": \"success\", \"expression\": \".success\"}]`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="newrelicnotificationsendoutputs">
          <table>
            <thead>
              <tr>
                <th>
                  Producción
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Ejemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  éxito
                </td>

                <td>
                  booleano
                </td>

                <td>
                  `true/false`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>