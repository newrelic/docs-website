---
title: Acciones de Slack Chat
tags:
  - workflow automation
  - workflow
  - workflow automation actions
  - Slack actions
  - communication actions
  - Slack Chat actions
metaDescription: A list of available slack chat actions in the actions catalog for workflow definitions
freshnessValidatedDate: never
translationType: machine
---

<Callout title="avance">
  Todavía estamos trabajando en esta característica, ¡pero nos encantaría que la probaras!

  Esta característica se proporciona actualmente como parte de un programa de vista previa de conformidad con nuestras [políticas de prelanzamiento](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

Esta página proporciona una referencia completa de las acciones de chat de Slack disponibles en el catálogo de acciones de automatización del flujo de trabajo. Estas acciones le permiten aflojar las operaciones de mensajería.

## Requisitos previos

Antes de emplear acciones de comunicación en la automatización del flujo de trabajo, cerciorar de tener:

* Un espacio de trabajo de Slack con las licencias adecuadas.
* Un token de bot de Slack configurado como secreto en la automatización del flujo de trabajo.
* Acceso a los canales de Slack donde deseas enviar mensajes.

Consulta [la sección &quot;Agregar configuración de Slack&quot;](/docs/autoflow/overview#add-the-slack-integration) para obtener información sobre cómo configurar la integración de Slack.

## Acciones de Slack

<CollapserGroup>
  <Collapser id="slack-chat-postmessage" title="Publica un mensaje en el canal de Slack.">
    Envía un mensaje a un canal de Slack, con un archivo adjunto opcional.

    <Tabs>
      <TabsBar>
        <TabsBarItem id="chatpostmessageinputs">
          Entradas
        </TabsBarItem>

        <TabsBarItem id="chatpostmessageoutputs">
          Salidas
        </TabsBarItem>

        <TabsBarItem id="chatpostmessageexample">
          Ejemplo
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="chatpostmessageinputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de entrada
                </th>

                <th>
                  Opcionalidad
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Descripción
                </th>

                <th>
                  Ejemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **token**
                </td>

                <td>
                  Requerido
                </td>

                <td>
                  Secreto
                </td>

                <td>
                  El token del bot de Slack a emplear. Esto debe pasar como una sintaxis secreta. Consulta 

                  [Agregar configuración de Slack](/docs/alerts/get-notified/notification-integrations/)

                   para obtener instrucciones sobre cómo configurar un token.
                </td>

                <td>
                  `${{ :secrets:slackToken }}`
                </td>
              </tr>

              <tr>
                <td>
                  **canal**
                </td>

                <td>
                  Requerido
                </td>

                <td>
                  Cadena
                </td>

                <td>
                  El nombre del canal, o un ID de canal, para enviar el mensaje. Consulte 

                  [la API de Slack](https://docs.slack.dev/reference/methods/chat.postMessage/#arg_channel)

                   para obtener más información.
                </td>

                <td>
                  `my-slack-channel`
                </td>
              </tr>

              <tr>
                <td>
                  **texto**
                </td>

                <td>
                  Requerido
                </td>

                <td>
                  Cadena
                </td>

                <td>
                  El mensaje que se publicará en Slack en el 

                  `channel`

                   especificado.
                </td>

                <td>
                  `Hello World!`
                </td>
              </tr>

              <tr>
                <td>
                  **hilosTs**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Cadena
                </td>

                <td>
                  marca de tiempo que pertenece al mensaje principal, empleada para crear una respuesta de mensaje en un hilo.
                </td>

                <td>
                  `<digits>.<digits>`
                </td>
              </tr>

              <tr>
                <td>
                  **adjunto**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Mapa
                </td>

                <td>
                  Permite anexar un archivo con un mensaje al 

                  `channel`

                   especificado.
                </td>

                <td />
              </tr>

              <tr>
                <td>
                  **archivo adjunto**
                </td>

                <td>
                  Requerido
                </td>

                <td>
                  Cadena
                </td>

                <td>
                  Especifique el nombre del archivo cargado en Slack.
                </td>

                <td>
                  `file.txt`
                </td>
              </tr>

              <tr>
                <td>
                  **contenido del archivo adjunto**
                </td>

                <td>
                  Requerido
                </td>

                <td>
                  Cadena
                </td>

                <td>
                  El contenido del archivo a cargar como UTF8.
                </td>

                <td>
                  `Hello\nWorld!`
                </td>
              </tr>

              <tr>
                <td>
                  **selectores**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Lista
                </td>

                <td>
                  Los selectores para obtener como resultado el único parámetro especificado.
                </td>

                <td>
                  `[{\"name\": \"threadTs\", \"expression\": \".threadTs\"}, {\"name\": \"channelID\", \"expression\": \".channelID\")\"}]`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="chatpostmessageoutputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de salida
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Descripción
                </th>

                <th>
                  Ejemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **hilosTs**
                </td>

                <td>
                  Cadena
                </td>

                <td>
                  marca de tiempo del hilo del mensaje. Se puede emplear en futuras llamadas 

                  `postMessage`

                   para publicar una respuesta en un hilo.
                </td>

                <td>
                  `<digits>.<digits>`
                </td>
              </tr>

              <tr>
                <td>
                  **ID de canal**
                </td>

                <td>
                  Cadena
                </td>

                <td>
                  Id del canal donde se publica el mensaje.
                </td>

                <td>
                  `<string>`
                </td>
              </tr>

              <tr>
                <td>
                  **éxito**
                </td>

                <td>
                  Booleano
                </td>

                <td>
                  Estado de la solicitud
                </td>

                <td>
                  `true / false`
                </td>
              </tr>

              <tr>
                <td>
                  **mensaje de error**
                </td>

                <td>
                  Cadena
                </td>

                <td>
                  Motivo del fallo como mensaje
                </td>

                <td>
                  `<string>`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="chatpostmessageexample">
          **Ejemplo 1: Enviar mensaje de Slack**

          <table>
            <thead>
              <tr>
                <th>
                  Ejemplo de flujo de trabajo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                    name: SendMessage

                    steps:
                      - name: send_slack_message
                        type: action
                        action: slack.chat.postMessage 
                        version: 1
                        inputs:
                          token: ${{ :secrets:dn_staging_slack_token }}
                          channel: ${{ .workflowInputs.channel }}
                          text: ${{ .workflowInputs.text }}
                          selectors:
                            - name: threadTs
                              expression: ".threadTs"
                            - name: channelID
                              expression: ".channelID"
                  ```

                  **Entradas:**

                  ```json
                    {
                      "inputs": [
                        {
                          "key" : "channel",
                          "value" : "test-channel-workflow"
                        },
                        {
                          "key" : "text",
                          "value" : "This is my message *with bold text* and `code backticks`"
                        }
                      ]
                    }
                  ```

                  **Resultado esperado:**

                  ```json
                    [
                      {
                        "threadTs": "1718897637.400609",
                        "channelID": "C063JK1RHN1"
                        "success": true
                      }
                    ]
                  ```
                </td>
              </tr>
            </tbody>
          </table>

          **Ejemplo 2: Anexar un archivo**

          <table>
            <thead>
              <tr>
                <th>
                  Ejemplo de flujo de trabajo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                    name: SendFileMessage

                    steps:

                      - name: postCsv
                        type: action
                        action: slack.chat.postMessage
                        version: 1
                        inputs:
                          token: ${{ :secrets:dn_staging_slack_token }}
                          channel: test-channel-workflow
                          text: "Please find the attached file:"
                          attachment:
                            filename: 'file.txt'
                            content: "Hello\nWorld!"
                  ```

                  **Resultado esperado:**

                  ```json
                    [
                      {
                        "threadTs": "1718897637.400609",
                        "channelID": "C063JK1RHN1"
                        "success": true
                      }
                    ]
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>

<CollapserGroup>
  <Collapser id="slack-chat-getreactions" title="Obtén una reacción a un mensaje del canal de Slack.">
    Obtén una reacción a un mensaje del canal de Slack.

    <Tabs>
      <TabsBar>
        <TabsBarItem id="chatgetreactionsinputs">
          Entradas
        </TabsBarItem>

        <TabsBarItem id="chatgetreactionsoutputs">
          Salidas
        </TabsBarItem>

        <TabsBarItem id="chatgetreactionsexample">
          Ejemplo
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="chatgetreactionsinputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de entrada
                </th>

                <th>
                  Opcionalidad
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Descripción
                </th>

                <th>
                  Ejemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **token**
                </td>

                <td>
                  Requerido
                </td>

                <td>
                  Secreto
                </td>

                <td>
                  El token del bot de Slack a emplear. Esto debe pasar como una sintaxis secreta. Consulta 

                  [Agregar configuración de Slack](/docs/alerts/get-notified/notification-integrations/)

                   para obtener instrucciones sobre cómo configurar un token.
                </td>

                <td>
                  `${{ :secrets:slackToken }}`
                </td>
              </tr>

              <tr>
                <td>
                  **ID de canal**
                </td>

                <td>
                  Requerido
                </td>

                <td>
                  Cadena
                </td>

                <td>
                  El ID del canal, para obtener las reacciones del mensaje. Ver 

                  [método`reactions.get`](https://docs.slack.dev/reference/methods/reactions.get/#arg_channel)
                </td>

                <td>
                  `C063JK1RHN1`
                </td>
              </tr>

              <tr>
                <td>
                  **se acabó el tiempo**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  En t
                </td>

                <td>
                  El tiempo en segundos que hay que esperar para obtener cualquier reacción. El valor predeterminado es 60 s, el máximo permitido es 600 s (10 min).
                </td>

                <td>
                  60
                </td>
              </tr>

              <tr>
                <td>
                  **hilosTs**
                </td>

                <td>
                  Requerido
                </td>

                <td>
                  Cadena
                </td>

                <td>
                  marca de tiempo que pertenece al mensaje, empleada para obtener la reacción de ese mensaje.
                </td>

                <td>
                  `<digits>.<digits>`
                </td>
              </tr>

              <tr>
                <td>
                  **selectores**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Lista
                </td>

                <td>
                  Los selectores para obtener como resultado el único parámetro especificado.
                </td>

                <td>
                  `[{\"name\": \"reactions\", \"expression\": \".reactions \"}]`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="chatgetreactionsoutputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de salida
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Descripción
                </th>

                <th>
                  Ejemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **reacciones**
                </td>

                <td>
                  Lista
                </td>

                <td>
                  Lista de elementos con todas las reacciones capturadas o una lista vacía si se agotó el tiempo de espera.
                </td>

                <td>
                  `<list>`
                </td>
              </tr>

              <tr>
                <td>
                  **éxito**
                </td>

                <td>
                  Booleano
                </td>

                <td>
                  Estado de la solicitud
                </td>

                <td>
                  `true / false`
                </td>
              </tr>

              <tr>
                <td>
                  **mensaje de error**
                </td>

                <td>
                  Cadena
                </td>

                <td>
                  Motivo del fallo como mensaje
                </td>

                <td>
                  `Invalid slack token`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="chatgetreactionsexample">
          **Ejemplo 1: Slack obtiene reacciones**

          <table>
            <thead>
              <tr>
                <th>
                  Ejemplo de flujo de trabajo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                    name: GetReactions

                    steps:
                        - name: getReactions
                        type: action
                        action: slack.chat.getReactions
                        version: 1
                        inputs:
                          token: ${{ :secrets:dn_staging_slack_token }}
                          channelID: ${{ .steps.promptUser.outputs.channelID }}
                          threadTs: ${{ .steps.promptUser.outputs.threadTs }}
                          timeout: ${{ .workflowInputs.timeout }}
                          selectors: ${{ .workflowInputs.selectors }}
                  ```

                  **Entradas:**

                  ```json
                    {
                      "inputs": [
                        {
                          "key" : "channelID",
                          "value" : "C063JK1RHN1"
                        },
                        {
                          "key" : "threadTs",
                          "value" : "1718897637.400609"
                        },
                        {
                          "key" : "selectors",
                          "value" : "[{\"name\": \"reactions\", \"expression\": \".reactions \"}]"
                        }
                      ]
                    }
                  ```

                  **Salidas:**

                  ```json
                    [
                                {
                                    "name": "grinning",
                                    "users": [
                                        "W222222"
                                    ],
                                    "count": 1
                                },
                                {
                                    "name": "question",
                                    "users": [
                                        "W333333"
                                    ],
                                    "count": 1
                                }
                            ]

                    or if it is timed out,
                    []
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>