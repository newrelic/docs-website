---
title: acciones de comunicación
tags:
  - workflow automation
  - workflow
  - workflow automation actions
  - communication actions
  - slack actions
  - ms teams actions
metaDescription: A list of available actions in the actions catalog for workflow definitions
freshnessValidatedDate: never
translationType: machine
---

<Callout title="avance">
  Todavía estamos trabajando en esta característica, ¡pero nos encantaría que la probaras!

  Esta característica se proporciona actualmente como parte de un programa de vista previa de conformidad con nuestras [políticas de prelanzamiento](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

Esta página proporciona una referencia completa de las acciones de comunicación disponibles en el catálogo de acciones de automatización del flujo de trabajo. Estas acciones te permiten integrar la plataforma de comunicación en tus definiciones de flujo de trabajo, incluyendo el envío de mensajes a canales de Slack, la recuperación de reacciones y más.

## Requisitos previos

Antes de emplear acciones de comunicación en la automatización del flujo de trabajo, cerciorar de tener:

* Un espacio de trabajo de Slack con las licencias adecuadas.
* Un token de bot de Slack configurado como secreto en la automatización del flujo de trabajo.
* Acceso a los canales de Slack donde deseas enviar mensajes.

Consulta [la sección &quot;Agregar configuración de Slack&quot;](/docs/autoflow/overview#add-the-slack-integration) para obtener información sobre cómo configurar la integración de Slack.

## Acciones de Slack

<CollapserGroup>
  <Collapser id="slack.chat.postMessage" title="Publica un mensaje en el canal de Slack.">
    Envía un mensaje a un canal de Slack, con un archivo adjunto opcional.

    <Tabs>
      <TabsBar>
        <TabsBarItem id="chatpostMessageinputs">
          Entradas
        </TabsBarItem>

        <TabsBarItem id="chatpostMessageoutputs">
          Salidas
        </TabsBarItem>

        <TabsBarItem id="chatpostMessageexample">
          Ejemplo
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="chatpostMessageinputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de entrada
                </th>

                <th>
                  Opcionalidad
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Ejemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **token**
                </td>

                <td>
                  Requerido
                </td>

                <td>
                  secreto
                </td>

                <td>
                  `${{ :secrets:slackToken }}`
                </td>
              </tr>

              <tr>
                <td>
                  **canal**
                </td>

                <td>
                  Requerido
                </td>

                <td>
                  cadena
                </td>

                <td>
                  `my-slack-channel`
                </td>
              </tr>

              <tr>
                <td>
                  **texto**
                </td>

                <td>
                  Requerido
                </td>

                <td>
                  cadena
                </td>

                <td>
                  `Hello World!`
                </td>
              </tr>

              <tr>
                <td>
                  **hilosTs**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  cadena
                </td>

                <td>
                  `<digits>.<digits>`
                </td>
              </tr>

              <tr>
                <td>
                  **adjunto**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  mapa
                </td>

                <td />
              </tr>

              <tr>
                <td>
                  **archivo adjunto**
                </td>

                <td>
                  Requerido
                </td>

                <td>
                  cadena
                </td>

                <td>
                  `file.txt`
                </td>
              </tr>

              <tr>
                <td>
                  **contenido del archivo adjunto**
                </td>

                <td>
                  Requerido
                </td>

                <td>
                  cadena
                </td>

                <td>
                  `Hello\nWorld!`
                </td>
              </tr>
            </tbody>
          </table>

          <Callout variant="important">
            * **token**: El token del bot de Slack que se va a emplear. Esto debe pasar como una sintaxis secreta. Consulte [la sección &quot;Agregar configuración de Slack&quot;](/docs/autoflow/overview#add-the-slack-integration) para obtener instrucciones sobre cómo configurar un token.
            * **channel**: El nombre del canal, o un ID de canal, al que se enviará el mensaje. Consulta [la API de Slack](https://api.slack.com/methods/chat.postMessage#arg_channel/) para obtener más información.
            * **text**: El mensaje que se publicará en Slack en el `channel` especificado.
            * **threadTs**: marca de tiempo perteneciente al mensaje principal, empleada para crear una respuesta de mensaje en un hilo.
            * **attachment**: Permite anexar un archivo con un mensaje al `channel` especificado.
            * **attachment.filename**: Especifique el nombre del archivo cargado en Slack.
            * **attachment.content**: El contenido del archivo a subir en formato UTF-8.
          </Callout>
        </TabsPageItem>

        <TabsPageItem id="chatpostMessageoutputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de salida
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Ejemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **hilosTs**
                </td>

                <td>
                  cadena
                </td>

                <td>
                  `<digits>.<digits>`
                </td>
              </tr>

              <tr>
                <td>
                  **ID de canal**
                </td>

                <td>
                  cadena
                </td>

                <td>
                  `<string>`
                </td>
              </tr>
            </tbody>
          </table>

          <Callout variant="important">
            * **threadTs**: marca de tiempo del mensaje. Puede emplear en futuras llamadas a postMessage para publicar una respuesta en un hilo.
            * **channelID**: Identificador del canal donde se publica el mensaje.
          </Callout>
        </TabsPageItem>

        <TabsPageItem id="chatpostMessageexample">
          **Ejemplo 1: Publicar un mensaje en un canal de Slack**

          <table>
            <thead>
              <tr>
                <th>
                  Ejemplo de flujo de trabajo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                  name: SendMessage

                  steps:
                    - name: send_slack_message
                      type: action
                      action: slack.chat.postMessage
                      version: 1
                      inputs:
                        token: ${{ :secrets:slackToken }}
                        channel: ${{ .workflowInputs.channel }}
                        text: ${{ .workflowInputs.text }}
                  ```

                  **Entradas esperadas:**

                  ```json
                  {
                    "inputs": [
                      {
                        "key" : "channel",
                        "value" : "my-channel"
                      },
                      {
                        "key" : "text",
                        "value" : "This is my message *with bold text* and `code backticks`"
                      }
                    ]
                  }
                  ```

                  **Resultado esperado:**

                  ```json
                  [
                    {
                      "threadTs": "1718897637.400609",
                      "channelID": "C063JK1RHN1"
                    }
                  ]
                  ```
                </td>
              </tr>
            </tbody>
          </table>

          **Ejemplo 2: Anexar un archivo**

          <table>
            <thead>
              <tr>
                <th>
                  Ejemplo de flujo de trabajo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                  name: SendFileMessage

                  steps:
                    - name: postCsv
                      type: action
                      action: slack.chat.postMessage
                      version: 1
                      inputs:
                        token: ${{ :secrets:slackToken }}
                        channel: my-channel
                        text: "Please find the attached file:"
                        attachment:
                          filename: 'file.txt'
                          content: "Hello\nWorld!"
                  ```

                  **Resultado esperado:**

                  ```json
                  [
                    {
                      "threadTs": "1718897637.400609",
                      "channelID": "C063JK1RHN1"
                    }
                  ]
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>

<CollapserGroup>
  <Collapser id="slack.chat.getReactions" title="Obtén una reacción a un mensaje del canal de Slack.">
    Obtén una reacción a un mensaje del canal de Slack.

    <Tabs>
      <TabsBar>
        <TabsBarItem id="chatgetreactionsinputs">
          Entradas
        </TabsBarItem>

        <TabsBarItem id="chatgetreactionsoutputs">
          Salidas
        </TabsBarItem>

        <TabsBarItem id="chatgetreactionsexample">
          Ejemplo
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="chatgetreactionsinputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de entrada
                </th>

                <th>
                  Opcionalidad
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Ejemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **token**
                </td>

                <td>
                  Requerido
                </td>

                <td>
                  secreto
                </td>

                <td>
                  `${{ :secrets:slackToken }}`
                </td>
              </tr>

              <tr>
                <td>
                  **ID de canal**
                </td>

                <td>
                  Requerido
                </td>

                <td>
                  cadena
                </td>

                <td>
                  `C063JK1RHN1`
                </td>
              </tr>

              <tr>
                <td>
                  **se acabó el tiempo**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  En t
                </td>

                <td>
                  60
                </td>
              </tr>

              <tr>
                <td>
                  **hilosTs**
                </td>

                <td>
                  Requerido
                </td>

                <td>
                  cadena
                </td>

                <td>
                  `<digits>.<digits>`
                </td>
              </tr>

              <tr>
                <td>
                  **selectores**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  lista
                </td>

                <td>
                  `[{\"name\": \"reactions\", \"expression\": \".reactions \"}]`
                </td>
              </tr>
            </tbody>
          </table>

          <Callout variant="important">
            * **token**: El token del bot de Slack que se va a emplear. Esto debe pasar como una sintaxis secreta. Consulte [la sección &quot;Agregar configuración de Slack&quot;](/docs/autoflow/overview#add-the-slack-integration) para obtener instrucciones sobre cómo configurar un token.
            * **channelID**: El ID del canal para obtener las reacciones a los mensajes.
            * **timeout**: El tiempo en segundos que se debe esperar para obtener alguna respuesta. El valor predeterminado es 60 segundos, el máximo permitido es 600 segundos (10 minutos).
            * **threadTs**: marca de tiempo perteneciente al mensaje, empleada para obtener la reacción a ese mensaje.
            * **selectors**: Los selectores para obtener como salida el único parámetro especificado.
          </Callout>
        </TabsPageItem>

        <TabsPageItem id="chatgetreactionsoutputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de salida
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Ejemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **reacciones**
                </td>

                <td>
                  lista
                </td>

                <td>
                  `<list>`
                </td>
              </tr>
            </tbody>
          </table>

          <Callout variant="important">
            * **reactions**: Lista de elementos con todas las reacciones capturadas o una lista vacía si se produjo un tiempo de espera agotado.
          </Callout>
        </TabsPageItem>

        <TabsPageItem id="chatgetreactionsexample">
          **Ejemplo 1: Slack obtiene reacciones**

          <table>
            <thead>
              <tr>
                <th>
                  Ejemplo de flujo de trabajo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                  name: GetReactions

                  steps:
                    - name: getReactions
                      type: action
                      action: slack.chat.getReactions
                      version: 1
                      inputs:
                        token: ${{ :secrets:slackToken }}
                        channelID: ${{ .steps.promptUser.outputs.channelID }}
                        threadTs: ${{ .steps.promptUser.outputs.threadTs }}
                        timeout: ${{ .workflowInputs.timeout }}
                        selectors: ${{ .workflowInputs.selectors }}
                  ```

                  **Entradas esperadas:**

                  ```json
                  {
                    "inputs": [
                      {
                        "key" : "channelID",
                        "value" : "C063JK1RHN1"
                      },
                      {
                        "key" : "threadTs",
                        "value" : "1718897637.400609"
                      },
                      {
                        "key" : "selectors",
                        "value" : "[{\"name\": \"reactions\", \"expression\": \".reactions \"}]"
                      }
                    ]
                  }
                  ```

                  **Resultado esperado:**

                  ```json
                  [
                    {
                      "name": "grinning",
                      "users": [
                        "W222222"
                      ],
                      "count": 1
                    },
                    {
                      "name": "question",
                      "users": [
                        "W333333"
                      ],
                      "count": 1
                    }
                  ]
                  ```

                  O si se agota el tiempo de espera:

                  ```json
                  []
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>