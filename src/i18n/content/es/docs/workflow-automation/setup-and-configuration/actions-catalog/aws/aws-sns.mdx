---
title: Acciones de AWS SNS
tags:
  - workflow automation
  - workflow
  - workflow automation actions
  - AWS actions
  - AWS SNS actions
metaDescription: A list of available aws sns actions in the actions catalog for workflow definitions
freshnessValidatedDate: never
translationType: machine
---

<Callout title="avance">
  Todavía estamos trabajando en esta característica, ¡pero nos encantaría que la probaras!

  Esta característica se proporciona actualmente como parte de un programa de vista previa de conformidad con nuestras [políticas de prelanzamiento](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

Esta página proporciona una referencia completa de las acciones de AWS SNS disponibles en el catálogo de acciones de automatización del flujo de trabajo. Estas acciones le permiten realizar operaciones de temas de sns.

## Requisitos previos

Antes de emplear las acciones AWS en la automatización del flujo de trabajo, cerciorar de tener lo siguiente:

* Una cuenta de AWS con las licencias adecuadas.
* Credenciales de AWS configuradas (credenciales de usuario de IAM, ARN de rol de IAM o credenciales de sesión).
* Las licencias IAM necesarios para los servicios específicos de AWS que planea emplear.

Consulte [Configurar credenciales AWS ](/docs/workflow-automation/setup-and-configuration/set-up-aws-credentials/)para obtener información sobre cómo crear usuarios y roles de IAM, y configurar credenciales AWS estáticas y de sesión para la integración con acciones de automatización de flujo de trabajo AWS.

## Publicar un mensaje en un tema de AWS SNS [#aws-sns-publish]

Envía un mensaje a un tema de Amazon SNS. Todos los suscriptores del tema recibirán el mensaje.

<Tabs>
  <TabsBar>
    <TabsBarItem id="aws-sns-publish-inputs">
      Entradas
    </TabsBarItem>

    <TabsBarItem id="aws-sns-publish-outputs">
      Salidas
    </TabsBarItem>

    <TabsBarItem id="aws-sns-publish-example">
      Ejemplo
    </TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="aws-sns-publish-inputs">
      <table>
        <thead>
          <tr>
            <th>
              Campo de entrada
            </th>

            <th>
              Opcionalidad
            </th>

            <th>
              Tipo
            </th>

            <th>
              Ejemplo
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              **awsRoleArn**
            </td>

            <td>
              Opcional
            </td>

            <td>
              Cadena
            </td>

            <td>
              `arn:aws:iam::123456789012:role/my-workflow-role`
            </td>
          </tr>

          <tr>
            <td>
              **awsAccessKeyId**
            </td>

            <td>
              Opcional
            </td>

            <td>
              Cadena
            </td>

            <td>
              `${{ :secrets:<awsAccessKeyId> }}`
            </td>
          </tr>

          <tr>
            <td>
              **awsSecretAccessKey**
            </td>

            <td>
              Opcional
            </td>

            <td>
              Cadena
            </td>

            <td>
              `${{ :secrets:<awsSecretAccessKey> }}`
            </td>
          </tr>

          <tr>
            <td>
              **awsSessionToken**
            </td>

            <td>
              Opcional
            </td>

            <td>
              Cadena
            </td>

            <td>
              `${{ :secrets:<awsSessionToken> }}`
            </td>
          </tr>

          <tr>
            <td>
              **región**
            </td>

            <td>
              Requerido
            </td>

            <td>
              Cadena
            </td>

            <td>
              `"us-east-2"`
            </td>
          </tr>

          <tr>
            <td>
              **mensaje**
            </td>

            <td>
              Requerido
            </td>

            <td>
              Cadena
            </td>

            <td>
              Los mensajes deben ser cadenas codificadas en UTF-8 y tener un tamaño máximo de 256 KB.

              `Workflow failed at step 3`
            </td>
          </tr>

          <tr>
            <td>
              **topicArn**
            </td>

            <td>
              Opcional
            </td>

            <td>
              Cadena
            </td>

            <td>
              Si no especifica un valor para el parámetro topicArn, debe especificar un valor para el parámetro targetArn.

              `"arn:aws:sns:us-east-2:123456789012:my-topic"`
            </td>
          </tr>

          <tr>
            <td>
              **targetArn**
            </td>

            <td>
              Opcional
            </td>

            <td>
              Cadena
            </td>

            <td>
              Si no especifica un valor para el parámetro topicArn, debe especificar un valor para el parámetro targetArn.

              `"arn:aws:sns:us-east-2:123456789012:MySNSTopic"`
            </td>
          </tr>

          <tr>
            <td>
              **sujeto**
            </td>

            <td>
              Opcional
            </td>

            <td>
              Cadena
            </td>

            <td>
              `"Workflow Update"`
            </td>
          </tr>

          <tr>
            <td>
              **MessageStructure**
            </td>

            <td>
              Opcional
            </td>

            <td>
              Cadena
            </td>

            <td>
              `MessageStructure`
            </td>
          </tr>

          <tr>
            <td>
              **messageAttributes**
            </td>

            <td>
              Opcional
            </td>

            <td>
              Mapa
            </td>

            <td>
              ```yaml
              {
                'string': {
                   'DataType': 'string',
                   'StringValue': 'string',
                   'BinaryValue': b'bytes'
                 }
              },
              ```
            </td>
          </tr>

          <tr>
            <td>
              **messageDeduplicationId**
            </td>

            <td>
              Opcional
            </td>

            <td>
              Cadena
            </td>

            <td>
              `"abc123deduplicationId5678"`
            </td>
          </tr>

          <tr>
            <td>
              **messageGroupId**
            </td>

            <td>
              Opcional
            </td>

            <td>
              Cadena
            </td>

            <td>
              `"order-processing-group-2023_A"`
            </td>
          </tr>
        </tbody>
      </table>

      <CollapserGroup>
        <Collapser id="list-of-inputs-aws-sns-publish" title="Lista de entradas que son opcionales y no se consideran en el catálogo de acciones">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de entrada
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Ejemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  PhoneNumber
                </td>

                <td>
                  Cadena
                </td>

                <td>
                  No incluimos el número de teléfono ya que se considera información de identificación personal (IIP).
                </td>
              </tr>
            </tbody>
          </table>
        </Collapser>
      </CollapserGroup>
    </TabsPageItem>

    <TabsPageItem id="aws-sns-publish-outputs">
      <table>
        <thead>
          <tr>
            <th>
              Campo de salida
            </th>

            <th>
              Tipo
            </th>

            <th>
              Ejemplo
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              **response**
            </td>

            <td>
              objeto
            </td>

            <td>
              `[{"success":true,"response":{"MessageId":"2333ededwedwed-52f5-a716-e10355e3e2ff"}}]`

              La sintaxis de respuesta se puede consultar en la documentación de sns-publish-Boto3]\([https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/sns/client/publish.html](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/sns/client/publish.html))
            </td>
          </tr>

          <tr>
            <td>
              **éxito**
            </td>

            <td>
              Booleano
            </td>

            <td>
              `success: true | false`
            </td>
          </tr>

          <tr>
            <td>
              **mensaje de error**
            </td>

            <td>
              Cadena
            </td>

            <td>
              `[{"errorMessage":"An error occurred (InvalidParameter) when calling the Publish operation: Invalid parameter: TopicArn or TargetArn Reason: no value for required parameter","success":false,"response":null}]`
            </td>
          </tr>
        </tbody>
      </table>
    </TabsPageItem>

    <TabsPageItem id="aws-sns-publish-example">
      ```yaml
      name: sns-publish-test
      description: Publishes a notification to an SNS topic
      workflowInputs:
        arnRole:
          type: String
      steps:
        - name: aws_sns_publish_1
          type: action
          action: aws.sns.publish
          version: '1'
          inputs:
            awsRoleArn: ${{ .workflowInputs.arnRole }}
            region: us-east-1
            topicArn: arn:aws:sns:us-east-1:123456789012:workflow-test-topic
            subject: "Workflow Update"
            message: "The data processing workflow has completed successfully."
          next: end
      ```
    </TabsPageItem>
  </TabsPages>
</Tabs>