---
title: Almacenamiento log a largo plazo con Live Archives
tags:
  - Logs
  - Log management
  - Get started
metaDescription: Store your logs with New Relic for up to seven years using live archives.
signupBanner:
  text: Monitor and improve your entire stack. 100GB free. Forever.
freshnessValidatedDate: never
translationType: machine
---

Live Archives le permite almacenar logs durante el tiempo que necesite. New Relic tiene una retención de log de treinta días de forma predeterminada, pero con Live Archives, puede extender ese período hasta siete años. Al igual que los documentos fiscales antiguos, a veces no es necesario que sus datos estén a mano, pero es seguro mantener la información disponible como referencia si es necesario.

¿Es Live Archives para ti? A continuación se muestran algunos casos de uso en los que podría beneficiarse de esta característica:

* <DNT>
    **Internal retention requirements**
  </DNT>

  : ¿Su compañía tiene una política que le exige mantener un log durante un periodo determinado? Los periodos de almacenamiento extendidos de Live Archives pueden ayudarlo a cumplir con sus requisitos.

* <DNT>
    **Trends and long-term debugging**
  </DNT>

  : El almacenamiento log a largo plazo puede ayudar a mejorar el rendimiento año tras año. Por ejemplo, si gestiona una compañía minorista, puede comparar los logs de una temporada navideña con la siguiente para ver cómo puede mejorar el rendimiento.

## Cómo funciona Live Archives [#how-it-works]

La característica Live Archives ofrece almacenamiento de datos log a largo plazo que desea consultar con moderación por un menor costo de almacenamiento. Con Live Archives, puede tener la tranquilidad de saber que su log estará disponible durante un periodo más largo para posibles auditorías o depuración a largo plazo, pero se le cobrará por separado por el almacenamiento y la consulta de sus datos antiguos.

## Empezar

<Steps>
  <Step>
    ### Habilitar Live Archives [#enable]

    Primero, debe solicitar las capacidades Live Archives .

    1. En la página UI

       <DNT>
         **Data retention**
       </DNT>

       , ubicada en el [centro de administración de datos](https://one.newrelic.com/data-management-hub).

    2. Desplácese hacia abajo hasta

       <DNT>
         **Logging live archives**
       </DNT>

       .

    3. Pulsa

       <DNT>
         **Request**
       </DNT>

       . Un miembro de nuestro equipo se comunicará con usted.
  </Step>

  <Step>
    Una vez que haya habilitado Live Archives, deberá editar la retención de datos.

    1. En la página UI

       <DNT>
         **Data retention**
       </DNT>

       , ubicada en el [centro de administración de datos,](https://one.newrelic.com/data-management-hub) seleccione

       <DNT>
         **Edit data retention**
       </DNT>

       .

    2. Desplácese hacia abajo hasta

       <DNT>
         **Logging live archives**
       </DNT>

       e ingrese la cantidad total de días que desea que se almacenen sus datos. Tenga en cuenta que esto incluye los días de retención estándar.

    3. Haga clic en

       <DNT>
         **Apply changes**
       </DNT>

       .

       Tenga en cuenta que necesitará [capacidades de administrador](/docs/accounts/accounts-billing/new-relic-one-user-management/user-management-concepts/#roles) para editar la retención de datos.

       <img
         title="edit data retention"
         alt="A screenshot showing users how to edit their data retention."
         src="/images/logs_screenshot-crop_edit-data-retention-live-archives.webp"
       />
  </Step>

  <Step>
    ### Crear una partición usando Live Archives [#partitions]

    Una partición es una forma de agrupar logs según criterios específicos. Crear particiones puede ayudarle a filtrar los logs que no necesita y conservar los que necesita con Live Archives.

    1. Vaya a <DNT>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**</DNT>.

    2. A la izquierda de la barra de consulta de log, haga clic en <DNT>**Data partitions**</DNT> y luego haga clic en <DNT>**Create data partition**</DNT>.

    3. Defina un nombre de partición como una cadena alfanumérica que comienza con log.

    4. Seleccione el campo <DNT>**Use live archives on this partition**</DNT>.

       <img
         title="create a live archives partition"
         alt="A screenshot showing a user how to create a partition using live archives"
         src="/images/logs_screenshot-crop_create-a-partition-using-live-archives.webp"
       />

       <figcaption>
         Vaya a <DNT>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs > Data partitions**</DNT> para crear una partición usando Live Archives.
       </figcaption>

    5. Los <DNT>**Total effective retention**</DNT> días se actualizarán para reflejar la retención regular _y_ la [retención Live Archives ](/docs/logs/get-started/live-archives-billing/#what-counts).

       También puede editar una partición existente haciendo clic en el <Icon name="fe-more-horizontal"/> icono en la página <DNT>**Data partitions**</DNT> . Si emplea una partición existente, el mismo parámetro que seleccionó para la partición original se aplicará a sus datos de Live Archives.

       <img
         width="60%;"
         title="Edit a live archives partition"
         alt="A screenshot showing a user how to edit a partition using live archives"
         src="/images/logs_screenshot-crop_edit-data-partition-using-live-archives.webp"
       />

       Para obtener más información sobre cómo usar particiones, consulte nuestro documento [Organizar datos con particiones](/docs/logs/ui-data/data-partitions/).
  </Step>

  <Step>
    ## Consulta tu log

    Hay algunas formas de consultar Live Archives: Lucene, NRQL o NRQL en la API NerdGraph. Para los tres métodos, necesitará la capacidad **Live archives query** para consultar Live Archives.

    ### Consulta Live Archives con Lucene consulta sintaxis [#query]

    Si está familiarizado con la sintaxis de Lucene consulta, puede ejecutarla en nuestra UI <DNT>**Logs**</DNT>.

    1. Vaya a

       <DNT>
         **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**
       </DNT>

       .

    2. Usando la barra de búsqueda, ejecute la consulta que desee. Lo mejor es practicar su consulta primero para asegurarse de que funcione como se esperaba.

    3. Seleccione las fechas que desea consultar.

    4. Una pantalla te mostrará que estás a punto de consultar Live Archives. Consultar Live Archives es más costoso, así que seleccione solo

       <DNT>
         **Query live archives**
       </DNT>

       si está listo.

       <img
         title="lucene live archives"
         alt="A screenshot showing a user how to query live archives in the logs UI"
         src="/images/logs_screenshot-crop_lucene-live-archives.webp"
       />

       <figcaption>
         Vaya a <DNT>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**</DNT> para consultar los datos almacenados con Live Archives.
       </figcaption>

       ### Consulta Live Archives con NRQL [#nrql]

       Si desea realizar la consulta empleando el mismo idioma que emplea para Errors Inbox o las alertas, le sugerimos realizar la consulta en NRQL.

    5. Vaya a

       <DNT>
         **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**
       </DNT>

       .

    6. Haga clic en **NRQL** en la esquina superior derecha.

    7. Ingrese la consulta NRQL que desea ejecutar.

    8. Practique la consulta primero para asegurarse de que funcione como se esperaba.

    9. Alternar

       <DNT>
         **Use live archives**
       </DNT>

       .

    10. Una pantalla te mostrará que estás a punto de consultar Live Archives. Consultar Live Archives es más costoso, así que seleccione solo

        <DNT>
          **Query live archives**
        </DNT>

        si está listo.

        <img
          title="nrql live archives"
          alt="A screenshot showing a user how to query live archives with NRQL"
          src="/images/logs_screenshot-crop_query-live-archives-nrql.webp"
        />

        <figcaption>
          Vaya a <DNT>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**</DNT> y luego seleccione <DNT>**NRQL**</DNT> para consultar los datos almacenados en Live Archives mediante el generador de consultas.
        </figcaption>

        ### Consulta Live Archives empleando APINerdGraph [#api]

        También puedes consultar tus datos Live Archives usando NRQL en la API NerdGraph. Debe incluir el `{eventNamespaces: "Logging:Archive"}` en las opciones NRQL para especificar los Live Archives `eventNamespace`.

        A continuación se muestra una consulta de ejemplo:

        ```
        query {
          actor {
            account(id: 1234567) {
              nrql(
                query: "SELECT count(*) FROM Log SINCE '2024-02-01 12:00:00' UNTIL '2024-02-01 13:00:00'"
                options: {eventNamespaces: "Logging:Archive"}
                async: true
              ) {
                results
              }
            }
          }
        }
        ```
  </Step>

  <Step>
    ### Ver tu consumo de datos [#data-consumption]

    Live Archives se factura de forma diferente que el resto de su log. Puede leer más al respecto en nuestro [almacenamiento Live Archives : Documentación de reglas y facturación](/docs/logs/get-started/live-archives-billing/). Live Archives tiene tres pilares de facturación.

    * <DNT>
        **Data**
      </DNT>

      : Se le cobrará por el momento en que ingiera originalmente el log regular.

    * <DNT>
        **Storage**
      </DNT>

      : Live Archives cobra una tarifa por almacenar sus datos con Live Archives.

    * <DNT>
        **Compute**
      </DNT>

      : la consulta de datos de Live Archives se facturará en unidad de capacidad de computación. Consulte nuestra [documentación del plan de uso](https://docs.newrelic.com/docs/licenses/license-information/usage-plans/new-relic-usage-plan/#list-price) para obtener más información sobre la unidad de capacidad de computación.

      Para ver su almacenamiento de datos en la página <DNT>**Plan & Usage**</DNT> :

    1. Vaya a

       <DNT>
         **[one.newrelic.com](https://one.newrelic.com/)**
       </DNT>

       , haga clic en el menú de usuario y luego haga clic en

       <DNT>
         **Administration**
       </DNT>

       para abrir la página

       <DNT>
         **Plan & usage**
       </DNT>

       .

    2. Desplácese hacia abajo hasta

       <DNT>
         **Retention (GB-month)**
       </DNT>

       .

    3. Haga clic en

       <DNT>
         **View more details**
       </DNT>

       para obtener más información sobre el desglose del almacenamiento.

       Una vez que consulte Live Archives, podrá explorar el consumo de su cálculo en el centro de gestión de cálculo.

    4. Vaya a

       <DNT>
         **[one.newrelic.com](https://one.newrelic.com/)**
       </DNT>

       , haga clic en el menú de usuario y luego haga clic en

       <DNT>
         **Administration**
       </DNT>

       .

    5. Seleccione

       <DNT>
         **Compute management**
       </DNT>

       .

    6. Desplácese hacia abajo hasta

       <DNT>
         **Product capabilities**
       </DNT>

       .

    7. Seleccione

       <DNT>
         **Logs**
       </DNT>

       .

    8. Coloque junto a

       <DNT>
         **Data category**
       </DNT>

       para ver el consumo calculado de Live Archives.
  </Step>
</Steps>

## Ejemplo [#examples]

Digamos que necesita verificar si un usuario inicia sesión en una máquina desde su computadora para completar un ticket el 1 de septiembre. Puede utilizar Live Archives para ayudar a confirmar que esto ocurrió completando los siguientes pasos:

1. Verifique el período de tiempo en el que el usuario inicia sesión en su máquina.

2. Pruebe su consulta en <DNT>**Logs**</DNT> para cerciorar de que funcione como se esperaba. Este es un ensayo y no devolverá ningún dato, pero solo está validando la consulta. Si funciona, puede ejecutar la consulta más costosa en su log archivado.

   Ejemplo de consulta:

   ```
   "logtype":"linux_audit" "type":"USER_LOGIN" "hostname":"apache_svr01"
   ```

3. Cambie el selector de hora para buscar las fechas en las que el usuario inicia sesión en su máquina.

4. Seleccione <DNT>**Query live archives**</DNT>.

## Eliminación de datos [#delete]

Si en algún momento desea reducir la retención de datos, tenga en cuenta:

* Necesitará privilegios de administrador para editar la retención de datos.
* _No puede recuperar datos si reduce la retención de datos más adelante. Elija y configure sus períodos de retención cuidadosamente._
* La eliminación de sus datos es efectiva el día en que reduce su retención.
* Puede solicitar la eliminación de sus datos durante cualquier conjunto de días determinado. Eliminaremos todos los datos Live Archives para las fechas seleccionadas.
* Los días comienzan y terminan en los límites UTC, por lo que al realizar una solicitud, asegúrese de que se alinee con UTC. Esto puede significar sumar o restar un día.

<Callout variant="important">
  Para evitar dudas, New Relic no tiene obligación de conservar datos en Live Archives después de la degradación de la cuenta o la expiración del contrato, o de otro modo si no cumple con los requisitos comerciales aplicables.
</Callout>

<DocTiles>
  <DocTile
    title="Understand how live archives billing works"
    number="1"
    path="/docs/logs/get-started/live-archives-billing"
  />

  <DocTile
    title="Learn more about creating data partitions"
    number="2"
    path="/docs/logs/ui-data/data-partitions/"
  />

  <DocTile
    title="Query your logs"
    number="3"
    path="/docs/logs/ui-data/query-syntax-logs/"
  />
</DocTiles>
