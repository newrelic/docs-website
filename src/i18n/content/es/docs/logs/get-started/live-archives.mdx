---
title: Almacenamiento log a largo plazo con Live Archives
tags:
  - Logs
  - Log management
  - Get started
metaDescription: Store your logs with New Relic for up to seven years using live archives.
signupBanner:
  text: Monitor and improve your entire stack. 100GB free. Forever.
freshnessValidatedDate: never
translationType: machine
---

import logsEditDataRetentionLiveArchives from 'images/logs_screenshot-crop_edit-data-retention-live-archives.webp'

import logsCreateaPartitionUsingLiveArchives from 'images/logs_screenshot-crop_create-a-partition-using-live-archives.webp'

import logsQueryLiveArchivesNrql from 'images/logs_screenshot-crop_query-live-archives-nrql.webp'

import logsLuceneLiveArchives from 'images/logs_screenshot-crop_lucene-live-archives.webp'

import logsEditDataPartitionUsingLiveArchives from 'images/logs_screenshot-crop_edit-data-partition-using-live-archives.webp'

Live Archives le permite almacenar registros durante el tiempo que necesite. New Relic tiene una retención de registro de treinta días de forma predeterminada, pero con Live Archives, puede extender ese período hasta siete años. Al igual que los documentos fiscales antiguos, a veces no es necesario que sus datos estén a mano, pero es seguro mantener la información disponible como referencia si es necesario.

¿Es Live Archives para ti? A continuación se muestran algunos casos de uso de ejemplo:

* <DoNotTranslate>**Internal retention requirements**</DoNotTranslate>

  : ¿Tiene un período de retención interno en el que le gustaría mantener un registro y poder consultarlos solo cuando sea necesario? Live Archives puede ayudar con el almacenamiento ampliado y la capacidad de consulta.

* <DoNotTranslate>**Trends and long-term debugging**</DoNotTranslate>

  : El almacenamiento log a largo plazo puede ayudar a mejorar el rendimiento año tras año. Por ejemplo, si administra una empresa minorista, comparar los registros de una temporada navideña con la siguiente puede mejorar el rendimiento.

## Cómo funciona Live Archives [#how-it-works]

La característica Live Archives ofrece almacenamiento de datos log a largo plazo que desea consultar con moderación por un menor costo de almacenamiento. Con Live Archives, puede tener la tranquilidad de saber que su registro estará disponible durante un período más largo para posibles auditorías o depuración a largo plazo, pero solo se le cobrará por _consultar datos antiguos_.

## Empezar

<Steps>
  <Step>
    ### Habilitar Live Archives [#enable]

    Primero, debe solicitar las capacidades Live Archives .

    1. En la página UI

       <DoNotTranslate>**Data retention**</DoNotTranslate>

       , ubicada en el [centro de administración de datos](https://one.newrelic.com/data-management-hub).

    2. Desplácese hacia abajo hasta

       <DoNotTranslate>**Logging live archives**</DoNotTranslate>

       .

    3. Pulsa

       <DoNotTranslate>**Request**</DoNotTranslate>

       . Un miembro de nuestro equipo se comunicará con usted.

    Una vez que haya habilitado Live Archives, deberá editar la retención de datos.

    1. En la página UI

       <DoNotTranslate>**Data retention**</DoNotTranslate>

       , ubicada en el [centro de administración de datos,](https://one.newrelic.com/data-management-hub) seleccione

       <DoNotTranslate>**Edit data retention**</DoNotTranslate>

       .

    2. Desplácese hacia abajo hasta

       <DoNotTranslate>**Logging live archives**</DoNotTranslate>

       e ingrese la cantidad total de días que desea que se almacenen sus datos. Tenga en cuenta que esto incluye los días de retención estándar.

    3. Haga clic en

       <DoNotTranslate>**Apply changes**</DoNotTranslate>

       .

    Tenga en cuenta que necesitará [capacidades de administrador](/docs/accounts/accounts-billing/new-relic-one-user-management/user-management-concepts/#roles) para editar la retención de datos.

    <img
      title="edit data retention"
      alt="A screenshot showing users how to edit their data retention."
      src={logsEditDataRetentionLiveArchives}
    />

    <figcaption>
      Vaya a <DoNotTranslate>**one.newrelic.com > [Data management hub](https://one.newrelic.com/data-management-hub) > Data retention > Select logging live archives > Edit data retention**</DoNotTranslate>: seleccione la duración de su archivo para almacenar su registro durante el tiempo que necesite.
    </figcaption>
  </Step>

  <Step>
    ### Crear una partición usando Live Archives [#partitions]

    Una partición es una forma de agrupar registros según criterios específicos. Crear particiones puede ayudarle a filtrar los registros que no necesita y conservar los que necesita con Live Archives.

    1. Vaya a

       <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**</DoNotTranslate>

       .

    2. A la izquierda de la barra de consulta de registro, haga clic en

       <DoNotTranslate>**Data partitions**</DoNotTranslate>

       y luego haga clic en

       <DoNotTranslate>**Create data partition**</DoNotTranslate>

       .

    3. Defina un nombre de partición como una cadena alfanumérica que comienza con log.

    4. Seleccione el campo

       <DoNotTranslate>**Use live archives on this partition**</DoNotTranslate>

       .

    5. Los

       <DoNotTranslate>**Total effective retention**</DoNotTranslate>

       días se actualizarán para reflejar la retención regular _y_ la [retención Live Archives ](/docs/logs/get-started/live-archives-billing/#what-counts).

    <img
      title="create a live archives partition"
      alt="A screenshot showing a user how to create a partition using live archives"
      src={logsCreateaPartitionUsingLiveArchives}
    />

    <figcaption>
      Vaya a <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs > Data partitions**</DoNotTranslate> para crear una partición usando Live Archives.
    </figcaption>

    También puede editar una partición existente haciendo clic en el <Icon name="fe-more-horizontal"/> icono en la página <DoNotTranslate>**Data partitions**</DoNotTranslate> .

    <img
      width="60%;"
      title="Edit a live archives partition"
      alt="A screenshot showing a user how to edit a partition using live archives"
      src={logsEditDataPartitionUsingLiveArchives}
    />
  </Step>

  <Step>
    ### Consulta Live Archives con sintaxis de registro [#query]

    Hay dos formas de consultar Live Archives: con Lucene o NRQL. Si desea utilizar una sintaxis de registro con la que está familiarizado fuera de New Relic, le sugerimos realizar consultas en la UI <DoNotTranslate>**Logs**</DoNotTranslate>. Necesitará la capacidad **Live archives query** para consultar Live Archives.

    1. Vaya a

       <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**</DoNotTranslate>

       .

    2. Usando la barra de búsqueda, ejecute la consulta que desee. Lo mejor es practicar su consulta primero para asegurarse de que funcione como se esperaba.

    3. Seleccione las fechas que desea consultar.

    4. Una pantalla te mostrará que estás a punto de consultar Live Archives. Consultar Live Archives es más costoso, así que seleccione solo

       <DoNotTranslate>**Query live archives**</DoNotTranslate>

       si está listo.

    <img
      title="lucene live archives"
      alt="A screenshot showing a user how to query live archives in the logs UI"
      src={logsLuceneLiveArchives}
    />

    <figcaption>
      Vaya a <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**</DoNotTranslate> para consultar los datos almacenados con Live Archives.
    </figcaption>
  </Step>

  <Step>
    ### Consulta Live Archives con NRQL [#nrql]

    Si desea realizar la consulta utilizando el mismo idioma que utiliza para Errors Inbox o las alertas, le sugerimos realizar la consulta en NRQL. Necesitará la capacidad **Live archives query** para consultar Live Archives.

    1. Vaya a

       <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**</DoNotTranslate>

       .

    2. Ingrese la consulta NRQL que desea ejecutar.

    3. Practique la consulta primero para asegurarse de que funcione como se esperaba.

    4. Alternar

       <DoNotTranslate>**Use live archives**</DoNotTranslate>

       .

    5. Una pantalla te mostrará que estás a punto de consultar Live Archives. Consultar Live Archives es más costoso, así que seleccione solo

       <DoNotTranslate>**Query live archives**</DoNotTranslate>

       si está listo.

    <img
      title="nrql live archives"
      alt="A screenshot showing a user how to query live archives with NRQL"
      src={logsQueryLiveArchivesNrql}
    />

    <figcaption>
      Vaya a <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**</DoNotTranslate> y luego seleccione <DoNotTranslate>**NRQL**</DoNotTranslate> para consultar los datos almacenados en Live Archives mediante el generador de consultas.
    </figcaption>
  </Step>

  <Step>
    ### Consulta Live Archives usando Nerdgraph API [#api]

    También puedes consultar tus datos Live Archives utilizando la API de Nerdgraph. Necesitará la capacidad **Live archives query** para consultar Live Archives. Debe incluir el `{eventNamespaces: "Logging:Archive"}` en las opciones de NRQL para especificar los Live Archives `eventNamespace`.

    A continuación se muestra una consulta de ejemplo:

    ```
    query {
      actor {
        account(id: 1234567) {
          nrql(
            query: "SELECT count(*) FROM Log SINCE '2024-02-01 12:00:00' UNTIL '2024-02-01 13:00:00'"
            options: {eventNamespaces: "Logging:Archive"}
            async: true
          ) {
            results
          }
        }
      }
    }
    ```
  </Step>

  <Step>
    ### Ver tu consumo de datos [#data-consumption]

    Live Archives se factura de forma diferente que el resto de su registro. Puede leer más al respecto en nuestro [almacenamientoLive Archives : Documentación de reglas y facturación](/docs/logs/get-started/live-archives-billing/). Live Archives tiene tres pilares de facturación.

    * <DoNotTranslate>**Data**</DoNotTranslate>

      : Se le cobrará por el momento en que ingiera originalmente el registro regular.

    * <DoNotTranslate>**Storage**</DoNotTranslate>

      : Live Archives cobra una tarifa por almacenar sus datos con Live Archives.

    * <DoNotTranslate>**Compute**</DoNotTranslate>

      : la consulta de datos de Live Archives se facturará en unidad de capacidad de computación. Consulte nuestra [documentación del plan de uso](https://docs.newrelic.com/docs/licenses/license-information/usage-plans/new-relic-usage-plan/#list-price) para obtener más información sobre la unidad de capacidad de computación.

    Para ver su almacenamiento de datos en la página <DoNotTranslate>**Plan & Usage**</DoNotTranslate> :

    1. Vaya a

       <DoNotTranslate>**[one.newrelic.com](https://one.newrelic.com/)**</DoNotTranslate>

       , haga clic en el menú de usuario y luego haga clic en

       <DoNotTranslate>**Administration**</DoNotTranslate>

       para abrir la página

       <DoNotTranslate>**Plan & usage**</DoNotTranslate>

       .

    2. Desplácese hacia abajo hasta

       <DoNotTranslate>**Retention (GB-month)**</DoNotTranslate>

       .

    3. Haga clic en

       <DoNotTranslate>**View more details**</DoNotTranslate>

       para obtener más información sobre el desglose del almacenamiento.

    Una vez que consulte Live Archives, podrá explorar el consumo de su cálculo en el centro de gestión de cálculo.

    1. Vaya a

       <DoNotTranslate>**[one.newrelic.com](https://one.newrelic.com/)**</DoNotTranslate>

       , haga clic en el menú de usuario y luego haga clic en

       <DoNotTranslate>**Administration**</DoNotTranslate>

       .

    2. Seleccione

       <DoNotTranslate>**Compute management**</DoNotTranslate>

       .

    3. Desplácese hacia abajo hasta

       <DoNotTranslate>**Product capabilities**</DoNotTranslate>

       .

    4. Seleccione

       <DoNotTranslate>**Logs**</DoNotTranslate>

       .

    5. Coloque junto a

       <DoNotTranslate>**Data category**</DoNotTranslate>

       para ver el consumo calculado de Live Archives.
  </Step>
</Steps>

## Ejemplo [#examples]

Digamos que necesita verificar si un usuario inicia sesión en una máquina desde su computadora para completar un ticket el 1 de septiembre. Puede utilizar Live Archives para ayudar a confirmar que esto ocurrió completando los siguientes pasos:

1. Verifique el período de tiempo en el que el usuario inicia sesión en su máquina.

2. Pruebe su consulta en

   <DoNotTranslate>**Logs**</DoNotTranslate>

   para asegurarse de que funcione como se esperaba.

Ejemplo de consulta:

```
"logtype":"linux_audit" "type":"USER_LOGIN" "hostname":"apache_svr01"
```

3. Cambie el selector de hora para buscar las fechas en las que el usuario inicia sesión en su máquina.

4. Seleccione

   <DoNotTranslate>**Query live archives**</DoNotTranslate>

   .

## Eliminación de datos [#delete]

Si en algún momento desea reducir la retención de datos, tenga en cuenta:

* Necesitará privilegios de administrador para editar la retención de datos.
* _No puede recuperar datos si reduce la retención de datos más adelante. Elija y configure sus períodos de retención cuidadosamente._
* La eliminación de sus datos es efectiva el día en que reduce su retención.
* Puede solicitar la eliminación de sus datos durante cualquier conjunto de días determinado. Eliminaremos todos los datos Live Archives para las fechas seleccionadas.
* Los días comienzan y terminan en los límites UTC, por lo que al realizar una solicitud, asegúrese de que se alinee con UTC. Esto puede significar sumar o restar un día.

<Callout variant="important">
  Para evitar dudas, New Relic no tiene obligación de conservar datos en Live Archives después de la degradación de la cuenta o la expiración del contrato, o de otro modo si no cumple con los requisitos comerciales aplicables.
</Callout>

<DocTiles>
  <DocTile
    title="Understand how live archives billing works"
    number="1"
    path="/docs/logs/get-started/live-archives-billing"
  />

  <DocTile
    title="Learn more about creating data partitions"
    number="2"
    path="/docs/logs/ui-data/data-partitions/"
  />

  <DocTile
    title="Query your logs"
    number="3"
    path="/docs/logs/ui-data/query-syntax-logs/"
  />
</DocTiles>