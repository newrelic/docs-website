---
title: Programar búsquedas NRQL
tags:
  - NRQL
  - Scheduled searches
  - Query scheduling
  - Automated queries
  - Email notifications
  - Workflow automation
metaDescription: 'Schedule automated NRQL queries to receive regular updates on your data via email. Transform repetitive, manual queries into proactive, automated workflows.'
freshnessValidatedDate: never
translationType: machine
---

Como usuario New Relic, puede ejecutar la misma consulta NRQL una y otra vez para monitorear patrones críticos, verificar condiciones específicas o generar reportes periódicos. Por ejemplo, puede que necesite comprobar diariamente si hay transacciones fallidas, controlar semanalmente la tasa de errores o realizar un seguimiento de las métricas de rendimiento por hora en toda su aplicación. Este proceso manual consume mucho tiempo y facilita que se pase por alto información importante cuando no se está realizando un monitoreo activo.

Las búsquedas NRQL programadas solucionan este problema automatizando las consultas repetitivas. Puedes programar las consultas para que se ejecuten automáticamente y recibir los resultados por email, de modo que te mantengas informado sobre patrones críticos sin necesidad de un seguimiento manual constante.

<Callout title="avance">
  Todavía estamos trabajando en esta característica, ¡pero nos encantaría que la probaras!

  Esta característica se proporciona actualmente como parte de un programa de vista previa de acuerdo con nuestras [políticas de prelanzamiento](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy). Durante el periodo de vista previa, esta característica solo está disponible para los clientes que ejecutan New Relic en el centro de datos de EE. UU. y es accesible a través de la [UI de logs](/docs/logs/ui-data/use-logs-ui), con planes de ampliarla a otras capacidades luego de su disponibilidad general.
</Callout>

## Lo que puedes hacer [#features]

Las búsquedas NRQL programadas te permiten:

* **Automatice las consultas repetitivas**: convierta las consultas manuales en un flujo de trabajo automatizado que se ejecute según su cronograma.
* **Mantener informado de forma proactiva**: Reciba notificaciones por email con los resultados de la consulta directamente en su bandeja de entrada.
* **Programación flexible**: emplee programaciones de expresiones cron personalizadas para definir cuándo se ejecutan las consultas.
* **Múltiples formatos de salida**: Exportar resultados como archivos CSV o JSON adjuntos a la notificación por email.
* **Colaboración en equipo**: Enviar resultados de búsqueda programados a múltiples destinatarios de email.
* **Gestión centralizada**: Visualice, edite y gestione todas sus búsquedas programadas desde una única ubicación en la UI de administración.

## Requisitos previos [#prerequisites]

Para emplear búsquedas NRQL programadas, necesita:

* **Licencias de usuario**: [flujo de trabajo Se requieren licencias de automatización](/docs/alerts-applied-intelligence/applied-intelligence/incident-workflows/incident-workflows/#requirements) para crear y gestionar búsquedas programadas.
* **Acceso a la cuenta**: Acceso a la cuenta donde desea programar búsquedas.
* **Acceso a los datos**: Licencias adecuadas para consultar los datos que desea programar. Por ejemplo, si se programa una consulta sobre datos de log, se necesita acceso a esos datos de log.

<Callout variant="important">
  Las búsquedas NRQL programadas se basan en la infraestructura de automatización de flujo de trabajo de New Relic. Su organización necesita licencias adecuadas para crear y gestionar el flujo de trabajo.
</Callout>

## Programa una nueva búsqueda [#create-schedule]

Para programar una nueva búsqueda NRQL automatizada:

<Steps>
  <Step>
    **Acceso a búsquedas programadas**:

    1. Vaya a **[one.newrelic.com](https://one.newrelic.com) &gt; Administration &gt; Scheduled Searches**.
    2. Para configurar una nueva búsqueda, desde la página <DNT>**Scheduled Searches**</DNT>, haga clic en **Schedule a search**.
  </Step>

  <Step>
    **Configura tu consulta**:

    1. En la ventana modal de configuración, redacte su consulta NRQL empleando la sintaxis NRQL estándar.
    2. Prueba tu consulta para cerciorarte de que devuelve los resultados esperados.
    3. Para configurar los ajustes de notificación para la búsqueda programada, haga clic en **Continue**.
  </Step>

  <Step>
    **Configurar notificación**:

    <img title="Notification setup" alt="screenshot of notification setup" src="/images/nrql_scheduled-query_-set-up-notification.webp" />

    <figcaption>
      Esta visualización muestra la configuración de notificación para una consulta NRQL programada.
    </figcaption>

    1. Introduce un nombre para tu búsqueda programada.

    2. Agrega una descripción opcional para ayudar a identificar el propósito de la búsqueda.

    3. Establece un [destino](/docs/alerts/get-notified/destinations/) para recibir los resultados de la consulta. Actualmente, solo se pueden enviar resultados a direcciones de email.

       <CollapserGroup>
         <Collapser id="existing destination-destination" title="Seleccione un destino existente">
           Seleccione los destinos existentes en el menú desplegable. Cada destino puede tener asociado un grupo de direcciones de email. Elija uno o más destinos para recibir los resultados de la consulta. Si el destino que busca no aparece en la lista, puede crear uno nuevo.
         </Collapser>

         <Collapser id="new-destination" title="Agregar un nuevo destino">
           Haz clic en <DNT>**+ Add destination**</DNT> y realiza los siguientes pasos en la ventana modal que se abre:

           1. Haz clic en <DNT>**+ Add email**</DNT>, busca destinatarios por email o nombre de usuario y agrégalos.
           2. Introduzca un nombre único para el destino y almacene.

           El nuevo destino se agrega a la lista de destinos disponibles en la ventana modal de configuración de notificación. Para editar el destino, seleccione <Icon name="fe-more-horizontal" /> menú.
         </Collapser>
       </CollapserGroup>

    4. Introduzca un asunto y el cuerpo del mensaje para la notificación por email.

    5. Seleccione el formato de resultado de la consulta que desea incluir en el email.

    6. Para establecer una programación para la notificación por email, haga clic en **Continue**.
  </Step>

  <Step>
    **Establece un horario**:

    Actualmente solo admite expresiones cron. A continuación se muestran algunos patrones comunes de expresiones cron como referencia. Ingrese una expresión cron y haga clic en <DNT>**Continue**</DNT>.

    * `0 * * * *` - Cada hora en punto

    * `0 9 * * *` - Todos los días a las 9:00 AM

    * `0 9 * * 1` - Todos los lunes a las 9:00 AM

    * `0 0 1 * *` - El primer día de cada mes a medianoche

    * `*/15 * * * *` - Cada 15 minutos

    * `0 9 * * 1-5` - Todos los días laborables a las 9:00 AM

      /\* 1. Elija una frecuencia para su búsqueda (por ejemplo, por hora, diaria, semanal o \[expresión cron]\(#cron-examples)). 2. Establezca la hora de inicio de su búsqueda con la zona horaria. 3. Defina la \*\*hora de inicio\*\* y la \*\*hora de finalización\*\* de la búsqueda. 4. Elija una de las siguientes condiciones para enviar la notificación: \* &lt;DNT&gt;\*\*En cada ejecución\*\*&lt;/DNT&gt;: Reciba una notificación cada vez que se ejecute la búsqueda. \* &lt;DNT&gt;\*\*En recuento de resultados &gt; 0\*\*&lt;/DNT&gt;: Reciba una notificación solo cuando la búsqueda devuelva resultados. \*/
  </Step>

  <Step>
    **Revisa, confirma y programa la búsqueda**: Revisa tu configuración. Si necesita realizar más ajustes, vuelva al paso correspondiente. Luego de finalizar su configuración, haga clic en <DNT>**Schedule**</DNT> para crear su búsqueda automatizada. La página <DNT>**Scheduled searches**</DNT> mostrará su nueva búsqueda en la lista.
  </Step>
</Steps>

## Gestionar búsquedas programadas [#manage]

La página <DNT>**Scheduled searches**</DNT> en la UI de administración muestra todas sus búsquedas automatizadas con su nombre, descripción, programación, estado y próximo tiempo de ejecución. De <Icon name="fe-more-horizontal" /> puede:

* **Edita una búsqueda** para actualizar la configuración de consulta, programación, notificación o formato de salida.
* **Eliminar una búsqueda**.

## ¿Que sigue? [#whats-next]

Ahora que configuraste las búsquedas NRQL programadas:

* [Obtenga más información sobre NRQL Consulta](/docs/nrql/get-started/introduction-nrql-new-relics-query-language) para crear búsquedas automatizadas más sofisticadas.
* [Configure los destinos de email de alerta](/docs/alerts-applied-intelligence/notifications/destinations) para ampliar sus opciones de notificación.
* [Explore la automatización del flujo de trabajo](/docs/alerts-applied-intelligence/applied-intelligence/incident-workflows/incident-workflows) para conocer posibilidades de automatización más avanzadas.