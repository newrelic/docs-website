---
title: Red métrica eBPF
metaDescription: Learn how to configure New Relic eBPF network monitoring dashboard.
tags:
  - Integrations
  - eBPF integration
  - eAPM
  - eBPF Network monitoring
  - extended Berkeley Packet Filter (eBPF)
  - Linux host
  - Kubernetes cluster
freshnessValidatedDate: never
translationType: machine
---

<Callout title="Avance">
  Todavía estamos trabajando en esta característica, ¡pero nos encantaría que la probaras!

  Esta función se proporciona actualmente como parte de una vista previa de conformidad con nuestras [políticas de prelanzamiento](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy/). No está disponible para clientes sujetos a las regulaciones HIPAA o FedRAMP.
</Callout>

El Monitoreo de red eBPF proporciona una visibilidad profunda de la salud de la red de su sistema al rastrear métricas críticas de DNS y TCP directamente desde el kernel. Puede diagnosticar problemas de conectividad analizando las tasas de éxito y fracaso de las resoluciones DNS y las conexiones TCP. Determine el rendimiento del cuello de botella monitoreando la latencia clave, como los protocolos de enlace TCP, la entrega de paquetes y la duración de las conexiones de corta duración. El dashboard también lo ayuda a realizar un seguimiento del rendimiento de los datos al visualizar los bytes enviados, recibidos y los paquetes descartados.

## Opciones de implementación [#deployment-options]

Puede habilitar la métrica de red eBPF de dos maneras dependiendo de su configuración de monitoreo actual:

* **Para clientes existentes New Relic APM :** si ya tiene un agente de despliegue New Relic APM, puede agregar la red métrica eBPF junto con su instrumentación existente. El agente eBPF opera en modo de solo red, complementando sus datos APM con información de red a nivel de kernel valiosa sin interrumpir su configuración actual.

* **Para un monitoreo integral:** implemente el agente eBPF completo con capacidades eAPM y métricas de red para una observabilidad completa en todas las capas de aplicación, infraestructura y red. Este enfoque proporciona una recopilación de telemetría unificada a través de un único agente.

Ambas opciones de implementación proporcionan las mismas capacidades de Monitoreo de red que se describen a continuación.

## Monitoreo de capacidades de red [#network-capabilities]

El dashboard de red métrica tiene las siguientes pestañas para monitorear diferentes aspectos del rendimiento de la red:

* **Errores:** muestra errores de DNS, TCP y otros relacionados con la red.
* **Latencia:** monitorea la latencia clave, como los protocolos de enlace TCP, la entrega de paquetes y la duración de conexiones de corta duración.
* **Pérdida de paquetes:** rastrea cualquier paquete perdido durante la transmisión. También contiene información como paquetes de kernel descartados, tiempos de espera de conexión TCP y paquetes retransmitidos.
* **Indicadores TCP:** muestra los indicadores de estado de las conexiones TCP para el tráfico entrante y saliente.
* **Conexiones:** muestra las conexiones TCP entrantes y salientes, el número de conexiones, la duración promedio de la conexión y la duración máxima de la conexión.

## Inscríbete a eBPF Monitoreo de red [#enroll-pp]

Puedes inscribirte en eBPF Monitoreo de red desde la página <DNT>**Preview &amp; Trials**</DNT> :

1. Vaya a <DNT>**[one.newrelic.com &gt; Administration](https://one.newrelic.com/admin-portal)**</DNT>.
2. Desde el panel de navegación izquierdo, haga clic en <DNT>**Preview &amp; Trials**</DNT>.
3. De la lista de funciones de vista previa disponibles, haga clic en <DNT>**eBPF network monitoring**</DNT>.
4. Siga las instrucciones en pantalla y acepte los términos y condiciones para completar la incorporación. Ahora, usted puede experimentar las nuevas capacidades de Monitoreo de red eBPF desde el APM.

## Habilite el modo de red solo métrica para clientes APM existentes [#network-only-mode]

Si ya tiene el agente de despliegue de New Relic APM y desea agregar visibilidad de red sin interrumpir su instrumentación actual, puede configurar el agente eBPF para que opere en modo de solo métrica de red. Esto proporciona información de red a nivel de kernel valiosa que complementa sus datos APM existentes.

Con el modo solo métrico de red habilitado, el agente eBPF recopilará e informará telemetry data de red mientras suprime la recopilación de datos eAPM. Esto le permite mantener su instrumentación APM existente y al mismo tiempo obtener visibilidad adicional de la capa de red.

### Para el entorno de Kubernetes [#k8s-env]

<CollapserGroup>
  <Collapser className="freq-link" id="k8s-new" title="Nueva instalación">
    Ejecute el siguiente comando para habilitar el modo solo métrica de red en la nueva instalación Kubernetes :

    ```bash
    KSM_IMAGE_VERSION="v2.13.0" && helm repo add newrelic https://helm-charts.newrelic.com && helm repo update && kubectl create namespace "newrelic" ; helm upgrade --install nr-ebpf-agent newrelic/nr-ebpf-agent --set licenseKey=<your-license-key> --set cluster="cluster-name-ebpf" --set apmDataReporting=false --namespace=newrelic
    ```
  </Collapser>

  <Collapser className="freq-link" id="k8s-existing" title="Instalación existente">
    Siga los pasos a continuación para habilitar el modo solo métrica de red en la instalación Kubernetes existente:

    1. Agregue la siguiente clave `apmDataReporting` con un valor de `false` a su archivo `values.yaml` :

       ```yaml
       apmDataReporting: false
       ```

    2. Aplicar la configuración:

       ```bash
           helm repo update ; helm upgrade --install nr-ebpf-agent newrelic/nr-ebpf-agent -n newrelic --values values.yaml
       ```
  </Collapser>
</CollapserGroup>

### Entorno de host Linux [#linux-env]

<CollapserGroup>
  <Collapser className="freq-link" id="linux-new" title="Nueva instalación">
    Ejecute el siguiente comando para habilitar el modo solo métrica de red en la instalación de un nuevo host Linux:

    ```bash
    curl -Ls https://download.newrelic.com/install/newrelic-cli/scripts/install.sh | sudo bash && sudo DEPLOYMENT_NAME=<deployment-name> NEW_RELIC_API_KEY=<your-api-key> NEW_RELIC_ACCOUNT_ID=<your-account-id> NEW_RELIC_REGION=US NEW_RELIC_CLI_SKIP_CORE=1 /usr/local/bin/newrelic install -n ebpf-agent-installer
    ```
  </Collapser>

  <Collapser className="freq-link" id="linux-existing" title="Instalación existente">
    Siga los pasos a continuación para habilitar el modo solo métrica de red en la instalación de un host Linux existente:

    1. Agregue la siguiente clave `apmDataReporting` con un valor de `false` a su archivo `newrelic-ebpf-agent.conf` :

       ```bash
       APM_DATA_REPORTING="false"
       ```

    2. Resetear los servicios del agente eBPF:

       ```bash
       sudo systemctl restart newrelic-ebpf-agent
       sudo systemctl restart newrelic-ebpf-agent-client
       ```
  </Collapser>
</CollapserGroup>

## Ver el eBPF Monitoreo de datos rojos [#view-network-data]

Puede ver los datos de Monitoreo de red eBPF en la UI New Relic APM :

1. Vaya a **[one.newrelic.com](https://one.newrelic.com) &gt; APM &amp; Services**.
2. Seleccione la entidad eBPF deseada.
3. En la sección Monitor, haga clic en **Network Metrics**. Se muestra la red métrica.

<Callout variant="tip">
  El agente eBPF genera automáticamente nombres de entidades de forma diferente según el entorno:

  * En los hosts o Docker, estos nombres son una combinación del nombre del proceso, su directorio o ID de contenedor y el puerto de escucha. Por ejemplo, `ruby:/home/ubuntu/app:[5678]` o `java:f4aead533895:[8080]`.

  * En Kubernetes, estos nombres se derivan del nombre del servicio, por ejemplo, `mysql-database-service`.

  Asignar un nombre personalizado a la aplicación:

  * Puede asignar un nombre de su elección a su aplicación configurando la variable de entorno `NEW_RELIC_APP_NAME` tanto para docker contenedor como para la aplicación en el host.

  * La aplicación nombrada aparecerá en la UI de New Relic con el sufijo `-ebpf`.
</Callout>

<DocTiles>
  <DocTile title="Instalación de eBPF Kubernetes" path="/docs/ebpf/k8s-installation/">
    Aprenda a configurar el agente eBPF de New Relic para su clúster de Kubernetes.
  </DocTile>

  <DocTile title="Instalación de eBPF Linux" path="/docs/ebpf/linux-installation/">
    Aprenda a configurar el agente eBPF de New Relic para su host Linux.
  </DocTile>

  <DocTile title="resolución de problemas eBPF" path="/docs/ebpf/troubleshooting/no-ui-data/">
    Aprenda a solucionar problemas con el agente eBPF de New Relic.
  </DocTile>
</DocTiles>