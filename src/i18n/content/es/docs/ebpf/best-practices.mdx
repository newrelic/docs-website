---
title: Guía de mejores prácticas del agente eBPF
tags:
  - New Relic solutions
  - Best practices guides
  - eBPF
metaDescription: Best practices to help you find problems faster and deliver a better experience to your customers with New Relic's eBPF solution.
freshnessValidatedDate: never
translationType: machine
---

El agente eBPF de New Relic emplea tecnología eBPF para proporcionar funcionalidad APM en un solo agente con instrumentación de código cero. Este enfoque empodera a los equipos de ingeniería de plataformas al eliminar la necesidad de coordinación con los equipos de aplicaciones para la implementación del monitoreo.

## Cuándo emplear APM con tecnología eBPF [#when-to-use-eapm]

* **Implementación a gran escala:** cuando tienes muchas aplicaciones que necesitan monitoreo y despliegue a escala y requieren una métrica &quot;suficientemente buena&quot; sin la sobrecarga de un agente de lenguaje individual.
* **Carga de trabajo desconocida o no modificable:** Cuando la carga de trabajo que se desea monitorear está escrita en un lenguaje de programación desconocido y/o no se puede modificar.
* **Plataforma de ingeniería de eficiencia:** cuando desea implementar monitoreo a escala sin coordinar con equipos de aplicación individuales.
* **Entornos centrados en Linux:** cuando no es necesario monitorear la plataforma Windows, ya que eBPF funciona de manera excelente en Linux tanto en entornos Kubernetes como de host.
* **No requisito de rastreo distribuido:** Cuando sus necesidades de monitoreo no requieren capacidades de rastreo distribuido.

### Comparación entre eBPF y APM tradicional [#comparison]

Comprender las diferencias entre APM impulsado por eBPF y APM de agente tradicional lo ayudará a elegir el enfoque correcto:

<table>
  <thead>
    <tr>
      <th>
        Funcionalidad
      </th>

      <th>
        Agente eBPF (eAPM)
      </th>

      <th>
        Agente APM
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Resumen
      </td>

      <td>
        ✅
      </td>

      <td>
        ✅
      </td>
    </tr>

    <tr>
      <td>
        Transacción
      </td>

      <td>
        ✅ (vinculación de segmentos para Java, Go, Node.js)
      </td>

      <td>
        ✅
      </td>
    </tr>

    <tr>
      <td>
        Operaciones de base de datos
      </td>

      <td>
        ✅
      </td>

      <td>
        ✅
      </td>
    </tr>

    <tr>
      <td>
        Mapa de servicios
      </td>

      <td>
        ✅
      </td>

      <td>
        ✅
      </td>
    </tr>

    <tr>
      <td>
        rastreo distribuido
      </td>

      <td>
        ❌
      </td>

      <td>
        ✅
      </td>
    </tr>

    <tr>
      <td>
        lenguaje de programación agnóstico
      </td>

      <td>
        ✅
      </td>

      <td>
        ❌
      </td>
    </tr>

    <tr>
      <td>
        Instrumentación personalizada
      </td>

      <td>
        ❌
      </td>

      <td>
        ✅
      </td>
    </tr>

    <tr>
      <td>
        Descubrir automáticamente aplicaciones y servicios de forma continua
      </td>

      <td>
        ✅
      </td>

      <td>
        ❌
      </td>
    </tr>

    <tr>
      <td>
        Soporte para Linux
      </td>

      <td>
        ✅
      </td>

      <td>
        ✅
      </td>
    </tr>

    <tr>
      <td>
        Compatibilidad con Windows
      </td>

      <td>
        ❌
      </td>

      <td>
        ✅
      </td>
    </tr>

    <tr>
      <td>
        Telemetría TCP y DNS
      </td>

      <td>
        ✅
      </td>

      <td>
        ❌
      </td>
    </tr>
  </tbody>
</table>

### Perspectiva de la fuente de datos

APM impulsado por eBPF cambia la perspectiva de monitoreo de la capa de aplicación a la capa de kernel:

<table>
  <thead>
    <tr>
      <th>
        Característica
      </th>

      <th>
        Agente de lenguaje APM
      </th>

      <th>
        APM con tecnología eBPF
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Fuente de datos
      </td>

      <td>
        Ganchos de memoria/tiempo de ejecución de la aplicación
      </td>

      <td>
        Núcleo de Linux (a través de eBPF)
      </td>
    </tr>

    <tr>
      <td>
        Dependencia del lenguaje
      </td>

      <td>
        Alto (requiere agente específico para cada idioma)
      </td>

      <td>
        Ninguno (opera en la vista del proceso del kernel)
      </td>
    </tr>

    <tr>
      <td>
        Modificación del código
      </td>

      <td>
        Requerido
      </td>

      <td>
        No requerido (observa el proceso desde afuera)
      </td>
    </tr>

    <tr>
      <td>
        Resultado
      </td>

      <td>
        Información profunda y valiosa para idiomas conocidos.
      </td>

      <td>
        Gran información valiosa para cualquier carga de trabajo en Linux (C++, Rust, etc.)
      </td>
    </tr>
  </tbody>
</table>

## mejores prácticas para implementar [#deployment-best-practices]

### 1. Complementar el APM tradicional

Emplee el agente eBPF para complementar el agente de lenguaje APM para una cobertura integral. Esto le brinda cobertura APM completa con coexistencia entre eAPM y agente APM, sin doble ingesta de datos.

**Enfoque recomendado:**

* **APM language agente:** Úselo para sus aplicaciones más críticas que requieren información valiosa, rastreo distribuido o instrumentación personalizada de nivel profundo.
* **APM con tecnología eBPF:** se emplea para cubrir todo lo demás, incluidos servicios no instrumentados, aplicaciones de terceros y para descubrir e informar continuamente nuevos servicios.

### 2. Agregue métricas de red para un contexto más profundo

<Callout title="Avance">
  Todavía estamos trabajando en la capacidad métrica de la red eBPF, ¡pero nos encantaría que la probaras!

  Esta función se proporciona actualmente como parte de una vista previa de conformidad con nuestras [políticas de prelanzamiento](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy/). No está disponible para clientes sujetos a las regulaciones HIPAA o FedRAMP.
</Callout>

El agente eBPF también puede proporcionar métricas de red granulares (TCP, DNS, etc.) para brindarle visibilidad fuera de los límites de su aplicación. Esta capacidad es complementaria y se puede emplear con o sin eAPM. Para obtener más información, consulte [network-métricas](/docs/ebpf/network-metrics/).

Las siguientes opciones de implementación están disponibles:

<table>
  <thead>
    <tr>
      <th>
        Fuente de aplicación métrica
      </th>

      <th>
        Fuente métrica de red
      </th>

      <th>
        Configuración
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Agente de lenguaje APM
      </td>

      <td>
        eBPF agente (modo solo red métrica)
      </td>

      <td>
        Dos agentes
      </td>
    </tr>

    <tr>
      <td>
        Agente eBPF (eAPM)
      </td>

      <td>
        Agente eBPF (mismo agente)
      </td>

      <td>
        Agente único
      </td>
    </tr>
  </tbody>
</table>

### 3. Crear un enfoque de monitoreo unificado

Siguiendo las prácticas anteriores, puede emplear un único agente eBPF para gestionar las necesidades de infraestructura y monitoreo de aplicaciones. Esto unifica su observabilidad, lo que permite al agente recopilar automáticamente datos críticos de rendimiento de la aplicación (eAPM) y de red métrica (eBPF de red métrica) para completar el dashboard existente, proporcionando un contexto profundo sin cambios de código ni reinicios.

**Beneficios:**

* Información valiosa APM que completa automáticamente UI New Relic APM.
* Red de información valiosa del mismo agente.

## Recomendaciones de implementación [#implementation-recommendations]

* **Comience con eAPM para escalar:** si necesita implementar monitoreo a escala en muchas aplicaciones y desea una métrica &quot;suficientemente buena&quot; sin una coordinación compleja, comience con APM impulsado por eBPF.

* **Agregue una red métrica para una visibilidad completa:** una vez que eAPM esté implementado, considere agregar una red métrica de eBPF para obtener visibilidad más allá de los límites de la aplicación para capacidades integrales de resolución de problemas.

## Artículos relacionados [#related-articles]

<DocTiles>
  <DocTile title="Instalación de eBPF Kubernetes" path="/docs/ebpf/k8s-installation/">
    Aprenda a configurar el agente eBPF de New Relic para su clúster de Kubernetes.
  </DocTile>

  <DocTile title="Instalación de eBPF Linux" path="/docs/ebpf/linux-installation/">
    Aprenda a configurar el agente eBPF de New Relic para su host Linux.
  </DocTile>

  <DocTile title="resolución de problemas eBPF" path="/docs/ebpf/troubleshooting/no-ui-data/">
    Aprenda a solucionar problemas con el agente eBPF de New Relic.
  </DocTile>
</DocTiles>