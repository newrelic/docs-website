---
title: Gestionar credenciales seguras
tags:
  - Synthetics
  - APIs
  - NerdGraph
  - Examples
metaDescription: How to use New Relic NerdGraph API to create and manage secure credentials for synthetic monitoring.
freshnessValidatedDate: never
translationType: machine
---

[Las credenciales seguras](/docs/synthetics/synthetic-monitoring/using-monitors/store-secure-credentials-scripted-browsers-api-tests) lo ayudan a almacenar, proteger y gestionar de forma centralizada información confidencial, como contraseñas, claves de API o certificados codificados. Sus monitores Sintético pueden acceder de forma segura a esta información durante la ejecución script. Este tutorial proporciona ejemplos de cómo emplear la API NerdGraph para gestionar mediante programación credenciales seguras.

## Crear una credencial segura [#create-secure-credential]

Puede crear una credencial segura empleando la mutación `syntheticsCreateSecureCredential`. Esta mutación le permite almacenar de forma segura información confidencial a la que sus monitores Sintético pueden acceder durante la ejecución script.

### parámetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parámetro
      </th>

      <th>
        Tipo de datos
      </th>

      <th>
        ¿Es obligatorio?
      </th>

      <th>
        Descripción
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `accountId`
      </td>

      <td>
        Entero
      </td>

      <td>
        Sí
      </td>

      <td>
        El 

        [ID](/docs/accounts/accounts-billing/account-structure/account-id)

         de la cuenta de New Relic donde se creará la credencial segura.
      </td>
    </tr>

    <tr>
      <td>
        `description`
      </td>

      <td>
        Cadena
      </td>

      <td>
        No
      </td>

      <td>
        Una descripción para ayudar a identificar el propósito de esta credencial.
      </td>
    </tr>

    <tr>
      <td>
        `key`
      </td>

      <td>
        Cadena
      </td>

      <td>
        Sí
      </td>

      <td>
        El identificador de clave único para las credenciales seguras sintéticas en New Relic.
      </td>
    </tr>

    <tr>
      <td>
        `value`
      </td>

      <td>
        Cadena
      </td>

      <td>
        Sí
      </td>

      <td>
        El valor sensible a almacenar de forma segura (contraseña, clave de API, etc.).
      </td>
    </tr>
  </tbody>
</table>

### Solicitud de muestra

```graphql
mutation {
  syntheticsCreateSecureCredential(
    accountId: ACCOUNT_ID,
    description: "Your optional description",
    key: "SECURE_CREDENTIAL_NAME",
    value: "SECURE_CREDENTIAL_VALUE"
  ) {
    errors {
      description
      type
    }
  }
}
```

### Ejemplo de respuesta

Una respuesta exitosa devuelve `null` para los errores:

```json
{
  "data": {
    "syntheticsCreateSecureCredential": {
      "errors": null
    }
  }
}
```

Si hay algún problema al crear la credencial segura, la matriz `errors` contendrá objetos con campos `description` y `type` que explican qué salió mal.

## Actualizar una credencial segura [#update-secure-credential]

Puede actualizar una credencial segura existente empleando la mutación `syntheticsUpdateSecureCredential`. Esto le permite modificar el valor y la descripción manteniendo el mismo nombre de clave.

### parámetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parámetro
      </th>

      <th>
        Tipo de datos
      </th>

      <th>
        ¿Es obligatorio?
      </th>

      <th>
        Descripción
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `accountId`
      </td>

      <td>
        Entero
      </td>

      <td>
        Sí
      </td>

      <td>
        El 

        [ID de cuenta](/docs/accounts/accounts-billing/account-structure/account-id)

         que contiene la credencial segura.
      </td>
    </tr>

    <tr>
      <td>
        `description`
      </td>

      <td>
        Cadena
      </td>

      <td>
        No
      </td>

      <td>
        Descripción actualizada de la credencial segura.
      </td>
    </tr>

    <tr>
      <td>
        `key`
      </td>

      <td>
        Cadena
      </td>

      <td>
        Sí
      </td>

      <td>
        El identificador de clave único para las credenciales seguras sintéticas en New Relic.
      </td>
    </tr>

    <tr>
      <td>
        `value`
      </td>

      <td>
        Cadena
      </td>

      <td>
        Sí
      </td>

      <td>
        El nuevo valor sensible a almacenar.
      </td>
    </tr>
  </tbody>
</table>

### Solicitud de muestra

```graphql
mutation {
  syntheticsUpdateSecureCredential(
    accountId: ACCOUNT_ID
    description: "Updated description for the secure credential."
    key: "SECURE_CREDENTIAL_NAME"
    value: "SECURE_CREDENTIAL_VALUE"
  ) {
    createdAt
    lastUpdate
    errors {
      description
      type
    }
  }
}
```

### Ejemplo de respuesta

Una respuesta exitosa devuelve los metadatos actualizados y `null` para errores:

```json
{
  "data": {
    "syntheticsUpdateSecureCredential": {
      "createdAt": "2024-01-15T10:30:00Z",
      "lastUpdate": "2024-01-20T14:45:00Z",
      "errors": null
    }
  }
}
```

Si hay algún problema al actualizar la credencial segura, la matriz `errors` contendrá objetos con campos `description` y `type` que explican qué salió mal.

## Eliminar una credencial segura [#delete-secure-credential]

Puede eliminar una credencial segura empleando la mutación `syntheticsDeleteSecureCredential`. Una vez eliminado, cualquier monitor que haga referencia a esta credencial fallará hasta que se actualice.

<Callout variant="caution">
  Antes de eliminar una credencial segura, cerciorar de que ningún monitor activo la esté empleando. Eliminar una credencial que está en uso provocará que esos monitores fallen.
</Callout>

### parámetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parámetro
      </th>

      <th>
        Tipo de datos
      </th>

      <th>
        ¿Es obligatorio?
      </th>

      <th>
        Descripción
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `accountId`
      </td>

      <td>
        Entero
      </td>

      <td>
        Sí
      </td>

      <td>
        El 

        [ID de cuenta](/docs/accounts/accounts-billing/account-structure/account-id)

         que contiene la credencial segura.
      </td>
    </tr>

    <tr>
      <td>
        `key`
      </td>

      <td>
        Cadena
      </td>

      <td>
        Sí
      </td>

      <td>
        El identificador de clave único para las credenciales seguras sintéticas en New Relic.
      </td>
    </tr>
  </tbody>
</table>

### Solicitud de muestra

```graphql
mutation {
  syntheticsDeleteSecureCredential(
    accountId: ACCOUNT_ID,
    key: "SECURE_CREDENTIAL_NAME"
  ) {
    errors {
      description
      type
    }
  }
}
```

### Ejemplo de respuesta

Una respuesta exitosa devuelve `null` para los errores:

```json
{
  "data": {
    "syntheticsDeleteSecureCredential": {
      "errors": null
    }
  }
}
```

Si hay algún problema al eliminar la credencial segura, la matriz `errors` contendrá objetos con campos `description` y `type` que explican qué salió mal.