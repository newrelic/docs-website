---
title: Administrar ubicación privada
tags:
  - Synthetics
  - APIs
  - NerdGraph
  - Examples
metaDescription: How to use New Relic NerdGraph API to create and manage private locations for synthetic monitoring.
freshnessValidatedDate: never
translationType: machine
---

[La ubicación privada](/docs/synthetics/synthetic-monitoring/private-locations/private-locations-overview-monitor-internal-sites-add-new-locations) le permite monitorear la aplicación detrás de su firewall o en redes restringidas. Cuando creas una ubicación privada, instalas y configuras minion privado para ejecutar los monitores asignados a esa ubicación privada. Este tutorial proporciona ejemplos de cómo emplear la API de NerdGraph para gestionar mediante programación la ubicación privada.

## Crear una ubicación privada [#create-private-location]

Puedes crear una ubicación privada usando la mutación `syntheticsCreatePrivateLocation`. Esta mutación le permite configurar una nueva ubicación privada en su infraestructura de monitoreo donde puede desplegar minion privado o administradores de trabajo.

### parámetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parámetro
      </th>

      <th>
        Tipo de datos
      </th>

      <th>
        ¿Es obligatorio?
      </th>

      <th>
        Descripción
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `accountId`
      </td>

      <td>
        Entero
      </td>

      <td>
        Sí
      </td>

      <td>
        El 

        [ID de cuenta](/docs/accounts/accounts-billing/account-structure/account-id)

         asociado con la ubicación privada.
      </td>
    </tr>

    <tr>
      <td>
        `description`
      </td>

      <td>
        Cadena
      </td>

      <td>
        No
      </td>

      <td>
        La descripción de la ubicación privada.
      </td>
    </tr>

    <tr>
      <td>
        `name`
      </td>

      <td>
        Cadena
      </td>

      <td>
        Sí
      </td>

      <td>
        El nombre de la ubicación privada.
      </td>
    </tr>

    <tr>
      <td>
        `shared`
      </td>

      <td>
        Booleano
      </td>

      <td>
        No
      </td>

      <td>
        Especifica si la ubicación privada se comparte en toda la organización.
      </td>
    </tr>

    <tr>
      <td>
        `verifiedScriptExecution`
      </td>

      <td>
        Booleano
      </td>

      <td>
        Sí
      </td>

      <td>
        Si el valor es verdadero, la ubicación privada requiere una contraseña para editar.
      </td>
    </tr>
  </tbody>
</table>

### Solicitud de muestra

```graphql
mutation {
  syntheticsCreatePrivateLocation(
    accountId: ACCOUNT_ID,
    name: "PrivateLocationName",
    description: "Optional description",
    shared: true,
    verifiedScriptExecution: false
  ) {
    guid
    errors {
      description
      type
    }
  }
}
```

### Ejemplo de respuesta

Una respuesta exitosa devuelve el GUID de la ubicación privada recién creada:

```json
{
  "data": {
    "syntheticsCreatePrivateLocation": {
      "guid": "PRIVATE_LOCATION_GUID",
      "errors": null
    }
  }
}
```

Si hay algún problema al crear la ubicación privada, la matriz `errors` contendrá objetos con campos `description` y `type` que explican qué salió mal.

## Actualizar una ubicación privada [#update-private-location]

Puede actualizar una ubicación privada existente empleando la mutación `syntheticsUpdatePrivateLocation`. Esto le permite modificar la configuración de una ubicación privada que ya fue creada.

<Callout variant="important">
  Si una ubicación es compartida y empleada por otras cuentas de su organización para ejecutar monitores sintéticos, no podrá dejar de compartir esta ubicación privada hasta que esos monitores estén deshabilitados.
</Callout>

### parámetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parámetro
      </th>

      <th>
        Tipo de datos
      </th>

      <th>
        ¿Es obligatorio?
      </th>

      <th>
        Descripción
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `guid`
      </td>

      <td>
        Cadena
      </td>

      <td>
        Sí
      </td>

      <td>
        El 

        [GUID](/docs/apis/nerdgraph/examples/synthetics-api/query-synthetics-data#query-private-locations)

         de entidad único de la ubicación privada que desea actualizar.
      </td>
    </tr>

    <tr>
      <td>
        `description`
      </td>

      <td>
        Cadena
      </td>

      <td>
        No
      </td>

      <td>
        La descripción de la ubicación privada.
      </td>
    </tr>

    <tr>
      <td>
        `shared`
      </td>

      <td>
        Booleano
      </td>

      <td>
        No
      </td>

      <td>
        Especifica si la ubicación privada se comparte en toda la organización.
      </td>
    </tr>

    <tr>
      <td>
        `verifiedScriptExecution`
      </td>

      <td>
        Booleano
      </td>

      <td>
        Sí
      </td>

      <td>
        Si el valor es verdadero, la ubicación privada requiere una contraseña para editar.
      </td>
    </tr>
  </tbody>
</table>

### Solicitud de muestra

```graphql
mutation {
  syntheticsUpdatePrivateLocation(
    guid: "ENTITY_GUID",
    description: "EnterYourDescription",
    shared: false,
    verifiedScriptExecution: true
  ) {
    description
    verifiedScriptExecution
    errors {
      description
      type
    }
  }
}
```

### Ejemplo de respuesta

Una respuesta exitosa devuelve los campos actualizados y `null` para errores:

```json
{
  "data": {
    "syntheticsUpdatePrivateLocation": {
      "description": "EnterYourDescription",
      "verifiedScriptExecution": true,
      "errors": null
    }
  }
}
```

Si hay algún problema al actualizar la ubicación privada, la matriz `errors` contendrá objetos con campos `description` y `type` que explican qué salió mal.

## Limpiar una cola de trabajos de una ubicación privada [#purge-private-location]

Puede borrar la cola de trabajos de una ubicación privada empleando la mutación `syntheticsPurgePrivateLocationQueue`. Esto es útil cuando necesita eliminar una acumulación de trabajos de monitorización de Sintético en cola que pueden haber acumulado debido a problemas de rendimiento o problemas de conectividad temporales.

<Callout variant="tip">
  Emplee esta operación con cuidado, ya que eliminará de forma permanente todos los trabajos en cola. Los trabajos que se estén ejecutando actualmente no se verán afectados.
</Callout>

### parámetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parámetro
      </th>

      <th>
        Tipo de datos
      </th>

      <th>
        ¿Es obligatorio?
      </th>

      <th>
        Descripción
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `guid`
      </td>

      <td>
        Cadena
      </td>

      <td>
        Sí
      </td>

      <td>
        El 

        [identificador único (GUID)](/docs/apis/nerdgraph/examples/synthetics-api/query-synthetics-data#query-private-locations)

         de la ubicación privada cuya cola de trabajos desea purgar.
      </td>
    </tr>
  </tbody>
</table>

### Solicitud de muestra

```graphql
mutation {
  syntheticsPurgePrivateLocationQueue(
    guid: "PRIVATE_LOCATION_ENTITY_GUID"
  ) {
    errors {
      description
      type
    }
  }
}
```

### Ejemplo de respuesta

Una respuesta exitosa devuelve `null` para los errores:

```json
{
  "data": {
    "syntheticsPurgePrivateLocationQueue": {
      "errors": null
    }
  }
}
```

Si hay algún problema al purgar la cola, la matriz `errors` contendrá objetos con campos `description` y `type` que explican qué salió mal.

## Eliminar una ubicación privada [#delete-private-location]

Cuando ya no se necesita una ubicación privada, puedes eliminarla de forma permanente empleando la mutación `syntheticsDeletePrivateLocation`.

<Callout variant="important">
  Antes de eliminar una ubicación privada, cerciorar de que no haya monitores asignados a ella. Eliminar una ubicación privada que tenga monitores activos asignados provocará que dichos monitores fallen.
</Callout>

### parámetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parámetro
      </th>

      <th>
        Tipo de datos
      </th>

      <th>
        ¿Es obligatorio?
      </th>

      <th>
        Descripción
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `guid`
      </td>

      <td>
        Cadena
      </td>

      <td>
        Sí
      </td>

      <td>
        El 

        [GUID](/docs/apis/nerdgraph/examples/synthetics-api/query-synthetics-data#query-private-locations)

         de entidad única de la ubicación privada que desea eliminar.
      </td>
    </tr>
  </tbody>
</table>

### Solicitud de muestra

```graphql
mutation {
  syntheticsDeletePrivateLocation(
    guid: "ENTITY_GUID"
  ) {
    errors {
      description
      type
    }
  }
}
```

### Ejemplo de respuesta

Una respuesta exitosa devuelve `null` para los errores:

```json
{
  "data": {
    "syntheticsDeletePrivateLocation": {
      "errors": null
    }
  }
}
```

Si hay algún problema al eliminar la ubicación privada, la matriz `errors` contendrá objetos con campos `description` y `type` que explican qué salió mal.