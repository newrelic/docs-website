---
title: consulta monitoreo de datos sintéticos
tags:
  - Synthetics
  - APIs
  - NerdGraph
  - Examples
metaDescription: 'How to use New Relic NerdGraph API to query synthetic monitoring data including monitors, private locations, secure credentials, and downtimes.'
freshnessValidatedDate: never
translationType: machine
---

Luego de configurar su infraestructura de monitoreo, puede emplear consulta para recuperar información sobre su entidad Sintética. consulta realiza requests para obtener datos sobre monitores, ubicación privada, credenciales y tiempo de inactividad. Este tutorial proporciona ejemplos de cómo emplear la API de NerdGraph para consultar datos de monitoreo sintético.

Para conocer capacidades de consulta adicionales disponibles para su entidad Sintética, consulte [el tutorial API de entidad de NerdGraph](/docs/apis/nerdgraph/examples/nerdgraph-entities-api-tutorial/).

## Monitor de consulta [#query-monitors]

Esta consulta recupera todos los monitores Sintético en su cuenta, devolviendo información esencial, incluido el GUID del monitor, el nombre, el ID de la cuenta, el tipo de monitor y la etiqueta asociada. La etiqueta contiene detalles de configuración adicionales y metadatos sobre cada monitor.

### parámetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parámetro
      </th>

      <th>
        Tipo de datos
      </th>

      <th>
        ¿Es obligatorio?
      </th>

      <th>
        Descripción
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `query`
      </td>

      <td>
        Cadena
      </td>

      <td>
        Sí
      </td>

      <td>
        La búsqueda consulta para filtrar entidad. Emplee 

        `domain = 'SYNTH' AND type = 'MONITOR'`

         para recuperar todos los monitores Sintético.
      </td>
    </tr>
  </tbody>
</table>

### Consulta de muestra

```graphql
{
  actor {
    entitySearch(query: "domain = 'SYNTH' AND type = 'MONITOR'") {
      results {
        entities {
          ... on SyntheticMonitorEntityOutline {
            guid
            name
            accountId
            monitorType
            tags {
              key
              values
            }
          }
        }
      }
    }
  }
}
```

## Consulta ubicación privada [#query-private-locations]

Esta consulta recupera todas las ubicaciones privadas de su cuenta y devuelve información esencial, incluido el GUID de la ubicación, el nombre, el ID de la cuenta y la etiqueta asociada. La ubicación privada le permite monitorear la aplicación detrás de su firewall, y se puede acceder a sus detalles de configuración a través de la etiqueta.

### parámetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parámetro
      </th>

      <th>
        Tipo de datos
      </th>

      <th>
        ¿Es obligatorio?
      </th>

      <th>
        Descripción
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `query`
      </td>

      <td>
        Cadena
      </td>

      <td>
        Sí
      </td>

      <td>
        La búsqueda consulta para filtrar entidad. Emplee 

        `domain = 'SYNTH' AND type = 'PRIVATE_LOCATION'`

         para recuperar toda la ubicación privada.
      </td>
    </tr>
  </tbody>
</table>

### Consulta de muestra

```graphql
{
  actor {
    entitySearch(query: "domain = 'SYNTH' AND type = 'PRIVATE_LOCATION'") {
      results {
        entities {
          accountId
          guid
          name
          tags {
            key
            values
          }
        }
      }
    }
  }
}
```

## consulta monitor tiempo de inactividad [#query-monitor-downtimes]

Esta consulta recupera todo el tiempo de inactividad del monitor en su cuenta y devuelve información esencial, incluido el GUID del tiempo de inactividad, el nombre, el ID de la cuenta y la etiqueta asociada. Los monitores de tiempo de inactividad son periodos programados en los que los monitores Sintético dejan de funcionar, útiles durante mantenimientos planeados o interrupciones conocidas. Los detalles de configuración, como el tipo de programación, la zona horaria y los patrones de recurrencia, se almacenan en la etiqueta.

### parámetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parámetro
      </th>

      <th>
        Tipo de datos
      </th>

      <th>
        ¿Es obligatorio?
      </th>

      <th>
        Descripción
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `query`
      </td>

      <td>
        Cadena
      </td>

      <td>
        Sí
      </td>

      <td>
        La búsqueda consulta para filtrar entidad. Emplee 

        `domain = 'SYNTH' AND type = 'MONITOR_DOWNTIME'`

         para recuperar todo el tiempo de inactividad del monitor.
      </td>
    </tr>
  </tbody>
</table>

### Consulta de muestra

```graphql
{
  actor {
    entitySearch(query: "domain = 'SYNTH' AND type = 'MONITOR_DOWNTIME'") {
      results {
        entities {
          accountId
          guid
          name
          tags {
            key
            values
          }
        }
      }
    }
  }
}
```

## Consultar credenciales seguras [#query-secure-credentials]

Esta consulta recupera todas las credenciales seguras de su cuenta y devuelve información de metadatos, incluido el GUID de la credencial, el nombre, el ID de la cuenta, la etiqueta y timestamp de la última actualización. Las credenciales seguras ayudan a almacenar, proteger y gestionar de forma centralizada información confidencial, como contraseñas, claves de API o certificados codificados. Por razones de seguridad, la consulta de credenciales seguras solo devuelve metadatos, pero no los valores de las credenciales reales.

### parámetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parámetro
      </th>

      <th>
        Tipo de datos
      </th>

      <th>
        ¿Es obligatorio?
      </th>

      <th>
        Descripción
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `query`
      </td>

      <td>
        Cadena
      </td>

      <td>
        Sí
      </td>

      <td>
        La búsqueda consulta para filtrar entidad. Emplee 

        `domain = 'SYNTH' AND type = 'SECURE_CRED'`

         para recuperar todas las credenciales seguras.
      </td>
    </tr>
  </tbody>
</table>

### Consulta de muestra

```graphql
{
  actor {
    entitySearch(query: "domain = 'SYNTH' AND type = 'SECURE_CRED'") {
      results {
        entities {
          ... on SecureCredentialEntityOutline {
            accountId
            guid
            name
            tags {
              key
              values
            }
            updatedAt
          }
        }
      }
    }
  }
}
```

## De consulta monitor script [#query-monitor-script]

Esta consulta recupera el contenido script empleado en una API con script o monitorea el navegador con script. El script contiene el código JavaScript que define el comportamiento del monitor, como API de llamada, la interacción del navegador o la lógica de validación personalizada. Esta consulta solo funciona con tipos de monitores con scripts: otros tipos de monitores (simple, ping, paso, verificación de certificado, enlaces rotos) devolverán un error ya que no usan scripts personalizados.

### parámetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parámetro
      </th>

      <th>
        Tipo de datos
      </th>

      <th>
        ¿Es obligatorio?
      </th>

      <th>
        Descripción
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `id`

         (cuenta)
      </td>

      <td>
        Entero
      </td>

      <td>
        Sí
      </td>

      <td>
        El ID de la cuenta de New Relic que contiene el monitor.
      </td>
    </tr>

    <tr>
      <td>
        `monitorGuid`
      </td>

      <td>
        Cadena
      </td>

      <td>
        Sí
      </td>

      <td>
        El GUID de entidad única del monitor con script cuyo script desea recuperar.
      </td>
    </tr>
  </tbody>
</table>

### Consulta de muestra

```graphql
{
  actor {
    account(id: ACCOUNT_ID) {
      synthetics {
        script(monitorGuid: "ENTITY_GUID") {
          text
        }
      }
    }
  }
}
```

## Consulta monitorear pasos [#query-monitor-steps]

Esta consulta recupera los pasos configurados para un monitor de pasos. Los monitores de pasos proporcionan una monitorización basada en navegador, de múltiples pasos y sin código, a través de una secuencia de acciones predefinidas, como navegación, clics, entradas de formularios y afirmaciones. Cada paso tiene una posición ordinal, un tipo que define la acción y valores que contienen los datos de configuración del paso. Esta consulta solo funciona con monitores de pasos: otros tipos de monitores devolverán un error ya que no emplean una configuración basada en pasos.

### parámetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parámetro
      </th>

      <th>
        Tipo de datos
      </th>

      <th>
        ¿Es obligatorio?
      </th>

      <th>
        Descripción
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `id`

         (cuenta)
      </td>

      <td>
        Entero
      </td>

      <td>
        Sí
      </td>

      <td>
        El ID de la cuenta de New Relic que contiene el monitor.
      </td>
    </tr>

    <tr>
      <td>
        `monitorGuid`
      </td>

      <td>
        Cadena
      </td>

      <td>
        Sí
      </td>

      <td>
        El GUID de entidad única del monitor de pasos cuyos pasos desea recuperar.
      </td>
    </tr>
  </tbody>
</table>

### Consulta de muestra

```graphql
{
  actor {
    account(id: ACCOUNT_ID) {
      synthetics {
        steps(monitorGuid: "ENTITY_GUID") {
          ordinal
          type
          values
        }
      }
    }
  }
}
```

## Consulta para asignar el ID del monitor al GUID de la entidad [#query-guid-mapping]

Esta consulta recupera el GUID de entidad para un monitor Sintético empleando el ID del monitor. Esto es útil cuando tiene el ID de monitor numérico legacy y necesita convertirlo al formato GUID de entidad requerido para la mayoría de las operaciones de NerdGraph. El GUID de entidad es el identificador moderno empleado para actualizaciones, eliminaciones y otras tareas de administración del monitor, mientras que el ID del monitor es el identificador numérico más antiguo que puede aparecer en las URL o en la integración legacy.

### parámetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parámetro
      </th>

      <th>
        Tipo de datos
      </th>

      <th>
        ¿Es obligatorio?
      </th>

      <th>
        Descripción
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `query`
      </td>

      <td>
        Cadena
      </td>

      <td>
        Sí
      </td>

      <td>
        La consulta de búsqueda para encontrar el monitor. Emplee 

        `domainId = 'MONITOR_ID'`

         donde MONITOR_ID es el ID numérico del monitor que desea encontrar.
      </td>
    </tr>
  </tbody>
</table>

### Consulta de muestra

```graphql
{
  actor {
    entitySearch(
      query: "(domainId = 'MONITOR_ID')"
    ) {
      results {
        entities {
          ... on SyntheticMonitorEntityOutline {
            guid
            name
            monitorId
          }
        }
      }
    }
  }
}
```

## Consulta el estado de actualización en tiempo de ejecución (todos los monitores) [#query-runtime-upgrade-all]

Esta consulta recupera el estado de todas las pruebas de actualización en tiempo de ejecución para los monitores de tiempo de ejecución legacy en su cuenta. Estas pruebas validan si los monitores que emplean entornos de ejecución más antiguos (como Chrome 72 o Node.js API legacy) pueden ejecutar correctamente en entornos de ejecución más nuevos (Chrome 100+ o Node.js 16.10). Los resultados completan la [UIde actualizaciones en tiempo de ejecución](/docs/synthetics/synthetic-monitoring/using-monitors/runtime-upgrade-ui/) y lo ayudan a identificar qué monitores están listos para la actualización. El resultado de la prueba se almacena en la etiqueta `validationStatus` y, si la prueba de actualización falló, la información detallada del error está disponible en la etiqueta `validationError`.

### parámetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parámetro
      </th>

      <th>
        Tipo de datos
      </th>

      <th>
        ¿Es obligatorio?
      </th>

      <th>
        Descripción
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `query`
      </td>

      <td>
        Cadena
      </td>

      <td>
        Sí
      </td>

      <td>
        La búsqueda consulta para filtrar entidad. Emplee 

        `domain = 'SYNTH' AND type = 'RUNTIME_VALIDATION'`

         para recuperar todos los resultados de pruebas de actualización en tiempo de ejecución.
      </td>
    </tr>
  </tbody>
</table>

### Consulta de muestra

```graphql
{
  actor {
    entitySearch(query: "domain = 'SYNTH' AND type = 'RUNTIME_VALIDATION'") {
      results {
        entities {
          accountId
          guid
          name
          tags {
            key
            values
          }
        }
      }
    }
  }
}
```

## Consulta el estado de actualización en tiempo de ejecución (monitor específico) [#query-runtime-upgrade-specific]

Esta consulta recupera el estado de una prueba de actualización en tiempo de ejecución para un monitor de tiempo de ejecución legacy específico empleando el ID del monitor. Esto es útil cuando desea verificar la preparación para la actualización de un monitor en individuo en lugar de todos los monitores de su cuenta. La prueba valida si el monitor puede ejecutar correctamente en entornos de ejecución más nuevos y estos resultados completan la [UIde actualizaciones de entornos de ejecución](/docs/synthetics/synthetic-monitoring/using-monitors/runtime-upgrade-ui/). El resultado de la prueba se almacena en la etiqueta `validationStatus` y, si la prueba de actualización falló, la información detallada del error está disponible en la etiqueta `validationError`.

### parámetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parámetro
      </th>

      <th>
        Tipo de datos
      </th>

      <th>
        ¿Es obligatorio?
      </th>

      <th>
        Descripción
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `query`
      </td>

      <td>
        Cadena
      </td>

      <td>
        Sí
      </td>

      <td>
        La búsqueda consulta para filtrar entidad. Emplee 

        `domain = 'SYNTH' AND type = 'RUNTIME_VALIDATION' AND domainId = 'MONITOR_ID'`

         donde MONITOR_ID es el ID numérico del monitor específico.
      </td>
    </tr>
  </tbody>
</table>

### Consulta de muestra

```graphql
{
  actor {
    entitySearch(
      query: "domain = 'SYNTH' AND type = 'RUNTIME_VALIDATION' AND domainId = 'MONITOR_ID'"
    ) {
      results {
        entities {
          accountId
          guid
          name
          tags {
            key
            values
          }
        }
      }
    }
  }
}
```