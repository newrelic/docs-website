---
title: 'Tutorial de NerdGraph: Servicio de gestión de secretos'
metaDescription: Learn how to use the Secrets management service to securely store and manage your secrets.
freshnessValidatedDate: never
translationType: machine
---

Cuando trabajas con New Relic, es posible que necesites almacenar información confidencial como claves de API y credenciales de aplicaciones. En New Relic, estos se denominan secretos. El <DNT>Secrets management service</DNT> proporciona una forma segura de almacenar y recuperar estos secretos en una ubicación centralizada a través de nuestra [API de NerdGraph](/docs/apis/nerdgraph/get-started/introduction-new-relic-nerdgraph/).

<Callout variant="important">
  Puede almacenar secretos solo en formato de cadena.
</Callout>

Las características clave de <DNT>Secrets management service</DNT> son:

* **Claves únicas para secretos**: Puede evitar la exposición accidental de secretos asignando una clave única a cada uno al almacenarlos. Utilice la clave para recuperar y administrar los secretos.

* **Secretos almacenados a nivel de [cuenta u organización](/docs/accounts/accounts-billing/account-structure/new-relic-account-structure/)**: Para acceder y usar un secreto en múltiples cuentas, puedes almacenarlo a nivel de organización. Si un secreto es específico de una sola cuenta, puede almacenarlo a nivel de cuenta.

* **Versiones de secretos**: Puedes actualizar un secreto sin perder la versión anterior. El <DNT>Secrets management service</DNT> realiza un seguimiento de todas las versiones de un secreto.

* **Eliminación y recuperación controlada de secretos**: El servicio permite la eliminación recuperable de secretos. Los usuarios sin el permiso Purge pueden eliminar secretos de forma temporal. La eliminación permanente está restringida a los usuarios con el permiso Purge.

* **Secretos estándar con acceso basado en roles**: Los secretos estándar son accesibles para todos los usuarios con permisos en la cuenta u organización. Los administradores controlan el acceso asignando roles personalizados con niveles de permiso que van desde <DNT>**View**</DNT> hasta <DNT>**Purge**</DNT>.

* **Secretos compartibles con acceso detallado**: Los secretos compartibles son privados de forma predeterminada para el creador, quien puede otorgar permisos específicos (lectura, actualización, eliminación) a usuarios individuales, grupos o identidades del sistema. Los administradores de la organización conservan acceso completo a todos los secretos compartibles para supervisión y gestión.

## Facturación de los servicios de gestión de secretos [#secrets-management-services-billing]

<DNT>Secrets management service</DNT> es una función de Producto de cómputo avanzado que se ofrece como un [complemento](/docs/accounts/accounts-billing/new-relic-one-pricing-billing/add-on-billing) o como parte del modelo de precios de cómputo. Los [CCU](/docs/licenses/license-information/product-definitions/new-relic-one-pricing-definitions/#compute-capacity-unit) avanzados se consumen cuando se ejecutan consultas de NerdGraph para almacenar, recuperar o administrar secretos.

## Control de acceso estándar a secretos [#security-and-access-control]

Los usuarios con [roles estándar](/docs/accounts/accounts-billing/new-relic-one-user-management/user-management-concepts/#standard-roles) pueden acceder a los <DNT>Secrets management service</DNT> específicos de las cuentas a las que tienen acceso, con los siguientes permisos.

* **Solo lectura**: Los usuarios solo pueden recuperar secretos. No pueden crear, actualizar o eliminar secretos.

* **Usuario estándar**: Los usuarios pueden crear, actualizar, recuperar y eliminar de forma temporal secretos.

* **Todos los administradores de productos**: Los usuarios tienen acceso completo al <DNT>Secrets management service</DNT>. Pueden crear, actualizar, recuperar, eliminar de forma temporal, eliminar de forma permanente y obtener la lista de secretos.

* **Usuario de facturación**: Los usuarios solo pueden obtener la lista de secretos.

Para administrar secretos a nivel de cuenta con un rol no estándar, pídale a su administrador que [cree un rol personalizado](/docs/accounts/accounts-billing/new-relic-one-user-management/account-user-mgmt-tutorial/#roles) con los permisos necesarios y asígnelos a su grupo de usuarios.

Para administrar secretos a nivel de organización, pídale a su administrador que cree un [rol personalizado con alcance de organización a través de la API de NerdGraph](https://docs.newrelic.com/docs/apis/nerdgraph/examples/nerdgraph-manage-groups/#create-role), agregue los permisos requeridos y asígnelo al grupo de usuarios. Los [Administradores de la organización](/docs/accounts/accounts-billing/new-relic-one-user-management/user-management-concepts/#admin-settings) tienen permisos predeterminados a nivel de organización, pero para permitirles administrar secretos, pídale a su administrador que les asigne un rol personalizado específico para el <DNT>Secrets management service</DNT>.

<Callout variant="important">
  Configure y ajuste los usuarios, roles, permisos y el acceso a <DNT>Secrets management service</DNT> a nivel de cuenta y organización, de acuerdo con las políticas y requisitos de su organización.
</Callout>

## Secretos compartibles con acceso detallado [#sharable-secrets]

Si bien los secretos estándar son accesibles para todos los usuarios con permisos en una cuenta u organización, las empresas con múltiples equipos a menudo necesitan restringir los secretos a individuos específicos. Los secretos compartibles abordan esta necesidad.

<Callout variant="important">
  Para trabajar con secretos compartibles, los usuarios primero deben tener los permisos básicos descritos en [Control de acceso a secretos estándar](#security-and-access-control). Los permisos de acceso detallados que se describen a continuación son **adicionales a** esos requisitos básicos.
</Callout>

Cuando crea un secreto compartible, automáticamente se convierte en su propietario con control total. Puede otorgar acceso a usuarios, grupos o identidades del sistema asignando permisos individuales o utilizando roles que agrupan múltiples permisos.

**Permisos individuales (otorgados además del acceso base):**

* **Leer**: Recuperar el valor del secreto
* **Actualizar**: Cambiar el valor del secreto
* **Eliminar**: Eliminar el secreto

**Roles predefinidos (otorgados además del acceso base):**

* **Propietario del secreto**: Control total (leer, actualizar, eliminar, otorgar/revocar)
* **Lector de secretos**: Acceso de solo lectura

También puede [crear roles personalizados](\(/docs/accounts/accounts-billing/new-relic-one-user-management/account-user-mgmt-tutorial/#roles\)) que combinen permisos específicos según sus necesidades. Los administradores de la organización conservan acceso completo a todos los secretos compartibles para supervisión.

Cuando necesita un monitor sintético, un workflow u otro proceso automatizado para acceder a su secreto, otorga acceso a su identidad del sistema. Una identidad del sistema es un identificador único asignado a cada proceso automatizado en New Relic. Cuando vincula un secreto a un monitor o workflow a través de la interfaz de usuario de New Relic, la identidad del sistema para ese proceso automatizado se utiliza para controlar el acceso en tiempo de ejecución.

<Callout variant="important">
  Los secretos estándar no se pueden convertir en secretos compartibles. Para migrar un secreto estándar existente, cree un nuevo secreto compartible con el mismo valor, otorgue el acceso apropiado, actualice sus aplicaciones y elimine el secreto anterior.
</Callout>

## Requisitos previos [#prerequisites]

Para usar el <DNT>Secrets management service</DNT>, necesita:

* El plan de precios [Advanced Compute](/docs/accounts/accounts-billing/new-relic-one-pricing-billing/add-on-billing)
* Una [cuenta de New Relic](https://newrelic.com/signup)
* Su clave de usuario de API para [consultas y mutaciones](\(https://docs.newrelic.com/docs/apis/nerdgraph/get-started/introduction-new-relic-nerdgraph/#terminology\))
* Permisos apropiados para crear y administrar secretos. Consulte [Control de acceso a secretos estándar](#security-and-access-control) y [Secretos compartibles con acceso detallado](#sharable-secrets) para obtener detalles sobre los roles y permisos requeridos.

El tipo de usuario y los roles asignados pueden afectar sus permisos de NerdGraph. Para obtener más detalles, consulte [Factores que afectan el acceso](https://docs.newrelic.com/docs/accounts/accounts-billing/account-structure/factors-affecting-access-features-data/#user-permissions).

## Usar el <DNT>Secrets management service</DNT> [#use-secrets-management-service]

Desde el [Explorador de NerdGraph](/docs/apis/nerdgraph/get-started/nerdgraph-explorer/), utilice [mutaciones y consultas](/docs/accounts/accounts-billing/account-structure/factors-affecting-access-features-data/#user-permissions) para interactuar con <DNT>Secrets management service</DNT>.

Estos son los atributos comunes que utilizará en las mutaciones y consultas:

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        **Nombre del atributo**
      </th>

      <th style={{ width: "200px" }}>
        **Tipo de datos**
      </th>

      <th>
        **Descripción**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `description`
      </td>

      <td>
        Cadena
      </td>

      <td>
        Una breve descripción del secreto.
      </td>
    </tr>

    <tr>
      <td>
        `key`
      </td>

      <td>
        Cadena
      </td>

      <td>
        Un identificador único para el secreto dentro de un espacio de nombres. La misma clave puede existir en diferentes espacios de nombres.
      </td>
    </tr>

    <tr>
      <td>
        `namespace`
      </td>

      <td>
        Cadena
      </td>

      <td>
        Sirve como una agrupación lógica de secretos, organizándolos y clasificándolos para mejorar la gestión y evitar conflictos. Se empareja con la clave para crear una dirección única para el secreto. Este atributo es beneficioso en entornos con múltiples equipos o proyectos que utilizan New Relic.
      </td>
    </tr>

    <tr>
      <td>
        `scope`
      </td>

      <td>
        * `type`: Enum
        * `id`: cadena
      </td>

      <td>
        El alcance del almacenamiento de los secretos en términos de su accesibilidad. Los atributos definitorios son:

        * `type`: Para usar el secreto en múltiples cuentas, seleccione `Organization`. Si el secreto es específico de una sola cuenta, seleccione `Account`. Para almacenar un secreto a nivel de organización, debe tener el [rol personalizado con alcance de organización](https://docs.newrelic.com/docs/apis/nerdgraph/examples/nerdgraph-manage-groups/#create-role) con los permisos requeridos. Consulte la sección [Control de acceso](#security-and-access-control) para obtener más detalles.

        * `id`: ID de cuenta u organización correspondiente.
      </td>
    </tr>

    <tr>
      <td>
        `tags`
      </td>

      <td>
        Matriz
      </td>

      <td>
        Funciona como pares clave-valor que agregan metadatos a sus entidades, incluidas aplicaciones, servicios y hosts. Usando etiquetas, puede mejorar la capacidad de organizar, filtrar y administrar secretos.
      </td>
    </tr>

    <tr>
      <td>
        `value`
      </td>

      <td>
        Cadena
      </td>

      <td>
        El secreto real.
      </td>
    </tr>

    <tr>
      <td>
        `purge`
      </td>

      <td>
        Booleano
      </td>

      <td>
        Elimina todas las versiones del secreto.

        * `true`: Elimina el secreto permanentemente.
        * `false`: Puede recuperar el secreto eliminado con todas sus versiones.

        Solo los administradores de todos los productos o un usuario que tenga un rol personalizado con el permiso `purge` pueden eliminar secretos de forma permanente. Para obtener más detalles, consulte la sección [Control de acceso](#security-and-access-control).
      </td>
    </tr>

    <tr>
      <td>
        `version`
      </td>

      <td>
        Cadena
      </td>

      <td>
        Como puede almacenar múltiples versiones de un secreto, representa el número de versión del secreto.
      </td>
    </tr>

    <tr>
      <td>
        `cursor` (Opcional)
      </td>

      <td>
        Cadena
      </td>

      <td>
        Al recuperar una lista de secretos, si la respuesta contiene el atributo `nextCursor`, indica que hay más secretos disponibles más allá de la página actual de resultados. Para acceder a la siguiente página de resultados, use el valor `nextCursor` en el atributo `cursor` y ejecute la consulta nuevamente.
      </td>
    </tr>
  </tbody>
</table>

<Callout variant="important">
  Copie su secreto real solo en el atributo `value`. Asegúrese de que no esté declarado en ningún otro atributo, como `description`, `key` o `namespace`.
</Callout>

### Operaciones [#operations]

Las operaciones que puede realizar con el <DNT>Secrets management service</DNT> se organizan en dos categorías:

<Callout variant="tip">
  **Elegir entre secretos estándar y secretos compartibles:**

  * Utilice **secretos estándar** (`secretsManagementCreateSecret`) cuando desee compartir un secreto con todos los usuarios que tienen acceso a la cuenta u organización.
  * Use **secretos compartibles** (`secretsManagementCreateShareableSecret`) cuando necesite controlar exactamente quién puede acceder a un secreto otorgando permisos a usuarios, grupos o identidades del sistema específicos.
</Callout>

<CollapserGroup>
  <Collapser id="create-secret" title="Almacenar un secreto">
    Utilice la mutación `secretsManagementCreateSecret` con los siguientes parámetros para almacenar un secreto estándar que estará accesible para todos los usuarios con permisos en la cuenta u organización especificada.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            **Nombre del atributo**
          </th>

          <th style={{ width: "200px" }}>
            **Tipo de datos**
          </th>

          <th>
            **Descripción**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `description` (Opcional)
          </td>

          <td>
            Cadena
          </td>

          <td>
            Proporcione una descripción para el secreto.
          </td>
        </tr>

        <tr>
          <td>
            `key` (Requerido)
          </td>

          <td>
            Cadena
          </td>

          <td>
            Asigne una clave única para el secreto.
          </td>
        </tr>

        <tr>
          <td>
            `namespace` (Opcional)
          </td>

          <td>
            Cadena
          </td>

          <td>
            Asigne un nombre si desea almacenar el secreto en un espacio de nombres específico.
          </td>
        </tr>

        <tr>
          <td>
            `scope` (Requerido)
          </td>

          <td />

          <td>
            `type`: Enum `id`: string
          </td>

          <td>
            * `type`: Según su [rol](#security-and-access-control) y sus requisitos, seleccione `Account` o `Organization`.
            * `id`: Ingrese la ID de cuenta u organización correspondiente.
          </td>
        </tr>

        <tr>
          <td>
            `tags` (Opcional)
          </td>

          <td>
            Matriz
          </td>

          <td>
            Asigne un par clave-valor.
          </td>
        </tr>

        <tr>
          <td>
            `value` (Requerido)
          </td>

          <td>
            Cadena
          </td>

          <td>
            Ingrese el secreto real.
          </td>
        </tr>
      </tbody>
    </table>

    #### Consulta de ejemplo:

    ```graphql
    mutation {
      secretsManagementCreateSecret(
        description: "ZXY"
        key: "Test2"
        scope: { id: 1, type: ACCOUNT }
        value: "1990@123"
        namespace: "Namespace1"
      )
    }
    ```

    ### Respuesta

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            **Nombre del atributo**
          </th>

          <th>
            **Descripción**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `description`
          </td>

          <td>
            La descripción del secreto, si se proporciona.
          </td>
        </tr>

        <tr>
          <td>
            `key`
          </td>

          <td>
            La clave asignada.
          </td>
        </tr>

        <tr>
          <td>
            `latestVersion`
          </td>

          <td>
            La versión del secreto. Si ha creado un nuevo secreto, la versión será `0`.
          </td>
        </tr>

        <tr>
          <td>
            `metadata`
          </td>

          <td>
            Metadatos asociados con el secreto, si los hay.
          </td>
        </tr>

        <tr>
          <td>
            `namespace`
          </td>

          <td>
            El espacio de nombres del secreto, si se proporciona.
          </td>
        </tr>

        <tr>
          <td>
            `scope`
          </td>

          <td>
            El ID de la cuenta u organización asociado con el secreto.
          </td>
        </tr>

        <tr>
          <td>
            `tags`
          </td>

          <td>
            El par clave-valor asociado con el secreto, si lo hay.
          </td>
        </tr>
      </tbody>
    </table>

    #### Respuesta de ejemplo:

    ```json
     {
      "data": {
        "secretsManagementCreateSecret": {
          "description": "ZXY",
          "key": "Test2",
          "latestVersion": 0,
          "scope": {
            "id": "1",
            "type": "ACCOUNT"
          }
        }
      }
    ```
  </Collapser>

  <Collapser id="create-sharable-secret" title="Almacenar un secreto compartible">
    Utilice la mutación `secretsManagementCreateShareableSecret` para crear un secreto privado con control de acceso detallado. Cuando crea un secreto compartible, se convierte automáticamente en el propietario con control total sobre quién puede acceder a él.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            **Nombre del atributo**
          </th>

          <th style={{ width: "200px" }}>
            **Tipo de datos**
          </th>

          <th>
            **Descripción**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `description` (Opcional)
          </td>

          <td>
            Cadena
          </td>

          <td>
            Proporcione una descripción para el secreto.
          </td>
        </tr>

        <tr>
          <td>
            `key` (Requerido)
          </td>

          <td>
            Cadena
          </td>

          <td>
            Asigne una clave única para el secreto.
          </td>
        </tr>

        <tr>
          <td>
            `namespace` (Opcional)
          </td>

          <td>
            Cadena
          </td>

          <td>
            Asigne un nombre si desea almacenar el secreto en un espacio de nombres específico.
          </td>
        </tr>

        <tr>
          <td>
            `scope` (Requerido)
          </td>

          <td />

          <td>
            `type`: Enum `id`: string
          </td>

          <td>
            * `type`: Según su [rol](#security-and-access-control) y sus requisitos, seleccione `Account` o `Organization`.
            * `id`: Ingrese la ID de cuenta u organización correspondiente.
          </td>
        </tr>

        <tr>
          <td>
            `tags` (Opcional)
          </td>

          <td>
            Matriz
          </td>

          <td>
            Asigne un par clave-valor.
          </td>
        </tr>

        <tr>
          <td>
            `value` (Requerido)
          </td>

          <td>
            Cadena
          </td>

          <td>
            Ingrese el secreto real.
          </td>
        </tr>
      </tbody>
    </table>

    #### Consulta de ejemplo:

    ```graphql
    mutation {
      secretsManagementCreateShareableSecret(
        scope: { type: ACCOUNT, id: 1 }
        key: "prod-api-key"
        value: "sk_live_abc123xyz"
        namespace: "production"
        description: "Private API key for production"
        tags: [{ key: "environment", value: "production" }]
      ) {
        scope {
          type
          id
        }
        key
        namespace
        latestVersion
        description
        tags {
          key
          value
        }
        metadata {
          createdAt
          updatedAt
        }
      }
    }
    ```

    ### Respuesta

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            **Nombre del atributo**
          </th>

          <th>
            **Descripción**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `description`
          </td>

          <td>
            La descripción del secreto, si se proporciona.
          </td>
        </tr>

        <tr>
          <td>
            `key`
          </td>

          <td>
            La clave asignada.
          </td>
        </tr>

        <tr>
          <td>
            `latestVersion`
          </td>

          <td>
            La versión del secreto. Si ha creado un nuevo secreto, la versión será `0`.
          </td>
        </tr>

        <tr>
          <td>
            `metadata`
          </td>

          <td>
            Metadatos asociados con el secreto, incluyendo:

            * `createdAt`: Marca de tiempo cuando se creó el secreto
            * `updatedAt`: Marca de tiempo de la última actualización del secreto
          </td>
        </tr>

        <tr>
          <td>
            `namespace`
          </td>

          <td>
            El espacio de nombres del secreto, si se proporciona.
          </td>
        </tr>

        <tr>
          <td>
            `scope`
          </td>

          <td>
            El ID de la cuenta u organización asociado con el secreto.
          </td>
        </tr>

        <tr>
          <td>
            `tags`
          </td>

          <td>
            El par clave-valor asociado con el secreto, si lo hay.
          </td>
        </tr>
      </tbody>
    </table>

    #### Respuesta de ejemplo:

    ```json
    {
     "data": {
       "secretsManagementCreateShareableSecret": {
         "scope": {
           "type": "ACCOUNT",
           "id": "1"
         },
         "key": "prod-api-key",
         "namespace": "production",
         "latestVersion": 0,
         "description": "Private API key for production",
         "tags": [
           {
             "key": "environment",
             "value": "production"
           }
         ],
         "metadata": {
           "createdAt": "2025-10-30T12:34:56.789Z",
           "updatedAt": "2025-10-30T12:34:56.789Z"
         }
       }
     }
    }
    ```

    <Callout variant="tip">
      Después de crear un secreto compartible, usted se convierte en el propietario automáticamente. Para otorgar acceso a otros usuarios, grupos o identidades del sistema, use la mutación `authorizationManagementGrantAccess`. Para obtener más detalles, consulte la sección [Otorgar acceso a un secreto compartible](#grant-access-sharable-secret).
    </Callout>
  </Collapser>

  <Collapser id="retrieve-secret" title="Recuperar un secreto">
    Utilice la consulta `{customerAdministration {secret}}` para recuperar secretos junto con sus detalles. Puede recuperar secretos que solo están dentro del alcance de su cuenta u organización actual.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            **Nombre del atributo**
          </th>

          <th style={{ width: "200px" }}>
            **Tipo de datos**
          </th>

          <th>
            **Descripción**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `key` (Requerido)
          </td>

          <td>
            Cadena
          </td>

          <td>
            Clave del secreto que desea recuperar.
          </td>
        </tr>

        <tr>
          <td>
            `namespace` (Opcional)
          </td>

          <td>
            Cadena
          </td>

          <td>
            El espacio de nombres del secreto, si está disponible.
          </td>
        </tr>

        <tr>
          <td>
            `scope` (Requerido)
          </td>

          <td />

          <td>
            `type`: Enum `id`: string
          </td>

          <td>
            * `type`: Seleccione `account` o `organization` en el nivel en el que se almacena el secreto.
            * `id`: Ingrese la ID de cuenta u organización correspondiente.
          </td>
        </tr>

        <tr>
          <td>
            `unlock` (Opcional)
          </td>

          <td>
            Cadena
          </td>

          <td>
            El valor predeterminado `false` devuelve los metadatos del secreto sin desbloquearlo. Si desea desbloquear el secreto y recuperar su valor real, configúrelo en `true`.
          </td>
        </tr>

        <tr>
          <td>
            `version` (Opcional)
          </td>

          <td>
            Entero
          </td>

          <td>
            Ingrese una versión específica del secreto que desea recuperar. Si no proporciona una versión, se recuperará la última versión.
          </td>
        </tr>
      </tbody>
    </table>

    #### Consulta de ejemplo:

    ```graphql
    {
      customerAdministration {
        secret(key: "Test2", scope: { id: 1, type: ACCOUNT }, unlock: true)
      }
    }
    ```

    ### Respuesta

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            **Nombre del atributo**
          </th>

          <th>
            **Descripción**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `description`
          </td>

          <td>
            La descripción del secreto.
          </td>
        </tr>

        <tr>
          <td>
            `isSharable`
          </td>

          <td>
            Indica si el secreto es un [secreto compartible](#sharable-secrets) con control de acceso detallado. Si `true`, el secreto usa permisos detallados y es privado para el creador de forma predeterminada. Si `false`, es un secreto estándar accesible para todos los usuarios con permisos en la cuenta u organización.
          </td>
        </tr>

        <tr>
          <td>
            `key`
          </td>

          <td>
            La clave del secreto.
          </td>
        </tr>

        <tr>
          <td>
            `metadata`
          </td>

          <td>
            Metadatos asociados con el secreto, si los hay.
          </td>
        </tr>

        <tr>
          <td>
            `namespace`
          </td>

          <td>
            El espacio de nombres del secreto, si se proporciona.
          </td>
        </tr>

        <tr>
          <td>
            `retrievedValue`
          </td>

          <td>
            * `value`: El valor real del secreto, si `unlock` está configurado en `true`.
            * `version`: La versión del secreto.
          </td>
        </tr>

        <tr>
          <td>
            `scope`
          </td>

          <td>
            El ID de la cuenta u organización asociado con el secreto.
          </td>
        </tr>

        <tr>
          <td>
            `tags`
          </td>

          <td>
            El par clave-valor asociado con el secreto, si lo hay.
          </td>
        </tr>
      </tbody>
    </table>

    #### Respuesta de ejemplo:

    ```json
    {
      "data": {
        "customerAdministration": {
          "secret": {
            "description": "ZXY",
            "isSharable": false,
            "key": "Test2",
            "namespace": null,
            "retrievedValue": {
              "value": "1995@123",
              "version": 1
            },
            "scope": {
              "id": "1",
              "type": "ACCOUNT"
            }
          }
        }
      }
    }
    ```
  </Collapser>

  <Collapser id="update-secret" title="Actualizar un secreto">
    Utilice la mutación `secretsManagementUpdateSecret` para actualizar el valor de los secretos existentes.

    <Callout variant="tip">
      Cada operación de actualización crea una nueva versión del secreto. La versión más alta es siempre la última versión del secreto. Para recuperar versiones anteriores del secreto, puede usar la consulta `{customerAdministration {secretVersions}}`. Para obtener más detalles, consulte la sección [Recuperar toda la información de la versión de un secreto](#retrieve-secret-versions).
    </Callout>

    #### Parámetros de entrada

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            **Nombre del atributo**
          </th>

          <th style={{ width: "200px" }}>
            **Tipo de datos**
          </th>

          <th>
            **Descripción**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `description` (Opcional)
          </td>

          <td>
            Cadena
          </td>

          <td>
            Agregue una descripción si desea actualizar el existente.
          </td>
        </tr>

        <tr>
          <td>
            `key` (Requerido)
          </td>

          <td>
            Cadena
          </td>

          <td>
            Ingrese la clave del secreto cuyo valor desea actualizar.
          </td>
        </tr>

        <tr>
          <td>
            `namespace` (Opcional)
          </td>

          <td>
            Cadena
          </td>

          <td>
            Espacio de nombres del secreto, si está disponible.
          </td>
        </tr>

        <tr>
          <td>
            `scope` (Requerido)
          </td>

          <td />

          <td>
            `type`: Enum `id`: string
          </td>

          <td>
            * `type`: Seleccione `Account` o `Organization` en el nivel en el que se almacena el secreto.
            * `id`: Ingrese la ID de cuenta u organización correspondiente.
          </td>
        </tr>

        <tr>
          <td>
            `value` (Requerido)
          </td>

          <td>
            Cadena
          </td>

          <td>
            El valor actualizado para el secreto.
          </td>
        </tr>
      </tbody>
    </table>

    #### Consulta de ejemplo:

    ```graphql
    mutation {
      secretsManagementUpdateSecret(
        key: "Test2"
        scope: { id: 1, type: ACCOUNT }
        value: "1995@123"
      )
    }
    ```

    ### Respuesta

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            **Nombre del atributo**
          </th>

          <th>
            **Descripción**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `description`
          </td>

          <td>
            Descripción actualizada del secreto, si se proporciona.
          </td>
        </tr>

        <tr>
          <td>
            `key`
          </td>

          <td>
            La clave del secreto.
          </td>
        </tr>

        <tr>
          <td>
            `latestVersion`
          </td>

          <td>
            El número de versión más reciente del secreto después de la actualización.
          </td>
        </tr>

        <tr>
          <td>
            `metadata`
          </td>

          <td>
            Metadatos asociados con el secreto, si los hay.
          </td>
        </tr>

        <tr>
          <td>
            `namespace`
          </td>

          <td>
            El espacio de nombres del secreto, si lo hay.
          </td>
        </tr>

        <tr>
          <td>
            `scope`
          </td>

          <td>
            El ID de la cuenta u organización asociado con el secreto.
          </td>
        </tr>

        <tr>
          <td>
            `tags`
          </td>

          <td>
            El par clave-valor asociado con el secreto, si lo hay.
          </td>
        </tr>
      </tbody>
    </table>

    #### Respuesta de ejemplo:

    ```json
    {
      "data": {
        "secretsManagementUpdateSecret": {
          "description": "ZXY",
          "key": "Test2",
          "latestVersion": 1,
          "scope": {
            "id": "1",
            "type": "ACCOUNT"
          }
        }
      }
    }
    ```
  </Collapser>

  <Collapser id="retrieve-secret-versions" title="Recuperar toda la información de la versión de un secreto">
    Utilice la consulta `{customerAdministration {secretVersions}}` para recuperar hasta 10 versiones recientes de un secreto junto con sus detalles. Puede recuperar secretos que solo están dentro del alcance de su cuenta u organización actual.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            **Nombre del atributo**
          </th>

          <th style={{ width: "200px" }}>
            **Tipo de datos**
          </th>

          <th>
            **Descripción**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `fetchDeleted` (Opcional)
          </td>

          <td>
            Cadena
          </td>

          <td>
            Para obtener solo las versiones no eliminadas del secreto, configúrelo en `false`. Para obtener versiones del secreto, incluidas las eliminadas temporalmente, configúrelo en `true`.
          </td>
        </tr>

        <tr>
          <td>
            `key` (Requerido)
          </td>

          <td>
            Cadena
          </td>

          <td>
            Clave del secreto que desea recuperar.
          </td>
        </tr>

        <tr>
          <td>
            `namespace` (Opcional)
          </td>

          <td>
            Cadena
          </td>

          <td>
            El espacio de nombres del secreto, si está disponible.
          </td>
        </tr>

        <tr>
          <td>
            `scope` (Requerido)
          </td>

          <td />

          <td>
            `type`: Enum `id`: string
          </td>

          <td>
            * `type`: Seleccione `account` o `organization` en el nivel en el que se almacena el secreto.
            * `id`: Ingrese la ID de cuenta u organización correspondiente.
          </td>
        </tr>
      </tbody>
    </table>

    #### Consulta de ejemplo:

    ```graphql
    {
      customerAdministration {
        secretVersions(
          fetchDeleted: true
          key: "Test2"
          scope: { id: 1, type: ACCOUNT }
        )
      }
    }
    ```

    ### Respuesta

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            **Nombre del atributo**
          </th>

          <th>
            **Descripción**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `key`
          </td>

          <td>
            La clave del secreto.
          </td>
        </tr>

        <tr>
          <td>
            `latestVersion`
          </td>

          <td>
            El número de versión más reciente del secreto.
          </td>
        </tr>

        <tr>
          <td>
            `namespace`
          </td>

          <td>
            El espacio de nombres del secreto, si se proporciona.
          </td>
        </tr>

        <tr>
          <td>
            `scope`
          </td>

          <td>
            El ID de la cuenta u organización asociado con el secreto.
          </td>
        </tr>

        <tr>
          <td>
            `secretVersions`
          </td>

          <td>
            Una matriz de objetos que contiene los detalles de cada versión del secreto, que incluye:

            * `createdAt`: Marcas de tiempo que indican cuándo se creó cada versión.
            * `isDeleted`: Indica si la versión del secreto está eliminada o no.
            * `version`: El número de versión del secreto.
          </td>
        </tr>
      </tbody>
    </table>

    #### Respuesta de ejemplo:

    ```json
    {
      "data": {
        "customerAdministration": {
          "secretVersions": {
            "key": "Test2",
            "latestVersion": 1,
            "namespace": null,
            "scope": {
              "id": "1",
              "type": "ACCOUNT"
            },
            "secretVersions": [
              {
                "createdAt": "2025-05-26T07:52:23.920250Z",
                "isDeleted": false,
                "version": 1
              },
              {
                "createdAt": "2025-05-26T07:45:19.395796Z",
                "isDeleted": false,
                "version": 0
              }
            ]
          }
        }
      }
    }
    ```
  </Collapser>

  <Collapser id="delete-secrets" title="Eliminar un secreto">
    Utilice la mutación `secretsManagementDeleteSecret` para eliminar todas las versiones de un secreto. Solo los administradores de todos los productos o un usuario que tenga un rol personalizado con el permiso `purge` pueden optar por eliminar secretos de forma permanente. Otros usuarios no pueden eliminar secretos de forma permanente. Si no ha eliminado el secreto de forma permanente, puede [recuperarlo](#recover-secrets) utilizando la mutación `secretsManagementRecoverSecret`.

    #### Atributos de entrada

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            **Nombre del atributo**
          </th>

          <th style={{ width: "200px" }}>
            **Tipo de datos**
          </th>

          <th>
            **Descripción**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `key` (Requerido)
          </td>

          <td>
            Cadena
          </td>

          <td>
            La clave del secreto que desea eliminar.
          </td>
        </tr>

        <tr>
          <td>
            `namespace` (Opcional)
          </td>

          <td>
            Cadena
          </td>

          <td>
            Espacio de nombres del secreto, si está disponible.
          </td>
        </tr>

        <tr>
          <td>
            `purge` (Requerido)
          </td>

          <td>
            Booleano
          </td>

          <td>
            Para eliminar el secreto permanentemente, establezca el valor en `true`. Para la eliminación temporal, establezca el valor en `false`.
          </td>
        </tr>

        <tr>
          <td>
            `scope` (Requerido)
          </td>

          <td />

          <td>
            `type`: Enum `id`: string
          </td>

          <td>
            * `type`: Seleccione el nivel en el que se almacena su secreto.
            * `id`: Ingrese la ID de cuenta u organización correspondiente.
          </td>
        </tr>
      </tbody>
    </table>

    #### Consulta de ejemplo:

    ```graphql
    mutation {
      secretsManagementDeleteSecret(
        key: "Test1"
        scope: { id: 1, type: ACCOUNT }
        purge: false
      )
    }
    ```

    ### Respuesta

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            **Nombre del atributo**
          </th>

          <th>
            **Descripción**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `key`
          </td>

          <td>
            La clave del secreto eliminado.
          </td>
        </tr>

        <tr>
          <td>
            `namespace`
          </td>

          <td>
            El espacio de nombres del secreto eliminado, si está disponible.
          </td>
        </tr>

        <tr>
          <td>
            `scope`
          </td>

          <td>
            : El ID de cuenta u organización asociado con el secreto eliminado.
          </td>
        </tr>
      </tbody>
    </table>

    #### Respuesta de ejemplo:

    ```json
    {
      "data": {
        "secretsManagementDeleteSecret": {
          "key": "Test1",
          "namespace": null,
          "scope": {
            "id": "1",
            "type": "ACCOUNT"
          }
        }
      }
    }
    ```
  </Collapser>

  <Collapser id="recover-secrets" title="Recuperar un secreto">
    Utilice la mutación `secretsManagementRecoverSecret` para recuperar secretos que haya eliminado utilizando la mutación `secretsManagementDeleteSecret` antes con el atributo `purge` establecido en `false`. Si un secreto se elimina permanentemente, no puede recuperarlo.

    #### Atributos de entrada

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            **Nombre del atributo**
          </th>

          <th style={{ width: "200px" }}>
            **Tipo de datos**
          </th>

          <th>
            **Descripción**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `key` (Requerido)
          </td>

          <td>
            Cadena
          </td>

          <td>
            La clave del secreto que desea recuperar.
          </td>
        </tr>

        <tr>
          <td>
            `namespace` (Opcional)
          </td>

          <td>
            Cadena
          </td>

          <td>
            El espacio de nombres del secreto eliminado, si está disponible.
          </td>
        </tr>

        <tr>
          <td>
            `scope` (Requerido)
          </td>

          <td />

          <td>
            `type`: Enum `id`: string
          </td>

          <td>
            * `type`: Seleccione `Account` o `Organization` en qué nivel se almacenó el secreto.
            * `id`Ingrese el ID correspondiente de la cuenta u organización.
          </td>
        </tr>
      </tbody>
    </table>

    #### Consulta de ejemplo:

    ```graphql
    mutation {
      secretsManagementRecoverSecret(key: "Test1", scope: { id: 1, type: ACCOUNT })
    }
    ```

    ### Respuesta

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            **Nombre del atributo**
          </th>

          <th>
            **Descripción**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `key`
          </td>

          <td>
            La clave del secreto recuperado.
          </td>
        </tr>

        <tr>
          <td>
            `latestVersion`
          </td>

          <td>
            La última versión del secreto recuperado.
          </td>
        </tr>

        <tr>
          <td>
            `namespace`
          </td>

          <td>
            El espacio de nombres del secreto recuperado, si está disponible.
          </td>
        </tr>

        <tr>
          <td>
            `scope`
          </td>

          <td>
            El ID de la cuenta u organización asociado con el secreto recuperado.
          </td>
        </tr>
      </tbody>
    </table>

    #### Respuesta de ejemplo:

    ```json
    {
      "data": {
        "secretsManagementRecoverSecret": {
          "key": "Test1",
          "latestVersion": 1,
          "namespace": null,
          "scope": {
            "id": "1",
            "type": "ACCOUNT"
          }
        }
      }
    }
    ```
  </Collapser>

  <Collapser id="delete-secrets-version" title="Eliminar una versión específica de un secreto">
    Utilice la mutación `secretsManagementDeleteSecretVersion` para eliminar una versión específica de un secreto. Solo los administradores de todos los productos o un usuario que tenga un rol personalizado con el permiso `purge` pueden optar por eliminarlo permanentemente. Otros usuarios no pueden eliminar la versión del secreto de forma permanente. Si no ha eliminado la versión del secreto de forma permanente, puede [recuperarla](#recover-secrets-versions) utilizando la mutación `secretsManagementDeleteSecretVersion`.

    #### Atributos de entrada

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            **Nombre del atributo**
          </th>

          <th style={{ width: "200px" }}>
            **Tipo de datos**
          </th>

          <th>
            **Descripción**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `key` (Requerido)
          </td>

          <td>
            Cadena
          </td>

          <td>
            La clave del secreto para el que desea eliminar una de las versiones.
          </td>
        </tr>

        <tr>
          <td>
            `namespace` (Opcional)
          </td>

          <td>
            Cadena
          </td>

          <td>
            Espacio de nombres del secreto, si está disponible.
          </td>
        </tr>

        <tr>
          <td>
            `purge` (Requerido)
          </td>

          <td>
            Booleano
          </td>

          <td>
            Para eliminar la versión del secreto de forma permanente, establezca el valor en `true`. Para la eliminación temporal, establezca el valor en `false`.
          </td>
        </tr>

        <tr>
          <td>
            `scope` (Requerido)
          </td>

          <td />

          <td>
            `type`: Enum `id`: string
          </td>

          <td>
            * `type`: Seleccione el nivel en el que se almacena su secreto.
            * `id`Ingrese el ID correspondiente de la cuenta u organización.
          </td>
        </tr>

        <tr>
          <td>
            `version` (Opcional)
          </td>

          <td>
            Cadena
          </td>

          <td>
            La versión específica del secreto que desea eliminar. Si no proporciona una versión, se eliminará la última versión y la versión anterior se convertirá en la última versión.
          </td>
        </tr>
      </tbody>
    </table>

    #### Consulta de ejemplo:

    ```graphql
    mutation {
      secretsManagementDeleteSecretVersion(
        key: "Test2"
        purge: false
        scope: { id: 1, type: ACCOUNT }
        version: 0
      )
    }
    ```

    ### Respuesta

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            **Nombre del atributo**
          </th>

          <th>
            **Descripción**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `key`
          </td>

          <td>
            La clave del secreto.
          </td>
        </tr>

        <tr>
          <td>
            `latestVersion`
          </td>

          <td>
            La última versión del secreto disponible después de la eliminación de la versión especificada.
          </td>
        </tr>

        <tr>
          <td>
            `namespace`
          </td>

          <td>
            El espacio de nombres del secreto, si está disponible.
          </td>
        </tr>

        <tr>
          <td>
            `scope`
          </td>

          <td>
            El ID de la cuenta u organización asociado con el secreto.
          </td>
        </tr>
      </tbody>
    </table>

    #### Respuesta de ejemplo:

    ```json
    {
      "data": {
        "secretsManagementDeleteSecretVersion": {
          "key": "Test2",
          "latestVersion": 1,
          "scope": {
            "id": "1"
          }
        }
      }
    }
    ```
  </Collapser>

  <Collapser id="recover-secrets-versions" title="Recuperar una versión del secreto">
    Use la mutación `secretsManagementRecoverSecretVersion` para recuperar una versión específica del secreto que ha eliminado temporalmente usando la mutación `secretsManagementDeleteSecretVersion`. Si una versión se elimina permanentemente, no puede recuperarla.

    #### Atributos de entrada

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            **Nombre del atributo**
          </th>

          <th style={{ width: "200px" }}>
            **Tipo de datos**
          </th>

          <th>
            **Descripción**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `key` (Requerido)
          </td>

          <td>
            Cadena
          </td>

          <td>
            La clave del secreto para el que desea recuperar una de las versiones.
          </td>
        </tr>

        <tr>
          <td>
            `namespace` (Opcional)
          </td>

          <td>
            Cadena
          </td>

          <td>
            El espacio de nombres del secreto, si está disponible.
          </td>
        </tr>

        <tr>
          <td>
            `scope` (Requerido)
          </td>

          <td />

          <td>
            `type`: Enum `id`: string
          </td>

          <td>
            * `type`: Seleccione `Account` o `Organization` en qué nivel pertenece el secreto.
            * `id`Ingrese el ID correspondiente de la cuenta u organización.
          </td>
        </tr>

        <tr>
          <td>
            `version` (Opcional)
          </td>

          <td>
            Cadena
          </td>

          <td>
            Ingrese el número de versión del secreto que desea recuperar. Si no proporciona una versión, recupera la versión más alta del secreto que se eliminó temporalmente.
          </td>
        </tr>
      </tbody>
    </table>

    #### Consulta de ejemplo:

    ```graphql
    mutation {
      secretsManagementRecoverSecretVersion(
        key: "Test2"
        scope: { id: 1, type: ACCOUNT }
        version: 0
      )
    }
    ```

    ### Respuesta

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            **Nombre del atributo**
          </th>

          <th>
            **Descripción**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `key`
          </td>

          <td>
            La clave del secreto.
          </td>
        </tr>

        <tr>
          <td>
            `latestVersion`
          </td>

          <td>
            La última versión del secreto después de la recuperación.
          </td>
        </tr>

        <tr>
          <td>
            `namespace`
          </td>

          <td>
            El espacio de nombres del secreto, si está disponible.
          </td>
        </tr>

        <tr>
          <td>
            `scope`
          </td>

          <td>
            El ID de la cuenta u organización asociado con el secreto.
          </td>
        </tr>
      </tbody>
    </table>

    #### Respuesta de ejemplo:

    ```json
    {
      "data": {
        "secretsManagementRecoverSecretVersion": {
          "key": "Test2",
          "latestVersion": 1,
          "namespace": null,
          "scope": {
            "id": "1",
            "type": "ACCOUNT"
          }
        }
      }
    }
    ```
  </Collapser>

  <Collapser id="secret-list" title="Recuperar la lista de secretos">
    Utilice la consulta `{customerAdministration {secrets}}` para recuperar una lista de secretos disponibles en la cuenta u organización. Puede recuperar secretos que solo están dentro del alcance de su cuenta u organización actual.

    <Callout variant="tip">
      La lista incluye todos los secretos en el alcance, incluidos los secretos compartibles a los que es posible que no tenga permiso para acceder. Los permisos de acceso se aplican cuando recupera el valor del secreto utilizando la operación [Recuperar un secreto](#retrieve-secret).
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            **Nombre del atributo**
          </th>

          <th style={{ width: "200px" }}>
            **Tipo de datos**
          </th>

          <th>
            **Descripción**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `cursor` (Opcional)
          </td>

          <td>
            Cadena
          </td>

          <td>
            Use el `cursor` para navegar por las listas de secretos. Para obtener la primera página de la lista de secretos, este parámetro no es obligatorio. Si desea acceder a la página siguiente, utilice el valor `NextCursor` de la respuesta anterior.
          </td>
        </tr>

        <tr>
          <td>
            `filter` (Requerido)
          </td>

          <td>
            * `deleted` (Opcional): Booleano

            * `namespace` (Opcional): Cadena

            * `scope` (Requerido)

              * `type`: Enum
              * `id`: cadena
          </td>

          <td>
            Agregue el siguiente filtro para aplicar los criterios de búsqueda:

            * `deleted`: Para obtener todos los secretos, incluidos los eliminados temporalmente, configúrelo en `true`. Para obtener solo los secretos no eliminados, configúrelo en `false`.
            * `namespace`: Para filtrar secretos por espacio de nombres, proporcione el nombre del espacio de nombres.
            * `scope`: Para filtrar secretos por alcance, proporcione el nivel (`Account` o `Organization`) y el ID correspondiente.
          </td>
        </tr>

        <tr>
          <td>
            `sort` (Opcional)
          </td>

          <td>
            * `direction` (Obligatorio): Booleano
            * `key` (Obligatorio): Booleano
          </td>

          <td>
            Para ordenar la lista de secretos, proporcione los siguientes atributos:

            * `direction`: Seleccione `ASC` para orden ascendente o `DESC` para orden descendente.
            * `key`: La opción disponible es `CREATED_AT`. Esto ordena los secretos según su tiempo de creación.
          </td>
        </tr>
      </tbody>
    </table>

    #### Consulta de ejemplo:

    ```graphql
    {
      customerAdministration {
        secrets(
          filter: {
            deleted: { eq: false }
            scope: { eq: { id: 1, type: ACCOUNT } }
          }
          cursor: ""
          sort: { direction: DESC, key: CREATED_AT }
        )
      }
    }
    ```

    ### Respuesta

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            **Nombre del atributo**
          </th>

          <th>
            **Descripción**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `nextCursor`
          </td>

          <td>
            El valor del cursor para acceder a la siguiente página de la lista de secretos. Si no hay más páginas, este valor será `null`.
          </td>
        </tr>

        <tr>
          <td>
            `scope`
          </td>

          <td>
            El ID de la cuenta u organización asociado con el secreto.
          </td>
        </tr>

        <tr>
          <td>
            `secrets`
          </td>

          <td>
            Los detalles de los secretos enumerados, que incluyen:

            * `description`: La descripción del secreto, si está disponible.

            * `isDeleted`: Indica si el secreto está en un estado de eliminación temporal o no.

            * `isSharable`: Indica si el secreto es un [secreto compartible](#sharable-secrets) con control de acceso detallado.

            * `key`: La clave del secreto.

            * `latestVersion`: El número de versión más reciente del secreto.

            * `metadata`: Metadatos asociados con el secreto, si los hay.

              * `createdAt`: Marcas de tiempo que indican cuándo se creó el secreto.
              * `updatedAt`: Marcas de tiempo que indican cuándo se actualizó por última vez el secreto.

            * `namespace`: El espacio de nombres del secreto, si está disponible.

            * `tags`: El par clave y valor asociado con el secreto, si lo hay.
          </td>
        </tr>

        <tr>
          <td>
            `totalCount`
          </td>

          <td>
            El número total de secretos disponibles en la cuenta u organización, independientemente de la paginación.
          </td>
        </tr>
      </tbody>
    </table>

    #### Respuesta de ejemplo:

    ```json
    {
      "data": {
        "customerAdministration": {
          "secrets": {
            "nextCursor": "AAAADJ_Fqig86wFIH6c3ehxxpoFy0vdW2eA4pTkQFYDztd_UIeL91kCElQaCG0iORpmDdDT6KeZAVkByh4ogENST8yjxeZ5tI6vPYnyMW5rhtGwXlgt9zQRGYj1HcdpUHdfUcTC-CSsdQDLexy52XA==",
            "scope": {
              "id": "1",
              "type": "ACCOUNT"
            },
            "secrets": [
              {
                "description": "ZXY",
                "isDeleted": false,
                "isSharable": false,
                "key": "test2",
                "latestVersion": 1,
                "metadata": {
                  "createdAt": "2025-05-26T07:45:19.395796Z",
                  "updatedAt": "2025-05-26T08:08:49.130724Z"
                },
                "namespace": null,
                "tags": null
              },
              {
                "description": "XYZ",
                "isDeleted": false,
                "isSharable": false,
                "key": "test2",
                "latestVersion": 0,
                "metadata": {
                  "createdAt": "2025-05-26T07:26:32.114987Z",
                  "updatedAt": "2025-05-26T07:26:32.114987Z"
                },
                "namespace": null,
                "tags": null
              },
              {
                "description": "CBA",
                "isDeleted": false,
                "isSharable": false,
                "key": "test1",
                "latestVersion": 1,
                "metadata": {
                  "createdAt": "2025-05-26T07:15:08.987252Z",
                  "updatedAt": "2025-05-26T08:05:17.051658Z"
                },
                "namespace": null,
                "tags": null
              }
            ],
            "totalCount": 3
          }
        }
      }
    }
    ```
  </Collapser>

  <Collapser id="grant-access-sharable-secret" title="Otorgar acceso a un secreto compartible">
    Después de crear un secreto compartible, puede otorgar permisos específicos a usuarios, grupos, identidades del sistema o grupos de identidades del sistema. Utilice la mutación `authorizationManagementGrantAccess` para compartir su secreto con las entidades autorizadas.

    <Callout variant="important">
      El propietario del secreto (creador), los administradores de la organización o los usuarios con la capacidad `secret.create.grants` pueden otorgar acceso a un secreto compartible.
    </Callout>

    #### Atributos de entrada

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            **Nombre del atributo**
          </th>

          <th style={{ width: "200px" }}>
            **Tipo de datos**
          </th>

          <th>
            **Descripción**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `grantAccessOptions` (Requerido)
          </td>

          <td>
            Objeto
          </td>

          <td>
            Contiene la configuración de otorgamiento con dos componentes principales:

            * `entityAccessGrants`: Define el secreto y el rol a otorgar
            * `grantee`: Especifica quién recibe acceso
          </td>
        </tr>

        <tr>
          <td>
            `entityAccessGrants.entity.id` (Requerido)
          </td>

          <td>
            Cadena
          </td>

          <td>
            El ID único del secreto. El formato es `namespace::partition::entry_key_secret`.

            Por ejemplo, si creó un secreto con la clave `prod-api-key` en la cuenta `12345` con el espacio de nombres `production`, el ID de la entidad es: `production::account-12345::prod-api-key`. Si no se proporcionó ningún espacio de nombres, use una cadena vacía: `::account-12345::prod-api-key`.
          </td>
        </tr>

        <tr>
          <td>
            `entityAccessGrants.entity.type` (Requerido)
          </td>

          <td>
            Cadena
          </td>

          <td>
            El tipo de entidad. Para los secretos, esto es siempre `secret`.
          </td>
        </tr>

        <tr>
          <td>
            `entityAccessGrants.roleId` (Requerido)
          </td>

          <td>
            Cadena
          </td>

          <td>
            El ID único del rol a otorgar. Para encontrar los ID de rol disponibles, utilice el explorador de la API de NerdGraph para consultar los roles con el alcance `secret`. Los roles comunes incluyen Propietario del secreto (control total) y Lector del secreto (acceso de solo lectura).
          </td>
        </tr>

        <tr>
          <td>
            `grantee.id` (Requerido)
          </td>

          <td>
            Cadena
          </td>

          <td>
            El ID único del usuario, grupo, identidad del sistema o grupo de identidad del sistema que recibe acceso.
          </td>
        </tr>

        <tr>
          <td>
            `grantee.type` (Requerido)
          </td>

          <td>
            Enumeración
          </td>

          <td>
            El tipo de beneficiario. Valores válidos:

            * `USER`: Usuario individual
            * `GROUP`: Grupo de usuarios
            * `SYSTEM_IDENTITY`: Identidad del sistema (para procesos automatizados)
            * `SYSTEM_IDENTITY_GROUP`: Grupo de identidad del sistema
          </td>
        </tr>
      </tbody>
    </table>

    #### Consulta de ejemplo:

    ```graphql
    mutation {
      authorizationManagementGrantAccess(
        grantAccessOptions: {
          entityAccessGrants: {
            entity: {
              id: "production::account-1::prod-api-key",
              type: "secret"
            },
            roleId: "role-id-for-secret-reader"
          },
          grantee: {
            id: "system-identity-id-abc123",
            type: SYSTEM_IDENTITY
          }
        }
      ) {
        roles {
          id
          roleId
        }
      }
    }
    ```

    ### Respuesta

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            **Nombre del atributo**
          </th>

          <th>
            **Descripción**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `roles`
          </td>

          <td>
            Una matriz de asignaciones de roles creadas por la operación de otorgamiento, que incluye:

            * `id`: El identificador único de la concesión
            * `roleId`: El ID de rol que se otorgó
          </td>
        </tr>
      </tbody>
    </table>

    #### Respuesta de ejemplo:

    ```json
    {
      "data": {
        "authorizationManagementGrantAccess": {
          "roles": [
            {
              "id": "grant-id-xyz789",
              "roleId": "role-id-for-secret-reader"
            }
          ]
        }
      }
    }
    ```

    <Callout variant="tip">
      Para revocar el acceso a un secreto compartible, use la mutación `authorizationManagementRevokeAccess`.
    </Callout>
  </Collapser>

  <Collapser id="revoke-access-sharable-secret" title="Revocar el acceso a un secreto compartible">
    Use la mutación `authorizationManagementRevokeAccess` para revocar el acceso de usuarios, grupos, identidades del sistema o grupos de identidades del sistema a los que se les otorgó acceso previamente a su secreto compartible.

    <Callout variant="important">
      El propietario del secreto (creador), los administradores de la organización o los usuarios con el permiso de revocación adecuado pueden eliminar el acceso a un secreto compartible.
    </Callout>

    #### Atributos de entrada

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            **Nombre del atributo**
          </th>

          <th style={{ width: "200px" }}>
            **Tipo de datos**
          </th>

          <th>
            **Descripción**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `grantAccessOptions` (Requerido)
          </td>

          <td>
            Objeto
          </td>

          <td>
            Contiene la configuración de revocación con la misma estructura que la operación de otorgamiento.
          </td>
        </tr>

        <tr>
          <td>
            `entityAccessGrants.entity.id` (Requerido)
          </td>

          <td>
            Cadena
          </td>

          <td>
            El ID único del secreto en el formato `namespace::partition::entry_key_secret`.
          </td>
        </tr>

        <tr>
          <td>
            `entityAccessGrants.entity.type` (Requerido)
          </td>

          <td>
            Cadena
          </td>

          <td>
            El tipo de entidad. Para los secretos, esto es siempre `secret`.
          </td>
        </tr>

        <tr>
          <td>
            `entityAccessGrants.roleId` (Requerido)
          </td>

          <td>
            Cadena
          </td>

          <td>
            El ID único del rol a revocar.
          </td>
        </tr>

        <tr>
          <td>
            `grantee.id` (Requerido)
          </td>

          <td>
            Cadena
          </td>

          <td>
            El ID único del usuario, grupo, identidad del sistema o grupo de identidad del sistema al que se le revocará el acceso.
          </td>
        </tr>

        <tr>
          <td>
            `grantee.type` (Requerido)
          </td>

          <td>
            Enumeración
          </td>

          <td>
            El tipo de beneficiario. Valores válidos: `USER`, `GROUP`, `SYSTEM_IDENTITY`, `SYSTEM_IDENTITY_GROUP`.
          </td>
        </tr>
      </tbody>
    </table>

    #### Consulta de ejemplo:

    ```graphql
    mutation {
      authorizationManagementRevokeAccess(
        grantAccessOptions: {
          entityAccessGrants: {
            entity: {
              id: "production::account-12345::prod-api-key",
              type: "secret"
            }
            roleId: "role-id-for-secret-reader"
          }
          grantee: {
            id: "system-identity-id-abc123",
            type: SYSTEM_IDENTITY
          }
        }
      ) {
        roles {
          id
          roleId
        }
      }
    }
    ```

    ### Respuesta

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            **Nombre del atributo**
          </th>

          <th>
            **Descripción**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `roles`
          </td>

          <td>
            Una matriz de información de roles relacionada con la concesión revocada.
          </td>
        </tr>
      </tbody>
    </table>

    #### Respuesta de ejemplo:

    ```json
    {
      "data": {
        "authorizationManagementRevokeAccess": {
          "roles": [
            {
              "id": "grant-id-xyz789",
              "roleId": "role-id-for-secret-reader"
            }
          ]
        }
      }
    }
    ```
  </Collapser>

  <Collapser id="list-access-sharable-secret" title="Enumere quién tiene acceso a un secreto compartible">
    Use la consulta `customerAdministration/entityGrants` para ver qué usuarios, grupos, identidades del sistema o grupos de identidades del sistema han recibido acceso a su secreto compartible.

    <Callout variant="tip">
      Esta consulta devuelve solo las concesiones explícitas realizadas directamente en el secreto. No muestra el acceso implícito ni los permisos heredados de los ámbitos principales.
    </Callout>

    #### Atributos de entrada

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            **Nombre del atributo**
          </th>

          <th style={{ width: "200px" }}>
            **Tipo de datos**
          </th>

          <th>
            **Descripción**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `iamParent.id` (Requerido)
          </td>

          <td>
            Cadena
          </td>

          <td>
            El ID de la cuenta u organización donde se almacena el secreto.
          </td>
        </tr>

        <tr>
          <td>
            `iamParent.scope` (Requerido)
          </td>

          <td>
            Enumeración
          </td>

          <td>
            El tipo de ámbito principal. Valores válidos: `ACCOUNT`, `ORGANIZATION`.
          </td>
        </tr>

        <tr>
          <td>
            `entity.id` (Opcional)
          </td>

          <td>
            Cadena
          </td>

          <td>
            El ID único del secreto en el formato `namespace::partition::entry_key_secret`. Cuando se proporciona, solo se devuelven las concesiones para este secreto específico.
          </td>
        </tr>

        <tr>
          <td>
            `entity.type` (Requerido)
          </td>

          <td>
            Cadena
          </td>

          <td>
            El tipo de entidad. Para los secretos, esto es siempre `secret`.
          </td>
        </tr>

        <tr>
          <td>
            `member.id` (Opcional)
          </td>

          <td>
            Cadena
          </td>

          <td>
            Filtrar las concesiones por el ID de un usuario, grupo, identidad del sistema o grupo de identidades del sistema específicos.
          </td>
        </tr>

        <tr>
          <td>
            `member.type` (Opcional)
          </td>

          <td>
            Enumeración
          </td>

          <td>
            El tipo de miembro por el que filtrar. Valores válidos: `USER`, `GROUP`, `SYSTEM_IDENTITY`, `SYSTEM_IDENTITY_GROUP`.
          </td>
        </tr>
      </tbody>
    </table>

    #### Consulta de ejemplo:

    ```graphql
    {
      customerAdministration {
        entityGrants(
          filter: {
            iamParent: {
              id: { eq: "12345" }
              scope: { eq: ACCOUNT }
            }
            entity: {
              id: { eq: "production::account-12345::prod-api-key" }
              type: { eq: "secret" }
            }
          }
          cursor: ""
        ) {
          items {
            targetEntity {
              id
            }
            member {
              memberId
              memberType
            }
            id
            role {
              name
              id
            }
          }
          nextCursor
        }
      }
    }
    ```

    ### Respuesta

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            **Nombre del atributo**
          </th>

          <th>
            **Descripción**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `items`
          </td>

          <td>
            Una matriz de objetos de concesión, cada uno de los cuales contiene:

            * `targetEntity.id`: El ID de entidad del secreto
            * `member.memberId`: El ID del usuario, grupo, identidad del sistema o grupo de identidad del sistema
            * `member.memberType`: El tipo de miembro (USUARIO, GRUPO, IDENTIDAD\_DEL\_SISTEMA o GRUPO\_DE\_IDENTIDAD\_DEL\_SISTEMA)
            * `id`: El identificador único de la concesión (utilice esto para revocar el acceso)
            * `role.name`: El nombre del rol otorgado
            * `role.id`: El identificador único del rol
          </td>
        </tr>

        <tr>
          <td>
            `nextCursor`
          </td>

          <td>
            El valor del cursor para la paginación. Use este valor en la siguiente consulta para recuperar resultados adicionales.
          </td>
        </tr>
      </tbody>
    </table>

    #### Respuesta de ejemplo:

    ```json
    {
      "data": {
        "customerAdministration": {
          "entityGrants": {
            "items": [
              {
                "targetEntity": {
                  "id": "production::account-12345::prod-api-key"
                },
                "member": {
                  "memberId": "system-identity-id-abc123",
                  "memberType": "SYSTEM_IDENTITY"
                },
                "id": "grant-id-xyz789",
                "role": {
                  "name": "Secret Reader",
                  "id": "role-id-for-secret-reader"
                }
              }
            ],
            "nextCursor": null
          }
        }
      }
    }
    ```
  </Collapser>
</CollapserGroup>

## Temas relacionados [#related-topics]

<DocTiles>
  <DocTile title="Introducción a NerdGraph" path="/docs/apis/nerdgraph/get-started/introduction-new-relic-nerdgraph">
    Comience a usar la API GraphQL de New Relic
  </DocTile>

  <DocTile title="Explorador de API NerdGraph" path="/docs/apis/nerdgraph/get-started/nerdgraph-explorer">
    Utilice el explorador de la API NerdGraph para probar consultas y mutaciones
  </DocTile>

  <DocTile title="Administrar grupos de usuarios" path="/docs/apis/nerdgraph/examples/nerdgraph-manage-groups">
    Crear y administrar grupos de usuarios con roles personalizados
  </DocTile>

  <DocTile title="Gestión de secretos para la infraestructura" path="/docs/infrastructure/host-integrations/installation/secrets-management">
    Utilice secretos en la configuración del agente de infraestructura
  </DocTile>
</DocTiles>