---
title: Configurar New Relic MCP
metaDescription: Step-by-step instructions to configure New Relic's Model Context Protocol server with your preferred AI development tools.
freshnessValidatedDate: never
translationType: machine
---

Esta guía le explica cómo configurar el servidor del Protocolo de Contexto de Modelo (MCP) de New Relic con sus herramientas de desarrollo de IA preferidas. Seleccione su entorno a continuación para obtener instrucciones específicas de la plataforma.

<Callout variant="important">
  El uso que usted haga de cualquier herramienta de IA, incluidas pero no limitadas a las que se enumeran en esta página, con los servidores MCP de New Relic AI significa que su IA actuará en su nombre. Al emplear cualquiera de los métodos descritos aquí, cree y emplee cuentas de New Relic apropiadas que tengan RBAC y las licencias de acceso mínimos adecuados para su caso de uso, requisitos y políticas internas.
</Callout>

Antes de comenzar la configuración de New Relic MCP, cerciorar de completar los [requisitos previos](/docs/agentic-ai/mcp/overview#prerequisites), incluida la configuración de autenticación. A continuación, siga las instrucciones para su entorno de desarrollo específico.

## Herramientas de filtrado con include-etiqueta [#filtering-tools]

Las herramientas MCP New Relic están organizadas y categorizadas empleando etiquetas internas (como `alerting`, `discovery` y `data-access`).

Puedes filtrar dinámicamente las herramientas a las que accede tu agente de IA enviando el encabezado `include-tags` `HTTP` con tus requests como se muestra aquí:

<Callout variant="important">
  **Aviso para la región EE. UU./UE:** Los ejemplos de configuración de este tema emplean la URL de conexión MCP de la región EE. UU.: [https://mcp.newrelic.com/mcp/](https://mcp.newrelic.com/mcp/). Si su cuenta New Relic se encuentra en la región de la UE, debe reemplazar esta URL con la región extrema en todos los archivos de configuración y argumentos de línea de comando: [https://mcp.eu.newrelic.com/mcp/](https://mcp.eu.newrelic.com/mcp/).
</Callout>

```json
"servers": {
    "new-relic-mcp-server": {
        "url": "https://mcp.newrelic.com/mcp/",
        "type": "http",
        "headers": {
            "api-key": "NRAK-****",
            "include-tags": "discovery,alerting"
        }
    }
}
```

Para obtener la lista completa de etiquetas disponibles y las herramientas asociadas a cada una, consulte la documentación [de referencia de herramientasNew Relic MCP](/docs/agentic-ai/mcp/tool-reference).

## Configuración del código Claude [#claude-code]

Claude Code admite los métodos de autenticación OAuth (recomendado) y clave de API.

### Método OAuth (recomendado) [#oauth]

1. Cerciorar de tener Claude Code instalado y configurado.
2. Agregue el servidor MCP usando la línea de comando:

```shell
claude mcp add newrelic --transport http https://mcp.newrelic.com/mcp/
```

O bien, edite `~/.claude.json` como se muestra aquí:

```json
{
  "mcpServers": {
    "newrelic": {
      "httpUrl": "https://mcp.newrelic.com/mcp/",
      "oauth": {
        "enabled": true,
        "clientId": "pUWGgnjsQ0bydqCbavTPpw==",
        "authorizationUrl": "https://login.newrelic.com/login",
        "tokenUrl": "https://mcp.newrelic.com/oauth2/token",
        "scopes": ["openid"]
      }
    }
  }
}
```

3. Comienza Claude:

```shell
claude
```

4. Autenticar:

```shell
/mcp
```

5. Seleccione el servidor mcp `newrelic` y presione **ENTER**.

6. Sigue el flujo del navegador `OAuth`.

### clave de método API [#api-key]

1. Agregue el servidor MCP usando la línea de comando:

```shell
claude mcp add newrelic https://mcp.newrelic.com/mcp/ --transport http --header "Api-Key: NRAK-YOUR-KEY-HERE"
```

O bien, edite `~/.claude.json` como se muestra aquí:

```json
{
  "mcpServers": {
    "newrelic": {
      "type": "http",
      "url": "https://mcp.newrelic.com/mcp/",
      "headers": {
        "Api-Key": "NRAK-YOUR-KEY-HERE"
       }
    }
  }
}
```

2. Verifique que el servidor MCP esté en la lista:

```shell
claude mcp list
```

3. Comienza Claude:

```shell
claude
```

## Configuración de escritorio de Claude [#claude-desktop]

Claude Desktop requiere el proxy `mcp-remote` para la autenticación `OAuth`. Asegúrese de tener `Node.js` instalado en su computadora para que npx funcione.

### Método OAuth (recomendado) [#oauth]

1. Crea el directorio de configuración (si es necesario):

```shell
mkdir -p "~/Library/Application Support/Claude"
```

2. Edita el archivo de configuración: `~/Library/Application Support/Claude/claude_desktop_config.json` (macOS) o `%APPDATA%\Claude\claude_desktop_config.json` (Windows).

```json
{
  "mcpServers": {
    "new-relic-mcp": {
      "command": "npx",
      "args": [
        "mcp-remote",
        "https://mcp.newrelic.com/mcp/"
      ]
    }
  }
}
```

3. Resetear el escritorio de Claude.

### clave de método API [#api-key]

1. Agregue el servidor MCP editando `~/Library/Application Support/Claude/claude_desktop_config.json` (macOS) o `%APPDATA%\Claude\claude_desktop_config.json` (Windows) como se muestra aquí:

#### Para macOS

```json
{
  "mcpServers": {
    "newrelic": {
      "command": "npx",
      "args": [
        "-y",
        "mcp-remote",
        "https://mcp.newrelic.com/mcp/",
        "--transport", "http",
        "--header", "api-key: NRAK-xxxx"
      ]
    }
  }
}
```

#### Para Windows

```json
{
  "mcpServers": {
    "newrelic": {
      "command": "C:\\PROGRA~1\\nodejs\\npx.cmd",
      "args": [
        "-y",
        "mcp-remote",
        "https://mcp.newrelic.com/mcp/",
        "--transport", "http",
        "--header", "api-key: NRAK-xxxx"
      ]
    }
  }
}
```

2. Reinicie Claude Desktop. En Windows, los cambios pueden no surtir efecto hasta que la aplicación Claude se cierre a través del Administrador de tareas.

## Equipo de windsurf [#windsurf]

### Método OAuth (a través del proxy remoto mcp) [#oauth]

1. Edita el archivo de configuración, `~/.codeium/windsurf/mcp_config.json`, como se muestra aquí:

```json
{
  "mcpServers": {
    "newrelic-oauth": {
      "command": "npx",
      "args": [
        "-y",
        "mcp-remote",
        "https://mcp.newrelic.com/mcp/"
      ]
    }
  }
}
```

2. Resetear el windsurf.

3. Compruebe los servidores MCP empleando el icono del martillo en el panel Cascade.

### clave de método API [#api-key]

1. Agregue el servidor MCP editando `~/.codeium/windsurf/mcp_config.json` como se muestra aquí:

```json
{
  "mcpServers": {
    "newrelic-api": {
      "serverUrl": "https://mcp.newrelic.com/mcp/",
      "headers": {
        "api-key": "NRAK-YOUR-API-KEY"
      }
    }
  }
}
```

2. Resetear el windsurf.

## Configuración de la CLI de Gemini [#gemini-cli]

### Método OAuth [#oauth]

1. Edite el archivo de configuración: `~/.gemini/settings.json` (Linux/macOS) o `%APPDATA%\Gemini\settings.json` (Windows).

```json
{
  "theme": "Default",
  "selectedAuthType": "oauth-personal",
  "mcpServers": {
    "newrelic": {
      "httpUrl": "https://mcp.newrelic.com/mcp/",
      "oauth": {
        "enabled": true,
        "clientId": "pUWGgnjsQ0bydqCbavTPpw==",
        "authorizationUrl": "https://login.newrelic.com/login",
        "tokenUrl": "https://mcp.newrelic.com/oauth2/token",
        "scopes": ["openid"]
      }
    }
  }
}
```

2. Inicie la CLI de Gemini:

```shell
gemini
```

3. Autenticar:

```shell
/mcp auth newrelic
```

### clave de método API [#api-key]

1. Agregue el servidor MCP editando `~/.gemini/settings.json` (Linux/macOS) o `%APPDATA%\Gemini\settings.json` (Windows) como se muestra aquí:

```json
{
  "theme": "Default",
  "selectedAuthType": "oauth-personal",
  "mcpServers": {
    "newrelic": {
      "url": "https://mcp.newrelic.com/mcp/",
      "headers": {
        "api-key": "NRAK-YOUR-KEY-HERE"
      }
    }
  }
}
```

2. Inicie la CLI de Gemini:

```shell
gemini
```

3. Autenticar:

```shell
/mcp auth newrelic
```

## Configuración de VS Code [#vs-code]

VS Code sigue siendo totalmente compatible con ambos métodos de autenticación. Necesitas VS Code (versión 1.60 o posterior).

### Método OAuth [#oauth]

Agregue el servidor MCP editando `.vscode/mcp.json` como se muestra aquí:

```json
{
  "servers": {
    "new-relic-mcp": {
      "url": "https://mcp.newrelic.com/mcp/",
      "type": "http"
    }
  }
}
```

### clave de método API [#api-key]

Agregue el servidor MCP editando `.vscode/mcp.json` como se muestra aquí:

```json
{
  "servers": {
    "new-relic-mcp": {
      "url": "https://mcp.newrelic.com/mcp/",
      "headers": {
        "api-key": "NRAK-YOUR-API-KEY-HERE"
      }
    }
  }
}
```

### Pasos de configuración

1. Crea o abre `mcp.json` en tu espacio de trabajo de VS Code:

* Si no tienes un directorio `.vscode`, crea uno en la raíz de tu proyecto.

  * Dentro de `.vscode`, cree un archivo llamado `mcp.json`.
  * Agrega tu configuración de autenticación empleando uno de los métodos anteriores.

2. Iniciar servidor:

   * Cerciorar de que su archivo `mcp.json` esté abierto en el editor.
   * Busque un enlace en el que se pueda hacer clic (CodeLens) encima de la configuración de su servidor. Haz clic para iniciar el servidor MCP.

Una vez conectado, puedes interactuar con New Relic AI empleando símbolos de lenguaje natural. El servidor MCP gestionará la autenticación y la recuperación de datos de su cuenta de New Relic.