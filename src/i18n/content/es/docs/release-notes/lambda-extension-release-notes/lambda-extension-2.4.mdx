---
subject: Lambda-Extension
releaseDate: '2025-12-02'
version: 2.4.0
translationType: machine
---

## Lanzamiento principal: Reescritura a Rust

Reescritura completa de la extensión Lambda de New Relic de `Go (v2.3.24`) a **Rust** para mejorar el rendimiento, la seguridad de la memoria y reducir los tiempos de inicio en frío.

## Nueva característica

* **Soporte de modoAPM **: función Lambda ahora puede reportar directamente a la plataforma New Relic APM como aplicación entidad

  * Habilitar con `NEW_RELIC_APM_LAMBDA_MODE=true`
  * Soporte completo para métrica, spans, errores, eventos y traza de la transacción.
  * Logs de plataforma convertidos a APM métrica (`apm.lambda.transaction.*`)
  * Evento de error mejorado para tiempos de espera y fallos con contexto de rastreo distribuido
  * Consulte [la documentación del modo APM](https://docs.newrelic.com/docs/serverless-function-monitoring/aws-lambda-monitoring/instrument-lambda-function/upgrade-to-apm-experience/) para obtener más detalles.

* **Procesamiento con alcance de solicitud**: correlación de carga útil mejorada y gestión del ciclo de vida

* **Gestión inteligente de búfer**: gestiona la carga del agente que llega antes del contexto de la solicitud con limpieza automática

## Mejoras de rendimiento

* **Arranques en frío más rápidos**: compilación Rust optimizada con dependencia mínima y LTO
* **Uso reducido de memoria**: Huella de memoria reducida con abstracciones de costo cero
* **Procesamiento Concurrente**: Procesamiento paralelo de logs, plataforma métrica y agente telemetría
* **Agrupación de conexiones**: reutilización de la conexión del cliente HTTP en todas las invocaciones

## Seguridad y confiabilidad

* **Seguridad de la memoria**: el sistema de propiedad de Rust evita fugas de memoria y desbordamientos de búfer.
* **Seguridad contra pánico**: el controlador de pánico global evita que Lambda se bloquee debido a errores de extensión
* **Seguridad de tipos**: las garantías en tiempo de compilación eliminan clases enteras de errores de tiempo de ejecución

## Cambios técnicos

* Migrado de Go `v1.23` a Rust edición 2021
* Construido sobre el entorno de ejecución asíncrono de Tokio
* AWS SDK v1 para Rust (AWS-config 1.8, AWS-sdk-secretsmanager 1.88, AWS-sdk-ssm 1.93)
* Arquitectura modular con clara separación de preocupaciones

## Configuración

Todas las variables de entorno existentes permanecen sin cambios para garantizar la compatibilidad con versiones anteriores. Variables clave:

* `NEW_RELIC_LICENSE_KEY`: Clave de licencia de New Relic
* `NEW_RELIC_APM_LAMBDA_MODE`: Habilitar el modo APM (predeterminado: false)
* `NEW_RELIC_EXTENSION_SEND_FUNCTION_LOGS`: Enviar logs de funciones (predeterminado: false)
* `NEW_RELIC_LAMBDA_LOG_LEVEL`:La extensión nivel de logs admite un control más granular con `info`, `debug`, `warn`, `error`, `trace`, `all`

Detalles completos de configuración en el [README](https://github.com/newrelic/newrelic-lambda-extension/blob/2a5c012f5082d2f8f056252e87d2d3eecad5479a/README.md).

## Notas de migración

* **Reemplazo directo**: no se requieren cambios de código para los usuarios existentes
* **Variables de entorno**: toda la configuración permanece igual
* **Compatibilidad binaria**: mantiene la compatibilidad con el agente New Relic existente
* **Rendimiento**: Espere arranques en frío entre un 20 y un 40% más rápidos y un menor uso de memoria

***

## \[2.3.24] - Implementación de Go (legado)

Última versión basada en Go antes de la migración a Rust. Mantenido para referencia y soporte legacy.