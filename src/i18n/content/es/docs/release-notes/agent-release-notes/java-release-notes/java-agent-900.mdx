---
subject: Java agent
releaseDate: '2026-01-14'
version: 9.0.0
downloadLink: 'https://download.newrelic.com/newrelic/java-agent/newrelic-agent/9.0.0/'
features:
  - “Config to delete stale agent temp jars”
  - “Inclusion option for selectively instrumenting applications”
bugs:
  - “Fix IllegalAccessError in AWS S3 Instrumentation”
  - “Fix mislabeled instrumentation version for logback-class-1.5.20”
  - “Fix logging message for max attribute value”
  - “Correct Otel-style Sampler priorities”
security: []
translationType: machine
---

<ButtonGroup>
  <ButtonLink role="button" to="https://download.newrelic.com/newrelic/java-agent/newrelic-agent/9.0.0/" variant="primary">
    Descargar esta versión del agente
  </ButtonLink>
</ButtonGroup>

## Nuevas características y mejoras

* Agregar configuración para eliminar los archivos jar temporales del agente obsoletos al inicio por @jtduffy en [2676](https://github.com/newrelic/newrelic-java-agent/pull/2676)
* Añada la opción de &quot;inclusión&quot; para complementar la configuración de exclusión para instrumentar selectivamente aplicaciones @jtduffy en [2638](https://github.com/newrelic/newrelic-java-agent/pull/2638)
  * Para usar esta función, configure la variable de entorno `NEW_RELIC_STARTUP_JAVA_ARTIFACT_INCLUDES` o la propiedad del sistema `newrelic.config.startup_java_artifact_includes`. Especifique los artefactos que deben instrumentarse como una lista separada por comas.

## Correcciones

* Resuelve IllegalAccessError moviendo la clase wrapper fuera de S3AsyncClient\_Instrumentation por @jtduffy en [2503](https://github.com/newrelic/newrelic-java-agent/pull/2503)
* Corregir la versión de instrumentación mal etiquetada en los eventos de log en logback-classic-1.5.20 por @jasonjkeller en [2594](https://github.com/newrelic/newrelic-java-agent/pull/2594)
* Mensaje de logging fijo para el valor máximo del atributo por @jeffalder en [2680](https://github.com/newrelic/newrelic-java-agent/pull/2680)
* Se corrigieron las prioridades del muestreador de Trace Ratio por @jtduffy en [2583](https://github.com/newrelic/newrelic-java-agent/pull/2583)

## Eliminaciones

* Elimina los módulos jdbc-inet-\* obsoletos por @obenkenobi en [2572](https://github.com/newrelic/newrelic-java-agent/pull/2572)
* Elimina el obsoleto java.completable-future-jdk8 instrumentación de @obenkenobi en [2562](https://github.com/newrelic/newrelic-java-agent/pull/2562)
* Elimina la instrumentación de ajuste de AWS por @obenkenobi en [2567](https://github.com/newrelic/newrelic-java-agent/pull/2567)
* Elimina el módulo jdbc-sybase-6 por @obenkenobi en [2614](https://github.com/newrelic/newrelic-java-agent/pull/2614)
* Elimina la instrumentación de play 2.3 por @obenkenobi en [2568](https://github.com/newrelic/newrelic-java-agent/pull/2568)
* Elimina la versión obsoleta thrift-0.8 módulo de @obenkenobi en [2569](https://github.com/newrelic/newrelic-java-agent/pull/2569)
* Elimina los módulos solr 4.0 y 5.0 obsoletos por @obenkenobi en [2570](https://github.com/newrelic/newrelic-java-agent/pull/2570)
* Elimina el módulo obsoleto grails-1.3 por @obenkenobi en [2573](https://github.com/newrelic/newrelic-java-agent/pull/2573)
* Elimina el módulo obsoleto hibernate-3.3 por @obenkenobi en [2574](https://github.com/newrelic/newrelic-java-agent/pull/2574)
* Elimina la API de inyección de pie de página obsoleta por @sharvath-newrelic en [2620](https://github.com/newrelic/newrelic-java-agent/pull/2620)
* Elimina los pointcuts de Struts 1 obsoletos por @obenkenobi en [2561](https://github.com/newrelic/newrelic-java-agent/pull/2561)
* Elimina el módulo glassfish-3 obsoleto por @sharvath-newrelic en [2575](https://github.com/newrelic/newrelic-java-agent/pull/2575)
* Elimina los módulos obsoletos rabbit-amqp 2.5.0, 2.4.1, 1.7.2 por @obenkenobi en [2571](https://github.com/newrelic/newrelic-java-agent/pull/2571)
* Elimina la función de marcador de implementación por @jtduffy en [2589](https://github.com/newrelic/newrelic-java-agent/pull/2589)

## Actualizar a la última versión [#procedures]

Para identificar qué versión del agente de Java estás usando actualmente, ejecuta `java -jar newrelic.jar -v`. Su versión de agente de Java se imprimirá en su consola.

Luego, para actualizar a la última versión del agente de Java:

1. Haga una copia de seguridad **de todo** el [directorio raíz del agente de Java ](/docs/agents/manage-apm-agents/troubleshooting/find-agent-root-directory#java-agent)en otra ubicación. Cambie el nombre de ese directorio a `NewRelic_Agent#.#.#`, donde `#.#.#` es el número de versión del agente.
2. [Descargar el agente.](/docs/release-notes/agent-release-notes/java-release-notes).
3. Descomprima el archivo de descarga del nuevo agente y luego copie `newrelic-api.jar` y `newrelic.jar` en el [directorio raíz del agente de Java](/docs/agents/manage-apm-agents/troubleshooting/find-agent-root-directory#java-agent) original.
4. Compare su `newrelic.yml` antiguo con el `newrelic.yml` recién descargado del zip y [actualice el archivo si es necesario](#diff).
5. Reinicie su despachador de Java.

Si tiene problemas después de la actualización del agente de Java, restaure desde el directorio del agente New Relic respaldado.

## Actualizar diferencias de configuración del agente [#diff]

Agregamos nuevas configuraciones a `newrelic.yml` a medida que lanzamos nuevas versiones del agente. Puede usar `diff` u otra utilidad de diferenciación para ver qué ha cambiado y agregar la nueva configuración a su archivo anterior. Asegúrese de no sobrescribir ninguna personalización que haya realizado en el archivo, como su clave de licencia, el nombre de la aplicación o los cambios en la configuración predeterminada.

Por ejemplo, si `diff` los archivos `newrelic.yml` predeterminados para las versiones 7.10.0 y 7.11.0 del agente de Java , los resultados impresos en la consola serán como:

```yaml
➜ diff newrelic_7.10.0.yml newrelic_7.11.0.yml
...
107a108,119
>       # Whether the log events should include context from loggers with support for that.
>       context_data:
>
>         # When true, application logs will contain context data.
>         enabled: false
>
>         # A comma separated list of attribute keys whose values should be sent to New Relic.
>         #include:
>
>         # A comma separated list of attribute keys whose values should not be sent to New Relic.
>         #exclude:
>
125a138
>
128c141
<     enabled: false
---
>     enabled: true
...
```

En este ejemplo, estas líneas se agregaron al valor predeterminado `newrelic.yml` en el agente de Java versión 7.11.0. Si está migrando a la versión 7.11.0 o superior, debe agregar estas nuevas líneas a su `newrelic.yml` original.

## Declaración de apoyo:

* New Relic recomienda que actualices el agente periódicamente para garantizar que obtengas las últimas características y beneficios de rendimiento. Además, las versiones anteriores ya no recibirán soporte cuando lleguen [al final de su vida útil](https://docs.newrelic.com/docs/using-new-relic/cross-product-functions/install-configure/notification-changes-new-relic-saas-features-distributed-software/).