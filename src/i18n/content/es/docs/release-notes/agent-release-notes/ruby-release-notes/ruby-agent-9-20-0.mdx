---
subject: Ruby agent
releaseDate: '2025-07-31'
version: 9.20.0
downloadLink: 'https://rubygems.org/downloads/newrelic_rpm-9.20.0.gem'
features:
  - Add ECS Docker ID for Fargate
  - 'Add NewRelic::Helper.version_satisfied?'
  - Add code.stacktrace attribute on datastore spans when duration exceeds configured threshold
  - Consolidate "Unknown" constant values
bugs:
  - Fix Brewfile source links
  - Fix error when using HTTPX 1.5.0
  - Bugfixes and improvements to debug level agent logs
  - Fix risk of server-side forgery for Slack workflow script
  - Replace JSON.load calls with JSON.parse
security: []
translationType: machine
---

<Callout variant="important">
  Recomendamos actualizar a la última versión del agente tan pronto como esté disponible. Si no puede actualizar a la última versión, actualice su agente a una versión que no tenga más de 90 días de antigüedad. Obtenga más información sobre [cómo mantener al agente actualizado](/docs/new-relic-solutions/new-relic-one/install-configure/update-new-relic-agent/).

  Consulte la New Relic Ruby [política](https://docs.newrelic.com/docs/apm/agents/ruby-agent/getting-started/ruby-agent-eol-policy/) de fin de vida del agente para obtener información sobre los lanzamientos del agente y las fechas de soporte.
</Callout>

## v9.20.0

* **Característica: Agregar ID Docker de ECS para Fargate**

  Anteriormente, el agente Ruby no registraba el ID de Docker cuando se ejecutaba en un entorno AWS ECS Fargate. El ID de Docker ahora se registrará correctamente. [PR#3172](https://github.com/newrelic/newrelic-ruby-agent/pull/3172)

* **Característica: Agregar NewRelic::Helper.version\_satisfied?**

  El agente tiene un nuevo método auxiliar para simplificar la comparación de versiones. `NewRelic::Helper.version_satisfied?` acepta tres argumentos: un número de versión del lado izquierdo, el operador de comparación como una cadena y un número de versión del lado derecho. Nuestro agradecimiento a [@kekke-n](https://github.com/kekke-n) por esta contribución. [PR#3182](https://github.com/newrelic/newrelic-ruby-agent/pull/3182)

* **Característica: Agregue el atributo code.stacktrace en los intervalos de almacenamiento de datos cuando la duración excede el umbral configurado**

  El agente ahora agregará el atributo `code.stacktrace` a los intervalos de almacenamiento de datos cuando la duración exceda el umbral configurado. El umbral se configura mediante la opción de configuración `transaction_tracer.stack_trace_threshold`. [PR#3220](https://github.com/newrelic/newrelic-ruby-agent/pull/3220)

* **Característica: consolidar valores constantes &quot;desconocidos&quot;**

  Todas las referencias a los distintos estilos de capitalización para &quot;Desconocido&quot; se consolidaron en dos constantes: `NewRelic::UNKNOWN` y `NewRelic::UNKNOWN_LOWER`. ¡Gracias, [@tsubasa1122](https://github.com/@tsubasa1122), por tu contribución! [PR#3185](https://github.com/newrelic/newrelic-ruby-agent/pull/3185)

* **Corrección de errores: Se corrigen los enlaces de origen de Brewfile**

  Anteriormente, los enlaces del README del multiverso al Brewfile estaban rotos. ¡Nuestro agradecimiento a [@emmanuel-ferdman](https://github.com/emmanuel-ferdman) por enviar un PR para solucionarlos! [PR#3191](https://github.com/newrelic/newrelic-ruby-agent/pull/3191)

* **Corrección de errores: Se corrige el error al usar HTTPX 1.5.0**

  El agente encontró anteriormente un error al usar la nueva versión HTTPX 1.5.0. Esto se debió a un cambio en la forma en que HTTPX almacena la respuesta. El agente se actualizó para manejar este cambio correctamente y ya no encuentra un error al usar HTTPX 1.5.0. [PR#3203](https://github.com/newrelic/newrelic-ruby-agent/pull/3203)

* **Corrección de errores: Correcciones de errores y mejoras en los registros del agente de nivel de depuración**

  Mejora la información registrada en el nivel de depuración por el agente cuando el agente lee una fuente de configuración. [PR#3221](https://github.com/newrelic/newrelic-ruby-agent/pull/3221)

* **Corrección de errores: Se solucionó el riesgo de falsificación del lado del servidor para el script de flujo de trabajo de Slack.**

  Internamente, realizamos un seguimiento de las gemas que se lanzan mediante un flujo de trabajo de acciones de GitHub que publica actualizaciones en Slack. \[@odaysec] identificó una forma en la que podríamos reducir el riesgo de falsificación del lado del servidor para este flujo de trabajo. ¡Gracias! [PR#3184](https://github.com/newrelic/newrelic-ruby-agent/pull/3184)

* **Corrección de errores: Reemplazar las llamadas JSON.load con JSON.parse**

  En general, JSON.parse se considera más seguro que JSON.load. ¡Gracias, [@odaysec](https://github.com/odaysec), por informarnos sobre esto! [PR#3183](https://github.com/newrelic/newrelic-ruby-agent/pull/3183) [PR#3230](https://github.com/newrelic/newrelic-ruby-agent/pull/3230)