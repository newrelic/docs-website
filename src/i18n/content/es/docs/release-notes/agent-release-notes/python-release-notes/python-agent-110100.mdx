---
subject: Python agent
releaseDate: '2025-11-03'
version: 11.1.0
downloadLink: 'https://pypi.python.org/pypi/newrelic'
features:
  - Add new environment variables for attribute filter settings
  - Add support for async generators in transaction decorators
  - Add support for additional models in AWS Bedrock
  - Add instrumentation for new methods in AWS Kinesis
  - Add support for Python 3.14
bugs:
  - Fix a bug in aiomysql which caused RecursionError when using ConnectionPool
  - Fix a bug where properties were not properly passed in the producer for kombu
  - Fix an error when shutdown_agent is called from within the harvest thread
translationType: machine
---

## Notas

Esta versión del agente Python agrega soporte Python 3.14, nuevas variables de entorno para la configuración de filtros de atributos, soporte para generadores asíncronos en decoradores de transacciones, modelos adicionales en [AWS Bedrock](https://aws.amazon.com/bedrock/) y nuevos métodos en [AWS Kinesis](https://aws.amazon.com/kinesis/). Esta versión también corrige un error en [aiomysql](https://pypi.org/project/aiomysql/) que causaba `RecursionError` al usar `ConnectionPool` cuando estaba envuelto varias veces, un error donde las propiedades no se pasaban correctamente en el productor de [kombu](https://pypi.org/project/kombu/) y un error cuando se llama a `shutdown_agent` desde dentro del hilo de cosecha.

Instale el agente usando `easy_install/pip/distribute` a través del [Índice de paquetes de Python](https://pypi.python.org/pypi/newrelic), usando `conda` a través del [Índice de paquetes de Conda-Forge](https://anaconda.org/conda-forge/newrelic), o descárguelo directamente desde el [sitio de descargas de New Relic](https://download.newrelic.com/python_agent/release).

## Característica

* Agregar soporte para Python 3.14

  * Agregar soporte para Python 3.14.

* Agregar variables de entorno para la configuración de filtros de atributos

  * Ahora es posible configurar los siguientes ajustes mediante variables de entorno:

    | configuración Configuración               | Variable ambiental                                  |
    | ----------------------------------------- | --------------------------------------------------- |
    | `attributes.enabled`                      | `NEW_RELIC_ATTRIBUTES_ENABLED`                      |
    | `attributes.exclude`                      | `NEW_RELIC_ATTRIBUTES_EXCLUDE`                      |
    | `attributes.include`                      | `NEW_RELIC_ATTRIBUTES_INCLUDE`                      |
    | `browser_monitoring.attributes.enabled`   | `NEW_RELIC_BROWSER_MONITORING_ATTRIBUTES_ENABLED`   |
    | `browser_monitoring.attributes.exclude`   | `NEW_RELIC_BROWSER_MONITORING_ATTRIBUTES_EXCLUDE`   |
    | `browser_monitoring.attributes.include`   | `NEW_RELIC_BROWSER_MONITORING_ATTRIBUTES_INCLUDE`   |
    | `error_collector.attributes.enabled`      | `NEW_RELIC_ERROR_COLLECTOR_ATTRIBUTES_ENABLED`      |
    | `error_collector.attributes.exclude`      | `NEW_RELIC_ERROR_COLLECTOR_ATTRIBUTES_EXCLUDE`      |
    | `error_collector.attributes.include`      | `NEW_RELIC_ERROR_COLLECTOR_ATTRIBUTES_INCLUDE`      |
    | `span_events.attributes.enabled`          | `NEW_RELIC_SPAN_EVENTS_ATTRIBUTES_ENABLED`          |
    | `span_events.attributes.exclude`          | `NEW_RELIC_SPAN_EVENTS_ATTRIBUTES_EXCLUDE`          |
    | `span_events.attributes.include`          | `NEW_RELIC_SPAN_EVENTS_ATTRIBUTES_INCLUDE`          |
    | `transaction_events.attributes.enabled`   | `NEW_RELIC_TRANSACTION_EVENTS_ATTRIBUTES_ENABLED`   |
    | `transaction_events.attributes.exclude`   | `NEW_RELIC_TRANSACTION_EVENTS_ATTRIBUTES_EXCLUDE`   |
    | `transaction_events.attributes.include`   | `NEW_RELIC_TRANSACTION_EVENTS_ATTRIBUTES_INCLUDE`   |
    | `transaction_segments.attributes.enabled` | `NEW_RELIC_TRANSACTION_SEGMENTS_ATTRIBUTES_ENABLED` |
    | `transaction_segments.attributes.exclude` | `NEW_RELIC_TRANSACTION_SEGMENTS_ATTRIBUTES_EXCLUDE` |
    | `transaction_segments.attributes.include` | `NEW_RELIC_TRANSACTION_SEGMENTS_ATTRIBUTES_INCLUDE` |
    | `transaction_tracer.attributes.enabled`   | `NEW_RELIC_TRANSACTION_TRACER_ATTRIBUTES_ENABLED`   |
    | `transaction_tracer.attributes.exclude`   | `NEW_RELIC_TRANSACTION_TRACER_ATTRIBUTES_EXCLUDE`   |
    | `transaction_tracer.attributes.include`   | `NEW_RELIC_TRANSACTION_TRACER_ATTRIBUTES_INCLUDE`   |

* Agregar soporte para generadores asíncronos en los decoradores de errores

  * Anteriormente, los decoradores de transacción no admitían ser envueltos alrededor de generadores asíncronos. Se agregó esta funcionalidad y las transacciones de generadores asíncronos ahora medirán automáticamente el tiempo de espera del bucle de eventos y otras estadísticas.

* Agregar compatibilidad con modelos adicionales en la instrumentación de AWS Bedrock

  * Actualiza la instrumentación de AWS Bedrock mediante botocore y aiobotocore para admitir los siguientes modelos adicionales.

    * Modelos Claude Sonnet 3+
    * Modelos que tienen como prefijo una región (con reconocimiento de región)

* Agregar instrumentación para los nuevos métodos de Kinesis

  * Agrega instrumentación de botocore para admitir nuevos métodos de AWS Kinesis

    * `describe_account_settings`
    * `update_account_settings`
    * `update_max_record_size`
    * `update_stream_warm_throughput`

## Corrección de errores

* Evitar un error de recursión en el grupo de conexiones de [aiomysql](https://pypi.org/project/aiomysql/)

  * Anteriormente, se generaba un `RecursionError` en [aiomysql](https://pypi.org/project/aiomysql/) al usar conexiones agrupadas. Se crearon cadenas profundas `ObjectProxy` alrededor de las conexiones agrupadas debido al envolvimiento repetido. Esto ya está solucionado.

* Se corrigió un error por el cual las propiedades no se pasaban correctamente al productor de [kombu.](https://pypi.org/project/kombu/)

  * Se corrigió un error por el cual la instrumentación para `kombu.messaging.Producer.publish()` provocaba que las propiedades se anidaran accidentalmente dentro del diccionario, lo que hacía que las propiedades estuvieran en el lugar incorrecto y no fueran leídas por los paquetes posteriores.

* Corregir error al llamar a `shutdown_agent` desde dentro del hilo de cosecha

  * Anteriormente, podía ocurrir un `RuntimeError` cuando se llamaba `shutdown_agent` desde dentro del hilo de cosecha. Esto soluciona ese problema agregando una protección para evitar el fallo.

## Declaración de apoyo

Recomendamos actualizar a la última versión del agente tan pronto como esté disponible. Si no puede actualizar a la última versión, actualice su agente a una versión que no tenga más de 90 días de antigüedad. Obtenga [más información](/docs/new-relic-solutions/new-relic-one/install-configure/update-new-relic-agent/) sobre cómo mantener al agente actualizado.

Consulte la New Relic Python [política](/docs/apm/agents/python-agent/getting-started/python-agent-eol-policy/) de fin de vida del agente para obtener información sobre los lanzamientos del agente y las fechas de soporte.