---
subject: Python agent
releaseDate: '2025-09-25'
version: 11.0.0
downloadLink: 'https://pypi.python.org/pypi/newrelic'
features:
  - Removes support for Python 3.7
  - Removes and or deprecates various APIs and settings
  - 'Deprecates [aioredis](https://pypi.org/project/aioredis/) instrumentation'
  - Raises the minimum supported version of `setuptools` and `setuptools_scm`
  - 'Adds new instrumentation for [AutoGen](https://github.com/microsoft/autogen)'
  - 'Adds new instrumentation for [Pyzeebe](https://pypi.org/project/pyzeebe/)'
  - Adds new MCP (Model Context Protocol) named spans
bugs:
  - Fixes a crash in psycopg
  - Ensures MCP spans are only recorded when AI monitoring is enabled
translationType: machine
---

## Notas

Esta versión del agente Python realiza los siguientes cambios:

* Elimina la compatibilidad con Python 3.7
* Elimina o desaprueba varias API y configuraciones
* Se desestima la instrumentación [aioredis](https://pypi.org/project/aioredis/)
* Aumenta la versión mínima compatible de `setuptools` y `setuptools_scm`
* Agrega nueva instrumentación para [AutoGen](https://github.com/microsoft/autogen)
* Agrega nueva instrumentación para [Pyzeebe](https://pypi.org/project/pyzeebe/)
* Agrega nuevos intervalos con nombre MCP (Protocolo de contexto de modelo)
* Corrige un fallo en psycopg
* Garantiza que los intervalos de MCP solo se registren cuando el monitoreo de IA está habilitado

Instale el agente usando `easy_install/pip/distribute` a través del [Índice de paquetes de Python](https://pypi.python.org/pypi/newrelic) o descárguelo directamente del [sitio de descarga de New Relic](https://download.newrelic.com/python_agent/release).

## Característica eliminada

* Elimina la compatibilidad con Python 3.7

  * Python 3.7 finalizó su vida útil el 27 de junio de 2023. El agente de Python dejó de brindar soporte para este.

* Elimina varias API obsoletas

  * Se eliminaron las siguientes API:

    | APIheredada                                   | API de reemplazo                                                                                                                                                                  |
    | --------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
    | `accept_distributed_trace_payload`            | [`accept_distributed_trace_headers`](/docs/agents/python-agent/python-agent-api/acceptdistributedtraceheaders-python-agent-api)                                                   |
    | `add_custom_parameter`                        | [`add_custom_attribute`](/docs/apm/agents/python-agent/python-agent-api/addcustomattribute-python-agent-api)                                                                      |
    | `add_custom_parameters`                       | [`add_custom_attributes`](/docs/apm/agents/python-agent/python-agent-api/addcustomattributes-python-agent-api)                                                                    |
    | `create_distributed_trace_payload`            | [`insert_distributed_trace_headers`](/docs/apm/agents/python-agent/python-agent-api/insertdistributedtraceheaders-python-agent-api)                                               |
    | `get_browser_timing_footer`                   | La funcionalidad de esto se incluyó en [`get_browser_timing_header()`](/docs/apm/agents/python-agent/python-agent-api/getbrowsertimingheader-python-agent-api)                    |
    | `record_exception`                            | [`notice_error()`](/docs/agents/python-agent/python-agent-api/notice_error)                                                                                                       |
    | `NewRelicLogHandler`                          | `NewRelicLogForwardingHandler`                                                                                                                                                    |
    | `lambda_handler` &amp; `LambdaHandlerWrapper` | Estas API se trasladaron al paquete [`newrelic-lambda`](/docs/serverless-function-monitoring/aws-lambda-monitoring/instrument-lambda-function/sdk-based-instrumentation/#python). |

* Elimina varias configuraciones obsoletas

  * Se eliminaron las siguientes configuraciones:

    | Configuración heredada                  | Ajuste de reemplazo                                                                                                                                                                                                                                |
    | --------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
    | `transaction_tracer.capture_attributes` | [`transaction_tracer.attributes.enabled`](/docs/apm/agents/python-agent/configuration/python-agent-configuration#cfg-tt-attributes-enabled)                                                                                                        |
    | `error_collector.capture_attributes`    | [`error_collector.attributes.enabled`](/docs/apm/agents/python-agent/configuration/python-agent-configuration#cfg-error-attributes-enabled)                                                                                                        |
    | `browser_monitoring.capture_attributes` | [`browser_monitoring.attributes.enabled`](/docs/apm/agents/python-agent/configuration/python-agent-configuration#cfg-browser-attributes-enabled)                                                                                                   |
    | `analytics_events.enabled`              | [`transaction_events.enabled`](/docs/apm/agents/python-agent/configuration/python-agent-configuration#transaction-events-enabled)                                                                                                                  |
    | `analytics_events.capture_attributes`   | [`transaction_events.attributes.enabled`](/docs/apm/agents/python-agent/configuration/python-agent-configuration#cfg-events-attributes-enabled)                                                                                                    |
    | `error_collector.ignore_errors`         | [`error_collector.ignore_classes`](/docs/apm/agents/python-agent/configuration/python-agent-configuration#error-ignore)                                                                                                                            |
    | `strip_exception_messages.whitelist`    | [`strip_exception_messages.allowlist`](/docs/apm/agents/python-agent/configuration/python-agent-configuration#strip_exception_messages_allowlist)                                                                                                  |
    | `ssl`                                   | Esto ahora está codificado en `true`, por lo que se eliminó como opción de configuración.                                                                                                                                                          |
    | `ignored_params`                        | Emplee `newrelic.attributes.exclude = request.parameters.{name}` en su lugar. Agregue cada clave de parámetro de solicitud a la lista `newrelic.attributes.exclude`, delimitada por comas. Cerciorar de anteponer `request.parameters` a la clave. |
    | `agent_limits.merge_stats_maximum`      | Esto ahora se ignora por completo en favor de la configuración del lado del servidor.                                                                                                                                                              |

## Característica obsoleta

* La instrumentación para [aioredis](https://pypi.org/project/aioredis/) quedó obsoleta

  * El paquete [aioredis](https://pypi.org/project/aioredis/) quedó obsoleto en favor de [redis](https://pypi.org/project/redis/), que ahora incluye el submódulo `redis.asyncio`. Como resultado, la instrumentación para `aioredis` también quedó obsoleta. Emplee la biblioteca `redis` en su lugar. Esta instrumentación se eliminará en una versión futura.

* Desestima algunas configuraciones de recolección existentes para que coincidan con otros agentes de idiomas

  * Para ser más coherentes con las convenciones del otro agente de idioma, las siguientes configuraciones de recolección ahora están obsoletas:

    | Configuración heredada                                    | Ajuste de reemplazo                                                                                                                                                             |
    | --------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
    | `event_harvest_config.harvest_limits.analytic_event_data` | [`transaction_events.max_samples_stored`](/docs/apm/agents/python-agent/configuration/python-agent-configuration#transaction-events-max-samples-stored)                         |
    | `event_harvest_config.harvest_limits.span_event_data`     | [`span_events.max_samples_stored`](/docs/apm/agents/python-agent/configuration/python-agent-configuration#cfg-tt-max-samples-stored)                                            |
    | `event_harvest_config.harvest_limits.error_event_data`    | [`error_collector.max_event_samples_stored`](/docs/apm/agents/python-agent/configuration/python-agent-configuration#error-max-event-samples-stored)                             |
    | `event_harvest_config.harvest_limits.custom_event_data`   | [`custom_insights_events.max_samples_stored`](/docs/apm/agents/python-agent/configuration/python-agent-configuration#custom-insights-events-max-samples-stored)                 |
    | `event_harvest_config.harvest_limits.log_event_data`      | [`application_logging.forwarding.max_samples_stored`](/docs/apm/agents/python-agent/configuration/python-agent-configuration#application-logging-forwarding-max-samples-stored) |

    Esto es una reversión de un cambio anterior que renombró estas configuraciones del formato `*.max_samples_stored` al formato `event_harvest_config.harvest_limits.*`. Se revirtió esta decisión y se restauraron las configuraciones originales nombradas para que coincidan con el otro agente de idioma que no cambió los nombres de estas configuraciones. Las configuraciones obsoletas seguirán funcionando por ahora, pero se eliminarán en una versión futura.

* Desaprobó la configuración del agente a través del diccionario de entorno WSGI

  * Las siguientes configuraciones que antes se podían configurar a través del diccionario de entorno WSGI ahora están obsoletas. Configure estos ajustes a través de las variables de entorno o el archivo de configuración.

    * `newrelic.set_background_task`
    * `newrelic.suppress_apdex_metric`
    * `newrelic.suppress_transaction_trace`
    * `newrelic.capture_request_params`
    * `newrelic.disable_browser_autorum`

* Se desaprueba la compatibilidad con la creación del agente con `setuptools<61.2` o `setuptools_scm<6.4`

  * Las versiones mínimas admitidas de `setuptools` y `setuptools_scm` se aumentaron a `61.2` y `6.4` respectivamente. Esto es para respaldar el uso de `pyproject.toml` para configurar los metadatos del paquete y las instrucciones de construcción. El agente ahora se puede construir con herramientas de construcción más modernas que ya no registrarán advertencias sobre la falta de un archivo `pyproject.toml`.
  * Este cambio agrega un nuevo atributo de versión a los paquetes, `newrelic.__version__` y `newrelic.__version_tuple__`, que se pueden usar para verificar programáticamente la versión del agente en tiempo de ejecución.

## Nueva característica

* Agrega nueva instrumentación para [AutoGen](https://github.com/microsoft/autogen)

  * Agrega instrumentación (spans con nombre y eventos `Llm` personalizados) para agentes y herramientas en [AutoGen](https://github.com/microsoft/autogen)

* Agrega nueva instrumentación para [Pyzeebe](https://pypi.org/project/pyzeebe/)

  * Agrega instrumentación automática y atributo de agente específico frameworkpara [Pyzeebe.](https://pypi.org/project/pyzeebe/)

* Agrega nuevos intervalos con nombre MCP (Protocolo de contexto de modelo)

  * Agrega nuevos intervalos con nombre para las llamadas a la herramienta MCP (Protocolo de contexto de modelo) realizadas a través del administrador de herramientas para admitir HTTP transmitible

## Corrección de errores

* Corrige un fallo en `psycopg>=3.2.0` al llamar `as_string()`

  * Corrige un problema en `psycopg>=3.2.0` donde el método `as_string()` ya no requería argumentos, lo que causaba un posible bloqueo. Esto se solucionó y ahora se admiten ambas firmas de este método.

* Garantiza que los intervalos de MCP (Protocolo de contexto de modelo) solo se registren cuando el monitoreo de IA está habilitado

  * Garantiza que los intervalos MCP (Protocolo de contexto de modelo) solo se registren cuando la configuración `ai_monitoring.enabled` está habilitada.

## Declaración de apoyo

Recomendamos actualizar a la última versión del agente tan pronto como esté disponible. Si no puede actualizar a la última versión, actualice su agente a una versión que no tenga más de 90 días de antigüedad. Obtenga [más información](/docs/new-relic-solutions/new-relic-one/install-configure/update-new-relic-agent/) sobre cómo mantener al agente actualizado.

Consulte la New Relic Python [política](/docs/apm/agents/python-agent/getting-started/python-agent-eol-policy/) de fin de vida del agente para obtener información sobre los lanzamientos del agente y las fechas de soporte.