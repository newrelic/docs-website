---
title: Predicciones de NRQL
tags:
  - Prediction on a chart
  - Forecasting on a chart
  - NRQL Predictions
  - Forecasting
metaDescription: Use NRQL Predictions to predict future trends and potential performance issues.
freshnessValidatedDate: never
translationType: machine
---

<Callout title="avance">
  Todavía estamos trabajando en esta característica, ¡pero nos encantaría que la probaras!

  Esta característica se proporciona actualmente como parte de un programa de vista previa de conformidad con nuestras [políticas de prelanzamiento](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

<DNT>**NRQL Predictions**</DNT> en New Relic emplea los datos históricos de su métrica para predecir tendencias futuras, proporcionando información valiosa sobre cómo podría comportar la métrica en el futuro. Este enfoque proactivo lo ayuda a visualizar tendencias y anticipar problemas potenciales, lo que permite realizar intervenciones oportunas para mantener un rendimiento óptimo del sistema. Si bien <DNT>**NRQL Predictions**</DNT> en sí no identifica problemas potenciales, le proporciona la información necesaria para evaluar tendencias y planear desafíos futuros.

Para la identificación automática de posibles problemas, puedes inscribirte en la función <DNT>**[Predictive Alerts](/docs/query-your-data/explore-query-data/use-charts/nrql-predictions)**</DNT> , actualmente disponible en vista previa pública. <DNT>**Predictive Alerts**</DNT> trabaja junto con <DNT>**NRQL Predictions**</DNT> para activar alertas automáticamente cuando las tendencias proyectadas indican un problema potencial, lo que permite una gestión proactiva de sus sistemas.

## Precios [#pricing]

Su uso de <DNT>**NRQL Predictions**</DNT> se facturará durante la vista previa de acuerdo con su Pedido según corresponda al modelo de precios asociado con su Cuenta. Las consultas de New Relic Language Consulta (NRQLS) relacionadas con el uso de esta característica se facturan como el producto principal de Calcular. Si esta función se vuelve generalmente disponible, su uso será facturable de acuerdo con su Pedido.

Para obtener más detalles sobre los precios, comunicar con nuestro equipo de ventas o consulte su pedido.

## Inscripción [#enrollment]

Para inscribir en la función <DNT>**NRQL Predictions**</DNT> , navegue a <DNT>**[one.newrelic.com &gt; Administration](https://one.newrelic.com/admin-portal) &amp;gt; Preview &amp;amp; Trials**</DNT> y habilite <DNT>**NRQL predictions**</DNT>.

## Agregar predicción en un gráfico de líneas o áreas [#add-prediction]

Puede agregar predicciones a gráficos de líneas y áreas de las siguientes dos maneras:

<CollapserGroup>
  <Collapser id="prediction-on-existing-chart" title="Agregar una predicción a un gráfico existente.">
    Para agregar una predicción a un gráfico existente, siga estos pasos:

    <Steps>
      <Step>
        ### Acceda a un gráfico de líneas o áreas [#access-a-chart]

        1. Vaya a [one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities).
        2. Para agregar una predicción a un gráfico de líneas o áreas, selecciónelo desde <DNT>**Dashboards**</DNT> o ábralo desde <DNT>**Metrics and events**</DNT>.
      </Step>

      <Step>
        ### Agregar predicción [#add-prediction]

        Para agregar predicción, desde el <Icon name="fe-more-horizontal" /> Menú, seleccione <DNT>**Predict trend**</DNT>. En **Data Explorer**, la tendencia de predicción aparece en el gráfico, proyectando tendencias futuras. El rango de predicción se establece automáticamente en el 20% de la ventana de consulta y se resalta en gris. El gráfico aparece en líneas de puntos dentro del rango previsto.

        La palabra clave `PREDICT` se agrega a la consulta del gráfico. Puede [refinar la consulta](#customize-prediction-range) según sus requisitos y ejecutarla para obtener la tendencia actualizada.

        <Callout variant="tip">
          Cuando agrega predicción a un gráfico de área, el tipo de gráfico cambia a un gráfico de líneas con predicción.
        </Callout>
      </Step>

      <Step>
        ### Agregar al dashboard [#add-to-dashboard]

        1. Para agregar el gráfico con predicción a un dashboard, haga clic en <DNT>**Add to dashboard**</DNT>.
        2. Introduzca un nombre para el widget.
        3. Seleccione un dashboard en el que desea agregar el widget o cree un nuevo dashboard para él.

        Ahora puedes ver el gráfico con la predicción en el dashboard seleccionado.
      </Step>
    </Steps>
  </Collapser>

  <Collapser id="use-predict-clause" title="Emplee la cláusula `PREDICT` en una consulta NRQL.">
    Para agregar la cláusula `PREDICT` a una consulta NRQL, siga estos pasos:

    <Steps>
      <Step>
        ### Crear una consulta NRQL [#create-query]

        1. Vaya a [one.newrelic.com](https://one.newrelic.com) y seleccione la cuenta en la que desea crear la consulta.
        2. Para abrir <DNT>**Data Explorer**</DNT>, seleccione <DNT>**Query Your Data**</DNT>.
        3. Redactar una consulta de seriales de tiempo empleando la sintaxis NRQL. Consulte [la documentación de sintaxis NRQL](https://docs.newrelic.com/docs/nrql/nrql-syntax-clauses-functions) para obtener más información.

        <Callout variant="important">
          Cerciorar de que la consulta no incluya [datos del intervalo de tiempo de métrica](/docs/data-analysis/metrics/analyze-your-metrics/data-collection-metric-timeslice-event-data#timeslice-data), la cláusula [`COMPARE WITH`](/docs/nrql/nrql-syntax-clauses-functions/#sel-compare) o [agregaciones anidadas](/docs/nrql/using-nrql/nested-aggregation-make-ordered-computations-single-query) dentro de [subconsultas](/docs/nrql/using-nrql/subqueries-in-nrql/), ya que las predicciones no se admiten en estos casos.
        </Callout>
      </Step>

      <Step>
        ### Agregar predicción [#add-prediction-to-query]

        Para agregar predicción al gráfico, agregue la cláusula `PREDICT` a la consulta y ejecútela. El rango de predicción se establece automáticamente en el 20% de la ventana de consulta y se resalta en gris. El gráfico aparece en líneas de puntos dentro del rango previsto.

        Puede [refinar aún más la consulta](#customize-prediction-range) según sus requisitos.
      </Step>

      <Step>
        ### Agregar al dashboard [#add-query-to-dashboard]

        1. Para agregar el gráfico con predicción a un dashboard, haga clic en <DNT>**Add to dashboard**</DNT>.
        2. Introduzca un nombre para el widget.
        3. Seleccione un dashboard en el que desea agregar el widget o cree un nuevo dashboard para él.

        Ahora puedes ver el gráfico con la predicción en el dashboard seleccionado.
      </Step>
    </Steps>
  </Collapser>
</CollapserGroup>

## Algoritmo de predicción compatible [#supported-algorithm]

Actualmente, <DNT>**NRQL predictions**</DNT> solo admite el algoritmo <DNT>**Holt-Winters**</DNT> para seriales de tiempo estacionales y no estacionales. Este es un algoritmo comúnmente empleado y estándar para tareas de pronóstico y predicción. Admitimos duraciones estacionales por hora, día y semana para el modelo Holt-Winters.

## Comportamiento por defecto [#defaults]

La cláusula `PREDICT` en una consulta viene con los siguientes comportamientos predeterminados:

* **Estacionalidad**: detecta automáticamente la estacionalidad en los datos y emplea la misma duración de temporada para construir el modelo predictivo. Si no se encuentra estacionalidad, se construye un modelo no estacional.
* **Ventana de predicción**: proyecta el 20% del lapso de tiempo total especificado en la ventana de consulta.
* **datos históricos para entrenamiento**: Emplea datos históricos de la ventana de consulta actual y de las dos anteriores para generar predicciones.
* **Intervalo de tiempo**: se alinea con el intervalo de puntos de datos del serial de tiempo en la ventana de consulta para garantizar la coherencia en la proyección de datos.

Ejemplo de uso de `PREDICT` en una consulta NRQL:

```sql
FROM Transaction SELECT count(*) WHERE error IS TRUE TIMESERIES PREDICT
```

La predicción predeterminada en el gráfico aparece de la siguiente manera:

<img title="Default prediction" alt="Default prediction" src="/images/nrql-prediction-default.webp" />

<figcaption>
  <DNT>**[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &amp;gt; dashboards**</DNT>:predicción predeterminada.
</figcaption>

## Personalizar el modelo predictivo [#customize-prediction-range]

Puede personalizar las predicciones configurando manualmente los hiperparámetros del modelo de entrenamiento y agregando las palabras clave `USING` y `BY` . Para familiarizar con NRQL, consulte [la documentación de NRQL](/docs/nrql/get-started/introduction-nrql-new-relics-query-language).

<CollapserGroup>
  <Collapser id="hyperparameters" title="Establecer hiperparámetros del modelo.">
    Actualmente, <DNT>**Holt-Winters**</DNT> es el único algoritmo de predicción que admitimos y viene con varios hiperparámetros para ayudarlo a ajustar sus predicciones. Consulte la siguiente tabla para comprender el comportamiento de cada hiperparámetro y elegir los que se adapten a su caso de uso.

    Para modificar su consulta, agregue `holtwinters(<hyperparameters>: <value>)` luego de la cláusula `PREDICT` .

    <table id="hyperparameters">
      <thead>
        <tr>
          <th colSpan="3" />
        </tr>

        <tr>
          <th>
            Hiperparámetro
          </th>

          <th>
            Valor
          </th>

          <th>
            Comportamiento
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td rowspan="3" style="width: 300px;">
            `seasonality`
          </td>

          <td>
            `<season length>`
          </td>

          <td>
            Establece la estacionalidad del serial temporal en una duración de temporada específica. Cerciorar de que la duración de la temporada sea de `integer unit` tiempo.\
            **Ejemplos**: `1 day` o `3 hours`
          </td>
        </tr>

        <tr>
          <td>
            `AUTO`
          </td>

          <td>
            Detecta automáticamente la estacionalidad de los seriales temporales y genera predicciones con la estacionalidad identificada.
          </td>
        </tr>

        <tr>
          <td>
            `NONE`
          </td>

          <td>
            Desactiva la estacionalidad del serial temporal y genera una predicción no estacional.

            <Callout variant="important">
              `seasonality: NONE` no es compatible con el hiperparámetro `gamma` , que establece el factor de suavizado de temporada.
            </Callout>
          </td>
        </tr>

        <tr>
          <td>
            `alpha`
          </td>

          <td>
            0 a 1
          </td>

          <td>
            Establece el factor de suavizado de nivel.

            * **Valor más bajo**: mayor peso en los datos históricos.
            * **Valor más alto**: mayor peso en los datos recientes.
          </td>
        </tr>

        <tr>
          <td>
            `beta`
          </td>

          <td>
            0 a 1
          </td>

          <td>
            Establece el factor de suavizado de tendencia.

            * **Valor más bajo**: mayor peso en los datos históricos.
            * **Valor más alto**: mayor peso en los datos recientes.
          </td>
        </tr>

        <tr>
          <td>
            `gamma`
          </td>

          <td>
            0 a 1
          </td>

          <td>
            Establece el factor de suavizado de temporada.

            * **Valor más bajo**: mayor peso en los datos históricos.
            * **Valor más alto**: mayor peso en los datos recientes.
          </td>
        </tr>

        <tr>
          <td>
            `phi`
          </td>

          <td>
            0,98 a 1
          </td>

          <td>
            Establece el parámetro de amortiguación de tendencia.

            * **Valor más bajo**: mayor efecto de amortiguación en la curva de predicción que se nivela gradualmente hasta formar una curva plana.
            * **Valor más alto**: menor efecto de amortiguación en la curva de predicción.
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser
    id="by"
    title={<>Agrega la palabra clave <InlineCode>
      BY
    </InlineCode> .</>
    }
  >
    Emplee la palabra clave `BY` para establecer a qué distancia en el tiempo desea que el modelo prediga. Por ejemplo, `PREDICT BY 3 hours` genera una predicción de tres horas en el futuro a partir del último punto en el serial temporal. Cerciorar de que el lapso de tiempo sea `integer unit` .
  </Collapser>

  <Collapser
    id="using"
    title={<>Agrega la palabra clave <InlineCode>
      USING
    </InlineCode> .</>
    }
  >
    Emplee la palabra clave `USING` para especificar la cantidad de datos históricos que desea emplear para capacitar el modelo. Por ejemplo, `PREDICT USING 1 day` emplea la ventana de consulta junto con los datos del día anterior para capacitar el modelo. Cerciorar de que el lapso de tiempo sea `integer unit` .
  </Collapser>
</CollapserGroup>

Ejemplo de uso de `PREDICT` con hiperparámetros, palabras clave `BY` y `USING` :

```sql
FROM Transaction SELECT count(*) WHERE error IS TRUE TIMESERIES PREDICT holtwinters(seasonality: AUTO, alpha: 0.2) BY 1 hour USING 2 hours
```

Esta consulta establece la estacionalidad en detección automática y enfatiza los datos históricos ajustando el factor de suavizado de nivel. Predice una hora en el futuro y capacita el modelo empleando la longitud de la ventana de consulta junto con las dos horas anteriores de datos históricos. El gráfico muestra la predicción personalizada de la siguiente manera:

<img title="Custom prediction" alt="Custom prediction" src="/images/nrql-prediction-custom.webp" />

<figcaption>
  <DNT>**[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &amp;gt; dashboards**</DNT>:predicción personalizada.
</figcaption>