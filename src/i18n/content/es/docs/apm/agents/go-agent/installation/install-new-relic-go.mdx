---
title: Instalar New Relic para Go
tags:
  - Agents
  - Go agent
  - Installation
metaDescription: Step-by-step guide to install New Relic's Go agent and start monitoring your Go applications with detailed performance insights.
freshnessValidatedDate: never
translationType: machine
---

Obtenga información detallada sobre el rendimiento de sus aplicaciones Go instalando el agente de New Relic Go. Esta guía le guiará a través de una instalación completa con ejemplos para patrones comunes de aplicaciones Go.

## Antes de que empieces

* **Cree una cuenta de New Relic** - Si aún no tiene una, [cree una cuenta de New Relic](https://newrelic.com/signup). Es gratis, para siempre.

* **Verifique la compatibilidad** - Asegúrese de tener:

  * Go 1.19 o superior
  * Linux, macOS o Windows
  * Un [framework web o biblioteca](/docs/apm/agents/go-agent/get-started/go-agent-compatibility-requirements)compatible

* **Obtén tu clave de licencia** - Necesitarás tu <InlinePopover type="licenseKey" />durante la instalación.

## Pasos de instalación

<Steps>
  <Step>
    **Instalar el agente Go**

    Agregue el agente de New Relic Go a su proyecto:

    ```bash
    go get github.com/newrelic/go-agent/v3/newrelic
    ```

    <Callout variant="tip">
      **¿Usando módulos Go?** El agente funciona a la perfección con los módulos Go. Si está utilizando una versión anterior de Go, es posible que deba agregar el agente a su carpeta `vendor`.
    </Callout>
  </Step>

  <Step>
    **Importe el agente**

    Agregue la importación a su aplicación Go:

    ```go
    import "github.com/newrelic/go-agent/v3/newrelic"
    ```
  </Step>

  <Step>
    **Inicializar el agente**

    Cree una instancia de la aplicación en su función `main`:

    ```go
    func main() {
        app, err := newrelic.NewApplication(
            newrelic.ConfigAppName("My Go Application"),
            newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
        )
        if err != nil {
            log.Fatal("Failed to create New Relic application:", err)
        }

        // Wait for the application to connect
        if err := app.WaitForCompletion(5 * time.Second); err != nil {
            log.Println("Warning: New Relic application did not connect:", err)
        }

        // Your application code here
    }
    ```

    <Callout variant="important">
      **Mejor práctica de seguridad**: Siempre use variables de entorno para su clave de licencia en lugar de codificarla directamente en su código fuente.
    </Callout>
  </Step>

  <Step>
    **Instrumenta tus manejadores web**

    Para aplicaciones HTTP, envuelva sus manejadores para monitorear las transacciones web:

    ```go
    // Method 1: Wrap individual handlers
    http.HandleFunc(newrelic.WrapHandleFunc(app, "/", indexHandler))
    http.HandleFunc(newrelic.WrapHandleFunc(app, "/users", usersHandler))
    http.HandleFunc(newrelic.WrapHandleFunc(app, "/api/data", apiHandler))

    // Method 2: Wrap your entire mux (recommended for many routes)
    mux := http.NewServeMux()
    mux.HandleFunc("/", indexHandler)
    mux.HandleFunc("/users", usersHandler)
    mux.HandleFunc("/api/data", apiHandler)

    http.ListenAndServe(":8080", newrelic.WrapListen(app, mux))
    ```
  </Step>

  <Step>
    **Agregue el manejo básico de errores**

    Capture errores en sus manejadores:

    ```go
    func usersHandler(w http.ResponseWriter, r *http.Request) {
        // Get transaction from request context
        txn := newrelic.FromContext(r.Context())

        user, err := getUserFromDatabase(r.URL.Query().Get("id"))
        if err != nil {
            // Report error to New Relic
            txn.NoticeError(err)
            http.Error(w, "User not found", http.StatusNotFound)
            return
        }

        // Add custom attributes
        txn.AddAttribute("user.id", user.ID)
        txn.AddAttribute("user.tier", user.Tier)

        // Return user data
        json.NewEncoder(w).Encode(user)
    }
    ```
  </Step>

  <Step>
    **Implemente y verifique**

    1. **Establezca su variable de entorno**:

       ```bash
       export NEW_RELIC_LICENSE_KEY="your-license-key-here"
       ```

    2. **Compile y ejecute su aplicación**:

       ```bash
       go build -o myapp
       ./myapp
       ```

    3. **Genera algo de tráfico** visitando las URL de tu aplicación

    4. **Verifique New Relic** en 2-3 minutos en [one.newrelic.com](https://one.newrelic.com/apm)
  </Step>
</Steps>

## Ejemplos de instalación

### Servidor HTTP simple

```go
package main

import (
    "fmt"
    "log"
    "net/http"
    "os"
    "time"

    "github.com/newrelic/go-agent/v3/newrelic"
)

func main() {
    // Initialize New Relic
    app, err := newrelic.NewApplication(
        newrelic.ConfigAppName("Simple Go Server"),
        newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
    )
    if err != nil {
        log.Fatal(err)
    }

    // Simple handler
    http.HandleFunc(newrelic.WrapHandleFunc(app, "/", func(w http.ResponseWriter, r *http.Request) {
        fmt.Fprintf(w, "Hello, World!")
    }))

    log.Println("Server starting on :8080")
    log.Fatal(http.ListenAndServe(":8080", nil))
}
```

### Integración del framework Gin

```go
package main

import (
    "os"

    "github.com/gin-gonic/gin"
    "github.com/newrelic/go-agent/v3/integrations/nrgin"
    "github.com/newrelic/go-agent/v3/newrelic"
)

func main() {
    // Initialize New Relic
    app, _ := newrelic.NewApplication(
        newrelic.ConfigAppName("Gin Application"),
        newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
    )

    // Set up Gin with New Relic middleware
    r := gin.Default()
    r.Use(nrgin.Middleware(app))

    r.GET("/", func(c *gin.Context) {
        c.JSON(200, gin.H{"message": "Hello, World!"})
    })

    r.Run(":8080")
}
```

### Monitoreo de trabajos en segundo plano

```go
func processBackgroundJob(app *newrelic.Application, jobData JobData) {
    // Create a background transaction
    txn := app.StartTransaction("background-job")
    defer txn.End()

    // Add job context
    txn.AddAttribute("job.id", jobData.ID)
    txn.AddAttribute("job.type", jobData.Type)

    // Process job with error handling
    if err := processJob(jobData); err != nil {
        txn.NoticeError(err)
        log.Printf("Job %s failed: %v", jobData.ID, err)
        return
    }

    log.Printf("Job %s completed successfully", jobData.ID)
}
```

## ¿Qué pasa después?

Después de completar la instalación básica, verá inmediatamente:

* **Dashboard de APM** con tiempos de respuesta, rendimiento y tasas de error para tus endpoints HTTP
* **Trazas de transacciones** que muestran las solicitudes web más lentas
* **Seguimiento básico de errores** para errores reportados a través de `txn.NoticeError()`

Para desbloquear capacidades de monitoreo adicionales, deberá agregar más instrumentación:

* **Monitoreo de base de datos** - Requiere [instrumentación de segmento de base de datos](/docs/apm/agents/go-agent/instrumentation/instrument-go-segments)
* **Seguimiento de servicio externo** - Requiere [instrumentación de segmento externo](/docs/apm/agents/go-agent/instrumentation/instrument-go-segments)
* **Métricas y eventos personalizados** - Requiere [instrumentación personalizada](/docs/apm/agents/go-agent/instrumentation/create-custom-metrics-go)

## Resolución de problemas

Si no ve datos después de la instalación:

1. **Verifique los logs de su aplicación** para ver los mensajes de conexión de New Relic
2. **Verifique que su clave de licencia** sea correcta y no haya expirado
3. **Asegúrese de la conectividad de red** a New Relic (puertos 80/443)
4. **Revise la [guía de solución de problemas](/docs/apm/agents/go-agent/troubleshooting/no-data-appears-go)** para obtener ayuda detallada

<Callout variant="tip">
  **Habilite el logging de depuración** para ver lo que está haciendo el agente:

  ```go
  config := newrelic.NewConfig("My App", os.Getenv("NEW_RELIC_LICENSE_KEY"))
  config.Logger = newrelic.NewDebugLogger(os.Stdout)
  app, _ := newrelic.NewApplication(config)
  ```
</Callout>

## Próximos pasos

Ahora que tiene la configuración de monitoreo básica, puede mejorar su observabilidad a través de la **configuración** y la **instrumentación**:

* La **configuración** controla cómo se comporta el agente globalmente en toda su aplicación
* La **instrumentación** agrega código de monitoreo a operaciones específicas que desea rastrear

### Configurar el agente

Usa la [configuración del agente](/docs/apm/agents/go-agent/configuration) para controlar el comportamiento global y lograr:

* **[Habilite el rastreo distribuido](/docs/apm/agents/go-agent/configuration/distributed-tracing-go-agent)** - Rastree las solicitudes en múltiples servicios
* **[Controle el logging](/docs/apm/agents/go-agent/configuration/go-agent-logging)** - Establezca los niveles de depuración y los destinos de logs
* **[Establece umbrales de rendimiento](/docs/apm/agents/go-agent/configuration/go-agent-configuration)** - Configura cuándo las consultas se consideran &quot;lentas&quot;
* **[Habilita las funciones de seguridad](/docs/apm/agents/go-agent/configuration/go-agent-configuration)** - Activa el modo de alta seguridad

### Agregue instrumentación

Use [instrumentación detallada](/docs/apm/agents/go-agent/instrumentation) para monitorear operaciones específicas y lograr:

* **[Monitoree las consultas de la base de datos](/docs/apm/agents/go-agent/instrumentation/instrument-go-segments)** - Rastree el rendimiento de SQL y las consultas lentas
* **[Rastree las llamadas API externas](/docs/apm/agents/go-agent/instrumentation/instrument-go-segments)** - Monitoree las llamadas a servicios de terceros
* **[Monitoree los trabajos en segundo plano](/docs/apm/agents/go-agent/instrumentation/instrument-go-transactions)** - Rastree las transacciones que no son web
* **[Cree métricas personalizadas](/docs/apm/agents/go-agent/instrumentation/create-custom-metrics-go)** - Monitoree los KPI específicos del negocio

### Funciones y monitoreo avanzados

* **[Explore funciones avanzadas](/docs/apm/agents/go-agent/features)** como el monitoreo del navegador y los eventos personalizados
* **[Configure alertas](https://docs.newrelic.com/docs/alerts-applied-intelligence/new-relic-alerts/get-started/your-first-nrql-condition/)** para métricas clave de rendimiento

<Callout variant="tip">
  **Mantén tu agente actualizado**: [Actualiza regularmente a la última versión](/docs/apm/agents/go-agent/installation/update-go-agent) para obtener nuevas funciones, mejoras de rendimiento y parches de seguridad.
</Callout>