---
title: Actualice la API de llamada privada a la API de rastreador público
type: troubleshooting
tags:
  - Agents
  - Ruby agent
  - Troubleshooting
metaDescription: Update deprecated API calls for the New Relic Ruby agent.
freshnessValidatedDate: never
translationType: machine
---

## Problema

En la versión [6.0.0](/docs/releases/ruby) del agente New Relic Ruby, varias API que no eran compatibles públicamente quedaron obsoletas o eliminadas. Si utiliza alguno de los métodos eliminados, debe actualizar su API con el reemplazo recomendado antes de actualizar a la versión 6.0.0 o superior del agente Ruby. Si utiliza alguno de los métodos obsoletos, le recomendamos actualizar su API lo antes posible para garantizar la compatibilidad con versiones del agente superiores a 6.0.0.

## Solución

Actualice su API con los siguientes reemplazos recomendados:

<CollapserGroup>
  <Collapser
    id="external-start-segment"
    title={<InlineCode>External.start_segment</InlineCode>}
  >
    Reemplazar con `NewRelic::Agent::Tracer.start_external_request_segment`
  </Collapser>

  <Collapser
    id="transaction-create-segment"
    title={<InlineCode>Transaction.create_segment</InlineCode>}
  >
    Reemplazar con `NewRelic::Agent::Tracer.start_segment`
  </Collapser>

  <Collapser
    id="transaction-start"
    title={<InlineCode>Transaction.start</InlineCode>}
  >
    Reemplazar con `NewRelic::Agent::Tracer.start_transaction_or_segment`
  </Collapser>

  <Collapser
    id="transaction-start-datastore-segment"
    title={<InlineCode>Transaction.start_datastore_segment</InlineCode>}
  >
    Reemplazar con `NewRelic::Agent::Tracer.start_datastore_segment`
  </Collapser>

  <Collapser
    id="transaction-start-segment"
    title={<InlineCode>Transaction.start_segment</InlineCode>}
  >
    Reemplazar con `NewRelic::Agent::Tracer.start_segment`
  </Collapser>

  <Collapser
    id="transaction-wrap"
    title={<InlineCode>Transaction.wrap</InlineCode>}
  >
    Reemplazar con `NewRelic::Agent::Tracer.in_transaction`
  </Collapser>

  <Collapser
    id="transaction-state-current-transaction"
    title={<InlineCode>TransactionState.current_transaction</InlineCode>}
  >
    Reemplazar con `NewRelic::Agent::Tracer.current_transaction`
  </Collapser>
</CollapserGroup>
