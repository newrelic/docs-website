---
title: Instrumentación mongo
tags:
  - Agents
  - Ruby agent
  - Instrumented gems
metaDescription: New Relic Ruby agent support for MongoDB
freshnessValidatedDate: never
translationType: machine
---

El agente Ruby tiene instrumentación integrada para la consulta de MongoDB realizada a través de la gema [`mongo`](https://rubygems.org/gems/mongo "El enlace se abre en una ventana nueva.") .

## Gemas soportadas [#supported_gems]

Esto resume el soporte del agente Ruby para gemas por versión.

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        <DNT>
          **Gem version**
        </DNT>
      </th>

      <th>
        <DNT>
          **Comments**
        </DNT>
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `mongo` 1.8 y 1.9
      </td>

      <td>
        Compatible con el agente Ruby de New Relic 3.7.1 o superior
      </td>
    </tr>

    <tr>
      <td>
        `mongo` 2.0
      </td>

      <td>
        No soportado
      </td>
    </tr>

    <tr>
      <td>
        `mongo` 2.1 o superior
      </td>

      <td>
        Requiere el agente Ruby 3.13.1 o superior de New Relic
      </td>
    </tr>

    <tr>
      <td>
        Otras gemas
      </td>

      <td>
        Actualmente, el soporte para Mongoid 2/3/4 y Moped solo está disponible a través de gemas de terceros. Para obtener enlaces a los proyectos relevantes, consulte [extends_newrelic_rpm](https://github.com/newrelic/extends_newrelic_rpm).
      </td>
    </tr>
  </tbody>
</table>

## Instrumentación de terceros y extends_newrelic_rpm [#third_party_instrumentation]

Las gemas `extends_newrelic_rpm` y `newrelic_mongo` proporcionan instrumentación básica para `mongo`. New Relic no recomienda ejecutar la instrumentación de Mongo a través de estas gemas junto con el soporte integrado de Mongo del agente Ruby. Esto podría contar dos veces métricas, como el tiempo total de la base de datos.

Además, las gemas `extends_newrelic_rpm` y `newrelic_mongo` usan una configuración distinta que se puede usar para deshabilitarlas si no es posible eliminarlas por completo en su entorno. Para esas gemas de terceros, establezca `disable_mongodb: false` en su <DNT>**newrelic.yml**</DNT>.

## Deshabilitar la instrumentación [#Disabling_instrumentation]

Para deshabilitar la instrumentación de Mongo en el agente, agregue lo siguiente a su <DNT>**newrelic.yml**</DNT>:

```
disable_mongo: true
```
