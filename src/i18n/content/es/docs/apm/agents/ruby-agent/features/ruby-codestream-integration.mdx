---
title: Métrica a nivel de código
tags:
  - Agents
  - Ruby agent
  - Supported features
metaDescription: Code-level metrics for Ruby can be displayed in your IDE using the New Relic CodeStream extension.
freshnessValidatedDate: never
translationType: machine
---

Las métricas a nivel de código permiten a los desarrolladores que utilizan la [extensión New Relic CodeStream](/docs/codestream/observability/code-level-metrics) ver los datos de APM mostrados contextualmente en su IDE, junto con los métodos individuales en el código. Esto permite a los desarrolladores ser más proactivos a la hora de abordar los problemas de rendimiento mientras escriben y revisan el código.

## Empezando

Primero, [instale](/docs/codestream/start-here/install-codestream) la extensión New Relic CodeStream en el IDE compatible de su elección e log sesión.

<Callout variant="important">
  Las métricas a nivel de código están disponibles en la versión 8.8.0 y superior del agente Ruby. Para las versiones 8.10.0 y superiores, las métricas a nivel de código están habilitadas de forma predeterminada. Para las versiones 8.8.0 y 8.9.0 deben habilitarse mediante configuración. Para habilitar la métrica a nivel de código, establezca `code_level_metrics.enabled: true` en `newrelic.yml` o `NEW_RELIC_CODE_LEVEL_METRICS_ENABLED=true` como variable de entorno.
</Callout>

## Agente Atributo

El agente Ruby informa y adjunta el siguiente atributo a los intervalos producidos por su aplicación:

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        <DNT>
          **Name**
        </DNT>
      </th>

      <th>
        <DNT>
          **Description**
        </DNT>
      </th>

      <th>
        <DNT>
          **Example**
        </DNT>
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `code.function`
      </td>

      <td>
        El nombre de la función instrumentada (método Ruby). Tenga en cuenta que los métodos de clase tendrán el prefijo `self.`.
      </td>

      <td>
        crear
      </td>
    </tr>

    <tr>
      <td>
        `code.filepath`
      </td>

      <td>
        La ruta absoluta al archivo de código fuente en el que se define `code.function`
      </td>

      <td>
        /app/app/controllers/widgets_controller.rb
      </td>
    </tr>

    <tr>
      <td>
        `code.lineno`
      </td>

      <td>
        El número de línea donde `code.function` está definido en code.filepath
      </td>

      <td>
        1138
      </td>
    </tr>

    <tr>
      <td>
        `code.namespace`
      </td>

      <td>
        El namespace (nombre de clase/módulo) en el que se define `code.function`
      </td>

      <td>
        Controlador de widgets
      </td>
    </tr>
  </tbody>
</table>

<Callout variant="important">
  No todos los métodos en el código de su aplicación estarán instrumentados con el atributo anterior. A partir de la versión 8.10.0, el agente Ruby proporcionará métricas a nivel de código para los métodos del controlador Rails, los métodos `ActiveJob` y cualquier método Ruby que haya sido configurado para ser trazado manualmente.
</Callout>
