---
title: RecordMetric (API del agente .NET)
type: apiDoc
shortDescription: Registra una métrica personalizada con el nombre de pila.
tags:
  - Agents
  - NET agent
  - NET agent API
metaDescription: New Relic .NET agent API call to record custom metric timeslice data.
freshnessValidatedDate: never
translationType: machine
---

## Sintaxis

```cs
NewRelic.Api.Agent.NewRelic.RecordMetric(string $metric_name, single $metric_value)
```

Registra una métrica personalizada con el nombre de pila.

## Requisitos

Compatible con todas las versiones de agente.

Compatible con todo tipo de aplicaciones.

## Descripción

Registra una [métrica personalizada](/docs/agents/manage-apm-agents/agent-metrics/custom-metrics) con el nombre de pila. Para ver estas métricas personalizadas, utilice el [generador de consultas](/docs/query-your-data/explore-query-data/query-builder/use-advanced-nrql-mode-specify-data) para buscar métricas y crear gráficos personalizables. Consulte también [`IncrementCounter()`](/docs/agents/net-agent/net-agent-api/incrementcounter-net-agent) y [`RecordResponseTimeMetric()`](/docs/agents/net-agent/net-agent-api/recordresponsetimemetric-net-agent).

<Callout variant="important">
  Al crear una métrica personalizada, comience el nombre con `Custom/` (por ejemplo, `Custom/MyMetric`).
</Callout>

## Parámetros

<table>
  <thead>
    <tr>
      <th width="25%">
        Parámetro
      </th>

      <th>
        Descripción
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `$metric_name`

        _cadena_
      </td>

      <td>
        Requerido. El nombre de la métrica a registrar. Sólo se conservan los primeros 255 caracteres.
      </td>
    </tr>

    <tr>
      <td>
        `$metric_value`

        _soltero_
      </td>

      <td>
        Requerido. La cantidad que se registrará para la métrica.
      </td>
    </tr>
  </tbody>
</table>

## Ejemplos

### Registrar el tiempo de respuesta de un proceso de sueño. [#record-stopwatch]

```cs
Stopwatch stopWatch = Stopwatch.StartNew();
System.Threading.Thread.Sleep(5000);
stopWatch.Stop();
NewRelic.Api.Agent.NewRelic.RecordMetric("Custom/DEMO_Record_Metric", stopWatch.ElapsedMilliseconds);
```