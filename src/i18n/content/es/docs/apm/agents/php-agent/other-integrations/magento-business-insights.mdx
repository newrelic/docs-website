---
title: Magento business información valiosa
tags:
  - New Relic integrations
  - Magento
metaDescription: 'Monitor your Magento application''s performance with our comprehensive Magento business insights dashboard. Track business metrics like revenue at risk, orders at risk due to downtime, and poor system performance.'
freshnessValidatedDate: never
translationType: machine
---

Nuestro dashboard de información valiosa empresarial de Magento proporciona una vista completa del rendimiento de su aplicación de comercio electrónico Magento. Con el dashboard, puede realizar fácilmente un seguimiento de métricas comerciales clave, como ingresos en riesgo, pedidos en riesgo debido al tiempo de inactividad y rendimiento deficiente del sistema. También puede utilizar el dashboard para diagnosticar problemas en el rendimiento de su aplicación y optimizar su código.

<img
  title="Magento dashboard overview"
  alt="A screenshot of a dashboard with a variety of graphs and charts showing data about a Magento ecommerce application."
  src="/images/apm_screenshot-full_magento-dashboard-overview.webp"
/>

<figcaption>
  Nuestro dashboard de información valiosa empresarial de Magento le brinda una vista central de los datos de su aplicación Magento.
</figcaption>

Para comenzar a monitorear su aplicación Magento en New Relic, siga estos pasos para enviar los datos de su aplicación a New Relic y verlos en el dashboard información valiosa del negocio de Magento.

<Steps>
  <Step>
    ## Instalar el agente de infraestructura [#install-the-infra-agent]

    Nuestro agente de infraestructura monitorea su host e informa métricas como el uso de CPU, uso de memoria, uso de almacenamiento, uso de disco y tráfico de red.

    Para instalar el agente, elija uno de estos métodos de instalación:

    * Siga los pasos de nuestra [instalación guiada](https://one.newrelic.com/launcher/nr1-core.explorer?pane=eyJuZXJkbGV0SWQiOiJucjEtY29yZS5saXN0aW5nIn0=&cards%5B0%5D=eyJuZXJkbGV0SWQiOiJucjEtaW5zdGFsbC1uZXdyZWxpYy5ucjEtaW5zdGFsbC1uZXdyZWxpYyIsImFjdGl2ZUNvbXBvbmVudCI6IlZUU09FbnZpcm9ubWVudCIsInBhdGgiOiJndWlkZWQifQ==) para un proceso de instalación rápido y sencillo.
    * [Instale manualmente el agente](/docs/infrastructure/install-infrastructure-agent/get-started/install-infrastructure-agent/) para un proceso de instalación más avanzado.
  </Step>

  <Step>
    ## Instalar el agente PHP [#install-the-PHP-agent]

    Nuestro agente PHP informa métricas relacionadas con la aplicación y browser , como el rendimiento de AJAX, la tasa de errores, la duración, las principales métricas web y el rendimiento.

    Para instalar el agente, elija uno de estos métodos de instalación:

    * Siga los pasos de nuestra [instalación guiada](https://one.newrelic.com/launcher/nr1-core.settings?pane=eyJuZXJkbGV0SWQiOiJ0dWNzb24ucGxnLWluc3RydW1lbnQtZXZlcnl0aGluZyJ9&cards%5B0%5D=eyJuZXJkbGV0SWQiOiJzZXR1cC1uZXJkbGV0cy5zZXR1cC1waHAtaW50ZWdyYXRpb24iLCJhY2NvdW50SWQiOjI2NDA0MDl9&platform%5BaccountId%5D=1) para un proceso de instalación rápido y sencillo.
    * [Instale manualmente el agente](/docs/apm/agents/php-agent/installation/php-agent-installation-overview/) para un proceso de instalación más avanzado.
  </Step>

  <Step>
    ## Instalar la integración MySQL [#install-the-mysql-integration]

    Nuestra integración MySQL monitorea sus bases de datos y recopila métricas sobre la utilización de la base de datos y las conexiones, como las consultas más lentas y las conexiones activas por nodo.

    Para instalar la integración:

    1. Vaya a

       <DNT>
         **[one.newrelic.com](https://one.newrelic.com/) > Add data**
       </DNT>

       .

    2. Busque y haga clic en

       <DNT>
         **MySQL**
       </DNT>

       .

    3. Selecciona una cuenta y sigue los pasos de instalación guiados.

       Si necesita instalar el agente de otra manera, consulte [Integración de monitoreo de MySQL](/install/mysql/).
  </Step>

  <Step>
    ## Instalar la integración de Apache [#install-the-apache-integration]

    Nuestra integración Apache recopila métricas de red como conexiones TCP, búsqueda de DNS, HTTPS, SSL y estados de servidor y trabajador.

    Para instalar la integración, siga los pasos de nuestra [instalación guiada](https://one.newrelic.com/launcher/nr1-core.explorer?pane=eyJuZXJkbGV0SWQiOiJucjEtY29yZS5saXN0aW5nIn0=&cards%5B0%5D=eyJuZXJkbGV0SWQiOiJucjEtaW5zdGFsbC1uZXdyZWxpYy5ucjEtaW5zdGFsbC1uZXdyZWxpYyIsInBhdGgiOiJvaGkiLCJyZWNpcGVOYW1lIjoiYXBhY2hlLW9wZW4tc291cmNlLWludGVncmF0aW9uIiwiYWN0aXZlQ29tcG9uZW50IjoiVlRTT0NvbW1hbmQiLCJhY3RpdmVFbnZpcm9ubWVudCI6ImFwYWNoZS1vcGVuLXNvdXJjZS1pbnRlZ3JhdGlvbiJ9).

    Si necesita instalar la integración de otra manera, consulte [Integración de monitoreo de Apache](/docs/infrastructure/host-integrations/host-integrations-list/apache-monitoring-integration).
  </Step>

  <Step>
    ## Instalar la integración de Elasticsearch [#install-the-elasticsearch-integration]

    Nuestra integración de Elasticsearch recopila métricas como el estado del clúster y los fragmentos actuales. Si está utilizando [Magento versión 2.4 y superior](https://magentip.com/install-magento-2-4-x-on-ubuntu-with-elasticsearch/), deberá instalar nuestra integración de Elasticsearch.

    Para instalar la integración:

    1. Vaya a

       <DNT>
         **[one.newrelic.com](https://one.newrelic.com) > Add data**
       </DNT>

       .

    2. Busque y haga clic en

       <DNT>
         **Elasticsearch**
       </DNT>

       .

    3. Selecciona una cuenta y sigue los pasos de instalación guiados.

       Si necesita instalar la integración de otra manera, consulte [Integración de monitoreo de Elasticsearch](/docs/infrastructure/host-integrations/host-integrations-list/elasticsearch/elasticsearch-integration).
  </Step>

  <Step>
    ## Configurar el monitoreo sintético [#synthetic-monitoring]

    Nuestro monitor Sintético prueba su aplicación en diferentes ubicaciones y captura el tiempo de inactividad del servidor. Puede ver estos datos en el dashboard de información valiosa de Magento Business.

    Para configurar el monitor Sintético, siga los pasos de nuestra [instalación guiada](https://onenr.io/0EjOXrnxgQ6).
  </Step>

  <Step>
    ## Crear una integración Flex [#install-the-flex-integration]

    Nuestra integración Flex personalizada le permite capturar métricas comerciales a través de la consulta de la base de datos de su aplicación.

    Para crear su integración Flex:

    1. Cree un archivo de configuración `nri-flex` :

       * Ruta al archivo de configuración: `/etc/newrelic-infra/integrations.d/`
       * Nombre del archivo de configuración: `mysql-database-config.yml`

    2. Agregue el siguiente fragmento de código al archivo de configuración. Asegúrese de cambiar y reemplazar `USERNAME`, `PASSWORD` y `DATABASE_NAME`:

       ```
       # NOTE: 'database' is an experimental API at this time
       # ref: https://github.com/newrelic/nri-flex/blob/master/docs/experimental/db.md
       ---
       integrations:
         - name: nri-flex
           # interval: 30s
           config:
             name: MySQLDbFlex
             apis:
               - database: mysql
             # connection string for an rds mysql instance. Be sure to use the writer endpoint here.  /sys is the default database. newrelic:Password is the user:pass.
                 db_conn:<USERNAME>:<PASSWORD>@tcp(localhost:3306)/<DATABASE_NAME>
                 logging:
                   open: true
             # custom_attributes: # applies to all queries
             # host: CustomMagentoMySQL # custom host name atribute
                 db_async: true
                 db_queries:
                   - name: MYSQLSalesOrderDetails
                     run: SELECT status AS 'status', entity_id AS 'order_id' FROM sales_order;
                   - name: MySQLSalesOrderCumulative
                     run: SELECT AVG(grand_total) AS 'average_grand_total', SUM(grand_total) AS 'grand_total_sum', SUM(total_item_count) AS 'total_order_item_count' FROM sales_order;
                   - name: MySQLSalesOrderByStatus
                     run: SELECT status AS 'order_status', COUNT(increment_id) AS 'total_orders', (SUM(grand_total)) AS 'total_billed_amount_by_status' FROM sales_order GROUP BY status;
                   - name: MYSQLSalesOrderByCustomerGroup
                     run: SELECT AVG(salesOrder.grand_total) AS 'grand_total_average_of_all_orders', customerGroup.customer_group_code AS 'customer_group_code' FROM `sales_order` salesOrder JOIN `customer_group` customerGroup ON salesOrder.customer_group_id = customerGroup.customer_group_id GROUP BY salesOrder.customer_group_id;
                   - name: MYSQLSalesOrderByProduct
                     run: SELECT items.order_id AS 'Order ID', items.created_at AS 'Order Created Date', orders.status AS 'Order Status', items.name AS 'productName', items.sku AS ProductSearchcode, orders.total_item_count AS 'Order Quantity', orders.grand_total AS 'Grand Total' FROM sales_order AS orders JOIN sales_order_item AS items ON items.order_id = orders.entity_id;
                   - name: MYSQLSalesOrderByCategory
                     run: SELECT items.name AS 'Category', AVG(orders.grand_total) AS 'average_order_total' FROM sales_order AS orders JOIN sales_order_item AS items ON items.order_id = orders.entity_id GROUP BY items.name;
                   - name: MYSQLSalesOrderByRegion
                     run: SELECT soa.country_id, soa.region_id, dcrn.name 'Region Name', so.entity_id AS 'Order ID', so.grand_total FROM sales_order_address soa JOIN directory_country_region_name dcrn JOIN sales_order so WHERE soa.region_id = dcrn.region_id AND so.entity_id = soa.parent_id;
                   - name: MySQLSalesOrderPaymentCount
                     run: SELECT count(*) as CountOfOrderByMethod, method as PaymentMethodType FROM `sales_order_payment` group by method;
                   - name: MYSQLAbandonedCarts
                     run: SELECT customer_email, items_count AS 'Products', items_qty AS 'Quantity', subtotal FROM `quote` WHERE customer_email IS NOT NULL AND reserved_order_id IS NULL AND subtotal != 0.0000;
                   - name: MYSQLCustomerEntityRegisteredUsers
                     run: SELECT count(*) AS 'Registered Accounts' FROM `customer_entity`;
                   - name: MYSQLUnregisteredCustomers
                     run: SELECT customer_email FROM sales_order WHERE customer_is_guest = 1 GROUP BY customer_email;
                   - name: MYSQLSalesOrderByUnregisteredCustomersSummary
                     run: SELECT COUNT(entity_id) AS 'Total Order Ids', SUM(grand_total) AS 'Grand Total Sum' FROM sales_order WHERE customer_is_guest = 1;
                   - name: MYSQLCustomerEntityActiveUsers
                     run: SELECT count(is_active) AS 'Active Users' FROM `customer_entity` WHERE is_active = 1;
                   - name: MYSQLReturningCustomers
                     run: WITH ctel1 AS (SELECT COUNT(entity_id) AS 'numberOfOrders', customer_email AS 'customerEmail' FROM sales_order GROUP BY customer_email) SELECT count(*) AS 'returningCustomers' FROM ctel1 WHERE numberOfOrders > 1;
                   - name: MYSQLNewCustomers
                     run: SELECT COUNT(DISTINCT email) AS 'newCustomers' FROM customer_entity WHERE MONTH(created_at) >= MONTH(CURRENT_DATE() - INTERVAL 1 MONTH);
                   - name: MYSQLBestSellersDaily
                     run: SELECT SUM(qty_ordered) as 'QuantityOrdered', product_name FROM sales_bestsellers_aggregated_daily GROUP BY product_id, product_name ORDER BY QuantityOrdered DESC;
                   - name: MYSQLRevenuePerMonthAndYear
                     run: SELECT SUM(grand_total) AS 'Total Revenue', AVG(grand_total) AS 'Average Revenue', YEAR(created_at) AS 'Year', MONTH(created_at) AS 'Month' FROM sales_order WHERE status = 'complete' GROUP BY YEAR(created_at), MONTH(created_at);
                   - name: MYSQLMostViewedProductsDaily
                     run: SELECT SUM(views_num) as 'View Count', product_name, product_id FROM report_viewed_product_aggregated_daily GROUP BY product_name, product_id ORDER BY View Count DESC;
                   - name: MYSQLConversionRate
                     run: WITH cte1 AS (SELECT soi.product_id AS 'SalesProductId', soi.name AS 'ProductName', COUNT(soi.order_id) AS 'Total Orders' FROM `sales_order_item` soi group by soi.product_id, soi.name), cte2 AS (SELECT viewed.product_id AS 'ProductID', COUNT(viewed.product_id) AS 'Total Views' FROM `report_viewed_product_index` viewed group by viewed.product_id) SELECT SalesProductId as 'ProductID', ProductName, Total Views, Total Orders, Total Orders / Total Views * 100 as 'Conversion Rate In Percent' FROM cte1 JOIN cte2 WHERE cte1.SalesProductId = cte2.ProductID;
                   - name: MYSQLTopTenSalesOrdersByValue
                     run: SELECT entity_id AS 'Order ID', total_item_count AS 'Order Quantity', created_at AS 'Created Date', grand_total AS 'Grand Total' FROM sales_order ORDER BY grand_total DESC LIMIT 10;
                   - name: MYSQLOrdersAverage
                     run: SELECT AVG(order_count) AS 'Average Number Of Orders', Year AS 'Year' FROM (SELECT YEAR(created_at) AS 'Year', COUNT(DISTINCT order_id) AS order_count FROM sales_order_item GROUP BY MONTH(created_at), YEAR(created_at)) subquery GROUP BY Year;
                   - name: MYSQLWishlistProducts
                     run: SELECT w.product_id, p.value AS 'Product Name', SUM(w.qty) AS 'Wishlist Count' FROM wishlist_item as w LEFT JOIN catalog_product_entity_varchar as p ON p.entity_id = w.product_id WHERE attribute_id = 73 GROUP BY w.product_id, p.value ORDER BY 'Wishlist Count' DESC;
                   - name: MYSQLProductPageViewWithNoInventory
                     run: SELECT v.product_id, v.product_name, v.views_num AS 'Page Views', i.qty AS 'Inventory Quantity' FROM report_viewed_product_aggregated_daily AS v LEFT JOIN cataloginventory_stock_item i ON i.product_id = v.product_id WHERE i.qty = 0 ORDER BY v.views_num DESC;
                   - name: MYSQLHighestRestockAlerts
                     run: SELECT p.value as Product Name, p.entity_id as Product ID, count(a.alert_stock_id) as Restock Alert Count FROM `product_alert_stock` AS a, `catalog_product_entity_varchar` as p where a.product_id = p.value_id GROUP BY p.value, product_id order by 2 desc;
                   - name: MYSQLSlowMovingProducts
                     run: SELECT cpev.entity_id as Product ID, cpev.value as Product Name, sum(isi.quantity) as Quantity from inventory_source_item as isi join catalog_product_entity as cpe on isi.sku = cpe.sku join catalog_product_entity_varchar as cpev on cpe.entity_id = cpev.entity_id where cpev.attribute_id = 73 group by Product ID, Product Name order by Quantity desc;
                   - name: MYSQLAccountWithSmallTransaction
                     run: SELECT sum(grand_total) as Grand Total, customer_email FROM sales_order group by customer_email order by Grand Total ASC LIMIT 10;
                   - name: MYSQLProfitableCustomers
                     run: select sum(grand_total) as Grand Total, customer_email from sales_order group by customer_email order by Grand Total desc LIMIT 10;
                   - name: MYSQLRevenueLostDueToDiscounts
                     run: SELECT SUM(base_discount_amount) as 'Due to Discounts Revenue Loss' FROM `sales_order` WHERE `status` = 'complete';
                   - name: MYSQLTotalSalesCountDueToDiscounts
                     run: SELECT count(base_discount_amount) as 'Due to Discounts Total Sales Count' FROM `sales_order` WHERE `status` = 'complete';
                   - name: MYSQLProdCartAbandonment
                     run: Select c.value as Product Name, sum(q.items_count) as Abandoned Products Count from quote as q join catalog_product_entity_varchar as c on q.entity_id = c.entity_id WHERE customer_email IS NOT NULL AND reserved_order_id IS NULL AND subtotal != 0.0000 AND attribute_id = 73 group by Product Name order by Abandoned Products Count;
                   - name: MYSQLPaymentMethodChangedFrequently
                     run: SELECT o.customer_id, o.customer_email, o.customer_is_guest, COUNT(DISTINCT p.method) AS transaction_count FROM sales_order AS o JOIN sales_order_payment AS p ON o.entity_id = p.parent_id GROUP BY o.customer_id, o.customer_email, o.customer_is_guest HAVING COUNT(DISTINCT p.method) > 1 ORDER BY transaction_count DESC LIMIT 10;
                   - name: MYSQLCustomerAddressChanging
                     run: SELECT c.entity_id AS customer_id, c.email, COUNT(DISTINCT a.entity_id) AS address_count FROM customer_address_entity AS a JOIN customer_entity AS c ON a.parent_id = c.entity_id GROUP BY c.entity_id, c.email HAVING COUNT(DISTINCT a.entity_id) > 1 ORDER BY address_count DESC;
                   - name: MYSQLCustomerPurchaseSameProd
                     run: select COUNT(soi.product_id) AS purchase_count, soi.product_id, soi.name as 'Product Name', so.customer_email from sales_order_item as soi join sales_order as so on soi.order_id = so.entity_id group by so.customer_email, soi.product_id, soi.name HAVING COUNT(soi.product_id) > 1 ORDER BY purchase_count DESC;
                   - name: MYSQLProductReturned
                     run: SELECT soi.product_id, count(soi.product_id) as 'Returned Product Count' FROM `sales_order` as o join `sales_order_item` as soi ON o.entity_id = soi.order_id where o.status = 'closed' and o.total_refunded is not null GROUP BY soi.product_id HAVING COUNT(soi.product_id) > 1;
       ```
  </Step>

  <Step>
    ## Reinicie el agente de infraestructura.

    Antes de que pueda comenzar a leer sus datos, utilice las instrucciones de nuestros [documentos del agente de infraestructura](/docs/infrastructure/install-infrastructure-agent/manage-your-agent/start-stop-restart-infrastructure-agent/) para reiniciar su agente de infraestructura.
  </Step>

  <Step>
    ## Instale el dashboardde información valiosa de Magento Business [#install-dashboard]

    1. Vaya a

       <DNT>
         **[one.newrelic.com > Add Data](https://one.newrelic.com) > Dashboards**
       </DNT>

       .

    2. En la barra de búsqueda, escribe "Magento business información valiosa". Debería aparecer el dashboard .

    3. Haga clic en él para instalar.

       Su dashboard Magento se considera un panel personalizado y se puede encontrar en la UI <DNT>**Dashboards**</DNT>. Para obtener información sobre el uso y edición del panel, consulte [nuestros documentos dashboard ](/docs/query-your-data/explore-query-data/dashboards/introduction-dashboards).
  </Step>
</Steps>

## Consulta tus datos de Magento [#query-data]

¿Está interesado en consultar los datos de su aplicación Magento? Aquí hay un ejemplo de consulta NRQL que verifica el total de clientes registrados en su plataforma Magento:

```sql
SELECT LATEST(`Registered Accounts`) AS 'Registered Accounts' FROM MYSQLCustomerEntityRegisteredUsers
```

## ¿Que sigue? [#whats-next]

Para obtener más información sobre cómo consultar sus datos y crear un panel personalizado, consulte estos documentos:

* [Introducción al generador de consultas](/docs/query-your-data/explore-query-data/query-builder/introduction-query-builder)
* [Introducción al panel personalizado](/docs/query-your-data/explore-query-data/dashboards/introduction-dashboards)
* [Administra tu dashboard](/docs/query-your-data/explore-query-data/dashboards/manage-your-dashboard)
