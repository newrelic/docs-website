---
title: newrelic_accept_distributed_trace_payload_httpsafe (API del agente PHP)
type: apiDoc
shortDescription: Acepta una carga útil de rastreo distribuido que incluye una cadena JSON HTTPSafe (codificada en Base64).
tags:
  - Agents
  - PHP agent
  - PHP agent API
metaDescription: Distributed tracing allows you to see the path a request takes as it travels through a distributed system. Use this API to accept an HTTPSafe/Base64 payload.
freshnessValidatedDate: never
translationType: machine
---

## Sintaxis

```php
newrelic_accept_distributed_trace_payload_httpsafe(string $httpsafe_payload, string $transport_type)
```

Acepta una carga útil de rastreo distribuido que incluye una cadena JSON HTTPSafe (codificada en Base64).

## Requisitos

Requiere [la versión 8.4 o superior](/docs/release-notes/agent-release-notes/php-release-notes) del agente PHP.

## Descripción

[rastreo distribuido](/docs/agents/php-agent/features/distributed-tracing-php) permite ver el camino que sigue una solicitud a medida que viaja a través de un sistema distribuido. Esto es útil, por ejemplo, cuando ocurren transacciones individuales en múltiples servicios y desea examinarlas como una traza completa de la transacción.

<Callout variant="important">
  Con [la versión 9.10 o](/docs/release-notes/agent-release-notes/php-release-notes) superior del agente PHP, las siguientes funciones JSON ahora se consideran obsoletas y se eliminarán en una versión futura:

  ```php
  newrelic_create_distributed_trace_payload()
  newrelic_accept_distributed_trace_payload($payload)
  newrelic_accept_distributed_trace_payload_httpsafe($payload)
  ```

  En su lugar, utilice la API que sea compatible con la compatibilidad con W3C Trace Context, agregada en la versión 9.8 del agente. Con esto, la API para aplicaciones instrumentadas manualmente ha cambiado de las funciones relacionadas con la carga útil JSON a las siguientes formas de matriz de encabezado:

  ```php
  newrelic_insert_distributed_trace_headers($outbound_headers)
  newrelic_accept_distributed_trace_headers($inbound_headers)
  ```
</Callout>

## Parámetros

<table>
  <thead>
    <tr>
      <th width="25%">
        Parámetro
      </th>

      <th>
        Descripción
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `$httpsafe_payload`

        _cadena_
      </td>

      <td>
        Requerido. Una representación de cadena JSON HTTPSafe (codificada en Base64) de la carga útil.
      </td>
    </tr>

    <tr>
      <td>
        `$transport_type`

        _cadena_
      </td>

      <td>
        Opcional. Una cadena que anula el tipo de transporte predeterminado.

        Valores predeterminados:

        * `HTTP` para el tráfico web

        * `Unknown` para tráfico no web

          Valores adicionales aceptados:

        * `AMQP`

        * `HTTP`

        * `HTTPS`

        * `IronMQ`

        * `JMS`

        * `Kafka`

        * `Other`

        * `Queue`
      </td>
    </tr>
  </tbody>
</table>

## Valores de retorno

Devuelve `true` para indicar éxito, o `false` si se produce un error.

## Ejemplos

Para ver ejemplos de cómo y cuándo utilizar este método API, consulte la documentación para [instrumentar aplicaciones y servicios manualmente](/docs/agents/php-agent/features/distributed-tracing-php#manual).
