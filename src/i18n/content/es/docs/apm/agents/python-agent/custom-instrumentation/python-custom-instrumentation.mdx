---
title: Instrumentación Python personalizada
tags:
  - Agents
  - Python agent
  - Custom instrumentation
metaDescription: How to create custom instrumentation with the Python agent by updating the config file or making direct calls to the agent API.
freshnessValidatedDate: never
translationType: machine
---

[La instrumentación personalizada](/docs/apm/other-features/metrics/custom-instrumentation) le permite ampliar el monitoreo y el comportamiento predeterminados del agente para apuntar a llamadas y actividades funcionales adicionales. Puede hacerlo a través del archivo de configuración del agente o mediante la API del agente.

## Instrumentación vía archivo de configuración o API [#options]

Hay dos métodos principales para agregar instrumentación personalizada:

* Si simplemente desea trazar el tiempo dedicado a funciones o métodos de clases adicionales, puede identificar una lista de funciones o métodos en el archivo de configuración del agente. Para obtener más información, consulte [instrumentación mediante archivo de configuración](/docs/agents/python-agent/custom-instrumentation/python-custom-instrumentation-config-file).
* Para casos más complejos, o si desea personalizar cómo se identifica la función en la UI de New Relic, puede colocar la API de llamada en el código de su aplicación. Para más información, ver [instrumentación vía API](/docs/agents/python-agent/custom-instrumentation/python-custom-instrumentation-api).

En cualquier caso, estos mecanismos solo tienen como objetivo la llamada a la función designada. No es recursivo ni permite la creación de perfiles completos debajo de la función anotada.

## Consideraciones adicionales [#notes]

Debes anotar individualmente cada llamada a función que quieras trazar. Si no está seguro de qué función debe anotar, puede utilizar la característica [de creación de perfiles de subprocesos](/docs/applications-menu/thread-profiler) para limitarla.

<Callout variant="caution">
  Recopilar demasiadas métricas puede afectar el rendimiento tanto de su aplicación como del agente. Para evitar posibles problemas con los datos, intente mantener el número total de métricas únicas introducidas por la instrumentación personalizada por debajo de 2000.
</Callout>
