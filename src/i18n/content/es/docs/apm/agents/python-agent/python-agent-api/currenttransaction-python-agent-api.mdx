---
title: current_transaction (API del agente Python)
type: apiDoc
shortDescription: Devuelve un objeto correspondiente a la transacción actual.
tags:
  - Agents
  - Python agent
  - Python agent API
metaDescription: 'New Relic Python API: Retrieves an object corresponding to the current transaction, which is used by some other calls.'
freshnessValidatedDate: never
translationType: machine
---

## Sintaxis

```py
newrelic.agent.current_transaction(active_only=True)
```

Devuelve un objeto correspondiente a la transacción actual.

## Descripción

Utilice `current_transaction` para recuperar el objeto que representa la [transacción](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#transaction) actual. Devolverá `None` si no hay ninguna transacción activa.

## Parámetros

<table>
  <thead>
    <tr>
      <th width="25%">
        Parámetro
      </th>

      <th>
        Descripción
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `active_only`

        _booleano_
      </td>

      <td>
        Opcional. El valor predeterminado es `True`, lo que significa que solo devolverá transacciones activas. Si se establece en `False`, la llamada es capaz de devolver una transacción que finalizó o se detuvo (por ejemplo, si se usó `end_of_transaction` ).
      </td>
    </tr>
  </tbody>
</table>

## Valores de retorno

Devuelve un objeto de transacción correspondiente a la transacción actual. Devuelve `None` si no hay ninguna transacción activa.

## Ejemplos

### Obtener la transacción actual [#function-trace-example]

```py
import newrelic.agent

@newrelic.agent.background_task()
def main():
    transaction = newrelic.agent.current_transaction()
```
