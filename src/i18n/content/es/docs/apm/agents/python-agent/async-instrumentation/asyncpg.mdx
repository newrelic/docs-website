---
title: Asincrpg
tags:
  - Agents
  - Python agent
  - Async instrumentation
metaDescription: How to use New Relic's Python agent with asyncpg
freshnessValidatedDate: never
translationType: machine
---

El agente Python admite el registro de transacciones de base de datos cuando se utiliza el módulo de cliente de base de datos [asyncpg](https://pypi.org/project/asyncpg/) para [PostgresSQL](https://www.postgresql.org/). Esta característica captura el tiempo de consulta de la base de datos, declaraciones SQL para la consulta de la base de datos y un rastreo del stack para consultas largas de la base de datos.

Lea acerca de los requisitos y consejos para integrar nuestro agente Python con una aplicación que usa [asyncpg](https://pypi.org/project/asyncpg/). Para volver a las instrucciones generales de instalación, vaya a [Instalar el agente Python](/docs/agents/python-agent/installation-configuration/python-agent-installation).

## Inicialización automática con script de administración [#wrapper-script]

Si inicia su aplicación con `python app.py` y usa nuestro agente Python <DNT>**version 5.20.0.149**</DNT> o superior, puede usar el [método de integración del script de administración](/docs/agents/python-agent/installation-configuration/python-agent-installation#integration) recomendado. Por ejemplo:

```
NEW_RELIC_CONFIG_FILE=path/to/newrelic.ini newrelic-admin run-program python path_to_app
```

## Usando la API del agente Python [#api]

Puede utilizar la [API del agente Python](/docs/agents/python-agent/python-agent-api) para monitor cualquier servidor o framework ASGI. Para hacer esto, marque el [punto de entrada de la aplicación ASGI](/docs/agents/python-agent/python-agent-api/asgiapplication-python-agent-api) y establezca los [nombres de las transacciones](/docs/agents/python-agent/python-agent-api/settransactionname-python-agent-api).

## Soporte de diagnóstico de bucle de eventos [#event-loops]

Nuestro agente Python admite `asyncio` diagnóstico de bucle de eventos. Para obtener más información, consulte [Diagnóstico de bucle de eventos de Python](/docs/agents/python-agent/supported-features/python-event-loop-diagnostics).
