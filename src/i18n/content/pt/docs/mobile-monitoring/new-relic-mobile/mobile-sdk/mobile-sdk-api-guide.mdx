---
title: Guia do SDK mobile
tags:
  - Mobile monitoring
  - API guides
metaDescription: Customize your mobile agent instrumentation to send custom data and metrics to New Relic.
freshnessValidatedDate: never
translationType: machine
---

Use a chamada de API do SDK New Relic Mobile para personalizar e estender os dados que seu aplicativo móvel reporta para a New Relic.

Embora nossa solução <InlinePopover type="mobile"/>ofereça uma poderosa coleta de dados pronta para uso, talvez você precise personalizar e estender os dados que seu aplicativo móvel reporta para a New Relic. Por exemplo, você pode usar a chamada de API pública do SDK para:

* Inicie e pare o rastreamento da interação do evento em seu aplicativo móvel
* Registro métrico personalizado
* Enviar atributo personalizado e evento
* Rastrear solicitações de rede da biblioteca não suportadas automaticamente
* Definir IDs personalizados para sessões de usuário

## Iniciar [#get-started]

1. Certifique-se de ter o agente móvel mais recente instalado.
2. Selecione uma customização na tabela abaixo e siga a documentação do método.

## Personalizações disponíveis [#methods]

A tabela abaixo lista os métodos SDK suportados para personalizar sua instrumentação de agente móvel. Selecione um método para visualizar exemplos de sintaxe e uso para cada tipo de agente.

<table>
  <thead>
    <tr>
      <th style={{ width: "300px" }}>
        Se você quiser...
      </th>

      <th>
        Use este método
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td id="crash-analysis">
        Registre trilhas para rastrear a atividade do aplicativo que pode ser útil para a resolução de problemas de travamento.
      </td>

      <td>
        [Gravar trilhas](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/record-breadcrumb)
      </td>
    </tr>

    <tr>
      <td id="creating">
        Acompanhe um método como uma interação.
      </td>

      <td>
        [Iniciar interação](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/start-interaction) [Parar interação](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/stop-interaction)

        <Callout variant="tip">
          Se você utilizar esses métodos, o instrumento interação não aparecerá na página [de interação](/docs/mobile-monitoring/mobile-monitoring-ui/mobile-app-pages/interactions-page) , mas ainda poderá ser encontrado com uma consulta NRQL, como:

          ```sql
          query SELECT name FROM Mobile SINCE 7 DAYS AGO
          ```
        </Callout>
      </td>
    </tr>

    <tr>
      <td id="naming">
        Nomeie ou renomeie uma interação.
      </td>

      <td>
        [Interação de nome](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/name-interaction)
      </td>
    </tr>

    <tr>
      <td>
        Defina o ID de build ou versão do seu aplicativo a ser associado à interação.
      </td>

      <td>
        [Definir número de compilação do aplicativo](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/set-application-build-number/)

        [Definir o número da versão do aplicativo](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/set-application-version/)
      </td>
    </tr>

    <tr>
      <td id="create-custom">
        Crie métricas personalizadas.
      </td>

      <td>
        [Registro métrico personalizado](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/record-custom-metrics/)
      </td>
    </tr>

    <tr>
      <td id="attributes-events-insights">
        Relatório atributo personalizado e evento.
      </td>

      <td>
        Existem diversas formas de reportar atributo personalizado e evento:

        * [Gravar atributo personalizado](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/create-attribute)

        * [Aumentar a contagem de atributos da sessão](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/increment-session-attribute-count)

        * [Remover um atributo](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/remove-attribute)

        * [Remover todos os atributos](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/remove-all-attributes)

        * [Gravar evento personalizado](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/record-custom-events)

        * [Gravar trilhas](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/record-breadcrumb)

        * [Defina o tamanho máximo de um pool de eventos](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/set-max-event-pool-size)

        * [Definir tempo máximo que o agente armazena evento na memória](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/set-max-event-buffer-time)

        * [Obtenha o ID de uma sessão atual](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/current-session-id)

        * [Defina um ID de usuário personalizado para associar ao evento e ao atributo](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/set-custom-user-id)

          Para saber mais sobre qual seria o melhor método a ser usado e por quê, consulte [Relatório de monitoramento de evento móvel personalizado e atributo](/docs/data-apis/custom-data/custom-events/report-mobile-monitoring-custom-events-attributes/).
      </td>
    </tr>

    <tr>
      <td id="track-custom">
        Rastreie solicitações e falhas de rede personalizadas.
      </td>

      <td>
        [Rastrear solicitações HTTP](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/network-request-success)

        [Rastreie solicitações HTTP com falha](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/network-request-failures)
      </td>
    </tr>

    <tr>
      <td>
        Registre uma exceção tratada como um evento, incluindo o contexto do que aconteceu.
      </td>

      <td>
        [Registrar exceções tratadas](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/record-handled-exceptions)
      </td>
    </tr>

    <tr>
      <td>
        Registre erros.
      </td>

      <td>
        [Erros de registro](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/record-errors)
      </td>
    </tr>

    <tr>
      <td>
        Atividade de nome para o horário de lançamento do aplicativo.
      </td>

      <td>
        [Definir tempo de lançamento do aplicativo e atividade de destino](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/name-android-activity)
      </td>
    </tr>

    <tr>
      <td>
        Desligue o agente.
      </td>

      <td>
        [Desligue o agente](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/shut-down-agent)
      </td>
    </tr>

    <tr>
      <td>
        Habilitar/desabilitar configurações padrão de monitoramento de Mobile.
      </td>

      <td>
        [Habilitar/desabilitar recurso de monitoramento](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/configure-settings)
      </td>
    </tr>

    <tr>
      <td>
        Execute um relatório de falha de teste.
      </td>

      <td>
        [Relatório de falhas de teste](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/test-crash-reporting)
      </td>
    </tr>
  </tbody>
</table>

## Usando a API do SDK móvel [#android-sdk-usage]

### (Android) Métodos de instrumento automaticamente [#method-list]

A instrumentação automática é um dos recursos mais convenientes do agente Android. No entanto, se interferir no método que está sendo rastreado, adicione `@SkipTrace` ao método e o agente irá ignorá-lo durante a instrumentação em tempo de compilação.

<table>
  <thead>
    <tr>
      <th width={200}>
        <DNT>
          **Classes**
        </DNT>
      </th>

      <th>
        <DNT>
          **Methods**
        </DNT>
      </th>
    </tr>
  </thead>

  <tbody/>

  <tbody>
    <tr>
      <td>
        `Activity`
      </td>

      <td>
        * `onCreate`
        * `onCreateView`
      </td>
    </tr>

    <tr>
      <td>
        `AsyncTask`
      </td>

      <td>
        * `execute`
        * `executeOnExecutor`
      </td>
    </tr>

    <tr>
      <td>
        `BitmapFactory`
      </td>

      <td>
        * `decodeFile`
        * `decodeResourceStream`
        * `decodeResource`
        * `decodeByteArray`
        * `decodeStream`
        * `decodeFileDescriptor`
        * `decodeResourceStream`
      </td>
    </tr>

    <tr>
      <td>
        `SQLiteDatabase`
      </td>

      <td>
        * `query`
        * `queryWithFactory`
        * `rawQuery`
        * `rawQueryWithFactory`
        * `insert`
        * `insertOrThrow`
        * `insertWithOnConflict`
        * `replace`
        * `replaceOrThrow`
        * `delete`
        * `update`
        * `updateWithOnConflict`
        * `execSql`
      </td>
    </tr>

    <tr>
      <td>
        `GSON`
      </td>

      <td>
        * `toJson`
        * `fromJson`
      </td>
    </tr>

    <tr>
      <td>
        `JSONObject`
      </td>

      <td>
        * `<init>`
        * `toString`
      </td>
    </tr>

    <tr>
      <td>
        `JSONArray`
      </td>

      <td>
        * `<init>`
        * `toString`
      </td>
    </tr>
  </tbody>
</table>

### (iOS) Métodos de instrumento automático [#method-list-ios]

A instrumentação automática é um dos recursos mais convenientes do agente iOS. Ele está habilitado por padrão. Para desabilitar configure os flags de recurso `NRFeatureFlag_DefaultInteractions` e `NRFeatureFlag_InteractionTracing`.

A tabela abaixo lista as classes e métodos do instrumento automaticamente no agente iOS.

<table>
  <thead>
    <tr>
      <th width={200}>
        <DNT>
          **Classes**
        </DNT>
      </th>

      <th>
        <DNT>
          **Methods**
        </DNT>
      </th>
    </tr>
  </thead>

  <tbody/>

  <tbody>
    <tr>
      <td>
        `UIViewController`
      </td>

      <td>
        * `viewDidLoad`
        * `viewWillAppear`
        * `viewDidAppear`
        * `viewWillDisappear`
        * `viewDidDisappear`
        * `viewWillLayoutSubviews`
        * `viewDidLayoutSubviews`
      </td>
    </tr>

    <tr>
      <td>
        `UIImage`
      </td>

      <td>
        * `imageNamed`
        * `imageWithContentsOfFile`
        * `imageWithData`
        * `imageWithData:scale:`
        * `initWithContentsOfFile:`
        * `initWithData:`
        * `initWithData:scale:`
      </td>
    </tr>

    <tr>
      <td>
        `NSJSONSerialization`
      </td>

      <td>
        * `JSONObjectWithData:options:error:`
        * `JSONObjectWithStream:options:error:`
        * `dataWithJSONObject:options:error:`
        * `writeJSONObject:toStream:options:error:`
      </td>
    </tr>

    <tr>
      <td>
        `NSManagedObjectContext`
      </td>

      <td>
        * `executeFetchRequest:error:`
        * `processPendingChanges`
      </td>
    </tr>
  </tbody>
</table>

## (iOS) Envio de atributo personalizado e evento [#custom-att-events]

Ao [reportar atributo personalizado e evento](/docs/insights/new-relic-insights/adding-querying-data/custom-attributes-events-new-relic-mobile), utilize os métodos SDK dentro do objeto `NewRelic` .

Os métodos que retornam resultados `BOOL` retornam `YES` se forem bem-sucedidos ou `NO` se a operação não for concluída. Esses métodos estão disponíveis nas versões 5.0.0 ou superior do agente iOS da New Relic.

O SDK pode armazenar até 128 [atributos personalizados](/docs/insights/insights-data-sources/custom-events/insert-custom-events-attributes-mobile-data#event-definition) definidos pelo usuário por vez. Se você tentar armazenar mais de 128 atributos, o SDK retornará `NO`.

Ao nomear um atributo personalizado, recomendamos usar o formato mais simples necessário, como usar uma palavra atributo e sem espaços. Por exemplo, `My Custom Attribute` deve ser formatado como `myCustomAttribute`.

Ao nomear métrica personalizada:

* Evite usar os caracteres `/ ] [ | *` ao nomear coisas.
* Evite caracteres multibyte.
