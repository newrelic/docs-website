---
title: Definir ID de usuário personalizado para sessões
type: apiDoc
shortDescription: Defina um valor de identificador de usuário personalizado para associar sessões de usuário a evento analítico e atributo.
tags:
  - Mobile monitoring
  - Mobile SDK API
  - Custom instrumentation
metaDescription: Mobile app monitoring API used to set a custom user identifier value to associate user sessions with analytics events and attributes.
freshnessValidatedDate: '2023-07-20T00:00:00.000Z'
translationType: machine
---

<Tabs>
  <TabsBar>
    <TabsBarItem id="android">
      Android
    </TabsBarItem>

    <TabsBarItem id="ios">
      iOS
    </TabsBarItem>

    <TabsBarItem id="capacitor">
      Capacitor
    </TabsBarItem>

    <TabsBarItem id="cordova">
      Cordova
    </TabsBarItem>

    <TabsBarItem id="flutter">
      Flutter
    </TabsBarItem>

    <TabsBarItem id="maui">
      .NET MAUI
    </TabsBarItem>

    <TabsBarItem id="react">
      React Native
    </TabsBarItem>

    <TabsBarItem id="unity">
      Unidade
    </TabsBarItem>

    <TabsBarItem id="unreal">
      Unreal Engine
    </TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="android">
      ## Sintaxe [#syntax]

      ### Java [#java]

      ```java
      NewRelic.setUserId(string $userId)
      ```

      ### Kotlin [#kotlin]

      ```kotlin
      NewRelic.setUserId(userId: String?)
      ```

      ## Descrição [#description]

      Defina um valor de identificador de usuário personalizado para associar sessões de usuário a evento analítico e atributo.

      Este método define um valor de identificador de usuário personalizado para associar todos os eventos da sessão de um usuário móvel a um ID de usuário específico. Este método pode ser chamado a qualquer momento após o agente Android do New Relic ser iniciado.

      Um identificador de usuário é útil por vários motivos. Usando a [interface de análise de falhas](/docs/mobile-monitoring/mobile-monitoring-ui/crashes/crash-analysis-group-filter-your-crashes), você pode:

      * Encontre falhas específicas de um usuário. Concentrar-se em uma falha específica de um usuário geralmente é suficiente para resolver o problema rapidamente.
      * Filtre todos os travamentos para mostrar as ocorrências de um usuário (ou grupo de usuários) para cada tipo de travamento; inversamente, filtre a lista de falhas para mostrar os usuários afetados por cada tipo de falha. Se o ID do usuário for representado como um endereço de e-mail, será fácil entrar em contato e informá-los quando houver uma solução disponível que resolva essas falhas.

      Se você não deseja identificar explicitamente o usuário devido às regras de privacidade, este método ainda é útil ao rastrear segmentos de usuário, como usuário final pago versus gratuito ou usuário registrado versus não registrado. Isso permite que você filtre ou analise o número e os tipos de falhas sofridas por cada segmento e faça divulgação com base nesse segmento.

      Para mais contexto sobre como usar esta API, consulte [Enviar atributo personalizado e evento](/docs/data-apis/custom-data/custom-events/report-mobile-monitoring-custom-events-attributes).

      <Callout variant="important">
        As seguintes melhorias foram adicionadas ao agente Android v7.4.0:

        * Quando `setUserId(value: string|null)` é chamado, se `userID` era anteriormente nulo e o novo valor não é nulo, a sessão atual continua e um novo `userID` será definido.
        * Quando `setUserId(value: string|null)` for chamado, se `userID` anteriormente não era nulo e o novo `userID` for diferente (incluindo `null`), a sessão atual será encerrada e uma colheita será executada. Uma nova sessão será criada com o novo `userID`.
      </Callout>

      ## Parâmetro [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              Parâmetro
            </th>

            <th width={200}>
              Tipo
            </th>

            <th>
              Descrição
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `$userID`
            </td>

            <td>
              `string`
            </td>

            <td>
              Obrigatório. Define o ID do usuário.
            </td>
          </tr>
        </tbody>
      </table>

      ## Valores de retorno [#return-values]

      Retorna `true` se for bem-sucedido ou `false` se não.

      ## Exemplo [#example]

      Aqui está um exemplo para definir um identificador de usuário para associar a sessão do usuário a evento e atributo:

      ### Java [#java]

      ```java
      boolean userIdWasSet = NewRelic.setUserId("SampleUserName");
      ```

      ### Kotlin [#kotlin]

      ```kotlin
      val userIdWasSet = NewRelic.setUserId("SampleUserName")
      ```
    </TabsPageItem>

    <TabsPageItem id="ios">
      ## Sintaxe [#syntax]

      ### Objetivo-c

      ```objectivec
      + (BOOL) setUserId:(NSString*)userId;
      ```

      ### Swift [#swift]

      ```swift
      NewRelic.setUserId(userId: String!) -> Bool
      ```

      ## Descrição [#description]

      Defina um valor de identificador de usuário personalizado para associar sessões de usuário a evento analítico e atributo.

      Este método define um valor de identificador de usuário personalizado para associar todos os eventos da sessão de um usuário móvel a um ID de usuário específico. Este método pode ser chamado a qualquer momento após o agente iOS da New Relic ser iniciado.

      Um identificador de usuário é útil por vários motivos. Usando a [interface de análise de falhas](/docs/mobile-monitoring/mobile-monitoring-ui/crashes/crash-analysis-group-filter-your-crashes), você pode:

      * Encontre falhas específicas de um usuário. Concentrar-se em uma falha específica de um usuário geralmente é suficiente para resolver o problema rapidamente.
      * Filtre todos os travamentos para mostrar as ocorrências de um usuário (ou grupo de usuários) para cada tipo de travamento; ou filtre a lista de falhas para mostrar os usuários afetados por cada tipo de falha. Se o ID do usuário for representado como um endereço de e-mail, será fácil entrar em contato e informá-los quando houver uma solução disponível que resolva essas falhas.

      Se você não deseja identificar explicitamente o usuário devido às regras de privacidade, este método ainda é útil ao rastrear segmentos de usuário, como usuário final pago versus gratuito ou usuário registrado versus não registrado. Isso permite que você filtre ou analise o número e os tipos de falhas sofridas por cada segmento e faça divulgação com base nesse segmento.

      <Callout variant="important">
        As seguintes melhorias foram adicionadas ao agente iOS v7.5.0:

        * Quando `setUserId(value: string|null)` é chamado, se `userId` era anteriormente nulo e o novo valor não é nulo, a sessão atual continua e um novo `userId` será definido.

        * Quando `setUserId(value: string|null)` é chamado, se `userId` anteriormente não era nulo e o novo `userId` é diferente (incluindo `null`), a sessão atual será encerrada e uma colheita será executada. Uma nova sessão será criada com o novo `userId`.
      </Callout>

      ## Parâmetro [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              Parâmetro
            </th>

            <th width={200}>
              Tipo
            </th>

            <th>
              Descrição
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `userID`
            </td>

            <td>
              `NSString`
            </td>

            <td>
              Obrigatório. O ID do usuário a ser associado à sessão atual.
            </td>
          </tr>
        </tbody>
      </table>

      ## Valores de retorno [#return-values]

      Retorna `true` se for bem-sucedido ou `false` se não.

      ## Exemplo [#example]

      ### Objective-C [#obj-c]

      ```objectivec
      BOOL userIdWasSet = [NewRelic setUserId:@"SampleUserName"];
      ```

      ### Swift [#swift]

      ```swift
      let userIdWasSet = NewRelic.setUserId("SampleUserName")
      ```
    </TabsPageItem>

    <TabsPageItem id="capacitor">
      ## Sintaxe [#syntax]

      ```typescript
      setUserId(options: { userId: string; }) => void
      ```

      ## Descrição [#description]

      Defina um valor de identificador de usuário personalizado para associar sessões de usuário a evento analítico e atributo.

      ## Parâmetro [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              Parâmetro
            </th>

            <th width={200}>
              Tipo
            </th>

            <th>
              Descrição
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `options`
            </td>

            <td>
              `{ userId: string; }`
            </td>

            <td>
              Obrigatório. Um objeto que contém o ID do usuário.
            </td>
          </tr>

          <tr>
            <td>
              `userId`
            </td>

            <td>
              `string`
            </td>

            <td>
              Obrigatório. O ID do usuário a ser associado à sessão atual.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemplo [#example]

      ```typescript
      NewRelicCapacitorPlugin.setUserId({ userId: "CapacitorUserId" });
      ```
    </TabsPageItem>

    <TabsPageItem id="cordova">
      ## Sintaxe [#syntax]

      ```typescript
      setUserId(userId: string): void;
      ```

      ## Descrição [#description]

      Defina um valor de identificador de usuário personalizado para associar sessões de usuário a evento analítico e atributo.

      ## Parâmetro [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              Parâmetro
            </th>

            <th width={200}>
              Tipo
            </th>

            <th>
              Descrição
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `userID`
            </td>

            <td>
              `string`
            </td>

            <td>
              Obrigatório. O ID do usuário a ser associado à sessão atual.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemplo [#example]

      ```js
      NewRelic.setUserId("CORDOVA12934");
      ```
    </TabsPageItem>

    <TabsPageItem id="maui">
      ## Sintaxe [#syntax]

      ```csharp
      SetUserId(string userId): bool;
      ```

      ## Descrição [#description]

      Defina um valor de identificador de usuário personalizado para associar sessões de usuário a evento analítico e atributo.

      ## Parâmetro [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              Parâmetro
            </th>

            <th width={200}>
              Tipo
            </th>

            <th>
              Descrição
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `userID`
            </td>

            <td>
              `string`
            </td>

            <td>
              Obrigatório. O ID do usuário a ser associado à sessão atual.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemplo [#example]

      ```csharp
      CrossNewRelic.Current.SetUserId("User123");
      ```
    </TabsPageItem>

    <TabsPageItem id="flutter">
      ## Sintaxe [#syntax]

      ```typescript
      setUserId(String userId): void;
      ```

      ## Descrição [#description]

      Defina um valor de identificador de usuário personalizado para associar sessões de usuário a evento analítico e atributo.

      ## Parâmetro [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              Parâmetro
            </th>

            <th width={200}>
              Tipo
            </th>

            <th>
              Descrição
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `userID`
            </td>

            <td>
              `string`
            </td>

            <td>
              Obrigatório. O ID do usuário a ser associado à sessão atual.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemplo [#example]

      ```dart
      NewrelicMobile.instance.setUserId("RN12934");
      ```
    </TabsPageItem>

    <TabsPageItem id="react">
      ## Sintaxe [#syntax]

      ```typescript
      setUserId(userId: string): void;
      ```

      ## Descrição [#description]

      Defina um valor de identificador de usuário personalizado para associar sessões de usuário a evento analítico e atributo.

      ## Parâmetro [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              Parâmetro
            </th>

            <th width={200}>
              Tipo
            </th>

            <th>
              Descrição
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `userID`
            </td>

            <td>
              `string`
            </td>

            <td>
              Obrigatório. O ID do usuário a ser associado à sessão atual.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemplo [#example]

      Definir usuário

      ```js
      NewRelic.setUserId("RN12934");
      ```

      Desativar usuário

      ```js
      NewRelic.setUserId("");
      ```
    </TabsPageItem>

    <TabsPageItem id="unity">
      ## Sintaxe [#syntax]

      ```csharp
      SetUserId(string userId): bool;
      ```

      ## Descrição [#description]

      Defina um valor de identificador de usuário personalizado para associar sessões de usuário a evento analítico e atributo.

      ## Parâmetro [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              Parâmetro
            </th>

            <th width={200}>
              Tipo
            </th>

            <th>
              Descrição
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `userID`
            </td>

            <td>
              `string`
            </td>

            <td>
              Obrigatório. O ID do usuário a ser associado à sessão atual.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemplo [#example]

      ```csharp
      NewRelicAgent.SetUserId("User123");
      ```
    </TabsPageItem>

    <TabsPageItem id="unreal">
      ## Sintaxe [#syntax]

      ```csharp
      setUserId(FString userId): void;
      ```

      ## Descrição [#description]

      Defina um valor de identificador de usuário personalizado para associar sessões de usuário a evento analítico e atributo.

      ## Parâmetro [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              Parâmetro
            </th>

            <th width={200}>
              Tipo
            </th>

            <th>
              Descrição
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `userID`
            </td>

            <td>
              `FString`
            </td>

            <td>
              Obrigatório. O ID do usuário a ser associado à sessão atual.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemplo [#example]

      ```cpp
      #include "NewRelicBPLibrary.h"

      UNewRelicBPLibrary::setUserId("Unreal12934");
      ```
    </TabsPageItem>
  </TabsPages>
</Tabs>