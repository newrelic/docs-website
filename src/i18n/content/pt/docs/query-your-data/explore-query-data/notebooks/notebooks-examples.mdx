---
title: Exemplos de notebooks e casos de uso
tags:
  - Query your data
  - Explore and query data
  - Notebooks
  - Examples
metaDescription: 'Explore real-world examples of New Relic notebooks for incident investigations, performance analysis, and team collaboration to get inspired for your own data stories.'
freshnessValidatedDate: never
translationType: machine
---

Inspire-se com estes exemplos práticos de notebooks que demonstram como criar narrativas de dados convincentes para casos de uso comuns. Cada exemplo mostra como combinar consultas, visualizações e texto narrativo para criar documentos de análise eficazes.

## Caderno de investigação de incidentes

Crie um documento abrangente de investigação de incidentes que ajude sua equipe a entender o que aconteceu e como evitar que se repita no futuro.

### Estrutura

**Bloco Markdown: Visão geral do incidente**

```markdown
# Production API Outage - October 15, 2024

**Incident Start**: 2024-10-15 14:32 UTC
**Incident End**: 2024-10-15 15:18 UTC
**Duration**: 46 minutes
**Impact**: 15% of API requests failed

## Summary
Our main API experienced elevated error rates starting at 14:32 UTC...
```

**Bloco de consulta: Linha do tempo da taxa de erros**

```sql
SELECT count(*) AS 'Total Requests',
       filter(count(*), WHERE httpResponseCode >= 400) AS 'Errors'
FROM Transaction
WHERE appName = 'api-production'
TIMESERIES 1 minute
SINCE '2024-10-15 14:00:00' UNTIL '2024-10-15 16:00:00'
```

**Bloco de consulta: Detalhamento de erros por endpoint**

```sql
SELECT count(*) AS 'Error Count',
       average(duration) AS 'Avg Duration (ms)'
FROM Transaction
WHERE appName = 'api-production'
  AND httpResponseCode >= 400
FACET request.uri
SINCE '2024-10-15 14:00:00' UNTIL '2024-10-15 16:00:00'
ORDER BY count(*) DESC
```

**Bloco Markdown: Análise da causa raiz**

```markdown
## Root Cause Analysis

### Timeline of Events
- **14:32**: Error rates began climbing for `/api/users` endpoint
- **14:35**: Database connection pool exhaustion detected
- **14:45**: Database scaling initiated
- **15:18**: Service fully recovered

### Contributing Factors
1. Unusual traffic spike during product launch
2. Database connection pool too small for peak load
3. Missing rate limiting on user registration endpoint
```

**bloco consulta: desempenho do banco de dados durante incidente**

```sql
SELECT average(duration) AS 'Query Duration (ms)',
       count(*) AS 'Query Count'
FROM DatabaseSample
WHERE host = 'prod-db-01'
TIMESERIES 5 minutes
SINCE '2024-10-15 14:00:00' UNTIL '2024-10-15 16:00:00'
```

## Caderno de análise de desempenho

Acompanhe e analise as tendências de desempenho do aplicativo ao longo do tempo para identificar oportunidades de otimização.

### Estrutura

**Bloco Markdown: Visão geral da análise**

```markdown
# Weekly Performance Review - Week of October 14, 2024

## Objectives
- Review application response times across all services
- Identify performance regressions
- Track progress on optimization initiatives

## Key Metrics
- P95 response time target: < 500ms
- Error rate target: < 0.1%
- Apdex score target: > 0.85
```

**Bloco de consulta: Tendências de tempo de resposta**

```sql
SELECT percentile(duration, 50) AS 'P50',
       percentile(duration, 95) AS 'P95',
       percentile(duration, 99) AS 'P99'
FROM Transaction
WHERE appName IN ('web-frontend', 'api-backend', 'auth-service')
FACET appName
TIMESERIES 1 day
SINCE 7 days ago
```

**Bloco de consulta: Comparação da taxa de erros**

```sql
SELECT percentage(count(*), WHERE error IS true) AS 'Error Rate %'
FROM Transaction
WHERE appName IN ('web-frontend', 'api-backend', 'auth-service')
FACET appName
TIMESERIES 1 day
SINCE 7 days ago
COMPARE WITH 1 week ago
```

**Bloco Markdown: Análise e recomendações**

```markdown
## Key Findings

### Performance Improvements ✅
- API backend P95 improved from 650ms to 420ms
- Authentication service error rate down 50%

### Areas for Attention ⚠️
- Web frontend P95 increased 15% week-over-week
- Database query timeouts up 25%

### Action Items
1. Investigate frontend asset loading delays
2. Optimize top 5 slowest database queries
3. Implement caching for user profile data
```

## rastreamento da adoção de recursos

Monitore como os usuários interagem com o novo recurso e meça o sucesso da adoção.

### Estrutura

**Bloco Markdown: visão geral do recurso**

```markdown
# New Dashboard Feature Adoption - 30 Days Post-Launch

**Launch Date**: September 15, 2024
**Analysis Period**: September 15 - October 15, 2024

## Feature Description
New interactive dashboard builder with drag-and-drop widgets...

## Success Metrics
- **Primary**: 25% of active users create at least one custom dashboard
- **Secondary**: Average 3 widgets per custom dashboard
- **Tertiary**: < 5% bounce rate on dashboard creation page
```

**bloco de consulta: Diariamente usuários ativos criando dashboards**

```sql
SELECT uniqueCount(userId) AS 'Users Creating Dashboards'
FROM PageView
WHERE pageUrl LIKE '%/dashboard/create%'
TIMESERIES 1 day
SINCE 30 days ago
```

**Bloco consulta: criação de dashboard funis**

```sql
SELECT funnel(userId,
  WHERE pageUrl LIKE '%/dashboard/create%' AS 'Started Creation',
  WHERE pageUrl LIKE '%/dashboard/create%' AND eventType = 'widget_added' AS 'Added Widget',
  WHERE eventType = 'dashboard_saved' AS 'Saved Dashboard'
)
FROM PageView, UserAction
SINCE 30 days ago
```

## Notebook para monitoramento de segurança

Criar análises de segurança contínuas para monitorar possíveis ameaças e vulnerabilidades do sistema.

### Estrutura

**Bloco Markdown: Visão geral de segurança**

```markdown
# Weekly Security Review - October 21, 2024

## Monitoring Scope
- Failed authentication attempts
- Unusual API access patterns
- Database query anomalies
- File system access violations

## Alert Thresholds
- Failed logins: > 100/hour from single IP
- API rate limiting: > 1000 requests/minute
- Suspicious queries: containing SQL injection patterns
```

**Bloco de consulta: Padrões de autenticação com falha**

```sql
SELECT count(*) AS 'Failed Attempts',
       latest(remoteAddr) AS 'Source IP'
FROM Log
WHERE message LIKE '%authentication failed%'
FACET remoteAddr
SINCE 7 days ago
HAVING count(*) > 50
ORDER BY count(*) DESC
```

**bloco de consulta: anomalia de acesso API**

```sql
SELECT count(*) AS 'Request Count',
       uniqueCount(userAgent) AS 'Unique User Agents'
FROM Transaction
WHERE appName = 'api-gateway'
FACET request.headers.x-forwarded-for
SINCE 24 hours ago
HAVING count(*) > 10000
ORDER BY count(*) DESC
```

## Dashboard métricas de negócios

Acompanhe os principais KPIs de negócios juntamente com as métricas técnicas para ter uma visão completa.

### Estrutura

**Bloco Markdown: Contexto de negócios**

```markdown
# Monthly Business & Technical Review - October 2024

## Business Objectives
- Increase user engagement by 15%
- Reduce customer support tickets by 20%
- Improve conversion rate to 3.5%

## Technical Performance Targets
- 99.9% uptime
- < 2 second page load times
- Zero security incidents
```

**bloco consulta: métrica de engajamento do usuário**

```sql
SELECT count(*) AS 'Page Views',
       uniqueCount(userId) AS 'Active Users',
       average(duration) AS 'Avg Session Duration'
FROM PageView
TIMESERIES 1 day
SINCE 30 days ago
```

**bloco de consulta: Funis de conversão**

```sql
SELECT funnel(userId,
  WHERE pageUrl = '/signup' AS 'Signup Page',
  WHERE pageUrl = '/signup/verify' AS 'Email Verified',
  WHERE pageUrl = '/onboarding/complete' AS 'Onboarding Complete',
  WHERE eventType = 'subscription_created' AS 'Converted'
)
FROM PageView, UserAction
SINCE 30 days ago
```

## Modelo: Início da investigação

Utilize este modelo como ponto de partida para qualquer investigação de dados.

### Estrutura

**Bloco Markdown: Modelo de investigação**

```markdown
# Investigation: [ISSUE DESCRIPTION]

**Date**: [TODAY'S DATE]
**Investigator**: [YOUR NAME]
**Priority**: [HIGH/MEDIUM/LOW]

## Problem Statement
[Describe what you're investigating and why]

## Hypothesis
[What do you think might be causing the issue?]

## Investigation Plan
1. [First thing to check]
2. [Second thing to check]
3. [Third thing to check]

## Findings
_[Update this section as you discover information]_

## Next Steps
_[What actions should be taken based on your findings?]_
```

**Bloco de consulta: Exploração inicial de dados**

```sql
-- Replace with your initial query
SELECT count(*)
FROM [YourEventType]
WHERE [YourConditions]
SINCE 1 hour ago
```

<Callout variant="tip">
  Comece cada investigação com uma consulta ampla para compreender o âmbito, e depois concentre-se em áreas específicas com base nas suas descobertas.
</Callout>

## práticas recomendadas para exemplos de caderno

### Estruture sua história

1. **Comece com o contexto**: Sempre inicie com um bloco Markdown explicando o propósito.
2. **Siga o fluxo lógico**: organize as consultas na ordem em que alguém naturalmente investigaria.
3. **Apresente as conclusões**: Finalize com blocos Markdown que resumam as descobertas e os próximos passos.

### Torne a consulta reutilizável

* Use variáveis para datas, nomes de aplicativos e limites.
* Comente seu código NRQL para explicar a lógica complexa.
* Selecione intervalos de tempo apropriados para o tipo de análise.

### Dicas de design visual

* Utilize tipos de gráficos consistentes em todas as consultas relacionadas.
* Escolha cores que reforcem sua narrativa.
* Adicione títulos e rótulos claros a todas as visualizações.
* Utilize tabelas para dados detalhados e gráficos para tendências e padrões.

## Qual é o próximo?

* Aprenda como [adicionar consultas aos cadernos](/docs/query-your-data/explore-query-data/notebooks/add-queries-to-notebooks)
* Descubra [opções de compartilhamento](/docs/query-your-data/explore-query-data/notebooks/share-notebooks) para seus cadernos.
* Explore [exemplosNRQL ](/docs/nrql/nrql-examples)para mais inspiração em consultas.