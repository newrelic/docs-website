---
title: Configurar o New Relic MCP
metaDescription: Step-by-step instructions to configure New Relic's Model Context Protocol server with your preferred AI development tools.
freshnessValidatedDate: never
translationType: machine
---

Este guia orienta você na configuração do servidor Model Context Protocol (MCP) da New Relic com suas ferramentas de desenvolvimento de IA preferidas. Selecione seu ambiente abaixo para obter instruções específicas da plataforma.

<Callout variant="important">
  Ao utilizar quaisquer ferramentas de IA, incluindo, mas não se limitando às listadas nesta página, com os servidores New Relic AI MCP, você significa que sua IA executará ações em seu nome. Ao utilizar qualquer um dos métodos descritos aqui, crie e utilize contas apropriadas do New Relic que tenham RBAC e as permissões de acesso mínimas adequadas ao seu caso de uso, requisitos e políticas internas.
</Callout>

Antes de iniciar a configuração do New Relic MCP, certifique-se de ter concluído os [pré-requisitos](/docs/agentic-ai/mcp/overview#prerequisites), incluindo a configuração de autenticação. Em seguida, siga as instruções específicas para o seu ambiente de desenvolvimento.

## Ferramentas de filtragem com tag include [#filtering-tools]

As ferramentas New Relic MCP são organizadas e categorizadas usando tags internas (como `alerting`, `discovery` e `data-access`).

Você pode filtrar dinamicamente as ferramentas que seu agente de IA acessa enviando o cabeçalho `include-tags` `HTTP` com suas requests, conforme mostrado aqui:

<Callout variant="important">
  **Aviso para a região EUA/UE:** Os exemplos de configuração neste tópico usam o URL de conexão MCP da região dos EUA: [https://mcp.newrelic.com/mcp/](https://mcp.newrelic.com/mcp/). Se sua conta New Relic estiver na região da UE, você deve substituir este URL pelo endpoint regional em todos os arquivos de configuração e argumentos de linha de comando: [https://mcp.eu.newrelic.com/mcp/](https://mcp.eu.newrelic.com/mcp/).
</Callout>

```json
"servers": {
    "new-relic-mcp-server": {
        "url": "https://mcp.newrelic.com/mcp/",
        "type": "http",
        "headers": {
            "api-key": "NRAK-****",
            "include-tags": "discovery,alerting"
        }
    }
}
```

Para obter a lista completa de tags disponíveis e as ferramentas associadas a cada uma, consulte a documentação [de referência da ferramentaNew Relic MCP](/docs/agentic-ai/mcp/tool-reference).

## Configuração do código Claude [#claude-code]

O Claude Code suporta os métodos de autenticação OAuth (recomendado) e por chave de API.

### Método OAuth (recomendado) [#oauth]

1. Certifique-se de que o Claude Code esteja instalado e configurado.
2. Adicione o servidor MCP usando a linha de comando:

```shell
claude mcp add newrelic --transport http https://mcp.newrelic.com/mcp/
```

Ou edite `~/.claude.json` como mostrado aqui:

```json
{
  "mcpServers": {
    "newrelic": {
      "httpUrl": "https://mcp.newrelic.com/mcp/",
      "oauth": {
        "enabled": true,
        "clientId": "pUWGgnjsQ0bydqCbavTPpw==",
        "authorizationUrl": "https://login.newrelic.com/login",
        "tokenUrl": "https://mcp.newrelic.com/oauth2/token",
        "scopes": ["openid"]
      }
    }
  }
}
```

3. Comece Claude:

```shell
claude
```

4. Autenticar:

```shell
/mcp
```

5. Selecione o servidor mcp `newrelic` e pressione **ENTER**.

6. Siga o fluxo do navegador `OAuth`.

### método de chave de API [#api-key]

1. Adicione o servidor MCP usando a linha de comando:

```shell
claude mcp add newrelic https://mcp.newrelic.com/mcp/ --transport http --header "Api-Key: NRAK-YOUR-KEY-HERE"
```

Ou edite `~/.claude.json` como mostrado aqui:

```json
{
  "mcpServers": {
    "newrelic": {
      "type": "http",
      "url": "https://mcp.newrelic.com/mcp/",
      "headers": {
        "Api-Key": "NRAK-YOUR-KEY-HERE"
       }
    }
  }
}
```

2. Verifique se o servidor MCP está listado:

```shell
claude mcp list
```

3. Comece Claude:

```shell
claude
```

## Configuração do computador Claude [#claude-desktop]

O Claude Desktop requer o proxy `mcp-remote` para autenticação `OAuth`. Certifique-se de ter `Node.js` instalado em seu computador para que o npx funcione.

### Método OAuth (recomendado) [#oauth]

1. Crie o diretório de configuração (se necessário):

```shell
mkdir -p "~/Library/Application Support/Claude"
```

2. Edite o arquivo de configuração: `~/Library/Application Support/Claude/claude_desktop_config.json` (macOS) ou `%APPDATA%\Claude\claude_desktop_config.json` (Windows).

```json
{
  "mcpServers": {
    "new-relic-mcp": {
      "command": "npx",
      "args": [
        "mcp-remote",
        "https://mcp.newrelic.com/mcp/"
      ]
    }
  }
}
```

3. Reinicie o Claude Desktop.

### método de chave de API [#api-key]

1. Adicione o servidor MCP editando `~/Library/Application Support/Claude/claude_desktop_config.json` (macOS) ou `%APPDATA%\Claude\claude_desktop_config.json` (Windows), conforme mostrado aqui:

#### Para macOS

```json
{
  "mcpServers": {
    "newrelic": {
      "command": "npx",
      "args": [
        "-y",
        "mcp-remote",
        "https://mcp.newrelic.com/mcp/",
        "--transport", "http",
        "--header", "api-key: NRAK-xxxx"
      ]
    }
  }
}
```

#### Para Windows

```json
{
  "mcpServers": {
    "newrelic": {
      "command": "C:\\PROGRA~1\\nodejs\\npx.cmd",
      "args": [
        "-y",
        "mcp-remote",
        "https://mcp.newrelic.com/mcp/",
        "--transport", "http",
        "--header", "api-key: NRAK-xxxx"
      ]
    }
  }
}
```

2. Reinicie o Claude Desktop. No Windows, as alterações podem não ter efeito até que o aplicativo Claude seja fechado via Gerenciador de Tarefas.

## Configuração de windsurf [#windsurf]

### Método OAuth (via proxy remoto mcp) [#oauth]

1. Edite o arquivo de configuração, `~/.codeium/windsurf/mcp_config.json`, conforme mostrado aqui:

```json
{
  "mcpServers": {
    "newrelic-oauth": {
      "command": "npx",
      "args": [
        "-y",
        "mcp-remote",
        "https://mcp.newrelic.com/mcp/"
      ]
    }
  }
}
```

2. Reiniciar Windsurf.

3. Verifique os servidores MCP usando o ícone de martelo no painel Cascade.

### método de chave de API [#api-key]

1. Adicione o servidor MCP editando `~/.codeium/windsurf/mcp_config.json` conforme mostrado aqui:

```json
{
  "mcpServers": {
    "newrelic-api": {
      "serverUrl": "https://mcp.newrelic.com/mcp/",
      "headers": {
        "api-key": "NRAK-YOUR-API-KEY"
      }
    }
  }
}
```

2. Reiniciar Windsurf.

## Configuração da CLI do Gemini [#gemini-cli]

### Método OAuth [#oauth]

1. Edite o arquivo de configurações: `~/.gemini/settings.json` (Linux/macOS) ou `%APPDATA%\Gemini\settings.json` (Windows).

```json
{
  "theme": "Default",
  "selectedAuthType": "oauth-personal",
  "mcpServers": {
    "newrelic": {
      "httpUrl": "https://mcp.newrelic.com/mcp/",
      "oauth": {
        "enabled": true,
        "clientId": "pUWGgnjsQ0bydqCbavTPpw==",
        "authorizationUrl": "https://login.newrelic.com/login",
        "tokenUrl": "https://mcp.newrelic.com/oauth2/token",
        "scopes": ["openid"]
      }
    }
  }
}
```

2. Inicie a CLI do Gemini:

```shell
gemini
```

3. Autenticar:

```shell
/mcp auth newrelic
```

### método de chave de API [#api-key]

1. Adicione o servidor MCP editando `~/.gemini/settings.json` (Linux/macOS) ou `%APPDATA%\Gemini\settings.json` (Windows), conforme mostrado aqui:

```json
{
  "theme": "Default",
  "selectedAuthType": "oauth-personal",
  "mcpServers": {
    "newrelic": {
      "url": "https://mcp.newrelic.com/mcp/",
      "headers": {
        "api-key": "NRAK-YOUR-KEY-HERE"
      }
    }
  }
}
```

2. Inicie a CLI do Gemini:

```shell
gemini
```

3. Autenticar:

```shell
/mcp auth newrelic
```

## Configuração do VS Code [#vs-code]

O VS Code continua totalmente compatível com ambos os métodos de autenticação. Você precisa do VS Code (versão 1.60 ou posterior).

### Método OAuth [#oauth]

Adicione o servidor MCP editando `.vscode/mcp.json` conforme mostrado aqui:

```json
{
  "servers": {
    "new-relic-mcp": {
      "url": "https://mcp.newrelic.com/mcp/",
      "type": "http"
    }
  }
}
```

### método de chave de API [#api-key]

Adicione o servidor MCP editando `.vscode/mcp.json` conforme mostrado aqui:

```json
{
  "servers": {
    "new-relic-mcp": {
      "url": "https://mcp.newrelic.com/mcp/",
      "headers": {
        "api-key": "NRAK-YOUR-API-KEY-HERE"
      }
    }
  }
}
```

### Etapas de configuração

1. Crie ou abra `mcp.json` em seu espaço de trabalho do VS Code:

* Se você não tiver um diretório `.vscode`, crie um na raiz do seu projeto.

  * Dentro de `.vscode`, crie um arquivo chamado `mcp.json`.
  * Adicione sua configuração de autenticação usando um dos métodos acima.

2. Iniciar servidor:

   * Certifique-se de que seu arquivo `mcp.json` esteja aberto no editor.
   * Procure um link clicável (CodeLens) acima da configuração do seu servidor. Clique para iniciar o servidor MCP.

Uma vez conectado, você pode interagir com New Relic AI usando comandos em linguagem natural. O servidor MCP irá gerenciar a autenticação e a recuperação de dados da sua conta New Relic.