---
title: Suporte para funções NRQL em regras de pipeline
metaDescription: Learn about the support for NRQL functions in pipeline rules and how to use them effectively.
freshnessValidatedDate: never
translationType: machine
---

Este documento descreve as funções NRQL suportadas pelo gateway de Pipeline Control. Este aprimoramento fornece maneiras de gerenciar seus dados no New Relic.

<table>
  <thead>
    <tr>
      <th>
        Função
      </th>

      <th>
        Descrição
      </th>

      <th>
        Exemplo de consulta NRQL
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `[aparse()](/docs/nrql/nrql-syntax-clauses-functions/#func-aparse)`
      </td>

      <td>
        Extrai um valor de uma string com base em um padrão especificado.
      </td>

      <td>
        `DELETE FROM Log WHERE aparse(message, 'Error: %') = 'timeout'`
      </td>
    </tr>

    <tr>
      <td>
        `[dimensions()](/docs/nrql/nrql-syntax-clauses-functions/#func-dimensions)`
      </td>

      <td>
        Filtra dados com base em facetas ou dimensões associadas à sua métrica/evento.
      </td>

      <td>
        `DELETE FROM Log WHERE dimensions() LIKE '%collectd%'`
      </td>
    </tr>

    <tr>
      <td>
        `[floor()](/docs/nrql/nrql-syntax-clauses-functions/#floor)`
      </td>

      <td>
        Retorna o maior inteiro menor ou igual ao número especificado.
      </td>

      <td>
        `DELETE FROM Metric WHERE floor(duration) > 5`
      </td>
    </tr>

    <tr>
      <td>
        `[getField()](/docs/nrql/nrql-syntax-clauses-functions/#func-getfield)`
      </td>

      <td>
        Extrai um campo específico de uma estrutura de dados complexa (por exemplo, objeto JSON).
      </td>

      <td>
        `DELETE FROM Metric WHERE getField(cpu_usage, percent) > 90`
      </td>
    </tr>

    <tr>
      <td>
        `[hourOf()](/docs/nrql/nrql-syntax-clauses-functions/#func-minOf)`
      </td>

      <td>
        Extrai o componente de hora de um timestamp.
      </td>

      <td>
        `DELETE FROM Log WHERE hourOf(timestamp) IN (2, 3, 4)`
      </td>
    </tr>

    <tr>
      <td>
        `[mod()](/docs/nrql/nrql-syntax-clauses-functions/#func-mod)`
      </td>

      <td>
        Retorna o resto de uma operação de divisão.
      </td>

      <td>
        `DELETE FROM Log WHERE mod(timestamp/1000,20) != 1`
      </td>
    </tr>

    <tr>
      <td>
        `[numeric()](/docs/nrql/nrql-syntax-clauses-functions/#type-conversion)`
      </td>

      <td>
        Converte um valor de string em um tipo numérico.
      </td>

      <td>
        `DELETE FROM Log WHERE numeric(responseTime) > 1000`
      </td>
    </tr>

    <tr>
      <td>
        `[round()](/docs/nrql/nrql-syntax-clauses-functions/#round)`
      </td>

      <td>
        Arredonda um número para o inteiro mais próximo ou para um número especificado de decimais.
      </td>

      <td>
        `DELETE FROM Metric WHERE round(latency, 2) > 0.5`
      </td>
    </tr>

    <tr>
      <td>
        `[string()](/docs/nrql/nrql-syntax-clauses-functions/#func-string)`
      </td>

      <td>
        Converte um valor numérico ou outro em um tipo de sequência de caracteres.
      </td>

      <td>
        `DELETE FROM Log WHERE string(statusCode) = '404'`
      </td>
    </tr>

    <tr>
      <td>
        `[substring()](/docs/nrql/nrql-syntax-clauses-functions/#func-substring)`
      </td>

      <td>
        Extrai uma parte especificada de uma string.
      </td>

      <td>
        `DELETE FROM Log WHERE substring(transactionId, 1, 3) = 'tmp'`
      </td>
    </tr>

    <tr>
      <td>
        `weekdayOf()`
      </td>

      <td>
        Extrai o dia da semana de um timestamp (por exemplo, &apos;segunda-feira&apos;, &apos;domingo&apos;).
      </td>

      <td>
        `DELETE FROM Metric WHERE weekdayOf(timestamp) IN ('Saturday', 'Sunday')`
      </td>
    </tr>
  </tbody>
</table>

## Exemplos de funções NRQL em regras de pipeline

Esses exemplos demonstram como você pode combinar várias funções e usá-las em cenários mais complexos para obter filtragem e exclusão de dados precisas.

* `DELETE FROM ContainerSample WHERE state = 'exited' AND status LIKE '%Exited%' AND status NOT LIKE '%second%' AND status NOT LIKE '%About a minute ago%' AND NOT (status LIKE '%minute%' AND numeric(aparse(status,'%Exited (%) * minutes ago%')) < 10)`
* `DELETE FROM Log, LogExtendedRecord WHERE dimensions() LIKE '%collectd%' AND newrelic.logs.customEventType IS NULL`
* `DELETE FROM Log WHERE message LIKE '%lib/ladon/middleware/caching.rb:49 run> terminated with exception%' AND floor(timestamp/101) = (timestamp/101)`

Essas novas funções expandem significativamente os recursos da sua consulta NRQL ao trabalhar com o gateway Controle de Pipeline, permitindo análise e gerenciamento de dados mais precisos.