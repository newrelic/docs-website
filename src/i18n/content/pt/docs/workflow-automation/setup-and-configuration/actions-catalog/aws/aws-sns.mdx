---
title: Ações do AWS SNS
tags:
  - workflow automation
  - workflow
  - workflow automation actions
  - AWS actions
  - AWS SNS actions
metaDescription: A list of available aws sns actions in the actions catalog for workflow definitions
freshnessValidatedDate: never
translationType: machine
---

<Callout title="visualização">
  Ainda estamos trabalhando nesse recurso, mas adoraríamos que você experimentasse!

  Atualmente, esse recurso é fornecido como parte de um programa de visualização de acordo com nossas [políticas de pré-lançamento](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

Esta página fornece uma referência completa para as ações do AWS SNS disponíveis no catálogo de ações de automação de fluxo de trabalho. Essas ações permitem que você realize operações em tópicos de redes sociais.

## Pré-requisitos

Antes de usar as ações AWS na automação do fluxo de trabalho, certifique-se de ter:

* Uma conta da AWS com as permissões apropriadas.
* Credenciais da AWS configuradas (credenciais de usuário do IAM, ARN da função do IAM ou credenciais de sessão).
* As permissões IAM necessárias para os serviços específicos da AWS que você planeja usar.

Consulte [Configurar credenciais AWS ](/docs/workflow-automation/setup-and-configuration/set-up-aws-credentials/)para obter informações sobre como criar usuários e funções do IAM e configurar credenciais estáticas e de sessão AWS para integração com as ações de automação de fluxo de trabalho AWS.

## Publicar uma mensagem em um tópico do AWS SNS [#aws-sns-publish]

Envia uma mensagem para um tópico do Amazon SNS. Todos os assinantes do tópico receberão a mensagem.

<Tabs>
  <TabsBar>
    <TabsBarItem id="aws-sns-publish-inputs">
      Entradas
    </TabsBarItem>

    <TabsBarItem id="aws-sns-publish-outputs">
      Saídas
    </TabsBarItem>

    <TabsBarItem id="aws-sns-publish-example">
      Exemplo
    </TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="aws-sns-publish-inputs">
      <table>
        <thead>
          <tr>
            <th>
              Campo de entrada
            </th>

            <th>
              Opcionalidade
            </th>

            <th>
              Tipo
            </th>

            <th>
              Exemplo
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              **awsRoleArn**
            </td>

            <td>
              Opcional
            </td>

            <td>
              Corda
            </td>

            <td>
              `arn:aws:iam::123456789012:role/my-workflow-role`
            </td>
          </tr>

          <tr>
            <td>
              **awsAccessKeyId**
            </td>

            <td>
              Opcional
            </td>

            <td>
              Corda
            </td>

            <td>
              `${{ :secrets:<awsAccessKeyId> }}`
            </td>
          </tr>

          <tr>
            <td>
              **awsSecretAccessKey**
            </td>

            <td>
              Opcional
            </td>

            <td>
              Corda
            </td>

            <td>
              `${{ :secrets:<awsSecretAccessKey> }}`
            </td>
          </tr>

          <tr>
            <td>
              **awsSessionToken**
            </td>

            <td>
              Opcional
            </td>

            <td>
              Corda
            </td>

            <td>
              `${{ :secrets:<awsSessionToken> }}`
            </td>
          </tr>

          <tr>
            <td>
              **região**
            </td>

            <td>
              Obrigatório
            </td>

            <td>
              Corda
            </td>

            <td>
              `"us-east-2"`
            </td>
          </tr>

          <tr>
            <td>
              **mensagem**
            </td>

            <td>
              Obrigatório
            </td>

            <td>
              Corda
            </td>

            <td>
              As mensagens devem ser strings codificadas em UTF-8 e ter no máximo 256 KB de tamanho.

              `Workflow failed at step 3`
            </td>
          </tr>

          <tr>
            <td>
              **topicArn**
            </td>

            <td>
              Opcional
            </td>

            <td>
              Corda
            </td>

            <td>
              Se você não especificar um valor para o parâmetro topicArn, deverá especificar um valor para o parâmetro targetArn.

              `"arn:aws:sns:us-east-2:123456789012:my-topic"`
            </td>
          </tr>

          <tr>
            <td>
              **targetArn**
            </td>

            <td>
              Opcional
            </td>

            <td>
              Corda
            </td>

            <td>
              Se você não especificar um valor para o parâmetro topicArn, deverá especificar um valor para o parâmetro targetArn.

              `"arn:aws:sns:us-east-2:123456789012:MySNSTopic"`
            </td>
          </tr>

          <tr>
            <td>
              **assunto**
            </td>

            <td>
              Opcional
            </td>

            <td>
              Corda
            </td>

            <td>
              `"Workflow Update"`
            </td>
          </tr>

          <tr>
            <td>
              **MessageStructure**
            </td>

            <td>
              Opcional
            </td>

            <td>
              Corda
            </td>

            <td>
              `MessageStructure`
            </td>
          </tr>

          <tr>
            <td>
              **messageAttributes**
            </td>

            <td>
              Opcional
            </td>

            <td>
              Mapa
            </td>

            <td>
              ```yaml
              {
                'string': {
                   'DataType': 'string',
                   'StringValue': 'string',
                   'BinaryValue': b'bytes'
                 }
              },
              ```
            </td>
          </tr>

          <tr>
            <td>
              **messageDeduplicationId**
            </td>

            <td>
              Opcional
            </td>

            <td>
              Corda
            </td>

            <td>
              `"abc123deduplicationId5678"`
            </td>
          </tr>

          <tr>
            <td>
              **messageGroupId**
            </td>

            <td>
              Opcional
            </td>

            <td>
              Corda
            </td>

            <td>
              `"order-processing-group-2023_A"`
            </td>
          </tr>
        </tbody>
      </table>

      <CollapserGroup>
        <Collapser id="list-of-inputs-aws-sns-publish" title="Lista de entradas opcionais que não são consideradas no catálogo de ações.">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de entrada
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Exemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  PhoneNumber
                </td>

                <td>
                  Corda
                </td>

                <td>
                  Não incluímos o número de telefone, pois ele é considerado Informação de Identificação Pessoal (PII).
                </td>
              </tr>
            </tbody>
          </table>
        </Collapser>
      </CollapserGroup>
    </TabsPageItem>

    <TabsPageItem id="aws-sns-publish-outputs">
      <table>
        <thead>
          <tr>
            <th>
              Campo de saída
            </th>

            <th>
              Tipo
            </th>

            <th>
              Exemplo
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              **response**
            </td>

            <td>
              objeto
            </td>

            <td>
              `[{"success":true,"response":{"MessageId":"2333ededwedwed-52f5-a716-e10355e3e2ff"}}]`

              A sintaxe da resposta pode ser consultada na documentação do sns-publish-Boto3]\([https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/sns/client/publish.html](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/sns/client/publish.html))
            </td>
          </tr>

          <tr>
            <td>
              **sucesso**
            </td>

            <td>
              Boleano
            </td>

            <td>
              `success: true | false`
            </td>
          </tr>

          <tr>
            <td>
              **mensagem de erro**
            </td>

            <td>
              Corda
            </td>

            <td>
              `[{"errorMessage":"An error occurred (InvalidParameter) when calling the Publish operation: Invalid parameter: TopicArn or TargetArn Reason: no value for required parameter","success":false,"response":null}]`
            </td>
          </tr>
        </tbody>
      </table>
    </TabsPageItem>

    <TabsPageItem id="aws-sns-publish-example">
      ```yaml
      name: sns-publish-test
      description: Publishes a notification to an SNS topic
      workflowInputs:
        arnRole:
          type: String
      steps:
        - name: aws_sns_publish_1
          type: action
          action: aws.sns.publish
          version: '1'
          inputs:
            awsRoleArn: ${{ .workflowInputs.arnRole }}
            region: us-east-1
            topicArn: arn:aws:sns:us-east-1:123456789012:workflow-test-topic
            subject: "Workflow Update"
            message: "The data processing workflow has completed successfully."
          next: end
      ```
    </TabsPageItem>
  </TabsPages>
</Tabs>