---
title: HTTP GET
tags:
  - workflow automation
  - workflow
  - workflow automation actions
  - HTTP actions
  - HTTP GET
metaDescription: A list of available http get in the actions catalog for workflow definitions
freshnessValidatedDate: never
translationType: machine
---

<Callout title="visualização">
  Ainda estamos trabalhando nesse recurso, mas adoraríamos que você experimentasse!

  Atualmente, esse recurso é fornecido como parte de um programa de visualização de acordo com nossas [políticas de pré-lançamento](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

Esta página fornece uma referência completa para o método HTTP GET disponível no catálogo de ações de automação de fluxo de trabalho. Essas ações permitem que você execute operações HTTP GET (solicitação).

## Pré-requisitos

Antes de usar ações HTTP na automação de fluxo de trabalho, certifique-se de ter:

* endpointde destino de URLs API.
* Quaisquer credenciais de autenticação necessárias (chave de API, token, etc.).
* Compreensão dos formatos de requisição/resposta da API.

<Callout variant="tip">
  As ações HTTP suportam sintaxe secreta para qualquer valor de cabeçalho, permitindo que você passe dados sensíveis com segurança, como a chave de API. Consulte [o gerenciador de segredos](/docs/workflow-automation/limitations-and-faq/workflow-best-practices/#secure-credentials) para obter mais informações.
</Callout>

## Cabeçalhos de solicitação automáticos [#automatic-headers]

Todas requests HTTP realizadas pelo fluxo de trabalho Automation incluem automaticamente os seguintes cabeçalhos:

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        Cabeçalho
      </th>

      <th>
        Formatar
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `x-abuse-info`
      </td>

      <td>
        `Request sent by a New Relic WorkflowAutomation. {runId}`

        <br />

        onde 

        `{runId}`

         é o ID da execução do fluxo de trabalho
      </td>
    </tr>

    <tr>
      <td>
        `User-Agent`
      </td>

      <td>
        `NewRelic/WorkflowAutomation (region={region}; https://newrelic.com ; support@newrelic.com)`

        <br />

        onde 

        `{region}`

         é a região de New Relic
      </td>
    </tr>
  </tbody>
</table>

## Solicitar dados da web [#http-get]

Realize uma chamada HTTP GET para recuperar dados de um endpointda API.

<Callout variant="important">
  Se você precisar passar dados sensíveis para uma entrada, por exemplo um cabeçalho `Api-Key`, você pode usar valores armazenados por meio da mutação [secretsManagementCreateSecret](https://onenr.io/0KQXX6BmdQa) do NerdGraph.

  **Exemplo**

  ```yaml
    {
      "inputs": [
        {
          "key": "headers",
          "value": "{\"Api-Key\": \"${{ :secrets:NR_API_KEY }}\"}"
        }
      ]
    }
  ```
</Callout>

<Tabs>
  <TabsBar>
    <TabsBarItem id="httpgetinputs">
      Entradas
    </TabsBarItem>

    <TabsBarItem id="httpgetoutputs">
      Saídas
    </TabsBarItem>

    <TabsBarItem id="httpgetexample">
      Exemplo
    </TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="httpgetinputs">
      <table>
        <thead>
          <tr>
            <th>
              Campo de entrada
            </th>

            <th>
              Opcionalidade
            </th>

            <th>
              Tipo
            </th>

            <th>
              Descrição
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              **url**
            </td>

            <td>
              Obrigatório
            </td>

            <td>
              Corda
            </td>

            <td>
              A URL de destino da solicitação. O esquema deve ser incluído: 

              `https://example.com`

              . Consulte a seção sobre 

              [como usar entradas de fluxo de trabalho](/docs/workflow-automation/workflow-examples/#using-workflow-inputs)

               para valores dinâmicos.
            </td>
          </tr>

          <tr>
            <td>
              **parâmetros da URL**
            </td>

            <td>
              Opcional
            </td>

            <td>
              Mapa
            </td>

            <td>
              O parâmetro de consulta deve ser adicionado à URL. Recebe um objeto JSON em formato de string.
            </td>
          </tr>

          <tr>
            <td>
              **cabeçalhos**
            </td>

            <td>
              Opcional
            </td>

            <td>
              Mapa
            </td>

            <td>
              Os cabeçalhos a serem adicionados à solicitação. Recebe um objeto JSON em formato de string.
            </td>
          </tr>

          <tr>
            <td>
              **seletores**
            </td>

            <td>
              Opcional
            </td>

            <td>
              Lista
            </td>

            <td>
              Os seletores permitem obter apenas o parâmetro especificado como saída.
            </td>
          </tr>
        </tbody>
      </table>

      ### Seletores

      **Objetivo:** Extrair dados específicos da resposta da API.

      **Estrutura:**

      * `name`: O nome da variável para armazenar o valor extraído
      * `expression`: JSONPath ou expressão para analisar a resposta
      * Use `responseBody | fromjson` para analisar respostas JSON
      * Adicione filtros adicionais em cadeia usando a notação de ponto (por exemplo, `.abbreviation`).
    </TabsPageItem>

    <TabsPageItem id="httpgetoutputs">
      <table>
        <thead>
          <tr>
            <th>
              Campo de saída
            </th>

            <th>
              Tipo
            </th>

            <th>
              Descrição
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              **respostaCorpo**
            </td>

            <td>
              Corda
            </td>

            <td>
              O corpo da resposta.
            </td>
          </tr>

          <tr>
            <td>
              **código de status**
            </td>

            <td>
              Interno
            </td>

            <td>
              O código de status da resposta.
            </td>
          </tr>

          <tr>
            <td>
              **sucesso**
            </td>

            <td>
              Boleano
            </td>

            <td>
              Status da solicitação.
            </td>
          </tr>

          <tr>
            <td>
              **mensagem de erro**
            </td>

            <td>
              Corda
            </td>

            <td>
              Motivo da falha como mensagem.
            </td>
          </tr>
        </tbody>
      </table>
    </TabsPageItem>

    <TabsPageItem id="httpgetexample">
      <table>
        <thead>
          <tr>
            <th>
              Definição de fluxo de trabalho
            </th>

            <th>
              Entrada
            </th>

            <th>
              Saída
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              ```yaml
              name: httpGetTest
              steps:
                - name: query
                  type: action
                  action: http.get
                  version: 1
                  inputs:
                    url: ${{ .workflowInputs.url }}
                    urlParams: ${{ .workflowInputs.urlParams }}
                    headers: ${{ .workflowInputs.headers }}
                    selectors: ${{ .workflowInputs.selectors }}
              ```
            </td>

            <td>
              ```yaml
                {
                  "inputs": [
                    {
                      "key": "url",
                      "value": "https://example.com"
                    },
                    {
                      "key": "urlParams",
                      "value": "{\"foo\": \"bar\"}"
                    },
                    {
                      "key": "headers",
                      "value": "{\"baz\": \"bat\"}"
                    },
                    {
                      "key": "selectors",
                      "value": "[{\"name\": \"responseBody\", \"expression\": \".responseBody\"}, {\"name\": \"statusCode\", \"expression\": \".statusCode\"}]"
                    }
                  ]
                }
              ```
            </td>

            <td>
              ```yaml
                Success case:
                  {
                    "responseBody": "<!doctype html>\n<html>...</html>\n",
                    "statusCode": 200,
                    "success": true
                  }

                Failure case:
                  {
                    "errorMessage": "An unexpected error failed to call http get endpoint.",
                    "success": false
                  }
              ```
            </td>
          </tr>
        </tbody>
      </table>
    </TabsPageItem>
  </TabsPages>
</Tabs>