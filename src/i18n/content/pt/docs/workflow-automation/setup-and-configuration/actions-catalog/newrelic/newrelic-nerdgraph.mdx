---
title: Ações do New Relic NerdGraph
tags:
  - workflow automation
  - workflow
  - workflow automation actions
  - New Relic actions
  - New Relic NerdGraph actions
metaDescription: A list of available new relic nerdgraph actions in the actions catalog for workflow definitions
freshnessValidatedDate: never
translationType: machine
---

<Callout title="visualização">
  Ainda estamos trabalhando nesse recurso, mas adoraríamos que você experimentasse!

  Atualmente, esse recurso é fornecido como parte de um programa de visualização de acordo com nossas [políticas de pré-lançamento](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

Esta página fornece uma referência completa para as novas ações do Nerdgraph do New Relic disponíveis no catálogo de ações de automação de fluxo de trabalho. Essas ações permitem que você execute consultas e mutações no Nerdgraph.

## Pré-requisitos

Antes de usar as ações New Relic na automação do fluxo de trabalho, certifique-se de ter:

* Uma conta New Relic com as permissões apropriadas.
* Uma chave de licença do New Relic (caso esteja enviando dados para uma conta diferente).
* As permissões necessárias para os serviços específicos do New Relic que você planeja usar.

Consulte [chave de licença](/docs/apis/intro-apis/new-relic-api-keys/#license-key) para obter informações sobre como criar e gerenciar sua conta New Relic chave de licença.

## Ações do NerdGraph

### Execute uma consulta ou mutação GraphQL na API New Relic NerdGraph. [#newrelic-nerdgraph-execute]

Executa um comando GraphQL na API NerdGraph do New Relic. O comando pode ser uma consulta ou uma mutação.

<Tabs>
  <TabsBar>
    <TabsBarItem id="nerdgraph-execute-inputs">
      Entradas
    </TabsBarItem>

    <TabsBarItem id="nerdgraph-execute-outputs">
      Saídas
    </TabsBarItem>

    <TabsBarItem id="nerdgraph-execute-example">
      Exemplo
    </TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="nerdgraph-execute-inputs">
      <table>
        <thead>
          <tr>
            <th>
              Entrada
            </th>

            <th>
              Opcionalidade
            </th>

            <th>
              Tipo
            </th>

            <th>
              Descrição
            </th>

            <th>
              Exemplo
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              **graphql**
            </td>

            <td>
              Obrigatório
            </td>

            <td>
              Corda
            </td>

            <td>
              Uma sintaxe GraphQL. Use 

              [o GraphiQL](https://one.newrelic.com/nerdgraph-graphiql?state=c8579e50-f154-fec6-22b8-f9fdcfc1990a)

               para construir e testar seu comando.
            </td>

            <td />
          </tr>

          <tr>
            <td>
              **variáveis**
            </td>

            <td>
              Obrigatório
            </td>

            <td>
              Map[string]any
            </td>

            <td>
              Quaisquer variáveis de par principal-valor para usar com a instrução GraphQL.
            </td>

            <td />
          </tr>

          <tr>
            <td>
              **seletores**
            </td>

            <td>
              Opcional
            </td>

            <td>
              Lista
            </td>

            <td>
              Os seletores permitem obter como saída apenas o parâmetro especificado.
            </td>

            <td>
              ```yaml
                steps:
              - name: findingVar
                type: action
                action: newrelic.nerdgraph.execute
                version: 1
                inputs:
                  graphql: |
                    query GetEntity($entityGuid: EntityGuid!) {
                      actor {
                        entity(guid: $entityGuid) {
                          alertSeverity
                        }
                      }
                    }
                  variables:
                    entityGuid: ${{ .workflowInputs.entityGuid }}
              - name: findingInline
                type: action
                action: newrelic.nerdgraph.execute
                version: 1
                inputs:
                  graphql: |
                    {
                      actor {
                        entity(guid: "${{ .workflowInputs.entityGuid }}") {
                          alertSeverity
                        }
                      }
                    }
                  selectors:
                    - name: entities
                      expression: '.data'
              ```
            </td>
          </tr>
        </tbody>
      </table>
    </TabsPageItem>

    <TabsPageItem id="nerdgraph-execute-outputs">
      <table>
        <thead>
          <tr>
            <th>
              Saída
            </th>

            <th>
              Tipo
            </th>

            <th>
              Descrição
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              **dados**
            </td>

            <td>
              `Map[string]any`
            </td>

            <td>
              Conteúdo da propriedade 

              `data`

               de uma resposta do NerdGraph.
            </td>
          </tr>

          <tr>
            <td>
              **sucesso**
            </td>

            <td>
              Boleano
            </td>

            <td>
              Status da solicitação.
            </td>
          </tr>

          <tr>
            <td>
              **mensagem de erro**
            </td>

            <td>
              Corda
            </td>

            <td>
              Motivo da falha como mensagem.
            </td>
          </tr>
        </tbody>
      </table>
    </TabsPageItem>

    <TabsPageItem id="nerdgraph-execute-example">
      <table>
        <thead>
          <tr>
            <th>
              Exemplo
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              ```yaml
                  steps:
              - name: currentUserId
                type: action
                action: newrelic.nerdgraph.execute
                version: 1
                inputs:
                  graphql: |
                    query userId {
                      currentUser {
                        id
                      }
                    }
              - name: sayHello
                type: action
                action: example.messaging.sayHello
                version: 1
                inputs:
                   name: ${{ .steps.currentUserId.outputs.data.currentUser.id }}
              ```
            </td>
          </tr>
        </tbody>
      </table>
    </TabsPageItem>
  </TabsPages>
</Tabs>