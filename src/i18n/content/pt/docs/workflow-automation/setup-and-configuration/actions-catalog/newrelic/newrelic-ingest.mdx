---
title: Ações de ingestão do New Relic
tags:
  - workflow automation
  - workflow
  - workflow automation actions
  - New Relic actions
  - New Relic Ingest actions
metaDescription: A list of available new relic ingest actions in the actions catalog for workflow definitions
freshnessValidatedDate: never
translationType: machine
---

<Callout title="visualização">
  Ainda estamos trabalhando nesse recurso, mas adoraríamos que você experimentasse!

  Atualmente, esse recurso é fornecido como parte de um programa de visualização de acordo com nossas [políticas de pré-lançamento](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

Esta página fornece uma referência completa para as ações de ingestão do New Relic disponíveis no catálogo de ações de automação do fluxo de trabalho. Essas ações permitem que você envie eventos e logs para o New Relic.

## Pré-requisitos

Antes de usar as ações New Relic na automação do fluxo de trabalho, certifique-se de ter:

* Uma conta New Relic com as permissões apropriadas.
* Uma chave de licença do New Relic (caso esteja enviando dados para uma conta diferente).
* As permissões necessárias para os serviços específicos do New Relic que você planeja usar.

Consulte [chave de licença](/docs/apis/intro-apis/new-relic-api-keys/#license-key) para obter informações sobre como criar e gerenciar sua conta New Relic chave de licença.

## Ações de ingestão de dados

<CollapserGroup>
  <Collapser id="newrelic-ingest-sendevents" title="Enviar evento personalizado para New Relic">
    Reporta um evento personalizado ao New Relic.

    <Tabs>
      <TabsBar>
        <TabsBarItem id="createventinputs">
          Entradas
        </TabsBarItem>

        <TabsBarItem id="createventoutputs">
          Saídas
        </TabsBarItem>

        <TabsBarItem id="createventexample">
          Exemplo
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="createventinputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de entrada
                </th>

                <th>
                  Opcionalidade
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Descrição
                </th>

                <th>
                  Exemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **atributo**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Mapa
                </td>

                <td>
                  Atributo comum que faz parte de todos os eventos quando fornecido.

                  A fusão de cada item de evento, quando necessário, substitui a definição comum.
                </td>

                <td>
                  `"{\"page\": \"1\", \"limit\": \"10\"}"`
                </td>
              </tr>

              <tr>
                <td>
                  **eventos**
                </td>

                <td>
                  Obrigatório
                </td>

                <td>
                  Lista
                </td>

                <td>
                  Lista de dados do evento.

                  <Callout variant="important">
                    O evento requer o uso de um campo `eventType` que representa o tipo personalizado do evento. O número máximo de eventos permitidos por solicitação é **100**.
                  </Callout>
                </td>

                <td>
                  `"[{\"eventType\":\"XYZ\",\"attributes\":{\"foo\":\"bar\"}}, {\"eventType\":\"ABC\",\"value\":\"1234\",\"attributes\":{\"color\":\"red\"}}]"`
                </td>
              </tr>

              <tr>
                <td>
                  **chave de licença**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Corda
                </td>

                <td>
                  A **chave de licença da contaNew Relic **(obrigatória) especifica a conta de destino para o seu evento. Caso não seja fornecida, o sistema utiliza a chave de licença padrão da conta que executa o fluxo de trabalho.

                  [Leia mais sobre nossa chave de API](/docs/apis/intro-apis/new-relic-api-keys/#license-key) para criar e gerenciar sua **contaNew Relic **.
                </td>

                <td>
                  `"{{ .secrets.secretName }}"`

                  , onde 

                  `secretName`

                   é a chave sob a qual a chave de licença está armazenada.
                </td>
              </tr>

              <tr>
                <td>
                  **seletores**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Lista
                </td>

                <td>
                  Os seletores permitem obter apenas o parâmetro especificado como saída.
                </td>

                <td>
                  `[{\"name\": \"success\", \"expression\": \".success\"}]`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="createventoutputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de saída
                </th>

                <th>
                  Tipo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **sucesso**
                </td>

                <td>
                  Boleano
                </td>
              </tr>

              <tr>
                <td>
                  **mensagem de erro**
                </td>

                <td>
                  corda
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="createventexample">
          <table>
            <thead>
              <tr>
                <th>
                  Exemplo de fluxo de trabalho
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                  name: heartbeat_newrelicIngestSendEvents

                  workflowInputs:
                  cellName:
                    type: String

                  steps:
                  - name: runAction
                    type: action
                    action: newrelic.ingest.sendEvents
                    version: 1
                    inputs:
                      attributes:
                        colour: red
                        id: 1234
                      events:
                        - eventType: HeartBeat
                          test: "OK"
                          attributes:
                            foo: bar
                        - eventType: HeartBeat1234
                          test: "OK1234"
                          attributes:
                            foo: bar
                        - eventType: HeartBeat12345
                          test: "OK12345"
                          attributes:
                            foo: bar
                            colour: yellow
                        - eventType: HeartBeat12345678
                          test: "OK12345678"
                      selectors:
                        - name: success
                          expression: ".success"
                  ```

                  **Resultado esperado:**

                  ```yaml
                  {
                    "success": true
                  }
                  ```

                  **Recuperar evento:**

                  Após executar um fluxo de trabalho com sucesso, você pode recuperar o evento associado executando uma consulta na conta que executou o fluxo de trabalho:

                  ```sql
                  SELECT * FROM HeartBeat
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>

<CollapserGroup>
  <Collapser id="newrelic-ingest-sendlogs" title="Enviar registro para New Relic">
    Enviar registro para New Relic

    <Tabs>
      <TabsBar>
        <TabsBarItem id="newrelic-ingest-sendlogsinputs">
          Entradas
        </TabsBarItem>

        <TabsBarItem id="newrelic-ingest-sendlogsoutputs">
          Saídas
        </TabsBarItem>

        <TabsBarItem id="newrelic-ingest-sendlogsexample">
          Exemplo
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="newrelic-ingest-sendlogsinputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de entrada
                </th>

                <th>
                  Opcionalidade
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Descrição
                </th>

                <th>
                  Exemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **atributo**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Mapa
                </td>

                <td>
                  Os atributos comuns são incluídos em todos os logs quando fornecidos. Esses valores são mesclados com cada item de log, sendo que os valores específicos de cada log têm precedência sobre os atributos comuns quando ocorrem conflitos.
                </td>

                <td>
                  `"{\"page\": \"1\", \"limit\": \"10\"}"`
                </td>
              </tr>

              <tr>
                <td>
                  **logs**
                </td>

                <td>
                  Obrigatório
                </td>

                <td>
                  Lista
                </td>

                <td>
                  Lista de logs. Cada 

                  **log**

                   requer um campo 

                  `message`

                   . Máximo de 100 logs por solicitação.
                </td>

                <td>
                  `"[{\"message\":\"XYZ\",\"attributes\":{\"foo\":\"bar\"}}, {\"message\":\"ABC\",\"value\":\"1234\",\"attributes\":{\"color\":\"red\"}}]"`
                </td>
              </tr>

              <tr>
                <td>
                  **chave de licença**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Corda
                </td>

                <td>
                  A **chave de licença da contaNew Relic **(obrigatória) especifica a conta de destino para o seu evento. Caso não seja fornecida, o sistema utiliza a chave de licença padrão da conta que executa o fluxo de trabalho.

                  [Leia mais sobre nossa chave de API](/docs/apis/intro-apis/new-relic-api-keys/#license-key) para criar e gerenciar sua **contaNew Relic **.
                </td>

                <td>
                  `"{{ .secrets.secretName }}"`

                  , onde 

                  `secretName`

                   é a chave sob a qual a chave de licença está armazenada.
                </td>
              </tr>

              <tr>
                <td>
                  **seletores**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Lista
                </td>

                <td>
                  Os seletores permitem obter apenas o parâmetro especificado como saída.
                </td>

                <td />
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="newrelic-ingest-sendlogsoutputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de saída
                </th>

                <th>
                  Tipo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **sucesso**
                </td>

                <td>
                  Boleano
                </td>
              </tr>

              <tr>
                <td>
                  **mensagem de erro**
                </td>

                <td>
                  corda
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="newrelic-ingest-sendlogsexample">
          <table>
            <thead>
              <tr>
                <th>
                  Exemplo de fluxo de trabalho
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                  name: heartbeat_newrelicIngestSendLogs

                  workflowInputs:
                  cellName:
                    type: String

                  steps:
                  - name: runAction
                    type: action
                    action: newrelic.ingest.sendLogs
                    version: 1
                    inputs:
                      attributes:
                        colour: red
                        id: 1234
                      logs:
                        - message: 'Heartbeat sendLogs Action Test Message'
                          attributes:
                            foo: bar
                        - message: 'HeartBeat1234'
                          attributes:
                            foo: bar
                        - message: 'HeartBeat12345'
                          attributes:
                            foo: bar
                            colour: yellow
                        - message: 'HeartBeat12345678'
                      selectors:
                        - name: success
                          expression: ".success"
                  ```

                  **Resultado esperado:**

                  ```yaml
                  {
                    "success": true
                  }
                  ```

                  **Recuperar logs:**

                  Após executar um fluxo de trabalho com sucesso, você pode recuperar o log associado executando uma consulta na conta que executou o fluxo de trabalho:

                  ```sql
                  SELECT * FROM Log
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>