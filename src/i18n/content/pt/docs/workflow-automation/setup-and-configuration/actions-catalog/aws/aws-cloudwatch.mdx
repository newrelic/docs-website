---
title: Ações do AWS CloudWatch
tags:
  - workflow automation
  - workflow
  - workflow automation actions
  - AWS actions
  - AWS CloudWatch actions
metaDescription: A list of available aws cloudwatch actions in the actions catalog for workflow definitions
freshnessValidatedDate: never
translationType: machine
---

<Callout title="visualização">
  Ainda estamos trabalhando nesse recurso, mas adoraríamos que você experimentasse!

  Atualmente, esse recurso é fornecido como parte de um programa de visualização de acordo com nossas [políticas de pré-lançamento](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

Esta página fornece uma referência completa para as ações do AWS CloudWatch disponíveis no catálogo de ações de automação de fluxo de trabalho. Essas ações permitem que você monitore as operações de log do CloudWatch.

## Pré-requisitos

Antes de usar as ações AWS na automação do fluxo de trabalho, certifique-se de ter:

* Uma conta da AWS com as permissões apropriadas.
* Credenciais da AWS configuradas (credenciais de usuário do IAM, ARN da função do IAM ou credenciais de sessão).
* As permissões IAM necessárias para os serviços específicos da AWS que você planeja usar.

Consulte [Configurar credenciais AWS ](/docs/workflow-automation/setup-and-configuration/set-up-aws-credentials/)para obter informações sobre como criar usuários e funções do IAM e configurar credenciais estáticas e de sessão AWS para integração com as ações de automação de fluxo de trabalho AWS.

<CollapserGroup>
  <Collapser id="aws.cloudWatch.getLogEvents" title="Obter log de eventos do CloudWatch">
    Recupera um lote de eventos de log de um fluxo de log especificado no AWS CloudWatch Logs. É essencial para monitoramento, auditoria e resolução de problemas do aplicativo, buscando programaticamente os dados de log.

    <Tabs>
      <TabsBar>
        <TabsBarItem id="aws-cloudwatch-getlogevents-inputs">
          Entradas
        </TabsBarItem>

        <TabsBarItem id="aws-cloudwatch-getlogevents-outputs">
          Saídas
        </TabsBarItem>

        <TabsBarItem id="aws-cloudwatch-getlogevents-example">
          Exemplo
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="aws-cloudwatch-getlogevents-inputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de entrada
                </th>

                <th>
                  Opcionalidade
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Exemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **awsRoleArn**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `arn:aws:iam::123456789012:role/my-workflow-role`
                </td>
              </tr>

              <tr>
                <td>
                  **awsAccessKeyId**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `${{ :secrets:<awsAccessKeyId> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **awsSecretAccessKey**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `${{ :secrets:<awsSecretAccessKey> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **awsSessionToken**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `${{ :secrets:<awsSessionToken> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **região**
                </td>

                <td>
                  Obrigatório
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `"us-east-2"`
                </td>
              </tr>

              <tr>
                <td>
                  **logStreamName**
                </td>

                <td>
                  Obrigatório
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `"2023/10/27/[$LATEST]abcdef123456"`
                </td>
              </tr>

              <tr>
                <td>
                  **logGroupName**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `"/aws/lambda/my-function"`
                </td>
              </tr>

              <tr>
                <td>
                  **logGroupIdentifier**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `"arn:partition:service:region:account-id:resource"`
                </td>
              </tr>

              <tr>
                <td>
                  **startTime**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Interno
                </td>

                <td>
                  `1759296000000`
                </td>
              </tr>

              <tr>
                <td>
                  **endTime**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Interno
                </td>

                <td>
                  `1759296000000`
                </td>
              </tr>

              <tr>
                <td>
                  **limit**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Interno
                </td>

                <td>
                  `50`
                </td>
              </tr>

              <tr>
                <td>
                  **startFromHead**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Boleano
                </td>

                <td>
                  `true`
                </td>
              </tr>

              <tr>
                <td>
                  **unmask**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Boleano
                </td>

                <td>
                  `false`
                </td>
              </tr>

              <tr>
                <td>
                  **nextToken**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `"f/39218833627378687642013305455131706539523449361490509828/s"`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="aws-cloudwatch-getlogevents-outputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de saída
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Exemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **response**
                </td>

                <td>
                  Objeto
                </td>

                <td>
                  ```yaml
                  {
                      'events': [
                          {
                              'timestamp': 123,
                              'message': 'string',
                              'ingestionTime': 123
                          },
                      ],
                      'nextForwardToken': 'string',
                      'nextBackwardToken': 'string'
                  }
                  ```
                </td>
              </tr>

              <tr>
                <td>
                  **sucesso**
                </td>

                <td>
                  Boleano
                </td>

                <td>
                  `success: true | false`
                </td>
              </tr>

              <tr>
                <td>
                  **mensagem de erro**
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `"An error occurred (ExpiredTokenException) when calling the GetLogEvents operation: The security token included in the request is expired"`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="aws-cloudwatch-getlogevents-example">
          ```yaml
          name: get-lambda-logs
          description: 'Retrieve log events from an AWS Lambda function'
          workflowInputs:
            region:
              type: String
              defaultValue: us-east-2
            logGroupName:
              type: String
              defaultValue: /aws/lambda/my-function
            logStreamName:
              type: String
              defaultValue: 2023/10/27/[$LATEST]abcdef123456
          steps:
            name: get_events_step
            type: action
            action: aws.cloudwatch.get_log_events
            version: '1'
            inputs:
              region: ${{ .workflowInputs.region }}
              logGroupName: ${{ .workflowInputs.logGroupName }}
              logStreamName: ${{ .workflowInputs.logStreamName }}
              limit: 100

          ```
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>

  <Collapser id="aws.cloudwatch.putLogEvents" title="Inserir evento de log">
    Isso carrega um lote de eventos de log para o fluxo de logs especificado no AWS CloudWatch Logs. É utilizado para enviar programaticamente dados de log de aplicativos ou serviços para o CloudWatch para monitoramento e análise.

    <Tabs>
      <TabsBar>
        <TabsBarItem id="aws-cloudwatch-putlogevents-inputs">
          Entradas
        </TabsBarItem>

        <TabsBarItem id="aws-cloudwatch-putlogevents-outputs">
          Saídas
        </TabsBarItem>

        <TabsBarItem id="aws-cloudwatch-putlogevents-example">
          Exemplo
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="aws-cloudwatch-putlogevents-inputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de entrada
                </th>

                <th>
                  Opcionalidade
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Exemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **awsRoleArn**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `arn:aws:iam::123456789012:role/my-workflow-role`
                </td>
              </tr>

              <tr>
                <td>
                  **awsAccessKeyId**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `${{ :secrets:<awsAccessKeyId> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **awsSecretAccessKey**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `${{ :secrets:<awsSecretAccessKey> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **awsSessionToken**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `${{ :secrets:<awsSessionToken> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **região**
                </td>

                <td>
                  Obrigatório
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `"us-east-2"`
                </td>
              </tr>

              <tr>
                <td>
                  **logGroupName**
                </td>

                <td>
                  Obrigatório
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `"/aws/lambda/hello-you"`
                </td>
              </tr>

              <tr>
                <td>
                  **logStreamName**
                </td>

                <td>
                  Obrigatório
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `"2025/09/24/[$LATEST]09f7ca9e9ab044f389419ce60305f594"`
                </td>
              </tr>

              <tr>
                <td>
                  **logEvents**
                </td>

                <td>
                  Obrigatório
                </td>

                <td>
                  Lista
                </td>

                <td>
                  ```yaml
                  [ 

                  { "timestamp": 1698384000000, "message": "Workflow task started." },

                   { "timestamp": 1698384000015, "message": "Data validated successfully." } ]
                  ```
                </td>
              </tr>

              <tr>
                <td>
                  **entidade**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Dict
                </td>

                <td>
                  `{ "entity": { "keyAttributes": { "ResourceType": "AWS::ElasticLoadBalancingV2::LoadBalancer", "Identifier": "app/my-web-lb/12345", "Environment": "Production" }, "attributes": { "MonitoringTier": "Gold", "OwnerTeam": "Networking", "MaintenanceWindow": "Sat: 0200-0400" } } }`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="aws-cloudwatch-putlogevents-outputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de saída
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Descrição
                </th>

                <th>
                  Exemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **response**
                </td>

                <td>
                  Objeto
                </td>

                <td>
                  A resposta JSON bruta, que inclui o 

                  `nextSequenceToken`

                  .
                </td>

                <td>
                  ```yaml
                  {
                      'nextSequenceToken': 'string',
                      'rejectedLogEventsInfo': {
                          'tooNewLogEventStartIndex': 123,
                          'tooOldLogEventEndIndex': 123,
                          'expiredLogEventEndIndex': 123
                      },
                      'rejectedEntityInfo': {
                          'errorType': 'InvalidEntity'|'InvalidTypeValue'|'InvalidKeyAttributes'|'InvalidAttributes'|'EntitySizeTooLarge'|'UnsupportedLogGroupType'|'MissingRequiredFields'
                      }
                  }
                  ```
                </td>
              </tr>

              <tr>
                <td>
                  **sucesso**
                </td>

                <td>
                  Boleano
                </td>

                <td>
                  Indica se o evento de log foi carregado com sucesso.
                </td>

                <td>
                  `true`
                </td>
              </tr>

              <tr>
                <td>
                  **mensagem de erro**
                </td>

                <td>
                  Corda
                </td>

                <td>
                  Uma mensagem descritiva de erro se a ação falhar.
                </td>

                <td>
                  `"An error occurred (ExpiredTokenException) when calling the PutLogEvents operation: The security token included in the request is expired"`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="aws-cloudwatch-putlogevents-example">
          <table>
            <thead>
              <tr>
                <th>
                  Exemplo de fluxo de trabalho
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                  name: put-custom-logs
                  description: 'Upload a batch of custom log events to CloudWatch'

                  workflowInputs:
                    region:
                      type: String
                      defaultValue: us-east-2
                    logGroupName:
                      type: String
                      defaultValue: my-custom-app-logs
                    logStreamName:
                      type: String
                      defaultValue: instance-01-thread-01
                    
                  steps:
                    - name: upload_logs
                      type: action
                      action: aws.cloudwatch.put_log_events
                      version: '1'
                      inputs:
                        region: ${{ .workflowInputs.region }}
                        logGroupName: ${{ .workflowInputs.logGroupName }}
                        logStreamName: ${{ .workflowInputs.logStreamName }}
                        logEvents:
                          - timestamp: 1698384000000
                            message: "Workflow started successfully"
                          - timestamp: 1698384005000
                            message: "Step 1 completed"
                      next: end
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>