---
title: Ações da New Relic
tags:
  - workflow automation
  - workflow
  - workflow automation actions
  - New relic actions
metaDescription: A list of available actions in the actions catalog for workflow definitions
freshnessValidatedDate: never
translationType: machine
---

<Callout title="visualização">
  Ainda estamos trabalhando nesse recurso, mas adoraríamos que você experimentasse!

  Atualmente, esse recurso é fornecido como parte de um programa de visualização de acordo com nossas [políticas de pré-lançamento](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

Esta página fornece uma referência completa das ações do New Relic disponíveis no catálogo de ações de automação de fluxo de trabalho. Essas ações permitem integrar recursos da plataforma New Relic em suas definições de fluxo de trabalho, incluindo envio de eventos personalizados e logs, execução de consulta NerdGraph, execução de consulta NRQL e envio de notificação.

## Pré-requisitos

Antes de usar as ações New Relic na automação do fluxo de trabalho, certifique-se de ter:

* Uma conta New Relic com as permissões apropriadas.
* Uma chave de licença do New Relic (caso esteja enviando dados para uma conta diferente).
* As permissões necessárias para os serviços específicos do New Relic que você planeja usar.

Consulte [chave de licença](/docs/apis/intro-apis/new-relic-api-keys/#license-key) para obter informações sobre como criar e gerenciar sua conta New Relic chave de licença.

## Ações de ingestão de dados

<CollapserGroup>
  <Collapser id="newrelic.ingest.sendEvents" title="Enviar evento personalizado para New Relic">
    Envia um evento personalizado para New Relic

    <Tabs>
      <TabsBar>
        <TabsBarItem id="createventinputs">
          Entradas
        </TabsBarItem>

        <TabsBarItem id="createventoutputs">
          Saídas
        </TabsBarItem>

        <TabsBarItem id="createventexample">
          Exemplo
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="createventinputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de entrada
                </th>

                <th>
                  Opcionalidade
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Exemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **atributo**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Mapa
                </td>

                <td>
                  `"{\"page\": \"1\", \"limit\": \"10\"}"`
                </td>
              </tr>

              <tr>
                <td>
                  **eventos**
                </td>

                <td>
                  Obrigatório
                </td>

                <td>
                  list
                </td>

                <td>
                  `"[{\"eventType\":\"XYZ\",\"attributes\":{\"foo\":\"bar\"}}, {\"eventType\":\"ABC\",\"value\":\"1234\",\"attributes\":{\"color\":\"red\"}}]`
                </td>
              </tr>

              <tr>
                <td>
                  **chave de licença**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  corda
                </td>

                <td>
                  `"{{ .secrets.secretName }}"`
                </td>
              </tr>

              <tr>
                <td>
                  **seletores**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  list
                </td>

                <td>
                  `[{\"name\": \"success\", \"expression\": \".success\"}]`
                </td>
              </tr>
            </tbody>
          </table>

          <Callout variant="important">
            * **attributes**: Atributo comum que faz parte de todos os eventos quando fornecido. A fusão de cada item de evento, quando necessário, substitui a definição comum.
            * **events**: A lista de dados do evento. Observe que o evento requer o uso de um campo `eventType` que representa o tipo personalizado do evento e o número máximo de eventos permitidos por solicitação é 100.
            * **licenseKey**: A chave de licença da conta New Relic que especifica a conta de destino para onde os eventos são enviados. Caso esse valor não seja fornecido, será assumida uma chave de licença padrão com base na conta que executa o fluxo de trabalho.
            * **selectors**: Os seletores para obter apenas o parâmetro especificado como saída.
          </Callout>
        </TabsPageItem>

        <TabsPageItem id="createventoutputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de saída
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Exemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **sucesso**
                </td>

                <td>
                  Boleano
                </td>

                <td>
                  `true`
                </td>
              </tr>

              <tr>
                <td>
                  **mensagem de erro**
                </td>

                <td>
                  corda
                </td>

                <td>
                  `"Error message if operation failed"`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="createventexample">
          <table>
            <thead>
              <tr>
                <th>
                  Exemplo de fluxo de trabalho
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                  name: heartbeat_newrelicIngestSendEvents

                  workflowInputs:
                    cellName:
                      type: String

                  steps:
                    - name: runAction
                      type: action
                      action: newrelic.ingest.sendEvents
                      version: 1
                      inputs:
                        attributes:
                          colour: red
                          id: 1234
                        events:
                          - eventType: HeartBeat
                            test: "OK"
                            attributes:
                              foo: bar
                          - eventType: HeartBeat1234
                            test: "OK1234"
                            attributes:
                              foo: bar
                          - eventType: HeartBeat12345
                            test: "OK12345"
                            attributes:
                              foo: bar
                              colour: yellow
                          - eventType: HeartBeat12345678
                            test: "OK12345678"
                        selectors:
                          - name: success
                            expression: ".success"
                  ```

                  **Resultado esperado:**

                  ```yaml
                  {
                    "success": true
                  }
                  ```

                  **Recuperar evento:**

                  Após executar um fluxo de trabalho com sucesso, você pode recuperar o evento associado executando uma consulta na conta que executou o fluxo de trabalho:

                  ```sql
                  SELECT * FROM HeartBeat
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>

<CollapserGroup>
  <Collapser id="newrelic.ingest.sendLogs" title="Enviar registro para New Relic">
    Enviar registro para New Relic

    <Tabs>
      <TabsBar>
        <TabsBarItem id="newrelic.ingest.sendLogsinputs">
          Entradas
        </TabsBarItem>

        <TabsBarItem id="newrelic.ingest.sendLogsoutputs">
          Saídas
        </TabsBarItem>

        <TabsBarItem id="newrelic.ingest.sendLogsexample">
          Exemplo
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="newrelic.ingest.sendLogsinputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de entrada
                </th>

                <th>
                  Opcionalidade
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Exemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **atributo**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  map
                </td>

                <td>
                  `"{\"page\": \"1\", \"limit\": \"10\"}"`
                </td>
              </tr>

              <tr>
                <td>
                  **logs**
                </td>

                <td>
                  Obrigatório
                </td>

                <td>
                  list
                </td>

                <td>
                  `"[{\"message\":\"XYZ\",\"attributes\":{\"foo\":\"bar\"}}, {\"message\":\"ABC\",\"value\":\"1234\",\"attributes\":{\"color\":\"red\"}}]"`
                </td>
              </tr>

              <tr>
                <td>
                  **chave de licença**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  corda
                </td>

                <td>
                  `"{{ .secrets.secretName }}"`
                </td>
              </tr>

              <tr>
                <td>
                  **seletores**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  list
                </td>

                <td>
                  `[{\"name\": \"success\", \"expression\": \".success\"}]`
                </td>
              </tr>
            </tbody>
          </table>

          <Callout variant="important">
            * **attributes**: Atributo comum incluído em todos os logs quando fornecido. Se um item de log especificar o mesmo atributo, ele substituirá a definição comum.
            * **logs**: A lista de dados de logs. Observe que o número máximo de logs permitidos por solicitação é 100.
            * **licenseKey**: A chave de licença da conta New Relic que especifica a conta de destino para onde os logs são enviados. Caso não seja fornecida, será assumida uma chave de licença padrão com base na conta que executa o fluxo de trabalho. Consulte [a chave de licença](/docs/apis/intro-apis/new-relic-api-keys/#license-key) para obter mais informações.
            * **selectors**: Os seletores para obter apenas o parâmetro especificado como saída.
          </Callout>
        </TabsPageItem>

        <TabsPageItem id="newrelic.ingest.sendLogsoutputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de saída
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Exemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **sucesso**
                </td>

                <td>
                  Boleano
                </td>

                <td>
                  `true`
                </td>
              </tr>

              <tr>
                <td>
                  **mensagem de erro**
                </td>

                <td>
                  corda
                </td>

                <td>
                  `"Error message if operation failed"`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="newrelic.ingest.sendLogsexample">
          <table>
            <thead>
              <tr>
                <th>
                  Exemplo de fluxo de trabalho
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                  name: heartbeat_newrelicIngestSendLogs

                  workflowInputs:
                    cellName:
                      type: String

                  steps:
                    - name: runAction
                      type: action
                      action: newrelic.ingest.sendLogs
                      version: 1
                      inputs:
                        attributes:
                          colour: red
                          id: 1234
                        logs:
                          - message: 'Heartbeat sendLogs Action Test Message'
                            attributes:
                              foo: bar
                          - message: 'HeartBeat1234'
                            attributes:
                              foo: bar
                          - message: 'HeartBeat12345'
                            attributes:
                              foo: bar
                              colour: yellow
                          - message: 'HeartBeat12345678'
                        selectors:
                          - name: success
                            expression: ".success"
                  ```

                  **Resultado esperado:**

                  ```yaml
                  {
                    "success": true
                  }
                  ```

                  **Recuperar logs:**

                  Após executar um fluxo de trabalho com sucesso, você pode recuperar o log associado executando uma consulta na conta que executou o fluxo de trabalho:

                  ```sql
                  SELECT * FROM Log
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>

## Ações do NerdGraph

<CollapserGroup>
  <Collapser id="newrelic.nerdgraph.execute" title="Execute uma consulta ou mutação GraphQL na API New Relic NerdGraph.">
    Executa um comando GraphQL na API NerdGraph do New Relic. O comando pode ser uma consulta ou uma mutação.

    <Tabs>
      <TabsBar>
        <TabsBarItem id="nerdgraphexecuteinputs">
          Entradas
        </TabsBarItem>

        <TabsBarItem id="nerdgraphexecuteoutputs">
          Saídas
        </TabsBarItem>

        <TabsBarItem id="nerdgraphexecuteexample">
          Exemplo
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="nerdgraphexecuteinputs">
          <table>
            <thead>
              <tr>
                <th>
                  Entrada
                </th>

                <th>
                  Opcionalidade
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Descrição
                </th>

                <th>
                  Exemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **graphql**
                </td>

                <td>
                  Obrigatório
                </td>

                <td>
                  corda
                </td>

                <td>
                  Uma sintaxe GraphQL. Você deve usar o GraphiQL para construir e testar seu comando.
                </td>

                <td />
              </tr>

              <tr>
                <td>
                  **variáveis**
                </td>

                <td>
                  Obrigatório
                </td>

                <td>
                  map[string]any
                </td>

                <td>
                  Quaisquer variáveis de par principal-valor para usar com a instrução GraphQL.
                </td>

                <td />
              </tr>

              <tr>
                <td>
                  **seletores**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Lista
                </td>

                <td>
                  Os seletores permitem obter como saída apenas o parâmetro especificado.
                </td>

                <td>
                  ```yaml
                    steps:
                      - name: findingVar
                        type: action
                        action: newrelic.nerdgraph.execute
                        version: 1
                        inputs:
                          graphql: |
                            query GetEntity($entityGuid: EntityGuid!) {
                              actor {
                                entity(guid: $entityGuid) {
                                  alertSeverity
                                }
                              }
                            }
                          variables:
                            entityGuid: ${{ .workflowInputs.entityGuid }}
                      - name: findingInline
                        type: action
                        action: newrelic.nerdgraph.execute
                        version: 1
                        inputs:
                          graphql: |
                            {
                              actor {
                                entity(guid: "${{ .workflowInputs.entityGuid }}") {
                                  alertSeverity
                                }
                              }
                            }
                          selectors:
                            - name: entities
                              expression: '.data'
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="nerdgraphexecuteoutputs">
          <table>
            <thead>
              <tr>
                <th>
                  Saída
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Descrição
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **dados**
                </td>

                <td>
                  map[string]any
                </td>

                <td>
                  Conteúdo da propriedade 

                  `data`

                   de uma resposta do NerdGraph.
                </td>
              </tr>

              <tr>
                <td>
                  **sucesso**
                </td>

                <td>
                  Boleano
                </td>

                <td>
                  Status of the request.s
                </td>
              </tr>

              <tr>
                <td>
                  **mensagem de erro**
                </td>

                <td>
                  Corda
                </td>

                <td>
                  Motivo da falha como mensagem.
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="nerdgraphexecuteexample">
          <table>
            <thead>
              <tr>
                <th>
                  Exemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                    steps:
                    - name: currentUserId
                      type: action
                      action: newrelic.nerdgraph.execute
                      version: 1
                      inputs:
                        graphql: |
                          query userId {
                            currentUser {
                              id
                            }
                          }
                    - name: sayHello
                      type: action
                      action: example.messaging.sayHello
                      version: 1
                      inputs:
                        name: ${{ .steps.currentUserId.outputs.data.currentUser.id }}
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>

## Ações de consulta

<CollapserGroup>
  <Collapser id="newrelic.nrdb.query" title="Execute uma consulta NRDB">
    Executa uma consulta NRQL entre contas através da API do NerdGraph.

    <Tabs>
      <TabsBar>
        <TabsBarItem id="nrdbqueryinputs">
          Entradas
        </TabsBarItem>

        <TabsBarItem id="nrdbqueryoutputs">
          Saídas
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="nrdbqueryinputs">
          <table>
            <thead>
              <tr>
                <th>
                  Entrada
                </th>

                <th>
                  Opcionalidade
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Descrição
                </th>

                <th>
                  Exemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **consulta**
                </td>

                <td>
                  Obrigatório
                </td>

                <td>
                  corda
                </td>

                <td>
                  A instrução de consulta NRQL.
                </td>

                <td />
              </tr>

              <tr>
                <td>
                  **IDs da conta**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  lista de inteiros
                </td>

                <td>
                  O campo 

                  **New Relic Account ID**

                   é uma lista de IDs de destino que permite especificar as contas de destino nas quais a consulta será executada. Caso esse valor não seja fornecido como entrada, a consulta será executada automaticamente na conta associada à conta de execução do fluxo de trabalho.
                </td>

                <td />
              </tr>

              <tr>
                <td>
                  **seletores**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  list
                </td>

                <td>
                  Os seletores permitem obter como saída apenas o parâmetro especificado.
                </td>

                <td>
                  ```json
                    steps:
                      - name: queryForLog
                        type: action
                        action: newrelic.nrdb.query
                        version: 1
                        inputs:
                          accountIds: [12345]
                          query: FROM Log SELECT * WHERE message LIKE 'DEMO%'
                          selectors:
                            - name: resultsAsString
                              expression: '.results | tostring'
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="nrdbqueryoutputs">
          <table>
            <thead>
              <tr>
                <th>
                  Saída
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Exemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **results**

                  : Uma matriz de objetos contendo os resultados da consulta.
                </td>

                <td />

                <td>
                  ```yaml
                    {
                      results=[
                        { message=[INFO] - Workflow: test has ended, messageId=39af98 },
                        { message=[INFO] - Workflow: test - Step query has started, messageId=649c612 },
                        ...
                      ]
                    }
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>

## ações de notificação

<CollapserGroup>
  <Collapser id="newrelic.notification.send" title="Enviar notificação para o destino do New Relic">
    Envia uma mensagem para um canal, integrado com destinos, por exemplo, o Slack.

    <Tabs>
      <TabsBar>
        <TabsBarItem id="newrelicnotificationsendinputs">
          Entradas
        </TabsBarItem>

        <TabsBarItem id="newrelicnotificationsendoutputs">
          Saídas
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="newrelicnotificationsendinputs">
          <table>
            <thead>
              <tr>
                <th>
                  Entrada
                </th>

                <th>
                  Opcionalidade
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Descrição
                </th>

                <th>
                  Exemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **tipo**
                </td>

                <td>
                  Obrigatório
                </td>

                <td>
                  corda
                </td>

                <td>
                  Tipo de destino do New Relic
                </td>

                <td>
                  `slack`
                </td>
              </tr>

              <tr>
                <td>
                  **id de destino**
                </td>

                <td>
                  Obrigatório
                </td>

                <td>
                  Corda
                </td>

                <td>
                  DestinationId associado ao destino New Relic.
                </td>

                <td>
                  `123e4567-e89b-12d3-a456-426614174000`
                </td>
              </tr>

              <tr>
                <td>
                  **parâmetro**
                </td>

                <td>
                  Obrigatório
                </td>

                <td>
                  map
                </td>

                <td>
                  Campos obrigatórios para enviar notificação ao tipo de destino escolhido.
                </td>

                <td>
                  `{\"channel\": \"${{ YOUR_CHANNEL }}\", \"text\": \"Enter your text here\"}`
                </td>
              </tr>

              <tr>
                <td>
                  **seletores**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  list
                </td>

                <td>
                  Os seletores permitem obter como saída apenas o parâmetro especificado.
                </td>

                <td>
                  `[{\"name\": \"success\", \"expression\": \".success\"}]`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="newrelicnotificationsendoutputs">
          <table>
            <thead>
              <tr>
                <th>
                  Saída
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Exemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  sucesso
                </td>

                <td>
                  boleano
                </td>

                <td>
                  `true/false`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>

<CollapserGroup>
  <Collapser id="newrelic.notification.sendMicrosoftTeams" title="Envia notificação para o New Relic no Microsoft Teams.">
    Envia uma mensagem para um canal do Microsoft Teams, integrado com destinos.

    <Tabs>
      <TabsBar>
        <TabsBarItem id="newrelic.notification.sendMicrosoftTeams-inputs">
          Entradas
        </TabsBarItem>

        <TabsBarItem id="newrelic.notification.sendMicrosoftTeams-outputs">
          Saídas
        </TabsBarItem>

        <TabsBarItem id="newrelic.notification.sendMicrosoftTeams-example">
          Exemplo
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="newrelic.notification.sendMicrosoftTeams-inputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de entrada
                </th>

                <th>
                  Opcionalidade
                </th>

                <th>
                  Tipo de dados
                </th>

                <th>
                  Descrição
                </th>

                <th>
                  Exemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **id de destino**
                </td>

                <td>
                  Obrigatório
                </td>

                <td>
                  Corda
                </td>

                <td>
                  DestinationId associado ao destino New Relic.

                  Consulte [a integração do New Relic com o Microsoft Teams](/docs/alerts/get-notified/microsoft-teams-integrations/) para obter instruções sobre como configurar um novo destino e listar os IDs de destino.

                  Consulte a [seção Destinos](/docs/alerts/get-notified/destinations/) para saber mais sobre os destinos.

                  <CollapserGroup>
                    <Collapser id="nerdgraph-query-get-destinationId" title="A NerdGraph consulta para obter o destinationId.">
                      ```sh
                        {
                        actor {
                          account(id: 12345678) {
                            aiNotifications {
                              destinations(filters: {type: MICROSOFT_TEAMS, active: true}) {
                                entities {
                                  createdAt
                                  id
                                  name
                                  active
                                }
                              }
                            }
                          }
                        }
                      }
                      ```
                    </Collapser>
                  </CollapserGroup>
                </td>

                <td>
                  `123e4567-e89b-12d3-a456-426614174000`
                </td>
              </tr>

              <tr>
                <td>
                  **teamName**
                </td>

                <td>
                  Obrigatório
                </td>

                <td>
                  Corda
                </td>

                <td>
                  Nome da equipe associada ao ID de destino fornecido
                </td>

                <td>
                  `TEST_TEAM`
                </td>
              </tr>

              <tr>
                <td>
                  **channelName**
                </td>

                <td>
                  Obrigatório
                </td>

                <td>
                  Corda
                </td>

                <td>
                  Nome do canal para onde a mensagem deve ser enviada.
                </td>

                <td>
                  `StagingTesting`
                </td>
              </tr>

              <tr>
                <td>
                  **mensagem**
                </td>

                <td>
                  Obrigatório
                </td>

                <td>
                  Corda
                </td>

                <td>
                  Mensagem de texto que precisa ser enviada
                </td>

                <td>
                  `Hello! this message from Workflow`
                </td>
              </tr>

              <tr>
                <td>
                  **seletores**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Lista
                </td>

                <td>
                  Os seletores permitem obter como saída apenas o parâmetro especificado.
                </td>

                <td>
                  `[{\"name\": \"success\", \"expression\": \".success\"}]`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="newrelic.notification.sendMicrosoftTeams-outputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de saída
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Exemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **sucesso**
                </td>

                <td>
                  Boleano
                </td>

                <td>
                  `true/false`
                </td>
              </tr>

              <tr>
                <td>
                  **sessionId**
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `"sessionId": "7fa97f26-3791-492e-a39b-53793163dfb9"`
                </td>
              </tr>

              <tr>
                <td>
                  **mensagem de erro**
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `Message is a required field in the notification send"`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="newrelic.notification.sendMicrosoftTeams-example">
          <table>
            <thead>
              <tr>
                <th>
                  Exemplo de fluxo de trabalho
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                  name: msTeam_notification_workflow
                  description: This is a test workflow to test MSTeam notification send action
                  steps:
                    - name: SendMessageUsingMSTeam
                      type: action
                      action: newrelic.notification.sendMicrosoftTeams
                      version: 1
                      inputs:
                        destinationId: acc24dc2-d4fc-4eba-a7b4-b3ad0170f8aa
                        channel: DEV_TESTING
                        teamName: TEST_TEAM_DEV
                        message: Hello from Workflow
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>

<CollapserGroup>
  <Collapser id="newrelic.notification.sendEmail" title="Envia notificação para o e-mail da New Relic">
    Envia um e-mail para destinatários de e-mail do New Relic com ou sem anexos.

    <Tabs>
      <TabsBar>
        <TabsBarItem id="newrelic.notification.sendEmail-inputs">
          Entradas
        </TabsBarItem>

        <TabsBarItem id="newrelic.notification.sendEmail-outputs">
          Saídas
        </TabsBarItem>

        <TabsBarItem id="newrelic.notification.sendEmail-example">
          Exemplo
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="newrelic.notification.sendEmail-inputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de entrada
                </th>

                <th>
                  Opcionalidade
                </th>

                <th>
                  Tipo de dados
                </th>

                <th>
                  Descrição
                </th>

                <th>
                  Exemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **id de destino**
                </td>

                <td>
                  Obrigatório
                </td>

                <td>
                  Corda
                </td>

                <td>
                  DestinationId associado ao destino New Relic.

                  Consulte [a integração do New Relic com o Microsoft Teams](/docs/alerts/get-notified/microsoft-teams-integrations/) para obter instruções sobre como configurar um novo destino e listar os IDs de destino.

                  Consulte a [seção Destinos](/docs/alerts/get-notified/destinations/) para saber mais sobre os destinos.

                  <CollapserGroup>
                    <Collapser id="nerdGraph-Query-Get-DestinationId" title="A NerdGraph consulta para obter o destinationId.">
                      ```yaml
                        {
                        actor {
                          account(id: 12345678) {
                            aiNotifications {
                              destinations(filters: {type: EMAIL, active: true}) {
                                entities {
                                  createdAt
                                  id
                                  name
                                  active
                                }
                              }
                            }
                          }
                        }
                      }
                      ```
                    </Collapser>
                  </CollapserGroup>
                </td>

                <td>
                  `123e4567-e89b-12d3-a456-426614174000`
                </td>
              </tr>

              <tr>
                <td>
                  **assunto**
                </td>

                <td>
                  Obrigatório
                </td>

                <td>
                  Corda
                </td>

                <td>
                  Assunto do e-mail
                </td>

                <td>
                  `workflow-notification`
                </td>
              </tr>

              <tr>
                <td>
                  **mensagem**
                </td>

                <td>
                  Obrigatório
                </td>

                <td>
                  Corda
                </td>

                <td>
                  Mensagem que precisa ser enviada por e-mail
                </td>

                <td>
                  `Hello! from Workflow Automation`
                </td>
              </tr>

              <tr>
                <td>
                  **anexos**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Lista
                </td>

                <td>
                  Lista de anexos opcionais
                </td>

                <td />
              </tr>

              <tr>
                <td>
                  **attachment.type**
                </td>

                <td>
                  Obrigatório
                </td>

                <td>
                  Enum
                </td>

                <td>
                  Um dos seguintes: 

                  `QUERY`

                  , 

                  `RAW`
                </td>

                <td />
              </tr>

              <tr>
                <td>
                  **attachment.query**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Corda
                </td>

                <td>
                  Para o tipo 

                  `QUERY`

                  , esta é uma instrução de consulta NRQL.
                </td>

                <td>
                  `SELECT * FROM LOG`
                </td>
              </tr>

              <tr>
                <td>
                  *attachment.accountIds*

                  \*
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Lista
                </td>

                <td>
                  Para 

                  `QUERY`

                  , os 

                  **New Relic Account IDs**

                   para executar a consulta. Caso não seja fornecida, será utilizada a conta associada à execução do fluxo de trabalho.
                </td>

                <td>
                  `[12345567]`
                </td>
              </tr>

              <tr>
                <td>
                  **attachment.format**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Enum
                </td>

                <td>
                  Para 

                  `QUERY`

                  , especifique o tipo para os resultados, padrão 

                  `JSON`
                </td>

                <td>
                  `JSON CSV`
                </td>
              </tr>

              <tr>
                <td>
                  **anexo.conteúdo**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Corda
                </td>

                <td>
                  Para 

                  `RAW`

                  , este é o conteúdo do anexo em UTF-8.
                </td>

                <td>
                  `A,B,C\n1,2,3`
                </td>
              </tr>

              <tr>
                <td>
                  **anexo.nome do arquivo**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Corda
                </td>

                <td>
                  Um nome de arquivo para o anexo.
                </td>

                <td>
                  `log_count.csv`
                </td>
              </tr>

              <tr>
                <td>
                  **seletores**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Lista
                </td>

                <td>
                  Os seletores permitem obter como saída apenas o parâmetro especificado.
                </td>

                <td>
                  `[{\"name\": \"success\", \"expression\": \".success\"},{\"name\": \"attachments\", \"expression\": \".response.attachments\"},{\"name\": \"sessionId\", \"expression\": \".response.sessionId\"}]`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="newrelic.notification.sendEmail-outputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de saída
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Exemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **sucesso**
                </td>

                <td>
                  Boleano
                </td>

                <td>
                  `true/false`
                </td>
              </tr>

              <tr>
                <td>
                  **sessionId**
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `"sessionId": "7fa97f26-3791-492e-a39b-53793163dfb9"`
                </td>
              </tr>

              <tr>
                <td>
                  **mensagem de erro**
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `Channel is a required field in the notification send"`
                </td>
              </tr>

              <tr>
                <td>
                  **anexos**
                </td>

                <td>
                  Lista
                </td>

                <td>
                  ```yaml
                  [{
                    "blobId": "43werdtfgvhiu7y8t6r5e4398yutfgvh",
                    "rowCount": 100
                  }]
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="newrelic.notification.sendEmail-example">
          <table>
            <thead>
              <tr>
                <th>
                  Exemplo de fluxo de trabalho
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                  name: email_testing_with_attachment
                  description: Workflow to test sending an email notification via NewRelic with log step
                  workflowInputs:
                    destinationId:
                      type: String
                  steps:
                    - name: sendEmailNotification
                      type: action
                      action: newrelic.notification.sendEmail
                      version: '1'
                      inputs:
                        destinationId: ${{ .workflowInputs.destinationId }}
                        subject: "workflow notification"
                        message: "Workflow Email Notification Testing from local"
                        attachments:
                          - type: QUERY
                            query: "SELECT * FROM Log"
                            format: JSON
                            filename: "log_count.json"
                        selectors:
                          - name: success
                            expression: '.success'
                          - name: sessionId
                            expression: '.response.sessionId'
                          - name: attachments
                            expression: '.response.attachments'
                    - name: logOutput
                      type: action
                      action: newrelic.ingest.sendLogs
                      version: '1'
                      inputs:
                        logs:
                          - message: "Hello from cap check Testing staging server user2 : ${{ .steps.sendEmailNotification.outputs.result.attachments }}"
                        licenseKey: ${{ :secrets:STAGING_NEW_RELIC_LICENSE_KEY }}
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>