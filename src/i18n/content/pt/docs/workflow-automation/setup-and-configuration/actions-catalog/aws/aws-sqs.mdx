---
title: Ações do AWS SQS
tags:
  - workflow automation
  - workflow
  - workflow automation actions
  - AWS actions
  - AWS SQS actions
metaDescription: A list of available aws sqs actions in the actions catalog for workflow definitions
freshnessValidatedDate: never
translationType: machine
---

<Callout title="visualização">
  Ainda estamos trabalhando nesse recurso, mas adoraríamos que você experimentasse!

  Atualmente, esse recurso é fornecido como parte de um programa de visualização de acordo com nossas [políticas de pré-lançamento](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

Esta página fornece uma referência completa para as ações do AWS SQS disponíveis no catálogo de ações de automação de fluxo de trabalho. Essas ações permitem enfileirar operações no SQS.

## Pré-requisitos

Antes de usar as ações AWS na automação do fluxo de trabalho, certifique-se de ter:

* Uma conta da AWS com as permissões apropriadas.
* Credenciais da AWS configuradas (credenciais de usuário do IAM, ARN da função do IAM ou credenciais de sessão).
* As permissões IAM necessárias para os serviços específicos da AWS que você planeja usar.

Consulte [Configurar credenciais AWS ](/docs/workflow-automation/setup-and-configuration/set-up-aws-credentials/)para obter informações sobre como criar usuários e funções do IAM e configurar credenciais estáticas e de sessão AWS para integração com as ações de automação de fluxo de trabalho AWS.

<CollapserGroup>
  <Collapser id="aws-sqs-sendmessage" title="Enviar uma mensagem para uma fila do AWS SQS">
    Envia uma mensagem para uma fila específica do Amazon SQS.

    <Tabs>
      <TabsBar>
        <TabsBarItem id="aws-sqs-sendmessage-inputs">
          Entradas
        </TabsBarItem>

        <TabsBarItem id="aws-sqs-sendmessage-outputs">
          Saídas
        </TabsBarItem>

        <TabsBarItem id="aws-sqs-sendmessage-example">
          Exemplo
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="aws-sqs-sendmessage-inputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de entrada
                </th>

                <th>
                  Opcionalidade
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Exemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **awsRoleArn**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `arn:aws:iam::123456789012:role/my-workflow-role`
                </td>
              </tr>

              <tr>
                <td>
                  **awsAccessKeyId**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `${{ :secrets:<awsAccessKeyId> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **awsSecretAccessKey**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `${{ :secrets:<awsSecretAccessKey> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **awsSessionToken**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `${{ :secrets:<awsSessionToken> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **região**
                </td>

                <td>
                  Obrigatório
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `"us-east-2"`
                </td>
              </tr>

              <tr>
                <td>
                  **queueUrl**
                </td>

                <td>
                  Obrigatório
                </td>

                <td>
                  Corda
                </td>

                <td>
                  &quot;

                  `https://sqs.us-east-2.amazonaws.com/123456789012/my-queue`

                  &quot;
                </td>
              </tr>

              <tr>
                <td>
                  **messageBody**
                </td>

                <td>
                  Obrigatório
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `"This is a test message"`
                </td>
              </tr>

              <tr>
                <td>
                  **messageDeduplicationId**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `"abc123deduplicationId5678"`
                </td>
              </tr>

              <tr>
                <td>
                  **messageGroupId**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `"group1"`
                </td>
              </tr>

              <tr>
                <td>
                  **messageAttributes**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Mapa
                </td>

                <td>
                  `{ "my_attribute_name_1": { "DataType": "String", "StringValue":"my_attribute_value_1"},`

                  `"my_attribute_name_2": { "DataType": "String", "StringValue":"my_attribute_value_2"}}`
                </td>
              </tr>

              <tr>
                <td>
                  **delaySeconds**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Interno
                </td>

                <td>
                  `123`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="aws-sqs-sendmessage-outputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de saída
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Exemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **response**
                </td>

                <td>
                  objeto
                </td>

                <td>
                  `{"statusCode":200, "payload":{"status":"success","data":{"MessageId":"e9b73a52-d018-4a73-9fcd-8efb682fba43","MD5OfMessageBody":"fae535c7f7c5687a1c3d8bc52288e33a","MD5OfMessageAttributes":"3ae3c4f59958e031d0d53af2d157e834", }, "message":"Message sent successfully to the SQS queue." }}`

                  A sintaxe de resposta pode ser consultada na [documentação do Boto3 sobre o comando \`send\_message\` do SQS.](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/sqs/client/send_message.html)
                </td>
              </tr>

              <tr>
                <td>
                  **sucesso**
                </td>

                <td>
                  Boleano
                </td>

                <td>
                  `success: true | false`
                </td>
              </tr>

              <tr>
                <td>
                  **mensagem de erro**
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `"errorMessage": "SQS.Client.exceptions.QueueDoesNotExist: "The specified queue does not exist.""`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="aws-sqs-sendmessage-example">
          <table>
            <thead>
              <tr>
                <th>
                  Exemplo de fluxo de trabalho
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                    name: sqs-send-message-test
                  description: Sends a message to an SQS queue
                  workflowInputs:
                    arnRole:
                      type: String
                  steps:
                    - name: aws_sqs_sendMessage_1
                      type: action
                      action: aws.sqs.sendMessage
                      version: '1'
                      inputs:
                        awsRoleArn: ${{ .workflowInputs.arnRole }}
                        region: us-east-2
                        queueUrl: https://sqs.us-east-2.amazonaws.com/123456789012/workflow-test-queue
                        messageBody: "This is a test message"
                        messageAttributes:
                          my_attribute_name_1:
                            DataType: "String"
                            StringValue: "my_attribute_value_1"
                          my_attribute_name_2:
                            DataType: "String"
                            StringValue: "my_attribute_value_2"
                      next: end
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>

<CollapserGroup>
  <Collapser id="aws-sqs-receivemessage" title="Recebe uma mensagem de uma fila AWS SQS.">
    Recupera uma ou mais mensagens da fila especificada.

    <Tabs>
      <TabsBar>
        <TabsBarItem id="aws-sqs-receivemessage-inputs">
          Entradas
        </TabsBarItem>

        <TabsBarItem id="aws-sqs-receivemessage-outputs">
          Saídas
        </TabsBarItem>

        <TabsBarItem id="aws-sqs-receivemessage-example">
          Exemplo
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="aws-sqs-receivemessage-inputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de entrada
                </th>

                <th>
                  Opcionalidade
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Exemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **awsRoleArn**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `arn:aws:iam::123456789012:role/my-workflow-role`
                </td>
              </tr>

              <tr>
                <td>
                  **awsAccessKeyId**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `${{ :secrets:<awsAccessKeyId> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **awsSecretAccessKey**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `${{ :secrets:<awsSecretAccessKey> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **awsSessionToken**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `${{ :secrets:<awsSessionToken> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **região**
                </td>

                <td>
                  Obrigatório
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `"us-east-2"`
                </td>
              </tr>

              <tr>
                <td>
                  **queueUrl**
                </td>

                <td>
                  Obrigatório
                </td>

                <td>
                  Corda
                </td>

                <td>
                  &quot;

                  `https://sqs.us-east-2.amazonaws.com/123456789012/my-queue`

                  &quot;
                </td>
              </tr>

              <tr>
                <td>
                  **maxNumberOfMessages**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Interno
                </td>

                <td>
                  `10`
                </td>
              </tr>

              <tr>
                <td>
                  **waitTimeSeconds**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Interno
                </td>

                <td>
                  `5`
                </td>
              </tr>

              <tr>
                <td>
                  **VisibilityTimeout**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Interno
                </td>

                <td>
                  `123`
                </td>
              </tr>

              <tr>
                <td>
                  **AttributeNames**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Lista
                </td>

                <td>
                  ```yaml
                    [
                      'All'|'Policy'|'VisibilityTimeout'|'MaximumMessageSize'|'MessageRetentionPeriod'|'ApproximateNumberOfMessages'|'ApproximateNumberOfMessagesNotVisible'|'CreatedTimestamp'|'LastModifiedTimestamp'|'QueueArn'|'ApproximateNumberOfMessagesDelayed'|'DelaySeconds'|'ReceiveMessageWaitTimeSeconds'|'RedrivePolicy'|'FifoQueue'|'ContentBasedDeduplication'|'KmsMasterKeyId'|'KmsDataKeyReusePeriodSeconds'|'DeduplicationScope'|'FifoThroughputLimit'|'RedriveAllowPolicy'|'SqsManagedSseEnabled',
                    ]
                  ```
                </td>
              </tr>

              <tr>
                <td>
                  **messageAttributeNames**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Lista
                </td>

                <td>
                  ```yaml
                    [
                      'message_attribute_name',
                    ],
                  ```
                </td>
              </tr>

              <tr>
                <td>
                  **messageSystemAttributeNames**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Lista
                </td>

                <td>
                  `['SenderId', 'SentTimestamp']`
                </td>
              </tr>

              <tr>
                <td>
                  **receiveRequestAttemptId**
                </td>

                <td>
                  Opcional
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `"req-1234abcd"`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="aws-sqs-receivemessage-outputs">
          <table>
            <thead>
              <tr>
                <th>
                  Campo de saída
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Exemplo
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **response**
                </td>

                <td>
                  objeto
                </td>

                <td>
                  `{"response":<aws api response> }`

                  A sintaxe de resposta pode ser consultada em receive\_message - documentação do Boto3]\([https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/sqs/client/receive\_message.html](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/sqs/client/receive_message.html))
                </td>
              </tr>

              <tr>
                <td>
                  **sucesso**
                </td>

                <td>
                  Boleano
                </td>

                <td>
                  `success: true | false`
                </td>
              </tr>

              <tr>
                <td>
                  **mensagem de erro**
                </td>

                <td>
                  Corda
                </td>

                <td>
                  `"errorMessage": "SQS.Client.exceptions.QueueDoesNotExist: "The specified queue does not exist.""`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="aws-sqs-receivemessage-example">
          ```yaml
            name: sqs-receive-message-test
            description: 'Receives a message from an SQS queue'
            steps:
              - name: aws_sqs_receiveMessage_1
                type: action
                action: aws.sqs.receiveMessage
                version: '1'
                inputs:
                  awsRoleArn: ${{ :secrets:awsRoleArn }}
                  region: us-east-1
                  queueUrl: https://sqs.us-east-1.amazonaws.com/123456789012/workflow-test-queue
                  waitTimeSeconds: 5
                  maxNumberOfMessages: 10
                  messageAttributeNames: ['message_attribute_name'],
          ```
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>