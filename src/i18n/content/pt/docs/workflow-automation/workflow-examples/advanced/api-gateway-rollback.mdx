---
title: Reversão do gateway de API
tags:
  - workflow automation
  - workflow
  - aws
  - api gateway
metaDescription: 'Detect deployments via change tracking, send Slack approval requests, and automate API Gateway rollback.'
freshnessValidatedDate: never
translationType: machine
---

Detecte implantações via rastreamento de mudanças do New Relic, envie solicitações de aprovação do Slack e automatize o rollback do API Gateway usando o AWS Systems Manager.

**Requisitos:**

* Credenciais AWS (API Gateway + Systems Manager)
* Token do Slack
* Monitoramento de entidade New Relic

**O que este fluxo de trabalho faz:**

* Detectar implantações recentes usando o rastreamento de alterações do New Relic
* Enviar notificações do Slack com botões de aprovação `(:+1: or :-1:)`
* Criar documento SSM após a aprovação para automatizar a reversão
* Reverter a integração do API Gateway para a versão Lambda anterior
* Criar nova implantação para aplicar rollback
* Enviar notificação de status para o Slack
* Limpar o documento SSM após a conclusão

**Ações principais**: `newrelic.nerdgraph.execute`, `slack.chat.postMessage`, `slack.chat.getReactions`, `aws.systemsManager.writeDocument`, `aws.systemsManager.startAutomation`, `aws.systemsManager.waitForAutomationStatus`, `aws.systemsManager.deleteDocument`

## Qual é o próximo

* **[Gerenciamento de EC2](/docs/workflow-automation/workflow-examples/advanced/ec2-management)**: Automação de infraestrutura
* **[Alertas NRQL](/docs/workflow-automation/workflow-examples/advanced/nrql-alerting)**: Padrões de alerta personalizados