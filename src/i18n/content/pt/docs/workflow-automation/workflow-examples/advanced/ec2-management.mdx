---
title: Óbvias de gestão EC2
tags:
  - workflow automation
  - workflow
  - aws
  - ec2
metaDescription: 'Respond to CPU alerts, request Slack approval, and automate EC2 instance resizing.'
freshnessValidatedDate: never
translationType: machine
---

Responda aos alertas de CPU do New Relic, solicite aprovação do Slack e automatize o redimensionamento da instância EC2 via AWS Systems Manager.

**Requisitos:**

* Credenciais AWS (EC2 + Systems Manager)
* Condição de alerta do New Relic
* Token do Slack

**O que este fluxo de trabalho faz:**

* Receba alertas de CPU alta do New Relic
* Recuperar detalhes do alerta e identificar a instância EC2 impactada
* Enviar notificação do Slack com detalhes da instância e solicitar aprovação
* Criar documento SSM após a aprovação para redimensionamento automático
* Parar instância, modificar o tipo de instância e reiniciar
* Enviar atualizações de progresso para o Slack durante o redimensionamento
* Aguarde a conclusão e envie o status
* Limpar o documento SSM e enviar a confirmação final

**Ações principais**: `newrelic.nerdgraph.execute`, `newrelic.nrdb.query`, `slack.chat.postMessage`, `slack.chat.getReactions`, `aws.systemsManager.writeDocument`, `aws.systemsManager.startAutomation`, `aws.systemsManager.waitForAutomationStatus`, `aws.systemsManager.deleteDocument`, `utils.datetime.fromEpoch`, `utils.uuid.generate`

## Qual é o próximo

* **[Reversão do API Gateway](/docs/workflow-automation/workflow-examples/advanced/api-gateway-rollback)**: Automação do API Gateway
* **[Reversão de implantação](/docs/workflow-automation/workflow-examples/advanced/deployment-rollback)**: Monitoramento de implantação