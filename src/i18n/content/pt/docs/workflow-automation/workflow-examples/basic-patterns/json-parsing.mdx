---
title: análise sintática JSON
tags:
  - workflow automation
  - workflow
  - json
  - selectors
metaDescription: Parse JSON responses using selectors to extract and process specific fields from API responses.
freshnessValidatedDate: never
translationType: machine
---

Busque JSON da API de status do New Relic, analise os status dos componentes e problemas de log.

**Requisitos:**

* Acesso à API de status.
* Permissões de ingestão de log.

**O que este fluxo de trabalho faz:**

* Obtém dados JSON da API de status do New Relic.
* Extrai e categoriza os componentes de acordo com seu status operacional.
* Registra condicionalmente os componentes operacionais (se ativado).
* Registra condicionalmente componentes não operacionais (se ativado)
* Lida com erros HTTP e registra mensagem de erro

**Ações principais**: `http.get`, `newrelic.ingest.sendLogs`

```yaml
  name: parse_status_api

  steps:
    - name: fetchStatus
      type: action
      action: http.get
      version: 1
      inputs:
        url: 'https://status.newrelic.com/api/v2/summary.json'
        selectors:
          - name: operational
            expression: '.components[] | select(.status == "operational") | .name'
          - name: degraded
            expression: '.components[] | select(.status != "operational") | .name'

    - name: logNonOperational
      type: action
      action: newrelic.ingest.sendLogs
      version: 1
      inputs:
        logs:
          - message: 'Services with issues: ${{ .steps.fetchStatus.outputs.degraded | tostring }}'
            attributes:
              operationalServices: ${{ .steps.fetchStatus.outputs.operational }}
```

## Qual é o próximo

* **[Entradas do fluxo de trabalho](/docs/workflow-automation/workflow-examples/basic-patterns/workflow-inputs)**: Passe valores dinâmicos em tempo de execução
* **[Passagem de dados](/docs/workflow-automation/workflow-examples/basic-patterns/data-passing)**: encadeie ações