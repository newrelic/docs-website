---
title: Passando dados entre etapas
tags:
  - workflow automation
  - workflow
  - data passing
  - template syntax
metaDescription: Reference outputs from previous steps using template syntax to chain actions and build complex automation.
freshnessValidatedDate: never
translationType: machine
---

Saídas de referência das etapas anteriores usando a sintaxe de modelo para encadear ações e construir automação complexa.

**Requisitos:**

* Conta New Relic com as permissões apropriadas
* Espaço de trabalho do Slack com as permissões apropriadas
* Token do bot do Slack configurado como um segredo na automação do fluxo de trabalho
* Acesso aos canais do Slack onde as mensagens serão enviadas

## Passagem básica de dados

Consulte problemas de alerta do New Relic e envie notificações para o Slack para cada problema ativo.

**O que este fluxo de trabalho faz:**

* Executar consulta NerdGraph para recuperar problemas de alerta ativos
* Iterar por cada problema de alerta
* Enviar notificação do Slack para cada problema com detalhes do problema

```yaml
  name: alertSlack
  description: "query Alert Issues and send notifications to Slack"

  workflowInputs:
    accountId:
      type: Int

  steps:
    - name: getAlert
      type: action
      action: newrelic.nerdgraph.execute
      version: 1
      inputs:
        graphql: |
          query GetAlertIssues($accountId: Int!) {
            actor {
              account(id: $accountId) {
                aiIssues {
                  issues(filter: {states: ACTIVATED}) {
                    issues {
                      issueId
                      priority
                      state
                      title
                    }
                  }
                }
              }
            }
          }
        variables:
          accountId: ${{ .workflowInputs.accountId }}

    - name: loopStep
      type: loop
      for:
        in: ${{ .steps.getAlert.outputs.data.actor.account.aiIssues.issues.issues }}
        steps:
          - name: sendToSlack
            type: action
            action: slack.chat.postMessage
            version: 1
            inputs:
              token: ${{ :secrets:your_slack_token }}
              channel: incident-channel
              text: >
                issueId: ${{ .steps.loopStep.loop.element.issueId }}
                priority: ${{ .steps.loopStep.loop.element.priority }}
                state: ${{ .steps.loopStep.loop.element.state }}
                title: ${{ .steps.loopStep.loop.element.title | tostring }}
```

**Ações principais**: `newrelic.nerdgraph.execute`, `slack.chat.postMessage`

## Qual é o próximo

* **[Loops](/docs/workflow-automation/workflow-examples/basic-patterns/loops)**: Iterar por coleções
* **[Lógica condicional](/docs/workflow-automation/workflow-examples/basic-patterns/conditional-logic)**: Utilize instruções switch