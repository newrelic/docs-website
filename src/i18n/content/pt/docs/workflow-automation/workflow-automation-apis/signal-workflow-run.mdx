---
title: Executar fluxo de trabalho de sinalização
tags:
  - workflow automation
  - workflow
  - Signal Workflow Run
  - workflow automation API
metaDescription: Actions trigger a signal to an existing running workflow.
freshnessValidatedDate: never
translationType: machine
---

Esta API aciona um sinal para um fluxo de trabalho em execução existente. Isso pode ser usado para enviar um retorno de chamada e ser avaliado pelo fluxo de trabalho para ir para as próximas etapas diferentes. Os parâmetros podem ser passados junto com o sinal.

## Parâmetro de entrada

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        Parâmetro
      </th>

      <th>
        Tipo
      </th>

      <th>
        Obrigatório
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `accountId`
      </td>

      <td>
        Número
      </td>

      <td>
        Sim
      </td>

      <td>
        Seu ID da conta.
      </td>
    </tr>

    <tr>
      <td>
        `runId`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        O identificador exclusivo do fluxo de trabalho em execução. Obtido da API 

        `StartWorkflowRun`

        .
      </td>
    </tr>

    <tr>
      <td>
        `signalName`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        O nome do sinal definido na etapa de espera do fluxo de trabalho.
      </td>
    </tr>

    <tr>
      <td>
        `signalInputs`
      </td>

      <td>
        Matriz
      </td>

      <td>
        Não
      </td>

      <td>
        Pares chave-valor opcionais para passar dados com o sinal.
      </td>
    </tr>
  </tbody>
</table>

## Solicitação de amostra

Considerando a definição de fluxo de trabalho abaixo e um fluxo de trabalho já em execução

```yaml
name: signalDemo

steps:
  - name: waitStep
    type: wait
    seconds: 300
    signals:
      - name: approve
        next: signalHandler
      - name: cancel
        next: signalHandler

  - name: NoSignalReceived
    type: action
    action: newrelic.ingest.sendLogs
    version: 1
    inputs:
      logs:
        - message: "no signals received"
    next: end

  - name: signalHandler
    type: action
    action: newrelic.ingest.sendLogs
    version: 1
    inputs:
      logs:
        - message: "signal '${{ .steps.waitStep.outputs.signalName }}' was received with: '${{ .steps.waitStep.outputs.signalInputs | tostring }}'"
```

Após iniciar este fluxo de trabalho, este runId é retornado ao iniciar. `107e6df2-aa17-41bc-8065-bfa46bde810b`

O fluxo de trabalho pode então ser sinalizado com essa mutação.

```graphql
mutation {
  workflowAutomationSignalWorkflowRun(
    accountId: 11933347
    runId: "107e6df2-aa17-41bc-8065-bfa46bde810b"
    signalName: "approve"
    signalInputs: [
      {key: "foo", value: "bar"}
    ]
  ) {
    runId
  }
}
```

## Exemplo de saída de log

O seguinte pode ser observado nos Logs se o fluxo de trabalho foi iniciado com `options: {logLevel: DEBUG}`:

<img title="Screenshot displaying Logs if the workflow was started with the options: {logLevel: DEBUG}" alt="Screenshot displaying Logs if the workflow was started with the options: {logLevel: DEBUG}" src="/images/signal-workflow-run.webp" />

## Resposta de amostra

A mutação retorna:

* `runId`: O identificador exclusivo da execução do fluxo de trabalho que recebeu o sinal.