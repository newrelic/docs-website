---
title: Controle de acesso a dados
tags:
  - Accounts
  - Accounts and billing
  - New Relic user management
metaDescription: Control user access to specific log data with data access policies.
freshnessValidatedDate: never
translationType: machine
---

Controlar quem tem acesso a dados específicos dentro da sua organização é vital para a segurança, a conformidade e a governança de dados. Enquanto [o controle de acesso baseado em funções](/docs/accounts/accounts-billing/new-relic-one-user-management/user-management-concepts) do New Relic gerencia a que recurso o usuário pode acessar, <DNT>**data access control**</DNT> gerencia quais dados específicos o usuário pode visualizar.

Atualmente, o controle de acesso a dados está disponível para dados de log, permitindo restringir o acesso do usuário a [partições de log](/docs/logs/ui-data/data-partitions/) específicas.

## Como funciona [#how-it-works]

Grandes organizações geram quantidades massivas de logs em diversas equipes, serviços e ambientes. As equipes de segurança precisam monitorar logs de segurança críticos que podem conter informações de identificação pessoal (PII), enquanto as equipes de desenvolvimento precisam visualizar apenas os logs relevantes para seus microsserviços específicos. <DNT>**Data access control**</DNT> permite criar políticas que definem exatamente a quais partições de log cada equipe pode acessar.

Você cria políticas de acesso a dados que restringem o acesso a partições de log específicas e as atribui a grupos de usuários por meio de concessões de acesso. Usuários em grupos com políticas atribuídas só podem acessar as partições de log permitidas por essas políticas.

Recomendamos começar com uma abordagem de negação total e, em seguida, adicionar políticas de permissão para conceder acesso apenas às partições necessárias. Isso segue o princípio do menor privilégio e garante que o usuário acesse apenas os dados de que precisa.

Conceitos-chave:

* **Políticas de acesso a dados**: Defina quais partições de log o usuário pode acessar usando lista de permissões ou listas de negação.
* **Atribuição de políticas**: As políticas são atribuídas a grupos através da interface do usuário <DNT>*Access Management*\*</DNT>.
* **Correspondência com curinga**: Use `%` como curinga para corresponder a várias partições (por exemplo, `log_prod%` corresponde a todas as partições que começam com &quot;log\_prod&quot;).
* **Políticas múltiplas**: Quando um usuário pertence a vários grupos com políticas diferentes, aplica-se o acesso mais permissivo.

<Callout variant="important">
  Usuários com acesso restrito ainda podem visualizar informações de partições de log restritas por meio de [exportações históricas](/docs/apis/nerdgraph/examples/nerdgraph-historical-data-export/), [notificações de alerta](/docs/alerts/get-notified/incident-workflows/) ou da [APIInsights ](/docs/apis/insights-apis/query-insights-event-data-api/). Consulte a seção sobre [riscos potenciais de exposição de dados](#data-exposure-risks) para obter detalhes e medidas de mitigação.
</Callout>

## Requisitos [#requirements]

Para criar e gerenciar políticas de acesso a dados, você precisa ter:

* Conta [Pro ou edição Enterprise](https://newrelic.com/pricing)
* Função [de gerente de domínio de autenticação](/docs/accounts/accounts-billing/new-relic-one-user-management/user-management-concepts#admin-settings)
* [Usuário principal ou tipo de usuário de plataforma completa](/docs/accounts/accounts-billing/new-relic-one-user-management/user-type)

## Criar e atribuir políticas de acesso a dados [#create-policies]

Você pode criar e atribuir políticas de acesso a dados por meio da interface do usuário ou da [API do NerdGraph](/docs/apis/nerdgraph/examples/nerdgraph-data-access-control). Para criar uma política através da interface do usuário, consulte os seguintes passos:

<Steps>
  <Step>
    ### Crie uma política [#create]

    1. Vá para <DNT>**[one.newrelic.com &gt; Administration](https://one.newrelic.com/admin-portal) &gt; Access Management &gt; Data access policies**</DNT>.
    2. Clique em <DNT>**Create a policy**</DNT> (ou <DNT>**Add a policy**</DNT> se você já tiver políticas existentes).

    <img title="Add data access policy" alt="Screenshot showing how to add a data access policy" src="/images/add-data-policy.webp" />

    3. Insira um nome para a política.

    4. Selecione uma condição:

       * <DNT>**Deny selected**</DNT>Bloqueia o acesso a partições de log selecionadas.
       * <DNT>**Allow selected**</DNT>Permite o acesso apenas às partições de log selecionadas.

    5. Na dropdown <DNT>**Filter partitions by account**</DNT>, selecione as contas para criar uma lista restrita da partição de log.,

    6. Selecione as partições de log a serem incluídas na política:

       * Selecione as partições no dropdown ou
       * Digite os nomes das partições ou caracteres curinga (por exemplo, `log_go%` para corresponder a várias partições), separados por vírgulas.

    7. Clique em <DNT>**Review policy**</DNT> para verificar sua configuração.

    8. Clique em <DNT>**Create policy**</DNT>.

    A política aparece na aba <DNT>**Data access policies**</DNT>. Para visualizar, editar ou excluir, clique em <Icon name="fe-more-horizontal" /> menu.
  </Step>

  <Step>
    ### Atribua a política a um grupo [#assign]

    1. Vá para <DNT>**Administration &gt; Access Management &gt; Grants**</DNT>.
    2. Localize a subvenção à qual deseja atribuir a apólice e, em seguida, clique em <Icon name="fe-more-horizontal" /> menu ao lado.
    3. Selecione <DNT>**Add data access policy**</DNT>.
    4. Na dropdown <DNT>**Policies**</DNT>, selecione sua política.
    5. Clique em <DNT>**Save**</DNT>.

    A coluna <DNT>**Policy name**</DNT> mostra a política atribuída. Para remover ou alterar, use o <Icon name="fe-more-horizontal" /> menu.
  </Step>
</Steps>

## Riscos potenciais de exposição de dados [#data-exposure-risks]

Embora o controle de acesso a dados restrinja o acesso aos dados de log na maioria dos recursos New Relic, existem cenários em que o usuário ainda pode visualizar dados restritos:

<CollapserGroup>
  <Collapser id="api-keys" title="legado Insights chave de API">
    **Risco**: o usuário com chave de API Insights legada pode consultar partições de log restritas, pois essas chaves não seguem as políticas de acesso a dados.

    **Mitigação**:

    1. Acesse sua [página de chave de API](https://one.newrelic.com/admin-portal/api-keys/home)
    2. Identifique a chave de APIdo Insights herdado
    3. Gire ou exclua essas teclas.
    4. Crie novas [chaves de usuário](/docs/apis/intro-apis/new-relic-api-keys/#user-key) que respeitem as políticas de acesso a dados.
  </Collapser>

  <Collapser id="alerts" title="alertas e notificações">
    **Risco**:

    Quando a condição do alerta consulta os logs contendo dados confidenciais, o usuário com acesso a essa conta pode:

    * Receber notificação de qualquer condição do alerta, incluindo condições que consultem partições restritas
    * consulte estes eventos que podem conter dados restritos: `NrAiSignal`, `NrAiIncident`, `NrAiIssue`, `NrAiNotification`, ou `NrIntegrationError`
    * Visualize páginas de detalhes de condições e páginas de problemas mesmo quando as condições consultarem partições restritas.

    **Mitigação**:

    1. Crie uma [função personalizada](/docs/accounts/accounts-billing/new-relic-one-user-management/account-user-mgmt-tutorial/#roles) sem acesso a alertas e notificações de fluxo de trabalho
    2. Atribua a tarefa ao usuário que não deve gerenciar alertas.
    3. Evite facetar campos sensíveis na condição do alerta
  </Collapser>

  <Collapser id="data-partition-modify" title="Modificar o acesso à funcionalidade de regras de partições de dados">
    **Risco**:

    O usuário com acesso <DNT>**Modify**</DNT> ao recurso <DNT>**Data partitions rules**</DNT> pode modificar a configuração da partição de dados. Isso permite ao usuário acessar dados de log restritos, alterando as regras ou configurações de partição. Essa funcionalidade ignora as restrições de controle de acesso a dados.

    **Mitigação**:

    * Conceda esse acesso somente a administradores de confiança que precisam gerenciar a configuração da partição.
    * Crie [funções personalizadas](/docs/accounts/accounts-billing/new-relic-one-user-management/account-user-mgmt-tutorial/#roles) sem essa funcionalidade para usuários que precisam apenas visualizar logs.
  </Collapser>

  <Collapser id="query-keys-modify" title="Modificar o acesso à funcionalidade de chave de consulta">
    **Risco**: o usuário com acesso <DNT>**Modify**</DNT> à capacidade <DNT>**Query keys**</DNT> pode criar chave de consulta que fornece capacidades de consulta em toda a conta. Essas chaves contornam as restrições de acesso a dados em nível de usuário. Isso permite consultar quaisquer dados de log em toda a conta, incluindo partições restritas.

    **Mitigação**:

    * Conceda este acesso apenas a administradores de confiança que precisem criar a chave de consulta.
    * Crie [funções personalizadas](/docs/accounts/accounts-billing/new-relic-one-user-management/account-user-mgmt-tutorial/#roles) sem essa funcionalidade para usuários comuns.
  </Collapser>
</CollapserGroup>

## Tópicos relacionados [#related-topics]

<DocTiles>
  <DocTile title="Conceitos de gerenciamento de usuários" path="/docs/accounts/accounts-billing/new-relic-one-user-management/user-management-concepts">
    Saiba mais sobre tipos de usuários, funções e recursos de gerenciamento de usuários.
  </DocTile>

  <DocTile title="Gerenciar usuário com NerdGraph" path="/docs/apis/nerdgraph/examples/nerdgraph-manage-users">
    Utilize a API do NerdGraph para gerenciar programaticamente usuários e permissões de acesso.
  </DocTile>

  <DocTile title="Partições de log" path="/docs/logs/ui-data/data-partitions/">
    Entenda como organizar seus dados de log em partições para obter melhor controle e desempenho.
  </DocTile>

  <DocTile title="Gerencie as políticas de acesso a dados por meio do NerdGraph." path="/docs/apis/nerdgraph/examples/nerdgraph-data-access-control">
    Aprenda a criar e gerenciar políticas de acesso a dados usando a API do NerdGraph.
  </DocTile>
</DocTiles>