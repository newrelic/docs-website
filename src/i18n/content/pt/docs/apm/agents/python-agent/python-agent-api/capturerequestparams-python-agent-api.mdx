---
title: capture_request_params (API do agente Python)
type: apiDoc
shortDescription: Permite a captura do parâmetro da string de consulta de uma transação.
tags:
  - Agents
  - Python agent
  - Python agent API
metaDescription: 'Python API: This call enables collection of query string parameters.'
freshnessValidatedDate: never
translationType: machine
---

## Sintaxe

```py
newrelic.agent.capture_request_params(flag=True)
```

Permite a captura do parâmetro da string de consulta de uma transação.

## Descrição

Esta chamada permite a captura do parâmetro da string de consulta de uma transação web como [atributo](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#attribute). Esta coleção é bloqueada por padrão por motivos de segurança. Se você quiser ativar a coleção de parâmetros de string de consulta para todo o aplicativo, use a configuração [`record_sql`](/docs/agents/python-agent/installation-configuration/python-agent-configuration#txn-tracer-sql) .

[O modo de alta segurança](/docs/accounts-partnerships/accounts/security/high-security) substitui esta chamada se estiver ativa; nesse caso, esta chamada não tem efeito. Esta chamada substitui outras configurações relevantes na [configuração](/docs/agents/python-agent/installation-configuration/python-agent-configuration) do agente.

<Callout variant="tip">
  Você também pode ativar a captura de cadeia de caracteres de consulta no dicionário de ambiente WSGI. Para fazer isso, sinalize a chave `newrelic.capture_request_params` da solicitação específica no dicionário de ambiente WSGI transmitido pelo servidor WSGI para o aplicativo WSGI de destino.
</Callout>

## Parâmetro

<table>
  <thead>
    <tr>
      <th width="25%">
        Parâmetro
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `flag`

        _boleano_
      </td>

      <td>
        Opcional. O padrão é `True`. Use `False` para desativar a coleta.
      </td>
    </tr>
  </tbody>
</table>

## Valores de retorno

Nenhum.

## Exemplos

### Habilitar captura de string de consulta [#capture-example]

Coloque esta chamada na seção de código correspondente a uma transação para a qual você deseja coletar o parâmetro da string de consulta:

```py
newrelic.agent.capture_request_params()
```
