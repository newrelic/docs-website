---
title: Configuração do agente Python
tags:
  - Agents
  - Python agent
  - Configuration
metaDescription: 'How to configure the Python agent, including editing the Python agent config file and setting environment variables.'
freshnessValidatedDate: never
translationType: machine
---

[Nosso agente Python](/docs/agents/python-agent/getting-started/introduction-new-relic-python) permite que você altere o comportamento padrão do agente usando opções de configuração.

A única configuração necessária do agente Python é <InlinePopover type="licenseKey"/>. A chave de licença identifica a conta onde o agente reporta os dados do aplicativo. Dependendo de como você está hospedando seu aplicativo, a chave de licença pode ser fornecida por meio de um arquivo de configuração ou de uma variável de ambiente.

## Métodos de configuração e precedência [#options]

A principal forma de configurar o agente Python é por meio do [arquivo de configuração](#agent-configuration-file), que é gerado como parte do [processo de instalação](/docs/agents/python-agent/installation-configuration/python-agent-installation) padrão. Também é possível definir um número limitado de opções de configuração utilizando [a configuração no lado do servidor na interface](#server-side-configuration) ou utilizando [variáveis de ambiente](#environment-variables). Você também pode especificar algumas configurações por solicitação, passando as configurações com o [dicionário de ambiente de solicitação WSGI](#per-request-configuration).

O agente Python segue esta ordem de precedência para configuração:

<img
  title="diagram-python-config-precedence.png"
  alt="diagram-python-config-precedence.png"
  src="/images/apm_diagram_config-settings.webp"
/>

<figcaption>
  Com o agente Python, as opções por solicitação substituem a configuração do lado do servidor. Se ativada, a configuração do lado do servidor substitui <DNT>**all**</DNT> valores correspondentes no arquivo de configuração do agente, mesmo que os valores do lado do servidor sejam deixados em branco. O arquivo de configuração do agente substitui as variáveis de ambiente. As variáveis de ambiente substituem os padrões do agente.
</figcaption>

Aqui estão descrições detalhadas de cada método de configuração:

<CollapserGroup>
  <Collapser
    className="freq-link"
    id="agent-configuration-file"
    title="Arquivo de configuração do agente"
  >
    Normalmente você configura seu agente Python a partir de um arquivo de configuração local no sistema host do agente. Forneça o caminho para o arquivo de configuração na inicialização usando um destes métodos:

    * Ao chamar [`newrelic.agent.initialize()`](/docs/agents/python-agent/customization-extension/python-management-api#mgmt), forneça o caminho para o arquivo de configuração como primeiro argumento.

      OU

    * Defina a variável de ambiente `NEW_RELIC_CONFIG_FILE` . Se você usar o script wrapper `newrelic-admin` , deverá usar a variável de ambiente porque o script wrapper chama o agente automaticamente.

      O arquivo de configuração usa uma estrutura semelhante aos arquivos `.ini` do Microsoft Windows. Para obter mais informações, consulte a [documentação de formato de arquivo](http://docs.python.org/library/configparser.html) do módulo Python ConfigParser.

      <Callout variant="tip">
        Um arquivo de configuração de amostra está incluído no agente Python como `newrelic/newrelic.ini`. Você também pode gerar um a partir do script `newrelic-admin` usando o comando `generate-config` ou fazer download de uma cópia em [nosso repositório de download](https://download.newrelic.com/python_agent/release/).
      </Callout>
  </Collapser>

  <Collapser
    className="freq-link"
    id="server-side-configuration"
    title="Configuração no lado do servidor"
  >
    [A configuração no lado do servidor](/docs/agents/manage-apm-agents/configuration/server-side-agent-configuration) permite definir determinadas configurações na interface do New Relic. Isso aplica suas alterações automaticamente a todos os agentes, mesmo que eles sejam executados em vários hosts. Quando disponível, este documento inclui os rótulos de interface para configuração do lado do servidor em opções de configuração individuais como <DNT>**Server-side label**</DNT>.

    <Callout variant="important">
      Se a configuração do lado do servidor estiver habilitada, o agente ignorará qualquer valor no arquivo de configuração que <DNT>**could**</DNT> seja definido na interface. Mesmo que o valor da interface esteja vazio, o agente trata isso como uma sequência vazia e não usa o arquivo de configuração do agente.
    </Callout>
  </Collapser>

  <Collapser
    className="freq-link"
    id="environment-variables"
    title="Variáveis ambientais"
  >
    As variáveis de ambiente permitem substituir os padrões de determinadas configurações principais. Se a configuração equivalente estiver listada explicitamente no arquivo de configuração do agente, as configurações do arquivo de configuração terão precedência sobre a variável de ambiente. Quando disponíveis, as variáveis de ambiente são documentadas abaixo em opções de configuração individuais como <DNT>**Environ variable**</DNT>.

    Para configurações simples, você pode usar as variáveis de ambiente em conjunto com [a configuração no lado do servidor](#server-side-configuration) e evitar completamente o arquivo de configuração do agente. Esta é a configuração padrão do [Heroku](/docs/agents/python-agent/hosting-services/python-agent-heroku), onde a instalação do complemento New Relic preenche automaticamente as variáveis de ambiente necessárias.

    Se você estiver usando o New Relic CodeStream para monitor o desempenho do seu IDE, você também pode [associar o repositório aos seus serviços](/docs/codestream/how-use-codestream/performance-monitoring#repo-association) e [associar SHAs de compilação ou tag de lançamento a erros](/docs/codestream/how-use-codestream/performance-monitoring#buildsha).

    <table>
      <thead>
        <tr>
          <th width="400px">
            <DNT>
              **Environment variable**
            </DNT>
          </th>

          <th>
            <DNT>
              **Configuration setting**
            </DNT>
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `NEW_RELIC_LICENSE_KEY`
          </td>

          <td>
            `license_key`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_APP_NAME`
          </td>

          <td>
            `app_name`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_MONITOR_MODE`
          </td>

          <td>
            `monitor_mode`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_DEVELOPER_MODE`
          </td>

          <td>
            `developer_mode`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_LOG`
          </td>

          <td>
            `log_file`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_LOG_LEVEL`
          </td>

          <td>
            `log_level`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_HIGH_SECURITY`
          </td>

          <td>
            `high_security`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_PROXY_SCHEME`
          </td>

          <td>
            `proxy_scheme`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_PROXY_HOST`
          </td>

          <td>
            `proxy_host`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_PROXY_PORT`
          </td>

          <td>
            `proxy_port`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_PROXY_USER`
          </td>

          <td>
            `proxy_user`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_PROXY_PASS`
          </td>

          <td>
            `proxy_pass`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_AUDIT_LOG`
          </td>

          <td>
            `audit_log_file`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_STARTUP_TIMEOUT`
          </td>

          <td>
            `startup_timeout`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_SHUTDOWN_TIMEOUT`
          </td>

          <td>
            `shutdown_timeout`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_LABELS`
          </td>

          <td>
            `labels`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_PROCESS_HOST_DISPLAY_NAME`
          </td>

          <td>
            `process_host.display_name`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_API_KEY`
          </td>

          <td>
            `api_key`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_CA_BUNDLE_PATH`
          </td>

          <td>
            `ca_bundle_path`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_DISTRIBUTED_TRACING_ENABLED`
          </td>

          <td>
            `distributed_tracing.enabled`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_ANALYTICS_EVENTS_MAX_SAMPLES_STORED`
          </td>

          <td>
            `event_harvest_config.harvest_limits.analytic_event_data`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_CUSTOM_INSIGHTS_EVENTS_MAX_SAMPLES_STORED`
          </td>

          <td>
            `event_harvest_config.harvest_limits.custom_event_data`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_ML_INSIGHTS_EVENTS_MAX_SAMPLES_STORED`
          </td>

          <td>
            `event_harvest_config.harvest_limits.ml_event_data`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_SPAN_EVENTS_MAX_SAMPLES_STORED`
          </td>

          <td>
            `event_harvest_config.harvest_limits.span_event_data`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_ERROR_COLLECTOR_MAX_EVENT_SAMPLES_STORED`
          </td>

          <td>
            `event_harvest_config.harvest_limits.error_event_data`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_FEATURE_FLAG`
          </td>

          <td>
            `feature_flag`
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser
    className="freq-link"
    id="per-request-configuration"
    title="Configuração por solicitação"
  >
    Para determinados servidores WSGI, você pode substituir o [nome do aplicativo](#app_name) e [capturar configurações de atributo](#attributes) por solicitação. Isso é possível com servidores WSGI onde é possível definir pares de valores principais adicionais que são passados para o dicionário de ambiente WSGI por solicitação.

    Defina esses valores com as strings `on`, `off`, `true`, `false`, `1` e `0`. Se definido a partir de um mecanismo de configuração implementado usando código Python, os objetos Python avaliados como True ou False também serão aceitos.

    <CollapserGroup>
      <Collapser
        id="example-apache-mod-wsgi"
        title="Exemplo: nome do aplicativo Apache/mod_wsgi"
      >
        No servidor Apache/mod_wsgi, você pode usar a diretiva `SetEnv` para substituir as configurações (opcionalmente dentro de um bloco `Location` ou `Directory` ). Por exemplo, você pode substituir o [nome do aplicativo](#app_name) por um host virtual completo ou por um subconjunto de URLs manipulados pelo aplicativo WSGI para esse host virtual.
      </Collapser>
    </CollapserGroup>

    Além de poder substituir determinadas definições de configuração do agente, você pode definir outras definições de configuração por solicitação com sua chave de ambiente WSGI:

    <CollapserGroup>
      <Collapser
        id="set_background_task"
        title="newrelic.set_background_task"
      >
        Se definida como `true`, esta transação da web será relatada como uma [transação fora da web](/docs/apm/transactions/intro-transactions/monitor-background-processes-other-non-web-transactions).
      </Collapser>

      <Collapser
        id="ignore_transaction"
        title="newrelic.ignore_transaction"
      >
        Se definido como `true`, esta transação da web não será informada.
      </Collapser>

      <Collapser
        id="suppress_apdex_metric"
        title="newrelic.suppress_apdex_metric"
      >
        Se definido como `true`, nenhuma métrica Apdex será gerada para esta transação da web.
      </Collapser>

      <Collapser
        id="suppress_transaction_trace"
        title="newrelic.suppress_transaction_trace"
      >
        Se definido como `true`, esta transação da web não poderá ser registrada em um [trace da transação](/docs/apm/transactions/transaction-traces/transaction-traces).
      </Collapser>

      <Collapser
        id="disable_browser_autorum"
        title="newrelic.disable_browser_autorum"
      >
        Se definido como `true`, isso desativa a inserção automática do cabeçalho/rodapé JavaScript para tempo de carregamento da página (às vezes chamado de monitoramento de usuário real ou RUM). Aplicável apenas se a inserção automática estiver [disponível para sua framework da web](/docs/agents/python-agent/supported-features/page-load-timing-python#restrictions_on_instrumentation).
      </Collapser>
    </CollapserGroup>

    <Callout variant="important">
      Usar um middleware WSGI para definir esses valores não funcionará onde o wrapper de aplicativo WSGI do próprio agente Python foi aplicado em um escopo externo. Nestes casos você deve fazer chamadas para a API do agente para obter o mesmo resultado.
    </Callout>
  </Collapser>
</CollapserGroup>

## Configuração de vários ambientes [#config-file-deployment-environments]

O agente lê sua configuração primária em uma seção de configuração do agente chamada `newrelic`. Você pode fornecer substituições para ambientes de implantação específicos (por exemplo, Desenvolvimento, preparação, Produção) em seções adicionais. Comece estas seções com `[newrelic:environment]`, onde `environment` é substituído pelo nome do seu ambiente.

Para especificar que o agente deve usar uma configuração baseada em ambiente, use um destes métodos:

* Ao chamar [`newrelic.agent.initialize()`](/docs/agents/python-agent/customization-extension/python-management-api#mgmt), forneça o nome do ambiente como segundo argumento.

  OU

* Defina a variável de ambiente `NEW_RELIC_ENVIRONMENT` como o nome do ambiente.

Se nenhum ambiente for especificado, o agente usará as configurações padrão especificadas na seção de configuração do agente `newrelic` .

A estrutura básica do arquivo de configuração é:

```ini
[newrelic]
... default settings

[newrelic:development]
... override settings

[newrelic:staging]
... override settings

[newrelic:production]
... override settings
```

## Configurações gerais de configuração [#general-settings]

Essas configurações estão disponíveis no arquivo de configuração do agente.

<CollapserGroup>
  <Collapser
    id="license_key"
    title="license_key (OBRIGATÓRIA)"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_LICENSE_KEY`
          </td>
        </tr>
      </tbody>
    </table>

    Especifica o <InlinePopover type="licenseKey"/>da sua conta New Relic. Esta chave associa a métrica do seu aplicativo à sua conta New Relic.
  </Collapser>

  <Collapser
    id="app_name"
    title="app_name (ALTAMENTE RECOMENDADO)"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `Python Application`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Opção por solicitação, arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Opção por solicitação](#per-request-configuration)
          </th>

          <td>
            `newrelic.app_name`
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_APP_NAME`
          </td>
        </tr>
      </tbody>
    </table>

    O [nome do aplicativo](/docs/apm/new-relic-apm/installation-configuration/name-your-application) usado para agregar dados na interface do New Relic. Para relatar dados para [vários aplicativos ao mesmo tempo](/docs/apm/new-relic-apm/installation-configuration/using-multiple-names-app), especifique uma lista de nomes separados por ponto e vírgula `;`. Não coloque um espaço antes do ponto e vírgula, o que faz com que o analisador de configuração do Python interprete o nome como um comentário incorporado.
  </Collapser>

  <Collapser
    id="monitor_mode"
    title="monitor_mode"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_MONITOR_MODE`
          </td>
        </tr>
      </tbody>
    </table>

    Quando `true`, o agente coleta dados de desempenho sobre seu aplicativo e reporta esses dados ao nosso [coletor de dados](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#collector).
  </Collapser>

  <Collapser
    id="developer_mode"
    title="developer_mode"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_DEVELOPER_MODE`
          </td>
        </tr>
      </tbody>
    </table>

    Quando `true`, o agente instrumentará seu aplicativo da web, mas não enviará nenhum dado real. Neste modo offline, você não será cobrado por um agente ativo.

    Use o modo de desenvolvedores para testar [novas versões do agente](/docs/release-notes/agent-release-notes/python-release-notes) ou teste o agente em pacotes de terceiros em um ambiente de desenvolvedores. O modo offline não é uma forma de executar o APM localmente, pois as métricas coletadas pelo agente não são reportadas em lugar nenhum.
  </Collapser>

  <Collapser
    id="log_file"
    title="log_file"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_LOG`
          </td>
        </tr>
      </tbody>
    </table>

    Define o nome de um arquivo de log, que é útil para depurar problemas com o agente. Isso não é definido por padrão, pois o agente não conhece o usuário pai do processo do aplicativo Web ou em quais diretórios esse processo tem permissão para gravar. Para obter informações detalhadas, consulte [logging do agente Python](/docs/agents/python-agent/installation-configuration/python-agent-logging).

    Independentemente do que você definir, certifique-se de que as permissões para o diretório que o contém e o próprio arquivo estejam corretas e que o usuário que seu aplicativo da Web executa possa gravar no arquivo.

    <Callout variant="tip">
      Use um caminho absoluto, a menos que você tenha certeza de qual será o diretório de trabalho do seu aplicativo na inicialização. Se não for possível gravar um arquivo de log, você também poderá usar `stderr` e gerar a saída de erro padrão. Isso normalmente resultaria na exibição da saída no log do servidor web.
    </Callout>
  </Collapser>

  <Collapser
    id="log_level"
    title="log_level"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `info`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_LOG_LEVEL`
          </td>
        </tr>
      </tbody>
    </table>

    Define o nível de detalhe da mensagem do log, caso você tenha definido o [local do arquivo de log](#log_file). Este `log_level` não afetará o nível de log do módulo de registro do Python. Os valores possíveis, em ordem crescente de detalhes, são `critical`, `error`, `warning`, `info` e `debug`.

    Para relatar problemas de agentes, a configuração mais útil é `debug`. Porém, `debug` gera muitas informações muito rapidamente, portanto não mantenha o agente neste nível por mais tempo do que o necessário para reproduzir seu problema.
  </Collapser>

  <Collapser
    id="high_security"
    title="high_security"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_HIGH_SECURITY`
          </td>
        </tr>
      </tbody>
    </table>

    O modo de alta segurança impõe determinadas configurações de segurança e evita que sejam substituídas, para que nenhum dado confidencial seja enviado para nós. Ativar o modo de alta segurança significa que os parâmetros da solicitação não serão coletados e você não poderá enviar SQL bruto.

    Para ativar o modo de alta segurança, defina-o como `true` no arquivo de configuração <DNT>**.ini**</DNT> local <DNT>**and**</DNT> e ative-o na página <DNT>**Account settings**</DNT> . Para obter mais informações, consulte [Alta segurança](/docs/accounts-partnerships/accounts/security/high-security).
  </Collapser>

  <Collapser
    id="proxy"
    title="proxy_scheme, proxy_host, proxy_port, proxy_user, proxy_pass"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Cordas
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            Variáveis ambientais
          </th>

          <td>
            `NEW_RELIC_PROXY_SCHEME`

            `NEW_RELIC_PROXY_HOST`

            `NEW_RELIC_PROXY_PORT`

            `NEW_RELIC_PROXY_USER`

            `NEW_RELIC_PROXY_PASS`
          </td>
        </tr>
      </tbody>
    </table>

    Por padrão, o agente Python tenta se conectar diretamente aos nossos servidores. Se houver um firewall entre seu host e nosso [coletor](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#collector) que exija o uso de um proxy HTTP, defina `proxy_host` e `proxy_port` com os valores necessários para seu proxy HTTP. Se a autenticação de proxy for implementada pelo proxy HTTP, configure também `proxy_user` e `proxy_pass`.

    A configuração `proxy_scheme` determina qual esquema de protocolo é usado para se comunicar com o proxy HTTP. Quando definido como `http`, o agente usa um túnel SSL por meio do proxy HTTP para criptografia de ponta a ponta.

    Em vez de definir as configurações `proxy_scheme`, `proxy_host` e `proxy_port` , você também pode definir a configuração `proxy_host` como um URI válido para o proxy. Inclua o esquema, host e porta; por exemplo, `http://proxy-host:8000`. Isso também funciona se você definir os detalhes do proxy HTTP com a variável de ambiente `NEW_RELIC_PROXY_HOST` .
  </Collapser>

  <Collapser
    id="audit-log-file"
    title="audit_log_file"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_AUDIT_LOG`
          </td>
        </tr>
      </tbody>
    </table>

    Define o nome do arquivo de log de auditoria. Se definido, o agente registra detalhes de mensagens transmitidas entre o processo monitor e o [coletor](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#collector). Isso permite avaliar a segurança do agente Python.

    Use um caminho absoluto, a menos que você tenha certeza de qual será o diretório de trabalho do seu aplicativo na inicialização. Qualquer que seja a configuração, certifique-se de que as permissões do diretório que o contém e do próprio arquivo estejam corretas. Certifique-se também de que o usuário pai do seu aplicativo Web possa gravar no arquivo.

    <Callout variant="caution">
      Não use o log de auditoria continuamente, especialmente em um ambiente de produção. Como o agente não trunca ou rotaciona o arquivo de log, o arquivo de log pode crescer muito rapidamente.
    </Callout>
  </Collapser>

  <Collapser
    id="labels"
    title="rótulos (etiqueta)"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_LABELS`
          </td>
        </tr>
      </tbody>
    </table>

    Adiciona [etiqueta](/docs/apm/new-relic-apm/maintenance/labels-categories-organize-your-apps-servers). Especifique _name:value_ separado por dois pontos `:` e separe a tag adicional com ponto e vírgula `;`.

    <CollapserGroup>
      <Collapser
        id="example-2-labels"
        title="Duas tags"
      >
        ```ini
        labels = Server:One;Data Center:Primary
        ```
      </Collapser>
    </CollapserGroup>
  </Collapser>

  <Collapser
    id="process_host-display_name"
    title="process_host.display_name"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_PROCESS_HOST_DISPLAY_NAME`
          </td>
        </tr>
      </tbody>
    </table>

    Define o nome do host a ser [exibido na interface do APM](/docs/apm/new-relic-apm/maintenance/add-rename-remove-hosts#display_name). Se definido, substitui o nome do host padrão que o agente captura automaticamente.
  </Collapser>

  <Collapser
    id="api-key"
    title="api_key"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_API_KEY`
          </td>
        </tr>
      </tbody>
    </table>

    Define o [api_key](/docs/apis/rest-api-v2/requirements/api-keys) a ser usado com [newrelic-admin record-deploy](/docs/agents/python-agent/installation-configuration/python-agent-admin-script#record-deploy).
  </Collapser>

  <Collapser
    id="ca-bundle-path"
    title="ca_bundle_path"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_CA_BUNDLE_PATH`
          </td>
        </tr>
      </tbody>
    </table>

    Substituição manual do caminho para seu pacote de CA local. Este pacote CA será utilizado para validar o certificado SSL apresentado pelo nosso serviço de coleta de dados.

    <Callout variant="tip">
      Esta opção de configuração está disponível apenas nas versões 4.2.0 e mais recentes do agente Python.
    </Callout>
  </Collapser>

  <Collapser
    id="apdex-t"
    title="apdex_t"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Float
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `0.5`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_APDEX_T`
          </td>
        </tr>
      </tbody>
    </table>

    Registraremos o rastreamento da transação quando eles excederem esse limite. O formato é um número de segundos (são permitidos pontos decimais).

    Veja nossa entrada no glossário para [apdex_t](/docs/using-new-relic/welcome-new-relic/get-started/glossary/#apdex_t)

    <Callout variant="important">
      Isso só será definido no arquivo de configuração ou na variável de ambiente se `serverless_mode` estiver definido, o que está habilitado para AWS Lambda. Caso contrário, o valor local `apdex_t` será substituído pelo valor nas configurações do aplicativo de interface que será usado para definir o valor `apdex_f` .
    </Callout>
  </Collapser>
</CollapserGroup>

## Atributo

Atributo são pares de valor principal que fornecem informações para rastreamento de transação, erros de rastreamento, <InlinePopover type="browser"/>e evento de transação. Além de configurar o atributo para todos os quatro destinos com as configurações gerais de atributo abaixo, eles também podem ser configurados por destino.

Para obter mais informações, consulte [Agente Python atributo](/docs/agents/python-agent/attributes/python-agent-attributes), [Ativando e desabilitando atributo](/docs/agents/python-agent/attributes/enabling-disabling-attributes-python) e [exemplos de atributo](/docs/agents/python-agent/attributes/python-attribute-examples).

<CollapserGroup>
  <Collapser
    id="cfg-attributes-enabled"
    title="attributes.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Esta configuração pode ser usada para ativar ou desativar todos os atributos.
  </Collapser>

  <Collapser
    id="cfg-attributes-include"
    title="attributes.include"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Lista de cordas
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Se atributo estiver habilitado, as chaves de atributo encontradas nesta lista serão enviadas para nós. As chaves na lista devem ser separadas por espaços, conforme mostrado abaixo:

    ```
    key1 key2 key3
    ```

    As regras para atributo podem ser encontradas [na página de atributo do agente](/docs/subscriptions/agent-attributes).
  </Collapser>

  <Collapser
    id="cfg-attributes-exclude"
    title="attributes.exclude"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Lista de cordas
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Todas as chaves de atributo encontradas nesta lista não serão enviadas para nós. As chaves na lista devem ser separadas por espaços, conforme mostrado abaixo:

    ```
    key1 key2 key3
    ```

    As regras para atributo podem ser encontradas [na página de atributo do agente](/docs/subscriptions/agent-attributes).
  </Collapser>
</CollapserGroup>

## AI Monitoring [#ai-monitoring]

Esta seção inclui configuração do agente Python para configurar AI Monitoring.

<Callout variant="important">
  Você deve habilitar [distributed tracing](/docs/apm/agents/nodejs-agent/installation-configuration/nodejs-agent-configuration/#dt-main) para capturar dados de IA. Está ativado por padrão nas versões 7.0.0.166 e superiores do agente Python.
</Callout>

<CollapserGroup>
  <Collapser
    id="ai-monitoring-enabled"
    title="ai_monitoring.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment)
          </th>

          <td>
            `NEW_RELIC_AI_MONITORING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Quando definido como `true`, ativa o AI Monitoring.

    <Callout variant="important">
      Esta configuração é desativada quando [o modo de alta segurança](/docs/apm/agents/python-agent/getting-started/apm-agent-security-python/#restricted) está ativado.
    </Callout>
  </Collapser>

  <Collapser
    id="ai-monitoring-streaming"
    title="ai_monitoring.streaming.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment)
          </th>

          <td>
            `NEW_RELIC_AI_MONITORING_STREAMING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Quando definido como `false`, desativa a instrumentação que registra eventos de resumo e mensagem para dados de grande modelo de linguagem transmitidos.
  </Collapser>

  <Collapser
    id="ai-monitoring-record-content"
    title="ai_monitoring.record_content.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment)
          </th>

          <td>
            `NEW_RELIC_AI_MONITORING_RECORD_CONTENT_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se definido como `false`, o agente omitirá o conteúdo de entrada e saída (como sequências de texto de prompt e respostas) capturado no evento LLM. Esta é uma configuração de segurança opcional se você não quiser registrar dados confidenciais enviados e recebidos de seus LLMs.
  </Collapser>
</CollapserGroup>

## Configuração tracer de transação [#txn-tracer-settings]

<Callout variant="important">
  Não use colchetes `[suffix]` no final do nome da sua transação. O agente retira automaticamente os colchetes do nome. Em vez disso, use parênteses `(suffix)` ou outros símbolos, se necessário.
</Callout>

Para obter mais informações sobre rastreamento da transação, consulte [rastreamento da transação](/docs/traces/transaction-traces).

<CollapserGroup>
  <Collapser
    id="txn-tracer-enabled"
    title="transaction_tracer.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Configuração do lado do servidor, arquivo de configuração
          </td>
        </tr>

        <tr>
          <th>
            [Etiqueta do lado do servidor](#server-side-configuration)
          </th>

          <td>
            `Enable transaction tracing?`
          </td>
        </tr>
      </tbody>
    </table>

    Se ativado, o tracer de transação [captura informações profundas sobre transações lentas](/docs/apm/transactions/transaction-traces/transaction-traces).
  </Collapser>

  <Collapser
    id="txn-tracer-threshold"
    title="transaction_tracer.transaction_threshold"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Float ou string positivo (`apdex_f`)
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `apdex_f`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Configuração do lado do servidor, arquivo de configuração
          </td>
        </tr>

        <tr>
          <th>
            [Etiqueta do lado do servidor](#server-side-configuration)
          </th>

          <td>
            `Threshold`
          </td>
        </tr>
      </tbody>
    </table>

    Limite em segundos para quando coletar um rastreamento da transação. Quando o tempo de resposta de uma ação do controlador excede esse limite, o agente registra um rastreamento da transação. Os valores válidos são qualquer float positivo ou `apdex_f` (quatro vezes [apdex_t](/docs/using-new-relic/welcome-new-relic/get-started/glossary/#apdex_t)).
  </Collapser>

  <Collapser
    id="txn-tracer-sql"
    title="transaction_tracer.record_sql"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `obfuscated`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Configuração do lado do servidor, arquivo de configuração
          </td>
        </tr>

        <tr>
          <th>
            [Etiqueta do lado do servidor](#server-side-configuration)
          </th>

          <td>
            `Record SQL?`
          </td>
        </tr>
      </tbody>
    </table>

    Quando o rastreador de transação está [habilitado](#txn-tracer-enabled), o agente pode registrar instruções SQL. O gravador tem três modos: `off` (não envia SQL), `raw` (envia a instrução SQL em seu formato original) e `obfuscated` (retira literais numéricos e de string).

    A maioria dos frameworks web (incluindo Django) parametrizam consultas SQL para que elas não contenham realmente os valores usados para preencher a consulta. Se você usar o modo `raw` com uma dessas estruturas, o agente Python verá apenas o SQL antes da inserção de valores. O SQL parametrizado será muito parecido com o modo `obfuscated` .

    <Callout variant="important">
      Esta configuração é desativada quando [o modo de alta segurança](/docs/apm/agents/python-agent/getting-started/apm-agent-security-python/#restricted) está ativado.
    </Callout>
  </Collapser>

  <Collapser
    id="txn-tracer-stack"
    title="transaction_tracer.stack_trace_threshold"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Float
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `0.5`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Configuração do lado do servidor, arquivo de configuração
          </td>
        </tr>

        <tr>
          <th>
            [Etiqueta do lado do servidor](#server-side-configuration)
          </th>

          <td>
            `Stack trace threshold`
          </td>
        </tr>
      </tbody>
    </table>

    Limite em segundos para coletar rastreamento de pilha de chamadas SQL. Quando as instruções SQL excedem esse limite, o agente captura o stack trace atual. Isso é útil para identificar onde as chamadas SQL longas se originam em um aplicativo.
  </Collapser>

  <Collapser
    id="txn-tracer-explain"
    title="transaction_tracer.explain_enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Configuração do lado do servidor, arquivo de configuração
          </td>
        </tr>

        <tr>
          <th>
            [Etiqueta do lado do servidor](#server-side-configuration)
          </th>

          <td>
            `Enable SQL query plans?`
          </td>
        </tr>
      </tbody>
    </table>

    Determina se o agente Python capturará planos de consulta para consultas SQL lentas. Compatível apenas com MySQL e PostgreSQL.
  </Collapser>

  <Collapser
    id="txn-tracer-explain-threshold"
    title="transaction_tracer.explain_threshold"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Float
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `0.5`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Configuração do lado do servidor, arquivo de configuração
          </td>
        </tr>

        <tr>
          <th>
            [Etiqueta do lado do servidor](#server-side-configuration)
          </th>

          <td>
            `Query plan threshold`
          </td>
        </tr>
      </tbody>
    </table>

    Consulta no rastreamento da transação que excedam esse limite reportarão [dados de consulta lenta](/docs/apm/applications-menu/monitoring/viewing-slow-query-details) e quaisquer planos de explicação disponíveis. Explique que a coleta do plano não acontecerá se [`transaction_tracer.explain_enabled`](#txn-tracer-explain-threshold) for `false`.
  </Collapser>

  <Collapser
    id="cfg-tt-attributes-enabled"
    title="transaction_tracer.attributes.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Esta configuração pode ser usada para ativar ou desativar todos os atributos de rastreamento da transação. Se `attributes.enabled` no nível raiz for `false`, nenhum atributo será enviado para rastrear a transação, independentemente de como esta definição de configuração (`transaction_tracer.attributes.enabled`) estiver definida.
  </Collapser>

  <Collapser
    id="cfg-tt-attributes-include"
    title="transaction_tracer.attributes.include"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Lista de strings
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Se os atributo estiverem habilitados para rastreamento da transação, todas as chaves de atributo encontradas nesta lista serão enviadas para nós no rastreamento da transação. Para mais informações, consulte as [regras de atribuição de agentes](/docs/apm/other-features/attributes/agent-attributes).
  </Collapser>

  <Collapser
    id="cfg-tt-attributes-exclude"
    title="transaction_tracer.attributes.exclude"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Lista de cordas
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Todas as chaves de atributo encontradas nesta lista não serão enviadas no rastreamento da transação. Para mais informações, consulte as [regras de atribuição de agentes](/docs/apm/other-features/attributes/agent-attributes).
  </Collapser>

  <Collapser
    id="txn-tracer-function"
    title="transaction_tracer.function_trace"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Para as funções ou métodos especificados, o agente capturará instrumentação adicional de temporização de função. Especifique esses nomes no formato `module:function` ou `module:class.function`.

    O uso de curingas (globbing) para nomes de funções e classes é possível usando padrões suportados pelo módulo [fnmatch](https://docs.python.org/3/library/fnmatch.html) . Os caminhos dos módulos não são suportados por curingas. Especifique os padrões no formato `module:function*` ou `module:class.*`.

    Por exemplo, se você deseja adicionar rastreamento de função a todas as funções de validação no arquivo abaixo:

    <b>
      my-app/common/utils.py
    </b>

    ```py
    def validate_credentials():
    …
    def validate_status():
    …
    def format_message():
    …
    ```

    Adicione a seguinte linha ao arquivo de configuração do agente para incluir o rastreamento de função para todas as funções de validação em `my-app/common/utils.py` usando caracteres curinga.

    <b>
      my-app/newrelic.ini
    </b>

    ```ini
    [newrelic]
    ...
    transaction_tracer.function_trace = common.utils:validate*
    ```

    <Callout variant="important">
      Wilcarding requer [agente Python versão 6.4.4.161 ou superior](/docs/agents/python-agent/installation-configuration/upgrade-python-agent).
    </Callout>
  </Collapser>
</CollapserGroup>

## Configuração do segmento de transação [#txn-segment-settings]

Aqui estão as configurações do segmento de transação disponíveis por meio do arquivo de configuração do agente.

<CollapserGroup>
  <Collapser
    id="cfg-tt-attributes-enabled"
    title="transaction_segments.attributes.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Esta configuração pode ser usada para ativar ou desativar todos os atributos dos segmentos de rastreamento da transação. Se `attributes.enabled` no nível raiz for `false`, nenhum atributo será enviado para segmentos de rastreamento da transação, independentemente de como esta definição de configuração (`transaction_segments.attributes.enabled`) estiver definida.
  </Collapser>

  <Collapser
    id="cfg-tt-attributes-include"
    title="transaction_segments.attributes.include"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Lista de strings
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Se os atributo estiverem habilitados para segmentos de trace da transação, todas as chaves de atributo encontradas nesta lista serão enviadas em segmentos de trace da transação. Para mais informações, consulte as [regras de atribuição de agentes](/docs/apm/other-features/attributes/agent-attributes).
  </Collapser>

  <Collapser
    id="cfg-tt-attributes-exclude"
    title="transaction_segments.attributes.exclude"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Lista de cordas
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Todas as chaves de atributo encontradas nesta lista não serão enviadas em segmentos de rastreamento da transação. Para mais informações, consulte as [regras de atribuição de agentes](/docs/apm/other-features/attributes/agent-attributes).
  </Collapser>
</CollapserGroup>

## Erro na configuração do coletor [#error-collector-settings]

Aqui estão as configurações do coletor de erros disponíveis por meio do arquivo de configuração do agente.

<Callout variant="tip">
  Para obter uma visão geral da configuração de erros no APM, consulte [Gerenciar erros no APM](/docs/agents/manage-apm-agents/agent-data/manage-errors-apm-collect-ignore-mark-expected).
</Callout>

<CollapserGroup>
  <Collapser
    id="error-enabled"
    title="error_collector.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Configuração do lado do servidor, arquivo de configuração
          </td>
        </tr>

        <tr>
          <th>
            [Etiqueta do lado do servidor](#server-side-configuration)
          </th>

          <td>
            `Enable error collection?`
          </td>
        </tr>
      </tbody>
    </table>

    Se ativado, o coletor de erros captura informações sobre exceções não detectadas.
  </Collapser>

  <Collapser
    id="error-ignore"
    title="error_collector.ignore_classes"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Configuração do lado do servidor, arquivo de configuração
          </td>
        </tr>

        <tr>
          <th>
            [Etiqueta do lado do servidor](#server-side-configuration)
          </th>

          <td>
            `Ignore these errors`
          </td>
        </tr>
      </tbody>
    </table>

    Para parar de coletar erros específicos, defina isso como uma lista separada por espaços de nomes de tipos de exceção do Python a serem ignorados. Use o formato `module:class` para o nome da exceção.

    <Callout variant="tip">
      Antes da versão 6.4.0 do agente, essa configuração era denominada `error_collector.ignore_errors`. Se o seu arquivo de configuração ainda usa `ignore_errors`, atualize seu agente para usar `ignore_classes`.
    </Callout>
  </Collapser>

  <Collapser
    id="error-ignore-status-codes"
    title="error_collector.ignore_status_codes"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `100-102 200-208 226 300-308 404`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Configuração do lado do servidor, arquivo de configuração
          </td>
        </tr>

        <tr>
          <th>
            [Etiqueta do lado do servidor](#server-side-configuration)
          </th>

          <td>
            `Ignore these status codes`
          </td>
        </tr>
      </tbody>
    </table>

    Lista códigos de status HTTP que o agente deve ignorar em vez de registrar como erros. Liste códigos de status adicionais como números inteiros separados por espaços e especifique intervalos com um hífen `-` separador entre os valores inicial e final. Para adicionar um dos códigos padrão à sua lista de permissões, coloque um ponto de exclamação `!` no início do código.

    Esta configuração só é compatível com alguns frameworks web, pois alguns frameworks não usam exceções para retornar respostas HTTP.

    <Callout variant="tip">
      Esta opção de configuração só pode ser definida em Configuração no lado do servidor nas versões 6.4.0 e mais recentes do agente Python.
    </Callout>
  </Collapser>

  <Collapser
    id="error-expected"
    title="error_collector.expected_classes"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Configuração do lado do servidor, arquivo de configuração
          </td>
        </tr>

        <tr>
          <th>
            [Etiqueta do lado do servidor](#server-side-configuration)
          </th>

          <td>
            `Expect these error class names`
          </td>
        </tr>
      </tbody>
    </table>

    Impede que classes de exceção especificadas afetem taxa de erros ou pontuação Apdex enquanto ainda relatam os erros ao APM. Defina isso como uma lista separada por espaços dos nomes de tipos de exceção do Python esperados. Use o formato `module:class` para o nome da exceção.

    <Callout variant="tip">
      Esta opção de configuração está disponível apenas nas versões 6.4.0 e mais recentes do agente Python.
    </Callout>
  </Collapser>

  <Collapser
    id="error-expected-status-codes"
    title="error_collector.expected_status_codes"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Configuração do lado do servidor, arquivo de configuração
          </td>
        </tr>

        <tr>
          <th>
            [Etiqueta do lado do servidor](#server-side-configuration)
          </th>

          <td>
            `Expect these status codes`
          </td>
        </tr>
      </tbody>
    </table>

    Impede que códigos de status HTTP especificados afetem a taxa de erros ou a pontuação Apdex enquanto ainda relatam os erros ao APM. Liste os códigos de status como números inteiros separados por espaços e especifique intervalos com um hífen `-` separador entre os valores inicial e final. Para negar um dos códigos da sua lista, coloque um ponto de exclamação `!` no início do código.

    Esta configuração só é compatível com alguns frameworks web, pois alguns frameworks não usam exceções para retornar respostas HTTP.

    <Callout variant="tip">
      Esta opção de configuração está disponível apenas nas versões 6.4.0 e mais recentes do agente Python.
    </Callout>
  </Collapser>

  <Collapser
    id="cfg-error-attributes-enabled"
    title="error_collector.attributes.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Esta configuração pode ser usada para ativar ou desativar todos os atributos para erros de rastreamento. Se `attributes.enabled` for `false` no nível raiz, nenhum atributo será enviado para erros de rastreamento, independentemente de como essa definição de configuração (`error_collector.attributes.enabled`) estiver definida.
  </Collapser>

  <Collapser
    id="cfg-ec-attributes-include"
    title="error_collector.attributes.include"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Lista de strings
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Se atributo estiver habilitado para erros de rastreamento, todas as chaves de atributo encontradas nesta lista serão enviadas para erros de rastreamento. Para mais informações, consulte as [regras de atribuição de agentes](/docs/apm/other-features/attributes/agent-attributes).
  </Collapser>

  <Collapser
    id="cfg-ec-attributes-exclude"
    title="error_collector.attributes.exclude"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Lista de strings
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    As chaves atributo encontradas nesta lista não serão enviadas em erros de rastreamento. Para mais informações, consulte as [regras de atribuição de agentes](/docs/apm/other-features/attributes/agent-attributes).
  </Collapser>

  <Collapser
    id="cfg-ec-capture-events"
    title="error_collector.capture_events"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Se ativado, o coletor de erros captura dados de eventos para análise avançada. Para obter mais informações, consulte [Erros de APM](/docs/apm/applications-menu/events/view-apm-errors-error-traces).
  </Collapser>
</CollapserGroup>

## Monitoramento de configurações do browser [#browser-settings]

Aqui estão as configurações de monitoramento do browser disponíveis através do arquivo de configuração do agente.

<CollapserGroup>
  <Collapser
    id="browser-enabled"
    title="browser_monitoring.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Habilita monitoramento do Browser. Para obter mais informações, consulte [Tempo de carregamento da página em Python](/docs/python/page-load-timing-in-python).

    <Callout variant="important">
      Antes de habilitar o monitoramento do Browser no arquivo de configuração, [habilite-o nas configurações da aplicação na interface de monitoramento do Browser](/docs/browser/new-relic-browser/installation-configuration/adding-apps-new-relic-browser#select-apm-app).
    </Callout>
  </Collapser>

  <Collapser
    id="browser-auto"
    title="browser_monitoring.auto_instrument"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Para [frameworks web Python suportado](/docs/agents/python-agent/supported-features/page-load-timing-python#restrictions_on_instrumentation), esta configuração permite a inserção automática dos fragmentos JavaScript de monitoramento do browser.
  </Collapser>

  <Collapser
    id="browser-content-type"
    title="browser_monitoring.content_type"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `text/html`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Especifique o(s) HTML `Content-Type`(s) que nosso agente de monitoramento de Browser deverá auto-instrumentar. Adicione entradas adicionais em uma lista separada por espaços.

    <CollapserGroup>
      <Collapser
        id="example-instrument-xhtml-xml"
        title="Respostas da página do instrumento xhtml+xml"
      >
        Se você estiver gerando respostas de páginas HTML e usando `Content-Type` de `application/xhtml+xml`, poderá substituir os tipos de conteúdo permitidos para listar esse tipo de conteúdo e o `text/html` padrão usando:

        ```ini
        browser_monitoring.content_type = text/html application/xhtml+xml
        ```

        <Callout variant="important">
          O trecho de monitoramento de JavaScript do browser impede que a página seja validada como `application/xhtml+xml`, embora a página deva ser carregada e renderizada nos browsers do usuário final.
        </Callout>
      </Collapser>
    </CollapserGroup>
  </Collapser>

  <Collapser
    id="cfg-browser-attributes-enabled"
    title="browser_monitoring.attributes.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Esta configuração pode ser usada para ativar ou desativar todos os atributos de monitoramento do Browser. Estes são os dados que são enviados para o evento de visualização de página. Se `attributes.enabled` for falso no nível raiz, nenhum atributo será enviado no monitoramento do Browser independente de como a configuração (`browser_monitoring.attributes.enabled`) estiver definida.
  </Collapser>

  <Collapser
    id="cfg-bm-attributes-include"
    title="browser_monitoring.attributes.include"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Lista de cordas
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Se atributo estiver habilitado para `browser_monitoring`, todas as chaves de atributo encontradas nesta lista serão enviadas em visualizações de página. Para mais informações, consulte as [regras de atribuição de agentes](/docs/apm/other-features/attributes/agent-attributes).
  </Collapser>

  <Collapser
    id="cfg-bm-attributes-exclude"
    title="browser_monitoring.attributes.exclude"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Lista de cordas
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Todas as chaves de atributo encontradas nesta lista não serão enviadas em page views. Para mais informações, consulte as [regras de atribuição de agentes](/docs/apm/other-features/attributes/agent-attributes).
  </Collapser>
</CollapserGroup>

## Configurações de eventos de transação

Aqui estão as configurações de eventos de transação disponíveis por meio do arquivo de configuração do agente.

<Callout variant="tip">
  Essas definições de configuração costumavam ser chamadas de `analytic_events`. Se o seu arquivo de configuração ainda usa `analytic_events`, atualize seu agente para usar `transaction_events`.
</Callout>

<CollapserGroup>
  <Collapser
    id="transaction-events-enabled"
    title="transaction_events.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Os dados de eventos de transação permitem a utilização de informações adicionais como [histograma](/docs/applications-menu/histograms-viewing-data-distribution) e [percentil](/docs/applications-menu/percentiles-comparing-ranked-data).
  </Collapser>

  <Collapser
    id="cfg-events-attributes-enabled"
    title="transaction_events.attributes.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Esta configuração pode ser usada para ativar ou desativar todos os atributos do evento de transação. Se `attributes.enabled` for `false` no nível raiz, nenhum atributo será enviado para o evento de transação, independentemente de como essa definição de configuração (`transaction_events.attributes.enabled`) estiver definida.
  </Collapser>

  <Collapser
    id="cfg-events-attributes-include"
    title="transaction_events.attributes.include"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Lista de cordas
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Se o atributo estiver habilitado para evento de transação, todas as chaves de atributo encontradas nesta lista serão enviadas no evento de transação. Para mais informações, consulte as [regras de atribuição de agentes](/docs/apm/other-features/attributes/agent-attributes).
  </Collapser>

  <Collapser
    id="cfg-events-attributes-exclude"
    title="transaction_events.attributes.exclude"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Lista de cordas
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>
      </tbody>
    </table>

    Todas as chaves de atributo encontradas nesta lista não serão enviadas em evento de transação. Observe que excluir atributo do evento de transação não exclui do evento span. Para mais informações, consulte as [regras de atribuição de agentes](/docs/apm/other-features/attributes/agent-attributes).
  </Collapser>
</CollapserGroup>

## Configurações personalizadas do evento

Aqui estão as configurações personalizadas do evento disponíveis por meio do arquivo de configuração do agente.

<CollapserGroup>
  <Collapser
    id="custom-insights-events-enabled"
    title="custom_insights_events.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Permitir a gravação do evento na API de eventos por meio de [`record_custom_event()`](/docs/agents/python-agent/python-agent-api/recordcustomevent-python-agent-api/).

    <Callout variant="important">
      Esta configuração é desativada quando [o modo de alta segurança](/docs/apm/agents/python-agent/getting-started/apm-agent-security-python/#restricted) está ativado.
    </Callout>
  </Collapser>
</CollapserGroup>

## Configurações tracer de armazenamento de dados

Estas configurações tracer de armazenamento de dados estão disponíveis por meio do arquivo de configuração do agente:

<CollapserGroup>
  <Collapser
    id="datastore-tracer-instance-reporting-enabled"
    title="datastore_tracer.instance_reporting.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Quando habilitado, o agente coleta métricas de instância do datastore (como host e porta) para algum driver do banco de dados. Estes também são relatados na consulta lenta trace e trace da transação.
  </Collapser>

  <Collapser
    id="datastore-tracer-database-name-reporting-enabled"
    title="datastore_tracer.database_name_reporting.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Quando habilitado, o agente coleta o nome do banco de dados para algum driver do banco de dados. O nome do banco de dados é informado na consulta lenta trace e trace da transação.
  </Collapser>
</CollapserGroup>

## Configurações distributed tracing [#dt-main]

Distributed tracing permite ver o caminho que uma solicitação percorre ao percorrer sistemas distribuídos. A partir do [agente Python versão 7.0.0.166 ou superior](/docs/agents/python-agent/installation-configuration/upgrade-python-agent), distributed tracing é habilitado por padrão.

<Callout variant="important">
  A ativação distributed tracing desativa [o rastreamento multiaplicativo](#cross-application-tracer) e tem outros efeitos no recurso APM. Se estiver migrando do rastreamento multiaplicativo, leia o [guia de transição](/docs/transition-guide-distributed-tracing).
</Callout>

Para obter mais informações, consulte [distributed tracing para seus serviços Python](/docs/apm/agents/python-agent/configuration/distributed-tracing-python-agent).

As configurações incluem:

<CollapserGroup>
  <Collapser
    id="distributed-tracing-enabled"
    title="distributed_tracing.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_DISTRIBUTED_TRACING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Permite [distributed tracing](/docs/distributed-tracing/concepts/introduction-distributed-tracing)
  </Collapser>
</CollapserGroup>

## Configuração de eventos de extensão [#txn-span-events-settings]

[Os eventos Span](/docs/apm/distributed-tracing/getting-started/how-new-relic-distributed-tracing-works#data-structure) são coletados para [distributed tracing](#distributed-tracing-settings). distributed tracing deve ser ativado para relatar o evento span. As opções de configuração incluem:

<CollapserGroup>
  <Collapser
    id="cfg-tt-attributes-enabled"
    title="span_events.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Essa configuração pode ser usada para ativar ou desativar se o agente Python envia spans.
  </Collapser>

  <Collapser
    id="cfg-tt-attributes-enabled"
    title="span_events.attributes.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Esta configuração pode ser usada para ativar ou desativar todos os [atributos](/docs/using-new-relic/welcome-new-relic/getting-started/glossary#attribute) do evento span. Se `attributes.enabled` no nível raiz for `false`, nenhum atributo será enviado para span evento, independentemente de como esta definição de configuração (`span_events.attributes.enabled`) estiver definida. Para mais informações, consulte as [regras de atribuição de agentes](/docs/apm/other-features/attributes/agent-attributes).
  </Collapser>

  <Collapser
    id="cfg-tt-attributes-include"
    title="span_events.attributes.include"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Lista de strings
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Se atributo estiver habilitado para span evento, todas as chaves de atributo encontradas nesta lista serão enviadas em span evento. Para mais informações, consulte as [regras de atribuição de agentes](/docs/apm/other-features/attributes/agent-attributes).
  </Collapser>

  <Collapser
    id="cfg-tt-attributes-exclude"
    title="span_events.attributes.exclude"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Lista de cordas
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Todas as chaves de atributo encontradas nesta lista não serão enviadas no evento span. Para mais informações, consulte as [regras de atribuição de agentes](/docs/apm/other-features/attributes/agent-attributes).
  </Collapser>
</CollapserGroup>

## Configuração de colheita de eventos [#event-harvest-config]

As configurações de coleta de eventos limitam a quantidade de dados de tipo de evento enviados para o New Relic. Ao usar essas configurações, considere estes pontos importantes:

* As configurações de coleta de eventos afetam os limites de uma única instância do agente, e não de todo o aplicativo. Veja o exemplo de uso abaixo para saber como definir limites em um aplicativo inteiro.

* [O streaming em tempo real](/docs/agents/manage-apm-agents/agent-data/real-time-streaming) envia dados a cada cinco segundos (12 vezes por minuto), mas as configurações de coleta de eventos ainda afetam a taxa de eventos por

  <DNT>
    **minute**
  </DNT>

  . A ativação ou desativação do streaming em tempo real não requer alteração dessas configurações.

* Com streaming em tempo real (habilitado por padrão), o New Relic exibirá os limites de colheita de eventos para entidade em intervalos de cinco segundos. Isso significa, por exemplo, que quando você define um valor limite de 1200 no arquivo de configuração, você o verá como 100 no New Relic.

### Exemplo de uso

Digamos que uma aplicação seja implantada em 10 hosts, cada um executando quatro processos por host. Para limitar o número de eventos de extensão a 10.000 eventos por minuto para todo o aplicativo, divida esse número por 10 hosts. Em seguida, divida novamente por quatro processos por host.

10.000 / (10 \* 4) = 250

Com base nesse cálculo, a configuração final é:

event_harvest_config.harvest_limits.span_event_data = 250

<Callout variant="tip">
  Devido à forma como o New Relic coleta dados (12 vezes por minuto), se a contagem de dados do evento for menor que 12, ele aparecerá como 0 no New Relic.
</Callout>

As configurações de colheita de eventos incluem:

<CollapserGroup>
  <Collapser
    id="harvest-limits-analytic-event-data"
    title="event_harvest_config.harvest_limits.analytic_event_data"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Inteiro
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `1200`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_ANALYTICS_EVENTS_MAX_SAMPLES_STORED`
          </td>
        </tr>
      </tbody>
    </table>

    Limite de evento analítico por minuto enviado por uma instância do agente Python para a New Relic.
  </Collapser>

  <Collapser
    id="harvest-limits-custom-event-data"
    title="event_harvest_config.harvest_limits.custom_event_data"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Inteiro
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `3600`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_CUSTOM_INSIGHTS_EVENTS_MAX_SAMPLES_STORED`
          </td>
        </tr>
      </tbody>
    </table>

    * Limita quantos eventos personalizados por minuto que uma instância do agente Python pode enviar para o New Relic.
    * Ao configurar o agente para [AI Monitoring](/docs/ai-monitoring/intro-to-ai-monitoring), defina o valor máximo `100000` para garantir que o agente capture a quantidade máxima de eventos LLM.
  </Collapser>

  <Collapser
    id="harvest-limits-span-event-data"
    title="event_harvest_config.harvest_limits.span_event_data"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Inteiro
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `2000`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_SPAN_EVENTS_MAX_SAMPLES_STORED`
          </td>
        </tr>
      </tbody>
    </table>

    * Limite de evento span por minuto enviado por uma instância do agente Python para o New Relic.
    * Ao configurar o agente para [AI Monitoring](/docs/ai-monitoring/intro-to-ai-monitoring), defina o valor máximo `10000` para garantir que o agente capture a quantidade máxima de rastreamento distribuído.
  </Collapser>

  <Collapser
    id="harvest-limits-error-event-data"
    title="event_harvest_config.harvest_limits.error_event_data"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Inteiro
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            100
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_MAX_EVENT_SAMPLES_STORED`
          </td>
        </tr>
      </tbody>
    </table>

    Limite de evento de erro por minuto enviado por uma instância do agente Python para New Relic.
  </Collapser>
</CollapserGroup>

## Configurações de visibilidade do loop de eventos [#event-loop]

<Callout variant="important">
  Requer [agente Python versão 5.0.0.124 ou superior](/docs/agents/python-agent/installation-configuration/upgrade-python-agent).
</Callout>

A visibilidade do loop de eventos apresenta informações sobre transações que bloqueiam o loop de eventos. O agente irá gerar informações sobre transações que esperaram um tempo significativo para adquirir o controle do loop de eventos. As configurações incluem:

<CollapserGroup>
  <Collapser
    id="event-loop-visibility-enabled"
    title="event_loop_visibility.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Defina como `false` para desativar as informações do loop de eventos.
  </Collapser>

  <Collapser
    id="event-loop-visbility-blocking-threshold"
    title="event_loop_visibility.blocking_threshold"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Float
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `0.1`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Limite em segundos por quanto tempo uma transação deve bloquear o loop de eventos antes de gerar informações de loop de eventos.
  </Collapser>
</CollapserGroup>

## Métrica de tempo de execução para memória física [#runtime-metrics]

<Callout variant="important">
  Requer [agente Python versão 9.9.0 ou superior](/docs/agents/python-agent/installation-configuration/upgrade-python-agent).
</Callout>

Estas configurações métricas de tempo de execução estão disponíveis através do arquivo de configuração do agente:

<CollapserGroup>
  <Collapser
    id="runtime-metrics-reporting-enabled"
    title="memory_runtime_pid_metrics.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            verdadeiro
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_MEMORY_RUNTIME_PID_METRICS_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Quando habilitado, o agente irá gerar e enviar métricas de runtime por ID do processo.
  </Collapser>
</CollapserGroup>

## Configurações métricas de tempo de execução de coleta de lixo [#garbage-collection-runtime-metrics]

<Callout variant="important">
  Requer [agente Python versão 6.2.0.156 ou superior](/docs/agents/python-agent/installation-configuration/upgrade-python-agent).
</Callout>

Essas configurações métricas de tempo de execução de coleta de lixo estão disponíveis por meio do arquivo de configuração do agente:

<CollapserGroup>
  <Collapser
    id="datastore-tracer-instance-reporting-enabled"
    title="gc_runtime_metrics.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            false
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Quando habilitado, o agente irá gerar e enviar métricas de coleta de lixo.
  </Collapser>

  <Collapser
    id="datastore-tracer-database-name-reporting-enabled"
    title="gc_runtime_metrics.top_object_count_limit"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Inteiro
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            5
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    O agente reporta métricas de contagem de objetos para os tipos de objetos mais comuns coletados pelo coletor de lixo. Para cada tipo de objeto, esta configuração permite definir o número máximo de métricas individuais que serão amostradas.
  </Collapser>
</CollapserGroup>

## Configurações de nível do código métrico [#codestream-integration]

As seguintes configurações estão disponíveis para configuração do nível do código métrico no agente.

<CollapserGroup>
  <Collapser
    id="code_level_metrics.enabled"
    title="code_level_metrics.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Defina como `false` para desativar a coleta de atributos do agente para o nível do código métrico.
  </Collapser>

  <Collapser
    id="NEW_RELIC_METADATA_COMMIT"
    title="NEW_RELIC_METADATA_COMMIT"
  >
    <Callout variant="important">
      Isso só pode ser definido por meio de uma variável de ambiente.
    </Callout>

    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Inteiro
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `None`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Variável de ambiente
          </td>
        </tr>
      </tbody>
    </table>

    O commit sha. O sha inteiro pode ser usado ou apenas os primeiros sete caracteres (por exemplo 734713b).
  </Collapser>

  <Collapser
    id="NEW_RELIC_METADATA_RELEASE_TAG"
    title="NEW_RELIC_METADATA_RELEASE_TAG"
  >
    <Callout variant="important">
      Isso só pode ser definido por meio de uma variável de ambiente.
    </Callout>

    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `None`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Variável de ambiente
          </td>
        </tr>
      </tbody>
    </table>

    Uma tag de lançamento (como v0.1.209 ou release-209).
  </Collapser>
</CollapserGroup>

## Configuração Errors Inbox [#errors-inbox-configuration]

Definir uma das tags a seguir ajudará você a identificar quais versões do seu software estão produzindo erros.

* `NEW_RELIC_METADATA_SERVICE_VERSION` irá criar tag.service.version nos dados do evento contendo a versão do seu código que está implantada, em muitos casos uma versão semântica como 1.2.3, mas nem sempre.
* `NEW_RELIC_METADATA_RELEASE_TAG `criará tags.releaseTag nos dados do evento contendo a tag de lançamento (como v0.1.209 ou release-209).
* `NEW_RELIC_METADATA_COMMIT` criará tag.commit nos dados do evento contendo o commit sha. O sha inteiro pode ser usado ou apenas os primeiros sete caracteres (por exemplo, 734713b).

Uma próxima versão da Errors Inbox rastreará automaticamente quais versões do seu software estão produzindo erros. Quaisquer dados de versão também serão exibidos no [CodeStream](/docs/codestream/how-use-codestream/performance-monitoring/#buildsha).

## Configurações de log do aplicativo [#application-logging]

As configurações a seguir estão disponíveis para configuração do log do aplicativo no agente.

Para obter algumas dicas sobre como configurar o log para o agente Python, consulte [Configurar o logs contextualizados do Python](/docs/logs/logs-context/configure-logs-context-python).

<Callout variant="important">
  Requer [agente Python versão 7.12.0.176 ou superior](/docs/agents/python-agent/installation-configuration/upgrade-python-agent).
</Callout>

<CollapserGroup>
  <Collapser
    id="application_logging.enabled"
    title="application_logging.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, habilita a decoração de log e a coleta de evento de log e métrica de log se estes sub-recursos de configuração também estiverem habilitados. Se `false`, nenhum recurso de instrumentação de criação de log será ativado.
  </Collapser>

  <Collapser
    id="application_logging.forwarding.enabled"
    title="application_logging.forwarding.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_FORWARDING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente captura os registros de log emitidos pelo seu aplicativo e os encaminha para o New Relic. `application_logging.enabled` também deve ser `true` para que esta configuração tenha efeito.

    <Callout variant="important">
      Esta configuração é desativada quando [o modo de alta segurança](/docs/apm/agents/python-agent/getting-started/apm-agent-security-python/#restricted) está ativado.
    </Callout>

    <Callout variant="caution">
      Se você já estiver enviando os logs do seu aplicativo para o New Relic usando uma solução de encaminhamento de logs existente, desative-a antes de ativar o encaminhamento de logs no agente, para evitar cobrança por dados log duplicados.
    </Callout>
  </Collapser>

  <Collapser
    id="application_logging.forwarding.context_data.enabled"
    title="application_logging.forwarding.context_data.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_FORWARDING_CONTEXT_DATA_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente capturará os dados de contexto disponíveis (extras, atributo de mensagem de dicionário, atributo fornecido pelo framework de registro) e adicionará seu conteúdo como atributo nos logs encaminhados para New Relic. Você pode controlar esse comportamento nas configurações da seção `application_logging.forwarding.context_data` .
  </Collapser>

  <Collapser
    id="application_logging.forwarding.context_data.include"
    title="application_logging.forwarding.context_data.include"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Lista de strings
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_FORWARDING_CONTEXT_DATA_INCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Se atributo estiver habilitado para `context_data`, todas as chaves de atributo encontradas nesta lista serão enviadas para nós no rastreamento da transação. Para mais informações, consulte as [regras de atribuição de agentes](/docs/apm/other-features/attributes/agent-attributes).

    <Callout variant="important">
      Ao adicionar atributo de contexto, o agente prefixa as chaves com `context.` para atributo do contexto da framework de registro e `message.` para atributo de um contexto de mensagem de dicionário.

      Esses prefixos <b>NÃO</b> são incluídos na correspondência com regras de filtragem de inclusão/exclusão.
    </Callout>
  </Collapser>

  <Collapser
    id="application_logging.forwarding.context_data.exclude"
    title="application_logging.forwarding.context_data.exclude"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Lista de cordas
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_FORWARDING_CONTEXT_DATA_EXCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Todas as chaves de atributo encontradas nesta lista não serão enviadas em context_data. Para mais informações, consulte as [regras de atribuição de agentes](/docs/apm/other-features/attributes/agent-attributes).

    <Callout variant="important">
      Ao adicionar atributo de contexto, o agente prefixa as chaves com `context.` para atributo do contexto da framework de registro e `message.` para atributo de um contexto de mensagem de dicionário.

      Esses prefixos <b>NÃO</b> são incluídos na correspondência com regras de filtragem de inclusão/exclusão.
    </Callout>
  </Collapser>

  <Collapser
    id="event_harvest_config.harvest_limits.log_event_data"
    title="event_harvest_config.harvest_limits.log_event_data"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Inteiro
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            10.000
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_FORWARDING_MAX_SAMPLES_STORED`
          </td>
        </tr>
      </tbody>
    </table>

    Número de registros de log a serem enviados por minuto para o New Relic. Esta configuração controla o consumo geral de memória ao usar o recurso de encaminhamento de logs.

    Defina um valor mais baixo para reduzir a quantidade de linhas de log enviadas (pode causar amostragem de log). Defina um valor mais alto para enviar mais linhas de log.

    Cada log recebe a mesma prioridade que sua transação associada. log que ocorrem fora de uma transação receberão uma prioridade aleatória. Alguns registros podem não ser incluídos porque são limitados por `max_samples_stored`. Por exemplo, se o registro em log `max_samples_stored` estiver definido como 10.000 e a transação 1 tiver 10.000 entradas de log, somente as entradas de log da transação 1 serão registradas. Se a transação 1 tiver menos de 10.000 logs, você receberá todos os logs da transação 1. Se ainda houver espaço, você receberá todo o log da transação 2 e assim por diante.

    Se após todos os logs de transação amostrados forem registrados, e eles não atingirem o limite em `max_samples_stored`, então será enviada a mensagem do log de transação amostrada que não estava em nossa amostragem. Se sobrar alguma, as mensagens do log fora da transação serão registradas.
  </Collapser>

  <Collapser
    id="application_logging.metrics.enabled"
    title="application_logging.metrics.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_METRICS_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente captura métricas relacionadas às linhas de log enviadas pela sua aplicação. `application_logging.enabled` também deve ser `true` para que esta configuração tenha efeito.
  </Collapser>

  <Collapser
    id="application_logging.local_decorating.enabled"
    title="application_logging.local_decorating.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_LOCAL_DECORATING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente decora o log com metadados para vincular entidade, hosts, rastreamento e spans. `application_logging.enabled` também deve ser `true` para que esta configuração tenha efeito.
  </Collapser>
</CollapserGroup>

## Configurações de instrumentação [#instrumentation-settings]

<Callout variant="important">
  Requer [agente Python versão 8.7.1 ou superior](/docs/agents/python-agent/installation-configuration/upgrade-python-agent).
</Callout>

Estas configurações específicas do pacote de instrumentação estão disponíveis por meio do arquivo de configuração do agente:

<CollapserGroup>
  <Collapser
    id="instrumentation-graphql-capture-introspection-queries"
    title="instrumentation.graphql.capture_introspection_queries"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            false
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_GRAPHQL_CAPTURE_INTROSPECTION_QUERIES`
          </td>
        </tr>
      </tbody>
    </table>

    Quando habilitado, o agente irá capturar transações para consulta de introspecção no GraphQL.
  </Collapser>
</CollapserGroup>

## Configurações de aprendizado de máquina [#ml-settings]

<Callout variant="important">
  Requer [agente Python versão 9.1.0 ou superior](/docs/agents/python-agent/installation-configuration/upgrade-python-agent).
</Callout>

As configurações a seguir estão disponíveis para configuração de dados de machine learning no agente.

<CollapserGroup>
  <Collapser
    id="machine-learning-enabled"
    title="machine_learning.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_MACHINE_LEARNING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Defina como `true` para ativar a coleta de atributos do agente para métricas de aprendizado de máquina.
  </Collapser>

  <Collapser
    id="inference-events-value-enabled"
    title="machine_learning.inference_events_value.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_MACHINE_LEARNING_INFERENCE_EVENT_VALUE_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Defina como `true` para ativar a captura do valor de inferência bruto.

    <Callout variant="important">
      Esta configuração é desativada quando [o modo de alta segurança](/docs/apm/agents/python-agent/getting-started/apm-agent-security-python/#restricted) está ativado.
    </Callout>
  </Collapser>

  <Collapser
    id="ml-insights-events-enabled"
    title="ml_insights_events.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Permitir a gravação de eventos de aprendizado de máquina na API de eventos por meio de [`record_ml_event()`](/docs/agents/python-agent/python-agent-api/recordmlevent-python-agent-api/).

    <Callout variant="important">
      Esta configuração é desativada quando [o modo de alta segurança](/docs/apm/agents/python-agent/getting-started/apm-agent-security-python/#restricted) está ativado.
    </Callout>
  </Collapser>
</CollapserGroup>

## Outras definições de configuração [#other-settings]

Aqui estão diversas outras configurações disponíveis por meio do arquivo de configuração do agente.

<CollapserGroup>
  <Collapser
    id="utilization-detect_aws"
    title="utilization.detect_aws"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente detectará automaticamente que está em execução em um ambiente AWS.
  </Collapser>

  <Collapser
    id="utilization-detect_azure"
    title="utilization.detect_azure"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente detecta automaticamente que está em execução em um ambiente do Azure.
  </Collapser>

  <Collapser
    id="utilization-detect_gcp"
    title="utilization.detect_gcp"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente detectará automaticamente que está em execução em um ambiente do Google Cloud Platform.
  </Collapser>

  <Collapser
    id="utilization-detect_pcf"
    title="utilization.detect_pcf"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente detectará automaticamente que está em execução em um ambiente Pivotal Cloud Foundry.
  </Collapser>

  <Collapser
    id="utilization-detect_docker"
    title="utilization.detect_docker"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente detecta automaticamente que está em execução no Docker.
  </Collapser>

  <Collapser
    id="slow-sql"
    title="slow_sql.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Configuração do lado do servidor, arquivo de configuração
          </td>
        </tr>

        <tr>
          <th>
            [Etiqueta do lado do servidor](#server-side-configuration)
          </th>

          <td>
            `Enable Slow SQL?`
          </td>
        </tr>
      </tbody>
    </table>

    Se ativado, o agente captura detalhes da consulta SQL de longa execução ao banco de dados.
  </Collapser>

  <Collapser
    id="thread-profiler"
    title="thread_profiler.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Configuração do lado do servidor, arquivo de configuração
          </td>
        </tr>

        <tr>
          <th>
            [Etiqueta do lado do servidor](#server-side-configuration)
          </th>

          <td>
            `Enable thread profiler?`
          </td>
        </tr>
      </tbody>
    </table>

    Permite agendar [sessões de criação de perfil de thread](/docs/apm/applications-menu/events/thread-profiler-dashboard). O thread profiler capturará periodicamente um instantâneo da stack de chamadas para cada thread ativo no aplicativo para construir uma árvore de chamadas estatisticamente representativa.
  </Collapser>

  <Collapser
    id="cross-application-tracer"
    title="cross_application_tracer.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Permite [rastreamento multiaplicativo](/docs/apm/transactions/cross-application-traces/introduction-cross-application-traces), que conecta seus aplicativos e serviços dentro de sua arquitetura orientada a serviços.
  </Collapser>

  <Collapser
    id="strip_exception_messages_enabled"
    title="strip_exception_messages.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Se ativado, as mensagens de exceção serão removidas do rastreamento de erros antes de serem enviadas ao [coletor](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#collector), para evitar a captura inadvertida de informações confidenciais. Esta opção é habilitada automaticamente no modo de alta segurança.

    <Callout variant="important">
      Esta configuração é desativada quando [o modo de alta segurança](/docs/apm/agents/python-agent/getting-started/apm-agent-security-python/#restricted) está ativado.
    </Callout>
  </Collapser>

  <Collapser
    id="strip_exception_messages_allowlist"
    title="strip_exception_messages.allowlist"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    As exceções listadas na sua lista de permissões não terão suas mensagens removidas, mesmo que `strip_exception_messages.enabled` seja `true`. A lista de permissões é uma sequência de tipos de exceção separados por espaço, cada um na forma de `module:exception_name`. Liste as exceções integradas como `exception_name`; você não precisa acrescentar `module:` a eles.

    <DNT>
      **Example: Built-in exception and user-defined exception**
    </DNT>

    ```py
    KeyError my_module:MyException
    ```
  </Collapser>

  <Collapser
    id="startup-timeout"
    title="startup_timeout"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Float
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `0.0`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_STARTUP_TIMEOUT`
          </td>
        </tr>
      </tbody>
    </table>

    Por padrão, o agente inicia quando recebe a primeira transação (seja web ou [não web](/docs/apm/transactions/intro-transactions/monitor-background-processes-other-non-web-transactions)). O agente então inicia em paralelo, garantindo que essa solicitação inicial não seja atrasada. Entretanto, o agente não registra os detalhes dessa solicitação inicial porque o agente não pode coletar dados até que o registro seja concluído. Esta é a configuração recomendada para a maioria dos aplicativos web para não atrasar a primeira transação enquanto o New Relic é inicializado.

    Para substituir isso, você pode definir um tempo limite de inicialização em segundos. O agente irá então pausar a transação inicial e aguardar a conclusão do registro. Isso pode ser útil quando se executa uma única tarefa ou programa, onde o processo é executado uma vez e termina imediatamente.

    <Callout variant="important">
      Como `startup_timeout` atrasa o início do aplicativo, recomendamos definir um tempo limite de inicialização apenas para sistemas de enfileiramento de tarefas em segundo plano, e não para aplicativos da Web.
    </Callout>
  </Collapser>

  <Collapser
    id="shutdown-timeout"
    title="shutdown_timeout"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Float
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `2.5`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_SHUTDOWN_TIMEOUT`
          </td>
        </tr>
      </tbody>
    </table>

    No encerramento do processo, o agente tenta fazer um upload final para o [coletor](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#collector). Para evitar que o agente seja executado indefinidamente em caso de problema, o processo será encerrado normalmente se o limite `shutdown_timeout` for atingido. Esse desligamento pode resultar em perda de dados, mas o agente prioriza os principais dados métricos durante o processo de upload.

    Para sistemas de enfileiramento de tarefas em segundo plano, especialmente aqueles que executam um pequeno número de tarefas por processo, você pode querer aumentar o tempo limite de encerramento para garantir que o agente possa carregar todos os dados no encerramento do processo.

    <Callout variant="tip">
      O padrão do agente é um tempo limite de 2,5 segundos porque o Apache e muitos outros servidores web têm um tempo limite de encerramento do processo de 3,0 segundos. O agente sai em 2,5 segundos para permitir o código de limpeza `atexit` registrado para a execução do processo.
    </Callout>
  </Collapser>

  <Collapser
    id="compressed-content-encoding"
    title="compressed_content_encoding"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `gzip`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Se o limite de compactação de dados for atingido na carga útil, o agente compactará os dados usando a compactação gzip por padrão. A opção de configuração `compression_content_encoding` pode ser definida como `deflate` para usar compactação deflacionada.
  </Collapser>

  <Collapser
    id="package-reporting-enabled"
    title="package_reporting.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            verdadeiro
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_PACKAGE_REPORTING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se esta configuração estiver habilitada, ela capturará informações de pacote e versão na inicialização do agente que são exibidas na guia Ambiente APM.

    <Callout variant="tip">
      Em aplicativos que possuem um grande número de pacotes, ter esta configuração habilitada pode causar um pico de CPU, pois captura todas as informações do pacote e da versão. É recomendado nesses casos desabilitar esta configuração.
    </Callout>

    <Callout variant="caution">
      Desabilitar esta configuração desabilitará a capacidade de detectar vulnerabilidades em pacotes desatualizados.
    </Callout>
  </Collapser>

  <Collapser
    id="NEW_RELIC_STARTUP_DEBUG"
    title="NEW_RELIC_STARTUP_DEBUG"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            false
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_STARTUP_DEBUG`
          </td>
        </tr>
      </tbody>
    </table>

    Se esta configuração estiver habilitada, o agente enviará mensagens detalhadas de resolução de problemas do seu script de inicialização diretamente para o seu console (STDOUT). Isso pode ser útil para depurar falhas no script de inicialização `newrelic-admin`, no script de inicialização `bootstrap/sitecustomize.py` alternativo ou na sequência de inicialização do Operador do agente Kubernetes .

    <Callout variant="caution">
      Esta configuração de variável de ambiente não possui configuração de arquivo de configuração correspondente, pois o código relacionado a ela é executado antes da leitura do arquivo de configuração. Para obter registro de depuração abrangente após a inicialização do agente, defina [o nível de log](#log_level) como `debug`.
    </Callout>
  </Collapser>

  <Collapser
    id="k8s_operator.enabled"
    title="k8s_operator.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            false
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            Arquivo de configuração, variável de ambiente
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment-variables)
          </th>

          <td>
            `NEW_RELIC_K8S_OPERATOR_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Esta é uma configuração informativa usada para reportar quando o agente é injetado em um cluster do Kubernetes. <Callout variant="caution">Esta configuração **não** habilita/desabilita esta função do agente.</Callout>
  </Collapser>
</CollapserGroup>

## Heroku

<CollapserGroup>
  <Collapser
    id="heroku-use_dyno_names"
    title="heroku.use_dyno_names"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_HEROKU_USE_DYNO_NAMES`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente usará nomes dinâmicos Heroku como nome do host.
  </Collapser>

  <Collapser
    id="heroku-dyno_name_prefixes_to_shorten"
    title="heroku.dyno_name_prefixes_to_shorten"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `["scheduler", "run"]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_HEROKU_DYNO_NAME_PREFIXES_TO_SHORTEN`
          </td>
        </tr>
      </tbody>
    </table>

    Normalmente, o agente relata nomes dinâmicos com um ponto final e um ID de processo (por exemplo, <DNT>**worker.3**</DNT>). Você pode remover esses dados finais especificando os prefixos que deseja relatar sem dados finais (por exemplo, <DNT>**worker**</DNT>).
  </Collapser>
</CollapserGroup>

## Instrumentação integrada [#builtin-instrumentation]

O agente Python utiliza uma variedade de pacotes/módulos Python. Essa instrumentação ocorre apenas quando o pacote/módulo Python de destino é importado por um aplicativo.

Para desativar a instrumentação padrão, forneça uma seção especial `import-hook` correspondente ao nome do módulo que acionou a instrumentação. Em seguida, defina a configuração `enabled` como `false` para desativar a instrumentação desse módulo.

<CollapserGroup>
  <Collapser
    id="example-disable-mysqldb"
    title="Exemplo: Desabilitando MySQLdb consulta ao banco de dados instrumentação"
  >
    Adicione o seguinte ao arquivo de configuração:

    ```ini
    [import-hook:MySQLdb]
    enabled = false
    ```
  </Collapser>
</CollapserGroup>
