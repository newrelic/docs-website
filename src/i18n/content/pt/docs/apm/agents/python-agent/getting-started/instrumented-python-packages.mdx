---
title: Pacotes Python instrumentados
tags:
  - Agents
  - Python agent
  - Getting started
metaDescription: Summary of Python packages and modules that are automatically instrumented with the New Relic Python agent.
freshnessValidatedDate: never
translationType: machine
---

Este documento lista os pacotes e módulos instrumentados automaticamente pelo [agente Python](/docs/agents/python-agent/getting-started/new-relic-python) após sua [instalação](/docs/agents/python-agent/getting-started/python-agent-quick-start) . Você também pode usar [instrumentação personalizada](/docs/agents/python-agent/supported-features/python-custom-instrumentation) se quiser:

* Desative a instrumentação para pacotes ou módulos específicos se a instrumentação interferir no seu aplicativo.
* instrumento um pacote ou módulo de terceiros que não é instrumentado automaticamente pelo agente.
* Adicione instrumentação mais específica ao seu próprio código, como para monitorar o tempo gasto em funções adicionais.

Para solicitar instrumentação integrada para pacotes adicionais, obtenha suporte em [support.newrelic.com](https://support.newrelic.com).

## Web frameworks

<CollapserGroup>
  <Collapser
    id="aiohttp"
    title={<ExternalLink href="http://aiohttp.readthedocs.io">aiohttp</ExternalLink>}
  >
    Suporte para versões 2.2.x ou superior.

    A função timing no trace da transação para transação lenta é prevista para:

    * Ver funções (corrotinas).

    * Middleware de aplicativo.

      O registro de exceções é fornecido para:

    * Exceções não detectadas resultando em uma resposta HTTP diferente de 200.

      A transação da web recebe o nome da função de visualização.
  </Collapser>

  <Collapser
    id="bottle"
    title={<ExternalLink href="http://bottlepy.org/">Bottle</ExternalLink>}
  >
    A função timing no trace da transação para transação lenta é prevista para:

    * Função de visualização.

    * Template rendering via SimpleTemplate, MakoTemplate, CheetahTemplate, Jinja2Template and SimpleTalTemplate interfaces.

      O registro de exceções é fornecido para:

    * Exceções não detectadas que, de outra forma, gerariam 500 respostas do Bottle.

      A transação da web recebe o nome da função de visualização.

      Como o Bottle usa uma biblioteca de modelos externa, veja também quais desses pacotes podem ser suportados para obter detalhes adicionais.
  </Collapser>

  <Collapser
    id="cherrypy"
    title={<ExternalLink href="http://cherrypy.org/">CherryPy</ExternalLink>}
  >
    A função timing no trace da transação para transação lenta é prevista para:

    * Função Handler.

      O registro de exceções é fornecido para:

    * Exceções não detectadas que, de outra forma, gerariam 500 respostas do CherryPy.

      A transação da web recebe o nome da função manipuladora.

      Como o CherryPy depende de uma biblioteca de modelos externa, veja também quais desses pacotes podem ser suportados para obter detalhes adicionais.
  </Collapser>

  <Collapser
    id="django"
    title={<ExternalLink href="http://www.djangoproject.com/">Django</ExternalLink>}
  >
    A função timing no trace da transação para transação lenta é prevista para:

    * Solicite middleware.

    * Veja o middleware.

    * Middleware de resposta de modelo.

    * Middleware de resposta.

    * Middleware de exceção.

    * Renderização de modelo.

      O registro de exceções é fornecido para:

    * Exceções que ocorrem durante o carregamento de manipuladores de visualização pelo resolvedor de URL.

    * Exceções que ocorrem na execução do manipulador de visualização.

    * Exceções não detectadas que de outra forma gerariam 500 respostas do Django.

      O suporte ao tempo de carregamento da página (às vezes chamado de monitoramento de usuário real ou RUM) consiste em:

    * Inserção automática opcional de cabeçalho/rodapé JavaScript por meio de middleware de resposta.

    * Fornecimento de biblioteca tag de modelo para permitir a inserção manual do cabeçalho/rodapé JavaScript nos modelos.

      A transação da web recebe o nome do manipulador de visualização, a menos que uma solicitação ou middleware de visualização retorne um objeto de resposta antes de o manipulador de visualização ser invocado.

      A instrumentação também é implementada para fornecer melhor transação de nomenclatura web ou rastreamento funcional adicional ao usar:

    * [django-REST-framework](http://www.django-rest-framework.org/)

    * [django-piston](https://bitbucket.org/jespern/django-piston/wiki/Home)

    * [django-tastypie](http://tastypieapi.org/)
  </Collapser>

  <Collapser
    id="falcon"
    title={<ExternalLink href="https://falconframework.org/">Falcon</ExternalLink>}
  >
    A função timing no trace da transação para transação lenta é prevista para:

    * Função Handler.

      O registro de exceções é fornecido para:

    * Exceções não detectadas que, de outra forma, gerariam respostas de erro do Falcon.

      A transação da web recebe o nome da função manipuladora.
  </Collapser>

  <Collapser
    id="fastapi"
    title={<ExternalLink href="https://github.com/tiangolo/fastapi">FastAPI</ExternalLink>}
  >
    A função timing no trace da transação para transação lenta é prevista para:

    * Funções de rota (corrotinas).

    * Middleware de aplicativo.

    * Manipuladores de exceções.

    * Tarefas em segundo plano

      O registro de exceções é fornecido para:

    * Exceções que ocorrem dentro do middleware.

    * Exceções que ocorrem dentro de um manipulador de exceções.

    * Exceções não detectadas que, de outra forma, gerariam 500 respostas do FastAPI.

      A transação da web recebe o nome do manipulador de rota.
  </Collapser>

  <Collapser
    id="flask"
    title={<ExternalLink href="http://flask.pocoo.org/">Flask</ExternalLink>}
  >
    A função timing no trace da transação para transação lenta é prevista para:

    * Função de visualização.

    * Renderização de modelo via render_template() e render_template_string().

      O registro de exceções é fornecido para:

    * Exceções não detectadas que, de outra forma, gerariam 500 respostas do Flask.

      A transação da web recebe o nome da função de visualização.

      Como o Flask usa Jinja2 para modelos, veja também os detalhes da instrumentação Jinja2 listados abaixo.
  </Collapser>

  <Collapser
    id="grpc"
    title={<ExternalLink href="https://grpc.github.io/grpc/python/">gRPC</ExternalLink>}
  >
    Compatível com versões 1.4 ou superior.

    A função timing no trace da transação para transação lenta é prevista para:

    * `_stream_response_in_pool`

    * `_unary_response_in_pool`

      O registro de exceções é fornecido para:

    * servidor grpc aborta
  </Collapser>

  <Collapser
    id="pylons"
    title={<ExternalLink href="http://pylonsproject.org/">Pylons</ExternalLink>}
  >
    A função timing no trace da transação para transação lenta é prevista para:

    * Função do controlador, métodos antes e depois.

    * Renderização de modelo via render_genshi(), render_jinja2() e render_mako().

      O registro de exceções é fornecido para:

    * Exceções não detectadas que, de outra forma, gerariam 500 respostas de Pylons.

      A transação da web recebe o nome do controlador/ação.

      Como os Pylons podem usar Genshi, Jinja2 ou Mako para modelos, veja também detalhes de instrumentação para os módulos listados abaixo.
  </Collapser>

  <Collapser
    id="pyramid"
    title={<ExternalLink href="http://pylonsproject.org/">Pyramid</ExternalLink>}
  >
    A função timing no trace da transação para transação lenta é prevista para:

    * Veja as funções do manipulador.

      O registro de exceções é fornecido para:

    * Exceções não detectadas que, de outra forma, gerariam 500 respostas do Pyramid.

      A transação da web recebe o nome do manipulador de visualização.
  </Collapser>

  <Collapser
    id="sanic"
    title={<ExternalLink href="https://github.com/channelcat/sanic">Sanic</ExternalLink>}
  >
    A função timing no trace da transação para transação lenta é prevista para:

    * Ver funções (corrotinas).

    * Middleware de aplicativo.

      O registro de exceções é fornecido para:

    * Exceções que ocorrem dentro de um middleware de solicitação.

    * Exceções que ocorrem dentro de um middleware de resposta.

    * Exceções que ocorrem dentro de um manipulador de solicitações.

    * Exceções que ocorrem dentro de um manipulador de exceções.

    * Exceções não detectadas que, de outra forma, gerariam 500 respostas da Sanic.

      A transação da web recebe o nome do manipulador de visualização.
  </Collapser>

  <Collapser
    id="starlette"
    title={<ExternalLink href="https://github.com/encode/starlette">Starlette</ExternalLink>}
  >
    A função timing no trace da transação para transação lenta é prevista para:

    * Funções de rota (corrotinas).

    * Middleware de aplicativo.

    * Manipuladores de exceções.

    * Tarefas em segundo plano

      O registro de exceções é fornecido para:

    * Exceções que ocorrem dentro do middleware.

    * Exceções que ocorrem dentro de um manipulador de exceções.

    * Exceções não detectadas que, de outra forma, gerariam 500 respostas da Starlette.

      A transação da web recebe o nome do manipulador de rota.
  </Collapser>

  <Collapser
    id="tornado"
    title={<ExternalLink href="http://www.tornadoweb.org/en/stable/">Tornado</ExternalLink>}
  >
    Você pode usar o agente Python com um aplicativo que usa [o Tornado 6](/docs/agents/python-agent/web-frameworks-servers/python-agent-tornado-6-web-framework).
  </Collapser>

  <Collapser
    id="web2py"
    title={<ExternalLink href="http://web2py.com/">Web2py</ExternalLink>}
  >
    A função timing no trace da transação para transação lenta é prevista para:

    * Tempo total na fase de modelos.

    * Tempo total na fase do controlador.

    * Tempo total na fase de visualização.

    * Tempo de execução para script específico executado nas fases de modelos, controlador e visualização.

      O registro de exceções é fornecido para:

    * Exceções não detectadas que, de outra forma, gerariam 500 respostas do Web2py.

      A transação da web recebe o nome do script de visualização.
  </Collapser>
</CollapserGroup>

## Serviços backend [#backend-services]

<CollapserGroup>
  <Collapser
    id="gearman"
    title={<ExternalLink href="https://pypi.python.org/pypi/gearman/">gearman</ExternalLink>}
  >
    O tempo de execução da tarefa realizada em um trabalhador gearman registrado como tarefas em segundo plano em relação ao aplicativo da web designado. Cronometrar como uma web externa qualquer chamada do lado do cliente para um servidor Gearman para entrar na fila ou aguardar a execução de tarefas na fila.
  </Collapser>

  <Collapser
    id="celery"
    title={<ExternalLink href="http://celeryproject.org/">Celery</ExternalLink>}
  >
    O tempo de execução da tarefa é registrado como tarefas em segundo plano no aplicativo da web designado.
  </Collapser>
</CollapserGroup>

## Renderização de modelo

<CollapserGroup>
  <Collapser
    id="genshi"
    title={<ExternalLink href="http://genshi.edgewall.org/">Genshi</ExternalLink>}
  >
    A função timing no trace da transação para transação lenta é prevista para:

    * Renderização de modelo.
  </Collapser>

  <Collapser
    id="jinja2"
    title={<ExternalLink href="http://jinja.pocoo.org/">Jinja2</ExternalLink>}
  >
    A função timing no trace da transação para transação lenta é prevista para:

    * Compilação de modelos.
    * Renderização de modelo.
  </Collapser>

  <Collapser
    id="mako"
    title={<ExternalLink href="http://www.makotemplates.org/">Mako</ExternalLink>}
  >
    A função timing no trace da transação para transação lenta é prevista para:

    * Renderização de modelo.
  </Collapser>
</CollapserGroup>

## Estrutura GraphQL

O agente Python fornece informações sobre as operações e resolvedores do seu aplicativo GraphQL e relata métricas e atributos de span específicos do GraphQL. Para mais informações sobre nomenclatura de transação e outros recursos, consulte nossa [documentação GraphQL](/docs/agents/python-agent/supported-features/python-graphQL). A partir da versão 6.10.0.165 do agente, o agente oferece suporte à seguinte estrutura GraphQL:

* [Graphene](https://docs.graphene-python.org/en/latest/)
* [Ariadne](https://ariadnegraphql.org/docs/intro)
* [Strawberry](https://strawberry.rocks/)
* [Starlette GraphQL](https://www.starlette.io/graphql/)
* [FastAPI GraphQL](https://fastapi.tiangolo.com/advanced/graphql/)
* [GraphQL Server](https://github.com/graphql-python/graphql-server)

## Detalhes da instância

O agente coleta [detalhes da instância para uma variedade de bancos de dados e drivers do banco de dados](/docs/apm/applications-menu/features/analyze-database-instance-level-performance-issues). A capacidade de visualizar instâncias específicas e os tipos de informações do banco de dados depende da versão do agente Python.

O agente Python [versão 2.72.0.52 ou superior](/docs/release-notes/agent-release-notes/python-release-notes) oferece suporte ao seguinte:

<table>
  <thead>
    <tr>
      <th>
        Banco de dados
      </th>

      <th>
        Nome do pacote Python
      </th>

      <th>
        Versão mínima do pacote
      </th>

      <th>
        Versão mínima do agente
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [PostgreSQL](https://www.postgresql.org/)
      </td>

      <td>
        [psycopg](https://pypi.python.org/pypi/psycopg)
      </td>

      <td>
        3,0
      </td>

      <td>
        9.11.0
      </td>
    </tr>

    <tr>
      <td>
        [PostgreSQL](https://www.postgresql.org/)
      </td>

      <td>
        [psycopg2](https://pypi.python.org/pypi/psycopg2)
      </td>

      <td>
        2.0.14
      </td>

      <td>
        2.72.0.52
      </td>
    </tr>

    <tr>
      <td>
        [MySQL](http://www.mysql.com/)
      </td>

      <td>
        [MySQLdb](https://pypi.python.org/pypi/MySQL-python/)
      </td>

      <td>
        1.2.5
      </td>

      <td>
        2.74.0.54
      </td>
    </tr>

    <tr>
      <td>
        [Redis](http://redis.io/)
      </td>

      <td>
        [redis](https://pypi.python.org/pypi/redis)
      </td>

      <td>
        2.6.2
      </td>

      <td>
        2.74.0.54
      </td>
    </tr>

    <tr>
      <td>
        [Redis](http://redis.io/)
      </td>

      <td>
        [aredis](https://pypi.org/project/aredis/)
      </td>

      <td>
        1.1.4
      </td>

      <td>
        7.6.0.173
      </td>
    </tr>

    <tr>
      <td>
        [Redis](http://redis.io/)
      </td>

      <td>
        [aioredis](https://pypi.org/project/aioredis/)
      </td>

      <td>
        1.3.1
      </td>

      <td>
        7.14.0.177
      </td>
    </tr>

    <tr>
      <td>
        [Memcached](https://memcached.org/)
      </td>

      <td>
        [python-memcached](https://pypi.python.org/pypi/python-memcached)
      </td>

      <td>
        1,51
      </td>

      <td>
        2.76.0.55
      </td>
    </tr>

    <tr>
      <td>
        [aiomcache](https://github.com/aio-libs/aiomcache)
      </td>

      <td>
        [aiomcache](https://pypi.org/project/aiomcache/)
      </td>

      <td>
        0.8.2
      </td>

      <td>
        9.12.0
      </td>
    </tr>

    <tr>
      <td>
        [Elasticsearch](https://www.elastic.co/products/elasticsearch)
      </td>

      <td>
        [elasticsearch](https://pypi.python.org/pypi/elasticsearch)
      </td>

      <td>
        0,45
      </td>

      <td>
        2.78.0.56
      </td>
    </tr>
  </tbody>
</table>

Para solicitar informações em nível de instância de datastores atualmente não listados para seu agente, obtenha suporte em [support.newrelic.com](https://support.newrelic.com).

## Adaptadores de banco de dados SQL

Para módulos compatíveis com Python DB-API 2.0 listados nesta seção, o agente Python suporta:

* Momento da consulta ao banco de dados
* Capturando SQL para a consulta ao banco de dados
* Capturando um stack trace para consulta longa ao banco de dados
* Somente MySQL e PostgreSQ: Capturando planos explicativos para consulta lenta ao banco de dados

O agente Python deve ser capaz de rastrear consultas ao banco de dados para qualquer módulo compatível com Python DB-API 2.0. No entanto, o agente Python oferece suporte oficial apenas aos módulos listados nesta seção.

* [cx_Oracle](http://cx-oracle.sourceforge.net/)
* [MySQLdb](http://mysql-python.sourceforge.net/)
* [oursql](https://launchpad.net/oursql)
* [proboscis](https://pypi.python.org/pypi/proboscis)
* [psycopg2](http://initd.org/psycopg/)
* [psycopg2ct](http://pypi.python.org/pypi/psycopg2ct)
* [psycopg2cffi](http://pypi.python.org/pypi/psycopg2cffi)
* [pymysql](https://github.com/petehunt/PyMySQL)
* [pyodbc](https://pypi.org/project/pyodbc/)
* [ibm_db_dbi](https://pypi.python.org/pypi/ibm_db)
* [mysql-connector-python](http://dev.mysql.com/doc/connector-python/en/index.html)
* [py-postgresql](http://python.projects.pgfoundry.org/)
* [pymssql](http://www.pymssql.org/)

Para os seguintes adaptadores de banco de dados, fornecemos instrumentação adicional para funcionalidades fora da especificação DB-API 2.0, como métodos de atalho para executar consultas sem criar cursores:

* [pysqlite2](http://pypi.python.org/pypi/pysqlite/)
* [sqlite3](http://docs.python.org/library/sqlite3.html)

Se o seu módulo cliente de banco de dados não estiver listado nesta seção, obtenha suporte em [support.newrelic.com](https://support.newrelic.com). O suporte da New Relic pode sugerir uma alteração temporária em seu arquivo de configuração para fazê-lo funcionar.

## Clientes de banco de dados NoSQL

O tempo das chamadas feitas no banco de dados NoSQL é fornecido para os seguintes módulos de cliente.

* [pymongo](http://pypi.python.org/pypi/pymongo/)
* [redis](http://pypi.python.org/pypi/redis/)

## Clientes Elasticsearch

O tempo gasto em chamadas feitas ao Elasticsearch será listado tanto no gráfico de visão geral principal, quanto na aba banco de dados da interface.

* [elasticsearch](https://www.elastic.co/guide/en/elasticsearch/client/python-api/current/index.html)
* [pyelasticsearch](http://pyelasticsearch.readthedocs.org/)

## Clientes Memcache

O tempo das solicitações do memcache e a captura do tipo de solicitação são fornecidos para os módulos clientes do memcache a seguir.

* [memcache](http://www.tummy.com/Community/software/python-memcached/)
* [pylibmc](http://sendapatch.se/projects/pylibmc/)
* [bmemcached](https://github.com/jaysonsantos/python-binary-memcached)
* [pymemcache](https://github.com/Pinterest/pymemcache)
* [umemcache](https://github.com/esnme/ultramemcache)

## Clientes do serviço Solr

O tempo das solicitações de serviço Solr e o tipo de solicitação são fornecidos para os seguintes módulos de cliente Solr.

* [pysolr](http://pypi.python.org/pypi/pysolr/)
* [solrpy](https://pypi.org/project/solrpy/)

## Clientes do corretor de mensagens

O tempo de transação do corretor de mensagens é fornecido para os módulos a seguir.

* [pika](https://pypi.python.org/pypi/pika)
* [kafka-python](https://pypi.org/project/kafka-python/)
* [confluent-kafka](https://pypi.org/project/confluent-kafka/)

## Serviços web externos

O tempo de solicitações de serviços web externos é realizado através dos seguintes módulos.

* [aiobotocore](https://aiobotocore.readthedocs.io/en/stable/)
* [aiohttp](http://aiohttp.readthedocs.io)
* [botocore](https://botocore.amazonaws.com/v1/documentation/api/latest/index.html)
* [dropbox](https://www.dropbox.com/developers/start/setup#python)
* [facepy](http://facepy.readthedocs.org/)
* [feedparser](https://pypi.python.org/pypi/feedparser)
* [gRPC](https://grpc.github.io/grpc/python/)
* [httplib](http://docs.python.org/library/httplib.html)
* [httplib2](https://pypi.org/project/httplib2/)
* [httpx](https://www.python-httpx.org/)
* [pywapi](https://code.google.com/archive/p/python-weather-api/)
* [requests](http://docs.python-requests.org)
* [urllib](http://docs.python.org/library/urllib.html)
* [urllib2](http://docs.python.org/library/urllib2.html)
* [urllib3](https://urllib3.readthedocs.org/en/latest/)
* [xmlrpclib](http://docs.python.org/library/xmlrpclib.html)

## Modelos de aprendizado de máquina e LLMs

* [Scikit Learn](https://pypi.org/project/scikit-learn/)

* [OpenAI](https://pypi.org/project/openai/)

* [LangChain](https://pypi.org/project/langchain/)

* [<DNT>Amazon Bedrock</DNT>](https://aws.amazon.com/bedrock/)

  * [Amazon Titan](https://aws.amazon.com/bedrock/titan/)
  * [Cohere Command e Embed](https://aws.amazon.com/bedrock/cohere-command-embed/)
  * [<DNT>AI21 Labs Jurassic</DNT>](https://aws.amazon.com/bedrock/jurassic/)
  * [Anthropic's Claude](https://aws.amazon.com/bedrock/claude/)
  * [Meta Lhama2](https://aws.amazon.com/bedrock/llama/)
  * [Meta Lhama3](https://aws.amazon.com/bedrock/llama/)
  * [Mistral AI](https://aws.amazon.com/bedrock/mistral/)
