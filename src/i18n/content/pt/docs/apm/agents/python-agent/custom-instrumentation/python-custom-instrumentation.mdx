---
title: Instrumentação Python personalizada
tags:
  - Agents
  - Python agent
  - Custom instrumentation
metaDescription: How to create custom instrumentation with the Python agent by updating the config file or making direct calls to the agent API.
freshnessValidatedDate: never
translationType: machine
---

[A instrumentação personalizada](/docs/apm/other-features/metrics/custom-instrumentation) permite expandir o monitoramento e o comportamento padrão do agente para chamadas funcionais e atividades adicionais. Você pode fazer isso por meio do arquivo de configuração do agente ou da API do agente.

## Instrumentação via arquivo Config ou API [#options]

Existem dois métodos principais para adicionar instrumentação personalizada:

* Se você simplesmente deseja trace o tempo gasto em funções ou métodos de classes adicionais, poderá identificar uma lista de funções ou métodos no arquivo de configuração do agente. Para mais informações veja [instrumentação via arquivo de configuração](/docs/agents/python-agent/custom-instrumentation/python-custom-instrumentation-config-file).
* Para casos mais complexos, ou se você quiser customizar a forma como a função é identificada na interface do New Relic, você pode colocar chamada de API no código da sua aplicação. Para mais informações, veja [instrumentação via API](/docs/agents/python-agent/custom-instrumentation/python-custom-instrumentation-api).

Em ambos os casos, estes mecanismos destinam-se apenas à chamada de função designada. Não é recursivo nem permite o perfil completo abaixo da função anotada.

## Considerações adicionais [#notes]

Você deve anotar individualmente cada chamada de função que deseja trace. Se você não tiver certeza de qual função deve anotar, poderá usar o recurso [de criação de perfil de thread](/docs/applications-menu/thread-profiler) para restringi-la.

<Callout variant="caution">
  Coletar muitas métricas pode impactar o desempenho da sua aplicação e do agente. Para evitar possíveis problemas de dados, tente manter o número total de métricas exclusivas introduzidas pela instrumentação personalizada abaixo de 2.000.
</Callout>
