---
title: Atributo do agente Python
tags:
  - Agents
  - Python agent
  - Attributes
metaDescription: A summary of attributes captured by the Python agent.
freshnessValidatedDate: never
translationType: machine
---

[atributo](/docs/features/agent-attributes) são pares de valores principais contendo informações que determinam as propriedades de um evento ou transação. Possibilitamos ao usuário personalizar exatamente qual atributo será enviado para cada um destes destinos:

* [Rastreamento da transação](/docs/apm/transactions/transaction-traces/transaction-traces)
* [Erros de rastreamento](/docs/apm/applications-menu/events/viewing-apm-errors-error-traces)
* [Evento de transação](/docs/insights/new-relic-insights/decorating-events/apm-default-attributes-insights)
* [Visualizações de página](/docs/insights/new-relic-insights/decorating-events/browser-default-attributes-insights)

Essas configurações de atributo se aplicam ao agente Python versão 2.56.0.42 ou superior. Para aproveitar todos os recursos disponíveis, [atualize seu agente Python](/docs/agents/python-agent/installation-configuration/upgrade-python-agent) para a [versão mais recente](/docs/release-notes/agent-release-notes/python-release-notes).

## Atributo de transação da web do agente Python [#attributes]

A seguir listamos os atributos que podem ser configurados no agente Python para [transação da web](/docs/apm/transactions/intro-transactions/transactions-new-relic-apm). Para obter mais informações, consulte [Configuração do agente Python: atributo](/docs/python/python-agent-configuration#attributes).

<CollapserGroup>
  <Collapser
    id="requestHeadersAccept"
    title="request.headers.accept"
  >
    Os tipos lidos no cabeçalho da solicitação HTTP Accept.

    Padrões:

    * Rastreamento da transação: Habilitado
    * Erro coletor (erros de rastreamento): Habilitado
    * Evento de transação: Habilitado
    * Visualizações de página (<InlinePopover type="browser"/>): indisponíveis
  </Collapser>

  <Collapser
    id="requestHeadersContentLength"
    title="request.headers.contentLength"
  >
    O tamanho da solicitação recebida em bytes conforme lido no cabeçalho da solicitação `Content-Length` .

    Padrões:

    * Rastreamento da transação: Habilitado
    * Erro coletor (erros de rastreamento): Habilitado
    * Evento de transação: Habilitado
    * Visualizações de página (monitoramento do browser): indisponíveis
  </Collapser>

  <Collapser
    id="requestHeadersContentType"
    title="request.headers.contentType"
  >
    O tipo de conteúdo da solicitação recebida conforme lido no cabeçalho da solicitação `Content-Type` .

    Padrões:

    * Rastreamento da transação: Habilitado
    * Erro coletor (erros de rastreamento): Habilitado
    * Evento de transação: Habilitado
    * Visualizações de página (monitoramento do browser): indisponíveis
  </Collapser>

  <Collapser
    id="requestHeadersHost"
    title="request.headers.host"
  >
    O nome do cabeçalho de solicitação do host HTTP.

    Padrões:

    * Rastreamento da transação: Habilitado
    * Erro coletor (erros de rastreamento): Habilitado
    * Evento de transação: Habilitado
    * Visualizações de página (monitoramento do browser): indisponíveis
  </Collapser>

  <Collapser
    id="requestHeadersReferer"
    title="request.headers.referer"
  >
    O referenciador da solicitação recebida conforme lido no cabeçalho da solicitação `Referer` .

    Padrões:

    * Rastreamento da transação: Habilitado
    * Erro coletor (erros de rastreamento): Habilitado
    * Evento de transação: Habilitado
    * Visualizações de página (monitoramento do browser): indisponíveis
  </Collapser>

  <Collapser
    id="requestHeadersUserAgent"
    title="request.headers.userAgent"
  >
    A solicitação recebida usuário-agente conforme lida no cabeçalho da solicitação `User-Agent` .

    Padrões:

    * Rastreamento da transação: Habilitado
    * Erro coletor (erros de rastreamento): Habilitado
    * Evento de transação: Habilitado
    * Visualizações de página (monitoramento do browser): indisponíveis
  </Collapser>

  <Collapser
    id="requestMethod"
    title="request.method"
  >
    O método HTTP da solicitação recebida.

    Padrões:

    * Rastreamento da transação: Habilitado
    * Erro coletor (erros de rastreamento): Habilitado
    * Evento de transação: Habilitado
    * Visualizações de página (monitoramento do browser): indisponíveis
  </Collapser>

  <Collapser
    id="requestParameters"
    title="request.parameters.*"
  >
    Parâmetro da string de consulta do URL da solicitação.

    <Callout variant="tip">
      A propriedade `capture_params` foi descontinuada. Porém, se definido como `true`, habilitará o parâmetro de solicitação para rastreamento da transação e rastreamento de erros.
    </Callout>

    Padrões:

    * Rastreamento da transação: Desativado
    * Erro coletor (erros de rastreamento): Desativado
    * Evento de transação: Desativado
    * Visualizações de página (monitoramento do browser): Desativado
  </Collapser>

  <Collapser
    id="requestUri"
    title="request.uri"
  >
    O URI da solicitação recebida.

    Padrões:

    * Rastreamento da transação: Habilitado
    * Erro coletor (erros de rastreamento): Habilitado
    * Evento de transação: Habilitado
    * Visualizações de página (monitoramento do browser): indisponíveis
  </Collapser>

  <Collapser
    id="responseContentLength"
    title="response.headers.contentLength"
  >
    Extraído do cabeçalho de resposta `Content-Length` , especifica o tamanho da resposta de saída em bytes.

    Padrões:

    * Rastreamento da transação: Habilitado
    * Erro coletor (erros de rastreamento): Habilitado
    * Evento de transação: Habilitado
    * Visualizações de página (monitoramento do browser): indisponíveis
  </Collapser>

  <Collapser
    id="responseContentType"
    title="response.headers.contentType"
  >
    Extraído do cabeçalho de resposta `Content-Type` , especifica o tipo de conteúdo da resposta de saída.

    Padrões:

    * Rastreamento da transação: Habilitado
    * Erro coletor (erros de rastreamento): Habilitado
    * Evento de transação: Habilitado
    * Visualizações de página (monitoramento do browser): indisponíveis
  </Collapser>

  <Collapser
    id="responseStatus"
    title="response.status"
  >
    O status da resposta de saída.

    Padrões:

    * Rastreamento da transação: Habilitado
    * Erro coletor (erros de rastreamento): Habilitado
    * Evento de transação: Habilitado
    * Visualizações de página (monitoramento do browser): indisponíveis
  </Collapser>

  <Collapser
    id="threadConcurrency"
    title="thread.concurrency"
  >
    Uma medida de "utilização de threads", que representa o número de threads que tratam de solicitações simultâneas.

    Padrões:

    * Rastreamento da transação: Habilitado
    * Erro coletor (erros de rastreamento): Habilitado
    * Evento de transação: Desativado
    * Visualizações de página (monitoramento do browser): indisponíveis
  </Collapser>

  <Collapser
    id="webfrontendQueueSeconds"
    title="webfrontend.queue.seconds"
  >
    Tempo (em segundos) gasto no enfileiramento de solicitações.

    Padrões:

    * Rastreamento da transação: Habilitado
    * Erro coletor (erros de rastreamento): Habilitado
    * Evento de transação: Desativado
    * Visualizações de página (monitoramento do browser): indisponíveis
  </Collapser>

  <Collapser
    id="wsgiInputBytes"
    title="wsgi.input.bytes"
  >
    Número de bytes recebidos no fluxo de entrada WSGI (objeto semelhante a arquivo).

    Padrões:

    * Rastreamento da transação: Habilitado
    * Erro coletor (erros de rastreamento): Habilitado
    * Evento de transação: Desativado
    * Visualizações de página (monitoramento do browser): indisponíveis
  </Collapser>

  <Collapser
    id="wsgiInputCallsRead"
    title="wsgi.input.calls.read"
  >
    Número de chamadas para `read()` pelo servidor WSGI para tratar a solicitação.

    Padrões:

    * Rastreamento da transação: Habilitado
    * Erro coletor (erros de rastreamento): Habilitado
    * Evento de transação: Desativado
    * Visualizações de página (monitoramento do browser): indisponíveis
  </Collapser>

  <Collapser
    id="wsgiInputCallsReadline"
    title="wsgi.input.calls.readline"
  >
    Número de chamadas para `readline()` pelo servidor WSGI para tratar a solicitação.

    Padrões:

    * Rastreamento da transação: Habilitado
    * Erro coletor (erros de rastreamento): Habilitado
    * Evento de transação: Desativado
    * Visualizações de página (monitoramento do browser): indisponíveis
  </Collapser>

  <Collapser
    id="wsgiInputCallsReadlines"
    title="wsgi.input.calls.readlines"
  >
    Número de chamadas para `readlines()` pelo servidor WSGI para tratar a solicitação.

    Padrões:

    * Rastreamento da transação: Habilitado
    * Erro coletor (erros de rastreamento): Habilitado
    * Evento de transação: Desativado
    * Visualizações de página (monitoramento do browser): indisponíveis
  </Collapser>

  <Collapser
    id="wsgiInputSeconds"
    title="wsgi.input.seconds"
  >
    Tempo (em segundos) para ler o fluxo de entrada WSGI.

    Padrões:

    * Rastreamento da transação: Habilitado
    * Erro coletor (erros de rastreamento): Habilitado
    * Evento de transação: Desativado
    * Visualizações de página (monitoramento do browser): indisponíveis
  </Collapser>

  <Collapser
    id="wsgiOutputBytes"
    title="wsgi.output.bytes"
  >
    Número de bytes enviados na resposta de saída WSGI.

    Padrões:

    * Rastreamento da transação: Habilitado
    * Erro coletor (erros de rastreamento): Habilitado
    * Evento de transação: Desativado
    * Visualizações de página (monitoramento do browser): indisponíveis
  </Collapser>

  <Collapser
    id="wsgiOutputCallsWrite"
    title="wsgi.output.calls.write"
  >
    Número de chamadas para `write()` pelo servidor WSGI para enviar a resposta.

    Padrões:

    * Rastreamento da transação: Habilitado
    * Erro coletor (erros de rastreamento): Habilitado
    * Evento de transação: Desativado
    * Visualizações de página (monitoramento do browser): indisponíveis
  </Collapser>

  <Collapser
    id="wsgiOutputCallsYield"
    title="wsgi.output.calls.yield"
  >
    Número de chamadas para `yield` pelo servidor WSGI para enviar a resposta.

    Padrões:

    * Rastreamento da transação: Habilitado
    * Erro coletor (erros de rastreamento): Habilitado
    * Evento de transação: Desativado
    * Visualizações de página (monitoramento do browser): indisponíveis
  </Collapser>

  <Collapser
    id="wsgiOutputSeconds"
    title="wsgi.output.seconds"
  >
    Tempo (em segundos) para enviar a resposta WSGI.

    Padrões:

    * Rastreamento da transação: Habilitado
    * Erro coletor (erros de rastreamento): Habilitado
    * Evento de transação: Desativado
    * Visualizações de página (monitoramento do browser): indisponíveis
  </Collapser>
</CollapserGroup>

## Atributo de transação de mensagem do agente Python [#message_attributes][#message_attributes]

As seções a seguir listam o atributo que pode ser configurado no agente Python para [transação de mensagens](/docs/agents/python-agent/supported-features/python-message-queues) iniciada por corretores de mensagens recebidas como <DNT>RabbitMQ</DNT>. Para obter mais informações, consulte [Configuração do agente Python: atributo](/docs/python/python-agent-configuration#attributes).

<CollapserGroup>
  <Collapser
    id="messageCorrelationId"
    title="message.correlationId"
  >
    O identificador gerado pelo aplicativo usado na configuração RPC.

    Padrões:

    * Rastreamento da transação: Desativado
    * Erro coletor (erros de rastreamento): Desativado
    * Evento de transação: Desativado
  </Collapser>

  <Collapser
    id="messageExchangeType"
    title="message.exchangeType"
  >
    O tipo de troca a partir da qual esta mensagem foi consumida: direto, fanout, tópico ou cabeçalhos

    Padrões:

    * Rastreamento da transação: Desativado
    * Erro coletor (erros de rastreamento): Desativado
    * Evento de transação: Desativado
  </Collapser>

  <Collapser
    id="messageHeaders"
    title="message.headers.*"
  >
    Os cabeçalhos da mensagem recebida.

    Padrões:

    * Rastreamento da transação: Desativado
    * Erro coletor (erros de rastreamento): Desativado
    * Evento de transação: Desativado
  </Collapser>

  <Collapser
    id="messageQueueName"
    title="message.queueName"
  >
    O nome da fila da qual esta mensagem foi consumida.

    Padrões:

    * Rastreamento da transação: Habilitado
    * Erro coletor (erros de rastreamento): Habilitado
    * Evento de transação: Habilitado
  </Collapser>

  <Collapser
    id="messageReplyTo"
    title="message.replyTo"
  >
    A fila de retorno de chamada usada na configuração RPC.

    Padrões:

    * Rastreamento da transação: Desativado
    * Erro coletor (erros de rastreamento): Desativado
    * Evento de transação: Desativado
  </Collapser>

  <Collapser
    id="messageRoutingKey"
    title="message.routingKey"
  >
    A chave de roteamento da mensagem recebida.

    Padrões:

    * Rastreamento da transação: Habilitado
    * Erro coletor (erros de rastreamento): Habilitado
    * Evento de transação: Habilitado
  </Collapser>
</CollapserGroup>

## Atributo trace externo do agente Python [#message_attributes][#message_attributes]

As seções a seguir listam os atributos que podem ser configurados no agente Python para traces iniciados pela biblioteca de saída, como [httplib, boto3, requests,](/docs/agents/python-agent/getting-started/instrumented-python-packages#external-web-services) etc., ou ao usar a [API trace externa](/docs/agents/python-agent/python-agent-api/external-trace). Para obter mais informações, consulte [Configuração do agente Python: atributo](/docs/python/python-agent-configuration#attributes).

<CollapserGroup>
  <Collapser
    id="httpUrl"
    title="http.url"
  >
    O URL da chamada de saída, despojado de qualquer parâmetro de solicitação.

    Excluído quando:

    * Uma regra correspondente a 'http.url' está presente em "transaction_segments.attributes.exclude" contexto. (para segmentos)

    * Uma regra correspondente a 'http.url' está presente em "span_events.attributes.exclude" definição de configuração. (para vãos)

      Padrões:

    * Segmentos de transação: ativados

    * Evento de extensão: Habilitado
  </Collapser>
</CollapserGroup>

## Atributo trace do banco de dados do agente Python [#message_attributes][#message_attributes]

As seções a seguir listam os atributos que podem ser configurados no agente Python para rastreamento iniciado por bibliotecas de banco de dados como [MySQL, psycopg2, cx_Oracle](/docs/agents/python-agent/getting-started/instrumented-python-packages#sql-database-adapters) e assim por diante, ou ao usar a API trace de banco de dados. Para obter mais informações, consulte [Configuração do agente Python: atributo](/docs/python/python-agent-configuration#attributes).

<CollapserGroup>
  <Collapser
    id="dbdbInstance"
    title="db.instance"
  >
    O nome do banco de dados usado na consulta.

    Excluído quando:

    * A configuração "datastore_tracer.database_name_reporting.enabled" está definida como False.

    * Se uma regra correspondente a 'db.instance' estiver presente na "transaction_segments.attributes.exclude" configuração (para segmentos)

    * Se uma regra correspondente a 'db.instance' estiver presente no "span_events.attributes.exclude" definição de configuração. (para vãos)

      Padrões:

    * Segmentos de transação: ativados

    * Evento de extensão: Habilitado
  </Collapser>

  <Collapser
    id="dbHost"
    title="hospedar"
  >
    O host usado para se conectar ao banco de dados.

    Excluído quando:

    * A configuração "datastore_tracer.instance_reporting.enabled configuration" está definida como False.

      Padrões:

    * Segmentos de transação: ativados
  </Collapser>

  <Collapser
    id="dbPortPathOrId"
    title="port_path_or_id"
  >
    A porta, caminho ou ID do banco de dados.

    Excluído quando:

    * A configuração "datastore_tracer.instance_reporting.enabled configuration" está definida como False.

      Padrões:

    * Segmentos de transação: ativados
  </Collapser>

  <Collapser
    id="sql"
    title="SQL"
  >
    O SQLl utilizado na consulta, conforme processado conforme [transaction_tracer.record_sql setting](/docs/agents/python-agent/configuration/python-agent-configuration#txn-tracer-sql). Consultas grandes são limitadas em tamanho.

    Excluído quando:

    * A configuração "transaction_tracer.record_sql setting" está definida como "off".

      Padrões:

    * Segmentos de transação: habilitados, relatados como SQL "ofuscado".
  </Collapser>

  <Collapser
    id="dbPeerHostname"
    title="peer.hostname"
  >
    O host usado para se conectar ao banco de dados.

    Excluído quando:

    * A configuração "datastore_tracer.instance_reporting.enabled configuration" está definida como False. (Caso contrário, "Desconhecido" será relatado.)

      Padrões:

    * Evento de extensão: Habilitado
  </Collapser>

  <Collapser
    id="dbPeerAddress"
    title="peer.address"
  >
    O host usado para conectar-se ao banco de dados, incluindo as informações de porta ou caminho.

    Excluído quando:

    * A configuração "datastore_tracer.instance_reporting.enabled configuration" está definida como False. (Caso contrário, "Desconhecido" será relatado.)

      Padrões:

    * Evento de extensão: Habilitado
  </Collapser>

  <Collapser
    id="dbStatement"
    title="db.statement"
  >
    O SQL utilizado na consulta, conforme processado conforme [transaction_tracer.record_sql setting](/docs/agents/python-agent/configuration/python-agent-configuration#txn-tracer-sql). Consultas grandes são limitadas em tamanho.

    Excluído quando:

    * A configuração "transaction_tracer.record_sql setting" está definida como "off".

      Padrões:

    * Span evento: Habilitado, relatado como SQL "ofuscado".
  </Collapser>

  <Collapser
    id="dbOperation"
    title="db.operation"
  >
    A operação de banco de dados executada por esse intervalo. A ser incluído apenas se db.statement não for aplicável.

    Excluído quando:

    * O atributo db.statement é relatado.

      Padrões:

    * Segmentos de transação: ativados

    * Evento de extensão: Habilitado
  </Collapser>
</CollapserGroup>

## Atributo trace armazenamento de dados do agente Python [#message_attributes][#message_attributes]

As seções a seguir listam os atributos que podem ser configurados no agente Python para rastreamento iniciado por bibliotecas de datastore como [Redis, memcache, pymongo](/docs/agents/python-agent/getting-started/instrumented-python-packages#sql-database-adapters) e assim por diante, ou ao usar a [API trace de datastore](/docs/agents/python-agent/python-agent-api/datastore_trace). Para obter mais informações, consulte [Configuração do agente Python: atributo](/docs/python/python-agent-configuration#attributes).

<CollapserGroup>
  <Collapser
    id="dbdbInstance"
    title="db.instance"
  >
    O nome da instância do armazenamento de dados usada na consulta.

    Excluído quando:

    * A configuração "datastore_tracer.database_name_reporting.enabled" está definida como False.

    * Se uma regra correspondente a 'db.instance' estiver presente na "transaction_segments.attributes.exclude" configuração (para segmentos).

    * Se uma regra correspondente a 'db.instance' estiver presente no "span_events.attributes.exclude" definição de configuração (para spans).

      Padrões:

    * Segmentos de transação: ativados

    * Evento de extensão: Habilitado
  </Collapser>

  <Collapser
    id="dsHost"
    title="hospedar"
  >
    O host usado para se conectar ao armazenamento de dados.

    Excluído quando:

    * A configuração "datastore_tracer.instance_reporting.enabled configuration" está definida como False.

      Padrões:

    * Segmentos de transação: ativados
  </Collapser>

  <Collapser
    id="dsPortPathOrId"
    title="port_path_or_id"
  >
    A porta, caminho ou ID do armazenamento de dados.

    Excluído quando:

    * A configuração "datastore_tracer.instance_reporting.enabled configuration" está definida como False.

      Padrões:

    * Segmentos de transação: ativados
  </Collapser>

  <Collapser
    id="dsPeerHostname"
    title="peer.hostname"
  >
    O host usado para se conectar ao armazenamento de dados.

    Excluído quando:

    * A configuração "datastore_tracer.instance_reporting.enabled configuration" está definida como False. (Caso contrário, "Desconhecido" será relatado.)

      Padrões:

    * Evento de extensão: Habilitado
  </Collapser>

  <Collapser
    id="dsPeerAddress"
    title="peer.address"
  >
    O host usado para conectar-se ao armazenamento de dados, incluindo a porta, o caminho ou as informações de ID.

    Excluído quando:

    * A configuração "datastore_tracer.instance_reporting.enabled configuration" está definida como False. (Caso contrário, "Desconhecido" será relatado.)

      Padrões:

    * Evento de extensão: Habilitado
  </Collapser>
</CollapserGroup>

## Atributo de extensão do agente Python [#attributes]

As seções a seguir listam os atributos que podem ser configurados no agente Python para [span evento](/docs/apm/distributed-tracing/ui-data/span-event). Para obter mais informações, consulte [Configuração do agente Python: atributo](/docs/python/python-agent-configuration#attributes).

<CollapserGroup>
  <Collapser
    id="errorClass"
    title="error.class"
  >
    A classe de exceção, se existir, que é registrada no evento span. Os detalhes da exceção podem ser registrados em períodos com a API [notice_error](/docs/agents/python-agent/python-agent-api/noticeerror-python-agent-api/) .

    Padrões:

    * Evento de extensão: Habilitado
  </Collapser>

  <Collapser
    id="errorMessage"
    title="error.message"
  >
    A mensagem de exceção, se existir, que é registrada no evento span. Os detalhes da exceção podem ser registrados em períodos com a API [notice_error](/docs/agents/python-agent/python-agent-api/noticeerror-python-agent-api/) .

    Padrões:

    * Evento de extensão: Habilitado
  </Collapser>
</CollapserGroup>

## Adicionar atributo personalizado [#adding_custom_attributes][#adding_custom_attributes]

Para capturar atributos adicionais personalizados do seu aplicativo, use `newrelic.agent.add_custom_attribute()`.

Para referência completa veja [Coletando atributo personalizado](/docs/apm/other-features/attributes/collecting-custom-attributes#python-att).

Padrões:

* Rastreamento da transação: Habilitado
* Erro coletor (erros de rastreamento): Habilitado
* Evento de transação: Habilitado
* Visualizações de página (monitoramento do browser): Desativado

<Callout variant="important">
  Antes de criar um atributo personalizado, revise nossa lista de [termos reservados](/docs/insights/event-data-sources/custom-events/data-requirements-limits-custom-event-data/#reserved-words). Caso contrário, poderão ocorrer resultados inesperados.
</Callout>

## Adicionar atributo personalizado às exceções [#adding_error_attributes][#adding_error_attributes]

Ao usar a chamada de API `newrelic.agent.notice_error()` , você pode passar um dicionário de `params` que será registrado como atributo no erro de rastreamento.

Padrões:

* Rastreamento da transação: Indisponível
* Erro coletor (erros de rastreamento): Habilitado
* Evento de transação: indisponível
* Visualizações de página (monitoramento do browser): indisponíveis

## Atualize seu arquivo de configuração [#upgrading]

Atualize seu arquivo de configuração <DNT>**newrelic.ini**</DNT> ao atualizar para o agente Python <DNT>**2.56.0.42**</DNT> ou superior. Para obter mais informações sobre definições de configuração obsoletas, consulte [Habilitando e desabilitando atributo](/docs/agents/python-agent/attributes/enabling-disabling-attributes-python#deprecated).
