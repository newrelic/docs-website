---
title: Assíncrono
tags:
  - Agents
  - Python agent
  - Async instrumentation
metaDescription: How to use New Relic's Python agent with asyncpg
freshnessValidatedDate: never
translationType: machine
---

O agente Python oferece suporte ao registro de transações de banco de dados ao usar o módulo cliente de banco de dados [asyncpg](https://pypi.org/project/asyncpg/) para [PostgresSQL](https://www.postgresql.org/). Este recurso captura o tempo da consulta ao banco de dados, instruções SQL para a consulta ao banco de dados e um stack trace para consultas longas ao banco de dados.

Leia sobre os requisitos e dicas para integrar nosso agente Python a um aplicativo que usa [asyncpg](https://pypi.org/project/asyncpg/). Para retornar às instruções gerais de instalação, acesse [Instalar o agente Python](/docs/agents/python-agent/installation-configuration/python-agent-installation).

## Inicialização automática com script administrativo [#wrapper-script]

Se você iniciar seu aplicativo com `python app.py` e usar nosso agente Python <DNT>**version 5.20.0.149**</DNT> ou superior, poderá usar o [método de integração de script administrativo](/docs/agents/python-agent/installation-configuration/python-agent-installation#integration) recomendado. Por exemplo:

```
NEW_RELIC_CONFIG_FILE=path/to/newrelic.ini newrelic-admin run-program python path_to_app
```

## Usando a API do agente Python [#api]

Você pode usar a [API do agente Python](/docs/agents/python-agent/python-agent-api) para monitor qualquer servidor ou framework ASGI. Para fazer isso, marque o [ponto de entrada da aplicação ASGI](/docs/agents/python-agent/python-agent-api/asgiapplication-python-agent-api) e defina os [nomes da transação](/docs/agents/python-agent/python-agent-api/settransactionname-python-agent-api).

## Suporte para diagnóstico de loop de eventos [#event-loops]

Nosso agente Python oferece suporte a diagnósticos de loop de eventos `asyncio` . Para obter mais informações, consulte [Diagnóstico de loop de eventos do Python](/docs/agents/python-agent/supported-features/python-event-loop-diagnostics).
