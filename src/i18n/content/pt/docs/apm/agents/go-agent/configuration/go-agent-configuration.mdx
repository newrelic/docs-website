---
title: Configuração do agente Go
tags:
  - Agents
  - Go agent
  - Configuration
metaDescription: How to change the configuration settings of New Relic Go agent.
freshnessValidatedDate: never
translationType: machine
---

Você pode editar as definições de configuração do agente Go para controlar alguns aspectos de como o New Relic monitora seu aplicativo. Por exemplo:

* Ative o modo de alta segurança.
* Adicione tag personalizada para filtragem e classificação na interface.
* Desative a coleta de erros, evento de transação, rastreamento de transação e evento personalizado.

## Métodos de configuração e precedência [#options]

A principal maneira de configurar o agente Go é modificando a estrutura `newrelic.Config` como parte da chamada `newrelic.NewApplication()`, que faz parte do [processo de instalação](/docs/agents/go-agent/installation/install-new-relic-go) padrão . Com [o agente Go versões 2.7.0 ou superior](/docs/release-notes/agent-release-notes/go-release-notes), você também pode definir um número limitado de opções de configuração usando [Configuração no lado do servidor na interface](#server-side-configuration).

O agente Go segue esta ordem de precedência para configuração. Se ativada, a configuração no lado do servidor substitui <DNT>**all**</DNT> valores correspondentes na estrutura `newrelic.Config` , mesmo que os valores do lado do servidor sejam deixados em branco.

<img
  title="New Relic Go agent: config order of precedence"
  alt="New Relic Go agent: config order of precedence"
  src="/images/apm_diagram_Go-agent-config-precedence.webp"
/>

<figcaption>
  Se a configuração no lado do servidor estiver ativada com o agente Go, ela substituirá <DNT>**all**</DNT> valores correspondentes na estrutura `newrelic.Config` , mesmo que os valores do lado do servidor sejam deixados em branco.
</figcaption>

Aqui estão descrições detalhadas de cada método de configuração:

<CollapserGroup>
  <Collapser
    id="server-side-configuration"
    title="Configuração no lado do servidor (2.7.0 ou superior)"
  >
    [A configuração no lado do servidor](/docs/agents/manage-apm-agents/configuration/server-side-agent-configuration) está disponível nas [versões 2.7.0 ou superior do agente Go](/docs/release-notes/agent-release-notes/go-release-notes). Isso permite que você defina certas configurações na interface. Isso aplica suas alterações automaticamente a todos os agentes, mesmo que eles sejam executados em vários hosts. Quando disponível, este documento inclui os rótulos de interface para configuração do lado do servidor em opções de configuração individuais como <DNT>**Server-side label**</DNT>.

    Você ainda deve chamar `newrelic.NewApplication()` no processo do seu aplicativo seguindo as etapas descritas na [configuração em processo](#in-process-config). As opções de configuração definidas no lado do servidor substituirão aquelas definidas localmente. Como nem todas as opções de configuração estão disponíveis no servidor, talvez você ainda queira atualizar sua estrutura `newrelic.Config` .

    <Callout variant="caution">
      Se a configuração do lado do servidor estiver ativada, o agente ignorará qualquer valor na estrutura `newrelic.Config` que <DNT>**could**</DNT> seja definido na interface. Mesmo que o valor da interface esteja vazio, o agente trata isso como um valor vazio e não utiliza o valor `newrelic.Config` .
    </Callout>
  </Collapser>

  <Collapser
    id="in-process-config"
    title={<>Estrutura do processo <InlineCode>newrelic.Config</InlineCode></>}
  >
    Você configura seu agente Go a partir da estrutura local no processo `newrelic.Config` . Esta estrutura pode ser acessada ao chamar `newrelic.NewApplication()`.

    1. Adicione o seguinte na função `main` ou em um bloco `init` :

       ```go
       app, err := newrelic.NewApplication(
           newrelic.ConfigAppName("Your Application Name"),
           newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
       )
       ```

       Observe o uso de `os.Getenv` para ler sua chave de licença do ambiente em vez de codificá-la como um valor literal de string passado para `newrelic.ConfigLicense`. Recomendamos que você não coloque chave de licença ou outras informações confidenciais em seu código-fonte, pois isso pode resultar no armazenamento delas em seu repositório SCM e possivelmente na revelação a terceiros não autorizados.

    2. Atualize os valores na estrutura `newrelic.Config` para configurar seu aplicativo usando `newrelic.ConfigOption`s. Estas são funções que aceitam um ponteiro para a estrutura `newrelic.Config` . Adicione `newrelic.ConfigOption`s adicionais para configurar ainda mais seu aplicativo. Por exemplo, você pode usar uma das opções predefinidas para fazer configurações comuns:

       ```go
       app, err := newrelic.NewApplication(
           newrelic.ConfigAppName("Your Application Name"),
           newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
           // add debug level logging to stdout
           newrelic.ConfigDebugLogger(os.Stdout),
       )
       ```

    3. Ou você pode criar seu próprio `newrelic.ConfigOption` para fazer configurações mais complexas:

       ```go
       app, err := newrelic.NewApplication(
           newrelic.ConfigAppName("Your Application Name"),
           newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
           newrelic.ConfigDebugLogger(os.Stdout),
           func(config *newrelic.Config) {
           // add more specific configuration of the agent within a custom ConfigOption
           config.HighSecurity = true
               config.CrossApplicationTracer.Enabled = false
           },
       )
       ```
  </Collapser>
</CollapserGroup>

## Alterar definições de configuração [#make-config-changes]

Para fazer alterações na configuração do agente Go, defina os valores na estrutura `newrelic.Config` de dentro de um `newrelic.ConfigOption` personalizado. Por exemplo, para desativar temporariamente o monitoramento do New Relic para fins de teste, altere o valor `Enabled` para `false`:

```go
app, err := newrelic.NewApplication(
    newrelic.ConfigAppName("Your Application Name"),
    newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
    func(config *newrelic.Config) {
    	config.Enabled = false
    },
)
```

Neste e nos exemplos a seguir, `config` representa sua estrutura de configuração do New Relic, embora você possa ter dado a ela um nome de variável diferente quando [instalou o agente Go](/docs/agents/go-agent/get-started/get-new-relic-go) e iniciou a configuração em seu aplicativo.

## Configurações gerais de configuração [#general-settings]

<CollapserGroup>
  <Collapser
    id="license"
    title="Licença (OBRIGATÓRIA)"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    Especifica sua [chave de licença](/docs/subscriptions/license-key) New Relic, usada para associar a métrica do seu aplicativo a uma conta New Relic. A licença e o nome do aplicativo são definidos como parte do [processo de instalação do New Relic](/docs/apm/agents/go-agent/installation/install-new-relic-go/#get-new-relic).
  </Collapser>

  <Collapser
    id="app-name"
    title="Nome do aplicativo (OBRIGATÓRIO)"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `(none)`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    Este é o [nome do aplicativo](/docs/apm/agents/manage-apm-agents/app-naming/name-your-application/) usado para agregar dados na interface do New Relic. Você define a licença e o nome do aplicativo como parte do [processo de instalação do New Relic](/docs/apm/agents/go-agent/installation/install-new-relic-go/#get-new-relic).

    Para relatar dados para [vários aplicativos ao mesmo tempo](/docs/apm/agents/manage-apm-agents/app-naming/use-multiple-names-app/), especifique uma lista de nomes separados por ponto e vírgula. Não coloque espaço antes do próprio ponto e vírgula. Por exemplo:

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigAppName("YOUR_APP_NAME;APP_GROUP_1;ALL_APPS"),
        newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
    )
    ```
  </Collapser>

  <Collapser
    id="enabled"
    title="Habilitado"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    Quando `true`, o agente envia dados do seu aplicativo para o [coletor New Relic](/docs/new-relic-solutions/get-started/glossary/#collector).

    Para desativar o monitoramento do New Relic, defina como `false`.

    Por exemplo:

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigAppName("Your Application Name"),
        newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
        func(config *newrelic.Config) {
        	config.Enabled = false
        },
    )
    ```

    Você pode usar a opção `ConfigEnabled` para facilitar isso:

    ```go
    app, err: = newrelic.NewApplication(
        newrelic.ConfigAppName("Your Application Name"),
        newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
        newrelic.ConfigEnabled(false),
    )
    ```

    Isso pode ser útil para instalar o New Relic em um ambiente de desenvolvimento ou para fins de resolução de problemas. Quando `Enabled` está definido como `false`:

    * O agente New Relic Go não se comunicará com o coletor New Relic.
    * O agente não gerará goroutines.
    * A chave de licença não é necessária durante a instalação.
  </Collapser>

  <Collapser
    id="labels"
    title="Etiquetas"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            map\[string]string
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    Adicionar [etiqueta](/docs/new-relic-solutions/new-relic-one/core-concepts/use-tags-help-organize-find-your-data/).

    <CollapserGroup>
      <Collapser
        id="example-labels"
        title="Criando quatro pares tag"
      >
        Aqui está um exemplo de configuração de quatro tags:

        ```go
        app, err := newrelic.NewApplication(
            newrelic.ConfigAppName("Your Application Name"),
            newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
            func(config *newrelic.Config) {
                config.Labels = map[string]string{
                    "Env":    "Dev",
                    "Label2": "label2",
                    "Label3": "label3",
                    "Label4": "label4",
                }
            },
        )
        ```
      </Collapser>
    </CollapserGroup>
  </Collapser>

  <Collapser
    id="logger"
    title="Logger"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Interface
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](/docs/apm/agents/go-agent/configuration/go-agent-configuration/#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    Você pode usar a interface `Logger` para [gravar o arquivo de log Go](/docs/apm/agents/go-agent/configuration/go-agent-logging/) em um local ou sistema de registro específico.
  </Collapser>

  <Collapser
    id="high_security"
    title="Alta seguranca"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    <Callout variant="important">
      Este recurso requer [o nível Enterprise](https://www.newrelic.com/pricing).
    </Callout>

    [O modo de alta segurança](/docs/accounts-partnerships/accounts/security/high-security) impõe determinadas configurações de segurança e evita que sejam substituídas, para que o agente não envie dados confidenciais. O modo de alta segurança faz o seguinte:

    * Ativa SSL

    * Desativa o relatório de strings de mensagem de erro

    * Desativa reporte de evento personalizado

      Esta configuração deve corresponder à configuração da conta correspondente na interface. Por exemplo:

      ```go
      app, err := newrelic.NewApplication(
          newrelic.ConfigAppName("Your Application Name"),
          newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
          func(config *newrelic.Config) {
              config.HighSecurity = true
          },
      )
      ```

      O agente se comunica com a New Relic via HTTPS por padrão, e a New Relic [requer HTTPS](/docs/apis/rest-api-v2/troubleshooting/301-response-rest-api-calls) para todo o tráfego para o APM e nossa API REST.
  </Collapser>

  <Collapser
    id="use-tls"
    title="UsarTLS (DESCONTINUADO)"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    <Callout variant="important">
      Esta opção foi removida na [versão 2.0 do agente](/docs/release-notes/agent-release-notes/go-release-notes/go-agent-20).
    </Callout>

    Controla se HTTPS ou HTTP é usado para enviar dados para o New Relic. O agente se comunica com o New Relic via HTTPS por padrão (que usa o protocolo TLS), e o New Relic [requer HTTPS](/docs/apis/rest-api-v2/troubleshooting/301-response-rest-api-calls) para todo o tráfego para o APM e a API REST do New Relic.
  </Collapser>

  <Collapser
    id="host-display-name"
    title="HostDisplayName"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    Isso define o [nome do host exibido na interface do APM](/docs/apm/agents/manage-apm-agents/configuration/add-rename-remove-hosts/#display_name). Esta é uma configuração opcional.
  </Collapser>

  <Collapser
    id="transport"
    title="Transporte"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            [http.RoundTripper](https://golang.org/pkg/net/http/#RoundTripper)
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    Isso personaliza a comunicação [http.Client](https://golang.org/pkg/net/http/#Client) com o coletor New Relic. Você pode usar isso para configurar um proxy.
  </Collapser>

  <Collapser
    id="runtime-sampler"
    title="RuntimeSampler.Enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    Quando `true`, o agente captura estatísticas de tempo de execução.
  </Collapser>
</CollapserGroup>

Se você estiver usando o New Relic CodeStream para monitor o desempenho do seu IDE, você também pode [associar o repositório aos seus serviços](/docs/codestream/how-use-codestream/performance-monitoring/#repo-association) e [associar SHAs de compilação ou tag de lançamento a erros](/docs/codestream/how-use-codestream/performance-monitoring/#buildsha).

## Configurando a partir do ambiente [#configuring-from-the-environment]

Para maior flexibilidade, você pode definir muitas opções de configuração definindo variáveis de ambiente em vez de codificá-las no código-fonte do seu aplicativo. Para usá-los, adicione uma chamada para `ConfigFromEnvironment()` entre suas outras opções de configuração:

```go
app, err := newrelic.NewApplication(
   newrelic.ConfigAppName("Your Application Name"),
   newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
   newrelic.ConfigFromEnvironment(),
)
```

Observe que as variáveis de ambiente serão lidas e suas entradas correspondentes na estrutura `newrelic.Config` serão atualizadas, no ponto da lista de opções onde `newrelic.ConfigFromEnvironment()` aparece. Se houver opções de configuração adicionais listadas após `ConfigFromEnvironment`, elas poderão substituir os valores definidos por `ConfigFromEnvironment`.

Por exemplo, se as seguintes variáveis de ambiente forem definidas:

```ini
NEW_RELIC_LICENSE_KEY="your_license_key_here"
NEW_RELIC_APP_NAME="Your Application Name"
NEW_RELIC_CODE_LEVEL_METRICS_ENABLED="true"
NEW_RELIC_CODE_LEVEL_METRICS_PATH_PREFIX="myproject/src"
NEW_RELIC_LABELS="Env:Dev;Label2:label2;Label3:label3;Label4:label4"
```

então o seguinte código:

```go
app, err := newrelic.NewApplication(
    newrelic.ConfigFromEnvironment(),
)
```

obterá o mesmo resultado que o equivalente codificado:

```go
app, err := newrelic.NewApplication(
    newrelic.ConfigAppName("Your Application Name"),
    newrelic.ConfigLicense("your_license_key_here"),
    newrelic.ConfigCodeLevelMetricsEnabled(true),
    newrelic.ConfigCodeLevelMetricsPathPrefix("myproject/src"),
    func(config *newrelic.Config) {
        config.Labels = map[string]string{
            "Env":    "Dev",
            "Label2": "label2",
            "Label3": "label3",
            "Label4": "label4",
        }
    },
)
```

Nem todas as opções de configuração possíveis podem ser definidas por meio de variáveis de ambiente. A [tabela de variáveis e funções de ambiente](#env-var-table) no recolhido abaixo lista todas as funções de configuração disponíveis e suas variáveis de ambiente correspondentes. Embora qualquer opção de configuração nomeada possa ser definida atribuindo-se diretamente um valor ao campo correspondente na estrutura `Config` , recomendamos o uso de funções de configuração e/ou variáveis de ambiente sempre que possível.

<CollapserGroup>
  <Collapser
    className="freq-link"
    id="env-var-table"
    title="Tabela de variáveis e funções de ambiente"
  >
    Aqui estão algumas dicas de como usar a tabela:

    * Se uma variável de ambiente estiver listada na tabela, você poderá definir a opção correspondente definindo a variável de ambiente nomeada. Você também deve incluir a função `ConfigFromEnvironment()` , que fará com que o agente aceite todas as variáveis de ambiente `NEW_RELIC_*` .

    * Se uma função de configuração estiver listada, você poderá usar essa função para definir a opção correspondente em vez de usar `ConfigFromEnvironment()`. Lembre-se de que as funções de configuração listadas no programa, incluindo `ConfigFromEnvironment()`, são resolvidas na ordem em que aparecem no código. Isso significa que se você criar uma variável de ambiente e chamar a função `ConfigFromEnvironment()`, ela substituirá a configuração correspondente que você pode ter definido anteriormente usando uma função específica. As opções de configuração subsequentes após `ConfigFromEnvironment()` substituirão funções de configuração e variáveis de ambiente anteriores.

    * Consulte a documentação aqui e no [site de documentação do Go](https://pkg.go.dev/github.com/newrelic/go-agent/v3@v3.20.0/newrelic#ConfigOption) para obter mais informações sobre como usar cada função.

      <table>
        <thead>
          <tr>
            <th>
              Campo de configuração
            </th>

            <th>
              Funções de configuração
            </th>

            <th>
              Variáveis ambientais
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `AppName`
            </td>

            <td>
              `ConfigAppName`
            </td>

            <td>
              `NEW_RELIC_APP_NAME`
            </td>
          </tr>

          <tr>
            <td>
              `ApplicationLogging.Enabled`
            </td>

            <td>
              `ConfigAppLogForwardingEnabled`

              `ConfigAppLogEnabled`

              (Ver [nota 1](#table-note-one) abaixo)
            </td>

            <td>
              `NEW_RELIC_APPLICATION_LOGGING_ENABLED`
            </td>
          </tr>

          <tr>
            <td>
              `ApplicationLogging.Forwarding.Enabled`
            </td>

            <td>
              `ConfigAppLogForwardingEnabled`

              `ConfigAppLogDecoratingEnabled`

              `ConfigAppLogMetricsEnabled`

              (Ver [nota 1](#table-note-one) abaixo)
            </td>

            <td>
              `NEW_RELIC_APPLICATION_LOGGING_FORWARDING_ENABLED`
            </td>
          </tr>

          <tr>
            <td>
              `ApplicationLogging.Forwarding.MaxSamplesStored`
            </td>

            <td>
              `ConfigAppLogForwardingEnabled`

              `ConfigAppLogForwardingMaxSamplesStored`

              (Ver [nota 1](#table-note-one) abaixo)
            </td>

            <td>
              `NEW_RELIC_APPLICATION_LOGGING_FORWARDING_MAX_SAMPLES_STORED`
            </td>
          </tr>

          <tr>
            <td>
              `ApplicationLogging.LocalDecorating.Enabled`
            </td>

            <td>
              `ConfigAppLogDecoratingEnabled`
            </td>

            <td>
              `NEW_RELIC_APPLICATION_LOGGING_LOCAL_DECORATING_ENABLED`
            </td>
          </tr>

          <tr>
            <td>
              `ApplicationLogging.Metrics.Enabled`
            </td>

            <td>
              `ConfigAppLogMetricsEnabled`
            </td>

            <td>
              `NEW_RELIC_APPLICATION_LOGGING_METRICS_ENABLED`
            </td>
          </tr>

          <tr>
            <td>
              `Attributes.Enabled`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `Attributes.Exclude`
            </td>

            <td/>

            <td>
              `NEW_RELIC_ATTRIBUTES_EXCLUDE`
            </td>
          </tr>

          <tr>
            <td>
              `Attributes.Include`
            </td>

            <td/>

            <td>
              `NEW_RELIC_ATTRIBUTES_INCLUDE`
            </td>
          </tr>

          <tr>
            <td>
              `BrowserMonitoring.Attributes.Enabled`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `BrowserMonitoring.Attributes.Exclude`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `BrowserMonitoring.Attributes.Include`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `BrowserMonitoring.Enabled`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `CodeLevelMetrics.Enabled`
            </td>

            <td>
              `ConfigCodeLevelMetricsEnabled`
            </td>

            <td>
              `NEW_RELIC_CODE_LEVEL_METRICS_ENABLED`
            </td>
          </tr>

          <tr>
            <td>
              `CodeLevelMetrics.IgnoredPrefixes`
            </td>

            <td>
              `ConfigCodeLevelMetricsIngoredPrefixes`
            </td>

            <td>
              `NEW_RELIC_CODE_LEVEL_METRICS_IGNORED_PREFIXES`
            </td>
          </tr>

          <tr>
            <td>
              `CodeLevelMetrics.PathPrefixes`
            </td>

            <td>
              `ConfigCodeLevelMetricsPathPrefixes`
            </td>

            <td>
              `NEW_RELIC_CODE_LEVEL_METRICS_PATH_PREFIXES`
            </td>
          </tr>

          <tr>
            <td>
              `CodeLevelMetrics.RedactIgnoredPrefixes`
            </td>

            <td>
              `ConfigCodeLevelMetricsRedactIgnoredPrefixes`
            </td>

            <td>
              `NEW_RELIC_CODE_LEVEL_METRICS_REDACT_IGNORED_PREFIXES`
            </td>
          </tr>

          <tr>
            <td>
              `CodeLevelMetrics.RedactPathPrefixes`
            </td>

            <td>
              `ConfigCodeLevelMetricsRedactPathPrefixes`
            </td>

            <td>
              `NEW_RELIC_CODE_LEVEL_METRICS_REDACT_PATH_PREFIXES`
            </td>
          </tr>

          <tr>
            <td>
              `CodeLevelMetrics.Scope`
            </td>

            <td>
              `ConfigCodeLevelMetricsScope`
            </td>

            <td>
              `NEW_RELIC_CODE_LEVEL_METRICS_SCOPE`
            </td>
          </tr>

          <tr>
            <td>
              `CrossApplicationTracer.Enabled`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `CustomInsightsEvents.Enabled`
            </td>

            <td>
              `ConfigCustomInsightsEventsEnabled`
            </td>

            <td/>
          </tr>

          <tr>
            <td>
              `CustomInsightsEvents.MaxSamplesStored`
            </td>

            <td>
              `ConfigCustomInsightsEventsMaxSamplesStored`
            </td>

            <td/>
          </tr>

          <tr>
            <td>
              `DatastoreTracer.DatabaseNameReporting.Enabled`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `DatastoreTracer.InstanceReporting.Enabled`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `DatastoreTracer.QueryParameters.Enabled`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `DatastoreTracer.SlowQuery.Enabled`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `DatastoreTracer.SlowQuery.Threshold`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `DistributedTracer.Enabled`
            </td>

            <td>
              `ConfigDistributedTracerEnabled`
            </td>

            <td>
              `NEW_RELIC_DISTRIBUTED_TRACING_ENABLED`
            </td>
          </tr>

          <tr>
            <td>
              `DistributedTracer.ExcludeNewRelicHeader`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `DistributedTracer.ReservoirLimit`
            </td>

            <td>
              `ConfigDistributedTracerReservoirLimit`
            </td>

            <td/>
          </tr>

          <tr>
            <td>
              `Enabled`
            </td>

            <td>
              `ConfigEnabled`
            </td>

            <td>
              `NEW_RELIC_ENABLED`
            </td>
          </tr>

          <tr>
            <td>
              `ErrorCollector.Attributes.Enabled`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `ErrorCollector.Attributes.Exclude`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `ErrorCollector.Attributes.Include`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `ErrorCollector.CaptureEvents`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `ErrorCollector.Enabled`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `ErrorCollector.IgnoreStatusCodes`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `ErrorCollector.RecordPanics`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `Error`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `Heroku.DynoNamePrefixesToShorten`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `Heroku.UseDynoNames`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `HighSecurity`
            </td>

            <td/>

            <td>
              `NEW_RELIC_HIGH_SECURITY`
            </td>
          </tr>

          <tr>
            <td>
              `HostDisplayName`
            </td>

            <td/>

            <td>
              `NEW_RELIC_PROCESS_HOST_DISPLAY_NAME`
            </td>
          </tr>

          <tr>
            <td>
              `Host`
            </td>

            <td/>

            <td>
              `NEW_RELIC_HOST`
            </td>
          </tr>

          <tr>
            <td>
              `InfiniteTracing.SpanEvents.QueueSize`
            </td>

            <td/>

            <td>
              `NEW_RELIC_INFINITE_TRACING_SPAN_EVENTS_QUEUE_SIZE`
            </td>
          </tr>

          <tr>
            <td>
              `InfiniteTracing.TraceObserver.Host`
            </td>

            <td/>

            <td>
              `NEW_RELIC_INFINITE_TRACING_TRACE_OBSERVER_HOST`
            </td>
          </tr>

          <tr>
            <td>
              `InfiniteTracing.TraceObserver.Port`
            </td>

            <td/>

            <td>
              `NEW_RELIC_INFINITE_TRACING_TRACE_OBSERVER_PORT`
            </td>
          </tr>

          <tr>
            <td>
              `Labels`
            </td>

            <td/>

            <td>
              `NEW_RELIC_LABELS`
            </td>
          </tr>

          <tr>
            <td>
              `License`
            </td>

            <td>
              `ConfigLicense`
            </td>

            <td>
              `NEW_RELIC_LICENSE_KEY`
            </td>
          </tr>

          <tr>
            <td>
              `Logger`
            </td>

            <td>
              `ConfigLogger`

              `ConfigInfoLogger`

              `ConfigDebugLogger`

              (Ver [nota 2](#table-note-two) abaixo)
            </td>

            <td>
              `NEW_RELIC_LOG`

              `NEW_RELIC_LOG_LEVEL`
            </td>
          </tr>

          <tr>
            <td>
              `ModuleDependencyMetrics.Enabled`
            </td>

            <td>
              `ConfigModuleDependencyMetricsEnabled`
            </td>

            <td>
              `NEW_RELIC_MODULE_DEPENDENCY_METRICS_ENABLED`
            </td>
          </tr>

          <tr>
            <td>
              `ModuleDependencyMetrics.IgnoredPrefixes`
            </td>

            <td>
              `ConfigModuleDependencyMetricsIgnoredPrefixes`
            </td>

            <td>
              `NEW_RELIC_MODULE_DEPENDENCY_METRICS_IGNORED_PREFIXES`
            </td>
          </tr>

          <tr>
            <td>
              `ModuleDependencyMetrics.RedaceIgnoredPrefixes`
            </td>

            <td>
              `ConfigModuleDependencyMetricsRedactIgnoredPrefixes`
            </td>

            <td>
              `NEW_RELIC_MODULE_DEPENDENCY_METRICS_REDACT_IGNORED_PREFIXES`
            </td>
          </tr>

          <tr>
            <td>
              `RuntimeSampler.Enabled`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `SecurityPoliciesToken`
            </td>

            <td/>

            <td>
              `NEW_RELIC_SECURITY_POLICIES_TOKEN`
            </td>
          </tr>

          <tr>
            <td>
              `Segments.Attributes.Enabled`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `Segments.Attributes.Exclude`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `Segments.Attributes.Include`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `Segments.StackTraceThreshold`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `Segments.Threshold`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `ServerlessMode.AccountID`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `ServerlessMode.ApdexThreshold`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `ServerlessMode.Enabled`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `ServerlessMode.PrimaryAppID`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `ServerlessMode.TrustedAccountKey`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `SpanEvents.Attributes.Enabled`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `SpanEvents.Attributes.Exclude`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `SpanEvents.Attributes.Include`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `SpanEvents.Enabled`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `TransactionEvents.Attributes.Enabled`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `TransactionEvents.Attributes.Exclude`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `TransactionEvents.Attributes.Include`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `TransactionEvents.Enabled`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `TransactionEvents.MaxSamplesStored`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `TransactionTracer.Attributes.Enabled`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `TransactionTracer.Attributes.Exclude`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `TransactionTracer.Attributes.Include`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `TransactionTracer.Enabled`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `TransactionTracer.Threshold.Duration`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `TransactionTracer.Threshold.IsApdexFailing`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `Transport`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `Utilization.BillingHostname`
            </td>

            <td/>

            <td>
              `NEW_RELIC_UTILIZATION_BILLING_HOSTNAME`
            </td>
          </tr>

          <tr>
            <td>
              `Utilization.DetectAWS`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `Utilization.DetectAzure`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `Utilization.DetectDocker`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `Utilization.DetectGCP`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `Utilization.DetectKubernetes`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `Utilization.DetectPCF`
            </td>

            <td/>

            <td/>
          </tr>

          <tr>
            <td>
              `Utilization.LocalRAMMIB`
            </td>

            <td/>

            <td>
              `NEW_RELIC_UTILIZATION_TOTAL_RAM_MIB`
            </td>
          </tr>

          <tr>
            <td>
              `Utilization.LogicalProcessors`
            </td>

            <td/>

            <td>
              `NEW_RELIC_UTILIZATION_LOGICAL_PROCESSORS`
            </td>
          </tr>
        </tbody>
      </table>

      ### Nota da tabela 1: [#table-note-one]

      Chamar uma das funções listadas para habilitar um recurso subordinado também habilita o recurso principal e/ou define outros valores de configuração:

      * `ConfigAppLogForwardingEnabled(true)` conjuntos `ApplicationLogging.Forwarding.Enabled=true` mas também conjuntos `ApplicationLogging.Enabled=true`.
      * `ConfigAppLogForwardingEnabled(false)` conjuntos `ApplicationLogging.Forwarding.Enabled=false` mas também conjuntos `ApplicationLogging.Forwarding.MaxSamplesStored=0`.
      * `ConfigAppLogDecoratingEnabled(true)` conjuntos `ApplicationLogging.LocalDecorating.Enabled=true` mas também conjuntos `ApplicationLogging.Enabled=true`.
      * `ConfigAppLogDecoratingEnabled(false)` define `ApplicationLogging.LocalDecorating.Enabled=false` mas não afeta `ApplicationLogging.Enabled`.
      * `ConfigAppLogMetricsEnabled(true)` conjuntos `ApplicationLogging.Metrics.Enabled=true` mas também conjuntos `ApplicationLogging.Enabled=true`.
      * `ConfigAppLogMetricsEnabled(false)` define `ApplicationLogging.Metrics.Enabled=false` mas não afeta `ApplicationLogging.Enabled`.

        ### Nota da tabela 2: [#table-note-two]

        Ao definir `Logger` por meio da variável de ambiente `NEW_RELIC_LOG` , o tipo de agente usado depende do valor de `NEW_RELIC_LOG_LEVEL`. Se a última variável for definida e tiver o valor `debug`, `Debug`, `DEBUG`, `d` ou `D`, um agente de nível de depuração será usado em vez de um agente padrão. `NEW_RELIC_LOG` pode ter os valores `stdout`, `Stdout`, `STDOUT`, `stderr`, `Stderr` ou `STDERR`.

      <Callout variant="tip">
        As variáveis de ambiente devem ter um valor não vazio para serem lidas por `newrelic.ConfigFromEnvironment`.
      </Callout>
  </Collapser>
</CollapserGroup>

## Definir tag de versão [#version-tag]

A configuração de NEW_RELIC_METADATA_SERVICE_VERSION criará uma tag `tag.service.version` nos dados do evento. Neste contexto, a versão do serviço é a versão do seu código que está implantada, em muitos casos uma versão semântica como 1.2.3 mas nem sempre. O envio dessas informações permite facetar sua telemetria pela versão do software implantado para que você possa identificar rapidamente quais versões do seu software estão produzindo os erros.

## AI Monitoring [#ai-monitoring]

Esta seção inclui a configuração do agente Go para configurar AI Monitoring.

<Callout variant="important">
  Se distributed tracing estiver desativado ou o modo de alta segurança estiver ativado, AI Monitoring não coletará dados de IA.
</Callout>

<CollapserGroup>
  <Collapser
    id="ai-monitoring-enabled"
    title="AIMonitoring.Enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment)
          </th>

          <td>
            `NEW_RELIC_AI_MONITORING_ENABLED`
          </td>
        </tr>

        <tr>
          <th>
            Função de configuração
          </th>

          <td>
            `newrelic.ConfigAIMonitoringEnabled`
          </td>
        </tr>
      </tbody>
    </table>

    Quando definido como `true`, ativa o AI Monitoring.
  </Collapser>

  <Collapser
    id="ai-monitoring-streaming"
    title="AIMonitoring.Streaming.Enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment)
          </th>

          <td>
            `NEW_RELIC_AI_MONITORING_STREAMING_ENABLED`
          </td>
        </tr>

        <tr>
          <th>
            Função de configuração
          </th>

          <td>
            `newrelic.ConfigAIMonitoringStreamingEnabled`
          </td>
        </tr>
      </tbody>
    </table>

    Quando definido como `true`, permite que o agente capture respostas transmitidas. Se definido como `false`, o agente não capturará dados de eventos sobre respostas transmitidas, mas o agente ainda poderá capturar métricas e spans. A duração do intervalo terminará quando a chamada da função LLM terminar. Quando definido como `true`, a duração do intervalo termina quando o resultado final é lido no stream.
  </Collapser>

  <Collapser
    id="ai-monitoring-record-content"
    title="AIMonitoring.RecordContent.Enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Variável ambiental](#environment)
          </th>

          <td>
            `NEW_RELIC_AI_MONITORING_RECORD_CONTENT_ENABLED`
          </td>
        </tr>

        <tr>
          <th>
            Função de configuração
          </th>

          <td>
            `newrelic.ConfigAIMonitoringRecordContentEnabled()`
          </td>
        </tr>
      </tbody>
    </table>

    Se definido como `false`, o agente omitirá o conteúdo de entrada e saída (como sequências de texto de prompt e respostas) capturado no evento LLM. Esta é uma configuração de segurança opcional se você não quiser registrar dados confidenciais enviados e recebidos de seus LLMs.
  </Collapser>
</CollapserGroup>

## Configuração personalizada do evento [#custom-insights-events-settings]

Você pode criar eventos personalizados e disponibilizá-los para consulta e análise.

<CollapserGroup>
  <Collapser
    id="custom-insights-events-enabled"
    title="CustomInsightsEvents.Enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    Quando `true`, o agente [envia evento personalizado](/docs/data-apis/custom-data/custom-events/apm-report-custom-events-attributes/#go) para [New Relic](/docs/insights/new-relic-insights/understanding-insights/new-relic-insights). Esta configuração é substituída por [`HighSecurity`](#high_security), que desativa o evento personalizado.

    Para desativar o evento personalizado, coloque o seguinte em seu aplicativo Go após a [configuração do New Relic](/docs/agents/go-agent/get-started/get-new-relic-go#get-new-relic) ser iniciada:

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigAppName("Your Application Name"),
        newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
        func(config *newrelic.Config) {
            config.CustomInsightsEvents.Enabled = false
        },
    )
    ```
  </Collapser>
</CollapserGroup>

## Configuração de evento de transação [#transaction-events-settings]

Os eventos de transação são usados na coleta de eventos correspondentes a solicitações da web e tarefas em segundo plano. Os dados do evento permitem que a interface do New Relic mostre informações adicionais como [histograma](/docs/applications-menu/histograms-viewing-data-distribution) e [percentil](/docs/applications-menu/percentiles-comparing-ranked-data).

<CollapserGroup>
  <Collapser
    id="transaction-events"
    title="TransactionEvents.Enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    Quando `true`, o agente coleta o evento de transação.
  </Collapser>

  <Collapser
    id="txn-events-attributes"
    title="TransactionEvents.Attributes"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Estrutura
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            Ativado, sem exclusões
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    `TransactionEvents.Attributes` é uma estrutura com três campos:

    ```go
    Enabled bool
    Include []string
    Exclude []string
    ```

    Use `TransactionEvents.Attributes.Enabled` para ativar ou desativar a coleta de atributos para evento de transação. Use `Include` e `Exclude` para incluir ou excluir um atributo específico.

    Um exemplo de exclusão de uma fatia de atributo denominada `allAgentAttributeNames` do evento de transação:

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigAppName("Your Application Name"),
        newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
        func(config *newrelic.Config) {
            config.TransactionEvents.Attributes.Exclude = allAgentAttributeNames
        },
    )
    ```
  </Collapser>

  <Collapser
    id="transaction-events-maxsamplesstored"
    title="TransactionEvents.MaxSamplesStored"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Inteiro
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `10000`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    Define o número máximo de eventos de transação por minuto a serem enviados para o New Relic, até o máximo padrão de 10.000 eventos de transação.
  </Collapser>
</CollapserGroup>

## Erro na configuração do coletor [#error-collector]

As configurações a seguir são usadas para configurar o coletor de erros:

<Callout variant="tip">
  Para obter uma visão geral da configuração de erros no New Relic, consulte [Gerenciar erros no APM](/docs/agents/manage-apm-agents/agent-data/manage-errors-apm-collect-ignore-mark-expected).
</Callout>

<CollapserGroup>
  <Collapser
    id="error-collector-enabled"
    title="ErrorCollector.Enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` struct, configuração do lado do servidor
          </td>
        </tr>

        <tr>
          <th>
            [Etiqueta do lado do servidor](#server-side-configuration)
          </th>

          <td>
            `Error Collection on/off`
          </td>
        </tr>
      </tbody>
    </table>

    Quando `false`, o agente não coleta erros nem rastreia erros.
  </Collapser>

  <Collapser
    id="error-capture-events"
    title="ErrorCollector.CaptureEvents"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    Quando `true`, o agente coleta evento de análise de erro.
  </Collapser>

  <Collapser
    id="error-group-callback"
    title="ErrorCollector.ErrorGroupCallback"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            ErroGroupCallback
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            nada
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>

          <td>
            `newrelic.ConfigSetErrorGroupCallbackFunction` opção de configuração
          </td>
        </tr>
      </tbody>
    </table>

    Quando não for nulo, o agente aplicará a função de retorno de chamada definida pelo usuário a todos os erros percebidos no momento da coleta, aplicando um grupo de erros a eles.
  </Collapser>

  <Collapser
    id="error-ignore-status"
    title="ErrorCollector.IgnoreStatusCodes"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Inteiro
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            Os códigos de erro 399 e inferiores e 404 são ignorados.
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` struct, configuração do lado do servidor
          </td>
        </tr>

        <tr>
          <th>
            [Etiqueta do lado do servidor](#server-side-configuration)
          </th>

          <td>
            `Error Collection: Ignore from error collection`
          </td>
        </tr>
      </tbody>
    </table>

    Isto controla quais códigos de resposta HTTP são ignorados como erros.

    Os códigos de resposta maiores ou iguais a 100 e estritamente menores que 400 são ignorados por padrão e nunca precisam ser especificados ao chamar esta função. Os códigos de resposta 0, 5 e 404 estão incluídos na lista por padrão, mas devem ser especificados ao serem adicionados à lista de ignorados.

    O formato padrão desta função é:

    ```go
    config.ErrorCollector.IgnoreStatusCodes = []int{
        0,                   // gRPC OK
        5,                   // gRPC NOT_FOUND
        http.StatusNotFound, // 404
    }
    ```

    Você também pode adicionar códigos de resposta como HTTPs, conforme `http.StatusNotFound` acima.

    <Callout variant="important">
      Se usada, [a configuração no lado do servidor](#server-side-configuration) substituirá quaisquer valores definidos na estrutura `newrelic.Config` . Portanto para ignorar 404 quando a configuração no lado do servidor estiver habilitada, você deve incluir 404 na configuração definida na interface.
    </Callout>

    <CollapserGroup>
      <Collapser
        id="error-example"
        title="Exemplo de código de erro ignorado"
      >
        Para adicionar o código de resposta HTTP 418 à lista de ignorados padrão, que inclui 0, 5 e 404:

        ```go
        app, err := newrelic.NewApplication(
            newrelic.ConfigAppName("Your Application Name"),
            newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
            func(config *newrelic.Config) {
                config.ErrorCollector.IgnoreStatusCodes = []int{0, 5, 404, 418}
            },
        )
        ```
      </Collapser>
    </CollapserGroup>
  </Collapser>

  <Collapser
    id="error-expected-status"
    title="ErrorCollector.ExpectStatusCodes"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Inteiro
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            Nenhum código de erro é definido conforme esperado por padrão.
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    Isso controla quais códigos de resposta HTTP são esperados como erros.

    Os códigos de resposta esperados não afetarão o apdex ou os alertas de erro do seu aplicativo, mas ainda assim serão registrados.

    O formato padrão desta função é:

    ```go
    config.ErrorCollector.ExpectStatusCodes = []int{
        100,
        http.StatusAccepted,
    }
    ```

    Você também pode adicionar códigos de resposta como HTTPs, como `http.StatusAccepted` descrito acima.

    <CollapserGroup>
      <Collapser
        id="error-example"
        title="Exemplo de código de erro ignorado"
      >
        Para adicionar o código de resposta HTTP 418 à lista de ignorados padrão, que inclui 0, 5 e 404:

        ```go
        app, err := newrelic.NewApplication(
            newrelic.ConfigAppName("Your Application Name"),
            newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
            func(config *newrelic.Config) {
                config.ErrorCollector.IgnoreStatusCodes = []int{100, http.StatusAccepted}
            },
        )
        ```
      </Collapser>
    </CollapserGroup>
  </Collapser>

  <Collapser
    id="error-attributes"
    title="ErrorCollector.Attributes"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Estrutura
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            Ativado, sem exclusões
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    `ErrorCollector.Attributes` é uma estrutura com três campos:

    ```go
    Enabled bool
    Include []string
    Exclude []string
    ```

    Use `ErrorCollector.Attributes.Enabled` para ativar ou desativar a coleta de atributos em caso de erros. Use `Include` e `Exclude` para incluir ou excluir um atributo específico.

    Um exemplo de exclusão de uma fatia de atributo chamada `allAgentAttributeNames` de erros:

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigAppName("Your Application Name"),
        newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
        func(config *newrelic.Config) {
            config.ErrorCollector.Attributes.Exclude = allAgentAttributeNames
        },
    )
    ```
  </Collapser>
</CollapserGroup>

## Configuração tracer de transação [#transaction-tracer]

Aqui estão as configurações para alterar a configuração tracer de transação. Para obter mais informações sobre rastreamento de transação, consulte [rastreamento de transação](/docs/traces/transaction-traces).

<CollapserGroup>
  <Collapser
    id="txn-tracer-enabled"
    title="TransactionTracer.Enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` struct, configuração do lado do servidor
          </td>
        </tr>

        <tr>
          <th>
            [Etiqueta do lado do servidor](#server-side-configuration)
          </th>

          <td>
            `Transaction Tracing on/off`
          </td>
        </tr>
      </tbody>
    </table>

    Quando `true`, o agente coleta [trace da transação](/docs/apm/transactions/transaction-traces/transaction-traces) (informações detalhadas sobre transações lentas).
  </Collapser>

  <Collapser
    id="txn-tracer-threshold-apdex-falling"
    title="TransactionTracer.Threshold.IsApdexFailing"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` struct, configuração do lado do servidor
          </td>
        </tr>

        <tr>
          <th>
            [Etiqueta do lado do servidor](#server-side-configuration)
          </th>

          <td>
            `Transaction Tracing: Threshold`
          </td>
        </tr>
      </tbody>
    </table>

    Controla se o limite de rastreamento da transação é baseado em Apdex.

    * Se `true`, o limite trace será quatro vezes o [limite do Apdex](/docs/apm/new-relic-apm/apdex/apdex-measuring-user-satisfaction).
    * Se `false`, o agente usa [`Threshold.Duration`](/docs/go-agent-configuration#txn-tracer-threshold-duration) como limite de rastreamento da transação.
  </Collapser>

  <Collapser
    id="txn-tracer-threshold-duration"
    title="TransactionTracer.Threshold.Duration"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            time.Millisecond
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `500`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` struct, configuração do lado do servidor
          </td>
        </tr>

        <tr>
          <th>
            [Etiqueta do lado do servidor](#server-side-configuration)
          </th>

          <td>
            `Transaction Tracing: Threshold`
          </td>
        </tr>
      </tbody>
    </table>

    Se `Threshold.IsApdexFailing` estiver definido como `false`, o agente usará essa duração como limite de rastreamento da transação.
  </Collapser>

  <Collapser
    id="txn-tracer-segment-threshold"
    title="TransactionTracer.Segments.Threshold"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            time.Millisecond
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `2`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    Este é o limite no qual os segmentos serão adicionados ao trace.
  </Collapser>

  <Collapser
    id="txn-tracer-segments-attributes"
    title="TransactionTracer.Segments.Attributes"
  >
    <Callout variant="important">
      Disponível para agente Go versão 2.6.0 ou superior.
    </Callout>

    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Estrutura
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            Ativado, sem exclusões
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    `TransactionTracer.Segments.Attributes` é uma estrutura com três campos:

    ```go
    Enabled bool
    Include []string
    Exclude []string
    ```

    Use `TransactionTracer.Segments.Attributes.Enabled` para ativar ou desativar a coleta de atributos para segmentos de rastreamento da transação. Use `Include` e `Exclude` para incluir ou excluir um atributo específico.

    Um exemplo de exclusão de uma fatia de atributo denominada `allSegmentAttributeNames` do rastreamento:

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigAppName("Your Application Name"),
        newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
        func(config *newrelic.Config) {
            config.TransactionTracer.Segments.Attributes.Exclude = allSegmentAttributeNames
        },
    )
    ```
  </Collapser>

  <Collapser
    id="txn-tracer-stack-threshold"
    title="TransactionTracer.Segments.StackTraceThreshold"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            time.Millisecond
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `500`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` struct, configuração do lado do servidor
          </td>
        </tr>

        <tr>
          <th>
            [Etiqueta do lado do servidor](#server-side-configuration)
          </th>

          <td>
            `Transaction Tracing: Stack trace threshold`
          </td>
        </tr>
      </tbody>
    </table>

    Este é o limite no qual os segmentos receberão um stack trace no rastreamento da transação.

    <Callout variant="caution">
      Reduzir essa configuração pode aumentar drasticamente a sobrecarga do agente.
    </Callout>
  </Collapser>

  <Collapser
    id="txn-tracer-attributes"
    title="TransactionTracer.Attributes"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Estrutura
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            Ativado, sem exclusões
          </td>
        </tr>

        <tr>
          <th>
            [Definir](/docs/agents/go-agent/instrumentation/go-agent-configuration#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    `TransactionTracer.Attributes` é uma estrutura com três campos:

    ```go
    Enabled bool
    Include []string
    Exclude []string
    ```

    Use `TransactionTracer.Attributes.Enabled` para ativar ou desativar a coleta de atributos para rastreamento da transação. Use `Include` e `Exclude` para incluir ou excluir um atributo específico.

    Um exemplo de exclusão de uma fatia de atributo denominada `allAgentAttributeNames` do rastreamento:

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigAppName("Your Application Name"),
        newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
        func(config *newrelic.Config) {
            config.TransactionTracer.Attributes.Exclude = allAgentAttributeNames
        },
    )
    ```
  </Collapser>
</CollapserGroup>

## Configuração tracer de armazenamento de dados [#datastore-tracer]

Aqui estão as configurações do armazenamento de dados, incluindo habilitação e configurações [de consulta lenta](/docs/apm/applications-menu/monitoring/viewing-slow-query-details) .

<CollapserGroup>
  <Collapser
    id="instance-reporting"
    title="DatastoreTracer.InstanceReporting.Enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    Isso permite a coleta de métricas de instância do armazenamento de dados (como host e porta) para algum driver do banco de dados. Eles são relatados no rastreamento da transação e como parte de [dados de consulta lenta](/docs/apm/applications-menu/monitoring/viewing-slow-query-details).
  </Collapser>

  <Collapser
    id="name-reporting"
    title="DatastoreTracer.NameReporting.Enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    Use isto para permitir a coleta do nome do banco de dados na consulta lenta de rastreamento e rastreamento da transação. O valor padrão do atributo ativado é `true`.
  </Collapser>

  <Collapser
    id="data-query-enabled"
    title="DatastoreTracer.QueryParameters.Enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    Quando `true`, o agente coleta o parâmetro de consulta de chamada do armazenamento de dados.
  </Collapser>

  <Collapser
    id="slow-query"
    title="DatastoreTracer.SlowQuery.Enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    Controla se [consultas lentas](/docs/apm/applications-menu/monitoring/viewing-slow-query-details) são capturadas.
  </Collapser>

  <Collapser
    id="slow-query-threshold"
    title="DatastoreTracer.SlowQuery.Threshold"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            time.Millisecond
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `10`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    O agente captura [dados de consulta lenta](/docs/apm/applications-menu/monitoring/viewing-slow-query-details) para consultas mais lentas que isso.
  </Collapser>
</CollapserGroup>

## Configuração de rastreamento multiaplicativo [#cross-application-tracing]

Aqui estão as configurações para alterar o recurso [de rastreamento multiaplicativo](/docs/agents/go-agent/features/cross-application-tracing-go) .

<Callout variant="important">
  O rastreamento multiaplicativo foi descontinuado em favor do [Distributed tracing](/docs/agents/go-agent/features/distributed-tracing-go) e será removido em uma versão futura do agente.
</Callout>

<CollapserGroup>
  <Collapser
    id="cross-tracer-enabled"
    title="CrossApplicationTracer.Enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` struct, configuração do lado do servidor
          </td>
        </tr>

        <tr>
          <th>
            [Etiqueta do lado do servidor](#server-side-configuration)
          </th>

          <td>
            `Cross-application tracing on/off`
          </td>
        </tr>
      </tbody>
    </table>

    Quando `true`, o agente adicionará cabeçalhos de rastreamento multiaplicativo em solicitações de saída e verificará as solicitações recebidas em busca de cabeçalhos de rastreamento multiaplicativo.

    Distributed tracing e o rastreamento multiaplicativo não podem ser usados simultaneamente. A configuração padrão do agente Go desativa distributed tracing e ativa o rastreamento multiaplicativo.
  </Collapser>
</CollapserGroup>

## Configuração distributed tracing [#distributed-tracing]

<Callout variant="important">
  A ativação distributed tracing requer o agente Go versão 2.1.0 ou superior, e desativa o [rastreamento multiaplicativo](#cross-application-tracing). Também tem efeitos sobre outros recursos. Antes de ativar, leia o [guia de transição](/docs/transition-guide-distributed-tracing).
</Callout>

[distributed tracing](/docs/agents/go-agent/features/distributed-tracing-go) permite ver o caminho que uma solicitação percorre ao percorrer sistemas distribuídos.

Quando distributed tracing está habilitado, você pode coletar [span evento](/docs/apm/distributed-tracing/ui-data/span-event).

<CollapserGroup>
  <Collapser
    id="distributed-enabled"
    title="DistributedTracer.Enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    O rastreamento padrão está ativado por padrão nas versões 3.16.0 e superiores do agente Go. Isso significa que o agente adicionará automaticamente cabeçalhos distributed tracing em solicitações de saída e verificará as solicitações recebidas em busca de cabeçalhos distributed tracing . Para desativar distributed tracing, defina o valor como `false`.

    Para obter mais informações sobre como configurar distributed tracing, consulte [Habilitar distributed tracing para seu aplicativo Go](/docs/apm/agents/go-agent/instrumentation/distributed-tracing-go-agent).

    <Callout variant="important">
      A ativação distributed tracing desativa [o rastreamento multiaplicativo](#cross-application-tracing).
    </Callout>
  </Collapser>

  <Collapser
    id="dt-exclude-newrelic-header"
    title="DistributedTracer.ExcludeNewRelicHeader"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    Defina como `true` para excluir o cabeçalho New Relic anexado às solicitações de saída e, em vez disso, confiar apenas nos cabeçalhos W3C Trace Context para distributed tracing. Se for `false` , ambos os tipos de cabeçalho serão usados.
  </Collapser>
</CollapserGroup>

## Configuração do evento de extensão [#span-events]

[Os eventos Span](/docs/apm/distributed-tracing/ui-data/span-event) são relatados para [distributed tracing](/docs/agents/java-agent/configuration/java-agent-configuration-config-file#distributed-tracing). distributed tracing deve ser ativado para relatar o evento span. Estas configurações controlam a coleção de eventos span:

<CollapserGroup>
  <Collapser
    id="span-events-enabled"
    title="SpanEvents.Enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    Quando `true`, o agente coletará o evento span.
  </Collapser>

  <Collapser
    id="span-event-attributes"
    title="SpanEvents.Attributes"
  >
    <Callout variant="important">
      Disponível para agente Go versão 2.6.0 ou superior.
    </Callout>

    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Estrutura
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            Ativado, sem exclusões
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    `SpanEvents.Attributes` é uma estrutura com três campos:

    ```go
    Enabled bool
    Include []string
    Exclude []string
    ```

    Use `SpanEvents.Attributes.Enabled` para ativar ou desativar a coleta de atributos para o evento span. Use `Include` e `Exclude` para incluir ou excluir um atributo específico.

    Um exemplo de exclusão de uma fatia de atributo denominada `allSpanAttributeNames` do rastreamento:

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigAppName("Your Application Name"),
        newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
        func(config *newrelic.Config) {
            config.TransactionTracer.Segments.Attributes.Exclude = allSpanAttributeNames
        },
    )
    ```
  </Collapser>
</CollapserGroup>

## Configuração de rastreamento infinito [#infinite-tracing]

Para ativar o rastreamento infinito, ative distributed tracing (defina `config.DistributedTracer.Enabled = true` na estrutura `newrelic.Config`) e adicione as configurações adicionais abaixo. Por exemplo, consulte [Agente de idioma: configurar distributed tracing](/docs/understand-dependencies/distributed-tracing/enable-configure/language-agents-enable-distributed-tracing#go-config).

<CollapserGroup>
  <Collapser
    id="trace-observer-host"
    title="InfiniteTracing.TraceObserver.Host"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            (nenhum)
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    Para obter ajuda para obter uma entrada válida de host do observador trace do Infinite Tracing, consulte [Localizar ou criar um endpoint do observador trace ](/docs/understand-dependencies/distributed-tracing/enable-configure/language-agents-enable-distributed-tracing#provision-trace-observer).
  </Collapser>
</CollapserGroup>

## Configurações de log do aplicativo [#application-logging]

As configurações a seguir estão disponíveis para configuração do log do aplicativo no agente. Para obter dicas sobre como usar o logs contextualizados do agente Go, consulte [logs contextualizados do Go](/docs/logs/logs-context/configure-logs-context-go).

<Callout variant="important">
  Requer agente Go versão 3.17.0 ou superior
</Callout>

<CollapserGroup>
  <Collapser
    id="application-logging-enabled"
    title="ApplicationLogging.Enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, habilita a coleta de evento de log e métrica de registro caso estes sub-recursos de configuração também estejam habilitados. Se `false`, nenhum recurso de instrumentação de criação de log será ativado.

    Configure ApplicationLogging chamando `ConfigAppLogEnabled()`.

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigAppLogEnabled(true),
    )
    ```
  </Collapser>

  <Collapser
    id="application-logging-forwarding-enabled"
    title="ApplicationLogging.Forwarding.Enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente captura os registros de log emitidos pelo seu aplicativo e os encaminha para o New Relic. `ApplicationLogging.Enabled` também deve ser `true` para que esta configuração tenha efeito.

    Habilite o encaminhamento de logs chamando `ConfigAppLogForwardingEnabled()`.

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigAppLogForwardingEnabled(true),
    )
    ```
  </Collapser>

  <Collapser
    id="application-logging-forwarding-maximum-samples-stored"
    title="ApplicationLogging.Forwarding.MaxSamplesStored"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Inteiro
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            10.000
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    Número de registros de log a serem enviados por minuto para o New Relic. Esta configuração controla o consumo geral de memória ao usar o recurso de encaminhamento de logs.

    Configure `ApplicationLogging.Forwarding.MaxSamplesStored` chamando `ConfigAppLogForwardingMaxSamplesStored()`.

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigAppLogForwardingMaxSamplesStored(1000),
    )
    ```

    Defina um valor mais baixo para reduzir a quantidade de linhas de log enviadas (pode causar amostragem de log). Defina um valor mais alto para enviar mais linhas de log.

    Cada log recebe a mesma prioridade que sua transação associada. log que ocorrem fora de uma transação receberão uma prioridade aleatória. Alguns registros podem não ser incluídos porque são limitados por `MaxSamplesStored`. Por exemplo, se o registro em log `MaxSamplesStored` estiver definido como 10.000 e a transação 1 tiver 10.000 entradas de log, somente as entradas de log da transação 1 serão registradas. Se a transação 1 tiver menos de 10.000 logs, você receberá todos os logs da transação 1. Se ainda houver espaço, você receberá todo o log da transação 2 e assim por diante.

    Se após todos os logs de transação amostrados forem registrados, e eles não atingirem o limite em `MaxSamplesStored`, então será enviada a mensagem do log de transação amostrada que não estava em nossa amostragem. Se sobrar alguma, as mensagens do log fora da transação serão registradas.
  </Collapser>

  <Collapser
    id="application-logging-metrics-enabled"
    title="ApplicationLogging.Metrics.Enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente captura métricas relacionadas às linhas de log enviadas pela sua aplicação. `ApplicationLogging.Enabled` também deve ser `true` para que esta configuração tenha efeito.

    Configure ApplicationLogging.Metrics.Enabled chamando `ConfigAppLogMetricsEnabled()`.

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigAppLogMetricsEnabled(true),
    )
    ```
  </Collapser>
</CollapserGroup>

## Configurações métricas de dependência de módulo [#mdm]

A métrica de dependência do módulo pode ser configurada de diversas maneiras no agente Go. A métrica de dependência de módulo relata a lista de módulos importados usados por seu aplicativo Go para ajudar a facilitar o gerenciamento de dependência de código. Também inclui as informações de versão dos módulos do seu aplicativo.

<Callout variant="important">
  Requer agente Go versão 3.20.0 ou mais alto
</Callout>

<CollapserGroup>
  <Collapser
    id="mdm-enabled"
    title="ModuleDependencyMetrics.Enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, habilita a coleta de dados de dependência do módulo. Se `false`, nenhuma informação de dependência do módulo será coletada.

    Configure ModuleDependencyMetrics chamando `ConfigModuleDependencyMetricsEnabled`.

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigModuleDependencyMetricsEnabled(true),
    )
    ```

    Você pode ativar a configuração das opções do agente Go por meio de variáveis de ambiente inserindo `ConfigFromEnvironment()` em sua chamada para `NewApplication`. Se você fez isso, você pode ativar ou desativar a coleta de métricas de dependência do módulo definindo a variável de ambiente.

    ```ini
    NEW_RELIC_MODULE_DEPENDENCY_METRICS_ENABLED=true
    ```
  </Collapser>

  <Collapser
    id="mdm-ignored-prefixes"
    title="ModuleDependencyMetrics.IgnoredPrefixes"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Cordas)
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `nil`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    Esta lista de prefixos de caminho de módulo especifica que você deseja excluir alguns módulos das informações de dependência relatadas pelo agente. Qualquer módulo cujo caminho `import` comece com qualquer uma das sequências de prefixos listadas será excluído. O padrão é uma lista vazia, o que significa reportar todos os módulos encontrados.

    Especifique uma lista de sequências de prefixos de caminho a serem excluídas chamando `ConfigModuleDependencyMetricsIgnoredPrefixes`.

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigModuleDependencyMetricsIgnoredPrefixes("example.com/packageAlpha", "example.com/packageBeta"),
    )
    ```

    Se você ativou a configuração das opções do agente Go por meio de variáveis de ambiente inserindo `ConfigFromEnvironment()` em sua chamada para `NewApplication`, poderá listar os prefixos de caminho definindo a variável de ambiente.

    ```ini
    NEW_RELIC_MODULE_DEPENDENCY_METRICS_IGNORED_PREFIXES="example.com/packageAlpha,example.com/packageBeta"
    ```
  </Collapser>

  <Collapser
    id="mdm-redact-ignored-prefixes"
    title="ModuleDependencyMetrics.RedactIgnoredPrefixes"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Definir](#options)
          </th>

          <td>
            `newrelic.Config` estrutura
          </td>
        </tr>
      </tbody>
    </table>

    Normalmente, todas as opções definidas como parte da configuração do agente são relatadas e visíveis na interface do New Relic. Se você optar por excluir alguns módulos do relatório por meio da opção `ConfigModuleDependencyIgnoredPrefixes` , também poderá editá-los dos dados de configuração. Por exemplo, se os módulos foram excluídos por questões de confidencialidade.

    Ative ou desative a redação de caminhos excluídos chamando `ConfigModuleDependencyMetricsRedactIgnoredPrefixes`. Se `true`, a lista de prefixos de módulos excluídos não será informada. Se `false`, eles serão relatados.

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigModuleDependencyMetricsRedactIgnoredPrefixes(false),
    )
    ```

    Se você ativou a configuração das opções do agente Go por meio de variáveis de ambiente inserindo `ConfigFromEnvironment()` em sua chamada para `NewApplication`, poderá listar os prefixos de caminho definindo a variável de ambiente.

    ```ini
    NEW_RELIC_MODULE_DEPENDENCY_METRICS_REDACT_IGNORED_PREFIXES=false
    ```
  </Collapser>
</CollapserGroup>

## New Relic IAST [#go-IAST]

[O New Relic Interactive App Security Testing](https://docs.newrelic.com/docs/iast/introduction/) (IAST) testa seu aplicativo em busca de quaisquer vulnerabilidades exploráveis, reproduzindo a solicitação HTTP gerada com carga vulnerável. Você pode ativar o IAST do New Relic atualizando o código do seu aplicativo Go com configurações que são passadas para a função INIT. Você também pode fazer essas configurações através de um arquivo YAML ou com variáveis de ambiente.

As opções definidas usando funções INIT têm precedência sobre o ambiente ou a configuração YAML. Dito isso, recomendamos habilitar o IAST usando um arquivo YAML porque essas configurações serão passadas para outro agente em seu ambiente.

### Instruções de configuração

Importe a integração adicionando a seguinte dependência direta ao seu arquivo `go.mod` .

```go
import "github.com/newrelic/go-agent/v3/integrations/nrsecurityagent"
```

Em seguida, inicialize e habilite o agente de segurança.

### Habilitar IAST

<CollapserGroup>
  <Collapser
    id="iast-option"
    title="Habilitar com funções de opção"
  >
    ```go
    err: = nrsecurityagent.InitSecurityAgent(
        app,
        nrsecurityagent.ConfigSecurityMode("IAST"),
        nrsecurityagent.ConfigSecurityValidatorServiceEndPointUrl("wss://csec.nr-data.net"),
        nrsecurityagent.ConfigSecurityEnable(true),
    )
    ```

    ```

    ```
  </Collapser>

  <Collapser
    id="iast-enviro"
    title="Habilitar com variáveis de ambiente"
  >
    ConfigSecurityFromEnvironment direciona a integração do nrsecurityagent para obter todas as suas informações de configuração a partir de variáveis de ambiente.

    ```go
    err: = nrsecurityagent.InitSecurityAgent(
         app,
         ConfigSecurityFromEnvironment(),
     )
    ```
  </Collapser>

  <Collapser
    id="iast-yaml"
    title="Habilitar no arquivo YAML"
  >
    ConfigSecurityFromYaml direciona a integração do nrsecurityagent para ler um arquivo externo formatado em YAML para obter seus valores de configuração. O caminho para este arquivo deve ser fornecido definindo a variável de ambiente NEW_RELIC_SECURITY_CONFIG_PATH.

    ```go
    err: = nrsecurityagent.InitSecurityAgent(
         app,
         ConfigSecurityFromYaml(),
     )
    ```

    O arquivo YAML padrão se parece com isto.

    ```yaml
    enabled: true

    # NR security provides two modes IAST and RASP
    # Default is IAST
    mode: IAST

    # New Relic’s SaaS connection URLs
    validator_service_url: wss://csec.nr-data.net

    # Following category of security events
    # can be disabled from generating.
    detection:
      rxss:
        enabled: true
    request:
      body_limit: 300
    ```
  </Collapser>
</CollapserGroup>

### Configurar o IAST

O agente de segurança pode ser configurado com as opções a seguir.

<CollapserGroup>
  <Collapser
    id="cfg-security-agent-enabled"
    title="cfg.Security.Agent.Enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Função de configuração
          </th>

          <td>
            ```go
            func(cfg *SecurityConfig) {
                cfg.Security.Agent.Enabled = true
            }
            ```
          </td>
        </tr>

        <tr>
          <th>
            Variável de ambiente
          </th>

          <td>
            NEW_RELIC_SECURITY_AGENT_ENABLED
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>
      </tbody>
    </table>

    Para desabilitar completamente todas as funcionalidades de segurança, defina este sinalizador como falso. Ao importar e inicializar o agente de segurança em go, presume-se que você pretende usá-lo, portanto, esse valor é padronizado como `true`. Observe que este é o comportamento oposto do agente instrumentado automaticamente. Esta propriedade é lida apenas uma vez no início do aplicativo.
  </Collapser>

  <Collapser
    id="cfg-security-enabled"
    title="cfg.Security.Enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Função de configuração
          </th>

          <td>
            `nrsecurityagent.ConfigSecurityEnable(false)`
          </td>
        </tr>

        <tr>
          <th>
            Variável de ambiente
          </th>

          <td>
            NEW_RELIC_SECURITY_ENABLED
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>
      </tbody>
    </table>

    Determina se os dados de segurança são enviados para o New Relic ou não. Quando estiver desabilitado e agente.enabled for verdadeiro, o módulo de segurança será executado, mas os dados não serão enviados. O padrão é falso.
  </Collapser>

  <Collapser
    id="cfg-security-mode"
    title="cfg.Security.Mode"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Função de configuração
          </th>

          <td>
            `nrsecurityagent.ConfigSecurityMode("IAST")`
          </td>
        </tr>

        <tr>
          <th>
            Variável de ambiente
          </th>

          <td>
            NEW_RELIC_SECURITY_MODE
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `IAST`
          </td>
        </tr>
      </tbody>
    </table>

    Modo de fornecimento do New Relic Security: IAST. O padrão é IAST. Devido à natureza invasiva da varredura IAST, NÃO ative esse modo em um ambiente de produção ou em um ambiente onde os dados de produção são processados.
  </Collapser>

  <Collapser
    id="cfg-security-validator-service-url"
    title="cfg.Security.Validator_service_url"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Função de configuração
          </th>

          <td>
            `nrsecurityagent.ConfigSecurityValidatorServiceEndPointUrl("wss://csec.nr-data.net")`
          </td>
        </tr>

        <tr>
          <th>
            Variável de ambiente
          </th>

          <td>
            NEW_RELIC_SECURITY_VALIDATOR_SERVICE_URL
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `wss://csec.nr-data.net`
          </td>
        </tr>
      </tbody>
    </table>

    URL de conexão SaaS da New Relic Security. Este é o endpoint para o qual o agente de segurança envia dados; ele deve corresponder ao ambiente que você configurou para o agente Java do APM.

    Produção nos EUA: wss://csec.nr-data.net
  </Collapser>

  <Collapser
    id="cfg-security-detection-rxss-enabled"
    title="cfg.Security.Detection.Rxss.Enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Função de configuração
          </th>

          <td>
            `nrsecurityagent.ConfigSecurityDetectionDisableRxss(true)`
          </td>
        </tr>

        <tr>
          <th>
            Variável de ambiente
          </th>

          <td>
            NEW_RELIC_SECURITY_DETECTION_RXSS_ENABLED
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>
      </tbody>
    </table>

    Habilite a detecção de eventos de segurança RXSS. O padrão é verdadeiro.
  </Collapser>

  <Collapser
    id="cfg-security-request-body-limit"
    title="cfg.Security.Request.BodyLimit"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Interno
          </td>
        </tr>

        <tr>
          <th>
            Função de configuração
          </th>

          <td>
            `nrsecurityagent.ConfigSecurityRequestBodyLimit(300)`
          </td>
        </tr>

        <tr>
          <th>
            Variável de ambiente
          </th>

          <td>
            NEW_RELIC_SECURITY_REQUEST_BODY_LIMIT
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            300
          </td>
        </tr>
      </tbody>
    </table>

    Limite do corpo da solicitação de segurança define um limite de leitura da quantidade de memória que pode ser consumida ao ler um corpo de solicitação em KB. Por padrão, é "300".
  </Collapser>

  ### Partes sensíveis de segurança do instrumento do seu aplicativo

  A integração `nrgin`, `nrgrpc`, `nrmicro`, `fasthttp` ou `nrmongo` agora contém código para dar suporte à análise de segurança dos dados que eles manipulam.

  Além disso, o agente Go realizará varredura de vulnerabilidades em código instrumentado contendo segmentos de armazenamento de dados, operações SQL, transação e chamadas HTTP encapsuladas e endpoint.
</CollapserGroup>
