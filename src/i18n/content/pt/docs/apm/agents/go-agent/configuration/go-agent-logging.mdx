---
title: Registro do agente Go
tags:
  - Agents
  - Go agent
  - Configuration
metaDescription: You can set up several logging levels for your New Relic Go agent; this is useful for troubleshooting your New Relic Golang integration.
freshnessValidatedDate: never
translationType: machine
---

O registro [do New Relic for Go](/docs/agents/go-agent/get-started/new-relic-go) usa o [pacote de log Go](https://golang.org/pkg/log/) padrão e um pacote `Logger` do New Relic. O registro é útil para [resolução de problemas](/docs/agents/go-agent/troubleshooting/no-data-appears-go) na integração do New Relic; por exemplo, com problemas de [instalação](/docs/agents/go-agent/get-started/install-new-relic-go) ou [configuração](/docs/agents/go-agent/instrumentation/go-agent-configuration) .

## Gravar arquivo de log [#write-logfiles]

Para usar os métodos do agente Go para gravar arquivos de log e auditoria, consulte [log.go no repositório GitHub do agente](https://github.com/newrelic/go-agent/blob/20541a9393ae651949eb75b82666d4a7c2a10dec/v3/newrelic/log.go).

## Integrações do Logrus [#logrus]

A New Relic oferece duas integrações do Logrus para diferentes casos de uso:

### Logging do agente (para mensagens de depuração do agente Go) [#agent-logging]

Use esta integração para enviar as mensagens de log internas do agente Go para o Logrus. Isso é útil para a solução de problemas do próprio agente.

**Integração:** [`nrlogrus`](https://github.com/newrelic/go-agent/tree/master/v3/integrations/nrlogrus)

Aqui está um exemplo de uso da integração do New Relic Logrus para o logging do agente:

1. Importe os pacotes necessários:

   ```go
   import (
       "os"

       "github.com/newrelic/go-agent/v3/integrations/nrlogrus"
       "github.com/newrelic/go-agent/v3/newrelic"
       "github.com/sirupsen/logrus"
   )
   ```

2. Configure o agente Go para usar o Logrus para o logging do agente:

   ```go
   app, err := newrelic.NewApplication(
       newrelic.ConfigAppName("Your Application Name"),
       newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
       func(config *newrelic.Config) {
           logrus.SetLevel(logrus.DebugLevel)
           config.Logger = nrlogrus.StandardLogger()
       },
   )
   ```

### Logs de aplicação (logs no contexto) [#application-logging]

Use esta integração para enviar as mensagens de log do Logrus da sua aplicação para o New Relic com correlação automática de traces. Isso habilita [logs no contexto](/docs/logs/logs-context/configure-logs-context-go/), permitindo que você veja mensagens de log relacionadas aos seus erros e traces diretamente na interface do usuário do seu aplicativo.

**Integração:** [`logcontext-v2/nrlogrus`](https://github.com/newrelic/go-agent/tree/master/v3/integrations/logcontext-v2/nrlogrus)

Aqui está um exemplo de uso da integração New Relic Logrus para o logging de aplicativos:

1. Importe os pacotes necessários:

   ```go
   import (
       "context"
       "os"

       "github.com/newrelic/go-agent/v3/integrations/logcontext-v2/nrlogrus"
       "github.com/newrelic/go-agent/v3/newrelic"
       "github.com/sirupsen/logrus"
   )
   ```

2. Configure o Logrus para usar o formatador do New Relic:

   ```go
   app, err := newrelic.NewApplication(
       newrelic.ConfigAppName("Your Application Name"),
       newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
       newrelic.ConfigAppLogForwardingEnabled(true),
   )

   logger := logrus.New()
   logger.SetFormatter(nrlogrus.NewFormatter(app, &logrus.TextFormatter{}))
   ```

3. Use o logger em sua aplicação com contexto de transação:

   ```go
   txn := app.StartTransaction("myTransaction")
   defer txn.End()

   ctx := newrelic.NewContext(context.Background(), txn)
   logger.WithContext(ctx).Info("This log will be correlated with the transaction")
   ```

Para mais exemplos, consulte os [exemplos do logcontext-v2/nrlogrus](https://github.com/newrelic/go-agent/tree/master/v3/integrations/logcontext-v2/nrlogrus/example).

## Outras integrações de logging suportadas [#other-integrations]

Além do Logrus, a New Relic oferece integrações para várias outras bibliotecas de logging populares em Go:

### Integrações de logging do Agente [#other-agent-logging]

Essas integrações enviam as mensagens de depuração internas do agente Go para o seu framework de logging:

* **[nrzap](https://github.com/newrelic/go-agent/tree/master/v3/integrations/nrzap)** - Integração com o logger Zap da Uber
* **[nrslog](https://github.com/newrelic/go-agent/tree/master/v3/integrations/nrslog)** - Integração com o pacote `log/slog` da biblioteca padrão do Go
* **[nrzerolog](https://github.com/newrelic/go-agent/tree/master/v3/integrations/nrzerolog)** - Integração com Zerolog
* **[nrlogxi](https://github.com/newrelic/go-agent/tree/master/v3/integrations/nrlogxi)** - Integração com Logxi

### Integrações de logs no contexto [#other-logs-context]

Estas integrações habilitam logs no contexto para os logs da sua aplicação:

* **[logcontext-v2/zerologWriter](https://github.com/newrelic/go-agent/tree/master/v3/integrations/logcontext-v2/zerologWriter)** - Envie mensagens de log do Zerolog para o New Relic com correlação de rastreamento
* **[logcontext-v2/logWriter](https://github.com/newrelic/go-agent/tree/master/v3/integrations/logcontext-v2/logWriter)** - Envie mensagens do pacote `log` da biblioteca padrão para o New Relic com correlação de rastreamento

Cada integração segue um padrão semelhante aos exemplos do Logrus acima. Consulte os respectivos repositórios do GitHub para instruções detalhadas de uso e exemplos.

## Visualize o log do seu APM e dados de infraestrutura [#logs-context]

Com [logs no contexto](/docs/logs/logs-context/configure-logs-context-go/), você pode ver mensagens de log relacionadas aos seus erros e traces diretamente na interface do seu aplicativo. Você também pode visualizar logs no contexto de seus [dados de infraestrutura](/docs/logs/forward-logs/forward-your-logs-using-infrastructure-agent/), como clusters Kubernetes. Não é necessário alternar para outra página da interface do usuário.

Para habilitar logs no contexto, use uma das [integrações de logs no contexto](#other-logs-context) listadas acima. Para o Logrus especificamente, consulte a integração [`logcontext-v2/nrlogrus`](#application-logging).