---
title: newrelic_set_user_attributes (API do agente PHP)
type: apiDoc
shortDescription: Crie um atributo personalizado relacionado ao usuário. newrelic_add_custom_parameter é mais flexível.
tags:
  - Agents
  - PHP agent
  - PHP agent API
metaDescription: New Relic PHP agent API call to attach user-related custom attributes to APM and browser events.
freshnessValidatedDate: never
translationType: machine
---

## Sintaxe

```php
newrelic_set_user_attributes(string $user_value, string $account_value, string $product_value)
```

Crie um atributo personalizado relacionado ao usuário. newrelic_add_custom_parameter é mais flexível.

## Requisitos

Versão do agente [3.1.5.111](/docs/release-notes/agent-release-notes/php-release-notes/php-agent-315111) ou superior.

## Descrição

<Callout variant="tip">
  Esta chamada permite apenas atribuir valores a chaves pré-existentes. Para um método mais flexível para criar pares de valores principais, use [`newrelic_add_custom_parameter`](/docs/agents/php-agent/php-agent-api/newrelic_add_custom_parameter).
</Callout>

A partir da versão 4.4, chamando:

```php
newrelic_set_user_attributes("a", "b", "c");
// is equivalent to calling these three methods:

newrelic_add_custom_parameter("user", "a");  
newrelic_add_custom_parameter("account", "b"); 
newrelic_add_custom_parameter("product", "c");
```

Todos os três parâmetros são obrigatórios, mas podem ser strings vazias.

## Parâmetro

<table>
  <thead>
    <tr>
      <th width="25%">
        Parâmetro
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `$user_value`

        _corda_
      </td>

      <td>
        Obrigatório (pode ser uma string vazia). Especifique um nome ou nome de usuário para associar a esta visualização de página. Este valor é atribuído à chave `user` .
      </td>
    </tr>

    <tr>
      <td>
        `$account_value`

        _corda_
      </td>

      <td>
        Obrigatório (pode ser uma string vazia). Especifique o nome de uma conta de usuário para associar a esta visualização de página. Este valor é atribuído à chave `account` .
      </td>
    </tr>

    <tr>
      <td>
        `$product_value`

        _corda_
      </td>

      <td>
        Obrigatório (pode ser uma string vazia). Especifique o nome de um produto a ser associado a esta visualização de página. Este valor é atribuído à chave `product` .
      </td>
    </tr>
  </tbody>
</table>

## Valores de retorno

Esta função retornará `true` se o atributo foi adicionado com sucesso.

## Exemplos

### Registre três atributos de usuários [#record-three]

```php
function example() {
    if (extension_loaded('newrelic')) { // Ensure PHP agent is available
        newrelic_set_user_attributes("MyUserName", "MyAccountName", "MyProductName");
    }
}
```

### Registre dois atributos de usuário e um atributo vazio [#record-two]

```php
function example() {
    if (extension_loaded('newrelic')) { // Ensure PHP agent is available
        newrelic_set_user_attributes("MyUserName", "", "MyProductName");
    }
}
```
