---
title: newrelic_insert_distributed_trace_headers
type: apiDoc
shortDescription: Insere cabeçalhos W3C Trace Context e cabeçalhos distributed tracing New Relic em uma matriz de cabeçalhos de saída.
tags:
  - Agents
  - PHP agent
  - PHP agent API
freshnessValidatedDate: never
translationType: machine
---

## Sintaxe

```php
newrelic_insert_distributed_trace_headers (array $headers)
```

Insere cabeçalhos W3C Trace Context e cabeçalhos distributed tracing New Relic em uma matriz de cabeçalhos de saída.

## Requisitos

Requer agente PHP [versão 9.8 ou superior](/docs/release-notes/agent-release-notes/php-release-notes).

## Descrição

Use `newrelic_insert_distributed_trace_headers` para adicionar manualmente cabeçalhos distributed tracing a uma matriz de cabeçalhos de saída.

Quando distributed tracing estiver ativado, `newrelic_insert_distributed_trace_headers` sempre inserirá cabeçalhos W3C Trace Context . Ele também insere, por padrão, o cabeçalho distributed tracing do New Relic, mas isso pode ser desativado por meio da configuração INI `newrelic.distributed_tracing_exclude_newrelic_header`.

## Parâmetro

<table>
  <thead>
    <tr>
      <th width="25%">
        Parâmetro
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `$headers`

        _matriz_
      </td>

      <td>
        Obrigatório. Uma matriz (opcionalmente vazia) de cabeçalhos de saída. Este argumento é passado por referência e, portanto, deve ser uma variável em oposição a um literal.
      </td>
    </tr>
  </tbody>
</table>

## Valores de retorno

`true` se algum cabeçalho foi inserido com sucesso na matriz fornecida, caso contrário, retornará `false`

## Exemplos

Para obter exemplos de como e quando usar este método API, consulte a documentação para usar [manualmente o instrumento aplicativo e serviços](/docs/agents/php-agent/features/distributed-tracing-php#manual).
