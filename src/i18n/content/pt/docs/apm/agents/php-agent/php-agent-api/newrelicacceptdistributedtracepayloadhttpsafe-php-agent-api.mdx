---
title: newrelic_accept_distributed_trace_payload_httpsafe (API do agente PHP)
type: apiDoc
shortDescription: Aceita uma carga útil distributed trace que inclui uma string JSON HTTPSafe (codificada em Base64).
tags:
  - Agents
  - PHP agent
  - PHP agent API
metaDescription: Distributed tracing allows you to see the path a request takes as it travels through a distributed system. Use this API to accept an HTTPSafe/Base64 payload.
freshnessValidatedDate: never
translationType: machine
---

## Sintaxe

```php
newrelic_accept_distributed_trace_payload_httpsafe(string $httpsafe_payload, string $transport_type)
```

Aceita uma carga útil distributed trace que inclui uma string JSON HTTPSafe (codificada em Base64).

## Requisitos

Requer agente PHP [versão 8.4 ou superior](/docs/release-notes/agent-release-notes/php-release-notes).

## Descrição

[distributed tracing](/docs/agents/php-agent/features/distributed-tracing-php) permite que você veja o caminho que uma solicitação percorre ao percorrer sistemas distribuídos. Isto é útil, por exemplo, quando transações individuais ocorrem em vários serviços e você deseja examiná-las como um rastreamento completo da transação.

<Callout variant="important">
  Com o agente PHP [versão 9.10 ou](/docs/release-notes/agent-release-notes/php-release-notes) superior, as seguintes funções JSON agora são consideradas obsoletas e serão removidas em uma versão futura:

  ```php
  newrelic_create_distributed_trace_payload()
  newrelic_accept_distributed_trace_payload($payload)
  newrelic_accept_distributed_trace_payload_httpsafe($payload)
  ```

  Em vez disso, use a API compatível com o suporte ao W3C Trace Context, adicionada na versão 9.8 do agente. Com isso, a API do aplicativo instrumentado manualmente mudou das funções relacionadas ao payload JSON para os seguintes formatos de matriz de cabeçalho:

  ```php
  newrelic_insert_distributed_trace_headers($outbound_headers)
  newrelic_accept_distributed_trace_headers($inbound_headers)
  ```
</Callout>

## Parâmetro

<table>
  <thead>
    <tr>
      <th width="25%">
        Parâmetro
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `$httpsafe_payload`

        _corda_
      </td>

      <td>
        Obrigatório. Uma representação de string JSON HTTPSafe (codificada em Base64) da carga útil.
      </td>
    </tr>

    <tr>
      <td>
        `$transport_type`

        _corda_
      </td>

      <td>
        Opcional. Uma string que substitui o tipo de transporte padrão.

        Valores padrão:

        * `HTTP` para tráfego da web

        * `Unknown` para tráfego fora da web

          Valores adicionais aceitos:

        * `AMQP`

        * `HTTP`

        * `HTTPS`

        * `IronMQ`

        * `JMS`

        * `Kafka`

        * `Other`

        * `Queue`
      </td>
    </tr>
  </tbody>
</table>

## Valores de retorno

Retorna `true` para indicar sucesso ou `false` se ocorrer um erro.

## Exemplos

Para obter exemplos de como e quando usar este método API, consulte a documentação para usar [manualmente o instrumento aplicativo e serviços](/docs/agents/php-agent/features/distributed-tracing-php#manual).
