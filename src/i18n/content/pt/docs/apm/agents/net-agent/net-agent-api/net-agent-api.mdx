---
title: API do agente .NET
tags:
  - Agents
  - NET agent
  - API guides
metaDescription: A descriptive list of API calls that you can make using the New Relic .NET agent.
freshnessValidatedDate: never
translationType: machine
---

O agente .NET da New Relic inclui uma API que permite estender a funcionalidade padrão do agente. Por exemplo, você pode usar a API do agente .NET para:

* Personalize o nome do seu aplicativo
* Criar parâmetro de transação personalizado
* Relatar erros personalizados e métricas

Você também pode personalizar alguns dos comportamentos padrão do agente .NET ajustando [as definições de configuração](/docs/agents/net-agent/configuration/net-agent-configuration) ou usando [instrumentação personalizada](/docs/agents/net-agent/custom-instrumentation/introduction-net-custom-instrumentation).

## Requisitos

Para usar a API do agente .NET, certifique-se de ter a [versão mais recente do agente .NET](/docs/release-notes/agent-release-notes/net-release-notes). Em seguida, adicione uma referência ao agente no seu projeto usando uma das duas opções abaixo:

* Adicione uma referência a `NewRelic.Api.Agent.dll` ao seu projeto.

  OU

* Visualize e baixe o pacote de API da [biblioteca de pacotes NuGet](https://www.nuget.org/packages/NewRelic.Agent.Api/).

## Lista de chamadas de API

A lista a seguir contém as diferentes chamadas que você pode fazer com a API, incluindo sintaxe, requisitos, funcionalidade e exemplos:

<CollapserGroup>
  <Collapser
    id="DisableBrowserMonitoring"
    title="DisableBrowserMonitoring"
  >
    ### Sintaxe

    ```cs
    NewRelic.Api.Agent.NewRelic.DisableBrowserMonitoring([boolean $override])
    ```

    Desabilitar injeção automática de monitoramento de trecho do Browser em páginas específicas.

    ### Requisitos

    * Compatível com todas as versões do agente.
    * Deve ser chamado dentro de uma [transação](/docs/glossary/glossary/#transaction).

    ### Descrição

    Adicione esta chamada para desativar a injeção **automática** do script [<InlinePopover type="browser"/>](/docs/browser/new-relic-browser/getting-started/new-relic-browser)em páginas específicas. Você também pode adicionar uma substituição opcional para desativar **a** injeção manual e automática. Em ambos os casos, coloque esta chamada de API o mais próximo possível do topo da visualização na qual você deseja desabilitar o navegador.

    <Callout variant="tip">
      Compare [`GetBrowserTimingHeader()`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#GetBrowserTimingHeader), que **adiciona** o script do navegador à página.
    </Callout>

    ### Parâmetro

    <table>
      <thead>
        <tr>
          <th width="25%">
            Parâmetro
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `$override`

            _boleano_
          </td>

          <td>
            Opcional. Quando `true`, desativa toda injeção de script do navegador. Este sinalizador afeta a injeção manual e automática. Isso também substitui a chamada [`GetBrowserTimingHeader()`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#GetBrowserTimingHeader) .
          </td>
        </tr>
      </tbody>
    </table>

    ### Exemplos

    #### Desativar injeção automática

    Este exemplo desabilita apenas a injeção **automática** do trecho:

    ```cs
    NewRelic.Api.Agent.NewRelic.DisableBrowserMonitoring();
    ```

    #### Desativar injeção automática e manual

    Este exemplo desativa **a** injeção automática e manual do trecho:

    ```cs
    NewRelic.Api.Agent.NewRelic.DisableBrowserMonitoring(true);
    ```
  </Collapser>

  <Collapser
    id="GetAgent"
    title="Obter Agente"
  >
    ### Sintaxe

    ```cs
    NewRelic.Api.Agent.NewRelic.GetAgent()
    ```

    Obtenha acesso ao agente por meio da interface `IAgent` .

    ### Requisitos

    * Versão do agente 8.9 ou superior.
    * Compatível com todos os tipos de aplicativos.

    ### Descrição

    Obtenha acesso aos métodos da API do agente por meio da interface [`IAgent`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#IAgent) .

    ### Valores de retorno

    Uma implementação do [IAgent](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#IAgent) que fornece acesso à API do IAgent.

    ### Exemplos

    ```cs
    IAgent agent = NewRelic.Api.Agent.NewRelic.GetAgent();
    ```
  </Collapser>

  <Collapser
    id="GetBrowserTimingHeader"
    title="GetBrowserTimingHeader"
  >
    ### Sintaxe

    ```cs
    NewRelic.Api.Agent.NewRelic.GetBrowserTimingHeader();
    NewRelic.Api.Agent.NewRelic.GetBrowserTimingHeader(string nonce);
    ```

    Gerar um monitoramento de HTML do browser para browsers de usuários finais.

    ### Requisitos

    * Compatível com todas as versões do agente.
    * Deve ser chamado dentro de uma [transação](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#transaction).

    ### Descrição

    Retorna um trecho HTML usado para ativar <InlinePopover type="browser"/>. O trecho instrui o navegador a buscar um pequeno arquivo JavaScript e iniciar o cronômetro da página. Você pode então inserir o trecho retornado no cabeçalho de suas páginas HTML. Para obter mais informações, consulte [Adicionando aplicativos ao monitoramento do navegador](/docs/browser/new-relic-browser/installation-configuration/adding-apps-new-relic-browser).

    <Callout variant="tip">
      Compare [`DisableBrowserMonitoring()`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#DisableBrowserMonitoring), que **desativa** o script do navegador em uma página.
    </Callout>

    ### Parâmetro

    <table>
      <thead>
        <tr>
          <th width="25%">
            Parâmetro
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `nonce`

            _corda_
          </td>

          <td>
            O nonce criptográfico por solicitação usado pelas políticas da Política de Segurança de Conteúdo.
          </td>
        </tr>
      </tbody>
    </table>

    <Callout variant="tip">
      Esta chamada de API requer atualizações na lista de permissões de segurança. Para obter mais informações sobre as considerações da Política de Segurança de Conteúdo (CSP), visite a página [de monitoramento de compatibilidade e requisitos do navegador](/docs/browser/new-relic-browser/getting-started/compatibility-requirements-browser-monitoring) .
    </Callout>

    ### Valores de retorno

    Uma string HTML a ser incorporada em um cabeçalho de página.

    ### Exemplos

    <CollapserGroup>
      <Collapser
        id="with-aspx"
        title="Com ASPX"
      >
        ```aspnet
        <html>
        <head>
            <%= NewRelic.Api.Agent.NewRelic.GetBrowserTimingHeader()%>
            ...
        </head>
        <body>
        ...
        ```

        ```aspnet
        <html>
        <head>
            <%= NewRelic.Api.Agent.NewRelic.GetBrowserTimingHeader("YOUR_NONCE_VALUE")%>
            ...
        </head>
        <body>
        ...
        ```
      </Collapser>

      <Collapser
        id="with-razor"
        title="Com navalha"
      >
        ```cshtml
        <!DOCTYPE html>
        <html lang="en">
        <head>
            @Html.Raw(NewRelic.Api.Agent.NewRelic.GetBrowserTimingHeader())
            ...
        </head>
        <body>
        ...
        ```

        ```cshtml
        <!DOCTYPE html>
        <html lang="en">
        <head>
            @Html.Raw(NewRelic.Api.Agent.NewRelic.GetBrowserTimingHeader("YOUR_NONCE_VALUE"))
            ...
        </head>
        <body>
        ...
        ```
      </Collapser>

      <Collapser
        id="with-blazor"
        title="Com Blazor"
      >
        <Callout variant="important">
          Esta API não é compatível com Blazor Webassembly, porque o agente não consegue instrumentar o código do Webassembly. Os exemplos a seguir são apenas para o aplicativo Blazor Server. Use o [método copiar e colar](/docs/browser/browser-monitoring/installation/install-browser-monitoring-agent/#copy-paste) para adicionar o agente browser às páginas do Blazor Webassembly.
        </Callout>

        <Callout variant="important">
          Esta API não pode ser colocada em um elemento `<HeadContent>` de uma página `.razor` . Em vez disso, ele deve ser chamado de `_Layout.cshtml` ou de um arquivo de layout equivalente.

          ```cshtml
          <!DOCTYPE html>
          <html lang="en">
          <head>
              @Html.Raw(NewRelic.Api.Agent.NewRelic.GetBrowserTimingHeader())
              ...
          </head>
          <body>
          ...
          ```

          ```cshtml
          <!DOCTYPE html>
          <html lang="en">
          <head>
              @Html.Raw(NewRelic.Api.Agent.NewRelic.GetBrowserTimingHeader("YOUR_NONCE_VALUE"))
              ...
          </head>
          <body>
          ...
          ```
        </Callout>
      </Collapser>
    </CollapserGroup>
  </Collapser>

  <Collapser
    id="GetLinkingMetadata"
    title="GetLinkingMetadata"
  >
    ### Sintaxe

    ```cs
    NewRelic.Api.Agent.NewRelic.GetLinkingMetadata();
    ```

    Retorna pares de valores principais que podem ser usados para vincular rastreamento ou entidade.

    ### Requisitos

    * Versão do agente 8.19 ou superior.
    * Compatível com todos os tipos de aplicativos.

    ### Descrição

    O dicionário de pares de valores principais retornados inclui itens usados para vincular rastreamento e entidade no produto APM . Ele conterá apenas itens com valores significativos. Por exemplo, se distributed tracing estiver desabilitado, `trace.id` não será incluído.

    ### Valores de retorno

    `Dictionary <string, string>()` retornado inclui itens usados para vincular rastreamento e entidade no produto APM.

    ### Exemplos

    ```cs
    NewRelic.Api.Agent.IAgent Agent = NewRelic.Api.Agent.NewRelic.GetAgent();
    var linkingMetadata = Agent.GetLinkingMetadata();
    foreach (KeyValuePair<string, string> kvp in linkingMetadata)
    {
        Console.WriteLine("Key = {0}, Value = {1}", kvp.Key, kvp.Value);
    }
    ```
  </Collapser>

  <Collapser
    id="IAgent"
    title="Agente IA"
  >
    ### Sintaxe

    ```cs
    public interface IAgent
    ```

    Fornece acesso a artefatos e métodos do agente, como a transação em execução no momento.

    ### Requisitos

    * Versão do agente 8.9 ou superior.
    * Compatível com todos os tipos de aplicativos.

    ### Descrição

    Fornece acesso a artefatos e métodos do agente, como a transação em execução no momento. Para obter uma referência a `IAgent`, use [`GetAgent`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#GetAgent).

    ### Propriedades

    <table>
      <thead>
        <tr>
          <th width="25%">
            Nome
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Transação Atual
          </td>

          <td>
            Propriedade que fornece acesso à transação atualmente em execução por meio da interface [ITransaction](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#ITransaction) . Deve ser chamado dentro de uma [transação](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#transaction).
          </td>
        </tr>

        <tr>
          <td>
            Período Atual
          </td>

          <td>
            Propriedade que fornece acesso ao intervalo atualmente em execução por meio da interface [ISpan](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#ISpan) .
          </td>
        </tr>
      </tbody>
    </table>

    ### Exemplos

    ```cs
    IAgent agent = NewRelic.Api.Agent.NewRelic.GetAgent();
    ITransaction transaction = agent.CurrentTransaction;
    ```
  </Collapser>

  <Collapser
    id="ITransaction"
    title="ITransação"
  >
    ### Sintaxe

    ```cs
    public interface ITransaction
    ```

    Fornece acesso a métodos específicos de transação na API New Relic.

    ### Descrição

    Fornece acesso a métodos específicos de transação na API do agente .NET da New Relic. Para obter uma referência a `ITransaction`, use o método de transação atual disponível em [`IAgent`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#IAgent).

    Os seguintes métodos estão disponíveis em `ITransaction`:

    <table>
      <thead>
        <tr>
          <th>
            Nome
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            [`AcceptDistributedTraceHeaders`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#AcceptDistributedTraceHeaders)
          </td>

          <td>
            Aceita cabeçalhos de contexto do trace recebidos de outro serviço.
          </td>
        </tr>

        <tr>
          <td>
            [`InsertDistributedTraceHeaders`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#InsertDistributedTraceHeaders)
          </td>

          <td>
            Adiciona cabeçalhos de contexto do trace a uma solicitação de saída.
          </td>
        </tr>

        <tr>
          <td>
            [`AcceptDistributedTracePayload` (obsoleto)](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#AcceptDistributedTraceHeaders)
          </td>

          <td>
            Aceita uma carga útil distributed trace de entrada de outro serviço.
          </td>
        </tr>

        <tr>
          <td>
            [`CreateDistributedTracePayload` (obsoleto)](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#CreateDistributedTracePayload)
          </td>

          <td>
            Cria uma carga de distributed trace para inclusão em uma solicitação de saída.
          </td>
        </tr>

        <tr>
          <td>
            [`AddCustomAttribute`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#AddCustomAttribute)
          </td>

          <td>
            Adicione informações contextuais da sua aplicação à transação atual em forma de atributo.
          </td>
        </tr>

        <tr>
          <td>
            [`CurrentSpan`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#CurrentSpan)
          </td>

          <td>
            Fornece acesso ao [span](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#ISpan) em execução atualmente, que fornece acesso a métodos específicos de span na API New Relic.
          </td>
        </tr>

        <tr>
          <td>
            [`SetUserId`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#SetUserId)
          </td>

          <td>
            Associa um ID de usuário à transação atual.
          </td>
        </tr>
      </tbody>
    </table>

    <CollapserGroup>
      <Collapser
        id="AcceptDistributedTraceHeaders"
        title="AcceptDistributedTraceHeaders"
      >
        ### Sintaxe

        ```cs
        void AcceptDistributedTraceHeaders(carrier, getter, transportType)
        ```

        Instrumentar o chamado serviço para inclusão em um distributed trace.

        ### Descrição

        `ITransaction.AcceptDistributedTraceHeaders` é usado para vincular os períodos em um trace , aceitando uma carga gerada por ou gerada por algum [`InsertDistributedTraceHeaders`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#InsertDistributedTraceHeaders) outro W3C Trace Context compatível com tracer. Este método aceita os cabeçalhos de uma solicitação recebida, procura W3C Trace Context cabeçalhos e, se não for encontrado, recorre aos New Relic distributed trace cabeçalhos . Este método substitui o método obsoleto, que lida apenas [`AcceptDistributedTracePayload`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#AcceptDistributedTracePayload) com New Relic distributed trace carga .

        ### Parâmetro

        <table>
          <thead>
            <tr>
              <th>
                Nome
              </th>

              <th>
                Descrição
              </th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
                `carrier`

                _&lt;T>_
              </td>

              <td>
                Obrigatório. Fonte do contexto de entrada dos cabeçalhos de rastreamento.
              </td>
            </tr>

            <tr>
              <td>
                `getter`

                _Func&lt;T, string, IEnumerable&lt;string>>_
              </td>

              <td>
                Obrigatório. Função definida pelo chamador para extrair dados de cabeçalho da operadora.
              </td>
            </tr>

            <tr>
              <td>
                `transportType`

                _Enumeração TransportType_
              </td>

              <td>
                Obrigatório. Descreve o transporte da carga de entrada (por exemplo `TransportType.HTTP`).
              </td>
            </tr>
          </tbody>
        </table>

        ### Considerações de uso

        * [Distributed tracing deve estar ativado](/docs/agents/net-agent/configuration/net-agent-configuration#distributed_tracing).
        * `AcceptDistributedTraceHeaders` será ignorado se `InsertDistributedTraceHeaders` ou `AcceptDistributedTraceHeaders` já tiver sido chamado para esta transação.

        ### Exemplo

        ```cs
        HttpContext httpContext = HttpContext.Current;
        IAgent agent = NewRelic.Api.Agent.NewRelic.GetAgent();
        ITransaction currentTransaction = agent.CurrentTransaction;
        currentTransaction.AcceptDistributedTraceHeaders(httpContext, Getter, TransportType.HTTP);
        IEnumerable<string> Getter(HttpContext carrier, string key) 
        { 
            string value = carrier.Request.Headers[key];   
            return value == null ? null : new string[] { value }; 
        }
        ```
      </Collapser>

      <Collapser
        id="InsertDistributedTraceHeaders"
        title="InsertDistributedTraceHeaders"
      >
        ### Sintaxe

        ```cs
        void InsertDistributedTraceHeaders(carrier, setter)
        ```

        Implementar distributed tracing.

        ### Descrição

        `ITransaction.InsertDistributedTraceHeaders` modifica o objeto transportador que é transmitido adicionando W3C Trace Context cabeçalhos e New Relic distributed trace cabeçalhos . Os cabeçalhos New Relic podem ser desativados com `<distributedTracing excludeNewrelicHeader="true" />` na configuração. Este método substitui o método obsoleto, que cria [`CreateDistributedTracePayload`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#CreateDistributedTracePayload) apenas New Relic distributed trace carga .

        ### Parâmetro

        <table>
          <thead>
            <tr>
              <th>
                Nome
              </th>

              <th>
                Descrição
              </th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
                `carrier`

                _&lt;T>_
              </td>

              <td>
                Obrigatório. contêiner onde são inseridos os cabeçalhos do contexto do trace .
              </td>
            </tr>

            <tr>
              <td>
                `setter`

                _Action&lt;T, string, string>_
              </td>

              <td>
                Obrigatório. Ação definida pelo chamador para inserir dados de cabeçalho na operadora.
              </td>
            </tr>
          </tbody>
        </table>

        ### Considerações de uso

        * [Distributed tracing deve estar ativado](/docs/agents/net-agent/configuration/net-agent-configuration#distributed_tracing).

        ### Exemplo

        ```cs
        HttpWebRequest requestMessage = (HttpWebRequest)WebRequest.Create("https://remote-address");
        IAgent agent = NewRelic.Api.Agent.NewRelic.GetAgent();
        ITransaction currentTransaction = agent.CurrentTransaction;
        var setter = new Action<HttpWebRequest, string, string>((carrier, key, value) => { carrier.Headers?.Set(key, value); });
        currentTransaction.InsertDistributedTraceHeaders(requestMessage, setter);
        ```
      </Collapser>

      <Collapser
        id="AcceptDistributedTracePayload"
        title="AcceptDistributedTracePayload (obsoleto)"
      >
        <Callout variant="caution">
          Esta API não está disponível no agente .NET v9.0 ou superior. Use [`AcceptDistributedTraceHeaders`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#AcceptDistributedTraceHeaders) em vez disso.
        </Callout>

        ### Sintaxe

        ```cs
        void AcceptDistributedPayload(payload, transportType)
        ```

        Aceita uma carga útil distributed trace de entrada de um serviço upstream. Chamar esse método vincula a transação do serviço upstream a essa transação.

        ### Parâmetro

        <table>
          <thead>
            <tr>
              <th>
                Nome
              </th>

              <th>
                Descrição
              </th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
                `payload`

                _corda_
              </td>

              <td>
                Obrigatório. Uma representação de cadeia de caracteres da carga útil distributed trace de entrada.
              </td>
            </tr>

            <tr>
              <td>
                `transportType`

                _Tipo de transporte_  
                        _enumeração_
              </td>

              <td>
                Recomendado. Descreve o transporte da carga de entrada (por exemplo, `http`).

                Padrão `TransportType.Unknown`.
              </td>
            </tr>
          </tbody>
        </table>

        ### Considerações de uso

        * [Distributed tracing deve estar ativado](/docs/agents/net-agent/configuration/net-agent-configuration#distributed_tracing).
        * A carga útil pode ser uma string de texto simples ou codificada em Base64.
        * `AcceptDistributedTracePayload` será ignorado se `CreateDistributedTracePayload` já tiver sido chamado para esta transação.

        ### Exemplo

        ```cs
        //Obtain the information from the request object from the upstream caller.
        //The method by which this information is obtain is specific to the transport 
        //type being used. For example, in an HttpRequest, this information is
        //contained in the 
        header.KeyValuePair<string, string> metadata = GetMetaDataFromRequest("requestPayload");
        IAgent agent = NewRelic.Api.Agent.NewRelic.GetAgent(); 
        ITransaction transaction = agent.CurrentTransaction; 
        transaction.AcceptDistributedTracePayload(metadata.Value, TransportType.Queue);
        ```
      </Collapser>

      <Collapser
        id="CreateDistributedTracePayload"
        title="CreateDistributedTracePayload (obsoleto)"
      >
        <Callout variant="caution">
          Esta API não está disponível no agente .NET v9.0 ou superior. Use [`InsertDistributedTraceHeaders`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#InsertDistributedTraceHeaders) em vez disso.
        </Callout>

        ### Sintaxe

        ```cs
        IDistributedTracePayload CreateDistributedTracePayload()
        ```

        Cria uma carga distributed trace para inclusão em uma solicitação de saída para um sistema downstream.

        ### Devoluções

        Um objeto que implementa `IDistributedTracePayload` que fornece acesso à carga distributed trace que foi criada.

        ### Considerações de uso

        * [Distributed tracing deve estar ativado](/docs/agents/net-agent/configuration/net-agent-configuration#distributed_tracing).
        * `CreateDistributedTracePayload` será ignorado se `AcceptDistributedTracePayload` já tiver sido chamado para esta transação.

        ### Exemplo

        ```cs
        IAgent agent = NewRelic.Api.Agent.NewRelic.GetAgent();
        ITransaction transaction = agent.CurrentTransaction;
        IDistributedTracePayload payload = transaction.CreateDistributedTracePayload();
        ```
      </Collapser>

      <Collapser
        id="AddCustomAttribute"
        title="AdicionarAtributoCustom"
      >
        ### Sintaxe

        ```cs
        ITransaction AddCustomAttribute(string key, object value)
        ```

        Adiciona informações contextuais sobre sua aplicação à transação atual na forma de [atributo](/docs/using-new-relic/welcome-new-relic/get-started/glossary#attribute).

        Este método requer a versão do agente .NET e a API do agente .NET [versão 8.24.244.0](/docs/release-notes/agent-release-notes/net-release-notes/net-agent-8242440) ou superior. Ele substituiu o obsoleto `AddCustomParameter`.

        ### Parâmetro

        <table>
          <thead>
            <tr>
              <th>
                Parâmetro
              </th>

              <th>
                Descrição
              </th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
                `key`

                _corda_
              </td>

              <td>
                Identifica as informações que estão sendo relatadas. Também conhecido como nome.

                * Chaves vazias não são suportadas.
                * As chaves são limitadas a 255 bytes. atributo com chaves maiores que 255 bytes será ignorado.
              </td>
            </tr>

            <tr>
              <td>
                `value`

                _objeto_
              </td>

              <td>
                O valor que está sendo informado.

                **Nota**: `null` valores não serão registrados.
              </td>
            </tr>
          </tbody>
        </table>

        <table>
          <thead>
            <tr>
              <th>
                Tipo .NET
              </th>

              <th>
                Como o valor será representado
              </th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
                `byte`, `Int16`, `Int32`, `Int64`

                `sbyte`, `UInt16`, `UInt32`, `UInt64`
              </td>

              <td>
                Como valor integral.
              </td>
            </tr>

            <tr>
              <td>
                `float`, `double`, `decimal`
              </td>

              <td>
                Um número baseado em decimal.
              </td>
            </tr>

            <tr>
              <td>
                `string`
              </td>

              <td>
                Uma string truncada após 255 bytes.

                Strings vazias são suportadas.
              </td>
            </tr>

            <tr>
              <td>
                `bool`
              </td>

              <td>
                Verdadeiro ou falso.
              </td>
            </tr>

            <tr>
              <td>
                `DateTime`
              </td>

              <td>
                Uma representação de string seguindo o formato ISO-8601, incluindo informações de fuso horário:

                Exemplo: `2020-02-13T11:31:19.5767650-08:00`
              </td>
            </tr>

            <tr>
              <td>
                `TimeSpan`
              </td>

              <td>
                Um número decimal que representa o número de segundos.
              </td>
            </tr>

            <tr>
              <td>
                todo o resto
              </td>

              <td>
                O método `ToString()` será aplicado. Os tipos personalizados devem ter uma implementação de `Object.ToString()` ou gerarão uma exceção.
              </td>
            </tr>
          </tbody>
        </table>

        ### Devoluções

        Uma referência à transação atual.

        ### Considerações de uso

        Para obter detalhes sobre os tipos de dados suportados, consulte [atributo personalizado](/docs/agents/net-agent/attributes/custom-attributes).

        ### Exemplo

        ```cs
        IAgent agent = NewRelic.Api.Agent.NewRelic.GetAgent();
        ITransaction transaction = agent.CurrentTransaction;
        transaction.AddCustomAttribute("customerName","Bob Smith")
            .AddCustomAttribute("currentAge",31)
            .AddCustomAttribute("birthday", new DateTime(2000, 02, 14))
            .AddCustomAttribute("waitTime", TimeSpan.FromMilliseconds(93842));
        ```
      </Collapser>

      <Collapser
        id="CurrentSpan"
        title="Período Atual"
      >
        Fornece acesso ao [span](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#ISpan) em execução atualmente, disponibilizando métodos específicos do span na API New Relic.

        ### Exemplo

        ```cs
        IAgent agent = NewRelic.Api.Agent.NewRelic.GetAgent(); 
        ITransaction transaction = agent.CurrentTransaction; 
        ISpan currentSpan = transaction.CurrentSpan;
        ```
      </Collapser>

      <Collapser
        id="SetUserId"
        title="DefinirUserId"
      >
        ### Sintaxe

        ```cs
        ITransaction SetUserId(string userId)
        ```

        Associa um ID de usuário à transação atual.

        Este método requer o agente .NET e a API do agente .NET [versão 10.9.0](/docs/release-notes/agent-release-notes/net-release-notes/net-agent-1090) ou superior.

        ### Parâmetro

        <table>
          <thead>
            <tr>
              <th>
                Parâmetro
              </th>

              <th>
                Descrição
              </th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
                `userId`

                _corda_
              </td>

              <td>
                O ID do usuário a ser associado a esta transação.

                * `null`, os valores vazios e de espaço em branco serão ignorados.
              </td>
            </tr>
          </tbody>
        </table>

        ### Exemplo

        ```cs
        IAgent agent = NewRelic.Api.Agent.NewRelic.GetAgent(); 
        ITransaction transaction = agent.CurrentTransaction; 
        transaction.SetUserId("BobSmith123");
        ```
      </Collapser>
    </CollapserGroup>
  </Collapser>

  <Collapser
    id="ISpan"
    title="ISpan"
  >
    ### Sintaxe

    ```cs
    Public interface ISpan
    ```

    Fornece acesso a métodos específicos de span na API New Relic.

    ### Descrição

    Fornece acesso a métodos específicos de span na API do agente .NET da New Relic. Para obter uma referência a `ISpan`, use:

    * A propriedade `CurrentSpan` em [`IAgent`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#IAgent) (recomendado).
    * A propriedade `CurrentSpan` em [`ITransaction`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#ITransaction).

    Esta seção contém descrições e parâmetros dos métodos `ISpan` :

    <table>
      <thead>
        <tr>
          <th>
            Nome
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            [`AddCustomAttribute`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#AddCustomAttribute)
          </td>

          <td>
            Adicione informações contextuais da sua aplicação ao período atual em forma de atributo.
          </td>
        </tr>

        <tr>
          <td>
            [`SetName`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#setname)
          </td>

          <td>
            Altera o nome do intervalo/segmento/métrica atual que será relatado ao New Relic.
          </td>
        </tr>
      </tbody>
    </table>

    <CollapserGroup>
      <Collapser
        id="AddCustomAttribute"
        title="AdicionarAtributoCustom"
      >
        Adiciona informações contextuais sobre sua aplicação ao intervalo atual na forma de [atributo](/docs/using-new-relic/welcome-new-relic/get-started/glossary#attribute).

        Este método requer a versão do agente .NET e a API do agente .NET [versão 8.25](/docs/release-notes/agent-release-notes/net-release-notes/net-agent-8242440) ou superior.

        ### Sintaxe

        ```cs
        ISpan AddCustomAttribute(string key, object value)
        ```

        ### Parâmetro

        <table>
          <thead>
            <tr>
              <th>
                Parâmetro
              </th>

              <th>
                Descrição
              </th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
                `key`

                _corda_
              </td>

              <td>
                Identifica as informações que estão sendo relatadas. Também conhecido como nome.

                * Chaves vazias não são suportadas.
                * As chaves são limitadas a 255 bytes. atributo com chaves maiores que 255 bytes será ignorado.
              </td>
            </tr>

            <tr>
              <td>
                `value`

                _objeto_
              </td>

              <td>
                O valor que está sendo informado.

                **Nota**: `null` valores não serão registrados.

                <table>
                  <thead>
                    <tr>
                      <th>
                        Tipo .NET
                      </th>

                      <th>
                        Como o valor será representado
                      </th>
                    </tr>
                  </thead>

                  <tbody>
                    <tr>
                      <td>
                        `byte`, `Int16`, `Int32`, `Int64`

                        `sbyte`, `UInt16`, `UInt32`, `UInt64`
                      </td>

                      <td>
                        Como valor integral.
                      </td>
                    </tr>

                    <tr>
                      <td>
                        `float`, `double`, `decimal`
                      </td>

                      <td>
                        Um número baseado em decimal.
                      </td>
                    </tr>

                    <tr>
                      <td>
                        `string`
                      </td>

                      <td>
                        Uma string truncada após 255 bytes.

                        Strings vazias são suportadas.
                      </td>
                    </tr>

                    <tr>
                      <td>
                        `bool`
                      </td>

                      <td>
                        Verdadeiro ou falso.
                      </td>
                    </tr>

                    <tr>
                      <td>
                        `DateTime`
                      </td>

                      <td>
                        Uma representação de string seguindo o formato ISO-8601, incluindo informações de fuso horário:

                        Exemplo: `2020-02-13T11:31:19.5767650-08:00`
                      </td>
                    </tr>

                    <tr>
                      <td>
                        `TimeSpan`
                      </td>

                      <td>
                        Um número decimal que representa o número de segundos.
                      </td>
                    </tr>

                    <tr>
                      <td>
                        todo o resto
                      </td>

                      <td>
                        O método `ToString()` será aplicado. Os tipos personalizados devem ter uma implementação de `Object.ToString()` ou gerarão uma exceção.
                      </td>
                    </tr>
                  </tbody>
                </table>
              </td>
            </tr>
          </tbody>
        </table>

        ### Devoluções

        Uma referência ao intervalo atual.

        ### Considerações de uso

        Para obter detalhes sobre os tipos de dados suportados, consulte o [guia de atributo personalizado](/docs/agents/net-agent/attributes/custom-attributes).

        ### Exemplos

        ```cs
        IAgent agent = NewRelic.Api.Agent.NewRelic.GetAgent(); 
        ISpan currentSpan = agent.CurrentSpan; 

        currentSpan
            .AddCustomAttribute("customerName","Bob Smith")
            .AddCustomAttribute("currentAge",31)
            .AddCustomAttribute("birthday", new DateTime(2000, 02, 14))
            .AddCustomAttribute("waitTime", TimeSpan.FromMilliseconds(93842));
        ```
      </Collapser>

      <Collapser
        id="setname"
        title="Nome do conjunto"
      >
        Altera o nome do segmento/span atual que será reportado ao New Relic. Para segmentos/extensões resultantes de instrumentação personalizada, o nome da métrica relatado à New Relic também será alterado.

        Este método requer a versão do agente .NET e a API do agente .NET versão 10.1.0 ou mais alto.

        ### Sintaxe

        ```cs
        ISpan SetName(string name)
        ```

        ### Parâmetro

        <table>
          <thead>
            <tr>
              <th>
                Parâmetro
              </th>

              <th>
                Descrição
              </th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
                `name`

                _corda_
              </td>

              <td>
                O novo nome do intervalo/segmento.
              </td>
            </tr>
          </tbody>
        </table>

        ### Devoluções

        Uma referência ao intervalo atual.

        ### Exemplos

        ```cs
        [Trace]
        public void MyTracedMethod()
        {
            IAgent agent = NewRelic.Api.Agent.NewRelic.GetAgent(); 
            ISpan currentSpan = agent.CurrentSpan; 

            currentSpan.SetName("MyCustomName");
        }
        ```
      </Collapser>
    </CollapserGroup>
  </Collapser>

  <Collapser
    id="IgnoreApdex"
    title="IgnoreApdex"
  >
    ### Sintaxe

    ```cs
    NewRelic.Api.Agent.NewRelic.IgnoreApdex()
    ```

    Ignore a transação atual ao calcular o Apdex.

    ### Requisitos

    Compatível com todas as versões do agente.

    ### Descrição

    Ignora a transação atual ao calcular sua [pontuação Apdex](/docs/apm/new-relic-apm/apdex/apdex-measuring-user-satisfaction). Isso é útil quando você tem transações muito curtas ou muito longas (como downloads de arquivos) que podem distorcer sua pontuação Apdex.

    ### Exemplos

    ```cs
    NewRelic.Api.Agent.NewRelic.IgnoreApdex();
    ```
  </Collapser>

  <Collapser
    id="IgnoreTransaction"
    title="IgnoreTransaction"
  >
    ### Sintaxe

    ```cs
    NewRelic.Api.Agent.NewRelic.IgnoreTransaction()
    ```

    Não instrumento a transação atual.

    ### Requisitos

    * Compatível com todas as versões do agente.
    * Deve ser chamado dentro de uma [transação](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#transaction).

    ### Descrição

    Ignora a transação atual.

    <Callout variant="tip">
      Você também pode ignorar a transação [através de um arquivo XML de instrumentação personalizado](/docs/agents/net-agent/custom-instrumentation/add-detail-transactions-xml-net#blocking-instrumentation).
    </Callout>

    ### Exemplos

    ```cs
    NewRelic.Api.Agent.NewRelic.IgnoreTransaction();
    ```
  </Collapser>

  <Collapser
    id="IncrementCounter"
    title="IncrementCounter"
  >
    ### Sintaxe

    ```cs
    NewRelic.Api.Agent.NewRelic.IncrementCounter(string $metric_name)
    ```

    Aumente o contador de uma métrica personalizada em 1.

    ### Requisitos

    * Compatível com todas as versões do agente.
    * Compatível com todos os tipos de aplicativos.

    ### Descrição

    Aumente o contador de uma [métrica personalizada](/docs/agents/manage-apm-agents/agent-metrics/custom-metrics) em 1. Para visualizar essas métricas personalizadas, utilize o [criador de consulta](/docs/query-your-data/explore-query-data/query-builder/use-advanced-nrql-mode-specify-data) para pesquisar métricas e criar gráficos customizáveis. Consulte também [`RecordMetric()`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#RecordMetric) e [`RecordResponseTimeMetric()`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#RecordResponseTimeMetric).

    <Callout variant="important">
      Ao criar uma métrica personalizada, comece o nome com `Custom/` (por exemplo, `Custom/MyMetric`). Para mais informações sobre nomenclatura, veja [Coletar métrica personalizada](/docs/apm/agents/manage-apm-agents/agent-data/collect-custom-metrics/).
    </Callout>

    ### Parâmetro

    <table>
      <thead>
        <tr>
          <th width="25%">
            Parâmetro
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `$metric_name`

            _corda_
          </td>

          <td>
            Obrigatório. O nome da métrica a ser incrementada.
          </td>
        </tr>
      </tbody>
    </table>

    ### Exemplos

    ```cs
    NewRelic.Api.Agent.NewRelic.IncrementCounter("Custom/ExampleMetric");
    ```
  </Collapser>

  <Collapser
    id="NoticeError"
    title="NoticeError"
  >
    ### Sobrecargas [#overloads]

    Observe um erro e reporte à New Relic, juntamente com um atributo personalizado opcional.

    ```cs
    NewRelic.Api.Agent.NewRelic.NoticeError(Exception $exception);
    NewRelic.Api.Agent.NewRelic.NoticeError(Exception $exception, IDictionary<TKey, TValue> $attributes);
    NewRelic.Api.Agent.NewRelic.NoticeError(string $error_message, IDictionary<TKey, TValue> $attributes);
    NewRelic.Api.Agent.NewRelic.NoticeError(string $error_message, IDictionary<TKey, TValue> $attributes, bool $is_expected);
    ```

    ### Requisitos

    Esta chamada de API é compatível com:

    * Todas as versões do agente
    * Todos os tipos de aplicativos

    ### Descrição

    Observe um erro e relate-o à New Relic junto com um atributo personalizado opcional. Para cada transação, o agente retém apenas a exceção e o atributo da primeira chamada para `NoticeError()`. Você pode passar uma exceção real ou uma string para capturar uma mensagem de erro arbitrária.

    Se este método for invocado em uma [transação](/docs/glossary/glossary/#transaction), o agente reportará a exceção na transação pai. Se for invocado fora de uma transação, o agente cria um [tracede erro](/docs/errors-inbox/apm-tab//#trace-details) e categoriza o erro na interface do New Relic como uma `NewRelic.Api.Agent.NoticeError` chamada de API. Se invocada fora de uma transação, a chamada `NoticeError()` não contribuirá para a taxa de erros de um aplicativo.

    O agente adiciona o atributo apenas ao erro de rastreamento; ele não os envia para New Relic. Para obter mais informações, consulte [`AddCustomAttribute()`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#AddCustomAttribute).

    Os erros relatados com esta API ainda são enviados para a New Relic quando são relatados em uma transação que resulta em um código de status HTTP, como `404`, configurado para ser ignorado pela configuração do agente. Para obter mais informações, consulte nossa documentação sobre [gerenciamento de erros no APM](/docs/apm/agents/manage-apm-agents/agent-data/manage-errors-apm-collect-ignore-or-mark-expected).

    Revise as seções abaixo para ver exemplos de como usar esta chamada.

    <CollapserGroup>
      <Collapser
        id="exception-overload"
        title="NoticeError (Exceção)"
      >
        ```cs
        NewRelic.Api.Agent.NewRelic.NoticeError(Exception $exception)
        ```

        <table>
          <thead>
            <tr>
              <th width="25%">
                Parâmetro
              </th>

              <th>
                Descrição
              </th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
                `$exception`

                _Exceção_
              </td>

              <td>
                Obrigatório. O `Exception` que você deseja instrumento. Somente os primeiros 10.000 caracteres do stack trace são retidos.
              </td>
            </tr>
          </tbody>
        </table>
      </Collapser>

      <Collapser
        id="exception-idictionary-overload"
        title="NoticeError(Exception, IDictionary)"
      >
        ```cs
        NewRelic.Api.Agent.NewRelic.NoticeError(Exception $exception, IDictionary<TKey, TValue> $attributes)
        ```

        <table>
          <thead>
            <tr>
              <th width="25%">
                Parâmetro
              </th>

              <th>
                Descrição
              </th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
                `$exception`

                _Exceção_
              </td>

              <td>
                Obrigatório. O `Exception` que você deseja instrumento. Somente os primeiros 10.000 caracteres do stack trace são retidos.
              </td>
            </tr>

            <tr>
              <td>
                `$attributes`

                _IDictionary&lt;TKey, TValue>_
              </td>

              <td>
                Especifique pares de valor principal de atributo para anotar a mensagem de erro. O `TKey` deve ser uma string, o `TValue` pode ser uma string ou um objeto.
              </td>
            </tr>
          </tbody>
        </table>
      </Collapser>

      <Collapser
        id="NoticeError(String, IDictionary)"
        title="string-idictionary-overload"
      >
        ```cs
        NewRelic.Api.Agent.NewRelic.NoticeError(string $error_message, IDictionary<TKey, TValue> $attributes)
        ```

        <table>
          <thead>
            <tr>
              <th width="25%">
                Parâmetro
              </th>

              <th>
                Descrição
              </th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
                `$error_message`

                _corda_
              </td>

              <td>
                Obrigatório. Especifique uma string para reportar ao New Relic como se fosse uma exceção. Este método cria [evento de erro e rastreamento de erro](/docs/errors-inbox/apm-tab/#events). Somente os primeiros 1.023 caracteres são retidos no evento de erro, enquanto o rastreamento de erro retém a mensagem completa.
              </td>
            </tr>

            <tr>
              <td>
                `$attributes`

                _IDictionary&lt;TKey, TValue>_
              </td>

              <td>
                Obrigatório (pode ser nulo). Especifique pares de valor principal de atributo para anotar a mensagem de erro. O `TKey` deve ser uma string, o `TValue` pode ser uma string ou objeto, para não enviar atributo passe `null`.
              </td>
            </tr>
          </tbody>
        </table>
      </Collapser>

      <Collapser
        id="string-idictionary-bool-overload"
        title="NoticeError(String, IDictionary, bool)"
      >
        ```cs
        NewRelic.Api.Agent.NewRelic.NoticeError(string $error_message, IDictionary<TKey, TValue> $attributes, bool $is_expected)
        ```

        <table>
          <thead>
            <tr>
              <th width="25%">
                Parâmetro
              </th>

              <th>
                Descrição
              </th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
                `$error_message`

                _corda_
              </td>

              <td>
                Obrigatório. Especifique uma string para reportar ao New Relic como se fosse uma exceção. Este método cria [evento de erro e rastreamento de erro](/docs/tutorial-error-tracking/respond-outages/). Somente os primeiros 1.023 caracteres são retidos no evento de erro, enquanto o rastreamento de erro retém a mensagem completa.
              </td>
            </tr>

            <tr>
              <td>
                `$attributes`

                _IDictionary&lt;TKey, TValue>_
              </td>

              <td>
                Obrigatório (pode ser nulo). Especifique pares de valor principal de atributo para anotar a mensagem de erro. O `TKey` deve ser uma string, o `TValue` pode ser uma string ou objeto, para não enviar nenhum atributo passe `null`.
              </td>
            </tr>

            <tr>
              <td>
                `$is_expected`

                _bool_
              </td>

              <td>
                Marque o erro como esperado para que não afete a pontuação do Apdex e a taxa de erros.
              </td>
            </tr>
          </tbody>
        </table>
      </Collapser>
    </CollapserGroup>

    ### Exemplos

    #### Passe uma exceção sem atributo personalizado

    ```cs
    try
    {
        string ImNotABool = "43";
        bool.Parse(ImNotABool);
    }
    catch (Exception ex)
    {
        NewRelic.Api.Agent.NewRelic.NoticeError(ex);
    }
    ```

    #### Passe uma exceção com atributo personalizado

    ```cs
    try
    {
        string ImNotABool = "43";
        bool.Parse(ImNotABool);
    }
    catch (Exception ex)
    {
        var errorAttributes = new Dictionary<string, string>() {{"foo", "bar"},{"baz", "luhr"}};
        NewRelic.Api.Agent.NewRelic.NoticeError(ex, errorAttributes);
    }
    ```

    #### Passar uma string de mensagem de erro com atributo personalizado

    ```cs
    try
    {
        string ImNotABool = "43";
        bool.Parse(ImNotABool);
    }
    catch (Exception ex)
    {
        var errorAttributes = new Dictionary<string, string>{{"foo", "bar"},{"baz", "luhr"}};
        NewRelic.Api.Agent.NewRelic.NoticeError("String error message", errorAttributes);
    }
    ```

    #### Passar uma string de mensagem de erro sem atributo personalizado

    ```cs
    try
    {
        string ImNotABool = "43";
        bool.Parse(ImNotABool);
    }
    catch (Exception ex)
    {
        NewRelic.Api.Agent.NewRelic.NoticeError("String error message", null);
    }
    ```

    #### Passe uma string de mensagem de erro e marque-a como esperado

    ```cs
    try
    {
        string ImNotABool = "43";
        bool.Parse(ImNotABool);
    }
    catch (Exception ex)
    {
        NewRelic.Api.Agent.NewRelic.NoticeError("String error message", null, true);
    }
    ```
  </Collapser>

  <Collapser
    id="RecordCustomEvent"
    title="RecordCustomEvent"
  >
    ### Sintaxe

    ```cs
    NewRelic.Api.Agent.NewRelic.RecordCustomEvent(string eventType, IEnumerable<string, object> attributeValues)
    ```

    Registra um evento personalizado com o nome e atributo fornecidos.

    ### Requisitos

    * Compatível com todas as versões do agente.
    * Compatível com todos os tipos de aplicativos.

    ### Descrição

    Registra um [evento personalizado](/docs/data-analysis/metrics/analyze-your-metrics/data-collection-metric-timeslice-event-data#event-data) com o nome e atributo fornecido, que você pode consultar no [criador de consulta](/docs/query-your-data/explore-query-data/query-builder/introduction-query-builder). Para verificar se um evento está sendo registrado corretamente, procure os dados no [dashboard](/docs/query-your-data/explore-query-data/dashboards/introduction-new-relic-one-dashboards).

    <Callout variant="important">
      * O envio de muitos eventos pode aumentar a sobrecarga de memória do agente.
      * Além disso, postagens com tamanho superior a 1MB (10^6 bytes) não serão gravadas independente do número máximo de eventos.
      * evento personalizado estão limitados a 64 atributo.
      * Para mais informações sobre como são processados os valores de atributo personalizado, consulte o guia [atributo personalizado](/docs/agents/net-agent/attributes/custom-attributes) .
    </Callout>

    ### Parâmetro

    <table>
      <thead>
        <tr>
          <th width="25%">
            Parâmetro
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `eventType`

            _corda_
          </td>

          <td>
            Obrigatório. O nome do tipo de evento a ser registrado. Strings com mais de 255 caracteres farão com que a chamada de API não seja enviada para o New Relic. O nome só pode conter caracteres alfanuméricos, sublinhados `_` e dois pontos `:`. Para restrições adicionais sobre nomes de tipos de eventos, consulte [Palavras reservadas](/docs/data-apis/custom-data/custom-events/data-requirements-limits-custom-event-data/#reserved-words).
          </td>
        </tr>

        <tr>
          <td>
            `attributeValues`

            _IEnumerable&lt;string, object>_
          </td>

          <td>
            Obrigatório. Especifique pares de valores principais de atributo para anotar o evento.
          </td>
        </tr>
      </tbody>
    </table>

    ### Exemplos

    #### Valores de registro [#record-strings]

    ```cs
    var eventAttributes = new Dictionary<string, object>() 
    {
        {"foo", "bar"},
        {"alice", "bob"}, 
        {"age", 32}, 
        {"height", 21.3f}
    };

    NewRelic.Api.Agent.NewRelic.RecordCustomEvent("MyCustomEvent", eventAttributes);
    ```
  </Collapser>

  <Collapser
    id="RecordMetric"
    title="RecordMetric"
  >
    ### Sintaxe

    ```cs
    NewRelic.Api.Agent.NewRelic.RecordMetric(string $metric_name, single $metric_value)
    ```

    Registra uma métrica personalizada com o nome fornecido.

    ### Requisitos

    * Compatível com todas as versões do agente.
    * Compatível com todos os tipos de aplicativos.

    ### Descrição

    Registra uma [métrica personalizada](/docs/agents/manage-apm-agents/agent-metrics/custom-metrics) com o nome fornecido. Para visualizar essas métricas personalizadas, utilize o [criador de consulta](/docs/query-your-data/explore-query-data/query-builder/use-advanced-nrql-mode-specify-data) para pesquisar métricas e criar gráficos customizáveis. Consulte também [`IncrementCounter()`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#IncrementCounter) e [`RecordResponseTimeMetric()`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#RecordResponseTimeMetric).

    <Callout variant="important">
      Ao criar uma métrica personalizada, comece o nome com `Custom/` (por exemplo, `Custom/MyMetric`).
    </Callout>

    ### Parâmetro

    <table>
      <thead>
        <tr>
          <th width="25%">
            Parâmetro
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `$metric_name`

            _corda_
          </td>

          <td>
            Obrigatório. O nome da métrica a ser registrada. Apenas os primeiros 255 caracteres são mantidos.
          </td>
        </tr>

        <tr>
          <td>
            `$metric_value`

            _solteiro_
          </td>

          <td>
            Obrigatório. A quantidade a ser registrada para a métrica.
          </td>
        </tr>
      </tbody>
    </table>

    ### Exemplos

    #### Registrar o tempo de resposta de um processo adormecido [#record-stopwatch]

    ```cs
    Stopwatch stopWatch = Stopwatch.StartNew();
    System.Threading.Thread.Sleep(5000);
    stopWatch.Stop();
    NewRelic.Api.Agent.NewRelic.RecordMetric("Custom/DEMO_Record_Metric", stopWatch.ElapsedMilliseconds);
    ```
  </Collapser>

  <Collapser
    id="RecordResponseTimeMetric"
    title="RecordResponseTimeMetric"
  >
    ### Sintaxe

    ```cs
    NewRelic.Api.Agent.NewRelic.RecordResponseTimeMetric(string $metric_name, Int64 $metric_value)
    ```

    Registra uma métrica personalizada com o nome fornecido e o tempo de resposta em milissegundos.

    ### Requisitos

    * Compatível com todas as versões do agente.
    * Compatível com todos os tipos de aplicativos.

    ### Descrição

    Registra o tempo de resposta em milissegundos para uma [métrica personalizada](/docs/agents/manage-apm-agents/agent-metrics/custom-metrics). Para visualizar essas métricas personalizadas, utilize o [criador de consulta](/docs/query-your-data/explore-query-data/query-builder/use-advanced-nrql-mode-specify-data) para pesquisar métricas e criar gráficos customizáveis. Consulte também [`IncrementCounter()`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#IncrementCounter) e [`RecordMetric()`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#RecordMetric).

    <Callout variant="important">
      Ao criar uma métrica personalizada, comece o nome com `Custom/` (por exemplo, `Custom/MyMetric`).
    </Callout>

    ### Parâmetro

    <table>
      <thead>
        <tr>
          <th width="25%">
            Parâmetro
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `$metric_name`

            _corda_
          </td>

          <td>
            Obrigatório. O nome da métrica de tempo de resposta a ser registrada. Apenas os primeiros 255 caracteres são mantidos.
          </td>
        </tr>

        <tr>
          <td>
            `$metric_value`

            _Int64_
          </td>

          <td>
            Obrigatório. O tempo de resposta para gravar em milissegundos.
          </td>
        </tr>
      </tbody>
    </table>

    ### Exemplos

    #### Registrar o tempo de resposta de um processo adormecido [#record-stopwatch]

    ```cs
    Stopwatch stopWatch = Stopwatch.StartNew();
    System.Threading.Thread.Sleep(5000);
    stopWatch.Stop();
    NewRelic.Api.Agent.NewRelic.RecordResponseTimeMetric("Custom/DEMO_Record_Response_Time_Metric", stopWatch.ElapsedMilliseconds);
    ```
  </Collapser>

  <Collapser
    id="SetApplicationName"
    title="SetApplicationName"
  >
    ### Sintaxe

    ```cs
    NewRelic.Api.Agent.NewRelic.SetApplicationName(string $name[, string $name_2, string $name_3])
    ```

    Defina o nome do aplicativo para agregar dados.

    ### Requisitos

    * Compatível com todas as versões do agente.
    * Compatível com todos os tipos de aplicativos.

    ### Descrição

    Defina os nomes dos aplicativos relatados à New Relic. Para obter mais informações sobre nomenclatura de aplicativos, consulte [Nomeie seu aplicativo .NET](/docs/agents/net-agent/installation-configuration/name-your-net-application). Este método deve ser chamado uma vez, durante a inicialização de um aplicativo.

    <Callout variant="important">
      A atualização do nome do aplicativo força a reinicialização do agente. O agente descarta quaisquer dados não relatados associados a nomes de aplicativos anteriores. Alterar o nome do aplicativo várias vezes durante o ciclo de vida de um aplicativo não é recomendado devido à perda de dados associada.
    </Callout>

    ### Parâmetro

    <table>
      <thead>
        <tr>
          <th width="25%">
            Parâmetro
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `$name`

            _corda_
          </td>

          <td>
            Obrigatório. O nome do aplicativo principal.
          </td>
        </tr>

        <tr>
          <td>
            `$name_2`

            `$name_3`

            _corda_
          </td>

          <td>
            Opcional. Segundo e terceiro nomes para app agregar. Para obter mais informações, consulte [Usar vários nomes para um aplicativo](/docs/agents/manage-apm-agents/app-naming/use-multiple-names-app).
          </td>
        </tr>
      </tbody>
    </table>

    ### Exemplos

    ```cs
    NewRelic.Api.Agent.NewRelic.SetApplicationName("AppName1", "AppName2");
    ```
  </Collapser>

  <Collapser
    id="SetErrorGroupCallback"
    title="SetErrorGroupCallback"
  >
    ### Sintaxe

    ```cs
    NewRelic.Api.Agent.NewRelic.SetErrorGroupCallback(Func<IReadOnlyDictionary<string,object>, string> errorGroupCallback);
    ```

    Forneça um método de retorno de chamada que receba um `IReadOnlyDictionary<string,object>` de dados de atributo e retorne um nome de grupo de erros.

    ### Requisitos

    Esta chamada de API é compatível com:

    * Versão do agente 10.9.0 ou superior.
    * Todos os tipos de aplicativos

    ### Descrição

    Configure um método de retorno de chamada que o agente usará para determinar o nome do grupo de erros para evento de erro e rastreio. Este nome é usado na Errors Inbox para agrupar erros em grupos lógicos.

    O método de retorno de chamada deve aceitar um único argumento do tipo `IReadOnlyDictionary<string,object>` e retornar uma string (o nome do grupo de erros). O `IReadOnlyDictionary` é uma coleção de [dados de atributo](/docs/apm/agents/manage-apm-agents/agent-data/agent-attributes/) associados a cada evento de erro, incluindo atributo personalizado.

    A lista exata de atributos disponíveis para cada erro irá variar dependendo de:

    * Qual código do aplicativo gerou o erro
    * Definições de configuração do agente
    * Se algum atributo personalizado foi adicionado

    Contudo, deverá sempre existir o seguinte atributo:

    * `error.class`
    * `error.message`
    * `stack_trace`
    * `transactionName`
    * `request.uri`
    * `error.expected`

    Uma cadeia de caracteres vazia pode ser retornada para o nome do grupo de erros quando o erro não pode ser atribuído a um grupo de erros lógicos.

    ### Parâmetro

    <table>
      <thead>
        <tr>
          <th width="25%">
            Parâmetro
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `$callback`

            _'Func&lt;IReadOnlyDictionary&lt;string,object>,string>'_
          </td>

          <td>
            O retorno de chamada para determinar o nome do grupo de erros com base nos dados do atributo.
          </td>
        </tr>
      </tbody>
    </table>

    ### Exemplos

    Agrupar erros por nome de classe de erro:

    ```cs
    Func<IReadOnlyDictionary<string, object>, string> errorGroupCallback = (attributes) => {
        string errorGroupName = string.Empty;
        if (attributes.TryGetValue("error.class", out var errorClass))
        {
            if (errorClass.ToString() == "System.ArgumentOutOfRangeException" || errorClass.ToString() == "System.ArgumentNullException")
            {
                errorGroupName = "ArgumentErrors";
            }
            else
            {
                errorGroupName = "OtherErrors";
            }
        }
        return errorGroupName;
    };

    NewRelic.Api.Agent.NewRelic.SetErrorGroupCallback(errorGroupCallback);
    ```

    Erros de grupo por nome de transação:

    ```cs
    Func<IReadOnlyDictionary<string, object>, string> errorGroupCallback = (attributes) => {
        string errorGroupName = string.Empty;
        if (attributes.TryGetValue("transactionName", out var transactionName))
        {
        if (transactionName.ToString().IndexOf("WebTransaction/MVC/Home") != -1)
        {
        errorGroupName = "HomeControllerErrors";
        }
            else
            {
                errorGroupName = "OtherControllerErrors";
            }
        }
        return errorGroupName;
    };

    NewRelic.Api.Agent.NewRelic.SetErrorGroupCallback(errorGroupCallback);
    ```
  </Collapser>

  <Collapser
    id="SetTransactionName"
    title="SetTransactionName"
  >
    ### Sintaxe

    ```cs
    NewRelic.Api.Agent.NewRelic.SetTransactionName(string $category, string $name)
    ```

    Define o nome da transação atual.

    ### Requisitos

    * Compatível com todas as versões do agente.
    * Deve ser chamado dentro de uma [transação](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#transaction).

    ### Descrição

    Define o nome da transação atual. Antes de usar esta chamada, certifique-se de compreender as implicações dos [problemas de agrupamento métrico](/docs/agents/manage-apm-agents/troubleshooting/metric-grouping-issues).

    Se você usar essa chamada diversas vezes na mesma transação, cada chamada substituirá a chamada anterior e a última chamada definirá o nome.

    <Callout variant="important">
      Não use colchetes `[suffix]` no final do nome da sua transação. O New Relic remove automaticamente os colchetes do nome. Em vez disso, use parênteses `(suffix)` ou outros símbolos, se necessário.
    </Callout>

    Valor exclusivo como URLs, títulos de páginas, valores hexadecimais, IDs de sessão e valores identificáveis exclusivamente não devem ser usados na nomenclatura de sua transação. Em vez disso, adicione esses dados à transação como um parâmetro personalizado com a chamada [`AddCustomAttribute()`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#AddCustomAttribute) .

    <Callout variant="important">
      Não crie mais de 1000 nomes de transação exclusivos (por exemplo, evite nomear por URL se possível). Isso tornará seus gráficos menos úteis e você poderá atingir os limites definidos pela New Relic quanto ao número de nomes de transação exclusivos por conta. Também pode diminuir o desempenho do seu aplicativo.
    </Callout>

    ### Parâmetro

    <table>
      <thead>
        <tr>
          <th width="25%">
            Parâmetro
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `$category`

            _corda_
          </td>

          <td>
            Obrigatório. A categoria desta transação, que você pode usar para distinguir diferentes tipos de transações. O padrão é <DNT>**`Custom`**</DNT>. Apenas os primeiros 255 caracteres são mantidos.
          </td>
        </tr>

        <tr>
          <td>
            `$name`

            _corda_
          </td>

          <td>
            Obrigatório. O nome da transação. Apenas os primeiros 255 caracteres são mantidos.
          </td>
        </tr>
      </tbody>
    </table>

    ### Exemplos

    ```cs
    NewRelic.Api.Agent.NewRelic.SetTransactionName("Other", "MyTransaction");
    ```
  </Collapser>

  <Collapser
    id="SetTransactionUri"
    title="SetTransactionUri"
  >
    ### Sintaxe

    ```cs
    NewRelic.Api.Agent.NewRelic.SetTransactionUri(Uri $uri)
    ```

    Define o URI da transação atual.

    ### Requisitos

    * Deve ser chamado dentro de uma [transação](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#transaction).
    * Versão do agente 6.16 ou superior.

    <Callout variant="important">
      Este método só funciona quando usado em uma transação criada usando o atributo `Transaction` com a propriedade `Web` definida como `true`. (Ver [instrumentação personalizada via atributo](/docs/agents/net-agent/api-guides/net-agent-api-instrument-using-attributes).) Ele fornece suporte para estrutura personalizada baseada na Web que o agente não suporta automaticamente.
    </Callout>

    ### Descrição

    Define o URI da transação atual. O URI aparece no atributo `request.uri` do [trace da transação](/docs/apm/transactions/transaction-traces/transaction-traces) e [do evento de transação](/docs/using-new-relic/metrics/analyze-your-metrics/data-collection-metric-timeslice-event-data) e também pode afetar a nomenclatura da transação.

    Se você usar essa chamada diversas vezes na mesma transação, cada chamada substituirá a chamada anterior. A última chamada define o URI.

    **Observação**: a partir da versão 8.18 do agente, o valor do atributo `request.uri` é definido como o valor da propriedade `Uri.AbsolutePath` do objeto `System.Uri` passado para a API.

    ### Parâmetro

    <table>
      <thead>
        <tr>
          <th width="25%">
            Parâmetro
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `$uri`

            _Uri_
          </td>

          <td>
            O URI desta transação.
          </td>
        </tr>
      </tbody>
    </table>

    ### Exemplos

    ```cs
    var uri = new System.Uri("https://www.mydomain.com/path");
    NewRelic.Api.Agent.NewRelic.SetTransactionUri(uri);
    ```
  </Collapser>

  <Collapser
    id="SetUserParameters"
    title="SetUserParameters"
  >
    ### Sintaxe

    ```cs
    NewRelic.Api.Agent.NewRelic.SetUserParameters(string $user_value, string $account_value, string $product_value)
    ```

    Crie um atributo personalizado relacionado ao usuário. [`AddCustomAttribute`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#AddCustomAttribute) é mais flexível.

    ### Requisitos

    * Compatível com todas as versões do agente.
    * Deve ser chamado dentro de uma [transação](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#transaction).

    ### Descrição

    <Callout variant="tip">
      Esta chamada permite apenas atribuir valores a chaves pré-existentes. Para um método mais flexível para criar pares de valores principais, use [`AddCustomAttribute()`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#AddCustomAttribute).
    </Callout>

    Definir [atributo personalizado](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#AddCustomAttribute)relacionado ao usuário para associar à visualização da página do navegador (nome do usuário, nome da conta e nome do produto). Os valores são automaticamente associados a chaves pré-existentes (`user`, `account` e `product`) e, em seguida, anexados à transação APM pai. Você também pode [anexar (ou "encaminhar") esses atributos](/docs/insights/new-relic-insights/decorating-events/insights-custom-attributes#forwarding-attributes) ao evento [PageView](/docs/agents/manage-apm-agents/agent-metrics/agent-attributes#destinations) do navegador.

    ### Parâmetro

    <table>
      <thead>
        <tr>
          <th width="25%">
            Parâmetro
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `$user_value`

            _corda_
          </td>

          <td>
            Obrigatório (pode ser nulo). Especifique um nome ou nome de usuário para associar a esta visualização de página. Este valor é atribuído à chave `user` .
          </td>
        </tr>

        <tr>
          <td>
            `$account_value`

            _corda_
          </td>

          <td>
            Obrigatório (pode ser nulo). Especifique o nome de uma conta de usuário a ser associada a esta visualização de página. Este valor é atribuído à chave `account` .
          </td>
        </tr>

        <tr>
          <td>
            `$product_value`

            _corda_
          </td>

          <td>
            Obrigatório (pode ser nulo). Especifique o nome de um produto a ser associado a esta visualização de página. Este valor é atribuído à chave `product` .
          </td>
        </tr>
      </tbody>
    </table>

    ### Exemplos

    #### Registre três atributos de usuários

    ```cs
    NewRelic.Api.Agent.NewRelic.SetUserParameters("MyUserName", "MyAccountName", "MyProductName");
    ```

    #### Registre dois atributos de usuário e um atributo vazio

    ```cs
    NewRelic.Api.Agent.NewRelic.SetUserParameters("MyUserName", "", "MyProductName");
    ```
  </Collapser>

  <Collapser
    id="StartAgent"
    title="StartAgent"
  >
    ### Sintaxe

    ```cs
    NewRelic.Api.Agent.NewRelic.StartAgent()
    ```

    Inicie o agente se ele ainda não tiver sido iniciado. Geralmente desnecessário.

    ### Requisitos

    * Compatível com todas as versões do agente.
    * Compatível com todos os tipos de aplicativos.

    ### Descrição

    Inicia o agente se ainda não tiver sido iniciado. Essa chamada geralmente é desnecessária, pois o agente inicia automaticamente quando atinge um método instrumentado, a menos que você desative [`autoStart`](/docs/apm/agents/net-agent/configuration/net-agent-configuration/#service-autoStart). Se você usar [`SetApplicationName()`](/docs/apm/agents/net-agent/net-agent-api/net-agent-api/#SetApplicationName), certifique-se de definir o nome do aplicativo **antes de** iniciar o agente.

    <Callout variant="tip">
      Este método inicia o agente de forma assíncrona (o que significa que não bloqueará a inicialização do aplicativo), a menos que você habilite [`syncStartup`](/docs/apm/agents/net-agent/configuration/net-agent-configuration/#service-syncStartup) ou [`sendDataOnExit`](/docs/apm/agents/net-agent/configuration/net-agent-configuration/#service-sendDataOnExit).
    </Callout>

    ### Exemplos

    ```cs
    NewRelic.Api.Agent.NewRelic.StartAgent();
    ```
  </Collapser>

  <Collapser
    id="TraceMetadata"
    title="TraceMetadata"
  >
    ### Sintaxe

    ```cs
    NewRelic.Api.Agent.TraceMetadata;
    ```

    Retorna propriedades no ambiente de execução atual usado para dar suporte ao rastreamento.

    ### Requisitos

    * Versão do agente 8.19 ou superior.
    * Compatível com todos os tipos de aplicativos.
    * [Distributed tracing deve ser ativado](/docs/agents/net-agent/configuration/net-agent-configuration#distributed_tracing) para obter valores significativos.

    ### Descrição

    Fornece acesso às seguintes propriedades:

    ### Propriedades

    <table>
      <thead>
        <tr>
          <th width="25%">
            Nome
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `TraceId`
          </td>

          <td>
            Retorna uma string representando o trace atualmente em execução. Se o ID trace não estiver disponível ou distributed tracing estiver desativado, o valor será `string.Empty`.
          </td>
        </tr>

        <tr>
          <td>
            `SpanId`
          </td>

          <td>
            Retorna uma string que representa o intervalo em execução no momento. Se o ID do período não estiver disponível ou distributed tracing estiver desativado, o valor será `string.Empty`.
          </td>
        </tr>

        <tr>
          <td>
            `IsSampled`
          </td>

          <td>
            Retornará `true` se o trace atual for amostrado para inclusão, `false` se for amostrado.
          </td>
        </tr>
      </tbody>
    </table>

    ### Exemplos

    ```cs
    IAgent agent = NewRelic.Api.Agent.NewRelic.GetAgent();
    ITraceMetadata traceMetadata = agent.TraceMetadata;
    string traceId = traceMetadata.TraceId;
    string spanId = traceMetadata.SpanId;
    bool isSampled = traceMetadata.IsSampled;
    ```
  </Collapser>
</CollapserGroup>
