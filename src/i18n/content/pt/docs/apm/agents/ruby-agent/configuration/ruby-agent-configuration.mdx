---
title: Configuração do agente Ruby
tags:
  - Agents
  - Ruby agent
  - Configuration
metaDescription: 'APM for Ruby: how to configure the Ruby agent, including editing the config file and setting environment variables.'
freshnessValidatedDate: never
translationType: machine
---

Você pode configurar o agente New Relic Ruby com configurações em um arquivo de configuração, variáveis de ambiente ou programaticamente com Configuração no lado do servidor. Este documento resume as opções de configuração disponíveis para o agente Ruby.

Se o valor padrão para uma opção de configuração for `(Dynamic)`, isso significa que o agente Ruby calcula o padrão em tempo de execução. O valor da configuração padrão é o valor de outra configuração, conforme apropriado.

## Métodos de configuração e precedência [#Options]

O método principal (padrão) para configurar o agente Ruby é por meio do arquivo de configuração (`newrelic.yml`) no subdiretório `config` . Para definir valores de configuração usando variáveis de ambiente:

1. Adicione o prefixo `NEW_RELIC_` ao nome da configuração.
2. Substitua quaisquer pontos `.` por sublinhados `_`.

Você também pode configurar alguns valores na interface via [configuração no lado do servidor](/docs/agents/manage-apm-agents/configuration/server-side-agent-configuration).

O agente Ruby segue esta ordem de precedência para configuração:

1. Variáveis ambientais
2. Configuração no lado do servidor
3. Arquivo de configuração (`newrelic.yml`)
4. Configurações de configuração padrão

Em outras palavras, as variáveis de ambiente substituem todas as outras definições e informações de configuração, a configuração no lado do servidor substitui o arquivo de configuração e as definições de configuração padrão e assim por diante.

## Visualizar e editar opções do arquivo de configuração [#Edit]

O `newrelic.yml` do agente Ruby é um arquivo de configuração YAML padrão. Normalmente inclui uma seção `Defaults` na parte superior, além de seções abaixo para cada ambiente de aplicativo (`Development`, `Test`, `Staging` e `Production`).

O agente Ruby determina qual seção do arquivo de configuração `newrelic.yml` ler, observando determinadas variáveis de ambiente para derivar o ambiente do aplicativo. Isso pode ser útil quando você deseja usar `info` para a configuração `log_level` em seu ambiente de produção e deseja configurações de `log_level` mais detalhadas (como `debug`) em seu ambiente de desenvolvimento.

Aqui está um exemplo de arquivo de configuração `newrelic.yml` :

```yaml
common: &default_settings
  license_key: 'YOUR_LICENSE_KEY'
  app_name: 'My Application Name'
production:
  <<: *default_settings
  log_level: info
development:
  <<: *default_settings
  log_level: debug
```

O agente Ruby procura as seguintes variáveis de ambiente, nesta ordem, para localizar o ambiente do aplicativo:

1. `NEW_RELIC_ENV`
2. `RUBY_ENV`
3. `RAILS_ENV`
4. `APP_ENV`
5. `RACK_ENV`

Se o agente Ruby não detectar valores para nenhuma dessas variáveis de ambiente, ele padronizará o ambiente do aplicativo como `development` e lerá a seção `development` do arquivo de configuração `newrelic.yml`.

Ao executar o agente Ruby em um aplicativo Rails, o agente primeiro procura a variável de ambiente `NEW_RELIC_ENV` para encontrar o ambiente do aplicativo e qual seção do `newrelic.yml` usar. Se `NEW_RELIC_ENV` não estiver presente, o agente usa o ambiente Rails (`RAILS_ENV`).

Ao editar o arquivo de configuração, certifique-se de:

* Recuar apenas com dois espaços.
* Recue apenas quando relevante, em seções como **`error_collector`**.

Se você não recuar corretamente, o agente poderá gerar um erro `Unable to parse configuration file` na inicialização.

Para visualizar a lista mais atual de opções de configuração do agente Ruby disponíveis, use o comando `rake newrelic:config:docs` . Este documento descreve as opções mais comuns.

## Atualize o arquivo de configuração [#Updates]

Esta documentação se aplica à versão mais recente do agente Ruby. Para obter detalhes sobre versões anteriores, consulte os comentários no próprio `newrelic.yml` .

Para atualizar o arquivo `newrelic.yml` após uma nova versão, use o modelo no diretório base do gem do agente. Ao atualizar para novas versões do gem, examine ou diferencie `config/newrelic.yml` e `newrelic.yml` no [diretório de instalação](/docs/agents/manage-apm-agents/troubleshooting/find-agent-root-directory#ruby-agent) para aproveitar as novas opções de configuração.

<Callout variant="important">
  Atualizar a gem não atualiza automaticamente `config/newrelic.yml`.
</Callout>

## Em geral [#general]

Essas configurações estão disponíveis para configuração do agente. Algumas configurações dependem do nível de assinatura do seu New Relic.

<CollapserGroup>
  <Collapser id="agent_enabled" title="agent_enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_AGENT_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, permite que o agente Ruby seja executado.
  </Collapser>

  <Collapser id="app_name" title="app_name">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `(Dynamic)`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_APP_NAME`
          </td>
        </tr>
      </tbody>
    </table>

    Especifique o [nome do aplicativo](/docs/apm/new-relic-apm/installation-configuration/name-your-application) usado para agregar dados na interface do New Relic. Para relatar dados para [vários aplicativos ao mesmo tempo](/docs/apm/new-relic-apm/installation-configuration/using-multiple-names-app), especifique uma lista de nomes separados por ponto e vírgula `;`. Por exemplo, `MyApp` ou `MyStagingApp;Instance1`.
  </Collapser>

  <Collapser id="license_key" title="license_key">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `""`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_LICENSE_KEY`
          </td>
        </tr>
      </tbody>
    </table>

    Sua New Relic <InlinePopover type="licenseKey" />.
  </Collapser>

  <Collapser id="log_level" title="log_level">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `"info"`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_LOG_LEVEL`
          </td>
        </tr>
      </tbody>
    </table>

    Define o nível de detalhe da mensagem do log. Os possíveis níveis de log, em detalhamento crescente, são: `error`, `warn`, `info` ou `debug`.
  </Collapser>

  <Collapser id="active_support_custom_events_names" title="active_support_custom_events_names">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_ACTIVE_SUPPORT_CUSTOM_EVENTS_NAMES`
          </td>
        </tr>
      </tbody>
    </table>

    Uma variedade de nomes de eventos personalizados do ActiveSupport para assinatura e instrumento. Por exemplo,

    * one.custom.event
    * another.event
    * a.third.event
  </Collapser>

  <Collapser id="backport_fast_active_record_connection_lookup" title="backport_fast_active_record_connection_lookup">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_BACKPORT_FAST_ACTIVE_RECORD_CONNECTION_LOOKUP`
          </td>
        </tr>
      </tbody>
    </table>

    Backporta a pesquisa de conexão ActiveRecord mais rápida introduzida no Rails 6, que melhora o desempenho do agente quando instrumentado ActiveRecord. Observe que esta configuração pode não ser compatível com outras gemas que corrigem o ActiveRecord.
  </Collapser>

  <Collapser id="ca_bundle_path" title="ca_bundle_path">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `nil`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_CA_BUNDLE_PATH`
          </td>
        </tr>
      </tbody>
    </table>

    Substituição manual do caminho para seu pacote de CA local. Este pacote de CA valida o certificado SSL apresentado pelo serviço de coleta de dados da New Relic.
  </Collapser>

  <Collapser id="capture_memcache_keys" title="capture_memcache_keys">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_CAPTURE_MEMCACHE_KEYS`
          </td>
        </tr>
      </tbody>
    </table>

    Habilite ou desabilite a captura de chaves do memcache do rastreamento da transação.
  </Collapser>

  <Collapser id="capture_params" title="capture_params">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_CAPTURE_PARAMS`
          </td>
        </tr>
      </tbody>
    </table>

    Quando `true`, o agente captura parâmetros de solicitação HTTP e os anexa ao rastreamento da transação, erros de rastreamento e [evento`TransactionError` ](/attribute-dictionary?attribute_name=&events_tids%5B%5D=8241).

    <Callout variant="caution">
      Ao usar a configuração `capture_params` , o agente Ruby não tentará filtrar informações secretas. `Recommendation:` Para filtrar informações secretas do parâmetro de solicitação, use a [configuração`attributes.include` ](/docs/agents/ruby-agent/attributes/enable-disable-attributes-ruby). Para mais informações, veja os <a href="/docs/agents/ruby-agent/attributes/ruby-attribute-examples#ex_req_params">exemplos de atributo Ruby </a>.
    </Callout>
  </Collapser>

  <Collapser id="clear_transaction_state_after_fork" title="clear_transaction_state_after_fork">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_CLEAR_TRANSACTION_STATE_AFTER_FORK`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente liberará `Tracer::State` em `Agent.drop_buffered_data`.
  </Collapser>

  <Collapser id="config_path" title="config_path">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `(Dynamic)`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_CONFIG_PATH`
          </td>
        </tr>
      </tbody>
    </table>

    Caminho para `newrelic.yml`. Se indefinido, o agente verifica os seguintes diretórios (em ordem):

    * `config/newrelic.yml`
    * `newrelic.yml`
    * `$HOME/.newrelic/newrelic.yml`
    * `$HOME/newrelic.yml`
  </Collapser>

  <Collapser id="exclude_newrelic_header" title="exclude_newrelic_header">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_EXCLUDE_NEWRELIC_HEADER`
          </td>
        </tr>
      </tbody>
    </table>

    Permite que cabeçalhos distributed tracing newrelic sejam suprimidos em solicitações de saída.
  </Collapser>

  <Collapser id="force_install_exit_handler" title="force_install_exit_handler">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_FORCE_INSTALL_EXIT_HANDLER`
          </td>
        </tr>
      </tbody>
    </table>

    O manipulador de saída que envia todos os dados armazenados em cache para o coletor antes do encerramento é instalado à força. Isto é verdade mesmo quando detecta cenários onde geralmente não deveria estar. O caso de uso conhecido para esta opção é quando o Sinatra é executado como um serviço incorporado em outra framework. O agente detecta o aplicativo Sinatra e, como resultado, ignora o gerenciador `at_exit` . Sinatra normalmente executa o aplicativo inteiro em um bloco `at_exit` e, de outra forma, se comportaria mal se o manipulador `at_exit` do agente também fosse instalado nessas circunstâncias. Nota: `send_data_on_exit` também deve ser definido como `true` junto com esta configuração.
  </Collapser>

  <Collapser id="high_security" title="high_security">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_HIGH_SECURITY`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, ativa [o modo de alta segurança](/docs/accounts-partnerships/accounts/security/high-security). Certifique-se de compreender as implicações do modo de alta segurança antes de ativar esta configuração.
  </Collapser>

  <Collapser id="labels" title="rótulos">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `""`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_LABELS`
          </td>
        </tr>
      </tbody>
    </table>

    Um dicionário de [nomes e valores de rótulos](/docs/data-analysis/user-interface-functions/labels-categories-organize-your-apps-servers) que serão aplicados aos dados enviados deste agente. Também pode ser expresso como uma sequência `;` delimitada por ponto e vírgula de pares `:` separados por dois pontos. Por exemplo, `Server:One;Data Center:Primary`.
  </Collapser>

  <Collapser id="log_file_name" title="log_file_name">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `"newrelic_agent.log"`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_LOG_FILE_NAME`
          </td>
        </tr>
      </tbody>
    </table>

    Define um nome para o arquivo de log.
  </Collapser>

  <Collapser id="log_file_path" title="log_file_path">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `"log/"`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_LOG_FILE_PATH`
          </td>
        </tr>
      </tbody>
    </table>

    Define um caminho para o arquivo de log do agente, excluindo o nome do arquivo.
  </Collapser>

  <Collapser id="marshaller" title="marshaller">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `"json"`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_MARSHALLER`
          </td>
        </tr>
      </tbody>
    </table>

    Especifica um empacotador para transmitir dados ao [coletor](/docs/apm/new-relic-apm/getting-started/glossary#collector) New Relic. Atualmente `json` é o único valor válido para esta configuração.
  </Collapser>

  <Collapser id="monitor_mode" title="monitor_mode">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_MONITOR_MODE`
          </td>
        </tr>
      </tbody>
    </table>

    Quando `true`, o agente transmite dados sobre seu aplicativo para o [coletor](/docs/using-new-relic/welcome-new-relic/get-started/glossary/#collector) New Relic .
  </Collapser>

  <Collapser id="prepend_active_record_instrumentation" title="prepend_active_record_instrumentation">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_PREPEND_ACTIVE_RECORD_INSTRUMENTATION`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, usará `Module#prepend` em vez de `alias_method` para instrumentação ActiveRecord.
  </Collapser>

  <Collapser id="proxy_host" title="proxy_host">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `nil`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_PROXY_HOST`
          </td>
        </tr>
      </tbody>
    </table>

    Define um host para comunicação com o [coletor](/docs/using-new-relic/welcome-new-relic/get-started/glossary/#collector) New Relic por meio de um servidor proxy.
  </Collapser>

  <Collapser id="proxy_pass" title="proxy_pass">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `nil`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_PROXY_PASS`
          </td>
        </tr>
      </tbody>
    </table>

    Define uma senha para comunicação com o [coletor](/docs/using-new-relic/welcome-new-relic/get-started/glossary/#collector) New Relic por meio de um servidor proxy.
  </Collapser>

  <Collapser id="proxy_port" title="proxy_port">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Inteiro
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `8080`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_PROXY_PORT`
          </td>
        </tr>
      </tbody>
    </table>

    Define uma porta para comunicação com o [coletor](/docs/using-new-relic/welcome-new-relic/get-started/glossary/#collector) New Relic por meio de um servidor proxy.
  </Collapser>

  <Collapser id="proxy_user" title="proxy_user">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `nil`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_PROXY_USER`
          </td>
        </tr>
      </tbody>
    </table>

    Define um usuário para comunicação com o [coletor](/docs/using-new-relic/welcome-new-relic/get-started/glossary/#collector) New Relic por meio de um servidor proxy.
  </Collapser>

  <Collapser id="send_data_on_exit" title="send_data_on_exit">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SEND_DATA_ON_EXIT`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, habilita o manipulador de saída que envia dados para o [coletor](/docs/using-new-relic/welcome-new-relic/get-started/glossary/#collector) New Relic antes de encerrar.
  </Collapser>

  <Collapser id="sync_startup" title="sync_startup">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SYNC_STARTUP`
          </td>
        </tr>
      </tbody>
    </table>

    Quando definido como `true`, força uma conexão síncrona com o [coletor](/docs/using-new-relic/welcome-new-relic/get-started/glossary/#collector) New Relic durante a inicialização do aplicativo. Para processos de curta duração, isso ajuda a garantir que o agente da New Relic tenha tempo para reportar.
  </Collapser>

  <Collapser id="thread_local_tracer_state" title="thread_local_tracer_state">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_THREAD_LOCAL_TRACER_STATE`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o armazenamento do estado tracer for thread-local, caso contrário fiber-local
  </Collapser>

  <Collapser id="timeout" title="Tempo esgotado">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Inteiro
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `120`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_TIMEOUT`
          </td>
        </tr>
      </tbody>
    </table>

    Define o número máximo de segundos que o agente deve gastar tentando se conectar ao coletor.
  </Collapser>

  <Collapser id="allow_all_headers" title="allow_all_headers">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_ALLOW_ALL_HEADERS`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, permite a captura de todos os cabeçalhos de solicitação HTTP para todos os destinos.
  </Collapser>

  <Collapser id="automatic_custom_instrumentation_method_list" title="automatic_custom_instrumentation_method_list">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_AUTOMATIC_CUSTOM_INSTRUMENTATION_METHOD_LIST`
          </td>
        </tr>
      </tbody>
    </table>

    Uma matriz de strings `CLASS#METHOD` (para métodos de instância) e/ou `CLASS.METHOD` (para métodos de classe) representando métodos Ruby aos quais o agente pode adicionar automaticamente instrumentação personalizada. Isso não requer nenhuma modificação no código-fonte que define os métodos.

    Use nomes de classe totalmente qualificados (usando o delimitador `::` ) que incluam qualquer namespace de módulo ou classe.

    Aqui está um código-fonte Ruby que define um método de instância `render_png` para uma classe `Image` e um método de classe `notify` para uma classe `User` , ambos dentro de um namespace de módulo `MyCompany` :

    ```rb
    	module MyCompany
    		class Image
    			def render_png
    				# code to render a PNG
    			end
    		end

    		class User
    			def self.notify
    				# code to notify users
    			end
    		end
    	end
    ```

    Dado esse código-fonte, o arquivo de configuração `newrelic.yml` pode solicitar instrumentação para ambos os métodos, assim:

    ```yaml
    	automatic_custom_instrumentation_method_list:
    		- MyCompany::Image#render_png
    		- MyCompany::User.notify
    ```

    Esse exemplo de configuração usa a sintaxe de matriz YAML para especificar ambos os métodos. Como alternativa, você pode usar uma string delimitada por vírgulas:

    ```yaml
    	automatic_custom_instrumentation_method_list: 'MyCompany::Image#render_png, MyCompany::User.notify'
    ```

    O espaço em branco ao redor da(s) vírgula(s) na lista é opcional. Ao configurar o agente com uma lista de métodos por meio da variável de ambiente `NEW_RELIC_AUTOMATIC_CUSTOM_INSTRUMENTATION_METHOD_LIST` , use este formato de string delimitada por vírgulas:

    ```sh
    	export NEW_RELIC_AUTOMATIC_CUSTOM_INSTRUMENTATION_METHOD_LIST='MyCompany::Image#render_png, MyCompany::User.notify'
    ```
  </Collapser>

  <Collapser id="defer_rails_initialization" title="defer_rails_initialization">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_DEFER_RAILS_INITIALIZATION`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, quando o agente estiver em um aplicativo usando Ruby on Rails, ele será iniciado após a execução de `config/initializers` .

    <Callout variant="caution">
      Esta opção só pode ser definida por variável de ambiente.
    </Callout>
  </Collapser>
</CollapserGroup>

## Tracerde transação [#transaction-tracer]

O recurso [trace da transação](/docs/apm/traces/transaction-traces/transaction-traces) coleta informações detalhadas de uma seleção de transações, incluindo um resumo da sequência de chamada, um detalhamento do tempo gasto e uma lista de consultas SQL e seus planos de consulta (em MySQL e postgresql). Os recursos disponíveis dependem do nível de assinatura do seu New Relic.

<CollapserGroup>
  <Collapser id="transaction_tracer-enabled" title="transaction_tracer.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_TRACER_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, habilita a coleta de [rastreamento da transação](/docs/apm/traces/transaction-traces/transaction-traces).
  </Collapser>

  <Collapser id="transaction_tracer-explain_enabled" title="transaction_tracer.explain_enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_TRACER_EXPLAIN_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, habilita a coleta de planos de explicação no trace da transação. Esta configuração também será aplicada para explicar planos em rastreamento SQL lento se [`slow_sql.explain_enabled`](#slow_sql-explain_enabled) não for definido separadamente.
  </Collapser>

  <Collapser id="transaction_tracer-explain_threshold" title="transaction_tracer.explain_threshold">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Float
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `0.5`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_TRACER_EXPLAIN_THRESHOLD`
          </td>
        </tr>
      </tbody>
    </table>

    Limite (em segundos) acima do qual o agente coletará planos explicativos. Relevante apenas quando [`explain_enabled`](#transaction_tracer.explain_enabled) for verdadeiro.
  </Collapser>

  <Collapser id="transaction_tracer-limit_segments" title="transaction_tracer.limit_segments">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Inteiro
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `4000`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_TRACER_LIMIT_SEGMENTS`
          </td>
        </tr>
      </tbody>
    </table>

    Número máximo de nós de rastreamento de transação a serem registrados em um único rastreamento de transação.
  </Collapser>

  <Collapser id="transaction_tracer-record_redis_arguments" title="transaction_tracer.record_redis_arguments">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_TRACER_RECORD_REDIS_ARGUMENTS`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente registra os argumentos do comando Redis no rastreamento da transação.
  </Collapser>

  <Collapser id="transaction_tracer-record_sql" title="transaction_tracer.record_sql">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `"obfuscated"`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_TRACER_RECORD_SQL`
          </td>
        </tr>
      </tbody>
    </table>

    Nível de ofuscação para consulta SQL reportado em nós de trace da transação. Por padrão, isso é definido como `obfuscated`, o que remove os literais numéricos e de string.

    * Se você não quiser que o agente capture informações de consulta, defina como `none`.
    * Se quiser que o agente capture todas as informações da consulta em seu formato original, defina como `raw`.
    * Quando você ativa [o modo de alta segurança](/docs/agents/manage-apm-agents/configuration/high-security-mode), ele é automaticamente definido como `obfuscated`.
  </Collapser>

  <Collapser id="transaction_tracer-stack_trace_threshold" title="transaction_tracer.stack_trace_threshold">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Float
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `0.5`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_TRACER_STACK_TRACE_THRESHOLD`
          </td>
        </tr>
      </tbody>
    </table>

    Especifique um limite em segundos. O agente inclui rastreamento de pilha nos nós de rastreamento da transação quando a duração stack trace excede esse limite.
  </Collapser>

  <Collapser id="transaction_tracer-transaction_threshold" title="transaction_tracer.transaction_threshold">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Float
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `(Dynamic)`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_TRACER_TRANSACTION_THRESHOLD`
          </td>
        </tr>
      </tbody>
    </table>

    Especifique um limite em segundos. transações com duração superior a esse limite são elegíveis para rastreamento da transação. Especifique um valor float ou a sequência `apdex_f`.
  </Collapser>
</CollapserGroup>

## Erro no coletor [#error-collector]

O agente coleta e relata todas as exceções não detectadas por padrão. Essas opções de configuração permitem personalizar a coleta de erros.

Para obter informações sobre erros ignorados e esperados, [consulte esta página em Error Analytics no APM](/docs/agents/manage-apm-agents/agent-data/manage-errors-apm-collect-ignore-or-mark-expected/). Para definir erro esperado através do `NewRelic::Agent.notice_error` Ruby método , [consulte a Ruby API do agente](/docs/agents/ruby-agent/api-guides/sending-handled-errors-new-relic/).

<CollapserGroup>
  <Collapser id="error_collector-capture_events" title="error_collector.capture_events">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_CAPTURE_EVENTS`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente coleta [`TransactionError` evento](/docs/insights/new-relic-insights/decorating-events/error-event-default-attributes-insights).
  </Collapser>

  <Collapser id="error_collector-enabled" title="error_collector.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente captura erros de rastreamento e métrica de contagem de erros.
  </Collapser>

  <Collapser id="error_collector-expected_classes" title="error_collector.expected_classes">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `None`
          </td>
        </tr>
      </tbody>
    </table>

    Uma lista de classes de erros que o agente deve tratar conforme esperado.

    <Callout variant="caution">
      Esta opção não pode ser definida por meio de variável de ambiente.
    </Callout>
  </Collapser>

  <Collapser id="error_collector-expected_messages" title="error_collector.expected_messages">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Hash
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `{}`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `None`
          </td>
        </tr>
      </tbody>
    </table>

    Um mapa de classes de erro para uma lista de mensagens. Quando ocorrer um erro de uma das classes especificadas aqui, se sua mensagem de erro contiver uma das strings correspondentes aqui, esse erro será tratado conforme o esperado.

    <Callout variant="caution">
      Esta opção não pode ser definida por meio de variável de ambiente.
    </Callout>
  </Collapser>

  <Collapser id="error_collector-expected_status_codes" title="error_collector.expected_status_codes">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `""`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_EXPECTED_STATUS_CODES`
          </td>
        </tr>
      </tbody>
    </table>

    Uma lista separada por vírgulas de códigos de status, possivelmente incluindo intervalos. Erros associados a esses códigos de status, quando aplicável, serão tratados conforme esperado.
  </Collapser>

  <Collapser id="error_collector-ignore_classes" title="error_collector.ignore_classes">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `["ActionController::RoutingError", "Sinatra::NotFound"]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `None`
          </td>
        </tr>
      </tbody>
    </table>

    Uma lista de classes de erros que o agente deve ignorar.

    <Callout variant="caution">
      Esta opção não pode ser definida por meio de variável de ambiente.
    </Callout>
  </Collapser>

  <Collapser id="error_collector-ignore_messages" title="error_collector.ignore_messages">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Hash
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `{ThreadError: ["queue empty"]}`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `None`
          </td>
        </tr>
      </tbody>
    </table>

    Um mapa de classes de erro para uma lista de mensagens. Quando ocorrer um erro de uma das classes aqui especificadas, se sua mensagem de erro contiver uma das strings correspondentes aqui, esse erro será ignorado.

    <Callout variant="caution">
      Esta opção não pode ser definida por meio de variável de ambiente.
    </Callout>
  </Collapser>

  <Collapser id="error_collector-ignore_status_codes" title="error_collector.ignore_status_codes">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `""`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_IGNORE_STATUS_CODES`
          </td>
        </tr>
      </tbody>
    </table>

    Uma lista separada por vírgulas de códigos de status, possivelmente incluindo intervalos. Os erros associados a estes códigos de status, quando aplicável, serão ignorados.
  </Collapser>

  <Collapser id="error_collector-max_backtrace_frames" title="error_collector.max_backtrace_frames">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Inteiro
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `50`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_MAX_BACKTRACE_FRAMES`
          </td>
        </tr>
      </tbody>
    </table>

    Define o número máximo de quadros em um backtrace de erro. Os backtraces acima desse valor são truncados no meio, preservando o início e o fim do stack trace.
  </Collapser>

  <Collapser id="error_collector-max_event_samples_stored" title="error_collector.max_event_samples_stored">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Inteiro
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `100`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_MAX_EVENT_SAMPLES_STORED`
          </td>
        </tr>
      </tbody>
    </table>

    Define o número máximo de [`TransactionError` eventos](/docs/insights/new-relic-insights/decorating-events/error-event-default-attributes-insights) reportados por ciclo de coleta.
  </Collapser>
</CollapserGroup>

## Monitoramento de browser [#browser-monitoring]

O recurso[de tempo de carregamento de página](/docs/browser/new-relic-browser/page-load-timing/page-load-timing-process) <InlinePopover type="browser" />(às vezes chamado de monitoramento de usuário real ou RUM) fornece informações sobre o desempenho que o usuário real está obtendo em seu website. Isso é feito medindo o tempo que o browser do seu usuário leva para baixar e renderizar suas páginas da web, injetando uma pequena quantidade de código JavaScript no cabeçalho e rodapé de cada página.

<CollapserGroup>
  <Collapser id="browser_monitoring-auto_instrument" title="browser_monitoring.auto_instrument">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_BROWSER_MONITORING_AUTO_INSTRUMENT`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, habilita [a injeção automática](/docs/browser/new-relic-browser/installation-configuration/adding-apps-new-relic-browser#select-apm-app) do cabeçalho JavaScript para tempo de carregamento da página (às vezes chamado de monitoramento de usuário real ou RUM).
  </Collapser>

  <Collapser id="browser_monitoring-content_security_policy_nonce" title="browser_monitoring.content_security_policy_nonce">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_BROWSER_MONITORING_CONTENT_SECURITY_POLICY_NONCE`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, habilita a autoinjeção do [Content Security Policy Nonce](https://content-security-policy.com/nonce/) no script de monitoramento do Browser. Por enquanto, a injeção automática só funciona com Rails 5.2+.
  </Collapser>
</CollapserGroup>

## Evento de transação [#transaction-events]

<CollapserGroup>
  <Collapser id="transaction_events-enabled" title="transaction_events.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_EVENTS_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, habilita a amostragem de eventos de transação.
  </Collapser>

  <Collapser id="transaction_events-max_samples_stored" title="transaction_events.max_samples_stored">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Inteiro
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `1200`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_EVENTS_MAX_SAMPLES_STORED`
          </td>
        </tr>
      </tbody>
    </table>

    Define o número máximo de eventos de transação reportados de uma única colheita.
  </Collapser>
</CollapserGroup>

## Registro do aplicativo [#application-logging]

O agente Ruby oferece suporte [ao logs contextualizados APM](/docs/apm/new-relic-apm/getting-started/get-started-logs-context). Para obter algumas dicas sobre como configurar o log para o agente Ruby, consulte [Configurar logs contextualizados Ruby](/docs/logs/logs-context/configure-logs-context-ruby).

As opções de configuração relacionadas ao registro disponíveis incluem:

<CollapserGroup>
  <Collapser id="application_logging-enabled" title="application_logging.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, habilita a decoração de log e a coleta de evento de log e métrica.
  </Collapser>

  <Collapser id="application_logging-forwarding-enabled" title="application_logging.forwarding.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_FORWARDING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente captura registros de log emitidos pelo seu aplicativo.
  </Collapser>

  <Collapser id="application_logging-forwarding-log_level" title="application_logging.forwarding.log_level">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `"debug"`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_FORWARDING_LOG_LEVEL`
          </td>
        </tr>
      </tbody>
    </table>

    Define o nível mínimo que um evento de log deve ter para ser encaminhado ao New Relic.

    Isto é baseado nos valores inteiros das [constantes `Logger::Severity` do Ruby](https://github.com/ruby/logger/blob/113b82a06b3076b93a71cd467e1605b23afb3088/lib/logger/severity.rb).

    A intenção é encaminhar o log com o nível dado à configuração, bem como qualquer log com maior nível de severidade.

    Por exemplo, definir esse valor como &quot;debug&quot; encaminhará todos os eventos de log para o New Relic. Definir este valor como &quot;erro&quot; apenas encaminhará eventos de log com os níveis &quot;erro&quot;, &quot;fatal&quot; e &quot;desconhecido&quot;.

    Valores válidos (ordenados do menor para o maior):

    * &quot;depurar&quot;
    * &quot;informações&quot;
    * &quot;avisar&quot;
    * &quot;erro&quot;
    * &quot;fatal&quot;
    * &quot;desconhecido&quot;
  </Collapser>

  <Collapser id="application_logging-forwarding-custom_attributes" title="application_logging.forwarding.custom_attributes">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Hash
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `{}`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_FORWARDING_CUSTOM_ATTRIBUTES`
          </td>
        </tr>
      </tbody>
    </table>

    Aplica hash com pares de valores principais para adicionar como atributo personalizado a todos os eventos de log encaminhados para New Relic. Se enviar usando uma variável de ambiente, o valor deve ser formatado como: &quot;key1=value1,key2=value2&quot;
  </Collapser>

  <Collapser id="application_logging-forwarding-labels-enabled" title="application_logging.forwarding.labels.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_FORWARDING_LABELS_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente anexa [rótulos](https://docs.newrelic.com/docs/apm/agents/ruby-agent/configuration/ruby-agent-configuration/#labels) aos registros de log.
  </Collapser>

  <Collapser id="application_logging-forwarding-labels-exclude" title="application_logging.forwarding.labels.exclude">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_FORWARDING_LABELS_EXCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Uma matriz que não diferencia maiúsculas de minúsculas ou uma sequência de caracteres delimitada por vírgulas contendo os rótulos a serem excluídos dos registros de log.
  </Collapser>

  <Collapser id="application_logging-forwarding-max_samples_stored" title="application_logging.forwarding.max_samples_stored">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Inteiro
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `10000`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_FORWARDING_MAX_SAMPLES_STORED`
          </td>
        </tr>
      </tbody>
    </table>

    Define o número máximo de registros de log para armazenar em buffer na memória por vez.
  </Collapser>

  <Collapser id="application_logging-local_decorating-enabled" title="application_logging.local_decorating.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_LOCAL_DECORATING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente decora o log com metadados para vincular entidade, hosts, rastreamento e spans.
  </Collapser>

  <Collapser id="application_logging-metrics-enabled" title="application_logging.metrics.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_METRICS_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente captura métricas relacionadas à geração de registros para seu aplicativo.
  </Collapser>
</CollapserGroup>

## AI Monitoring [#ai-monitoring]

Esta seção inclui configuração do agente Ruby para configurar AI Monitoring.

<Callout variant="important">Você precisa habilitar distributed tracing para capturar dados trace e feedback. Ele está ativado por padrão no agente Ruby 8.0.0 e superior.</Callout>

<CollapserGroup>
  <Collapser id="ai_monitoring-enabled" title="ai_monitoring.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_AI_MONITORING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `false`, toda a instrumentação LLM (apenas OpenAI por enquanto) será desativada e nenhuma métrica, evento ou intervalo será enviado. O AI Monitoring será desativado automaticamente se o modo `high_security` estiver ativado.
  </Collapser>

  <Collapser id="ai_monitoring-record_content-enabled" title="ai_monitoring.record_content.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_AI_MONITORING_RECORD_CONTENT_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `false`, a instrumentação LLM (apenas OpenAI por enquanto) não capturará conteúdo de entrada e saída em evento LLM específico.

    Os atributos excluídos incluem:

    * `content` do evento LlmChatCompletionMessage
    * `input` do evento LlmEmbedding

    Esta é uma configuração de segurança opcional para evitar a gravação de dados confidenciais enviados e recebidos de seus LLMs.
  </Collapser>
</CollapserGroup>

## Atributo [#attributes]

[atributo](/docs/features/agent-attributes) são pares de valores principais contendo informações que determinam as propriedades de um evento ou transação. Esses pares de valor principal podem ser visualizados no rastreamento da transação no APM, rastreamento de erros no APM, evento de transação no painel e visualizações de página no painel. Você pode personalizar exatamente qual atributo será enviado para cada um desses destinos

<CollapserGroup>
  <Collapser id="attributes-enabled" title="attributes.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_ATTRIBUTES_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, habilita a captura de atributo para todos os destinos.
  </Collapser>

  <Collapser id="attributes-exclude" title="attributes.exclude">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_ATTRIBUTES_EXCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Prefixo de atributo para excluir de todos os destinos. Permite `*` como curinga no final.
  </Collapser>

  <Collapser id="attributes-include" title="attributes.include">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_ATTRIBUTES_INCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Prefixo de atributo a incluir em todos os destinos. Permite `*` como curinga no final.
  </Collapser>

  <Collapser id="browser_monitoring-attributes-enabled" title="browser_monitoring.attributes.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_BROWSER_MONITORING_ATTRIBUTES_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente captura o atributo do monitoramento do Browser.
  </Collapser>

  <Collapser id="browser_monitoring-attributes-exclude" title="browser_monitoring.attributes.exclude">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_BROWSER_MONITORING_ATTRIBUTES_EXCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Prefixo de atributo para excluir do monitoramento de Browser. Permite `*` como curinga no final.
  </Collapser>

  <Collapser id="browser_monitoring-attributes-include" title="browser_monitoring.attributes.include">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_BROWSER_MONITORING_ATTRIBUTES_INCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Prefixo de atributo a incluir no monitoramento de Browser. Permite `*` como curinga no final.
  </Collapser>

  <Collapser id="error_collector-attributes-enabled" title="error_collector.attributes.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_ATTRIBUTES_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente captura um atributo da coleta de erros.
  </Collapser>

  <Collapser id="error_collector-attributes-exclude" title="error_collector.attributes.exclude">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_ATTRIBUTES_EXCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Prefixo de atributo para excluir da coleta de erros. Permite `*` como curinga no final.
  </Collapser>

  <Collapser id="error_collector-attributes-include" title="error_collector.attributes.include">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_ATTRIBUTES_INCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Prefixo do atributo a ser incluído na coleta de erros. Permite `*` como curinga no final.
  </Collapser>

  <Collapser id="span_events-attributes-enabled" title="span_events.attributes.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SPAN_EVENTS_ATTRIBUTES_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente captura o atributo no evento span.
  </Collapser>

  <Collapser id="span_events-attributes-exclude" title="span_events.attributes.exclude">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SPAN_EVENTS_ATTRIBUTES_EXCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Prefixo do atributo para excluir do evento span. Permite `*` como curinga no final.
  </Collapser>

  <Collapser id="span_events-attributes-include" title="span_events.attributes.include">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SPAN_EVENTS_ATTRIBUTES_INCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Prefixo do atributo a incluir no evento span. Permite `*` como curinga no final.
  </Collapser>

  <Collapser id="transaction_events-attributes-enabled" title="transaction_events.attributes.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_EVENTS_ATTRIBUTES_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente captura o atributo do evento de transação.
  </Collapser>

  <Collapser id="transaction_events-attributes-exclude" title="transaction_events.attributes.exclude">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_EVENTS_ATTRIBUTES_EXCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Prefixo do atributo para excluir do evento de transação. Permite `*` como curinga no final.
  </Collapser>

  <Collapser id="transaction_events-attributes-include" title="transaction_events.attributes.include">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_EVENTS_ATTRIBUTES_INCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Prefixo do atributo a ser incluído no evento da transação. Permite `*` como curinga no final.
  </Collapser>

  <Collapser id="transaction_segments-attributes-enabled" title="transaction_segments.attributes.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_SEGMENTS_ATTRIBUTES_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente captura atributo em segmentos de transação.
  </Collapser>

  <Collapser id="transaction_segments-attributes-exclude" title="transaction_segments.attributes.exclude">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_SEGMENTS_ATTRIBUTES_EXCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Prefixo de atributo para excluir dos segmentos de transação. Permite `*` como curinga no final.
  </Collapser>

  <Collapser id="transaction_segments-attributes-include" title="transaction_segments.attributes.include">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_SEGMENTS_ATTRIBUTES_INCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Prefixo do atributo a ser incluído nos segmentos da transação. Permite `*` como curinga no final.
  </Collapser>

  <Collapser id="transaction_tracer-attributes-enabled" title="transaction_tracer.attributes.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_TRACER_ATTRIBUTES_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente captura o atributo do rastreamento da transação.
  </Collapser>

  <Collapser id="transaction_tracer-attributes-exclude" title="transaction_tracer.attributes.exclude">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_TRACER_ATTRIBUTES_EXCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Prefixo de atributo para excluir do rastreamento da transação. Permite `*` como curinga no final.
  </Collapser>

  <Collapser id="transaction_tracer-attributes-include" title="transaction_tracer.attributes.include">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_TRACER_ATTRIBUTES_INCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Prefixo do atributo a incluir no rastreamento da transação. Permite `*` como curinga no final.
  </Collapser>
</CollapserGroup>

## Log de auditoria [#audit-log]

<CollapserGroup>
  <Collapser id="audit_log-enabled" title="audit_log.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_AUDIT_LOG_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, ativa um log de auditoria que registra comunicações com o [coletor](/docs/using-new-relic/welcome-new-relic/get-started/glossary/#collector) New Relic .
  </Collapser>

  <Collapser id="audit_log-endpoints" title="audit_log.endpoints">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[".*"]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_AUDIT_LOG_ENDPOINTS`
          </td>
        </tr>
      </tbody>
    </table>

    Lista de endpoints permitidos para inclusão no log de auditoria.
  </Collapser>

  <Collapser id="audit_log-path" title="audit_log.path">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `log/newrelic_audit.log`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_AUDIT_LOG_PATH`
          </td>
        </tr>
      </tbody>
    </table>

    Especifica um caminho para o arquivo de log de auditoria (incluindo o nome do arquivo).
  </Collapser>
</CollapserGroup>

## Começo automático [#autostart]

<CollapserGroup>
  <Collapser id="autostart-denylisted_constants" title="autostart.denylisted_constants">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `"Rails::Command::ConsoleCommand,Rails::Command::CredentialsCommand,Rails::Command::Db::System::ChangeCommand,Rails::Command::DbConsoleCommand,Rails::Command::DestroyCommand,Rails::Command::DevCommand,Rails::Command::EncryptedCommand,Rails::Command::GenerateCommand,Rails::Command::InitializersCommand,Rails::Command::NotesCommand,Rails::Command::RoutesCommand,Rails::Command::RunnerCommand,Rails::Command::SecretsCommand,Rails::Console,Rails::DBConsole"`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_AUTOSTART_DENYLISTED_CONSTANTS`
          </td>
        </tr>
      </tbody>
    </table>

    Especifique uma lista de constantes que devem impedir que o agente seja iniciado automaticamente. Separe as constantes individuais com uma vírgula `,`. Por exemplo, `"Rails::Console,UninstrumentedBackgroundJob"`.
  </Collapser>

  <Collapser id="autostart-denylisted_executables" title="autostart.denylisted_executables">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `"irb,rspec"`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_AUTOSTART_DENYLISTED_EXECUTABLES`
          </td>
        </tr>
      </tbody>
    </table>

    Define uma lista delimitada por vírgulas de executáveis que o agente não deve utilizar. Por exemplo, `"rake,my_ruby_script.rb"`.
  </Collapser>

  <Collapser id="autostart-denylisted_rake_tasks" title="autostart.denylisted_rake_tasks">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `"about,assets:clean,assets:clobber,assets:environment,assets:precompile,assets:precompile:all,db:create,db:drop,db:fixtures:load,db:migrate,db:migrate:status,db:rollback,db:schema:cache:clear,db:schema:cache:dump,db:schema:dump,db:schema:load,db:seed,db:setup,db:structure:dump,db:version,doc:app,log:clear,middleware,notes,notes:custom,rails:template,rails:update,routes,secret,spec,spec:features,spec:requests,spec:controllers,spec:helpers,spec:models,spec:views,spec:routing,spec:rcov,stats,test,test:all,test:all:db,test:recent,test:single,test:uncommitted,time:zones:all,tmp:clear,tmp:create,webpacker:compile"`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_AUTOSTART_DENYLISTED_RAKE_TASKS`
          </td>
        </tr>
      </tbody>
    </table>

    Define uma lista delimitada por vírgulas de tarefas Rake que o agente não deve utilizar. Por exemplo, `"assets:precompile,db:migrate"`.
  </Collapser>
</CollapserGroup>

## Nuvem [#cloud]

<CollapserGroup>
  <Collapser id="cloud-aws-account_id" title="cloud.aws.account_id">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `nil`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_CLOUD_AWS_ACCOUNT_ID`
          </td>
        </tr>
      </tbody>
    </table>

    O ID da conta AWS para a conta AWS associada a este aplicativo
  </Collapser>
</CollapserGroup>

## Nível do código métrico [#code-level-metrics]

<CollapserGroup>
  <Collapser id="code_level_metrics-enabled" title="code_level_metrics.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_CODE_LEVEL_METRICS_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente reportará a métrica de nível de código-fonte para métodos de rastreamento. Veja: [https://docs.newrelic.com/docs/apm/agents/ruby-agent/features/ruby-codestream-integration/](https://docs.newrelic.com/docs/apm/agents/ruby-agent/features/ruby-codestream-integration/)
  </Collapser>
</CollapserGroup>

## Atributo personalizado [#custom-attributes]

<CollapserGroup>
  <Collapser id="custom_attributes-enabled" title="custom_attributes.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_CUSTOM_ATTRIBUTES_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `false`, o atributo personalizado não será enviado no evento.
  </Collapser>
</CollapserGroup>

## Evento personalizado [#custom-events]

<CollapserGroup>
  <Collapser id="custom_insights_events-enabled" title="custom_insights_events.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_CUSTOM_INSIGHTS_EVENTS_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente captura [o evento personalizado](/docs/insights/new-relic-insights/adding-querying-data/inserting-custom-events-new-relic-apm-agents).
  </Collapser>

  <Collapser id="custom_insights_events-max_samples_stored" title="custom_insights_events.max_samples_stored">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Inteiro
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `3000`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_CUSTOM_INSIGHTS_EVENTS_MAX_SAMPLES_STORED`
          </td>
        </tr>
      </tbody>
    </table>

    * Especifique um número máximo de eventos personalizados para armazenar em buffer na memória por vez.
    * Ao configurar o agente para [AI Monitoring](/docs/ai-monitoring/intro-to-ai-monitoring), defina o valor máximo `100000`. Isso garante que o agente capture a quantidade máxima de eventos LLM.
  </Collapser>
</CollapserGroup>

## Tracer de armazenamento de dados [#datastore-tracer]

<CollapserGroup>
  <Collapser id="datastore_tracer-database_name_reporting-enabled" title="datastore_tracer.database_name_reporting.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_DATASTORE_TRACER_DATABASE_NAME_REPORTING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `false`, o agente não adicionará o parâmetro `database_name` à transação ou ao rastreamento SQL lento.
  </Collapser>

  <Collapser id="datastore_tracer-instance_reporting-enabled" title="datastore_tracer.instance_reporting.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_DATASTORE_TRACER_INSTANCE_REPORTING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `false`, o agente não reportará métrica da instância do datastore, nem adicionará parâmetro `host` ou `port_path_or_id` para operação ou rastreamento SQL lento.
  </Collapser>
</CollapserGroup>

## Desativando [#disabling]

Use essas configurações para alternar os tipos de instrumentação durante a inicialização do agente.

<CollapserGroup>
  <Collapser id="disable_action_cable_instrumentation" title="disable_action_cable_instrumentation">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_DISABLE_ACTION_CABLE_INSTRUMENTATION`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, desativa a instrumentação do Action Cable.
  </Collapser>

  <Collapser id="disable_action_controller" title="disable_action_controller">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_DISABLE_ACTION_CONTROLLER`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, desativa a instrumentação do Action Controller.
  </Collapser>

  <Collapser id="disable_action_mailbox" title="disable_action_mailbox">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_DISABLE_ACTION_MAILBOX`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, desativa a instrumentação da Action Mailbox.
  </Collapser>

  <Collapser id="disable_action_mailer" title="disable_action_mailer">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_DISABLE_ACTION_MAILER`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, desativa a instrumentação do Action Mailer.
  </Collapser>

  <Collapser id="disable_activejob" title="disable_activejob">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_DISABLE_ACTIVEJOB`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, desativa a instrumentação do Active Job.
  </Collapser>

  <Collapser id="disable_active_storage" title="disable_active_storage">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_DISABLE_ACTIVE_STORAGE`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, desativa a instrumentação do Active Storage.
  </Collapser>

  <Collapser id="disable_active_support" title="disable_active_support">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_DISABLE_ACTIVE_SUPPORT`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, desativa a instrumentação do Active Support.
  </Collapser>

  <Collapser id="disable_active_record_instrumentation" title="disable_active_record_instrumentation">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_DISABLE_ACTIVE_RECORD_INSTRUMENTATION`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, desabilita a instrumentação do Active Record.
  </Collapser>

  <Collapser id="disable_active_record_notifications" title="disable_active_record_notifications">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_DISABLE_ACTIVE_RECORD_NOTIFICATIONS`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, desativa a instrumentação para Active Record 4+
  </Collapser>

  <Collapser id="disable_cpu_sampler" title="disable_cpu_sampler">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_DISABLE_CPU_SAMPLER`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente não fará uma amostragem do uso da CPU do processo host.
  </Collapser>

  <Collapser id="disable_delayed_job_sampler" title="disable_delayed_job_sampler">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_DISABLE_DELAYED_JOB_SAMPLER`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente não medirá a profundidade das filas de trabalhos atrasados.
  </Collapser>

  <Collapser id="disable_gc_profiler" title="disable_gc_profiler">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_DISABLE_GC_PROFILER`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, desativa o uso de `GC::Profiler` para medir o tempo gasto na coleta de lixo
  </Collapser>

  <Collapser id="disable_memory_sampler" title="disable_memory_sampler">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_DISABLE_MEMORY_SAMPLER`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente não fará uma amostra do uso de memória do processo host.
  </Collapser>

  <Collapser id="disable_middleware_instrumentation" title="disable_middleware_instrumentation">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_DISABLE_MIDDLEWARE_INSTRUMENTATION`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente não agrupará middlewares de terceiros na instrumentação (independentemente de serem instalados via `Rack::Builder` ou Rails).

    <Callout variant="important">
      Quando a instrumentação de middleware estiver desabilitada, se um aplicativo estiver usando middleware que possa alterar o código de resposta, o código de status HTTP relatado na transação poderá não refletir o valor alterado.
    </Callout>
  </Collapser>

  <Collapser id="disable_samplers" title="disable_samplers">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_DISABLE_SAMPLERS`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, desabilita a coleta de métricas do amostrador. Métricas de amostra são métricas que não são baseadas em eventos (como tempo de CPU ou uso de memória).
  </Collapser>

  <Collapser id="disable_sequel_instrumentation" title="disable_sequel_instrumentation">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_DISABLE_SEQUEL_INSTRUMENTATION`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, desativa [a instrumentação Sequel](/docs/agents/ruby-agent/frameworks/sequel-instrumentation).
  </Collapser>

  <Collapser id="disable_sidekiq" title="disable_sidekiq">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_DISABLE_SIDEKIQ`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, desativa [a instrumentação do Sidekiq](/docs/agents/ruby-agent/background-jobs/sidekiq-instrumentation).
  </Collapser>

  <Collapser id="disable_roda_auto_middleware" title="disable_roda_auto_middleware">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_DISABLE_RODA_AUTO_MIDDLEWARE`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, desabilita o middleware do agente para Roda. Este middleware é responsável pelo suporte avançado a recursos, como [tempo de carregamento de página](/docs/browser/new-relic-browser/getting-started/new-relic-browser) e [coleta de erros](/docs/apm/applications-menu/events/view-apm-error-analytics).
  </Collapser>

  <Collapser id="disable_sinatra_auto_middleware" title="disable_sinatra_auto_middleware">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_DISABLE_SINATRA_AUTO_MIDDLEWARE`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, desativa o middleware do agente para Sinatra. Este middleware é responsável pelo suporte a recursos avançados, como [rastreamento distribuído](/docs/apm/distributed-tracing/getting-started/introduction-distributed-tracing), [tempo de carregamento da página](/docs/browser/new-relic-browser/getting-started/new-relic-browser) e [coleta de erros](/docs/apm/applications-menu/events/view-apm-error-analytics).
  </Collapser>

  <Collapser id="disable_view_instrumentation" title="disable_view_instrumentation">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_DISABLE_VIEW_INSTRUMENTATION`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, desativa a instrumentação de visualização.
  </Collapser>

  <Collapser id="disable_vm_sampler" title="disable_vm_sampler">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_DISABLE_VM_SAMPLER`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente não [coletará amostras de medidas de desempenho da VM Ruby](/docs/agents/ruby-agent/features/ruby-vm-measurements).
  </Collapser>
</CollapserGroup>

## Distributed tracing [#distributed-tracing]

<CollapserGroup>
  <Collapser id="distributed_tracing-enabled" title="distributed_tracing.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_DISTRIBUTED_TRACING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Distributed tracing permite ver o caminho que uma solicitação percorre em seus sistemas distribuídos. Habilitar distributed tracing altera o comportamento de alguns recursos do New Relic, portanto consulte cuidadosamente o [guia de transição](/docs/transition-guide-distributed-tracing) antes de habilitar este recurso.
  </Collapser>

  <Collapser id="distributed_tracing-sampler-root" title="distributed_tracing.sampler.root">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `"adaptive"`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_DISTRIBUTED_TRACING_SAMPLER_ROOT`
          </td>
        </tr>
      </tbody>
    </table>

    Esta configuração controla o comportamento da amostragem de transações para transações sem um pai remoto, rastreios que se originam nesta instância do agente New Relic. Os valores disponíveis são `adaptive` (o padrão), `always_on`, `always_off` e `trace_id_ratio_based`.
  </Collapser>

  <Collapser id="distributed_tracing-sampler-remote_parent_sampled" title="distributed_tracing.sampler.remote_parent_sampled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `"adaptive"`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_DISTRIBUTED_TRACING_SAMPLER_REMOTE_PARENT_SAMPLED`
          </td>
        </tr>
      </tbody>
    </table>

    Esta configuração controla o comportamento da amostragem de transações quando um pai remoto é amostrado. Os valores disponíveis são `adaptive` (o padrão), `always_on`, `always_off` e `trace_id_ratio_based`.
  </Collapser>

  <Collapser id="distributed_tracing-sampler-remote_parent_not_sampled" title="distributed_tracing.sampler.remote_parent_not_sampled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `"adaptive"`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_DISTRIBUTED_TRACING_SAMPLER_REMOTE_PARENT_NOT_SAMPLED`
          </td>
        </tr>
      </tbody>
    </table>

    Esta configuração controla o comportamento da amostragem de transações quando um pai remoto não é amostrado. Os valores disponíveis são `adaptive` (o padrão), `always_on`, `always_off` e `trace_id_ratio_based`.
  </Collapser>
</CollapserGroup>

## Elasticsearch [#elasticsearch]

<CollapserGroup>
  <Collapser id="elasticsearch-capture_cluster_name" title="elasticsearch.capture_cluster_name">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_ELASTICSEARCH_CAPTURE_CLUSTER_NAME`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente captura o Elasticsearch cluster nome no rastreamento da transação.
  </Collapser>

  <Collapser id="elasticsearch-capture_queries" title="elasticsearch.capture_queries">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_ELASTICSEARCH_CAPTURE_QUERIES`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente captura a consulta do Elasticsearch no rastreamento da transação.
  </Collapser>

  <Collapser id="elasticsearch-obfuscate_queries" title="elasticsearch.obfuscate_queries">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_ELASTICSEARCH_OBFUSCATE_QUERIES`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente ofusca a consulta do Elasticsearch no rastreamento da transação.
  </Collapser>
</CollapserGroup>

## Heroku [#heroku]

<CollapserGroup>
  <Collapser id="heroku-use_dyno_names" title="heroku.use_dyno_names">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_HEROKU_USE_DYNO_NAMES`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente usará nomes dinâmicos Heroku como nome do host.
  </Collapser>

  <Collapser id="heroku-dyno_name_prefixes_to_shorten" title="heroku.dyno_name_prefixes_to_shorten">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `["scheduler", "run"]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_HEROKU_DYNO_NAME_PREFIXES_TO_SHORTEN`
          </td>
        </tr>
      </tbody>
    </table>

    Normalmente, o agente relata nomes dinâmicos com um ponto final e um ID de processo (por exemplo, `worker.3`). Você pode remover esses dados finais especificando os prefixos que deseja relatar sem dados finais (por exemplo, `worker`).
  </Collapser>
</CollapserGroup>

## Rastreamento infinito [#infinite-tracing]

<CollapserGroup>
  <Collapser id="infinite_tracing-trace_observer-host" title="infinite_tracing.trace_observer.host">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `""`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INFINITE_TRACING_TRACE_OBSERVER_HOST`
          </td>
        </tr>
      </tbody>
    </table>

    Configura o nome do host para o host observador trace . Quando configurado, permite amostras baseadas na cauda, enviando todos os intervalos registrados para um observador trace para decisões de amostragem adicionais, independentemente de qualquer decisão usual de amostragem do agente.
  </Collapser>

  <Collapser id="infinite_tracing-trace_observer-port" title="infinite_tracing.trace_observer.port">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Inteiro
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `443`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INFINITE_TRACING_TRACE_OBSERVER_PORT`
          </td>
        </tr>
      </tbody>
    </table>

    Configura a porta TCP/IP para o host observador trace
  </Collapser>

  <Collapser id="infinite_tracing-batching" title="infinite_tracing.batching">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INFINITE_TRACING_BATCHING`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true` (o padrão), os dados enviados ao observador trace serão agrupados em lote em vez de enviar cada intervalo individualmente.
  </Collapser>

  <Collapser id="infinite_tracing-compression_level" title="infinite_tracing.compression_level">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Símbolo
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `:high`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INFINITE_TRACING_COMPRESSION_LEVEL`
          </td>
        </tr>
      </tbody>
    </table>

    Configure o nível de compactação para dados enviados ao observador trace . Pode ser um dos seguintes: `:none`, `:low`, `:medium`, `:high`. Defina o nível como `:none` para desabilitar a compactação.
  </Collapser>
</CollapserGroup>

## Instrumentação [#instrumentation]

<CollapserGroup>
  <Collapser id="instrumentation-active_support_notifications-active_support_events" title="instrumentation.active_support_notifications.active_support_events">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `["cache_fetch_hit.active_support", "cache_generate.active_support", "cache_read.active_support", "cache_write.active_support", "cache_delete.active_support", "cache_exist?.active_support", "cache_read_multi.active_support", "cache_write_multi.active_support", "cache_delete_multi.active_support", "cache_delete_matched.active_support", "cache_cleanup.active_support", "cache_increment.active_support", "cache_decrement.active_support", "cache_prune.active_support", "message_serializer_fallback.active_support"]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_ACTIVE_SUPPORT_NOTIFICATIONS_ACTIVE_SUPPORT_EVENTS`
          </td>
        </tr>
      </tbody>
    </table>

    Uma matriz de lista de permissões de eventos de notificações do Active Support específicos da própria biblioteca Active Support que o agente deve assinar. Os eventos específicos da biblioteca Active Support se concentram principalmente em cache. Qualquer nome de evento não incluído nesta lista será ignorado pelo agente. Forneça nomes de eventos completos, como &apos;cache\_fetch\_hit.active\_support&apos;. Não forneça asteriscos ou padrões de regex e não escape nenhum caractere com barras invertidas. Para obter uma lista completa de todos os nomes de eventos Active Support possíveis, consulte a [lista de nomes de cache](https://edgeguides.rubyonrails.org/active_support_instrumentation.html#active-support-caching) e a [lista de nomes de mensagens](https://edgeguides.rubyonrails.org/active_support_instrumentation.html#active-support-messages) da documentação oficial do Rails.
  </Collapser>

  <Collapser id="instrumentation-active_support_broadcast_logger" title="instrumentation.active_support_broadcast_logger">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_ACTIVE_SUPPORT_BROADCAST_LOGGER`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática de `ActiveSupport::BroadcastLogger` na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`. Usado em versões Rails &gt;= 7.1.
  </Collapser>

  <Collapser id="instrumentation-active_support_logger" title="instrumentation.active_support_logger">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_ACTIVE_SUPPORT_LOGGER`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática de `ActiveSupport::Logger` na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`. Usado em versões Rails abaixo de 7.1.
  </Collapser>

  <Collapser id="instrumentation-async_http" title="instrumentation.async_http">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_ASYNC_HTTP`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática de Async::HTTP na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-bunny" title="instrumentation.bunny">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_BUNNY`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática do bunny na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-aws_sdk_firehose" title="instrumentation.aws_sdk_firehose">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_AWS_SDK_FIREHOSE`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática da biblioteca AWS-sdk-firehose na inicialização. Pode ser um de `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-aws_sdk_lambda" title="instrumentation.aws_sdk_lambda">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_AWS_SDK_LAMBDA`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática da biblioteca aws\_sdk\_lambda na inicialização. Pode ser um de `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-aws_sdk_kinesis" title="instrumentation.aws_sdk_kinesis">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_AWS_SDK_KINESIS`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática da biblioteca AWS-sdk-kinesis na inicialização. Pode ser um de `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-ruby_kafka" title="instrumentation.ruby_kafka">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `"auto"`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_RUBY_KAFKA`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática da biblioteca ruby-kafka na inicialização. Pode ser um de `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-opensearch" title="instrumentation.opensearch">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_OPENSEARCH`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática da biblioteca opensearch-ruby na inicialização. Pode ser um de `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-rdkafka" title="instrumentation.rdkafka">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `"auto"`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_RDKAFKA`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática da biblioteca rdkafka na inicialização. Pode ser um de `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-aws_sqs" title="instrumentation.aws_sqs">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `"auto"`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_AWS_SQS`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática da biblioteca aws-sdk-sqs na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-dynamodb" title="instrumentation.dynamodb">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_DYNAMODB`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática da biblioteca aws-sdk-dynamodb na inicialização. Pode ser um de `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-fiber" title="instrumentation.fiber">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_FIBER`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática da classe Fiber na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-concurrent_ruby" title="instrumentation.concurrent_ruby">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_CONCURRENT_RUBY`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática da biblioteca Ruby simultânea na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-curb" title="instrumentation.curb">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_CURB`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática do Curb na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-delayed_job" title="instrumentation.delayed_job">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_DELAYED_JOB`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática do trabalho atrasado na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-elasticsearch" title="instrumentation.elasticsearch">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_ELASTICSEARCH`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática da biblioteca elasticsearch na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-ethon" title="instrumentation.ethon">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_ETHON`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática do ethon na inicialização. Pode ser um de `auto`, `prepend`, `chain`, `disabled`
  </Collapser>

  <Collapser id="instrumentation-excon" title="instrumentation.excon">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `enabled`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_EXCON`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática do Excon na inicialização. Pode ser um dos seguintes: `enabled`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-grape" title="instrumentation.grape">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_GRAPE`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática do Grape na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-grpc_client" title="instrumentation.grpc_client">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_GRPC_CLIENT`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática de clientes gRPC na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-grpc-host_denylist" title="instrumentation.grpc.host_denylist">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_GRPC_HOST_DENYLIST`
          </td>
        </tr>
      </tbody>
    </table>

    Especifica uma lista de padrões de nome do host separados por vírgulas que corresponderão ao nome do host gRPC para o qual o tráfego deve ser ignorado pelo New Relic. A instrumentação do cliente gRPC da New Relic ignorará o tráfego transmitido para um host que corresponda a qualquer um desses padrões, e a instrumentação do servidor gRPC da New Relic ignorará o tráfego para um servidor em execução em um host cujo nome do host corresponda a qualquer um desses padrões. Por padrão, nenhum tráfego é ignorado quando a instrumentação gRPC está habilitada. Por exemplo, `"private.com$,exception.*"`
  </Collapser>

  <Collapser id="instrumentation-grpc_server" title="instrumentation.grpc_server">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_GRPC_SERVER`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática de servidores gRPC na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-httpclient" title="instrumentation.httpclient">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_HTTPCLIENT`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática do HTTPClient na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-httprb" title="instrumentation.httprb">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_HTTPRB`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática da gem http.rb na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-httpx" title="instrumentation.httpx">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_HTTPX`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática de httpx na inicialização. Pode ser um de `auto`, `prepend`, `chain`, `disabled`
  </Collapser>

  <Collapser id="instrumentation-logger" title="instrumentation.logger">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_LOGGER`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática do agente da biblioteca padrão Ruby na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-logstasher" title="instrumentation.logstasher">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_LOGSTASHER`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática da biblioteca LogStasher na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-memcache" title="instrumentation.memcache">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_MEMCACHE`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática do dalli gem para Memcache na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-memcached" title="instrumentation.memcached">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_MEMCACHED`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática do gem memcached para Memcache na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-memcache_client" title="instrumentation.memcache_client">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_MEMCACHE_CLIENT`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática da gema do cliente memcache para Memcache na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-mongo" title="instrumentation.mongo">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `enabled`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_MONGO`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática do Mongo na inicialização. Pode ser um dos seguintes: `enabled`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-net_http" title="instrumentation.net_http">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_NET_HTTP`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática de `Net::HTTP` na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-ruby_openai" title="instrumentation.ruby_openai">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_RUBY_OPENAI`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática da gema ruby-openai na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`. O padrão é `disabled` no modo de alta segurança.
  </Collapser>

  <Collapser id="instrumentation-puma_rack" title="instrumentation.puma_rack">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_PUMA_RACK`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática de `Puma::Rack`. Quando ativado, o agente se conecta ao método `to_app` em `Puma::Rack::Builder` para encontrar gemas para o instrumento durante a inicialização do aplicativo. Pode ser um dos: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-puma_rack_urlmap" title="instrumentation.puma_rack_urlmap">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_PUMA_RACK_URLMAP`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática de `Puma::Rack::URLMap` na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-rack" title="instrumentation.rack">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_RACK`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática do Rack. Quando ativado, o agente se conecta ao método `to_app` em `Rack::Builder` para encontrar gemas para o instrumento durante a inicialização do aplicativo. Pode ser um dos: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-rack_urlmap" title="instrumentation.rack_urlmap">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_RACK_URLMAP`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática de `Rack::URLMap` na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-rake" title="instrumentation.rake">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_RAKE`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática do rake na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-redis" title="instrumentation.redis">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_REDIS`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática do Redis na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-resque" title="instrumentation.resque">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_RESQUE`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática de resque na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-roda" title="instrumentation.roda">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_RODA`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática do Roda na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-sinatra" title="instrumentation.sinatra">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_SINATRA`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática do Sinatra na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-stripe" title="instrumentation.stripe">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `"enabled"`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_STRIPE`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática do Stripe na inicialização. Pode ser um dos seguintes: `enabled`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-view_component" title="instrumentation.view_component">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_VIEW_COMPONENT`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática do ViewComponent na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-thread" title="instrumentation.thread">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_THREAD`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática da classe Thread na inicialização para permitir que o agente aninhe corretamente os spans dentro de uma transação assíncrona. Isso não permite que o agente trace automaticamente todos os threads criados (consulte `instrumentation.thread.tracing`). Pode ser um de: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-thread-tracing" title="instrumentation.thread.tracing">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_THREAD_TRACING`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática da classe Thread na inicialização para adicionar automaticamente rastreamento a todos os Threads criados no aplicativo.
  </Collapser>

  <Collapser id="instrumentation-tilt" title="instrumentation.tilt">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_TILT`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática da biblioteca de renderização de modelos Tilt na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-typhoeus" title="instrumentation.typhoeus">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_TYPHOEUS`
          </td>
        </tr>
      </tbody>
    </table>

    Controla a instrumentação automática do Typhoeus na inicialização. Pode ser um dos seguintes: `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>
</CollapserGroup>

## Tracer de mensagens [#message-tracer]

<CollapserGroup>
  <Collapser id="message_tracer-segment_parameters-enabled" title="message_tracer.segment_parameters.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_MESSAGE_TRACER_SEGMENT_PARAMETERS_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente coletará metadados sobre mensagens e os anexará como parâmetro de segmento.
  </Collapser>
</CollapserGroup>

## Mongo [#mongo]

<CollapserGroup>
  <Collapser id="mongo-capture_queries" title="mongo.capture_queries">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_MONGO_CAPTURE_QUERIES`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente captura a consulta Mongo no rastreamento da transação.
  </Collapser>

  <Collapser id="mongo-obfuscate_queries" title="mongo.obfuscate_queries">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_MONGO_OBFUSCATE_QUERIES`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente ofusca a consulta do Mongo no rastreamento da transação.
  </Collapser>
</CollapserGroup>

## Opensearch [#opensearch]

<CollapserGroup>
  <Collapser id="opensearch-capture_queries" title="opensearch.capture_queries">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_OPENSEARCH_CAPTURE_QUERIES`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente captura a consulta do OpenSearch no rastreamento da transação.
  </Collapser>

  <Collapser id="opensearch-obfuscate_queries" title="opensearch.obfuscate_queries">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_OPENSEARCH_OBFUSCATE_QUERIES`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente ofusca a consulta do OpenSearch no rastreamento da transação.
  </Collapser>
</CollapserGroup>

## Anfitrião do processo [#process-host]

<CollapserGroup>
  <Collapser id="process_host-display_name" title="process_host.display_name">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `(Dynamic)`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_PROCESS_HOST_DISPLAY_NAME`
          </td>
        </tr>
      </tbody>
    </table>

    Especifique um nome de host personalizado para [exibição na interface do New Relic](/docs/apm/new-relic-apm/maintenance/add-rename-remove-hosts#display_name).
  </Collapser>
</CollapserGroup>

## Ancinho [#rake]

<CollapserGroup>
  <Collapser id="rake-tasks" title="rake.tasks">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_RAKE_TASKS`
          </td>
        </tr>
      </tbody>
    </table>

    Especifique uma matriz de tarefas Rake para serem instrumentadas automaticamente. Esta opção de configuração converte a matriz em uma lista RegEx. Se quiser permitir todas as tarefas por padrão, use `rake.tasks: [.+]`. Nenhuma tarefa de rake será instrumentada a menos que seja adicionada a esta lista. Para obter mais informações, visite a [documentação sobre instrumentação do New Relic Rake](/docs/apm/agents/ruby-agent/background-jobs/rake-instrumentation).
  </Collapser>

  <Collapser id="rake-connect_timeout" title="rake.connect_timeout">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Inteiro
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `10`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_RAKE_CONNECT_TIMEOUT`
          </td>
        </tr>
      </tbody>
    </table>

    Tempo limite para esperar a conclusão da conexão antes de uma tarefa rake
  </Collapser>
</CollapserGroup>

## Regras [#rules]

<CollapserGroup>
  <Collapser id="rules-ignore_url_regexes" title="rules.ignore_url_regexes">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_RULES_IGNORE_URL_REGEXES`
          </td>
        </tr>
      </tbody>
    </table>

    Defina a transação que você deseja que o agente ignore, especificando uma lista de padrões que correspondem ao URI que você deseja ignorar. Para obter mais detalhes, consulte [a documentação sobre como ignorar transações específicas](/docs/agents/ruby-agent/api-guides/ignoring-specific-transactions/#config-ignoring).
  </Collapser>
</CollapserGroup>

## Segurança [#security]

<CollapserGroup>
  <Collapser id="security-agent-enabled" title="security.agent.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SECURITY_AGENT_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente de segurança é carregado (um Ruby &apos;require&apos; é executado)
  </Collapser>

  <Collapser id="security-enabled" title="security.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SECURITY_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente de segurança será iniciado (o agente é executado em seu loop de eventos)
  </Collapser>

  <Collapser id="security-mode" title="security.mode">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `"IAST"`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SECURITY_MODE`
          </td>
        </tr>
      </tbody>
    </table>

    Define o modo em que o agente de segurança operará. Atualmente apenas `IAST` é compatível
  </Collapser>

  <Collapser id="security-validator_service_url" title="security.validator_service_url">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `"wss://csec.nr-data.net"`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SECURITY_VALIDATOR_SERVICE_URL`
          </td>
        </tr>
      </tbody>
    </table>

    Define o URL do endpoint para postar dados relacionados à segurança
  </Collapser>

  <Collapser id="security-application_info-port" title="segurança.aplicativo.port">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Inteiro
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `nil`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SECURITY_APPLICATION_INFO_PORT`
          </td>
        </tr>
      </tbody>
    </table>

    A porta em que o aplicativo está escutando. Esta configuração é obrigatória para servidores Passenger. O agente detecta outros servidores por padrão.
  </Collapser>

  <Collapser id="security-exclude_from_iast_scan-api" title="security.exclude_from_iast_scan.api">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SECURITY_EXCLUDE_FROM_IAST_SCAN_API`
          </td>
        </tr>
      </tbody>
    </table>

    Define os caminhos da API que o agente de segurança deve ignorar nas verificações IAST. Aceita uma matriz de padrões regex correspondentes ao URI a ser ignorado. O padrão regex deve encontrar uma correspondência completa para a URL sem o endpoint. Por exemplo, `[".*account.*"], [".*/\api\/v1\/.*?\/login"]`
  </Collapser>

  <Collapser id="security-exclude_from_iast_scan-http_request_parameters-header" title="security.exclude_from_iast_scan.http_request_parameters.header">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SECURITY_EXCLUDE_FROM_IAST_SCAN_HTTP_REQUEST_PARAMETERS_HEADER`
          </td>
        </tr>
      </tbody>
    </table>

    Uma matriz de cabeçalhos de solicitação HTTP que o agente de segurança deve ignorar nas varreduras IAST . A matriz deve especificar uma lista de padrões correspondentes aos cabeçalhos a serem ignorados.
  </Collapser>

  <Collapser id="security-exclude_from_iast_scan-http_request_parameters-query" title="security.exclude_from_iast_scan.http_request_parameters.query">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SECURITY_EXCLUDE_FROM_IAST_SCAN_HTTP_REQUEST_PARAMETERS_QUERY`
          </td>
        </tr>
      </tbody>
    </table>

    Uma matriz de parâmetros de consulta de solicitação HTTP que o agente de segurança deve ignorar em varreduras IAST . A matriz deve especificar uma lista de padrões correspondentes à solicitação HTTP consulta parâmetro a ser ignorada.
  </Collapser>

  <Collapser id="security-exclude_from_iast_scan-http_request_parameters-body" title="security.exclude_from_iast_scan.http_request_parameters.body">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SECURITY_EXCLUDE_FROM_IAST_SCAN_HTTP_REQUEST_PARAMETERS_BODY`
          </td>
        </tr>
      </tbody>
    </table>

    Uma matriz de chaves de corpo de solicitação HTTP que o agente de segurança deve ignorar nas verificações IAST.
  </Collapser>

  <Collapser id="security-exclude_from_iast_scan-iast_detection_category-insecure_settings" title="security.exclude_from_iast_scan.iast_detection_category.insecure_settings">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SECURITY_EXCLUDE_FROM_IAST_SCAN_IAST_DETECTION_CATEGORY_INSECURE_SETTINGS`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, desabilita a detecção de configurações inseguras de baixa gravidade. Por exemplo, aplicar hash, criptografia, cookie, geradores aleatórios, limite de confiança).
  </Collapser>

  <Collapser id="security-exclude_from_iast_scan-iast_detection_category-invalid_file_access" title="security.exclude_from_iast_scan.iast_detection_category.invalid_file_access">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SECURITY_EXCLUDE_FROM_IAST_SCAN_IAST_DETECTION_CATEGORY_INVALID_FILE_ACCESS`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, desabilita as detecções IAST relacionadas à operação do arquivo (violação de acesso ao arquivo e integridade do aplicativo)
  </Collapser>

  <Collapser id="security-exclude_from_iast_scan-iast_detection_category-sql_injection" title="security.exclude_from_iast_scan.iast_detection_category.sql_injection">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SECURITY_EXCLUDE_FROM_IAST_SCAN_IAST_DETECTION_CATEGORY_SQL_INJECTION`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, desabilita a detecção de injeção de SQL em varreduras IAST.
  </Collapser>

  <Collapser id="security-exclude_from_iast_scan-iast_detection_category-nosql_injection" title="security.exclude_from_iast_scan.iast_detection_category.nosql_injection">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SECURITY_EXCLUDE_FROM_IAST_SCAN_IAST_DETECTION_CATEGORY_NOSQL_INJECTION`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, desabilita a detecção de injeção de NOSQL em varreduras IAST.
  </Collapser>

  <Collapser id="security-exclude_from_iast_scan-iast_detection_category-ldap_injection" title="security.exclude_from_iast_scan.iast_detection_category.ldap_injection">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SECURITY_EXCLUDE_FROM_IAST_SCAN_IAST_DETECTION_CATEGORY_LDAP_INJECTION`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, desabilita a detecção de injeção de LDAP em varreduras IAST.
  </Collapser>

  <Collapser id="security-exclude_from_iast_scan-iast_detection_category-javascript_injection" title="security.exclude_from_iast_scan.iast_detection_category.javascript_injection">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SECURITY_EXCLUDE_FROM_IAST_SCAN_IAST_DETECTION_CATEGORY_JAVASCRIPT_INJECTION`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, desabilita a detecção de injeção de Javascript em varreduras IAST.
  </Collapser>

  <Collapser id="security-exclude_from_iast_scan-iast_detection_category-command_injection" title="security.exclude_from_iast_scan.iast_detection_category.command_injection">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SECURITY_EXCLUDE_FROM_IAST_SCAN_IAST_DETECTION_CATEGORY_COMMAND_INJECTION`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, desabilita a detecção de injeção de comando do sistema em varreduras IAST.
  </Collapser>

  <Collapser id="security-exclude_from_iast_scan-iast_detection_category-xpath_injection" title="security.exclude_from_iast_scan.iast_detection_category.xpath_injection">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SECURITY_EXCLUDE_FROM_IAST_SCAN_IAST_DETECTION_CATEGORY_XPATH_INJECTION`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, desabilita a detecção de injeção de XPATH em varreduras IAST.
  </Collapser>

  <Collapser id="security-exclude_from_iast_scan-iast_detection_category-ssrf" title="security.exclude_from_iast_scan.iast_detection_category.ssrf">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SECURITY_EXCLUDE_FROM_IAST_SCAN_IAST_DETECTION_CATEGORY_SSRF`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, desabilita a detecção de falsificação de solicitação do lado do servidor (SSRF) em verificações IAST.
  </Collapser>

  <Collapser id="security-exclude_from_iast_scan-iast_detection_category-rxss" title="security.exclude_from_iast_scan.iast_detection_category.rxss">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SECURITY_EXCLUDE_FROM_IAST_SCAN_IAST_DETECTION_CATEGORY_RXSS`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, desabilita a detecção de script entre sites refletido (RXSS) em verificações IAST .
  </Collapser>

  <Collapser id="security-scan_schedule-delay" title="security.scan_schedule.delay">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Inteiro
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `0`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SECURITY_SCAN_SCHEDULE_DELAY`
          </td>
        </tr>
      </tbody>
    </table>

    Especifica o tempo de atraso (em minutos) antes do início da varredura IAST após o início do aplicativo.
  </Collapser>

  <Collapser id="security-scan_schedule-duration" title="security.scan_schedule.duration">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Inteiro
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `0`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SECURITY_SCAN_SCHEDULE_DURATION`
          </td>
        </tr>
      </tbody>
    </table>

    Indica a duração (em minutos) em que a varredura IAST será realizada.
  </Collapser>

  <Collapser id="security-scan_schedule-schedule" title="security.scan_schedule.schedule">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `""`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SECURITY_SCAN_SCHEDULE_SCHEDULE`
          </td>
        </tr>
      </tbody>
    </table>

    Especifica uma expressão cron que define quando a verificação IAST deve ser executada.
  </Collapser>

  <Collapser id="security-scan_schedule-always_sample_traces" title="security.scan_schedule.always_sample_traces">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SECURITY_SCAN_SCHEDULE_ALWAYS_SAMPLE_TRACES`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, permite que IAST reúna continuamente dados trace em segundo plano. O agente de segurança usa os dados coletados para executar uma verificação IAST no horário agendado.
  </Collapser>

  <Collapser id="security-scan_controllers-iast_scan_request_rate_limit" title="security.scan_controllers.iast_scan_request_rate_limit">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Inteiro
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `3600`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SECURITY_SCAN_CONTROLLERS_IAST_SCAN_REQUEST_RATE_LIMIT`
          </td>
        </tr>
      </tbody>
    </table>

    Define o número máximo de requests HTTP permitidas para a varredura IAST por minuto. Qualquer número inteiro entre 12 e 3600 é válido. O valor padrão é 3600.
  </Collapser>

  <Collapser id="security-scan_controllers-scan_instance_count" title="security.scan_controllers.scan_instance_count">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Inteiro
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `0`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SECURITY_SCAN_CONTROLLERS_SCAN_INSTANCE_COUNT`
          </td>
        </tr>
      </tbody>
    </table>

    O número de instância do aplicativo para uma entidade específica na qual realizar a análise IAST .
  </Collapser>

  <Collapser id="security-scan_controllers-report_http_response_body" title="security.scan_controllers.report_http_response_body">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SECURITY_SCAN_CONTROLLERS_REPORT_HTTP_RESPONSE_BODY`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, habilita o envio de corpos de respostas HTTP. Desabilitar isso também desabilita a detecção de vulnerabilidades do Reflected Cross-Site Script (RXSS).
  </Collapser>

  <Collapser id="security-iast_test_identifier" title="security.iast_test_identifier">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `nil`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SECURITY_IAST_TEST_IDENTIFIER`
          </td>
        </tr>
      </tbody>
    </table>

    Um identificador de teste exclusivo ao executar o IAST em um ambiente de CI/CD para diferenciar entre diferentes execuções de teste. Por exemplo, um número de compilação.
  </Collapser>
</CollapserGroup>

## Modo sem servidor [#serverless-mode]

<CollapserGroup>
  <Collapser id="serverless_mode-enabled" title="serverless_mode.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SERVERLESS_MODE_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente operará em um modo simplificado adequado para uso com funções sem servidor de curta duração. OBSERVAÇÃO:AWS Somente a função do Lambda é suportada atualmente e esta opção não deve ser usada sem a [New Relic Ruby Lambda ](https://docs.newrelic.com/docs/serverless-function-monitoring/aws-lambda-monitoring/get-started/monitoring-aws-lambda-serverless-monitoring/)oferta da camada da .
  </Collapser>
</CollapserGroup>

## Auxiliar [#sidekiq]

<CollapserGroup>
  <Collapser id="sidekiq-args-include" title="sidekiq.args.include">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SIDEKIQ_ARGS_INCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Uma matriz de strings que servirá coletivamente como uma lista de permissões para filtrar quais argumentos de trabalho do Sidekiq serão relatados ao New Relic. Para capturar quaisquer argumentos do Sidekiq, &apos;job.sidekiq.args.\*&apos; deve ser adicionado à opção de configuração `:'attributes.include'` separada. Cada string nesta matriz será transformada em uma expressão regular por meio de `Regexp.new` para permitir correspondência avançada. Para argumento de trabalho aplique hash, se uma chave ou valor corresponder, o par será incluído. Todos os elementos da matriz de argumentos de trabalho e escalares de argumentos de trabalho correspondentes serão incluídos.
  </Collapser>

  <Collapser id="sidekiq-args-exclude" title="sidekiq.args.exclude">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SIDEKIQ_ARGS_EXCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Uma matriz de strings que servirá coletivamente como uma lista de bloqueios para filtrar quais argumentos de trabalho do Sidekiq serão relatados ao New Relic. Para capturar quaisquer argumentos do Sidekiq, &apos;job.sidekiq.args.\*&apos; deve ser adicionado à opção de configuração `:'attributes.include'` separada. Cada string nesta matriz será transformada em uma expressão regular por meio de `Regexp.new` para permitir correspondência avançada. Para argumento de trabalho aplique hash, se uma chave ou valor corresponder, o par será excluído. Todos os elementos da matriz de argumentos de trabalho e escalares de argumentos de trabalho correspondentes serão excluídos.
  </Collapser>

  <Collapser id="sidekiq-ignore_retry_errors" title="sidekiq.ignore_retry_errors">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SIDEKIQ_IGNORE_RETRY_ERRORS`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente ignorará as exceções geradas durante as tentativas de repetição do Sidekiq e só reportará o erro se o trabalho falhar permanentemente.
  </Collapser>
</CollapserGroup>

## SQL lento [#slow-sql]

<CollapserGroup>
  <Collapser id="slow_sql-enabled" title="slow_sql.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SLOW_SQL_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente coleta [consultas SQL lentas](/docs/apm/applications-menu/monitoring/viewing-slow-query-details).
  </Collapser>

  <Collapser id="slow_sql-explain_threshold" title="slow_sql.explain_threshold">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Float
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `0.5`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SLOW_SQL_EXPLAIN_THRESHOLD`
          </td>
        </tr>
      </tbody>
    </table>

    Especifique um limite em segundos. O agente coleta [consultas SQL lentas](/docs/apm/applications-menu/monitoring/viewing-slow-query-details) e explica os planos que excedem esse limite.
  </Collapser>

  <Collapser id="slow_sql-explain_enabled" title="slow_sql.explain_enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SLOW_SQL_EXPLAIN_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente coleta planos explicativos em consulta SQL lenta. Se esta configuração for omitida, a configuração [`transaction_tracer.explain_enabled`](#transaction_tracer-explain_enabled) também será aplicada como configuração padrão para planos de explicação em SQL lento.
  </Collapser>

  <Collapser id="slow_sql-record_sql" title="slow_sql.record_sql">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Corda
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `obfuscated`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SLOW_SQL_RECORD_SQL`
          </td>
        </tr>
      </tbody>
    </table>

    Define um nível de ofuscação para consultas SQL lentas. As opções válidas são `obfuscated`, `raw` ou `none`.
  </Collapser>

  <Collapser id="slow_sql-use_longer_sql_id" title="slow_sql.use_longer_sql_id">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SLOW_SQL_USE_LONGER_SQL_ID`
          </td>
        </tr>
      </tbody>
    </table>

    Gere um `sql_id` mais longo para rastreamento SQL lento. `sql_id` é usado para agregação de consultas semelhantes.
  </Collapser>
</CollapserGroup>

## Evento de extensão [#span-events]

<CollapserGroup>
  <Collapser id="span_events-enabled" title="span_events.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SPAN_EVENTS_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, habilita a amostragem de eventos de extensão.
  </Collapser>

  <Collapser id="span_events-queue_size" title="span_events.queue_size">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Inteiro
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `10000`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SPAN_EVENTS_QUEUE_SIZE`
          </td>
        </tr>
      </tbody>
    </table>

    Define o número máximo de eventos de span para buffer durante o streaming para o observador trace .
  </Collapser>

  <Collapser id="span_events-max_samples_stored" title="span_events.max_samples_stored">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Inteiro
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `2000`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_SPAN_EVENTS_MAX_SAMPLES_STORED`
          </td>
        </tr>
      </tbody>
    </table>

    * Define o número máximo de eventos de span relatados de uma única coleta. Qualquer número inteiro entre `1` e `10000` é válido.&apos;
    * Ao configurar o agente para [AI Monitoring](/docs/ai-monitoring/intro-to-ai-monitoring), defina o valor máximo `10000`. Isso garante que o agente capture a quantidade máxima de rastreamento distribuído.
  </Collapser>
</CollapserGroup>

## Remover mensagens de exceção [#strip-exception-messages]

<CollapserGroup>
  <Collapser id="strip_exception_messages-enabled" title="strip_exception_messages.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_STRIP_EXCEPTION_MESSAGES_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se verdadeiro, o agente remove mensagens de todas as exceções, exceto aquelas na [lista de classes permitidas](#strip_exception_messages-allowed_classes). Ativado automaticamente no [modo de alta segurança](/docs/accounts-partnerships/accounts/security/high-security).
  </Collapser>

  <Collapser id="strip_exception_messages-allowed_classes" title="strip_exception_messages.allowed_classes">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_STRIP_EXCEPTION_MESSAGES_ALLOWED_CLASSES`
          </td>
        </tr>
      </tbody>
    </table>

    Especifique uma lista de exceções que você não deseja que o agente remova quando [strip\_exception\_messages](#strip_exception_messages-enabled) for `true`. Separe as exceções com vírgula. Por exemplo, `"ImportantException,PreserveMessageException"`.
  </Collapser>
</CollapserGroup>

## Stripe [#stripe]

<CollapserGroup>
  <Collapser id="stripe-user_data-include" title="stripe.user_data.include">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_STRIPE_USER_DATA_INCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Uma matriz de strings para especificar quais chaves dentro do hash `user_data` de um evento Stripe devem ser reportadas ao New Relic. Cada string nesta matriz será transformada em uma expressão regular via `Regexp.new` para habilitar a correspondência avançada. Definir o valor como `["."]` reportará todos `user_data`.
  </Collapser>

  <Collapser id="stripe-user_data-exclude" title="stripe.user_data.exclude">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Matriz
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_STRIPE_USER_DATA_EXCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Uma matriz de strings para especificar quais chaves e/ou valores dentro do hash `user_data` de um evento do Stripe não devem ser reportados ao New Relic. Cada string nesta matriz será transformada em uma expressão regular via `Regexp.new` para permitir correspondência avançada. Para cada par de hash aplica, se a chave ou o valor forem correspondidos, o par não será relatado. Por padrão, nenhum `user_data` é relatado. Use esta opção somente se a opção `stripe.user_data.include` também for usada.
  </Collapser>
</CollapserGroup>

## Profiler de thread [#thread-profiler]

<CollapserGroup>
  <Collapser id="thread_profiler-enabled" title="thread_profiler.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_THREAD_PROFILER_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, habilita o uso do [thread profiler](/docs/apm/applications-menu/events/thread-profiler-tool).
  </Collapser>
</CollapserGroup>

## Utilização [#utilization]

<CollapserGroup>
  <Collapser id="utilization-detect_aws" title="utilization.detect_aws">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_UTILIZATION_DETECT_AWS`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente detectará automaticamente que está em execução em um ambiente AWS.
  </Collapser>

  <Collapser id="utilization-detect_azure" title="utilization.detect_azure">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_UTILIZATION_DETECT_AZURE`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente detecta automaticamente que está em execução em um ambiente do Azure.
  </Collapser>

  <Collapser id="utilization-detect_docker" title="utilization.detect_docker">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_UTILIZATION_DETECT_DOCKER`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente detecta automaticamente que está em execução no Docker.
  </Collapser>

  <Collapser id="utilization-detect_gcp" title="utilization.detect_gcp">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_UTILIZATION_DETECT_GCP`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente detectará automaticamente que está em execução em um ambiente do Google Cloud Platform.
  </Collapser>

  <Collapser id="utilization-detect_kubernetes" title="utilization.detect_kubernetes">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_UTILIZATION_DETECT_KUBERNETES`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente detectará automaticamente que está em execução no Kubernetes.
  </Collapser>

  <Collapser id="utilization-detect_pcf" title="utilization.detect_pcf">
    <table>
      <tbody>
        <tr>
          <th>
            Tipo
          </th>

          <td>
            Boleano
          </td>
        </tr>

        <tr>
          <th>
            Padrão
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variável ambiental
          </th>

          <td>
            `NEW_RELIC_UTILIZATION_DETECT_PCF`
          </td>
        </tr>
      </tbody>
    </table>

    Se `true`, o agente detectará automaticamente que está em execução em um ambiente Pivotal Cloud Foundry.
  </Collapser>
</CollapserGroup>