---
title: Introdução ao New Relic para Java
tags:
  - Agents
  - Java agent
  - Getting started
metaDescription: 'For an overview of New Relic''s Java agent (compatibility, requirements, installation, configuration), start here.'
freshnessValidatedDate: never
translationType: machine
---

Com o agente Java da New Relic, você pode rastrear tudo, desde problemas de desempenho até pequenos erros em seu código. A cada minuto, o agente publica [métricas de fração de tempo e dados de eventos](/docs/data-analysis/metrics/analyze-your-metrics/data-collection-metric-timeslice-event-data) na interface do usuário do New Relic, onde o proprietário desses dados pode fazer login e usar os dados para ver o desempenho de seu site.

Use o agente Java da New Relic para resolver problemas de desempenho do seu aplicativo com nosso [tutorial Meu aplicativo está lento](/docs/journey-app-slow/root-causes/).

<Callout variant="tip">
  Você está curioso sobre as tendências em Java? Veja nosso relatório [2024 State of the Java Ecosystem](https://newrelic.com/resources/report/2024-state-of-the-java-ecosystem).
</Callout>

## instalação [#java-installation]

Para usar o agente Java:

1. Certifique-se de que seu sistema atenda à [compatibilidade e aos requisitos do agente Java](/docs/compatibility-requirements-java-agent).
2. Cadastre-se para obter sua conta gratuita, caso ainda não o tenha feito.<InlineSignup/>
3. Instale o agente Java usando nosso inicializador ou seguindo a [documentação de instalação](/install/java/).

<ButtonGroup>
  <ButtonLink
    role="button"
    to="/docs/agents/java-agent/installation/install-java-agent"
    variant="normal"
  >
    Leia os documentos de instalação
  </ButtonLink>

  <ButtonLink
    role="button"
    to="https://one.newrelic.com/marketplace/install-data-source?state=f91bc85d-0574-6e23-b90a-4d89c7c12866"
    variant="primary"
  >
    Adicionar dados Java
  </ButtonLink>
</ButtonGroup>

Para [visualizar o desempenho do seu aplicativo na interface New Relic ](/docs/apm/applications-menu/monitoring/apm-overview-page), vá para <DNT>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > APM & services > (select an app) > Summary**</DNT>. A interface do usuário do APM inclui uma [página<DNT>**JVM metrics**</DNT> ](/docs/agents/java-agent/features/jvm-metrics-page)dedicada, detalhes [de transação](/docs/apm/transactions) e [erro](/docs/apm/applications-menu/error-analytics/introduction-error-analytics) , uma [ferramenta profiler de thread](/docs/apm/applications-menu/events/thread-profiler-tool) para amostrar threads Java e relatar rastreamento de pilha e muito mais.

Você também pode [estender sua instrumentação de agente](#extend-instrumentation) e explorar seus dados com outros recursos do New Relic, incluindo nossa [métrica e explorador de eventos](/docs/query-your-data/explore-query-data/data-explorer/introduction-data-explorer) e [dashboard](/docs/query-your-data/explore-query-data/dashboards/introduction-new-relic-one-dashboards).

## Configuração de inicialização [#h2-startup]

O agente Java lê a configuração de inicialização do arquivo `newrelic.yml` , que deve estar no mesmo diretório que `newrelic.jar`. Você também pode substituir configurações usando as propriedades do sistema Java.

O agente precisa das configurações `license_key` e `app_name` na inicialização (bootstrap). Você pode [personalizar](/docs/agents/java-agent/configuration/java-agent-configuration-config-file) o local do arquivo de log e outras configurações no arquivo `newrelic.yml` . Além disso, você pode ajustar a configuração de nomenclatura se o seu servidor de aplicativos executar [vários aplicativos na mesma JVM](/docs/agents/java-agent/configuration/automatic-application-naming).

## Opções de configuração [#h2-configuration]

Você pode configurar relatórios do aplicativo na interface da web do New Relic usando [configuração no lado do servidor](/docs/agents/manage-apm-agents/configuration/server-side-agent-configuration). As alterações serão aplicadas a todos os relatórios de agente do seu aplicativo quando a JVM for reiniciada. No entanto, se você usar a configuração no lado do servidor, ainda deverá manter as configurações necessárias (`license_key` e `app_name`) no arquivo de configuração local.

Tanto o rastreamento da transação quanto os instantâneos de erro podem opcionalmente registrar parâmetros HTTP. Às vezes, os parâmetros HTTP contêm informações confidenciais, como número de cartão de crédito. O agente possui diversas [opções de configuração para garantir a segurança dos dados](/docs/agents/java-agent/getting-started/apm-agent-security-java), como coletar parâmetros HTTP, mas excluir determinados parâmetros nomeados.

## Visualize o log do seu APM e dados de infraestrutura [#logs-context]

Você também pode reunir os dados do seu log e da aplicação para tornar a resolução de problemas mais fácil e rápida. Com [os logs contextualizados](/docs/logs/logs-context/java-configure-logs-context-all/), você pode ver a mensagem do log relacionada aos seus erros e rastrear diretamente na interface do seu aplicativo. Você também pode ver o logs contextualizados dos [dados da sua infraestrutura](/docs/logs/forward-logs/forward-your-logs-using-infrastructure-agent/), como cluster do Kubernetes. Não há necessidade de mudar para outra página de interface.

## Instrumentação adicional [#extend-instrumentation]

Depois de instalar o agente Java, use qualquer um destes métodos para estender sua instrumentação:

* [instrumentação personalizada:](/docs/agents/manage-apm-agents/agent-metrics/custom-instrumentation) Implementar instrumentação Java personalizada via anotação ou XML.

* [Habilite distributed tracing](/docs/apm/distributed-tracing/getting-started/introduction-distributed-tracing)[:](/docs/agents/manage-apm-agents/agent-metrics/collect-custom-attributes) veja os caminhos de suas solicitações à medida que elas se espalham por uma arquitetura distribuída de vários serviços.

* [Coletar atributo personalizado:](/docs/agents/manage-apm-agents/agent-metrics/collect-custom-attributes) Coletar atributo personalizado via API ou arquivo XML.

* [API do agente Java:](/docs/agents/java-agent/custom-instrumentation/java-agent-api) use a API para controlar, customizar ou estender a funcionalidade do agente Java.

* [Instrumentação do browser:](/docs/browser/new-relic-browser/page-load-timing-resources/page-load-timing-process) integre o agente Java ao

  <InlinePopover type="browser">
    [](/docs/browser/new-relic-browser/getting-started/new-relic-browser)
  </InlinePopover>

  para obter visibilidade da atividade do usuário final.

* [circuit breaker para instrumentação Java personalizada:](/docs/agents/java-agent/custom-instrumentation/circuit-breaker-java-custom-instrumentation) Use um circuit breaker para proteger o aplicativo contra excesso de instrumentação.

* [Instrumentação JMX customizada por YAML:](/docs/agents/java-agent/custom-instrumentation/custom-jmx-instrumentation-yaml) Visualize métrica JMX customizada com um arquivo de instrumentação personalizada YAML.

* [Página métrica JVM:](/docs/apm/applications-menu/monitoring/jvm-metrics-page) Colete métricas dos servidores de aplicativos mais comuns por meio do JMX.

* [Telemetria de código aberto:](/docs/integrations/open-source-telemetry-integrations/get-started/introduction-new-relics-open-source-telemetry-integrations) Oferecemos uma variedade de ferramentas, como [Kamon Reporter](/docs/integrations/open-source-telemetry-integrations/open-source-telemetry-integration-list/kamon-reporter), [OpenTelemetry exporter](/docs/integrations/open-source-telemetry-integrations/open-source-telemetry-integration-list/new-relics-opentelemetry-integration), [Micrometer métrica Registry](/docs/integrations/open-source-telemetry-integrations/open-source-telemetry-integration-list/new-relics-micrometer-integration) e [Java telemetria SDK](/docs/data-ingest-apis/get-data-new-relic/new-relic-sdks/telemetry-sdks-send-custom-telemetry-data-new-relic).

## Quando reiniciar sua JVM [#jvm_restart]

Ao fazer uma alteração em sua configuração ou em seu XML customizado, em quase todos os casos você deverá reiniciar sua JVM. Existem apenas quatro situações em que **não** é necessário reiniciar:

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        <DNT>
          **JVM restart is not required for...**
        </DNT>
      </th>

      <th>
        <DNT>
          **Comments**
        </DNT>
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        alterações no nível de log ou no modo de auditoria
      </td>

      <td>
        Se você estiver simplesmente alterando `log_level` ou `audit_mode` no [arquivo de configuração do agente Java](/docs/agents/java-agent/configuration/java-agent-configuration-config-file), não será necessário reiniciar a JVM.
      </td>
    </tr>

    <tr>
      <td>
        Arquivo XML de instrumentação personalizada
      </td>

      <td>
        A reinicialização da JVM depende da versão do seu agente Java:

        * 3.15.0 ou superior: Se você estiver atualizando um arquivo XML de instrumentação personalizada na pasta de extensões, as atualizações serão recarregadas automaticamente em um minuto.
        * Versões do agente Java inferiores a 3.15.0: Se você estiver usando uma versão do agente anterior à 3.15.0, você deve reiniciar a JVM.
      </td>
    </tr>

    <tr>
      <td>
        mudanças circuit breaker
      </td>

      <td>
        Caso você esteja [trocando o circuit breaker](/docs/agents/java-agent/custom-instrumentation/circuit-breaker-java-custom-instrumentation#troubleshooting) para instrumentação Java personalizada, não é necessário reiniciar a JVM.
      </td>
    </tr>

    <tr>
      <td>
        Ignorado ou erro esperado
      </td>

      <td>
        Se você estiver ignorando ou esperando erros ao configurar o arquivo `newrelic.yml` , não será necessário reiniciar a JVM. Isso inclui a adição de códigos de status ou classes ao arquivo `newrelic.yml` ao usar o agente Java versão 3.40.0 ou superior. Por exemplo:

        * `ignore_status_codes`
        * `expected_status_codes`
        * `ignore_classes`
        * `ignore_messages`
        * `expected_classes`
        * `expected_messages`
      </td>
    </tr>
  </tbody>
</table>

Todas as outras alterações exigem a reinicialização do agente, o que significa reiniciar a JVM.

## Conformidade com JSR 163 [#jvm]

O agente Java da New Relic monitora transações da web, recebendo informações sobre elas e comunicando essas informações à interface do usuário da New Relic com fortes medidas [de segurança de dados](/docs/accounts-partnerships/accounts/security/data-security) em vigor. O agente é empacotado como um `javaagent` compatível com JSR 163 que é ativado pela JVM por meio de modificações no lançamento da JVM. Uma vez ativado, o agente se insere no fluxo de carregamento da classe e nos métodos da classe instrumento usando instrumentação de código de bytes (bci).

Projetadas para causar impacto mínimo em seu aplicativo Web, todas as classes estão no namespace do pacote `newrelic` para que não colidam com suas próprias classes. O agente usa o mecanismo ASM bci para inserir sondas de software.

O agente recebe informações básicas sobre seu ambiente host, como sistema operacional, versão Java, propriedades do sistema e seu arquivo de configuração do New Relic. O agente também pesquisa dados da JVM e do JMX.

## procedimentos de resolução de problemas [#troubleshoot]

Se você tiver problemas, consulte [Nenhum dado aparece](/docs/apm/agents/java-agent/troubleshooting/no-data-appears-java) e outros documentos sobre resolução de problemas nessa seção.
