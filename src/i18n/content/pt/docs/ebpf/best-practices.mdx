---
title: eBPF agente práticas recomendadas guia
tags:
  - New Relic solutions
  - Best practices guides
  - eBPF
metaDescription: Best practices to help you find problems faster and deliver a better experience to your customers with New Relic's eBPF solution.
freshnessValidatedDate: never
translationType: machine
---

O agente eBPF New Relic utiliza a tecnologia eBPF para fornecer funcionalidade APM em um único agente com instrumentação de código zero. Essa abordagem capacita equipes de engenharia de plataforma, eliminando a necessidade de coordenação com equipes de aplicativos para implantação de monitoramento.

## Quando usar APM com tecnologia eBPF [#when-to-use-eapm]

* **Implantação em larga escala:** Quando você tem muitos aplicativos que precisam de monitoramento implantado em escala e exigem métrica &quot;boa o suficiente&quot; sem a sobrecarga de agente de linguagem individual.
* **Carga de trabalho desconhecida ou imutável:** Quando a workload que você deseja monitorar está escrita em uma linguagem de programação desconhecida e/ou não pode ser modificada.
* **Eficiência da engenharia de plataforma:** Quando você deseja implantar monitoramento em escala sem coordenar com equipes de aplicativos individuais.
* **Ambientes focados em Linux:** Quando você não precisa monitorar a plataforma Windows, pois o eBPF funciona de forma excelente no Linux, tanto em ambientes Kubernetes quanto em ambientes host.
* **Sem necessidade distributed tracing :** Quando suas necessidades de monitoramento não exigem recursos distributed tracing.

### Comparação entre eBPF e APM tradicional [#comparison]

Compreender as diferenças entre APM baseado em eBPF e APM tradicional baseado em agentes ajuda você a escolher a abordagem correta:

<table>
  <thead>
    <tr>
      <th>
        Funcionalidade
      </th>

      <th>
        Agente eBPF (eAPM)
      </th>

      <th>
        Agente APM
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Resumo
      </td>

      <td>
        ✅
      </td>

      <td>
        ✅
      </td>
    </tr>

    <tr>
      <td>
        Transação
      </td>

      <td>
        ✅ (vinculação de segmentos para Java, Go, Node.js)
      </td>

      <td>
        ✅
      </td>
    </tr>

    <tr>
      <td>
        Operações de banco de dados
      </td>

      <td>
        ✅
      </td>

      <td>
        ✅
      </td>
    </tr>

    <tr>
      <td>
        Mapa de serviço
      </td>

      <td>
        ✅
      </td>

      <td>
        ✅
      </td>
    </tr>

    <tr>
      <td>
        Distributed tracing
      </td>

      <td>
        ❌
      </td>

      <td>
        ✅
      </td>
    </tr>

    <tr>
      <td>
        Agnóstico de linguagem de programação
      </td>

      <td>
        ✅
      </td>

      <td>
        ❌
      </td>
    </tr>

    <tr>
      <td>
        Instrumentação personalizada
      </td>

      <td>
        ❌
      </td>

      <td>
        ✅
      </td>
    </tr>

    <tr>
      <td>
        Descoberta automática de aplicativos e serviços continuamente
      </td>

      <td>
        ✅
      </td>

      <td>
        ❌
      </td>
    </tr>

    <tr>
      <td>
        Suporte Linux
      </td>

      <td>
        ✅
      </td>

      <td>
        ✅
      </td>
    </tr>

    <tr>
      <td>
        Suporte para Windows
      </td>

      <td>
        ❌
      </td>

      <td>
        ✅
      </td>
    </tr>

    <tr>
      <td>
        Telemetria TCP e DNS
      </td>

      <td>
        ✅
      </td>

      <td>
        ❌
      </td>
    </tr>
  </tbody>
</table>

### Perspectiva da fonte de dados

APM com tecnologia eBPF muda a perspectiva de monitoramento da camada de aplicação para a camada do kernel:

<table>
  <thead>
    <tr>
      <th>
        Recurso
      </th>

      <th>
        Agente de idiomas APM
      </th>

      <th>
        APM com tecnologia eBPF
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Fonte de dados
      </td>

      <td>
        Ganchos de memória/tempo de execução do aplicativo
      </td>

      <td>
        Kernel Linux (via eBPF)
      </td>
    </tr>

    <tr>
      <td>
        Idioma
      </td>

      <td>
        Alto (requer um agente específico para cada idioma)
      </td>

      <td>
        Nenhuma (opera na visão do kernel sobre o processo)
      </td>
    </tr>

    <tr>
      <td>
        Modificação de código
      </td>

      <td>
        Obrigatório
      </td>

      <td>
        Não é necessário (observa o processo de fora).
      </td>
    </tr>

    <tr>
      <td>
        Resultado
      </td>

      <td>
        Análises aprofundadas para línguas conhecidas
      </td>

      <td>
        Excelentes dicas para qualquer workload no Linux (C++, Rust, etc.)
      </td>
    </tr>
  </tbody>
</table>

## práticas recomendadas para implantação [#deployment-best-practices]

### 1. Complementar o APM tradicional

Utilize o agente eBPF como complemento ao agente de linguagem APM para uma cobertura abrangente. Isso oferece cobertura completa APM com coexistência entre eAPM e APM de agente, sem ingestão dupla de dados.

**Abordagem recomendada:**

* **Agente de linguagemAPM :** Use para seus aplicativos mais críticos que exigem insights de nível profundo, distributed tracing ou instrumentação personalizada.
* **APM com tecnologia eBPF:** Use para abranger tudo o mais, incluindo serviços não instrumentados, aplicativos de terceiros e para descobrir/relatar continuamente novos serviços.

### 2. Adicione métricas de rede para um contexto mais aprofundado.

<Callout title="Visualização">
  Ainda estamos trabalhando na funcionalidade Métrica da rede eBPF, mas adoraríamos que você a experimentasse!

  Atualmente, esse recurso é fornecido como parte de uma prévia, de acordo com nossas [políticas de pré-lançamento](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy/). Não está disponível para clientes sujeitos às regulamentações HIPAA ou FedRAMP.
</Callout>

O agente eBPF também pode fornecer métricas de rede granulares (TCP, DNS, etc.) para lhe dar visibilidade além dos limites do seu aplicativo. Essa funcionalidade é complementar e pode ser usada com ou sem o eAPM. Para obter mais informações, consulte [network-métricas](/docs/ebpf/network-metrics/).

As seguintes opções de implantação estão disponíveis:

<table>
  <thead>
    <tr>
      <th>
        aplicativo métrica fonte
      </th>

      <th>
        Fonte de rede Métrica
      </th>

      <th>
        Configuração
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Agente de idiomas APM
      </td>

      <td>
        agente eBPF (modo somente métrica de rede)
      </td>

      <td>
        Dois agentes
      </td>
    </tr>

    <tr>
      <td>
        Agente eBPF (eAPM)
      </td>

      <td>
        Agente eBPF (mesmo agente)
      </td>

      <td>
        Agente único
      </td>
    </tr>
  </tbody>
</table>

### 3. Criar uma abordagem de monitoramento unificada

Seguindo as práticas acima, você pode usar um único agente eBPF para lidar com as necessidades de monitoramento tanto da infraestrutura quanto do aplicativo. Isso unifica sua observabilidade, permitindo que o agente colete automaticamente dados críticos de desempenho do aplicativo (eAPM) e métricas de rede (eBPF network métrica) para preencher o dashboard existente, fornecendo um contexto profundo sem alterações de código ou reinicializações.

**Benefícios:**

* insights APM que preenchem automaticamente a interface New Relic APM.
* insights de rede do mesmo agente.

## Recomendações de implementação [#implementation-recommendations]

* **Comece com eAPM para escalabilidade:** Se você precisa implantar monitoramento em larga escala em vários aplicativos e deseja métricas &quot;suficientemente boas&quot; sem coordenação complexa, comece com APM baseado em eBPF.

* **Adicione métrica de rede para visibilidade completa:** Depois que eAPM for implantado, considere adicionar métrica de rede eBPF para obter visibilidade além dos limites do aplicativo para recursos abrangentes de resolução de problemas.

## Artigos relacionados [#related-articles]

<DocTiles>
  <DocTile title="Instalação eBPF Kubernetes" path="/docs/ebpf/k8s-installation/">
    Aprenda como configurar o agente New Relic eBPF para o seu cluster Kubernetes.
  </DocTile>

  <DocTile title="Instalação Linux eBPF" path="/docs/ebpf/linux-installation/">
    Aprenda como configurar o agente New Relic eBPF para seu host Linux.
  </DocTile>

  <DocTile title="resolução de problemas eBPF" path="/docs/ebpf/troubleshooting/no-ui-data/">
    Aprenda a solucionar problemas com o agente eBPF da New Relic.
  </DocTile>
</DocTiles>