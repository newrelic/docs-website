---
title: Observabilidade do eBPF New Relic
metaDescription: Learn how New Relic eBPF observability provides zero-code monitoring for your Linux hosts and Kubernetes clusters with kernel-level visibility.
tags:
  - Integrations
  - eBPF integration
  - eAPM
  - Linux host
  - Kubernetes cluster
freshnessValidatedDate: never
translationType: machine
---

/\* A observabilidade do New Relic eBPF ajuda você a monitorar redes e ambientes modernos e complexos, fornecendo uma nova camada de visibilidade. Qual o valor agregado pelo agente eBPF? \[#value] A observabilidade do New Relic eBPF oferece visibilidade unificada e sem código em ambientes Kubernetes e hosts Linux. Ele utiliza a tecnologia Extended Berkeley Packet Filter (eBPF) no kernel do Linux para fornecer insights automatizados e independentes de linguagem. Essa abordagem reduz os custos operacionais, eliminando a necessidade de instrumentação manual ou alterações de código. &lt;img style=\{\{ align: &apos;left&apos; }} title=&quot;Dashboard eBPF&quot; alt=&quot;Dashboard eBPF&quot; src=&quot;/images/ebpf-dashboard.webp&quot; /&gt; ## Impacto \[#impacto] Você pode obter uma observabilidade mais profunda e resolver problemas mais rapidamente com sobrecarga mínima de recursos, garantindo que o monitoramento não impacte o desempenho do aplicativo. O agente fornece detalhes exclusivos em nível de kernel e de rede para uma compreensão abrangente da dinâmica do sistema. Monitorar aplicativos modernos é um desafio, pois eles geralmente são executados em infraestruturas complexas e mistas, desde clusters Kubernetes até hosts Linux tradicionais, como máquinas virtuais e instâncias cloud. À medida que você dimensiona esses ambientes, torna-se mais difícil obter visibilidade do desempenho sem uma configuração manual significativa. Um engenheiro precisa saber quais aplicativos estão sendo executados em seu cluster e quais estão causando degradação de desempenho. Às vezes, o desempenho do aplicativo é prejudicado devido a problemas na infraestrutura subjacente que os proprietários do aplicativo não conseguem resolver apenas com ferramentas no nível do aplicativo. Imagine que sua equipe gerencia um ambiente diversificado: \* Você precisa solucionar problemas rapidamente, mas correlacionar a telemetria do aplicativo com insights da infraestrutura não é fácil. \* Novas cargas de trabalho são implantáveis, mas instrumentá-las é um desafio porque você não é o proprietário do código, a equipe de desenvolvimento é externa ou você simplesmente desconhece a existência do serviço. Em ambos os cenários, você precisa de uma solução que ofereça ampla visibilidade de toda a sua infraestrutura, sem exigir conhecimento prévio da linguagem ou arquitetura de cada aplicativo. O agente eBPF da New Relic resolve esses desafios. É uma ferramenta poderosa e não intrusiva, projetada para lidar com esses desafios. Ele utiliza o filtro de pacotes Berkeley estendido (eBPF), uma tecnologia líder do setor que fornece uma maneira segura e eficiente de obter insights diretamente do kernel do Linux. Utilizando este agente eBPF, você pode obter uma visão unificada e automatizada de todo o seu ambiente Linux, coletando telemetria detalhada em nível de serviço diretamente do kernel. Essa abordagem proporciona uma visibilidade completa de todo o seu aplicativo sem exigir que você faça qualquer alteração no código. \*/ /\* ## Recurso de chave \[#key-features] O agente New Relic eBPF foi projetado para fornecer observabilidade abrangente para seus hosts Linux e cluster do Kubernetes. Ele oferece uma variedade de recursos que ajudam você a monitorar efetivamente a integridade de todo o sistema: \* Instrumentação de código zero para obter visibilidade profunda do desempenho do aplicativo sem modificar o código do aplicativo ou implantar um agente específico da linguagem. Essa abordagem reduz os custos operacionais e acelera o retorno do investimento em toda a sua infraestrutura. \* Descobrir serviços automaticamente para identificar e mapear continuamente todos os serviços em execução e suas dependências. Isso proporciona uma visão em tempo real da arquitetura do seu aplicativo. \* No Kubernetes, o agente usa as informações de nível de serviço do cluster para fornecer contexto nativo para seu aplicativo. Em hosts Linux, ele deriva os nomes dos serviços de variáveis de ambiente ou das informações do processo subjacente, proporcionando uma visão clara do comportamento do aplicativo. \* Telemetria unificada em todos os ambientes para fornecer visibilidade consistente em toda a sua infraestrutura, independentemente de você estar executando o aplicativo no Kubernetes ou em hosts Linux tradicionais. \* Análise de nível de desempenho de serviço para obter insights sobre interação de serviços, taxas de solicitação, latência e erros. Isso ajuda você a entender como seu aplicativo se comporta em cenários do mundo real. \* Visibilidade independente de idioma para monitorar aplicativos escritos em qualquer linguagem, sejam eles microsserviços modernos ou aplicativos legados. Isso permite que você utilize uma única ferramenta para todas as suas necessidades de monitoramento. \* Baixa sobrecarga de recursos para minimizar o impacto no desempenho do sistema durante a coleta de dados de telemetria detalhados. Isso garante que seu monitoramento não interfira no desempenho do aplicativo. \* Profunda visibilidade da interação do kernel e do espaço do usuário para fornecer insights sobre como o aplicativo interage com o sistema subjacente. Isso ajuda você a capturar e trace eventos em tempo real. \* Metadados ricos para coletar detalhes de nível granular sobre as operações do sistema para ajudá-lo na resolução de problemas e na análise de desempenho. \*/ /\* \`IMAGEM Necessária\` \*/ /\* ## Como o agente eBPF funciona \[#how-it-works] O agente eBPF New Relic é implantado usando gráficos Helm no Kubernetes e usando pacotes Debian/RPM em hosts Linux. Ele é executado como um \`daemonset\` no Kubernetes ou como um serviço de sistema em hosts Linux. Uma vez instalado, o agente detecta automaticamente todos os serviços e aplicativos em execução no seu ambiente. Esses aplicativos estão integrados à interface APM e de serviços da New Relic sob a entidade eBPF. O agente New Relic eBPF possui dois modos: \* \*\*Modo de descoberta:\*\* Para descobrir automaticamente aplicativos em seu ambiente sem monitoramento ativo. Este modo é adequado para configuração inicial ou monitoramento menos intrusivo. \* Modo eAPM:\*\* Para desbloquear um nível mais profundo de observabilidade, monitorando ativamente o aplicativo e coletando métricas de baixo nível para uma compreensão abrangente da dinâmica do sistema. ## Como o eBPF complementa APM \[#ebpf-APM] \*/

A arquitetura moderna de aplicativos compreende serviços heterogêneos e interconectados, executados em ambientes de infraestrutura variados, desde clusters Kubernetes até hosts Linux tradicionais. Essa complexidade cria desafios fundamentais que atrasam a resolução de problemas, tais como:

* **Lacunas de observabilidade entre o aplicativo e a infraestrutura:** o aplicativo de monitoramento fornece insights profundos sobre o desempenho do código, enquanto o monitoramento de infraestrutura rastreia a integridade do sistema. No entanto, a camada de rede entre esses componentes muitas vezes permanece invisível. Durante incidentes, determinar se a causa raiz reside na lógica do aplicativo ou em problemas relacionados à rede requer investigação adicional.

* **Sobrecarga operacional de agentes heterogêneos:** ambientes de microsserviços muitas vezes exigem a implantação de múltiplos agentes de monitoramento diferentes. Isso gera complexidade operacional, potenciais conflitos entre agentes e exige modificações e reinicializações do aplicativo — um ponto crítico para as equipes DevOps.

* **Dados de telemetria isolados:** após a coleta de dados, correlacionar o log do aplicativo com extensões de rede e infraestrutura métrica requer extenso trabalho manual, levando à observabilidade incompleta e à resolução atrasada de incidentes.

* **Controle limitado da equipe da plataforma:** os engenheiros da plataforma geralmente não têm a capacidade ou as permissões para controlar facilmente o aplicativo em toda a sua infraestrutura, mas continuam responsáveis pela confiabilidade e desempenho geral do site.

A solução de observabilidade eBPF da New Relic aborda esses desafios por meio da unificação e simplificação. Nosso agente único, leve e independente de linguagem utiliza a tecnologia eBPF para obter insights profundos e &quot;de fora para dentro&quot; diretamente do kernel do Linux.

## Recurso chave [#key-features]

* **Visibilidade completa sem invasões:** obtenha total observabilidade de cargas de trabalho novas, herdadas ou de terceiros em cluster do Kubernetes e hosts/contêiner Linux, independentemente da linguagem de programação.

* **Coleta unificada de dados:** Operando no nível do kernel, nosso agente único coleta simultaneamente dados de observabilidade, incluindo spans de aplicativos, logs, tráfego de rede e métricas de infraestrutura, resolvendo o problema dos silos de dados.

* **Implantação simplificada:** Ao mover a observabilidade para o kernel, eliminamos a necessidade de modificar o aplicativo, simplificando a implementação em ambientes com muitos microsserviços, sem exigir reinicializações do aplicativo ou alterações de código.

O agente eBPF unificado oferece duas funcionalidades poderosas e complementares:

* [APM com tecnologia eBPF](#ebpf-apm)
* [Métrica de rede eBPF](#ebpf-network-metrics)

## Casos de uso [#use-cases]

Esta solução aborda desafios críticos para a plataforma engenharia:

* **Resolução de problemas mais rápida:** correlacione aplicativos de telemetria com infraestrutura e insights de rede. Isso permite o diagnóstico rápido de problemas de desempenho, especialmente aqueles que se originam no sistema subjacente.

* **Descoberta automática:** obtenha observabilidade automatizada com instrumentação zero. O agente eBPF identifica e mapeia continuamente todos os serviços em execução e suas dependências, fornecendo uma visão arquitetônica real do tempo de cargas de trabalho novas ou desconhecidas sem exigir conhecimento prévio da linguagem do aplicativo.

* **Monitoramento unificado:** monitore aplicativos escritos em qualquer idioma em diversos ambientes. Isso lhe dá visibilidade consistente e análise de desempenho em nível de serviço diretamente na interface do usuário do New Relic.

## APM com tecnologia eBPF (eAPM) [#ebpf-apm]

O APM baseado em eBPF (eAPM) é nosso padrão para monitoramento de aplicativos sem código e independente de linguagem. Ele descobre automaticamente todos os serviços em execução em seus hosts ou nós do Kubernetes e preenche a interface do usuário do New Relic APM com dados de desempenho. Essa funcionalidade é ideal para obter um inventário completo de todos os seus serviços, incluindo aqueles que você não pode instrumentar manualmente, como cargas de trabalho desconhecidas ou aplicativos de terceiros.

### Recurso chave

* **Descoberta contínua de serviços:** Descobre e mapeia automaticamente todos os serviços em execução do aplicativo, fornecendo uma visão em tempo real da sua arquitetura.
* **Instrumentação de código zero:** fornece visibilidade profunda do desempenho do aplicativo (incluindo dados MELT) sem modificar o código do aplicativo ou implantar um agente específico da linguagem.
* **Ampla compatibilidade com ambientes:** Oferece suporte abrangente para hosts Linux (diversas distribuições) e clusters Kubernetes, tanto na arquitetura **x86 quanto na ARM64**.
* **Rastreamento avançado de transações:** Suporta vinculação detalhada de segmentos para aplicativos Java, dividindo as transações em componentes individuais (código do aplicativo, chamadas de banco de dados, chamadas de serviço externo) para identificar o desempenho gargalo. Anteriormente, esse nível de visibilidade só estava disponível por meio APM tradicional para agentes.

### Casos de uso

* **Para plataforma engenheiro:** Obtenha um inventário imediato e completo de todos os serviços em execução na sua plataforma, mesmo aqueles que você não possui ou que foram implantados sem o seu conhecimento.
* **Para equipes com cargas de trabalho opacas:** Monitore instantaneamente aplicativos legados, binários de terceiros ou serviços escritos em linguagens cujo código você não pode (ou não quer) modificar.
* **Para cobertura completa do ambiente:** Complemente sua instrumentação APM existente usando eAPM para abranger todos os serviços que não são instrumentados manualmente, garantindo 100% de visibilidade.

## Métrica de rede eBPF [#ebpf-network-metrics]

<Callout title="Visualização">
  Ainda estamos trabalhando nesse recurso, mas adoraríamos que você experimentasse!

  Atualmente, esse recurso é fornecido como parte de uma prévia, de acordo com nossas [políticas de pré-lançamento](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy/). Não está disponível para clientes sujeitos às regulamentações HIPAA ou FedRAMP.
</Callout>

A métrica de rede eBPF oferece visibilidade detalhada da comunicação de rede do seu aplicativo. Ele captura telemetria granular de TCP, IP e DNS diretamente do kernel, resolvendo uma das principais causas de problemas de desempenho de aplicativos. Essa funcionalidade complementa o APM (tanto o eAPM quanto o APM tradicional) e funciona de forma independente para fornecer uma visão completa da saúde da comunicação do seu aplicativo, ajudando você a responder definitivamente à pergunta: &quot;O problema está no aplicativo ou na rede?&quot;

### Flexibilidade de implantação

* **Para clientes New Relic APM :** você pode ativar a métrica de rede eBPF junto com seu agente APM existente para obter visibilidade da camada de rede sem interromper a instrumentação atual. O agente eBPF opera em modo somente de rede, complementando seus dados de APM com insights de rede em nível de kernel.

* **Para monitoramento abrangente:** implante o agente eBPF completo com recursos eAPM e métrica de rede para observabilidade completa em aplicativos, infraestrutura e camadas de rede.

Para visualizar a rede métrica, consulte a documentação da [network-métricas](/docs/ebpf/network-metrics/).

### Recurso chave

* **Dados de rede de contexto de aplicativo:** Todas as métricas de rede são automaticamente correlacionadas com o aplicativo, serviço e processo específico que as iniciou, facilitando a resolução de problemas.

* **Monitoramento granular de DNS:** rastreia falhas na resolução de DNS e reporta o nome de domínio totalmente qualificado (FQDN) associado.

* **Análise detalhada da conexão TCP:** mede a integridade e a latência da conexão, incluindo:

  * **Aperto de mãos:** Aperto de mãos triplo, com contagem de sucesso/falha.
  * **Estado da conexão:** duração da conexão, duração da transmissão de dados e contagem de pacotes SYN, ACK, FIN e RST.
  * **Erros:** Monitora fechamentos de conexão anormais.

* **Insights de IP em nível de pacote:** Identifica perda de pacotes e oportunidades de otimização de rede por meio do transporte:

  * Bytes enviados e recebidos
  * Pacote retransmitido/descartado
  * Entrega de encomendas

### Casos de uso

* **Resolução de problemas chamada externa lenta de API:** quando o aplicativo mostra um tempo de resposta degradado para serviços externos, as métricas de rede ajudam a identificar se o problema decorre de atrasos de handshake TCP, perda de pacotes ou problemas de retransmissão, em vez da lógica do aplicativo.
* **Análise da causa raiz da degradação de desempenho:** Correlacione problemas de desempenho do aplicativo com problemas na camada de rede, examinando a integridade da conexão TCP, a latência de entrega de pacotes e as mudanças no estado da conexão.
* **Monitoramento da comunicação entre serviços:** Monitore a integridade da comunicação entre microsserviços em todo o seu cluster, identificando congestionamentos de rede ou problemas de roteamento entre os serviços.
* **Resolução de problemas de dependência externa:** Identifique rapidamente quando os problemas de desempenho se originam de endpoints externos de API ou serviços de terceiros, analisando padrões de rede de saída e a qualidade da conexão.

## Como você pode configurar o agente eBPF [#setup]

Você pode configurar o agente New Relic eBPF em seu host Linux ou cluster Kubernetes.

<Steps>
  <Step>
    Certifique-se de que seu ambiente atenda aos nossos [requisitos de compatibilidade](/docs/ebpf/requirements).

    * [Requisitos do Linux](/docs/ebpf/requirements#linux)
    * [Requisitos do Kubernetes](/docs/ebpf/requirements#k8s)
  </Step>

  <Step>
    Dependendo do seu ambiente, siga o guia de instalação apropriado:

    * [Guia de instalação do Linux](/docs/ebpf/linux-installation/)
    * [Guia de instalação do Kubernetes](/docs/ebpf/k8s-installation/)
  </Step>

  <Step>
    ### Encontre seus dados no New Relic [#data]

    Depois que o agente eBPF estiver instalado, ele começará automaticamente a coletar dados do seu host Linux. Você pode acessar esses dados na interface de usuário OpenTelemetry do New Relic. Para obter mais informações sobre a interface OpenTelemetry New Relic, consulte [Interface OpenTelemetry APM ](/docs/opentelemetry/get-started/apm-monitoring/opentelemetry-apm-ui).
  </Step>
</Steps>

## Artigos relacionados [#related-articles]

<DocTiles>
  <DocTile title="Compatibilidade e requisitos" path="/docs/ebpf/requirements/">
    Saiba mais sobre os requisitos de compatibilidade do agente do New Relic eBPF, banco de dados compatível, plataforma e recursos de consulta.
  </DocTile>

  <DocTile title="Instalação eBPF Kubernetes" path="/docs/ebpf/k8s-installation/">
    Aprenda como configurar o agente New Relic eBPF para o seu cluster Kubernetes.
  </DocTile>

  <DocTile title="Instalação Linux eBPF" path="/docs/ebpf/linux-installation/">
    Aprenda como configurar o agente New Relic eBPF para seu host Linux.
  </DocTile>
</DocTiles>