---
title: Encontre e use seus dados do Kubernetes
tags:
  - Integrations
  - Kubernetes integration
  - Understand and use data
metaDescription: 'New Relic''s Kubernetes integration: How to install and activate the integration, and what data is reported.'
freshnessValidatedDate: never
translationType: machine
---

import kubernetesDashboard from 'images/kubernetes_screenshot-full_dashboard.webp'

Você pode construir seus próprios gráficos e [consultar](/docs/using-new-relic/data/understand-data/query-new-relic-data) todos os seus dados [de integração Kubernetes ](/docs/integrations/kubernetes-integration/get-started/introduction-kubernetes-integration)usando o criador de consulta e a API NerdGraph. Nossa integração coleta dados Kubernetes instrumentando a camada de orquestração do contêiner. Para uma experiência mais simples e visual, use o [cluster explorer](/docs/integrations/kubernetes-integration/understand-use-data/kubernetes-cluster-explorer).

<img
  title="New Relic - Kubernetes dashboard"
  alt="New Relic - Kubernetes dashboard"
  src={kubernetesDashboard}
/>

<figcaption>
  <DNT>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Dashboards**</DNT>: Usando o [criador de consulta](/docs/chart-builder/use-chart-builder/get-started/introduction-chart-builder) você pode consultar seus dados Kubernetes e criar visualizações claras.
</figcaption>

## Consultar dados Kubernetes [#view-data]

A forma mais simples de [consultar seus dados Kubernetes ](/docs/using-new-relic/data/understand-data/query-new-relic-data)é utilizando o [criador de consulta](/docs/query-your-data/explore-query-data/query-builder/use-advanced-nrql-mode-specify-data), que aceita [consultaNRQL ](/docs/query-data/nrql-new-relic-query-language/getting-started/introduction-nrql). Alternativamente, você pode usar a [API NerdGraph](/docs/apis/nerdgraph/get-started/introduction-new-relic-nerdgraph) para recuperar dados do Kubernetes.

### Evento e atributo [#event-types]

Os dados Kubernetes são anexados ao seguinte [evento](/docs/using-new-relic/data/understand-data/new-relic-data-types#event-data). Você pode aprender mais sobre esses dados em [nosso dicionário de dados](/attribute-dictionary/?dataSource=Kubernetes).

<table>
  <thead>
    <tr>
      <th style={{ width: "275px" }}>
        Nome do evento
      </th>

      <th>
        Tipo de dados do Kubernetes
      </th>

      <th style={{ width: "200px" }}>
        Disponível desde
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `K8sNodeSample`
      </td>

      <td>
        Dados do nó
      </td>

      <td>
        v1.0.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sNamespaceSample`
      </td>

      <td>
        Dados de namespace
      </td>

      <td>
        v1.0.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sDeploymentSample`
      </td>

      <td>
        Dados de implantação
      </td>

      <td>
        v1.0.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sReplicasetSample`
      </td>

      <td>
        Dados do ReplicaSet
      </td>

      <td>
        v1.0.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sDaemonsetSample`
      </td>

      <td>
        Dados do DaemonSet
      </td>

      <td>
        v1.13.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sStatefulsetSample`
      </td>

      <td>
        Dados StatefulSet
      </td>

      <td>
        v1.13.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sPodSample`
      </td>

      <td>
        Dados do pod
      </td>

      <td>
        v1.0.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sClusterSample`
      </td>

      <td>
        Dados de cluster
      </td>

      <td>
        v1.0.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sContainerSample`
      </td>

      <td>
        Dados do contêiner
      </td>

      <td>
        v1.0.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sVolumeSample`
      </td>

      <td>
        Dados de volume
      </td>

      <td>
        v1.0.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sApiServerSample`
      </td>

      <td>
        Dados do servidor API
      </td>

      <td>
        v1.11.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sControllerManagerSample`
      </td>

      <td>
        Dados do gerenciador do controlador
      </td>

      <td>
        v1.11.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sSchedulerSample`
      </td>

      <td>
        Dados do agendador
      </td>

      <td>
        v1.11.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sEtcdSample`
      </td>

      <td>
        dados etcd
      </td>

      <td>
        v1.11.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sEndpointSample`
      </td>

      <td>
        Dados de endpoint
      </td>

      <td>
        v1.13.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sServiceSample`
      </td>

      <td>
        Dados de serviço
      </td>

      <td>
        v1.13.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sHpaSample`
      </td>

      <td>
        Dados do escalonador automático pod horizontal
      </td>

      <td>
        v2.3.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sCronjobSample`
      </td>

      <td>
        Dados do CronJob
      </td>

      <td>
        v3.10.0
      </td>
    </tr>

    <tr>
      <td>
        `K8sJobSample`
      </td>

      <td>
        Dados do trabalho
      </td>

      <td>
        v3.10.0
      </td>
    </tr>
  </tbody>
</table>

Para saber mais sobre esses eventos e seus atributos, consulte [nosso dicionário de dados](/attribute-dictionary/?dataSource=Kubernetes).

### Metadados Kubernetes no aplicativo APM-monitor [#apm-custom-attributes]

[Ao vincular seu aplicativo ao Kubernetes](/docs/integrations/kubernetes-integration/metadata-injection/kubernetes-apm-metadata-injection), os seguintes atributos são adicionados ao trace do aplicativo e distributed trace:

* `nodeName`
* `containerName`
* `podName`
* `clusterName`
* `deploymentName`
* `namespaceName`

## Gerenciar alertas [#alerts]

Você pode ser notificado sobre <InlinePopover type="alerts"/>um incidente relacionado aos seus dados Kubernetes :

<CollapserGroup>
  <Collapser
    id="create-alert"
    title="Crie uma condição de alerta"
  >
    Para criar uma condição do alerta para a integração do Kubernetes :

    1. Vá para <DNT>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Infrastructure > Settings > Alerts > Kubernetes**</DNT> e selecione <DNT>**Create alert condition**</DNT>.

    2. Para filtrar o alerta para a entidade Kubernetes que possui apenas o atributo escolhido, selecione <DNT>**Filter**</DNT>.

    3. Selecione as configurações de limite. Para obter mais informações sobre as opções <DNT>**Trigger an alert when...**</DNT> , consulte [Tipos de alerta](#alert-types).

    4. Selecione uma [política de alertas](/docs/alerts/new-relic-alerts/configuring-alert-policies/create-or-rename-alert-policy) existente ou crie uma nova.

    5. Selecione <DNT>**Create**</DNT>.

       Quando o limite de condição do alerta é acionado, New Relic envia uma [notificação](#notifications) para o canal de notificação da apólice.
  </Collapser>

  <Collapser
    id="alert-types"
    title="Use os tipos de alerta predefinidos e limite"
  >
    A integração Kubernetes vem com sua própria política de alertas e condição do alerta. Para ver quais são as condições de alerta predefinidas, consulte [Integração Kubernetes : política de alertas predefinida](/docs/integrations/kubernetes-integration/kubernetes-events/kubernetes-integration-predefined-alert-policy).

    Além disso, você pode criar uma condição do alerta para qualquer métrica coletada por qualquer [integração New Relic ](/docs/integrations/new-relic-integrations/getting-started/introduction-infrastructure-integrations)que você usar, incluindo a integração Kubernetes :

    1. Selecione o tipo de alerta

       <DNT>**Integrations**</DNT>

       .

    2. No dropdown

       <DNT>**Select a data source**</DNT>

       , selecione uma fonte de dados Kubernetes (K8s).
  </Collapser>

  <Collapser
    id="notifications"
    title="Selecione notificação de alerta"
  >
    Quando o limite de condição de alerta é acionado, New Relic envia uma mensagem para o(s) canal(es) de notificação escolhido(s) na política de alertas. Dependendo do tipo de notificação, você poderá ter as seguintes opções:

    * [Veja o incidente](/docs/alerts-applied-intelligence/new-relic-alerts/alert-incidents/view-event-details-incidents).

    * [Reconheça o incidente](/docs/alerts/new-relic-alerts/reviewing-alert-incidents/acknowledge-alert-incidents).

    * Acesse um gráfico dos dados do incidente selecionando o nome do identificador.

      O identificador da entidade que acionou o alerta aparece próximo ao topo da mensagem de notificação. O formato do identificador depende do tipo de alerta:

    * <DNT>**Available pods are less than desired pods**</DNT> alertas:

      ```
      K8s:CLUSTER_NAME:PARENT_NAMESPACE:replicaset:REPLICASET_NAME
      ```

    * <DNT>**CPU or memory usage**</DNT> alertas:

      ```
      K8s:CLUSTER_NAME:PARENT_NAMESPACE:POD_NAME:container:CONTAINER_NAME
      ```

      Aqui estão alguns exemplos.

      <CollapserGroup>
        <Collapser
          id="pod-alerts"
          title="Exemplo de notificação de alerta de pod"
        >
          Para alertas <DNT>**Available pods are less than desired pods**</DNT> , o ID do `ReplicaSet` que aciona o problema pode ser semelhante a este:

          ```
          k8s:beam-production:default:replicaset:nginx-deployment-1623441481
          ```

          Este identificador contém as seguintes informações:

          * Nome do cluster: `beam-production`
          * Namespace pai: `default`
          * `ReplicaSet` nome: `nginx-deployment-1623441481`
        </Collapser>

        <Collapser
          id="container-resource"
          title="Exemplo de notificação de recurso de contêiner"
        >
          Para alertas de uso de CPU ou memória do contêiner, a entidade pode ter esta aparência:

          ```
          k8s:beam-production:kube-system:kube-state-metrics-797bb87c75-zncwn:container:kube-state-metrics
          ```

          Este identificador contém as seguintes informações:

          * Nome do cluster: `beam-production`
          * Namespace pai: `kube-system`
          * Pod namespace: `kube-state-metrics-797bb87c75-zncwn`
          * Nome do contêiner: `kube-state-metrics`
        </Collapser>
      </CollapserGroup>
  </Collapser>

  <Collapser
    id="nrql-alerts"
    title="Criar condição de alerta usando NRQL"
  >
    Siga os procedimentos padrão para [criar a condição do alerta para consulta NRQL ](/docs/alerts/new-relic-alerts/defining-conditions/create-alert-conditions-nrql-queries).
  </Collapser>
</CollapserGroup>