---
title: Entenda e monitor cluster do Kubernetes
freshnessValidatedDate: '2023-07-18T00:00:00.000Z'
translationType: machine
---

Vamos revisar o que constitui um sistema Kubernetes e explorar como o New Relic pode ajudá-lo a entender seu sistema em nível de cluster.

## Separe para entender

Vamos primeiro dividir um sistema Kubernetes em camadas distintas.

<img
  title="k8sDiagramContext"
  alt="an image showing an abstracted view of a kubernetes system. This includes pods, apps, and clusters"
  src="/images/tutorials_diagram_kubernetes-overview.webp"
/>

Discutiremos um sistema Kubernetes em três seções principais.

* <DNT>**The cluster**</DNT>: representa todo o sistema Kubernetes. O cluster contém múltiplas implantações, que por sua vez abrigam muitos pods. Cada pod mantém seus serviços e aplicativos individuais.
* <DNT>**The orchestrated**</DNT>: estes são os elementos principais de um sistema Kubernetes. Os componentes orquestrados consistem em implantação inteira que gira o pod para cima e para baixo conforme necessário.
* <DNT>**The services and applications**</DNT>: serviços e aplicativos são os cavalos de batalha do sistema Kubernetes. Dentro de um sistema Kubernetes, cada pod abriga um ou mais serviços e aplicativos. Os serviços e aplicativos fornecem a funcionalidade essencial que orienta o propósito do sistema. Pode ser computação, um aplicativo da web ou qualquer outro aplicativo.

É importante observar que essas seções se aninham umas nas outras. O cluster contém diversas camadas orquestradas, e cada camada orquestrada consiste em diversas camadas de serviço e aplicativo.

<Callout variant="important">
  Há muitas maneiras de dividir um sistema Kubernetes para entendê-lo; essas camadas são apenas uma maneira de pensar sobre o seu sistema.
</Callout>

## Compreenda e monitor a camada de cluster

Em um sistema Kubernetes grande, com inúmeras implantações e pods, monitorar manualmente cada componente torna-se inviável. Você pode estar lidando com dezenas ou centenas de implantação, o que, por sua vez, significa que você pode ter que monitor centenas ou milhares de pods, serviços e aplicativos individuais. A New Relic oferece uma abordagem mais eficiente para supervisionar a integridade de todo o sistema e receber <InlinePopover type="alerts"/>em tempo hábil quando surgirem problemas.

As etapas a seguir orientam você em uma estratégia geral de monitoramento para seu cluster:

<Steps>
  <Step>
    ## Acesse o dashboard de visão geral do Kubernetes

    Vá para <DNT>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Kubernetes > Overview Dashboard**</DNT>. Certifique-se de rolar para baixo para ver todos os gráficos disponíveis para você.

    Se você não vir nenhum dado, [configure seu monitoramento ](/docs/tutorial-kubernetes-learn/tutorial-k8s-intro/#install-new-relic-agent)no tutorial anterior.
  </Step>

  <Step>
    ## Faça a triagem do seu cluster

    O dashboard de visão geral do Kubernetes mostra dados de alto nível sobre seu cluster. Você pode encontrar dados gerais, como contagem de pods e serviços. Mais importante ainda, você pode encontrar dados sobre a integridade do seu cluster, como a porcentagem de pod em execução, a contagem de pods com falha, o número de reinicializações do contêiner e muito mais.<img title="tutorialOverviewdashboard" alt="The main overview dashboard for the kubernetes capability" src="/images/tutorial_screenshot-full_overview-dashboard.webp"/>

    Use este dashboard para medir a integridade geral do seu cluster. Aqui estão algumas coisas para procurar:

    <table>
      <thead>
        <tr>
          <th>
            Componente
          </th>

          <th>
            O que indica
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Ladrilhos vermelhos ou amarelos
          </td>

          <td>
            Ladrilhos amarelos são avisos. Fique de olho no que eles se referem. Por exemplo, se você tem 2 implantações insalubres, você deve tomar nota e planejar a solução desses problemas.

            Os ladrilhos vermelhos são alerta crítico. Estas não são necessariamente falhas no seu sistema, mas você deve priorizar a solução delas o mais imediatamente possível.
          </td>
        </tr>

        <tr>
          <td>
            Picos anômalos em gráficos
          </td>

          <td>
            existem vários gráficos que mostram coisas como pod pendente ao longo do tempo ou utilização da memória ao longo do tempo.

            Os picos nem sempre são motivo de preocupação, como os picos no gráfico <DNT>**Kubernetes Warning Events by Reason**</DNT> na captura de tela acima. Esses picos acontecem regularmente a cada 5 minutos, portanto não levantam nenhum sinal de alerta. Procure picos que acontecem fora dos padrões regulares ou picos em uma magnitude muito maior que o normal.
          </td>
        </tr>

        <tr>
          <td>
            Prontidão do nó
          </td>

          <td>
            Observe se os nós do cluster estão prontos e capazes de hospedar o pod. Certifique-se de que a infraestrutura do seu cluster possa lidar com a carga de trabalho sem qualquer gargalo.
          </td>
        </tr>

        <tr>
          <td>
            Insightsde contagem de recursos
          </td>

          <td>
            Fique atento ao número de pods, contêineres, nós ou outros recursos do Kubernetes dentro do cluster. Embora nem sempre você encontre algo acionável, a utilização de recursos de monitoramento permite que você planeje o escalonamento futuro.
          </td>
        </tr>
      </tbody>
    </table>

    Use o seletor de tempo no canto superior esquerdo da página para ver seus dados em intervalos de tempo para verificar se quaisquer dados problemáticos não são apenas aleatórios ou para fazer a triagem em um período de tempo mais longo.
  </Step>
</Steps>

<UserJourneyControls
  nextStep={{"path":"/docs/tutorial-kubernetes-learn/tutorial-k8s-orchestrated","title":"Próxima Etapa","body":"Monitor implantação e pod do Kubernetes."}}
  previousStep={{"path":"/docs/tutorial-kubernetes-learn/tutorial-k8s-intro","title":"Passo anterior","body":"Saiba mais sobre o monitoramento do Kubernetes."}}
/>
