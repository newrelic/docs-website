---
title: Gerencie credenciais seguras
tags:
  - Synthetics
  - APIs
  - NerdGraph
  - Examples
metaDescription: How to use New Relic NerdGraph API to create and manage secure credentials for synthetic monitoring.
freshnessValidatedDate: never
translationType: machine
---

[Credenciais seguras](/docs/synthetics/synthetic-monitoring/using-monitors/store-secure-credentials-scripted-browsers-api-tests) ajudam você a armazenar, proteger e gerenciar centralmente informações confidenciais, como senhas, chaves de API ou certificados criptografados. Os monitores da Sintético podem acessar essas informações com segurança durante a execução script. Este tutorial fornece exemplos de como usar a API do NerdGraph para gerenciar credenciais seguras de forma programática.

## Crie uma credencial segura [#create-secure-credential]

Você pode criar uma credencial segura usando a mutação `syntheticsCreateSecureCredential`. Essa mutação permite armazenar com segurança informações confidenciais que seus monitores Sintético podem acessar durante a execução script.

### Parâmetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parâmetro
      </th>

      <th>
        Tipo de dados
      </th>

      <th>
        É obrigatório?
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `accountId`
      </td>

      <td>
        Inteiro
      </td>

      <td>
        Sim
      </td>

      <td>
        O 

        [ID](/docs/accounts/accounts-billing/account-structure/account-id)

         da conta New Relic onde a credencial de segurança será criada.
      </td>
    </tr>

    <tr>
      <td>
        `description`
      </td>

      <td>
        Corda
      </td>

      <td>
        Não
      </td>

      <td>
        Uma descrição para ajudar a identificar a finalidade desta credencial.
      </td>
    </tr>

    <tr>
      <td>
        `key`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        O identificador de chave exclusivo para a credencial segura Sintéticos no New Relic.
      </td>
    </tr>

    <tr>
      <td>
        `value`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        O valor sensível a ser armazenado com segurança (senha, chave de API, etc.).
      </td>
    </tr>
  </tbody>
</table>

### Solicitação de amostra

```graphql
mutation {
  syntheticsCreateSecureCredential(
    accountId: ACCOUNT_ID,
    description: "Your optional description",
    key: "SECURE_CREDENTIAL_NAME",
    value: "SECURE_CREDENTIAL_VALUE"
  ) {
    errors {
      description
      type
    }
  }
}
```

### Resposta de amostra

Uma resposta bem-sucedida retorna `null` para erros:

```json
{
  "data": {
    "syntheticsCreateSecureCredential": {
      "errors": null
    }
  }
}
```

Se houver algum problema na criação da credencial segura, a matriz `errors` conterá objetos com campos `description` e `type` explicando o que deu errado.

## Atualizar uma credencial segura [#update-secure-credential]

Você pode atualizar uma credencial segura existente usando a mutação `syntheticsUpdateSecureCredential`. Isso permite modificar o valor e a descrição, mantendo o mesmo nome de chave.

### Parâmetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parâmetro
      </th>

      <th>
        Tipo de dados
      </th>

      <th>
        É obrigatório?
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `accountId`
      </td>

      <td>
        Inteiro
      </td>

      <td>
        Sim
      </td>

      <td>
        O 

        [ID da conta](/docs/accounts/accounts-billing/account-structure/account-id)

         que contém a credencial de segurança.
      </td>
    </tr>

    <tr>
      <td>
        `description`
      </td>

      <td>
        Corda
      </td>

      <td>
        Não
      </td>

      <td>
        Descrição atualizada para a credencial de segurança.
      </td>
    </tr>

    <tr>
      <td>
        `key`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        O identificador de chave exclusivo para a credencial segura Sintéticos no New Relic.
      </td>
    </tr>

    <tr>
      <td>
        `value`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        O novo valor sensível a ser armazenado.
      </td>
    </tr>
  </tbody>
</table>

### Solicitação de amostra

```graphql
mutation {
  syntheticsUpdateSecureCredential(
    accountId: ACCOUNT_ID
    description: "Updated description for the secure credential."
    key: "SECURE_CREDENTIAL_NAME"
    value: "SECURE_CREDENTIAL_VALUE"
  ) {
    createdAt
    lastUpdate
    errors {
      description
      type
    }
  }
}
```

### Resposta de amostra

Uma resposta bem-sucedida retorna os metadados atualizados e `null` para erros:

```json
{
  "data": {
    "syntheticsUpdateSecureCredential": {
      "createdAt": "2024-01-15T10:30:00Z",
      "lastUpdate": "2024-01-20T14:45:00Z",
      "errors": null
    }
  }
}
```

Se houver algum problema ao atualizar a credencial segura, a matriz `errors` conterá objetos com campos `description` e `type` explicando o que deu errado.

## Excluir uma credencial segura [#delete-secure-credential]

Você pode excluir uma credencial segura usando a mutação `syntheticsDeleteSecureCredential`. Uma vez excluídas, todas as sessões de monitoramento que fizerem referência a essas credenciais falharão até que sejam atualizadas.

<Callout variant="caution">
  Antes de excluir uma credencial segura, certifique-se de que nenhum monitor ativo a esteja utilizando. Excluir uma credencial que esteja em uso fará com que esses monitores falhem.
</Callout>

### Parâmetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parâmetro
      </th>

      <th>
        Tipo de dados
      </th>

      <th>
        É obrigatório?
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `accountId`
      </td>

      <td>
        Inteiro
      </td>

      <td>
        Sim
      </td>

      <td>
        O 

        [ID da conta](/docs/accounts/accounts-billing/account-structure/account-id)

         que contém a credencial de segurança.
      </td>
    </tr>

    <tr>
      <td>
        `key`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        O identificador de chave exclusivo para a credencial segura Sintéticos no New Relic.
      </td>
    </tr>
  </tbody>
</table>

### Solicitação de amostra

```graphql
mutation {
  syntheticsDeleteSecureCredential(
    accountId: ACCOUNT_ID,
    key: "SECURE_CREDENTIAL_NAME"
  ) {
    errors {
      description
      type
    }
  }
}
```

### Resposta de amostra

Uma resposta bem-sucedida retorna `null` para erros:

```json
{
  "data": {
    "syntheticsDeleteSecureCredential": {
      "errors": null
    }
  }
}
```

Se houver algum problema ao excluir a credencial segura, a matriz `errors` conterá objetos com campos `description` e `type` explicando o que deu errado.