---
title: Gerenciar localização privada
tags:
  - Synthetics
  - APIs
  - NerdGraph
  - Examples
metaDescription: How to use New Relic NerdGraph API to create and manage private locations for synthetic monitoring.
freshnessValidatedDate: never
translationType: machine
---

[localização privada](/docs/synthetics/synthetic-monitoring/private-locations/private-locations-overview-monitor-internal-sites-add-new-locations) permite monitorar aplicativos atrás de seu firewall ou em redes restritas. Ao criar uma localização privada, você instala e configura o minion privado para executar os monitores atribuídos a essa localização privada. Este tutorial fornece exemplos de como usar a API do NerdGraph para gerenciar programaticamente a localização privada.

## Crie uma localização privada [#create-private-location]

Você pode criar uma localização privada usando a mutação `syntheticsCreatePrivateLocation`. Esta mutação permite configurar uma nova localização privada na sua infraestrutura de monitoramento onde você pode implantar minion privado ou gerentes de trabalho.

### Parâmetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parâmetro
      </th>

      <th>
        Tipo de dados
      </th>

      <th>
        É obrigatório?
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `accountId`
      </td>

      <td>
        Inteiro
      </td>

      <td>
        Sim
      </td>

      <td>
        O 

        [ID da conta](/docs/accounts/accounts-billing/account-structure/account-id)

         associado à localização privada.
      </td>
    </tr>

    <tr>
      <td>
        `description`
      </td>

      <td>
        Corda
      </td>

      <td>
        Não
      </td>

      <td>
        A descrição do(a) localização privada.
      </td>
    </tr>

    <tr>
      <td>
        `name`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        O nome da localização privada.
      </td>
    </tr>

    <tr>
      <td>
        `shared`
      </td>

      <td>
        Boleano
      </td>

      <td>
        Não
      </td>

      <td>
        Especifica se a localização privada é compartilhada em toda a organização.
      </td>
    </tr>

    <tr>
      <td>
        `verifiedScriptExecution`
      </td>

      <td>
        Boleano
      </td>

      <td>
        Sim
      </td>

      <td>
        Se o valor for verdadeiro, a localização privada requer uma senha para ser editada.
      </td>
    </tr>
  </tbody>
</table>

### Solicitação de amostra

```graphql
mutation {
  syntheticsCreatePrivateLocation(
    accountId: ACCOUNT_ID,
    name: "PrivateLocationName",
    description: "Optional description",
    shared: true,
    verifiedScriptExecution: false
  ) {
    guid
    errors {
      description
      type
    }
  }
}
```

### Resposta de amostra

Uma resposta bem-sucedida retorna o GUID da localização privada recém-criada:

```json
{
  "data": {
    "syntheticsCreatePrivateLocation": {
      "guid": "PRIVATE_LOCATION_GUID",
      "errors": null
    }
  }
}
```

Se houver algum problema ao criar a localização privada, a matriz `errors` conterá objetos com campos `description` e `type` explicando o que deu errado.

## Atualizar uma localização privada [#update-private-location]

Você pode atualizar uma localização privada existente usando a mutação `syntheticsUpdatePrivateLocation`. Isto permite modificar a configuração de uma localização privada que já foi criada.

<Callout variant="important">
  Se um local for compartilhado e usado por outras contas na sua organização para executar monitores Sintético, você não poderá cancelar o compartilhamento desta localização privada até que esses monitores sejam desabilitados.
</Callout>

### Parâmetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parâmetro
      </th>

      <th>
        Tipo de dados
      </th>

      <th>
        É obrigatório?
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `guid`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        O 

        [GUID](/docs/apis/nerdgraph/examples/synthetics-api/query-synthetics-data#query-private-locations)

         exclusivo da entidade da localização privada que você deseja atualizar.
      </td>
    </tr>

    <tr>
      <td>
        `description`
      </td>

      <td>
        Corda
      </td>

      <td>
        Não
      </td>

      <td>
        A descrição do(a) localização privada.
      </td>
    </tr>

    <tr>
      <td>
        `shared`
      </td>

      <td>
        Boleano
      </td>

      <td>
        Não
      </td>

      <td>
        Especifica se a localização privada é compartilhada em toda a organização.
      </td>
    </tr>

    <tr>
      <td>
        `verifiedScriptExecution`
      </td>

      <td>
        Boleano
      </td>

      <td>
        Sim
      </td>

      <td>
        Se o valor for verdadeiro, a localização privada requer uma senha para ser editada.
      </td>
    </tr>
  </tbody>
</table>

### Solicitação de amostra

```graphql
mutation {
  syntheticsUpdatePrivateLocation(
    guid: "ENTITY_GUID",
    description: "EnterYourDescription",
    shared: false,
    verifiedScriptExecution: true
  ) {
    description
    verifiedScriptExecution
    errors {
      description
      type
    }
  }
}
```

### Resposta de amostra

Uma resposta bem-sucedida retorna os campos atualizados e `null` em caso de erros:

```json
{
  "data": {
    "syntheticsUpdatePrivateLocation": {
      "description": "EnterYourDescription",
      "verifiedScriptExecution": true,
      "errors": null
    }
  }
}
```

Se houver algum problema ao atualizar a localização privada, a matriz `errors` conterá objetos com campos `description` e `type` explicando o que deu errado.

## Limpar uma fila de trabalhos de localização privada [#purge-private-location]

Você pode limpar a fila de trabalhos para uma localização privada usando a mutação `syntheticsPurgePrivateLocationQueue`. Isso é útil quando você precisa remover um acúmulo de tarefas de monitoramento do Sintético que ficaram em fila devido a problemas de desempenho ou problemas temporários de conectividade.

<Callout variant="tip">
  Use esta operação com cuidado, pois ela removerá permanentemente todos os trabalhos em fila. Os trabalhos em andamento não serão afetados.
</Callout>

### Parâmetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parâmetro
      </th>

      <th>
        Tipo de dados
      </th>

      <th>
        É obrigatório?
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `guid`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        O 

        [identificador exclusivo (GUID)](/docs/apis/nerdgraph/examples/synthetics-api/query-synthetics-data#query-private-locations)

         da localização privada cuja fila de trabalhos você deseja limpar.
      </td>
    </tr>
  </tbody>
</table>

### Solicitação de amostra

```graphql
mutation {
  syntheticsPurgePrivateLocationQueue(
    guid: "PRIVATE_LOCATION_ENTITY_GUID"
  ) {
    errors {
      description
      type
    }
  }
}
```

### Resposta de amostra

Uma resposta bem-sucedida retorna `null` para erros:

```json
{
  "data": {
    "syntheticsPurgePrivateLocationQueue": {
      "errors": null
    }
  }
}
```

Se houver algum problema ao limpar a fila, a matriz `errors` conterá objetos com campos `description` e `type` explicando o que deu errado.

## Excluir um local privado [#delete-private-location]

Quando uma localização privada não for mais necessária, você poderá removê-la permanentemente usando a mutação `syntheticsDeletePrivateLocation`.

<Callout variant="important">
  Antes de excluir uma localização privada, certifique-se de que nenhum monitor esteja atribuído a ela. Excluir uma localização privada que tenha monitores ativos atribuídos fará com que esses monitores falhem.
</Callout>

### Parâmetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parâmetro
      </th>

      <th>
        Tipo de dados
      </th>

      <th>
        É obrigatório?
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `guid`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        O 

        [GUID](/docs/apis/nerdgraph/examples/synthetics-api/query-synthetics-data#query-private-locations)

         de entidade exclusivo da localização privada que você deseja excluir.
      </td>
    </tr>
  </tbody>
</table>

### Solicitação de amostra

```graphql
mutation {
  syntheticsDeletePrivateLocation(
    guid: "ENTITY_GUID"
  ) {
    errors {
      description
      type
    }
  }
}
```

### Resposta de amostra

Uma resposta bem-sucedida retorna `null` para erros:

```json
{
  "data": {
    "syntheticsDeletePrivateLocation": {
      "errors": null
    }
  }
}
```

Se houver algum problema ao excluir a localização privada, a matriz `errors` conterá objetos com campos `description` e `type` explicando o que deu errado.