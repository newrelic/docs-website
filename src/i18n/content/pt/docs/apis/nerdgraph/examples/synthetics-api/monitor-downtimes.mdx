---
title: Gerenciar período de inatividade do monitor
tags:
  - Synthetics
  - APIs
  - NerdGraph
  - Examples
metaDescription: How to use New Relic NerdGraph API to create and manage monitor downtimes for synthetic monitoring.
freshnessValidatedDate: never
translationType: machine
---

Monitor período de inatividade permite agendar períodos em que seus monitores Sintético param de funcionar. Isso é útil durante manutenções programadas, implantações ou interrupções conhecidas, quando você não deseja receber alertas. Você pode criar períodos de inatividade únicos ou programações recorrentes (diárias, semanais ou mensais). Este tutorial fornece exemplos de como usar a API do NerdGraph para gerenciar programaticamente o período de inatividade do monitor. Para gerenciar o período de inatividade do monitor utilizando a interface, consulte [Desativar monitoramento durante horários programados de manutenção](/docs/synthetics/synthetic-monitoring/using-monitors/monitor-downtimes-disable-monitoring-during-scheduled-maintenance-times/).

<Callout variant="tip">
  Para valores de fuso horário, consulte o [banco de dados de fusos horários tz](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones). Por exemplo, use `America/Los_Angeles` para o Horário do Pacífico.
</Callout>

## Crie um monitor único de período de inatividade [#create-once-downtime]

Você pode criar um monitor único de período de inatividade usando a mutação `syntheticsCreateOnceMonitorDowntime`. Use esta opção para manutenção programada ou eventos que ocorrem apenas uma vez.

### Parâmetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parâmetro
      </th>

      <th>
        Tipo de dados
      </th>

      <th>
        É obrigatório?
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `accountId`
      </td>

      <td>
        Inteiro
      </td>

      <td>
        Sim
      </td>

      <td>
        O 

        [ID da conta](/docs/accounts/accounts-billing/account-structure/account-id)

         New Relic onde o período de inatividade será criado.
      </td>
    </tr>

    <tr>
      <td>
        `name`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        Um nome descritivo para o período de inatividade.
      </td>
    </tr>

    <tr>
      <td>
        `monitorGuids`
      </td>

      <td>
        Matriz
      </td>

      <td>
        Não
      </td>

      <td>
        Lista de 

        [GUIDs](/docs/apis/nerdgraph/examples/synthetics-api/query-synthetics-data#query-monitors)

         de monitoramento a serem incluídos no período de inatividade. Deixe em branco para aplicar a todos os monitores.
      </td>
    </tr>

    <tr>
      <td>
        `timezone`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        O fuso horário da programação do período de inatividade (por exemplo, 

        `America/New_York`

        ).
      </td>
    </tr>

    <tr>
      <td>
        `startTime`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        Quando o período de inatividade começa no formato 

        `yyyy-MM-ddTHH:mm:ss`

        .
      </td>
    </tr>

    <tr>
      <td>
        `endTime`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        Quando o período de inatividade termina no formato 

        `yyyy-MM-ddTHH:mm:ss`

        .
      </td>
    </tr>
  </tbody>
</table>

### Solicitação de amostra

```graphql
mutation {
  syntheticsCreateOnceMonitorDowntime(
    accountId: ACCOUNT_ID,
    name: "MonitorDowntimeName",
    monitorGuids: ["OptionalMonitorEntityGuid", "OptionalMonitorEntityGuid"],
    timezone: "TIMEZONE",
    startTime: "yyyy-MM-ddTHH:mm:ss",
    endTime: "yyyy-MM-ddTHH:mm:ss"
  ) {
    guid
    accountId
    name
    monitorGuids
    timezone
    startTime
    endTime
  }
}
```

## Crie um período de inatividade diário e recorrente para monitorar o tempo de inatividade. [#create-daily-downtime]

Você pode criar um período de inatividade de monitoramento diário recorrente usando a mutação `syntheticsCreateDailyMonitorDowntime`. Use isso para janelas de manutenção regulares que ocorrem todos os dias.

### Parâmetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parâmetro
      </th>

      <th>
        Tipo de dados
      </th>

      <th>
        É obrigatório?
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `accountId`
      </td>

      <td>
        Inteiro
      </td>

      <td>
        Sim
      </td>

      <td>
        O 

        [ID da conta](/docs/accounts/accounts-billing/account-structure/account-id)

         New Relic onde o período de inatividade será criado.
      </td>
    </tr>

    <tr>
      <td>
        `name`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        Um nome descritivo para o período de inatividade recorrente.
      </td>
    </tr>

    <tr>
      <td>
        `monitorGuids`
      </td>

      <td>
        Matriz
      </td>

      <td>
        Não
      </td>

      <td>
        Lista de 

        [GUIDs](/docs/apis/nerdgraph/examples/synthetics-api/query-synthetics-data#query-monitors)

         de monitoramento a serem incluídos no período de inatividade.
      </td>
    </tr>

    <tr>
      <td>
        `timezone`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        O fuso horário da programação do período de inatividade.
      </td>
    </tr>

    <tr>
      <td>
        `startTime`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        Horário de início diário no formato 

        `yyyy-MM-ddTHH:mm:ss`

        .
      </td>
    </tr>

    <tr>
      <td>
        `endTime`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        Horário de término diário no formato 

        `yyyy-MM-ddTHH:mm:ss`

        .
      </td>
    </tr>

    <tr>
      <td>
        `endRepeat`
      </td>

      <td>
        Objeto
      </td>

      <td>
        Não
      </td>

      <td>
        Quando interromper o período de inatividade recorrente. Use 

        `onDate`

         para uma data específica ou 

        `onRepeat`

         para o número de ocorrências.
      </td>
    </tr>
  </tbody>
</table>

### Solicitação de amostra

```graphql
mutation {
  syntheticsCreateDailyMonitorDowntime(
    accountId: ACCOUNT_ID,
    name: "MonitorDowntimeName",
    monitorGuids: ["OptionalMonitorEntityGuid", "AnotherOptionalMonitorEntityGuid"],
    timezone: "TIMEZONE",
    startTime: "yyyy-MM-ddTHH:mm:ss",
    endTime: "yyyy-MM-ddTHH:mm:ss",
    endRepeat: {
      onDate: "yyyy-MM-ddTHH:mm:ss",
      onRepeat: 10
    }
  ) {
    guid
    accountId
    name
    monitorGuids
    timezone
    startTime
    endTime
    endRepeat {
      onDate
      onRepeat
    }
  }
}
```

## Crie um período de inatividade semanal recorrente para o monitor. [#create-weekly-downtime]

Você pode criar um período de inatividade de monitor recorrente semanal usando a mutação `syntheticsCreateWeeklyMonitorDowntime`. Use esta opção para janelas de manutenção que ocorrem em dias específicos da semana.

### Parâmetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parâmetro
      </th>

      <th>
        Tipo de dados
      </th>

      <th>
        É obrigatório?
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `accountId`
      </td>

      <td>
        Inteiro
      </td>

      <td>
        Sim
      </td>

      <td>
        O 

        [ID da conta](/docs/accounts/accounts-billing/account-structure/account-id)

         New Relic onde o período de inatividade será criado.
      </td>
    </tr>

    <tr>
      <td>
        `name`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        Um nome descritivo para o período de inatividade semanal.
      </td>
    </tr>

    <tr>
      <td>
        `monitorGuids`
      </td>

      <td>
        Matriz
      </td>

      <td>
        Não
      </td>

      <td>
        Lista de 

        [GUIDs](/docs/apis/nerdgraph/examples/synthetics-api/query-synthetics-data#query-monitors)

         de monitoramento a serem incluídos no período de inatividade.
      </td>
    </tr>

    <tr>
      <td>
        `timezone`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        O fuso horário da programação do período de inatividade.
      </td>
    </tr>

    <tr>
      <td>
        `startTime`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        Horário de início semanal no formato 

        `yyyy-MM-ddTHH:mm:ss`

        .
      </td>
    </tr>

    <tr>
      <td>
        `endTime`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        Horário de término semanal no formato 

        `yyyy-MM-ddTHH:mm:ss`

        .
      </td>
    </tr>

    <tr>
      <td>
        `maintenanceDays`
      </td>

      <td>
        Matriz
      </td>

      <td>
        Sim
      </td>

      <td>
        Dias da semana (ex.: 

        `MONDAY`

        , 

        `TUESDAY`

        , 

        `WEDNESDAY`

        ).
      </td>
    </tr>

    <tr>
      <td>
        `endRepeat`
      </td>

      <td>
        Objeto
      </td>

      <td>
        Não
      </td>

      <td>
        Quando interromper o período de inatividade recorrente.
      </td>
    </tr>
  </tbody>
</table>

### Solicitação de amostra

```graphql
mutation {
  syntheticsCreateWeeklyMonitorDowntime(
    accountId: ACCOUNT_ID,
    name: "MonitorDowntimeName",
    monitorGuids: ["OptionalMonitorEntityGuid", "AnotherOptionalMonitorEntityGuid"],
    timezone: "TIMEZONE",
    startTime: "yyyy-MM-ddTHH:mm:ss",
    endTime: "yyyy-MM-ddTHH:mm:ss",
    maintenanceDays: [MONDAY, WEDNESDAY, FRIDAY],
    endRepeat: {
      onDate: "yyyy-MM-ddTHH:mm:ss",
      onRepeat: 20
    }
  ) {
    guid
    accountId
    name
    monitorGuids
    timezone
    startTime
    endTime
    maintenanceDays
    endRepeat {
      onDate
      onRepeat
    }
  }
}
```

## Crie um período de inatividade mensal recorrente para monitorar o tempo de inatividade. [#create-monthly-downtime]

Você pode criar um período de inatividade de monitoramento mensal recorrente usando a mutação `syntheticsCreateMonthlyMonitorDowntime`. Use esta opção para janelas de manutenção que ocorrem em dias específicos de cada mês.

### Parâmetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parâmetro
      </th>

      <th>
        Tipo de dados
      </th>

      <th>
        É obrigatório?
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `accountId`
      </td>

      <td>
        Inteiro
      </td>

      <td>
        Sim
      </td>

      <td>
        O 

        [ID da conta](/docs/accounts/accounts-billing/account-structure/account-id)

         New Relic onde o período de inatividade será criado.
      </td>
    </tr>

    <tr>
      <td>
        `name`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        Um nome descritivo para o período de inatividade mensal.
      </td>
    </tr>

    <tr>
      <td>
        `monitorGuids`
      </td>

      <td>
        Matriz
      </td>

      <td>
        Não
      </td>

      <td>
        Lista de 

        [GUIDs](/docs/apis/nerdgraph/examples/synthetics-api/query-synthetics-data#query-monitors)

         de monitoramento a serem incluídos no período de inatividade.
      </td>
    </tr>

    <tr>
      <td>
        `timezone`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        O fuso horário da programação do período de inatividade.
      </td>
    </tr>

    <tr>
      <td>
        `startTime`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        Horário de início mensal no formato 

        `yyyy-MM-ddTHH:mm:ss`

        .
      </td>
    </tr>

    <tr>
      <td>
        `endTime`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        Horário de término mensal no formato 

        `yyyy-MM-ddTHH:mm:ss`

        .
      </td>
    </tr>

    <tr>
      <td>
        `frequency`
      </td>

      <td>
        Objeto
      </td>

      <td>
        Sim
      </td>

      <td>
        Define quando no mês ocorre o período de inatividade. Use 

        `daysOfWeek`

         para datas relativas (por exemplo, primeira segunda-feira) ou 

        `daysOfMonth`

         para datas específicas (por exemplo, dia 15 de cada mês).
      </td>
    </tr>

    <tr>
      <td>
        `endRepeat`
      </td>

      <td>
        Objeto
      </td>

      <td>
        Não
      </td>

      <td>
        Quando interromper o período de inatividade recorrente.
      </td>
    </tr>
  </tbody>
</table>

### Solicitação de amostra

```graphql
mutation {
  syntheticsCreateMonthlyMonitorDowntime(
    accountId: ACCOUNT_ID,
    name: "MonitorDowntimeName",
    monitorGuids: ["OptionalMonitorEntityGuid", "AnotherOptionalMonitorEntityGuid"],
    timezone: "TIMEZONE",
    startTime: "yyyy-MM-ddTHH:mm:ss",
    endTime: "yyyy-MM-ddTHH:mm:ss",
    frequency: {
      daysOfWeek: {
        weekDay: MONDAY,
        ordinalDayOfMonth: FIRST
      }
      daysOfMonth: [15]
    },
    endRepeat: {
      onDate: "yyyy-MM-ddTHH:mm:ss",
      onRepeat: 12
    }
  ) {
    guid
    accountId
    name
    monitorGuids
    timezone
    startTime
    endTime
    frequency {
      daysOfWeek {
        weekDay
        ordinalDayOfMonth
      }
      daysOfMonth
    }
    endRepeat {
      onDate
      onRepeat
    }
  }
}
```

## Atualizar um período de inatividade do monitor [#update-downtime]

Você pode atualizar o período de inatividade de um monitor existente usando a mutação `syntheticsEditMonitorDowntime`. Isso permite modificar qualquer tipo de período de inatividade (único, diário, semanal ou mensal) usando essa única mutação.

### Parâmetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parâmetro
      </th>

      <th>
        Tipo de dados
      </th>

      <th>
        É obrigatório?
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `guid`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        O 

        [GUID](/docs/apis/nerdgraph/examples/synthetics-api/query-synthetics-data#query-monitors)

         do período de inatividade do monitor existente a ser atualizado.
      </td>
    </tr>

    <tr>
      <td>
        `name`
      </td>

      <td>
        Corda
      </td>

      <td>
        Não
      </td>

      <td>
        Nome atualizado para o período de inatividade.
      </td>
    </tr>

    <tr>
      <td>
        `monitorGuids`
      </td>

      <td>
        Matriz
      </td>

      <td>
        Não
      </td>

      <td>
        Lista atualizada de 

        [GUIDs](/docs/apis/nerdgraph/examples/synthetics-api/query-synthetics-data#query-monitors)

         de monitores.
      </td>
    </tr>

    <tr>
      <td>
        `once`
      </td>

      <td>
        Objeto
      </td>

      <td>
        Não
      </td>

      <td>
        Configuração para período único de inatividade.
      </td>
    </tr>

    <tr>
      <td>
        `daily`
      </td>

      <td>
        Objeto
      </td>

      <td>
        Não
      </td>

      <td>
        Configuração para período de inatividade recorrente diário.
      </td>
    </tr>

    <tr>
      <td>
        `weekly`
      </td>

      <td>
        Objeto
      </td>

      <td>
        Não
      </td>

      <td>
        Configuração para período de inatividade recorrente semanal.
      </td>
    </tr>

    <tr>
      <td>
        `monthly`
      </td>

      <td>
        Objeto
      </td>

      <td>
        Não
      </td>

      <td>
        Configuração de período de inatividade recorrente mensal.
      </td>
    </tr>
  </tbody>
</table>

### Solicitação de amostra

```graphql
mutation {
  syntheticsEditMonitorDowntime(
    guid: "MonitorDowntimeEntityGuid",
    name: "MONITOR_DOWNTIME_NAME",
    monitorGuids: ["OptionalMonitorEntityGuid", "AnotherOptionalMonitorEntityGuid"],
    once: {
      timezone: "TIMEZONE",
      startTime: "yyyy-MM-ddTHH:mm:ss",
      endTime: "yyyy-MM-ddTHH:mm:ss"
    },
    daily: {
      timezone: "TIMEZONE",
      startTime: "yyyy-MM-ddTHH:mm:ss",
      endTime: "yyyy-MM-ddTHH:mm:ss",
      endRepeat: {
        onDate: "yyyy-MM-ddTHH:mm:ss",
        onRepeat: 30
      }
    },
    weekly: {
      timezone: "TIMEZONE",
      startTime: "yyyy-MM-ddTHH:mm:ss",
      endTime: "yyyy-MM-ddTHH:mm:ss",
      endRepeat: {
        onDate: "yyyy-MM-ddTHH:mm:ss",
        onRepeat: 20
      },
      maintenanceDays: [MONDAY, WEDNESDAY]
    },
    monthly: {
      timezone: "TIMEZONE",
      startTime: "yyyy-MM-ddTHH:mm:ss",
      endTime: "yyyy-MM-ddTHH:mm:ss",
      endRepeat: {
        onDate: "yyyy-MM-ddTHH:mm:ss",
        onRepeat: 12
      },
      frequency: {
        daysOfWeek: {
          weekDay: MONDAY,
          ordinalDayOfMonth: FIRST
        },
        daysOfMonth: [15]
      }
    }
  ) {
    guid
    accountId
    name
    monitorGuids
    timezone
    startTime
    endTime
    endRepeat {
      onDate
      onRepeat
    }
    maintenanceDays
    frequency {
      daysOfWeek {
        weekDay
        ordinalDayOfMonth
      }
      daysOfMonth
    }
  }
}
```

## Excluir um período de inatividade do monitor [#delete-downtime]

Você pode excluir um período de inatividade do monitor usando a mutação `syntheticsDeleteMonitorDowntime`. Após a exclusão, o período de inatividade programado será removido e os monitores retomarão sua programação normal.

### Parâmetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parâmetro
      </th>

      <th>
        Tipo de dados
      </th>

      <th>
        É obrigatório?
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `guid`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        O 

        [GUID](/docs/apis/nerdgraph/examples/synthetics-api/query-synthetics-data#query-monitor-downtimes)

         do período de inatividade do monitor a ser excluído.
      </td>
    </tr>
  </tbody>
</table>

### Solicitação de amostra

```graphql
mutation {
  syntheticsDeleteMonitorDowntime(
    guid: "DOWNTIME_ENTITY_GUID"
  ) {
    guid
  }
}
```