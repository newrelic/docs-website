---
title: 'Tutorial do NerdGraph: Criar, atualizar e revogar URLs dashboard de compartilhamento público'
tags:
  - share dashboards externally
  - share dashboards using NerdGraph
  - public dashboard
  - public dashboard URL
metaDescription: 'Use New Relic NerdGraph to create, update, and revoke live dashboard URLs'
freshnessValidatedDate: never
translationType: machine
---

Com a [segurança e o acesso necessários configurados,](/docs/query-your-data/explore-query-data/dashboards/prerequisites-to-share-dashboards-charts) você pode criar, gerenciar e revogar URLs dashboard ativos acessíveis publicamente usando consulta e mutações no [NerdGraph](/docs/apis/nerdgraph/get-started/introduction-new-relic-nerdgraph). Você também pode fazer isso na [interface doNew Relic ](/docs/query-your-data/explore-query-data/dashboards/share-charts-dashboards-externally/#dashboard).

<Callout variant="caution">Se um dashboard compartilhado não for protegido por senha, qualquer pessoa com o URL ativo poderá acessar e visualizar todas as informações que ele contém. Para evitar acesso indesejado, [crie URLs protegidas por senha](#create-dashboard-url-with-psswd-nerdgraph) ou [habilite a proteção por senha para URLs compartilhadas existentes](#enable-password-dashboard-url-nerdgraph).</Callout>

Para criar, atualizar ou revogar uma URL dashboard ativo acessível publicamente do NerdGraph, você precisa do GUID do dashboard que deseja compartilhar.

1. Vá para <DNT>**[one.newrelic.com &gt; Dashboards](https://one.newrelic.com//dashboards)**</DNT>.
2. Abra o dashboard que você deseja compartilhar.
3. Navegue até <DNT>**<Icon name="fe-more-horizontal" /> &gt; Metadata**</DNT> e copie o GUID da entidade do dashboard.

<CollapserGroup>
  <Collapser id="create-dashboard-url-nerdgraph" title="Crie uma URL sem proteção por senha">
    1. Acesse o [explorador da API do NerdGraph](https://one.newrelic.com/nerdgraph-graphiql).
    2. Construa um [gráfico chamado de API](/docs/apis/nerdgraph/get-started/nerdgraph-explorer) usando a mutação `dashboardCreateLiveUrl` com o seguinte parâmetro:

    * `GUID`: Insira o GUID da entidade do dashboard.

    * `Options`(opcional) &gt; `ttl`: Insira o período de tempo em segundos para que o URL fique ativo.

      * **Valor mínimo**: 300 segundos (5 minutos)
      * **Valor máximo**: 631152000 segundos (20 anos)
      * **Valor padrão**: 2592000 segundos (30 dias)

    * `url`: Selecione esta opção para obter o URL dashboard ao vivo na resposta.

    * Selecione quaisquer outros campos que você deseja na resposta.

    #### Mutação de amostra [#create-public-link]

    ```graphql
    mutation {
      dashboardCreateLiveUrl(
        options: {ttl: time in seconds}
        guid: "YOUR_DASHBOARD_GUID"
      ) {
        url
      }
    }
    ```

    O URL dashboard ativo aparece na resposta. Este é um URL público, então você pode compartilhá-lo com qualquer pessoa.

    #### Resposta de amostra [#create-public-link-response]

    ```graphql
    {
      "data": {
        "dashboardCreateLiveUrl": {
          "url": "https://share.newrelic.com/dashboard/PUBLIC_LINK_ID"
        }
      }
    }
    ```

    `PUBLIC_LINK_ID` é o ID do dashboard compartilhado. Você pode usá-lo para atualizar ou revogar o URL dashboard compartilhado através do NerdGraph.

    <Callout variant="important">
      Qualquer atualização de conteúdo no dashboard da plataforma New Relic é refletida na página dashboard compartilhado.
    </Callout>
  </Collapser>

  <Collapser id="create-dashboard-url-with-psswd-nerdgraph" title="Crie uma URL com proteção por senha">
    Para evitar acesso indesejado ao dashboard compartilhado, você pode criar uma URL dashboard ativo com proteção por senha.

    1. Acesse o [explorador da API do NerdGraph](https://one.newrelic.com/nerdgraph-graphiql).
    2. Construa um [gráfico chamado de API](/docs/apis/nerdgraph/get-started/nerdgraph-explorer) usando a mutação `dashboardCreateLiveUrl` com o seguinte parâmetro:

    * `auth` &gt; `factors` &gt; `type`: Selecione `PASSWORD` para habilitar a proteção por senha para o URL dashboard ativo.

    * `GUID`: Insira o GUID da entidade do dashboard.

    * `Options`(opcional) &gt; `ttl`: Insira o período de tempo em segundos para que o URL fique ativo.

      * **Valor mínimo**: 300 segundos (5 minutos)
      * **Valor máximo**: 631152000 segundos (20 anos)
      * **Valor padrão**: 2592000 segundos (30 dias)

    * `auth` &gt; `factors` &gt; `password` &gt; `value`: Selecione esta opção para obter a senha dashboard ao vivo na resposta.

    * `url`: Selecione esta opção para obter o URL dashboard ao vivo na resposta.

    * Selecione quaisquer outros campos que você deseja na resposta.

    #### Mutação de amostra [#create-public-link-with-password]

    ```graphql
    mutation {
      dashboardCreateLiveUrl(
        guid: "YOUR_DASHBOARD_GUID"
        options: {ttl: 3600} # Optional: Set a time-to-live for the URL
        auth: {factors: [{type: PASSWORD}]}
      ) {
        url
        uuid
        auth {
          factors {
            type
            password {
              value # REQUEST THE PASSWORD VALUE HERE
            }
          }
        }
      }
    }
    ```

    O URL e a senha dashboard ao vivo aparecem na resposta.

    #### Resposta de amostra [#create-public-link-with-password-response]

    ```graphql
    {
      "data": {
        "dashboardCreateLiveUrl": {
          "auth": {
            "factors": [
              {
                "password": {
                  "value": "pfd-3ZZ46#3a4On5p%&¿"
                },
                "type": "PASSWORD"
              }
            ]
          },
          "url": "https://one.newrelic.com/dashboard/f6c730bf-fced-4890-ad6e-86ab6a6e8159",
          "uuid": "f6c730bf-fced-4890-ad6e-86ab6a6e8159"
        }
      }
    }

    ```

    `uuid` é o ID do dashboard compartilhado. Você pode usá-lo para [atualizar](#update-dashboard-url-nerdgraph) ou [revogar](revoke-dashboard-url-nerdgraph) o URL do painel compartilhado através do NerdGraph. Para compartilhar o dashboard com usuários externos, copie a URL e a senha da resposta. As senhas não podem ser recuperadas posteriormente. Caso você a perca, basta [redefinir a senha](#reset-password-dashboard-url-nerdgraph) e compartilhá-la novamente com o usuário. Siga nossas [práticas recomendadas de gerenciamento de senhas](/docs/query-your-data/explore-query-data/dashboards/share-charts-dashboards-externally/#password-management) para gerenciá-las com segurança.
  </Collapser>

  <Collapser id="update-dashboard-url-nerdgraph" title="Atualizar duração de expiração dashboard ao vivo">
    Certifique-se de ter [permissões](/docs/query-your-data/explore-query-data/dashboards/prerequisites-to-share-dashboards-charts/#permissions-to-custom-role) para modificar a configuração do dashboard compartilhado.

    Para atualizar o período de tempo em que o URL estará ativo:

    1. Acesse o [explorador da API do NerdGraph](https://one.newrelic.com/nerdgraph-graphiql).
    2. Construa um [gráfico chamado de API](/docs/apis/nerdgraph/get-started/nerdgraph-explorer) usando a mutação `dashboardUpdateLiveUrl` com o seguinte parâmetro:

    * `id`: Copie o ID do URL dashboard compartilhado e insira-o.

    * `Options` (opcional) &gt; `ttl`: Insira o período de tempo em segundos para que o URL fique ativo.

      * **Valor mínimo**: 300 segundos (5 minutos)
      * **Valor máximo**: 631152000 segundos (20 anos)
      * **Valor padrão**: 2592000 segundos (30 dias)

    #### Mutação de amostra [#update-public-link-request]

    ```graphql
    mutation {
      dashboardUpdateLiveUrl(
        id:"enter the public URL ID"
        options: { ttl: "updated duration in seconds" }
      )
    }
    ```

    A URL aparece na resposta da seguinte maneira. Agora a URL permanecerá ativa pelo período de tempo atualizado.

    #### Resposta de amostra [#update-public-link-response]

    ```graphql
    {
      "data": {
        "dashboardUpdateLiveUrl": {
          "url": "https://share.newrelic.com/dashboard/PUBLIC_LINK_ID"
        }
      }
    }
    ```
  </Collapser>

  <Collapser id="enable-password-dashboard-url-nerdgraph" title="Habilitar proteção por senha para o URL ativo">
    Certifique-se de ter [permissões](/docs/query-your-data/explore-query-data/dashboards/prerequisites-to-share-dashboards-charts/#permissions-to-custom-role) para modificar a configuração do dashboard compartilhado. Para habilitar a proteção por senha para um URL dashboard ativo:

    1. Acesse o [explorador da API do NerdGraph](https://one.newrelic.com/nerdgraph-graphiql).
    2. Construa um [gráfico chamado de API](/docs/apis/nerdgraph/get-started/nerdgraph-explorer) usando a mutação `dashboardUpdateLiveUrlAuth` com o seguinte parâmetro:

    * `auth` &gt; `factors` &gt; `type`: Selecione `PASSWORD` para habilitar a proteção por senha para o URL dashboard ativo.
    * `id`: Copie o ID do URL dashboard compartilhado e insira-o.
    * `auth` &gt; `factors` &gt; `password` &gt; `value`: Selecione esta opção para obter a senha dashboard ao vivo na resposta.
    * Selecione quaisquer outros campos que você deseja na resposta.

    #### Mutação de amostra [#enable-password-protection]

    ```graphql
    mutation {
      dashboardUpdateLiveUrlAuth(
        id: "YOUR_PUBLIC_LINK_UUID"
        auth: {factors: [{type: PASSWORD}]}
      ) {
        factors {
          password {
            value # A NEW PASSWORD WILL BE GENERATED AND RETURNED
          }
          type
        }
      }
    }
    ```

    #### Resposta de amostra [#enable-password-protection-response]

    A senha aparece na resposta da seguinte maneira.

    ```graphql
    {
      "data": {
        "dashboardUpdateLiveUrlAuth": {
          "factors": [
            {
              "password": {
                "value": "system generated password"
              },
              "type": "PASSWORD"
            }
          ]
        }
      }
    }

    ```

    Após habilitar a senha para o painel compartilhado, você precisa compartilhar a senha com o usuário. Copie e salve a senha, pois você não poderá recuperá-la mais tarde. Caso você a perca, basta [redefinir a senha](#reset-password-dashboard-url-nerdgraph) e compartilhá-la novamente com o usuário. Siga nossas [práticas recomendadas de gerenciamento de senhas](/docs/query-your-data/explore-query-data/dashboards/share-charts-dashboards-externally/#password-management) para gerenciá-las com segurança.
  </Collapser>

  <Collapser id="disable-password-dashboard-url-nerdgraph" title="Desabilitar a proteção por senha para o URL ativo">
    Certifique-se de ter [permissões](/docs/query-your-data/explore-query-data/dashboards/prerequisites-to-share-dashboards-charts/#permissions-to-custom-role) para modificar a configuração do dashboard compartilhado. Para desabilitar a proteção por senha para um URL dashboard ativo:

    1. Acesse o [explorador da API do NerdGraph](https://one.newrelic.com/nerdgraph-graphiql).
    2. Crie uma [chamada de API de gráfico](/docs/apis/nerdgraph/get-started/nerdgraph-explorer) usando a mutação `dashboardUpdateLiveUrlAuth` com os seguintes valores de atributo:

    * `auth` &gt; `factors` &gt; `type`: Selecione `PASSWORD` para habilitar a proteção por senha para o URL dashboard ativo.
    * `id`: Copie o ID do URL dashboard compartilhado e insira-o.
    * `auth` &gt; `factors`: Mantenha isto vazio.
    * `factors` &gt; `type`: Selecione esta opção para obter a confirmação em resposta de que o valor da senha foi removido.

    #### Mutação de amostra [#disable-password-protection]

    ```graphql
    mutation {
      dashboardUpdateLiveUrlAuth(
        id: "YOUR_PUBLIC_LINK_UUID"
        auth: {factors: []} # Send an empty array to remove all authentication
      ) {
        factors { # This will be empty
          type 
        }
      }
    }

    ```

    ## Resposta de amostra [#disable-password-protection-response]

    Verifique se a resposta aparece da seguinte maneira. A senha é removida e o URL dashboard ao vivo não é mais protegido por senha.

    ```json
    {
      "data": {
        "dashboardUpdateLiveUrlAuth": {
          "factors": []
        }
      }
    }
    ```
  </Collapser>

  <Collapser id="reset-password-dashboard-url-nerdgraph" title="Redefinir a senha para o URL ativo">
    Certifique-se de ter [permissões](/docs/query-your-data/explore-query-data/dashboards/prerequisites-to-share-dashboards-charts/#permissions-to-custom-role) para modificar a configuração do dashboard compartilhado. Para redefinir a senha de um URL dashboard ativo:

    1. Acesse o [explorador da API do NerdGraph](https://one.newrelic.com/nerdgraph-graphiql).
    2. Crie uma [chamada de API de gráfico](/docs/apis/nerdgraph/get-started/nerdgraph-explorer) usando a mutação `dashboardResetLiveUrlPassword` com os seguintes valores de atributo:

    * `id`: Copie o ID do URL dashboard compartilhado e insira-o.
    * `password`: Selecione esta opção para obter a nova senha dashboard ativo na resposta.

    #### Mutação de amostra [#reset-password]

    ```graphql
    mutation {
      dashboardResetLiveUrlPassword(id: "YOUR_PUBLIC_LINK_UUID") {
        password
      }
    }
    ```

    #### Resposta de amostra [#reset-password-response]

    A nova senha aparece na resposta da seguinte maneira.

    ```graphql
    {
      "data": {
        "dashboardResetLiveUrlPassword": {
          "password": "system generated password"
        }
      }
    }
    ```

    Após redefinir a senha do painel compartilhado, você precisa compartilhar a nova senha com o usuário. Copie e salve a senha, pois você não poderá recuperá-la mais tarde. Caso você o perca, basta reiniciá-lo novamente. Siga nossas [práticas recomendadas de gerenciamento de senhas](/docs/query-your-data/explore-query-data/dashboards/share-charts-dashboards-externally/#password-management) para gerenciá-las com segurança.
  </Collapser>

  <Collapser id="revoke-dashboard-url-nerdgraph" title="Revogar uma URL ativa">
    Com base nas [permissões](/docs/query-your-data/explore-query-data/dashboards/prerequisites-to-share-dashboards-charts/#permissions-to-custom-role) que você tem, você pode revogar apenas as URLs que você criou ou todas as URLs criadas pelo usuário na conta. Para revogar um URL dashboard compartilhado:

    1. Acesse o [explorador da API do NerdGraph](https://one.newrelic.com/nerdgraph-graphiql).
    2. Crie uma [chamada de API de gráfico](/docs/apis/nerdgraph/get-started/nerdgraph-explorer) usando a mutação `dashboardRevokeLiveUrl` com o seguinte valor de atributo:

    * `id`: Copie o ID do URL dashboard compartilhado e insira-o.

    #### Mutação de amostra [#revoke-public-link]

    ```graphql
    mutation {
      dashboardRevokeLiveUrl(id: "PUBLIC_LINK_ID") {
        id
      }
    }
    ```

    #### Resposta de amostra [#revoke-public-link-response]

    O URL dashboard compartilhado foi revogado e não estará mais acessível. A resposta aparece da seguinte forma:

    ```json
    {
      "data": {
        "dashboardRevokeLiveUrl": {
          "id": "PUBLIC_LINK_ID" //the one you passed to the mutation
        }
      }
    }
    ```
  </Collapser>

  <Collapser id="list-dashboard-url-nerdgraph" title="Listar todos os URLs compartilhados">
    Com base nas [permissões](/docs/query-your-data/explore-query-data/dashboards/prerequisites-to-share-dashboards-charts/#permissions-to-custom-role) que você tem, você pode recuperar a lista de URLs que você criou ou todas as URLs criadas pelo usuário na conta. Para obter a lista de URLs dashboard compartilhados:

    1. Acesse o [explorador da API do NerdGraph](https://one.newrelic.com/nerdgraph-graphiql).
    2. Crie uma [chamada de API de gráfico](/docs/apis/nerdgraph/get-started/nerdgraph-explorer) usando os seguintes detalhes:

    * `actor` &gt; `dashboard` &gt; `liveUrls`: Use isto para recuperar a lista de URLs dashboard compartilhados.
    * `filter` &gt; `type`: Selecione `DASHBOARD` para filtrar os resultados dos URLs dashboard .
    * Selecione quaisquer outros campos que você deseja na resposta.

    #### Exemplo de consulta [#list-public-links]

    ```graphql
    {
      actor {
        user {
          name
        }
        dashboard {
          liveUrls(filter: { type: DASHBOARD }) {
            liveUrls {
              createdAt
              type
              uuid
            }
          }
        }
      }
    }
    ```

    A lista de URLs do dashboard compartilhado aparece em resposta.
  </Collapser>
</CollapserGroup>