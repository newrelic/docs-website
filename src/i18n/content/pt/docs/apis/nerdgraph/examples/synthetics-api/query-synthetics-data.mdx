---
title: consulta monitoramento sintético dados
tags:
  - Synthetics
  - APIs
  - NerdGraph
  - Examples
metaDescription: 'How to use New Relic NerdGraph API to query synthetic monitoring data including monitors, private locations, secure credentials, and downtimes.'
freshnessValidatedDate: never
translationType: machine
---

Após configurar sua infraestrutura de monitoramento, você poderá utilizar a consulta para recuperar informações sobre sua entidade Sintética. consulta faz requests para buscar dados sobre monitores, localização privada, credenciais e período de inatividade. Este tutorial fornece exemplos de como usar a API do NerdGraph para consultar dados sintéticos de monitoramento.

Para conhecer os recursos adicionais de consulta disponíveis para sua entidade Sintético, confira [o tutorial API NerdGraph entidade](/docs/apis/nerdgraph/examples/nerdgraph-entities-api-tutorial/).

## Monitor de consulta [#query-monitors]

Esta consulta recupera todos os monitores Sintético em sua conta, retornando informações essenciais, incluindo o GUID do monitor, nome, ID da conta, tipo de monitor e tag associada. A tag contém detalhes adicionais de configuração e metadados sobre cada monitor.

### Parâmetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parâmetro
      </th>

      <th>
        Tipo de dados
      </th>

      <th>
        É obrigatório?
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `query`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        A consulta de busca para filtrar entidade. Use 

        `domain = 'SYNTH' AND type = 'MONITOR'`

         para recuperar todos os monitores Sintético.
      </td>
    </tr>
  </tbody>
</table>

### Exemplo de consulta

```graphql
{
  actor {
    entitySearch(query: "domain = 'SYNTH' AND type = 'MONITOR'") {
      results {
        entities {
          ... on SyntheticMonitorEntityOutline {
            guid
            name
            accountId
            monitorType
            tags {
              key
              values
            }
          }
        }
      }
    }
  }
}
```

## Consulta localização privada [#query-private-locations]

Esta consulta recupera todos os locais privados da sua conta, retornando informações essenciais, incluindo o GUID do local, o nome, o ID da conta e a etiqueta associada. localização privada permite que você monitore aplicativos atrás de seu firewall, e seus detalhes de configuração são acessíveis através da tag.

### Parâmetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parâmetro
      </th>

      <th>
        Tipo de dados
      </th>

      <th>
        É obrigatório?
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `query`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        A consulta de busca para filtrar entidade. Use 

        `domain = 'SYNTH' AND type = 'PRIVATE_LOCATION'`

         para recuperar todas as localizações privadas.
      </td>
    </tr>
  </tbody>
</table>

### Exemplo de consulta

```graphql
{
  actor {
    entitySearch(query: "domain = 'SYNTH' AND type = 'PRIVATE_LOCATION'") {
      results {
        entities {
          accountId
          guid
          name
          tags {
            key
            values
          }
        }
      }
    }
  }
}
```

## Consultar monitor período de inatividade [#query-monitor-downtimes]

Esta consulta recupera todos os períodos de inatividade do monitor em sua conta, retornando informações essenciais, incluindo o GUID do período de inatividade, nome, ID da conta e tag associada. O período de inatividade dos monitores são períodos programados em que os monitores da Sintético param de funcionar, úteis durante manutenções planejadas ou interrupções conhecidas. Detalhes de configuração, como tipo de agendamento, fuso horário e padrões de recorrência, são armazenados na tag.

### Parâmetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parâmetro
      </th>

      <th>
        Tipo de dados
      </th>

      <th>
        É obrigatório?
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `query`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        A consulta de busca para filtrar entidade. Use 

        `domain = 'SYNTH' AND type = 'MONITOR_DOWNTIME'`

         para recuperar todo o período de inatividade do monitor.
      </td>
    </tr>
  </tbody>
</table>

### Exemplo de consulta

```graphql
{
  actor {
    entitySearch(query: "domain = 'SYNTH' AND type = 'MONITOR_DOWNTIME'") {
      results {
        entities {
          accountId
          guid
          name
          tags {
            key
            values
          }
        }
      }
    }
  }
}
```

## Consultar credenciais seguras [#query-secure-credentials]

Esta consulta recupera todas as credenciais seguras da sua conta, retornando informações específicas, incluindo o GUID da credencial, nome, ID da conta, etiqueta e data timestamp da última atualização. Credenciais seguras ajudam a armazenar, proteger e gerenciar centralmente informações confidenciais, como senhas, chaves de API ou certificados criptografados. Por motivos de segurança, a consulta de credenciais seguras retorna apenas metadados, e não os valores reais das credenciais.

### Parâmetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parâmetro
      </th>

      <th>
        Tipo de dados
      </th>

      <th>
        É obrigatório?
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `query`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        A consulta de busca para filtrar entidade. Use 

        `domain = 'SYNTH' AND type = 'SECURE_CRED'`

         para recuperar todas as credenciais seguras.
      </td>
    </tr>
  </tbody>
</table>

### Exemplo de consulta

```graphql
{
  actor {
    entitySearch(query: "domain = 'SYNTH' AND type = 'SECURE_CRED'") {
      results {
        entities {
          ... on SecureCredentialEntityOutline {
            accountId
            guid
            name
            tags {
              key
              values
            }
            updatedAt
          }
        }
      }
    }
  }
}
```

## Scriptdo monitor de consulta [#query-monitor-script]

Esta consulta recupera o conteúdo script usado em uma API com script ou monitor de browser com script. O script contém o código JavaScript que define o comportamento do monitor, como chamadas de API, interação com o navegador ou lógica de validação personalizada. Esta consulta só funciona com tipos de monitoramento que utilizam scripts; outros tipos de monitoramento (simples, ping, passo a passo, verificação de certificado, links quebrados) retornarão um erro, pois não utilizam scripts personalizados.

### Parâmetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parâmetro
      </th>

      <th>
        Tipo de dados
      </th>

      <th>
        É obrigatório?
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `id`

         (conta)
      </td>

      <td>
        Inteiro
      </td>

      <td>
        Sim
      </td>

      <td>
        O ID da conta New Relic que contém o monitor.
      </td>
    </tr>

    <tr>
      <td>
        `monitorGuid`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        O GUID exclusivo da entidade do monitor com script cujo script você deseja recuperar.
      </td>
    </tr>
  </tbody>
</table>

### Exemplo de consulta

```graphql
{
  actor {
    account(id: ACCOUNT_ID) {
      synthetics {
        script(monitorGuid: "ENTITY_GUID") {
          text
        }
      }
    }
  }
}
```

## Etapas do monitor de consulta [#query-monitor-steps]

Esta consulta recupera os passos configurados para um monitor de passos. Os monitores de etapas fornecem monitoramento baseado em navegador, sem código e em várias etapas, por meio de uma sequência de ações predefinidas, como navegação, cliques, entradas de formulário e asserções. Cada etapa possui uma posição ordinal, um tipo que define a ação e valores que contêm os dados de configuração da etapa. Esta consulta funciona apenas com monitores de passo; outros tipos de monitor retornarão um erro, pois não utilizam configuração baseada em passos.

### Parâmetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parâmetro
      </th>

      <th>
        Tipo de dados
      </th>

      <th>
        É obrigatório?
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `id`

         (conta)
      </td>

      <td>
        Inteiro
      </td>

      <td>
        Sim
      </td>

      <td>
        O ID da conta New Relic que contém o monitor.
      </td>
    </tr>

    <tr>
      <td>
        `monitorGuid`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        O GUID exclusivo da entidade do monitor de passos cujos passos você deseja recuperar.
      </td>
    </tr>
  </tbody>
</table>

### Exemplo de consulta

```graphql
{
  actor {
    account(id: ACCOUNT_ID) {
      synthetics {
        steps(monitorGuid: "ENTITY_GUID") {
          ordinal
          type
          values
        }
      }
    }
  }
}
```

## Consulta para mapear o ID do monitor para o GUID da entidade [#query-guid-mapping]

Esta consulta recupera o GUID da entidade para um monitor Sintético utilizando o ID do monitor. Isso é útil quando você tem o ID numérico legado do monitor e precisa convertê-lo para o formato GUID da entidade, exigido para a maioria das operações do NerdGraph. O GUID da entidade é o identificador moderno usado para atualizações, exclusões e outras tarefas de gerenciamento de monitores, enquanto o ID do monitor é o identificador numérico mais antigo que pode aparecer em URLs ou integrações legadas.

### Parâmetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parâmetro
      </th>

      <th>
        Tipo de dados
      </th>

      <th>
        É obrigatório?
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `query`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        A consulta de pesquisa para encontrar o monitor. Use 

        `domainId = 'MONITOR_ID'`

         onde MONITOR_ID é o ID numérico do monitor que você deseja encontrar.
      </td>
    </tr>
  </tbody>
</table>

### Exemplo de consulta

```graphql
{
  actor {
    entitySearch(
      query: "(domainId = 'MONITOR_ID')"
    ) {
      results {
        entities {
          ... on SyntheticMonitorEntityOutline {
            guid
            name
            monitorId
          }
        }
      }
    }
  }
}
```

## status da atualização do runtime do consulta (todos os monitores) [#query-runtime-upgrade-all]

Esta consulta recupera o status de todos os testes de atualização de tempo de execução para monitores de tempo de execução legados em sua conta. Esses testes validam se os monitores que usam ambientes de execução mais antigos (como Chrome 72 ou API legada Node.js ) podem ser executados com sucesso em ambientes de execução mais recentes (Chrome 100+ ou Node.js 16.10). Os resultados são exibidos na [interface de atualização de tempo de execução](/docs/synthetics/synthetic-monitoring/using-monitors/runtime-upgrade-ui/) e ajudam você a identificar quais monitores estão prontos para atualização. O resultado do teste é armazenado na tag `validationStatus` e, se o teste de atualização falhar, informações detalhadas sobre o erro estarão disponíveis na tag `validationError`.

### Parâmetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parâmetro
      </th>

      <th>
        Tipo de dados
      </th>

      <th>
        É obrigatório?
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `query`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        A consulta de busca para filtrar entidade. Use 

        `domain = 'SYNTH' AND type = 'RUNTIME_VALIDATION'`

         para recuperar todos os resultados dos testes de atualização de tempo de execução.
      </td>
    </tr>
  </tbody>
</table>

### Exemplo de consulta

```graphql
{
  actor {
    entitySearch(query: "domain = 'SYNTH' AND type = 'RUNTIME_VALIDATION'") {
      results {
        entities {
          accountId
          guid
          name
          tags {
            key
            values
          }
        }
      }
    }
  }
}
```

## consultar o status da atualização do runtime (monitor específico) [#query-runtime-upgrade-specific]

Esta consulta recupera o status de um teste de atualização de tempo de execução para um monitor de tempo de execução legado específico, usando o ID do monitor. Isso é útil quando você deseja verificar se um monitor específico está pronto para atualização, em vez de todos os monitores da sua conta. O teste valida se o monitor pode ser executado com sucesso em versões mais recentes do ambiente de execução, e esses resultados são exibidos na [interface do usuário de atualizações do ambiente de execução](/docs/synthetics/synthetic-monitoring/using-monitors/runtime-upgrade-ui/). O resultado do teste é armazenado na tag `validationStatus` e, se o teste de atualização falhar, informações detalhadas sobre o erro estarão disponíveis na tag `validationError`.

### Parâmetro de entrada

<table>
  <thead>
    <tr>
      <th>
        Parâmetro
      </th>

      <th>
        Tipo de dados
      </th>

      <th>
        É obrigatório?
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `query`
      </td>

      <td>
        Corda
      </td>

      <td>
        Sim
      </td>

      <td>
        A consulta de busca para filtrar entidade. Use 

        `domain = 'SYNTH' AND type = 'RUNTIME_VALIDATION' AND domainId = 'MONITOR_ID'`

         onde MONITOR_ID é o ID numérico do monitor específico.
      </td>
    </tr>
  </tbody>
</table>

### Exemplo de consulta

```graphql
{
  actor {
    entitySearch(
      query: "domain = 'SYNTH' AND type = 'RUNTIME_VALIDATION' AND domainId = 'MONITOR_ID'"
    ) {
      results {
        entities {
          accountId
          guid
          name
          tags {
            key
            values
          }
        }
      }
    }
  }
}
```