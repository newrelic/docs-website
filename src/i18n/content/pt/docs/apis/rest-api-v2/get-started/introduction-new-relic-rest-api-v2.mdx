---
title: Como usar nossa API REST (v2)
tags:
  - APIs
  - REST API v2
  - Get started
metaDescription: 'How to get the most out of using New Relic''s REST API (v2) , including a demo, setup and format requirements, and links to detailed examples.'
freshnessValidatedDate: never
translationType: machine
---

A API REST da New Relic permite recuperar dados e enviar dados para ferramentas New Relic, bem como configurar recursos e executar operações de exclusão. Você também pode usar o [API Explorer](/docs/apis/rest-api-v2/api-explorer-v2/getting-started-new-relics-api-explorer) para entender os dados disponíveis por meio da API REST, para obter o comando curl e para ver as respostas JSON.

## Configurar

A estrutura de comando da API REST segue este modelo:

```
curl  -X GET <a href="#appid"><var>URL</var></a> -H "Api-Key:<a href="#api_key"><var>$API_KEY</var></a>" -d '<a href="#payload"><var>PAYLOAD</var></a>'
```

O comando `GET` também pode ser `POST` ou `DELETE`, dependendo da intenção da consulta.

Para entender o espaço reservado, continue lendo.

<Callout variant="tip">
  Nossos exemplos usam curl como uma ferramenta de linha de comando comum para extrair dados de métrica de fração de tempo da API REST. No entanto, você pode usar qualquer método para fazer suas solicitações REST. Os comandos `curl` incluem URLs de destino, informações de cabeçalho e dados relevantes para qualquer mecanismo de solicitação.
</Callout>

## URL [#appid]

A chamada de API requer uma URL para especificar o local de onde os dados serão acessados. Você deve substituir o espaço reservado `<URL>` pelo URL apropriado, que mudará dependendo do tipo de dados solicitados. Em geral, a URL segue este modelo:

```
https://api.newrelic.com/v2/applications/$APP_ID/metrics/data.json
```

O [$APP_ID](/docs/apis/rest-api-v2/requirements/finding-product-id) especifica o aplicativo ou produto exato para o qual os dados estão sendo solicitados. As informações que seguem este parâmetro variam dependendo da solicitação de dados.

Se você tiver uma [conta na região da UE](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center), o URL será:

```
api.eu.newrelic.com/v2/applications/$APP_ID/metrics/data.json
```

<Callout variant="tip">
  Você pode recuperar dados XML em vez de JSON substituindo `.json` por `.xml`.
</Callout>

## Chave de API `$API_KEY` [#api_key]

A chamada de API do New Relic requer uma chave de API. Esta pode ser uma das várias chaves de API:

* Uma [chave de usuário](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key): Isso é recomendado. É a nossa implementação de chave mais recente e tem menos limitações do que uma chave de API REST. A chave do usuário também é usada para nossa [API NerdGraph](/docs/apis/nerdgraph/get-started/introduction-new-relic-nerdgraph).
* Uma [chave de API REST](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#rest-api-key): esta é nossa implementação de chave mais antiga. Para mais informações sobre isso, veja [Chave de API REST](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#rest-api-key). Se você usar essa chave, o cabeçalho necessário será `X-Api-Key` e não `Api-Key`.
* Se você tiver uma conta de parceria New Relic, usará uma chave diferente: consulte [Autenticação de parceria](/docs/apis/rest-api-v2/get-started/admin-users-api-key-partnerships).

Em nossos exemplos de API REST, pegamos emprestado o espaço reservado para chave de API $API_KEY da programação shell Unix. Certifique-se de substituir essa e outras variáveis específicas do usuário ao formar chamadas.

## Detalhes da consulta (carga) [#payload]

A carga contém os detalhes da consulta, que definem:

* O nome da métrica que deseja consultar e o valor que deseja recuperar
* O [intervalo de tempo](/docs/apis/rest-api-v2/requirements/specifying-time-range-v2) definido para recuperação da métrica
* (Opcional): A média dos dados da métrica de fração de tempo usando [resumo](/docs/apis/rest-api-v2/requirements/calculating-average-metric-values-summarize)

## Exemplos

Consulte os documentos a seguir para ver exemplos de casos de uso da API REST:

* [Exemplos de APM](/docs/apis/rest-api-v2/application-examples-v2) (como recuperar dados de métrica de fração de tempo de

  <InlinePopover type="apm"/>

  ).

* [Exemplos de browser](/docs/apis/rest-api-v2/browser-examples-v2) (como recuperar dados de métrica de fração de tempo de

  <InlinePopover type="browser"/>

  ). A API REST retorna apenas o script do agente do browser Lite. Para obter mais informações, [consulte esta tabela comparando os tipos Lite, Pro e Pro+SPA](/docs/browser/browser-monitoring/installation/install-browser-monitoring-agent).

* [Exemplos de alerta de infraestrutura](/docs/infrastructure/new-relic-infrastructure/infrastructure-alert-conditions/rest-api-calls-new-relic-infrastructure-alerts)

* [Exemplos de alertas](/docs/alerts/new-relic-alerts/rest-api-alerts) (criar condição do alerta e configurar canal de notificação e mais).
