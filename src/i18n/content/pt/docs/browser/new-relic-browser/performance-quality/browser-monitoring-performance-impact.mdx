---
title: Monitoramento de browser e impacto no desempenho
tags:
  - Browser
  - Browser monitoring
  - Performance quality
metaDescription: The negligible amount of overhead required to load browser JavaScript into a webpage results in a significant return of actionable data.
freshnessValidatedDate: never
translationType: machine
---

O trecho JavaScript do <InlinePopover type="browser" />apresenta um impacto quase invisível no desempenho do site e na percepção do usuário sobre o tempo que uma página leva para carregar. O JavaScript está incluído em um pacote de dados de páginas da web que é enviado de qualquer maneira. Além disso, inicia imediatamente o monitoramento de erros e eventos à medida que o restante da página web é executado. A quantidade insignificante de sobrecarga necessária para carregar o JavaScript resulta em um retorno significativo de dados acionáveis.

## Impacto geral [#overall]

A sobrecarga do JavaScript leva em consideração tanto o impacto no usuário quanto o impacto no desempenho dos seus sistemas:

* <DNT>**User perception:**</DNT> Normalmente o usuário não consegue detectar degradações de desempenho em um site com menos de 200ms. O JavaScript do browser adiciona menos de 15 ms no tempo agregado por carregamento de página. Isso é dividido ao longo do tempo, portanto, em nenhum momento o usuário seria capaz de perceber qualquer impacto no desempenho devido ao JavaScript.
* <DNT>**Webserver and systems:**</DNT> O monitoramento do aplicativo browser ocorre no browser do usuário, não no servidor. O tempo de processamento não afeta o consumo da CPU.

Além disso, tomamos medidas adicionais para minimizar qualquer impacto potencial nos aplicativos e páginas da web monitorados. Por exemplo, o script &quot;loader&quot; é carregado de forma síncrona no `<HEAD>` para garantir que o monitoramento esteja ativado durante todo o ciclo de vida da página. Esse script é incluído em linha, o que elimina a necessidade de outra solicitação de rede de ida e volta para uma [rede de distribuição de conteúdo (CDN)](/docs/browser/new-relic-browser/performance-quality/security-new-relic-browser#cdn). O &quot;carregador&quot; vem com o carregamento inicial da página.

Posteriormente no ciclo de vida da página, o New Relic carrega scripts de monitoramento adicionais de forma assíncrona. Esses scripts não devem ter nenhum efeito perceptível para o usuário e estão incluídos na sobrecarga geral de menos de 15 ms por página.

## Impacto na rede [#network]

O monitoramento do browser também minimiza o tráfego de rede para o usuário final, agregando dados localmente (no cliente) e enviando-os de volta para a New Relic em intervalos periódicos e nos eventos do ciclo de vida da página `load`, `unload`, `pageshow` e `pagehide`. (Durante os períodos ociosos da sessão do browser, as transmissões podem não ser necessárias.)

### Script do agente browser [#agent-scripts]

O agente consiste em múltiplos scripts para reduzir o tamanho inicial do &quot;loader&quot; e para suportar o carregamento apenas do JavaScript necessário para suportar os recursos do agente que estão habilitados. O primeiro script, o &quot;loader&quot;, é inserido in-line no documento HTML. Os scripts restantes são baixados da rede de distribuição de conteúdo (js-agente.newrelic.com) quando o evento de ciclo de vida da página `load` acontece. O número de scripts carregados depende do tipo de agente que está sendo usado. Descubra mais sobre [os tipos de browsers de agentes aqui](/docs/browser/browser-monitoring/installation/install-browser-monitoring-agent/#agent-types).

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        Script
      </th>

      <th>
        Lite
      </th>

      <th>
        Pró
      </th>

      <th>
        Pró + SPA
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Tamanho do script embutido
      </td>

      <td>
        10,2 KB
      </td>

      <td>
        15,5 KB
      </td>

      <td>
        17,5 KB
      </td>
    </tr>

    <tr>
      <td>
        Tamanho do script baixado
      </td>

      <td>
        15,3 KB
      </td>

      <td>
        21 KB
      </td>

      <td>
        25,4 KB
      </td>
    </tr>
  </tbody>
</table>

<sup>
  Os tamanhos são baseados em script reduzido usando compactação gzip.
</sup>

### Colheitas do agente browser [#agent-harvests]

Browser events are first harvested after the PageView event is successfully collected, and then every 30 seconds thereafter. If any event type exceeds 16 kB of data before the next scheduled harvest, an early harvest is triggered for that event. Additionally, a final harvest occurs whenever the document transitions to `hidden` via a `visibilitychange` event (e.g. when a user navigates away, switches tabs, closes the tab, minimizes or closes the browser, or switches from the browser to another app if they&apos;re on a mobile device).

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        Tipo de dados
      </th>

      <th>
        Lite
      </th>

      <th>
        Pró
      </th>

      <th>
        Pró + SPA
      </th>

      <th>
        Frequência de colheita
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Evento [PageView](/attribute-dictionary/?event=PageView)
      </td>

      <td>
        sim
      </td>

      <td>
        sim
      </td>

      <td>
        sim
      </td>

      <td>
        `PageView` os eventos são coletados uma vez imediatamente após o evento de ciclo de vida da página `load` . Esses dados são responsáveis por gerar a métrica de page view no dashboard do browser da interface New Relic. Esta é uma chamada JSONP para `bam.nr-data.net` ou `bam-cell.nr-data.net`. Todos os agentes são <DNT>**required**</DNT> para coletar um evento `PageView` .
      </td>
    </tr>

    <tr>
      <td>
        Evento [PageViewTiming](/attribute-dictionary/?event=PageViewTiming)
      </td>

      <td>
        sim
      </td>

      <td>
        sim
      </td>

      <td>
        sim
      </td>

      <td>
        `PageViewTiming` events are harvested by all agents and includes timing data like core web vitals measurements. See the [PageViewTiming docs](/docs/browser/new-relic-browser/page-load-timing-resources/pageviewtiming-async-or-dynamic-page-details/#interactivity-metrics) for a list of reported events.
      </td>
    </tr>

    <tr>
      <td>
        Métrica [de erro JavaScript](/attribute-dictionary/?event=JavaScriptError)
      </td>

      <td>
        não
      </td>

      <td>
        sim
      </td>

      <td>
        sim
      </td>

      <td>
        `JavaScriptError` metrics are sent together with Ajax metrics as timeslice data.
      </td>
    </tr>

    <tr>
      <td>
        Métrica Ajax
      </td>

      <td>
        não
      </td>

      <td>
        sim
      </td>

      <td>
        sim
      </td>

      <td>
        Enviado junto com JavaScriptError métrica como dados da fração de tempo.
      </td>
    </tr>

    <tr>
      <td>
        Evento [AjaxRequest](/attribute-dictionary/?event=AjaxRequest)
      </td>

      <td>
        não
      </td>

      <td>
        sim
      </td>

      <td>
        sim
      </td>

      <td>
        `AjaxRequest` events follows the 30 seconds harvest cycle unless the `SPA` agent is in use. If using the `SPA` agent, the first harvest will happen after the `load` page lifecycle event and additional harvests will either happen every 30 seconds or when the `SPA` agent notices a route change.
      </td>
    </tr>

    <tr>
      <td>
        Rastreamento da sessão
      </td>

      <td>
        não
      </td>

      <td>
        sim
      </td>

      <td>
        sim
      </td>

      <td>
        Session traces can generate a large amount of data, but that can be controlled by sampling. By default, only about 90 page views per hour will be sampled to send session trace data. There is also an option to set a custom sampling rate.
      </td>
    </tr>

    <tr>
      <td>
        Session Replay
      </td>

      <td>
        não
      </td>

      <td>
        sim
      </td>

      <td>
        sim
      </td>

      <td>
        In addition to the the general harvest cycles, session replay harvests that include snapshots and metadata payloads will be harvested immediately.

        O endpoint pode diferir dependendo da localidade, mas um exemplo para os EUA seria `https://bam.nr-data.net/browser/blobs`.
      </td>
    </tr>

    <tr>
      <td>
        Evento [PageAction](/attribute-dictionary/?event=PageAction)
      </td>

      <td>
        não
      </td>

      <td>
        sim
      </td>

      <td>
        sim
      </td>

      <td />
    </tr>

    <tr>
      <td>
        Evento [de interação do browser](/attribute-dictionary/?event=BrowserInteraction)
      </td>

      <td>
        não
      </td>

      <td>
        não
      </td>

      <td>
        sim
      </td>

      <td>
        `BrowserInteraction` events are harvested immediately after the interaction finishes. There will always be at least one interaction that represents the initial page load. Additional interactions are collected only if the URL changes (representing route change). `AjaxRequest` events are also harvested at the same time if they occur during an interaction.
      </td>
    </tr>

    <tr>
      <td>
        Browser logs
      </td>

      <td>
        não
      </td>

      <td>
        sim
      </td>

      <td>
        sim
      </td>

      <td />
    </tr>

    <tr>
      <td>
        [UserAction](/attribute-dictionary/?event=UserAction) events
      </td>

      <td>
        não
      </td>

      <td>
        sim
      </td>

      <td>
        sim
      </td>

      <td />
    </tr>

    <tr>
      <td>
        [BrowserPerformance](/attribute-dictionary/?event=BrowserPerformance) events
      </td>

      <td>
        não
      </td>

      <td>
        sim
      </td>

      <td>
        sim
      </td>

      <td />
    </tr>
  </tbody>
</table>