---
title: Modo de consentimento
tags:
  - Browser
  - Browser monitoring
metaDescription: Integrate privacy policy opt-ins to let users decide whether to consent to allow the browser agent to send data over the network.
freshnessValidatedDate: never
translationType: machine
---

## Para que serve este recurso?

Isso permite a integração de opções de política de privacidade para o usuário, referentes à forma como os aplicativos da web coletam, transmitem e processam os dados monitorados pelo agente do browser. Ao ativar este recurso, você permite que o usuário decida se deseja ou não permitir que o agente do browser envie dados pela rede.

Uma nova propriedade está disponível no objeto de inicialização do agente do browser chamada `browser_consent_mode`. Essa configuração controla se o modo de consentimento deve ser usado no agente. Disponível no Browser Lite, Browser Pro ou Pro + agente SPA, [versão 1.303.0](/docs/release-notes/new-relic-browser-release-notes/browser-agent-release-notes/browser-agent-v1.303.0) ou superior.

## Como eu uso isso?

Para usar este recurso, você precisará acessar a página de configurações do seu aplicativo e ativar a opção `"Turn on consent"`. Essa configuração está desativada por padrão.

O NerdGraph pode ser usado como uma alternativa para ativar e desativar essa configuração. Para fazer isso, execute uma consulta de mutação no objeto graphQL `browserSettings` para a propriedade `browser_consent_mode`, definindo `enabled` como `true` ou `false`.

Depois de integrar uma política de privacidade ou um modal de adesão ao seu aplicativo web, se um usuário clicar em um dos seguintes links:

1. “Sim, eu concordo.”

   Você precisará invocar o uso de uma nova API chamada `consent(accept?: boolean)`. Ao chamar a [API consent()](/docs/browser/new-relic-browser/browser-apis/consent), o parâmetro accept é verdadeiro por padrão.

   O recurso Browser com **autoStart: true** enviará dados para o New Relic após o consentimento ser fornecido.

   O recurso Browser com **autoStart: false** precisará ser invocado usando a função [APIstart()](/docs/browser/new-relic-browser/browser-apis/start) para iniciar o recurso do agente diferido e enviar dados pela rede.

2. “Não, eu não concordo.”

   Como o padrão é verdadeiro, você precisará chamar `consent(false)`, levando em consideração o argumento falso. O agente não enviará dados pela rede para esse usuário.

   <table>
     <thead>
       <tr>
         <th style={{ width: "200px" }}>
           browser\_consent\_mode
         </th>

         <th>
           API de consent()
         </th>

         <th>
           Resultado
         </th>
       </tr>
     </thead>

     <tbody>
       <tr>
         <td>
           Desativado (Off) (padrão)
         </td>

         <td>
           n/a
         </td>

         <td>
           Os dados do navegador são coletados pela New Relic.
         </td>
       </tr>

       <tr>
         <td>
           Ativado (On)
         </td>

         <td>
           Chamado com `consent()` ou chamado com `consent(true)` (padrão)
         </td>

         <td>
           Os dados do navegador são coletados pela New Relic.
         </td>
       </tr>

       <tr>
         <td>
           Ativado (On)
         </td>

         <td>
           Chamado com `consent(false)`
         </td>

         <td>
           O New Relic não coleta dados do navegador.
         </td>
       </tr>

       <tr>
         <td>
           Ativado (On)
         </td>

         <td>
           Não chamado
         </td>

         <td>
           O New Relic não coleta dados do navegador.
         </td>
       </tr>
     </tbody>
   </table>

## Considerações adicionais

* Quando `browser_consent_mode` está ativado, até \~30 segundos e um máximo de 1 MB de dados serão armazenados em buffer no navegador do usuário final e não serão enviados para a New Relic até que o usuário selecione o consentimento e a API de consentimento seja chamada. Devido a essas restrições, é possível que alguns dados sejam descartados e não enviados para a New Relic quando a API de consentimento for invocada.

* Se [o armazenamento de sessão](/docs/browser/new-relic-browser/configuration/browser-app-settings-page/#browser-session-storage) estiver ativado, as decisões passadas para a API de consentimento serão mantidas entre as páginas.

* Se [o armazenamento de sessão](/docs/browser/new-relic-browser/configuration/browser-app-settings-page/#browser-session-storage) estiver desativado, a API de consentimento precisará ser chamada a cada carregamento de página.