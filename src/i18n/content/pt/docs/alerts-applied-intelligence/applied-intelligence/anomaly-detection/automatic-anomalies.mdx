---
title: Anomalia de detecção automática
tags:
  - Alerts and applied intelligence
  - Applied intelligence
  - Proactive detection
metaDescription: Learn how automatic anomaly detection in New Relic notifies you of unusual app behavior.
freshnessValidatedDate: never
translationType: machine
---

import anomalyConfAnomalyDetection from 'images/alerts_screenshot-full_configure-anomaly-detection.webp'

import anomalyDetails from 'images/alerts_screenshot-full_anomaly-details.webp'

import anomalySpecificConf from 'images/alerts_screenshot-crop_anomalies-specific-conf.webp'

import anomalyWorkflowFilterData from 'images/alerts_screenshot-crop_workflow-filter-data.webp'

import anomalyWorkflowNotify from 'images/alerts_screenshot-crop_workflow-notify.webp'

A detecção automática de anomalias é a maneira mais fácil para você e sua equipe detectarem e analisarem comportamentos incomuns em seu sistema. Isso é feito usando os seguintes métodos:

1. A detecção de anomalias monitora dados métricos reportados por um agente, construindo um modelo da dinâmica típica de sua aplicação, e foca em três sinais clássicos principais: taxas de transferência, tempo de resposta e erros.
2. Se um desses sinais clássicos mostrar comportamento anômalo, o sistema sinalizará o comportamento e rastreará a recuperação para o comportamento normal.
3. O sistema se adapta às mudanças nos seus dados e atualiza continuamente os modelos com base em novos dados.

<DoNotTranslate>**Automatically on**</DoNotTranslate>: por padrão, a detecção de anomalias monitora todos os seus aplicativos <InlinePopover type="apm"/>, sem nenhuma ação necessária de sua parte. Quando uma anomalia é detectada, ela aparece automaticamente em vários fluxos de atividades, no feed de anomalias de inteligência aplicada e fica disponível para consulta via NRQL.

<DoNotTranslate>**Correlation**</DoNotTranslate>: anomalias estão conectadas à nossa lógica de correlação, também conhecidas como [decisões](/docs/alerts-applied-intelligence/applied-intelligence/incident-intelligence/change-applied-intelligence-correlation-logic-decisions). Se nossa lógica de correlação determinar que os problemas estão conectados, um único problema será criado a partir de vários incidentes. Você pode ver esse problema correlacionado no feed de problemas. anomalia fornece contexto adicional sobre o que mudou no momento em que um problema ocorreu para que sua equipe possa detectar facilmente padrões e diagnosticar problemas.

<DoNotTranslate>**Receiving notifications:**</DoNotTranslate> Quando a New Relic detecta alterações anômalas nas taxas de transferência, taxa de erro ou tempo de resposta, sua equipe tem a opção de receber [notificação](#Notifications) sobre esse comportamento. Recomendamos o envio de notificação para canais selecionados do Slack ou canais de e-mail. Quando o comportamento anômalo volta ao normal, uma mensagem de recuperação é enviada. Se não quiser receber notificação você ainda pode acessar os dados usando uma [consulta NRQL](#query-anomaly-data).

<DoNotTranslate>**Anomaly analysis:**</DoNotTranslate> Para cada anomalia, fornecemos um link no Slack para uma página de análise de anomalia. Esta página gera insights automáticos sobre a anomalia. A página também está disponível na guia anomalia, que lista anomalias recentes. Esta página usa seu <InlinePopover type="apm"/>existente e dados de detecção de anomalia para fornecer explicações sobre a causa da anomalia.

<DoNotTranslate>**Activity stream:**</DoNotTranslate> Dentro de vários fluxos de atividades, como a página inicial do New Relic, a página de resumo <InlinePopover type="apm"/>, visualizações de lista de entidades e o New Relic Lookout, você verá anomalias relevantes no seu aplicativo de monitor APM. Clicar em qualquer evento de anomalia no fluxo de atividades abre a página de análise dessa anomalia.

Aplicativo nem sempre gera anomalia, então pode ser normal não receber nenhuma detecção.

## Configurar anomalia de detecção [#conf-anomaly-detection]

Para configurar uma detecção de anomalia:

1. Vá para <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI**</DoNotTranslate> e clique em <DoNotTranslate>**Anomaly detection**</DoNotTranslate> no painel esquerdo.

2. Clique em <DoNotTranslate>**+ Add a configuration**</DoNotTranslate>.

   <img
     title="Configure anomaly detection"
     alt="Configure anomaly detection"
     src={anomalyConfAnomalyDetection}
   />

   <figcaption>
     Para configurar uma detecção de anomalia, vá para <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI**</DoNotTranslate> e clique em <DoNotTranslate>**Anomaly detection**</DoNotTranslate> no painel esquerdo.
   </figcaption>

3. Escolha um nome para sua configuração que ajude você a identificá-la facilmente de outras pessoas em sua conta.

4. Selecione a conta que deseja usar para esta configuração.

5. Selecione o aplicativo e os serviços que deseja incluir.

6. Selecione a métrica sobre a qual deseja ser notificado.

7. Selecione como deseja ser notificado. Estas são as opções:

   * <DoNotTranslate>**Slack**</DoNotTranslate>

     . Você precisa selecionar um canal do Slack e o fuso horário que os gráficos usarão.

   * <DoNotTranslate>**Webhook**</DoNotTranslate>

     . Você precisa adicionar o URL.

   * <DoNotTranslate>**No notifications**</DoNotTranslate>

     . Caso prefira não receber notificações, selecione esta opção.

8. Clique em <DoNotTranslate>**Save configuration**</DoNotTranslate>.

## Como ver os detalhes de uma anomalia [#details-anomaly]

Você pode explorar os detalhes de qualquer anomalia no desempenho do seu sistema para entender melhor quais erros você está recebendo e por quê.

<img
  title="A screenshot of anomaly details in the New Relic UI"
  alt="A screenshot of anomaly details in the New Relic UI"
  src={anomalyDetails}
/>

<figcaption>
  Para ver os detalhes de uma anomalia detectada, acesse <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI**</DoNotTranslate>. Clique na guia <DoNotTranslate>**Anomalies**</DoNotTranslate> para ver o dashboard e, em seguida, clique na anomalia que deseja ver.
</figcaption>

Os detalhes de uma anomalia fornecem estas informações:

* Nome da anomalia. Você pode clicar nele e será levado ao recurso APM e Serviços para ver um resumo da anomalia selecionada.
* Descrição do sinal.
* Dados gráficos por taxa de erros ou contagem de erros. Você pode alterar a frequência.
* Análise. Veja o atributo, anomalia e erros encontrados para investigar.

Se você expandir a página, também poderá ver dados específicos sobre a anomalia: metadados, entidade, atividade recente e painel relacionado.

Você também pode ver todas as anomalias relacionadas a uma configuração:

1. Vá para <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI**</DoNotTranslate> e clique em <DoNotTranslate>**Anomaly detection**</DoNotTranslate> no painel esquerdo.
2. Pesquise a configuração que deseja ver sua anomalia.
3. Clique no <Icon name="fe-more-horizontal"/> ícone da configuração e selecione <DoNotTranslate>**View anomalies**</DoNotTranslate>.

<img
  title="View anomalies of a specific configuration"
  alt="View anomalies of a specific configuration"
  src={anomalySpecificConf}
/>

<figcaption>
  Para ver a anomalia de uma configuração específica, vá para <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI**</DoNotTranslate> e clique em <DoNotTranslate>**Anomaly detection**</DoNotTranslate> no painel esquerdo.
</figcaption>

## Configuração de anomalia [#set-up]

Depois de optar por monitor o comportamento anômalo em seu sistema usando nossa detecção personalizada ou automática de anomalias, você precisará garantir que sua equipe seja notificada sobre qualquer comportamento incomum e que você possa consultar e compreender seus dados. Não importa se você escolhe a detecção de anomalias personalizada ou automática, a configuração é a mesma.

<CollapserGroup>
  <Collapser
    className="freq-link"
    id="requirements"
    title="Requisitos"
  >
    Para usar a detecção de anomalias do New Relic, certifique-se de ter:

    * Um [agente APM instalado](/docs/apm/new-relic-apm/getting-started/introduction-apm/#get-started) para pelo menos um aplicativo.

    * Para receber notificações no Slack, você precisará pedir ao administrador de TI para instalar o aplicativo New Relic em [seu espaço de trabalho do Slack](https://slack.com/help/articles/202035138-Add-an-app-to-your-workspace).

      Para obter mais informações sobre limites de dados, consulte [Limites de dados](#data-limits).
  </Collapser>

  <Collapser
    className="freq-link"
    id="Notifications"
    title="Notificação"
  >
    A detecção de anomalias é habilitada automaticamente sem custo adicional. Para receber notificações ou ter uma configuração (grupo de apps) que você possa adicionar como fonte de inteligência de incidentes, será necessário criar uma configuração de detecção de anomalias.

    Você pode criar uma configuração na interface de detecção de anomalias:

    1. Vá para <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI**</DoNotTranslate> e clique em <DoNotTranslate>**Anomaly detection**</DoNotTranslate> no painel esquerdo.

    2. Clique em <DoNotTranslate>**+ Add a configuration**</DoNotTranslate>.

    3. Insira as seguintes informações no formulário:

       * Escolha um nome para sua configuração que ajude você a identificá-la facilmente de outras pessoas em sua conta.
       * Selecione uma conta.
       * Selecione até 1.000 aplicativos. Observe que determinados aplicativos com baixas taxas de transferência podem não ser bons candidatos para detecção de anomalias, pois podem ser mais sensíveis a pequenas quantidades de flutuação de dados.
       * Selecione a métrica sobre a qual deseja ser notificado.
       * Selecione como deseja ser notificado. Estas são as opções: Slack, Webhook e sem notificação.

    4. Clique em <DoNotTranslate>**Save configuration**</DoNotTranslate>.

    ### Use detecção de anomalia com Slack:

    1. Selecione <DoNotTranslate>**Slack**</DoNotTranslate>.

    2. Escolha qual canal do Slack receberá a notificação. Você pode selecionar qualquer canal público ou privado existente. Isso solicita que o fluxo de trabalho adicione o aplicativo Slack de inteligência aplicada ao canal selecionado. Ou crie um novo canal para detecção de anomalias, primeiro crie o canal no Slack e depois selecione esse canal.

       <Callout variant="tip">
         Se você encontrar um erro ao atribuir canais do Slack, certifique-se de que o aplicativo Slack de inteligência aplicada da New Relic foi [adicionado ao seu espaço de trabalho do Slack](https://slack.com/help/articles/202035138-Add-an-app-to-your-workspace).
       </Callout>

    3. Salve a configuração.

       Você pode modificar o aplicativo para cada configuração a qualquer momento selecionando a configuração na tabela de configuração.

    ### Use detecção de anomalias com webhooks:

    1. Selecione <DoNotTranslate>**Webhook**</DoNotTranslate>.

    2. Insira as seguintes informações no formulário:

       * Forneça o URL do webhook.
       * Forneça cabeçalhos personalizados opcionais.
       * Escolha editar a carga personalizada ou habilite usando a carga padrão.

    3. Salve a configuração.

       Você pode modificar o aplicativo para cada configuração a qualquer momento selecionando a configuração na tabela de configuração.

    ### Utilize detecção de anomalia com fluxo de trabalho:

    1. Vá para <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI**</DoNotTranslate> e clique em <DoNotTranslate>**Workflows**</DoNotTranslate> no painel esquerdo.

    2. Selecione <DoNotTranslate>**+ Add a workflow**</DoNotTranslate>.

    3. Escolha um nome para seu fluxo de trabalho que ajude você a identificá-lo facilmente de outras pessoas em sua conta.

    4. Clique no botão <DoNotTranslate>**Advanced**</DoNotTranslate> para criar um filtro avançado para todos os atributos.

    5. Clique no seletor <DoNotTranslate>**Select or enter attribute**</DoNotTranslate> e adicione `origins`. Em seguida, selecione `contains` como operador e `anomalies` como valor.

    6. Selecione `entitiesData.types` `contains` `Application`.

    7. Selecione `tag.entity.guid` para selecionar uma entidade de sua preferência.

    8. Selecione `signalType` `contains` e o sinal sobre o qual você gostaria de ser notificado.

       <img
         title="Configure your workflow"
         alt="Configure your workflow"
         src={anomalyWorkflowFilterData}
       />

    9. Clique em <DoNotTranslate>**Additional settings**</DoNotTranslate> se quiser enriquecer seus dados.

    10. Selecione um canal de destino de sua escolha.

        <img
          title="Notifications for workflows"
          alt="A screenshot depicting destinations for workflows"
          src={anomalyWorkflowNotify}
        />

    11. Clique em <DoNotTranslate>**Test workflow**</DoNotTranslate> se quiser verificar se seu fluxo de trabalho funciona.

    12. Clique em <DoNotTranslate>**Activate workflow**</DoNotTranslate>.

        Para reduzir o ruído, recomendamos enviar a anomalia para um canal de notificação de baixa prioridade, como Slack ou e-mail.
  </Collapser>

  <Collapser
    className="freq-link"
    id="mute-notifications"
    title="Silenciar notificação"
  >
    No Slack, você pode silenciar temporária ou permanentemente as detecções provenientes de um aplicativo específico. Você também pode silenciar temporariamente todo o canal. Isto é útil no caso de um incidente ou quando o canal não deveria ser interrompido.

    Para silenciar no Slack, selecione <DoNotTranslate>**Mute this app's warnings**</DoNotTranslate> ou <DoNotTranslate>**Mute all warnings**</DoNotTranslate> e selecione a duração. a notificação será retomada assim que a duração do muting for concluída.

    Silenciar um aplicativo o remove permanentemente da configuração. Para adicioná-lo novamente, acesse <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Alerts & AI > Anomaly detection**</DoNotTranslate> e selecione a configuração a ser editada.

    Silenciar a notificação de detecção de anomalia não afeta o alerta.
  </Collapser>

  <Collapser
    className="freq-link"
    id="use-anomaly-detection-Slack-messages"
    title="Use mensagens de detecção de anomalia do Slack"
  >
    Cada mensagem de anomalia contém diversas informações importantes que você pode usar para saber mais e iniciar a resolução de problemas do possível problema:

    * O nome do aplicativo e um link para mais informações sobre ele na interface do New Relic.

    * A métrica apresenta uma anomalia e um link para seus detalhes na interface do New Relic.

    * Um gráfico da métrica ao longo do tempo para fornecer uma compreensão visual do comportamento e do grau da anomalia.

    * Um botão <DoNotTranslate>**Analyze**</DoNotTranslate> que navega para uma página de análise em inteligência aplicada que identifica os principais atributos exclusivos da anomalia, anomalias encontradas a montante ou a jusante e quaisquer outros sinais relevantes.

      Assim que uma anomalia voltar ao normal, enviaremos uma notificação de recuperação com a opção de fornecer feedback. Seu feedback fornece informações à nossa equipe de desenvolvimento para nos ajudar a melhorar a qualidade da detecção. Quando é fornecido feedback sobre taxas de transferência de anomalia, uma avaliação é realizada a cada hora com base no seu feedback para encontrar um modelo mais adequado. Se ajudamos você, você pode selecionar <DoNotTranslate>**Yes**</DoNotTranslate> ou <DoNotTranslate>**No**</DoNotTranslate>.
  </Collapser>

  <Collapser
    className="freq-link"
    id="anomalies-tab"
    title="Aba anomalia"
  >
    Além da notificação de anomalia que fornece informações via Slack ou webhook, você pode visualizar mais informações sobre a anomalia em seu ambiente por meio do [Feed de anomalia](/docs/alerts-applied-intelligence/new-relic-alerts/get-started/alerts-ai-overview-page#anomalies) na [página de visão geral de alerta e inteligência aplicada](/docs/alerts-applied-intelligence/new-relic-alerts/get-started/alerts-ai-overview-page). Essa guia fornece uma lista de todas as anomalias recentes de cada configuração na conta selecionada, e você pode selecionar uma anomalia para uma análise detalhada.
  </Collapser>

  <Collapser
    className="freq-link"
    id="issue-feed"
    title="Feed de problemas"
  >
    Além de visualizar anomalias no feed de anomalias, as anomalias são correlacionadas a outros incidentes e agrupadas em problemas. anomalia fornecem contexto para o que mudou em torno de um problema crítico. A anomalia out of the box será correlacionada com incidente do mesmo tipo de entidade. Correlatos exclusivos do seu caso de uso podem ser adicionados por meio de [decisões](/docs/alerts-applied-intelligence/applied-intelligence/incident-intelligence/change-applied-intelligence-correlation-logic-decisions/).
  </Collapser>

  <Collapser
    className="freq-link"
    id="anomaly-visibility-settings"
    title="Configurações de visibilidade de anomalia"
  >
    Anomalia são exibidas em vários fluxos de atividades da New Relic e no feed de anomalia de inteligência aplicada. Você pode personalizar o que é exibido usando as configurações de visibilidade de anomalia (por exemplo, ocultando taxas de transferência de anomalia em um fluxo de atividades, mas mantendo-as no feed de anomalia).

    Para encontrar essas configurações: em <DoNotTranslate>**Alerts & AI**</DoNotTranslate>, em <DoNotTranslate>**Anomaly detection**</DoNotTranslate>, clique em <DoNotTranslate>**Settings**</DoNotTranslate>.

    Notas sobre o uso dessas configurações:

    * Essas configurações são aplicadas no nível do usuário. As alterações feitas não afetarão outros usuários da sua organização.
    * Independentemente dessas configurações, as anomalias ainda são reportadas e ficam disponíveis para [consulta NRQL](/docs/query-your-data/nrql-new-relic-query-language/get-started/introduction-nrql-new-relics-query-language).

    Detalhes sobre estas seções de interface:

    * <DoNotTranslate>**AI overview and anomalies tab**</DoNotTranslate>

      : Use a visão geral da IA e a configuração da guia anomalia para ocultar a anomalia da visão geral da IA e da guia anomalia. Observe que você também pode usar filtros específicos para essas visualizações.

    * <DoNotTranslate>**Global activity stream**</DoNotTranslate>

      : use a seção de fluxo de atividades global para personalizar quais anomalias são mostradas nos vários fluxos de atividades da New Relic, incluindo a página inicial da New Relic, o resumo

      <InlinePopover type="apm"/>

      e o Lookout.

    * <DoNotTranslate>**Anomaly types**</DoNotTranslate>

      : Use as caixas de seleção aqui para ocultar tipos específicos de anomalia. Por exemplo, desmarque

      <DoNotTranslate>**Web throughput**</DoNotTranslate>

      e

      <DoNotTranslate>**Non-web throughput**</DoNotTranslate>

      anomalia para ocultar esses tipos de anomalia dos fluxos de atividades e da visão geral da IA e da guia anomalia. Observe que eles ainda são relatados e estão disponíveis para consulta.
  </Collapser>

  <Collapser
    className="freq-link"
    id="query-anomaly-data"
    title="Consultar dados de anomalia"
  >
    Você pode usar [o NRQL](/docs/query-your-data/nrql-new-relic-query-language/get-started/introduction-nrql-new-relics-query-language) para consultar e mapear seus dados de detecção de anomalias usando o evento `NrAiAnomaly` . Por exemplo:

    `FROM NrAiAnomaly SELECT *`

    <Callout variant="important">
      Esses dados foram anexados anteriormente ao evento `ProactiveDetection` . Esse evento foi descontinuado em 7 de abril de 2021. Se você usar `ProactiveDetection` em seus gráficos personalizados, deverá converter essas consultas para usar `NrAiAnomaly`.
    </Callout>

    Aqui estão importantes atributos anexados a este evento:

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Atributo
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `timestamp`  
            _timestamp_
          </td>

          <td>
            A hora em que o evento foi escrito.
          </td>
        </tr>

        <tr>
          <td>
            `anomalyId`  
            _número_
          </td>

          <td>
            Se este incidente tiver origem em uma anomalia da New Relic, ele terá um ID de anomalia.
          </td>
        </tr>

        <tr>
          <td>
            `closeTime`  
            _timestamp_
          </td>

          <td>
            O momento em que a anomalia terminou. Exemplo: `1615304100000`.
          </td>
        </tr>

        <tr>
          <td>
            `configurationType`  
            _corda_
          </td>

          <td>
            O tipo de configuração de monitoramento do evento. Se pelo menos uma configuração estiver monitorando a entidade, esta será definida como `configuration`. Caso contrário, será definido como `automatic`.
          </td>
        </tr>

        <tr>
          <td>
            `entity.accountId`  
            _número_
          </td>

          <td>
            O ID da conta New Relic à qual a entidade pertence.
          </td>
        </tr>

        <tr>
          <td>
            `entity.domain`  
            _enumeração_
          </td>

          <td>
            O domínio da entidade. Exemplo: APM.
          </td>
        </tr>

        <tr>
          <td>
            `entity.domainId`  
            _corda_
          </td>

          <td>
            O ID usado para identificar exclusivamente a entidade no domínio.
          </td>
        </tr>

        <tr>
          <td>
            `entity.guid`  
            _corda_
          </td>

          <td>
            O GUID da entidade. Isso é usado para identificar e recuperar dados sobre a entidade via NerdGraph. Idêntico a `entityGuid`.
          </td>
        </tr>

        <tr>
          <td>
            `entity.name`  
            _corda_
          </td>

          <td>
            O nome da entidade cujos dados foram determinados como anômalos. Idêntico a `entityName`. Exemplo `Laura's coffee service`.
          </td>
        </tr>

        <tr>
          <td>
            `entity.type`  
            _corda_
          </td>

          <td>
            O tipo de entidade (atualmente apenas `APPLICATION` , mas será alterado com funcionalidades futuras).
          </td>
        </tr>

        <tr>
          <td>
            `entityGuid`  
            _corda_
          </td>

          <td>
            O GUID da entidade. Isso é usado para identificar e recuperar dados sobre a entidade via NerdGraph. Idêntico a `entity.guid`.
          </td>
        </tr>

        <tr>
          <td>
            `entityName`  
            _corda_
          </td>

          <td>
            O nome da entidade cujos dados foram determinados como anômalos. Idêntico a `entity.name`.
          </td>
        </tr>

        <tr>
          <td>
            `evaluationType`  
            _corda_
          </td>

          <td>
            Isso é sempre `anomaly`.
          </td>
        </tr>

        <tr>
          <td>
            `event`  
            _corda_
          </td>

          <td>
            Indica se é o início (`open`) ou o fim (`close`) dos dados anômalos.
          </td>
        </tr>

        <tr>
          <td>
            `openTime`  
            _timestamp_
          </td>

          <td>
            O momento em que a anomalia foi aberta. Exemplo: `1615303740000`.
          </td>
        </tr>

        <tr>
          <td>
            `signalType`  
            _corda_
          </td>

          <td>
            O tipo de dados que foram analisados. Por exemplo, `error_rate` ou `response_time.non_web`.
          </td>
        </tr>

        <tr>
          <td>
            `title`  
            _corda_
          </td>

          <td>
            Descrição da anomalia. Exemplo: `Error rate was much higher than normal`.
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser
    className="freq-link"
    id="add-anomalies-as-source-in-incident-intelligence"
    title="Adicionar como fonte de anomalia na inteligência de incidentes"
  >
    Ao integrar a inteligência de incidentes à detecção de anomalias, você pode obter contexto e correlações. Para saber como fazer isso na inteligência de incidentes, consulte [Configurar fontes](/docs/alerts-applied-intelligence/applied-intelligence/incident-intelligence/change-applied-intelligence-correlation-logic-decisions/#configure-sources).

    Você também pode selecionar <DoNotTranslate>**Connect to incident intelligence**</DoNotTranslate> dentro de uma configuração.
  </Collapser>

  <Collapser
    className="freq-link"
    id="webhook-payload-and-examples"
    title="Carregamento de webhook e exemplos"
  >
    A detecção automática de anomalia envia o corpo do evento em formato JSON via HTTPS POST. O sistema espera que o endpoint retorne um código HTTP bem-sucedido (2xx). Se você usar webhooks para configurar a detecção automática de anomalias, use estes exemplos do formato do corpo do webhook e do esquema JSON.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Atributo
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `category`  
            _enumeração_
          </td>

          <td>
            A categoria de dados que foi analisada.

            As categorias incluem taxas de transferência da web, taxas de transferência não-web, transação da web, transação fora da web e classe de erro.
          </td>
        </tr>

        <tr>
          <td>
            `data`  
            _lista_
          </td>

          <td>
            Os dados da série temporal que levam à detecção.
          </td>
        </tr>

        <tr>
          <td>
            `data[].timestamp`  
            _número_
          </td>

          <td>
            O timestamp de data/hora do ponto de dados em [milissegundos desde a Unix epoch](https://currentmillis.com/). Exemplo: 1584366819000
          </td>
        </tr>

        <tr>
          <td>
            `data[].unit`  
            _corda_
          </td>

          <td>
            A unidade que descreve o valor do ponto de dados.

            As unidades de dados incluem `count`, `milliseconds` e `error_rate`.
          </td>
        </tr>

        <tr>
          <td>
            `data[].value`  
            _número_
          </td>

          <td>
            O valor do ponto de dados. Exemplo: 1,52
          </td>
        </tr>

        <tr>
          <td>
            `detectionType`  
            _enumeração_
          </td>

          <td>
            O tipo de dados que foram analisados. Os tipos incluem `latency`, `throughput` e `error_rate`.
          </td>
        </tr>

        <tr>
          <td>
            `entity`  
            _objeto_
          </td>

          <td>
            A entidade que relatou os dados incomuns.
          </td>
        </tr>

        <tr>
          <td>
            `entity.accountId`  
            _número_
          </td>

          <td>
            O ID da conta da entidade.
          </td>
        </tr>

        <tr>
          <td>
            `entity.domain`  
            _enumeração_
          </td>

          <td>
            O domínio da entidade. Exemplo: APM.
          </td>
        </tr>

        <tr>
          <td>
            `entity.domainId`  
            _corda_
          </td>

          <td>
            O ID usado para identificar exclusivamente a entidade no domínio.
          </td>
        </tr>

        <tr>
          <td>
            `entity.guid`  
            _corda_
          </td>

          <td>
            O guia usado para identificar exclusivamente a entidade em todos os produtos.
          </td>
        </tr>

        <tr>
          <td>
            `entity.name`  
            _corda_
          </td>

          <td>
            O nome da entidade. Exemplo: `Laura’s coffee service`
          </td>
        </tr>

        <tr>
          <td>
            `entity.link`  
            _corda_
          </td>

          <td>
            Um link para visualizar a entidade. Exemplo:

            ```
            https://rpm.newrelic.com/accounts/YOUR_ACCOUNT_ID/applications/987654321”
            ```
          </td>
        </tr>

        <tr>
          <td>
            `severity`  
            _enumeração_
          </td>

          <td>
            Uma descrição de quão incomum ocorreu uma alteração, incluindo `NORMAL`, `WARNING` ou `CRITICAL`.
          </td>
        </tr>

        <tr>
          <td>
            `version`  
            _corda_
          </td>

          <td>
            Versão usada para descrever os dados que estão sendo fornecidos.

            Exemplo: v1
          </td>
        </tr>

        <tr>
          <td>
            `viewChartImageUrl`  
            _corda_
          </td>

          <td>
            Imagem mostrando um gráfico dos dados anômalos.
          </td>
        </tr>

        <tr>
          <td>
            `anomalyzerUrl`  
            _corda_
          </td>

          <td>
            URL que pode ser aberta para analisar a anomalia no New Relic.
          </td>
        </tr>
      </tbody>
    </table>

    ### Exemplo de esquema JSON

    A inteligência aplicada enviará o corpo do evento em formato JSON via HTTPS POST. O sistema espera que o endpoint retorne um código HTTP bem-sucedido (2xx).

    Modelo:

    ```
    {
      "version": "{{version}}", 
      "entity": {
        "type": "{{entity.type}}",
        "name": "{{entity.name}}",
        "link": "{{entity.link}}",
        "entityGuid": "{{entity.entityGuid}}",
        "domainId": "{{entity.domainId}}",
        "domain": "{{entity.domain}}",
        "accountId": {{entity.accountId}}
      },
      "detectionType": "{{detectionType}}",
      "category": "{{category}}",
      "data": [{{#each data}}
        {
          "value": {{value}},
          "unit": "{{unit}}",
          "timestamp": {{timestamp}}
        }
        {{#unless @last}},{{/unless}}
      {{/each}}],
      "viewChartImageUrl": "{{viewChartImageUrl}}",  
      "anomalyzerUrl": "{{anomalyzerUrl}}"
    }
    ```

    Exemplo de carga útil:

    ```
    {
      "version": "v1",
      "entity": {
        "type": "APPLICATION",
        "name": "My Application",
        "link": "https://rpm.newrelic.com/accounts/ACCOUNT_ID/applications/123",
        "entityGuid": "foo",
        "domainId": "123",
        "domain": "APM",
        "accountId": YOUR_ACCOUNT_ID
      },
      "detectionType": "metric",
      "category": "web throughput",
      "data": [ {
        "value": "100",
        "unit": "count",
        "timestamp": 1637260259819
      }, {
        "value": "99",
        "unit": "count",
        "timestamp": 1637260319819
      }, {
        "value": "0",
        "unit": "count",
        "timestamp": 1637260379819
      } ],
      "viewChartImageUrl": "https://www.example.com/image/8353cf2c-945c-48e8-99de-e903f033a881?height=200&width=400&show_timezone=true",
      "anomalyzerUrl": "https://www.example.com/anomalyzerUrlExample"
    }
    ```
  </Collapser>

  <Collapser
    className="freq-link"
    id="data-limits"
    title="Limites de dados"
  >
    Além dos [requisitos](#requirements), os limites de dados incluem:

    * Aplicativo monitor

      <InlinePopover type="apm"/>

      : limitado a 1.000 por configuração

    * Configuração do Slack: limitada a 200 por conta

    * Configuração do Webhook: limitado a 200 por conta

    * Configuração sem notificação: limitada a 200 por conta
  </Collapser>
</CollapserGroup>