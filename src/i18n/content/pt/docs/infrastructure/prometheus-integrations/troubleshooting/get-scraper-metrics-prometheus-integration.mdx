---
title: Obter raspador métrico (Prometheus integração)
type: troubleshooting
tags:
  - Integrations
  - Prometheus integrations
  - Troubleshooting
metaDescription: How to get scraper metrics for your Prometheus OpenMetrics integration with New Relic for Docker or Kubernetes.
freshnessValidatedDate: never
translationType: machine
---

## Problema

Você deseja obter métricas de raspador para sua integração do Prometheus OpenMetrics com New Relic para Docker ou Kubernetes.

<img
  title="Docker icon"
  alt="Docker icon"
  src="/images/os_icon_docker.webp"
/>

<DNT>
  **Docker:**
</DNT>

Se você configurar o `http://localhost:8080/metrics` endpoint, a integração também extrairá sua própria métrica.

<img
  title="img-integration-k8s@2x.png"
  alt="img-integration-k8s@2x.png"
  src="/images/os_icon_k8.webp"
/>

<DNT>
  **Kubernetes:**
</DNT>

Por padrão, o scraper também extrairá sua própria métrica.

## Solução

Para saber mais sobre o que está acontecendo dentro do scraper, use a seguinte métrica para sua Docker ou integração Kubernetes com New Relic:

<table>
  <thead>
    <tr>
      <th>
        Métrica
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `nr_stats_targets`
      </td>

      <td>
        Destino descoberto pelo recuperador (por exemplo, Fixo, Kubernetes).
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_fetch_errors_total`
      </td>

      <td>
        Tentativas de busca que resultaram em erro por destino.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_discoveries_total`
      </td>

      <td>
        Tentativas de descobertas por recuperador (por exemplo, Fixo, Kubernetes).
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_fetches_total`
      </td>

      <td>
        Buscas tentadas pelo destino.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_integration_fetch_target_duration_seconds`
      </td>

      <td>
        O tempo total em segundos para buscar a métrica de um destino.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_integration_list_targets_duration_by_kind`
      </td>

      <td>
        O tempo total em segundos para obter a lista de destinos por tipo de recurso e recuperador (por exemplo, pod Kubernetes , serviços, etc.).
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_integration_payload_size`
      </td>

      <td>
        Tamanho da carga do destino.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_integration_process_duration_seconds`
      </td>

      <td>
        O tempo total em segundos para processar todas as etapas da integração.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_integration_total_executions`
      </td>

      <td>
        O número de vezes que a integração foi executada.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_integration_total_payload_size`
      </td>

      <td>
        Tamanho total da carga raspada.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_metrics_total_timeseries`
      </td>

      <td>
        O número total de séries temporais eliminadas.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_metrics_total_timeseries_by_target`
      </td>

      <td>
        Número total de séries temporais por destino.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_metrics_total_timeseries_by_target_type`
      </td>

      <td>
        Número total de métricas raspadas por tipo e destino.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_metrics_total_timeseries_by_type`
      </td>

      <td>
        Número total de métricas raspadas por tipo.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_discovery_errors_total`
      </td>

      <td>
        Tentativas de descobertas que resultaram em erro do recuperador.
      </td>
    </tr>
  </tbody>
</table>
