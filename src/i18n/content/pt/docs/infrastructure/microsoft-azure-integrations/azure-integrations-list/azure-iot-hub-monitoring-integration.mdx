---
title: Serviço Azure IoT Hub através da integração do Azure Monitor
metaDescription: 'New Relic''s Microsoft Azure IoT Hub integration: what data it reports and how to enable it.'
freshnessValidatedDate: never
translationType: machine
---

[A integração da New Relic](/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations) inclui uma integração para reportar suas métricas [Microsoft Azure IoT Hub](https://learn.microsoft.com/en-us/azure/iot-hub) e outros dados para New Relic. Este documento explica como ativar a integração e descreve os dados reportados.

## Recurso

New Relic reúne dados métricos do Azure Monitor para o serviço Azure IoT Hub. O Azure IoT Hub é um serviço gerenciado hospedado na nuvem que atua como um hub central de mensagens para comunicação entre um aplicativo IoT e seus dispositivos conectados. Usando o New Relic, você pode:

* Veja os dados do Azure IoT Hub no painel pré-criado.
* Execute [uma consulta personalizada e visualize os dados](/docs/infrastructure/integrations-getting-started/getting-started/use-integration-data-new-relic-insights).
* Crie condição do alerta para notificá-lo sobre alterações nos dados.

## Ativar integração [#activate]

Siga[o procedimento padrão de integração Azure Monitor ](/docs/infrastructure/microsoft-azure-integrations/azure-integrations-list/azure-monitor)para ativar seu serviço Azure no monitoramento de infraestrutura New Relic .

## Configuração e polling [#polling]

Você pode alterar a frequência de pesquisa e filtrar dados usando [opções de configuração](/docs/infrastructure/microsoft-azure-integrations/azure-integrations-list/azure-monitor/#settings).

A New Relic consulta os serviços do Azure IoT Hub através da integração do Azure Monitor de acordo com um intervalo [de sondagem](/docs/infrastructure/microsoft-azure-integrations/azure-integrations-list/azure-monitor/#settings) padrão.

## Encontre e use dados [#find-and-use]

Para [explorar seus dados de integração](/docs/infrastructure/integrations/find-use-infrastructure-integration-data), acesse <DNT>**[one.newrelic.com/infra](https://one.newrelic.com/infra) > Azure > (select an integration)**</DNT>.

## Dados métricos [#metrics]

Esta integração recolhe os seguintes [dados métricos](/docs/infrastructure/integrations-getting-started/getting-started/understand-integration-data-data-types#metric):

### Métrica do Hub IoT do Azure [#Azure-iot-hub]

<table>
  <thead>
    <tr>
      <th style={{ width: "300px" }}>
        Métrica
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `c2d.commands.egress.abandon.success`
      </td>

      <td>
        Número de mensagens da nuvem para o dispositivo abandonadas pelo dispositivo.
      </td>
    </tr>

    <tr>
      <td>
        `c2d.commands.egress.complete.success`
      </td>

      <td>
        Número de entregas de mensagens da nuvem para o dispositivo concluídas com êxito pelo dispositivo.
      </td>
    </tr>

    <tr>
      <td>
        `c2d.commands.egress.reject.success`
      </td>

      <td>
        Número de mensagens da nuvem para o dispositivo rejeitadas pelo dispositivo.
      </td>
    </tr>

    <tr>
      <td>
        `c2d.methods.failure`
      </td>

      <td>
        A contagem de todas as chamadas de método direto com falha.
      </td>
    </tr>

    <tr>
      <td>
        `c2d.methods.requestSize`
      </td>

      <td>
        A média, o mínimo e o máximo de todas as solicitações de método direto bem-sucedidas.
      </td>
    </tr>

    <tr>
      <td>
        `c2d.methods.responseSize`
      </td>

      <td>
        A média, o mínimo e o máximo de todas as respostas bem-sucedidas do método direto.
      </td>
    </tr>

    <tr>
      <td>
        `c2d.methods.success`
      </td>

      <td>
        A contagem de todas as chamadas diretas de método bem-sucedidas.
      </td>
    </tr>

    <tr>
      <td>
        `c2d.twin.read.failure`
      </td>

      <td>
        A contagem de todas as leituras duplas iniciadas pelo back-end com falha.
      </td>
    </tr>

    <tr>
      <td>
        `c2d.twin.read.success`
      </td>

      <td>
        A contagem de todas as leituras gêmeas iniciadas pelo back-end bem-sucedidas.
      </td>
    </tr>

    <tr>
      <td>
        `c2d.twin.read.size`
      </td>

      <td>
        A média, o mínimo e o máximo de todas as leituras duplas iniciadas pelo back-end bem-sucedidas.
      </td>
    </tr>

    <tr>
      <td>
        `c2d.twin.update.failure`
      </td>

      <td>
        A contagem de todas as atualizações duplas iniciadas pelo back-end com falha.
      </td>
    </tr>

    <tr>
      <td>
        `c2d.twin.update.size`
      </td>

      <td>
        O tamanho médio, mínimo e máximo de todas as atualizações duplas iniciadas pelo back-end bem-sucedidas.
      </td>
    </tr>

    <tr>
      <td>
        `c2d.twin.update.success`
      </td>

      <td>
        A contagem de todas as atualizações gêmeas iniciadas pelo back-end bem-sucedidas.
      </td>
    </tr>

    <tr>
      <td>
        `C2DMessagesExpired`
      </td>

      <td>
        Número de mensagens expiradas da nuvem para o dispositivo.
      </td>
    </tr>

    <tr>
      <td>
        `configurations`
      </td>

      <td>
        Métrica para operações de configuração.
      </td>
    </tr>

    <tr>
      <td>
        `connectedDeviceCount`
      </td>

      <td>
        Número de dispositivos conectados ao seu hub IoT.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.endpoints.egress.builtIn.events`
      </td>

      <td>
        O número de vezes que o roteamento do IoT Hub entregou mensagens com êxito ao endpoint incorporado (mensagens/evento).
      </td>
    </tr>

    <tr>
      <td>
        `d2c.endpoints.egress.eventHubs`
      </td>

      <td>
        O número de vezes que o roteamento do IoT Hub entregou mensagens com êxito ao ponto final do evento Hub.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.endpoints.egress.serviceBusQueues`
      </td>

      <td>
        O número de vezes que o roteamento do IoT Hub entregou mensagens com sucesso ao ponto final da fila do Service Bus.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.endpoints.egress.serviceBusTopics`
      </td>

      <td>
        O número de vezes que o roteamento do Hub IoT entregou mensagens com êxito ao ponto de extremidade do tópico do Barramento de Serviço.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.endpoints.egress.storage`
      </td>

      <td>
        O número de vezes que o encaminhamento do IoT Hub entregou mensagens com sucesso ao ponto final de armazenamento.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.endpoints.egress.storage.blobs`
      </td>

      <td>
        O número de vezes que o encaminhamento do IoT Hub entregou blobs ao ponto final de armazenamento.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.endpoints.egress.storage.bytes`
      </td>

      <td>
        A quantidade de dados (bytes) de encaminhamento do IoT Hub entregues ao ponto final de armazenamento.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.endpoints.latency.builtIn.events`
      </td>

      <td>
        A latência média (milissegundos) entre a entrada de mensagens no IoT Hub e a entrada de mensagens de telemetria no endpoint integrado (mensagens/evento).
      </td>
    </tr>

    <tr>
      <td>
        `d2c.endpoints.latency.eventHubs`
      </td>

      <td>
        A latência média (milissegundos) entre a entrada de mensagens no IoT Hub e a entrada de mensagens num endpoint do Hub de eventos.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.endpoints.latency.serviceBusQueues`
      </td>

      <td>
        A latência média (milissegundos) entre a entrada de mensagens no IoT Hub e a entrada de mensagens de telemetria num endpoint da fila do Service Bus.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.endpoints.latency.serviceBusTopics`
      </td>

      <td>
        A latência média (milissegundos) entre a entrada de mensagens no IoT Hub e a entrada de mensagens de telemetria num endpoint do tópico do Service Bus.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.endpoints.latency.storage`
      </td>

      <td>
        A latência média (milissegundos) entre a entrada de mensagens no IoT Hub e a entrada de mensagens de telemetria num endpoint de armazenamento.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.telemetry.egress.dropped`
      </td>

      <td>
        O número de vezes que as mensagens foram descartadas pelo encaminhamento do IoT Hub devido ao ponto final morto. Este valor não conta mensagens entregues à rota de fallback, pois as mensagens descartadas não são entregues lá.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.telemetry.egress.fallback`
      </td>

      <td>
        O número de vezes que o encaminhamento do IoT Hub entregou mensagens ao endpoint associado à rota de contingência.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.telemetry.egress.invalid`
      </td>

      <td>
        O número de vezes que o encaminhamento do IoT Hub falhou na entrega de mensagens devido a uma incompatibilidade com o endpoint. Este valor não inclui novas tentativas.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.telemetry.egress.orphaned`
      </td>

      <td>
        O número de vezes que as mensagens ficaram órfãs pelo encaminhamento do IoT Hub porque não correspondiam a nenhuma regra de encaminhamento (incluindo a regra de fallback).
      </td>
    </tr>

    <tr>
      <td>
        `d2c.telemetry.egress.success`
      </td>

      <td>
        O número de vezes que as mensagens foram entregues com sucesso a todos os pontos finais utilizando o encaminhamento do IoT Hub. Se uma mensagem for roteada para vários terminais, esse valor aumentará em um para cada entrega bem-sucedida. Se uma mensagem for entregue ao mesmo endpoint várias vezes, esse valor aumentará em um para cada entrega bem-sucedida.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.telemetry.ingress.allProtocol`
      </td>

      <td>
        Número de mensagens de telemetria do dispositivo para a nuvem que tentaram ser enviadas para o seu hub IoT.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.telemetry.ingress.sendThrottle`
      </td>

      <td>
        Número de erros de limitação devido a taxas de transferência de dispositivos.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.telemetry.ingress.success`
      </td>

      <td>
        Número de mensagens de telemetria do dispositivo para a nuvem enviadas com sucesso para o seu hub IoT.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.twin.read.failure`
      </td>

      <td>
        A contagem de todas as leituras duplas iniciadas pelo dispositivo com falha.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.twin.read.size`
      </td>

      <td>
        A média, o mínimo e o máximo de todas as leituras duplas iniciadas pelo dispositivo com sucesso.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.twin.read.success`
      </td>

      <td>
        A contagem de todas as leituras duplas iniciadas pelo dispositivo com êxito.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.twin.update.failure`
      </td>

      <td>
        A contagem de todas as atualizações duplas iniciadas pelo dispositivo com falha.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.twin.update.size`
      </td>

      <td>
        O tamanho médio, mínimo e máximo de todas as atualizações duplas iniciadas pelo dispositivo com êxito.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.twin.update.success`
      </td>

      <td>
        A contagem de todas as atualizações duplas iniciadas pelo dispositivo com sucesso.
      </td>
    </tr>

    <tr>
      <td>
        `dailyMessageQuotaUsed`
      </td>

      <td>
        Número total de mensagens usadas hoje.
      </td>
    </tr>

    <tr>
      <td>
        `deviceDataUsage`
      </td>

      <td>
        Bytes transferidos de e para qualquer dispositivo conectado ao IoTHub.
      </td>
    </tr>

    <tr>
      <td>
        `deviceDataUsageV2`
      </td>

      <td>
        Bytes transferidos de e para qualquer dispositivo conectado ao IoTHub.
      </td>
    </tr>

    <tr>
      <td>
        `devices.connectedDevices.allProtocol`
      </td>

      <td>
        Número de dispositivos conectados ao seu hub IoT.
      </td>
    </tr>

    <tr>
      <td>
        `devices.totalDevices`
      </td>

      <td>
        Número de dispositivos registrados no seu hub IoT.
      </td>
    </tr>

    <tr>
      <td>
        `EventGridDeliveries`
      </td>

      <td>
        O número de eventos do IoT Hub publicados no evento Grid. Use a dimensão Resultado para o número de solicitações bem-sucedidas e com falha. A dimensão EventType mostra o tipo de evento.
      </td>
    </tr>

    <tr>
      <td>
        `EventGridLatency`
      </td>

      <td>
        A latência média (milissegundos) desde quando o evento IoT Hub foi gerado até quando o evento foi publicado no evento Grid. Este número é uma média entre todos os tipos de eventos. Use a dimensão EventType para ver a latência de um tipo específico de evento.
      </td>
    </tr>

    <tr>
      <td>
        `jobs.cancelJob.failure`
      </td>

      <td>
        A contagem de todas as chamadas falhadas para cancelar um trabalho.
      </td>
    </tr>

    <tr>
      <td>
        `jobs.cancelJob.success`
      </td>

      <td>
        A contagem de todas as chamadas bem-sucedidas para cancelar um trabalho.
      </td>
    </tr>

    <tr>
      <td>
        `jobs.completed`
      </td>

      <td>
        A contagem de todos os trabalhos concluídos.
      </td>
    </tr>

    <tr>
      <td>
        `jobs.createDirectMethodJob.failure`
      </td>

      <td>
        A contagem de todas as falhas na criação de trabalhos de invocação direta de método.
      </td>
    </tr>

    <tr>
      <td>
        `jobs.createDirectMethodJob.success`
      </td>

      <td>
        A contagem de todas as criações bem-sucedidas de trabalhos de invocação direta de método.
      </td>
    </tr>

    <tr>
      <td>
        `jobs.createTwinUpdateJob.failure`
      </td>

      <td>
        A contagem de todas as falhas na criação de trabalhos de atualização dupla.
      </td>
    </tr>

    <tr>
      <td>
        `jobs.createTwinUpdateJob.success`
      </td>

      <td>
        A contagem de todas as criações bem-sucedidas de trabalhos de atualização dupla.
      </td>
    </tr>

    <tr>
      <td>
        `jobs.failed`
      </td>

      <td>
        A contagem de todos os trabalhos com falha.
      </td>
    </tr>

    <tr>
      <td>
        `jobs.listJobs.failure`
      </td>

      <td>
        A contagem de todas as chamadas falhadas para listar trabalhos.
      </td>
    </tr>

    <tr>
      <td>
        `jobs.listJobs.success`
      </td>

      <td>
        A contagem de todas as chamadas bem-sucedidas para listar trabalhos.
      </td>
    </tr>

    <tr>
      <td>
        `jobs.queryJobs.failure`
      </td>

      <td>
        Consulta de trabalho falhada.
      </td>
    </tr>

    <tr>
      <td>
        `jobs.queryJobs.success`
      </td>

      <td>
        A contagem de todas as chamadas bem-sucedidas para trabalhos de consultoria.
      </td>
    </tr>

    <tr>
      <td>
        `RoutingDataSizeInBytesDelivered`
      </td>

      <td>
        O tamanho total em bytes de mensagens entregues pelo hub IoT a um endpoint. Você pode usar as dimensões EndpointName e EndpointType para visualizar o tamanho das mensagens em bytes entregues ao seu endpoint diferente. O valor métrico aumenta para cada mensagem entregue, inclusive se a mensagem for entregue em vários endpoints ou se a mensagem for entregue no mesmo endpoint várias vezes.
      </td>
    </tr>

    <tr>
      <td>
        `RoutingDeliveries`
      </td>

      <td>
        O número de vezes que o IoT Hub tentou entregar mensagens a todos os pontos finais utilizando encaminhamento. Para ver o número de tentativas bem-sucedidas ou malsucedidas, use a dimensão Resultado. Para ver o motivo da falha, como inválido, descartado ou órfão, use a dimensão FailureReasonCategory. Você também pode usar as dimensões EndpointName e EndpointType para entender quantas mensagens foram entregues ao seu endpoint diferente. O valor métrico aumenta em um para cada tentativa de entrega, inclusive se a mensagem for entregue em vários endpoints ou se a mensagem for entregue no mesmo endpoint várias vezes.
      </td>
    </tr>

    <tr>
      <td>
        `RoutingDeliveryLatency`
      </td>

      <td>
        A latência média (milissegundos) entre a entrada de mensagens no IoT Hub e a entrada de mensagens de telemetria num endpoint. Você pode usar as dimensões EndpointName e EndpointType para entender a latência para seu endpoint diferente.
      </td>
    </tr>

    <tr>
      <td>
        `totalDeviceCount`
      </td>

      <td>
        Número de dispositivos registrados no seu hub IoT.
      </td>
    </tr>

    <tr>
      <td>
        `twinQueries.failure`
      </td>

      <td>
        A contagem de todas as consultas duplas que falharam.
      </td>
    </tr>

    <tr>
      <td>
        `twinQueries.resultSize`
      </td>

      <td>
        A média, o mínimo e o máximo do tamanho do resultado de todas as consultas duplas bem-sucedidas.
      </td>
    </tr>

    <tr>
      <td>
        `twinQueries.success`
      </td>

      <td>
        A contagem de todas as consultas gêmeas bem-sucedidas.
      </td>
    </tr>
  </tbody>
</table>
