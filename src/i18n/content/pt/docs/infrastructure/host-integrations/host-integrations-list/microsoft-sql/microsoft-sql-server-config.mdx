---
title: Definições de configuração de integração do Microsoft SQL Server
tags:
  - Integrations
  - On-host integrations
  - On-host integrations list
  - Configuration
metaDescription: Configuration New Relic's Kafka integration.
freshnessValidatedDate: never
translationType: machine
---

Esta integração é um software de código aberto. Isso significa que você pode [navegar pelo código-fonte](https://github.com/newrelic/nri-mssql) e enviar melhorias, ou criar seu próprio fork e construí-lo.

## Etiquetas e atributo personalizado [#labels]

Você também pode decorar sua métrica com etiquetas. Os rótulos permitem adicionar atributo de par de valor principal à sua métrica para que você possa consultar, filtrar ou agrupar sua métrica.

Embora nosso arquivo de configuração de amostra padrão inclua exemplos de rótulos, eles são opcionais. Você pode remover, modificar ou adicionar novos.

```yaml
 labels:
   env: production
   role: load_balancer
```

### Configurações da instância do Microsoft SQL Server [#instance-settings]

A integração do Microsoft SQL Server coleta informações métricas e de inventário. Na tabela, use a coluna <DNT>**Applies to**</DNT> para as configurações disponíveis para cada coleção:

' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' '

<table>
  <thead>
    <tr>
      <th style={{ width: '150px' }}>
        Contexto
      </th>

      <th>
        Descrição
      </th>

      <th>
        Padrão
      </th>

      <th>
        Aplica-se a
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        <DNT>
          **HOSTNAME**
        </DNT>
      </td>

      <td>
        Nome do host ou IP onde o servidor MS SQL está rodando.
      </td>

      <td>
        127.0.0.1
      </td>

      <td style={{ "text-align": "center" }}>
        MI
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **PORT**
        </DNT>
      </td>

      <td>
        Porta na qual o servidor MS SQL está escutando. <br/><DNT>**Note**</DNT>: a porta só é necessária quando `INSTANCE` não é especificado.
      </td>

      <td>
        1433
      </td>

      <td style={{ 'text-align': 'center' }}>
        MI
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **INSTANCE**
        </DNT>
      </td>

      <td>
        A instância do MS SQL Server à qual se conectar. <br/><DNT>**Note**</DNT>: obrigatório somente quando `PORT` não for especificado. Não use ambos.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        MI
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **USERNAME**
        </DNT>
      </td>

      <td>
        Nome de usuário para acessar o servidor MS SQL. <br/>Se estiver usando um usuário de domínio, use a sintaxe `domain\user`
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        MI
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **PASSWORD**
        </DNT>
      </td>

      <td>
        Senha para o usuário SQL ou domínio fornecido.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        MI
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **EXTRA_CONNECTION_URL_ARGS**
        </DNT>
      </td>

      <td>
        Especifique o parâmetro de conexão extra como attr1=val1&attr2=val2.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        MI
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **ENABLE_SSL**
        </DNT>
      </td>

      <td>
        Use SSL para conectar-se ao MS SQL Server.
      </td>

      <td>
        false
      </td>

      <td style={{ 'text-align': 'center' }}>
        MI
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **TRUST_SERVER_CERTIFICATE**
        </DNT>
      </td>

      <td>
        se definido como `true`, o certificado do servidor NÃO será verificado para SSL.
      </td>

      <td>
        false
      </td>

      <td style={{ 'text-align': 'center' }}>
        MI
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **CERTIFICATE_LOCATION**
        </DNT>
      </td>

      <td>
        Localização do certificado SSL.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        MI
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **TIMEOUT**
        </DNT>
      </td>

      <td>
        Tempo limite para consulta, em segundos. Defina 0 para nenhum tempo limite.
      </td>

      <td>
        30
      </td>

      <td style={{ 'text-align': 'center' }}>
        MI
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **ENABLE_BUFFER_METRICS**
        </DNT>
      </td>

      <td>
        Habilitar coleta de métricas de pool de buffers. Eles podem consumir muitos recursos para sistemas grandes.
      </td>

      <td>
        verdadeiro
      </td>

      <td style={{ 'text-align': 'center' }}>
        M
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **ENABLE_DATABASE_RESERVE_METRICS**
        </DNT>
      </td>

      <td>
        Habilite a coleta de espaço de reserva de partição de banco de dados. Eles podem consumir muitos recursos para sistemas grandes.
      </td>

      <td>
        verdadeiro
      </td>

      <td style={{ 'text-align': 'center' }}>
        M
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **CUSTOM_METRICS_QUERY**
        </DNT>
      </td>

      <td>
        Uma consulta SQL para coleta de métrica personalizada. Veja o [exemplo de consulta personalizada](/docs/infrastructure/host-integrations/host-integrations-list/microsoft-sql/microsoft-sql-server-integration#custom-query).
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        M
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **CUSTOM_METRICS_CONFIG**
        </DNT>
      </td>

      <td>
        Configuração YAML com uma ou mais consultas SQL para coleta de métricas personalizadas. Veja o [exemplo de múltiplas consultas personalizadas](/docs/infrastructure/host-integrations/host-integrations-list/microsoft-sql/microsoft-sql-server-integration#multi-custom-query).
      </td>

      <td>
        false
      </td>

      <td style={{ 'text-align': 'center' }}>
        M
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **METRICS**
        </DNT>
      </td>

      <td>
        Defina como `true` para ativar a coleta somente de métricas.
      </td>

      <td>
        false
      </td>

      <td style={{ 'text-align': 'center' }}/>
    </tr>

    <tr>
      <td>
        <DNT>
          **INVENTORY**
        </DNT>
      </td>

      <td>
        Defina como `true` para ativar a coleta somente de inventário.
      </td>

      <td>
        false
      </td>

      <td style={{ 'text-align': 'center' }}/>
    </tr>
  </tbody>
</table>

Os valores para estas configurações podem ser definidos de diversas maneiras:

* Adicionando o valor diretamente no arquivo de configuração. Esta é a forma mais comum.
* Substituindo os valores das variáveis de ambiente usando a notação `{{ }}` . Leia mais sobre como [usar passthroughs de variáveis de ambiente com integração no host](/docs/infrastructure/install-infrastructure-agent/configuration/configure-infrastructure-agent/#passthrough) ou veja o exemplo de [substituição de variáveis de ambiente](/docs/infrastructure/host-integrations/host-integrations-list/elasticsearch/elasticsearch-integration#envvar-replacement). <Callout variant="important">Isso requer o agente de infraestrutura v1.14.0+.</Callout>
* Usando gerenciamento de segredos. Use isto para proteger informações confidenciais, como senhas que seriam expostas em texto simples no arquivo de configuração. Para obter mais informações, consulte [gerenciamento de segredos](/docs/integrations/host-integrations/installation/secrets-management).

## Dados de inventário [#inventory]

A integração do Microsoft SQL Server captura o parâmetro de configuração e as configurações atuais do ambiente Microsoft SQL Server. Ele coleta os resultados do procedimento armazenado `sp_configure`, bem como as definições de configuração em execução atuais da tabela `sys.configurations` . Os dados estão disponíveis na [página Inventário](/docs/infrastructure/new-relic-infrastructure/infrastructure-ui-pages/infrastructure-inventory-page-search-your-entire-infrastructure), na origem `config/mssql` .

Para obter mais informações sobre dados de inventário, consulte [Compreender os dados de integração](/docs/infrastructure/integrations-getting-started/getting-started/understand-integration-data-data-types#inventory-data).
