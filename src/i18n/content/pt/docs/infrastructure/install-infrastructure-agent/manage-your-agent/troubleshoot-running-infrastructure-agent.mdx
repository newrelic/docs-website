---
title: Solucionar problemas de um agente de infraestrutura em execução
tags:
  - Infrastructure
  - Install the infrastructure agent
  - Manage your agent
metaDescription: 'To troubleshoot a running New Relic''s infrastructure agent, use the binary newrelic-infra-ctl.'
freshnessValidatedDate: never
translationType: machine
---

Você pode solucionar problemas do nosso agente de infraestrutura usando nosso utilitário `newrelic-infra-ctl` . Este binário também está incluído no pacote de instalação, no mesmo diretório que o binário padrão `newrelic-infra` .

Ao receber o comando `newrelic-infra-ctl`, o agente:

* Ativa [o log detalhado](/docs/infrastructure/new-relic-infrastructure/troubleshooting/generate-logs-troubleshooting-infrastructure) por um período de cinco minutos e depois reverte o nível de log para a configuração anterior.
* Registre todas as opções de configuração do agente.
* Registre todas as opções de configuração de integração.
* Executa uma verificação de integridade para cada integração carregada. (Uma verificação de integridade é uma execução imediata da integração com log extra e validação de saída.)

## Linux `newrelic-infra-ctl` [#binary-ctl-linux]

Em sistemas Linux, o binário de resolução de problemas é `/usr/bin/newrelic-infra-ctl`, disponível tanto no [gerenciador de pacote](/docs/infrastructure/new-relic-infrastructure/installation/install-infrastructure-linux) quanto nos métodos de instalação [assistida por tarball](/docs/infrastructure/install-configure-infrastructure/linux-installation/assisted-install-infrastructure-linux) .

<Callout variant="important">
  Ao executar no Linux, `newrelic-infra-ctl` deve ser executado pelo [usuário root ou pelo mesmo usuário](/docs/infrastructure/install-configure-infrastructure/linux-installation/linux-agent-running-modes) que executa o processo `newrelic-infra` .
</Callout>

O binário `newrelic-infra-ctl` pode detectar automaticamente o processo do agente em execução no host. Ele também pode detectar se o agente está sendo executado dentro de um contêiner.

Para alterar as configurações padrão de `newrelic-infra-ctl`:

<table>
  <thead>
    <tr>
      <th style={{ width: "300px" }}>
        Mudar...
      </th>

      <th>
        Executar
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [`pid`](/docs/infrastructure/install-configure-infrastructure/linux-installation/manual-install-infrastructure-linux#change-pid)
      </td>

      <td>
        `newrelic-infra-ctl -pid 14580`
      </td>
    </tr>

    <tr>
      <td>
        `cid` (ao usar uma versão em contêiner do agente)
      </td>

      <td>
        `newrelic-infra-ctl -cid 8fddbcbb101c`
      </td>
    </tr>

    <tr>
      <td>
        [`docker-api-version`](/docs/infrastructure/install-configure-infrastructure/configuration/infrastructure-configuration-settings#docker-api-version)
      </td>

      <td>
        `newrelic-infra-ctl -docker-api-version 1.24`
      </td>
    </tr>

    <tr>
      <td>
        `container-runtime` (`docker` (padrão) ou `containerd`)
      </td>

      <td>
        `newrelic-infra-ctl -container-runtime containerd`
      </td>
    </tr>

    <tr>
      <td>
        `containerd-namespace` (Namespace onde o agente contêiner está rodando)
      </td>

      <td>
        `newrelic-infra-ctl -containerd-namespace default`
      </td>
    </tr>
  </tbody>
</table>

## Windows `newrelic-infra-ctl` [#binary-ctl-windows]

No Windows, usando o instalador MSI, a resolução de problemas binários é `C:\Program Files\New Relic\newrelic-infra\newrelic-infra-ctl.exe`.

<Callout variant="important">
  No Windows, o processo do agente é sempre detectado automaticamente. Não depende do `pid` ou do `cid`.
</Callout>
