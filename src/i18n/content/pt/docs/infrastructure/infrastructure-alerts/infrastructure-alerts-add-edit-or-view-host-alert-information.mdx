---
title: 'Alertas para infraestrutura: adicione, edite ou visualize informações de alerta do host'
tags:
  - Infrastructure
  - Infrastructure alerts
  - Infrastructure alert conditions
metaDescription: Integrate infrastructure monitoring with New Relic alerts to define and view conditions that trigger alert notifications for your hosts.
freshnessValidatedDate: never
translationType: machine
---

Com o monitoramento de infraestrutura da New Relic, você pode criar [condição de alerta](/docs/alerts/new-relic-alerts/getting-started/alerts-glossary#alert-condition) diretamente dentro do contexto do que você está monitorando atualmente com New Relic.

Por exemplo, se você usou a [barra de filtros](/docs/new-relic-solutions/new-relic-one/core-concepts/search-filter-entities) para filtrar um conjunto específico de hosts e notar um problema, poderá criar um alerta na interface do usuário da infraestrutura. Para criar o alerta, selecione uma visualização de filtro salva e personalize a condição do alerta diretamente no gráfico que você está visualizando. Isso ajuda você a gerenciar e monitor proativamente o sistema de alerta do seu ambiente.

Quer experimentar a condição do alerta com nosso agente de infraestrutura? [Crie uma conta New Relic](https://newrelic.com/signup) gratuitamente! Não é necessário cartão de crédito.

## Criar condição de alerta para infraestrutura [#create-condition]

Condição do alerta aplica-se às [políticas](/docs/alerts/new-relic-alerts/getting-started/alerts-glossary#alert-policy) de alerta. Você pode selecionar uma política existente ou criar uma nova política com notificação por email a partir da nossa interface de infraestrutura. Se quiser usar outros tipos de [canal de notificação](/docs/alerts/new-relic-alerts/managing-notification-channels/notification-channels-controlling-where-send-alerts), crie uma [nova política](/docs/alerts/new-relic-alerts/configuring-alert-policies/name-or-rename-alert-policy) na interface <InlinePopover type="alerts" />.

<Callout id="rest-api-alert-limit" variant="important">
  A infraestrutura REST API tem um limite de 3.700 condições do alerta, incluindo ambas as condições ativas <DNT>**and**</DNT> desativadas. A API, seja usada diretamente ou por meio da interface, rejeitará todas as solicitações para adicionar qualquer condição do alerta adicional além do limite de 3.700 condições do alerta.
</Callout>

Para adicionar uma infraestrutura condição de alerta a uma política de alertas:

1. Vá para <DNT>**[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &gt; Infrastructure**</DNT>. Passe o mouse sobre um gráfico que você deseja alertar, selecione as reticências <Icon name="fe-more-horizontal" /> ícone e selecione <DNT>**Create alert condition**</DNT>.

2. Digite um nome de condição significativo.

3. Selecione <DNT>**Alert type**</DNT> ou consulte os [exemplos](/docs/infrastructure/new-relic-infrastructure/infrastructure-alert-conditions/infrastructure-alerting-examples) para decidir qual tipo selecionar.

4. Crie filtros individuais ou copie todos os filtros da [barra de filtros da entidade](/docs/new-relic-solutions/new-relic-one/core-concepts/search-filter-entities) para identificar os hosts que você deseja que a condição do alerta use.

5. Defina o [limite](/docs/alerts/new-relic-alerts/getting-started/alerts-glossary#alert-threshold) <DNT>**Critical**</DNT> (obrigatório) e <DNT>**Warning**</DNT> (opcional, se disponível) para acionamento da notificação de alerta.

6. Opcional: para criar os critérios de condição proativamente, mas não receber notificação de alerta neste momento, desative a [opção da caixa de seleção<DNT>**Enabled**</DNT> ](/docs/infrastructure/new-relic-infrastructure/configuration/infrastructure-alerts-add-edit-or-view-host-alert-information#enabled).

7. Selecione uma política existente para a nova condição.

   OU

   Selecione a opção de criar uma nova política e identificar o e-mail para notificação de alerta.

8. Opcional: adicione um [URL de runbook](#runbook-url-infrastructure).

9. Opcional: Defina o limite de tempo [<DNT>**Close open incidents after**</DNT>](#incident-time-limit) para fechar automaticamente incidentes abertos após um determinado período de tempo (o padrão é 24 horas para condições de infraestrutura).

10. Selecione <DNT>**Create**</DNT>.

<Callout variant="important">
  Se New Relic não tiver recebido um atributo do serviço de integração na nuvem nos últimos 60 minutos, nos referimos a isso como um &quot;atributo silencioso&quot; e ele não estará disponível para uso como condição do alerta na interface. Nesta situação, você pode usar a [API](/docs/infrastructure/new-relic-infrastructure/infrastructure-alert-conditions/rest-api-calls-new-relic-infrastructure-alerts/) para criar condição do alerta para atributo silencioso.
</Callout>

## Outros métodos de infraestrutura condição do alerta [#methods]

Você também pode usar estes outros métodos para criar uma infraestrutura condição de alerta:

<CollapserGroup>
  <Collapser className="freq-link" id="alerts-ui" title="Utilize a interface de alertas">
    Vá para <DNT>**[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &gt; Alerts &gt; Alert policies &gt; New alert policy &gt; Create new condition**</DNT> e selecione <DNT>**Infrastructure**</DNT> como produto.
  </Collapser>

  <Collapser className="freq-link" id="infrastructure-ui" title="Utilize a interface de infraestrutura">
    1. Vá para <DNT>**[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &gt; Infrastructure &gt; Hosts**</DNT>.
    2. Passe o mouse sobre o gráfico que deseja alertar e selecione as reticências <Icon name="fe-more-horizontal" /> ícone e selecione <DNT>**Create alert**</DNT>.
  </Collapser>

  <Collapser className="freq-link" id="integration" title="Use configurações de infraestrutura para integração">
    <Callout variant="tip">
      Use este método para criar uma condição de alerta para integração de infraestrutura.
    </Callout>

    1. Vá para <DNT>**[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &gt; Infrastructure &gt; Settings &gt; Alerts**</DNT> e clique em <DNT>**Create alert condition**</DNT>.

    2. Nomeie e descreva a condição do alerta.

    3. Clique no tipo de alerta <DNT>**Integrations**</DNT> e selecione a fonte de dados de integração que deseja usar.

    4. Use o dropdown <DNT>**Filter entities**</DNT> para limitar sua condição a um atributo específico.

    5. Use o menu suspenso <DNT>**Define thresholds**</DNT> para definir o limite da sua condição e clique em <DNT>**Create**</DNT>.

       As definições de configuração são opcionais. Você sempre pode atualizá-los mais tarde.
  </Collapser>
</CollapserGroup>

## Ver evento de alerta do host [#view-alerts]

Qualquer pessoa incluída no [canal de notificação](#notification) da apólice recebe alerta notificação diretamente. Além disso, qualquer pessoa com permissões para sua conta New Relic pode visualizar incidentes de infraestrutura de alerta e incidentes individuais através da interface do usuário.

1. Vá para <DNT>**[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &gt; Infrastructure &gt; Events**</DNT>.
2. Para alterar os hosts ou o período de tempo, use a janela de pesquisa, a barra de filtro de entidade ou as funções de tempo.
3. Na lista <DNT>**Events**</DNT> , selecione o incidente de alerta.
4. Para [visualizar informações detalhadas em alertas](/docs/alerts-applied-intelligence/new-relic-alerts/alert-incidents/view-event-details-incidents) sobre o incidente selecionado, selecione o link.

## Atualizar ou excluir informações de alerta do anfitrião [#maintain-alerts]

Para editar, desativar (ou reativar) ou excluir informações de alerta do host:

1. Vá para <DNT>**[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &gt; Infrastructure &gt; Settings &gt; Alerts**</DNT>.
2. Opcional: use a janela de pesquisa ou a caixa de seleção <DNT>**Select all**</DNT> para localizar uma ou mais condições do alerta.
3. Selecione qualquer uma das funções disponíveis para <Icon name="fe-edit-2" /> editar, desabilitar, habilitar ou <Icon name="fe-trash-2" /> excluir as condições selecionadas.

## Utilize alertas para monitor toda a sua infraestrutura [#nr-alerts]

[alertas](/docs/alerts/new-relic-alerts-beta/getting-started/new-relic-alerts) fornece uma ferramenta de alerta única e coordenada para todos os seus produtos New Relic . Isso permite que você gerencie [políticas de alertas](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-policy) e [condições](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-condition) que focam nas métricas da [entidade](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity) que mais lhe interessa, como Docker contêineres, JVMs e muito mais.

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        <DNT>
          **Alert features**
        </DNT>
      </th>

      <th>
        <DNT>
          **Features in infrastructure monitoring**
        </DNT>
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Condição do alerta
      </td>

      <td>
        * Criar: Utilize a interface [de infraestrutura](#create-condition) .
        * Visualizar, alterar, desativar (ou reativar) ou excluir: Utilize a interface [de infraestrutura <DNT>**Settings &gt; Alerts**</DNT>](#maintain-alerts) .
      </td>
    </tr>

    <tr>
      <td>
        Informações sobre alertas
      </td>

      <td>
        * Visualizar informações resumidas sobre [o evento](/docs/alerts/new-relic-alerts/getting-started/alerts-glossary#event): Utilize a interface [de infraestrutura <DNT>**Events**</DNT>](#view-alerts) .
        * Visualizar informações detalhadas sobre [incidente de alerta](/docs/new-relic-solutions/get-started/glossary/#alert-incident): Utilize a interface [de alertas](/docs/alerts/new-relic-alerts/reviewing-alert-incidents/explore-incident-history-incidents-index) ou o [canal de notificação](#notification) integrado à política associada.
      </td>
    </tr>

    <tr>
      <td>
        Política de alertas
      </td>

      <td>
        Visualizar, adicionar, alterar, desativar ou excluir:

        * Para apólices com diversos canais de notificação: Utilize a interface [de alertas](/docs/alerts/new-relic-alerts/updating-alert-policies/change-alert-policies) .

        * Para políticas que necessitam apenas [de notificação por e-mail](#notification): acesse <DNT>**[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &gt; Infrastructure &gt; Settings &gt; Alerts &gt; Create a new policy**</DNT> e adicione um ou mais endereços de e-mail conforme necessário.

          Adicione condições de host a uma política existente: Use a interface [de infraestrutura](#create-condition) .
      </td>
    </tr>

    <tr>
      <td>
        Canal de notificação
      </td>

      <td>
        Para visualizar, adicionar, alterar ou excluir [opções de notificação disponíveis](#notification):

        1. Vá para <DNT>**[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &gt; Infrastructure &gt; Settings &gt; Alerts**</DNT>.
        2. Opcional: Procure a condição ou o nome da política.
        3. Na lista de condições, selecione o link da política para visualizar as informações do canal de notificação na interface de alertas.
      </td>
    </tr>
  </tbody>
</table>

## Acrescente uma descrição [#description]

O uso do campo <DNT>**Description**</DNT> está disponível para estes tipos de condição do alerta:

* Condições NRQL: adicione uma descrição usando a [API NerdGraph](/docs/alerts/alerts-nerdgraph/nerdgraph-examples/nerdgraph-api-alerts-nrql-conditions).
* Condições de infraestrutura: adicione uma descrição usando a interface ou a API REST.

O texto que você coloca no campo <DNT>**Description**</DNT> de uma condição do alerta é transmitido posteriormente ao incidente e à notificação associados. Uma descrição pode ser usada para diversos fins, incluindo:

* Capturando o motivo da condição do alerta.
* Definindo o sinal que está sendo monitorado.
* Definição dos próximos passos.
* Adicione metadados a sistemas downstream.

Você pode usar a substituição de template para inserir valores do atributo no evento de incidente associado. O formato do modelo é `{{attributeName}}`. Para o atributo que você pode usar ao criar uma descrição, veja [incidente evento atributo](/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/understand-technical-concepts/incident-event-attributes).

Um atributo disponível é o atributo especial `{{tag.*}}` . Este prefixo atributo é usado para acessar qualquer um dos valores tag que estão incluídos no sinal de destino, ou qualquer uma das tags de entidade que estão associadas ao sinal de destino.

Caso existam tags de entidade associadas ao seu incidente, elas poderão ser acessadas através do nome da tag entidade. Um exemplo disso seria `{{tag.aws.awsRegion}}`. Quando as tags de entidade estão disponíveis para uso, você as vê incluídas no incidente e exibidas quando você visualiza o incidente.

Este campo tem um tamanho máximo de caracteres de 4.000.

## Adicionar ou editar um URL de runbook [#runbook-url-infrastructure]

O [processo de criação da condição do alerta](#create-condition) inclui uma opção para configurar uma URL para instruções runbook . Isso permite vincular informações ou procedimentos padrão para lidar com um incidente. Antes de adicionar ou atualizar o link, certifique-se de usar um URL válido.

Para adicionar, atualizar ou excluir o URL do runbook de uma condição do alerta:

1. Selecione uma condição do alerta e faça alterações no link <DNT>**Runbook URL**</DNT> .
2. Salve a condição.

Para ser salvo, o URL deve ser um URL válido.

## Limite de tempo do incidente [#incident-time-limit]

O limite de tempo do incidente permite definir um período de tempo após o qual o incidente será encerrado à força. Por padrão, o limite de tempo do incidente é de 24 horas para condições de infraestrutura.

Para adicionar ou atualizar o limite de tempo de uma condição do alerta:

1. Selecione uma condição do alerta e faça alterações no limite de tempo do incidente.
2. Salve a condição.

## Condição do alerta que gera consulta NRQL muito longa [#alert-nrql-error]

A condição do alerta criada para infraestrutura conta com consulta NRQL nos bastidores, e a consulta NRQL tem limite de 4.096 caracteres. Isso significa que se sua condição gerar uma consulta NRQL muito complexa que filtre muitos elementos (por exemplo, incluindo muitos hosts ou muitas tags), ela excederá esse limite e exibirá uma mensagem de erro informando que a condição falhou.

Para resolver este problema, reduza o número de elementos que você está utilizando na sua condição do alerta. Por exemplo:

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        Problema
      </th>

      <th>
        Solução
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Anfitriões
      </td>

      <td>
        * Se você inseriu um grande número de hosts que causou falha na condição, reduza o número de hosts.
        * Use substrings para hosts de destino. Por exemplo, em vez de segmentar `prod-host-01`, `prod-host-02` e `prod-host-03`, apenas destino todos os hosts com `prod-host-0` no nome.
      </td>
    </tr>

    <tr>
      <td>
        Entidade
      </td>

      <td>
        * Edite sua condição do alerta para o atributo específico do destino que se aplica à entidade que você está tentando destinar.
        * Crie um atributo personalizado para a entidade que você deseja destinar, e utilize esses atributos na sua condição de alerta.
      </td>
    </tr>
  </tbody>
</table>

Para obter mais informações, consulte [práticas recomendadas para filtragem de alertas de infraestrutura](https://discuss.newrelic.com/t/relic-solution-best-practice-for-filtering-in-infrastructure-alerts/58065) no Fórum de suporte da New Relic.