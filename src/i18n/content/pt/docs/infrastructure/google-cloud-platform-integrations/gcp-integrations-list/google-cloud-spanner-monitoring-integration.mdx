---
title: Google Cloud Spanner monitoramento de integração
tags:
  - Integrations
  - Google Cloud Platform integrations
  - GCP integrations list
metaDescription: 'New Relic''s Google Cloud Spanner integration: how to activate it and what data it reports.'
freshnessValidatedDate: never
translationType: machine
---

[A integração da New Relic](/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations) com o [Google Cloud Platform (GCP)](https://cloud.google.com) inclui uma integração para reportar dados [Google Cloud Spanner](https://cloud.google.com/spanner/) para New Relic. Este documento explica como ativar a integração do GCP Cloud Spanner e descreve os dados que podem ser relatados.

## Recurso [#features]

O serviço Google Cloud Spanner é um serviço de banco de dados relacional distribuído globalmente e criado para a nuvem. Usando o [Google Spanner Console](https://cloud.google.com/spanner/docs/quickstart-console), os desenvolvedores podem criar uma instância do Cloud Spanner, adicionar esquemas, gravar e modificar dados e executar consultas.

## Ativar integração [#activate]

Para ativar a integração, siga os procedimentos padrão para [conectar seu serviço GCP ao New Relic](/docs/connect-google-cloud-platform-services-infrastructure).

## Frequência de votação [#polling]

A integração New Relic consulta seus serviços GCP de acordo com um intervalo de sondagem, que varia dependendo da integração. A frequência de pesquisa do Google Cloud Spanner é de cinco minutos. A resolução é de 1 ponto de dados por minuto.

## Encontre e use dados [#find-data]

Após ativar a integração e aguardar alguns minutos (com base na [frequência da votação](#polling)), os dados aparecerão na interface do New Relic . Para [encontrar e usar seus dados](/docs/infrastructure/integrations/find-use-infrastructure-integration-data), incluindo links para seu <InlinePopover type="dashboards"/>e configurações de alerta, acesse <DNT>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Infrastructure > GCP > (select an integration)**</DNT>.

## Dados métricos [#metrics]

Para visualizar [dados métricos](/docs/integrations/new-relic-integrations/getting-started/#metric) para sua integração do GCP Spanner no New Relic, [crie uma consulta NRQL ](/docs/integrations/new-relic-integrations/getting-started/use-integration-data-new-relic-insights#nrql)para [o evento](/docs/data-apis/understand-data/new-relic-data-types/#event-data) `GcpSpannerInstanceSample` e `GcpSpannerDatabaseSample` e seus atributos relacionados.

### GcpSpannerInstanceSample [#gcp-spanner-instance-sample]

Consulte o evento `GcpSpannerInstanceSample` no New Relic para visualizar os dados do seguinte atributo:

<table>
  <thead>
    <tr>
      <th style={{ width: "300px" }}>
        Atributo
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `instance.autoscaling.HighPriorityCpuUtilizationTarget`
      </td>

      <td>
        Destino de utilização de CPU de alta prioridade usado para escalonamento automático.
      </td>
    </tr>

    <tr>
      <td>
        `instance.autoscaling.MaxNodes`
      </td>

      <td>
        Número máximo de nós que o escalonador automático pode alocar para a instância.
      </td>
    </tr>

    <tr>
      <td>
        `instance.autoscaling.MaxProcessingUnits`
      </td>

      <td>
        Número máximo de unidades de processamento que o escalonador automático pode alocar para a instância.
      </td>
    </tr>

    <tr>
      <td>
        `instance.autoscaling.MinNodes`
      </td>

      <td>
        Número mínimo de nós que o escalonador automático pode alocar para a instância.
      </td>
    </tr>

    <tr>
      <td>
        `instance.autoscaling.MinProcessingUnits`
      </td>

      <td>
        Número mínimo de unidades de processamento que o escalonador automático pode alocar à instância.
      </td>
    </tr>

    <tr>
      <td>
        `instance.autoscaling.StorageUtilizationTarget`
      </td>

      <td>
        Destino de utilização de armazenamento usado para escalonamento automático.
      </td>
    </tr>

    <tr>
      <td>
        `instance.backup.UsedBytes`
      </td>

      <td>
        Armazenamento de backup usado em bytes.
      </td>
    </tr>

    <tr>
      <td>
        `instance.cpu.SmoothedUtilization`
      </td>

      <td>
        Utilização suavizada de CPU provisionada por 24 horas. Os valores normalmente são números entre 0,0 e 1,0 (mas podem exceder 1,0). Os gráficos exibem os valores como uma porcentagem entre 0% e 100% (ou mais).
      </td>
    </tr>

    <tr>
      <td>
        `instance.cpu.Utilization`
      </td>

      <td>
        Porcentagem de utilização da CPU provisionada. Os valores normalmente são números entre 0,0 e 1,0 (mas podem exceder 1,0). Os gráficos exibem os valores como uma porcentagem entre 0% e 100% (ou mais).
      </td>
    </tr>

    <tr>
      <td>
        `instance.cpu.UtilizationByOperationType`
      </td>

      <td>
        Porcentagem de utilização da CPU provisionada, por tipo de operação. Os valores normalmente são números entre 0,0 e 1,0 (mas podem exceder 1,0). Os gráficos exibem os valores como uma porcentagem entre 0% e 100% (ou mais). Atualmente, não inclui a utilização da CPU para tarefas do sistema.
      </td>
    </tr>

    <tr>
      <td>
        `instance.cpu.UtilizationByPriority`
      </td>

      <td>
        Porcentagem de utilização da CPU provisionada, por prioridade. Os valores normalmente são números entre 0,0 e 1,0 (mas podem exceder 1,0). Os gráficos exibem os valores como uma porcentagem entre 0% e 100% (ou mais).
      </td>
    </tr>

    <tr>
      <td>
        `instance.dataBoost.ProcessingUnitSeconds`
      </td>

      <td>
        Total de unidades de processamento usadas para operações do DataBoost.
      </td>
    </tr>

    <tr>
      <td>
        `instance.LeaderPercentageByRegion`
      </td>

      <td>
        Porcentagem de líderes por região de nuvem. Os valores normalmente são números entre 0,0 e 1,0. Os gráficos exibem os valores como uma porcentagem entre 0% e 100%.
      </td>
    </tr>

    <tr>
      <td>
        `instance.nodes`
      </td>

      <td>
        Número total de nós.
      </td>
    </tr>

    <tr>
      <td>
        `instance.ProcessingUnits`
      </td>

      <td>
        Número total de unidades de processamento.
      </td>
    </tr>

    <tr>
      <td>
        `instance.sessions`
      </td>

      <td>
        Número de sessões em uso.
      </td>
    </tr>

    <tr>
      <td>
        `instance.storage.LimitBytes`
      </td>

      <td>
        Limite de armazenamento para instância em bytes.
      </td>
    </tr>

    <tr>
      <td>
        `instance.storage.LimitBytesPerProcessingUnit`
      </td>

      <td>
        Limite de armazenamento por unidade de processamento em bytes.
      </td>
    </tr>

    <tr>
      <td>
        `instance.storage.UsedBytes`
      </td>

      <td>
        Armazenamento usado em bytes.
      </td>
    </tr>

    <tr>
      <td>
        `instance.storage.Utilization`
      </td>

      <td>
        Armazenamento usado como uma fração do limite de armazenamento.
      </td>
    </tr>
  </tbody>
</table>

### GcpSpannerDatabaseSample [#gcp-spanner-database-sample]

Consulte o evento `GcpSpannerDatabaseSample` no New Relic para visualizar os dados do seguinte atributo:

<table>
  <thead>
    <tr>
      <th style={{ width: "300px" }}>
        Atributo
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `api.apiRequests`
      </td>

      <td>
        Solicitações da API Cloud Spanner.
      </td>
    </tr>

    <tr>
      <td>
        `api.ReceivedBytes`
      </td>

      <td>
        Bytes de solicitação não compactados recebidos pelo Cloud Spanner.
      </td>
    </tr>

    <tr>
      <td>
        `api.Requests`
      </td>

      <td>
        Taxa de solicitações da API Cloud Spanner.
      </td>
    </tr>

    <tr>
      <td>
        `api.RequestLatencies`
      </td>

      <td>
        Distribuição da latência de requisições do servidor para um banco de dados. Isso inclui latência de processamento de solicitações no back-end e na camada API do Cloud Spanner. Não inclui sobrecarga de rede ou proxy reverso entre clientes e servidores.
      </td>
    </tr>

    <tr>
      <td>
        `api.RequestLatenciesByTransactionType`
      </td>

      <td>
        Distribuição da latência de requisições do servidor para um banco de dados. Isso inclui latência de processamento de solicitações no back-end e na camada API do Cloud Spanner. Não inclui sobrecarga de rede ou proxy reverso entre clientes e servidores.
      </td>
    </tr>

    <tr>
      <td>
        `api.SentBytes`
      </td>

      <td>
        Bytes de resposta não compactados enviados pelo Cloud Spanner.
      </td>
    </tr>

    <tr>
      <td>
        `lockStat.total.LockWaitTime`
      </td>

      <td>
        Tempo total de espera de bloqueio para conflitos de bloqueio registrados para todo o banco de dados.
      </td>
    </tr>

    <tr>
      <td>
        `queries`
      </td>

      <td>
        Contagem de consultas por nome do banco de dados, status, tipo de consulta e versão do otimizador utilizada.
      </td>
    </tr>

    <tr>
      <td>
        `queryStat.total.BytesReturned`
      </td>

      <td>
        Número de bytes de dados que a consulta retornou, excluindo sobrecarga de codificação de transmissão.
      </td>
    </tr>

    <tr>
      <td>
        `queryStat.total.CpuTime`
      </td>

      <td>
        Número de segundos de tempo de CPU que o Cloud Spanner gastou em operações para executar a consulta.
      </td>
    </tr>

    <tr>
      <td>
        `queryStat.total.Executions`
      </td>

      <td>
        Número de vezes que o Cloud Spanner viu uma consulta durante o intervalo.
      </td>
    </tr>

    <tr>
      <td>
        `queryStat.total.FailedExecutions`
      </td>

      <td>
        Número de vezes que a consulta falhou durante o intervalo.
      </td>
    </tr>

    <tr>
      <td>
        `queryStat.total.QueryLatencies`
      </td>

      <td>
        Distribuição do tempo total, em segundos, para execução de consultas no banco de dados.
      </td>
    </tr>

    <tr>
      <td>
        `queryStat.total.RemoteServiceCalls`
      </td>

      <td>
        Contagem de chamadas de serviço remoto.
      </td>
    </tr>

    <tr>
      <td>
        `queryStat.total.RemoteServiceCallsLatencies`
      </td>

      <td>
        latência de chamadas de atendimento remoto.
      </td>
    </tr>

    <tr>
      <td>
        `queryStat.total.RemoteServiceNetworkBytesSizes`
      </td>

      <td>
        Bytes de rede trocados com serviço remoto.
      </td>
    </tr>

    <tr>
      <td>
        `queryStat.total.RemoteServiceProcessedRows`
      </td>

      <td>
        Contagem de linhas processadas por um serviço remoto.
      </td>
    </tr>

    <tr>
      <td>
        `queryStat.total.RemoteServiceProcessedRowsLatencies`
      </td>

      <td>
        Latência de linhas processadas por um serviço remoto.
      </td>
    </tr>

    <tr>
      <td>
        `queryStat.total.ReturnedRows`
      </td>

      <td>
        Número de linhas que a consulta retornou.
      </td>
    </tr>

    <tr>
      <td>
        `queryStat.total.ScannedRows`
      </td>

      <td>
        Número de linhas que a consulta verificou, excluindo valores excluídos.
      </td>
    </tr>

    <tr>
      <td>
        `readStat.total.BytesReturned`
      </td>

      <td>
        Número total de bytes de dados que as leituras retornaram, excluindo a sobrecarga de codificação de transmissão.
      </td>
    </tr>

    <tr>
      <td>
        `readStat.total.ClientWaitTime`
      </td>

      <td>
        Número de segundos gastos em espera devido à limitação.
      </td>
    </tr>

    <tr>
      <td>
        `readStat.total.CpuTime`
      </td>

      <td>
        Número de segundos de tempo de CPU que o Cloud Spanner gastou para executar as leituras, excluindo CPU de pré-busca e outras sobrecargas.
      </td>
    </tr>

    <tr>
      <td>
        `readStat.total.Executions`
      </td>

      <td>
        Número de vezes que o Cloud Spanner executou as formas de leitura durante o intervalo.
      </td>
    </tr>

    <tr>
      <td>
        `readStat.total.LeaderRefreshDelay`
      </td>

      <td>
        Número de segundos gastos na coordenação de leituras em instâncias em configurações multirregionais.
      </td>
    </tr>

    <tr>
      <td>
        `readStat.total.LockingDelays`
      </td>

      <td>
        Distribuição do tempo total em segundos de espera por bloqueio.
      </td>
    </tr>

    <tr>
      <td>
        `readStat.total.ReturnedRows`
      </td>

      <td>
        Número de linhas que as leituras retornaram.
      </td>
    </tr>

    <tr>
      <td>
        `rowDeletionPolicy.DeletedRows`
      </td>

      <td>
        Contagem de linhas excluídas pela política desde a última amostra.
      </td>
    </tr>

    <tr>
      <td>
        `rowDeletionPolicy.ProcessedWatermarkAge`
      </td>

      <td>
        Tempo entre agora e o timestamp data/hora de leitura da última execução bem-sucedida. Uma execução ocorre quando a tarefa em segundo plano exclui dados elegíveis em lotes e é bem-sucedida mesmo quando há linhas que não podem ser excluídas.
      </td>
    </tr>

    <tr>
      <td>
        `rowDeletionPolicy.UndeletableRows`
      </td>

      <td>
        Número de linhas em todas as tabelas do banco de dados que não podem ser excluídas. Uma linha não pode ser excluída se, por exemplo, tiver tantas linhas filhas que uma exclusão excederia o limite de transação.
      </td>
    </tr>

    <tr>
      <td>
        `transactionStat.total.BytesWritten`
      </td>

      <td>
        Número de bytes escritos pela operação.
      </td>
    </tr>

    <tr>
      <td>
        `transactionStat.total.CommitAttempts`
      </td>

      <td>
        Número de tentativas de commit para transação.
      </td>
    </tr>

    <tr>
      <td>
        `transactionStat.total.CommitRetries`
      </td>

      <td>
        Número de tentativas de confirmação que são novas tentativas de transação anuladas anteriormente.
      </td>
    </tr>

    <tr>
      <td>
        `transactionStat.total.Participants`
      </td>

      <td>
        Distribuição do número total de participantes em cada tentativa de commit.
      </td>
    </tr>

    <tr>
      <td>
        `transactionStat.total.TransactionLatencies`
      </td>

      <td>
        Distribuição do total de segundos retirados da primeira operação da transação para confirmar ou abortar.
      </td>
    </tr>
  </tbody>
</table>
