---
title: Definições de configuração do agente de infraestrutura
tags:
  - Infrastructure
  - Install the infrastructure agent
  - Configuration
metaDescription: 'Configuration settings for the New Relic infrastructure agent, including YAML and environment variable names, value, minimum agent version.'
freshnessValidatedDate: never
translationType: machine
---

O agente de infraestrutura possui um grande conjunto de [definições de configuração para ajustar seu comportamento](/docs/infrastructure/new-relic-infrastructure/configuration/configure-infrastructure-agent). Aqui nós:

* Liste todas as opções de configuração (tanto no YAML quanto nos nomes das variáveis de ambiente).
* Explique o que as configurações fazem e quando usá-las.
* Forneça o tipo de variável e o valor padrão (se houver).
* Liste a versão mínima necessária do agente, conforme aplicável.

<Callout variant="important">
  Com o gerenciamento de segredos, você pode configurar o agente de integração no host com infraestrutura para usar dados confidenciais (como senhas) sem precisar gravá-los como texto simples no arquivo de configuração da integração. Para obter mais informações, consulte [Gerenciamento de segredos](/docs/integrations/host-integrations/installation/secrets-management).
</Callout>

Ainda sem uma conta New Relic? [Cadastre-se](https://newrelic.com/signup) gratuitamente, para sempre.

## Iniciar [#requirements]

Você poderá configurar nosso agente de infraestrutura para se adequar ao seu ambiente depois de [criar uma conta New Relic](https://newrelic.com/signup) (é grátis, para sempre) e [instalar o agente de infraestrutura](/docs/infrastructure/install-infrastructure-agent/get-started/install-infrastructure-agent/).

O [`license_key`](#license-key) é a única configuração necessária.

Para obter um exemplo de como todas essas variáveis podem ser usadas, consulte nosso [modelo de configuração de exemplo no GitHub](https://github.com/newrelic/infrastructure-agent/blob/master/assets/examples/infrastructure/newrelic-infra-template.yml.example).

## Variáveis ambientais

Muitas das opções de configuração listadas também admitem o uso de variáveis de ambiente para definir valores, que têm precedência sobre a configuração YAML.

<Callout variant="important">
  Frequentemente, o agente de infraestrutura é executado como um serviço de sistema no host, gerenciado globalmente (por exemplo, `systemd` para Linux, serviços do Windows, `launchd` para macOS, etc.). Para aplicar alterações de configuração com variáveis de ambiente nesta configuração, essas variáveis de ambiente precisam ser definidas e tornadas visíveis para o contexto isolado onde o serviço do agente de infraestrutura está sendo executado. A maneira de fazer isso depende da plataforma. Verifique a documentação do gerenciador de serviços da sua plataforma para saber como adicionar variáveis de ambiente aos serviços do sistema.
</Callout>

## Variáveis de agente [#agent-variables]

<CollapserGroup>
  <Collapser
    className="freq-link"
    id="license-key"
    title={<>license_key (<strong>OBRIGATÓRIA)</strong></>
    }
  >
    Especifica o <InlinePopover type="licenseKey" />para sua conta New Relic. O agente utiliza esta chave para associar a métrica do seu servidor à sua conta New Relic. Essa configuração é criada como parte do processo de instalação padrão.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `license_key`
          </td>

          <td>
            `NRIA_LICENSE_KEY`
          </td>

          <td>
            corda
          </td>

          <td />

          <td />
        </tr>
      </tbody>
    </table>

    Exemplo:

    ```yml
    license_key: 1234567890abcdefghijklmnopqrstuvwxyz1234
    ```
  </Collapser>

  <Collapser className="freq-link" id="fedramp" title="FedRAMP">
    Especifica se o terminal FedRAMP deve ser usado.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `fedramp`
          </td>

          <td>
            `NRIA_FEDRAMP`
          </td>

          <td>
            boleano
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.15.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1150)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="max-procs" title="max_procs">
    Especifica o número de processadores lógicos disponíveis para o agente. Aumentar esse valor ajuda a distribuir a carga entre diferentes núcleos.

    Se definido como `-1`, o agente tentará ler a variável de ambiente `GOMAXPROCS`. Se esta variável não for definida, o valor padrão será o número total de núcleos disponíveis no host.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `max_procs`
          </td>

          <td>
            `NRIA_MAX_PROCS`
          </td>

          <td>
            inteiro
          </td>

          <td>
            `1`
          </td>

          <td>
            [1.0.1002](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-101002)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="payload-compression-level" title="payload_compression_level">
    Desde a versão [1.0.804](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10804) ou superior, os dados enviados do agente são compactados por padrão. Para desativar a compactação de carga útil, defina `payload_compression_level` como 0.

    <Callout variant="important">
      Recomendação: Não altere esta configuração.
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `payload_compression_level`
          </td>

          <td>
            `NRIA_PAYLOAD_COMPRESSION_LEVEL`
          </td>

          <td>
            inteiro
          </td>

          <td>
            `6`
          </td>

          <td>
            [1.0.804](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10804)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="startup-connection-retries" title="startup_connection_retries">
    Número de vezes que o agente tentará novamente a solicitação para verificar a disponibilidade da plataforma da New Relic na inicialização antes de gerar um erro.

    Se definido como <DNT>**negative value**</DNT>, o agente continuará verificando a conexão até que seja bem-sucedida.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `startup_connection_retries`
          </td>

          <td>
            `NRIA_STARTUP_CONNECTION_RETRIES`
          </td>

          <td>
            inteiro
          </td>

          <td>
            `6`
          </td>

          <td>
            1.0.936
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="startup-connection-retries" title="startup_connection_retry_time">
    Após o tempo limite de uma solicitação expirar, o tempo que o agente espera para tentar novamente uma solicitação para verificar a disponibilidade da plataforma da New Relic na inicialização.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `startup_connection_retry_time`
          </td>

          <td>
            `NRIA_STARTUP_CONNECTION_RETRY_TIME`
          </td>

          <td>
            corda
          </td>

          <td>
            `5s`
          </td>

          <td>
            1.0.936 - 1.2.30
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="startup-connection-timeout" title="startup_connection_timeout">
    Tempo que o agente espera até que uma solicitação para verificar a disponibilidade da plataforma New Relic na inicialização seja considerada expirada.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `startup_connection_timeout`
          </td>

          <td>
            `NRIA_STARTUP_CONNECTION_TIMEOUT`
          </td>

          <td>
            corda
          </td>

          <td>
            `10s`
          </td>

          <td>
            1.0.936
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="self-instrumentation" title="self_instrumentation">
    Possibilita [a autoinstrumentação do agente](/docs/infrastructure/install-infrastructure-agent/manage-your-agent/infrastructure-agent-self-instrumentation).

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `self_instrumentation`
          </td>

          <td>
            `NRIA_SELF_INSTRUMENTATION`
          </td>

          <td>
            corda
          </td>

          <td>
            `empty`
          </td>

          <td>
            [1.24.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1240)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="logging_retry-limit" title="logging_retry_limit">
    Ativa [a nova tentativa do agente para transmissão de log](/docs/infrastructure/install-infrastructure-agent/manage-your-agent/infrastructure-agent-behavior/#retry) por meio do encaminhador de log fluentbit integrado. Os valores inteiros são para o número de novas tentativas pretendidas. Outros valores possíveis incluem `False` para definir o número de novas tentativas como infinito e `no_retries` para desativar totalmente a funcionalidade de novas tentativas.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `logging_retry_limit`
          </td>

          <td>
            `NRIA_LOGGING_RETRY_LIMIT`
          </td>

          <td>
            inteiro
          </td>

          <td>
            `5`
          </td>

          <td>
            [1.29.1](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1291)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Variáveis de nuvem

Se o agente estiver sendo executado em uma instância de nuvem, o agente tentará detectar o tipo de nuvem e buscar [metadados](/docs/integrations/new-relic-integrations/getting-started/understand-use-data-infrastructure-integrations#overview) básicos. O métrica também pode ser enriquecido com metadados de nuvem estendidos (incluindo etiqueta de recurso personalizada) ao [conectar a conta do provedor de nuvem](/docs/infrastructure/infrastructure-integrations/get-started/introduction-infrastructure-integrations#cloud) com a New Relic.

<CollapserGroup>
  <Collapser className="freq-link" id="cloud-max-retry-count" title="cloud_max_retry_count">
    Define o número de vezes que o agente tenta se conectar novamente caso a detecção da nuvem falhe.

    Se a detecção da nuvem falhar durante a inicialização do agente, o agente tentará novamente após aguardar [`CloudRetryBackOffSec` segundos](#cloud-retry-backoff-sec).

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `cloud_max_retry_count`
          </td>

          <td>
            `NRIA_CLOUD_MAX_RETRY_COUNT`
          </td>

          <td>
            inteiro
          </td>

          <td>
            `10`
          </td>

          <td>
            1.2.6
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="cloud-metadata-expiry-sec" title="cloud_metadata_expiry_sec">
    Define o intervalo de tempo que o agente aguardará até descartar os metadados, em segundos. Após esse período, os metadados expiram e o agente irá buscá-los novamente.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `cloud_metadata_expiry_sec`
          </td>

          <td>
            `NRIA_CLOUD_METADATA_EXPIRY_SEC`
          </td>

          <td>
            inteiro
          </td>

          <td>
            `300`
          </td>

          <td>
            1.2.6
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="cloud-retry-backoff-sec" title="cloud_retry_backoff_sec">
    Define o intervalo de tempo que o agente espera entre novas tentativas de detecção de nuvem caso a detecção de nuvem falhe, em segundos.

    Se a detecção da nuvem falhar durante a inicialização do agente, ele tentará novamente [`CloudMaxRetryCount` vezes](#cloud-max-retry-count).

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `cloud_retry_backoff_sec`
          </td>

          <td>
            `NRIA_CLOUD_RETRY_BACKOFF_SEC`
          </td>

          <td>
            inteiro
          </td>

          <td>
            `60`
          </td>

          <td>
            1.2.6
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="cloud-provider" title="cloud_provider">
    Especifica o provedor de nuvem em que o agente está sendo executado. Quando configurado com um valor diferente do padrão, o agente aguardará até adquirir com sucesso os metadados (o ID da instância) do provedor de nuvem antes de enviar quaisquer dados ao backend.

    Com o comportamento padrão, o agente também tentará detectar o provedor de nuvem e obter os metadados, mas sem bloquear o agente.

    Valores permitidos: `""`, `"aws"`, `"azure"`, `"gcp"`, `"alibaba"`

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `cloud_provider`
          </td>

          <td>
            `NRIA_CLOUD_PROVIDER`
          </td>

          <td>
            corda
          </td>

          <td>
            `""`
          </td>

          <td>
            1.40.1
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="disable-cloud-instance-id" title="disable_cloud_instance_id">
    Semelhante a [`DisableCloudMetadata`](#disable-cloud-metadata), mas desativa a coleta de metadados de nuvem apenas para o plug-in de alias de host.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `disable_cloud_instance_id`
          </td>

          <td>
            `NRIA_DISABLE_CLOUD_INSTANCE_ID`
          </td>

          <td>
            boleano
          </td>

          <td>
            `false`
          </td>

          <td>
            1.0.220
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="disable-cloud-metadata" title="disable_cloud_metadata">
    Desativa a coleta de metadados na nuvem.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `disable_cloud_metadata`
          </td>

          <td>
            `NRIA_DISABLE_CLOUD_METADATA`
          </td>

          <td>
            boleano
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.0.690](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10690)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Variáveis Docker

<CollapserGroup>
  <Collapser className="freq-link" id="container-cache-metadata-limit" title="container_cache_metadata_limit">
    Tempo, em segundos, antes que os metadados do contêiner em cache expirem e o agente precise buscá-los novamente.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `container_cache_metadata_limit`
          </td>

          <td>
            `NRIA_CONTAINER_CACHE_METADATA_LIMIT`
          </td>

          <td>
            inteiro
          </td>

          <td>
            `60`
          </td>

          <td>
            1.0.801
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="docker-api-version" title="docker_api_version">
    Especifica a versão da API do cliente Docker .

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `docker_api_version`
          </td>

          <td>
            `NRIA_DOCKER_API_VERSION`
          </td>

          <td>
            corda
          </td>

          <td>
            `1.24`
          </td>

          <td>
            [1.1.4](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-114)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Variáveis do sistema de arquivos [#filesystem-variables]

<CollapserGroup>
  <Collapser className="freq-link" id="custom-supported-file-systems" title="custom_supported_file_systems">
    Lista dos tipos de sistemas de arquivos suportados pelo agente. Esse valor precisa ser um subconjunto da lista padrão e os itens que não estiverem na lista padrão serão descartados.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `custom_supported_file_systems`
          </td>

          <td>
            `NRIA_CUSTOM_SUPPORTED_FILESYSTEMS`
          </td>

          <td>
            \[]corda
          </td>

          <td>
            Linux: `["xfs", "btrfs", "ext", "ext2", "ext3", "ext4", "hfs", "vxfs", "zfs"]`

            Windows: `["NTFS", "ReFS"]`
          </td>

          <td>
            1.0.220
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="file-devices-ignored" title="file_devices_ignored">
    Lista de dispositivos de armazenamento a serem ignorados pelo agente ao coletar dados `StorageSample` .

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `file_devices_ignored`
          </td>

          <td>
            `NRIA_FILE_DEVICES_IGNORED`
          </td>

          <td>
            \[]corda
          </td>

          <td />

          <td>
            1.0.220
          </td>
        </tr>
      </tbody>
    </table>

    Exemplo como um atributo YAML:

    ```yml
    file_devices_ignored:
      - sda1
      - sda2
    ```

    Exemplo como variável de ambiente:

    ```ini
    FILE_DEVICES_IGNORED="sda1,sda2"
    ```
  </Collapser>
</CollapserGroup>

## Nome das variáveis de host

<CollapserGroup>
  <Collapser className="freq-link" id="display-name" title="display_name">
    Substitui o nome do host gerado automaticamente para relatórios. Isso é útil quando você tem vários hosts com o mesmo nome, pois nosso monitoramento de infraestrutura usa o nome do host como identificador exclusivo para cada host. Tenha em mente que este valor também é usado para substituição de endereço de loopback em nomes de entidades.

    Para obter mais informações, consulte nossa documentação sobre [como funciona a resolução de nomes de entidades](/docs/integrations/integrations-sdk/file-specifications/integration-executable-file-specifications#h2-loopback-address-replacement-on-entity-names).

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `display_name`
          </td>

          <td>
            `NRIA_DISPLAY_NAME`
          </td>

          <td>
            corda
          </td>

          <td>
            vazio
          </td>

          <td>
            1.0.266
          </td>
        </tr>
      </tbody>
    </table>

    Exemplo:

    ```yml
    display_name: teslaOne
    ```
  </Collapser>

  <Collapser className="freq-link" id="dns_hostname_resolution" title="dns_hostname_resolution">
    Quando `true`, o nome do host completo é resolvido executando uma pesquisa reversa do endereço do host. Caso contrário, será recuperado com o comando nome do host no Linux e a partir do parâmetro TCP/IP do registro no Windows.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `dns_hostname_resolution`
          </td>

          <td>
            `NRIA_DNS_HOSTNAME_RESOLUTION`
          </td>

          <td>
            boleano
          </td>

          <td>
            `true`
          </td>

          <td>
            [1.2.6](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-125)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="override-hostname" title="override_hostname">
    Quando definido, este é o valor que será reportado para o nome completo do host; caso contrário, o agente executará o comportamento normal de pesquisa.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `override_hostname`
          </td>

          <td>
            `NRIA_OVERRIDE_HOSTNAME`
          </td>

          <td>
            corda
          </td>

          <td />

          <td>
            1.0.1015
          </td>
        </tr>
      </tbody>
    </table>

    Exemplo:

    ```
    my.custom-hostname.co.org
    ```
  </Collapser>

  <Collapser className="freq-link" id="override-hostname-short" title="override_hostname_short">
    Quando definido, este é o valor que será relatado para o nome do host; caso contrário, o agente executará o comportamento normal de pesquisa.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `override_hostname_short`
          </td>

          <td>
            `NRIA_OVERRIDE_HOSTNAME_SHORT`
          </td>

          <td>
            corda
          </td>

          <td />

          <td>
            1.0.1015
          </td>
        </tr>
      </tbody>
    </table>

    Exemplo:

    ```
    my.custom-hostname
    ```
  </Collapser>
</CollapserGroup>

## Variáveis de instalação [#installation-variables]

<CollapserGroup>
  <Collapser className="freq-link" id="agent-dir" title="agent_dir">
    Diretório onde o agente armazena arquivos para cache, inventário, integração, etc.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `agent_dir`
          </td>

          <td>
            `NRIA_AGENT_DIR`
          </td>

          <td>
            corda
          </td>

          <td>
            Linux: `/var/db/newrelic-infra`

            Windows: `C:\Program Files\NewRelic\newrelic-infra\`
          </td>

          <td>
            1.0.2
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="plugin-dir" title="plugin_dir">
    Diretório contendo os arquivos de configuração da integração.

    Cada integração tem seu próprio arquivo de configuração, denominado por padrão `<integration_name>-config.yml`, colocado em um local predefinido a partir do qual o agente é carregado na inicialização.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `plugin_dir`
          </td>

          <td>
            `NRIA_PLUGIN_DIR`
          </td>

          <td>
            corda
          </td>

          <td>
            Linux: `etc/newrelic-infra/integrations.d/`

            Windows: `\Program Files\NewRelic\newrelic-infra\integrations.d`
          </td>

          <td>
            1.0.2
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="custom-plugin-installation-dir" title="custom_plugin_installation_dir">
    Especifica um caminho personalizado para instalação de integração, que permite instalá-los fora do `agent_dir`. Tem prioridade quando o agente busca integração instalada.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `custom_plugin_installation_dir`
          </td>

          <td>
            `NRIA_CUSTOM_PLUGIN_INSTALLATION_DIR`
          </td>

          <td>
            corda
          </td>

          <td>
            Vazio
          </td>

          <td>
            1.0.2
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Variáveis de integração

<CollapserGroup>
  <Collapser className="freq-link" id="passthrough_-environment" title="passthrough_environment">
    Uma lista de variáveis de ambiente que serão passadas para toda integração. Se uma integração já tiver uma opção de configuração com o mesmo nome, a variável de ambiente terá precedência.

    A partir do agente de infraestrutura 1.24.1 `passthrough_environment` oferece suporte a regex para nomes de variáveis.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `passthrough_environment`
          </td>

          <td>
            `NRIA_PASSTHROUGH_ENVIRONMENT`
          </td>

          <td>
            \[]corda
          </td>

          <td>
            Vazio
          </td>

          <td>
            [1.0.719](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10719)
          </td>
        </tr>
      </tbody>
    </table>

    Exemplo como atributo YAML (dentro do arquivo de configuração do agente, localizado por padrão em `/etc/newrelic-infra.yml`):

    ```yml
    passthrough_environment:
      - HOST
      - PORT
      - NRIA_.*
    ```

    Exemplo como variável de ambiente:

    ```ini
    NRIA_PASSTHROUGH_ENVIRONMENT="HOST,PORT,NRIA_.*"
    ```

    Para hosts Windows: `PATHEXT` é uma variável de ambiente do MS Windows. A função é determinar quais extensões de arquivo marcam os arquivos executáveis em cada linha de comando. Isso resolverá quaisquer erros reportando &quot;... não é reconhecido como o nome de um cmdlet, função, arquivo de script...&quot; para integração Flex comum:

    ```yml
    passthrough_environment:
      - PATHEXT
    ```
  </Collapser>

  <Collapser className="freq-link" id="entityname-integrations-v2-update" title="entityname_integrations_v2_update">
    O agente permite a substituição do endereço de loopback no nome da entidade (e, portanto, na chave) automaticamente para a versão 3 do protocolo de integração. Se você estiver usando a versão 2 do protocolo e desejar esse comportamento, ative a opção `entityname_integrations_v2_update` .

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `entityname_integrations_v2_update`
          </td>

          <td>
            `NRIA_ENTITYNAME_INTEGRATIONS_V2_UPDATE`
          </td>

          <td>
            boleano
          </td>

          <td>
            `false`
          </td>

          <td>
            1.2.15
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="http-server-enabled" title="http_server_enabled">
    Ao definir este parâmetro de configuração como `true` , o agente abrirá uma porta HTTP (por padrão, `8001`) para receber dados do backend New Relic StatsD.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `http_server_enabled`
          </td>

          <td>
            `NRIA_HTTP_SERVER_ENABLED`
          </td>

          <td>
            boleano
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.0.818](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10818)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="http-server-host" title="http_server_host">
    Ao definir esse valor, o agente começará a escutar no `HTTPServerPort` para receber dados do backend do New Relic StatsD .

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `http_server_host`
          </td>

          <td>
            `NRIA_HTTP_SERVER_HOST`
          </td>

          <td>
            corda
          </td>

          <td>
            `localhost`
          </td>

          <td>
            [1.0.818](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10818)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="http-server-port" title="http_server_port">
    Define a porta para o servidor http receber dados do backend New Relic StatsD.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `http_server_port`
          </td>

          <td>
            `NRIA_HTTP_SERVER_PORT`
          </td>

          <td>
            inteiro
          </td>

          <td>
            `8001`
          </td>

          <td>
            [1.0.818](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10818)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="remove-entities-period" title="remove_entities_period">
    Inicia o processo de exclusão da entidade que não reportou informações neste intervalo.

    Unidades de tempo válidas: `s` (segundos), `m` (minutos) e `h` (hora).

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `remove_entities_period`
          </td>

          <td>
            `NRIA_REMOVE_ENTITIES_PERIOD`
          </td>

          <td>
            corda
          </td>

          <td>
            `48h`
          </td>

          <td>
            [1.0.859](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10859)
          </td>
        </tr>
      </tbody>
    </table>

    Exemplo:

    ```
    1h
    ```
  </Collapser>

  <Collapser className="freq-link" id="event_queue_depth" title="event_queue_depth">
    Se você tiver um grande número de processos no host ou um grande volume de dados coletados em sua integração, a fila do agente poderá ultrapassar o limite. Aumente a profundidade da fila para evitar mensagens de erro resultantes de filas cheias.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `event_queue_depth`
          </td>

          <td>
            `NRIA_EVENT_QUEUE_DEPTH`
          </td>

          <td>
            int64
          </td>

          <td>
            `1000`
          </td>

          <td>
            [1.12.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1120/)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="default_integrations_temp_dir" title="default_integrations_temp_dir">
    Define o diretório temporário usado como armazenamento persistente para sincronização do integração SDK.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `default_integrations_temp_dir`
          </td>

          <td>
            `NRIA_DEFAULT_INTEGRATIONS_TEMP_DIR`
          </td>

          <td>
            corda
          </td>

          <td>
            `/tmp/nr-integrations`
          </td>

          <td>
            [1,50,0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1500/)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="is_integrations_only" title="is_integrations_only">
    Use esta configuração se você estiver instrumentando o host de uma fonte diferente do agente de infraestrutura (por exemplo, um coletor OpenTelemetry ou exportador de nós Prometheus) e quiser continuar usando o agente de infraestrutura integrado no host para monitor outros serviços de infraestrutura. Quando habilitado, o agente reporta inventário de host e integração telemétrica (evento métrico e inventário) decorado com metadados de host, mas métricas de host (CPU, memória, disco, rede, processos) ficam desabilitadas.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `is_integrations_only`
          </td>

          <td>
            `NRIA_IS_INTEGRATIONS_ONLY`
          </td>

          <td>
            boleano
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.53.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1530/)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Variáveis de inventário

<CollapserGroup>
  <Collapser className="freq-link" id="offline-time-to-reset" title="offline_time_to_reset">
    Se o inventário em cache se tornar mais antigo que esse valor (por exemplo, porque o agente está offline), o agente removerá e recriará automaticamente o armazenamento delta.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `offline_time_to_reset`
          </td>

          <td>
            `NRIA_OFFLINE_TIME_TO_RESET`
          </td>

          <td>
            corda
          </td>

          <td>
            `24h`
          </td>

          <td>
            [1.0.888](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10888)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="enable-async-inventory" title="enable_async_inventory">
    Quando definido como verdadeiro, habilita o processamento assíncrono do estoque, permitindo que maiores cargas de estoque sejam processadas.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `async_inventory_handler_enabled`
          </td>

          <td>
            `NRIA_ASYNC_INVENTORY_HANDLER_ENABLED`
          </td>

          <td>
            bool
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.40.1](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1401)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="ignored-inventory" title="ignored_inventory">
    A lista de caminhos de inventário ignorados pelo agente.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `ignored_inventory`
          </td>

          <td>
            `NRIA_IGNORED_INVENTORY`
          </td>

          <td>
            string\[]
          </td>

          <td>
            Lista vazia
          </td>

          <td>
            [1.0.336](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10336)
          </td>
        </tr>
      </tbody>
    </table>

    Exemplo como um atributo YAML:

    ```yml
    ignored_inventory:
      - files/config/stuff.bar
      - files/config/stuff.foo
    ```

    Exemplo como variável de ambiente:

    ```ini
    NRIA_IGNORED_INVENTORY="files/config/stuff.bar,files/config/stuff.foo"
    ```
  </Collapser>
</CollapserGroup>

## Variáveis Linux [#linux-variables]

<CollapserGroup>
  <Collapser className="freq-link" id="pid-file" title="pid_file">
    Local no Linux onde o arquivo `pid` do processo do agente é criado. Ele é usado na inicialização para garantir que nenhuma outra instância do agente esteja em execução.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `pid_file`
          </td>

          <td>
            `NRIA_PID_FILE`
          </td>

          <td>
            corda
          </td>

          <td>
            `/var/run/newrelic-infra/newrelic-infra.pid`
          </td>

          <td>
            1.0.2
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="ignore-reclaimable" title="ignore_reclaimable">
    Quando verdadeiro, a formulação da memória virtual do host considera `SReclaimable` como memória disponível; caso contrário `SReclaimable` será considerado parte da memória usada.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `ignore_reclaimable`
          </td>

          <td>
            `NRIA_IGNORE_RECLAIMABLE`
          </td>

          <td>
            boleano
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.2.6](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-125)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Variáveis de registro

<CollapserGroup>
  <Collapser className="freq-link" id="log" title="log">
    Log é um mapa de valor principal usado para configurar o agente do agente de infraestrutura. Exemplo como um atributo YAML:

    ```yml
    log:
      file: '/var/log/newrelic-infra/newrelic-infra.log'
      level: debug
      forward: true
      stdout: false
    ```

    Exemplo como variável de ambiente:

    ```ini
    NRIA_LOG_FILE='/var/log/newrelic-infra/newrelic-infra.log'
    NRIA_LOG_LEVEL='smart'
    NRIA_LOG_FORWARD='false'
    NRIA_LOG_STDOUT='true'
    ```

    <CollapserGroup>
      <Collapser className="freq-link" id="file" title="arquivo">
        Define o caminho do arquivo para o log.

        A instalação padrão cria um diretório de log e define esse valor de caminho de arquivo na opção de configuração `file` para você. Este diretório de log é diferente para cada sistema operacional, conforme mostrado abaixo.

        Altere esta opção de configuração para customizar o caminho do arquivo para o log.

        <table>
          <thead>
            <tr>
              <th style={{ width: "200px" }}>
                Nome da opção YML
              </th>

              <th style={{ width: "200px" }}>
                Variável de ambiente
              </th>

              <th>
                Tipo
              </th>

              <th>
                Padrão
              </th>

              <th>
                Versão
              </th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
                `file`
              </td>

              <td>
                `NRIA_LOG_FILE`
              </td>

              <td>
                corda
              </td>

              <td>
                Veja abaixo\*
              </td>

              <td />
            </tr>
          </tbody>
        </table>

        Caminhos padrão:

        * Linux: Se não for definido, registra apenas na saída padrão.

        * Windows, versão do agente 1.0.944 ou superior:

          ```
          C:\%ProgramData%\New Relic\newrelic-infra\newrelic-infra.log
          ```

          Se o diretório não puder ser criado:

          ```
          C:\Program Files\New Relic\newrelic-infra\newrelic-infra.log
          ```
      </Collapser>

      <Collapser className="freq-link" id="level" title="nível">
        Define o nível de log. Valores disponíveis:

        * `info`: Exibe mensagem do log de erro de nível, aviso e informações.

        * `smart`: ativa o [modo detalhado inteligente](/docs/infrastructure/infrastructure-troubleshooting/troubleshoot-logs/infrastructure-agent-logging-behavior/#smart-verbose-mode). O modo detalhado inteligente registra as últimas `smart_level_entry_limit` mensagens de depuração quando um erro é registrado.

        * `debug`: Exibe mensagem do log de erro de nível, warning, info e debug.

        * `trace`: Todas as mensagens do log serão mostradas.

          <Callout variant="important">
            O registro em nível de trace pode gerar muitos dados muito rapidamente. Execute o agente no modo de trace apenas pelo tempo necessário para reproduzir o problema e, em seguida, defina `level: info` e [reinicie o agente](/docs/infrastructure/new-relic-infrastructure/configuration/start-stop-restart-check-infrastructure-agent-status) para desativar o registro detalhado. Como alternativa, você pode definir `level`: `smart`, que ativará o modo detalhado inteligente.
          </Callout>

          <table>
            <thead>
              <tr>
                <th style={{ width: "200px" }}>
                  Nome da opção YML
                </th>

                <th style={{ width: "200px" }}>
                  Variável de ambiente
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Padrão
                </th>

                <th>
                  Versão
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  `level`
                </td>

                <td>
                  `NRIA_LOG_LEVEL`
                </td>

                <td>
                  corda
                </td>

                <td>
                  Não configurado
                </td>

                <td />
              </tr>
            </tbody>
          </table>
      </Collapser>

      <Collapser className="freq-link" id="log-format" title="format">
        Define o formato de saída do log. Valores disponíveis:

        * `text`: saída de texto simples, uma linha por entrada de log.

        * `json`: saída formatada em JSON, uma linha por entrada de log.

          <table>
            <thead>
              <tr>
                <th style={{ width: "200px" }}>
                  Nome da opção YML
                </th>

                <th style={{ width: "200px" }}>
                  Variável de ambiente
                </th>

                <th>
                  Tipo
                </th>

                <th>
                  Padrão
                </th>

                <th>
                  Versão
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  `format`
                </td>

                <td>
                  `NRIA_LOG_FORMAT`
                </td>

                <td>
                  corda
                </td>

                <td>
                  `text`
                </td>

                <td>
                  [1.4.9](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-149)
                </td>
              </tr>
            </tbody>
          </table>
      </Collapser>

      <Collapser className="freq-link" id="forward" title="avançar">
        Permite encaminhar o log do agente para nossa interface de log. Para desativá-lo, defina esta opção de configuração como `false`.

        <table>
          <thead>
            <tr>
              <th style={{ width: "200px" }}>
                Nome da opção YML
              </th>

              <th style={{ width: "200px" }}>
                Variável de ambiente
              </th>

              <th>
                Tipo
              </th>

              <th>
                Padrão
              </th>

              <th>
                Versão
              </th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
                `forward`
              </td>

              <td>
                `NRIA_LOG_FORWARD`
              </td>

              <td>
                boleano
              </td>

              <td>
                `false`
              </td>

              <td>
                [1.0.703](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10703)
              </td>
            </tr>
          </tbody>
        </table>
      </Collapser>

      <Collapser className="freq-link" id="stdout" title="stdout">
        Por padrão, todos os logs são exibidos na saída padrão e em um arquivo de log. Para desativar o log na saída padrão, defina esta opção de configuração como `false`.

        <table>
          <thead>
            <tr>
              <th style={{ width: "200px" }}>
                Nome da opção YML
              </th>

              <th style={{ width: "200px" }}>
                Variável de ambiente
              </th>

              <th>
                Tipo
              </th>

              <th>
                Padrão
              </th>

              <th>
                Versão
              </th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
                `stdout`
              </td>

              <td>
                `NRIA_LOG_STDOUT`
              </td>

              <td>
                boleano
              </td>

              <td>
                `true`
              </td>

              <td>
                [1.0.703](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10703)
              </td>
            </tr>
          </tbody>
        </table>
      </Collapser>

      <Collapser className="freq-link" id="smart_level_entry_limit" title="smart_level_entry_limit">
        `smart_level_entry_limit` refere-se ao número de mensagens de depuração anteriores que serão registradas quando um erro for registrado. Por exemplo, se o limite for definido como `5`, o log de depuração será armazenado em cache na memória até que um erro seja registrado, momento em que as 5 mensagens de depuração anteriores também serão registradas.

        <Callout variant="important">
          Esta opção de configuração é usada somente quando `level` está definido como `smart` (Smart Level ativado).
        </Callout>

        <table>
          <thead>
            <tr>
              <th style={{ width: "200px" }}>
                Nome da opção YML
              </th>

              <th style={{ width: "200px" }}>
                Variável de ambiente
              </th>

              <th>
                Tipo
              </th>

              <th>
                Padrão
              </th>

              <th>
                Versão
              </th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
                `smart_level_entry_limit`
              </td>

              <td>
                `NRIA_SMART_LEVEL_ENTRY_LIMIT`
              </td>

              <td>
                inteiro
              </td>

              <td>
                `1000`
              </td>

              <td>
                [1.9.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-190)
              </td>
            </tr>
          </tbody>
        </table>
      </Collapser>

      <Collapser className="freq-link" id="rotate" title="girar">
        A partir da versão [v1.28.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes) , você pode usar o recurso integrado de rotação de log. Por padrão, a rotação de log está desabilitada. Para ativá-lo, você deve especificar o tamanho máximo do arquivo de log com a opção `max_size_mb` . Quando o arquivo de log do agente de infraestrutura atingir esse tamanho, o arquivo de log atual será rotacionado para um novo arquivo.

        ```yml
        log:
          level: info
          file: /var/log/newrelic-infra/newrelic-infra.log
          rotate:
            max_size_mb: 1000                        # Required
            max_files: 5                             # Optional
            compression_enabled: true                # Optional
            file_pattern: YYYY-MM-DD_hh-mm-ss.log    # Optional
        ```

        <CollapserGroup>
          <Collapser className="rotate-max_size_mb" id="rotate-max_size_mb" title="max_size_mb">
            `max_size_mb` especifica o tamanho máximo em MegaBytes do arquivo de log do agente de infraestrutura. Quando o arquivo atingir esse tamanho, o log atual será rotacionado para um novo arquivo. Quando `max_size_mb` é `0`, a rotação de log integrada é desativada.

            <table>
              <thead>
                <tr>
                  <th style={{ width: "200px" }}>
                    Nome da opção YML
                  </th>

                  <th style={{ width: "200px" }}>
                    Variável de ambiente
                  </th>

                  <th>
                    Tipo
                  </th>

                  <th>
                    Padrão
                  </th>

                  <th>
                    Versão
                  </th>
                </tr>
              </thead>

              <tbody>
                <tr>
                  <td>
                    `max_size_mb`
                  </td>

                  <td>
                    `NRIA_LOG_ROTATE_MAX_SIZE_MB`
                  </td>

                  <td>
                    inteiro
                  </td>

                  <td>
                    `0` - Desabilitado
                  </td>

                  <td />
                </tr>
              </tbody>
            </table>
          </Collapser>

          <Collapser className="rotate-max_files" id="rotate-max_files" title="max_files">
            `max_files` define quantos arquivos de log arquivados serão mantidos. Quando esse valor for excedido, os arquivos mais antigos serão removidos. Quando `max_files` é `0` o limite para o número de arquivos é desativado.

            <table>
              <thead>
                <tr>
                  <th style={{ width: "200px" }}>
                    Nome da opção YML
                  </th>

                  <th style={{ width: "200px" }}>
                    Variável de ambiente
                  </th>

                  <th>
                    Tipo
                  </th>

                  <th>
                    Padrão
                  </th>

                  <th>
                    Versão
                  </th>
                </tr>
              </thead>

              <tbody>
                <tr>
                  <td>
                    `max_files`
                  </td>

                  <td>
                    `NRIA_LOG_ROTATE_MAX_FILES`
                  </td>

                  <td>
                    inteiro
                  </td>

                  <td>
                    `0`
                  </td>

                  <td />
                </tr>
              </tbody>
            </table>
          </Collapser>

          <Collapser className="rotate-compression_enabled" id="rotate-compression_enabled" title="compression_enabled">
            Você pode ativar a compactação do arquivo de log definindo `compression_enabled` como `true`. Se a compactação estiver ativada, os arquivos girados terão um formato `gzip` e usarão menos espaço em disco.

            <Callout variant="important">
              Durante a rotação do log, se a compactação estiver ativada, o uso da CPU do agente poderá aumentar, especialmente quando o valor `max_size_mb` for maior que `1000`.
            </Callout>

            <table>
              <thead>
                <tr>
                  <th style={{ width: "200px" }}>
                    Nome da opção YML
                  </th>

                  <th style={{ width: "200px" }}>
                    Variável de ambiente
                  </th>

                  <th>
                    Tipo
                  </th>

                  <th>
                    Padrão
                  </th>

                  <th>
                    Versão
                  </th>
                </tr>
              </thead>

              <tbody>
                <tr>
                  <td>
                    `compression_enabled`
                  </td>

                  <td>
                    `NRIA_LOG_ROTATE_COMPRESSION_ENABLED`
                  </td>

                  <td>
                    boleano
                  </td>

                  <td>
                    `false`
                  </td>

                  <td />
                </tr>
              </tbody>
            </table>
          </Collapser>

          <Collapser className="rotate-file_pattern" id="rotate-file_pattern" title="file_pattern">
            `file_pattern` especifica o formato do nome do arquivo de log arquivado. Por padrão, o novo nome de arquivo usará o seguinte padrão de nome: `original-file_YYYY-MM-DD_hh-mm-ss.log`.

            Você pode personalizar o padrão de nome de arquivo com os seguintes campos de timestamp :

            * `YYYY`: Ano

            * `MM`: Mês

            * `DD`: Dia

            * `hh`: Hora

            * `mm`: Minuto

            * `ss`: Segundo

              O agente substituirá automaticamente esses campos timestamp pela hora da rotação do arquivo. Por exemplo:

              ```yml
              log:
                level: info
                file: /var/log/newrelic-infra/newrelic-infra.log
                rotate:
                  max_size_mb: 1000
                  file_pattern: rotated.YYYY-MM-DD_hh-mm-ss.log
              ```

              <table>
                <thead>
                  <tr>
                    <th style={{ width: "200px" }}>
                      Nome da opção YML
                    </th>

                    <th style={{ width: "200px" }}>
                      Variável de ambiente
                    </th>

                    <th>
                      Tipo
                    </th>

                    <th>
                      Padrão
                    </th>

                    <th>
                      Versão
                    </th>
                  </tr>
                </thead>

                <tbody>
                  <tr>
                    <td>
                      `file_pattern`
                    </td>

                    <td>
                      `NRIA_LOG_ROTATE_FILE_PATTERN`
                    </td>

                    <td>
                      corda
                    </td>

                    <td>
                      `file_YYYY-MM-DD_hh-mm-ss.file_extension`
                    </td>

                    <td />
                  </tr>
                </tbody>
              </table>
          </Collapser>
        </CollapserGroup>
      </Collapser>
    </CollapserGroup>
  </Collapser>
</CollapserGroup>

<Callout variant="tip">
  O agente de infraestrutura versão 1.28.0 introduziu melhorias de compatibilidade retroativa na configuração de log. Consulte nossa [documentação no github](https://github.com/newrelic/infrastructure-agent/blob/master/docs/log_configuration.md) para entender as configurações do legado e como mapeá-las para a nova estrutura.
</Callout>

## Variáveis métricas [#metrics]

<CollapserGroup>
  <Collapser className="freq-link" id="custom-attributes" title="custom_attributes">
    Atributo personalizado são pares de valores principais (semelhantes aos tags de outras ferramentas) utilizados para anotar os dados do agente de infraestrutura. Você pode usar esses metadados para filtrar sua entidade, [agrupar seus resultados](/docs/infrastructure-group-results-specific-attributes) e anotar seus dados. Por exemplo, você pode indicar o ambiente de uma máquina (preparação ou produção), o serviço que uma máquina hospeda (serviço de login, por exemplo) ou a equipe responsável por essa máquina.

    <Callout variant="tip">
      O agente coleta muitos detalhes sobre seu ambiente como parte de seu [atributo padrão](/docs/default-infrastructure-events-attributes), incluindo [a tag Amazon Elastic computar Cloud (Amazon EC2)](/docs/default-infrastructure-events-attributes#aws-ec2-attributes).
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "250px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "250px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `custom_attributes`
          </td>

          <td>
            `NRIA_CUSTOM_ATTRIBUTES`
          </td>

          <td>
            map\[string]interface\{}
          </td>
        </tr>
      </tbody>
    </table>

    Utilize uma lista de atributos personalizados para anotar os dados desta instância do agente. Separe chaves e valores com dois pontos `:`, como em `KEY: VALUE`, e separe cada par valor principal com uma quebra de linha. As chaves podem ser qualquer YAML válido, exceto barras `/`. Os valores podem ser qualquer string YAML, incluindo espaços. Iniciar a chave com `label.` garantirá que ela permaneça como está, mesmo que esse host possa ser executado em diferentes ambientes de nuvem, onde a tag de nuvem ou os rótulos de nuvem podem interagir com ele na decoração combinada da tag. Por outro lado, `custom_labels` pode ser prefixado com `gcp.` ou `azure.` ao ser executado nesses ambientes e ao combinar dados do agente de infraestrutura com o monitoramento de nuvem.

    Exemplo como um atributo YAML:

    ```yml
    custom_attributes:
      label.environment: production
      label.service: login service
      label.team: alpha-team
    ```

    Exemplo como variável de ambiente:

    ```ini
    NRIA_CUSTOM_ATTRIBUTES='{"label.customAttribute_1":"SOME_ATTRIBUTE","label.customAttribute_2": "SOME_ATTRIBUTE_2"}'
    ```

    Exemplo de filtragem de NRQL por atributo personalizado:

    ```sql
    FROM SystemSample SELECT * WHERE label.environment = 'production'
    ```
  </Collapser>

  <Collapser className="freq-link" id="enable-process-metrics" title="enable_process_metrics">
    <Callout variant="important">
      Requer o agente de infraestrutura versão 1.12.0 ou superior. Contas criadas antes de 20 de julho de 2020 e/ou agente de infraestrutura instalado usando a nova instalação guiada têm esta variável habilitada por padrão.
    </Callout>

    Possibilita o envio de [métricas de processo](/attribute-dictionary/?event=ProcessSample) para New Relic.

    Por padrão, o agente de infraestrutura não envia dados sobre os processos do sistema operacional. O agente ainda coleta esses dados, a menos que `metrics_process_sample_rate` esteja definido como `-1`.

    Para reportar dados métricos sobre todos os processos do sistema operacional, defina `enable_process_metrics` como `true`. Para desativar, defina como `false`.

    O envio de todos os dados do processo pode aumentar o volume de dados enviados ao New Relic. Para ajustar quais processos você deseja monitor, configure [`include_matching_metrics`](#include-matching-metrics) ou [`exclude_matching_metrics`](#exclude-matching-metrics).

    Por padrão, os processos que usam pouca memória são excluídos da amostragem. Para obter mais informações, consulte [desativar-zero-mem-process-filter](/docs/infrastructure/install-infrastructure-agent/configuration/infrastructure-agent-configuration-settings#disable-zero-mem-process-filter).

    <table>
      <thead>
        <tr>
          <th style={{ width: "245px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "295px" }}>
            Variável de ambiente
          </th>

          <th style={{ width: "78px" }}>
            Tipo
          </th>

          <th style={{ width: "80px" }}>
            Padrão
          </th>

          <th style={{ width: "80px" }}>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `enable_process_metrics`
          </td>

          <td>
            `NRIA_ENABLE_PROCESS_METRICS`
          </td>

          <td>
            boleano
          </td>

          <td>
            `false`
          </td>

          <td />
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="process-container-decoration" title="process_container_decoration">
    Quando ativado, o agente decora amostras de processo com informações de contêiner se o processo for executado em um contêiner.

    Essas informações incluem o ID do contêiner, o nome do contêiner, o ID da imagem, o nome da imagem e os rótulos do contêiner.

    <table>
      <thead>
        <tr>
          <th style={{ width: "245px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "295px" }}>
            Variável de ambiente
          </th>

          <th style={{ width: "78px" }}>
            Tipo
          </th>

          <th style={{ width: "80px" }}>
            Padrão
          </th>

          <th style={{ width: "80px" }}>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `process_container_decoration`
          </td>

          <td>
            `NRIA_PROCESS_CONTAINER_DECORATION`
          </td>

          <td>
            boleano
          </td>

          <td>
            `true`
          </td>

          <td>
            1.55.0
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="include-matching-metrics" title="include_matching_metrics">
    <Callout variant="important">
      Atualmente, esta configuração se aplica apenas à métrica de processos de um sistema operacional.
    </Callout>

    Você pode controlar a quantidade de dados enviados para o New Relic configurando `include_matching_metrics`, que permite restringir a transmissão de dados métricos com base nos valores de métrica [atributo](/docs/query-your-data/nrql-new-relic-query-language/nrql-query-tutorials/query-infrastructure-dimensional-metrics-nrql#naming-conventions).

    Você inclui dados de métrica definindo valores literais ou parciais para qualquer atributo da métrica. Por exemplo, você pode optar por enviar o `host.process.cpuPercent` de todos os processos cujo `process.name` corresponde à [expressão regular](https://github.com/google/re2/wiki/Syntax) `^java` .

    Neste exemplo, incluímos métricas de processo usando nomes e arquivos executáveis:

    ```yml
    include_matching_metrics:          # You can combine attributes from different metrics
      process.name:
        - regex "^java"                # Include all processes starting with "java"
      process.executable:
        - "/usr/bin/python2"           # Include the Python 2.x executable
        - regex "\\System32\\svchost"  # Include all svchost executables
    ```

    Se você precisar incluir argumentos de linha de comando em qualquer um dos valores, defina [`strip_command_line`](#strip-command-line) como false (o agente de infraestrutura remove argumentos CLI por padrão para evitar vazamento de segredos).

    Se `include_matching_metrics` e `exclude_matching_metrics` estiverem presentes para o mesmo item, a inclusão terá precedência.

    Para configurar `include_matching_metrics` como uma variável de ambiente para a [integração do Kubernetes](/docs/integrations/kubernetes-integration), adicione-a no manifesto dentro do objeto `env:` :

    ```yml
    env:
      - name: NRIA_INCLUDE_MATCHING_METRICS
        value: |
          process.name:
            - regex "^java"
          process.executable:
            - "/usr/bin/python2"
            - regex "\\System32\\svchost"
    ```

    Padrão

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `include_matching_metrics`
          </td>

          <td>
            `NRIA_INCLUDE_MATCHING_METRICS`
          </td>

          <td>
            metric.attribute:

            \- regex &quot;padrão&quot;

            \- &quot;corda&quot;

            \- &quot;string com curinga\*&quot;
          </td>

          <td />

          <td />
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="exclude-matching-metrics" title="excluir_métricas_correspondentes">
    <Callout variant="important">
      Atualmente, esta configuração se aplica apenas à métrica de processos de um sistema operacional.
    </Callout>

    Você pode controlar a quantidade de dados enviados ao New Relic configurando `exclude_matching_metrics`, o que permite restringir a transmissão de dados métricos com base nos valores do [atributo](/docs/nrql/using-nrql/query-infrastructure-dimensional-metrics-nrql/#naming-conventions) métrica.

    Você exclui dados métricos definindo valores literais ou parciais para qualquer um dos atributos da métrica. Por exemplo, você pode escolher não enviar o `host.process.cpuPercent` de todos os processos cujo `process.name` corresponde à [expressão regular](https://github.com/google/re2/wiki/Syntax) `^java` .

    Neste exemplo, excluímos o processo métrica usando arquivos executáveis e nomes:

    ```yml
    exclude_matching_metrics:          # You can combine attributes from different metrics
      process.name:
        - regex "^java"                # Exclude all processes starting with "java"
      process.executable:
        - "/usr/bin/python2"           # Exclude the Python 2.x executable
        - regex "\\System32\\svchost"  # Exclude all svchost executables
    ```

    Para configurar `exclude_matching_metrics` como uma variável de ambiente para a [integração do Kubernetes](/docs/kubernetes-pixie/kubernetes-integration/get-started/introduction-kubernetes-integration/), adicione-a no manifesto dentro do objeto `env:` :

    ```yml
    env:
      - name: NRIA_EXCLUDE_MATCHING_METRICS
        value: |
          process.name:
            - regex "^java"
          process.executable:
            - "/usr/bin/python2"
            - regex "\\System32\\svchost"
    ```

    Padrão

    1.57.0

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `exclude_matching_metrics`
          </td>

          <td>
            `NRIA_EXCLUDE_MATCHING_METRICS`
          </td>

          <td>
            metric.attribute:

            \- regex &quot;padrão&quot;

            \- &quot;corda&quot;

            \- &quot;string com curinga\*&quot;
          </td>

          <td />

          <td />
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="network-interface-filters" title="network_interface_filters">
    É possível usar a configuração de filtros de interface de rede para ocultar interfaces de rede não utilizadas ou desinteressantes do agente de infraestrutura. Isso ajuda a reduzir o uso de recursos, o trabalho e o ruído em seus dados.

    <Callout variant="important">
      Variáveis de ambiente não são suportadas para esta definição de configuração.
    </Callout>

    A configuração usa um mecanismo simples de correspondência de padrões que pode procurar interfaces que começam com uma sequência específica de letras ou números seguindo qualquer um dos padrões:

    * `{name}[other characters]`, onde você especifica o nome usando a opção `prefix`

    * `[number]{name}[other characters]`, onde você especifica o nome usando a opção `index-1`

      New Relic Infrastructure implementa uma lista padrão selecionada de filtros, disponível para [Linux](#filters-linux) e [Windows](#filters-windows), que você pode modificar.

      <table>
        <thead>
          <tr>
            <th style={{ width: "200px" }}>
              Nome da opção YML
            </th>

            <th style={{ width: "200px" }}>
              Variável de ambiente
            </th>

            <th>
              Tipo
            </th>

            <th>
              Padrão
            </th>

            <th>
              Versão
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `network_interface_filters`
            </td>

            <td>
              não suportado
            </td>

            <td>
              map\[string]\[]string
            </td>

            <td />

            <td>
              1.0.220
            </td>
          </tr>
        </tbody>
      </table>

      <CollapserGroup>
        <Collapser className="freq-link" id="filters-linux" title="Linux">
          Filtros de interface de rede padrão para Linux:

          * Interfaces de rede que começam com `dummy`, `lo`, `vmnet`, `sit`, `tun`, `tap` ou `veth`

          * Interfaces de rede que contêm `tun` ou `tap`

            O exemplo a seguir (adicionado ao seu arquivo de configuração) substitui os filtros padrão. Isso ignorará interfaces de rede que começam com `dummy` ou `lo` ou contêm `tun` precedido por uma sequência de números e seguido por outros caracteres:

            ```yml
            network_interface_filters:
              prefix:
                - dummy
                - lo
              index-1:
                - tun
            ```
        </Collapser>

        <Collapser className="freq-link" id="filters-windows" title="Windows">
          Filtros de interface de rede padrão para Windows:

          * Interfaces de rede que começam com `Loop`, `isatap` ou `Local`

            O exemplo a seguir (adicionado ao seu arquivo de configuração) substitui os filtros padrão. Isso ignorará as interfaces de rede que começam com `Loop`:

            ```yml
            network_interface_filters:
              prefix:
                - Loop
            ```
        </Collapser>
      </CollapserGroup>
  </Collapser>

  <Collapser className="freq-link" id="disable-zero-mem-process-filter" title="disable_zero_mem_process_filter">
    O `ZeroRSSFilter` exclui da amostragem processos que não usam memória. Desative o filtro para que o agente inclua esses processos no `ProcessSample`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `disable_zero_mem_process_filter`
          </td>

          <td>
            `NRIA_DISABLE_ZERO_MEM_PROCESS_FILTER`
          </td>

          <td>
            boleano
          </td>

          <td>
            `false`
          </td>

          <td>
            1.0.832
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Variáveis de plug-in

<Callout variant="tip">
  Você pode desativar rapidamente todas as variáveis definindo [`DisableAllPlugins`](#disable-all-plugins) como `true` e ativar apenas as opções necessárias.
</Callout>

<CollapserGroup>
  <Collapser className="freq-link" id="disable-all-plugins" title="disable_all_plugins">
    Para desativar todos os plug-ins, defina esta opção como `true`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `disable_all_plugins`
          </td>

          <td>
            `NRIA_DISABLE_ALL_PLUGINS`
          </td>

          <td>
            boleano
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.2.1](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-121)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="cloud-security-group-refresh-sec" title="cloud_security_group_refresh_sec">
    Período de amostragem para o plug-in `CloudSecurityGroups` , em segundos. O valor mínimo é `30`. Para desativá-lo, defina-o como `-1`.

    <Callout variant="important">
      Este plug-in será ativado somente se o agente estiver em execução em uma instância AWS.
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `cloud_security_group_refresh_sec`
          </td>

          <td>
            `NRIA_CLOUD_SECURITY_GROUP_REFRESH_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `60`
          </td>

          <td>
            [1.0.692](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10703)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="daemontools-interval-sec" title="daemontools_interval_sec">
    Período de amostragem para o plug-in `Daemontools` , em segundos. O valor mínimo é `10`. Para desativá-lo, defina-o como `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `daemontools_interval_sec`
          </td>

          <td>
            `NRIA_DAEMONTOOLS_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `15`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="dpkg-interval-sec" title="dpkg_interval_sec">
    Período de amostragem para o plug-in `Dpkg` , em segundos. O valor mínimo é `30`. Para desativá-lo, defina-o como `-1`. Se o parâmetro não estiver definido explicitamente no arquivo de configuração, ele poderá ser desativado configurando [`DisableAllPlugins`](#disable-all-plugins) como `true`.

    <Callout variant="important">
      Isso só é ativado nos [modos de execução`root` ou `privileged` ](/docs/infrastructure/install-configure-infrastructure/linux-installation/linux-agent-running-modes)e em [distribuições baseadas em Debian](/docs/infrastructure/new-relic-infrastructure/installation/install-infrastructure-linux#debian-based-root).
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `dpkg_interval_sec`
          </td>

          <td>
            `NRIA_DPKG_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `30`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="facter-interval-sec" title="facter_interval_sec">
    Período de amostragem para o plug-in `Facter` , em segundos. O valor mínimo é `30`. Para desativá-lo, defina-o como `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `facter_interval_sec`
          </td>

          <td>
            `NRIA_FACTER_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `30`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="kernel-modules-refresh-sec" title="kernel_modules_refresh_sec">
    Período de amostragem para o plug-in `KernelModules` , em segundos. O valor mínimo é `10`. Para desativá-lo, defina-o como `-1`.

    <Callout variant="important">
      `kernel_modules_refresh_sec` só é ativado nos [modos de execução`root` ou `privileged` ](/docs/infrastructure/install-configure-infrastructure/linux-installation/linux-agent-running-modes).
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `kernel_modules_refresh_sec`
          </td>

          <td>
            `NRIA_KERNEL_MODULES_REFRESH_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `10`
          </td>

          <td>
            1.0.755
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="network-interface-interval-sec" title="network_interface_interval_sec">
    Período de amostragem para o plug-in `NetworkInterface` , em segundos. O valor mínimo é `30`. Para desativá-lo, defina-o como `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `network_interface_interval_sec`
          </td>

          <td>
            `NRIA_NETWORK_INTERFACE_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `60`
          </td>

          <td>
            1.0.329
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="rpm-interval-sec" title="rpm_interval_sec">
    Período de amostragem para o plug-in `Rpm` , em segundos. O valor mínimo é `30`. Para desativá-lo, defina-o como `-1`.

    <Callout variant="important">
      `rpm_interval_sec` só é ativado quando o agente é executado nos [modos raiz ou privilegiado](/docs/infrastructure/install-configure-infrastructure/linux-installation/linux-agent-running-modes) para distribuições RedHat, RedHat AWS ou SUSE.
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `rpm_interval_sec`
          </td>

          <td>
            `NRIA_RPM_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `30`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="selinux-interval-sec" title="selinux_interval_sec">
    Período de amostragem para o plug-in `SELinux` , em segundos. O valor mínimo é `30`. Para desativá-lo, defina-o como `-1`. Esta opção será ignorada se `SelinuxEnableSemodule` estiver definido como falso. Para obter mais informações, consulte nosso documento sobre resolução de problemas sobre [como desabilitar o módulo `SELinux` ](/docs/infrastructure/new-relic-infrastructure/troubleshooting/reduce-infrastructure-agents-cpu-footprint).

    <Callout variant="important">
      `SELinux` só é ativado quando o agente é executado em [modo root](/docs/infrastructure/install-configure-infrastructure/linux-installation/linux-agent-running-modes).
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `selinux_interval_sec`
          </td>

          <td>
            `NRIA_SELINUX_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `30`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="sshd-config-refresh-sec" title="sshd_config_refresh_sec">
    Período de amostragem para o plug-in `Sshd` , em segundos. O valor mínimo é `10`. Para desativá-lo, defina-o como `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `sshd_config_refresh_sec`
          </td>

          <td>
            `NRIA_SSHD_CONFIG_REFRESH_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `15`
          </td>

          <td>
            1.0.755
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="supervisor-interval-sec" title="supervisor_interval_sec">
    Período de amostragem para o plug-in `Supervisor` , em segundos. O valor mínimo é `10`. Para desativá-lo, defina-o como `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `supervisor_interval_sec`
          </td>

          <td>
            `NRIA_SUPERVISOR_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `15`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="sysctl-interval-sec" title="sysctl_interval_sec">
    Período de amostragem para o plug-in `Sysctl` , em segundos. O valor mínimo é `30`. Para desativá-lo, defina-o como `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `sysctl_interval_sec`
          </td>

          <td>
            `NRIA_SYSCTL_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `60`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="systemd-interval-sec" title="systemd_interval_sec">
    Período de amostragem para o plug-in `Systemd` , em segundos. O valor mínimo é `10`. Para desativá-lo, defina-o como `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `systemd_interval_sec`
          </td>

          <td>
            `NRIA_SYSTEMD_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `30`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="sysvinit-interval-sec" title="sysvinit_interval_sec">
    Período de amostragem para o plug-in `sysv` , em segundos. O valor mínimo é `10`. Para desativá-lo, defina-o como `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `sysvinit_interval_sec`
          </td>

          <td>
            `NRIA_SYSVINIT_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `30`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="upstart-interval-sec" title="upstart_interval_sec">
    Período de amostragem para o plug-in `Upstart` , em segundos. O valor mínimo é `10`. Para desativá-lo, defina-o como `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `upstart_interval_sec`
          </td>

          <td>
            `NRIA_UPSTART_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `30`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="users-refresh-sec" title="users_refresh_sec">
    Período de amostragem para o plug-in `Users` , em segundos. O valor mínimo é `10`. Para desativá-lo, defina-o como `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `users_refresh_sec`
          </td>

          <td>
            `NRIA_USERS_REFRESH_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `30`
          </td>

          <td>
            1.0.755
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="supervisor-rpc-sock" title="supervisor_rpc_sock">
    Localização do soquete [do supervisor](http://www.supervisord.org/) .

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `supervisor_rpc_sock`
          </td>

          <td>
            `NRIA_SUPERVISOR_RPC_SOCK`
          </td>

          <td>
            corda
          </td>

          <td>
            `/var/run/supervisor.sock`
          </td>

          <td>
            1.0.2
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="facter-home-dir" title="facter_home_dir">
    Define a variável de ambiente `HOME` para [Puppet&apos;s Facter](https://puppet.com/docs/puppet/latest/puppet_index.html). Se não for definido, o padrão é o diretório inicial do usuário atual.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `facter_home_dir`
          </td>

          <td>
            `NRIA_FACTER_HOME_DIR`
          </td>

          <td>
            corda
          </td>

          <td />

          <td>
            [1.1.7](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-117)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Variáveis proxy

Para o agente de infraestrutura versão 1.3.1 ou superior, a precedência das definições de configuração do proxy é:

* `NRIA_PROXY`
* `proxy`
* `HTTP_PROXY`
* `HTTPS_PROXY`

<CollapserGroup>
  <Collapser className="freq-link" id="proxy" title="procurador">
    Seu sistema pode ter regras de firewall que exigem que o agente use um proxy para se comunicar com a New Relic. Nesse caso, defina a URL do proxy no formato https\://user:password\@hostname:port. Pode ser HTTP ou HTTPS.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `proxy`
          </td>

          <td>
            `NRIA_PROXY`
          </td>

          <td>
            corda
          </td>

          <td>
            Vazio
          </td>

          <td>
            [1.0.308](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10308)
          </td>
        </tr>
      </tbody>
    </table>

    Exemplo:

    ```
    https://proxy_user:access_10@proxy_01:1080
    ```
  </Collapser>

  <Collapser className="freq-link" id="ignore-system-proxy" title="ignore_system_proxy">
    Quando definido como `true`, as variáveis de ambiente `HTTPS_PROXY` e `HTTP_PROXY` são ignoradas. Isto é útil quando o agente precisa se conectar diretamente ao coletor métrico e ignorar o proxy do sistema existente.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `ignore_system_proxy`
          </td>

          <td>
            `NRIA_IGNORE_SYSTEM_PROXY`
          </td>

          <td>
            boleano
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.0.1002](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-101002)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="ca-bundle-dir" title="ca_bundle_dir">
    Se a opção `HTTPS_PROXY` fizer referência a um proxy com certificados autoassinados, esta opção especificará o caminho para o diretório onde o certificado proxy está disponível. Os certificados no diretório devem terminar com a extensão `.pem` .

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `ca_bundle_dir`
          </td>

          <td>
            `NRIA_CA_BUNDLE_DIR`
          </td>

          <td>
            corda
          </td>

          <td />

          <td>
            [1.0.296](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10296)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="ca-bundle-file" title="ca_bundle_file">
    Se a opção `HTTPS_PROXY` fizer referência a um proxy com certificados autoassinados, esta opção especificará o caminho para o arquivo de certificado.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `ca_bundle_file`
          </td>

          <td>
            `NRIA_CA_BUNDLE_FILE`
          </td>

          <td>
            corda
          </td>

          <td />

          <td>
            [1.0.296](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10296)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="proxy-validate-certificates" title="proxy_validate_certificates">
    Se definido como `true`, quando o proxy estiver configurado para usar uma conexão HTTPS, ele funcionará apenas:

    * Se o proxy HTTPS tiver certificados de uma autoridade de certificação válida.

    * Se as propriedades de configuração `ca_bundle_file` ou `ca_bundle_dir` contiverem os certificados de proxy HTTPS.

      <table>
        <thead>
          <tr>
            <th style={{ width: "200px" }}>
              Nome da opção YML
            </th>

            <th style={{ width: "200px" }}>
              Variável de ambiente
            </th>

            <th>
              Tipo
            </th>

            <th>
              Padrão
            </th>

            <th>
              Versão
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `proxy_validate_certificates`
            </td>

            <td>
              `NRIA_PROXY_VALIDATE_CERTIFICATES`
            </td>

            <td>
              boleano
            </td>

            <td>
              `false`
            </td>

            <td>
              1.3.0
            </td>
          </tr>
        </tbody>
      </table>
  </Collapser>

  <Collapser className="freq-link" id="proxy-config-plugin" title="proxy_config_plugin">
    Envia as seguintes informações de configuração de proxy como inventário:

    * `HTTPS_PROXY`

    * `HTTP_PROXY`

    * `proxy ca_bundle_dir`

    * `ca_bundle_file`

    * `ignore_system_proxy`

    * `proxy_validate_certificates`

      <table>
        <thead>
          <tr>
            <th style={{ width: "200px" }}>
              Nome da opção YML
            </th>

            <th style={{ width: "200px" }}>
              Variável de ambiente
            </th>

            <th>
              Tipo
            </th>

            <th>
              Padrão
            </th>

            <th>
              Versão
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `proxy_config_plugin`
            </td>

            <td>
              `NRIA_PROXY_CONFIG_PLUGIN`
            </td>

            <td>
              boleano
            </td>

            <td>
              `true`
            </td>

            <td>
              1.3.0
            </td>
          </tr>
        </tbody>
      </table>
  </Collapser>
</CollapserGroup>

Se você estiver tendo problemas com a configuração do proxy, consulte [Resolução de problemas do proxy](/docs/infrastructure/new-relic-infrastructure/troubleshooting/https-proxy-configuration-missing).

## Variáveis de amostras

<CollapserGroup>
  <Collapser className="freq-link" id="metrics-network-sample-rate" title="metrics_network_sample_rate">
    Taxa de amostragem de amostras de rede, em segundos. O valor mínimo é `10`. Para desativá-lo, configure-o como `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `metrics_network_sample_rate`
          </td>

          <td>
            `NRIA_METRICS_NETWORK_SAMPLE_RATE`
          </td>

          <td>
            inteiro
          </td>

          <td>
            `10`
          </td>

          <td>
            [1.0.308](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10308)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="metrics-process-sample-rate" title="metrics_process_sample_rate">
    Taxa de amostragem de amostras de processo, em segundos. O valor mínimo é `20`. Para desativar totalmente as amostras de processo, configure `metrics_process_sample_rate` como `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `metrics_process_sample_rate`
          </td>

          <td>
            `NRIA_METRICS_PROCESS_SAMPLE_RATE`
          </td>

          <td>
            inteiro
          </td>

          <td>
            `20`
          </td>

          <td>
            [1.0.308](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10308)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="metrics-storage-sample-rate" title="metrics_storage_sample_rate">
    Taxa de amostragem de amostras armazenadas, em segundos. O valor mínimo é `5`. Para desativá-lo, configure-o como `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `metrics_storage_sample_rate`
          </td>

          <td>
            `NRIA_METRICS_STORAGE_SAMPLE_RATE`
          </td>

          <td>
            inteiro
          </td>

          <td>
            `20`
          </td>

          <td>
            [1.0.308](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10308)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="metrics-system-sample-rate" title="metrics_system_sample_rate">
    Taxa de amostragem de amostras do sistema, em segundos. O valor mínimo é `5`. Para desativá-lo, configure-o como `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `metrics_system_sample_rate`
          </td>

          <td>
            `NRIA_METRICS_SYSTEM_SAMPLE_RATE`
          </td>

          <td>
            inteiro
          </td>

          <td>
            `5`
          </td>

          <td>
            [1.0.308](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10308)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="metrics-nfs-sample-rate" title="metrics_nfs_sample_rate">
    Taxa de amostragem de amostras de armazenamento NFS, em segundos. O valor mínimo é `5`. Para desativá-lo, configure-o como `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `metrics_nfs_sample_rate`
          </td>

          <td>
            `NRIA_METRICS_NFS_SAMPLE_RATE`
          </td>

          <td>
            inteiro
          </td>

          <td>
            `20`
          </td>

          <td>
            [1.5.40](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1540)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="detailed-nfs" title="detailed_nfs">
    Métrica NFS detalhada. Quando habilitado, o agente fornecerá uma lista completa de métricas NFS.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `detailed_nfs`
          </td>

          <td>
            `NRIA_DETAILED_NFS`
          </td>

          <td>
            boleano
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.5.40](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1540)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  ## Variáveis de deslocamento NTP

  `ntp_metrics` é um mapa de valor principal usado para configurar a métrica de deslocamento de tempo. Quando ativado e uma lista de hosts NTP for fornecida, o agente fornecerá a métrica `ntp offset` do host (em segundos). Esse valor é verificado no pool de hosts NTP fornecido a cada `interval` minutos (o valor padrão e mínimo é 15 minutos). Entre intervalos, o último deslocamento conhecido é relatado. Se o deslocamento relatado for superior a alguns segundos, poderá causar problemas com a condição do alerta, consulta NRQL e lacunas de dados no painel.

  Exemplo como um atributo YAML:

  ```yml
  ntp_metrics:
    enabled: true
    pool:
      - time.cloudflare.com
      - time.google.com
    interval: 15
    timeout: 10
  ```

  Exemplo como variável de ambiente:

  ```ini
  NRIA_NTP_METRICS_POOL='time.cloudflare.com,time.google.com'
  NRIA_NTP_METRICS_ENABLED='true'
  NRIA_NTP_METRICS_INTERVAL='15'
  NRIA_NTP_METRICS_TIMEOUT='10'
  ```

  <Collapser className="freq-link" id="ntp-enabled" title="ntp_metrics.enabled">
    Sinalizador para ativar/desativar a métrica NTP Offset.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `enabled`
          </td>

          <td>
            `NRIA_NTP_METRICS_ENABLED`
          </td>

          <td>
            boleano
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.33.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1330)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="ntp-pool" title="ntp_metrics.pool">
    Define lista de Hosts NTP a serem consultados. Quando forem definidos vários hosts, todos serão consultados e a métrica reportada será o valor médio entre eles.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `pool`
          </td>

          <td>
            `NRIA_NTP_METRICS_POOL`
          </td>

          <td>
            \[]corda
          </td>

          <td>
            Vazio. Confira os [servidores NTP públicos](https://timetoolsltd.com/information/public-ntp-server/).
          </td>

          <td>
            [1.33.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1330)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="ntp-interval" title="ntp_metrics.interval">
    Define o intervalo em minutos para solicitar o NTP Offset do pool fornecido.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `interval`
          </td>

          <td>
            `NRIA_NTP_METRICS_INTERVAL`
          </td>

          <td>
            inteiro
          </td>

          <td>
            `15`
          </td>

          <td>
            [1.33.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1330)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="ntp-timeout" title="ntp_metrics.timeout">
    Define o tempo limite em segundos para as solicitações feitas aos hosts NTP.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `timeout`
          </td>

          <td>
            `NRIA_NTP_METRICS_TIMEOUT`
          </td>

          <td>
            inteiro
          </td>

          <td>
            `10`
          </td>

          <td>
            [1.33.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1330)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Variáveis de segurança

<CollapserGroup>
  <Collapser className="freq-link" id="selinux-enable-semodule" title="selinux_enable_semodule">
    Obtenha versões de módulos de política instaladas usando SEModule. Se desabilitado, o plug-in SELinux só recuperará o status usando SEStatus.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `selinux_enable_semodule`
          </td>

          <td>
            `NRIA_SELINUX_ENABLE_SEMODULE`
          </td>

          <td>
            boleano
          </td>

          <td>
            `true`
          </td>

          <td>
            1.0.864
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="strip-command-line" title="strip_command_line">
    Quando `true`, o agente remove os argumentos de comando do atributo `commandLine` de `ProcessSample`.

    <Callout variant="tip">
      Esta é uma medida de segurança para evitar o vazamento de informações confidenciais.
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `strip_command_line`
          </td>

          <td>
            `NRIA_STRIP_COMMAND_LINE`
          </td>

          <td>
            boleano
          </td>

          <td>
            `true`
          </td>

          <td>
            1.0.149
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Variáveis de endpoint de status

<CollapserGroup>
  <Collapser className="freq-link" id="status-server-enabled" title="status_server_enabled">
    Ativa o servidor de status no agente que fornece informações de integridade local. Os endpoints disponíveis são:

    Exemplo de endpoint de status principal (sem erros):

    ```bash
    curl http://localhost:8003/v1/status
    [output] {
    [output]   "checks": {
    [output]     "endpoints": [
    [output]       {
    [output]         "url": "https://infrastructure-command-api.newrelic.com/agent_commands/v1/commands",
    [output]         "reachable": true
    [output]       },
    [output]       {
    [output]         "url": "https://infra-api.newrelic.com/infra/v2/metrics",
    [output]         "reachable": true
    [output]       },
    [output]       {
    [output]         "url": "https://identity-api.newrelic.com/identity/v1",
    [output]         "reachable": true
    [output]       },
    [output]       {
    [output]         "url": "https://infra-api.newrelic.com/inventory",
    [output]         "reachable": true
    [output]       }
    [output]     ]
    [output]   },
    [output]   "config": {
    [output]     "reachability_timeout": "10s"
    [output]   }
    [output] }
    ```

    Endpoint de status principal (com erros):

    ```bash
    curl http://localhost:8003/v1/status
    [output] {
    [output]   "checks": {
    [output]     "endpoints": [
    [output]       {
    [output]         "url": "https://staging-infra-api.newrelic.com/infra/v2/metrics",
    [output]         "reachable": false,
    [output]         "error": "endpoint check timeout exceeded"
    [output]       },
    [output]       {
    [output]         "url": "https://infra-api.newrelic.com/infra/v2/metrics",
    [output]         "reachable": true
    [output]       },
    [output]       {
    [output]         "url": "https://identity-api.newrelic.com/identity/v1",
    [output]         "reachable": true
    [output]       },
    [output]       {
    [output]         "url": "https://infra-api.newrelic.com/inventory",
    [output]         "reachable": true
    [output]       }
    [output]     ]
    [output]   },
    [output]   "config": {
    [output]     "reachability_timeout": "10s"
    [output]   }
    [output] }
    ```

    Exemplo de endpoint de erros:

    ```bash
    curl http://localhost:18003/v1/status/errors
    [output] {
    [output]   "checks": {
    [output]     "endpoints": [
    [output]       {
    [output]         "url": "https://staging-infra-api.newrelic.com/infra/v2/metrics",
    [output]         "reachable": false,
    [output]         "error": "endpoint check timeout exceeded"
    [output]       }
    [output]     ]
    [output]   },
    [output]   "config": {
    [output]     "reachability_timeout": "10s"
    [output]   }
    [output] }
    ```

    Isso é semelhante ao endpoint de status principal, mas filtra apenas aqueles com erros.

    Exemplo de endpoint de entidade:

    ```bash
    curl http://localhost:8003/v1/status/entity
    [output] {
    [output]   "guid":"MMMMNjI0NjR8SU5GUkF8TkF8ODIwMDg3MDc0ODE0MTUwNTMy",
    [output]   "key":"your-host-name"
    [output] }
    ```

    Retorna informações sobre a entidade agente/host. Um código de status de resposta *204* (&quot;Sem Conteúdo&quot;) será retornado quando o agente ainda não tiver informações sobre a entidade agente/host. Portanto, podem ser necessárias várias solicitações até que o agente forneça os dados da entidade.

    <Callout variant="important">
      Essa configuração é habilitada por padrão quando você usa a instalação guiada. Isso ajuda a confirmar se a instalação do agente foi bem-sucedida.
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `status_server_enabled`
          </td>

          <td>
            `NRIA_STATUS_SERVER_ENABLED`
          </td>

          <td>
            boleano
          </td>

          <td>
            `false`
          </td>

          <td>
            1.19.0
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="status-server-port" title="status_server_port">
    Define a porta para o endpoint do servidor de status.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `status_server_port`
          </td>

          <td>
            `NRIA_STATUS_SERVER_PORT`
          </td>

          <td>
            inteiro
          </td>

          <td>
            `8003`
          </td>

          <td>
            1.19.0
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Variáveis do Windows

<CollapserGroup>
  <Collapser className="freq-link" id="windows-services-refresh-sec" title="windows_services_refresh_sec">
    Período de amostragem para o plug-in de serviços do Windows, em segundos. O valor mínimo é `10`. Para desativá-lo, configure-o como `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `windows_services_refresh_sec`
          </td>

          <td>
            `NRIA_WINDOWS_SERVICES_REFRESH_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `30`
          </td>

          <td>
            [1.0.755](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10775)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="windows-updates-refresh-sec" title="windows_updates_refresh_sec">
    Período de amostragem para o plug-in de atualizações do Windows, em segundos. O valor mínimo é `10`. Para desativá-lo, configure-o como `-1`.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `windows_updates_refresh_sec`
          </td>

          <td>
            `NRIA_WINDOWS_UPDATES_REFRESH_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `60`
          </td>

          <td>
            [1.0.755](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10775)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="app-data-dir" title="app_data_dir">
    Define o caminho para armazenar dados em um caminho diferente do diretório de arquivos de programa:

    * `%AppDir%/data`: Usado para armazenar os dados delta

    * `%AppDir%/user_data`: diretório externo para arquivos JSON gerados pelo usuário

    * `%AppDir%/newrelic-infra.log`: Se a opção de configuração do arquivo de log não estiver definida, usaremos este caminho de diretório como padrão.

      <table>
        <thead>
          <tr>
            <th style={{ width: "200px" }}>
              Nome da opção YML
            </th>

            <th style={{ width: "200px" }}>
              Variável de ambiente
            </th>

            <th>
              Tipo
            </th>

            <th>
              Padrão
            </th>

            <th>
              Versão
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `app_data_dir`
            </td>

            <td>
              `NRIA_APP_DATA_DIR`
            </td>

            <td>
              corda
            </td>

            <td>
              Windows: `env(ProgramData)\New Relic\newrelic-infra`

              Linux: Não aplicável
            </td>

            <td>
              [1.0.755](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10775)
            </td>
          </tr>
        </tbody>
      </table>
  </Collapser>

  <Collapser className="freq-link" id="enable-win-update-plugin" title="enable_win_update_plugin">
    Habilita o plug-in de atualizações do Windows, que recupera as listas de hotfixes instalados no host.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `enable_win_update_plugin`
          </td>

          <td>
            `NRIA_ENABLE_WIN_UPDATE_PLUGIN`
          </td>

          <td>
            boleano
          </td>

          <td>
            `false`
          </td>

          <td>
            1.0.274
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="legacy-storage-sampler" title="legacy_storage_sampler">
    Se `true`, o agente será forçado a usar WMI do Windows (o método legado do agente para obter métricas para Windows; por exemplo, `StorageSampler`) e desabilitará o novo método (que usa a biblioteca PDH).

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `legacy_storage_sampler`
          </td>

          <td>
            `NRIA_LEGACY_STORAGE_SAMPLER`
          </td>

          <td>
            boleano
          </td>

          <td />

          <td>
            [1.0.1051](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-101051)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="win-process-priority-class" title="win_process_priority_class">
    Esta opção de configuração permite aumentar a prioridade do processo `newrelic-infra.exe` para qualquer um dos seguintes valores:

    * `Normal`

    * `Idle`

    * `High`

    * `RealTime`

    * `BelowNormal`

    * `AboveNormal`

      <table>
        <thead>
          <tr>
            <th style={{ width: "200px" }}>
              Nome da opção YML
            </th>

            <th style={{ width: "200px" }}>
              Variável de ambiente
            </th>

            <th>
              Tipo
            </th>

            <th>
              Padrão
            </th>

            <th>
              Versão
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `win_process_priority_class`
            </td>

            <td>
              `NRIA_WIN_PROCESS_PRIORITY_CLASS`
            </td>

            <td>
              corda
            </td>

            <td />

            <td>
              1.0.989
            </td>
          </tr>
        </tbody>
      </table>

      Exemplo:

      ```
      Normal
      ```
  </Collapser>

  <Collapser className="freq-link" id="win-removable-drives" title="win_removable_drives">
    Permite que o agente do Windows relate unidades `A:` e `B:` quando elas são mapeadas como unidades removíveis.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `win_removable_drives`
          </td>

          <td>
            `NRIA_WIN_REMOVABLE_DRIVES`
          </td>

          <td>
            boleano
          </td>

          <td>
            `true`
          </td>

          <td>
            [1.3.1](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-131)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="win-network-interface-v2" title="win_network_interface_v2">
    Quando ativado, o agente do Windows usa `GetIfEntry2` (contadores de 64 bits) em vez de `GetIfEntry` (contadores de 32 bits) para métricas de rede. Isso fornece estatísticas de rede mais precisas para interfaces de alta largura de banda, onde os contadores de 32 bits podem transbordar.

    <Callout variant="tip">
      Esta flag é mantida para compatibilidade com versões anteriores e pode ser removida em uma versão futura.
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `win_network_interface_v2`
          </td>

          <td>
            `NRIA_WIN_NETWORK_INTERFACE_V2`
          </td>

          <td>
            boleano
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.71.4](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1714)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="wmi_proc_data" title="wmi_proc_data">
    Se você definir como verdadeiro, obterá informações do processo do WMI e ignorará a verificação de acesso à consulta em um ambiente restrito.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Padrão
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `enable_wmi_proc_data`
          </td>

          <td>
            `NRIA_ENABLE_WMI_PROC_DATA`
          </td>

          <td>
            boleano
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.3.1](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1420)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Cliente HTTP

Configure o cliente HTTP usado para comunicação backend .

<CollapserGroup>
  <Collapser className="freq-link" id="http-headers" title="http_headers">
    Cabeçalhos HTTP personalizados para incluir em todas as solicitações ao backend do New Relic.

    ```yml
    http:
      headers:
        "Proxy-Authorization": "myToken"
    ```

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Nome da opção YML
          </th>

          <th style={{ width: "200px" }}>
            Variável de ambiente
          </th>

          <th>
            Tipo
          </th>

          <th>
            Versão
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `headers`
          </td>

          <td>
            `NRIA_HTTP_HEADERS`
          </td>

          <td>
            mapa de key-value
          </td>

          <td>
            [1.41.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Qual é o próximo?

Você também pode:

* Entenda melhor [a configuração do agente](/docs/infrastructure/new-relic-infrastructure/configuration/configure-infrastructure-agent).
* Crie um [arquivo de configuração usando nosso modelo](https://github.com/newrelic/infrastructure-agent/blob/master/assets/examples/infrastructure/newrelic-infra-template.yml.example).
* Veja como você pode [gerenciar o agente](/docs/infrastructure/new-relic-infrastructure/configuration/start-stop-restart-check-infrastructure-agent-status).