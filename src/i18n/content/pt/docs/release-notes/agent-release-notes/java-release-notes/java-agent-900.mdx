---
subject: Java agent
releaseDate: '2026-01-14'
version: 9.0.0
downloadLink: 'https://download.newrelic.com/newrelic/java-agent/newrelic-agent/9.0.0/'
features:
  - “Config to delete stale agent temp jars”
  - “Inclusion option for selectively instrumenting applications”
bugs:
  - “Fix IllegalAccessError in AWS S3 Instrumentation”
  - “Fix mislabeled instrumentation version for logback-class-1.5.20”
  - “Fix logging message for max attribute value”
  - “Correct Otel-style Sampler priorities”
security: []
translationType: machine
---

<ButtonGroup>
  <ButtonLink role="button" to="https://download.newrelic.com/newrelic/java-agent/newrelic-agent/9.0.0/" variant="primary">
    Baixe esta versão do agente
  </ButtonLink>
</ButtonGroup>

## Novos recursos e melhorias

* Adicionar configuração para excluir jars temporários de agente obsoletos na inicialização por @jtduffy em [2676](https://github.com/newrelic/newrelic-java-agent/pull/2676)
* Adicionar a opção &quot;inclusão&quot; para complementar a configuração de exclusão para instrumentar seletivamente aplicativos @jtduffy em [2638](https://github.com/newrelic/newrelic-java-agent/pull/2638)
  * Para usar este recurso, defina a variável de ambiente `NEW_RELIC_STARTUP_JAVA_ARTIFACT_INCLUDES` ou a propriedade do sistema `newrelic.config.startup_java_artifact_includes`. Especifique os artefatos que devem ser instrumentados como uma lista separada por vírgulas.

## Correções

* Resolva IllegalAccessError movendo a classe wrapper de S3AsyncClient\_Instrumentation por @jtduffy em [2503](https://github.com/newrelic/newrelic-java-agent/pull/2503)
* Corrigir versão de instrumentação rotulada incorretamente em eventos de log em logback-classic-1.5.20 por @jasonjkeller em [2594](https://github.com/newrelic/newrelic-java-agent/pull/2594)
* Mensagem de log corrigida para valor máximo de atributo por @jeffalder em [2680](https://github.com/newrelic/newrelic-java-agent/pull/2680)
* Prioridades do amostrador de Taxa de Rastreamento corrigidas por @jtduffy em [2583](https://github.com/newrelic/newrelic-java-agent/pull/2583)

## Remoções

* Remove os módulos jdbc-inet-\* obsoletos por @obenkenobi em [2572](https://github.com/newrelic/newrelic-java-agent/pull/2572)
* Remove a biblioteca obsoleta java.completable-future-jdk8. instrumentação por @obenkonobi em [2562](https://github.com/newrelic/newrelic-java-agent/pull/2562)
* Remove a instrumentação de encapsulamento aws por @obenkenobi em [2567](https://github.com/newrelic/newrelic-java-agent/pull/2567)
* Remove o módulo jdbc-sybase-6 por @obenkenobi em [2614](https://github.com/newrelic/newrelic-java-agent/pull/2614)
* Remove a instrumentação play 2.3 por @obenkenobi em [2568](https://github.com/newrelic/newrelic-java-agent/pull/2568)
* Remove thrift-0.8 obsoleto módulo por @obenkenobi em [2569](https://github.com/newrelic/newrelic-java-agent/pull/2569)
* Remove os módulos solr 4.0 e 5.0 obsoletos por @obenkenobi em [2570](https://github.com/newrelic/newrelic-java-agent/pull/2570)
* Remove o módulo obsoleto grails-1.3 por @obenkonobi em [2573](https://github.com/newrelic/newrelic-java-agent/pull/2573)
* Remove o módulo obsoleto hibernate-3.3 por @obenkenobi em [2574](https://github.com/newrelic/newrelic-java-agent/pull/2574)
* Remove a API de injeção de rodapé obsoleta por @sharvath-newrelic em [2620](https://github.com/newrelic/newrelic-java-agent/pull/2620)
* Remove pointcuts Struts 1 obsoletos por @obenkenobi em [2561](https://github.com/newrelic/newrelic-java-agent/pull/2561)
* Remove o módulo obsoleto glassfish-3 por @sharvath-newrelic em [2575](https://github.com/newrelic/newrelic-java-agent/pull/2575)
* Remove os módulos rabbit-amqp obsoletos 2.5.0, 2.4.1, 1.7.2 por @obenkenobi em [2571](https://github.com/newrelic/newrelic-java-agent/pull/2571)
* Remove a função de marcador de implantação por @jtduffy em [2589](https://github.com/newrelic/newrelic-java-agent/pull/2589)

## Atualizar para a versão mais recente [#procedures]

Para identificar qual versão do agente Java você está usando atualmente, execute `java -jar newrelic.jar -v`. A versão do seu agente Java será impressa em seu console.

Em seguida, para atualizar para a versão mais recente do agente Java:

1. Faça backup **de todo** o [diretório raiz do agente Java](/docs/agents/manage-apm-agents/troubleshooting/find-agent-root-directory#java-agent) em outro local. Renomeie esse diretório para `NewRelic_Agent#.#.#`, onde `#.#.#` é o número da versão do agente.
2. [Baixe o agente.](/docs/release-notes/agent-release-notes/java-release-notes).
3. Descompacte o novo arquivo de download do agente e copie `newrelic-api.jar` e `newrelic.jar` no [diretório raiz original do agente Java](/docs/agents/manage-apm-agents/troubleshooting/find-agent-root-directory#java-agent).
4. Compare seu `newrelic.yml` antigo com o `newrelic.yml` recém-baixado do zip e [atualize o arquivo, se necessário](#diff).
5. Reinicie seu despachante Java.

Se você tiver problemas após a atualização do agente Java, restaure a partir do diretório do agente New Relic do qual foi feito backup.

## Atualizar diferenças de configuração do agente [#diff]

Adicionamos novas configurações a `newrelic.yml` à medida que lançamos novas versões do agente. Você pode usar `diff` ou outro utilitário de comparação para ver o que mudou e adicionar as novas configurações ao seu arquivo antigo. Certifique-se de não substituir nenhuma personalização feita no arquivo, como chave de licença, nome do aplicativo ou alterações nas configurações padrão.

Por exemplo, se você `diff` os arquivos `newrelic.yml` padrão para as versões 7.10.0 e 7.11.0 do agente Java, os resultados impressos no console serão como:

```yaml
➜ diff newrelic_7.10.0.yml newrelic_7.11.0.yml
...
107a108,119
>       # Whether the log events should include context from loggers with support for that.
>       include_context_data:
>
>         # When true, application logs will contain context data.
>         enabled: false
>
>         # A comma separated list of attribute keys whose values should be sent to New Relic.
>         #include:
>
>         # A comma separated list of attribute keys whose values should not be sent to New Relic.
>         #exclude:
>
125a138
>
128c141
<     enabled: false
---
>     enabled: true
...
```

Neste exemplo, essas linhas foram adicionadas ao `newrelic.yml` padrão no agente Java versão 7.11.0. Se você estiver migrando para 7.11.0 ou superior, adicione essas novas linhas ao seu `newrelic.yml` original.

## Declaração de apoio:

* New Relic recomenda que você atualize o agente regularmente para garantir que esteja obtendo os benefícios mais recentes de recursos e desempenho. Além disso, versões mais antigas não terão mais suporte quando chegarem [ao fim de sua vida útil](https://docs.newrelic.com/docs/using-new-relic/cross-product-functions/install-configure/notification-changes-new-relic-saas-features-distributed-software/).