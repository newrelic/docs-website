---
subject: Python agent
releaseDate: '2025-12-08'
version: 11.2.0
downloadLink: 'https://pypi.python.org/pypi/newrelic'
features:
  - Add support for Strands instrumentation
  - Add support for AWS Bedrock Converse Streaming instrumentation
  - Add support for Redis methods hybrid_search and msetex
  - Add support for loop_factory parameter in asyncio.Runner
  - Capture Langchain role assignments in LLM events
  - Capture LLM event timestamp at time of LLM request
bugs:
  - Fix ASGI header consumption
translationType: machine
---

## Notas

Esta versão do agente Python adiciona suporte para o seguinte:

* [Fios](https://pypi.org/project/strands-agents-tools/)
* [AWS Bedrock Converse Streaming](\(https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/bedrock-runtime/client/converse.html\))
* Métodos [Redis](https://pypi.org/project/redis/) `hybrid_search` e `msetex`
* Atribuição de funções [LangChain](https://pypi.org/project/langchain/) para o evento LLM
* timestamp do evento LLM capturado no momento da solicitação do LLM.
* `loop_factory` parâmetro em `asyncio.Runner`

Esta versão também corrige um bug na instrumentação ASGI, onde os cabeçalhos não são relatados pelo servidor web.

Instale o agente usando `easy_install/pip/distribute` através do [Índice de Pacotes Python](https://pypi.python.org/pypi/newrelic), usando `conda` através do [Índice de Pacotes Conda-Forge](https://anaconda.org/conda-forge/newrelic) ou baixe-o diretamente do [site de download do New Relic](https://download.newrelic.com/python_agent/release).

## Recurso

* Adicionar suporte para [Strands](https://pypi.org/project/strands-agents-tools/)

  * Adicionar instrumentação para as ferramentas Strands e para o agente em configurações de agente único e multiagente (enxames, grafos, etc.).

* Adicionar suporte para [AWS Bedrock Converse Streaming](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/bedrock-runtime/client/converse.html)

  * Adicionar suporte para monitoramento da API de streaming da Converse. Isso inclui suporte para chamadas de conclusão de bate-papo Converse feitas com clientes boto3 e aioboto3 usando `converse_stream()`.

* Adicionar suporte para métodos [Redis](https://pypi.org/project/redis/)

  * Adicionar suporte para os seguintes métodos:

    * `hybrid_search`
    * `msetex`

* Adicionar suporte para `loop_factory` em `asyncio.Runner`

  * No Python 3.11, a classe `asyncio.Runner` foi adicionada, assim como o parâmetro `loop_factory`. O parâmetro `loop_factory` fornece uma substituição para políticas de loop. Agora, o loop criado é instrumentado, independentemente de ser por meio de uma configuração de loop de eventos global ou de um loop de eventos personalizado.

* Capturar atribuições de funções [do LangChain](https://pypi.org/project/langchain/) no evento LLM

  * O evento LangChain `LlmChatCompletionMessage` agora contém a função atribuída do [LangChain](https://pypi.org/project/langchain/).

* Registre timestamp do evento LLM no momento da solicitação do LLM.

  * Anteriormente, o timestamp do evento LLM era capturado no momento da criação do evento. Agora, essa informação é capturada com mais precisão no momento da solicitação do LLM.

## Correções de bugs

* consumo de cabeçalho ASGI

  * Quando um `ASGIWebTransaction` consome os cabeçalhos de um evento `http.response.start`, ele o faz sem levar em consideração os tipos de entrada permitidos. Quando os cabeçalhos são um gerador, o gerador foi consumido pela chamada para `process_response()` não deixando cabeçalhos restantes para o servidor web enviar. O problema já foi resolvido.

## Declaração de apoio

Recomendamos atualizar para a versão mais recente do agente assim que estiver disponível. Se você não puder atualizar para a versão mais recente, atualize seu agente para uma versão com no máximo 90 dias. Saiba [mais](/docs/new-relic-solutions/new-relic-one/install-configure/update-new-relic-agent/) sobre como manter o agente atualizado.

Consulte a New Relic Python [política](/docs/apm/agents/python-agent/getting-started/python-agent-eol-policy/) de fim de vida útil do agente para obter informações sobre lançamentos de agentes e datas de suporte.