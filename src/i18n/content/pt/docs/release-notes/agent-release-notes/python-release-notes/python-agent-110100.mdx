---
subject: Python agent
releaseDate: '2025-11-03'
version: 11.1.0
downloadLink: 'https://pypi.python.org/pypi/newrelic'
features:
  - Add new environment variables for attribute filter settings
  - Add support for async generators in transaction decorators
  - Add support for additional models in AWS Bedrock
  - Add instrumentation for new methods in AWS Kinesis
  - Add support for Python 3.14
bugs:
  - Fix a bug in aiomysql which caused RecursionError when using ConnectionPool
  - Fix a bug where properties were not properly passed in the producer for kombu
  - Fix an error when shutdown_agent is called from within the harvest thread
translationType: machine
---

## Notas

Esta versão do agente Python adiciona suporte Python 3.14, novas variáveis de ambiente para configurações de filtro de atributos, suporte para geradores assíncronos em decoradores de transação, modelos adicionais no [AWS Bedrock](https://aws.amazon.com/bedrock/) e novos métodos no [AWS Kinesis](https://aws.amazon.com/kinesis/). Esta versão também corrige um bug no [aiomysql](https://pypi.org/project/aiomysql/) que causava `RecursionError` ao usar `ConnectionPool` onde ele era envolvido várias vezes, um bug onde as propriedades não eram passadas corretamente no produtor do [kombu](https://pypi.org/project/kombu/) e um erro quando `shutdown_agent` é chamado de dentro da thread de colheita.

Instale o agente usando `easy_install/pip/distribute` através do [Índice de Pacotes Python](https://pypi.python.org/pypi/newrelic), usando `conda` através do [Índice de Pacotes Conda-Forge](https://anaconda.org/conda-forge/newrelic) ou baixe-o diretamente do [site de download do New Relic](https://download.newrelic.com/python_agent/release).

## Recurso

* Adicionar suporte para Python 3.14

  * Adicionar suporte para Python 3.14.

* Adicionar variáveis de ambiente para configurações de filtros de atributos

  * As seguintes configurações agora podem ser definidas por meio de variáveis de ambiente:

    | Configuração                              | Variável de ambiente                                |
    | ----------------------------------------- | --------------------------------------------------- |
    | `attributes.enabled`                      | `NEW_RELIC_ATTRIBUTES_ENABLED`                      |
    | `attributes.exclude`                      | `NEW_RELIC_ATTRIBUTES_EXCLUDE`                      |
    | `attributes.include`                      | `NEW_RELIC_ATTRIBUTES_INCLUDE`                      |
    | `browser_monitoring.attributes.enabled`   | `NEW_RELIC_BROWSER_MONITORING_ATTRIBUTES_ENABLED`   |
    | `browser_monitoring.attributes.exclude`   | `NEW_RELIC_BROWSER_MONITORING_ATTRIBUTES_EXCLUDE`   |
    | `browser_monitoring.attributes.include`   | `NEW_RELIC_BROWSER_MONITORING_ATTRIBUTES_INCLUDE`   |
    | `error_collector.attributes.enabled`      | `NEW_RELIC_ERROR_COLLECTOR_ATTRIBUTES_ENABLED`      |
    | `error_collector.attributes.exclude`      | `NEW_RELIC_ERROR_COLLECTOR_ATTRIBUTES_EXCLUDE`      |
    | `error_collector.attributes.include`      | `NEW_RELIC_ERROR_COLLECTOR_ATTRIBUTES_INCLUDE`      |
    | `span_events.attributes.enabled`          | `NEW_RELIC_SPAN_EVENTS_ATTRIBUTES_ENABLED`          |
    | `span_events.attributes.exclude`          | `NEW_RELIC_SPAN_EVENTS_ATTRIBUTES_EXCLUDE`          |
    | `span_events.attributes.include`          | `NEW_RELIC_SPAN_EVENTS_ATTRIBUTES_INCLUDE`          |
    | `transaction_events.attributes.enabled`   | `NEW_RELIC_TRANSACTION_EVENTS_ATTRIBUTES_ENABLED`   |
    | `transaction_events.attributes.exclude`   | `NEW_RELIC_TRANSACTION_EVENTS_ATTRIBUTES_EXCLUDE`   |
    | `transaction_events.attributes.include`   | `NEW_RELIC_TRANSACTION_EVENTS_ATTRIBUTES_INCLUDE`   |
    | `transaction_segments.attributes.enabled` | `NEW_RELIC_TRANSACTION_SEGMENTS_ATTRIBUTES_ENABLED` |
    | `transaction_segments.attributes.exclude` | `NEW_RELIC_TRANSACTION_SEGMENTS_ATTRIBUTES_EXCLUDE` |
    | `transaction_segments.attributes.include` | `NEW_RELIC_TRANSACTION_SEGMENTS_ATTRIBUTES_INCLUDE` |
    | `transaction_tracer.attributes.enabled`   | `NEW_RELIC_TRANSACTION_TRACER_ATTRIBUTES_ENABLED`   |
    | `transaction_tracer.attributes.exclude`   | `NEW_RELIC_TRANSACTION_TRACER_ATTRIBUTES_EXCLUDE`   |
    | `transaction_tracer.attributes.include`   | `NEW_RELIC_TRANSACTION_TRACER_ATTRIBUTES_INCLUDE`   |

* Adicionar suporte para geradores assíncronos em decoradores de transação.

  * Anteriormente, os decoradores de transação não suportavam o encapsulamento em geradores assíncronos. Esse recurso foi adicionado e, agora, as transações do gerador assíncrono medirão automaticamente o tempo de espera do loop de eventos e outras estatísticas.

* Adicionar suporte para modelos adicionais na instrumentação do AWS Bedrock.

  * Atualiza a instrumentação do AWS Bedrock por meio do botocore e do aiobotocore para oferecer suporte aos seguintes modelos adicionais.

    * Modelos Claude Sonnet 3+
    * Modelos que são prefixados com uma região (com reconhecimento de região)

* Adicionar instrumentação para novos métodos Kinesis

  * Adiciona instrumentação botocore para dar suporte a novos métodos do AWS Kinesis.

    * `describe_account_settings`
    * `update_account_settings`
    * `update_max_record_size`
    * `update_stream_warm_throughput`

## Correções de bugs

* Prevenir um erro de recursão no pool de conexões do [aiomysql](https://pypi.org/project/aiomysql/)

  * Anteriormente, um `RecursionError` era gerado no [aiomysql](https://pypi.org/project/aiomysql/) ao usar conexões agrupadas. Cadeias profundas `ObjectProxy` foram criadas em torno de conexões agrupadas devido ao enrolamento repetido. Isso já foi corrigido.

* Corrigido um bug em que as propriedades não eram passadas corretamente no produtor do [Kombu.](https://pypi.org/project/kombu/)

  * Corrigido um bug onde a instrumentação para `kombu.messaging.Producer.publish()` estava fazendo com que as propriedades fossem aninhadas acidentalmente dentro do dicionário, fazendo com que as propriedades ficassem no lugar errado e não fossem lidas pelos pacotes subsequentes.

* Corrigir erro quando `shutdown_agent` é chamado de dentro da thread de colheita.

  * Anteriormente, um `RuntimeError` poderia ocorrer quando `shutdown_agent` era chamado de dentro do thread de colheita. Isso resolve o problema adicionando uma proteção para evitar a falha.

## Declaração de apoio

Recomendamos atualizar para a versão mais recente do agente assim que estiver disponível. Se você não puder atualizar para a versão mais recente, atualize seu agente para uma versão com no máximo 90 dias. Saiba [mais](/docs/new-relic-solutions/new-relic-one/install-configure/update-new-relic-agent/) sobre como manter o agente atualizado.

Consulte a New Relic Python [política](/docs/apm/agents/python-agent/getting-started/python-agent-eol-policy/) de fim de vida útil do agente para obter informações sobre lançamentos de agentes e datas de suporte.