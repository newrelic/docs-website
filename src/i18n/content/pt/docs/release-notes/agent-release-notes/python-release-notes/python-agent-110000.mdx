---
subject: Python agent
releaseDate: '2025-09-25'
version: 11.0.0
downloadLink: 'https://pypi.python.org/pypi/newrelic'
features:
  - Removes support for Python 3.7
  - Removes and or deprecates various APIs and settings
  - 'Deprecates [aioredis](https://pypi.org/project/aioredis/) instrumentation'
  - Raises the minimum supported version of `setuptools` and `setuptools_scm`
  - 'Adds new instrumentation for [AutoGen](https://github.com/microsoft/autogen)'
  - 'Adds new instrumentation for [Pyzeebe](https://pypi.org/project/pyzeebe/)'
  - Adds new MCP (Model Context Protocol) named spans
bugs:
  - Fixes a crash in psycopg
  - Ensures MCP spans are only recorded when AI monitoring is enabled
translationType: machine
---

## Notas

<Callout variant="caution">
  Esta versão do agente foi retirada.
</Callout>

Esta versão do agente Python faz as seguintes alterações:

* Remove o suporte para Python 3.7
* Remove e/ou desaprova várias APIs e configurações
* Descontinua a instrumentação [aioredis](https://pypi.org/project/aioredis/)
* Aumenta a versão mínima suportada de `setuptools` e `setuptools_scm`
* Adiciona nova instrumentação para [AutoGen](https://github.com/microsoft/autogen)
* Adiciona nova instrumentação para [Pyzeebe](https://pypi.org/project/pyzeebe/)
* Adiciona novos intervalos nomeados MCP (Model Context Protocol)
* Corrige uma falha no psycopg
* Garante que os intervalos do MCP sejam registrados somente quando o monitoramento de IA estiver habilitado

Instale o agente usando `easy_install/pip/distribute` por meio do [Índice de Pacotes Python](https://pypi.python.org/pypi/newrelic) ou baixe-o diretamente do [site de download do New Relic](https://download.newrelic.com/python_agent/release).

## Recurso removido

* Remove o suporte para Python 3.7

  * O Python 3.7 foi encerrado em 27 de junho de 2023. O agente Python deixou de oferecer suporte a ele.

* Remove várias APIs obsoletas

  * As seguintes APIs foram removidas:

    | APIlegado                                     | API de substituição                                                                                                                                                                  |
    | --------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
    | `accept_distributed_trace_payload`            | [`accept_distributed_trace_headers`](/docs/agents/python-agent/python-agent-api/acceptdistributedtraceheaders-python-agent-api)                                                      |
    | `add_custom_parameter`                        | [`add_custom_attribute`](/docs/apm/agents/python-agent/python-agent-api/addcustomattribute-python-agent-api)                                                                         |
    | `add_custom_parameters`                       | [`add_custom_attributes`](/docs/apm/agents/python-agent/python-agent-api/addcustomattributes-python-agent-api)                                                                       |
    | `create_distributed_trace_payload`            | [`insert_distributed_trace_headers`](/docs/apm/agents/python-agent/python-agent-api/insertdistributedtraceheaders-python-agent-api)                                                  |
    | `get_browser_timing_footer`                   | A funcionalidade disto foi encapsulada em [`get_browser_timing_header()`](/docs/apm/agents/python-agent/python-agent-api/getbrowsertimingheader-python-agent-api)                    |
    | `record_exception`                            | [`notice_error()`](/docs/agents/python-agent/python-agent-api/notice_error)                                                                                                          |
    | `NewRelicLogHandler`                          | `NewRelicLogForwardingHandler`                                                                                                                                                       |
    | `lambda_handler` &amp; `LambdaHandlerWrapper` | Essas APIs foram movidas para o pacote [`newrelic-lambda`](/docs/serverless-function-monitoring/aws-lambda-monitoring/instrument-lambda-function/sdk-based-instrumentation/#python). |

* Remove várias configurações obsoletas

  * As seguintes configurações foram removidas:

    | Cenário de legado                       | Configuração de substituição                                                                                                                                                                                                                            |
    | --------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
    | `transaction_tracer.capture_attributes` | [`transaction_tracer.attributes.enabled`](/docs/apm/agents/python-agent/configuration/python-agent-configuration#cfg-tt-attributes-enabled)                                                                                                             |
    | `error_collector.capture_attributes`    | [`error_collector.attributes.enabled`](/docs/apm/agents/python-agent/configuration/python-agent-configuration#cfg-error-attributes-enabled)                                                                                                             |
    | `browser_monitoring.capture_attributes` | [`browser_monitoring.attributes.enabled`](/docs/apm/agents/python-agent/configuration/python-agent-configuration#cfg-browser-attributes-enabled)                                                                                                        |
    | `analytics_events.enabled`              | [`transaction_events.enabled`](/docs/apm/agents/python-agent/configuration/python-agent-configuration#transaction-events-enabled)                                                                                                                       |
    | `analytics_events.capture_attributes`   | [`transaction_events.attributes.enabled`](/docs/apm/agents/python-agent/configuration/python-agent-configuration#cfg-events-attributes-enabled)                                                                                                         |
    | `error_collector.ignore_errors`         | [`error_collector.ignore_classes`](/docs/apm/agents/python-agent/configuration/python-agent-configuration#error-ignore)                                                                                                                                 |
    | `strip_exception_messages.whitelist`    | [`strip_exception_messages.allowlist`](/docs/apm/agents/python-agent/configuration/python-agent-configuration#strip_exception_messages_allowlist)                                                                                                       |
    | `ssl`                                   | Agora isso está codificado em `true`, por isso foi removido como uma opção de configuração.                                                                                                                                                             |
    | `ignored_params`                        | Use `newrelic.attributes.exclude = request.parameters.{name}` em vez disso. Adicione cada chave de parâmetro de solicitação à lista `newrelic.attributes.exclude`, delimitada por vírgulas. Certifique-se de preceder a chave com `request.parameters`. |
    | `agent_limits.merge_stats_maximum`      | Agora isso é completamente ignorado em favor da configuração do lado do servidor.                                                                                                                                                                       |

## Recurso obsoleto

* A instrumentação para [aioredis](https://pypi.org/project/aioredis/) foi descontinuada

  * O pacote [aioredis](https://pypi.org/project/aioredis/) foi descontinuado em favor do [redis](https://pypi.org/project/redis/), que agora inclui o submódulo `redis.asyncio`. Como resultado, a instrumentação para `aioredis` também foi descontinuada. Em vez disso, use a biblioteca `redis`. Esta instrumentação será removida em uma versão futura.

* Descontinua algumas configurações de coleta existentes para corresponder a outro agente de linguagem

  * Para ser mais consistente com as convenções do outro agente de linguagem, as seguintes configurações de coleta agora estão obsoletas:

    | Cenário de legado                                         | Configuração de substituição                                                                                                                                                    |
    | --------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
    | `event_harvest_config.harvest_limits.analytic_event_data` | [`transaction_events.max_samples_stored`](/docs/apm/agents/python-agent/configuration/python-agent-configuration#transaction-events-max-samples-stored)                         |
    | `event_harvest_config.harvest_limits.span_event_data`     | [`span_events.max_samples_stored`](/docs/apm/agents/python-agent/configuration/python-agent-configuration#cfg-tt-max-samples-stored)                                            |
    | `event_harvest_config.harvest_limits.error_event_data`    | [`error_collector.max_event_samples_stored`](/docs/apm/agents/python-agent/configuration/python-agent-configuration#error-max-event-samples-stored)                             |
    | `event_harvest_config.harvest_limits.custom_event_data`   | [`custom_insights_events.max_samples_stored`](/docs/apm/agents/python-agent/configuration/python-agent-configuration#custom-insights-events-max-samples-stored)                 |
    | `event_harvest_config.harvest_limits.log_event_data`      | [`application_logging.forwarding.max_samples_stored`](/docs/apm/agents/python-agent/configuration/python-agent-configuration#application-logging-forwarding-max-samples-stored) |

    Esta é uma reversão de uma alteração anterior que renomeou essas configurações de `*.max_samples_stored` para o formato `event_harvest_config.harvest_limits.*`. Esta decisão foi revertida, e as configurações originais nomeadas foram restauradas para corresponder ao outro agente de idioma que não alterou esses nomes de configurações. As configurações obsoletas continuarão funcionando por enquanto, mas serão removidas em uma versão futura.

* Descontinua a configuração do agente por meio do dicionário de ambiente WSGI

  * As seguintes configurações, que antes eram possíveis de serem definidas por meio do dicionário de ambiente WSGI, agora estão obsoletas. Configure essas configurações por meio de variáveis de ambiente ou do arquivo de configuração.

    * `newrelic.set_background_task`
    * `newrelic.suppress_apdex_metric`
    * `newrelic.suppress_transaction_trace`
    * `newrelic.capture_request_params`
    * `newrelic.disable_browser_autorum`

* Descontinua o suporte para construção do agente com `setuptools<61.2` ou `setuptools_scm<6.4`

  * As versões mínimas suportadas de `setuptools` e `setuptools_scm` foram aumentadas para `61.2` e `6.4`, respectivamente. Isso é para dar suporte ao uso de `pyproject.toml` para configurar os metadados do pacote e instruções de construção. O agente agora pode ser criado com ferramentas de construção mais modernas, que não registrarão mais avisos sobre a falta de um arquivo `pyproject.toml`.
  * Essa alteração adiciona um novo atributo de versão aos pacotes `newrelic.__version__` e `newrelic.__version_tuple__`, que podem ser usados para verificar programaticamente a versão do agente em tempo de execução.

## Novo recurso

* Adiciona nova instrumentação para [AutoGen](https://github.com/microsoft/autogen)

  * Adiciona instrumentação (spans nomeados e evento `Llm` personalizado) para agente e ferramentas no [AutoGen](https://github.com/microsoft/autogen)

* Adiciona nova instrumentação para [Pyzeebe](https://pypi.org/project/pyzeebe/)

  * Adiciona instrumentação automática e atributo de agente específico frameworkpara [Pyzeebe](https://pypi.org/project/pyzeebe/)

* Adiciona novos intervalos nomeados MCP (Model Context Protocol)

  * Adiciona novos intervalos nomeados para chamadas de ferramentas MCP (Model Context Protocol) feitas por meio do gerenciador de ferramentas para oferecer suporte a Streamable HTTP

## Correções de bugs

* Corrige uma falha em `psycopg>=3.2.0` ao chamar `as_string()`

  * Corrige um problema em `psycopg>=3.2.0` em que o método `as_string()` não exigia mais argumentos, causando uma possível falha. Isso foi corrigido e ambas as assinaturas deste método são suportadas.

* Garante que os intervalos do MCP (Model Context Protocol) sejam registrados somente quando o monitoramento de IA estiver habilitado

  * Garante que os intervalos do MCP (Model Context Protocol) sejam registrados somente quando a configuração `ai_monitoring.enabled` estiver habilitada.

## Declaração de apoio

Recomendamos atualizar para a versão mais recente do agente assim que estiver disponível. Se você não puder atualizar para a versão mais recente, atualize seu agente para uma versão com no máximo 90 dias. Saiba [mais](/docs/new-relic-solutions/new-relic-one/install-configure/update-new-relic-agent/) sobre como manter o agente atualizado.

Consulte a New Relic Python [política](/docs/apm/agents/python-agent/getting-started/python-agent-eol-policy/) de fim de vida útil do agente para obter informações sobre lançamentos de agentes e datas de suporte.