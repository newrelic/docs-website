---
subject: Node.js agent
releaseDate: '2026-01-08'
version: 13.9.0
downloadLink: 'https://www.npmjs.com/package/newrelic'
security: []
bugs:
  - Updated samplers to properly assign sampling decisions based on appropriate context
  - Updated `undici` instrumentation to track the active and parent segment as symbols on request to properly end active request
  - Account for links added during transaction
features:
  - Added instrumentation support for `iovalkey`
  - Added `entity_guid` to Agent Control health file
  - Added support for OTel span events
  - Additional support for partial granularity traces (Not available for production use
translationType: machine
---

## Notas

#### Recurso

* Adicionado `entity_guid` ao arquivo de integridade do Agent Control ([#3594](https://github.com/newrelic/node-newrelic/pull/3594)) ([f42a501](https://github.com/newrelic/node-newrelic/commit/f42a501defce8eb246d28d6218db4947aca5bedd))

* Adicionado suporte de instrumentação para `iovalkey` ([#3612](https://github.com/newrelic/node-newrelic/pull/3612)) ([55f5d6e](https://github.com/newrelic/node-newrelic/commit/55f5d6e8f1c1278845c2ed2a06c4d1d600015bb0))

* Adicionado suporte para eventos de span OTel ([#3600](https://github.com/newrelic/node-newrelic/pull/3600)) ([5b7c340](https://github.com/newrelic/node-newrelic/commit/5b7c34013aafd42d9f3e2b11eb31b86f1f4ea461))

* Suporte adicional para rastreamento de granularidade parcial (Não disponível para uso em produção)

  * Adicionado tipo `compact` para rastreios de granularidade parcial. ([#3608](https://github.com/newrelic/node-newrelic/pull/3608)) ([73b0381](https://github.com/newrelic/node-newrelic/commit/73b038107f2e1fb94e7e7586dcf1d392031eb272))
  * Adicionadas métricas de suporte de rastreamento principal ([#3610](https://github.com/newrelic/node-newrelic/pull/3610)) ([c465f4c](https://github.com/newrelic/node-newrelic/commit/c465f4c540599b0ded7eac1f27e12443b69d7a81))
  * Atualizados os nomes das métricas para rastreios completos e parciais para consolidar valores semelhantes ([#3620](https://github.com/newrelic/node-newrelic/pull/3620)) ([b201338](https://github.com/newrelic/node-newrelic/commit/b20133825440876260998eda58eb94b04b864bb2))

#### Correções de bugs

* Considerar links adicionados durante a transação ([#3606](https://github.com/newrelic/node-newrelic/pull/3606)) ([488b678](https://github.com/newrelic/node-newrelic/commit/488b678278811af7eb6b941eed84e0dafdb86fd5))
* Atualizados os samplers para atribuir corretamente as decisões de amostragem com base no contexto apropriado ([#3641](https://github.com/newrelic/node-newrelic/pull/3641)) ([4bbdddf](https://github.com/newrelic/node-newrelic/commit/4bbdddf7ae845cf349f27cca895a32a748a8327a))
* Instrumentação `undici` atualizada para rastrear o segmento ativo e pai como símbolos na solicitação para finalizar corretamente a solicitação ativa ([#3619](https://github.com/newrelic/node-newrelic/pull/3619)) ([9baebe5](https://github.com/newrelic/node-newrelic/commit/9baebe5c6bccba3c69bda5f3f3195d24dce0065b))

#### Refatoração de código

* Removida a lógica `distributed_tracing.in_process_spans.enabled` não utilizada. O rastreamento de granularidade parcial o substitui ([#3611](https://github.com/newrelic/node-newrelic/pull/3611)) ([1d5584e](https://github.com/newrelic/node-newrelic/commit/1d5584eacd98b484435e56af455070ed866d246d))
* Instrumentação `@langchain/core` atualizada para assinar eventos emitidos ([#3493](https://github.com/newrelic/node-newrelic/pull/3493)) ([d1e90e4](https://github.com/newrelic/node-newrelic/commit/d1e90e4d66ac03a07b572a94f58066f2c20e7f25))

#### Documentação

* Relatório de compatibilidade atualizado ([#3635](https://github.com/newrelic/node-newrelic/pull/3635)) ([74ac737](https://github.com/newrelic/node-newrelic/commit/74ac737f90c9a84ddce1c0994a9ecf9665883a86))

#### Tarefas diversas

* Alterado `Langchain` para `LangChain`, expandir a faixa de versão ([#3629](https://github.com/newrelic/node-newrelic/pull/3629)) ([d77239e](https://github.com/newrelic/node-newrelic/commit/d77239edbff79bb4e73c58a814f7a7d272325e77))
* Copiar metadados de status OTEL para o segmento ([#3613](https://github.com/newrelic/node-newrelic/pull/3613)) ([4057e80](https://github.com/newrelic/node-newrelic/commit/4057e804b74170ba58a0faf0bdeb934eafc4195d))
* **deps:** `@newrelic/security-agent` atualizado para `v3.0.0` ([#3637](https://github.com/newrelic/node-newrelic/pull/3637)) ([a84fa74](https://github.com/newrelic/node-newrelic/commit/a84fa742bbacb607a813de2a99d81113027178bc))
* Não crie segmentos OpenAI se `ai_monitoring` estiver desativado ([#3625](https://github.com/newrelic/node-newrelic/pull/3625)) ([b4f0010](https://github.com/newrelic/node-newrelic/commit/b4f001033684937cbe886ca166d8c71a662b783d))
* Limitar o número de links de span nos segmentos ([#3621](https://github.com/newrelic/node-newrelic/pull/3621)) ([c923c30](https://github.com/newrelic/node-newrelic/commit/c923c30a094af5f5e197f2e63f5dca652480f76d))
* Publicação do Azure atualizada com as etapas OIDC ([#3633](https://github.com/newrelic/node-newrelic/pull/3633)) ([14c41c0](https://github.com/newrelic/node-newrelic/commit/14c41c042847e823360965d815ebff7125973197))

#### Testes

* Índices centralizados para testes versionados `redis` ([#3636](https://github.com/newrelic/node-newrelic/pull/3636)) ([34f6562](https://github.com/newrelic/node-newrelic/commit/34f6562f42c8a8fb02236cdff07832d8c0fb9562))
* Ferramenta de teste `LangChain` alterada para `>=0.2.0` ([#3631](https://github.com/newrelic/node-newrelic/pull/3631)) ([3a4980f](https://github.com/newrelic/node-newrelic/commit/3a4980faf924a9a334d38e0a3ed73c6d4ad79b8b))
* Corrigir os destinos de teste `LangChain` ([#3634](https://github.com/newrelic/node-newrelic/pull/3634)) ([6504eb8](https://github.com/newrelic/node-newrelic/commit/6504eb869dc11d9c94bc3bf862a0b6bd308ee01c))
* Testes versionados `LangChain` refatorados ([#3624](https://github.com/newrelic/node-newrelic/pull/3624)) ([12ae601](https://github.com/newrelic/node-newrelic/commit/12ae601befa72d16a9d1b9ca041b1fd825281c28))

### Declaração de apoio:

Recomendamos atualizar para a versão mais recente do agente assim que estiver disponível. Se você não puder atualizar para a versão mais recente, atualize seu agente para uma versão com no máximo 90 dias. Saiba mais sobre como manter o agente atualizado. ([https://docs.newrelic.com/docs/new-relic-solutions/new-relic-one/install-configure/update-new-relic-agent/](https://docs.newrelic.com/docs/new-relic-solutions/new-relic-one/install-configure/update-new-relic-agent/))

Consulte a New Relic Node.js política de fim de vida útil do agente para obter informações sobre lançamentos de agentes e datas de suporte. ([https://docs.newrelic.com/docs/apm/agents/nodejs-agent/getting-started/nodejs-agent-eol-policy/](https://docs.newrelic.com/docs/apm/agents/nodejs-agent/getting-started/nodejs-agent-eol-policy/))