---
title: NR24-01 - Fluent Bit
tags:
  - Security
  - Security bulletin
  - Log forwarding
  - Fluent Bit
metaDescription: 'Security bulletin for Windows and Linux infrastructure agent and Fluent Bit, the Kubernetes plugin, and the Fluent Bit output plugin.'
releaseDate: '2024-06-08'
translationType: machine
---

<DNT>**Vulnerability Identifier:**</DNT> NR24-01

<DNT>**Priority:**</DNT> Alto

## Resumo

New Relic aconselha todos os clientes que utilizam a instrumentação de encaminhamento de loga atualizar as seguintes soluções:

* Agente de infraestrutura Linux AND Fluent Bit
* Plug-in Kubernetes
* Plug-in de Fluent Bit Output

A New Relic lançou novas versões desses serviços para eliminar uma [versão vulnerável recentemente anunciada do Fluent Bit](https://nvd.nist.gov/vuln/detail/CVE-2024-4323). Cada serviço identificado foi atualizado para usar [o Fluent Bit versão 3.0.4, que foi lançado para remediar as vulnerabilidades identificadas](https://fluentbit.io/blog/2024/05/21/statement-on-cve-2024-4323-and-its-fix/).

Clientes que utilizam o agente de infraestrutura mas possuem o encaminhamento de logdesabilitado não são impactados.

## Ação requerida

New Relic recomenda que os clientes que utilizam a instrumentação de encaminhamento de log (conforme identificado abaixo) tomem imediatamente as seguintes ações:

<table>
  <thead>
    <tr>
      <th>
        Solução
      </th>

      <th>
        Ação requerida
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Agente de infraestrutura do Windows
      </td>

      <td>
        No Windows, a versão incorporada do Fluent Bit no agente de infraestrutura do Windows foi determinada como não sendo afetada pelo CVE-2024-4323.
      </td>
    </tr>

    <tr>
      <td>
        Agente de infraestrutura Linux
      </td>

      <td>
        Atualize o agente de infraestrutura para a versão 1.52.3 ou posterior **E** atualize o Fluent Bit para a versão 3.0.4 ou mais tarde
      </td>
    </tr>

    <tr>
      <td>
        Plug-in Kubernetes
      </td>

      <td>
        Atualize usando `newrelic-logging-1.22.0` ou `nri-bundle-5.0.80`
      </td>
    </tr>

    <tr>
      <td>
        Plug-in de Fluent Bit Output
      </td>

      <td>
        Atualize para a versão 2.0.0
      </td>
    </tr>
  </tbody>
</table>

A New Relic forneceu os seguintes recursos para ajudar com essas atualizações:

* [Atualizar o agente de infraestrutura](/docs/infrastructure/install-infrastructure-agent/update-or-uninstall/update-infrastructure-agent/)
* [Atualize o Fluent Bit com o agente de infraestrutura Linux](/docs/logs/forward-logs/forward-your-logs-using-infrastructure-agent/#install-fb-version)
* [Instale os gráficos de leme mais recentes para o plug-in Kubernetes](https://github.com/newrelic/helm-charts/tree/master?tab=readme-ov-file#Installthecharts)
* [Instale a integração do Kubernetes](/docs/kubernetes-pixie/kubernetes-integration/installation/kubernetes-integration-install-configure/)
* [Plug-in Fluent Bit para encaminhamento de logs](/docs/logs/forward-logs/fluent-bit-plugin-log-forwarding/)
* [Verifique as versões do Fluent Bit que estão sendo usadas em seu host](/docs/infrastructure/infrastructure-ui-pages/infrastructure-inventory-page-search-your-entire-infrastructure/#search)
* [Verifique a versão do roteador de logdo Fluent Bit](/docs/logs/forward-logs/fluent-bit-plugin-log-forwarding/#upgrade-plugin)

A New Relic não identificou nenhuma solução alternativa no momento.

## Perguntas frequentes

1. **Estou usando o agente de infraestrutura mas desativei o encaminhamento de logs. Estou impactado?**

   Não, se o encaminhamento de logestiver desabilitado, o agente de infraestrutura não executará o Fluent Bit e não será impactado. No entanto, a New Relic recomenda que você atualize o agente regularmente e verifique se há atualizações no mínimo a cada 3 meses para garantir que está usando uma versão atual.

   Além disso, a New Relic recomenda que todos os clientes identifiquem quaisquer outros usos do Fluent Bit em seus ambientes e os atualizem para pelo menos a versão 3.0.4.

2. **Depois de atualizar para as versões mais recentes dos serviços de encaminhamento de loglistados, preciso fazer mais alguma coisa?**

   Sim, mas somente se você estiver executando um agente de infraestrutura em hosts Linux. Se você estiver executando o agente de infraestrutura Linux, **também** precisará [atualizar o Fluent Bit](/docs/logs/forward-logs/forward-your-logs-using-infrastructure-agent/#install-fb-version) em seu ambiente para a versão 3.0.4 ou mais tarde.

   Não há mais alterações de configuração necessárias no plug-in Kubernetes ou no plug-in Fluent Bit Output após a atualização para as versões mais recentes, embora New Relic recomende que você verifique periodicamente a configuração definida para garantir que correspondam às configurações desejadas.

## Notas de lançamento de suporte

[Notas de versão do agente de infraestrutura](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/)

[Notas de lançamento de Logs](/docs/release-notes/logs-release-notes/)

[Notas de versão da integração do Kubernetes](/docs/release-notes/infrastructure-release-notes/kubernetes-integration-release-notes/3/)

[Notas de versão do plug-in de saída Fluent Bit](https://github.com/newrelic/newrelic-fluent-bit-output/releases)

## Informações sobre vulnerabilidades técnicas

[CVE-2024-4323](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-4323)

[Declaração da Fluent Bit sobre CVE-2024-4323](https://fluentbit.io/blog/2024/05/21/statement-on-cve-2024-4323-and-its-fix/)

[Sinopse da Pesquisa CVE-2024-4323](https://www.tenable.com/security/research/tra-2024-17)

## História da Publicação

7 de junho de 2024 - Publicada NR24-01