---
title: Boletim de Segurança NR17-03
tags:
  - Security
  - Security and Privacy
  - Security bulletins
metaDescription: Security vulnerability update for New Relic Node.js agent.
releaseDate: '2020-12-09'
translationType: machine
---

## Resumo

Uma atualização de segurança para New Relic Ruby o agente da corrige vulnerabilidades em que o agente poderia capturar acidentalmente consultas agregadas brutas com o MongoDB. A New Relic recomenda atualizar para a versão corrigida mais recente.

<DNT>**Release date:**</DNT> 9 de fevereiro de 2017

<DNT>**Vulnerability identifier:**</DNT> NR17-03

<DNT>**Priority:**</DNT> Baixo

## Software afetado [#affected]

As seguintes versões do agente New Relic são afetadas:

<table>
  <tbody>
    <tr>
      <th>
        <DNT>
          **Name**
        </DNT>
      </th>

      <th>
        <DNT>
          **Affected version**
        </DNT>
      </th>

      <th>
        <DNT>
          **Notes**
        </DNT>
      </th>

      <th>
        <DNT>
          **Remediated version**
        </DNT>
      </th>
    </tr>

    <tr>
      <td>
        Agente Ruby
      </td>

      <td>
        3.13.1 (e superior)
      </td>

      <td>
        Com driver MongoDB 2.1 (e superior)
      </td>

      <td>
        [3.18.1](/docs/release-notes/agent-release-notes/ruby-release-notes/ruby-agent-3181330)
      </td>
    </tr>
  </tbody>
</table>

## Informações sobre vulnerabilidades [#vuln-info]

New Relic Ruby O agente da versão 3.13.1 adicionou visibilidade à consulta do MongoDB com a versão 2.1 e superior do driver MongoDB para Ruby. A configuração padrão do agente para <DNT>**mongo.obfuscate_queries**</DNT> é verdadeira. Isso deve fazer com que o agente ofusque os valores na consulta do Mongo antes de enviar essas informações para New Relic. No entanto, ao usar o pipeline agregado com esta versão do driver, as consultas agregadas não foram ofuscadas adequadamente.

### Fatores mitigantes [#factors]

* Somente clientes que usam a versão 2.1 e superior do Ruby Driver para MongoDB são afetados
* Consultas agregadas geralmente não contêm informações confidenciais

## Soluções alternativas

O usuário afetado e que não consegue atualizar pode optar por configurar o agente Ruby para não capturar a consulta do mongoDB. o usuário pode definir <DNT>**mongo.capture_queries**</DNT> como falso para evitar que o agente envie qualquer informação sobre a consulta.

## Relate vulnerabilidades de segurança à New Relic [#report]

A New Relic está comprometida com a segurança de nossos clientes e de seus dados. Se você acredita ter encontrado vulnerabilidades de segurança em um de nossos produtos ou sites, agradecemos e agradecemos muito que você relate isso ao programa de divulgação coordenado da New Relic. Para obter mais informações, consulte [Relatando vulnerabilidades de segurança](/docs/security/new-relic-security/data-privacy/reporting-security-vulnerabilities).

## Para obter mais ajuda [#more_help]

Recursos de documentação adicionais incluem:.

* [Pipeline agregado do MongoDB](https://docs.mongodb.com/manual/core/aggregation-pipeline/)
* [Configuração do agente Ruby Mongo](/docs/agents/ruby-agent/configuration/ruby-agent-configuration#mongo)
* [Instalação do agente Ruby](/docs/agents/ruby-agent/installation/ruby-agent-installation)
* [Segurança New Relic](https://newrelic.com/security)
