---
title: Chamada REST de API para alerta
tags:
  - Alerts
  - REST API alerts
metaDescription: How to use the New Relic REST API Explorer to add and manage alerts.
freshnessValidatedDate: never
translationType: machine
---

Nossa API REST é a API original da New Relic para definir programaticamente as configurações de alerta da New Relic ([saiba mais sobre NerdGraph, nossa API preferida](/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/alerts-nerdgraph/nerdgraph-api-examples)).

O [REST API Explorer](/docs/apm/apis/api-explorer-v2/getting-started-new-relics-api-explorer) também inclui o formato de solicitação `curl`, parâmetro disponível, possíveis códigos de status de resposta e estrutura de resposta JSON para cada chamada de API disponível. Você também pode [criar condição do alerta na interface](/docs/alerts/new-relic-alerts/defining-conditions/define-alert-conditions).

## Antes de usar a API REST [#before-start]

Antes de usar a API REST para gerenciar dados de alertas, leia a [introdução à API de <InlinePopover type="alerts"/>](/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/alerts-api/intro-alerts-api).

Para alertas de infraestrutura, consulte \[API REST para monitoramento de alertas de infraestrutura](/docs/infrastructure/new-relic-infrastructure/infrastructure-alert-conditions/

## Dados e funções disponíveis via REST API [#data]

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        <DNT>
          **REST API functions**
        </DNT>
      </th>

      <th>
        <DNT>
          **Comments**
        </DNT>
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Ver dados da conta
      </td>

      <td>
        Em geral, qualquer [função](/docs/accounts-partnerships/accounts/account-setup/users-roles) pode usar uma chave <InlinePopover type="userKey"/>ou [de API REST](/docs/apis/rest-api-v2/requirements/rest-api-key) com <DNT>**GET > List**</DNT> funções para <DNT>**view**</DNT> alertar dados. O proprietário e os administradores da conta podem usar sua chave de API.

        A saída da lista será [paginada](/docs/apis/rest-api-v2/requirements/pagination-api-output). As funções disponíveis incluem:

        * [Política de alertas](#policies-list)
        * Condições para [<InlinePopover type="apm"/>, <InlinePopover type="browser"/>e <InlinePopover type="mobile"/>](#conditions-list)([algumas limitações se aplicam.](#excluded))
        * Condições para [serviços externos](#ext-conditions-list)
        * Condições para [monitoramento sintético](#synthetics-conditions)
        * Condições para [monitoramento sintético em vários locais](#multilocation-synthetics-conditions)
        * Condições para NRQL ([algumas limitações se aplicam).](#excluded)
        * [Evento](#events)
        * [Incidente](#incidents)
        * [Incidente](#incidents)
      </td>
    </tr>

    <tr>
      <td>
        Manter os dados da conta
      </td>

      <td>
        Você pode ter uma função de Proprietário ou Administrador em sua conta <DNT>**and**</DNT> uma [chave de usuário](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key) <DNT>**or**</DNT> ter uma função personalizada que concede permissões para gerenciar alertas <DNT>**and**</DNT> uma [chave de usuário](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key) para usar qualquer função de manutenção, incluindo <DNT>**POST > Create**</DNT>, <DNT>**PUT > Add**</DNT>, <DNT>**PUT > Update**</DNT> e <DNT>**DELETE**</DNT>.
      </td>
    </tr>
  </tbody>
</table>

## Condições excluídas da API REST [#excluded]

Esses tipos de condições não possuem endpoint disponível na API:

* APM: transação da web percentil, condições de segmentação de rótulos e anomalia
* NRQL: anomalia

## Política de alertas

Essas funções de API incluem links para o API Explorer, onde você pode criar, excluir ou listar [políticas](/docs/alerts/new-relic-alerts-beta/getting-started/best-practices-alert-policies).

<Callout variant="important">
  Se a sua organização hospedar dados no data center da UE, verifique se você está usando os [endpoints de API adequados para contas da região da UE](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints).
</Callout>

<CollapserGroup>
  <Collapser
    id="policies-create"
    title="Crie novas políticas"
  >
    Para adicionar novas políticas, use sua [chave de usuário](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key) e inclua estes dois valores na chamada de API:

    <table>
      <thead>
        <tr>
          <th style={{ width: "230px" }}>
            <DNT>
              **Required values**
            </DNT>
          </th>

          <th>
            <DNT>
              **Definition**
            </DNT>
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Incidente `incident_preference`
          </td>

          <td>
            Determina como o alerta [criará o incidente](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents). Este deve ser um dos seguintes:

            * `PER_POLICY` (padrão): Acumulação por [política](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents#preference-policy).
            * `PER_CONDITION`: Acumule por [condição](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents#preference-condition).
            * `PER_CONDITION_AND_TARGET`: Acumule por [destino e condição](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents#preference-target).
          </td>
        </tr>

        <tr>
          <td>
            [Política `name`](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/name-or-rename-alert-policy)
          </td>

          <td>
            A política `name` é obrigatória. Deixá-lo inalterado criará uma política chamada string.
          </td>
        </tr>
      </tbody>
    </table>

    <DNT>
      **[API Explorer](https://rpm.newrelic.com/api/explore/alerts_policies/create) &amp;gt; Alerts Policies &amp;gt; POST &amp;gt; Create**
    </DNT>

    ```
    curl -X POST 'https://api.newrelic.com/v2/alerts_policies.json' \
         -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "policy": {
        "incident_preference": "string",
        "name": "string"
      }
    }'
    ```
  </Collapser>

  <Collapser
    id="policies-update"
    title="Atualizar políticas"
  >
    Use esta API para atualizar `name` e `incident_preference` de uma política existente. Você precisará da sua [chave de usuário](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key).

    <table>
      <thead>
        <tr>
          <th style={{ width: "230px" }}>
            <DNT>
              **Required values**
            </DNT>
          </th>

          <th>
            <DNT>
              **Definition**
            </DNT>
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `id`
          </td>

          <td>
            Obrigatório. Para encontrar o ID de uma política, use uma destas opções:

            * Na interface do usuário: na página da interface do usuário de uma política, encontre o ID abaixo do nome da política.
            * Com a API: use a [API List Policy](/docs/alerts/rest-api-alerts/new-relic-alerts-rest-api/rest-api-calls-new-relic-alerts#policies-list).
          </td>
        </tr>

        <tr>
          <td>
            Incidente `incident_preference`
          </td>

          <td>
            Determina como o alerta [criará o incidente](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents). Deve ser um dos seguintes:

            * `PER_POLICY` (padrão): Acumulação por [política](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents#preference-policy).
            * `PER_CONDITION`: Acumule por [condição](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents#preference-condition).
            * `PER_CONDITION_AND_TARGET`: Acumule por [destino e condição](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents#preference-target).
          </td>
        </tr>

        <tr>
          <td>
            [Política `name`](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/name-or-rename-alert-policy)
          </td>

          <td>
            <DNT>**Required.**</DNT> Se você não alterar o nome, o padrão será uma política chamada string.

            Para encontrar o nome exato de uma política, use a [API Listar políticas](/docs/alerts/rest-api-alerts/new-relic-alerts-rest-api/rest-api-calls-new-relic-alerts#policies-list).
          </td>
        </tr>
      </tbody>
    </table>

    <DNT>
      **[API Explorer](https://rpm.newrelic.com/api/explore/alerts_policies/create) &amp;gt; Alerts Policies &amp;gt; PUT &amp;gt; Update**
    </DNT>

    ```
    curl -X PUT 'https://api.newrelic.com/v2/alerts_policies/{id}.json' \
         -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "policy": {
        "incident_preference": "string",
        "name": "string"
      }
    }'
    ```
  </Collapser>

  <Collapser
    id="policies-delete"
    title="Excluir políticas existentes"
  >
    Para excluir uma política existente, use sua [chave de usuário](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key) e inclua `policy_id` (disponível em <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_policies/list) &amp;gt; Alerts Policies &amp;gt; GET &amp;gt; List**</DNT>) na chamada de API:

    <DNT>
      **[API Explorer](https://rpm.newrelic.com/api/explore/alerts_policies/delete) &amp;gt; Alerts Policies &amp;gt; DELETE &amp;gt; Delete**
    </DNT>

    ```
    curl -X DELETE 'https://api.newrelic.com/v2/alerts_policies/$POLICY_ID.json' \
         -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i
    ```
  </Collapser>

  <Collapser
    id="policies-list"
    title="Listar políticas existentes"
  >
    Para visualizar uma lista de políticas existentes para sua conta, use sua [chave de usuário](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key) e inclua estes valores opcionais na chamada de API:

    * Filtro opcional de política `name`

    * Valor [de paginação](/docs/apis/rest-api-v2/requirements/pagination-api-output) opcional

      <DNT>
        **[API Explorer](https://rpm.newrelic.com/api/explore/alerts_policies/list) &amp;gt; Alerts Policies &amp;gt; GET &amp;gt; List**
      </DNT>

      ```
      curl -X GET 'https://api.newrelic.com/v2/alerts_policies.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i
      ```
  </Collapser>
</CollapserGroup>

## Condições para APM, browser, mobile [#conditions]

Essas funções de API incluem links para o API Explorer, onde você pode criar, atualizar, excluir ou listar [condições](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions) de política. Estas chamadas são para condições com estes tipos de entidade:

* APM: Apps e transação principal
* Browser: Apps e transação principal
* mobile: aplicativos móveis

<DNT>**Exception:**</DNT> As seguintes condições de APM são <DNT>**not available**</DNT> destes endpoints da API:

* Rótulos de segmentação por condições (segmentação dinâmica)
* Condições de porcentagem de transação da web
* Condições de anomalia

<Callout variant="important">
  O API Explorer fornece informações sobre outros tipos de condições usando <DNT>**separate endpoints**</DNT>, incluindo [serviços externos](#ext-services-conditions) (APM e dispositivos móveis) e [monitoramento sintético](#). Considere todos os tipos de condição do alerta ao pesquisar ou atualizar. Se sua conta hospedar dados no data center da UE, certifique-se de usar os [endpoints de API adequados para contas da região da UE](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints).
</Callout>

<CollapserGroup>
  <Collapser
    id="conditions-create"
    title="Crie condições para políticas"
  >
    Para adicionar condições às políticas, inclua estes valores na chamada de API:

    * Seu<InlinePopover type="userKey"/>

    * O `policy_id` (disponível em <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_policies/list) &amp;gt; Alerts Policies &amp;gt; GET &amp;gt; List**</DNT>)

    * Os valores `condition` necessários na chamada de API (descritos na página do API Explorer e no [glossário da API condição do alerta](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names))

      <DNT>
        **[API Explorer](https://rpm.newrelic.com/api/explore/alerts_conditions/create) &amp;gt; Alerts Conditions &amp;gt; POST &amp;gt; Create**
      </DNT>

      ```
      curl -X POST 'https://api.newrelic.com/v2/alerts_conditions/policies/$POLICY_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "condition": {
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#type">type</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean,
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#entities">entities</a>": [
            integer
          ],
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#metric">metric</a>": "string",
          "gc_metric": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#condition-scope">condition_scope</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#violation_close_timer">violation_close_timer</a>": integer,
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
          "terms": [
            {
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_duration">duration</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_operator">operator</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_priority">priority</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_threshold">threshold</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_time_function">time_function</a>": "string"
            }
          ],
          "user_defined": {
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#user_defined_metric">metric</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#user_defined_value_function">value_function</a>": "string"
          }
        }
      }'
      ```

      A resposta JSON retorna uma condição `id`, que será necessária para atualizar ou excluir a condição. Você também pode visualizar a condição `id` de <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_conditions/list) &amp;gt; Alerts Conditions &amp;gt; GET &amp;gt; List**</DNT>.
  </Collapser>

  <Collapser
    id="conditions-update"
    title="Atualizar condições para políticas"
  >
    Para atualizar as condições das políticas, inclua estes valores na chamada de API:

    * Sua [chave de usuário](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * O `id` da condição (disponível em <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_condition/list) &amp;gt; Alerts Conditions &amp;gt; GET &amp;gt; List**</DNT>)

    * Os valores `condition` necessários na chamada de API (descritos na página do API Explorer e no [glossário da API condição do alerta](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names))

      <DNT>
        **[API Explorer](https://rpm.newrelic.com/api/explore/alerts_conditions/update) &amp;gt; Alerts Conditions &amp;gt; PUT &amp;gt; Update**
      </DNT>

      ```
      curl -X PUT 'https://api.newrelic.com/v2/alerts_conditions/$CONDITION_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "condition": {
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#type">type</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean,
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#entities">entities</a>": [
            integer
          ],
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#metric">metric</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#metric">metric</a>": "string",
          "gc_metric": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#condition-scope">condition_scope</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#violation_close_timer">violation_close_timer</a>": integer,
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
          "terms": [
            {
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_duration">duration</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_operator">operator</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_priority">priority</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_threshold">threshold</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_time_function">time_function</a>": "string"
            }
          ],
          "user_defined": {
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#user_defined_metric">metric</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#user_defined_value_function">value_function</a>": "string"
          }
        }
      }'
      ```
  </Collapser>

  <Collapser
    id="conditions-delete"
    title="Excluir condições das políticas"
  >
    Para excluir condições das políticas, inclua estes valores na chamada de API:

    * Sua [chave de usuário](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * O `condition_id` (disponível em <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_conditions/list) &amp;gt; Alerts Conditions &amp;gt; GET &amp;gt; List**</DNT>)

      <DNT>
        **[API Explorer](https://rpm.newrelic.com/api/explore/alerts_conditions/update) &amp;gt; Alerts Conditions &amp;gt; DELETE &amp;gt; Delete**
      </DNT>

      ```
      curl -X DELETE 'https://api.newrelic.com/v2/alerts_conditions/$CONDITION_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i
      ```
  </Collapser>

  <Collapser
    id="conditions-list"
    title="Listar as condições existentes para políticas"
  >
    Para visualizar uma lista de condições existentes para sua política, use sua [chave de API REST](/docs/apis/rest-api-v2/requirements/rest-api-key) ou [chave de usuário](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key) e o [`policy_id`](#policies-list) associado na chamada de API.

    <DNT>
      **[API Explorer](https://rpm.newrelic.com/api/explore/alerts_conditions/list) &amp;gt; Alerts Conditions &amp;gt; GET &amp;gt; List**
    </DNT>

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_conditions.json?policy_id=$POLICY_ID' \
         -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i
    ```
  </Collapser>
</CollapserGroup>

## Condições para NRQL [#conditions-nrql]

Essas funções de API incluem links para o API Explorer, onde você pode criar, atualizar, excluir ou listar [condições](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions) NRQL para suas políticas.

<DNT>**Exception:**</DNT> As condições de anomalia NRQL são <DNT>**not available**</DNT> deste endpoint.

<Callout variant="important">
  Se a sua organização hospedar dados no data center da UE, verifique se você está usando os [endpoints de API adequados para contas da região da UE](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints).
</Callout>

<CollapserGroup>
  <Collapser
    id="create-nrql-conditions"
    title="Crie condições NRQL para políticas"
  >
    Recomendação: Devido à forma como os dados NRQL são transmitidos, defina `aggregation_method` como `EVENT_FLOW` e use as configurações padrão de `60` para `aggregation_window` e `120` para `aggregation_delay`. `EVENT_FLOW` funciona na maioria dos casos de uso, mas para uma discussão sobre quais casos de uso funcionam melhor com `EVENT_TIMER`, consulte [Qual método de agregação usar?](https://discuss.newrelic.com/t/relic-solution-how-can-i-figure-out-which-aggregation-method-to-use/164288).

    <DNT>
      **[API Explorer](https://rpm.newrelic.com/api/explore/alerts_nrql_conditions/create) &amp;gt; Alerts NRQL Conditions &amp;gt; POST &amp;gt; Create**
    </DNT>

    Para criar condições NRQL para políticas:

    ```
    curl -X POST 'https://api.newrelic.com/v2/alerts_nrql_conditions/policies/$POLICY_ID.json' \
         -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "nrql_condition": {
        "type": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean,
        "terms": [
          {
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_duration">duration</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_operator">operator</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_priority">priority</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_threshold">threshold</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_time_function">time_function</a>": "string"
          }
        ],
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#user_defined_value_function">value_function</a>": "string",
        "nrql": {
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#nrql-query">query</a>": "string"
        },
        "signal": {
    	  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#signal_aggregation_window">aggregation_window</a>": "string",
    	  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#signal_slide_by">slide_by</a>": "integer",
    	  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#signal_aggregation_method">aggregation_method</a>": "string",
    	  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#signal_aggregation_delay">aggregation_delay</a>": integer,
    	  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#signal_aggregation_timer">aggregation_timer</a>": integer,
    	  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#fill_option">fill_option</a>": "string",
    	  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#fill_value">fill_value</a>": "string"
        },
        "expiration": {
    	  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#expiration_duration">expiration_duration</a>": "string",
    	  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#expiration_duration">open_violation_on_expiration</a>": boolean,
    	  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#expiration_duration">close_violations_on_expiration</a>": boolean
        }
      }
    }'
    ```

    Se você omitir `type` ou defini-lo como `static`, o padrão será o alerta NRQL padrão.
  </Collapser>

  <Collapser
    id="update-nrql-conditions"
    title="Atualizar condições NRQL para políticas"
  >
    Para atualizar as condições NRQL para políticas, inclua estes valores na chamada de API:

    * Sua [chave de usuário](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * O `id` da condição (disponível no [API Explorer <Icon name="fe-external-link"/>](https://rpm.newrelic.com/api/explore/alerts_nrql_conditions/list) <DNT>**Alerts NRQL Conditions > GET > List**</DNT>)

    * Os valores `condition` necessários na chamada de API (descritos na página do API Explorer e no [glossário da API condição do alerta](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names))

      <DNT>
        **[API Explorer](https://rpm.newrelic.com/api/explore/alerts_nrql_conditions/update) &amp;gt; Alerts NRQL Conditions &amp;gt; PUT &amp;gt; Update**
      </DNT>

      ```
      curl -X PUT 'https://api.newrelic.com/v2/alerts_nrql_conditions/$CONDITION_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "nrql_condition": {
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean,
          "terms": [
            {
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_duration">duration</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_operator">operator</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_priority">priority</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_threshold">threshold</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_time_function">time_function</a>": "string"
            }
          ],
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#user_defined_value_function">value_function</a>": "string",
          "nrql": {
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#nrql-query">query</a>": "string"
          }
        }
      }'
      ```
  </Collapser>

  <Collapser
    id="delete-nrql-conditions"
    title="Excluir condições NRQL para políticas"
  >
    Para excluir condições NRQL das políticas, inclua estes valores na chamada de API:

    * Sua [chave de usuário](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * O `id` da condição (disponível no [API Explorer <Icon name="fe-external-link"/>](https://rpm.newrelic.com/api/explore/alerts_nrql_conditions/list) <DNT>**Alerts NRQL Conditions > GET > List**</DNT>)

      <DNT>
        **[API Explorer](https://rpm.newrelic.com/api/explore/alerts_nrql_conditions/delete) &amp;gt; Alerts NRQL Conditions &amp;gt; DELETE &amp;gt; Delete**
      </DNT>

      ```
      curl -X DELETE 'https://api.newrelic.com/v2/alerts_nrql_conditions/$CONDITION_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i
      ```
  </Collapser>

  <Collapser
    id="list-nrql-conditions"
    title="Listar as condições NRQL existentes para políticas"
  >
    Para visualizar uma lista de condições existentes para sua política de alertas, use sua chave de usuário ou [chave de API REST](/docs/apis/rest-api-v2/requirements/rest-api-key) e o [`policy_id`](#policies-list) associado na chamada de API.

    <DNT>
      **[API Explorer](https://rpm.newrelic.com/api/explore/alerts_nrql_conditions/list) &amp;gt; Alerts NRQL Conditions &amp;gt; GET &amp;gt; List**
    </DNT>

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_nrql_conditions.json' \
         -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
         -d 'policy_id=$POLICY_ID'
    ```
  </Collapser>
</CollapserGroup>

## Condições para serviços externos [#ext-services-conditions]

Essas funções de API incluem links para o API Explorer, onde você pode criar, atualizar, excluir ou listar [condições](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions) de política. Estas chamadas são para condições de serviços externos. A chamada de API pode ser usada com <InlinePopover type="apm"/>e aplicativos de monitoramento de dispositivos móveis.

<Callout variant="important">
  Se a sua organização hospedar dados no data center da UE, verifique se você está usando os [endpoints de API adequados para contas da região da UE](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints).
</Callout>

<CollapserGroup>
  <Collapser
    id="ext-conditions-create"
    title="Serviços externos: Crie condições para políticas"
  >
    Para adicionar condições de serviços externos a políticas que possuem aplicativos APM ou monitoramento de Mobile, inclua estes valores na chamada de API:

    * Sua [chave de usuário](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * O `policy_id` (disponível em <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_policies/list) &amp;gt; Alerts Policies &amp;gt; GET &amp;gt; List**</DNT>)

    * Os valores `external_service_condition` necessários na chamada de API (descritos na página do API Explorer e no [glossário da API condição do alerta](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names))

      <DNT>
        **[API Explorer](https://rpm.newrelic.com/api/explore/alerts_external_service_conditions/create) &amp;gt; Alerts External Service Conditions &amp;gt; POST &amp;gt; Create**
      </DNT>

      ```
      curl -X POST 'https://api.newrelic.com/v2/alerts_external_service_conditions/policies/$POLICY_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "external_service_condition": {
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#type">type</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean,
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#entities">entities</a>": [
            integer
          ],
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#external_service_url">external_service_url</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#metric">metric</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
          "terms": [
            {
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_duration">duration</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_operator">operator</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_priority">priority</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_threshold">threshold</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_time_function">time_function</a>": "string"
            }
          ]
        }
      }'
      ```

      A resposta JSON retorna uma condição `id`, que será necessária para atualizar ou excluir a condição. Você também pode visualizar a condição `id` de <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_external_service_conditions/list) &amp;gt; Alerts External Service Conditions &amp;gt; GET &amp;gt; List**</DNT>.
  </Collapser>

  <Collapser
    id="ext-conditions-update"
    title="Serviços externos: atualizar condições para políticas"
  >
    Para atualizar condições de serviços externos para políticas que possuem aplicativos APM ou monitoramento de Mobile, inclua estes valores na chamada de API:

    * Sua [chave de usuário](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * A condição de serviço externo `id` (disponível em <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_external_service_conditions/list) &amp;gt; Alerts External Service Conditions &amp;gt; GET &amp;gt; List**</DNT>)

    * Os valores `external_service_condition` necessários na chamada de API (descritos na página do API Explorer e no [glossário da API condição do alerta](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names))

      <DNT>
        **[API Explorer](https://rpm.newrelic.com/api/explore/alerts_external_service_conditions/update) &amp;gt; Alerts External Service Conditions &amp;gt; PUT &amp;gt; Update**
      </DNT>

      ```
      curl -X PUT 'https://api.newrelic.com/v2/alerts_external_service_conditions/$CONDITION_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "external_service_condition": {
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#type">type</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean,
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#entities">entities</a>": [
            integer
          ],
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#external_service_url">external_service_url</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#metric">metric</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
          "terms": [
            {
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_duration">duration</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_operator">operator</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_priority">priority</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_threshold">threshold</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_time_function">time_function</a>": "string"
            }
          ]
        }
      }'
      ```
  </Collapser>

  <Collapser
    id="ext-conditions-delete"
    title="Serviços externos: excluir condições das políticas"
  >
    Para excluir condições de serviços externos de políticas com APM ou aplicativos de monitoramento de dispositivos móveis, inclua estes valores na chamada de API:

    * Sua [chave de usuário](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * O `condition_id` (disponível em <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_conditions/list) &amp;gt; Alerts External Service Conditions &amp;gt; GET &amp;gt; List**</DNT>)

      <DNT>
        **[API Explorer](https://rpm.newrelic.com/api/explore/alerts_external_service_conditions/delete) &amp;gt; Alerts External Service Conditions &amp;gt; DELETE &amp;gt; Delete**
      </DNT>

      ```
      curl -X DELETE 'https://api.newrelic.com/v2/alerts_external_service_conditions/$CONDITION_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i
      ```
  </Collapser>

  <Collapser
    id="ext-conditions-list"
    title="Serviços externos: listar as condições existentes para políticas"
  >
    Para visualizar uma lista de condições existentes para políticas com aplicativos de serviços externos (APM ou monitoramento de Mobile), use sua [chave de usuário](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key) ou [chave de API REST](/docs/apis/rest-api-v2/requirements/rest-api-key) e o [`policy_id`](#policies-list) associado na chamada de API.

    <DNT>
      **[API Explorer](https://rpm.newrelic.com/api/explore/alerts_external_service_conditions/list) &amp;gt; Alerts External Service Conditions &amp;gt; GET &amp;gt; List**
    </DNT>

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_external_service_conditions.json' \
         -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
         -d 'policy_id=$POLICY_ID'
    ```
  </Collapser>
</CollapserGroup>

## Condições para monitoramento sintético [#synthetics-conditions]

Essas funções de API incluem links para o API Explorer, onde você pode criar, atualizar, excluir ou listar [condições](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions) para sua política de alertas. A chamada de API pode ser utilizada com monitoramento sintético.

<CollapserGroup>
  <Collapser
    id="synthetics-conditions-create"
    title="Monitoramento sintético: Criar condições para políticas"
  >
    Para adicionar condições às políticas para monitoramento sintético, inclua estes valores na chamada de API:

    * Sua [chave de usuário](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * O `policy_id` (disponível em <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_policies/list) &amp;gt; Alerts Policies &amp;gt; GET &amp;gt; List**</DNT>)

    * Os valores `synthetics_condition` necessários na chamada de API (descritos na página do API Explorer e no [glossário da API condição do alerta](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names))

      <DNT>
        **[API Explorer](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/create) &amp;gt; Alerts Synthetics Conditions &amp;gt; POST &amp;gt; Create**
      </DNT>

      ```
      curl -X POST 'https://api.newrelic.com/v2/alerts_synthetics_conditions/policies/$POLICY_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "synthetics_condition": {
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#monitor_id">monitor_id</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean
        }
      }'
      ```

      A resposta JSON retorna uma condição `id`, que será necessária para atualizar ou excluir a condição. Você também pode visualizar a condição `id` de <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/list) &amp;gt; Alerts Synthetics Conditions &amp;gt; GET &amp;gt; List**</DNT>.
  </Collapser>

  <Collapser
    id="synthetics-conditions-update"
    title="Monitoramento sintético: Condições de atualização para políticas"
  >
    Para atualizar as condições da política para monitoramento sintético, inclua estes valores na chamada de API:

    * Sua [chave de usuário](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * A condição `id` (disponível em <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/list) &amp;gt; Alerts Synthetics Conditions &amp;gt; GET &amp;gt; List**</DNT>)

    * Os valores `synthetics_condition` necessários na chamada de API (descritos na página do API Explorer para [criar condição do alerta para Sintético](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/create) e no [glossário da API condição do alerta](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names))

      <DNT>
        **[API Explorer](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/update) &amp;gt; Alerts Synthetics Conditions &amp;gt; PUT &amp;gt; Update**
      </DNT>

      ```
      curl -X PUT 'https://api.newrelic.com/v2/alerts_synthetics_conditions/$CONDITION_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "synthetics_condition": {
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#monitor_id">monitor_id</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean
        }
      }'
      ```
  </Collapser>

  <Collapser
    id="synthetics-conditions-delete"
    title="Monitoramento sintético: Excluir condições das políticas"
  >
    Para excluir condições de política para monitoramento sintético, inclua estes valores na chamada de API:

    * Sua [chave de usuário](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * O `condition_id` (disponível em <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/list) &amp;gt; Alerts Synthetics Conditions &amp;gt; GET &amp;gt; List**</DNT>)

      <DNT>
        **[API Explorer](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/delete) &amp;gt; Alerts Synthetics Conditions &amp;gt; DELETE &amp;gt; Delete**
      </DNT>

      ```
      curl -X DELETE 'https://api.newrelic.com/v2/alerts_synthetics_conditions/$CONDITION_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i
      ```
  </Collapser>

  <Collapser
    id="synthetics-conditions-list"
    title="Monitoramento sintético: Listar condições existentes para políticas"
  >
    Para visualizar uma lista de condições de política existentes para monitoramento sintético, use sua [chave de usuário](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key) ou [chave de API REST](/docs/apis/rest-api-v2/requirements/rest-api-key) e o [`policy_id`](#policies-list) associado na chamada de API.

    <DNT>
      **[API Explorer](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/list) &amp;gt; Alerts Synthetics Conditions &amp;gt; GET &amp;gt; List**
    </DNT>

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_synthetics_conditions.json' \
         -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
         -d 'policy_id=$POLICY_ID'
    ```
  </Collapser>
</CollapserGroup>

## Condições de vários locais para monitoramento sintético [#multilocation-synthetics-conditions]

Essas funções de API incluem links para o API Explorer, onde você pode criar, atualizar, excluir ou listar [condições](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions) para sua política de alertas. A chamada de API pode ser usada para condições multilocais com monitoramento sintético. Antes de criar ou atualizar uma condição, leia as [regras para condição do alerta em vários locais](/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/advanced-techniques/multi-location-synthetic-monitoring-alert-conditions/#rules).

<CollapserGroup>
  <Collapser
    id="multilocation-synthetics-conditions-create"
    title="Multilocalização Sintético: Crie condições para políticas"
  >
    Para adicionar condições às políticas para monitoramento sintético de vários locais, inclua estes valores na chamada de API:

    * Sua [chave de usuário](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * O `policy_id` (disponível em <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_policies/list) &amp;gt; Alerts Policies &amp;gt; GET &amp;gt; List**</DNT>)

    * Os valores `location_failure_condition` necessários na chamada de API (descritos na página do API Explorer e no [glossário da API condição do alerta](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names))

      <DNT>
        **[API Explorer](https://rpm.newrelic.com/api/explore/alerts_location_failure_conditions/create) &amp;gt; Alerts Location Failure Conditions &amp;gt; POST &amp;gt; Create**
      </DNT>

      ```
      curl -X POST 'https://api.newrelic.com/v2/alerts_location_failure_conditions/policies/$POLICY_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "location_failure_condition": {
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean,
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#entities">entities</a>":
          [
              "string"
          ],
          "terms": [
              {
                  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#priority">priority</a>": "string",
                  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#threshold">threshold</a>": integer,
              }
          ],
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#violation_time_limit_seconds">violation_time_limit_seconds</a>": integer
        }
      }'
      ```

      A resposta JSON retorna uma condição `id`, que será necessária para atualizar ou excluir a condição. Você também pode visualizar a condição `id` de <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_location_failure_conditions/list) &amp;gt; Alerts Location Failure Conditions &amp;gt; GET &amp;gt; List**</DNT>.
  </Collapser>

  <Collapser
    id="multilocation-synthetics-conditions-update"
    title="Multi-location Sintético: Atualizar condições para políticas"
  >
    Para atualizar as condições da política para monitoramento sintético de vários locais, inclua estes valores na chamada de API:

    * Sua [chave de usuário](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * A condição `id` (disponível em <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_location_failure_conditions/list) &amp;gt; Alerts Location Failure Conditions &amp;gt; GET &amp;gt; List**</DNT>)

    * Os valores `location_failure_condition` necessários na chamada de API (descritos na página do API Explorer e no [glossário da API condição do alerta](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names))

      <DNT>
        **[API Explorer](https://rpm.newrelic.com/api/explore/alerts_location_failure_conditions/update) &amp;gt; Alerts Location Failure Conditions &amp;gt; PUT &amp;gt; Update**
      </DNT>

      ```
      curl -X PUT 'https://api.newrelic.com/v2/alerts_location_failure_conditions/$CONDITION_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "location_failure_condition": {
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean,
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#entities">entities</a>":
          [
              "string"
          ],
          "terms": [
              {
                  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#priority">priority</a>": "string",
                  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#threshold">threshold</a>": integer,
              }
          ],
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#violation_time_limit_seconds">violation_time_limit_seconds</a>": integer
        }
      }'
      ```
  </Collapser>

  <Collapser
    id="multilocation-synthetics-conditions-delete"
    title="Multi-location Sintético: Excluir condições para políticas"
  >
    Para excluir condições de política para monitoramento sintético de vários locais, inclua estes valores na chamada de API:

    * Sua [chave de usuário](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * O `condition_id` (disponível em <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_location_failure_conditions/list) &amp;gt; Alerts Location Failure Conditions &amp;gt; GET &amp;gt; List**</DNT>)

      <DNT>
        **[API Explorer](https://rpm.newrelic.com/api/explore/alerts_location_failure_conditions/delete) &amp;gt; Alerts Location Failure Conditions &amp;gt; DELETE &amp;gt; Delete**
      </DNT>

      ```
      curl -X DELETE 'https://api.newrelic.com/v2/alerts_location_failure_conditions/$CONDITION_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i
      ```
  </Collapser>

  <Collapser
    id="multilocation-synthetics-conditions-list"
    title="Multilocalização Sintético: Liste as condições existentes para apólices"
  >
    Para visualizar uma lista de condições de política existentes para monitoramento sintético de vários locais, use sua [chave de usuário](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key) ou [chave de API REST](/docs/apis/rest-api-v2/requirements/rest-api-key) e o [`policy_id`](#policies-list) associado na chamada de API.

    <DNT>
      **[API Explorer](https://rpm.newrelic.com/api/explore/alerts_location_failure_conditions/list) &amp;gt; Alerts Location Failure Conditions &amp;gt; GET &amp;gt; List**
    </DNT>

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_location_failure_conditions/policies/$POLICY_ID.json' \
         -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i
    ```
  </Collapser>
</CollapserGroup>

## Condições da entidade de alerta

Estas funções da API incluem links para o API Explorer, onde você pode listar, adicionar e remover entidades nas condições da sua política de alertas.

<Callout variant="important">
  Se a sua organização hospedar dados no data center da UE, verifique se você está usando os [endpoints de API adequados para contas da região da UE](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints).
</Callout>

<CollapserGroup>
  <Collapser
    id="list-condition-by-entity"
    title="Listar condição por entidade"
  >
    Para visualizar as [condições](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-condition) que uma [entidade](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity) se aplica a uma entidade no APM, browser, mobile ou transação principal, inclua estes valores na chamada da API:

    * Sua [chave de usuário](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key) ou [chave de API REST](/docs/apis/rest-api-v2/requirements/rest-api-key)

    * O `entity_id` Esta é a [entidade específica (destino do alerta)](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity) a ser monitorada.

    * O `entity_type`, que deve ser um dos seguintes:

      * Aplicativo
      * Aplicativo de browser
      * MobileApplication
      * KeyTransaction

      <DNT>
        **[API Explorer](https://rpm.newrelic.com/api/explore/alerts_entity_conditions/list) &amp;gt; Alerts Entity Conditions &amp;gt; GET &amp;gt; list**
      </DNT>

      ```
      curl -X GET 'https://api.newrelic.com/v2/alerts_entity_conditions/$ENTITY_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
           -G -d 'entity_type=$ENTITY_TYPE'
      ```
  </Collapser>

  <Collapser
    id="add-entity"
    title="Adicionar uma entidade a uma condição"
  >
    Para adicionar uma [entidade](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity) a uma condição, inclua estes valores na chamada de API:

    * Sua [chave de usuário](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * O `entity_id` Esta é a [entidade (destino do alerta)](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity) a ser monitorada. É o ID numérico do aplicativo APM, aplicativo de browser, transação principal ou aplicativo mobile.

    * O `condition_id` (disponível em <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_conditions/list) &amp;gt; Alerts Conditions &amp;gt; GET &amp;gt; List**</DNT>)

    * O `entity_type`, que deve ser um dos seguintes:

      * Aplicativo
      * Aplicativo de browser
      * MobileApplication
      * KeyTransaction

      <DNT>
        **[API Explorer](https://rpm.newrelic.com/api/explore/alerts_entity_conditions/add) &amp;gt; Alerts Entity Conditions &amp;gt; PUT &amp;gt; Add**
      </DNT>

      ```
      curl -X PUT 'https://api.newrelic.com/v2/alerts_entity_conditions/$ENTITY_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
           -H 'Content-Type: application/json' \
           -G -d 'entity_type=$ENTITY_TYPE&condition_id=$CONDITION_ID'
      ```
  </Collapser>

  <Collapser
    id="remove_entity"
    title="Remover uma entidade de uma condição"
  >
    Para remover uma [entidade](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity) que está sendo monitorada de uma condição, inclua estes valores na chamada de API:

    * Sua [chave de usuário](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * O `entity_id` Esta é a [entidade de monitor específica (destino do alerta)](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity) a ser removida. É o ID numérico do aplicativo APM, aplicativo de browser, principal de transação ou aplicativo mobile.

    * O `condition_id` (disponível em <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_conditions/list) &amp;gt; Alerts Conditions &amp;gt; GET &amp;gt; List**</DNT>)

    * O `entity_type`, que deve ser um dos seguintes:

      * Aplicativo
      * Aplicativo de browser
      * MobileApplication
      * KeyTransaction

      <DNT>
        **[API Explorer](https://rpm.newrelic.com/api/explore/alerts_entity_conditions/remove) &amp;gt; Alerts Entity Conditions &amp;gt; DELETE &amp;gt; Remove**
      </DNT>

      ```
      curl -X DELETE 'https://api.newrelic.com/v2/alerts_entity_conditions/$ENTITY_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
           -G -d 'entity_type=$ENTITY_ID&condition_id=$CONDITION_ID'
      ```
  </Collapser>
</CollapserGroup>
