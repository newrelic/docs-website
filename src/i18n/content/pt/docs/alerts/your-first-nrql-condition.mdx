---
title: Crie seu primeiro alerta
tags:
  - Alerts
  - Alert conditions
  - NRQL
metaDescription: How to start writing NRQL alerts conditions with a step-by-step user case.
freshnessValidatedDate: never
translationType: machine
---

Depois de conectar seu aplicativo ao New Relic e começar a explorar nossos gráficos e painel, um bom próximo passo é criar um alerta para manter sua equipe atualizada sobre qualquer comportamento incomum em seus dados. O recurso <InlinePopover type="alerts" />eleva sua experiência com o New Relic, desde a simples ingestão de dados até a tomada de ações ponderadas e eficazes.

Aqui, orientaremos você nas cinco etapas para criar seu primeiro alerta para que você possa começar a aprender o recurso de alerta do New Relic.

<Steps>
  <Step>
    ## Crie sua condição do alerta a partir de um gráfico [#create-alert-condition]

    A maneira mais fácil de começar a usar alertas é criar um alerta a partir de um gráfico New Relic. Essa rota é a mesma que criar uma condição do alerta NRQL do zero, mas o gráfico já possui uma consulta NRQL para você trabalhar.

    Uma condição do alerta é essencialmente um contêiner que você cria para definir quais condições precisam ser atendidas antes de ser notificado sobre qualquer comportamento incomum. Neste exemplo, você criará um alerta que notificará sua equipe sobre quaisquer problemas de latência com o tempo de transação da Web.

    Portanto, neste caso, se você quiser garantir que as transações da web nunca levem mais de 50 milissegundos, você criará uma condição de alerta para monitorar quando o tempo da transação da web exceder 50 milissegundos e criar um evento de alerta.

    <CollapserGroup>
      <Collapser id="select-your-query" title="Selecione sua consulta">
        Primeiro, vá para o gráfico denominado <DNT>**Web transactions time**</DNT> e clique em <DNT>**create an alert condition**</DNT>.

        <img title="Alert condition from a chart" alt="A screenshot depicting how to create an alert condition from a chart" src="/images/alerts_screenshot-crop_create-an-alert-condition-from-a-chart.webp" />

        <img title="Select your query" alt="A screenshot demonstrating how to choose your query" src="/images/alerts_screenshot-crop_select-your-query.webp" />
      </Collapser>

      <Collapser id="name-your-condition" title="Nomeie sua condição">
        É importante dar um nome descritivo à sua condição do alerta. Digamos que você nomeie essa condição <DNT>**response time**</DNT> e, em seguida, crie outra condição para um aplicativo completamente diferente e rotule essa condição como <DNT>**response time**</DNT> também. Se isso ocorrer, você não conseguirá distinguir qual condição se aplica a qual aplicativo. Portanto, certifique-se de dar à sua condição um nome específico e exclusivo. Nesse caso, nomearíamos essa condição como <DNT>**Response time: Example-app**</DNT>.
      </Collapser>

      <Collapser id="define-your-signal" title="Defina seu sinal">
        Depois de nomear sua condição, você poderá fazer alterações na consulta NRQL, se desejar. Para seu primeiro alerta, recomendamos não ajustar a consulta NRQL e deixar esta seção como está, mas se quiser saber mais sobre como usar NRQL para personalizar suas consultas, visite nossa [documentação](/docs/query-your-data/nrql-new-relic-query-language/get-started/introduction-nrql-new-relics-query-language/).

        <img title="Define your signal" alt="A screenshot that shows you how to define your signal" src="/images/alerts_screenshot-crop_define-your-signal.webp" />
      </Collapser>
    </CollapserGroup>
  </Step>

  <Step>
    ## Definir limite para condição do alerta

    Se uma condição de alerta é um contêiner, então os limites são as regras que cada condição de alerta contém. À medida que os dados fluem para o seu sistema, a condição de alerta busca quaisquer eventos de alerta dessas regras. Se a condição de alerta detectar dados provenientes do seu sistema que atendam a todas as condições que você definiu, ela criará um evento de alerta. Um evento de alerta é um sinal de que algo está errado em seu sistema e você deve verificar.

    Sua equipe está criando uma condição do alerta para procurar problemas de latência no tempo de transação web. Agora, você criará as regras que essa condição procurará.

    <CollapserGroup>
      <Collapser id="anomaly-threshold" title="Limite de anomalia (recomendado)">
        Sua equipe está criando esta condição de alerta para que você seja notificado caso o tempo de transação web demore mais que o normal. Mas digamos que você não se importa com o tempo de transação na Web e deseja apenas saber se o tempo de transação está se comportando de maneira anormal. Para este caso de uso específico, recomendamos usar nosso <DNT>**anomaly threshold**</DNT>. Nossa detecção de anomalia avalia constantemente seus dados para entender como seu sistema normalmente se comporta. Ao definir um limite de anomalia, você pode usar nossa detecção de anomalia para alertar sua equipe se o tempo de transação da web se desviar do desempenho esperado. Como você deseja apenas saber se o tempo de transação da Web está se comportando de maneira incomum, selecione <DNT>**upper and lower**</DNT> porque deseja a notificação de *todos os* Desvio. Mas, se você quiser apenas um alerta se o tempo de transação na Web demorar *mais* que o normal, selecione <DNT>**upper only.**</DNT>

        Em seguida, você precisa definir o nível de prioridade. O nível de prioridade determina o que criará um evento de alerta. Recomendamos definir o nível de prioridade como <DNT>**critical**</DNT> para o seu primeiro alerta. Você pode saber mais sobre níveis de prioridade em nossa [documentação de condições de alerta](/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/advanced-techniques/set-thresholds-alert-condition#threshold-levels).

        Em seguida, você deve escolher o que define um <DNT>**critical anomaly threshold breach**</DNT>. Para este primeiro alerta, recomendamos usar nossas configurações padrão e ajustar às suas necessidades conforme necessário. Portanto, deixe as configurações para abrir um evento de alerta &quot;quando uma consulta retornar um valor que desvia do valor previsto: <DNT>**for at least five minutes**</DNT> em <DNT>**3 standard deviations**</DNT>&quot;.

        Saiba mais sobre anomalia em nossa [documentação](/docs/alerts-applied-intelligence/applied-intelligence/anomaly-detection/anomaly-detection-applied-intelligence/) de anomalia.

        <DNT>
          /* &lt;img title=&quot;Configure your anomaly thresholds&quot; alt=&quot;A screenshot demonstrating how to configure custom anomalies&quot; src=&quot;/images/alerts_screenshot-crop_configure-your-anomaly-thresholds.webp&quot; /&gt; */
        </DNT>
      </Collapser>

      <Collapser id="static-threshold" title="Limite estático">
        Ao contrário dos limites de anomalia, um limite estático não analisa seu conjunto de dados como um todo nem determina qual comportamento é incomum com base no histórico do seu sistema. Em vez disso, um limite estático abrirá um evento de alerta sempre que seu sistema se comportar de maneira diferente dos critérios que você definiu. Os limites de alerta estáticos são muito mais personalizáveis, e nós os recomendamos se você tiver um conhecimento sólido dos seus dados e do que está procurando.

        Saiba mais sobre nossa condição estática do alerta em nossos [documentos NRQL](/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-nrql-alert-conditions/#threshold-types).
      </Collapser>

      <Collapser id="lost-signal" title="Limite de sinal perdido (opcional)">
        Às vezes, um sinal de entrada pode ser perdido, e é importante entender se é simplesmente um atraso ou uma indicação de um problema mais amplo. Nosso <DNT>**lost signal threshold**</DNT> nos permite saber quantos segundos o sistema deve aguardar a partir do momento em que o último ponto de dados foi detectado antes de considerar o sinal como perdido. Se o sinal não retornar antes do limite de tempo definido, você tem algumas opções: abrir um novo evento de alerta, fechar todos os eventos de alerta abertos e/ou pular a abertura de um evento de alerta quando o sinal estiver previsto para terminar. Clique [aqui](/docs/alerts/create-alert/create-alert-condition/create-nrql-alert-conditions/#signal-loss) para saber mais sobre suas opções de limite de perda de sinal.

        Definir o limite do sinal perdido requer conhecimento do seu sistema e do que você deseja entender. No caso do tempo de transação na web, digamos que a New Relic coleta um sinal a cada minuto. Um sinal perdido pode indicar um problema de latência muito maior. Portanto, recomendamos definir o horário de acordo com seu nível de conforto e marcar a caixa <DNT>**open a new lost signal alert event**</DNT>.

        <DNT>
          /* &lt;img title=&quot;&quot; alt=&quot;&quot; src=&quot;/images/alerts_screenshot-crop_lost-signal-threshold.webp&quot;/&gt; */
        </DNT>
      </Collapser>
    </CollapserGroup>
  </Step>

  <Step>
    ## Ajustar configurações de sinal avançadas [#advanced-signal-settings]

    A New Relic observa constantemente os dados transmitidos do seu aplicativo para o nosso sistema. Mas nem todos os aplicativos enviam sinais na mesma frequência ou cadência. Alguns eventos podiam enviar sinais ao nosso sistema uma vez por minuto, enquanto outros só podiam reportar dados à New Relic uma vez por dia. Uma condição do alerta é um contêiner <DNT>**specific**</DNT> projetado para um caso de uso <DNT>**specific**</DNT> . Ao criar uma condição do alerta, esta seção é a mais personalizável para os dados que você está avaliando.

    Vamos personalizar essas configurações avançadas de sinal para nossa condição que busca problemas de transação da web latência.

    <CollapserGroup>
      <Collapser id="window-duration" title="Duração da janela">
        <DNT>
          /* &lt;img title=&quot;Window duration&quot; alt=&quot;A screenshot depicting advanced custom settings for an alert condition.&quot; src=&quot;/images/alerts_screenshot-crop_window-duration.webp&quot; /&gt; */
        </DNT>

        Definir a duração da janela para sua condição do alerta informa à New Relic como agrupar seus dados. Se você estiver criando uma condição do alerta para um conjunto de dados que envia um sinal para o New Relic uma vez a cada hora, você desejará definir a duração da janela para algo próximo de sessenta minutos, pois isso ajudará a detectar padrões e comportamentos incomuns. Mas, se você estiver criando uma condição de alerta para o tempo de transação da Web e o New Relic coletar um sinal para esses dados a cada minuto, recomendamos definir a duração da janela para um minuto.

        Para o seu primeiro alerta, recomendamos manter nossas configurações padrão, mas quanto mais você se familiarizar com a criação de uma condição do alerta, encorajamos você a personalizar esses campos com base em sua própria experiência.
      </Collapser>

      <Collapser id="sliding-window" title="Use agregação de janela deslizante">
        Ao longo do dia, os dados fluem da sua aplicação para o New Relic. Em vez de avaliar esses dados imediatamente para eventos de alerta, as condições de alerta coletam os dados durante um período de tempo conhecido como <DNT>**aggregation window**</DNT>. Um atraso adicional permite que pontos de dados mais lentos cheguem antes que a janela seja agregada.

        As janelas deslizantes são úteis quando você precisa suavizar gráficos &quot;ponjosos&quot;. Um caso de uso comum é usar janelas deslizantes para suavizar gráficos de linha que apresentam muita variação em curtos períodos de tempo, em casos em que o agregado contínuo é mais importante do que agregados de janelas estreitas de tempo.

        Recomendamos usar nossa agregação de janela deslizante se você não espera ter um fluxo de dados constante e consistente, mas espera algumas quedas e picos nos dados.

        Você pode aprender mais sobre agregação de janelas deslizantes [neste tutorial NRQL](/docs/query-your-data/nrql-new-relic-query-language/nrql-query-tutorials/create-smoother-charts-sliding-windows/) ou assistindo a este vídeo.

        <Video type="youtube" id="-5--8DZynFE" />
      </Collapser>

      <Collapser id="streaming-method" title="Método de streaming">
        Em geral, recomendamos usar o método de streaming <DNT>**event flow**</DNT> . Isso é melhor para dados que chegam ao seu sistema com frequência e de forma constante. Há casos específicos em que <DNT>**event timer**</DNT> pode ser o melhor método a ser escolhido, mas para seu primeiro alerta recomendamos nosso padrão, <DNT>**event flow**</DNT>. Para entender melhor qual método de streaming escolher, recomendamos assistir a este breve vídeo.

        <Video type="wistia" id="n6nei987ln" />
      </Collapser>

      <Collapser id="delay" title="Atraso">
        O recurso de atraso protege contra a coleta de dados inconsistente. Isso dá à condição de alerta uma pequena margem de manobra antes de decidir criar um evento de alerta. Se, em um determinado minuto, seus dados chegarem à New Relic com carimbos de data/hora de apenas um único minuto, então uma configuração de baixo atraso será suficiente. Por outro lado, se durante esse minuto a New Relic receber pontos de dados com carimbos de data/hora de vários minutos atrás ou vários minutos à frente, então seu sinal é mais inconsistente e precisará de uma configuração de atraso maior.
      </Collapser>

      <Collapser id="gap-filling-strategy" title="Estratégia de preenchimento de lacunas">
        Estamos criando uma condição do alerta para notificar nossa equipe sobre quaisquer problemas de latência com o tempo de transação web. Nesse caso, nosso aplicativo envia consistentemente dados do New Relic. Há um fluxo constante de sinais sendo enviados de nosso aplicativo para o New Relic e não há lacuna esperada no sinal, portanto não precisaremos selecionar uma estratégia para preencher lacunas. Para este caso de uso e para seu primeiro alerta, recomendamos deixar <DNT>**gap-filling strategy**</DNT> definido como <DNT>**none**</DNT>.

        Se você tiver um conjunto de dados mais inconsistente enviando sinais para a New Relic uma vez a cada vinte e quatro horas, recomendamos personalizar esse recurso com base nas necessidades específicas de sua equipe.

        Saiba mais sobre estratégias de preenchimento de lacunas em nossos [documentos sobre sinais perdidos](/docs/apis/nerdgraph/examples/nerdgraph-api-loss-signal-gap-filling/).
      </Collapser>
    </CollapserGroup>
  </Step>

  <Step>
    ## Conecte sua condição a uma política [#connect-condition-policy]

    Se houver algum problema de latência com os tempos de transação da web, gostaríamos de receber uma notificação o mais rápido possível. A melhor ação rápida e eficiente é criar uma condição de alerta que abrirá um evento de alerta se os tempos de transação web demorarem muito.

    Esta condição do alerta é um contêiner que contém todas as regras – estamos usando limite estático ou de anomalia, estamos usando uma agregação de janela deslizante ou apenas deixando o período de avaliação normal?

    Neste ponto do processo, agora temos um contêiner totalmente definido e configuramos todas as regras para garantir que um evento de alerta seja aberto quando quisermos. Com base nas configurações acima, se nossa condição de alerta reconhecer esse comportamento em nosso sistema que viola os limiares que definimos, ela criará um evento de alerta. Agora, tudo o que precisamos fazer é anexar este contêiner a uma política.

    A política é o sistema de classificação do evento de alerta. Ao criar uma política, você está criando a ferramenta que organiza todos os seus eventos de alerta recebidos. Você pode conectar políticas a <DNT>**[workflows](/docs/alerts/get-notified/alert-event-workflows/)**</DNT> que informam à New Relic para onde você deseja que todas essas informações recebidas vão, com que frequência deseja que sejam enviadas e para onde.

    <CollapserGroup>
      <Collapser id="select-an-existing-policy" title="Selecione uma política existente">
        Se você já possui uma política que deseja conectar a uma condição do alerta, selecione a política existente.

        Saiba mais sobre como criar políticas [aqui](/docs/alerts/organize-alerts/specify-when-alerts-create-events).
      </Collapser>

      <Collapser id="create-a-new-policy" title="Crie uma nova política">
        Se quisermos criar uma nova política para esta condição de alerta, esta é a nossa chance. Lembre-se de que uma política está conectada a fluxos de trabalho e os fluxos de trabalho controlam a frequência com que somos notificados sobre quaisquer eventos de alerta. É um equilíbrio delicado entre garantir que saibamos sobre quaisquer problemas com o tempo de transação web o mais rápido possível e garantir que não recebamos tantos alertas a ponto de nossos desenvolvedores sofrerem fadiga e começarem a perder informações importantes devido à sobrecarga de informações.

        As políticas podem conter uma ou várias condições. Se você deseja monitor a transação da latência da web, você tem algumas opções.

        Primeiro, você pode criar uma política que anexa apenas um problema por política (a opção padrão). Um problema por política reduz o ruído, mas também requer ação imediata. Mas isso significa que se você anexou várias condições a esta política, não apenas a <DNT>**Response time: Example app**</DNT>, então, independentemente do que aconteça, todos os eventos de alerta nesta política serão agrupados em um único problema.

        Ou poderíamos criar um problema por condição. Isso significa que sempre que a condição <DNT>**Response time: Example app**</DNT> abrir um evento de alerta, todos esses eventos de alerta serão agrupados em um único problema conectado à nossa condição. Para este caso de uso específico, você deve escolher esta opção porque ela atende ao objetivo principal, que é monitorar problemas de latência com o tempo de transação da web.

        Ou poderíamos criar uma issue para cada evento de alerta. Esta opção é a mais ruidosa, mas pode funcionar bem se você deseja enviar informações para um sistema externo.

        Saiba mais sobre como criar políticas [aqui](/docs/alerts/organize-alerts/specify-when-alerts-create-events).
      </Collapser>
    </CollapserGroup>
  </Step>

  <Step>
    ## Configurações adicionais [#additional-settings]

    <CollapserGroup>
      <Collapser id="close-open-alert events" title="Fechar eventos de alerta abertos">
        Um evento de alerta será fechado automaticamente quando o sinal alvo retornar a um estado de não violação pelo período de tempo indicado nos limites da condição. Este tempo de espera é chamado de período de recuperação.

        Por exemplo, se o comportamento de violação for &quot;o tempo de transação web é maior que .50 segundos pelo menos uma vez em 5 minutos,&quot; então o evento de alerta será encerrado automaticamente quando o tempo de transação da web for igual ou inferior a 0,50 por 5 minutos consecutivos.

        Quando um evento de alerta fecha automaticamente:

        1. O timestamp de fechamento é retroativo ao início do período de recuperação.

        2. A avaliação é redefinida e reiniciada a partir do momento em que o evento de alerta anterior terminou.

           Todas as condições possuem uma configuração de limite de tempo de evento de alerta que forçará automaticamente o encerramento de um evento de alerta de longa duração.

           O padrão é automaticamente de 3 dias e recomendamos que você use nossas configurações padrão para seu primeiro alerta.
      </Collapser>

      <Collapser id="custom-alert-event-description" title="Envie uma descrição de evento de alerta personalizado">
        Como estamos criando uma condição de alerta que nos permite saber se há problemas de latência com o tempo de transação da web, queremos garantir que nossos desenvolvedores tenham todas as informações necessárias quando forem notificados sobre esse evento de alerta. Vamos usar workflows para notificar um canal do Slack da equipe quando um evento de alerta for criado.

        Saiba mais sobre descrições de eventos de alerta personalizados em nossa [documentação](/docs/alerts/create-alert/condition-details/custom-alert-event-descriptions).
      </Collapser>

      <Collapser id="runbook" title="Adicionar URL do runbook">
        Se quiser vincular a um runbook, você pode colocar a URL no campo URL do runbook.
      </Collapser>
    </CollapserGroup>
  </Step>
</Steps>