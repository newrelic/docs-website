---
title: Crie condições de alerta NRQL "host não relatando"
metaDescription: Create guided mode NRQL conditions for "host not reporting" infrastructure errors.
freshnessValidatedDate: '2024-08-01T00:00:00.000Z'
translationType: machine
---

O modo guiado de condição NRQL simplifica a criação de alertas de &quot;host not reporting&quot; (HNR). Em vez de construir manualmente uma consulta NRQL, esta abordagem guiada ajuda você a definir rapidamente condições para detectar quando os agentes de infraestrutura param de enviar dados. Este método oferece maior flexibilidade para segmentar grupos de hosts específicos, personalizar limites de alerta e refinar critérios de eventos de alerta em comparação com os alertas HNR tradicionais.

## Recurso [#features]

Um evento HNR é gerado quando o agente de infraestrutura falha ao transmitir dados ao nosso coletor dentro de um período de tempo especificado.

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        <DNT>
          **Host not reporting condition**
        </DNT>
      </th>

      <th>
        <DNT>
          **Features**
        </DNT>
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        O que monitor
      </td>

      <td>
        Você pode usar a [barra de filtro de entidade](/docs/new-relic-solutions/new-relic-one/core-concepts/search-filter-entities) para selecionar quais hosts você deseja que a condição de alerta NRQL monitore. Com base em suas seleções, a consulta NRQL será criada automaticamente para você. A condição também será aplicada automaticamente a todos os hosts que você adicionar no futuro que correspondam aos filtros da sua condição.
      </td>
    </tr>

    <tr>
      <td>
        Como notificar
      </td>

      <td>
        As condições NRQL estão contidas em [políticas](/docs/using-new-relic/welcome-new-relic/get-started/glossary#alert-policy). As políticas usam [fluxos de trabalho e destinos](/docs/alerts/get-notified/intro-notifications/) para determinar como notificar você quando um evento de alerta for criado.
      </td>
    </tr>

    <tr>
      <td>
        Quando abrir um evento de alerta
      </td>

      <td>
        O modo guiado HNR orienta você na criação de uma condição NRQL de perda de sinal. Isso significa que você tem acesso total a todas as [configurações de limite de perda de sinal](/docs/alerts/create-alert/create-alert-condition/create-nrql-alert-conditions/#signal-loss), incluindo configurar a janela de tempo que aciona um evento HNR e selecionar entre as opções: <DNT>**Close all current open alert events**</DNT>, <DNT>**Open new &quot;lost signal&quot; alert event**</DNT> e <DNT>**Do not open &quot;lost signal&quot; alert event on expected termination**</DNT>. Estas configurações, em combinação com as [preferências de evento de alerta](/docs/alerts/organize-alerts/specify-when-alerts-create-events) da política, determinam quando um evento de alerta será aberto.
      </td>
    </tr>
  </tbody>
</table>

## Crie uma condição de alerta NRQL HNR [#create-nrql-hnr-alert-condition]

1. Navegação para uma página de política de alerta.

2. Clique em **New alert condition**.

3. Selecione **Use guided mode**.

4. Selecione **Hosts** na categoria **Tell us where to look** . (Observação: se você não vir a opção &quot;hosts&quot;, talvez seja necessário seguir [as instruções para instrumentar sua infraestrutura](/docs/infrastructure/host-integrations/installation/new-relic-guided-install-overview/).)

   <img title="creating a condition step 2" alt="screenshot of alert condition step 2" src="/images/alerts_screenshot-crop_tell-us-where-to-look.webp" />

5. Se **Hosts** não for selecionado automaticamente para você em **Select an entity type**, escolha **Hosts** novamente.

6. Clique em **Next**.

7. Em **Select signal catgory**, selecione **Host**.

8. Em **Select a metric to monitor**, selecione **Host not reporting**.

   <img title="host not reporting selection" alt="screenshot of selecting host not reporting option" src="/images/alerts_screenshot-crop_host-not-reporting-selection.webp" />

9. Agora, você pode usar o filtro de entidade para restringir o escopo do(s) host(s) que deseja monitorar.

10. Clique em **Next**.

    <DNT>
      /* &lt;img title=&quot;set condition thresholds&quot; alt=&quot;screenshot of setting remaining thresholds&quot; src=&quot;/images/alerts_screenshot-crop_set-condition-thresholds.webp&quot;/&gt; */
    </DNT>

11. Em **Consider the signal lost after**, você tem a opção de ajustar a janela de tempo de 30 segundos a 48 horas. Você também tem a opção de ajustar suas [configurações de perda de sinal](/docs/alerts/create-alert/create-alert-condition/create-nrql-alert-conditions/#signal-loss), incluindo selecionar a opção de pular a abertura de um evento de alerta quando o término do sinal for esperado (por exemplo, se o seu host for desligado).

12. Siga as etapas restantes para concluir a configuração e salvar sua condição de alerta.

## Opção: Não abrir evento de alerta de &quot;sinal perdido&quot; no encerramento esperado [#do-not-open-lost-signal]

Ao selecionar a opção **Do not open &quot;lost signal&quot; alert event on expected termination**, você está informando ao New Relic para não abrir um evento de alerta quando o encerramento do sinal for esperado. Isso é útil quando você sabe que um host será desligado.

Para habilitar esta opção, você também deve ter **Open new &quot;lost signal&quot; alert event** marcado. Dessa forma, o New Relic sabe abrir um novo evento de alerta quando o sinal é perdido, mas não quando a perda de sinal é esperada.

<DNT>
  /* &lt;img title=&quot;signal loss options&quot; alt=&quot;screenshot of signal loss options&quot; src=&quot;/images/alerts_screenshot-crop_signals-lost-options.webp&quot; width=&quot;50%&quot; /&gt; */
</DNT>

<Callout variant="important">
  Para evitar que um evento de alerta de perda de sinal seja aberto quando &quot;Não abrir evento de alerta de &quot;sinal perdido&quot; no encerramento esperado&quot;, a tag `termination: expected` deve ser adicionada à entidade do host. Esta tag nos diz que o sinal estava previsto para terminar. Veja como adicionar a tag [diretamente à entidade do host](/docs/new-relic-solutions/new-relic-one/core-concepts/use-tags-help-organize-find-your-data/#add-tags).
</Callout>