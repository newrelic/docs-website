---
title: Configurar a lógica de correlação com decisões
metaDescription: 'For New Relic''s alerts, how to configure the correlation logic using decisions.'
freshnessValidatedDate: never
translationType: machine
---

Com a lógica de correlação de alertas, problemas relacionados são agrupados para reduzir alertas redundantes e que causam distração. À medida que os eventos entram no seu sistema, eles se tornam elegíveis para nossa lógica de correlação. Problemas elegíveis são avaliados com base no tempo, contexto do alerta e dados de relacionamento. Se vários problemas estiverem relacionados, nossa lógica de correlação canalizará os eventos de alerta relacionados em um único [problema](/docs/alerts-applied-intelligence/overview/#concepts-terms) abrangente.

Chamamos essa lógica de correlação de <DNT>**decisions**</DNT>. Temos decisões integradas, mas você também pode criar e personalizar as suas próprias na página de decisões. Para encontrar a página de decisões, vá para <DNT>**[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &gt; Alerts &gt; Decisions**</DNT>. Quanto mais você configurar suas decisões para atender melhor às suas necessidades, melhor o New Relic poderá correlacionar seus eventos de alerta, reduzir o ruído e fornecer mais contexto para as equipes de plantão.

/\* &lt;img title=&quot;NRAI\_Decisions\_Page.png&quot; alt=&quot;Uma captura de tela que mostra a interface de decisões de alerta.&quot; src=&quot;/images/alerts\_screenshot-full\_new-relic-decisions-page.webp&quot; /&gt; &lt;figcaption&gt; &lt;DNT&gt;\*\*\[one.newrelic.com &gt; All capabilities]\(https\://one.newrelic.com/all-capabilities) &gt; Alerts &gt; Alert event intelligence &gt; Decisions\*\*&lt;/DNT&gt;: Nossa interface mostra como cada decisão correlaciona eventos de alerta. &lt;/figcaption&gt; \*/

## O que é correlação e como funciona? [#what-is-correlaton]

Seus eventos de alerta mais recentes e ativos estão disponíveis para nossa lógica de correlação. Por exemplo, digamos que seu sistema tenha recebido dois alertas informando que um monitor sintético está falhando na Austrália e em Londres. Esses dois alertas terão criado seus próprios eventos de alerta exclusivos. Esses eventos de alerta gerarão seus próprios problemas exclusivos com base na [política de criação de eventos de alerta](/docs/alerts/organize-alerts/specify-when-alerts-create-events#preference-options) existente da sua equipe. A lógica de correlação da New Relic testará esses eventos de alerta entre si para encontrar similaridades. Neste caso, é o mesmo monitor que está falhando em vários locais, então o New Relic mesclará ambos os eventos de alerta em um único incidente que contém cada evento relevante.

Quando correlacionamos um evento, comparamos cada par de combinações entre si e combinamos o maior número possível. Por exemplo:

* Nosso algoritmo correlaciona os eventos de alerta A e B (chame de &quot;AB&quot;).
* Nosso algoritmo correlaciona os eventos de alerta B e C (chame-o de &quot;BC&quot;).
* Como B está presente em ambos os problemas, o algoritmo correlaciona todos os três eventos de alerta em um único problema.

## Configurar política de correlação [#configure-correlation]

Para ativar a correlação em problemas baseados em [alertas](/docs/alerts-applied-intelligence/overview/#concepts-terms) , você precisará conectar-se à correlação para a respectiva [política de alertas](/docs/alerts-applied-intelligence/new-relic-alerts/alert-policies/create-edit-or-find-alert-policy/#alert-policy-name).

<img title="Decision - enable correlation for alert policy" alt="A screenshot of how to enable correlation for an alert policy." src="/images/alerts_screenshot-full_decision-policy-.webp" />

<figcaption>
  Marque a caixa <DNT>**Correlate and suppress noise**</DNT> para ativar a correlação para a política de alertas.
</figcaption>

## Tipos de decisão [#decision-types]

As decisões determinam como a inteligência de eventos de alerta correlaciona os problemas. A lógica de correlação da New Relic está disponível para sua equipe em três tipos diferentes de decisão:

* <DNT>**Global decision**</DNT>: um amplo conjunto de decisões padrão é ativado automaticamente quando você começa a usar alertas.
* <DNT>**Suggested decision**</DNT>: o mecanismo de correlação do New Relic avalia constantemente os dados do evento para sugerir decisões que capturem padrões de correlação para reduzir o ruído. Você pode visualizar os resultados da simulação de uma decisão sugerida e optar por ativá-la.
* <DNT>**Custom decision**</DNT>: sua equipe pode personalizar decisões com base no seu caso de uso para aumentar a eficácia da correlação. A interface de decisão do New Relic oferece flexibilidade para configurar todas as dimensões em uma decisão.

## Revise suas decisões ativas [#decisions]

Para revisar as decisões existentes de sua equipe:

1. Vá para <DNT>**[one.newrelic.com](https://one.newrelic.com/all-capabilities)&gt; Alerts &gt; alert event intelligence &gt; Decisions**</DNT>.
2. Revise a lista de decisões ativas. Para ver a lógica da regra que cria correlações entre seus problemas, clique na decisão.
3. Para ver exemplos de eventos de alerta que a decisão correlacionou, clique na aba <DNT>**Recent correlations**</DNT>.
4. Você tem a opção de ativar ou desativar essas decisões globais.

## Configurar fontes [#configure-sources]

Antes de configurar suas decisões, é importante determinar as fontes que você gostaria de correlacionar. Fontes são suas entradas de dados.

Você pode obter dados de qualquer uma das seguintes fontes:

<CollapserGroup>
  <Collapser className="freq-link" id="configure-source-nr-alerts" title="alerta">
    Ao habilitar a inteligência de eventos de alerta para suas políticas <InlinePopover type="alerts" />, você pode obter contexto e correlações do que está monitorando. Para obter dados de alertas:

    1. Em <DNT>**[one.newrelic.com](https://one.newrelic.com/all-capabilities)**</DNT>, clique em <DNT>**Alerts**</DNT>.

    2. À esquerda, em <DNT>**Alerts**</DNT>, clique em <DNT>**Sources**</DNT> e, em seguida, clique em <DNT>**Alerts**</DNT>.

    3. Selecione as políticas que você deseja conectar aos alertas e clique em <DNT>**Connect**</DNT>.

       Você pode adicionar políticas de alertas adicionais ou remover políticas que você já conectou em <DNT>**Sources &gt; Alerts**</DNT>.

       <Callout variant="tip">
         Adicionar alerta como fonte não afetará sua configuração ou notificação atual.
       </Callout>
  </Collapser>

  <Collapser className="freq-link" id="configure-aporia" title="Aporia (MLOps)">
    Ao integrar a inteligência de eventos de alerta aos seus modelos de machine learning da Aporia, você pode monitorar o desempenho do seu modelo de machine learning. Para configurar nossa integração com o Aporia, consulte nossa [documentação](/docs/integrations/mlops-integrations/aporia-mlops-integration/).
  </Collapser>

  <Collapser className="freq-link" id="configure-aporia" title="Supersábio (MLOps)">
    Ao integrar a inteligência de eventos de alerta com seus modelos de machine learning Superwise, você pode monitorar o desempenho do seu modelo de machine learning. Para configurar nossa integração com o Superwise, consulte nossa [documentação](/docs/alerts-applied-intelligence/mlops/integrations/superwise-mlops-integration/).
  </Collapser>

  <Collapser className="freq-link" id="configure-source-rest-api" title="API REST">
    A inteligência de eventos de alerta suporta uma interface de API REST dedicada que permite a integração com sistemas adicionais. A interface permite a instrumentação do seu código ou de outras soluções de monitoramento para reportar qualquer tipo de métrica ou evento.

    * Uma métrica pode ser um ponto de dados brutos, como CPU, memória, utilização de disco ou KPI de negócios.

    * Um evento pode ser um alerta de monitoramento, evento de implantação, evento de alerta, exceções ou qualquer outra mudança de estado que você queira descrever.

      Você também pode enviar qualquer tipo de dados para a inteligência de eventos de alerta diretamente de seus próprios sistemas ou aplicativos. A API REST suporta autenticação segura baseada em token e aceita conteúdo JSON como entrada.

      Para obter mais informações sobre autenticação e a referência completa da API, consulte [API REST para alertas New Relic](/docs/rest-api-new-relic-ai).
  </Collapser>
</CollapserGroup>

### Decisões globais [#global-decisions]

As decisões globais são ativadas automaticamente quando sua equipe começa a usar alertas. Eles não requerem configuração e estão imediatamente disponíveis para sua equipe. As decisões globais abrangem uma variedade de cenários de correlação.

A tabela abaixo fornece descrições de todas as decisões globais que são habilitadas automaticamente.

<table id="global-decision-descriptions">
  <thead>
    <tr>
      <th style={{ width: "250px" }}>
        Nome da decisão
      </th>

      <th>
        Descrição
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Mesmo nome de destino New Relic (NRQL)
      </td>

      <td>
        A correlação é ativada quando o nome da entidade com limite excedido e a consulta NRQL são iguais. Será identificado evento relevante do mesmo [NRQL condição do alerta](/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-nrql-alert-conditions) . Esta decisão ajuda a relacionar questões que possuem a mesma latência de consulta de transação do Desvio, por exemplo.
      </td>
    </tr>

    <tr>
      <td>
        Mesmo nome de destino New Relic (não NRQL)
      </td>

      <td>
        A correlação é ativada porque o limite de alerta não NRQL do New Relic é o mesmo. Não se aplica à origem REST. Entidade não NRQL refere-se a [entidade](/docs/new-relic-solutions/new-relic-one/core-concepts/what-entity-new-relic/), normalmente aplicativo, tipos HOST, consulte [o repositório New Relic GitHub na síntese de entidade](https://github.com/newrelic/entity-definitions#entity-definitions). Com esta decisão serão identificadas questões relevantes da mesma entidade. Por exemplo, problemas de alta memória do host e problemas de não relatório do host podem ser altamente possíveis devido à mesma causa.
      </td>
    </tr>

    <tr>
      <td>
        Mesmo ID de destino New Relic
      </td>

      <td>
        A correlação é ativada porque o limite de alerta não NRQL do New Relic é o mesmo. Não se aplica à origem REST. Use o ID da entidade para identificar exclusivamente uma instância da entidade. Saiba mais sobre [entity.guid](/docs/new-relic-solutions/new-relic-one/core-concepts/what-entity-new-relic#reserved-attributes).
      </td>
    </tr>

    <tr>
      <td>
        Mesma condição New Relic
      </td>

      <td>
        A correlação é ativada porque os [IDs de condição](/docs/new-relic-solutions/get-started/glossary/#condition_id) da New Relic são os mesmos. Por exemplo, o aumento do uso da CPU com serviços relacionados acionará eventos de alerta da mesma condição de uso da CPU e, assim, será identificado. Essa lógica é valiosa além da [opção de preferência de criação de incidentes da política de alertas](/docs/alerts/organize-alerts/specify-when-alerts-create-events#preference-options) para um incidente por condição, devido à granularidade em nível de condição e à flexibilidade na definição da janela de tempo de correlação.
      </td>
    </tr>

    <tr>
      <td>
        Mesma condição New Relic e URL de link direto
      </td>

      <td>
        A correlação é ativada porque os [IDs de condição](/docs/new-relic-solutions/get-started/glossary/#condition_id) da New Relic e a URL do deep link são iguais. A URL de deep link fornece informações de séries temporais e intervalo de tempo, além da [condição de alerta](/docs/alerts/create-alert/create-alert-condition/alert-conditions). Correlacionar esses problemas torna mais fácil visualizar eventos de alerta relacionados no fluxo de resposta a eventos de alerta com métricas de escopo temporal e realizar análises aprofundadas. A URL de deep link pode ser gerada automaticamente se os eventos de alerta forem acionados por condições de alerta do New Relic, enquanto para a origem REST, [deepLinkUrl](/docs/data-apis/ingest-apis/event-api/alert-event-rest-api/#api-specs) deve ser definida pelo usuário.
      </td>
    </tr>

    <tr>
      <td>
        Mesma condição e título New Relic
      </td>

      <td>
        A correlação é ativada porque os [nomes e títulos de condição](/docs/alerts/create-alert/condition-details/alert-event-attributes/#attributes) do New Relic são iguais. Esta é uma opção refinada que compara títulos, além de condições, para revelar uma relevância mais precisa com a mesma mensagem de alerta.
      </td>
    </tr>

    <tr>
      <td>
        Mesma implantação k8s
      </td>

      <td>
        A lógica de correlação é ativada porque as implantações do Kubernetes são as mesmas. Muitos eventos de alerta são provenientes de alterações de implantação únicas. Esta decisão visa reduzir problemas da mesma implantação de entidade Kubernetes problemática.
      </td>
    </tr>

    <tr>
      <td>
        Mesmo nome de aplicativo, política e ID
      </td>

      <td>
        A lógica de correlação é ativada porque o nome do aplicativo customizado, a política e o ID customizado são iguais. Correlacionamos problemas com esses elementos para reduzir problemas de aplicativos, principalmente para atender a tag personalizadas do usuário. Saiba mais sobre [etiqueta](/docs/new-relic-solutions/new-relic-one/core-concepts/use-tags-help-organize-find-your-data/). O ID da tag personalizada pode ser definido pelo ID da família de condições ou outros valores de ID usados como chave para identificar conexões entre dados.
      </td>
    </tr>

    <tr>
      <td>
        Mensagem de alerta semelhante
      </td>

      <td>
        A correlação é ativada porque os eventos de alerta têm títulos semelhantes e são da mesma entidade. Isso serve para reduzir problemas da mesma entidade causados por [condições de alerta](/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-alert-conditions/) semelhantes.
      </td>
    </tr>

    <tr>
      <td>
        Mesma credencial segura, localização pública e tipo
      </td>

      <td>
        A correlação é ativada porque a credencial segura, a localização pública e o tipo personalizado são iguais, respectivamente. Isso serve para correlacionar problemas da mesma localização/região geográfica com as mesmas credenciais de segurança que normalmente são acionadas por uma única causa raiz (por exemplo, falha no monitor Sintético) e podem ser altamente prováveis de serem resolvidas com a mesma solução. [Adicione tag](/docs/new-relic-solutions/new-relic-one/core-concepts/use-tags-help-organize-find-your-data/#add-tags) para se beneficiar desta decisão.
      </td>
    </tr>

    <tr>
      <td>
        Estrutura de problema semelhante
      </td>

      <td>
        A correlação é ativada porque ambos os eventos de alerta possuem estrutura de atributos e conteúdos de dados semelhantes. Esta é uma versão mais simples de agrupamento, ela adota algoritmos avançados de similaridade em computação matricial para reduzir problemas altamente relacionados.
      </td>
    </tr>

    <tr>
      <td>
        Topologicamente Dependente
      </td>

      <td>
        A correlação é ativada porque os eventos de alerta são gerados a partir de instâncias que possuem relacionamentos dependentes. Saiba mais sobre a [correlação de topologia pronta para uso](#topology-requirements).
      </td>
    </tr>
  </tbody>
</table>

### Use decisões sugeridas [#suggested-decisions]

Os dados das fontes selecionadas são continuamente inspecionados em busca de padrões para ajudar a reduzir o ruído. Depois que os padrões forem observados em seus dados, nossa lógica de correlação sugerirá decisões exclusivas que permitiriam que esses tipos de eventos se correlacionassem no futuro.

Para começar, clique na guia <DNT>**Suggested decisions**</DNT> no tópico da página de interface <DNT>**Decisions**</DNT> . Você pode ver a lógica por trás da decisão sugerida e a taxa de correlação estimada clicando em cada decisão sugerida.

<img title="Suggested decision block" alt="A screenshot of a suggested decision block" src="/images/alerts_screenshot-full_suggested-decisions.webp" />

<figcaption>
  <DNT>**[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &gt; Alerts &gt; Decisions**</DNT>: alguns exemplos de estatísticas da interface de decisões.
</figcaption>

Para ativar uma decisão sugerida, clique em <DNT>**Add to your decisions**</DNT>. Uma vez ativada, a decisão aparecerá na tabela de decisão principal da sua equipe. Todas as decisões sugeridas mostrarão o criador como New Relic AI (isso se refere aos alertas da New Relic).

Se a decisão sugerida não for relevante para suas necessidades, clique em <DNT>**Dismiss**</DNT>.

## Crie decisões personalizadas [#customize]

Você pode reduzir o ruído e melhorar a correlação criando suas próprias decisões personalizadas. Para começar a tomar uma decisão, vá para <DNT>**[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &gt; Alerts &gt; Decisions**</DNT> e clique em <DNT>**Create new decision**</DNT>.

Existem duas versões do construtor de decisão:

* Construtor de decisão básico (em versão prévia)
* Construtor de decisão avançado

Para saber mais sobre como usar esses construtores de decisão, continue lendo.

### Elementos de decisão [#decision-elements]

Uma decisão é composta por estes elementos:

* Correlacionar por atributos: Correlacione todos os eventos de alerta por semelhanças ou diferenças em seus atributos.
* Filtrar por valores específicos: Restrinja os eventos de alerta àqueles com valores específicos.
* Filtrar por entidade relacionada: Selecione os tipos de conexões compartilhadas ou dependência que deseja que procuremos.
* Intervalo de tempo de correlação: Define a diferença de tempo máxima permitida entre os horários de criação de dois eventos de alerta para que eles sejam considerados para correlação.

Uma vez configuradas as conexões entre eventos de alerta, nosso [algoritmo](#what-is-correlaton) agrupa eventos de alerta correlacionados em um único problema.

### Construtor de decisão básico [#basic-decision-builder]

<DNT>**This feature is currently in preview and available for only some customers.**</DNT> Se você não tiver acesso, consulte as instruções do [construtor de decisão avançado](#advanced-decision-builder).

Aqui está um pequeno vídeo (3:25 minutos) mostrando como usar o construtor de decisão básico:

<Video type="wistia" id="xmbcv8rhuu" />

O construtor de decisão básico cobre a maioria dos casos de uso e foca em &quot;correlacionar por atributo&quot;, onde você pode especificar condições de filtro para correspondências de correlação. Você também pode aplicar a mesma lógica de filtro para valores específicos a ambos os eventos de alerta sendo correlacionados. Por exemplo, você pode correlacionar eventos de alerta se o nome da entidade for `host 1` para ambos.

Para criar sua própria decisão customizada usando o construtor de decisão básico, conclua as etapas a seguir. Tenha em mente que as etapas 1, 2 e 3 são opcionais por si só, mas pelo menos uma das três deve ser definida para que se possa tomar uma decisão.

#### Passo 1: Correlacionar por atributo [#basic-correlate-attributes]

Escolha um atributo no menu dropdown . O operador `equal` , a opção mais popular, está pré-selecionado ou você pode escolher outro [operador](#operators).

O segundo atributo geralmente corresponde ao primeiro, por isso é preenchido automaticamente. Você pode manter a opção de preenchimento automático ou escolher outra operadora.

Quando terminar, uma [simulação](#simulations) será executada automaticamente.

Você pode repetir essas etapas para adicionar até oito filtros lógicos.

/\* &lt;CollapserGroup&gt; &lt;Collapser id=&quot;basic-correlate-attributes-ui&quot; title=&quot;Veja uma captura de tela da UI&quot; &gt; &lt;img title=&quot;Uma captura de tela do construtor de decisão básico, correlacionando com atributos.&quot; alt=&quot;Uma captura de tela do construtor de decisões básico, correlacionando com atributos.&quot; src=&quot;/images/alerts\_screenshot-crop\_basic-decision-builder-correlate-attributes.webp&quot; /&gt; &lt;/Collapser&gt; &lt;/CollapserGroup&gt; \*/

#### Etapa 2: filtrar por valores específicos [#basic-filter-values]

1. Para abrir a seção `Filter by specific values` e ver filtros adicionais, clique em <DNT>**See more options**</DNT>.
2. Escolha um atributo.
3. O operador `equal` está pré-selecionado ou você pode selecionar outro [operador](#operators).
4. Selecione os valores esperados para o atributo escolhido, com suporte para múltiplas seleções.

Quando concluída, a [simulação](#simulations) será executada automaticamente.

Você pode repetir essas etapas para adicionar até oito filtros lógicos.

/\* &lt;CollapserGroup&gt; &lt;Collapser id=&quot;basic-builder-filer-values-ui&quot; title=&quot;Veja uma captura de tela da interface&quot; &gt; &lt;img title=&quot;Uma captura de tela do construtor de decisão básico, filtrando por valores.&quot; alt=&quot;Uma captura de tela do construtor de decisão básico, filtrando por valores.&quot; src=&quot;/images/alerts\_screenshot-crop\_basic-decision-builder-filter-values.webp&quot; /&gt; &lt;/Collapser&gt; &lt;/CollapserGroup&gt; \*/

#### Passo 3: Filtrar por entidade relacionada [#basic-filter-related-entities]

Clique em <DNT>**Filter by related entities**</DNT> e escolha as classes de entidade.

Quando seus dados são coletados pelo [agente New Relic](/docs/new-relic-solutions/new-relic-one/install-configure/compatibility-requirements-new-relic-agents-products/), você obtém correlação automática de topologia. [Saiba mais sobre nossa correlação de topologia padrão](#topology-requirements).

Você também pode definir [configurações de topologia usando nossa API NerdGraph](/docs/apis/nerdgraph/examples/topology-nerdgraph-tutorial). Isso permite que qualquer decisão relacionada à topologia seja combinada com seus dados de topologia. [Saiba mais sobre como configurar a correlação de topologia](#topology).

/\* &lt;CollapserGroup&gt; &lt;Collapser id=&quot;basic-builder-related-entities-ui&quot; title=&quot;Veja uma captura de tela da UI&quot; &gt; &lt;img title=&quot;Uma captura de tela do construtor de decisões básico, filtrando por entidades.&quot; alt=&quot;Uma captura de tela do construtor de decisão básico, filtrando por entidades.&quot; src=&quot;/images/alerts\_screenshot-crop\_basic-decision-builder-filter-related-entities.webp&quot; /&gt; &lt;/Collapser&gt; &lt;/CollapserGroup&gt; \*/

#### Etapa 4: definir o intervalo de tempo de correlação [#basic-set-time-range]

Isso define a diferença máxima de tempo permitida entre os horários de criação de dois eventos de alerta para que sejam considerados para correlação. eventos de alerta dentro deste intervalo serão avaliados com base em regras especificadas, enquanto aqueles fora do intervalo não serão correlacionados.

O intervalo de tempo é definido como 20 minutos por padrão. Você pode ajustá-lo entre 1-120 minutos.

/\* &lt;CollapserGroup&gt; &lt;Collapser id=&quot;basic-builder-time-range&quot; title=&quot;Veja uma captura de tela da interface&quot; &gt; &lt;img title=&quot;Uma captura de tela do construtor de decisão básico, definindo um intervalo de tempo de correlação.&quot; alt=&quot;Uma captura de tela do construtor de decisões básico, definindo um intervalo de tempo de correlação.&quot; src=&quot;/images/alerts\_screenshot-crop\_basic-decision-builder-time-range.webp&quot; /&gt; &lt;/Collapser&gt; &lt;/CollapserGroup&gt; \*/

#### Passo 5: Testando sua decisão usando uma simulação [#basic-test-with-simulation]

Após adicionar a lógica de filtro, o sistema executa automaticamente uma [simulação](#simulations) usando os dados de eventos de alerta dos últimos 7 dias para ajudar você a validar a decisão antes de aplicá-la.

Você também pode acionar manualmente a simulação clicando em <DNT>**Simulate**</DNT>, o que você pode fazer se algo for alterado na decisão.

/\* &lt;CollapserGroup&gt; &lt;Collapser id=&quot;basic-builder-test-with-simulation-ui&quot; title=&quot;Veja uma captura de tela da interface&quot; &gt; &lt;img title=&quot;Uma captura de tela do construtor de decisão básico, testando com uma simulação.&quot; alt=&quot;Uma captura de tela do construtor de decisões básico, testando com uma simulação.&quot; src=&quot;/images/alerts\_screenshot-crop\_basic-decision-builder-run-simulation.webp&quot; /&gt; &lt;/Collapser&gt; &lt;/CollapserGroup&gt; \*/

#### Etapa 6: nomeie e salve sua decisão [#basic-name-save-decision]

Para acessar o painel de nome e descrição, clique em <DNT>**Create decision**</DNT>. O sistema gera um nome com base na sua decisão. Personalize o nome e a descrição conforme desejado.

/\* &lt;CollapserGroup&gt; &lt;Collapser id=&quot;basic-builder-save-decision-ui&quot; title=&quot;Ver uma captura de tela da interface&quot; &gt; &lt;img title=&quot;Uma captura de tela do construtor de decisão básico: nomeando e salvando a decisão&quot; alt=&quot;Uma captura de tela do construtor de decisão básico: nomeando e salvando a decisão&quot; src=&quot;/images/alerts\_screenshot-crop\_basic-decision-builder-name-describe.webp&quot; /&gt; &lt;/Collapser&gt; &lt;/CollapserGroup&gt; \*/

### Construtor de decisão avançado [#advanced-decision-builder]

O construtor de decisões avançado permite a criação de decisões mais complexas ao aplicar diferentes filtros lógicos aos dois eventos de alerta sendo correlacionados. Por exemplo, você pode correlacionar eventos de alerta se um tiver o nome da entidade `host 1` e o outro tiver o nome da entidade `host 2`. Existem também configurações mais avançadas além de apenas configurar a janela de tempo.

Para usar o construtor de decisão avançado:

1. Vá para <DNT>**[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &gt; Alerts &gt; Decisions**</DNT>.
2. Clique em <DNT>**Create new decision**</DNT> e, em seguida, clique em <DNT>**Use advanced builder**</DNT>.

Para obter detalhes sobre as opções disponíveis, continue lendo.

Termos importantes:

* Filtro lógico: Condição lógica definida com um [operador](#operators) em um [atributo](/docs/alerts/create-alert/condition-details/alert-event-attributes/#attributes).
* Segmento: Um grupo de eventos de alerta que satisfazem uma combinação de filtros lógicos.

Para criar sua própria decisão customizada, conclua as etapas a seguir. Tenha em mente que as etapas 1, 2 e 3 são opcionais por si só, mas pelo menos uma das três deve ser definida para que se possa tomar uma decisão.

#### Etapa 1: Filtre seus dados [#filter-data]

A correlação ocorre entre quaisquer dois eventos de alerta. Se nenhum filtro for definido, todos os eventos de alerta recebidos serão considerados pela decisão. Quanto mais você configurar suas decisões para atender às suas necessidades, melhor poderemos correlacionar seus eventos de alerta, reduzir o ruído e fornecer mais contexto para as equipes de plantão.

Sua equipe pode definir os filtros para o primeiro segmento de eventos de alerta e para o segundo segmento de eventos de alerta. Os [operadores](#operators) de filtro variam de correspondência de substring a [correspondência de regex](#regex) para ajudar você a selecionar os eventos de alerta que deseja e excluir aqueles que não deseja.

/\* &lt;CollapserGroup&gt; &lt;Collapser id=&quot;advanced-decision-builder-filter-data-ui&quot; title=&quot;Veja uma captura de tela da interface&quot; &gt; &lt;img title=&quot;Uma captura de tela do construtor de decisão avançado: filtre seus dados&quot; alt=&quot;Uma captura de tela do construtor de decisão básico: filtre seus dados&quot; src=&quot;/images/alerts\_screenshot-crop\_advanced-decision-builder-filter-data.webp&quot; /&gt; &lt;/Collapser&gt; &lt;/CollapserGroup&gt; \*/

#### Passo 2: Correlacionar por atributo [#correlate-context]

Depois de filtrar seus dados, defina a lógica usada ao comparar o contexto dos eventos de alerta. Você pode correlacionar eventos com base nos seguintes métodos:

* Comparações de valor de atributo com operadores padrão
* Atributo valor similaridade usando [algoritmos de similaridade](#algorithms)
* Atributo value [regex com grupos de captura](#regex)
* Comparações de eventos de alerta completos usando algoritmos de similaridade ou agrupamento

/\* &lt;CollapserGroup&gt; &lt;Collapser id=&quot;advanced-decision-builder-correlate-attributes-ui&quot; title=&quot;Veja uma captura de tela da interface&quot; &gt; &lt;img title=&quot;Uma captura de tela do construtor de decisões avançado: correlacionar por atributos&quot; alt=&quot;Uma captura de tela do construtor de decisões básico: correlacionar por atributos&quot; src=&quot;/images/alerts\_screenshot-crop\_advanced-decision-builder-correlate-attributes.webp&quot; /&gt; &lt;/Collapser&gt; &lt;/CollapserGroup&gt; \*/

#### Passo 3: Correlacionar por entidade relacionada [#topology-correlation]

Para correlação automática de topologia, certifique-se de que seus dados de telemetria sejam coletados pelo [agente New Relic](/docs/new-relic-solutions/new-relic-one/install-configure/compatibility-requirements-new-relic-agents-products/). Saiba mais sobre [a correlação de topologia pronta para uso](#topology-requirements).

Você também pode definir [configurações de topologia usando nossa API NerdGraph](/docs/apis/nerdgraph/examples/topology-nerdgraph-tutorial). Isso permite que qualquer decisão relacionada à topologia seja combinada com seus dados de topologia. [Saiba mais sobre como configurar a correlação de topologia](#topology).

/\* &lt;CollapserGroup&gt; &lt;Collapser id=&quot;advanced-builder-related-entities-ui&quot; title=&quot;Veja uma captura de tela da interface&quot; &gt; &lt;img title=&quot;Uma captura de tela do construtor de decisão avançado: correlacionar por entidades relacionadas&quot; alt=&quot;Uma captura de tela do construtor de decisão básico: correlacionar por entidades relacionadas&quot; src=&quot;/images/alerts\_screenshot-crop\_advanced-decision-builder-related-entities.webp&quot; /&gt; &lt;/Collapser&gt; &lt;/CollapserGroup&gt; \*/

#### Etapa 4: dê um nome a ele [#name-your-decision]

Depois de configurar sua lógica de decisão, forneça a ela um nome reconhecível e uma descrição.

<Callout variant="tip">
  Minimize as preocupações de segurança garantindo não adicionar informações confidenciais ou pessoais a esses campos de texto abertos.
</Callout>

Isso é usado em notificações e outras áreas da interface do usuário para indicar qual decisão fez com que um par de eventos de alerta fosse correlacionado. Se você não quiser atualizar as configurações avançadas padrão na próxima etapa, clique em <DNT>**Create decision**</DNT> para concluir a criação.

/\* &lt;CollapserGroup&gt; &lt;Collapser id=&quot;advanced-builder-name-decision&quot; title=&quot;Veja uma captura de tela da interface&quot; &gt; &lt;img title=&quot;Uma captura de tela do construtor de decisões avançado: nomear decisão&quot; alt=&quot;Uma captura de tela do construtor de decisões básico: nomear decisão&quot; src=&quot;/images/alerts\_screenshot-crop\_advanced-decision-builder-name-decision.webp&quot; /&gt; &lt;/Collapser&gt; &lt;/CollapserGroup&gt; \*/

#### Etapa 5: use configurações avançadas [#advanced-settings]

Use a área de configurações avançadas para personalizar ainda mais como sua decisão se comporta ao correlacionar eventos. Cada configuração possui um valor padrão, portanto a personalização é opcional.

* <DNT>**Time window**</DNT>: Define o tempo máximo entre o horário de criação de dois eventos de alerta para que sejam elegíveis para correlação.
* <DNT>**Issue priority**</DNT>: Sobrescreve a configuração de prioridade padrão (`inherit priority`) para adicionar prioridade maior ou menor se os eventos de alerta estiverem correlacionados.
* <DNT>**Frequency**</DNT>: Modifica o número mínimo de eventos de alerta que precisam atender à lógica de decisão para que a decisão seja acionada.
* <DNT>**Similarity**</DNT>: se você estiver usando operadores `similar to` em sua lógica de decisão, poderá escolher em uma lista de algoritmos e definir sua sensibilidade. Isso se aplicará a todos os `similar to` operadores na sua decisão.

/\* &lt;CollapserGroup&gt; &lt;Collapser id=&quot;advanced-builder-advanced-settings-ui&quot; title=&quot;Ver uma captura de tela da interface&quot; &gt; &lt;img title=&quot;Decisão - configurações avançadas&quot; alt=&quot;Uma captura de tela do construtor de decisão mostrando como configurar definições avançadas.&quot; src=&quot;/images/alerts\_screenshot-full\_decision-builder-settings.webp&quot; /&gt; &lt;/Collapser&gt; &lt;/CollapserGroup&gt; \*/

## Operadores lógicos [#operators]

O Decision fornece um conjunto de operadores para ajudar você a definir com flexibilidade como o valor do atributo de um evento de alerta é avaliado em um filtro lógico. Os básicos são <DNT>**equals**</DNT>, <DNT>**contains**</DNT>, <DNT>**starts with**</DNT>, <DNT>**ends with**</DNT>, <DNT>**exists**</DNT> e seus respectivos operadores de negação. Por exemplo, <DNT>**does not equal**</DNT>.

Existe um operador de similaridade <DNT>**is similar to**</DNT>, o [algoritmo de similaridade](#algorithms) subjacente pode ser especificado para este operador. Por padrão, ele usa Distância Levenshtein.

O operador <DNT>**contains (regex)**</DNT> permite definir a condição [regex](#regex) . Poderoso para combinar valores de dados arbitrários.

### Algoritmos de similaridade [#algorithms]

Aqui estão os detalhes técnicos sobre os algoritmos de similaridade que usamos:

<CollapserGroup>
  <Collapser id="levenshtein-distance" title="Distância Levenshtein">
    Esta medida é útil para comparar strings curtas com esquema estático e comprimento fixo, como nomes de host. A distância de Levenshtein também é conhecida como distância de edição.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Detalhes
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Como funciona
          </td>

          <td>
            A distância Levenshtein entre duas strings é o número mínimo de edições de um único caractere para passar de uma string para outra. As operações de edição permitidas são exclusão, inserção e substituição.

            O limite de similaridade padrão para decisões de alerta é uma distância de edição de 3. Você pode alterar isso no <DNT>**Advanced mode**</DNT> do criador de decisões.
          </td>
        </tr>

        <tr>
          <td>
            Quando usar
          </td>

          <td>
            Esta medida é mais útil para comparar strings relativamente curtas com esquema estático e comprimento fixo. Os aplicativos comuns incluem corretores ortográficos, biologia computacional e reconhecimento de fala.
          </td>
        </tr>

        <tr>
          <td>
            Exemplos
          </td>

          <td>
            `number/bumble: 3 (number → bumber → bumblr → bumble)`

            `trying/lying: 2 (trying → rying → lying)`

            `strong/through: 4 (strong → htrong → throng → throug → through)`
          </td>
        </tr>

        <tr>
          <td>
            Potenciais desvantagens
          </td>

          <td>
            O algoritmo de distância de Levenshtein não é normalizado por padrão para levar em consideração o comprimento das strings.
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="fuzzy-score" title="Pontuação difusa">
    Essa métrica é útil para comparar cadeias de caracteres do mesmo comprimento, nas quais o mesmo prefixo seria um bom indicador de correlação.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Detalhes
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Como funciona
          </td>

          <td>
            O algoritmo de pontuação difusa funciona alocando &quot;pontos&quot; para correspondências de caracteres entre strings:

            * Um ponto para cada personagem correspondente

            * Dois pontos de bônus para partidas subsequentes

              Quanto maior a pontuação fuzzy, maior será a semelhança entre duas strings.
          </td>
        </tr>

        <tr>
          <td>
            Quando usar
          </td>

          <td>
            A pontuação difusa é mais útil para strings que possuem prefixos iguais e relativamente curtos (de preferência, menos de cinco caracteres). Uma pontuação mínima garantida seria `(length(expected prefix) * 3) - 2`.
          </td>
        </tr>

        <tr>
          <td>
            Exemplos
          </td>

          <td>
            Exemplo: `Decisions / dcsions`

            `d: 1`

            `c: 1`

            `i 1`

            `s: 2`

            `o: 1`

            `n: 1`

            `si: 2`

            `io: 2`

            `on: 2`

            `ns: 2`

            `= 15 points`
          </td>
        </tr>

        <tr>
          <td>
            Potenciais desvantagens
          </td>

          <td>
            Se o primeiro caractere da primeira string não for encontrado na segunda string, nenhum ponto será concedido.
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="fuzzy-wuzzy-ratio" title="Proporção difusa e wuzzy">
    Essa métrica é útil para comparar strings de comprimento semelhante.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Detalhes
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Como funciona
          </td>

          <td>
            A família <DNT>**fuzzy wuzzy**</DNT> de medidas de similaridade foi [desenvolvida pela SeatGeek](https://chairnerd.seatgeek.com/fuzzywuzzy-fuzzy-string-matching-in-python/) para ajudar a encontrar ingressos para o mesmo evento que possuem rótulos diferentes em diversas plataformas. A proporção difusa e wuzzy para duas strings é expressa como uma porcentagem, onde um número mais alto indica uma string mais semelhante. É baseado no [algoritmo SequenceMatcher](https://docs.python.org/3/library/difflib.html) no difflib do Python.
          </td>
        </tr>

        <tr>
          <td>
            Quando usar
          </td>

          <td>
            A proporção difusa e wuzzy é eficaz para strings muito curtas (como nome do host) ou strings muito longas (como descrição de evento), especialmente na comparação de strings de comprimento semelhante.
          </td>
        </tr>

        <tr>
          <td>
            Potenciais desvantagens
          </td>

          <td>
            Este algoritmo é muito sensível para ser usado com eficácia em sequências de 3 a 10 palavras. Uma das outras modificações do fuzzy wuzzy (veja abaixo) pode ser uma escolha melhor.
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="fuzzzy-wuzzy-partial" title="Proporção parcial difusa e wuzzy">
    Essa métrica é útil para comparar strings de comprimentos diferentes. Esta modificação no algoritmo fuzzy wuzzy ajuda a resolver a limitação de comprimento efetivo.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Detalhes
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Como funciona
          </td>

          <td>
            Com razão parcial fuzzy wuzzy, a string mais curta é comparada a cada substring do mesmo comprimento dentro da string mais longa. A pontuação da substring de &quot;melhor correspondência&quot; é usada para determinar a proporção parcial difusa e wuzzy.
          </td>
        </tr>

        <tr>
          <td>
            Quando usar
          </td>

          <td>
            A proporção parcial fuzzy wuzzy é especialmente eficaz para os tipos de comparações em que o algoritmo fuzzy wuzzy básico falha em: sequências de 3 a 10 palavras onde algumas substrings significativas provavelmente se sobrepõem.
          </td>
        </tr>

        <tr>
          <td>
            Exemplos
          </td>

          <td>
            Por exemplo, entre as seguintes strings:

            `DevOps and SRE teams`

            `DevOps`

            `DevOps` (a string mais curta, length = 6) seria comparada a cada substring com comprimento 6 dentro de `DevOps and SRE teams`. Como uma dessas substrings (`DevOps`) é uma correspondência perfeita, a proporção parcial difusa e wuzzy para essas duas strings será alta.
          </td>
        </tr>

        <tr>
          <td>
            Potenciais desvantagens
          </td>

          <td>
            Onde o fuzzy wuzzy pode ser muito conservador, a correspondência parcial do fuzzy wuzzy pode ser mais liberal do que o esperado com as correlações. Você pode ajustar o limite no construtor de decisão de acordo com suas necessidades.
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="fuzzy-wuzzy-token" title="Proporção do conjunto token fuzzy wuzzy">
    Essa métrica é útil para comparar strings onde as informações podem não estar na mesma ordem e com possíveis comprimentos diferentes. Funciona melhor para frases como mensagens, descrições, etc.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Detalhes
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Como funciona
          </td>

          <td>
            O algoritmo de proporção do conjunto token segue algumas etapas para comparar strings:

            1. Tokenizar cada string (por exemplo, “Equipes DevOps e SRE” para “DevOps” “e” “SRE” “equipes”; “Equipe SRE e DevOps engenheiro” para “SRE” “equipes” “e” “DevOps” “engenheiro” )

            2. Combine o token de interseção em uma nova string, deixando o token restante (por exemplo, interseção: &quot;DevOps&quot;, &quot;e&quot;, &quot;SRE&quot;; resto1: &quot;equipes&quot;; resto2: &quot;equipe&quot;, &quot;engenheiro&quot;)

            3. Coloque em ordem alfabética cada grupo token (por exemplo. “e, DevOps, SRE”, “equipes”, engenheiro, equipe”)

            4. Compare os seguintes pares de strings:

            5. Grupo de interseção

            6. Grupo de interseção + restante1

            7. Grupo de interseção + restante2

            A comparação desses pares (&quot;melhores correspondências&quot;) é a proporção do conjunto token fuzzy wuzzy.
          </td>
        </tr>

        <tr>
          <td>
            Quando usar
          </td>

          <td>
            Essa métrica é útil nos casos em que strings semelhantes podem ter palavras sobrepostas, mas com construções diferentes; por exemplo, descrições de eventos para problemas diferentes com o mesmo recurso.
          </td>
        </tr>

        <tr>
          <td>
            Potenciais desvantagens
          </td>

          <td>
            Onde o fuzzy wuzzy pode ser muito conservador, a correspondência do conjunto token fuzzy wuzzy pode ser mais liberal do que o esperado com as correlações. Você pode ajustar o limite no construtor de decisão de acordo com suas necessidades.
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="Jaro-winkler-distance" title="Distância Jaro-winkler">
    Esta métrica é útil para cadeias curtas onde prefixos idênticos são uma forte indicação de correlação.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Detalhes
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Como funciona
          </td>

          <td>
            Essa métrica usa uma escala de 0 a 1 para indicar a semelhança entre duas strings, onde 0 é nenhuma semelhança (0 caracteres correspondentes entre strings) e 1 é uma correspondência exata. A semelhança Jaro-Winkler leva em consideração:

            * `matching`: dois caracteres iguais e em posições semelhantes nas strings.
            * `transpositions`: caracteres correspondentes que estão em ordem de sequência diferente nas strings.
            * `prefix scale`: a distância Jaro-Winkler é ajustada favoravelmente se as strings corresponderem desde o início (um prefixo tem até 4 caracteres).
          </td>
        </tr>

        <tr>
          <td>
            Quando usar
          </td>

          <td>
            Essa métrica é bastante tolerante com transposições, mas transposições mais distantes na string são menos úteis.

            Um número geralmente seguro para usar para similaridade Jaro-Winkler em strings moderadas a longas é 0,9; você pode usar `{~}0.85` nos casos em que mais clemência é aceitável (por exemplo, se você tiver outra lógica mais específica na decisão).
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="cosine-distance" title="Distância cosseno">
    Essa medida é usada com mais frequência para comparar grandes blocos de texto (por exemplo, descrições de eventos de alerta) e fornece uma visualização fácil da similaridade.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Detalhes
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Como funciona
          </td>

          <td>
            Para cada bloco de texto que você está comparando, um vetor é calculado para representar a contagem de cada palavra exclusiva no bloco. A distância cosseno dos vetores resultantes é seu produto escalar dividido pelo produto de suas magnitudes.
          </td>
        </tr>

        <tr>
          <td>
            Quando usar
          </td>

          <td>
            Esta medida é mais útil para comparar longos blocos de texto, especificamente quando a comparação pretende considerar o texto como um todo, e não diferenças ou erros ortográficos em palavras individuais.
          </td>
        </tr>

        <tr>
          <td>
            Exemplos
          </td>

          <td>
            ```
            It is not length of life, but depth of life.
            Depth of life does not depend on length.
            ```

            Aqui está a contagem de palavras para essas frases:

            `it 1 0`

            `is 0 1`

            `not 1 1`

            `length 1 1`

            `of 2 1`

            `life 2 1`

            `but 1 0`

            `depth 1 1`

            `does 0 1`

            `depend 0 1`

            `on 0 1`

            E aqui estão essas contagens representadas como um vetor:

            ```
            [1, 0, 1, 1, 2, 2, 1, 1, 0, 0, 0]
            [0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1]
            ```

            A distância cosseno desses vetores é cerca de 0,9 (1 é a maior similaridade).
          </td>
        </tr>

        <tr>
          <td>
            Potenciais desvantagens
          </td>

          <td>
            A distância do cosseno é menos útil para situações em que pequenas diferenças de caracteres nas palavras são insignificantes. Além disso, a distância do cosseno ignora a ordem das palavras nos blocos de texto.
          </td>
        </tr>
      </tbody>
    </table>

    Para obter mais informações sobre a implementação da distância do cosseno, consulte o [passo a passo detalhado em blog.christianperone.com](http://blog.christianperone.com/2013/09/machine-learning-cosine-similarity-for-vector-space-models-part-iii/).
  </Collapser>

  <Collapser id="hamming-distance" title="Distância de Hamming">
    Esta medida é útil para textos mais curtos com esquema estático, mas funciona apenas para cadeias de caracteres do mesmo comprimento.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Detalhes
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Quando usar
          </td>

          <td>
            A distância de Hamming exige que as cordas comparadas tenham o mesmo comprimento. Esta é uma métrica de similaridade útil para situações onde a diferença entre duas strings pode ser devido a erros de digitação, ou onde você deseja comparar dois atributos com comprimentos conhecidos. Por exemplo:

            ```
            Low Disk Space in application myapp in data center us01
            ```

            Se você quiser ser tolerante às mudanças no data center, a distância de Hamming deverá ser definida como 4. Um caso de uso médio para a distância de Hamming seria em torno de 2-3.
          </td>
        </tr>

        <tr>
          <td>
            Exemplos
          </td>

          <td>
            Uma versão mais simples da métrica de &quot;edição de distância&quot;, como a distância de Levenshtein, a distância de Hamming entre duas strings é o número de caracteres na string que não correspondem (na mesma posição). Por exemplo, nas strings abaixo, a distância de Hamming é 2:

            ```
            flowers / florets
            ```
          </td>
        </tr>

        <tr>
          <td>
            Potenciais desvantagens
          </td>

          <td>
            No exemplo acima, se o nome do aplicativo mudar em vez do data center, uma correlação também será criada. À medida que a distância aumenta, a utilidade da Distância de Hamming despenca. Por esse motivo, para qualquer coisa remotamente mais complicada do que ser tolerante a substituições de 1 a 2 caracteres (ou se os comprimentos das strings não corresponderem), use uma medida de similaridade diferente.
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="Jaccard-distance" title="Distância Jaccard">
    Essa medida é útil para comparar grandes blocos de texto, como descrições ou eventos de alerta inteiros.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Detalhes
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Como funciona
          </td>

          <td>
            A distância, indicada em percentagem (0 sendo completamente semelhante; 1 sendo totalmente diferente) é calculada com a seguinte fórmula:

            ```
            1 - [(# of characters in both sets) / (# of characters in either set) * 100]
            ```

            Em outras palavras, a distância de Jaccard é o número de caracteres compartilhados dividido pelo número total de caracteres (compartilhados e não compartilhados). Uma distância de Jaccard de 0,1 significa que 10% ou menos dos caracteres entre dois eventos de alerta são diferentes.
          </td>
        </tr>

        <tr>
          <td>
            Quando usar
          </td>

          <td>
            A distância de Jaccard é muito fácil de interpretar e especialmente útil em casos com grandes conjuntos de dados. Por exemplo, ao comparar a similaridade entre dois eventos de alerta inteiros (ao contrário de um atributo).
          </td>
        </tr>

        <tr>
          <td>
            Potenciais desvantagens
          </td>

          <td>
            É menos eficaz para pequenos conjuntos de dados ou situações com dados ausentes. Além disso, diferentes permutações do conjunto de caracteres não afetam a distância de Jaccard, portanto, tome cuidado para evitar falso positivo.
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

### Operadores Regex [#regex]

Ao [construir uma decisão](#customize), os operadores disponíveis incluem:

* `contains (regex)`: usado na [Etapa 1: Filtre seus dados](#customize).
* `regular expression match`: usado na [Etapa 2: Correlação contextual](#customize).

O construtor de decisões segue os padrões descritos [nestes documentos para expressões regulares](https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html).

<CollapserGroup>
  <Collapser id="regex-step-1" title="Regex na Etapa 1">
    Para que seu regex seja testado como verdadeiro, todo o valor do atributo (os dados que você está avaliando) deve corresponder à expressão regular fornecida. Grupos capturados podem ser usados, mas não são avaliados explicitamente.

    Por exemplo, se o valor do atributo for `foobarbaz`, estes exemplos atenderiam aos critérios e seriam testados como verdadeiros:

    * `foo.*`
    * `^.*baz`
    * `\w+`
  </Collapser>

  <Collapser id="regex-step-2" title="Regex na Etapa 2">
    Para que sua expressão regular seja avaliada como verdadeira, os valores completos dos atributos para o evento de alerta 1 e o evento de alerta 2 devem ser incluídos na correspondência. Além disso, cada grupo capturado (expressões entre parênteses `( )`) deve existir em ambos os valores (atributos do evento de alerta 1 e do evento de alerta 2) e ter o mesmo valor:

    * O número de grupos capturados deve ser igual para ambos os atributos do evento de alerta.

    * Cada grupo deve ser igual ao grupo correspondente entre os valores dos atributos: o valor do primeiro grupo capturado no valor do atributo do evento de alerta 1 é igual ao valor do primeiro grupo capturado no atributo do evento de alerta 2.

      Por exemplo, se o valor do atributo 1 for `abc-123-xyz` e o valor do atributo 2 for `abc-777-xyz`, então `(\w+)-(?:\w+)-(\w+)` atenderia aos critérios:

    * O valor inteiro é correspondido pela expressão.

    * O primeiro e o terceiro grupos capturados têm os mesmos valores respectivos.

    * O segundo grupo não é capturado usando `?:`, o que permite que todo o valor corresponda, mas não é usado na comparação do grupo de captura.
  </Collapser>

  <Collapser id="flags" title="Sobre bandeiras">
    Nenhum sinalizador está habilitado por padrão. Alguns sinalizadores úteis para incluir em expressões regulares no construtor de decisão são:

    * CASE\_INSENSITIVE: (?i)

    * MULTILINA: (?m)

    * DOTAL: (?s)

      Consulte [a documentação detalhada de campo da Oracle](https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#field.detail) para obter mais notas sobre a função e implementação de cada um desses sinalizadores.
  </Collapser>
</CollapserGroup>

## Assistente de correlação [#assistant]

Você pode usar o assistente de correlação para analisar mais rapidamente [eventos de alerta](/docs/alerts/alerts-ai-overview-page#alert-events), criar lógica de decisão e testar a lógica com uma simulação. Para usar o assistente de correlação:

1. Vá para a guia <DNT>**[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &gt; Alerts &gt; Issues &amp; activity &gt; Alert events**</DNT> .
2. Marque as caixas dos eventos de alerta que você deseja correlacionar. Em seguida, na parte inferior da lista de eventos de alerta, clique em <DNT>**Correlate alert events**</DNT>.
3. Para obter melhores resultados ao correlacionar eventos de alerta, selecione atributos comuns com uma baixa porcentagem de frequência. [Saiba mais sobre o uso de frequência](#frequency-tips).
4. Clique em <DNT>**Simulate**</DNT> para ver o efeito provável da sua nova decisão na última semana dos seus dados.
5. Clique nos exemplos de pares de correlações para determinar quais correlações usar.
6. Se você gostou do que foi simulado, clique em <DNT>**Next**</DNT> e nomeie e descreva sua decisão.
7. Se o resultado da simulação mostrar muitos eventos de alerta potenciais, você pode escolher um conjunto diferente de atributos e eventos de alerta para sua decisão e executar outra simulação. [Saiba mais sobre simulação](#simulations).

<CollapserGroup>
  <Collapser id="frequency-tips" title="Análise de atributos">
    Dois tipos de análise de atributo aparecem na interface:

    * <DNT>**Common attributes:**</DNT> Esta análise simplesmente destaca atributos e valores que são exatamente os mesmos entre todos os eventos de alerta selecionados.

    * <DNT>**Similar attributes:**</DNT> A análise de similaridade usa o algoritmo de Levenshtein com uma distância de 3 para encontrar atributos cujos valores seriam os mesmos se 3 ou menos alterações de caracteres fossem realizadas. Valores numéricos, assim como valores de caractere único, são filtrados dos resultados. Atributos similares requerem que dois eventos de alerta sejam selecionados; a análise de similaridade não é realizada quando 3 ou mais eventos de alerta são selecionados.

      Para criar as melhores decisões, recomendamos escolher atributos comuns que tenham uma frequência menor em seus eventos de alerta. Aqui estão dicas para entender como a escolha de atributos de baixa ou alta frequência afeta suas decisões:

    * <DNT>**Low frequency:**</DNT> Por exemplo, um atributo com 0% na coluna de frequência é provavelmente um identificador exclusivo ou um atributo que foi relatado apenas recentemente em seus dados no último mês. A escolha de um atributo de baixa frequência pode correlacionar poucos eventos.

    * <DNT>**High frequency:**</DNT> Por outro lado, um atributo com 100% de frequência seria aquele que está presente em todos os seus dados. A escolha desses atributos correlacionaria todos os seus eventos.

      Por padrão, os atributos são ordenados pela menor frequência. Clique na porcentagem de frequência de um atributo para obter informações sobre a distribuição dos valores relatados para esse atributo no último mês.
  </Collapser>
</CollapserGroup>

### Correlação entre simulação e tempo real [#simulation-vs-decisions]

É importante compreender a diferença entre simulação e correlação em tempo real na tomada de decisões:

* <DNT>**Simulation**</DNT>: A correlação de simulação envolve analisar dois eventos de alerta separados para entender a relação entre eles sob condições simuladas. Esses eventos de alerta podem se originar do mesmo problema subjacente ou de problemas diferentes. O foco está em determinar potenciais fatores causais ou características compartilhadas entre eventos de alerta individuais. A simulação ajuda você a testar e validar sua lógica de correlação com dados históricos antes de aplicá-la em tempo real.

* <DNT>**Real-time correlation (decisions)**</DNT>: Em contrapartida, a correlação em tempo real visa problemas distintos, com cada problema potencialmente englobando múltiplos eventos de alerta. O objetivo é detectar e conectar padrões entre esses múltiplos eventos de alerta para identificar problemas subjacentes para uma correlação mais eficiente. A correlação em tempo real aproveita fluxos de dados ativos, permitindo a pronta identificação e resposta a problemas emergentes.

### Usando simulação [#simulations]

A simulação testa sua lógica de correlação analisando dois eventos de alerta separados da última semana dos seus dados, mostrando quantas correlações teriam ocorrido. Isso permite validar sua lógica de decisão antes de ser aplicada à correlação de problemas em tempo real. Aqui está um detalhamento das informações de pré-visualização da decisão exibidas quando você simula:

* <DNT>**Potential correlation rate:**</DNT> A porcentagem de eventos de alerta testados que esta decisão teria afetado.
* <DNT>**Total created alert events:**</DNT> O número de eventos de alerta testados por esta decisão.
* <DNT>**Total estimated correlated alert events:**</DNT> O número estimado de eventos de alerta que esta decisão teria correlacionado.
* <DNT>**Alert event examples:**</DNT> Uma lista de pares de eventos de alerta que a decisão teria correlacionado, incluindo os atributos e valores da regra, bem como outros atributos populares em cada par. Clique nos eventos de alerta para visualizar os detalhes.

Execute a simulação com atributos diferentes quantas vezes precisar até ver os resultados desejados. Quando estiver pronto, siga as instruções da interface para salvar sua decisão.

## Correlação de topologia [#topology]

Para alertas da New Relic, a topologia é uma representação do seu mapa de serviços: como os serviços e recursos da sua infraestrutura se relacionam entre si.

Para decisões do usuário, uma [decisão de topologia padrão](#global-decisions) é adicionada e habilitada em sua conta. Você também tem a opção de [criar decisões personalizadas](#customize).

Nossa correlação de topologia encontra relacionamentos entre fontes de eventos de alerta para determinar se [eventos de alerta](/docs/alerts/alerts-ai-overview-page#alert-events) e, portanto, seus respectivos problemas, devem ser correlacionados. A correlação de topologia foi projetada para melhorar a qualidade das suas correlações e a velocidade com que são encontradas.

### Requisitos [#topology-requirements]

Para correlação automática de topologia (sem a necessidade de configurar explicitamente o gráfico de topologia), certifique-se de que seus dados de telemetria sejam coletados por [agentes New Relic](/docs/new-relic-solutions/new-relic-one/install-configure/compatibility-requirements-new-relic-agents-products/). Quanto mais tipos de agentes New Relic estiverem instalados em seus serviços e ambiente, mais oportunidades haverá para as decisões de topologia correlacionarem seus eventos de alerta.

### Como funciona a correlação de topologia? [#topology-explained]

<img title="topology-4.png" alt="A screenshot of New Relic topology explained" src="/images/alerts_diagram_topology-4.webp" />

<figcaption>
  Neste mapa de serviço, os hosts e aplicativos são os vértices e as linhas que mostram seus relacionamentos são as arestas.
</figcaption>

Para configurar sua topologia além da [entidade e relacionamentos](/docs/new-relic-solutions/new-relic-one/core-concepts/what-entity-new-relic/) coletados pelo [agente New Relic](/docs/new-relic-solutions/new-relic-one/install-configure/compatibility-requirements-new-relic-agents-products/), utilize nossa [API NerdGraph](#create-topology-graph).

A correlação de topologia personalizada depende de dois conceitos principais:

* <DNT>**Vertex:**</DNT> Um vértice representa uma entidade monitorada. É a origem de onde vêm seus eventos de alerta ou sobre a qual descrevem um sintoma problemático. Um vértice possui atributos (pares chave/valor) configurados, como GUIDs de entidade ou outros IDs, que permitem que ele seja associado a eventos de alerta recebidos.
* <DNT>**Edges:**</DNT> Uma aresta é uma conexão entre dois vértices. As arestas descrevem o relacionamento entre os vértices.

Pode ser útil entender como a topologia é usada para correlacionar eventos de alerta:

1. Primeiro, a New Relic coleta todos os eventos de alerta relevantes. Isso inclui eventos de alerta onde as [etapas 1 e 2 da lógica de decisão](#customize) são verdadeiras e que também estão dentro da janela de tempo definida nas configurações avançadas.

   <img title="topology-1.png" alt="A screenshot of New Relic topology explained" src="/images/alerts_diagram_topology-1.webp" />

2. Em seguida, tentamos associar cada evento de alerta a um vértice em seu [grafo de topologia](#create-topology-graph), usando os atributos de definição de um vértice e os atributos disponíveis no evento de alerta.

   <img title="topology-2.png" alt="A screenshot of New Relic topology explained" src="/images/alerts_diagram_topology-2.webp" />

   <figcaption>
     Um exemplo das etapas para associar eventos de alerta às informações no gráfico de topologia.
   </figcaption>

3. Em seguida, os pares de vértices que foram associados a eventos de alerta são testados usando o operador &quot;topologicamente dependente&quot; para determinar se esses vértices estão conectados entre si.

   <img title="topology-3.png" alt="A screenshot of New Relic topology explained" src="/images/alerts_diagram_topology-3.webp" />

   <figcaption>
     Este operador verifica se existe algum caminho no gráfico que conecte os dois vértices em cinco saltos.
   </figcaption>

   Os eventos de alerta são então correlacionados e os problemas são mesclados.

### Adicionar atributos a eventos de alerta [#add-attributes]

Eventos de alerta são conectados a vértices usando os atributos de definição de um vértice. (Na topologia de exemplo em [Topologia explicada](#topology-explained), cada vértice possui um atributo de definição &quot;CID&quot; com um valor único.) Em seguida, o sistema de alertas da New Relic encontra um vértice que corresponde ao atributo.

Se o atributo de definição que você deseja usar em seus vértices não estiver em seus eventos de alerta, use uma destas opções para adicioná-lo:

<CollapserGroup>
  <Collapser id="tag-entities" title="Tag sua entidade no New Relic">
    Ao [adicionar tags às suas entidades](/docs/new-relic-one/use-new-relic-one/core-concepts/use-tags-help-organize-find-your-data), essas tags enriquecerão os eventos de alerta gerados pelos alertas. Por exemplo, se você etiquetou suas entidades com `CID` e seus valores exclusivos correspondentes, poderá ter atributos de definição em seu vértice da seguinte forma: `'newrelic/tags/CID' : CID_VALUE`
  </Collapser>

  <Collapser id="facet-data" title="Tag sua entidade no New Relic">
    Criar [condições de alerta NRQL](/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-nrql-alert-conditions) com uma ou mais [facetas](/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-nrql-alert-conditions#syntax) definidas agrupará seus dados por atributo. Além disso, os eventos de alerta emitidos serão enriquecidos com esses atributos e valores. Para eventos de alerta, atributos facetados seguem o mesmo formato: `newrelic/tags/ATTRIBUTE_NAME`
  </Collapser>
</CollapserGroup>

### Criar ou visualizar topologia [#create-topology-graph]

Para configurar sua topologia ou visualizar a topologia existente, consulte o [tutorial de topologia do NerdGraph](/docs/apis/nerdgraph/examples/topology-nerdgraph-tutorial).