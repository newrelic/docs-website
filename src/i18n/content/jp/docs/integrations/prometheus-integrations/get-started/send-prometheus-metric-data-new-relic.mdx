---
title: New RelicのPrometheus Metric Dataに送信
tags:
  - Integrations
  - Prometheus integrations
  - Get started
---

このページには、New RelicのPrometheusインテグレーションオプションとそのしくみの概要が記載されています。このページにある情報は、御社独自のビジネスニーズに最適のオプションから選択するのに役立ちます。

当社では現在、次の2つのインテグレーションオプションを提供しています。

* [Prometheusリモート書込みインテグレーション](#remote-write)。現在Prometheusサーバーがあり、まとめられたメトリックスにNew Relicから簡単にアクセスしたい場合には、このオプションを使用します。
* [KubernetesまたはDocker用のPrometheus OpenMetricsインテグレーション](#OpenMetrics)。Prometheusサーバーに代わるものを探している場合にはこのオプションを使用して、すべてのメトリックスを直接New Relicに保存します。

## Prometheusリモート書込みインテグレーション [#remote-write]

Prometheusリモート書込みインテグレーションを使用して、既存のPrometheusサーバからNew Relicに[テレメトリーデータ](/docs/telemetry-data-platform/get-started/capabilities/get-know-telemetry-data-platform)を転送できます。インテグレーションの後、生データやクエリ、ダッシュボードなど、セットアップと管理のためのすべてのオプションを使用できます。

### データを拡張し迅速に移動 [#remote-write-scale]

Prometheusリモート書込みインテグレーションにより、次のことを行えます。

* 単一のプラットフォームで重要なメトリックスを保存、可視化する
* ソフトウェアスタック全体でデータをまとめてグループ化する
* ソフトウェアスタックや動作についてのデータと、モニターしている結果との関係を、完全につながった状態で表示する
* [Grafanaダッシュボード](/docs/integrations/grafana-integrations/get-started/grafana-support-prometheus-promql)を接続する（オプション）。

![インテグレーション後にリモート書込みダッシュボード画面を表示する。](./images/Prometheus-remote-write-dashboard.png "Prometheusリモート書込みインテグレーションダッシュボード")

Prometheusリモート書込みダッシュボード

### 動作のしくみ [#remote-write-how-works]

[New Relicのサインアップ](https://newrelic.com/signup)は迅速で無料です — クレジットカードの番号をうかがうこともありません。ログイン後、次のいくつかの簡単なステップでデータフローを行います。

1. `remote_write URL`を生成します。
2. 新規の`remote_write` URLを、Prometheusサーバーの設定ファイルに追加します。
3. Prometheusサーバーを再起動します。
4. データを確認します。
5. データの探索およびクエリを行います。

<ButtonLink
  role="button"
  to="/docs/integrations/prometheus-integrations/install-configure/set-your-prometheus-remote-write-integration"
  variant="link"
>
  セットアップ文書を読む
</ButtonLink>

<ButtonLink
  role="button"
  to="https://one.newrelic.com/launcher/nr1-core.settings?pane=eyJuZXJkbGV0SWQiOiJwcm9tZXRoZXVzLXJlbW90ZS13cml0ZS1pbnRlZ3JhdGlvbi1uZXJkbGV0cy5zZXR1cC1wcm9tZXRoZXVzIn0="
  variant="primary"
>
  Prometheusデータを追加する
</ButtonLink>

### リモート書込みの互換性と要件 [#remote-write-compatibility]

New Relicは、Prometheusバージョン2.15.0以降について、Prometheusリモート書込みインテグレーションをサポートします。

## Prometheus OpenMetricsインテグレーション [#OpenMetrics]

New RelicのDockerおよびKubernetes向けPrometheus OpenMetricsインテグレーションを使用して、[Prometheus](https://prometheus.io/)エンドポイントを取得し、データをNew Relicに送信し、重要なメトリックスを1つのプラットフォームに保存し可視化できます。

このインテグレーションを使用して、次のことを行えます。

* エンドポイントの静的リストを自動的に識別する。
* ビジネスにとって重要なメトリックスを収集する。
* New Relic UIでこのデータのクエリを行い可視化する。
* [Grafanaダッシュボード](/docs/integrations/grafana-integrations/get-started/grafana-support-prometheus-promql)を接続する（オプション）。

![インテグレーション後、OpenMetricsダッシュボード画面を表示する。](./images/OpenMetrics-Kube-for-Stitched-Path.png "OpenMetricsのデータ表示")

Kubernetes OpenMetricsダッシュ

### 間接費を減らしデータを拡張 [#OpenMetrics-reduce-overhead]

テレメトリーデータとともに、あらゆるソースからメトリックスデータを収集し分析と可視化を行うので、1か所で問題の相互の関連を分析できます。Prometheusのようなオープンソースツールのためのすぐに使えるインテグレーションにより、簡単に作業を開始でき、システムのホストや運用、管理、追加のモニターのコストと複雑さがなくなります。

Prometheus OpenMetricsインテグレーションはすべてのデータを1か所に集め、New RelicはPrometheusからのメトリックスを保存します。インテグレーションにより、ストレージ管理の間接費が減り、Prometheusサーバーの可用性が高まります。

Prometheusと別個のダッシュボードツールの管理を簡単に行いデータを拡張する方法の詳細については、New RelicのPrometheus OpenMetricsインテグレーションについての[ブログ投稿](https://blog.newrelic.com/product-news/how-to-monitor-prometheus-metrics/)をご覧ください。

<CollapserGroup>
  <Collapser
    id="OpenMetrics-Kubernetes"
    title="Kubernetes"
  >
    Kubernetes環境では、New Relicは自動的に、Prometheus Kubernetesコレクターと同じ方法でエンドポイントを発見します。インテグレーションは、`prometheus.io/scrape`アノテーションやラベルを検索します。設定で追加の静的エンドポイントを特定することもできます。
  </Collapser>

  <Collapser
    id="OpenMetrics-Docker"
    title="Docker"
  >
    Prometheus OpenMetricsインテグレーションはすべてのデータを1か所に集め、New RelicはPrometheusからのメトリックスを保存します。インテグレーションにより、ストレージ管理の間接費が減り、Prometheusサーバーの可用性が高まります。
  </Collapser>
</CollapserGroup>

### OpenMetricsインテグレーションの互換性と要件 [#OpenMetrics-Compatibility]

KubernetesおよびDocker OpenMetricsインテグレーションについては、次の互換性と要件に関する情報をご承知置きください。

<CollapserGroup>
  <Collapser
    id="OpenMetrics-Kubernetes-Compatibility"
    title="Kubernetes"
  >
    New Relicは、Apache 2.0 licenseの下でPrometheusインテグレーションをオープンソースコミュニティに提供しています。このインテグレーションは、Prometheusプロトコルバージョン2およびKubernetesバージョン1.9以上をサポートしています。インテグレーションは、kopsおよびGKE、minikubeで、Kubernetes 1.9および1.11、1.13を使用してテストを行いました。

    送信するメトリックスには限度があります。詳細については、[New RelicメトリックスAPIドキュメント](https://docs.newrelic.co.jp/docs/data-ingest-apis/get-data-new-relic/metric-api/metric-api-limits-restricted-attributes#requirements)をご覧ください。

    <Callout variant="important">
      推奨事項：必ず1つのレプリカとともにスクレイパーを実行してください。レプリカを追加すると、データが重複します。
    </Callout>
  </Collapser>

  <Collapser
    id="OpenMetrics-Docker-Compatibility"
    title="Docker"
  >
    New Relicは、Apache 2.0 licenseの下でPrometheusインテグレーションをオープンソースコミュニティに提供しています。本インテグレーションは、Prometheusプロトコルバージョン2をサポートしています。インテグレーションは、kopsおよびGKE、minikubeで、Docker 1.9および1.11、1.13を使用してテストを行いました。

    送信するメトリックスには限度があります。詳細については、[New RelicメトリックスAPIドキュメント](https://docs.newrelic.co.jp/docs/data-ingest-apis/get-data-new-relic/metric-api/metric-api-limits-restricted-attributes#requirements)をご覧ください。
  </Collapser>
</CollapserGroup>

## 次のステップ [#next]

移行の準備が整った場合推奨される次のステップは以下のとおりです。

* [リモート書込みインテグレーション](/docs/integrations/prometheus-integrations/install-configure/set-your-prometheus-remote-write-integration)の完了方法を読む。
* [Grafanaサポートオプション](/docs/integrations/grafana-integrations/get-started/grafana-support-prometheus-promql)について調べる。
* [テレメトリーデータプラットフォーム](/docs/telemetry-data-platform/get-data-new-relic/getting-started/get-know-telemetry-data-platform)の一部として利用できる、広範なその他のオプションを詳しく調べる。

## その他のヘルプ [#more_help]

さらに支援が必要な場合は、これらのサポートと学習リソースを確認してください：

* [Explorers Hub](https://discuss.newrelic.com/)を参照して、コミュニティから支援を受け、ディスカッションに参加してください。
* [当社のサイトで回答を見つけ、サポートポータルの使用方法について学びます](/docs/using-new-relic/welcome-new-relic/get-started/find-help-use-support-portal)。
* Linux、Windows、およびmacOSのトラブルシューティングツールである[New Relic Diagnosticsを実行します](/docs/using-new-relic/cross-product-functions/troubleshooting/new-relic-diagnostics)。
* New Relicの[データセキュリティ](/docs/security)と[ライセンス](/docs/licenses)ドキュメントを見直してください。
