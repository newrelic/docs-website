---
title: プライベートロケーションの管理
tags:
  - Synthetics
  - APIs
  - NerdGraph
  - Examples
metaDescription: How to use New Relic NerdGraph API to create and manage private locations for synthetic monitoring.
freshnessValidatedDate: never
translationType: machine
---

[プライベートロケーションを](/docs/synthetics/synthetic-monitoring/private-locations/private-locations-overview-monitor-internal-sites-add-new-locations)使用すると、ファイアウォールの背後または制限されたネットワーク内でアプリケーションを監視できます。 プライベートロケーションを作成するときは、プライベートミニオンをインストールして構成し、そのプライベートロケーションに割り当てられたモニターを実行します。 このチュートリアルでは、NerdGraph API使用してプログラムでプライベート位置を管理する方法の例を示します。

## プライベートロケーションの作成 [#create-private-location]

`syntheticsCreatePrivateLocation`変異を使用してプライベートロケーションを作成できます。 この変更により、監視インフラストラクチャに新しいプライベート ロケーションをセットアップして、プライベート ミニオンまたはジョブ マネージャーをデプロイできるようになります。

### 入力

<table>
  <thead>
    <tr>
      <th>
        パラメータ
      </th>

      <th>
        データタイプ
      </th>

      <th>
        必須ですか?
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `accountId`
      </td>

      <td>
        整数
      </td>

      <td>
        はい
      </td>

      <td>
        プライベートロケーションに関連付けられた

        [アカウント ID](/docs/accounts/accounts-billing/account-structure/account-id)

         。
      </td>
    </tr>

    <tr>
      <td>
        `description`
      </td>

      <td>
        弦
      </td>

      <td>
        いいえ
      </td>

      <td>
        プライベートロケーションの説明。
      </td>
    </tr>

    <tr>
      <td>
        `name`
      </td>

      <td>
        弦
      </td>

      <td>
        はい
      </td>

      <td>
        プライベートロケーションの名前。
      </td>
    </tr>

    <tr>
      <td>
        `shared`
      </td>

      <td>
        ブール値
      </td>

      <td>
        いいえ
      </td>

      <td>
        プライベート位置を組織全体で共有するかどうかを指定します。
      </td>
    </tr>

    <tr>
      <td>
        `verifiedScriptExecution`
      </td>

      <td>
        ブール値
      </td>

      <td>
        はい
      </td>

      <td>
        値が true の場合、プライベートロケーションを編集するにはパスワードが必要です。
      </td>
    </tr>
  </tbody>
</table>

### サンプルリクエスト

```graphql
mutation {
  syntheticsCreatePrivateLocation(
    accountId: ACCOUNT_ID,
    name: "PrivateLocationName",
    description: "Optional description",
    shared: true,
    verifiedScriptExecution: false
  ) {
    guid
    errors {
      description
      type
    }
  }
}
```

### サンプル回答

成功した応答は、新しく作成されたプライベートロケーションの GUID を返します。

```json
{
  "data": {
    "syntheticsCreatePrivateLocation": {
      "guid": "PRIVATE_LOCATION_GUID",
      "errors": null
    }
  }
}
```

プライベートロケーションの作成に問題がある場合、 `errors`配列には、問題の原因を説明する`description`フィールドと`type`フィールドを持つオブジェクトが含まれます。

## プライベートロケーションを更新する [#update-private-location]

`syntheticsUpdatePrivateLocation`ミューテーションを使用して、既存のプライベート位置を更新できます。 すでに作成されているプライベートロケーションの設定を変更することができます。

<Callout variant="important">
  組織内の他のアカウントが位置情報を共有し、合成モニターを実行するために使用している場合、それらのモニターが無効になるまで、このプライベート位置の共有を解除することはできません。
</Callout>

### 入力

<table>
  <thead>
    <tr>
      <th>
        パラメータ
      </th>

      <th>
        データタイプ
      </th>

      <th>
        必須ですか?
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `guid`
      </td>

      <td>
        弦
      </td>

      <td>
        はい
      </td>

      <td>
        更新するプライベートロケーションの一意のエンティティ

        [GUID](/docs/apis/nerdgraph/examples/synthetics-api/query-synthetics-data#query-private-locations)

         。
      </td>
    </tr>

    <tr>
      <td>
        `description`
      </td>

      <td>
        弦
      </td>

      <td>
        いいえ
      </td>

      <td>
        プライベートロケーションの説明。
      </td>
    </tr>

    <tr>
      <td>
        `shared`
      </td>

      <td>
        ブール値
      </td>

      <td>
        いいえ
      </td>

      <td>
        プライベート位置を組織全体で共有するかどうかを指定します。
      </td>
    </tr>

    <tr>
      <td>
        `verifiedScriptExecution`
      </td>

      <td>
        ブール値
      </td>

      <td>
        はい
      </td>

      <td>
        値が true の場合、プライベートロケーションを編集するにはパスワードが必要です。
      </td>
    </tr>
  </tbody>
</table>

### サンプルリクエスト

```graphql
mutation {
  syntheticsUpdatePrivateLocation(
    guid: "ENTITY_GUID",
    description: "EnterYourDescription",
    shared: false,
    verifiedScriptExecution: true
  ) {
    description
    verifiedScriptExecution
    errors {
      description
      type
    }
  }
}
```

### サンプル回答

成功した応答では更新されたフィールドが返され、エラーの場合は`null`返されます。

```json
{
  "data": {
    "syntheticsUpdatePrivateLocation": {
      "description": "EnterYourDescription",
      "verifiedScriptExecution": true,
      "errors": null
    }
  }
}
```

プライベートロケーションの更新で問題が発生した場合、 `errors`配列には、問題の原因を説明する`description`フィールドと`type`フィールドを持つオブジェクトが含まれます。

## プライベートロケーションのジョブキューを削除します [#purge-private-location]

`syntheticsPurgePrivateLocationQueue`ミューテーションを使用して、プライベートロケーションのジョブ キューをクリアできます。 これは、パフォーマンスの問題や一時的な接続の問題により蓄積された可能性のある、キューに入れられた合成モニター ジョブのバックログを削除する必要がある場合に役立ちます。

<Callout variant="tip">
  この操作はキューに入れられたすべてのジョブを完全に削除するため、慎重に使用してください。現在実行中のジョブは影響を受けません。
</Callout>

### 入力

<table>
  <thead>
    <tr>
      <th>
        パラメータ
      </th>

      <th>
        データタイプ
      </th>

      <th>
        必須ですか?
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `guid`
      </td>

      <td>
        弦
      </td>

      <td>
        はい
      </td>

      <td>
        ジョブキューをパージするプライベートロケーションの

        [一意の識別子 (GUID)](/docs/apis/nerdgraph/examples/synthetics-api/query-synthetics-data#query-private-locations)

         。
      </td>
    </tr>
  </tbody>
</table>

### サンプルリクエスト

```graphql
mutation {
  syntheticsPurgePrivateLocationQueue(
    guid: "PRIVATE_LOCATION_ENTITY_GUID"
  ) {
    errors {
      description
      type
    }
  }
}
```

### サンプル回答

成功した応答はエラーに対して`null`を返します:

```json
{
  "data": {
    "syntheticsPurgePrivateLocationQueue": {
      "errors": null
    }
  }
}
```

キューの消去中に問題が発生した場合、 `errors`配列には、何が問題であったかを説明する`description`と`type`フィールドを持つオブジェクトが含まれます。

## プライベートロケーションを削除する [#delete-private-location]

プライベートロケーションが不要になった場合は、 `syntheticsDeletePrivateLocation`ミューテーションを使用して完全に削除できます。

<Callout variant="important">
  プライベートロケーションを削除する前に、そのプライベートロケーションにモニターが割り当てられていないことを確認してください。 アクティブなモニターが割り当てられているプライベートロケーションを削除すると、それらのモニターが失敗します。
</Callout>

### 入力

<table>
  <thead>
    <tr>
      <th>
        パラメータ
      </th>

      <th>
        データタイプ
      </th>

      <th>
        必須ですか?
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `guid`
      </td>

      <td>
        弦
      </td>

      <td>
        はい
      </td>

      <td>
        削除するプライベートロケーションの一意のエンティティ

        [GUID](/docs/apis/nerdgraph/examples/synthetics-api/query-synthetics-data#query-private-locations)

         。
      </td>
    </tr>
  </tbody>
</table>

### サンプルリクエスト

```graphql
mutation {
  syntheticsDeletePrivateLocation(
    guid: "ENTITY_GUID"
  ) {
    errors {
      description
      type
    }
  }
}
```

### サンプル回答

成功した応答はエラーに対して`null`を返します:

```json
{
  "data": {
    "syntheticsDeletePrivateLocation": {
      "errors": null
    }
  }
}
```

プライベートロケーションの削除中に問題が発生した場合、 `errors`配列には、問題の原因を説明する`description`フィールドと`type`フィールドを持つオブジェクトが含まれます。