---
title: New RelicのGraphQL APIであるNerdGraphの概要
tags:
  - APIs
  - NerdGraph
  - Get started
metaDescription: 'NerdGraph is New Relic''s GraphQL-format API, used to query data and do some product configurations.'
signupBanner:
  text: Monitor and improve your entire stack. 100GB free. Forever.
translationType: human
---

[NerdGraph](https://api.newrelic.com/graphiql)は、New Relicデータにクエリを実行して、いくつかのNew Relic機能を設定できる当社のGraphQL形式のAPIです。[New Relicアカウントにサインアップ](https://newrelic.com/signup)し、当社のモニタリングサービスを[インストール](/docs/using-new-relic/cross-product-functions/install-configure/install-new-relic/)すると、NerdGraphを使い始めることができます。

## NerdGraphとは [#overview]

New Relicには、いくつかの[API](/docs/apis/get-started/intro-apis/introduction-new-relic-apis/)があります。NerdGraphは、New Relicデータにクエリを実行して、特定の設定を実行するための推奨APIです（[機能の詳細を確認する](#tutorials)）。NerdGraphには、New RelicのさまざまなAPIおよびマイクロサービスからデータを返すための単一のAPIインタフェースがあります。NerdGraphには、時間経過とともに他の設定機能が追加される予定です。

<Callout variant="important">
  NerdGraphは、データ取り込みには使用しません。そのため、当社の[データ取り込みAPI](/docs/apis/get-started/intro-apis/introduction-new-relic-apis/#data-type-apis)を使用します。
</Callout>

NerdGraphは、フェッチするデータの過不足なしに必要なデータを正確に要求できるオープンソースAPI形式である[GraphQL](https://graphql.org)を使用して構築されています。

こちらは、[NerdGraphエクスプローラー](/docs/apis/nerdgraph/get-started/nerdgraph-explorer)でNerdGraphの使用方法を紹介した短いビデオです。

<Video
  id="nPPQNS_AAIU"
  type="youtube"
/>

さらにビデオチュートリアルをご覧になりたい方は、New Relic Universityの[NerdGraphの紹介](https://newrelic.wistia.com/medias/h9qfum9nh0)にアクセスしてください。または[New Relic APIのオンラインコース](https://learn.newrelic.com/new-relic-apis)をご覧ください。

## 要件とエンドポイント [#authentication]

NerdGraphの要件に関する注記：

* NerdGraphには、

  <InlinePopover type="userKey"/>

  で生成してアクセスできるNew Relicの[](#explorer)が必要です。

* ユーザータイプと割り当てられたロールは、NerdGraphの権限に影響を与える可能性があります。詳細については、[アクセスに影響する要因](/docs/accounts/accounts-billing/account-structure/factors-affecting-access-features-data#user-permissions)を参照してください。

エンドポイントは、[データセンターの地域](/docs/accounts/accounts-billing/account-setup/choose-your-data-center)によって異なります。

* メインエンドポイント：[https://api.newrelic.com/graphiql](https://api.newrelic.com/graphiql)
* EUデータセンターを使用するアカウントのエンドポイント：[https://api.eu.newrelic.com/graphiql](https://api.eu.newrelic.com/graphiql)

エンドポイントにアクセスするには、[NerdGraphエクスプローラー](#explorer)を使用するか、次のようなcurlコマンドを使用すると直接アクセスできます。

```bash
curl -X POST https://api.newrelic.com/graphql \
     -H 'Content-Type: application/json' \
     -H 'API-Key: YOUR_NEW_RELIC_USER_KEY' \
     -d '{ "query":  "{ requestContext { userId apiKey } }" }'
```

## NerdGraphエクスプローラーの使用 [#explorer]

NerdGraphエクスプローラーを使用して、NerdGraphスキーマを探索し、API呼び出しを行うことができます。

* 米国データセンター：[https://api.newrelic.com/graphiql](https://api.newrelic.com/graphiql)
* 欧州データセンター：[https://api.eu.newrelic.com/graphiql](https://api.eu.newrelic.com/graphiql)

エクスプローラーの使用方法のヒントについては、[NerdGraphエクスプローラーのチュートリアル](/docs/apis/nerdgraph/get-started/nerdgraph-explorer)を参照してください。

## NerdGraphの機能 [#tutorials]

NerdGraph機能は、主に以下の2つのカテゴリに分類できます。

* **データにクエリを実行します。**データは、プログラム的なワークフローで使用する、カスタマイズされたデータ可視化のための[New Relicアプリ](https://developer.newrelic.com/build-apps)を構築するなどのさまざまな目的のためにフェッチできます。
* **機能を設定します。**現在、さまざまな設定を利用できますが、時間経過とともにさらに機能が追加されます。タグの追加、ワークロードの設定、「ゴールデンメトリクス」のカスタマイズなどを実行できます。

NerdGraphを使用すると、さまざまなデータを返す設定が行えます。NerdGraphで何ができるかを確認する1つの方法は、[NerdGraphエクスプローラー](/docs/apis/nerdgraph/get-started/nerdgraph-explorer)を使用してクエリの構築とスキーマの検索を開始することです。

以下は、最も一般的に使用されるNerdGraphの機能の一部です。

* [監視対象のエンティティに関するデータの取得](/docs/apis/nerdgraph/examples/nerdgraph-entities-api-tutorial)
* [NRQLを使用するデータのクエリ](/docs/apis/nerdgraph/examples/nerdgraph-nrql-tutorial)（NRQL：当社のクエリ言語）
* [ダッシュボードを作成する](/docs/apis/nerdgraph/examples/create-widgets-dashboards-api)

利用可能なNerdGraphドキュメントは以下になります。

<table>
  <thead>
    <tr>
      <th style={{ width: "240px" }}>
        トピック
      </th>

      <th>
        チュートリアル
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        アカウントマネジメント
      </td>

      <td>
        * [アカウントの管理](/docs/apis/nerdgraph/examples/manage-accounts-nerdgraph)
        * [ユーザーの管理](/docs/apis/nerdgraph/examples/nerdgraph-manage-users)
        * [ユーザーグループの管理](/docs/apis/nerdgraph/examples/nerdgraph-user-mgmt)
        * [APIキーを作成して管理する](/docs/apis/nerdgraph/examples/use-nerdgraph-manage-license-keys-user-keys)（データ取り込みに使用するライセンスキー、およびユーザーキー）
      </td>
    </tr>

    <tr>
      <td>
        アラート
      </td>

      <td>
        * New Relicアラートの場合：[アラート関連のすべてのチュートリアル](/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/alerts-nerdgraph/nerdgraph-api-examples)を見る
        * 応用インテリジェンスの場合：[インシデント相関のトポロジーを設定する](/docs/apis/nerdgraph/examples/topology-nerdgraph-tutorial)
      </td>
    </tr>

    <tr>
      <td>
        <InlinePopover type="apm"/>エージェント
      </td>

      <td>
        [APMエージェントの設定](/docs/apis/nerdgraph/examples/apm-config-nerdgraph)
      </td>
    </tr>

    <tr>
      <td>
        ブラウザのモニタリング
      </td>

      <td>
        * [Install browser agent and configure monitoring](/docs/apis/nerdgraph/examples/browser-monitoring-config-nerdgraph)
        * [Instrument multiple apps using npm package](/docs/apis/nerdgraph/examples/combining-npm-nerdgraph)
      </td>
    </tr>

    <tr>
      <td>
        変更追跡
      </td>

      <td>
        * [NerdGraphを使用した変更追跡](/docs/change-tracking/change-tracking-graphql/)
        * [CLIを使用した変更追跡](/docs/change-tracking/change-tracking-cli/#create-list)
      </td>
    </tr>

    <tr>
      <td>
        ダッシュボード
      </td>

      <td>
        * [ダッシュボードの作成と管理](/docs/apis/nerdgraph/examples/nerdgraph-dashboards)
        * [ダッシュボード：チャートとウィジェット](/docs/apis/nerdgraph/examples/create-widgets-dashboards-api)
        * [ダッシュボードを他のアカウントにエクスポートする](/docs/apis/nerdgraph/examples/export-import-dashboards-using-api/)
        * [ダッシュボードをファイルとしてエクスポートする](/docs/apis/nerdgraph/examples/export-dashboards-pdfpng-using-api/)
        * [外部共有ダッシュボードの管理](/docs/apis/nerdgraph/examples/manage-live-chart-urls-via-api)
      </td>
    </tr>

    <tr>
      <td>
        クラウドインテグレーション（AWS、Azure、GCP）
      </td>

      <td>
        [クラウドインテグレーションを設定する](/docs/apis/nerdgraph/examples/nerdgraph-cloud-integrations-api-tutorial)
      </td>
    </tr>

    <tr>
      <td>
        データ管理
      </td>

      <td>
        * [イベントデータをメトリックデータに変換する](/docs/telemetry-data-platform/ingest-manage-data/convert-data-metrics/analyze-monitor-data-trends-metrics)
        * [データ保持期間](/docs/telemetry-data-platform/manage-data/manage-data-retention/#api-examples)
        * [ストリーミングデータのエクスポート](/docs/apis/nerdgraph/examples/nerdgraph-streaming-export)
        * [データを破棄する](/docs/accounts/accounts/data-management/drop-data-using-nerdgraph)
      </td>
    </tr>

    <tr>
      <td>
        ディストリビューティッド（分散）トレーシング
      </td>

      <td>
        * [ディストリビューティッド（分散）トレーシングデータにクエリを実行する](/docs/apis/nerdgraph/examples/nerdgraph-distributed-trace-data-tutorial)
        * [無期限のトレースを設定する](/docs/apis/nerdgraph/examples/configure-infinite-tracing-graphql)
      </td>
    </tr>

    <tr>
      <td>
        エンティティ
      </td>

      <td>
        * [監視対象エンティティに関するデータの取得](/docs/apis/nerdgraph/examples/nerdgraph-entities-api-tutorial)
        * [エンティティの関係と依存関係を理解する](/docs/apis/nerdgraph/examples/nerdgraph-entities-api-tutorial)（サービスマップの構築に使用する）
        * [「ゴールデンメトリクス」にクエリを実行してそれを設定する](/docs/apis/nerdgraph/examples/golden-metrics-entities-nerdgraph-api-tutorial)（重要なエンティティのメトリクス）
      </td>
    </tr>

    <tr>
      <td>
        ログ管理
      </td>

      <td>
        * [データパーティションの管理](/docs/apis/nerdgraph/examples/nerdgraph-data-partition-rules-tutorial)
        * [ログ解析ルールの管理](/docs/apis/nerdgraph/examples/nerdgraph-log-parsing-rules-tutorial/)
        * [難読化表現とルールの管理](/docs/logs/ui-data/obfuscation-ui/)
      </td>
    </tr>

    <tr>
      <td>
        モバイルのモニタリング
      </td>

      <td>
        * [新しいモバイルアプリの作成](/docs/apis/nerdgraph/examples/mobile-monitoring-config-nerdgraph/#create-mobile)
        * [アプリケーショントークンの取得](/docs/apis/nerdgraph/examples/mobile-monitoring-config-nerdgraph/#get-mobile-token)
        * [モバイルモニタリングの設定例](/docs/apis/nerdgraph/examples/mobile-monitoring-config-nerdgraph/#configure-mobile-application)
      </td>
    </tr>

    <tr>
      <td>
        New Relicアプリ
      </td>

      <td>
        [New Relicアプリを構築する](https://developer.newrelic.com/explore-docs/query-and-store-data)
      </td>
    </tr>

    <tr>
      <td>
        パートナーとリセラー
      </td>

      <td>
        [サブスクリプションの管理](/docs/apis/nerdgraph/tutorials/provisions-your-subscriptions-nerdgraph)（[元の価格設定モデル](/docs/accounts/original-accounts-billing/original-product-based-pricing/overview-changes-pricing-user-model/#pricing-plans)を使用しているパートナーのみ）
      </td>
    </tr>

    <tr>
      <td>
        クエリとチャート
      </td>

      <td>
        * [データのNRQLクエリの実行](/docs/apis/nerdgraph/examples/nerdgraph-nrql-tutorial)
        * [複数のアカウントでクエリの実行](/docs/apis/nerdgraph/examples/nerdgraph-nrql-tutorial/#cross-account-query)
        * [非同期、実行時間が長いクエリ](/docs/apis/nerdgraph/examples/async-queries-nrql-tutorial)
      </td>
    </tr>

    <tr>
      <td>
        サービスレベル
      </td>

      <td>
        [サービスレベルの設定および管理](/docs/apis/nerdgraph/examples/nerdgraph-slm)
      </td>
    </tr>

    <tr>
      <td>
        合成のモニタリング
      </td>

      <td>
        [モニターの管理](/docs/apis/nerdgraph/examples/nerdgraph-synthetics-tutorial)
      </td>
    </tr>

    <tr>
      <td>
        タグ
      </td>

      <td>
        [タグを追加および管理する](/docs/apis/nerdgraph/examples/nerdgraph-tagging-api-tutorial)
      </td>
    </tr>

    <tr>
      <td>
        ワークロード
      </td>

      <td>
        [ワークロードを表示して設定する](/docs/apis/nerdgraph/tutorials/nerdgraph-workloads-api-tutorials)
      </td>
    </tr>
  </tbody>
</table>

## NerdGraphの用語 [#terminology]

以下にGraphQLから派生する用語を示します（API形式NerdGraphが使用する用語）。

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        用語
      </th>

      <th>
        定義
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        クエリとミューテーション
      </td>

      <td>
        GraphQLの操作には、以下の2つのクラスがあります。

        * [クエリ](https://graphql.org/learn/queries)は、データのフェッチにのみ使用する基本的な要求です。クエリは静的ではなく、必要に応じて要求するデータ量を加減できます。各クエリについて、[スキーマ](https://graphql.org/learn/schema)でサポートされている限り、どのデータを取得するかを厳密に指定できます。
        * [ミューテーション](https://graphql.org/learn/queries/#mutations)は、リソースの作成や設定の変更などのアクションを実行するための要求です。ミューテーションでは、キーワード`mutation`と、ミューテーションの`name`が必要です。
      </td>
    </tr>

    <tr>
      <td>
        タイプ
      </td>

      <td>
        Data in GraphQLはタイプにまとめられます。タイプは、[スカラー](https://graphql.org/learn/schema/#scalar-types)（文字列や数字、booleanなど）またはオブジェクトタイプとなります。

        [オブジェクトタイプ](https://graphql.org/learn/schema/#object-types-and-fields)は、一連のフィールドで構成されるカスタムタイプです。たとえば、`User`と呼ばれるオブジェクトタイプは、システムのユーザーを表します。
      </td>
    </tr>

    <tr>
      <td>
        フィールド
      </td>

      <td>
        [フィールド](https://graphql.org/learn/schema/#object-types-and-fields)は、クエリを実行できるオブジェクトタイプの情報の断片を表します。フィールドは、スカラー、リスト、またはオブジェクトです。たとえば、`User`オブジェクトタイプには、`name`という文字列フィールドを指定できます。
      </td>
    </tr>

    <tr>
      <td>
        インタフェース
      </td>

      <td>
        [インタフェース](https://graphql.org/learn/schema/#interfaces)は、他のオブジェクトタイプが`implement`できる一連の一般的なフィールドを表す抽象型です。
      </td>
    </tr>
  </tbody>
</table>