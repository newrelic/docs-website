---
title: NerdGraphの紹介：当社のGraphQL API
tags:
  - APIs
  - NerdGraph
  - Get started
metaDescription: 'NerdGraph is New Relic''s GraphQL-format API, used to query data and do some product configurations.'
freshnessValidatedDate: never
translationType: human
---

NerdGraphは、New Relicデータにクエリを実行して、いくつかのNew Relic機能を設定できる当社のGraphQL形式のAPIです。[New Relicアカウントにサインアップ](https://newrelic.com/signup)し、当社のモニタリングサービスを[インストール](/docs/using-new-relic/cross-product-functions/install-configure/install-new-relic/)すると、NerdGraphを使い始めることができます。

## NerdGraphとは [#overview]

NerdGraphは、いくつかのNew Relic [API](/docs/apis/get-started/intro-apis/introduction-new-relic-apis/)の1つです。NerdGraphは、New Relicデータにクエリを実行して、特定の設定を実行するための推奨APIです（[機能の詳細を確認する](#tutorials)）。NerdGraphには、New RelicのさまざまなAPIおよびマイクロサービスからデータを返すための単一のAPIインタフェースがあります。NerdGraphには、時間経過とともに他の設定機能が追加される予定です。

<Callout variant="important">
  NerdGraphは、データ取り込みには使用しません。そのため、当社の[データ取り込みAPI](/docs/apis/get-started/intro-apis/introduction-new-relic-apis/#data-type-apis)を使用します。
</Callout>

NerdGraphは、フェッチするデータの過不足なしに必要なデータを正確に要求できるオープンソースAPI形式である[GraphQL](https://graphql.org)を使用して構築されています。

## 要件 [#requirements]

始める前に：

* New Relicアカウントが必要です。そのアカウントでは、クエリやミューテーションに含める必要があるAPI <InlinePopover type="userKey" />にアクセスできます。
* ユーザータイプと割り当てられたロールは、NerdGraphの権限に影響を与える可能性があります。詳細については、[アクセスに影響する要因](/docs/accounts/accounts-billing/account-structure/factors-affecting-access-features-data#user-permissions)を参照してください。

## エンドポイント [#endpoints]

使用するAPIエンドポイントは、[データセンターの地域](/docs/accounts/accounts-billing/account-setup/choose-your-data-center)によって異なります。

* 主要なエンドポイント： `https://api.newrelic.com/graphql`
* EUデータセンターを使用するアカウントのエンドポイント： `https://api.eu.newrelic.com/graphql`

エンドポイントにアクセスするには、コードからの呼び出し、[NerdGraph APIエクスプローラー](/docs/apis/nerdgraph/get-started/nerdgraph-explorer)の使用、または次のような`curl`コマンドを実行して行えます。

```bash
curl -X POST https://api.newrelic.com/graphql \
     -H 'Content-Type: application/json' \
     -H 'API-Key: YOUR_NEW_RELIC_USER_KEY' \
     -d '{ "query":  "{ requestContext { userId apiKey } }" }'
```

## NerdGraph APIエクスプローラーの使用 [#explorer]

NerdGraph APIを試す簡単な方法は、NerdGraph APIエクスプローラーを使用することです。このツールの使い方については、[NerdGraph APIエクスプローラーのチュートリアル](/docs/apis/nerdgraph/get-started/nerdgraph-explorer)を参照してください。

## NerdGraphの機能 [#tutorials]

NerdGraph機能は、主に以下の2つのカテゴリに分類できます。

* <DNT>**Querying data.**</DNT> データは、プログラム的なワークフローで使用する、カスタマイズされたデータ可視化のための[New Relicアプリ](https://developer.newrelic.com/build-apps)を構築するなどのさまざまな目的のためにフェッチできます。
* <DNT>**Configuring features.**</DNT> 現在、さまざまな設定を利用できますが、時間経過とともにさらに機能が追加されます。タグの追加、ワークロードの設定、「ゴールデンメトリクス」のカスタマイズなどを実行できます。

NerdGraphを使用すると、さまざまなデータを返す設定が行えます。NerdGraphで何ができるかを確認する1つの方法は、[NerdGraphエクスプローラー](/docs/apis/nerdgraph/get-started/nerdgraph-explorer)を使用してクエリの構築とスキーマの検索を開始することです。

以下は、最も一般的に使用されるNerdGraphの機能の一部です。

* [監視対象のエンティティに関するデータの取得](/docs/apis/nerdgraph/examples/nerdgraph-entities-api-tutorial)
* [NRQLを使用するデータのクエリ](/docs/apis/nerdgraph/examples/nerdgraph-nrql-tutorial)（NRQL：当社のクエリ言語）
* [ダッシュボードを作成する](/docs/apis/nerdgraph/examples/create-widgets-dashboards-api)

利用可能なNerdGraphドキュメントは以下になります。

<table>
  <thead>
    <tr>
      <th style={{ width: "240px" }}>
        トピック
      </th>

      <th>
        チュートリアル
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        アカウントマネジメント
      </td>

      <td>
        * [アカウントの管理](/docs/apis/nerdgraph/examples/manage-accounts-nerdgraph)
        * [ユーザーの管理](/docs/apis/nerdgraph/examples/nerdgraph-manage-users)
        * [ユーザーグループの管理](/docs/apis/nerdgraph/examples/nerdgraph-user-mgmt)
        * [APIキーを作成して管理する](/docs/apis/nerdgraph/examples/use-nerdgraph-manage-license-keys-user-keys)（データ取り込みに使用するライセンスキー、およびユーザーキー）
      </td>
    </tr>

    <tr>
      <td>
        アラート
      </td>

      <td>
        * New Relicアラートの場合：[アラート関連のすべてのチュートリアル](/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/alerts-nerdgraph/nerdgraph-api-examples)を見る
        * アラートの相関：[インシデント相関のトポロジーの設定](/docs/apis/nerdgraph/examples/topology-nerdgraph-tutorial)
      </td>
    </tr>

    <tr>
      <td>
        <InlinePopover type="apm" />エージェント
      </td>

      <td>
        [APMエージェントの設定](/docs/apis/nerdgraph/examples/apm-config-nerdgraph)
      </td>
    </tr>

    <tr>
      <td>
        <InlinePopover type="browser" />
      </td>

      <td>
        * [Browserエージェントのインストールおよび監視の設定](/docs/apis/nerdgraph/examples/browser-monitoring-config-nerdgraph)
        * [npmパッケージを使用した複数のアプリのインストゥルメント化](/docs/apis/nerdgraph/examples/combining-npm-nerdgraph)
      </td>
    </tr>

    <tr>
      <td>
        変更追跡
      </td>

      <td>
        * [NerdGraphを使用した変更追跡](/docs/change-tracking/change-tracking-graphql/)
        * [CLIを使用した変更追跡](/docs/change-tracking/change-tracking-cli/#create-list)
      </td>
    </tr>

    <tr>
      <td>
        ダッシュボード
      </td>

      <td>
        * [ダッシュボードの作成と管理](/docs/apis/nerdgraph/examples/nerdgraph-dashboards)
        * [ダッシュボード：チャートとウィジェット](/docs/apis/nerdgraph/examples/create-widgets-dashboards-api)
        * [ダッシュボードを他のアカウントにエクスポートする](/docs/apis/nerdgraph/examples/export-import-dashboards-using-api/)
        * [ダッシュボードをファイルとしてエクスポートする](/docs/apis/nerdgraph/examples/export-dashboards-pdfpng-using-api/)
        * [外部共有ダッシュボードの管理](/docs/apis/nerdgraph/examples/manage-live-chart-urls-via-api)
      </td>
    </tr>

    <tr>
      <td>
        クラウドインテグレーション（AWS、Azure、GCP）
      </td>

      <td>
        [クラウドインテグレーションを設定する](/docs/apis/nerdgraph/examples/nerdgraph-cloud-integrations-api-tutorial)
      </td>
    </tr>

    <tr>
      <td>
        データ管理
      </td>

      <td>
        * [イベントデータをメトリックデータに変換する](/docs/telemetry-data-platform/ingest-manage-data/convert-data-metrics/analyze-monitor-data-trends-metrics)
        * [データ保持期間](/docs/telemetry-data-platform/manage-data/manage-data-retention/#api-examples)
        * [ストリーミングデータのエクスポート](/docs/apis/nerdgraph/examples/nerdgraph-streaming-export)
        * [データを破棄する](/docs/accounts/accounts/data-management/drop-data-using-nerdgraph)
      </td>
    </tr>

    <tr>
      <td>
        ディストリビューティッド（分散）トレーシング
      </td>

      <td>
        * [ディストリビューティッド（分散）トレーシングデータにクエリを実行する](/docs/apis/nerdgraph/examples/nerdgraph-distributed-trace-data-tutorial)
        * [無期限のトレースを設定する](/docs/apis/nerdgraph/examples/configure-infinite-tracing-graphql)
      </td>
    </tr>

    <tr>
      <td>
        エンティティ
      </td>

      <td>
        * [監視対象エンティティに関するデータの取得](/docs/apis/nerdgraph/examples/nerdgraph-entities-api-tutorial)
        * [エンティティの関係と依存関係を理解する](/docs/apis/nerdgraph/examples/nerdgraph-entities-api-tutorial)（サービスマップの構築に使用する）
        * [「ゴールデンメトリクス」にクエリを実行してそれを設定する](/docs/apis/nerdgraph/examples/golden-metrics-entities-nerdgraph-api-tutorial)（重要なエンティティのメトリクス）
      </td>
    </tr>

    <tr>
      <td>
        ログ管理
      </td>

      <td>
        * [ログデータパーティションの管理](/docs/apis/nerdgraph/examples/nerdgraph-data-partition-rules-tutorial)
        * [ログ解析ルールの管理](/docs/apis/nerdgraph/examples/nerdgraph-log-parsing-rules-tutorial/)
        * [難読化表現とルールの管理](/docs/logs/ui-data/obfuscation-ui/)
      </td>
    </tr>

    <tr>
      <td>
        モバイルのモニタリング
      </td>

      <td>
        * [新しいモバイルアプリの作成](/docs/apis/nerdgraph/examples/mobile-monitoring-config-nerdgraph/#create-mobile)
        * [アプリケーショントークンの取得](/docs/apis/nerdgraph/examples/mobile-monitoring-config-nerdgraph/#get-mobile-token)
        * [設定例<InlinePopover type="mobile" />](/docs/apis/nerdgraph/examples/mobile-monitoring-config-nerdgraph/#configure-mobile-application)
      </td>
    </tr>

    <tr>
      <td>
        New Relicアプリ
      </td>

      <td>
        [New Relicアプリを構築する](/docs/new-relic-solutions/build-nr-ui/query-and-store-data)
      </td>
    </tr>

    <tr>
      <td>
        クエリとチャート
      </td>

      <td>
        * [データのNRQLクエリの実行](/docs/apis/nerdgraph/examples/nerdgraph-nrql-tutorial)
        * [複数のアカウントでクエリの実行](/docs/apis/nerdgraph/examples/nerdgraph-nrql-tutorial/#cross-account-query)
        * [非同期、実行時間が長いクエリ](/docs/apis/nerdgraph/examples/async-queries-nrql-tutorial)
      </td>
    </tr>

    <tr>
      <td>
        サービスレベル
      </td>

      <td>
        [サービスレベルの設定および管理](/docs/apis/nerdgraph/examples/nerdgraph-slm)
      </td>
    </tr>

    <tr>
      <td>
        合成のモニタリング
      </td>

      <td>
        [モニターの管理](/docs/apis/nerdgraph/examples/nerdgraph-synthetics-tutorial)
      </td>
    </tr>

    <tr>
      <td>
        タグ
      </td>

      <td>
        [タグを追加および管理する](/docs/apis/nerdgraph/examples/nerdgraph-tagging-api-tutorial)
      </td>
    </tr>

    <tr>
      <td>
        ワークロード
      </td>

      <td>
        [ワークロードを表示して設定する](/docs/apis/nerdgraph/tutorials/nerdgraph-workloads-api-tutorials)
      </td>
    </tr>
  </tbody>
</table>

## NerdGraphの用語 [#terminology]

以下にGraphQLから派生する用語を示します（API形式NerdGraphが使用する用語）。

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        用語
      </th>

      <th>
        定義
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        クエリとミューテーション
      </td>

      <td>
        GraphQLの操作には、以下の2つのクラスがあります。

        * [クエリ](https://graphql.org/learn/queries)は、データのフェッチにのみ使用する基本的な要求です。クエリは静的ではなく、必要に応じて要求するデータ量を加減できます。各クエリについて、[スキーマ](https://graphql.org/learn/schema)でサポートされている限り、どのデータを取得するかを厳密に指定できます。
        * [ミューテーション](https://graphql.org/learn/queries/#mutations)は、リソースの作成や設定の変更などのアクションを実行するための要求です。ミューテーションでは、キーワード`mutation`と、ミューテーションの`name`が必要です。
      </td>
    </tr>

    <tr>
      <td>
        タイプ
      </td>

      <td>
        Data in GraphQLはタイプにまとめられます。タイプは、[スカラー](https://graphql.org/learn/schema/#scalar-types)（文字列や数字、booleanなど）またはオブジェクトタイプとなります。

        [オブジェクトタイプ](https://graphql.org/learn/schema/#object-types-and-fields)は、一連のフィールドで構成されるカスタムタイプです。たとえば、`User`と呼ばれるオブジェクトタイプは、システムのユーザーを表します。
      </td>
    </tr>

    <tr>
      <td>
        フィールド
      </td>

      <td>
        [フィールド](https://graphql.org/learn/schema/#object-types-and-fields)は、クエリを実行できるオブジェクトタイプの情報の断片を表します。フィールドは、スカラー、リスト、またはオブジェクトです。たとえば、`User`オブジェクトタイプには、`name`という文字列フィールドを指定できます。
      </td>
    </tr>

    <tr>
      <td>
        インタフェース
      </td>

      <td>
        [インタフェース](https://graphql.org/learn/schema/#interfaces)は、他のオブジェクトタイプが`implement`できる一連の一般的なフィールドを表す抽象型です。
      </td>
    </tr>
  </tbody>
</table>