---
title: recordMetric（Android SDK API）
type: apiDoc
shortDescription: カスタムメトリクス（任意の数値データ）の記録。
tags:
  - Mobile monitoring
  - New Relic Mobile Android
  - Android SDK API
metaDescription: 'New Relic API for Android mobile app monitoring: create custom metrics to record arbitrary numeric app data.'
translationType: machine
---

## 構文

```
NewRelic.recordMetric(string $name, string $category)
NewRelic.recordMetric(string $name, string $category, double $value)
NewRelic.recordMetric(string $name, string $category, int $count, double $totalValue, double $exclusiveValue)
NewRelic.recordMetric(string $name, string $category, int $count, double $totalValue, double $exclusiveValue, MetricUnit $countUnit, MetricUnit $valueUnit)
```

カスタムメトリクス（任意の数値データ）の記録。

## 要件

すべてのAgentバージョンに対応しています。

## 説明

このメソッドを使用すると、任意の [カスタムメトリクス](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#custom-metric) を記録して、New Relic が自動的に追跡していないアプリのアクティビティをより詳細に把握することができます。このコールでは、オプションで詳細レベルを指定するためのいくつかのパラメータセットを受け付けます。

メトリクスを最大限に活用するために、以下のガイドラインに従って、明確で簡潔なメトリクス名を作成してください。

* ユーザーインターフェースでの表示に適した大文字、小文字、空白文字を使用します。メトリック名はそのまま表示されます。
* メートル法の名称を大文字にします。
* メトリックに名前を付けるときは、文字`/ ] [ | *`を使用しないでください。
* マルチバイト文字は避けてください。

`category`も必要です。 UIに表示され、カスタムメトリックが多数ある場合は、カスタムメトリックを整理するのに役立ちます。カスタムカテゴリにすることも、 [`MetricCategory`列挙型](/docs/mobile-monitoring/new-relic-mobile-android/install-configure/work-android-sdk-api#cat)を使用して事前定義されたカテゴリにすることもできます。

## パラメーター

このコールは、4つのパラメータセットを受け取ります。

<table>
  <thead>
    <tr>
      <th width={200}>
        **パラメータ**
      </th>

      <th>
        **説明**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td colSpan={2}>
        ```
        NewRelic.recordMetric(string $name, string $category)
        ```
      </td>
    </tr>

    <tr>
      <td>
        `$name`

        _ストリング_
      </td>

      <td>
        必須です。カスタムメトリックの任意の名前。
      </td>
    </tr>

    <tr>
      <td>
        `$category`

        _ストリング_
      </td>

      <td>
        必要です。カスタムまたは定義済みの [メトリック カテゴリを使用したメトリック カテゴリ名](/docs/mobile-monitoring/new-relic-mobile-android/install-configure/work-android-sdk-api#cat) 。
      </td>
    </tr>

    <tr>
      <td colSpan={2}>
        ```
        NewRelic.recordMetric(string $name, string $category, double $value)
        ```
      </td>
    </tr>

    <tr>
      <td>
        `$name`

        _ストリング_
      </td>

      <td>
        必須です。カスタムメトリックの任意の名前。
      </td>
    </tr>

    <tr>
      <td>
        `$category`

        _ストリング_
      </td>

      <td>
        必要です。カスタムまたは定義済みの [メトリック カテゴリを使用したメトリック カテゴリ名](/docs/mobile-monitoring/new-relic-mobile-android/install-configure/work-android-sdk-api#cat) 。
      </td>
    </tr>

    <tr>
      <td>
        `Value`

        _ダブル_
      </td>

      <td>
        必須です。メトリックの値です。
      </td>
    </tr>

    <tr>
      <td colSpan={2}>
        ```
        NewRelic.recordMetric(string $name, string $category, int $count, double $totalValue, double $exclusiveValue)
        ```
      </td>
    </tr>

    <tr>
      <td>
        `$name`

        _ストリング_
      </td>

      <td>
        必須です。カスタムメトリックの任意の名前。
      </td>
    </tr>

    <tr>
      <td>
        `$category`

        _ストリング_
      </td>

      <td>
        必要です。カスタムまたは定義済みの [メトリック カテゴリを使用したメトリック カテゴリ名](/docs/mobile-monitoring/new-relic-mobile-android/install-configure/work-android-sdk-api#cat) 。
      </td>
    </tr>

    <tr>
      <td>
        `Value`

        _ダブル_
      </td>

      <td>
        必須です。メトリックの値です。
      </td>
    </tr>

    <tr>
      <td>
        `count`

        _int_
      </td>

      <td>
        必須です。イベントの発生回数です。
      </td>
    </tr>

    <tr>
      <td>
        `totalValue`

        _ダブル_
      </td>

      <td>
        必要です。録画の合計金額です。
      </td>
    </tr>

    <tr>
      <td>
        `exclusiveValue`

        _ダブル_
      </td>

      <td>
        必要です。録画の排他的な値。例えば、合計値に他の場所で計上された測定値が含まれている場合など。
      </td>
    </tr>

    <tr>
      <td colSpan={2}>
        ```
        NewRelic.recordMetric(string $name, string $category, int $count, double $totalValue, double $exclusiveValue, MetricUnit $countUnit, MetricUnit $valueUnit)
        ```
      </td>
    </tr>

    <tr>
      <td>
        `$name`

        _ストリング_
      </td>

      <td>
        必須です。カスタムメトリックの任意の名前。
      </td>
    </tr>

    <tr>
      <td>
        `$category`

        _ストリング_
      </td>

      <td>
        必要です。カスタムまたは定義済みの [メトリック カテゴリを使用したメトリック カテゴリ名](/docs/mobile-monitoring/new-relic-mobile-android/install-configure/work-android-sdk-api#cat) 。
      </td>
    </tr>

    <tr>
      <td>
        `Value`

        _ダブル_
      </td>

      <td>
        必須です。メトリックの値です。
      </td>
    </tr>

    <tr>
      <td>
        `count`

        _int_
      </td>

      <td>
        必須です。イベントの発生回数です。
      </td>
    </tr>

    <tr>
      <td>
        `totalValue`

        _ダブル_
      </td>

      <td>
        必要です。録画の合計金額です。
      </td>
    </tr>

    <tr>
      <td>
        `exclusiveValue`

        _ダブル_
      </td>

      <td>
        必要です。録画の排他的な値。例えば、合計値に他の場所で計上された測定値が含まれている場合など。
      </td>
    </tr>

    <tr>
      <td>
        `countUnit`

        _メトリックユニット_
      </td>

      <td>
        必須。 `PERCENT` 、 `BYTES` 、 `SECONDS` 、 `BYTES_PER_SECOND` 、または`OPERATIONS`を含むメトリックカウントの測定単位。
      </td>
    </tr>

    <tr>
      <td>
        `valueUnit`

        _メトリックユニット_
      </td>

      <td>
        必須。 `PERCENT` 、 `BYTES` 、 `SECONDS` 、 `BYTES_PER_SECOND` 、または`OPERATIONS`を含むメトリック値の測定単位。
      </td>
    </tr>
  </tbody>
</table>

## 例

### シンプルなカスタムメトリック

カスタムメトリクスの作成例

```
NewRelic.recordMetric("Custom Metric Name","MyCategory", 1.0);
NewRelic.recordMetric("Login Auth Metric", "Network", 1.0);
```

### 任意の属性を持つメトリクス

エージェント・スタートのカスタム・メトリックを作成した例です。

```
NewRelic.recordMetric("Agent start", "Lifecycle");
```

同じ指標に経過時間の値を加えたもの。

```
NewRelic.recordMetric("Agent start", "Lifecycle", 10.11f);
```

経過時間と専有時間の2つのカウントを持つ。

```
NewRelic.recordMetric("Agent Start", "lifecycle", 2, 10.11, 1.23)
```

経過時間、専有時間、単位値パラメータの5カウント付き。

```
NewRelic.recordMetric("Agent start", "Lifecycle", 5, 10.11, 1.23, MetricUnit.OPERATIONS, MetricUnit.SECONDS);
```