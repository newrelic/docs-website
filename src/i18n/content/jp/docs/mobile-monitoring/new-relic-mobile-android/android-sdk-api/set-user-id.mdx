---
title: setUserId（Android SDK API）
type: apiDoc
shortDescription: ユーザーセッションをAnalyticsのイベントや属性と関連付けるために、カスタムユーザー識別子の値を設定します。
tags:
  - Mobile monitoring
  - New Relic Mobile Android
  - Android SDK API
metaDescription: 'New Relic API for Android mobile app monitoring: set user ID to associate sessions with events and attributes.'
translationType: machine
---

## 構文

```
NewRelic.setUserId(string $userId)
```

ユーザーセッションをAnalyticsのイベントや属性と関連付けるために、カスタムユーザー識別子の値を設定します。

## 要件

Agentバージョン5.0.0以上。

## 説明

このメソッドは、モバイルユーザーのセッションと New Relic Insights のイベントや属性を関連付けるためのカスタムユーザー識別子の値を設定します。このメソッドは、New Relic Android エージェントの起動後、いつでも呼び出すことができます。

ユーザー識別子はいくつかの理由で役に立ちます。 [Crash Analysis UI](/docs/mobile-monitoring/mobile-monitoring-ui/crashes/crash-analysis-group-filter-your-crashes) を使用して、以下のことができます。

* あるユーザーに特有のクラッシュを見つける。一人のユーザーの特定のクラッシュに焦点を当てることで、問題を素早く解決できることが多いです。
* すべてのクラッシュをフィルタリングして、各クラッシュタイプのユーザー（またはユーザーグループ）の発生状況を表示します。逆に、クラッシュリストをフィルタリングして、各クラッシュタイプの影響を受けたユーザーを表示します。ユーザーIDが電子メールアドレスとして表されている場合、それらのクラッシュに対応するソリューションが利用可能になったときに、簡単に連絡して知らせることができます。

個人情報保護の観点からユーザーを明示的に特定したくない場合でも、有料エンドユーザーと無料エンドユーザー、登録ユーザーと未登録ユーザーなどのユーザーセグメントを追跡する際には、この方法が有効です。これにより、各セグメントで経験したクラッシュの数や種類に基づいてフィルタリングやファセットを行い、そのセグメントに基づいてアウトリーチを行うことができます。

この API の使用方法については、 [Insights へのカスタム属性とイベントの送信](/docs/mobile-monitoring/new-relic-mobile-android/install-configure/work-android-sdk-api#attributes-events-insights) を参照してください。

## パラメータ

<table>
  <thead>
    <tr>
      <th width="25%">
        パラメーター
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `$userId`

        _文字列_
      </td>

      <td>
        必須項目です。ユーザーIDを設定します。
      </td>
    </tr>
  </tbody>
</table>

## 戻り値

成功した場合は `true` を、失敗した場合は `false` を返します。

## 例

### ユーザーIDの設定

ユーザーセッションとNew Relic Insightsのイベントや属性を関連付けるためのユーザー識別子を設定します。

```
boolean userIdWasSet = NewRelic.setUserId("SampleUserName");
```