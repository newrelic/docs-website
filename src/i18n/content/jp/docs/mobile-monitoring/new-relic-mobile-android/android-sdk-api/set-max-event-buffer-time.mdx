---
title: setMaxEventBufferTime（Android SDK API）
type: apiDoc
shortDescription: イベントのハーベストサイクルの長さを設定します。
tags:
  - Mobile monitoring
  - New Relic Mobile Android
  - Android SDK API
metaDescription: 'New Relic API for Android mobile app monitoring: set maximum time agent will store events in memory.'
translationType: machine
---

## 構文

```
NewRelic.setMaxEventBufferTime(int $maxBufferTimeInSec)
```

イベントのハーベストサイクルの長さを設定します。

## 要件

Agentバージョン5.0.0以上。

## 説明

このメソッドは、New Relic Android エージェントが、バッファリングされたイベントを次の [収穫サイクルで New Relic に送信するために含める前に、メモリにイベントを保存する最大時間を秒単位で設定します](/docs/apm/new-relic-apm/getting-started/glossary#harvest-cycle) 。

* デフォルトは600秒（10分）。
* 最小値は60秒以下にはできません。
* 最大値は600秒を超えないようにしてください。

つまり、最も古いイベントのタイムスタンプがこのカスタム設定された時間を超えると、エージェントはバッファリングされたコンテンツをNew Relicエージェントからコレクターへの各接続間のハーベストサイクルで送信します。

[`setMaxEventPoolSize()`](/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/setmaxeventpoolsize-android-sdk-api) も参照してください。これは、収穫サイクル中にエージェントが保存するイベントの最大数を設定するものです。

<Callout variant="important">
  多数のイベントを報告したり、イベントを頻繁に報告したりすると、アプリのパフォーマンスに影響を与える可能性があるので注意が必要です。
</Callout>

この API の使用方法については、 [Insights へのカスタム属性とイベントの送信](/docs/mobile-monitoring/new-relic-mobile-android/install-configure/work-android-sdk-api#attributes-events-insights) を参照してください。

## パラメータ

<table>
  <thead>
    <tr>
      <th width="25%">
        パラメーター
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `$maxBufferTimeInSec`

        _int_
      </td>

      <td>
        必要です。エージェントがイベントをメモリに保存する最大時間（秒）を指定します。既定値の収穫サイクル長は600秒です。
      </td>
    </tr>
  </tbody>
</table>

## 戻り値

成功した場合は `true` を、失敗した場合は `false` を返します。

## 例

### イベントバッファの最大時間を300秒に設定

```
boolean fiveMinuteLimitSet = NewRelic.setMaxEventBufferTime(300);
```