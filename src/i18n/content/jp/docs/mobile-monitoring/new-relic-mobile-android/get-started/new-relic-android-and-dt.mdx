---
title: New Relic Android モバイルモニタリング（分散型トレース機能付き
metaDescription: This page describes how to set up Android distributed tracing.
translationType: machine
---

import mobileIcon from 'images/mobile_icon_icon.webp'

New Relic の Android モバイル監視エージェントは、分散型トレースをサポートしています。これにより、モバイルアプリのアクティビティが関連サービスにどのように接続されているかを確認することができます。

この短いビデオ（約2分15秒）で、以下の方法をご紹介します。

* New Relicでモバイルの分散型トレースデータを検索します。
* 標準およびカスタム属性によるフィルタリング。

<Video
  id="tkAxeE5cT2Q"
  type="youtube"
/>

## 要件 [#requirements]

分散型トレーシングを使用するには、最低でもAndroidエージェントのバージョン6.0.0が必要となります。

## 分散型トレーシングの設定方法 [#setup]

この機能をサポートするモバイル エージェントの場合、既定で有効になっています。この機能を動作させるには、 [AnalyticsEvents を](/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/android-agent-configuration-feature-flags/#ff-analytics-events) オンにする必要もあります。

分散トレースを無効にする場合は、 [Android 機能フラグ](/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/android-agent-configuration-feature-flags/#dt)を参照してください。

## インフィニット トレースの有効化 [#infinite-tracing]

モバイルアプリに、[無限トレース](/docs/distributed-tracing/infinite-tracing/introduction-infinite-tracing)と呼ばれるテールベースの分散トレースを使用するダウンストリームサービスがある場合は、モバイルアプリでこの機能を有効にする必要があります。これにより、ルートスパン（開始モバイルアプリ）が、InfiniteTracingによって追跡される残りのスパンに含まれるようになります。

この設定を行うには、 [Infinite Tracingの手順](/docs/distributed-tracing/infinite-tracing/set-trace-observer) を参照して、トレースオブザーバーを作成し、スパンをレポートするモバイルアプリ（データソース）を選択します。

## データを探す [#find-data]

モバイルスパンは、そのスパンがトレースの一部である [New Relic distributed tracing UI](/docs/understand-dependencies/distributed-tracing/ui-data/additional-distributed-tracing-features-new-relic-one/) に表示されます。

ここでは、データを検索したり、問い合わせたりするためのヒントをご紹介します。

* エンドユーザーが作成したトレースは[、NewRelicの分散トレースUI](/docs/understand-dependencies/distributed-tracing/ui-data/additional-distributed-tracing-features-new-relic-one)で見つけることができます。

* 分散トレーシング UI では、エンドユーザー スパンは

  <img title="New Relic distributed tracing mobile span icon" alt="New Relic distributed tracing mobile span icon" src={mobileIcon} style={{height: "30px", width: "30px"}}/>

  アイコン。

* スパンの属性を見るには、UI で [a span を選択します。](/docs/apm/distributed-tracing/ui-data/understand-use-distributed-tracing-data#span-details)

* [](/docs/apm/distributed-tracing/ui-data/understand-use-distributed-tracing-data#span-details)

* [スパンは ](/docs/apm/distributed-tracing/ui-data/understand-use-distributed-tracing-data#span-details)[スパンデータ](/attribute-dictionary/?event=Span) として報告され、 [New Relic](/docs/using-new-relic/data/understand-data/query-new-relic-data) で照会することができます。

* クエリのヒント

  * `mobileApp.name`をモバイルアプリ名に設定して、名前でクエリします。
  * `mobileApp.name is not null`を含む少なくとも1つのモバイルアプリスパンを含むトレースをクエリします。
  * `appName is not null`を含む少なくとも1つのバックエンドアプリを含むトレースをクエリします。
  * 前述の2つの条件を組み合わせて、モバイルとバックエンドの両方のスパンを含むトレースを検索します。

## トラブルシューティング [#troubleshooting]

エンドユーザースパンが表示されない、またはその他の分散型トレースの問題がある場合は、 [トラブルシューティング](/docs/apm/distributed-tracing/troubleshooting/troubleshooting-missing-trace-data) を参照してください。