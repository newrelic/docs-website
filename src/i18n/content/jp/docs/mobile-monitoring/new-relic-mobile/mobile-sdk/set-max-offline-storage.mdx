---
title: 最大オフラインストレージサイズを設定する
type: apiDoc
shortDescription: オフラインストレージに保存できる最大サイズを設定します。
tags:
  - Mobile monitoring
  - Mobile SDK API
  - Custom instrumentation
metaDescription: Mobile app monitoring API used to set the maximum size of offline storage.
freshnessValidatedDate: '2024-02-28T00:00:00.000Z'
translationType: machine
---

オフライン ストレージに保存できる合計データの最大サイズを設定します。

デフォルトでは、モバイル監視は最大 100 メガバイトのオフライン ストレージを収集できます。 デバイスにインターネット接続がないためにデータ ペイロードの送信に失敗した場合、インターネット接続が確立されるまでデータ ペイロードをファイル システムに保存できます。 一般的な収集ペイロードが正常に送信された後、すべてのオフライン データが New Relic に送信され、ストレージから消去されます。

この方法では、ファイル システムに保存できるオフライン ストレージの最大量を制御します。 サイズ制限に達すると、 New Relic Mobileエージェントは保存できなかった新しいペイロードを破棄します。 この方法を使用すると、オフライン ストレージの最大サイズをオーバーライドできます。

<Tabs>
  <TabsBar>
    <TabsBarItem id="android">
      Android
    </TabsBarItem>

    <TabsBarItem id="ios">
      iOS
    </TabsBarItem>

    <TabsBarItem id="capacitor">
      コンデンサ
    </TabsBarItem>

    <TabsBarItem id="cordova">
      コルドバ
    </TabsBarItem>

    <TabsBarItem id="maui">
      .NETマウイ
    </TabsBarItem>

    <TabsBarItem id="flutter">
      フラッター
    </TabsBarItem>

    <TabsBarItem id="react">
      リアクトネイティブ
    </TabsBarItem>

    <TabsBarItem id="unity">
      Unity
    </TabsBarItem>

    <TabsBarItem id="xamarin">
      ザマリン
    </TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="android">
      <Callout variant="important">
        オフライン ストレージはデフォルトでは無効になっています。 これを有効にするには、次の機能フラグを追加します。

        ```java
        NewRelic.disableFeature(FeatureFlag.OfflineStorage)
        ```

        機能フラグの追加の詳細については、 [「モバイル監視設定の構成」](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/configure-settings/#android)を参照してください。
      </Callout>

      ## 構文 [#syntax]

      ### Java [#java]

      ```java
      NewRelic.setMaxOfflineStorageSize(int $megaBytes)
      ```

      ### コトリン [#kotlin]

      ```kotlin
      NewRelic.setMaxOfflineStorageSize(megaBytes: Int)
      ```

      ## パラメーター [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              パラメータ
            </th>

            <th width={200}>
              タイプ
            </th>

            <th>
              説明
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `$megaBytes`
            </td>

            <td>
              `int`
            </td>

            <td>
              必須。 ファイル システムに保存できる最大サイズ (メガバイト単位)。
            </td>
          </tr>
        </tbody>
      </table>

      ## 例 [#example]

      最大オフライン ストレージ サイズを 1000 に設定する例を次に示します。

      ### Java [#java]

      ```java
      NewRelic.setMaxOfflineStorageSize(1000);
      ```

      ### コトリン [#kotlin]

      ```kotlin
      NewRelic.setMaxOfflineStorageSize(1000)
      ```
    </TabsPageItem>

    <TabsPageItem id="ios">
      <Callout variant="important">
        オフライン ストレージはデフォルトでは無効になっています。 これを有効にするには、次の機能フラグを追加します。

        ```swift
        NewRelic.enableFeatures(NRMAFeatureFlags.NRFeatureFlag_OfflineStorage)
        ```

        機能フラグの追加の詳細については、 [「モバイル監視設定の構成」](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/configure-settings/#ios)を参照してください。
      </Callout>

      ## 構文 [#syntax]

      ### Objective-C [#objc]

      ```objectivec
      + (void) setMaxOfflineStorageSize:(unsigned int)size;
      ```

      ### 迅速 [#swift]

      ```swift
      NewRelic.setMaxOfflineStorageSize(unsigned int $size)
      ```

      ## パラメーター [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              パラメータ
            </th>

            <th width={200}>
              タイプ
            </th>

            <th>
              説明
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `$megaBytes`
            </td>

            <td>
              `unsigned int`
            </td>

            <td>
              必須。 ファイル システムに保存できる最大サイズ (メガバイト単位)。
            </td>
          </tr>
        </tbody>
      </table>

      ## 例 [#examples]

      ### Objective-C [#obj-c]

      ```objectivec
      BOOL poolSizeSet = [NewRelic setMaxOfflineStorageSize:1000];
      ```

      ### 迅速 [#swift]

      ```swift
      let poolSizeSet = NewRelic.setMaxOfflineStorageSize(1000)
      ```
    </TabsPageItem>

    <TabsPageItem id="capacitor">
      <Callout variant="important">
        オフライン ストレージはデフォルトで有効になっています。 無効にする必要がある場合は、次の機能フラグを追加します。

        ```typescript
        offlineStorageEnabled: false
        ```

        機能フラグの追加の詳細については、 [「モバイル監視設定の構成」](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/configure-settings/#capacitor)を参照してください。
      </Callout>

      ## 構文 [#syntax]

      ```typescript
      setMaxOfflineStorageSize(options: { megabytes: number; }) => void
      ```

      ## パラメーター [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              パラメータ
            </th>

            <th width={200}>
              タイプ
            </th>

            <th>
              説明
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `megabytes`
            </td>

            <td>
              `number`
            </td>

            <td>
              必須。 ファイル システムに保存できる最大サイズ (メガバイト単位)。
            </td>
          </tr>
        </tbody>
      </table>

      ## 例 [#example]

      ```typescript
              NewRelicCapacitorPlugin.setMaxOfflineStorageSize({ megaBytes: 200 })
      ```
    </TabsPageItem>

    <TabsPageItem id="cordova">
      <Callout variant="important">
        オフライン ストレージはデフォルトで有効になっています。 無効にする必要がある場合は、次の機能フラグを追加します。

        ```typescript
        OFFLINE_STORAGE_ENABLED = "false"
        ```

        機能フラグの追加の詳細については、 [「モバイル監視設定の構成」](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/configure-settings/#cordova)を参照してください。
      </Callout>

      ## 構文 [#syntax]

      ```typescript
      setMaxOfflineStorageSize(megabytes: number): void;
      ```

      ## パラメーター [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              パラメータ
            </th>

            <th width={200}>
              タイプ
            </th>

            <th>
              説明
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `megabytes`
            </td>

            <td>
              `number`
            </td>

            <td>
              必須。 ファイル システムに保存できる最大サイズ (メガバイト単位)。
            </td>
          </tr>
        </tbody>
      </table>

      ## 例 [#example]

      ```js
        NewRelic.setMaxOfflineStorageSize(200);
      ```
    </TabsPageItem>

    <TabsPageItem id="maui">
      <Callout variant="important">
        オフライン ストレージはデフォルトで有効になっています。 無効にする必要がある場合は、次の機能フラグを追加します。

        ```csharp
        offlineStorageEnabled: false
        ```

        機能フラグの追加の詳細については、 [「モバイル監視設定の構成」](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/configure-settings/#maui)を参照してください。
      </Callout>

      ## 構文 [#syntax]

      ```csharp
      setMaxOfflineStorageSize(int megabytes): void;
      ```

      ## パラメーター [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              パラメータ
            </th>

            <th width={200}>
              タイプ
            </th>

            <th>
              説明
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `megabytes`
            </td>

            <td>
              `int`
            </td>

            <td>
              必須。 ファイル システムに保存できる最大サイズ (メガバイト単位)。
            </td>
          </tr>
        </tbody>
      </table>

      ## 例 [#example]

      ```C#
          CrossNewRelic.Current.SetMaxOfflineStorageSize(200);
      ```
    </TabsPageItem>

    <TabsPageItem id="flutter">
      <Callout variant="important">
        オフライン ストレージはデフォルトで有効になっています。 無効にする必要がある場合は、次の機能フラグを追加します。

        ```typescript
        offlineStorageEnabled: false
        ```

        機能フラグの追加の詳細については、 [「モバイル監視設定の構成」](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/configure-settings/#flutter)を参照してください。
      </Callout>

      ## 構文 [#syntax]

      ```typescript
      setMaxOfflineStorageSize(int megabytes): void;
      ```

      ## パラメーター [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              パラメータ
            </th>

            <th width={200}>
              タイプ
            </th>

            <th>
              説明
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `megabytes`
            </td>

            <td>
              `int`
            </td>

            <td>
              必須。 ファイル システムに保存できる最大サイズ (メガバイト単位)。
            </td>
          </tr>
        </tbody>
      </table>

      ## 例 [#example]

      ```dart
      NewrelicMobile.instance.setMaxOfflineStorageSize(200);
      ```
    </TabsPageItem>

    <TabsPageItem id="react">
      <Callout variant="important">
        オフライン ストレージはデフォルトで有効になっています。 無効にする必要がある場合は、次の機能フラグを追加します。

        ```typescript
        offlineStorageEnabled: false
        ```

        機能フラグの追加の詳細については、 [「モバイル監視設定の構成」](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/configure-settings/#react)を参照してください。
      </Callout>

      ## 構文 [#syntax]

      ```js
      setMaxOfflineStorageSize(megabytes: number): void;
      ```

      ## パラメーター [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              パラメータ
            </th>

            <th width={200}>
              タイプ
            </th>

            <th>
              説明
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `megabytes`
            </td>

            <td>
              `number`
            </td>

            <td>
              必須。 ファイル システムに保存できる最大サイズ (メガバイト単位)。
            </td>
          </tr>
        </tbody>
      </table>

      ## 例 [#example]

      ```js
         NewRelic.setMaxOfflineStorageSize(200);
      ```
    </TabsPageItem>

    <TabsPageItem id="unity">
      <Callout variant="important">
        オフライン ストレージはデフォルトで有効になっています。 無効にする必要がある場合は、 [「モバイル監視設定を構成する」](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/configure-settings/#unity)を参照してください。
      </Callout>

      ## 構文 [#syntax]

      ```csharp
      SetMaxOfflineStorageSize(int maxOfflineStorageSize): void;
      ```

      ## パラメーター [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              パラメータ
            </th>

            <th width={200}>
              タイプ
            </th>

            <th>
              説明
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `maxOfflineStorageSize`
            </td>

            <td>
              `int`
            </td>

            <td>
              必須。 ファイル システムに保存できる最大サイズ (メガバイト単位)。
            </td>
          </tr>
        </tbody>
      </table>

      ## 例 [#example]

      ```csharp
          NewRelicAgent.SetMaxOfflineStorageSize(200);
      ```
    </TabsPageItem>

    <TabsPageItem id="xamarin">
      <Callout variant="important">
        オフライン ストレージはデフォルトで有効になっています。 無効にする必要がある場合は、次の機能フラグを追加します。

        ```typescript
        offlineStorageEnabled: false
        ```

        機能フラグの追加の詳細については、 [「モバイル監視設定の構成」](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/configure-settings/#xamarin)を参照してください。
      </Callout>

      ## 構文 [#syntax]

      ```csharp
      SetMaxOfflineStorageSize(int megabytes): void;
      ```

      ## パラメーター [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              パラメータ
            </th>

            <th width={200}>
              タイプ
            </th>

            <th>
              説明
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `megabytes`
            </td>

            <td>
              `int`
            </td>

            <td>
              必須。 ファイル システムに保存できる最大サイズ (メガバイト単位)。
            </td>
          </tr>
        </tbody>
      </table>

      ## 例 [#example]

      ```csharp
          CrossNewRelicClient.Current.SetMaxOfflineStorageSize(200);
      ```
    </TabsPageItem>
  </TabsPages>
</Tabs>
