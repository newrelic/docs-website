---
title: 最大イベントバッファ時間を設定する
type: apiDoc
shortDescription: イベントのハーベストサイクルの長さを設定します。
tags:
  - Mobile monitoring
  - Mobile SDK API
  - Custom instrumentation
metaDescription: Mobile app monitoring API used to set the event harvest cycle length.
translationType: machine
---

<Tabs>
  <TabsBar>
    <TabsBarItem id="android">
      Android
    </TabsBarItem>

    <TabsBarItem id="ios">
      iOS
    </TabsBarItem>

    <TabsBarItem id="capacitor">
      コンデンサ
    </TabsBarItem>

    <TabsBarItem id="cordova">
      コルドバ
    </TabsBarItem>

    <TabsBarItem id="maui">
      .NETマウイ
    </TabsBarItem>

    <TabsBarItem id="flutter">
      フラッター
    </TabsBarItem>

    <TabsBarItem id="react">
      リアクトネイティブ
    </TabsBarItem>

    <TabsBarItem id="xamarin">
      ザマリン
    </TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="android">
      ## 構文 [#syntax]

      ### Java [#java]

      ```java
      NewRelic.setMaxEventBufferTime(int $maxBufferTimeInSec)
      ```

      ### コトリン [#kotlin]

      ```kotlin
      NewRelic.setMaxEventBufferTime(maxBufferTimeInSec: Int)
      ```

      ## 説明 [#description]

      イベントのハーベストサイクルの長さを設定します。

      このメソッドは、New Relic Android エージェントが、バッファリングされたイベントを次の [収穫サイクルで New Relic に送信するために含める前に、メモリにイベントを保存する最大時間を秒単位で設定します](/docs/apm/new-relic-apm/getting-started/glossary#harvest-cycle) 。

      * デフォルトは600秒（10分）。
      * 最小値は60秒以下にはできません。
      * 最大値は600秒を超えないようにしてください。

      つまり、最も古いイベントのタイムスタンプがこのカスタム設定された時間を超えると、エージェントはバッファリングされたコンテンツをNew Relicエージェントからコレクターへの各接続間のハーベストサイクルで送信します。

      ハーベストサイクル中にエージェントによって保存されるイベントの最大数を設定する[`setMaxEventPoolSize()`](/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/setmaxeventpoolsize-android-sdk-api)も参照してください。

      <Callout variant="important">
        多数のイベントを報告したり、イベントを頻繁に報告したりすると、アプリのパフォーマンスに影響を与える可能性があるので注意が必要です。
      </Callout>

      ## パラメーター [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              パラメータ
            </th>

            <th width={200}>
              タイプ
            </th>

            <th>
              説明
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `$maxBufferTimeInSec`
            </td>

            <td>
              `int`
            </td>

            <td>
              必要です。エージェントがイベントをメモリに保存する最大時間（秒）を指定します。既定値の収穫サイクル長は600秒です。
            </td>
          </tr>
        </tbody>
      </table>

      ## 例 [#example]

      最大イベント バッファー時間を 300 秒に設定する例を次に示します。

      ### Java [#java]

      ```java
      boolean NewRelic.setMaxEventBufferTime(300);
      ```

      ### コトリン [#kotlin]

      ```kotlin
      NewRelic.setMaxEventBufferTime(300)
      ```
    </TabsPageItem>

    <TabsPageItem id="ios">
      ## 構文 [#syntax]

      ### 目的-c [#objc]

      ```objectivec
      + (void) setMaxEventBufferTime:(unsigned int)seconds;
      ```

      ### 迅速 [#swift]

      ```swift
      NewRelic.setMaxEventBufferTime:(unsigned int)seconds;
      ```

      ## 説明 [#description]

      イベントハーベストサイクルの長さを設定します。デフォルトは600秒です。

      このメソッドは、次の[ハーベストサイクル](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#harvest-cycle)でNew Relicに送信されるバッファリングされたイベントを含める前に、NewReliciOSエージェントがイベントをメモリに保存する最大時間を秒単位で設定します。つまり、最も古いイベントのタイムスタンプがこのカスタム設定された時間を超えると、エージェントは、NewRelicエージェントからコレクターへの各接続間のハーベストサイクルでバッファリングされたコンテンツを送信します。 `Agent.start()`が呼び出された後、この値を設定する必要があります。

      * デフォルトは600秒（10分）。
      * 最小値は60秒以下にはできません。

      イベント プールの最大サイズを変更できる [`setMaxEventPoolSize()`](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/set-max-event-pool-size/)も参照してください。

      ## パラメーター [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              パラメータ
            </th>

            <th width={200}>
              タイプ
            </th>

            <th>
              説明
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `seconds`
            </td>

            <td>
              `unsigned int`
            </td>

            <td>
              必要。イベントが New Relic に送信される前にバッファリングできる最大時間 (秒)。
            </td>
          </tr>
        </tbody>
      </table>

      ## 例 [#examples]

      ### Objective-C [#obj-c]

      ```objectivec
      BOOL fiveMinuteLimitSet = [NewRelic setMaxEventBufferTime:600];
      ```

      ### 迅速 [#swift]

      ```swift
      let fiveMinuteLimitSet = NewRelic.setMaxEventBufferTime(600)
      ```
    </TabsPageItem>

    <TabsPageItem id="capacitor">
      ## 構文 [#syntax]

      ```typescript
      setMaxEventBufferTime(options: { maxBufferTimeInSeconds: number; }) => void
      ```

      ## 説明 [#description]

      イベント収集サイクルの長さを設定します。デフォルトは 600 秒 (10 分) です。最小値は 60 秒未満にすることはできません。最大値は 600 秒を超えてはなりません。

      ## パラメーター [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              パラメータ
            </th>

            <th width={200}>
              タイプ
            </th>

            <th>
              説明
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `options`
            </td>

            <td>
              `{ maxBufferTimeInSeconds: number; }`
            </td>

            <td>
              必要。最大バッファ時間を秒単位で含むオブジェクト。
            </td>
          </tr>

          <tr>
            <td>
              `maxBufferTimeInSeconds`
            </td>

            <td>
              `number`
            </td>

            <td>
              必要。イベントが New Relic に送信される前にバッファリングできる最大時間 (秒)。
            </td>
          </tr>
        </tbody>
      </table>

      ## 例 [#example]

      ```typescript
          NewRelicCapacitorPlugin.setMaxEventBufferTime({ maxBufferTimeInSeconds: 60 });
      ```
    </TabsPageItem>

    <TabsPageItem id="cordova">
      ## 構文 [#syntax]

      ```typescript
      setMaxEventBufferTime(maxBufferTimeInSeconds: number): void;

      ```

      ## 説明 [#description]

      イベント収集サイクルの長さを設定します。デフォルトは 600 秒 (10 分) です。最小値は 60 秒未満にすることはできません。最大値は 600 秒を超えてはなりません。

      ## パラメーター [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              パラメータ
            </th>

            <th width={200}>
              タイプ
            </th>

            <th>
              説明
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `maxBufferTimeInSeconds`
            </td>

            <td>
              `number`
            </td>

            <td>
              必要。イベントが New Relic に送信される前にバッファリングできる最大時間 (秒)。
            </td>
          </tr>
        </tbody>
      </table>

      ## 例 [#example]

      ```js
      NewRelic.setMaxEventBufferTime(60);
      ```
    </TabsPageItem>

    <TabsPageItem id="maui">
      ## 構文 [#syntax]

      ```csharp
      SetMaxEventBufferTime(int maxBufferTimeInSec) void;
      ```

      ## 説明 [#description]

      イベント収集サイクルの長さを設定します。デフォルトは 600 秒 (10 分) です。最小値は 60 秒未満にすることはできません。最大値は 600 秒を超えてはなりません。

      ## パラメーター [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              パラメータ
            </th>

            <th width={200}>
              タイプ
            </th>

            <th>
              説明
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `maxBufferTimeInSec`
            </td>

            <td>
              `int`
            </td>

            <td>
              必要。イベントが New Relic に送信される前にバッファリングできる最大時間 (秒)。
            </td>
          </tr>
        </tbody>
      </table>

      ## 例 [#example]

      ```C#
          CrossNewRelic.Current.SetMaxEventBufferTime(200);
      ```
    </TabsPageItem>

    <TabsPageItem id="flutter">
      ## 構文 [#syntax]

      ```typescript
      setMaxEventBufferTime(int maxBufferTimeInSec) void;

      ```

      ## 説明 [#description]

      イベント収集サイクルの長さを設定します。デフォルトは 600 秒 (10 分) です。最小値は 60 秒未満にすることはできません。最大値は 600 秒を超えてはなりません。

      ## パラメーター [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              パラメータ
            </th>

            <th width={200}>
              タイプ
            </th>

            <th>
              説明
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `maxBufferTimeInSec`
            </td>

            <td>
              `int`
            </td>

            <td>
              必要。イベントが New Relic に送信される前にバッファリングできる最大時間 (秒)。
            </td>
          </tr>
        </tbody>
      </table>

      ## 例 [#example]

      ```dart
      NewrelicMobile.instance.setMaxEventBufferTime(200);
      ```
    </TabsPageItem>

    <TabsPageItem id="react">
      ## 構文 [#syntax]

      ```js
      setMaxEventBufferTime(maxBufferTimeInSeconds: number): void;

      ```

      ## 説明 [#description]

      イベント収集サイクルの長さを設定します。デフォルトは 600 秒 (10 分) です。最小値は 60 秒未満にすることはできません。最大値は 600 秒を超えてはなりません。

      ## パラメーター [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              パラメータ
            </th>

            <th width={200}>
              タイプ
            </th>

            <th>
              説明
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `maxBufferTimeInSeconds`
            </td>

            <td>
              `number`
            </td>

            <td>
              必要。イベントが New Relic に送信される前にバッファリングできる最大時間 (秒)。
            </td>
          </tr>
        </tbody>
      </table>

      ## 例 [#example]

      ```js
         NewRelic.setMaxEventBufferTime(60);
      ```
    </TabsPageItem>

    <TabsPageItem id="xamarin">
      ## 構文 [#syntax]

      ```csharp
      SetMaxEventBufferTime(int maxBufferTimeInSec) void;
      ```

      ## 説明 [#description]

      イベント収集サイクルの長さを設定します。デフォルトは 600 秒 (10 分) です。最小値は 60 秒未満にすることはできません。最大値は 600 秒を超えてはなりません。

      ## パラメーター [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              パラメータ
            </th>

            <th width={200}>
              タイプ
            </th>

            <th>
              説明
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `maxBufferTimeInSec`
            </td>

            <td>
              `int`
            </td>

            <td>
              必要。イベントが New Relic に送信される前にバッファリングできる最大時間 (秒)。
            </td>
          </tr>
        </tbody>
      </table>

      ## 例 [#example]

      ```csharp
          CrossNewRelicClient.Current.SetMaxEventBufferTime(200);
      ```
    </TabsPageItem>
  </TabsPages>
</Tabs>