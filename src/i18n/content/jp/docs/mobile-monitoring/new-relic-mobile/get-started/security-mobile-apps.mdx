---
title: モバイルアプリのセキュリティ
tags:
  - Mobile monitoring
  - New Relic Mobile
  - Get started
metaDescription: 'For an overview of New Relic''s security measures for mobile applications, start here.'
translationType: machine
---

モバイルアプリケーションのセキュリティとユーザーのデータプライバシーを保護するために、New Relic はこのドキュメントで説明されているように、パフォーマンスデータのみを記録します。監視対象のアプリが使用または保存するデータは収集しません。New Relic のセキュリティ対策の詳細については、 [セキュリティおよびデータプライバシーに関するドキュメント](/docs/security/new-relic-security/data-privacy/data-privacy-new-relic) をご覧いただくか、 [New Relic のセキュリティウェブサイト](https://newrelic.com/security) をご覧ください。

## データ収集 [#collection]

New Relic をインストールすると、New Relic のモバイルモニタリング機能がお客様の iOS または Android アプリの一部となります。これらの機能は、お客様のアプリケーションの"サンドボックス内に設置され、" モバイルアプリのパフォーマンスデータ以外にはアクセスできません。バッテリー残量など、デバイス自体のパフォーマンスデータを収集することはありません。

当社のモバイルSDKエージェントは、特定のデータを収集し、New Relic [コレクター](/docs/using-new-relic/welcome-new-relic/getting-started/glossary#collector) に送信します。

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        収集したモバイルデータ
      </th>

      <th>
        コメント
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        デバイス
      </td>

      <td>
        * 応募セッションの長さ
        * 携帯電話会社名
        * デバイスのモデル名とメーカー名、オペレーティングシステムのバージョン
        * 特定のパッケージ、クラス、メソッド、およびスレッド名
        * 固有の [インスタンス識別子](#identifiers)
      </td>
    </tr>

    <tr>
      <td>
        要望と回答
      </td>

      <td>
        * HTTPリクエストのURL、HTTPステータスコード、レスポンスタイム、リクエストおよびレスポンスボディのサイズを含む
        * ネットワーク障害（HTTPリクエストが完了しない）に対するオペレーティングシステムのエラーコード
        * HTTP リクエストが `4xx` または `5xx` レスポンスステータスコードを受信した場合のレスポンスボディの最初の 2KB です。
        * Androidのみ。HTTPリクエストが `4xx` または `5xx` レスポンスステータスコードを受信したときのスタックトレース
      </td>
    </tr>
  </tbody>
</table>

エージェントは、HTTPS暗号化を使用してすべてのデータを送信し、コレクターのSSL証明書を検証します。これにより、一般的なデータスニッフィングやサーバースプーフィングの攻撃を防ぐことができます。また、エージェントはデータを送信する前に、各URLからクエリ文字列、フラグメント識別子、ユーザ名、パスワードを削除します。

## データエンドポイントの保護 [#endpoints]

当社のモバイルSDKエージェントは、収集したデータをコレクターに送信して処理します。また、これらのデータポストをプロキシサーバーやデリゲートサーバーにリダイレクトすることで、安全にデータを取り扱うことができます。

* **Android:** APIを使用して、ハーベストおよびクラッシュコレクターのデータエンドポイントのURIオーソリティを指定することができます。詳細については、 [Androidエージェントの設定と機能フラグのドキュメント](/docs/mobile-monitoring/new-relic-mobile-android/api-guides/android-agent-configuration-feature-flags) を参照してください。
* **iOS:** 詳細については、 [iOSエージェントの構成と機能フラグのドキュメント](/docs/mobile-monitoring/new-relic-mobile-ios/api-guides/ios-agent-configuration-feature-flags) をご覧ください。

## 固有の識別子 [#identifiers]

当社のモバイルSDKエージェントは、インストールされたアプリの各インスタンスに固有の識別子を割り当て、個別のインストールを追跡し、繰り返し行われるセッションを特定し、時間経過とともにパフォーマンスを相関させています。

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        モバイルエージェント
      </th>

      <th>
        識別子
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Android
      </td>

      <td>
        当社のAndroidエージェントは、暗号化された強力なUUIDを生成し、アプリの `SharedPreferences` に保存します。詳細については、[Androidの互換性と要件に関するドキュメント](/docs/mobile-monitoring/new-relic-mobile-android/get-started/new-relic-android-compatibility-requirements) をご覧ください。
      </td>
    </tr>

    <tr>
      <td>
        iOS
      </td>

      <td>
        iOSに採用されているセキュリティ対策は、エージェントのバージョンによって異なります。

        * バージョン5.3.5以降では、iOSエージェントは、 `IdentifierForVendor` プロパティを使用して、固有のデバイスIDを提供しています。

        * バージョン5.3.4以下では、iOSエージェントはSecureUDIDのオープンソースライブラリを使用していました。SecureUDIDは、多くのサードパーティライブラリで使用されており、Apple App storeのガイドラインに違反しない業界標準として認められています。SecureUDIDは、IMEIなどのデバイスのハードウェア識別子を使用しません。

          なお、当社のモバイルSDKはIDFA（Identity For Advertisers）を収集しません。詳細については、当社の[iOS互換性と要件のドキュメント](/docs/mobile-monitoring/new-relic-mobile-ios/get-started/new-relic-ios-compatibility-requirements) をご覧ください。
      </td>
    </tr>
  </tbody>
</table>

## リモートアップデートなし [#updates]

New Relic には、モバイルエージェントをリモートで更新する機能はありません。エージェントを使用しても、知らないうちにモバイルアプリにコードが導入されることはありません。

## データストレージ [#storage]

当社のモバイルSDKエージェントは、モバイルデバイス上のお客様のアプリの通常の環境設定または設定APIを使用して構成情報を保存します。この構成には、お客様の

* アプリケーショントークン
* アプリケーションのバージョン番号
* AndroidまたはiOS SDKのエージェントのバージョン番号
* 1分間に追跡するHTTPリクエストの最大数などの設定

パフォーマンスデータは、メモリーにバッファリングされます。デバイスのストレージに書き込まれることはありません。

モバイルアプリのサーバーサイドのデータストレージは、New Relic がモニターする他のアプリケーションと同様に取り扱われます。詳しくは、 [ホスティングとデータストレージに関するセキュリティドキュメント](/docs/security/new-relic-security/data-privacy/security-controls-privacy#Hosting_and_Data_Storage) をご覧ください。

一般的に、当社は、お客様のウェブまたはモバイルサブスクリプションのうち、より寛大な期間に応じてパフォーマンスデータを保持します。また、お客様のアプリケーションのアクティブなインスタンス数の集計記録も保持しています。

## コードに追加されるインスツルメンテーション [#instrumentation]

当社のモバイルSDKエージェントは、パフォーマンスデータを収集するために、お客様のアプリケーション内の特定のメソッドコールにコードを注入します。これにより、アプリケーションのコールグラフにスタックフレームが追加され、当社のコードが実行されるという効果が得られます。これにより、様々なAPIの入力と出力を時間を計って監視することができます。

この追加されたコードは、セキュリティ関連の欠陥がないかレビュー・テストされており、安全なコーディングに関するベストプラクティスが取り入れられています。当社のコードはお客様のアプリケーションのプロセス内で実行されるため、お客様自身のコードと同じ権利と制限が適用されます。

さらに、当社のiOSエージェントは、NSURLConnectionベースのネットワークアクティビティを追跡するために、NSURLProtocolハンドラを登録します。この計測機能は、アプリケーションが登録する他のカスタムNSURLProtocolハンドラーと互換性があります。ハンドラは、単一のアプリケーションプロセス内に登録されるため、他のアプリケーションや基礎となるオペレーティングシステムから発信されるネットワーク要求を監視することはできません。

## ユーザーのIPアドレス [#ip-address]

当社のモバイルSDKエージェントは、ユーザーのIPアドレスを取得して、ユーザーの追加情報を得るためにデータを充実させています。IPアドレスは、追加の詳細情報にマッピングされるルックアップ値として使用され、お客様はパフォーマンスの問題を診断することができます。IPアドレスのルックアップ値には次のようなものがあります。

* アプリケーション名
* 国コード
* 地域
* 郵便番号
* 緯度
* 経度
* エリアコード

モバイルモニタリング用のイベントと属性の詳細については、[データ辞書](/attribute-dictionary?attribute_name=&field_data_source_tid%5B%5D=8342) を参照してください。

New Relic は、属性がマッピングされた後、ユーザーの IP アドレスを保持しません。IP アドレスの値は、最大 6 時間までメモリにキャッシュされた後、破棄されます。このIPアドレスの使用について、通知と同意に関する自社の規制義務に関して質問や懸念がある場合は、プライバシーチームまたは法務チームにお問い合わせください。