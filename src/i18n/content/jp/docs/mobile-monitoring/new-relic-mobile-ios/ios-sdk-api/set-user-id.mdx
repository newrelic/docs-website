---
title: setUserId (iOS SDK API)
type: apiDoc
shortDescription: ユーザーセッションをAnalyticsのイベントや属性と関連付けるために、カスタムユーザー識別子の値を設定します。
tags:
  - Mobile monitoring
  - New Relic Mobile iOS
  - iOS SDK API
metaDescription: New Relic for iOS mobile app monitoring API to set the user ID to associate sessions with events and attributes.
translationType: machine
---

## 構文

```
setUserId:(NSString*)userId;
NewRelic.setUserId:(NSString*)userId;
```

ユーザーセッションをAnalyticsのイベントや属性と関連付けるために、カスタムユーザー識別子の値を設定します。

## 要件

バージョン5.9.0以降に対応しています。

## 説明

このメソッドは、モバイルユーザーセッションをNRDBイベントに関連付けるためのカスタムユーザー識別子の値を設定します。このメソッドは、New Relic iOS エージェントの起動後、いつでも呼び出すことができます。

ユーザー識別子はいくつかの理由で役に立ちます。 [衝突分析UI](/docs/mobile-monitoring/mobile-monitoring-ui/crashes/crash-analysis-group-filter-your-crashes) を使うと、以下のことができます。

* あるユーザーに特有のクラッシュを見つける。一人のユーザーの特定のクラッシュに焦点を当てることで、問題を素早く解決できることがよくあります。
* すべてのクラッシュをフィルタリングして、各クラッシュタイプのユーザー（またはユーザーグループ）の発生状況を表示したり、クラッシュリストをフィルタリングして、各クラッシュタイプの影響を受けたユーザーを表示したりすることができます。ユーザーIDがメールアドレスとして表されていれば、それらのクラッシュに対応するソリューションが利用可能になったときに、簡単に連絡を取ることができます。

個人情報保護の観点からユーザーを明示的に特定したくない場合でも、有料エンドユーザーと無料エンドユーザー、登録ユーザーと未登録ユーザーなどのユーザーセグメントを追跡する際には、この方法が有効です。これにより、各セグメントで経験したクラッシュの数や種類に基づいてフィルタリングやファセットを行い、そのセグメントに基づいてアウトリーチを行うことができます。

このAPIの使用方法については、カスタムアトリビュートとイベントの送信に関するドキュメントを参照してください。

* [Objective-C](/docs/mobile-monitoring/new-relic-mobile-ios/install-configure/work-ios-sdk-api#objc-custom-att-events)
* [Swift](/docs/mobile-monitoring/new-relic-mobile-ios/install-configure/work-ios-sdk-api#swift-custom-att-events)

## パラメータ

<table>
  <thead>
    <tr>
      <th width="25%">
        パラメーター
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `$userId`

        _文字列_
      </td>

      <td>
        必須項目です。ユーザーIDを設定します。
      </td>
    </tr>
  </tbody>
</table>

## 戻り値

成功した場合は `true` を、失敗した場合は `false` を返します。

## 例

### Objective-C [#obj-c]

**方法です。**

```
+ (BOOL) setUserId:(NSString*)userId;
```

**例:**

```
BOOL userIdWasSet = [NewRelic setUserId:@"SampleUserName"];
```

### Swift

**方法です。**

```
NewRelic.setUserId(userId: String!) -> Bool
```

**例:**

```
let userIdWasSet = NewRelic.setUserId("SampleUserName")
```