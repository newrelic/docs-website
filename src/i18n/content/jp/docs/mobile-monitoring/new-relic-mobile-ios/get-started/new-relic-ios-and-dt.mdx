---
title: New Relic iOSのモバイルモニタリングに分散型トレーシングを採用
metaDescription: This page describes how to set up iOS distributed tracing.
translationType: machine
---

New Relic の iOS モバイルモニタリングエージェントは、分散型トレースをサポートしています。これにより、モバイルアプリのアクティビティが関連サービスにどのように接続されているかを確認することができます。

この短いビデオ（約2分15秒）で、以下の方法をご紹介します。

* New Relicでモバイルの分散型トレースデータを検索します。
* 標準およびカスタム属性によるフィルタリング。

<Video
  id="tkAxeE5cT2Q"
  type="youtube"
/>

## 要件 [#requirements]

分散トレーシングを使用するには、少なくとも XCFramework エージェントのバージョン 7.3.0 が必要です。最新のエージェントを使用することをお勧めします。

<Callout variant="tip">
  Infinite Tracingは、モバイルモニタリングにはまだ対応していません。
</Callout>

## 分散型トレーシングの設定方法 [#setup]

この機能をサポートするモバイルエージェントでは、デフォルトで有効になっています。

分散トレースをオフにしたい場合は、 [iOS feature flag](/docs/mobile-monitoring/new-relic-mobile-ios/api-guides/ios-agent-configuration-feature-flags/#dt) を参照してください。

## データを探す [#find-data]

モバイルスパンは、そのスパンがトレースの一部である [New Relic distributed tracing UI](/docs/understand-dependencies/distributed-tracing/ui-data/additional-distributed-tracing-features-new-relic-one/) に表示されます。

ここでは、データを検索したり、問い合わせたりするためのヒントをご紹介します。

* エンドユーザーが発信したトレースは、 [New Relic One の分散型トレース UI](/docs/understand-dependencies/distributed-tracing/ui-data/additional-distributed-tracing-features-new-relic-one) で見つけることができます。

* 分散型トレーシングのUIでは、エンドユーザーのスパンは ![New Relic の分散型トレーシングブラウザのスパンアイコン](./images/mobile-icon.png "分散型トレーシングブラウザのパンアイコン.png") のアイコンで表示されます。

* スパンの属性を見るには、UI で [a span を選択します。](/docs/apm/distributed-tracing/ui-data/understand-use-distributed-tracing-data#span-details)

* [](/docs/apm/distributed-tracing/ui-data/understand-use-distributed-tracing-data#span-details)

* [スパンは ](/docs/apm/distributed-tracing/ui-data/understand-use-distributed-tracing-data#span-details)[スパンデータ](/attribute-dictionary/?event=Span) として報告され、 [New Relic](/docs/using-new-relic/data/understand-data/query-new-relic-data) で照会することができます。

* クエリのヒント

  * `mobileApp.name` にブラウザアプリ名を設定することで、ブラウザアプリ名での問い合わせが可能になります。
  * `mobileApp.name is not null` のモバイルアプリのスパンを少なくとも1つ含むトレースのクエリ。
  * `appName is not null` のバックエンドアプリを少なくとも1つ含むトレースのクエリ。
  * 前述の2つの条件を組み合わせて、モバイルとバックエンドの両方のスパンを含むトレースを検索します。

## トラブルシューティング [#troubleshooting]

エンドユーザースパンが表示されない、またはその他の分散型トレースの問題がある場合は、 [トラブルシューティング](/docs/apm/distributed-tracing/troubleshooting/troubleshooting-missing-trace-data) を参照してください。