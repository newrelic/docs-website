---
title: モバイルアプリのクラッシュレポートの調査
tags:
  - Mobile monitoring
  - Mobile monitoring UI
  - Crashes
metaDescription: Mobile monitoring's Crash report page provides in-depth details of a unique crash experienced in your app.
freshnessValidatedDate: never
translationType: machine
---

import mobileCrashEventTrail from 'images/mobile_screenshot-full_crash-event-trail.webp'

の**Crash report** \[クラッシュレポート]<InlinePopover type="mobile"/>クラッシュに関する概要と詳細な情報を提供します。次のものが含まれます。

* デバイスとOSの内訳
* アプリバージョン
* 出現回数
* 影響を受けるユニークユーザー
* 事故に関連した出来事を時系列でまとめたもの
* 発生したサンプルからの詳細な情報

## クラッシュレポートを見る [#viewing]

クラッシュレポートを表示するには

1. **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Mobile > (アプリを選択) > Exceptions > Crash analysis**に移動します。
2. [**クラッシュリスト** テーブル](/docs/mobile-monitoring/mobile-monitoring-ui/crashes/view-mobile-app-crashes) から、任意の行を選択します。
3. 選択したクラッシュレポートの [概要と詳細情報を確認する](#dashboard-drilldown) 。
4. オプション： [チャートデータの照会や共有](/docs/mobile-monitoring/mobile-monitoring-ui/crashes/crash-analysis-group-filter-your-crashes#insights).
5. [オプション：](#details) Xcodeにエクスポートしたり、ソースコードを再記号化してデバッグしやすくする。
6. [チケットを提出するには](/docs/mobile-monitoring/mobile-monitoring-ui/crashes/file-tickets-mobile-app-crashes) システムに統合されたオプションを選択してください。
7. クラッシュレポートを閉じるにはレポートの上部で、 **Mark resolved** を選択します。
8. [に戻るには**クラッシュリスト** テーブル](/docs/mobile-monitoring/mobile-monitoring-ui/crashes/view-mobile-app-crashes): レポートの上部で **Back to crash analysis** を選択します。

## クラッシュレポートのドリルダウン詳細の表示 [#dashboard-drilldown]

New Relic の [標準的な UI 機能](/docs/data-analysis/user-interface-functions/standard-page-functions) を使って、詳細な情報にドリルダウンすることができます。 **クラッシュレポート** のページには、いくつかの追加オプションがあります。

<CollapserGroup>
  <Collapser
    id="summary"
    title="クラッシュの概要"
  >
    クラッシュサマリーには、このクラッシュのすべての発生に関する情報が集約されています。

    * **クラッシュ識別子：** このクラッシュの一意の識別子で、例外名、クラッシュしたファイル、行、メッセージ、関数などの情報を含みます。
    * **クラッシュの発生状況のチャート。** この特定のクラッシュが最初に検出されてから選択された期間に発生した件数を示すチャート
    * **クラッシュタイプの内訳：** このクラッシュが発生したOSのバージョンや影響を受けたデバイスの内訳を示す積み上げ棒グラフ。
    * **影響を受けたユーザー数と発生回数：** ユニークユーザー数とクラッシュ発生回数のカウント
  </Collapser>

  <Collapser
    id="samples"
    title="出現回数"
  >
    モバイル エージェントが複数回発生したクラッシュを収集した場合は、サンプルをスクロールできます。
  </Collapser>

  <Collapser
    id="Event-trail"
    title="イベントトレイル"
  >
    イベント トレイルには、クラッシュの原因となったすべてのイベント タイプが時系列で表示されます。

    イベント トレイルを時系列で両方向に並べ替えることができますが、デフォルトでは最も古いイベント (通常はアプリの起動) が最初に表示されます。イベント タイプ (インタラクション、リクエスト、またはリクエスト エラー) でイベントをフィルター処理し、タイムスタンプの昇順または降順でイベントを並べ替え、クリックして各イベントを展開し、何が起こったかの詳細を表示します。たとえば、Request イベントを調査する場合は、イベントを展開して、responseTime と requestUrl を確認できます。

    <img
      title="Android-Insights-event-trail.jpg"
      alt="New Relic Mobile crash event trail "
      src={mobileCrashEventTrail}
    />

    <figcaption>
      **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Mobile > (モバイル アプリを選択) > Crash analysis > (選択したクラッシュ タイプ) > Event trail**: クラッシュ イベント証跡には、モバイル アプリのクラッシュに至るまでのアクティビティが表示されます。
    </figcaption>
  </Collapser>

  <Collapser
    id="details"
    title="詳細"
  >
    各クラッシュサンプルには、クラッシュが発生したデバイスの詳細が記載されています。

    * **アプリのバージョン：** クラッシュが発生したアプリケーションのバージョンです。

    * **デバイスタイプ:** クラッシュが発生した特定のデバイス

    * **OSバージョン：** 本体のOSバージョン

    * **RAM used:** クラッシュした時にアプリケーションが使用していたメモリの量

    * **ディスクの空き容量：** クラッシュしたときのデバイスのディスクの空き容量。

    * **Attributes:** クラッシュレポートに関連する属性の詳細で、折りたたんだり展開したりしてより詳細な分析が可能。

      該当する場合は、Xcode に **クラッシュの詳細をエクスポート**するか、ソース コードを再シンボル化してデバッグを容易にすることができます。
  </Collapser>

  <Collapser
    id="stack-traces"
    title="スタックトレス"
  >
    クラッシュした例外を発生させたスレッドのスタックトレースは、クラッシュの詳細の下に表示されます。スタックの各フレームには、ライブラリまたはパッケージ名と、そのスタックフレームに関連するメソッドが表示されます。

    エージェントは、エラーの原因となったプログラミング上の欠陥がスタックのどのフレームに含まれているかを検出しようとします。検出された場合、そのスタックフレームは赤く表示されます。

    クラッシュしたスレッド以外のスレッドの状態を見るには、 **See all threads** を選択してください。

    * [iOSアプリは、アプリケーションの各ビルドごとにdSYM](/docs/mobile-monitoring/new-relic-mobile/getting-started/ios-agent-crash-reporting) をアップロードした場合にのみ、ソースコードのメソッド名と行数が表示されます。
    * ProGuardを使用しているAndroidアプリは、 [ProGuardマップアップロードを有効にしている場合、パッケージ名とメソッド名が難読化されます](/docs/mobile-monitoring/new-relic-mobile/getting-started/android-agent-crash-reporting) 。
    * Androidネイティブのクラッシュレポートには、ソースファイル名と相対コードオフセットのみが表示されます。
  </Collapser>
</CollapserGroup>

## Android ネイティブのクラッシュ レポート [#android-native-reporting]

[New Relic Android エージェント バージョン 6.7.0](/docs/release-notes/mobile-release-notes/android-release-notes/android-670)以降、ネイティブ クラッシュの追跡と診断を支援するために、実行時に [ネイティブ コード](https://developer.android.com/ndk/guides) レベルで発生する信号違反やその他の障害を含めるようにレポートと分析が強化されました。

これらの機能強化には次のものが含まれます。

* ネイティブクラッシュレポート-実行時にアプリによって報告されるシグナル違反やその他のクラッシュ（以下を含む）

  * 信号4（不正な指示）
  * 信号6（異常終了）
  * 信号7（バスエラー/メモリアクセス不良）
  * シグナル8（浮動小数点例外）
  * シグナル11（セグメンテーション違反/無効なメモリ参照）

* ネイティブ ランタイム例外 ネイティブ エージェントは、実行時にアプリによってスローされた未処理の C++ 例外をすべて、 [処理された例外](/docs/mobile-monitoring/mobile-monitoring-ui/crashes/introduction-mobile-handled-exceptions/)として報告します。未処理の例外は通常致命的であり、アプリケーションをクラッシュさせます。

* アプリケーション無応答 (ANR) 状態ネイティブ エージェントは、アクティビティまたはサービス スレッドが Android の許容時間 (フォアグラウンド アクティビティの場合は 5 秒、サービスの場合は 5 ～ 200 秒) を超えてブロックされている [アプリケーション無応答](https://developer.android.com/topic/performance/vitals/anr) 状態を検出して報告します。ANR 状態は致命的な状態とはみなされないため、(クラッシュではなく) [処理された例外](/docs/mobile-monitoring/mobile-monitoring-ui/crashes/introduction-mobile-handled-exceptions/)として報告されます。

<Callout variant="important">
  ネイティブクラッシュレポートは、インキュベーション機能です。ネイティブのクラッシュ監視はせいぜい困難ですが、エージェントはこれらの状態を検出して報告するために最善を尽くします。一部の条件を見逃したり、不完全に報告したり、アプリケーションダッシュボードでこれらの条件を表示するのに時間がかかる場合があります。

  ネイティブシンボルのシンボル化は、初期のNDKエージェントリリースではサポートされません。アプリのネイティブシンボルが存在しない場合、クラッシュによって生成されるスタックトレースは、これらの難読化されたラベルのみで構成され、簡単に読み取ることはできません。
</Callout>

New Relic Mobileの[**クラッシュ分析**UI](/docs/mobile-monitoring/mobile-monitoring-ui/crashes/crash-analysis-group-filter-your-crashes)でネイティブクラッシュに関する詳細情報を表示したり、[電子メール](/docs/mobile-monitoring/mobile-monitoring-ui/crashes/receive-crash-notifications-email)でクラッシュ通知を受信したりできます。[New Relic Insights](/docs/mobile-monitoring/mobile-monitoring-ui/crashes/crash-analysis-group-filter-your-crashes#insights)を使用してクラッシュデータをより深く調査したり[、チケットシステムと統合し](/docs/mobile-monitoring/mobile-monitoring-ui/crashes/file-tickets-mobile-app-crashes)てさらに調査したりすることもできます。

### 構成

構成では、新しいRelicエージェントを開始するアプリプロジェクトのbuild.gradleファイルに依存関係を追加する必要があります。

```
dependencies {
    implementation 'com.newrelic.agent.android:agent-ndk:1.+'
}
```

Android ネイティブ エージェント アーティファクトは[MavenCentral](https://search.maven.org/search?q=g:com.newrelic.agent.android%20AND%20a:agent-ndk)で見つけることができ、セマンティック バージョニング規則に従っています。リリースとダウンロードの詳細については[、Android エージェントのリリース ノート](/docs/release-notes/mobile-release-notes/android-release-notes/)を参照してください。

### スタートアップ

New Relicエージェント（通常はMainActivity）が追加されているアプリコードで、エージェントを起動する前にNativeReporting機能フラグを有効にします。

```
NewRelic.enableFeature(FeatureFlag.NativeReporting);
NewRelic
      .withApplicationToken("<appToken>")
      .start(this.getApplication());
```

### ネイティブクラッシュレポートを無効にする [#disable]

別のネイティブクラッシュレポートツールを使用する場合は、エージェントの初期化の前に`NewRelic.disableFeature{FeatureFlag/NativeReporting)`を呼び出して、NewRelicMobileのネイティブクラッシュレポートを無効にします。例えば：

```
NewRelic.disableFeature(FeatureFlag.NativeReporting);
NewRelic
      .withApplicationToken("<appToken>")
      .start(this.getApplication());
```

### ネイティブクラッシュレポーターをデバッグする [#debug-native-crash-reporter]

Androidのクラッシュレポーティングは、他のクラッシュレポーティングフレームワークが登録されている場合は、uncaught exception handlerを連鎖させることで、他のクラッシュレポーティングフレームワークと連携するように設計されています。

レポート中に発生した問題はすべてlogcatに表示されます。New Relicが違反をトラップするたび[に、 `DEBUG`レベルに記録されます](/docs/mobile-monitoring/new-relic-mobile-android/api-guides/android-agent-configuration-feature-flags#logging)。たとえば、セグメント違反の場合、次のように表示されます。

```
Signal 11 intercepted: Segmentation violation (invalid memory reference)
Invoking previous handler for signal 11

```

ネイティブレポートの配信は次のアプリの呼び出しまで延期されるため、アプリが再度起動されるまで、NewRelicMobileのユーザーインターフェイスにクラッシュレポートは表示されません。クラッシュが発生した場合、ネイティブエージェントは通常、レポートを処理するのに十分な時間や安定性がありません。代わりに、レポートデータはローカルストレージにすばやく書き込まれ、次にアプリを起動したときに処理されます。

### トラブルシューティング

ネイティブレポートは、 `/data/data/{app package name}/cache/newrelic/reports`のJSONファイルとしてデバイスに保存されます。このディレクトリには、クラッシュ後のアプリの起動後にレポートが含まれていてはなりません。他のエージェントランタイム情報と同様に、ネイティブエージェントはそのステータスをlogcatに書き込み、エージェントランタイムステータスとブレンドします。Androidエージェントのログタグは`com.newrelic.android`であり、'adb logcat |を実行することで、他のランタイムログから分離できます。 grep "com.newrelic.android"シェルから。