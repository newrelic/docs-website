---
title: Puppetによるインフラストラクチャエージェントの設定
tags:
  - Infrastructure
  - Install the infrastructure agent
  - Config management tools
metaDescription: How to install and configure New Relic's infrastructure agent using Puppet config management.
translationType: machine
---

Puppetを使用して、 `newrelic-infra`モジュールを使用してNewRelicのインフラストラクチャエージェントをインストールおよび構成する方法を学習するために読んでください。 Puppetの使用方法の説明については、 [Puppetのドキュメント](https://docs.puppet.com)を参照してください。これはコミュニティが支援する取り組みです。

ここでは、この構成管理ツールを使用するために必要な基本情報を提供します。詳細な設定については、貴社の規格に準拠する必要があります。

## 要件

Infrastructure Puppetモジュールには次のような要件があります。

* Puppet Enterprise 2021.5.x、2021.4.x、2021.3.x、2021.2.x、2021.1.x、2021.0.x、2019.8.x、2019.7.x、2019.5.x、2019.4.x、2019.3.x、2019.2.x、 2019.1.x、2019.0.x、2018.1.x、2017.3.x、2017.2.x、2017.1.x、2016.5.x、2016.4.x
* Puppet4.0.0以上および8.0.0未満
* Debian、CentOS、OpenSUSE、RedHat、SLES、Ubuntu、Windows、Amazon Linux

## モジュールの説明 [#description]

`newrelic-infra`モジュールを使用して次のことを行います。

* New Relicのインフラストラクチャエージェントパッケージのリポジトリソースを追加します。
* New Relic のインフラストラクチャエージェントをインストール、設定、管理することができます。

New Relic Puppet モジュールは、 [Puppet Forge](https://forge.puppet.com/newrelic/newrelic_infra) で利用可能です。

## `newrelic-infra`モジュールを実行します [#beginning]

デフォルトの`newrelic-infra`モジュールを実行するには、メインの`::agent`クラスを宣言します。

## モジュールを使ってインフラストラクチャ・エージェントをインストールします。 [#usage]

`newrelic-infra`とのすべての対話は、メインの`agent`クラスを介して行われます。

Puppetを使ってNew Relicのインフラストラクチャエージェントをインストールするには、次のようにします。

```
class { 'newrelic_infra::agent':
    ensure      => 'latest',
    license_key => 'YOUR_LICENSE_KEY',
}
```

## パペットのパラメータ [#reference]

`newrelic_infra::agent`パブリッククラスのパラメータは次のとおりです。

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        パラメータ
      </th>

      <th>
        パラメータの説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `custom_configs`
      </td>

      <td>
        キーと値のペアのハッシュです。利用可能な [一般的な構成設定](/docs/infrastructure/new-relic-infrastructure/configuration/configure-infrastructure-agent#general) に直接対応しています。
      </td>
    </tr>

    <tr>
      <td>
        `ensure`
      </td>

      <td>
        インフラストラクチャエージェントの確保状況を指定します。

        有効な値には、次が含まれます：

        * `'latest'` -（デフォルト）最新のエージェントバージョンをインストールします
        * `'absent'` -エージェントをアンインストールします
        * `VERSION_STRING` -ピン留めする特定のバージョンを含む文字列
      </td>
    </tr>

    <tr>
      <td>
        `license_key`
      </td>

      <td>
        使用する New Relic [ライセンスキー](/docs/apis/intro-apis/new-relic-api-keys/#ingest-license-key) を指定します。
      </td>
    </tr>
  </tbody>
</table>

## さらにヘルプが必要 [#more_help]

さらにサポートが必要な場合は、 [**newrelic/infrastructure-agent-puppet** on GitHub](https://github.com/newrelic/infrastructure-agent-puppet/issues) で課題を提出してください。