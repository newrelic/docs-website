---
title: Puppetによるインフラストラクチャエージェントの設定
tags:
  - Infrastructure
  - Install the infrastructure agent
  - Config management tools
metaDescription: How to install and configure New Relic's infrastructure agent using Puppet config management.
translationType: machine
---

`newrelic-infra` モジュールを使用して、Puppet を使用して New Relic のインフラストラクチャ エージェントをインストールおよび設定する方法をご紹介します。Puppet の使用方法の説明は、 [Puppet documentation](https://docs.puppet.com) を参照してください。これはコミュニティがサポートする取り組みです。

ここでは、この構成管理ツールを使用するために必要な基本情報を提供します。詳細な設定については、貴社の規格に準拠する必要があります。

## 要件

Infrastructure Puppetモジュールには次のような要件があります。

* [インフラでサポートされているLinuxオペレーティング・システム](/docs/infrastructure-compatibility-requirements#operating-systems)
* パペットのバージョン3.0以上

## モジュールの説明 [#description]

`newrelic-infra` モジュールを使用します。

* New Relicのインフラストラクチャエージェントパッケージのリポジトリソースを追加します。
* New Relic のインフラストラクチャエージェントをインストール、設定、管理することができます。

New Relic Puppet モジュールは、 [Puppet Forge](https://forge.puppet.com/newrelic/newrelic_infra) で利用可能です。

## Run `newrelic-infra` module [#beginning]

デフォルトの `newrelic-infra` モジュールを実行するには、メインの `::agent` クラスを宣言します。

## モジュールを使ってインフラストラクチャ・エージェントをインストールします。 [#usage]

`newrelic-infra` とのやりとりは、メインの `エージェント` クラスを通じて行われます。

Puppetを使ってNew Relicのインフラストラクチャエージェントをインストールするには、次のようにします。

```
class { 'newrelic_infra::agent':
    ensure      => 'latest',
    license_key => '<var>YOUR_LICENSE_KEY</var>',
}
```

## パペットのパラメータ [#reference]

`newrelic_infra::agent` パブリッククラスのパラメータは以下の通りです。

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        パラメーター
      </th>

      <th>
        パラメータの説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `カスタムコンフィグ`
      </td>

      <td>
        キーと値のペアのハッシュです。利用可能な [一般的な構成設定](/docs/infrastructure/new-relic-infrastructure/configuration/configure-infrastructure-agent#general) に直接対応しています。
      </td>
    </tr>

    <tr>
      <td>
        `確保`
      </td>

      <td>
        インフラストラクチャエージェントの確保状況を指定します。

        有効な値には、次が含まれます：

        * `'latest'` - (デフォルト) 最新のエージェントバージョンをインストールします。
        * `'absent'` - エージェントをアンインストールする
        * `VERSION_STRING` - ピン留めする特定のバージョンを含む文字列です。
      </td>
    </tr>

    <tr>
      <td>
        `ライセンスキー`
      </td>

      <td>
        使用する New Relic [ライセンスキー](/docs/apis/intro-apis/new-relic-api-keys/#ingest-license-key) を指定します。
      </td>
    </tr>
  </tbody>
</table>

## その他のヘルプ [#more_help]

さらにサポートが必要な場合は、 [**newrelic/infrastructure-agent-puppet** on GitHub](https://github.com/newrelic/infrastructure-agent-puppet/issues) で課題を提出してください。