---
title: 稼働中のインフラストラクチャ・エージェントのトラブルシューティング
tags:
  - Infrastructure
  - Install the infrastructure agent
  - Manage your agent
metaDescription: 'To troubleshoot a running New Relic''s infrastructure agent, use the binary newrelic-infra-ctl.'
translationType: machine
---

インフラストラクチャエージェントのトラブルシューティングは、 `newrelic-infra-ctl` ユーティリティを使用して行うことができます。このバイナリはインストールパッケージにも含まれており、 `newrelic-infra` のデフォルトバイナリと同じディレクトリにあります。

`newrelic-infra-ctl` コマンドを受信すると、エージェント。

* [verbose logs](/docs/infrastructure/new-relic-infrastructure/troubleshooting/generate-logs-troubleshooting-infrastructure) を 5 分間有効にし、その後ログレベルを以前の設定に戻します。
* すべてのエージェント設定オプションをログに記録します。
* すべての統合設定オプションを記録します。
* ロードされたすべての統合のヘルスチェックを実行します。(ヘルスチェックは、追加のログと出力の検証を伴う統合の即時実行です)。

## Linux `newrelic-infra-ctl` [#binary-ctl-linux]

Linux システムでは、トラブルシューティング用のバイナリは `/usr/bin/newrelic-infra-ctl` であり、 [パッケージマネージャ](/docs/infrastructure/new-relic-infrastructure/installation/install-infrastructure-linux) または [tarball assisted](/docs/infrastructure/install-configure-infrastructure/linux-installation/assisted-install-infrastructure-linux) の両方のインストール方法で利用できます。

<Callout variant="important">
  Linux上で実行する場合、 `newrelic-infra-ctl` は、 [rootユーザーか、](/docs/infrastructure/install-configure-infrastructure/linux-installation/linux-agent-running-modes) `newrelic-infra` プロセスを実行しているのと同じユーザーが実行しなければなりません。
</Callout>

`newrelic-infra-ctl` バイナリは、ホストで実行されているエージェントプロセスを自動的に検出することができます。また、エージェントがコンテナ内で動作しているかどうかも検出できます。

`newrelic-infra-ctl` のデフォルト設定を変更するには。

<table>
  <thead>
    <tr>
      <th style={{ width: "300px" }}>
        変更するには...
      </th>

      <th>
        実行
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [`pid`](/docs/infrastructure/install-configure-infrastructure/linux-installation/manual-install-infrastructure-linux#change-pid)
      </td>

      <td>
        `newrelic-infra-ctl -pid 14580`
      </td>
    </tr>

    <tr>
      <td>
        `cid` (コンテナ版のエージェントを使用している場合)
      </td>

      <td>
        `newrelic-infra-ctl -cid 8fddbcbb101c`
      </td>
    </tr>

    <tr>
      <td>
        [`docker-api-version`](/docs/infrastructure/install-configure-infrastructure/configuration/infrastructure-configuration-settings#docker-api-version)
      </td>

      <td>
        `newrelic-infra-ctl -docker-api-version 1.24`
      </td>
    </tr>
  </tbody>
</table>

## Windows `newrelic-infra-ctl` [#binary-ctl-windows]

Windows では、MSI インストーラーを使用した場合、トラブルシューティング用のバイナリは `C:Program Files\New Relic\Newrelic-infra\Newrelic-infra-ctl.exe` となります。

<Callout variant="important">
  Windowsでは、エージェントプロセスは常に自動的に検出されます。これは、 `pid` や `cid` には依存しません。
</Callout>