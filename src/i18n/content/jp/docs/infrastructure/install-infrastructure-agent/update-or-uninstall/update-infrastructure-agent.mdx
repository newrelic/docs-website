---
title: Infrastructureエージェントを更新する
tags:
  - Infrastructure
  - Install the infrastructure agent
  - Update or uninstall
metaDescription: 'Update the New Relic''s infrastructure agent on Amazon Linux, CentOS, Debian, Red Hat, Ubuntu, or Windows Server.'
---

LinuxとWindowsサーバー用[Infrastructureエージェントの最新バージョン](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes)を更新する方法を確認してください。

<Callout variant="tip">
  * Infrastructureエージェントを初めてインストールする場合は、[Linux](/docs/infrastructure-install-amazon-linux-centos-debian-rhel-or-ubuntu)、[Windows](/docs/infrastructure-install-windows-server)、または[設定管理ツール](/docs/infrastructure/new-relic-infrastructure/config-management-tools)用インストレーションドキュメントをご覧ください。
  * Infrastructureエージェントをアンインストールするには、[Infrastructureエージェントをアンインストールする](/docs/agents/manage-apm-agents/installation/uninstall-agent)をご覧ください。
</Callout>

## Infrastructureエージェントバージョンの閲覧 [#version]

Infrastructureエージェントは自動的には更新されません。エージェントを常に最新のバージョンに保つには、[Infrastructureエージェントリリースノート](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes)をチェックしてください。

ホストの現在のInfrastructureエージェントバージョンを閲覧するには、以下のオプションのいずれかを使用してください。

* **[one.newrelic.com](http://one.newrelic.com) > Infrastructure** **> 設定 > エージェント > エージェントのバージョン**の順に進みます。
* **[one.newrelic.com](http://one.newrelic.com) > Infrastructure** **> ホスト > （ホストを選択）**の順に進みます。
* `SystemSample`向けのクエリを作成します。

## パッケージマネージャを使用してインストールのエージェントをアップデート [#update]

デフォルトのインストレーションプロセスを使用した場合、パッケージマネージャを使用してプログラムとその依存ファイルを最新バージョンにアップデートします。以下は一般的なシステムの例です。

<CollapserGroup>
  <Collapser
    id="apt-update"
    title={<>aptを使用して更新する（<img src="https://jajp-newrelic-docs.onelink-translations.com/sites/default/files/thumbnails/image/Debian.png" title="Debian アイコン" alt="Debian.png" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }}/>Debian、<img src="https://jajp-newrelic-docs.onelink-translations.com/sites/default/files/thumbnails/image/ubuntu-icon.png" title="ubuntu アイコン" alt="ubuntu アイコン" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }}/>Ubuntu）</>}
  >
    apt-getを使用して手動でInfrastructureエージェントを更新するには：

    ```
    sudo apt-get update && sudo apt-get install --only-upgrade newrelic-infra -y
    ```
  </Collapser>

  <Collapser
    id="yum-update"
    title={<>yumを使用して更新する（<img src="https://jajp-newrelic-docs.onelink-translations.com/sites/default/files/thumbnails/image/amazon%20linux.png" title="amazon linux.png" alt="amazon linux.png" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }}/>Amazon Linux、<img src="https://jajp-newrelic-docs.onelink-translations.com/sites/default/files/thumbnails/image/centos-icon.png" title="centosアイコン" alt="centosアイコン" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }}/>CentOS、<img src="https://jajp-newrelic-docs.onelink-translations.com/sites/default/files/styles/inline_660px/public/thumbnails/image/red-hat-new2.png" title="redhat アイコン" alt="redhat アイコン" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }}/>RHEL）</>}
  >
    yumを使用して手動でInfrastructureエージェントを更新するには：

    ```
    sudo yum update newrelic-infra -y
    ```

    更新後、[エージェントの起動](/docs/infrastructure/new-relic-infrastructure/configuration/start-stop-restart-check-infrastructure-agent-status#linux)が必要な場合があります。
  </Collapser>

  <Collapser
    id="zypper-update"
    title={<>Zypperを使用して更新する（<img src="https://jajp-newrelic-docs.onelink-translations.com/sites/default/files/thumbnails/image/suse-icon.png" title="suse アイコン" alt="suse アイコン" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }}/>SLES）</>}
  >
    Zypperを使用して手動でInfrastructureエージェントを更新するには：

    ```
    sudo zypper -n update newrelic-infra
    ```

    更新後、[エージェントの起動](/docs/infrastructure/new-relic-infrastructure/configuration/start-stop-restart-check-infrastructure-agent-status#linux)が必要な場合があります。
  </Collapser>

  <Collapser
    id="windows-update-32"
    title={<><img src="https://jajp-newrelic-docs.onelink-translations.com/sites/default/files/thumbnails/image/Windows_Server_logo_small.png" title="Windows Server" alt="Windows Serverアイコン" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }}/>Windowsサーバーでアップデートする（32 ビット）</>}
  >
    Windows Serverで、手動でInfrastructureエージェントを更新するには：

    1. [https://download.newrelic.com/infrastructure_agent/windows/386/newrelic-infra-386.msi](https://download.newrelic.com/infrastructure_agent/windows/386/newrelic-infra-386.msi)から最新の.MSIイントーライメージをダウンロードします。
    2. インストールスクリプトを実行します。インストールするには、Windowsのコマンドプロンプトで次のコマンドを実行します。

       ```
       msiexec.exe /qn /i <var>PATH\TO\</var>newrelic-infra-386.msi
       ```

    更新後、[エージェントの起動](/docs/infrastructure/new-relic-infrastructure/configuration/start-stop-restart-check-infrastructure-agent-status#windows)が必要な場合があります。
  </Collapser>

  <Collapser
    id="windows-update"
    title={<><img src="https://jajp-newrelic-docs.onelink-translations.com/sites/default/files/thumbnails/image/Windows_Server_logo_small.png" title="Windows Server" alt="Windows Serverアイコン" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }}/>Windowsサーバーでアップデートする（64 ビット）</>}
  >
    Windows Serverで、手動でInfrastructureエージェントを更新するには：

    1. [https://download.newrelic.com/infrastructure_agent/windows/newrelic-infra.msi](https://download.newrelic.com/infrastructure_agent/windows/newrelic-infra.msi)から最新の.MSIイントーライメージをダウンロードします。
    2. インストールスクリプトを実行します。インストールするには、Windowsのコマンドプロンプトで次のコマンドを実行します。

       ```
       msiexec.exe /qn /i <var>PATH\TO\</var>newrelic-infra.msi
       ```

    更新後、[エージェントの起動](/docs/infrastructure/new-relic-infrastructure/configuration/start-stop-restart-check-infrastructure-agent-status#windows)が必要な場合があります。
  </Collapser>

  <Collapser
    id="config-mgmt-update"
    title="設定管理ツールで更新する"
  >
    設定管理ツールを使用してInfrastructureエージェントを更新するには、お使いの設定管理ツール用のドキュメントをご覧ください。

    * [<ImageSizing width="32px" height="32px" verticalAlign="middle">![Ansible](https://jajp-newrelic-docs.onelink-translations.com/sites/default/files/thumbnails/image/ansible-red-logo.png "Ansible")</ImageSizing>Ansibleで設定する](/docs/infrastructure/new-relic-infrastructure/config-management-tools/configure-new-relic-infrastructure-using-ansible)
    * [<ImageSizing width="32px" height="32px" verticalAlign="middle">![Chef](https://jajp-newrelic-docs.onelink-translations.com/sites/default/files/thumbnails/image/chef-logo.png "Chef")</ImageSizing>Chefで設定する](/docs/infrastructure/new-relic-infrastructure/config-management-tools/configure-new-relic-infrastructure-using-chef)
    * <ImageSizing width="32px" height="32px" verticalAlign="middle">![EBS](https://jajp-newrelic-docs.onelink-translations.com/sites/default/files/thumbnails/image/ebs.png "EBS")</ImageSizing>[AWS Elastic Beanstalkで設定する](/docs/infrastructure/install-infrastructure-agent/config-management-tools/install-infrastructure-agent-aws-elastic-beanstalk)
    * [<ImageSizing width="32px" height="32px" verticalAlign="middle">![Puppet](https://jajp-newrelic-docs.onelink-translations.com/sites/default/files/thumbnails/image/puppet-logo.png "Puppet")</ImageSizing>Puppetで設定する](/docs/infrastructure/new-relic-infrastructure/config-management-tools/configure-new-relic-infrastructure-puppet)
  </Collapser>
</CollapserGroup>

## アシストインストールと手動のtarballインストール用のエージェントをアップデート [#tarball]

<Callout variant="important">
  自動化されたスクリプトがないため、アップデートの際に古いファイルが残る場合があります。古いファイルは手作業で削除してください。
</Callout>

エージェントをアップデートするには、ファイルをもう一度ダウンロードして、Linux用（[アシスト](/docs/infrastructure/install-configure-infrastructure/linux-installation/assisted-install-infrastructure-linux)または[手動](/docs/infrastructure/install-configure-infrastructure/linux-installation/manual-install-infrastructure-linux)）もしくはWindows用（[アシスト](/docs/infrastructure/install-configure-infrastructure/windows-installation/assisted-install-infrastructure-windows)または[手動](/docs/infrastructure/install-configure-infrastructure/windows-installation/manual-install-infrastructure-windows)）のインストール手順に従います。これにより、古いインストールが上書きされます。

## エージェントのコンテナ化されたバージョンの更新 [#docker]

`最新の`ラベルを使用して、[Dockerイメージ](/docs/infrastructure/install-infrastructure-agent/linux-installation/docker-container-infrastructure-monitoring)が自動的に更新されるようにします。

## UIで、古いバージョンのエージェントを識別する [#check-version]

Infrastructureモニタリング UIを使用して、古いバージョンのエージェントを検索できます。

1. **[one.newrelic.com](http://one.newrelic.com) > Infrastructure** **> **インベントリ\*\*\*\*に移動します。
2. 検索バーに、`newrelic-infra`と入力します。
3. グループのドロップダウンを選択すると、そのグループのエージェントバージョンが表示されます。

Infrastructureエージェントのバージョンを手動でチェックするには、サーバーにログオンして`newrelic-infra --version`を実行する、またはお使いのパッケージマネージャに該当するコマンドを実行します。

## その他のヘルプ [#more_help]

さらに支援が必要な場合は、これらのサポートと学習リソースを確認してください：

* [Explorers Hub](https://discuss.newrelic.com/)を参照して、コミュニティから支援を受け、ディスカッションに参加してください。
* [当社のサイトで回答を見つけ、サポートポータルの使用方法について学びます](/docs/using-new-relic/welcome-new-relic/get-started/find-help-use-support-portal)。
* Linux、Windows、およびmacOSのトラブルシューティングツールである[New Relic Diagnosticsを実行します](/docs/using-new-relic/cross-product-functions/troubleshooting/new-relic-diagnostics)。
* New Relicの[データセキュリティ](/docs/security)と[ライセンス](/docs/licenses)ドキュメントを見直してください。
