---
title: インフラストラクチャ・エージェントのアンインストール
tags:
  - Infrastructure
  - Install the infrastructure agent
  - Update or uninstall
metaDescription: 'How to uninstall the New Relic''s infrastructure agent for your Linux or Windows operating system, as well as any infrastructure Integrations.'
translationType: machine
---

import windowsServerLogoSmall from 'images/Windows_Server_logo_small.png'

import macOsxLogo from 'images/mac-osx-logo.png'

import suseIcon from 'images/suse-icon.png'

import redHatNew2 from 'images/red-hat-new2.png'

import centosIcon from 'images/centos-icon.png'

import amazonLinux from 'images/amazon-linux.png'

import ubuntuIcon from 'images/ubuntu-icon.png'

import debian from 'images/Debian.png'

ホストは、 [Linux](/docs/infrastructure/new-relic-infrastructure/installation/install-infrastructure-linux) または [Windows](/docs/infrastructure/new-relic-infrastructure/installation/install-infrastructure-windows-server) オペレーティングシステム用のインフラストラクチャエージェントをインストールしたとき、または [アップデート](/docs/infrastructure/new-relic-infrastructure/installation/update-infrastructure-agent) エージェントをインストールしたときに、自動的に追加されます。同様に、エージェントをアンインストールすると、ホストは自動的に消滅します。ホストを手動で追加または削除する必要はありません。

エージェントをアンインストールしても、 [インテグレーション](/docs/infrastructure/infrastructure-integrations/getting-started/connect-aws-integrations-infrastructure) には直接影響しません。統合をアンインストールするには、 [Uninstall integrations](/docs/infrastructure/install-configure-infrastructure/update-or-uninstall/uninstall-integrations) を参照してください。

## Linuxインフラストラクチャエージェントのアンインストール [#uninstall-linux]

Linux環境用のインフラストラクチャエージェントをデフォルトのインストール手順でインストールした場合は、パッケージ管理ツールを使用してアンインストールします。アンインストールコマンドを実行する前に、サービスを停止する必要はありません。

<CollapserGroup>
  <Collapser
    id="apt-uninstall"
    title={<>aptでアンインストール (<img src={debian} title="Debian icon" alt="Debian.png" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }}/>Debian。<img src={ubuntuIcon} title="ubuntu icon" alt="ubuntu icon" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }}/>Ubuntu）</>}
  >
    root権限として、以下のコマンドを実行します。

    ```
    sudo apt-get remove newrelic-infra
    ```
  </Collapser>

  <Collapser
    id="yum-uninstall"
    title={<>yumによるアンインストール (<img src={amazonLinux} title="amazon linux.png" alt="amazon linux.png" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }}/>アマゾンのLinuxです。<img src={centosIcon} title="centos icon" alt="centos icon" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }}/>CentOSです。<img src={redHatNew2} title="redhat icon" alt="redhat icon" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }}/>RHEL）</>}
  >
    root権限として、以下のコマンドを実行します。

    ```
    sudo yum remove newrelic-infra
    ```
  </Collapser>

  <Collapser
    id="zipper-uninstall"
    title={<>Zypperでアンインストール(<img src={suseIcon} title="suse icon" alt="suse icon" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }}/>SLES）</>}
  >
    root権限として、以下のコマンドを実行します。

    ```
    sudo zypper -n remove newrelic-infra
    ```
  </Collapser>
</CollapserGroup>

[assisted](/docs/infrastructure/install-configure-infrastructure/linux-installation/assisted-install-infrastructure-linux) または [manual](/docs/infrastructure/install-configure-infrastructure/linux-installation/manual-install-infrastructure-linux) のインストールプロセスに従った場合は、エージェントファイルを解凍したときに作成されたすべてのファイルを手動で削除する必要があります。

<Callout variant="important">
  自動化されたスクリプトを使用していないため、アンインストール時に古いファイルが残ることがあります。必ず手動で古いファイルを削除してください。
</Callout>

## <img style={{ width: '32px', height: '32px', verticalAlign: 'middle'}} class="inline" title="Windows Server" alt="Windows Server icon" src={windowsServerLogoSmall}>をアンインストールします</img>インフラストラクチャエージェント [#uninstall-windows]

<Callout variant="tip">
  [Windows の管理者グループの管理者権限](/docs/infrastructure/new-relic-infrastructure/getting-started/compatibility-requirements-new-relic-infrastructure#permissions) が必要です。
</Callout>

Windows環境用のインフラストラクチャエージェントのデフォルトのインストール手順を使用した場合は、アンインストールするために

1. [インフラストラクチャエージェントの停止](/docs/infrastructure/new-relic-infrastructure/configuration/start-stop-restart-check-infrastructure-agent-status#windows).
2. Windows **コントロールパネル** から、 **「プログラムと機能の追加と削除」** ツールを使用して、インフラストラクチャエージェントをアンインストールします。
3. Windows **Program Files** から、New Relic フォルダを手動で削除し、Windows 用のインフラストラクチャ エージェントに関連するすべてのファイルを削除します。

[assisted](/docs/infrastructure/install-configure-infrastructure/windows-installation/assisted-install-infrastructure-windows) または [manual](/docs/infrastructure/install-configure-infrastructure/windows-installation/manual-install-infrastructure-windows) のインストールプロセスに従った場合は、エージェントファイルを解凍したときに作成されたすべてのファイルを手動で削除する必要があります。

<Callout variant="important">
  自動化されたスクリプトを使用していないため、アンインストール時に古いファイルが残ることがあります。必ず手動で古いファイルを削除してください。
</Callout>

## <img style={{ width: '32px', height: '32px', verticalAlign: 'middle'}} class="inline" title="macOS" alt="macOS icon" src={macOsxLogo}>をアンインストールします</img>macOSインフラストラクチャエージェント [#uninstall-macos]

macOS環境用のインフラストラクチャエージェントのデフォルトのインストール手順を使用した場合、アンインストールするには

1. [インフラストラクチャエージェントの停止](/docs/infrastructure/new-relic-infrastructure/configuration/start-stop-restart-check-infrastructure-agent-status#macOS):

   ```
     brew services stop newrelic-infra-agent
   ```

2. ターミナルからアンインストールコマンドを実行します。

   ```
     brew uninstall newrelic-infra-agent
   ```

## コンフィグ管理ツールによるアンインストール [#uninstall-other]

構成管理ツールを使用していた場合、インフラストラクチャエージェントをアンインストールするには

<table>
  <thead>
    <tr>
      <th style={{ width: "250px" }}>
        **コンフィグ管理ツール**
      </th>

      <th>
        **New Relicインフラストラクチャエージェントのアンインストール**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [Ansible](/docs/infrastructure/new-relic-infrastructure/config-management-tools/configure-new-relic-infrastructure-using-ansible)
      </td>

      <td>
        [`'agent_state'`](/docs/infrastructure/new-relic-infrastructure/config-management-tools/configure-new-relic-infrastructure-using-ansible#role-config) パラメータを `'absent' に設定します。`
      </td>
    </tr>

    <tr>
      <td>
        [Chef](/docs/infrastructure/new-relic-infrastructure/config-management-tools/configure-new-relic-infrastructure-using-chef)
      </td>

      <td>
        [`'agent_action'`](/docs/infrastructure/new-relic-infrastructure/config-management-tools/configure-new-relic-infrastructure-using-chef#attributes) ノードを `uninstall に設定します。`
      </td>
    </tr>

    <tr>
      <td>
        [AWS Elastic Beanstalk](/docs/infrastructure/install-infrastructure-agent/config-management-tools/install-infrastructure-agent-aws-elastic-beanstalk)
      </td>

      <td>
        `newrelic.config` を `.ebextensions` から削除して、デプロイします。
      </td>
    </tr>

    <tr>
      <td>
        [Puppet](/docs/infrastructure/new-relic-infrastructure/config-management-tools/configure-new-relic-infrastructure-puppet)
      </td>

      <td>
        [`'sure'`](/docs/infrastructure/new-relic-infrastructure/config-management-tools/configure-new-relic-infrastructure-puppet#reference) パラメータを `'absent' に設定します。`
      </td>
    </tr>
  </tbody>
</table>

## オプション残りのファイルを消去する [#leftover-files]

選択したプラットフォームの標準パッケージ管理ツールを使用している場合、アンインストールプロセスでは通常、設定ファイルやその他の雑多なファイルが残ります。New Relic インフラストラクチャ エージェントをアンインストールした後、残ったファイルを完全に消去する必要がある場合は、お使いのオペレーティング システムの標準的な手順に従ってください。