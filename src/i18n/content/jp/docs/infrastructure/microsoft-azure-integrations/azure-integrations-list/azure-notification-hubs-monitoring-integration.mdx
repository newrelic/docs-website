---
title: Azure Monitor 統合による Azure Notice Hubs サービス
metaDescription: 'New Relic''s Microsoft Azure Notification Hubs integration: what data it reports and how to enable it.'
translationType: machine
---

[New Relic の統合には、](/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations) [Microsoft Azure Notification Hubs の](https://azure.microsoft.com/en-us/products/notification-hubs/) メトリクスやその他のデータを New Relic にレポートするための統合が含まれています。このドキュメントでは、統合を有効にする方法と、レポートされるデータについて説明します。

## 特徴

New Relic は、Azure notification Hubs サービスのメトリック データを Azure Monitor から収集します。Azure Notice Hubs は、使いやすくスケールアウトされたプッシュ エンジンを提供しており、これにより、任意のバックエンド (クラウドまたはオンプレミス) から任意のプラットフォーム (iOS、Android、Windows など) に通知を送信できます。通知ハブは、エンタープライズ シナリオとコンシューマー シナリオの両方に最適です。

New Relicを使うと、以下のことができます。

* 事前に構築されたダッシュボードで Azure Notice Hubs データを表示します。
* [カスタムクエリを実行し、データを視覚化します](/docs/infrastructure/integrations-getting-started/getting-started/use-integration-data-new-relic-insights)。
* データの変化を通知するアラート条件を作成します。

## 統合をアクティブ化する [#activate]

標準の [Azure Monitor 統合手順](/docs/infrastructure/microsoft-azure-integrations/azure-integrations-list/azure-monitor) に従って、New Relic インフラストラクチャの監視で Azure サービスを有効にします。

## 構成とポーリング [#polling]

[構成オプション](/docs/infrastructure/microsoft-azure-integrations/azure-integrations-list/azure-monitor/#settings)を使用して、ポーリング頻度を変更し、データをフィルタリングできます。

New Relic は、既定の [ポーリング](/docs/infrastructure/microsoft-azure-integrations/azure-integrations-list/azure-monitor/#settings) 間隔に従って、Azure Monitor 統合を通じて Azure notification Hubs サービスにクエリを実行します。

## データを見つけて使用する [#find-and-use]

[統合データを調べる](/docs/infrastructure/integrations/find-use-infrastructure-integration-data)には、 **[one.newrelic.com/infra](https://one.newrelic.com/infra) > Azure > (統合を選択)**に移動します。

## メトリックデータ [#metrics]

この統合では、以下の [メトリックデータを収集します](/docs/infrastructure/integrations-getting-started/getting-started/understand-integration-data-data-types#metric) 。

### Azure 通知ハブのメトリクス [#Azure-notification-hubs]

<table>
  <thead>
    <tr>
      <th style={{ width: "300px" }}>
        メトリック
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `incoming`
      </td>

      <td>
        成功したすべての送信 API 呼び出しの数。
      </td>
    </tr>

    <tr>
      <td>
        `incoming.all.failedrequests`
      </td>

      <td>
        通知ハブに対する失敗した受信リクエストの合計。
      </td>
    </tr>

    <tr>
      <td>
        `incoming.all.requests`
      </td>

      <td>
        通知ハブに対する受信リクエストの合計。
      </td>
    </tr>

    <tr>
      <td>
        `incoming.scheduled`
      </td>

      <td>
        スケジュールされたプッシュ通知が送信されました。
      </td>
    </tr>

    <tr>
      <td>
        `incoming.scheduled.cancel`
      </td>

      <td>
        スケジュールされたプッシュ通知がキャンセルされました。
      </td>
    </tr>

    <tr>
      <td>
        `installation.all`
      </td>

      <td>
        インストール管理操作。
      </td>
    </tr>

    <tr>
      <td>
        `installation.delete`
      </td>

      <td>
        インストール操作を削除します。
      </td>
    </tr>

    <tr>
      <td>
        `installation.get`
      </td>

      <td>
        インストール操作を取得します。
      </td>
    </tr>

    <tr>
      <td>
        `installation.patch`
      </td>

      <td>
        パッチのインストール操作。
      </td>
    </tr>

    <tr>
      <td>
        `installation.upsert`
      </td>

      <td>
        インストール操作の作成または更新。
      </td>
    </tr>

    <tr>
      <td>
        `notificationhub.pushes`
      </td>

      <td>
        通知ハブのすべての送信通知。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.allpns.badorexpiredchannel`
      </td>

      <td>
        登録内のチャネル/トークン/registrationId の有効期限が切れているか無効であるために失敗したプッシュの数。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.allpns.channelerror`
      </td>

      <td>
        チャネルが無効で、適切なアプリに関連付けられていなかったために、スロットリングまたは期限切れになったために失敗したプッシュの数。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.allpns.invalidpayload`
      </td>

      <td>
        PNS が不正なペイロード エラーを返したために失敗したプッシュの数。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.allpns.pnserror`
      </td>

      <td>
        PNS との通信に問題があったために失敗したプッシュの数 (認証の問題を除く)。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.allpns.success`
      </td>

      <td>
        成功したすべての通知の数。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.apns.badchannel`
      </td>

      <td>
        トークンが無効であるために失敗したプッシュの数 (APNS ステータス コード: 8)。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.apns.expiredchannel`
      </td>

      <td>
        APNS フィードバック チャネルによって無効化されたトークンの数。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.apns.invalidcredentials`
      </td>

      <td>
        PNS が提供された資格情報を受け入れなかったか、資格情報がブロックされたために失敗したプッシュの数。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.apns.invalidnotificationsize`
      </td>

      <td>
        ペイロードが大きすぎるために失敗したプッシュの数 (APNS ステータス コード: 7)。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.apns.pnserror`
      </td>

      <td>
        APNS との通信エラーにより失敗したプッシュの数。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.apns.success`
      </td>

      <td>
        成功したすべての通知の数。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.gcm.authenticationerror`
      </td>

      <td>
        PNS が提供された認証情報を受け入れなかったため、認証情報がブロックされているか、アプリで SenderId が正しく構成されていないために失敗したプッシュの数 (GCM 結果: MismatchedSenderId)。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.gcm.badchannel`
      </td>

      <td>
        登録内の登録 ID が認識されなかったため失敗したプッシュの数 (GCM 結果: 無効な登録)。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.gcm.expiredchannel`
      </td>

      <td>
        登録内の登録 ID の有効期限が切れたために失敗したプッシュの数 (GCM 結果: NotRegistered)。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.gcm.invalidcredentials`
      </td>

      <td>
        PNS が提供された資格情報を受け入れなかったか、資格情報がブロックされたために失敗したプッシュの数。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.gcm.invalidnotificationformat`
      </td>

      <td>
        ペイロードが正しくフォーマットされていないために失敗したプッシュの数 (GCM 結果: InvalidDataKey または InvalidTtl)。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.gcm.invalidnotificationsize`
      </td>

      <td>
        ペイロードが大きすぎるために失敗したプッシュの数 (GCM 結果: MessageTooBig)。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.gcm.pnserror`
      </td>

      <td>
        GCM との通信エラーにより失敗したプッシュの数。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.gcm.success`
      </td>

      <td>
        成功したすべての通知の数。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.gcm.throttled`
      </td>

      <td>
        GCM がこのアプリを調整したために失敗したプッシュの数 (GCM 状態コード: 501-599 または結果: 使用不可)。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.gcm.wrongchannel`
      </td>

      <td>
        登録内の登録 ID が現在のアプリに関連付けられていないために失敗したプッシュの数 (GCM 結果: InvalidPackageName)。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.mpns.authenticationerror`
      </td>

      <td>
        PNS が提供された資格情報を受け入れなかったか、資格情報がブロックされたために失敗したプッシュの数。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.mpns.badchannel`
      </td>

      <td>
        登録内の ChannelURI が認識されなかったため失敗したプッシュの数 (MPNS ステータス: 404 が見つかりません)。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.mpns.channeldisconnected`
      </td>

      <td>
        登録内の ChannelURI が切断されたために失敗したプッシュの数 (MPNS ステータス: 412 が見つかりません)。  

      </td>
    </tr>

    <tr>
      <td>
        `outgoing.mpns.dropped`
      </td>

      <td>
        MPNS によってドロップされたプッシュの数 (MPNS 応答ヘッダー: X-NotificationStatus: QueueFull または Suppressed)。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.mpns.invalidcredentials`
      </td>

      <td>
        PNS が提供された資格情報を受け入れなかったか、資格情報がブロックされたために失敗したプッシュの数。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.mpns.invalidnotificationformat`
      </td>

      <td>
        通知のペイロードが大きすぎるために失敗したプッシュの数。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.mpns.pnserror`
      </td>

      <td>
        MPNS との通信エラーにより失敗したプッシュの数。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.mpns.success`
      </td>

      <td>
        成功したすべての通知の数。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.mpns.throttled`
      </td>

      <td>
        MPNS がこのアプリを調整しているために失敗したプッシュの数 (WNS MPNS: 406 Not Acceptable)。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.wns.authenticationerror`
      </td>

      <td>
        Windows Live の無効な資格情報または間違ったトークンとの通信エラーのため、通知が配信されませんでした。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.wns.badchannel`
      </td>

      <td>
        登録内の ChannelURI が認識されなかったため失敗したプッシュの数 (WNS ステータス: 404 が見つかりません)。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.wns.channeldisconnected`
      </td>

      <td>
        登録内の ChannelURI が調整されているため、通知はドロップされました (WNS 応答ヘッダー: X-WNS-DeviceConnectionStatus: 切断されました)。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.wns.channelthrottled`
      </td>

      <td>
        登録内の ChannelURI が調整されているため、通知はドロップされました (WNS 応答ヘッダー: X-WNS-NotificationStatus:channelThrottled)。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.wns.dropped`
      </td>

      <td>
        登録内の ChannelURI が調整されているため、通知はドロップされました (X-WNS-NotificationStatus: ドロップされましたが、X-WNS-DeviceConnectionStatus: Connected ではありません)。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.wns.expiredchannel`
      </td>

      <td>
        ChannelURI の有効期限が切れたために失敗したプッシュの数 (WNS ステータス: 410 Gone)。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.wns.invalidcredentials`
      </td>

      <td>
        PNS が提供された資格情報を受け入れなかったか、資格情報がブロックされたために失敗したプッシュの数。(Windows Live は資格情報を認識しません)。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.wns.invalidnotificationformat`
      </td>

      <td>
        通知の形式が無効です（WNSステータス：400）。WNS はすべての無効なペイロードを拒否するわけではないことに注意してください。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.wns.invalidnotificationsize`
      </td>

      <td>
        通知ペイロードが大きすぎます (WNS ステータス: 413)。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.wns.invalidtoken`
      </td>

      <td>
        WNS に提供されたトークンは無効です (WNS ステータス: 401 Unauthorized)。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.wns.pnserror`
      </td>

      <td>
        WNS との通信エラーのため、通知は配信されませんでした。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.wns.success`
      </td>

      <td>
        成功したすべての通知の数。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.wns.throttled`
      </td>

      <td>
        WNS がこのアプリを調整しているために失敗したプッシュの数 (WNS ステータス: 406 Not Acceptable)。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.wns.tokenproviderunreachable`
      </td>

      <td>
        Windows Live にアクセスできません。
      </td>
    </tr>

    <tr>
      <td>
        `outgoing.wns.wrongtoken`
      </td>

      <td>
        WNS に提供されたトークンは有効ですが、別のアプリケーション用です (WNS ステータス: 403 Forbidden)。これは、登録内の ChannelURI が別のアプリに関連付けられている場合に発生する可能性があります。クライアント アプリが、認証情報が通知ハブにある同じアプリに関連付けられていることを確認します。
      </td>
    </tr>

    <tr>
      <td>
        `registration.all`
      </td>

      <td>
        成功したすべての登録操作 (作成、更新クエリ、および削除) の数。
      </td>
    </tr>

    <tr>
      <td>
        `registration.create`
      </td>

      <td>
        成功したすべての登録作成の数。
      </td>
    </tr>

    <tr>
      <td>
        `registration.delete`
      </td>

      <td>
        成功したすべての登録削除の数。
      </td>
    </tr>

    <tr>
      <td>
        `registration.get`
      </td>

      <td>
        成功したすべての登録クエリの数。
      </td>
    </tr>

    <tr>
      <td>
        `registration.update`
      </td>

      <td>
        成功したすべての登録更新の数。
      </td>
    </tr>

    <tr>
      <td>
        `scheduled.pending`
      </td>

      <td>
        保留中のスケジュールされた通知
      </td>
    </tr>
  </tbody>
</table>