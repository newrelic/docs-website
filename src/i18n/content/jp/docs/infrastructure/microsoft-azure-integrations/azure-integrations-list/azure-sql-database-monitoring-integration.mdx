---
title: Azure SQL Databaseモニタリングの統合
tags:
  - Integrations
  - Microsoft Azure integrations
  - Azure integrations list
metaDescription: 'New Relic''s Microsoft Azure SQL Database integration: what data it reports and how to enable it.'
freshnessValidatedDate: never
translationType: machine
---

[New Relic の統合](/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations) には、 [Microsoft Azure SQL Database](https://azure.microsoft.com/en-us/services/sql-database/) メトリクスやその他のデータを New Relic に報告するための統合があります。このドキュメントでは、統合を有効にする方法と、報告されるデータについて説明します。

## 特徴

New Relic は、Azure の完全に管理されたリレーショナル クラウド データベース サービスからデータベース データを収集します。Azure SQLは、独自のリソースセットを持つ単一のデータベースと、リソースセットを共有するエラスティックプールを提供します。どちらもAzure SQL Databaseの論理サーバーに関連付けられています。データベースがファイアウォールで保護されている場合は、レプリケートして以前の時点に復元することができます。

New Relicを使うと、以下のことができます。

* 事前に構築されたダッシュボードで Azure SQL Database データを表示します。
* [カスタムクエリの実行とデータの視覚化](/docs/using-new-relic/data/understand-data/query-new-relic-data).
* データの変化を通知するアラート条件を作成します。

## 統合をアクティブ化する [#activate]

統合を有効にするには、標準的な手順に従って、 [New Relic](/docs/infrastructure/microsoft-azure-integrations/getting-started/activate-azure-integrations) で Azure サービスを有効にしてください。

## 構成とポーリング [#polling]

[構成オプション](/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations)を使用して、ポーリング頻度とフィルターデータを変更できます。

New Relic は、デフォルトの [ポーリング](/docs/integrations/microsoft-azure-integrations/getting-started/azure-integration-polling) の間隔に従って、Azure Database サービスに問い合わせを行いますが、その間隔はインテグレーションによって異なります。Azure SQL Database 統合のポーリング頻度です。

* ポーリングの間隔。5分
* 解像度は1データポイント/分

## データを見つけて使用する [#find-and-use]

[インテグレーションデータを調べる](/docs/infrastructure/integrations/find-use-infrastructure-integration-data)には、 <DNT>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Infrastructure > Azure > (select an integration)**</DNT>にアクセスしてください。

データはこのように整理されています。

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        <DNT>
          **Azure SQL Database data**
        </DNT>
      </th>

      <th>
        <DNT>
          **Organized in New Relic**
        </DNT>
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        シングルデータベース
      </td>

      <td>
        * 単一のデータベースに関するデータは、 `AzureSqlDatabaseSample`イベントタイプに添付されます。
      </td>
    </tr>

    <tr>
      <td>
        弾性プール
      </td>

      <td>
        * エラスティックプールに関するデータは、 `AzureSqlElasticPoolSample`イベントタイプに添付されます。
      </td>
    </tr>

    <tr>
      <td>
        ファイアウォール
      </td>

      <td>
        * ファイアウォールに関するデータは、 `AzureSqlFirewallSample`イベントタイプに関連付けられています。
      </td>
    </tr>

    <tr>
      <td>
        データベースレプリケーションリンク
      </td>

      <td>
        * データベースレプリケーションリンクに関するデータは、 `AzureSqlReplicationLinkSample`イベントタイプに添付されます。
      </td>
    </tr>

    <tr>
      <td>
        データベースの復元ポイント
      </td>

      <td>
        * データベース復元ポイントに関するデータは、 `AzureSqlRestorePointSample`イベントタイプに添付されます。
      </td>
    </tr>

    <tr>
      <td>
        ロジカルサーバー
      </td>

      <td>
        * 論理サーバーに関するデータは、 `AzureSqlServerSample`イベントタイプに添付されます。
      </td>
    </tr>
  </tbody>
</table>

## メトリックデータ [#metrics]

この統合により、次の [メトリック データ](/docs/infrastructure/integrations-getting-started/getting-started/understand-integration-data-data-types#metric)が収集されます。

### データベースサンプルのメトリクス [#database-sample]

<table>
  <thead>
    <tr>
      <th style={{ width: "300px" }}>
        メトリック
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `cpuPercent`
      </td>

      <td>
        平均的なCPUの割合です。
      </td>
    </tr>

    <tr>
      <td>
        `physicalDataReadPercent`
      </td>

      <td>
        平均データIO率。
      </td>
    </tr>

    <tr>
      <td>
        `logWritePercent`
      </td>

      <td>
        ログの平均IO率。
      </td>
    </tr>

    <tr>
      <td>
        `dtuConsumptionPercent`
      </td>

      <td>
        平均的なDTUの割合
      </td>
    </tr>

    <tr>
      <td>
        `storage`
      </td>

      <td>
        データベースの総サイズ（単位：バイト）。
      </td>
    </tr>

    <tr>
      <td>
        `connectionSuccessful`
      </td>

      <td>
        接続に成功した合計数
      </td>
    </tr>

    <tr>
      <td>
        `connectionFailed`
      </td>

      <td>
        接続に失敗した合計数。
      </td>
    </tr>

    <tr>
      <td>
        `blockedByFirewall`
      </td>

      <td>
        ファイアウォールでブロックされたリクエストの総数。
      </td>
    </tr>

    <tr>
      <td>
        `deadlock`
      </td>

      <td>
        デッドロックの総数。
      </td>
    </tr>

    <tr>
      <td>
        `storagePercent`
      </td>

      <td>
        データベースのサイズの割合。
      </td>
    </tr>

    <tr>
      <td>
        `xtpStoragePercent`
      </td>

      <td>
        平均的なインメモリOLTPストレージの割合。
      </td>
    </tr>

    <tr>
      <td>
        `workersPercent`
      </td>

      <td>
        平均的な労働者の割合。
      </td>
    </tr>

    <tr>
      <td>
        `sessionsPercent`
      </td>

      <td>
        平均的なセッションの割合。
      </td>
    </tr>

    <tr>
      <td>
        `dtuLimit`
      </td>

      <td>
        DTUリミットの平均数
      </td>
    </tr>

    <tr>
      <td>
        `dtuUsed`
      </td>

      <td>
        平均使用DTU数
      </td>
    </tr>

    <tr>
      <td>
        `dwuLimit`
      </td>

      <td>
        DWU制限。
      </td>
    </tr>

    <tr>
      <td>
        `dwuConsumptionPercent`
      </td>

      <td>
        DWUの割合
      </td>
    </tr>

    <tr>
      <td>
        `dwuUsed`
      </td>

      <td>
        使用されたDWUの数
      </td>
    </tr>

    <tr>
      <td>
        `dwCpuPercent`
      </td>

      <td>
        DWノードレベルのCPUパーセンテージの平均値。
      </td>
    </tr>

    <tr>
      <td>
        `dwPhysicalDataReadPercent`
      </td>

      <td>
        DWノードレベルのデータIO率の平均値。
      </td>
    </tr>

    <tr>
      <td>
        `databaseSizeCurrentBytes`
      </td>

      <td>
        現在のデータベースの合計サイズ（バイト）。
      </td>
    </tr>

    <tr>
      <td>
        `databaseSizeLimitBytes`
      </td>

      <td>
        データベースの制限値（バイト）。
      </td>
    </tr>

    <tr>
      <td>
        `cpuLimit`
      </td>

      <td>
        CPUの平均的な制限値です。vCoreベースのデータベースに適用されます。
      </td>
    </tr>
  </tbody>
</table>

### Elastic Pool サンプルメトリクス [#elastic-pool]

<table>
  <thead>
    <tr>
      <th style={{ width: "300px" }}>
        メトリック
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `cpuPercent`
      </td>

      <td>
        平均的なCPUの割合です。
      </td>
    </tr>

    <tr>
      <td>
        `databaseCpuPercent`
      </td>

      <td>
        データベースごとの平均CPU率。
      </td>
    </tr>

    <tr>
      <td>
        `physicalDataReadPercent`
      </td>

      <td>
        平均データIO率。
      </td>
    </tr>

    <tr>
      <td>
        `databasePhysicalDataReadPercent`
      </td>

      <td>
        データベースごとの平均データIO率。
      </td>
    </tr>

    <tr>
      <td>
        `logWritePercent`
      </td>

      <td>
        ログの平均IO率。
      </td>
    </tr>

    <tr>
      <td>
        `databaseLogWritePercent`
      </td>

      <td>
        データベースごとの平均ログIO率。
      </td>
    </tr>

    <tr>
      <td>
        `dtuConsumptionPercent`
      </td>

      <td>
        平均的なDTUの割合
      </td>
    </tr>

    <tr>
      <td>
        `databaseDtuConsumptionPercent`
      </td>

      <td>
        データベースごとの平均DTU率
      </td>
    </tr>

    <tr>
      <td>
        `storagePercent`
      </td>

      <td>
        平均保存率。
      </td>
    </tr>

    <tr>
      <td>
        `workersPercent`
      </td>

      <td>
        平均的な労働者の割合。
      </td>
    </tr>

    <tr>
      <td>
        `databaseWorkersPercent`
      </td>

      <td>
        データベースごとの平均ワーカー率。
      </td>
    </tr>

    <tr>
      <td>
        `sessionsPercent`
      </td>

      <td>
        平均的なセッションの割合。
      </td>
    </tr>

    <tr>
      <td>
        `databaseSessionsPercent`
      </td>

      <td>
        データベースごとの平均セッション率。
      </td>
    </tr>

    <tr>
      <td>
        `eDTULimit`
      </td>

      <td>
        平均的なDTUの限界。
      </td>
    </tr>

    <tr>
      <td>
        `storageLimitBytes`
      </td>

      <td>
        平均的なストレージの上限（単位：バイト）。
      </td>
    </tr>

    <tr>
      <td>
        `eDTUUsed`
      </td>

      <td>
        平均使用eDTU。
      </td>
    </tr>

    <tr>
      <td>
        `storageUsedBytes`
      </td>

      <td>
        平均的に使用されているストレージのサイズ（単位：バイト）。
      </td>
    </tr>

    <tr>
      <td>
        `databaseStorageUsedBytes`
      </td>

      <td>
        データベースあたりの平均使用ストレージ量（単位：バイト）。
      </td>
    </tr>

    <tr>
      <td>
        `xtpStoragePercent`
      </td>

      <td>
        平均的なインメモリOLTPストレージの割合。
      </td>
    </tr>
  </tbody>
</table>

### サーバーのサンプルメトリクス [#server-sample]

<table>
  <thead>
    <tr>
      <th style={{ width: "300px" }}>
        メトリック
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `dtuCurrent`
      </td>

      <td>
        データベースのDTUを基準とした平均利用率。
      </td>
    </tr>

    <tr>
      <td>
        `dtuLimit`
      </td>

      <td>
        データベースのDTU制限。
      </td>
    </tr>
  </tbody>
</table>
