---
title: Azure App Service モニタリングの統合
tags:
  - Integrations
  - Microsoft Azure integrations
  - Azure integrations list
metaDescription: 'New Relic''s Microsoft Azure App Service integration: what data it reports and how to enable it.'
translationType: machine
---

[New Relic infrastructure monitoring](/docs/infrastructure) は、 [Microsoft Azure App Service](https://azure.microsoft.com/en-us/services/app-service/) のための統合を提供し、Azure Apps Service から New Relic プラットフォームにデータを報告します。このドキュメントでは、この統合を有効にする方法と、取得できるデータについて説明します。

## 機能

Azure App Serviceは、完全に管理されたプラットフォームで、Webアプリケーション、REST API、モバイルバックエンドをホスティングして実行するためのサービスです。New RelicのAzure App Service向け統合機能は、以下のようなWebアプリに関するメトリックデータをレポートします。

* リクエスト受付数
* HTTPレスポンスとエラーの数

また、サービスの状態や構成に関するデータを収集します。New Relic を使用すると、以下のことができます。

* Azure Storageのデータを、事前に作成されたインフラストラクチャダッシュボードで確認できます。
* カスタムクエリを実行し、データを [New Relic One](/docs/infrastructure/integrations-getting-started/getting-started/use-integration-data-new-relic-insights) で視覚化します。
* Storageデータの変化を通知するアラート条件を作成します。

## 統合を有効にする [#activate]

統合を有効にするには、標準的な手順に従って、 [New Relic](/docs/infrastructure/microsoft-azure-integrations/getting-started/activate-azure-integrations) で Azure サービスを有効にしてください。

## 設定およびポーリング [#polling]

[設定オプション](/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations)を使用し、ポーリングの頻度を変更し、データを絞り込むことができます。

New Relic は、デフォルトの [ポーリング](/docs/integrations/microsoft-azure-integrations/getting-started/azure-integration-polling) の間隔に従って、Azure App Services を照会しますが、これはインテグレーションによって異なります。Azure App Services 統合のポーリング頻度。

* ポーリングの間隔。5分
* 解像度は1データポイント/分

## データの検索と使用 [#find-and-use]

[統合データを調べるには](/docs/infrastructure/integrations/find-use-infrastructure-integration-data) 、 [**one.newrelic.com**](http://one.newrelic.com) **> インフラストラクチャー> Azure** をご覧ください。

[イベントタイプ](/docs/data-apis/understand-data/new-relic-data-types/#event-data) は。

* `AzureAppServiceWebAppSample`: アカウント内の各Azure App Service Web Appsを表します。 [Inventory data](#inventory) has a `provider` value of `AzureAppServiceWebApp`.
* `AzureAppServiceHostNameSample`: Web App にバインドされているドメイン名のうち、アクセスに使用できるものをそれぞれ表しています。 [Inventory data](#inventory) には `provider` の値があります。 `AzureAppServiceHostName`.
* `AzureAppServicePlan:` Webアプリを実行するためのコンピュートリソースのセットを表しています。

## メトリックデータ [#metrics]

Azure App Service 統合によって報告されたメトリクスを表示するには、 `AzureAppServiceWebAppSample` または `AzureAppServicePlanSample` イベントタイプを照会します。各メトリックに関連するメタデータを使用して、 [報告されているデータのフィルタリングとファセット](/docs/infrastructure/integrations-getting-started/getting-started/understand-integration-data-data-types#metric) を行います。メトリックの詳細情報については、 [Azure supported metrics](https://docs.microsoft.com/en-us/azure/azure-monitor/platform/metrics-supported#microsoftwebsites-excluding-functions) のドキュメントを参照してください。

### WebApp メトリクス

<table>
  <thead>
    <tr>
      <th style={{ width: "350px" }}>
        メトリック
      </th>

      <th>
        説明
      </th>

      <th>
        メタデータ
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `appConnections`
      </td>

      <td>
        平均接続数です。
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `averageMemoryWorkingSetBytes`
      </td>

      <td>
        平均的なメモリ・ワーキング・セット（単位：バイト）。
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `averageResponseTimeSeconds`
      </td>

      <td>
        平均応答時間（単位：秒）。
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `cpuTimeSeconds`
      </td>

      <td>
        総CPU時間（単位：秒）。
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `currentAssemblies`
      </td>

      <td>
        現在のアセンブリーの平均数
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `ハンドル`
      </td>

      <td>
        平均的な取り扱いリソース数
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `ジェン0コレクション`
      </td>

      <td>
        第0世代のガベージコレクションの総数。
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `ゲンワンコレクション`
      </td>

      <td>
        第1世代のガベージコレクションの総数。
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `ジェンツーコレクション`
      </td>

      <td>
        第2世代のガベージコレクションの総数。
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `http101`
      </td>

      <td>
        HTTP レスポンスの総数 101.
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `http2xx`
      </td>

      <td>
        200～299のHTTPレスポンスの総数。
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `http3xx`
      </td>

      <td>
        HTTPレスポンスの総数 300～399
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `http401`
      </td>

      <td>
        HTTPレスポンスの総数 401.
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `http403`
      </td>

      <td>
        HTTP レスポンスの総数 403.
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `http404`
      </td>

      <td>
        HTTPレスポンスの総数 404.
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `http406`
      </td>

      <td>
        HTTP レスポンスの総数 406.
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `http4xx`
      </td>

      <td>
        HTTPレスポンスの総数 400～499。
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `http5xx`
      </td>

      <td>
        HTTPサーバーエラーの総数 500～599
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `ioOtherBytesPerSecond`
      </td>

      <td>
        1秒あたりのIO Otherバイトの合計数。
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `ioOtherOperationsPerSecond`
      </td>

      <td>
        1秒あたりのIO Other操作の総数。
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `ioReadBytesPerSecond`
      </td>

      <td>
        1秒あたりのIO Readバイトの総数。
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `ioReadOperationsPerSecond`
      </td>

      <td>
        IOの総数 1秒あたりのその他の操作バイト数。
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `ioWriteBytesPerSecond`
      </td>

      <td>
        1秒あたりのIO Writeバイトの総数。
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `ioWriteOperationsPerSecond`
      </td>

      <td>
        IOの総数 1秒あたりのその他の操作バイト数。
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `メモリワーキングセットバイト`
      </td>

      <td>
        ワーキングセットのメモリの総バイト数。
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `プライベートバイト`
      </td>

      <td>
        プライベートの平均バイト数
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `リクエスト`
      </td>

      <td>
        アプリへの総リクエスト数
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `requestsInApplicationQueue`
      </td>

      <td>
        アプリケーションキューにあるリクエストの平均数。
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `受信バイト`
      </td>

      <td>
        アプリが受信した総バイト数
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `sentBytes`
      </td>

      <td>
        アプリが送信した総バイト数
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `スレッド`
      </td>

      <td>
        平均スレッド数
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `totalAppDomains`
      </td>

      <td>
        アプリの総ドメイン数
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        `totalAppDomainsUnloaded`
      </td>

      <td>
        トータルアプリのドメインをアンロード。
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>
  </tbody>
</table>

### サービスプラン・メトリクス

<table>
  <thead>
    <tr>
      <th style={{ width: "350px" }}>
        メトリック
      </th>

      <th>
        説明
      </th>

      <th>
        メタデータ
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        bytesReceivedBytes
      </td>

      <td>
        アプリケーションが受信したデータ量（単位：バイト）。
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        bytesSentBytes
      </td>

      <td>
        アプリケーションが受信したデータ量（単位：バイト）。
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        cpuPercent
      </td>

      <td>
        CPUの使用状況です。
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        diskQueueLength
      </td>

      <td>
        ディスクキューの長さ。
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        httpQueueLength
      </td>

      <td>
        HTTPキューの長さ。
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>

    <tr>
      <td>
        メモリパーセンテージ
      </td>

      <td>
        メモリの使用量です。
      </td>

      <td>
        `インスタンス`
      </td>
    </tr>
  </tbody>
</table>

## インベントリデータ [#inventory]

<Callout
  variant="important"
  title="有効期限（EOL）の通知"
>
  2022年3月以降は、クラウド統合用のインベントリデータなど、いくつかの機能のサポートを終了します。この移行に向けて簡単に準備できる方法など、詳細については、 [Explorers Hubの投稿](https://discuss.newrelic.com/t/important-upcoming-changes-to-capabilities-and-support-across-errors-classic-labels-service-infrastructure-on-host-snmp-integration-and-inventory-data-in-cloud-integrations/175370) をご覧ください。
</Callout>

Azure App Serviceの統合では、システムの状態や構成について、以下の [インベントリデータ](/docs/infrastructure/integrations/find-use-infrastructure-integration-data#inventory-data) が報告されます。

### azure/appservice/webapp/ [#webapp]

* `alwaysOn`
* `アベイラビリティステート`
* `clientAffinityEnabled`
* `clientCertEnabled`
* `コンテナサイズ`
* `defaultDocuments`
* `detailedErrorLoggingEnabled`
* `enabled`
* `hostNamesDisabled`
* `httpLoggingEnabled`
* `isPremiumApp`
* `linuxFxVersion`
* `ロードバランシング`
* `logsDirectorySizeLimit`
* `managedPipelineMode`
* `netFrameworkVersion`
* `労働者数`
* `オペレーティングシステム`
* `phpVersion`
* `プラットフォームアーキテクチャ`
* `リージョン名`
* `remoteDebuggingEnabled`
* `リソースグループ名`
* `scmSiteAlsoStopped`
* `scmType`
* `ステート`
* `種類`
* `使用状態`
* `vnetName`

### azure/appservice/host-name [#host-name]

* `dnsRecordType`
* `ホスト名タイプ`
* `ホストタイプ`
* `webAppName`
* `name`
* `providerAccountId`
* `providerAccountName`
* `sslState`
* `バーチャルIp`

### azure/appservice/service-plan

* `容量`
* `maxInstances`
* `numberOfWebApps`
* `オペレーティングシステム`
* `プライシング層`
* `リージョン名`
* `リソースグループ名`
* `種類`