---
title: Azure Service Busモニタリング統合
tags:
  - Integrations
  - Microsoft Azure integrations
  - Azure integrations list
metaDescription: 'New Relic''s Microsoft Azure ServiceBus integration: what data it reports and how to enable it.'
translationType: machine
---

[New Relic infrastructure monitoring](/docs/infrastructure) は、 [Microsoft Azure Service Bus](https://docs.microsoft.com/en-us/azure/service-bus-messaging/service-bus-messaging-overview) のための統合を提供し、Azure Service Bus サービスから New Relic にデータを報告します。このドキュメントでは、この統合を有効にする方法と、取得できるデータについて説明します。

## 機能

New RelicのAzure Service Bus向けインテグレーションでは、キュー内のメッセージ数、デッドレターメッセージ数、キューのバイトサイズなど、Service Busサービスに関するメトリックデータをレポートします。また、サービスのステータスや構成に関するインベントリデータも収集します。

[New Relic](/docs/infrastructure) から、Azure Service Bus のデータを監視し、アラートを出すことができます。また、 [カスタムクエリやチャートダッシュボード](/docs/using-new-relic/data/understand-data/query-new-relic-data) を作成することも可能です。

## 統合を有効にする [#requirements]

この統合を有効にするには、標準的な手順に従って、 [New Relic](/docs/infrastructure/microsoft-azure-integrations/getting-started/activate-azure-integrations) で Azure サービスを有効にしてください。

## 設定およびポーリング [#polling]

[設定オプション](/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations)を使用し、ポーリングの頻度を変更し、データを絞り込むことができます。

デフォルト [ポーリング](/docs/infrastructure/microsoft-azure-integrations/azure-integrations-list/azure-polling-intervals-infrastructure-integrations) Service Bus 統合のための情報です。

* ポーリングの間隔。5分
* 解像度は1データポイント/分

## データの検索と使用 [#find-and-use]

統合データを見つけるには、 [**one.newrelic.com**](http://one.newrelic.com) **> Infrastructure> Azure** にアクセスし、統合を探します。

[データの照会と探索](/docs/using-new-relic/data/understand-data/query-new-relic-data) これらの [イベントタイプ](/docs/insights/use-insights-ui/getting-started/introduction-new-relic-insights#event-type) を使用することができます。

* 名前空間データ： [`AzureServiceBusNamespaceSample`](#namespace)
* キューデータ： [`AzureServiceBusQueueSample`](#queue)
* サブスクリプションデータ： [`AzureServiceBusSubscriptionSample`](#subscription)
* トピックデータ： [`AzureServiceBusTopicSample`](#topic)

インベントリデータの一覧は、「 [インベントリ](#inventory) 」をご覧ください。

統合データの見つけ方と使い方については、 [Understand and use data](/docs/infrastructure/integrations/find-use-infrastructure-integration-data) を参照してください。

## メトリックデータ [#metrics]

Azure Service Bus の統合によって報告されるメトリクスにはいくつかのセットがあります。データがどのように構成され、New Relic に報告されるかについては、 [Understand and use integration data](/docs/infrastructure/integrations-getting-started/getting-started/understand-integration-data-data-types#metric) を参照してください。

### 名前空間のサンプルメトリクス [#namespace]

名前空間のメトリクスは、 [Service Bus Messaging Premium tier](https://docs.microsoft.com/en-us/azure/service-bus-messaging/service-bus-premium-messaging) の場合にのみ収集されます。

<table>
  <thead>
    <tr>
      <th style={{ width: "290px" }}>
        メトリック
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `successfulRequests`
      </td>

      <td>
        1つのネームスペースに対して成功したリクエストの総数です。
      </td>
    </tr>

    <tr>
      <td>
        `サーバーエラー`
      </td>

      <td>
        Microsoft.ServiceBusのサーバーエラーです。
      </td>
    </tr>

    <tr>
      <td>
        `ユーザーエラー`
      </td>

      <td>
        Microsoft.ServiceBusのユーザーエラーです。
      </td>
    </tr>

    <tr>
      <td>
        `スロットル付きリクエスト`
      </td>

      <td>
        Microsoft.ServiceBusへのリクエストを制限します。
      </td>
    </tr>

    <tr>
      <td>
        `incomingRequests`
      </td>

      <td>
        Microsoft.ServiceBusの着信要求。
      </td>
    </tr>

    <tr>
      <td>
        `incomingMessages`
      </td>

      <td>
        Microsoft.ServiceBusの着信メッセージ。
      </td>
    </tr>

    <tr>
      <td>
        `アウトゴーイングメッセージ`
      </td>

      <td>
        Microsoft.ServiceBusの送信メッセージです。
      </td>
    </tr>

    <tr>
      <td>
        `アクティブ・コネクションズ`
      </td>

      <td>
        Microsoft.ServiceBusのアクティブな総接続数です。
      </td>
    </tr>

    <tr>
      <td>
        `コネクションズオープン`
      </td>

      <td>
        Microsoft.ServiceBusのオープンコネクションの数です。
      </td>
    </tr>

    <tr>
      <td>
        `コネクション クローズド`
      </td>

      <td>
        Microsoft.ServiceBusのクローズされたコネクションのカウントです。
      </td>
    </tr>

    <tr>
      <td>
        `サイズバイト`
      </td>

      <td>
        キュー／トピックのサイズ（単位：バイト）。
      </td>
    </tr>

    <tr>
      <td>
        `メッセージ`
      </td>

      <td>
        Queue/Topicにあるメッセージの数。
      </td>
    </tr>

    <tr>
      <td>
        `activeMessages`
      </td>

      <td>
        Queue/Topicにあるアクティブなメッセージの数。
      </td>
    </tr>

    <tr>
      <td>
        `デッドレター・メッセージ`
      </td>

      <td>
        デッドレターになっているメッセージの総数です。
      </td>
    </tr>

    <tr>
      <td>
        `スケジュールされたメッセージ`
      </td>

      <td>
        スケジュールされたメッセージの総数です。
      </td>
    </tr>

    <tr>
      <td>
        `CPUXNS`
      </td>

      <td>
        Service BusプレミアムネームスペースのCPU使用率（最大使用率を示す）。
      </td>
    </tr>

    <tr>
      <td>
        `WSXNS`
      </td>

      <td>
        Service Busプレミアムネームスペースのメモリ使用率を示す指標で、最大使用率を示します。
      </td>
    </tr>

    <tr>
      <td>
        `namespaceMemoryUsage`
      </td>

      <td>
        サービスバスプレミアムネームスペースのメモリ使用率
      </td>
    </tr>
  </tbody>
</table>

### キューのサンプルメトリクス [#queue]

<table>
  <thead>
    <tr>
      <th style={{ width: "290px" }}>
        メトリック
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `successfulRequests`
      </td>

      <td>
        1つのネームスペースに対して成功したリクエストの総数です。
      </td>
    </tr>

    <tr>
      <td>
        `サーバーエラー`
      </td>

      <td>
        Microsoft.ServiceBusのサーバーエラーです。
      </td>
    </tr>

    <tr>
      <td>
        `ユーザーエラー`
      </td>

      <td>
        Microsoft.ServiceBusのユーザーエラーです。
      </td>
    </tr>

    <tr>
      <td>
        `スロットル付きリクエスト`
      </td>

      <td>
        Microsoft.ServiceBusへのリクエストを制限します。
      </td>
    </tr>

    <tr>
      <td>
        `incomingRequests`
      </td>

      <td>
        Microsoft.ServiceBusの着信要求。
      </td>
    </tr>

    <tr>
      <td>
        `incomingMessages`
      </td>

      <td>
        Microsoft.ServiceBusの着信メッセージ。
      </td>
    </tr>

    <tr>
      <td>
        `アウトゴーイングメッセージ`
      </td>

      <td>
        Microsoft.ServiceBusの送信メッセージです。
      </td>
    </tr>

    <tr>
      <td>
        `コネクションズオープン`
      </td>

      <td>
        Microsoft.ServiceBusのオープンコネクションの数です。
      </td>
    </tr>

    <tr>
      <td>
        `コネクション クローズド`
      </td>

      <td>
        Microsoft.ServiceBusのクローズされたコネクションのカウントです。
      </td>
    </tr>

    <tr>
      <td>
        `サイズバイト`
      </td>

      <td>
        キューのサイズ（単位：バイト）。
      </td>
    </tr>

    <tr>
      <td>
        `メッセージ`
      </td>

      <td>
        キュー/トピック内のメッセージの数。
      </td>
    </tr>

    <tr>
      <td>
        `activeMessages`
      </td>

      <td>
        キュー/トピック内のアクティブなメッセージの数。
      </td>
    </tr>

    <tr>
      <td>
        `デッドレター・メッセージ`
      </td>

      <td>
        デッドレターになっているメッセージの総数です。
      </td>
    </tr>

    <tr>
      <td>
        `スケジュールされたメッセージ`
      </td>

      <td>
        スケジュールされたメッセージの総数です。
      </td>
    </tr>
  </tbody>
</table>

### サブスクリプションのサンプルメトリクス [#subscription]

<table>
  <thead>
    <tr>
      <th style={{ width: "290px" }}>
        メトリック
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `activeMessages`
      </td>

      <td>
        キュー、トピック、またはサブスクリプション内のアクティブなメッセージの総数。
      </td>
    </tr>

    <tr>
      <td>
        `deadLetterMessages`
      </td>

      <td>
        デッドレターになっているメッセージの総数です。
      </td>
    </tr>

    <tr>
      <td>
        `メッセージ`
      </td>

      <td>
        キューに入っているメッセージの総数です。
      </td>
    </tr>

    <tr>
      <td>
        `スケジュールされたメッセージ`
      </td>

      <td>
        スケジュールされたメッセージの総数です。
      </td>
    </tr>

    <tr>
      <td>
        `デッドレター・メッセージの転送`
      </td>

      <td>
        デッドレターに転送されたメッセージの総数です。
      </td>
    </tr>

    <tr>
      <td>
        `メッセージの転送`
      </td>

      <td>
        別のキュー、トピック、またはサブスクリプションに転送されたメッセージの総数です。
      </td>
    </tr>
  </tbody>
</table>

### トピックサンプルのメトリクス [#topic]

<table>
  <thead>
    <tr>
      <th style={{ width: "290px" }}>
        メトリック
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `successfulRequests`
      </td>

      <td>
        1つのネームスペースに対して成功したリクエストの総数です。
      </td>
    </tr>

    <tr>
      <td>
        `サーバーエラー`
      </td>

      <td>
        Microsoft.ServiceBusのサーバーエラーです。
      </td>
    </tr>

    <tr>
      <td>
        `ユーザーエラー`
      </td>

      <td>
        Microsoft.ServiceBusのユーザーエラーです。
      </td>
    </tr>

    <tr>
      <td>
        `スロットル付きリクエスト`
      </td>

      <td>
        Microsoft.ServiceBusへのリクエストを制限します。
      </td>
    </tr>

    <tr>
      <td>
        `incomingRequests`
      </td>

      <td>
        Microsoft.ServiceBusの着信要求。
      </td>
    </tr>

    <tr>
      <td>
        `incomingMessages`
      </td>

      <td>
        Microsoft.ServiceBusの着信メッセージ。
      </td>
    </tr>

    <tr>
      <td>
        `アウトゴーイングメッセージ`
      </td>

      <td>
        Microsoft.ServiceBusの送信メッセージです。
      </td>
    </tr>

    <tr>
      <td>
        `コネクションズオープン`
      </td>

      <td>
        Microsoft.ServiceBusのオープンコネクションの数です。
      </td>
    </tr>

    <tr>
      <td>
        `コネクション クローズド`
      </td>

      <td>
        Microsoft.ServiceBusのクローズされたコネクションのカウントです。
      </td>
    </tr>

    <tr>
      <td>
        `サイズバイト`
      </td>

      <td>
        トピックのサイズをバイト単位で表します。
      </td>
    </tr>

    <tr>
      <td>
        `メッセージ`
      </td>

      <td>
        キュー/トピック内のメッセージの数。
      </td>
    </tr>

    <tr>
      <td>
        `activeMessages`
      </td>

      <td>
        キュー/トピック内のアクティブなメッセージの数。
      </td>
    </tr>

    <tr>
      <td>
        `デッドレター・メッセージ`
      </td>

      <td>
        デッドレターになっているメッセージの総数です。
      </td>
    </tr>

    <tr>
      <td>
        `スケジュールされたメッセージ`
      </td>

      <td>
        スケジュールされたメッセージの総数です。
      </td>
    </tr>
  </tbody>
</table>

## インベントリデータ [#inventory]

インベントリデータは、システムの状態や構成に関する情報です。インベントリデータの見つけ方と使い方の詳細は、 [データの理解と利用](/docs/infrastructure/integrations/find-use-infrastructure-integration-data#inventory-data) をご覧ください。

Azure Service Busの統合では、このインベントリデータがレポートされます。

<CollapserGroup>
  <Collapser
    className="freq-link"
    id="inventory-namespace"
    title="名前空間のインベントリデータ"
  >
    `azure/servicebus/namespace` inventory:

    * dnsLabel
    * fqdn
    * resourceGroupName (ResourceGroupの非推奨)
    * スキューキャパシティ
    * skuName
    * skuTier
  </Collapser>

  <Collapser
    className="freq-link"
    id="inventory-queue"
    title="キューインベントリデータ"
  >
    `azure/servicebus/queue` インベントリ。

    * batchedOperationsEnabled
    * deadLetteringEnabledForExpiredMessages（デッドレタリング有効期限切れメッセージ
    * defaultMessageTtlDuration
    * deleteOnIdleDurationInMinutes
    * duplicateDetectionEnabled
    * duplicateMessageDetectionHistoryDuration
    * expressEnabled
    * lockDurationInSeconds
    * maxDeliveryCountBeforeDeadLetteringMessage
    * partitioningEnabled
    * sessionEnabled
    * ステータス
  </Collapser>

  <Collapser
    className="freq-link"
    id="inventory-subscription"
    title="サブスクリプションの在庫データ"
  >
    `azure/servicebus/subscription` inventory:

    * batchedOperationsEnabled
    * deadLetteringEnabledForExpiredMessages（デッドレタリング有効期限切れメッセージ
    * deadLetteringEnabledForFilterEvaluationFailedMessages
    * defaultMessageTtlDuration
    * deleteOnIdleDurationInMinutes
    * lockDurationInSeconds
    * maxDeliveryCountBeforeDeadLetteringMessage
    * リソースグループ名
    * sessionEnabled
    * ステータス
  </Collapser>

  <Collapser
    className="freq-link"
    id="inventory-topic"
    title="トピックの在庫データ"
  >
    `azure/servicebus/topic` インベントリ。

    * batchedOperationsEnabled
    * defaultMessageTtlDuration
    * deleteOnIdleDurationInMinutes
    * duplicateDetectionEnabled
    * duplicateMessageDetectionHistoryDuration
    * expressEnabled
    * partitioningEnabled
    * リソースグループ名
    * ステータス
  </Collapser>
</CollapserGroup>