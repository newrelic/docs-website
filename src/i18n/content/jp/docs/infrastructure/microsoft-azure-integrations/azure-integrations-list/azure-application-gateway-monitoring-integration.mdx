---
title: Azure Application Gatewayのモニタリング統合
tags:
  - Integrations
  - Microsoft Azure integrations
  - Azure integrations list
metaDescription: 'New Relic''s Microsoft Azure Functions integration: what data it reports, and how to enable it.'
translationType: machine
---

[New Relic には、Azure App Gateway のデータを弊社プラットフォームに報告するための統合](/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations) が含まれています。ここでは、統合を有効にする方法と、どのようなデータを収集するかを説明します。

## 統合機能の有効化 [#activate]

統合を有効にするには、標準的な手順に従って、 [Azure サービスを有効にしてください。](/docs/infrastructure/microsoft-azure-integrations/getting-started/activate-azure-integrations).

## 設定およびポーリング [#polling]

[設定オプション](/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations)を使用し、ポーリングの頻度を変更し、データを絞り込むことができます。

デフォルト [ポーリング](/docs/infrastructure/microsoft-azure-integrations/getting-started/azure-integration-polling) Azure App Gateway統合の情報です。

* New Relicのポーリング間隔：5分

## データの検索と使用 [#find-data]

インフラストラクチャーで統合データを探すには、 **[one.newrelic.com](https://one.newrelic.com) > インフラストラクチャー> Azure** にアクセスし、統合を選択します。

データは、次の [イベントタイプ](/docs/insights/use-insights-ui/getting-started/introduction-new-relic-insights#event-type) に添付されています。

<table>
  <thead>
    <tr>
      <th>
        エンティティ
      </th>

      <th>
        イベントタイプ
      </th>

      <th>
        プロバイダー
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        ApplicationGateway
      </td>

      <td>
        `AzureApplicationGatewaySample`
      </td>

      <td>
        `AzureApplicationGateway`
      </td>
    </tr>
  </tbody>
</table>

データの利用方法については、 [統合データの理解と利用](/docs/infrastructure/integrations/find-use-infrastructure-integration-data) を参照してください。

## メトリックデータ [#metrics]

この統合は、ApplicationGatewayのAzure App Gatewayデータを収集します。

### App Gateway ApplicationGatewayデータ

<table>
  <thead>
    <tr>
      <th style={{ width: "275px" }}>
        メトリック
      </th>

      <th style={{ width: "150px" }}>
        ユニット
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `スループットBytesPerSecond`
      </td>

      <td>
        BytesPerSecond
      </td>

      <td>
        アプリケーションゲートウェイが提供した1秒あたりのバイト数
      </td>
    </tr>

    <tr>
      <td>
        `unhealthyHostCount`
      </td>

      <td>
        Count
      </td>

      <td>
        不健全なバックエンドホストの数
      </td>
    </tr>

    <tr>
      <td>
        `healthyHostCount`
      </td>

      <td>
        Count
      </td>

      <td>
        健全なバックエンドホストの数
      </td>
    </tr>

    <tr>
      <td>
        `totalRequests`
      </td>

      <td>
        Count
      </td>

      <td>
        アプリケーションゲートウェイが提供した成功したリクエストの数
      </td>
    </tr>

    <tr>
      <td>
        `avgRequestCountPerHealthyHost`
      </td>

      <td>
        Count
      </td>

      <td>
        プール内の健全なバックエンドホストの1分あたりの平均リクエスト数
      </td>
    </tr>

    <tr>
      <td>
        `failedRequests`
      </td>

      <td>
        Count
      </td>

      <td>
        アプリケーションゲートウェイが提供した失敗したリクエストの数
      </td>
    </tr>

    <tr>
      <td>
        `レスポンスステータス`
      </td>

      <td>
        Count
      </td>

      <td>
        アプリケーションゲートウェイが返したHttpレスポンスステータス
      </td>
    </tr>

    <tr>
      <td>
        `現在の接続数`
      </td>

      <td>
        Count
      </td>

      <td>
        アプリケーションゲートウェイとの間で確立された現在の接続の数
      </td>
    </tr>

    <tr>
      <td>
        `newConnectionsPerSecondCountPerSecond`
      </td>

      <td>
        CountPerSecond
      </td>

      <td>
        アプリケーションゲートウェイで確立された1秒あたりの新規接続数
      </td>
    </tr>

    <tr>
      <td>
        `cpuUtilizationPercent`
      </td>

      <td>
        パーセント
      </td>

      <td>
        アプリケーションゲートウェイの現在のCPU使用率
      </td>
    </tr>

    <tr>
      <td>
        `capacityUnits`
      </td>

      <td>
        Count
      </td>

      <td>
        容量 消費されるユニット
      </td>
    </tr>

    <tr>
      <td>
        `fixedBillableCapacityUnits`
      </td>

      <td>
        Count
      </td>

      <td>
        課金される最小容量のユニット
      </td>
    </tr>

    <tr>
      <td>
        `推定請求容量単位`
      </td>

      <td>
        Count
      </td>

      <td>
        課金される容量単位の目安
      </td>
    </tr>

    <tr>
      <td>
        `computeUnits`
      </td>

      <td>
        Count
      </td>

      <td>
        コンピュートユニットの消費量
      </td>
    </tr>

    <tr>
      <td>
        `backendResponseStatus`
      </td>

      <td>
        Count
      </td>

      <td>
        バックエンドメンバーが生成したHTTPレスポンスコードの数です。これには、アプリケーションゲートウェイで生成された応答コードは含まれません。
      </td>
    </tr>

    <tr>
      <td>
        `tlsProtocol`
      </td>

      <td>
        Count
      </td>

      <td>
        アプリケーション・ゲートウェイとの接続を確立したクライアントが開始した TLS および非 TLS リクエストの数。TLSプロトコルの分布を表示するには、ディメンション「TLSプロトコル」でフィルタリングします。
      </td>
    </tr>

    <tr>
      <td>
        `bytesSentBytes`
      </td>

      <td>
        バイト
      </td>

      <td>
        アプリケーションゲートウェイがクライアントに送信した総バイト数
      </td>
    </tr>

    <tr>
      <td>
        `bytesReceivedBytes`
      </td>

      <td>
        バイト
      </td>

      <td>
        アプリケーションゲートウェイがクライアントから受信した総バイト数
      </td>
    </tr>

    <tr>
      <td>
        `clientRttMilliseconds`
      </td>

      <td>
        ミリ秒
      </td>

      <td>
        クライアントとアプリケーションゲートウェイ間の平均ラウンドトリップタイム。この指標は、接続を確立し、確認応答を返すのにかかる時間を示します。
      </td>
    </tr>

    <tr>
      <td>
        `applicationGatewayTotalTimeMilliseconds`
      </td>

      <td>
        ミリ秒
      </td>

      <td>
        リクエストが処理され、そのレスポンスが送信されるまでにかかる平均時間。これは、アプリケーションゲートウェイがHTTPリクエストの最初のバイトを受信してから、レスポンスの送信操作が終了するまでの間隔の平均として計算されます。通常、これにはアプリケーションゲートウェイの処理時間、リクエストとレスポンスのパケットがネットワーク上を移動する時間、バックエンドサーバーがレスポンスに要した時間が含まれていることに注意する必要があります。
      </td>
    </tr>

    <tr>
      <td>
        `backendConnectTimeMilliseconds`
      </td>

      <td>
        ミリ秒
      </td>

      <td>
        バックエンドサーバーとの接続確立にかかる時間
      </td>
    </tr>

    <tr>
      <td>
        `backendFirstByteResponseTimeMilliseconds`
      </td>

      <td>
        ミリ秒
      </td>

      <td>
        バックエンドサーバの処理時間に相当する、バックエンドサーバへの接続確立開始からレスポンスヘッダの1バイト目を受信するまでの時間間隔
      </td>
    </tr>

    <tr>
      <td>
        `backendLastByteResponseTimeMilliseconds`
      </td>

      <td>
        ミリ秒
      </td>

      <td>
        バックエンド・サーバーとの接続を開始してから、レスポンス・ボディの最後のバイトを受信するまでの時間間隔
      </td>
    </tr>

    <tr>
      <td>
        `マッチドカウント`
      </td>

      <td>
        Count
      </td>

      <td>
        Web Application Firewall v1 Total Rule Distribution for incoming traffic
      </td>
    </tr>

    <tr>
      <td>
        `blockedCount`
      </td>

      <td>
        Count
      </td>

      <td>
        Web Application Firewall v1のブロックされたリクエストのルール配布について
      </td>
    </tr>

    <tr>
      <td>
        `blockedReqCount`
      </td>

      <td>
        Count
      </td>

      <td>
        Web Application Firewall v1のブロックされたリクエスト数
      </td>
    </tr>
  </tbody>
</table>