---
title: Azure Redis Cacheモニタリングの統合
tags:
  - Integrations
  - Microsoft Azure integrations
  - Azure integrations list
metaDescription: 'New Relic''s Azure Redis Cache integration: how to activate it and what data it collects.'
translationType: machine
---

[New Relic infrastructure monitoring](/docs/infrastructure) は、 [Microsoft Azure Redis Cache](https://azure.microsoft.com/en-us/services/cache/) の統合を提供し、New Relic にデータを報告します。このドキュメントでは、この統合を有効にする方法と、取得できるデータについて説明します。

## 機能

New RelicのAzure Redis Cache用インテグレーションは、接続しているクライアント数、使用されたGETおよびSETコマンドの数、1秒あたりの書き込み/読み取りバイト数など、Azure Redis Cacheサービスに関するメトリクスをレポートします。また、サービスのステータスや構成に関するインベントリーデータも収集します。

[New Relic Infrastructure UI](/docs/infrastructure) から、Azure Redis Cache のデータを監視したり、アラートを出したりすることができ、 [カスタムクエリやチャートダッシュボード](/docs/using-new-relic/data/understand-data/query-new-relic-data) を作成することができます。

## 統合を有効にする [#requirements]

この統合を有効にするには、標準的な手順に従って、 [New Relic](/docs/infrastructure/microsoft-azure-integrations/getting-started/activate-azure-integrations) で Azure サービスを有効にします。

## 設定およびポーリング [#polling]

[設定オプション](/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations)を使用し、ポーリングの頻度を変更し、データを絞り込むことができます。

デフォルト [ポーリング](/docs/infrastructure/microsoft-azure-integrations/azure-integrations-list/azure-polling-intervals-infrastructure-integrations) Azure Functionsインテグレーションの情報です。

* デフォルトのポーリング間隔。5分
* 解像度は1データポイント/分

## データの検索と使用 [#find-and-use]

統合データを見つけるには、 [**one.newrelic.com**](http://one.newrelic.com) **> Infrastructure> Azure** にアクセスし、Azure Redis Cache 統合を選択します。

[](/docs/using-new-relic/data/understand-data/query-new-relic-data)データの問い合わせや探索には、 AzureRedisCacheSample イベントタイプ と、サービスにシャードが構成されている場合には、 AzureRedisCacheShardSample イベントタイプを使用することができます。``[](/docs/insights/use-insights-ui/getting-started/introduction-new-relic-insights#event-type)``

統合データの見つけ方と使い方については、 [Understand and use data](/docs/infrastructure/integrations/find-use-infrastructure-integration-data) を参照してください。

## メトリックデータ [#metrics]

Azure Redis Cache 統合によって報告されたメトリクスを表示するには、 `AzureRedisCacheSample` または `AzureRedisCacheShardSample` イベントタイプを照会します。各メトリックに関連するメタデータを使用して、 [報告されているデータをフィルタリングおよびファセット](/docs/infrastructure/integrations-getting-started/getting-started/understand-integration-data-data-types#metric) します。メトリックの詳細情報については、 [Azure supported metrics](https://docs.microsoft.com/en-us/azure/azure-monitor/platform/metrics-supported#microsoftcacheredis) のドキュメントを参照してください。詳細については、 [Azure Redis Cache documentation](https://docs.microsoft.com/en-us/azure/redis-cache/cache-how-to-monitor#available-metrics-and-reporting-intervals) を参照してください。

<table>
  <thead>
    <tr>
      <th style={{ width: "290px" }}>
        メトリック
      </th>

      <th>
        説明
      </th>

      <th>
        メタデータ
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `キャッシュヒット`
      </td>

      <td>
        成功したキールックアップの数。
      </td>

      <td>
        `shardId`
      </td>
    </tr>

    <tr>
      <td>
        `キャッシュミセス`
      </td>

      <td>
        失敗したキールックアップの数。
      </td>

      <td>
        `shardId`
      </td>
    </tr>

    <tr>
      <td>
        `cacheReadBytesPerSecond`
      </td>

      <td>
        キャッシュから読み込んだデータの量（メガバイト/秒）。
      </td>

      <td>
        `shardId`
      </td>
    </tr>

    <tr>
      <td>
        `cacheWriteBytesPerSecond`
      </td>

      <td>
        キャッシュに書き込まれたデータの量（メガバイト/秒）。
      </td>

      <td>
        `shardId`
      </td>
    </tr>

    <tr>
      <td>
        `接続されたクライアント`
      </td>

      <td>
        キャッシュに対するクライアントの接続数。
      </td>

      <td>
        `shardId`
      </td>
    </tr>

    <tr>
      <td>
        `evictedKeys`
      </td>

      <td>
        `maxmemory` の制限により、キャッシュから退避させられたアイテムの数。
      </td>

      <td>
        `shardId`
      </td>
    </tr>

    <tr>
      <td>
        `期限切れキー`
      </td>

      <td>
        キャッシュから期限切れになったアイテムの数。
      </td>

      <td>
        `shardId`
      </td>
    </tr>

    <tr>
      <td>
        `getCommands`
      </td>

      <td>
        キャッシュからの取得操作の回数。
      </td>

      <td>
        `shardId`
      </td>
    </tr>

    <tr>
      <td>
        `オペレーションズパーセコンド`
      </td>

      <td>
        キャッシュサーバーで1秒あたりに処理されるコマンドの数。
      </td>

      <td>
        `shardId`
      </td>
    </tr>

    <tr>
      <td>
        `プロセッサータイムパーセンテージ`
      </td>

      <td>
        Azure Redis CacheサーバーのCPU使用率をパーセンテージで表示します。
      </td>

      <td>
        `shardId`
      </td>
    </tr>

    <tr>
      <td>
        `serverLoadPercent`
      </td>

      <td>
        Redisサーバーが処理に忙しく、メッセージをアイドル的に待っていないサイクルの割合。
      </td>

      <td>
        `shardId`
      </td>
    </tr>

    <tr>
      <td>
        `setCommands`
      </td>

      <td>
        キャッシュに対するセット操作の回数。
      </td>

      <td>
        `shardId`
      </td>
    </tr>

    <tr>
      <td>
        `totalCommandsProcessed`
      </td>

      <td>
        キャッシュで処理されたコマンドの総数。
      </td>

      <td>
        `shardId`
      </td>
    </tr>

    <tr>
      <td>
        `トータルキーズ`
      </td>

      <td>
        指定された時間帯のキャッシュ内のキーの最大数。
      </td>

      <td>
        `shardId`
      </td>
    </tr>

    <tr>
      <td>
        `usedMemoryBytes`
      </td>

      <td>
        キャッシュ内のキー／バリューペアに使用されるキャッシュメモリの量（単位：メガバイト）。
      </td>

      <td>
        `shardId`
      </td>
    </tr>

    <tr>
      <td>
        `usedMemoryRssBytes`
      </td>

      <td>
        フラグメンテーションやメタデータを含む、使用されているキャッシュメモリの量をメガバイトで表したもの。
      </td>

      <td>
        `shardId`
      </td>
    </tr>
  </tbody>
</table>

## インベントリデータ [#inventory]

インベントリデータは、システムの状態や構成に関する情報です。この統合では、以下のデータがレポートされます。

### azure/rediscache/cache [#cache]

* `isPremium`
* `provisioningState`
* `ホスト名`
* `port`
* `sslPort`
* `redisVersion`
* `非SSLポート`
* `shardCount`
* `サブネットID`
* `staticIP`
* `コンフィギュレーション`
* `skuName`
* `skuFamily`
* `スキューキャパシティ`
* `id`
* `name`
* `種類`
* `リージョン名`
* `タグ`

### azure/rediscache/shard [#shard]

一部のプレミアムRedis Cacheアカウントのみがシャードデータを生成します。そのデータがある場合は、標準の `/cache` のインベントリデータに加えて、 `shardName` が報告されます。