---
title: NGINX統合の構成設定
tags:
  - Integrations
  - On-host integrations
  - Advanced configuration
metaDescription: New Relics NGINX monitoring integration's advanced configuration
freshnessValidatedDate: never
translationType: machine
---

この統合はオープン ソース ソフトウェアです。つまり[、ソース コードを参照して](https://github.com/newrelic/nri-nginx)改善を送信したり、独自のフォークを作成してビルドしたりできます。

### NGINX インスタンスの設定 [#instance-settings]

NGINXインテグレーションでは、MetricsとInventoryの両方の情報を収集します。以下の「 **Applies to** 」欄をチェックすると、特定のコレクションごとにどの設定を使用できるかがわかります。

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        設定
      </th>

      <th>
        説明
      </th>

      <th>
        デフォルト
      </th>

      <th>
        <nobr>
          に適用されます
        </nobr>
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `STATUS_URL`
      </td>

      <td>
        ステータスモジュールを使ってメトリクスを付与するために設定されたURL。
      </td>

      <td>
        `http://127.0.0.1/status`
      </td>

      <td style={{ "text-align": "center" }}>
        指標/在庫
      </td>
    </tr>

    <tr>
      <td>
        `STATUS_MODULE`
      </td>

      <td>
        NGINXのステータスモジュールの名前です。<br/> 有効なオプションは以下のとおりです。

        * `discover`
        * `ngx_http_stub_status_module`
        * `ngx_http_status_module`
        * `ngx_http_api_module`
      </td>

      <td>
        `discover`
      </td>

      <td style={{ "text-align": "center" }}>
        指標
      </td>
    </tr>

    <tr>
      <td>
        `CONNECTION_TIMEOUT`
      </td>

      <td>
        NGINXインスタンスへの接続タイムアウトを秒単位で指定します。
      </td>

      <td>
        `5`
      </td>

      <td style={{ "text-align": "center" }}>
        指標
      </td>
    </tr>

    <tr>
      <td>
        `VALIDATE_CERTS`
      </td>

      <td>
        ステータスURLが自己署名証明書を持つHTTPSの場合、`false`に設定されます。
      </td>

      <td>
        `true`
      </td>

      <td style={{ "text-align": "center" }}>
        指標
      </td>
    </tr>

    <tr>
      <td>
        `CONFIG_PATH`
      </td>

      <td>
        NGINX設定ファイルへのパス。
      </td>

      <td>
        該当なし
      </td>

      <td style={{ "text-align": "center" }}>
        インベントリ
      </td>
    </tr>

    <tr>
      <td>
        `REMOTE_MONITORING`
      </td>

      <td>
        マルチテナンシー監視を有効にします。

        [リモート監視](/docs/remote-monitoring-host-integrations)について詳しくは、こちらをご覧ください。
      </td>

      <td>
        `true`
      </td>

      <td style={{ "text-align": "center" }}>
        指標/在庫
      </td>
    </tr>

    <tr>
      <td>
        `METRICS`
      </td>

      <td>
        メトリックのみの収集を有効にするには、 `true`に設定します。
      </td>

      <td>
        `false`
      </td>

      <td style={{ "text-align": "center" }}/>
    </tr>

    <tr>
      <td>
        `INVENTORY`
      </td>

      <td>
        インベントリのみの収集を有効にするには、 `true`に設定します。
      </td>

      <td>
        `false`
      </td>

      <td style={{ "text-align": "center" }}/>
    </tr>
  </tbody>
</table>

これらの設定の値は、いくつかの方法で定義できます。

* 設定ファイルに直接値を追加します。これが最も一般的な方法です。
* `{{ }}`表記を使用して環境変数の値を置き換えます。 [オンホスト統合での環境変数パススルーの使用](/docs/infrastructure/install-infrastructure-agent/configuration/configure-infrastructure-agent/#passthrough)の詳細を読むか、 [環境変数の置換](/docs/infrastructure/host-integrations/host-integrations-list/elasticsearch/elasticsearch-integration#envvar-replacement)の例を参照してください。 <Callout variant="important">これには、インフラストラクチャエージェントv1.14.0以降が必要です。</Callout>
* シークレット管理の使用。これを使用して、設定ファイルのプレーンテキストで公開されないようにパスワードなどの重要な情報を保護してください。詳細については、[シークレット管理](/docs/integrations/host-integrations/installation/secrets-management)を参照してください。