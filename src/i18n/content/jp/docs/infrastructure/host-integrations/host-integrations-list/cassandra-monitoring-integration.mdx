---
title: Cassandraモニタリングの統合
tags:
  - Integrations
  - On-host integrations
  - On-host integrations list
metaDescription: New Relic's Cassandra integration sends performance metrics and inventory data from your Cassandra database to the New Relic platform.
freshnessValidatedDate: never
translationType: machine
---

当社のCassandra統合は、パフォーマンス [メトリクス](#metrics) と [インベントリデータ](#inventory) をCassandraデータベースからNew Relicプラットフォームに送信します。Cassandraのメトリクスデータの構築済みダッシュボードを表示したり、アラートポリシーを作成したり、独自のカスタムクエリやチャートを作成することができます。

統合をインストールし、収集するデータを確認するために読んでください。

## 互換性と要件 [#req]

当社のインテグレーションは、Apache Cassandraのバージョン3.x以上に対応しています。

統合をインストールする前に、次の 3 つの要件を満たしていることを確認してください。

* Java Runtime Environment 7以上。

* **CassandraがKubernetesまたはAmazon ECS上で** 実行されていない場合は、 [Cassandraを実行しているLinuxホストにインフラストラクチャエージェント](/docs/infrastructure/install-infrastructure-agent/get-started/install-infrastructure-agent-new-relic) をインストールする必要があります。それ以外の場合は

  * Kubernetesで実行している場合は、[これらの要件](/docs/monitor-service-running-kubernetes#requirements)を参照してください。
  * ECSで実行している場合は、 [これらの要件](/docs/integrations/host-integrations/host-integrations-list/monitor-services-running-amazon-ecs)を参照してください。

## クイックスタート [#quick]

Cassandra データベースを迅速に計測し、ガイド付きインストールでテレメトリ データを送信します。ガイド付きインストールでは、インフラストラクチャ エージェントと CLI を使用して Cassandra 統合をセットアップし、環境内で実行されている他のアプリケーションとログ ソースを検出して、どのアプリケーションを計測する必要があるかを推奨します。

ガイド付きインストールは、ほとんどの設定と連動します。ただし、ご希望に添えない場合は、以下の他のインストールオプションがあります。

始める準備はできていますか？使用する[データセンターの地域](/docs/accounts/accounts-billing/account-setup/choose-your-data-center)に応じて、該当するボタンをクリックします。インストールが完了したら、本ドキュメントに戻って設定オプションを確認してください。

<ButtonGroup>
  <ButtonLink
    role="button"
    to="https://one.newrelic.com/marketplace/install-data-source?state=d99cab2c-ca6c-4e1c-de98-26786c2665b6"
    variant="primary"
  >
    ガイド付きインストール（米国オプション）
  </ButtonLink>

  <ButtonLink
    role="button"
    to="https://one.eu.newrelic.com/marketplace/install-data-source?state=d99cab2c-ca6c-4e1c-de98-26786c2665b6"
    variant="primary"
  >
    ガイド付きインストール（EUオプション）
  </ButtonLink>
</ButtonGroup>

## インストールしてアクティブ化する [#install]

ガイド付きインストールを使用しない場合は、ご使​​用の環境に応じた手順に従ってください。

<CollapserGroup>
  <Collapser
    id="ecs-install"
    title="ECS"
  >
    [ECSで実行されているモニターサービスを](/docs/integrations/host-integrations/host-integrations-list/monitor-services-running-amazon-ecs)参照してください。
  </Collapser>

  ''

  <Collapser
    id="k8s-install"
    title="Kubernetes"
  >
    [Kubernetesで実行されているモニターサービスを](/docs/monitor-service-running-kubernetes)参照してください。
  </Collapser>

  <Collapser
    id="linux-install"
    title="Linux"
  >
    LinuxにCassandraインテグレーションをインストールするには

    1. [インフラストラクチャ エージェントをインストールし](/docs/integrations/host-integrations/installation/install-infrastructure-host-integrations/#install)、 `INTEGRATION_FILE_NAME`変数を`nri-cassandra`に置き換えます。

    2. ディレクトリを`integration`フォルダに変更します。

       ```shell
       cd /etc/newrelic-infra/integrations.d
       ```

    3. サンプル構成ファイルをコピーします。

       ```shell
       sudo cp cassandra-config.yml.sample cassandra-config.yml
       ```

    4. [構成設定](#config)の説明に従って、 `cassandra-config.yml`ファイルを編集します。

    5. Cassandraエラーログの自動解析と転送を有効にするには、 `cassandra-log.yml.example`ファイルを`cassandra-log.yml`にコピー（または名前変更）します。エージェントを再起動する必要はありません。

       <DNT>
         **Example:**
       </DNT>

       ```shell
       sudo cp /etc/newrelic-infra/logging.d/casssandra-log.yml.example /etc/newrelic-infra/logging.d/cassandra-log.yml
       ```
  </Collapser>
</CollapserGroup>

<InstallFeedback/>

## 統合を更新する [#update]

このインテグレーションは、自動更新しません。最善の結果を得るため、[インテグレーションパッケージの更新](/docs/integrations/host-integrations/installation/update-infrastructure-host-integration-package)と[Infrastructureエージェントの更新](/docs/infrastructure/new-relic-infrastructure/installation/update-infrastructure-agent)を定期的に実施してください。

## インストール後のタスク [#after-install]

インストールが完了したら、設定オプションを設定できます。インテグレーションを機能させるには、設定がいくつか必要ですが、オプションの設定もあります。

### 統合を構成する [#config]

ECSまたはKubernetesインテグレーションからこのインテグレーションを有効にした場合は、以下のドキュメントを参照してください。

* [Kubernetes](/docs/monitor-service-running-kubernetes)
* [ECS](/docs/integrations/host-integrations/host-integrations-list/monitor-services-running-amazon-ecs)

標準オンホストインストールの場合、このインテグレーションにはYAML設定ファイル、`apache-config.yml`が付属しています。この設定では、必要なログインクレデンシャルやデータの収集方法を設定できます。どのオプションを変更するかは、設定とプリファレンスにより異なります。コピーおよび編集できるサンプル設定ファイル`apache-config.yml.sample`が付属しています。

Cassandraに関連する特定の設定は、構成ファイルの`env`セクションを使用して定義されます。これらの設定は、Cassandraインスタンスへの接続、およびその他のセキュリティ設定と機能を制御します。有効な設定のリストについては、このドキュメントの次のセクションで説明します。

#### Cassandra 構成オプション [#config-options]

Cassandra インテグレーションは、メトリクス ( <DNT>**M**</DNT> ) とインベントリ ( <DNT>**I**</DNT> ) の両方の情報を収集します。 表では、各コレクションで使用可能な設定については<DNT>**Applies To**</DNT>列を使用します。

'' '' '' '' '' '' '' '' '' '' '' '' ''

<table>
  <thead>
    <tr>
      <th style={{ width: '150px' }}>
        設定
      </th>

      <th>
        説明
      </th>

      <th>
        デフォルト
      </th>

      <th>
        に適用されます
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `HOSTNAME`
      </td>

      <td>
        Cassandraが稼働しているホスト名またはIP。
      </td>

      <td>
        `localhost`
      </td>

      <td style={{ "text-align": "center" }}>
        M / I
      </td>
    </tr>

    <tr>
      <td>
        `PORT`
      </td>

      <td>
        Cassandraがリッスンしているポート。
      </td>

      <td>
        `7199`
      </td>

      <td style={{ 'text-align': 'center' }}>
        M
      </td>
    </tr>

    <tr>
      <td>
        `USERNAME`
      </td>

      <td>
        JMXにアクセスするためのユーザー名です。
      </td>

      <td>
        該当なし
      </td>

      <td style={{ 'text-align': 'center' }}>
        M
      </td>
    </tr>

    <tr>
      <td>
        `PASSWORD`
      </td>

      <td>
        指定されたユーザーのパスワード。
      </td>

      <td>
        該当なし
      </td>

      <td style={{ 'text-align': 'center' }}>
        M
      </td>
    </tr>

    <tr>
      <td>
        `CONFIG_PATH`
      </td>

      <td>
        Cassandra構成ファイルへのパス。
      </td>

      <td>
        `/etc/cassandra/` <br/>`cassandra.yaml`
      </td>

      <td style={{ 'text-align': 'center' }}>
        私
      </td>
    </tr>

    <tr>
      <td>
        `COLUMN_FAMILIES_LIMIT`
      </td>

      <td>
        Cassandraカラム・ファミリーの数の制限。
      </td>

      <td>
        `20`
      </td>

      <td style={{ 'text-align': 'center' }}>
        M
      </td>
    </tr>

    <tr>
      <td>
        `TIMEOUT`
      </td>

      <td>
        リクエストのタイムアウト（単位：ミリ秒）。
      </td>

      <td>
        `2000`
      </td>

      <td style={{ 'text-align': 'center' }}>
        M
      </td>
    </tr>

    <tr>
      <td>
        `KEY_STORE`
      </td>

      <td>
        JMXクライアントのSSL証明書を含むキーストアのファイルパスです。
      </td>

      <td>
        該当なし
      </td>

      <td style={{ 'text-align': 'center' }}>
        M
      </td>
    </tr>

    <tr>
      <td>
        `KEY_STORE_PASSWORD`
      </td>

      <td>
        JMXのSSLキーストアのパスワードです。
      </td>

      <td>
        該当なし
      </td>

      <td style={{ 'text-align': 'center' }}>
        M
      </td>
    </tr>

    <tr>
      <td>
        `TRUST_STORE`
      </td>

      <td>
        JMXクライアントのSSL証明書を含むトラストストアのファイルパスです。
      </td>

      <td>
        該当なし
      </td>

      <td style={{ 'text-align': 'center' }}>
        M
      </td>
    </tr>

    <tr>
      <td>
        `TRUST_STORE_PASSWORD`
      </td>

      <td>
        JMX SSLトラストストアのパスワードです。
      </td>

      <td>
        該当なし
      </td>

      <td style={{ 'text-align': 'center' }}>
        M
      </td>
    </tr>

    <tr>
      <td>
        [`REMOTE_MONITORING`](/docs/remote-monitoring-host-integrations)
      </td>

      <td>
        マルチテナンシー監視を有効にします。
      </td>

      <td>
        `false`
      </td>

      <td style={{ 'text-align': 'center' }}>
        M / I
      </td>
    </tr>

    <tr>
      <td>
        `METRICS`
      </td>

      <td>
        メトリックのみの収集を有効にするには、 `true`に設定します。
      </td>

      <td>
        `false`
      </td>

      <td style={{ 'text-align': 'center' }}/>
    </tr>

    <tr>
      <td>
        `INVENTORY`
      </td>

      <td>
        インベントリのみの収集を有効にするには、 `true`に設定します。
      </td>

      <td>
        `false`
      </td>

      <td style={{ 'text-align': 'center' }}/>
    </tr>
  </tbody>
</table>

これらの設定の値は、いくつかの方法で定義できます。

* 設定ファイルに直接値を追加します。これが最も一般的な方法です。
* `{{}}`表記を使用して環境変数の値を置き換えます。これには、インフラストラクチャエージェントv1.14.0以降が必要です。詳細については、 [こちら](/docs/infrastructure/install-infrastructure-agent/configuration/configure-infrastructure-agent/#passthrough)をご覧になるか、[以下](#envvar-replacement)の例をご覧ください。
* シークレット管理を使用します。これを使用して、構成ファイルにプレーンテキストで公開されるパスワードなどの機密情報を保護します。詳細については、[シークレット管理](/docs/integrations/host-integrations/installation/secrets-management)を参照してください。

### ラベル [#labels]

さらに、メトリクスにラベルを付けることもできます。ラベルを使用すると、属性（キーや値のペア）をメトリクスに追加して、メトリクスのクエリを挙げ、フィルターをかけ、グループ化を行うことができます。

デフォルトのサンプル設定ファイルにはラベルの例が含まれていますが、必須ではないため、選択したラベルを削除、変更、お好きな設定を新規追加することができます。

```yml
labels:
  env: production
  role: load_balancer
```

## 構成例 [#examples]

以下に、YAML設定の例をいくつか示します。

<CollapserGroup>
  <Collapser
    id="basic-config"
    title="基本構成"
  >
    これは、ローカルホストからメトリックとインベントリを収集するために使用される基本構成です。

    ```yml
    integrations:
      - name: nri-cassandra
        env:
          HOSTNAME: localhost
          PORT: 7199
          USERNAME: cassandra_user
          PASSWORD: cassandra_password
          CONFIG_PATH: /etc/cassandra/cassandra.yml
        interval: 30s
        labels:
          environment: production
        inventory_source: config/cassandra
    ```
  </Collapser>

  <Collapser
    id="basic-intervals"
    title="メトリック/在庫間隔が異なる基本構成"
  >
    この設定では、30秒ごとにメトリクスを収集し、60秒ごとにインベントリを作成します。

    ```yml
    integrations:
      - name: nri-cassandra
        env:
          METRICS: true
          HOSTNAME: localhost
          PORT: 7199
          USERNAME: cassandra_user
          PASSWORD: cassandra_password
          REMOTE_MONITORING: true
        interval: 30s
        labels:
          environment: production

      - name: nri-cassandra
        env:
          INVENTORY: true
          HOSTNAME: localhost
          PORT: 7199
          USERNAME: cassandra_user
          PASSWORD: cassandra_password
          CONFIG_PATH: /etc/cassandra/cassandra.yml
        interval: 60s
        labels:
          environment: production
        inventory_source: config/cassandra
    ```
  </Collapser>

  <Collapser
    id="envvar-replacement"
    title="環境変数の置換"
  >
    この設定では、環境変数`CASSANDRA_HOST`を使用して、インテグレーションの`HOSTNAME`設定を入力します。

    ```yml
    integrations:
      - name: nri-cassandra
        env:
          METRICS: "true"
          HOSTNAME: { { CASSANDRA_HOST } }
          PORT: 7199
          USERNAME: cassandra_user
          PASSWORD: cassandra_password
        interval: 15s
        labels:
          env: production
          role: load_balancer
    ```
  </Collapser>

  <Collapser
    id="multi-instance"
    title="マルチインスタンスモニタリング"
  >
    この構成では、同じ統合から複数のCassandraサーバーを監視しています。最初のインスタンス（ `HOSTNAME: 1st_cassandra_host` ）の場合はメトリックとインベントリを収集し、2番目のインスタンス（ `HOSTNAME: 2nd_cassandra_host` ）の場合はメトリックのみを収集します。

    ```yml
    integrations:
      - name: nri-cassandra
        env:
          METRICS: "true"
          HOSTNAME: 1st_cassandra_host
          PORT: 7199
          USERNAME: cassandra_user
          PASSWORD: cassandra_password
        interval: 30s
        labels:
          env: production
          role: load_balancer
      - name: nri-cassandra
        env:
          INVENTORY: "true"
          HOSTNAME: 1st_cassandra_host
          PORT: 7199
          USERNAME: cassandra_user
          PASSWORD: cassandra_password
        interval: 60s
        labels:
          env: production
          role: load_balancer
        inventory_source: config/cassandra

      - name: nri-cassandra
        env:
          METRICS: "true"
          HOSTNAME: 2nd_cassandra_host
          PORT: 7199
          USERNAME: cassandra_user
          PASSWORD: cassandra_password
        interval: 30s
        labels:
          env: production
          role: load_balancer
    ```
  </Collapser>
</CollapserGroup>

## データを見つけて使用する [#find-and-use]

この統合からのデータは、 <DNT>**[one.newrelic.com](https://one.newrelic.com/all-capabilities) > Infrastructure > Third-party services > Cassandra**</DNT>にアクセスすると見つかります。

Cassandraデータは`CassandraSample`および`CassandraColumnFamilySample`[イベントタイプ](/docs/using-new-relic/data/understand-data/new-relic-data-types#events-new-relic)に添付されます。トラブルシューティングの目的で、またはチャートやダッシュボードを作成するために、[このデータをクエリ](/docs/using-new-relic/data/understand-data/query-new-relic-data)できます。

データを検索して使用する方法の詳細については、[統合データ](/docs/infrastructure/integrations/find-use-infrastructure-integration-data)についてを参照してください。

NRQL で [nodetool ステータス](https://docs.datastax.com/en/dse/5.1/dse-dev/datastax_enterprise/tools/nodetool/toolsStatus.html) を再作成するには、次のクエリを実行します。

```sql
SELECT cluster.datacenter, fullHostname, cluster.name, cluster.rack, entityName, hostStatus, (db.loadBytes /10e3) AS 'kb db.loadBytes' FROM CassandraSample 
```

## メトリックデータ [#metrics]

Cassandraノードメトリックは`CassandraSample`[イベントタイプ](/docs/using-new-relic/data/understand-data/new-relic-data-types#events-new-relic)に関連付けられています。Cassandra統合は、次のノードメトリックを収集します。

<table>
  <thead>
    <tr>
      <th style={{ width: "350px" }}>
        名前
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `db.allMemtablesOffHeapSizeBytes`
      </td>

      <td>
        オンヒープに存在するmemtables（2iおよび保留中のフラッシュmemtablesを含む）に格納されているバイトの総量。
      </td>
    </tr>

    <tr>
      <td>
        `db.allMemtablesOnHeapSizeBytes`
      </td>

      <td>
        オフヒープに存在するmemtables（2iおよび保留中のフラッシュmemtablesを含む）に格納されているバイトの合計量。
      </td>
    </tr>

    <tr>
      <td>
        `db.commitLogCompletedTasksPerSecond`
      </td>

      <td>
        1秒間に書き込まれるコミットログメッセージの数。
      </td>
    </tr>

    <tr>
      <td>
        `db.commitLogPendindTasks`
      </td>

      <td>
        書き込まれたものの、まだfsyncされていないコミットログメッセージの数。
      </td>
    </tr>

    <tr>
      <td>
        `db.commitLogTotalSizeBytes`
      </td>

      <td>
        すべてのコミットログセグメントで使用されている現在のサイズ（バイト単位）。
      </td>
    </tr>

    <tr>
      <td>
        `db.droppedRequestTypeMessagesPerSecond`
      </td>

      <td>
        このタイプのリクエストで1秒あたりにドロップされたメッセージ。`RequestType`は、BatchRemove、BatchStore、CounterMutation、Hint、Mutation、PagedRange、RangeSlice、Read、ReadRepair、RequestResponse、またはTraceのいずれかになります。
      </td>
    </tr>

    <tr>
      <td>
        `db.keyCacheCapacityBytes`
      </td>

      <td>
        キーキャッシュの容量（バイト）。
      </td>
    </tr>

    <tr>
      <td>
        `db.keyCacheHitRate`
      </td>

      <td>
        1分間のキーキャッシュヒット率。
      </td>
    </tr>

    <tr>
      <td>
        `db.keyCacheHitsPerSecond`
      </td>

      <td>
        1秒あたりのキーキャッシュヒット数。
      </td>
    </tr>

    <tr>
      <td>
        `db.keyCacheRequestsPerSecond`
      </td>

      <td>
        1秒あたりのキーキャッシュへのリクエスト数。
      </td>
    </tr>

    <tr>
      <td>
        `db.keyCacheSizeBytes`
      </td>

      <td>
        占有されるキャッシュのサイズ（単位：バイト）。
      </td>
    </tr>

    <tr>
      <td>
        `db.liveSSTableCount`
      </td>

      <td>
        このカラム・ファミリーのディスク上のSSTableの数。
      </td>
    </tr>

    <tr>
      <td>
        `db.loadBytes`
      </td>

      <td>
        このノードが管理するディスク上のデータサイズをバイト単位で表したもの。
      </td>
    </tr>

    <tr>
      <td>
        `db.rowCacheCapacityBytes`
      </td>

      <td>
        行キャッシュの容量（バイト）。
      </td>
    </tr>

    <tr>
      <td>
        `db.rowCacheHitRate`
      </td>

      <td>
        1分間のロウキャッシュヒット率。
      </td>
    </tr>

    <tr>
      <td>
        `db.rowCacheHitsPerSecond`
      </td>

      <td>
        1秒あたりの行キャッシュヒット数。
      </td>
    </tr>

    <tr>
      <td>
        `db.rowCacheRequestsPerSecond`
      </td>

      <td>
        1秒あたりのローキャッシュへのリクエスト数。
      </td>
    </tr>

    <tr>
      <td>
        `db.rowCacheSizeBytes`
      </td>

      <td>
        占有している行キャッシュの合計サイズ（バイト）。
      </td>
    </tr>

    <tr>
      <td>
        `db.threadpool.<pool>ActiveTasks`
      </td>

      <td>
        このプールによってアクティブに処理されているタスクの数。`pool`は次のいずれかになります。

        * `internalAntiEntropyStage`
        * `internalCacheCleanupExecutor`
        * `internalCompactionExecutor`
        * `internalGossipStage`
        * `internalHintsDispatcher`
        * `internalInternalResponseStage`
        * `internalMemtableFlushWriter`
        * `internalMemtablePostFlush`
        * `internalMemtableReclaimMemory`
        * `internalMigrationStage`
        * `internalMiscStage`
        * `internalPendingRangeCalculator`
        * `internalSampler`
        * `internalSecondaryIndexManagement`
        * `internalValidationExecutor`
        * `nativeTransportRequest`
        * `requestCounterMutationStage`
        * `requestMutationStage`
        * `requestReadRepairStage`
        * `requestReadStage`
        * `requestRequestResponse`
        * `requestViewMutationStage`
      </td>
    </tr>

    <tr>
      <td>
        `db.threadpool.<pool>PendingTasks`
      </td>

      <td>
        このプールでキューに入れられているタスクの数。`pool` は、 `db.threadpool.<pool>ActiveTasks`の説明で提供されるリスト内の項目のいずれかを指定できます。
      </td>
    </tr>

    <tr>
      <td>
        `db.threadpool.<pool>CompletedTasks`
      </td>

      <td>
        完了したタスクの数。`pool` は、 `db.threadpool.<pool>ActiveTasks`の説明で提供されるリスト内の項目のいずれかを指定できます。
      </td>
    </tr>

    <tr>
      <td>
        `db.threadpool.<pool>TotalBlockedTasks`
      </td>

      <td>
        キューの飽和によりブロックされたタスクの数。`pool` は、 `db.threadpool.<pool>ActiveTasks`の説明で提供されるリスト内の項目のいずれかを指定できます。
      </td>
    </tr>

    <tr>
      <td>
        `db.threadpool.<pool>CurrentlyBlockedTask`
      </td>

      <td>
        キューの飽和により現在ブロックされているが、再試行するとブロックが解除されるタスクの数。`pool` は、 `db.threadpool.<pool>ActiveTasks`の説明で提供されるリスト内の項目のいずれかを指定できます。
      </td>
    </tr>

    <tr>
      <td>
        `db.totalHintsInProgress`
      </td>

      <td>
        現在、送信しようとしているヒントの数。
      </td>
    </tr>

    <tr>
      <td>
        `db.totalHintsPerSecond`
      </td>

      <td>
        このノードに書き込まれた1秒あたりのヒントメッセージの数。1つのヒントにつき、ヒントされるホストごとに1つのエントリを含みます。
      </td>
    </tr>

    <tr>
      <td>
        `query.CASReadRequestsPerSecond`
      </td>

      <td>
        トランザクションのリードレイテンシー（1秒あたりのリクエスト数）。
      </td>
    </tr>

    <tr>
      <td>
        `query.CASWriteRequestsPerSecond`
      </td>

      <td>
        トランザクションの書き込み待ち時間（1秒あたりのリクエスト数）。
      </td>
    </tr>

    <tr>
      <td>
        `query.rangeSliceRequestsPerSecond`
      </td>

      <td>
        1秒あたりのレンジ・スライス・リクエストの数。
      </td>
    </tr>

    <tr>
      <td>
        `query.rangeSliceTimeoutsPerSecond`
      </td>

      <td>
        トークンレンジの読み取り要求を処理する際に、1秒あたりに発生したタイムアウトの数。
      </td>
    </tr>

    <tr>
      <td>
        `query.rangeSliceUnavailablesPerSecond`
      </td>

      <td>
        トークンレンジの読み取り要求を処理する際に、1秒あたりに発生した利用できない例外の数。
      </td>
    </tr>

    <tr>
      <td>
        `query.readLatency50thPercentileMilliseconds`
      </td>

      <td>
        リードレイテンシー（ミリ秒）、50パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `query.readLatency75thPercentileMilliseconds`
      </td>

      <td>
        リードレイテンシー（ミリ秒）、75パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `query.readLatency95thPercentileMilliseconds`
      </td>

      <td>
        リードレイテンシー（ミリ秒）、95パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `query.readLatency98thPercentileMilliseconds`
      </td>

      <td>
        リードレイテンシー（ミリ秒）、98パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `query.readLatency999thPercentileMilliseconds`
      </td>

      <td>
        リードレイテンシー（ミリ秒）、999パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `query.readLatency99thPercentileMilliseconds`
      </td>

      <td>
        リードレイテンシー（ミリ秒）、99パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `query.readRequestsPerSecond`
      </td>

      <td>
        1秒あたりの読み取り要求数。
      </td>
    </tr>

    <tr>
      <td>
        `query.readTimeoutsPerSecond`
      </td>

      <td>
        標準的な読み取り要求を処理する際に、1秒間に発生したタイムアウトの数。
      </td>
    </tr>

    <tr>
      <td>
        `query.readUnavailablesPerSecond`
      </td>

      <td>
        標準的な読み取り要求を処理する際に、1秒あたりに発生した利用できない例外の数。
      </td>
    </tr>

    <tr>
      <td>
        `query.viewWriteRequestsPerSecond`
      </td>

      <td>
        1秒あたりのビュー書き込み要求の数。
      </td>
    </tr>

    <tr>
      <td>
        `query.writeLatency50thPercentileMilliseconds`
      </td>

      <td>
        書き込み待ち時間（ミリ秒）、50パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `query.writeLatency75thPercentileMilliseconds`
      </td>

      <td>
        書き込み遅延（ミリ秒）、75パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `query.writeLatency95thPercentileMilliseconds`
      </td>

      <td>
        書き込み遅延（ミリ秒）、95パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `query.writeLatency98thPercentileMilliseconds`
      </td>

      <td>
        書き込みレイテンシー（ミリ秒）、98パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `query.writeLatency999thPercentileMilliseconds`
      </td>

      <td>
        書き込み遅延（ミリ秒）、999パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `query.writeLatency99thPercentileMilliseconds`
      </td>

      <td>
        書き込み遅延（ミリ秒）、99パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `query.writeRequestsPerSecond`
      </td>

      <td>
        1秒あたりの書き込み要求の数。
      </td>
    </tr>

    <tr>
      <td>
        `query.writeTimeoutsPerSecond`
      </td>

      <td>
        通常の書き込み要求を処理する際に、1秒間に発生したタイムアウトの数。
      </td>
    </tr>

    <tr>
      <td>
        `query.writeUnavailablesPerSecond`
      </td>

      <td>
        通常の書き込み要求を処理する際に、1秒間に発生した利用できない例外の数。
      </td>
    </tr>
  </tbody>
</table>

### Cassandraのカラム・ファミリーのメトリクスとメタデータ [#column-fam-metrics]

Cassandra統合は、列ファミリーのメトリックを取得します。Cassandra[列ファミリーデータ](#column-fam-metrics)は`CassandraColumnFamilySample`イベントタイプに付加されます。システムのキースペース（ `system` 、 `system_auth` 、 `system_distributed` 、 `system_schema` 、 `system_traces` 、および`OpsCenter` ）をスキップします。パフォーマンスへの影響を制限するために、統合では最大20の列ファミリーのメトリックのみがキャプチャされます。

以下のメタデータは、サンプルメトリクスに関連するキースペースとカラムファミリーを示しています。

<table>
  <thead>
    <tr>
      <th style={{ width: "350px" }}>
        名前
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `db.columnFamily`
      </td>

      <td>
        これらのメトリクスが参照するCassandraのカラム・ファミリー。
      </td>
    </tr>

    <tr>
      <td>
        `db.keyspace`
      </td>

      <td>
        このカラム・ファミリーを含むCassandraのキースペース。
      </td>
    </tr>

    <tr>
      <td>
        `db.keyspaceAndColumnFamily`
      </td>

      <td>
        次の形式の単一のメタデータ属性のキースペースと列ファミリー： `keyspace` 。 `columnFamily` 。
      </td>
    </tr>
  </tbody>
</table>

以下のメトリクスのリストは、上記のメタデータで指定された特定のキースペースとカラムファミリーを参照しています。

<table>
  <thead>
    <tr>
      <th style={{ width: "350px" }}>
        名前
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `db.allMemtablesOffHeapSizeBytes`
      </td>

      <td>
        オフヒープに存在するmemtables（2iおよび保留中のフラッシュmemtablesを含む）に格納されているバイトの合計数。
      </td>
    </tr>

    <tr>
      <td>
        `db.allMemtablesOnHeapSizeBytes`
      </td>

      <td>
        オンヒープに存在するmemtables（2iおよび保留中のフラッシュmemtablesを含む）に格納されているバイト数の合計。
      </td>
    </tr>

    <tr>
      <td>
        `db.liveDiskSpaceUsedBytes`
      </td>

      <td>
        このカラム・ファミリーに属するSSTableが使用するディスク容量（単位：バイト）。
      </td>
    </tr>

    <tr>
      <td>
        `db.liveSSTableCount`
      </td>

      <td>
        このカラム・ファミリーのディスク上のSSTableの数。
      </td>
    </tr>

    <tr>
      <td>
        `db.pendingCompactions`
      </td>

      <td>
        このカラムファミリーの保留中の圧縮数の推定値。
      </td>
    </tr>

    <tr>
      <td>
        `db.SSTablesPerRead50thPercentileMilliseconds`
      </td>

      <td>
        読み取りごとにアクセスされるsstableデータファイルの数、50パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `db.SSTablesPerRead75thPercentileMilliseconds`
      </td>

      <td>
        読み取りごとにアクセスされるsstableデータファイルの数、75パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `db.SSTablesPerRead95thPercentileMilliseconds`
      </td>

      <td>
        読み取りごとにアクセスされるsstableデータファイルの数、95パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `db.SSTablesPerRead98thPercentileMilliseconds`
      </td>

      <td>
        読み取りごとにアクセスされるsstableデータファイルの数、98パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `db.SSTablesPerRead999thPercentileMilliseconds`
      </td>

      <td>
        読み取りごとにアクセスされるsstableデータファイルの数、999パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `db.SSTablesPerRead99thPercentileMilliseconds`
      </td>

      <td>
        読み取りごとにアクセスされるsstableデータファイルの数、99パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `query.readLatency50thPercentileMilliseconds`
      </td>

      <td>
        このカラムファミリーのローカルリードレイテンシー（ミリ秒）、50パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `query.readLatency75thPercentileMilliseconds`
      </td>

      <td>
        このカラムファミリーのローカルリードレイテンシー（ミリ秒）、75パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `query.readLatency95thPercentileMilliseconds`
      </td>

      <td>
        このカラムファミリーのローカルリードレイテンシー（ミリ秒）、95パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `query.readLatency98thPercentileMilliseconds`
      </td>

      <td>
        このカラムファミリーのローカルリードレイテンシー（ミリ秒）、98パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `query.readLatency999thPercentileMilliseconds`
      </td>

      <td>
        このカラムファミリーのローカルリードレイテンシー（ミリ秒）、999パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `query.readLatency99thPercentileMilliseconds`
      </td>

      <td>
        このカラムファミリーのローカルリードレイテンシー（ミリ秒）、99パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `query.readRequestsPerSecond`
      </td>

      <td>
        このカラム・ファミリーの1秒あたりのリード・リクエストの数。
      </td>
    </tr>

    <tr>
      <td>
        `query.writeLatency50thPercentileMilliseconds`
      </td>

      <td>
        このカラムファミリのローカル書き込みレイテンシー（ミリ秒）、50パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `query.writeLatency75thPercentileMilliseconds`
      </td>

      <td>
        このカラムファミリのローカル書き込みレイテンシ（ミリ秒）、75パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `query.writeLatency95thPercentileMilliseconds`
      </td>

      <td>
        このカラムファミリのローカル書き込みレイテンシ（ミリ秒）、95パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `query.writeLatency98thPercentileMilliseconds`
      </td>

      <td>
        このカラムファミリーのローカル書き込みレイテンシー（ミリ秒）、98パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `query.writeLatency999thPercentileMilliseconds`
      </td>

      <td>
        このカラムファミリのローカル書き込みレイテンシー（ミリ秒）、999パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `query.writeLatency99thPercentileMilliseconds`
      </td>

      <td>
        このカラムファミリのローカル書き込みレイテンシ（ミリ秒）、99パーセンタイル。
      </td>
    </tr>

    <tr>
      <td>
        `query.writeRequestsPerSecond`
      </td>

      <td>
        このカラムファミリーの1秒あたりの書き込み要求数。
      </td>
    </tr>
  </tbody>
</table>

## インベントリ

[この統合では、Cassandraの構成で定義された構成オプションを取得し、New Relic UI](/docs/find-use-infrastructure-integration-data) のインベントリデータとして報告します。

## システムメタデータ [#metadata]

また、Cassandraの統合では、サービスとその構成に関するこれらの [属性](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#attribute) を収集します。

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        名前
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `software.version`
      </td>

      <td>
        カサンドラのバージョンです。
      </td>
    </tr>

    <tr>
      <td>
        `cluster.name`
      </td>

      <td>
        このCassandraノードが属するクラスターの名前。
      </td>
    </tr>
  </tbody>
</table>

## ソースコードを確認してください [#source-code]

このインテグレーションはオープンソースソフトウェアです。つまり、[ソースコードを参照](https://github.com/newrelic/nri-apache/)して改善を送信したり、独自のフォークを作成して構築したりできます。
