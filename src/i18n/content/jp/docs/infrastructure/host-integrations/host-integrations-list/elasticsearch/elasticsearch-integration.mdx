---
title: Elasticsearchモニタリングの統合
tags:
  - Integrations
  - On-host integrations
  - On-host integrations list
metaDescription: 'New Relic''s Elasticsearch integration: what data it reports and how to configure it.'
freshnessValidatedDate: never
translationType: machine
---

Elasticsearchインテグレーションは、 [Elasticsearch](https://www.elastic.co/) クラスターからインベントリとメトリクスを収集し、弊社のプラットフォームへ送信します。これにより、お客様はElasticsearch環境の健全性を確認することができます。クラスタ、ノード、インデックスの各レベルでメトリックスを収集するため、問題の原因をより簡単に見つけることができます。

Elasticsearch monitoring integrationをインストールするには、以下のステップを実行します。

1. [インテグレーションのインストールとアクティブ化](#install)。
2. [インテグレーションの設定](#config)。
3. [データの検索と使用](#find-and-use)。
4. オプションで、 [Elasticsearchの構成設定](/docs/infrastructure/host-integrations/host-integrations-list/elasticsearch/elasticsearch-config)を参照してください。

## 互換性と要件 [#req]

### Elasticsearchのバージョン [#elasticsearch-versions]

この統合は、Elasticsearch 7.x から 8.X までと互換性があります。

### Elasticsearchユーザー

統合には、クラスタ全体とすべてのインデックスに対する`monitor`権限を持つElasticsearchユーザーが必要です。 詳細については、 [「Elasticsearch ユーザー認証」](https://www.elastic.co/guide/en/elasticsearch/reference/current/authorization.html)を参照してください。

### 対応するオペレーティング・システム [#supported-os]

* Windows<img style={{ width: '32px', height: '32px'}} class="inline" title="Windows" alt="Windows" src="/images/os_icon_windows.webp" />
* リナックス<img style={{ width: '32px', height: '32px'}} class="inline" title="Linux" alt="Linux" src="/images/os_icon_linux.webp" />

特定のWindowsおよびLinuxバージョンの包括的なリストについては、 [互換性のあるオペレーティングシステム](/docs/infrastructure/install-infrastructure-agent/get-started/requirements-infrastructure-agent/#operating-systems)の表を確認してください。

### システム要求 [#system-reqs]

* NewRelicアカウント。持っていませんか？[無料でお申し込み頂けます！](https://newrelic.com/signup)クレジットカードは必要ありません。

* ElasticsearchがKubernetesやAmazon ECS上で稼働していない場合、 [Elasticsearchが稼働しているホストにインフラストラクチャエージェント](/docs/infrastructure/install-infrastructure-agent/get-started/install-infrastructure-agent-new-relic) をインストールします。それ以外の場合は

  * 実行中の場合<img style={{ width: '32px', height: '32px'}} class="inline" title="Kubernetes" alt="Kubernetes" src="/images/os_icon_k8.webp" />Kubernetes、 [これらの要件](/docs/monitor-service-running-kubernetes#requirements)を参照してください。
  * 実行中の場合<img style={{ width: '32px', height: '32px'}} class="inline" title="ECS" alt="ECS" src="/images/os_icon_ecs.webp" />Amazon ECS、 [これらの要件](/docs/integrations/host-integrations/host-integrations-list/monitor-services-running-amazon-ecs)を参照してください。

## インテグレーションのインストールとアクティブ化 [#install]

Elasticsearch統合をインストールするには、ご使用の環境の指示に従ってください。

### Linuxのインストール [#linux]

1. [統合のインストール](/docs/install-integrations-package)手順に従い、 `INTEGRATION_FILE_NAME`変数を`nri-elasticsearch`に置き換えます。

2. を実行して、integrationsのコンフィギュレーション・フォルダーにディレクトリを変更します。

   ```shell
   cd /etc/newrelic-infra/integrations.d
   ```

3. 以下を実行して、サンプルの設定ファイルをコピーします。

   ```shell
   sudo cp elasticsearch-config.yml.sample elasticsearch-config.yml
   ```

4. お気に入りのエディタで `elasticsearch-config.yml` 構成ファイルを編集します。[構成ファイルの例を](#examples)いくつか確認してください。

5. Elasticsearchのエラーログの自動解析と転送を有効にするには、 `elasticsearch-log.yml.example`ファイルを`elasticsearch-log.yml`にコピー（または名前変更）します。エージェントを再起動する必要はありません。

<DNT>
  **Example**
</DNT>

```shell
sudo cp /etc/newrelic-infra/logging.d/elasticsearch-log.yml.example /etc/newrelic-infra/logging.d/elasticsearch-log.yml
```

### その他の環境 [#other-env]

<CollapserGroup>
  <Collapser
    id="windows-install"
    title={<><img src="/images/os_icon_windows.webp" title="Windows installation" alt="Windows installation" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }} /></>
    }
  >
    1. `nri-elasticsearch` .MSIインストーラーイメージを以下からダウンロードします。

       [https://download.newrelic.com/infrastructure\_agent/windows/integrations/nri-elasticsearch/nri-elasticsearch-amd64.msi](https://download.newrelic.com/infrastructure_agent/windows/integrations/nri-elasticsearch/nri-elasticsearch-amd64.msi)

    2. Windowsコマンドプロンプトからインストールするには、次のコマンドを実行します。

       ```
       msiexec.exe /qn /i PATH\TO\nri-elasticsearch-amd64.msi
       ```

    3. 統合のディレクトリ`C:\Program Files\New Relic\newrelic-infra\integrations.d\`で、次のコマンドを実行してサンプル構成ファイルのコピーを作成します。

       ```
       cp elasticsearch-config.yml.sample elasticsearch-config.yml
       ```

    4. [Elasticsearch-config.ymlサンプルファイルの](#examples)説明に従って、 `elasticsearch-config.yml`ファイルを編集します。
  </Collapser>

  <Collapser
    id="ecs-install"
    title={<>
      <img src="/images/os_icon_ecs.webp" title="Amazon ECS installation" alt="Amazon ECS installation" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }} />

      \{' '} Amazon ECS インストレーション
    </>
    }
  >
    [ECSで実行されているモニターサービスを](/docs/integrations/host-integrations/host-integrations-list/monitor-services-running-amazon-ecs)参照してください。
  </Collapser>

  <Collapser
    id="k8s-install"
    title={<><img src="/images/os_icon_k8.webp" title="Kubernetes installation" alt="Kubernetes installation" style={{ height: '32px', width: '32px', verticalAlign: 'middle' }} />Kubernetes</>
    }
  >
    [Kubernetesで実行されているモニターサービスを](/docs/monitor-service-running-kubernetes)参照してください。
  </Collapser>
</CollapserGroup>

その他の注意事項：

* <DNT>**Advanced:**</DNT> インテグレーションは、パッケージマネージャの外部にインストールできるように、 [tarball 形式](/docs/integrations/host-integrations/installation/install-host-integrations-built-new-relic#tarball)でも利用できます。
* <DNT>**On-host integrations do not automatically update.**</DNT> 最善の結果を得るため、[インテグレーションパッケージの更新](/docs/integrations/host-integrations/installation/update-infrastructure-host-integration-package)と[Infrastructureエージェントの更新](/docs/infrastructure/new-relic-infrastructure/installation/update-infrastructure-agent)を定期的に実施してください。

<InstallFeedback />

## 統合を構成する [#config]

インストール方法に応じて、統合を構成する方法はいくつかあります。

* 有効にした場合<img style={{ width: '32px', height: '32px'}} class="inline" title="Kubernetes" alt="Kubernetes" src="/images/os_icon_k8.webp" />Kubernetes、[Kubernetesで実行されているサービスを監視するをご覧ください](/docs/monitor-service-running-kubernetes)。
* 有効にした場合<img style={{ width: '32px', height: '32px'}} class="inline" title="ECS" alt="ECS" src="/images/os_icon_ecs.webp" />Amazon ECS 、 [ECSで実行されているサービスを監視する](/docs/integrations/host-integrations/host-integrations-list/monitor-services-running-amazon-ecs)。
* ホストにインストールされている場合は、統合のYAML構成ファイル`elasticsearch-config.yml`の構成を編集します。統合のYAML形式の構成では、必要なログインクレデンシャルを配置し、データの収集方法を構成できます。どのオプションを変更するかは、設定と設定によって異なります。構成ファイルには、 `interval` 、 `timeout` 、 `inventory_source`など、すべての統合に適用できる共通の設定があります。これらの一般的な設定についてすべて読むには、 [構成フォーマット](/docs/create-integrations/infrastructure-integrations-sdk/specifications/host-integrations-newer-configuration-format/#configuration-basics)のドキュメントを参照してください。

<Callout variant="important">
  従来の設定ファイルや定義ファイルをお使いの場合は、 [標準設定フォーマット](/docs/create-integrations/infrastructure-integrations-sdk/specifications/host-integrations-standard-configuration-format/) をご確認ください。
</Callout>

## elasticsearch-config.yml サンプルファイル [#examples]

<CollapserGroup>
  <Collapser id="basic-config" title="基本構成">
    これは、ローカルホストからメトリックとインベントリを収集するために使用される基本構成です。

    ```yaml
    integrations:
      - name: nri-elasticsearch
        env:
          HOSTNAME: localhost
          PORT: 9200
          USERNAME: elasticsearch_user
          PASSWORD: elasticsearch_password
          CONFIG_PATH: /etc/elasticsearch/elasticsearch.yml
        interval: 15s
        labels:
          environment: production
        inventory_source: config/elasticsearch
    ```
  </Collapser>

  <Collapser id="basic-intervals" title="メトリックとインベントリの間隔が異なる基本構成">
    この構成では、15秒ごとにメトリックを収集し、60秒ごとにインベントリを収集します。

    ```yaml
    integrations:
      - name: nri-elasticsearch
        env:
          METRICS: true
          HOSTNAME: localhost
          PORT: 9200
          USERNAME: elasticsearch_user
          PASSWORD: elasticsearch_password
          REMOTE_MONITORING: true
        interval: 15s
        labels:
          environment: production

      - name: nri-elasticsearch
        env:
          INVENTORY: true
          HOSTNAME: localhost
          PORT: 9200
          USERNAME: elasticsearch_user
          PASSWORD: elasticsearch_password
          CONFIG_PATH: /etc/elasticsearch/elasticsearch.yml
        interval: 60s
        labels:
          environment: production
        inventory_source: config/elasticsearch
    ```
  </Collapser>

  <Collapser id="envvar-replacement" title="環境変数の置換">
    この構成では、環境変数`ELASTIC_HOST`を使用して、統合のHOSTNAME設定を設定しています。

    ```yaml
    integrations:
      - name: nri-elasticsearch
        env:
          METRICS: "true"
          HOSTNAME: {{ELASTIC_HOST}}
          PORT: 9200
          USERNAME: elasticsearch_user
          PASSWORD: elasticsearch_password
        interval: 15s
        labels:
          env: production
          role: load_balancer
    ```
  </Collapser>

  <Collapser id="multi-instance" title="クラスタ監視">
    この統合では、ノードの 1 つに接続するだけで、クラスターからすべてのメトリックを収集できます。すべてのクラスター メトリックをスクレイピングする前に示した基本構成を使用します。

    統合を構成するもう 1 つの方法は、すべてのインスタンスのスクレイプを構成することですが、スクレイピングされたインスタンスがマスターである場合にのみ統合がメトリックを収集するようにする `MASTER_ONLY` パラメータを有効にします。これにより、すべてのノードで同じ構成を共有し、データの重複を避けることができます。\
    各ノードの構成ファイルは次のようになります。

    ```yaml
    integrations:
      - name: nri-elasticsearch
        env:
          HOSTNAME: localhost
          PORT: 9200
          USERNAME: elasticsearch_user
          PASSWORD: elasticsearch_password
          MASTER_ONLY: "true"
          CONFIG_PATH: /etc/elasticsearch/elasticsearch.yml
        interval: 15s
        labels:
          environment: production
        inventory_source: config/elasticsearch
    ```
  </Collapser>
</CollapserGroup>

## 統合のための構成オプション [#config-options]

データを検索して使用する方法の詳細については、 [Elasticsearchの構成設定](/docs/infrastructure/host-integrations/host-integrations-list/elasticsearch/elasticsearch-config)を参照してください。

## データを見つけて使用する [#find-and-use]

このサービスからのデータは、 [統合ダッシュボード](/docs/integrations/new-relic-integrations/getting-started/infrastructure-integration-dashboards-charts)に報告されます。

Elasticsearchデータは、次の[イベントタイプ](/docs/using-new-relic/data/understand-data/new-relic-data-types#events-new-relic)に添付されます。

* [`ElasticsearchClusterSample`](#cluster-metrics)
* [`ElasticsearchNodeSample`](#node-metrics)
* [`ElasticsearchCommonSample`](#common-metrics)
* [`ElasticsearchIndexSample`](#index-metrics)

トラブルシューティングの目的で、またはカスタムチャートとダッシュボードを作成するために、[このデータをクエリ](/docs/using-new-relic/data/understand-data/query-new-relic-data)できます。

データを検索して使用する方法の詳細については、[統合データを理解する](/docs/infrastructure/integrations/find-use-infrastructure-integration-data)方法を参照してください。

## 統合によって収集されたメトリック [#metrics]

Elasticsearch統合は、次のメトリックを収集します。各メトリック名の前には、カテゴリインジケーターとピリオド（ `cluster.`や`shards.`など）が付いています。

<CollapserGroup>
  <Collapser id="cluster-metrics" title="ElasticsearchClusterSampleイベント">
    <table>
      <thead>
        <tr>
          <th style={{ width: "350px" }}>
            メトリック
          </th>

          <th>
            説明
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `cluster.dataNodes`
          </td>

          <td>
            クラスター内のデータノードの数。
          </td>
        </tr>

        <tr>
          <td>
            `cluster.nodes`
          </td>

          <td>
            クラスター内のノードの数。
          </td>
        </tr>

        <tr>
          <td>
            `cluster.status`
          </td>

          <td>
            Elasticsearchクラスターのヘルス： `red` 、 `yellow` 、または`green` 。
          </td>
        </tr>

        <tr>
          <td>
            `shards.active`
          </td>

          <td>
            クラスタ内のアクティブなシャードの数。
          </td>
        </tr>

        <tr>
          <td>
            `shards.initializing`
          </td>

          <td>
            現在初期化中のシャードの数。
          </td>
        </tr>

        <tr>
          <td>
            `shards.primaryActive`
          </td>

          <td>
            クラスタ内のアクティブなプライマリシャードの数。
          </td>
        </tr>

        <tr>
          <td>
            `shards.relocating`
          </td>

          <td>
            あるノードから別のノードに再配置されているシャードの数。
          </td>
        </tr>

        <tr>
          <td>
            `shards.unassigned`
          </td>

          <td>
            ノードに割り当てられていないシャードの数。
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="node-metrics" title="ElasticsearchNodeSampleイベント">
    <table>
      <thead>
        <tr>
          <th style={{ width: "350px" }}>
            メトリック
          </th>

          <th>
            説明
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `activeSearches`
          </td>

          <td>
            アクティブな検索の数。
          </td>
        </tr>

        <tr>
          <td>
            `activeSearchesInMilliseconds`
          </td>

          <td>
            検索フェッチに費やされた時間。
          </td>
        </tr>

        <tr>
          <td>
            `breakers.estimatedSizeFieldDataCircuitBreakerInBytes`
          </td>

          <td>
            フィールドデータサーキットブレーカの推定サイズ（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `breakers.estimatedSizeParentCircuitBreakerInBytes`
          </td>

          <td>
            親回路ブレーカーの推定サイズ（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `breakers.estimatedSizeRequestCircuitBreakerInBytes`
          </td>

          <td>
            要求回路ブレーカーの推定サイズ（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `breakers.fieldDataCircuitBreakerTripped`
          </td>

          <td>
            フィールドデータ回路ブレーカーがトリップした回数。
          </td>
        </tr>

        <tr>
          <td>
            `breakers.parentCircuitBreakerTripped`
          </td>

          <td>
            親回路ブレーカーが作動した回数。
          </td>
        </tr>

        <tr>
          <td>
            `breakers.requestCircuitBreakerTripped`
          </td>

          <td>
            要求回路ブレーカーが作動した回数。
          </td>
        </tr>

        <tr>
          <td>
            `cache.cacheSizeIDInBytes`
          </td>

          <td>
            IDキャッシュのサイズ（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `flush.indexFlushDisk`
          </td>

          <td>
            開始以降にディスクにフラッシュされるインデックスの数。
          </td>
        </tr>

        <tr>
          <td>
            `flush.timeFlushIndexDiskInSeconds`
          </td>

          <td>
            インデックスをディスクにフラッシュするのに費やした時間。
          </td>
        </tr>

        <tr>
          <td>
            `fs.bytesAvailableJVMInBytes`
          </td>

          <td>
            このファイルストアでこのJava仮想マシンで使用可能なバイト数（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `fs.bytesReadsInBytes`
          </td>

          <td>
            ファイルストアから読み取られた合計バイト数（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `fs.bytesUserIoOperationsInBytes`
          </td>

          <td>
            ファイルストアでのすべてのI/O操作に使用された合計バイト数（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `fs.iOOperations`
          </td>

          <td>
            ファイルストアでのI/O操作の合計。
          </td>
        </tr>

        <tr>
          <td>
            `fs.reads`
          </td>

          <td>
            ファイルストアからの読み取りの総数。
          </td>
        </tr>

        <tr>
          <td>
            `fs.totalSizeInBytes`
          </td>

          <td>
            ファイルストアの合計サイズ（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `fs.unallocatedBytesInBytes`
          </td>

          <td>
            ファイルストア内の未割り当てバイトの総数（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `fs.writes`
          </td>

          <td>
            ファイルストアへの書き込みの総数。
          </td>
        </tr>

        <tr>
          <td>
            `fs.writesInBytes`
          </td>

          <td>
            ファイルストアに書き込まれた合計バイト数（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `get.currentRequestsRunning`
          </td>

          <td>
            現在実行中のgetリクエストの数。
          </td>
        </tr>

        <tr>
          <td>
            `get.requestsDocumentExists`
          </td>

          <td>
            ドキュメントが存在したgetリクエストの数。
          </td>
        </tr>

        <tr>
          <td>
            `get.requestsDocumentExistsInMilliseconds`
          </td>

          <td>
            ドキュメントが存在する場所でリクエストを取得するために費やされた時間。
          </td>
        </tr>

        <tr>
          <td>
            `get.requestsDocumentMissing`
          </td>

          <td>
            ドキュメントが欠落しているgetリクエストの数。
          </td>
        </tr>

        <tr>
          <td>
            `get.requestsDocumentMissingInMilliseconds`
          </td>

          <td>
            ドキュメントが欠落しているリクエストの取得に費やされた時間。
          </td>
        </tr>

        <tr>
          <td>
            `get.timeGetRequestsInMilliseconds`
          </td>

          <td>
            リクエストの取得に費やされた時間。
          </td>
        </tr>

        <tr>
          <td>
            `get.totalGetRequests`
          </td>

          <td>
            getリクエストの数。
          </td>
        </tr>

        <tr>
          <td>
            `http.currentOpenConnections`
          </td>

          <td>
            現在開いているHTTP接続の数。
          </td>
        </tr>

        <tr>
          <td>
            `http.openedConnections`
          </td>

          <td>
            開かれたHTTP接続の数。
          </td>
        </tr>

        <tr>
          <td>
            `indexing.docsCurrentlyDeleted`
          </td>

          <td>
            現在インデックスから削除されているドキュメントの数。
          </td>
        </tr>

        <tr>
          <td>
            `indexing.documentsCurrentlyIndexing`
          </td>

          <td>
            現在インデックスにインデックス付けされているドキュメントの数。
          </td>
        </tr>

        <tr>
          <td>
            `indexing.documentsIndexed`
          </td>

          <td>
            インデックスにインデックス付けされたドキュメントの数。
          </td>
        </tr>

        <tr>
          <td>
            `indexing.timeDeletingDocumentsInMilliseconds`
          </td>

          <td>
            インデックスからドキュメントを削除するために費やした時間。
          </td>
        </tr>

        <tr>
          <td>
            `indexing.timeIndexingDocumentsInMilliseconds`
          </td>

          <td>
            ドキュメントをインデックスにインデックス付けするのに費やした時間。
          </td>
        </tr>

        <tr>
          <td>
            `indexing.totalDocumentsDeleted`
          </td>

          <td>
            インデックスから削除されたドキュメントの数。
          </td>
        </tr>

        <tr>
          <td>
            `indices.indexingOperationsFailed`
          </td>

          <td>
            失敗したインデックス作成操作の数。
          </td>
        </tr>

        <tr>
          <td>
            `indices.indexingWaitedThrottlingInMilliseconds`
          </td>

          <td>
            スロットリングのためにインデックス作成が待機した時間。
          </td>
        </tr>

        <tr>
          <td>
            `indices.memoryQueryCacheInBytes`
          </td>

          <td>
            クエリキャッシュで使用されるメモリ（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `indices.numberIndices`
          </td>

          <td>
            ノードに割り当てられたすべてのプライマリシャードにわたるドキュメントの数。
          </td>
        </tr>

        <tr>
          <td>
            `indices.queryCacheEvictions`
          </td>

          <td>
            クエリキャッシュの削除の数。
          </td>
        </tr>

        <tr>
          <td>
            `indices.queryCacheHits`
          </td>

          <td>
            クエリキャッシュヒットの数。
          </td>
        </tr>

        <tr>
          <td>
            `indices.queryCacheMisses`
          </td>

          <td>
            クエリキャッシュミスの数。
          </td>
        </tr>

        <tr>
          <td>
            `indices.recoveryOngoingShardSource`
          </td>

          <td>
            シャードがソースとして機能する進行中のリカバリーの数。
          </td>
        </tr>

        <tr>
          <td>
            `indices.recoveryOngoingShardTarget`
          </td>

          <td>
            シャードがターゲットとして機能する進行中のリカバリーの数。
          </td>
        </tr>

        <tr>
          <td>
            `indices.recoveryWaitedThrottlingInMilliseconds`
          </td>

          <td>
            スロットルのためにリカバリーが待機した合計時間。
          </td>
        </tr>

        <tr>
          <td>
            `indices.requestCacheEvictions`
          </td>

          <td>
            リクエストキャッシュの削除の数。
          </td>
        </tr>

        <tr>
          <td>
            `indices.requestCacheHits`
          </td>

          <td>
            リクエストキャッシュヒットの数。
          </td>
        </tr>

        <tr>
          <td>
            `indices.requestCacheMemoryInBytes`
          </td>

          <td>
            要求キャッシュによって使用されるメモリ（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `indices.requestCacheMisses`
          </td>

          <td>
            リクエストキャッシュミスの数。
          </td>
        </tr>

        <tr>
          <td>
            `indices.segmentsIndexShard`
          </td>

          <td>
            インデックスシャード内のセグメントの数。
          </td>
        </tr>

        <tr>
          <td>
            `indices.segmentsMaxMemoryIndexWriterInBytes`
          </td>

          <td>
            インデックスライターが使用する最大メモリ（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `indices.segmentsMemoryUsedDocValuesInBytes`
          </td>

          <td>
            doc値によって使用されるメモリ（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `indices.segmentsMemoryUsedFixedBitSetInBytes`
          </td>

          <td>
            固定ビットセットで使用されるメモリ（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `indices.segmentsMemoryUsedIndexSegmentsInBytes`
          </td>

          <td>
            インデックスセグメントによって使用されるメモリ（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `indices.segmentsMemoryUsedIndexWriterInBytes`
          </td>

          <td>
            インデックスライターが使用するメモリ（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `indices.segmentsMemoryUsedNormsInBytes`
          </td>

          <td>
            normが使用するメモリ（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `indices.segmentsMemoryUsedSegmentVersionMapInBytes`
          </td>

          <td>
            セグメントバージョンマップで使用されるメモリ（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `indices.segmentsMemoryUsedStoredFieldsInBytes`
          </td>

          <td>
            格納されたフィールドによって使用されるメモリ（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `indices.segmentsMemoryUsedTermsInBytes`
          </td>

          <td>
            用語で使用されるメモリ（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `indices.segmentsMemoryUsedTermVectorsInBytes`
          </td>

          <td>
            用語ベクトルによって使用されるメモリ（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `indices.translogOperations`
          </td>

          <td>
            トランザクションログ内の操作の数。
          </td>
        </tr>

        <tr>
          <td>
            `indices.translogOperationsInBytes`
          </td>

          <td>
            トランザクションログのサイズ（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `jvm.gc.collections`
          </td>

          <td>
            JVMによって実行されるガベージコレクションの数。
          </td>
        </tr>

        <tr>
          <td>
            `jvm.gc.collectionsInMilliseconds`
          </td>

          <td>
            JVMでのガベージコレクションに費やされた時間。
          </td>
        </tr>

        <tr>
          <td>
            `jvm.gc.concurrentMarkSweep`
          </td>

          <td>
            JVM内の同時マーク＆スイープGCの数。
          </td>
        </tr>

        <tr>
          <td>
            `jvm.gc.concurrentMarkSweepInMilliseconds`
          </td>

          <td>
            JVMでのマークとスイープの同時GCに費やされた時間。
          </td>
        </tr>

        <tr>
          <td>
            `jvm.gc.majorCollectionsOldGenerationObjects`
          </td>

          <td>
            古い世代のオブジェクトを収集するJVM内の主要なGCの数。
          </td>
        </tr>

        <tr>
          <td>
            `jvm.gc.majorCollectionsOldGenerationObjectsInMilliseconds`
          </td>

          <td>
            古い世代のオブジェクトを収集するJVMの主要なGCで費やされた時間。
          </td>
        </tr>

        <tr>
          <td>
            `jvm.gc.minorCollectionsYoungGenerationObjects`
          </td>

          <td>
            若い世代のオブジェクトを収集するJVM内のマイナーGCの数。
          </td>
        </tr>

        <tr>
          <td>
            `jvm.gc.minorCollectionsYoungGenerationObjectsInMilliseconds`
          </td>

          <td>
            若い世代のオブジェクトを収集するJVMのマイナーGCで費やされた時間。
          </td>
        </tr>

        <tr>
          <td>
            `jvm.gc.parallelNewCollections`
          </td>

          <td>
            JVM内の並列の新しいGCの数。
          </td>
        </tr>

        <tr>
          <td>
            `jvm.gc.parallelNewCollectionsInMilliseconds`
          </td>

          <td>
            JVMで並列の新しいGCに費やされた時間。
          </td>
        </tr>

        <tr>
          <td>
            `jvm.mem.heapCommittedInBytes`
          </td>

          <td>
            JVMヒープで使用可能であることが保証されているメモリの量（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `jvm.mem.heapMaxInBytes`
          </td>

          <td>
            JVMヒープで使用できるメモリの最大量（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `jvm.mem.heapUsed`
          </td>

          <td>
            `0`から`1`までの値としてJVMヒープによって現在使用されているメモリのパーセンテージ。
          </td>
        </tr>

        <tr>
          <td>
            `jvm.mem.heapUsedInBytes`
          </td>

          <td>
            JVMヒープによって現在使用されているメモリの量（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `jvm.mem.maxOldGenerationHeapInBytes`
          </td>

          <td>
            旧世代のヒープで使用できるメモリの最大量（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `jvm.mem.maxSurvivorSpaceInBytes`
          </td>

          <td>
            サバイバースペースが使用できるメモリの最大量（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `jvm.mem.maxYoungGenerationHeapInBytes`
          </td>

          <td>
            若い世代のヒープで使用できるメモリの最大量（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `jvm.mem.nonHeapCommittedInBytes`
          </td>

          <td>
            JVM非ヒープで使用可能であることが保証されているメモリの量（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `jvm.mem.nonHeapUsedInBytes`
          </td>

          <td>
            JVM非ヒープによって現在使用されているメモリの量（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `jvm.mem.usedOldGenerationHeapInBytes`
          </td>

          <td>
            旧世代のヒープで現在使用されているメモリの量（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `jvm.mem.usedSurvivorSpaceInBytes`
          </td>

          <td>
            サバイバースペースによって現在使用されているメモリの量（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `jvm.mem.usedYoungGenerationHeapInBytes`
          </td>

          <td>
            若い世代のヒープで現在使用されているメモリの量（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `jvm.ThreadsActive`
          </td>

          <td>
            JVM内のアクティブなスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `jvm.ThreadsPeak`
          </td>

          <td>
            JVMによって使用されるスレッドのピーク数。
          </td>
        </tr>

        <tr>
          <td>
            `merges.currentActive`
          </td>

          <td>
            現在アクティブなセグメントのマージの数。
          </td>
        </tr>

        <tr>
          <td>
            `merges.docsSegmentsMerging`
          </td>

          <td>
            現在マージされているセグメント全体のドキュメントの数。
          </td>
        </tr>

        <tr>
          <td>
            `merges.docsSegmentMerges`
          </td>

          <td>
            マージされたすべてのセグメントにわたるドキュメントの数。
          </td>
        </tr>

        <tr>
          <td>
            `merges.mergedSegmentsInBytes`
          </td>

          <td>
            マージされたすべてのセグメントのサイズ（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `merges.segmentMerges`
          </td>

          <td>
            セグメントのマージ数。
          </td>
        </tr>

        <tr>
          <td>
            `merges.sizeSegmentsMergingInBytes`
          </td>

          <td>
            現在マージされているセグメントのサイズ（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `merges.totalSegmentMergingInMilliseconds`
          </td>

          <td>
            セグメントのマージに費やされた時間。
          </td>
        </tr>

        <tr>
          <td>
            `openFD`
          </td>

          <td>
            現在のプロセスに関連付けられている開いているファイル記述子の数。サポートされていない場合は`-1` 。
          </td>
        </tr>

        <tr>
          <td>
            `queriesTotal`
          </td>

          <td>
            クエリの数。
          </td>
        </tr>

        <tr>
          <td>
            `refresh.total`
          </td>

          <td>
            インデックスの更新回数。
          </td>
        </tr>

        <tr>
          <td>
            `refresh.totalInMilliseconds`
          </td>

          <td>
            インデックスの更新に費やされた時間。
          </td>
        </tr>

        <tr>
          <td>
            `searchFetchCurrentlyRunning`
          </td>

          <td>
            現在実行中の検索フェッチの数。
          </td>
        </tr>

        <tr>
          <td>
            `searchFetches`
          </td>

          <td>
            検索フェッチの数。
          </td>
        </tr>

        <tr>
          <td>
            `sizeStoreInBytes`
          </td>

          <td>
            ストアのサイズ（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.bulk.Queue`
          </td>

          <td>
            バルクプール内のキューに入れられたスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.bulkActive`
          </td>

          <td>
            バルクプール内のアクティブなスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.bulkRejected`
          </td>

          <td>
            バルクプール内の拒否されたスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.bulkThreads`
          </td>

          <td>
            バルクプール内のスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.fetchShardStartedQueue`
          </td>

          <td>
            フェッチシャード開始プール内のキューに入れられたスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.fetchShardStartedRejected`
          </td>

          <td>
            フェッチシャード開始プール内の拒否されたスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.fetchShardStartedThreads`
          </td>

          <td>
            フェッチシャードが開始したプール内のスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.fetchShardStoreActive`
          </td>

          <td>
            フェッチシャードストアプール内のアクティブなスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.fetchShardStoreQueue`
          </td>

          <td>
            フェッチシャードストアプール内のキューに入れられたスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.fetchShardStoreRejected`
          </td>

          <td>
            フェッチシャードストアプールで拒否されたスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.fetchShardStoreThreads`
          </td>

          <td>
            フェッチシャードストアプール内のスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.flushActive`
          </td>

          <td>
            フラッシュキュー内のアクティブなスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.flushQueue`
          </td>

          <td>
            フラッシュプール内のキューに入れられたスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.flushRejected`
          </td>

          <td>
            フラッシュプールで拒否されたスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.flushThreads`
          </td>

          <td>
            フラッシュプール内のスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.forceMergeActive`
          </td>

          <td>
            強制マージ操作のアクティブなスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.forceMergeQueue`
          </td>

          <td>
            強制マージ操作のためにキューに入れられたスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.forceMergeRejected`
          </td>

          <td>
            強制マージ操作で拒否されたスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.forceMergeThreads`
          </td>

          <td>
            強制マージ操作のスレッド数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.genericActive`
          </td>

          <td>
            汎用プール内のアクティブなスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.genericQueue`
          </td>

          <td>
            汎用プール内のキューに入れられたスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.genericRejected`
          </td>

          <td>
            汎用プールで拒否されたスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.genericThreads`
          </td>

          <td>
            汎用プール内のスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.getActive`
          </td>

          <td>
            getプール内のアクティブなスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.getQueue`
          </td>

          <td>
            getプール内のキューに入れられたスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.getRejected`
          </td>

          <td>
            getプール内の拒否されたスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.getThreads`
          </td>

          <td>
            getプール内のスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.listenerActive`
          </td>

          <td>
            リスナー プール内のアクティブなスレッドの数。<br /> (Elasticsearch 8 では非推奨)
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.listenerQueue`
          </td>

          <td>
            リスナー プール内のキューに入れられたスレッドの数。<br /> (Elasticsearch 8 では非推奨)
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.listenerRejected`
          </td>

          <td>
            リスナー プールで拒否されたスレッドの数。<br /> (Elasticsearch 8 では非推奨)
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.listenerThreads`
          </td>

          <td>
            リスナー プール内のスレッドの数。<br /> (Elasticsearch 8 では非推奨)
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.managementActive`
          </td>

          <td>
            管理プール内のアクティブなスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.managementQueue`
          </td>

          <td>
            管理プール内のキューに入れられたスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.managementRejected`
          </td>

          <td>
            管理プールで拒否されたスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.managementThreads`
          </td>

          <td>
            管理プール内のスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.mergeActive`
          </td>

          <td>
            マージプール内のアクティブなスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.mergeQueue`
          </td>

          <td>
            マージプール内のキューに入れられたスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.mergeRejected`
          </td>

          <td>
            マージプールで拒否されたスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.mergeThreads`
          </td>

          <td>
            マージプール内のスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.percolateActive`
          </td>

          <td>
            パーコレートプール内のアクティブなスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.percolateQueue`
          </td>

          <td>
            パーコレートプール内のキューに入れられたスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.percolateRejected`
          </td>

          <td>
            パーコレートプール内の拒否されたスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.percolateThreads`
          </td>

          <td>
            パーコレートプール内のスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.refreshActive`
          </td>

          <td>
            リフレッシュプール内のアクティブなスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.refreshQueue`
          </td>

          <td>
            リフレッシュプール内のキューに入れられたスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.refreshRejected`
          </td>

          <td>
            リフレッシュプール内の拒否されたスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.refreshThreads`
          </td>

          <td>
            リフレッシュプール内のスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.searchActive`
          </td>

          <td>
            検索プール内のアクティブなスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.searchQueue`
          </td>

          <td>
            検索プール内のキューに入れられたスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.searchRejected`
          </td>

          <td>
            検索プールで拒否されたスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.searchThreads`
          </td>

          <td>
            検索プール内のスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.snapshotActive`
          </td>

          <td>
            スナップショットプール内のアクティブなスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.snapshotQueue`
          </td>

          <td>
            スナップショットプール内のキューに入れられたスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.snapshotRejected`
          </td>

          <td>
            スナップショットプールで拒否されたスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.snapshotThreads`
          </td>

          <td>
            スナップショットプール内のスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `threadpool.activeFetchShardStarted`
          </td>

          <td>
            フェッチシャード開始プール内のアクティブなスレッドの数。
          </td>
        </tr>

        <tr>
          <td>
            `transport.connectionsOpened`
          </td>

          <td>
            クラスタ通信のために開かれた接続の数。
          </td>
        </tr>

        <tr>
          <td>
            `transport.packetsReceived`
          </td>

          <td>
            クラスタ通信で受信されたパケットの数。
          </td>
        </tr>

        <tr>
          <td>
            `transport.packetsReceivedInBytes`
          </td>

          <td>
            クラスタ通信で受信されるデータのサイズ（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `transport.packetsSent`
          </td>

          <td>
            クラスタ通信で送信されたパケットの数。
          </td>
        </tr>

        <tr>
          <td>
            `transport.packetsSentInBytes`
          </td>

          <td>
            クラスタ通信で送信されるデータのサイズ（バイト単位）。
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="common-metrics" title="ElasticsearchCommonSampleイベント">
    <table>
      <thead>
        <tr>
          <th style={{ width: "350px" }}>
            メトリック
          </th>

          <th>
            説明
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `primaries.docsDeleted`
          </td>

          <td>
            プライマリシャードから削除されたドキュメントの数。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.docsnumber`
          </td>

          <td>
            プライマリシャード内のドキュメントの数。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.flushesTotal`
          </td>

          <td>
            開始以降のプライマリシャードからディスクへのインデックスフラッシュの数。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.flushTotalTimeInMilliseconds`
          </td>

          <td>
            プライマリシャードからディスクへのインデックスのフラッシュに費やされた時間。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.get.documentsExist`
          </td>

          <td>
            ドキュメントが存在したプライマリシャードでのgetリクエストの数。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.get.documentsExistInMilliseconds`
          </td>

          <td>
            ドキュメントが存在するプライマリシャードからリクエストを取得するために費やされた時間。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.get.documentsMissing`
          </td>

          <td>
            ドキュメントが欠落しているプライマリシャードからのgetリクエストの数。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.get.documentsMissingInMilliseconds`
          </td>

          <td>
            ドキュメントが欠落しているプライマリシャードからリクエストを取得するために費やされた時間。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.get.requests`
          </td>

          <td>
            プライマリシャードからのgetリクエストの数。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.get.requestsCurrent`
          </td>

          <td>
            プライマリシャードで現在実行されているgetリクエストの数。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.get.requestsInMilliseconds`
          </td>

          <td>
            プライマリシャードからのリクエストの取得に費やされた時間。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.index.docsCurrentlyDeleted`
          </td>

          <td>
            プライマリシャードのインデックスから現在削除されているドキュメントの数。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.index.docsCurrentlyDeletedInMilliseconds`
          </td>

          <td>
            プライマリシャードのインデックスからドキュメントを削除するために費やされた時間。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.index.docsCurrentlyIndexing`
          </td>

          <td>
            プライマリシャードのインデックスに現在インデックス付けされているドキュメントの数。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.index.docsCurrentlyIndexingInMilliseconds`
          </td>

          <td>
            プライマリシャードのインデックスにドキュメントのインデックスを作成するために費やした時間。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.index.docsDeleted`
          </td>

          <td>
            プライマリシャードのインデックスから削除されたドキュメントの数。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.index.docsTotal`
          </td>

          <td>
            プライマリシャードのインデックスにインデックス付けされたドキュメントの数。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.indexRefreshesTotal`
          </td>

          <td>
            プライマリシャードで更新されるインデックスの数。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.indexRefreshesTotalInMilliseconds`
          </td>

          <td>
            プライマリシャードのインデックス更新に費やされた時間。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.merges.current`
          </td>

          <td>
            現在アクティブなセグメントの数は、プライマリシャードでマージされます。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.merges.docsSegmentsCurrentlyMerged`
          </td>

          <td>
            プライマリシャードで現在マージされているセグメント全体のドキュメントの数。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.merges.docsTotal`
          </td>

          <td>
            プライマリシャード上のすべてのマージされたセグメントにわたるドキュメントの数。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.merges.SegmentsCurrentlyMergedInBytes`
          </td>

          <td>
            プライマリシャードで現在マージされているセグメントのサイズ（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.merges.SegmentsTotal`
          </td>

          <td>
            プライマリシャードでマージされるセグメントの数。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.merges.segmentsTotalInBytes`
          </td>

          <td>
            プライマリシャード上のすべてのマージされたセグメントのサイズ（バイト単位）。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.merges.segmentsTotalInMilliseconds`
          </td>

          <td>
            プライマリシャードでのセグメントのマージに費やされた時間。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.queriesInMilliseconds`
          </td>

          <td>
            プライマリシャードのクエリに費やされた時間。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.queriesTotal`
          </td>

          <td>
            プライマリシャードへのクエリの数。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.queryActive`
          </td>

          <td>
            プライマリシャードで現在アクティブなクエリの数。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.queryFetches`
          </td>

          <td>
            プライマリシャードで現在実行されているクエリフェッチの数。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.queryFetchesInMilliseconds`
          </td>

          <td>
            プライマリシャードでのクエリフェッチに費やされた時間。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.queryFetchesTotal`
          </td>

          <td>
            プライマリシャードでフェッチするクエリの数。
          </td>
        </tr>

        <tr>
          <td>
            `primaries.sizeInBytes`
          </td>

          <td>
            すべてのプライマリシャードのサイズ（バイト単位）。
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="index-metrics" title="ElasticsearchIndexSampleイベント">
    <table>
      <thead>
        <tr>
          <th style={{ width: "350px" }}>
            メトリック
          </th>

          <th>
            説明
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `index.docs`
          </td>

          <td>
            インデックス内のドキュメントの数。
          </td>
        </tr>

        <tr>
          <td>
            `index.docsDeleted`
          </td>

          <td>
            インデックス内の削除されたドキュメントの数。
          </td>
        </tr>

        <tr>
          <td>
            `index.health`
          </td>

          <td>
            インデックスのステータス： `red` 、 `yellow` 、または`green` 。
          </td>
        </tr>

        <tr>
          <td>
            `index.primaryShards`
          </td>

          <td>
            インデックス内のプライマリシャードの数。
          </td>
        </tr>

        <tr>
          <td>
            `index.primaryStoreSizeInBytes`
          </td>

          <td>
            インデックス内のプライマリシャードのストアサイズ。
          </td>
        </tr>

        <tr>
          <td>
            `index.replicaShards`
          </td>

          <td>
            インデックス内のレプリカシャードの数。
          </td>
        </tr>

        <tr>
          <td>
            `index.storeSizeInBytes`
          </td>

          <td>
            インデックス内のプライマリシャードとレプリカシャードのストアサイズ（バイト単位）。
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

Elasticsearch 統合はオープン ソース ソフトウェアです。つまり[、ソース コードを参照して](https://github.com/newrelic/nri-elasticsearch)改善を送信したり、独自のフォークを作成してビルドしたりできます。

### Elasticsearchインスタンスの設定 [#instance-settings]

`elasticsearch-config.yml`ファイルの`env`セクションを使用して、Elasticsearchに関連する特定の設定を定義できます。これらの設定は、Elasticsearchインスタンスへの接続、およびその他のセキュリティ設定と機能を制御します。

Elasticsearch インテグレーションは、メトリックスとインベントリ情報の両方を収集します。 表では、各コレクションで使用可能な設定については<DNT>**Applies to**</DNT>列を使用します。

&apos;&apos; &apos;&apos; &apos;&apos; &apos;&apos; &apos;&apos; &apos;&apos; &apos;&apos; &apos;&apos; &apos;&apos; &apos;&apos; &apos;&apos; &apos;&apos; &apos;&apos; &apos;&apos; &apos;&apos; &apos;&apos; &apos;&apos; &apos;&apos;

<table>
  <thead>
    <tr>
      <th style={{ width: '150px' }}>
        設定
      </th>

      <th>
        説明
      </th>

      <th>
        デフォルト
      </th>

      <th>
        に適用されます
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        <DNT>
          **HOSTNAME**
        </DNT>
      </td>

      <td>
        Elasticsearchが実行されているホスト名またはIP。
      </td>

      <td>
        ローカルホスト
      </td>

      <td style={{ "text-align": "center" }}>
        M / I
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **LOCAL\_HOSTNAME**
        </DNT>
      </td>

      <td>
        インベントリデータの収集元となるElasticsearchノードのホスト名またはIP。ローカルホストに対してインベントリデータを収集したくない場合にのみ設定する必要があります。
      </td>

      <td>
        ローカルホスト
      </td>

      <td style={{ 'text-align': 'center' }}>
        M
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **PORT**
        </DNT>
      </td>

      <td>
        Elasticsearchがリッスンしているポート。
      </td>

      <td>
        9200
      </td>

      <td style={{ 'text-align': 'center' }}>
        M / I
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **USERNAME**
        </DNT>
      </td>

      <td>
        ElasticsearchNodeにアクセスするためのユーザー名。
      </td>

      <td>
        該当なし
      </td>

      <td style={{ 'text-align': 'center' }}>
        M / I
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **PASSWORD**
        </DNT>
      </td>

      <td>
        指定されたユーザーのパスワード。
      </td>

      <td>
        該当なし
      </td>

      <td style={{ 'text-align': 'center' }}>
        M / I
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **CLUSTER\_ENVIRONMENT**
        </DNT>
      </td>

      <td>
        データを収集するクラスターをさらに指定する方法。例：「ステージング」。
      </td>

      <td>
        該当なし
      </td>

      <td style={{ 'text-align': 'center' }}>
        M / I
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **USE\_SSL**
        </DNT>
      </td>

      <td>
        Elasticsearchノードと通信するときにSSLを使用します。
      </td>

      <td>
        false
      </td>

      <td style={{ 'text-align': 'center' }}>
        M / I
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **CA\_BUNDLE\_FILE**
        </DNT>
      </td>

      <td>
        ホスト上のSSL証明書の場所。 `USE_SSL`がtrueの場合にのみ必要です。
      </td>

      <td>
        該当なし
      </td>

      <td style={{ 'text-align': 'center' }}>
        M / I
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **CA\_BUNDLE\_DIR**
        </DNT>
      </td>

      <td>
        代替認証局バンドルディレクトリ。
      </td>

      <td>
        該当なし
      </td>

      <td style={{ 'text-align': 'center' }}>
        M / I
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **SSL\_ALTERNATIVE\_HOSTNAME**
        </DNT>
      </td>

      <td>
        統合がSSLネゴシエーションの目的で有効として受け入れる代替サーバーのホスト名。
      </td>

      <td>
        該当なし
      </td>

      <td style={{ 'text-align': 'center' }}>
        M / I
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **TLS\_INSECURE\_SKIP\_VERIFY**
        </DNT>
      </td>

      <td>
        サーバーの証明書チェーンとホスト名の検証をスキップします。
      </td>

      <td>
        false
      </td>

      <td style={{ 'text-align': 'center' }}>
        M / I
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **CONFIG\_PATH**
        </DNT>
      </td>

      <td>
        Elasticsearch構成ファイルへのパス。
      </td>

      <td>
        /etc/elasticsearch/

        <br />

        エラスティックサーチ.yml
      </td>

      <td style={{ 'text-align': 'center' }}>
        私
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **TIMEOUT**
        </DNT>
      </td>

      <td>
        APIリクエストのタイムアウト（秒単位）。
      </td>

      <td>
        30
      </td>

      <td style={{ 'text-align': 'center' }}>
        M / I
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **COLLECT\_INDICES**
        </DNT>
      </td>

      <td>
        インデックスメトリックを収集するかどうかを通知します。
      </td>

      <td>
        true
      </td>

      <td style={{ 'text-align': 'center' }}>
        M
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **COLLECT\_PRIMARIES**
        </DNT>
      </td>

      <td>
        プライマリメトリックを収集するかどうかを通知します。
      </td>

      <td>
        true
      </td>

      <td style={{ 'text-align': 'center' }}>
        M
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **INDICES\_REGEX**
        </DNT>
      </td>

      <td>
        収集されるインデックスをフィルタリングします。
      </td>

      <td>
        該当なし
      </td>

      <td style={{ 'text-align': 'center' }}>
        M
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **MASTER\_ONLY**
        </DNT>
      </td>

      <td>
        選出されたマスターでのみクラスターメトリックを収集します。
      </td>

      <td>
        false
      </td>

      <td style={{ 'text-align': 'center' }}>
        M
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **METRICS**
        </DNT>
      </td>

      <td>
        メトリックのみの収集を有効にするには、 `true`に設定します。
      </td>

      <td>
        false
      </td>

      <td style={{ 'text-align': 'center' }} />
    </tr>

    <tr>
      <td>
        <DNT>
          **INVENTORY**
        </DNT>
      </td>

      <td>
        インベントリのみの収集を有効にするには、 `true`に設定します。
      </td>

      <td>
        false
      </td>

      <td style={{ 'text-align': 'center' }} />
    </tr>
  </tbody>
</table>

これらの設定の値は、いくつかの方法で定義できます。

* 設定ファイルに直接値を追加します。これが最も一般的な方法です。

* `{{ }}`表記を使用して環境変数の値を置き換えます。 [オンホストインテグレーションでの環境変数パススルーの使用](/docs/infrastructure/install-infrastructure-agent/configuration/configure-infrastructure-agent/#passthrough)について詳しく読むか、 [環境変数の置換](/docs/infrastructure/host-integrations/host-integrations-list/elasticsearch/elasticsearch-integration#envvar-replacement)の例を参照してください。 <Callout variant="important">これには、インフラストラクチャエージェント v1.14.0 以降が必要です。</Callout>

* シークレット管理の使用。これを使用して、設定ファイルのプレーンテキストで公開されないようにパスワードなどの重要な情報を保護してください。詳細については、[シークレット管理](/docs/integrations/host-integrations/installation/secrets-management)を参照してください。

### ラベルとカスタム属性 [#labels]

ラベルを使用して、メトリックをさらに装飾できます。ラベルを使用すると、キーと値のペアの属性をメトリックに追加できます。これを使用して、メトリックをクエリ、フィルタリング、またはグループ化できます。<br /> [基本構成elasticsearch-config.ymlサンプルファイル](/docs/infrastructure/host-integrations/host-integrations-list/elasticsearch/elasticsearch-integration#basic-config)には、ラベルの使用法が含まれています。ただし、必須ではないため、選択した新しいものを削除、変更、または追加できます。

```yaml
 labels:
   env: production
   role: load_balancer
```

## 在庫データ [#inventory]

Elasticsearch統合は、 [YAML構成ファイル](/docs/infrastructure/host-integrations/host-integrations-list/elasticsearch/elasticsearch-integration/#basic-config)で指定されているように、Elasticsearchノードの構成パラメーターをキャプチャします。また、 `\_nodes/\_local`エンドポイントからノード構成情報を収集します。データは、 [インフラストラクチャインベントリページ](/docs/infrastructure/new-relic-infrastructure/infrastructure-ui-pages/infrastructure-inventory-page-search-your-entire-infrastructure)の`config/elasticsearch`ソースから入手できます。

在庫データの詳細については、 [統合データを理解する](/docs/infrastructure/integrations-getting-started/getting-started/understand-integration-data-data-types#inventory-data)方法を参照してください。