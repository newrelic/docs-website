---
title: ガイド付きインストールの概要
tags:
  - Full-Stack Observability
  - Observe everything
  - Get started
metaDescription: Our guided installation is a single command that you can use to discover and start monitoring integrations on your system.
translationType: machine
---

import guidedInstallCli from 'images/guided-install-cli.png'

まだの方は、 [無料の New Relic アカウント](https://newrelic.com/signup) にサインアップして、システムをインスツルメンテーションして New Relic に遠隔測定データを送信できるようにしましょう。ガイド付きインストールでは、お客様の環境に合わせてカスタマイズしたCLIコマンドを作成し、New Relic CLIとインフラストラクチャエージェントをダウンロードしてインストールします。

<img
  title="The guided install CLI."
  alt="A screenshot of the guided install CLI."
  src={guidedInstallCli}
/>

始める準備はできましたか？ **Guided install** ボタンをクリックしてください。また、お客様のアカウントが当社の [EUデータセンター](/docs/using-new-relic/welcome-new-relic/get-started/our-eu-us-region-data-centers/) を通じてデータを報告している場合は、 **EU Guided install** をクリックしてください。

<ButtonGroup>
  <ButtonLink
    role="button"
    to="https://one.newrelic.com/launcher/nr1-core.explorer?pane=eyJuZXJkbGV0SWQiOiJucjEtY29yZS5saXN0aW5nIn0=&cards[0]=eyJuZXJkbGV0SWQiOiJucjEtaW5zdGFsbC1uZXdyZWxpYy5ucjEtaW5zdGFsbC1uZXdyZWxpYyIsImFjdGl2ZUNvbXBvbmVudCI6IlZUU09FbnZpcm9ubWVudCIsInBhdGgiOiJndWlkZWQifQ=="
    variant="primary"
  >
    ガイド付きインストール
  </ButtonLink>

  <ButtonLink
    role="button"
    to="https://one.eu.newrelic.com/launcher/nr1-core.explorer?pane=eyJuZXJkbGV0SWQiOiJucjEtY29yZS5saXN0aW5nIn0=&cards[0]=eyJuZXJkbGV0SWQiOiJucjEtaW5zdGFsbC1uZXdyZWxpYy5ucjEtaW5zdGFsbC1uZXdyZWxpYyIsImFjdGl2ZUNvbXBvbmVudCI6IlZUU09FbnZpcm9ubWVudCIsInBhdGgiOiJndWlkZWQifQ=="
    variant="primary"
  >
    EUガイド付きインストール
  </ButtonLink>
</ButtonGroup>

インフラストラクチャ・エージェントは、お客様の環境で稼働しているアプリケーションやインフラストラクチャ、ログソースを検出し、どのシステムをインストルメントすべきかを推奨します。インストーラは、インストルメント化することを選択した各システムの設定と導入を自動化します。

## 重要な理由 [#why-it-matters]

ガイド付きのインストールにより、アプリケーションやインフラの計測を行い、数分でデータをNew Relicで確認できるようになります。

[ガイド付きインストールでは、当社のコマンドラインインターフェイス（CLI）、ホスト環境用のインフラストラクチャエージェント（](/docs/infrastructure/install-infrastructure-agent/get-started/install-infrastructure-agent) ）、およびインストールレシピのライブラリを使用して、アプリケーションとインフラストラクチャの構築を代行します。つまり、お客様の負担を軽減することができます。

インスツルメンテーション・レシピはオープンソースなので、既存のレシピを変更したり、新しいレシピを作ったりして、ニーズに合わせることができます。

## いくつかの技術的な詳細 [#technical-detail]

New Relic のガイド付きインストールでは、オープンソースのインストールレシピを使用してオンホストの統合を計測します。これらのレシピには、インストールおよびセットアップコマンド、ログに関する情報、およびインストールされるものに関連するメタデータが含まれます。レシピはシステムの種類ごとに YAML ファイルにまとめられており、特定の統合のためのインフラストラクチャ・エージェントをインストールするために必要なインストールの詳細がすべて記載されています。

<Callout variant="important">
  Windowsでは、ガイド付きインストールでは、Microsoft SQL Server、ログ、およびインフラストラクチャ・エージェントのみをサポートします。

  その他の統合機能は、Linuxでのみサポートされています。
</Callout>

## オン・ホスト・インテグレーション（OHI）レシピ [#ohi-recipes]

ガイド付きインストールは、OHIの発見、設定、インストールを自動化します。しかし、CLIのinstallコマンドを使って、一つ一つインストルメント化したい場合もあるでしょう。

個々のオンホスト統合をインストールするには、次のようなコマンドを使用します。このコマンドは、インストールする統合のタイプを指定します。 Linuxの構文は次のとおりです。

```
curl -Ls https://download.newrelic.com/install/newrelic-cli/scripts/install.sh | bash && sudo NEW_RELIC_API_KEY=<var>INSERT_YOUR_API_KEY</var> NEW_RELIC_ACCOUNT_ID=<var>INSERT_YOUR_RELIC_ACCOUNT_ID /usr/local/bin/newrelic install -n <var>INSERT_THE_INTEGRATION_NAME</var>
```

たとえば、Apache統合をインストールするには、次のようにします。

```
curl -Ls https://download.newrelic.com/install/newrelic-cli/scripts/install.sh | bash && sudo NEW_RELIC_API_KEY=<API_KEY> NEW_RELIC_ACCOUNT_ID=<ACCOUNT_ID> /usr/local/bin/newrelic install -n apache-open-source-integration
```

この表は、guided install CLIコマンドでサポートされている統合の一覧です。特定のホスト上の統合コマンドは、参考のために提供されています。

当社のオープンソース・インテグレーションは、お客様のサーバーやアプリケーションからパフォーマンス・メトリクスやインベントリ・データをNew Relicプラットフォームに送信します。メトリクスデータの事前構築されたダッシュボードを表示したり、アラートポリシーを作成したり、独自のカスタムクエリやチャートを作成することができます。

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        インテグレーション
      </th>

      <th>
        コマンド
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        アパッチ
      </td>

      <td>
        newrelic install -n apache-open-source-integration
      </td>
    </tr>

    <tr>
      <td>
        Cassandra
      </td>

      <td>
        newrelic install -n cassandra-open-source-integration
      </td>
    </tr>

    <tr>
      <td>
        Couchbase
      </td>

      <td>
        newrelic install -n couchbase-open-source-integration
      </td>
    </tr>

    <tr>
      <td>
        ElasticSearch
      </td>

      <td>
        newrelic install -n elasticsearch-open-source-integration
      </td>
    </tr>

    <tr>
      <td>
        HAProxy
      </td>

      <td>
        newrelic install -n haproxy-open-source-integration
      </td>
    </tr>

    <tr>
      <td>
        HashiCorp Consul
      </td>

      <td>
        newrelic install -n hashicorp-consul-open-source-integration
      </td>
    </tr>

    <tr>
      <td>
        Memcached
      </td>

      <td>
        newrelic install -n memcached-open-source-integration
      </td>
    </tr>

    <tr>
      <td>
        Microsoft SQL Server<br/> (Windowsのみ)
      </td>

      <td>
        newrelic install -n mssql-server-integration-installer
      </td>
    </tr>

    <tr>
      <td>
        MongoDB
      </td>

      <td>
        newrelic install -n mongodb-open-source-integration (ニューレリック・インストール -n mongodb-open-source-integration)
      </td>
    </tr>

    <tr>
      <td>
        MySQL
      </td>

      <td>
        newrelic install -n mysql-open-source-integration
      </td>
    </tr>

    <tr>
      <td>
        Nagios
      </td>

      <td>
        newrelic install -n nagios-open-source-integration
      </td>
    </tr>

    <tr>
      <td>
        Nginx
      </td>

      <td>
        newrelic install -n nginx-open-source-integration
      </td>
    </tr>

    <tr>
      <td>
        PostgreSQL
      </td>

      <td>
        newrelic install -n postgres-open-source-integration
      </td>
    </tr>

    <tr>
      <td>
        RabbitMQ
      </td>

      <td>
        newrelic install -n rabbitmq-open-source-integration
      </td>
    </tr>

    <tr>
      <td>
        Redis
      </td>

      <td>
        newrelic install -n redis-open-source-integration
      </td>
    </tr>

    <tr>
      <td>
        Varnishキャッシュ
      </td>

      <td>
        newrelic install -n varnish-cache-open-source-integration
      </td>
    </tr>
  </tbody>
</table>

## 一般的な問題のトラブルシューティング [#troubleshoot]

ガイド付きインストールに失敗する箇所が見つかった場合は、ここに記録し、トラブルシューティングのガイダンスを提供します。

<CollapserGroup>
  <Collapser
    className="freq-link"
    id="mysql"
    title="MySQLです。ユーザーパーミッションが正しくない"
  >
    MySQLのヘルスデータを監視するには、特定の権限を持つ有効なユーザー名とパスワードが必要です。

    これらのコマンドは、ユーザーを作成し、必要なパーミッションを付与します。

    特定のパスワードでユーザー`newrelic@localhost`を作成します。

    ```
    sudo mysql -e "CREATE USER 'newrelic'@'localhost' IDENTIFIED BY '<var>YOUR_SELECTED_PASSWORD</var>';"
    ```

    最大5つの接続で`newrelic@localhost`にレプリケーション権限を付与します。

    ```
    sudo mysql -e "GRANT REPLICATION CLIENT ON *.* TO 'newrelic'@'localhost' WITH MAX_USER_CONNECTIONS 5;"
    ```

    最大5つの接続で`newrelic@localhost`に選択権限を付与します。

    ```
    sudo mysql -e "GRANT SELECT ON *.* TO 'newrelic'@'localhost' WITH MAX_USER_CONNECTIONS 5;"
    ```

    これで、次のガイド付きインストールができるようになります。
  </Collapser>

  <Collapser
    className="freq-link"
    id="nginx"
    title="NGINX: ステータスURLがありません。"
  >
    NGINXサーバーを監視するには、有効なステータスURLを設定する必要があります。

    `status_url`：ステータスモジュールを使用してメトリックを提供するように設定されたURL。デフォルト値の`127.0.0.1`が正しくない場合は、システムのアドレス/ FQDN/URLに置き換えてください。例：

    `status_url: http://127.0.0.1/status`

    `status_url`の詳細については、次のNGINXドキュメントをご覧ください。

    * NGINX Open Sourceの場合：[HTTPスタブステータスモジュール](https://nginx.org/en/docs/http/ngx_http_stub_status_module.html)

    * NGINX Plusの場合：[HTTPステータスモジュール](https://nginx.org/en/docs/http/ngx_http_status_module.html)および[HTTP APIモジュール](http://nginx.org/en/docs/http/ngx_http_api_module.html)

      NGINXのインストール方法に応じて、 `status_url`を設定するさまざまな方法があります。

    * Kubernetes経由で有効な場合。参照 [Kubernetes上で動作するサービスを監視](/docs/monitor-service-running-kubernetes).

    * Amazon ECSを介して有効な場合。参照 [ECS上で動作するサービスを監視](/docs/integrations/host-integrations/host-integrations-list/monitor-services-running-amazon-ecs).

    * ホストにインストールされている場合：統合のYAML構成ファイル`nginx-config.yml`の構成を編集します。
  </Collapser>
</CollapserGroup>