---
title: クラウド統合によるデータのギャップを測定
type: troubleshooting
tags:
  - Integrations
  - Infrastructure integrations
  - Cloud integrations
metaDescription: 'New Relic cloud integrations: What to do if gaps are showing up in your metric data.'
translationType: machine
---

import infrastructureMetricDataChartGaps from 'images/infrastructure_screenshot-crop_metric-data-chart-gaps.webp'

## 問題

AWS、Azure、またはGCPとの統合を設定し、メトリクスを監視しています。しかし、メトリクスデータのチャートにギャップがあることに気づきました。

<img
  title="screen-metric-gap.png"
  alt="Screenshot showing gaps in metric data charts."
  src={infrastructureMetricDataChartGaps}
/>

<figcaption>
  このスクリーンショットでは、ギャップのあるメトリックデータのチャートが表示されています。
</figcaption>

## 解決

以下は、メトリック データのギャップを示す可能性があるメトリックのリストです。可能であれば、これらのメトリックのアラートを設定しないでください。誤検出が発生する可能性があることがわかっているためです。

<CollapserGroup>
  <Collapser
    id="aws"
    title="アマゾン（AWS）の場合"
  >
    <table>
      <thead>
        <tr>
          <th>
            統合
          </th>

          <th>
            プロバイダー
          </th>

          <th>
            イベントタイプ
          </th>

          <th>
            メトリック
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td rowSpan={3}>
            SNS
          </td>

          <td>
            `SnsTopic`
          </td>

          <td>
            `QueueSample`
          </td>

          <td>
            `provider.subscriptionsConfirmed`
          </td>
        </tr>

        <tr>
          <td>
            `SnsTopic`
          </td>

          <td>
            `QueueSample`
          </td>

          <td>
            `provider.subscriptionsPending`
          </td>
        </tr>

        <tr>
          <td>
            `SnsTopic`
          </td>

          <td>
            `QueueSample`
          </td>

          <td>
            `provider.subscriptionsDeleted`
          </td>
        </tr>

        <tr>
          <td>
            EFS
          </td>

          <td>
            `EfsFileSystem`
          </td>

          <td>
            `BlockDeviceSample`
          </td>

          <td>
            `provider.lastKnownSizeInBytes`
          </td>
        </tr>

        <tr>
          <td rowSpan={7}>
            ECS
          </td>

          <td>
            `EcsCluster`
          </td>

          <td>
            `ComputeSample`
          </td>

          <td>
            `provider.registeredContainerInstancesCount`
          </td>
        </tr>

        <tr>
          <td>
            `EcsCluster`
          </td>

          <td>
            `ComputeSample`
          </td>

          <td>
            `provider.activeServicesCount`
          </td>
        </tr>

        <tr>
          <td>
            `EcsCluster`
          </td>

          <td>
            `ComputeSample`
          </td>

          <td>
            `provider.pendingTasksCount`
          </td>
        </tr>

        <tr>
          <td>
            `EcsCluster`
          </td>

          <td>
            `ComputeSample`
          </td>

          <td>
            `provider.runningTasksCount`
          </td>
        </tr>

        <tr>
          <td>
            `EcsService`
          </td>

          <td>
            `ComputeSample`
          </td>

          <td>
            `provider.pendingCount`
          </td>
        </tr>

        <tr>
          <td>
            `EcsService`
          </td>

          <td>
            `ComputeSample`
          </td>

          <td>
            `provider.runningCount`
          </td>
        </tr>

        <tr>
          <td>
            `EcsService`
          </td>

          <td>
            `ComputeSample`
          </td>

          <td>
            `provider.desiredCount`
          </td>
        </tr>

        <tr>
          <td rowSpan={2}>
            DynamoDB
          </td>

          <td>
            `DynamoDbTable`
          </td>

          <td>
            `DatastoreSample`
          </td>

          <td>
            `provider.itemCount`
          </td>
        </tr>

        <tr>
          <td>
            `DynamoDbTable`
          </td>

          <td>
            `DatastoreSample`
          </td>

          <td>
            `provider.tableSizeBytes`
          </td>
        </tr>

        <tr>
          <td>
            オートスケーリング
          </td>

          <td>
            `AutoScalingInstance`
          </td>

          <td>
            `AutoScalingInstanceSample`
          </td>

          <td>
            `healthStatus`
          </td>
        </tr>

        <tr>
          <td rowSpan={3}>
            請求する
          </td>

          <td>
            `BillingBudget`
          </td>

          <td>
            `FinanceSample`
          </td>

          <td>
            `provider.actualAmount`
          </td>
        </tr>

        <tr>
          <td>
            `Billingbudget`
          </td>

          <td>
            `FinanceSample`
          </td>

          <td>
            `provider.forecastedAmount`
          </td>
        </tr>

        <tr>
          <td>
            `BillingBudget`
          </td>

          <td>
            `FinanceSample`
          </td>

          <td>
            `provider.limitAmount`
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser
    id="azure"
    title="Microsoft Azure"
  >
    <table>
      <thead>
        <tr>
          <th>
            統合
          </th>

          <th>
            プロバイダー
          </th>

          <th>
            イベントタイプ
          </th>

          <th>
            メトリック
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td rowSpan={4}>
            SQL
          </td>

          <td>
            `AzureSqlDatabase`
          </td>

          <td>
            `AzureSqlDatabaseSample`
          </td>

          <td>
            `databaseSizeCurrentBytes`
          </td>
        </tr>

        <tr>
          <td>
            `AzureSqlDatabase`
          </td>

          <td>
            `AzureSqlDatabaseSample`
          </td>

          <td>
            `databaseSizeLimitBytes`
          </td>
        </tr>

        <tr>
          <td>
            `AzureSqlServer`
          </td>

          <td>
            `AzureSqlServerSample`
          </td>

          <td>
            `dtuCurrent`
          </td>
        </tr>

        <tr>
          <td>
            `AzureSqlServer`
          </td>

          <td>
            `AzureSqlServerSample`
          </td>

          <td>
            `dtuLimit`
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser title="Google Cloud Platform (GCP)">
    <Callout variant="tip">
      現在、データギャップの原因となるGCPの測定基準を見直しています。
    </Callout>
  </Collapser>
</CollapserGroup>

<Callout variant="tip">
  このリストは完全ではありません。現在、データギャップの原因となるメトリクスの全リストを見直しています。
</Callout>

## 原因

一部のメトリックは、通常のクラウド プロバイダー API (CloudWatch、Stackdriver、Azure Monitor) には存在せず、代わりにサービス API からフェッチされます。各クラウド サービス プロバイダーには、データを処理してサービスと対話する独自のサービス API があります。たとえば、メトリクスが AWS CloudWatch に存在しない場合、New Relic は AWS ECS サービス API からメトリクスを取得します。