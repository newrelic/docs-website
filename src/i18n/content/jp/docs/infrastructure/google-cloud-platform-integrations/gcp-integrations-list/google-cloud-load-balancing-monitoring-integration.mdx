---
title: Google Cloud Load Balancingのモニタリング統合
tags:
  - Integrations
  - Google Cloud Platform integrations
  - GCP integrations list
metaDescription: 'New Relic''s Google Cloud Load Balancing integration: how to activate it and what data it reports.'
translationType: machine
---

[New Relic の](/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations) と [Google Cloud Platform (GCP)](https://cloud.google.com) との統合には、 [Google Cloud Load Balancing](https://cloud.google.com/load-balancing/) のデータを New Relic に報告する統合が含まれています。このドキュメントでは、GCP Cloud Load Balancing の統合を有効にする方法と、レポート可能なデータについて説明します。

## 機能

Google Cloud Load Balancingは、単一または複数のリージョンでトラフィックを分散させるソフトウェアベースのマネージドサービスです。シームレスで即時性の高いオートスケーリングを実現し、最新のアプリケーションデリバリープロトコルにも対応しています。

## 統合を有効にする [#activate]

統合を有効にするには、標準的な手順に従って [GCP サービスを New Relic](/docs/connect-google-cloud-platform-services-infrastructure) に接続してください。

## ポーリング頻度 [#polling]

New Relic の統合は、統合によって異なるポーリング間隔に従って GCP サービスに問い合わせを行います。Google Cloud Load Balancer のポーリング間隔は 5 分です。解像度は1分ごとに1データポイントです。

## データの検索と使用 [#find-data]

統合を有効にして数分（ポーリング頻度に基づく [](#polling)）待つと、データが New Relic UI に表示されます。 [ダッシュボードやアラート設定へのリンクを含むデータ](/docs/infrastructure/integrations/find-use-infrastructure-integration-data) を見つけて使用するには、 [**one.newrelic.com**](http://one.newrelic.com) **> インフラストラクチャー> GCP> (select an integration)** をご覧ください。

## メトリックデータ [#metrics]

New RelicでのGCP負荷分散統合の[メトリックデータ](/docs/telemetry-data-platform/understand-data/new-relic-data-types/#metrics)を表示するには、`GcpHttpLoadBalancerSample`、`GcpTcpSslProxyLoadBalancerSample`、`GcpInternalLoadBalancerSample`の[イベント](/docs/data-apis/understand-data/new-relic-data-types/#event-data)の[NRQLクエリを作成](/docs/integrations/new-relic-integrations/getting-started/use-integration-data-new-relic-insights#nrql)およびそれらに関連する属性。

### GcpHttpLoadBalancerSample [#gcp-http-load-balancer-sample]

Query `GcpHttpLoadBalancerSample` イベントをNew Relicで検索すると、以下の属性のデータが表示されます。

<dd>
  <table>
    <thead>
      <tr>
        <th style={{ width: "300px" }}>
          属性
        </th>

        <th>
          説明
        </th>
      </tr>
    </thead>

    <tbody>
      <tr>
        <td>
          `https.BackendLatencies`
        </td>

        <td>
          プロキシがバックエンドにリクエストを送信してから、プロキシがバックエンドから最後のバイトのレスポンスを受信するまでの平均レイテンシー（単位：ミリ秒）。
        </td>
      </tr>

      <tr>
        <td>
          `https.BackendRequestBytes`
        </td>

        <td>
          HTTP/Sロードバランサーからバックエンドへのリクエストとして送信されるバイト数です。
        </td>
      </tr>

      <tr>
        <td>
          `https.BackendRequests`
        </td>

        <td>
          HTTP/Sロードバランサーのバックエンドが処理したリクエストの数です。
        </td>
      </tr>

      <tr>
        <td>
          `https.BackendResponseBytes`
        </td>

        <td>
          バックエンド（またはキャッシュ）からHTTP/Sロードバランサーへの応答として送信されるバイト数です。
        </td>
      </tr>

      <tr>
        <td>
          `https.FrontendTcpRtt`
        </td>

        <td>
          クライアントとプロキシ間の各接続について測定されたラウンド・トリップ・タイム（RTT）の平均値。
        </td>
      </tr>

      <tr>
        <td>
          `https.RequestBytes`
        </td>

        <td>
          クライアントからHTTP/Sロードバランサーへのリクエストとして送信されるバイト数です。
        </td>
      </tr>

      <tr>
        <td>
          `https.Requests`
        </td>

        <td>
          HTTP/Sロードバランサーが処理したリクエストの数です。
        </td>
      </tr>

      <tr>
        <td>
          `https.ResponseBytes`
        </td>

        <td>
          HTTP/Sロードバランサーからクライアントへのレスポンスとして送信されるバイト数です。
        </td>
      </tr>

      <tr>
        <td>
          `https.TotalLatencies`
        </td>

        <td>
          プロキシがリクエストを受信してから、プロキシが最後のレスポンスバイトでクライアントからACKを受け取るまでのレイテンシー（ミリ秒単位）の平均値。
        </td>
      </tr>
    </tbody>
  </table>
</dd>

### GcpTcpSslProxyLoadBalancerSample [#gcp-tcp-ssl-proxy-load-balancer-sample]

Query `GcpTcpSslProxyLoadBalancerSample` イベントをNew Relicで検索すると、以下の属性のデータが表示されます。

<dd>
  <table>
    <thead>
      <tr>
        <th style={{ width: "300px" }}>
          属性
        </th>

        <th>
          説明
        </th>
      </tr>
    </thead>

    <tbody>
      <tr>
        <td>
          `tcpSslProxy.ClosedConnections`
        </td>

        <td>
          TCP/SSLプロキシで終了した接続数。
        </td>
      </tr>

      <tr>
        <td>
          `tcpSslProxy.EgressBytes`
        </td>

        <td>
          プロキシを使ってVMからクライアントに送信されたバイト数。
        </td>
      </tr>

      <tr>
        <td>
          `tcpSslProxy.FrontendTcpRtt`
        </td>

        <td>
          プロキシのTCPスタックによって測定された平滑化されたRTT（ミリ秒単位）の平均値で、アプリケーション層のバイトがプロキシからクライアントに渡される毎分の値です。
        </td>
      </tr>

      <tr>
        <td>
          `tcpSslProxy.IngressBytes`
        </td>

        <td>
          プロキシを使用してクライアントからVMに送信されたバイト数。
        </td>
      </tr>

      <tr>
        <td>
          `tcpSslProxy.NewConnections`
        </td>

        <td>
          TCP/SSLプロキシ経由で作成された接続数。
        </td>
      </tr>

      <tr>
        <td>
          `tcpSslProxy.OpenConnections`
        </td>

        <td>
          TCP/SSLプロキシを介した現在の未処理の接続数。
        </td>
      </tr>
    </tbody>
  </table>
</dd>

### GcpInternalLoadBalancerSample [#gcp-tcp-ssl-proxy-load-balancer-sample]

Query `GcpInternalLoadBalancerSample` イベントをNew Relicで検索すると、以下の属性のデータが表示されます。

<dd>
  <table>
    <thead>
      <tr>
        <th style={{ width: "300px" }}>
          属性
        </th>

        <th>
          説明
        </th>
      </tr>
    </thead>

    <tbody>
      <tr>
        <td>
          `l3.internal.EgressBytes`
        </td>

        <td>
          ILB（Internal Load Balancing）バックエンドからクライアントに送信されたバイト数（TCPフローの場合は、アプリケーションストリーム上のバイトのみをカウントします）。
        </td>
      </tr>

      <tr>
        <td>
          `l3.internal.EgressPackets`
        </td>

        <td>
          ILBバックエンドからクライアントに送信されたパケットの数。
        </td>
      </tr>

      <tr>
        <td>
          `l3.internal.IngressBytes`
        </td>

        <td>
          クライアントからILBバックエンドに送信されたバイト数（TCPフローの場合は、アプリケーション・ストリーム上のバイトのみをカウントします）。
        </td>
      </tr>

      <tr>
        <td>
          `l3.internal.IngressPackets`
        </td>

        <td>
          クライアントからILBバックエンドに送信されたパケットの数。
        </td>
      </tr>

      <tr>
        <td>
          `l3.internal.RttLatencies`
        </td>

        <td>
          ILBフローのTCP接続で計測されたRTTの平均値（単位：ミリ秒）。
        </td>
      </tr>
    </tbody>
  </table>
</dd>

## インベントリデータ [#inventory]

<Callout
  variant="important"
  title="有効期限（EOL）の通知"
>
  2022年3月以降は、クラウド統合用のインベントリデータなど、いくつかの機能のサポートを終了します。この移行に向けて簡単に準備できる方法など、詳細については、 [Explorers Hubの投稿](https://discuss.newrelic.com/t/important-upcoming-changes-to-capabilities-and-support-across-errors-classic-labels-service-infrastructure-on-host-snmp-integration-and-inventory-data-in-cloud-integrations/175370) をご覧ください。
</Callout>

GCPロードバランシングサービスのインベントリデータ [を見るには、 ](/docs/integrations/new-relic-integrations/getting-started/understand-use-data-infrastructure-integrations#overview)[**one.newrelic.com**](https://one.newrelic.com) **> インフラストラクチャ> インベントリ** を検索するか、以下を選択してください。

### gcp/loadbalancing/http-loadbalancer

このエンティティは、HTTPおよびHTTPSロードバランサーを表します。

<dd>
  <table>
    <thead>
      <tr>
        <th style={{ width: "300px" }}>
          名前
        </th>

        <th>
          説明
        </th>
      </tr>
    </thead>

    <tbody>
      <tr>
        <td>
          `プロジェクト`
        </td>

        <td>
          プロジェクトのIDや名前です。
        </td>
      </tr>

      <tr>
        <td>
          `ゾーン`
        </td>

        <td>
          エンティティのゾーンまたはリージョンです。
        </td>
      </tr>

      <tr>
        <td>
          `name`
        </td>

        <td>
          エンティティの名前です。
        </td>
      </tr>

      <tr>
        <td>
          `urlMapName`
        </td>

        <td>
          urlmapの名前です。これはロードバランサーの名前としても使われます。
        </td>
      </tr>

      <tr>
        <td>
          `forwardingRuleName`
        </td>

        <td>
          フォワーディングルールの名前。
        </td>
      </tr>

      <tr>
        <td>
          `ターゲットプロキシ名`
        </td>

        <td>
          対象となるHTTP/Sプロキシの名前です。
        </td>
      </tr>

      <tr>
        <td>
          `matchedUrlPathRule`
        </td>

        <td>
          urlmap treeで定義されたURLのプレフィックスです。 `UNMATCHED` はシンクのデフォルトルールです。
        </td>
      </tr>

      <tr>
        <td>
          `backendName`
        </td>

        <td>
          バックエンドグループの名前です。バックエンドが割り当てられていない場合は、特別な値になります。
        </td>
      </tr>

      <tr>
        <td>
          `バックエンドタイプ`
        </td>

        <td>
          バックエンドグループのタイプです。 `INSTANCE_GROUP`, `NETWORK_ENDPOINT_GROUP`, あるいは、バックエンドが割り当てられていない場合は特別な値になります。
        </td>
      </tr>

      <tr>
        <td>
          `バックエンドスコープ`
        </td>

        <td>
          バックエンドグループのスコープ（ゾーン名またはリージョン名）です。バックエンドが割り当てられていない場合は特別な値になり、バックエンドからの応答がない場合は空になります。
        </td>
      </tr>

      <tr>
        <td>
          `バックエンドスコープタイプ`
        </td>

        <td>
          バックエンドグループのスコープのタイプです。 `ZONE`, `REGION`, またはバックエンドが割り当てられていない場合の別の特別な値になります。
        </td>
      </tr>

      <tr>
        <td>
          `backendTargetName`
        </td>

        <td>
          バックエンドの対象となるサービスやバケットの名前です。
        </td>
      </tr>

      <tr>
        <td>
          `backendTargetType`
        </td>

        <td>
          バックエンド・ターゲットのタイプです。 `BACKEND_SERVICE` または `BACKEND_BUCKET` のいずれかになります。
        </td>
      </tr>
    </tbody>
  </table>
</dd>

### gcp/loadbalancing/tcp-ssl-proxy-loadbalancer

このエンティティは、SSLおよびTCPプロキシのロードバランサーを表します。

<dd>
  <table>
    <thead>
      <tr>
        <th style={{ width: "300px" }}>
          名前
        </th>

        <th>
          説明
        </th>
      </tr>
    </thead>

    <tbody>
      <tr>
        <td>
          `プロジェクト`
        </td>

        <td>
          プロジェクトのIDや名前です。
        </td>
      </tr>

      <tr>
        <td>
          `ゾーン`
        </td>

        <td>
          エンティティのゾーンまたはリージョンです。
        </td>
      </tr>

      <tr>
        <td>
          `name`
        </td>

        <td>
          エンティティの名前です。
        </td>
      </tr>

      <tr>
        <td>
          `backendName`
        </td>

        <td>
          バックエンドグループの名前です。
        </td>
      </tr>

      <tr>
        <td>
          `バックエンドタイプ`
        </td>

        <td>
          バックエンドグループのタイプです。 `INSTANCE_GROUP` または `NETWORK_ENDPOINT_GROUP` となります。
        </td>
      </tr>

      <tr>
        <td>
          `バックエンドスコープ`
        </td>

        <td>
          バックエンドグループのスコープ（ゾーンまたはリージョン）です。
        </td>
      </tr>

      <tr>
        <td>
          `バックエンドスコープタイプ`
        </td>

        <td>
          バックエンドグループのスコープのタイプです。 `ZONE` または `REGION` のいずれかになります。
        </td>
      </tr>

      <tr>
        <td>
          `backendTargetName`
        </td>

        <td>
          バックエンドターゲットの名前（`バックエンドサービス` 、 `プロキシ名` と同等）。
        </td>
      </tr>

      <tr>
        <td>
          `backentTargetType`
        </td>

        <td>
          バックエンド・ターゲットのタイプ。現在のところ、 `BACKEND_SERVICE` のみとなっています。
        </td>
      </tr>

      <tr>
        <td>
          `forwardingRuleName`
        </td>

        <td>
          フォワーディングルールの名前。
        </td>
      </tr>

      <tr>
        <td>
          `ターゲットプロキシ名`
        </td>

        <td>
          対象となるTCP/SSLプロキシの名前です。
        </td>
      </tr>
    </tbody>
  </table>
</dd>

### gcp/loadbalancing/tcp-internal-loadbalancer

<dd>
  <table>
    <thead>
      <tr>
        <th style={{ width: "300px" }}>
          名前
        </th>

        <th>
          説明
        </th>
      </tr>
    </thead>

    <tbody>
      <tr>
        <td>
          `プロジェクト`
        </td>

        <td>
          プロジェクトのIDや名前です。
        </td>
      </tr>

      <tr>
        <td>
          `ゾーン`
        </td>

        <td>
          エンティティのゾーンまたはリージョンです。
        </td>
      </tr>

      <tr>
        <td>
          `name`
        </td>

        <td>
          エンティティの名前です。
        </td>
      </tr>

      <tr>
        <td>
          `ネットワーク名`
        </td>

        <td>
          仮想ネットワークの名前です。
        </td>
      </tr>

      <tr>
        <td>
          `loadBalancerName`
        </td>

        <td>
          ロードバランサーの名前です。
        </td>
      </tr>

      <tr>
        <td>
          `backendName`
        </td>

        <td>
          接続を処理したバックエンドグループの名前です。
        </td>
      </tr>

      <tr>
        <td>
          `バックエンドタイプ`
        </td>

        <td>
          接続を処理したバックエンドグループのタイプ。現在は `INSTANCE_GROUP` となっています。
        </td>
      </tr>

      <tr>
        <td>
          `バックエンドスコープ`
        </td>

        <td>
          接続を処理したバックエンドグループのスコープ（ゾーンまたはリージョン）です。
        </td>
      </tr>

      <tr>
        <td>
          `バックエンドスコープタイプ`
        </td>

        <td>
          接続を処理したバックエンドグループのスコープのタイプです。 `ZONE` または `REGION` のいずれかになります。
        </td>
      </tr>

      <tr>
        <td>
          `backendTargetName`
        </td>

        <td>
          接続を処理したバックエンドターゲットの名前です（ `load_balancer_name` と同等）。
        </td>
      </tr>

      <tr>
        <td>
          `backentTargetType`
        </td>

        <td>
          接続を処理したバックエンドターゲットのタイプ。現在は `BACKEND_SERVICE` となっています。
        </td>
      </tr>

      <tr>
        <td>
          `バックエンドサブネットワーク名`
        </td>

        <td>
          バックエンドのサブネットワークの名前です。
        </td>
      </tr>

      <tr>
        <td>
          `forwardingRuleName`
        </td>

        <td>
          フォワーディングルールの名前。
        </td>
      </tr>

      <tr>
        <td>
          `プロトコル`
        </td>

        <td>
          ロードバランサーのプロトコルです。 `TCP` または `UDP` のいずれかになります。
        </td>
      </tr>
    </tbody>
  </table>
</dd>

### gcp/loadbalancing/udp-internal-loadbalancer

<dd>
  <table>
    <thead>
      <tr>
        <th style={{ width: "300px" }}>
          名前
        </th>

        <th>
          説明
        </th>
      </tr>
    </thead>

    <tbody>
      <tr>
        <td>
          `プロジェクト`
        </td>

        <td>
          プロジェクトのIDや名前です。
        </td>
      </tr>

      <tr>
        <td>
          `ゾーン`
        </td>

        <td>
          エンティティのゾーンまたはリージョンです。
        </td>
      </tr>

      <tr>
        <td>
          `name`
        </td>

        <td>
          エンティティの名前です。
        </td>
      </tr>

      <tr>
        <td>
          `ネットワーク名`
        </td>

        <td>
          仮想ネットワークの名前です。
        </td>
      </tr>

      <tr>
        <td>
          `loadBalancerName`
        </td>

        <td>
          ロードバランサーの名前です。
        </td>
      </tr>

      <tr>
        <td>
          `backendName`
        </td>

        <td>
          接続を処理したバックエンドグループの名前です。
        </td>
      </tr>

      <tr>
        <td>
          `バックエンドタイプ`
        </td>

        <td>
          接続を処理したバックエンドグループのタイプ。現在は `INSTANCE_GROUP` となっています。
        </td>
      </tr>

      <tr>
        <td>
          `バックエンドスコープ`
        </td>

        <td>
          接続を処理したバックエンドグループのスコープ（ゾーンまたはリージョン）です。
        </td>
      </tr>

      <tr>
        <td>
          `バックエンドスコープタイプ`
        </td>

        <td>
          接続を処理したバックエンドグループのスコープのタイプです。 `ZONE` または `REGION` のいずれかになります。
        </td>
      </tr>

      <tr>
        <td>
          `backendTargetName`
        </td>

        <td>
          接続を処理したバックエンドターゲットの名前です（ `load_balancer_name` と同等）。
        </td>
      </tr>

      <tr>
        <td>
          `backentTargetType`
        </td>

        <td>
          接続を処理したバックエンドターゲットのタイプ。現在は `BACKEND_SERVICE` となっています。
        </td>
      </tr>

      <tr>
        <td>
          `バックエンドサブネットワーク名`
        </td>

        <td>
          バックエンドのサブネットワークの名前です。
        </td>
      </tr>

      <tr>
        <td>
          `forwardingRuleName`
        </td>

        <td>
          フォワーディングルールの名前。
        </td>
      </tr>

      <tr>
        <td>
          `プロトコル`
        </td>

        <td>
          ロードバランサーのプロトコルです。 `TCP` または `UDP` のいずれかになります。
        </td>
      </tr>
    </tbody>
  </table>
</dd>