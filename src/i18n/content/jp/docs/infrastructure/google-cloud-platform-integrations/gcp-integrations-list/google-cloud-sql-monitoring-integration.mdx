---
title: Google Cloud SQLモニタリング統合
tags:
  - Integrations
  - Google Cloud Platform integrations
  - GCP integrations list
metaDescription: 'New Relic''s Google Cloud SQL monitoring integration: how to activate it and what data it reports.'
translationType: machine
---

[New Relic の](/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations) と [Google Cloud Platform (GCP)](https://cloud.google.com/) との統合には、 [Google Cloud SQL](https://cloud.google.com/sql/docs/) のデータを New Relic にレポートする統合があります。このドキュメントでは、GCP SQL インテグレーションを有効にする方法と、レポート可能なデータについて説明します。

## 機能

Cloud SQLは、クラウド上でMySQLやPostgreSQLのデータベースを構築、維持、管理、運用するためのフルマネージドデータベースサービスです。Cloud SQLは、高いパフォーマンスとスケーラビリティを提供し、ほとんどのアプリケーションからアクセスすることができます。

## 統合を有効にする [#activate]

統合を有効にするには、標準的な手順に従って [GCP サービスを New Relic](/docs/connect-google-cloud-platform-services-infrastructure) に接続してください。

## ポーリング頻度 [#polling]

New Relic の統合は、統合に応じて異なるポーリング間隔に従って GCP サービスに問い合わせを行います。Google Cloud SQL のポーリング間隔は 5 分です。解像度は1分ごとに1データポイントです。

## データの検索と使用 [#find-data]

統合を有効にして数分（ポーリング頻度に基づく [](#polling)）待つと、データが New Relic UI に表示されます。 [ダッシュボードやアラート設定へのリンクを含むデータ](/docs/infrastructure/integrations/find-use-infrastructure-integration-data) を見つけて使用するには、 [**one.newrelic.com**](http://one.newrelic.com) **> インフラストラクチャー> GCP> (select an integration)** をご覧ください。

## メトリックデータ [#metrics]

NewRelicでのGCPSQL統合の[メトリックデータ](/docs/telemetry-data-platform/understand-data/new-relic-data-types/#metrics)を表示するには、`GcpCloudSqlSample`[イベント](/docs/data-apis/understand-data/new-relic-data-types/#event-data)とその関連属性の[NRQLクエリを作成](/docs/integrations/new-relic-integrations/getting-started/use-integration-data-new-relic-insights#nrql)します。

### GcpCloudSqlSample [#gcp-app-cloud-sql-sample]

Query `GcpCloudSqlSample` イベントを New Relic で検索すると、以下の属性のデータが表示されます。

<dd>
  <table>
    <thead>
      <tr>
        <th style={{ width: "300px" }}>
          属性
        </th>

        <th>
          説明
        </th>
      </tr>
    </thead>

    <tbody>
      <tr>
        <td>
          `database.AutoFailoverRequestCount`
        </td>

        <td>
          インスタンスのオートフェイルオーバー要求数のデルタ値。
        </td>
      </tr>

      <tr>
        <td>
          `database.AvailableForFailover`
        </td>

        <td>
          これは `0` インスタンス上でフェイルオーバー操作が可能であれば以上です。
        </td>
      </tr>

      <tr>
        <td>
          `database.cpu.ReservedCores`
        </td>

        <td>
          データベース用に予約されているコア数。
        </td>
      </tr>

      <tr>
        <td>
          `データベース.cpu.UsageTime`
        </td>

        <td>
          累積CPU使用時間（単位：秒）。
        </td>
      </tr>

      <tr>
        <td>
          `データベース.cpu.Utilization`
        </td>

        <td>
          予約されたCPUのうち、現在使用されているものの割合です。
        </td>
      </tr>

      <tr>
        <td>
          `database.disk.BytesUsed`
        </td>

        <td>
          データ使用量（バイト）。
        </td>
      </tr>

      <tr>
        <td>
          `データベース.ディスク.クォータ`
        </td>

        <td>
          データディスクの最大サイズ（単位：バイト）。
        </td>
      </tr>

      <tr>
        <td>
          `database.disk.ReadOps`
        </td>

        <td>
          データディスクのリードIOオペレーションのデルタカウント。
        </td>
      </tr>

      <tr>
        <td>
          `データベース・ディスクの使用率`
        </td>

        <td>
          現在使用されているディスククオータの割合です。
        </td>
      </tr>

      <tr>
        <td>
          `database.disk.WriteOps`
        </td>

        <td>
          ディスクの書き込みIO操作のデルタカウント。
        </td>
      </tr>

      <tr>
        <td>
          `データベース.メモリ.クォータ`
        </td>

        <td>
          最大RAMサイズ（バイト）。
        </td>
      </tr>

      <tr>
        <td>
          `データベース.メモリ.使用量`
        </td>

        <td>
          RAMの使用量（バイト）。
        </td>
      </tr>

      <tr>
        <td>
          `データベース・メモリ・ユーティライゼーション`
        </td>

        <td>
          現在使用されているメモリ割当量の割合です。
        </td>
      </tr>

      <tr>
        <td>
          `データベース.mysql.InnodbBufferPoolPagesDirty`
        </td>

        <td>
          現在使用されているメモリ割当量の割合です。
        </td>
      </tr>

      <tr>
        <td>
          `データベース.mysql.InnodbBufferPoolPagesFree`
        </td>

        <td>
          InnoDBバッファプールの未使用ページの数。
        </td>
      </tr>

      <tr>
        <td>
          `データベース.mysql.InnodbBufferPoolPagesTotal`
        </td>

        <td>
          InnoDBバッファプールの総ページ数。
        </td>
      </tr>

      <tr>
        <td>
          `データベース.mysql.InnodbDataFsyncs`
        </td>

        <td>
          InnoDBのfsync()コールのデルタカウント。
        </td>
      </tr>

      <tr>
        <td>
          `データベース.mysql.InnodbOsLogFsyncs`
        </td>

        <td>
          ログファイルへのInnoDB fsync()呼び出しのデルタカウント。
        </td>
      </tr>

      <tr>
        <td>
          `データベース.mysql.InnodbPagesRead`
        </td>

        <td>
          InnoDBのページ読み取りのデルタカウント。
        </td>
      </tr>

      <tr>
        <td>
          `データベース.mysql.InnodbPagesWritten`
        </td>

        <td>
          書き込まれたInnoDBページのデルタカウント。
        </td>
      </tr>

      <tr>
        <td>
          `データベース.mysql.クエリー`
        </td>

        <td>
          サーバーで実行されたステートメントのデルタカウント。
        </td>
      </tr>

      <tr>
        <td>
          `データベース.mysql.質問`
        </td>

        <td>
          クライアントから送られてきたサーバーで実行されたステートメントのデルタカウント。
        </td>
      </tr>

      <tr>
        <td>
          `データベース.mysql.ReceivedBytesCount`
        </td>

        <td>
          MySQLプロセスが受信したバイトのデルタカウント。
        </td>
      </tr>

      <tr>
        <td>
          `データベース.mysql.replication.SecondsBehindMaster`
        </td>

        <td>
          読み込んだレプリカがマスターから遅れている秒数（概算）。
        </td>
      </tr>

      <tr>
        <td>
          `データベース.mysql.replication.SlaveIoRunning`
        </td>

        <td>
          マスターのバイナリログを読むためのI/Oスレッドが実行されているかどうかを示す。可能な値は、 `Yes` 、 `No` 、 `Connecting` です。
        </td>
      </tr>

      <tr>
        <td>
          `データベース.mysql.replication.SlaveSqlRunning`
        </td>

        <td>
          マスターのバイナリログを読むためのI/Oスレッドが実行されているかどうかを示す。可能な値は、 `Yes` 、 `No` 、 `Connecting` です。
        </td>
      </tr>

      <tr>
        <td>
          `データベース.mysql.SentBytesCount`
        </td>

        <td>
          マスターのバイナリログを読むためのI/Oスレッドが実行されているかどうかを示す。可能な値は、 `Yes` 、 `No` 、 `Connecting` です。
        </td>
      </tr>

      <tr>
        <td>
          `データベース・ネットワーク・コネクション`
        </td>

        <td>
          Cloud SQL MySQLインスタンスへの接続数。
        </td>
      </tr>

      <tr>
        <td>
          `database.network.ReceivedBytesCount`
        </td>

        <td>
          ネットワーク経由で受信したバイトのデルタカウント。
        </td>
      </tr>

      <tr>
        <td>
          `database.network.SentBytesCount`
        </td>

        <td>
          ネットワークを介して送信されたバイトのデルタカウント。
        </td>
      </tr>

      <tr>
        <td>
          `データベース.postgresql.NumBackends`
        </td>

        <td>
          Cloud SQL PostgreSQLインスタンスへの接続数。
        </td>
      </tr>

      <tr>
        <td>
          `データベース.postgresql.replication.ReplicaByteLag`
        </td>

        <td>
          レプリケーション・ラグ（バイト単位）。レプリカごとにマスターから報告されます。
        </td>
      </tr>

      <tr>
        <td>
          `データベース.postgresql.TransactionCount`
        </td>

        <td>
          トランザクション数のデルタカウント。
        </td>
      </tr>

      <tr>
        <td>
          `データベース.ステート`
        </td>

        <td>
          クラウド SQL インスタンスの現在のサービス状態。これは以下のいずれかになります。

          * `RUNNABLE`: インスタンスが実行されている、またはアクセスされたときに実行できる状態にある。
          * `SUSPENDED`: 課金の問題などで、インスタンスが利用できない状態です。
          * `PENDING_CREATE`: インスタンスが作成されています。
          * `MAINTENANCE`: インスタンスはメンテナンスのために停止しています。
          * `UNKNOWN_STATE`: インスタンスの状態が不明です。
        </td>
      </tr>

      <tr>
        <td>
          `データベース.アップ`
        </td>

        <td>
          サーバーが稼働しているかどうかを示す。オンデマンドインスタンスは、十分な時間、接続が行われなかった場合、スピンダウンします。
        </td>
      </tr>

      <tr>
        <td>
          `database.Uptime`
        </td>

        <td>
          インスタンスが稼働している時間（秒）のデルタカウント。
        </td>
      </tr>
    </tbody>
  </table>
</dd>

## インベントリデータ [#inventory]

<Callout
  variant="important"
  title="有効期限（EOL）の通知"
>
  2022年3月以降は、クラウド統合用のインベントリデータなど、いくつかの機能のサポートを終了します。この移行に向けて簡単に準備できる方法など、詳細については、 [Explorers Hubの投稿](https://discuss.newrelic.com/t/important-upcoming-changes-to-capabilities-and-support-across-errors-classic-labels-service-infrastructure-on-host-snmp-integration-and-inventory-data-in-cloud-integrations/175370) をご覧ください。
</Callout>

[インベントリデータ](/docs/integrations/new-relic-integrations/getting-started/understand-use-data-infrastructure-integrations#overview) GCPのSQLサービスを表示するには、 [**one.newrelic.com**](https://one.newrelic.com) **> インフラストラクチャ> インベントリ** を検索または選択してください。

### gcp/cloudsql/database

<dd>
  <table>
    <thead>
      <tr>
        <th style={{ width: "300px" }}>
          名前
        </th>

        <th>
          説明
        </th>
      </tr>
    </thead>

    <tbody>
      <tr>
        <td>
          `label.jp`
        </td>

        <td>
          インスタンスのラベル。
        </td>
      </tr>

      <tr>
        <td>
          `name`
        </td>

        <td>
          インスタンスのIDです（名前ではありません）。
        </td>
      </tr>

      <tr>
        <td>
          `プロジェクト`
        </td>

        <td>
          インスタンスが存在するプロジェクトです。
        </td>
      </tr>

      <tr>
        <td>
          `ゾーン`
        </td>

        <td>
          インスタンスがある地域。
        </td>
      </tr>
    </tbody>
  </table>
</dd>