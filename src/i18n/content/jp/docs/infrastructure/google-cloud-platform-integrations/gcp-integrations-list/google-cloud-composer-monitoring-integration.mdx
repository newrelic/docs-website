---
title: Google Cloud Composerモニタリング統合
tags:
  - Integrations
  - Google Cloud Platform integrations
  - GCP integrations list
metaDescription: Google Cloud Composer monitoring integration.
translationType: machine
---

<Callout title="ベータ版機能">
  この機能は現在ベータ版です。
</Callout>

GCP Composerのデータを当社のプラットフォームに報告するためのクラウド統合を提供しています。ここでは、統合を有効にする方法と、どのようなデータを収集するかを説明します。

## 統合機能の有効化 [#activate]

統合を有効にするには、標準的な手順に従って、 [GCPサービスに接続してください](/docs/connect-google-cloud-platform-services-infrastructure) 。

## 設定およびポーリング [#polling]

[設定オプション](/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations)を使用し、ポーリングの頻度を変更し、データを絞り込むことができます。

デフォルト [ポーリング](/docs/integrations/google-cloud-platform-integrations/getting-started/polling-intervals-gcp-integrations) GCP Composerインテグレーションの情報。

* New Relicのポーリング間隔：5分

## データの検索と使用 [#find-data]

統合データを探すには、 **[one.newrelic.com](https://one.newrelic.com/ "新しいウィンドウにリンクが開きます。") > Infrastructure> GCP** にアクセスし、統合を選択します。

データは以下の [イベントタイプに添付されています](/docs/insights/use-insights-ui/getting-started/introduction-new-relic-insights#event-type) 。

<table>
  <thead>
    <tr>
      <th>
        エンティティ
      </th>

      <th>
        イベントタイプ
      </th>

      <th>
        プロバイダー
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        環境
      </td>

      <td>
        `GcpComposerEnvironmentSample`
      </td>

      <td>
        `GcpComposerEnvironment`
      </td>
    </tr>

    <tr>
      <td>
        ワークフロー
      </td>

      <td>
        `GcpComposerWorkflowSample`
      </td>

      <td>
        `GcpComposerワークフロー`
      </td>
    </tr>
  </tbody>
</table>

データの利用方法については、 [統合データの理解と利用](/docs/infrastructure/integrations/find-use-infrastructure-integration-data) を参照してください。

## メトリックデータ [#metrics]

この統合は、「環境」と「ワークフロー」のGCP Composerデータを収集します。

### 作曲環境データ

<table>
  <thead>
    <tr>
      <th style={{ width: "275px" }}>
        メトリック
      </th>

      <th style={{ width: "150px" }}>
        ユニット
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `環境.api.リクエスト`
      </td>

      <td>
        Count
      </td>

      <td>
        これまでに確認されたComposer APIリクエストの数。
      </td>
    </tr>

    <tr>
      <td>
        `環境.api.RequestLatencies`
      </td>

      <td>
        ミリ秒
      </td>

      <td>
        Composer APIコールレイテンシーの分布。
      </td>
    </tr>

    <tr>
      <td>
        `環境.dag_processing.ParseError`
      </td>

      <td>
        Count
      </td>

      <td>
        DAGファイルの解析中に発生したエラーの数。
      </td>
    </tr>

    <tr>
      <td>
        `環境.dag_processing.Processs`
      </td>

      <td>
        Count
      </td>

      <td>
        現在実行中のDAG解析プロセスの数。
      </td>
    </tr>

    <tr>
      <td>
        `環境.dag_processing.ProcessorTimeout`
      </td>

      <td>
        Count
      </td>

      <td>
        処理のタイムアウトにより終了したファイルプロセッサの数。
      </td>
    </tr>

    <tr>
      <td>
        `環境.dag_processing.TotalParseTime`
      </td>

      <td>
        秒
      </td>

      <td>
        すべてのDAGファイルを一度にスキャンして取り込むのにかかる秒数。
      </td>
    </tr>

    <tr>
      <td>
        `環境.ダグバッグサイズ`
      </td>

      <td>
        Count
      </td>

      <td>
        現在のダグバッグのサイズ。
      </td>
    </tr>

    <tr>
      <td>
        `環境.データベース.cpu.ReservedCores`
      </td>

      <td>
        Count
      </td>

      <td>
        データベースインスタンスに予約されているコアの数。
      </td>
    </tr>

    <tr>
      <td>
        `環境.データベース.cpu.UsageTime`
      </td>

      <td>
        秒
      </td>

      <td>
        データベースインスタンスのCPU使用時間。
      </td>
    </tr>

    <tr>
      <td>
        `環境.データベース.CPU.使用率`
      </td>

      <td>
        Count
      </td>

      <td>
        データベースインスタンスのCPU使用率（0.0から1.0まで）。
      </td>
    </tr>

    <tr>
      <td>
        `環境.database.disk.BytesUsed`
      </td>

      <td>
        バイト
      </td>

      <td>
        データベースインスタンスの使用ディスク容量（バイト）。
      </td>
    </tr>

    <tr>
      <td>
        `環境.データベース.ディスク.クォータ`
      </td>

      <td>
        バイト
      </td>

      <td>
        データベースインスタンスの最大データディスクサイズ（バイト）。
      </td>
    </tr>

    <tr>
      <td>
        `環境.データベース.ディスク.使用率`
      </td>

      <td>
        Count
      </td>

      <td>
        データベースインスタンスのディスククォータ使用率（0.0から1.0まで）。
      </td>
    </tr>

    <tr>
      <td>
        `環境.データベース.メモリ.BytesUsed`
      </td>

      <td>
        バイト
      </td>

      <td>
        データベースインスタンスのメモリ使用量（単位：バイト）。
      </td>
    </tr>

    <tr>
      <td>
        `環境.データベース.メモリ.クォータ`
      </td>

      <td>
        バイト
      </td>

      <td>
        データベースインスタンスの最大RAMサイズ（バイト）。
      </td>
    </tr>

    <tr>
      <td>
        `環境.データベース.メモリ.使用率`
      </td>

      <td>
        Count
      </td>

      <td>
        データベースインスタンスのメモリ使用率（0.0から1.0まで）。
      </td>
    </tr>

    <tr>
      <td>
        `環境.エクゼキュータ.OpenSlots`
      </td>

      <td>
        Count
      </td>

      <td>
        実行者の空きスロット数。
      </td>
    </tr>

    <tr>
      <td>
        `環境.execute.RunningTasks`
      </td>

      <td>
        Count
      </td>

      <td>
        実行中のタスクの数。
      </td>
    </tr>

    <tr>
      <td>
        `環境.FinishedTaskInstance`
      </td>

      <td>
        Count
      </td>

      <td>
        タスク全体のインスタンス。
      </td>
    </tr>

    <tr>
      <td>
        `環境.NumCeleryWorkers`
      </td>

      <td>
        Count
      </td>

      <td>
        セロリの労働者の数
      </td>
    </tr>

    <tr>
      <td>
        `環境.SchedulerHeartbeat`
      </td>

      <td>
        Count
      </td>

      <td>
        スケジューラーのハートビート
      </td>
    </tr>

    <tr>
      <td>
        `environment.TaskQueueLength`
      </td>

      <td>
        Count
      </td>

      <td>
        キューに入っているタスクの数。
      </td>
    </tr>

    <tr>
      <td>
        `環境.ワーカー.ポッドエヴィクション`
      </td>

      <td>
        Count
      </td>

      <td>
        Airflowワーカーポッドの退避回数です。
      </td>
    </tr>

    <tr>
      <td>
        `環境.ZombieTaskKilled`
      </td>

      <td>
        Count
      </td>

      <td>
        殺したゾンビタスクの数
      </td>
    </tr>
  </tbody>
</table>

### コンポーザーワークフローデータ

<table>
  <thead>
    <tr>
      <th style={{ width: "275px" }}>
        メトリック
      </th>

      <th style={{ width: "150px" }}>
        ユニット
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `ワークフロー.実行`
      </td>

      <td>
        Count
      </td>

      <td>
        これまでに完了したワークフローの実行回数。
      </td>
    </tr>

    <tr>
      <td>
        `workflow.RunDuration`
      </td>

      <td>
        秒
      </td>

      <td>
        ワークフローの実行完了までの期間。
      </td>
    </tr>

    <tr>
      <td>
        `workflow.task.Run`
      </td>

      <td>
        Count
      </td>

      <td>
        これまでに完了したワークフロータスクの数。
      </td>
    </tr>

    <tr>
      <td>
        `workflow.task.RunDuration`
      </td>

      <td>
        秒
      </td>

      <td>
        タスク完了までの期間
      </td>
    </tr>
  </tbody>
</table>