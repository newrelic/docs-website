---
title: Google Cloud Spannerモニタリング統合
tags:
  - Integrations
  - Google Cloud Platform integrations
  - GCP integrations list
metaDescription: 'New Relic''s Google Cloud Spanner integration: how to activate it and what data it reports.'
translationType: machine
---

[New Relic の](/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations) と [Google Cloud Platform (GCP)](https://cloud.google.com) との統合には、 [Google Cloud Spanner](https://cloud.google.com/spanner/) のデータを New Relic に報告する統合があります。このドキュメントでは、GCP Cloud Spanner の統合を有効にする方法と、報告可能なデータについて説明します。

## 機能

Google Cloud Spanner サービスは、クラウド用に構築されたグローバルに分散されたリレーショナルデータベースサービスです。 [Google Spanner Console](https://cloud.google.com/spanner/docs/quickstart-console) を使用して、開発者は Cloud Spanner インスタンスの作成、スキーマの追加、データの書き込みと変更、クエリーの実行を行うことができます。

## 統合を有効にする [#activate]

統合を有効にするには、標準的な手順に従って [GCP サービスを New Relic](/docs/connect-google-cloud-platform-services-infrastructure) に接続してください。

## ポーリング頻度 [#polling]

New Relic の統合は、統合に応じて異なるポーリング間隔に従って GCP サービスに問い合わせを行います。Google Cloud Spanner のポーリング間隔は 5 分です。解像度は1分ごとに1データポイントです。

## データの検索と使用 [#find-data]

統合を有効にして数分（ポーリング頻度に基づく [](#polling)）待つと、データが New Relic UI に表示されます。 [ダッシュボードやアラート設定へのリンクを含むデータ](/docs/infrastructure/integrations/find-use-infrastructure-integration-data) を見つけて使用するには、 [**one.newrelic.com**](http://one.newrelic.com) **> インフラストラクチャー> GCP> (select an integration)** をご覧ください。

## メトリックデータ [#metrics]

New Relic で GCP Spanner 統合の [メトリックデータ](/docs/integrations/new-relic-integrations/getting-started/#metric) を見るには、 [](/docs/integrations/new-relic-integrations/getting-started/use-integration-data-new-relic-insights#nrql)`GcpSpannerInstanceSample` と `GcpSpannerDatabaseSample` [イベント](/docs/insights/use-insights-ui/getting-started/introduction-new-relic-insights#event-type) とその関連属性に対する NRQL クエリを作成します。

### GcpSpannerInstanceSample [#gcp-spanner-instance-sample]

Query `GcpSpannerInstanceSample` イベントをNew Relicで検索すると、以下の属性のデータが表示されます。

<dd>
  <table>
    <thead>
      <tr>
        <th style={{ width: "300px" }}>
          属性
        </th>

        <th>
          説明
        </th>
      </tr>
    </thead>

    <tbody>
      <tr>
        <td>
          `インスタンス.cpu.Utilization`
        </td>

        <td>
          プロビジョニングされたCPUの使用率（0～1）。
        </td>
      </tr>

      <tr>
        <td>
          `インスタンス.cpu.utilization_by_priority`
        </td>

        <td>
          プロビジョニングされたCPUの利用率を優先度別に0～1の間で設定します。
        </td>
      </tr>

      <tr>
        <td>
          `instance.cpu.smoothed_utilization`
        </td>

        <td>
          プロビジョニングされたCPUの24時間の平滑化された使用率、0から1の間。
        </td>
      </tr>

      <tr>
        <td>
          `インスタンス・ノード`
        </td>

        <td>
          ノードの総数。
        </td>
      </tr>

      <tr>
        <td>
          `インスタンス・セッション`
        </td>

        <td>
          使用中のセッション数
        </td>
      </tr>

      <tr>
        <td>
          `インスタンス.ストレージ.UsedBytes`
        </td>

        <td>
          使用されるストレージをバイト単位で表示します。
        </td>
      </tr>
    </tbody>
  </table>
</dd>

### GcpSpannerDatabaseSample [#gcp-spanner-database-sample]

Query `GcpSpannerDatabaseSample` イベントをNew Relicで行うと、以下の属性のデータが表示されます。

<dd>
  <table>
    <thead>
      <tr>
        <th style={{ width: "300px" }}>
          属性
        </th>

        <th>
          説明
        </th>
      </tr>
    </thead>

    <tbody>
      <tr>
        <td>
          `api.ReceivedBytes`
        </td>

        <td>
          Cloud Spannerが受信した非圧縮のリクエストバイト。
        </td>
      </tr>

      <tr>
        <td>
          `api.Requests`
        </td>

        <td>
          クラウドスパナのAPIリクエストの割合。
        </td>
      </tr>

      <tr>
        <td>
          `api.RequestLatencies`
        </td>

        <td>
          データベースに対するサーバーリクエストのレイテンシーの分布。これには、クラウドスパナーのバックエンドとAPIレイヤーにおけるリクエスト処理のレイテンシーが含まれます。クライアントとサーバー間のネットワークやリバースプロキシのオーバーヘッドは含まれません。
        </td>
      </tr>

      <tr>
        <td>
          `api.SentBytes`
        </td>

        <td>
          Cloud Spannerが送信した非圧縮のレスポンスバイト。
        </td>
      </tr>
    </tbody>
  </table>
</dd>

## インベントリデータ

GCP スパナサービスの [在庫データ](/docs/integrations/new-relic-integrations/getting-started/understand-use-data-infrastructure-integrations#overview) を見るには、 [**one.newrelic.com**](https://one.newrelic.com) **> インフラストラクチャー> 在庫** を検索または選択してください。

### gcp/spanner/instance

<dd>
  <table>
    <thead>
      <tr>
        <th style={{ width: "300px" }}>
          名前
        </th>

        <th>
          説明
        </th>
      </tr>
    </thead>

    <tbody>
      <tr>
        <td>
          `プロジェクトID`
        </td>

        <td>
          インスタンスが存在するプロジェクトです。
        </td>
      </tr>

      <tr>
        <td>
          `ゾーン`
        </td>

        <td>
          インスタンスがある地域。
        </td>
      </tr>

      <tr>
        <td>
          `name`
        </td>

        <td>
          インスタンスのIdです（名前ではありません）。
        </td>
      </tr>

      <tr>
        <td>
          `状態`
        </td>

        <td>
          インスタンスの状態です。
        </td>
      </tr>

      <tr>
        <td>
          `ノードカウント`
        </td>

        <td>
          インスタンスが持つノードの数。
        </td>
      </tr>

      <tr>
        <td>
          `インスタンス名`
        </td>

        <td>
          インスタンスの名前です。
        </td>
      </tr>

      <tr>
        <td>
          `ラベル`
        </td>

        <td>
          インスタンスに設定されているラベルです。
        </td>
      </tr>
    </tbody>
  </table>
</dd>

\* GCP プロジェクトが [のサービスアカウントで New Relic にリンクされている場合のみ利用可能です](/docs/integrations/google-cloud-platform-integrations/getting-started/connect-google-cloud-platform-services-infrastructure).

### gcp/spanner/database

<dd>
  <table>
    <thead>
      <tr>
        <th style={{ width: "300px" }}>
          名前
        </th>

        <th>
          説明
        </th>
      </tr>
    </thead>

    <tbody>
      <tr>
        <td>
          `プロジェクトID`
        </td>

        <td>
          データベースがあるプロジェクト。
        </td>
      </tr>

      <tr>
        <td>
          `ゾーン`
        </td>

        <td>
          データベースがある地域。
        </td>
      </tr>

      <tr>
        <td>
          `name`
        </td>

        <td>
          データベースのIdです（名前ではありません）。
        </td>
      </tr>

      <tr>
        <td>
          `instanceId`
        </td>

        <td>
          データベースが存在するインスタンスのIdです。
        </td>
      </tr>

      <tr>
        <td>
          `dl*。`
        </td>

        <td>
          インスタンスのSQL定義です。
        </td>
      </tr>

      <tr>
        <td>
          `状態`
        </td>

        <td>
          データベースの状態です。
        </td>
      </tr>
    </tbody>
  </table>
</dd>

\* GCP プロジェクトが [のサービスアカウントで New Relic にリンクされている場合のみ利用可能です](/docs/integrations/google-cloud-platform-integrations/getting-started/connect-google-cloud-platform-services-infrastructure).