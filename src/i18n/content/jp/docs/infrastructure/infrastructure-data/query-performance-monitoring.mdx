---
title: クエリパフォーマンス監視
tags:
  - Infrastructure
  - Manage your data
  - Query performance analysis
  - Query performance monitoring
  - Birds-eye view
  - Wait-time analysis
  - MySQL monitoring
  - PostgreSQL monitoring
metaDescription: How to user database dashboards to monitory query performance performance.
freshnessValidatedDate: never
translationType: machine
---

New Relicのパフォーマンス分析は、データベース アドミニストレーター (DBA) やその他の IT プロフェッショナルがサイト内で個々の SQL 執筆のパフォーマンスを詳細に把握できるように設計されています。 この機能は、アプリケーション パフォーマンス監視 ( APMエージェント. 包括的なデータ、視覚化ツール、クエリ最適化のための実用的な推奨事項を提供することで、主要な問題点に対処します。さらに、特定のクエリをドリルダウンして、パフォーマンス低下の根本原因を特定することもできます。

New Relic クエリ パフォーマンス分析を使用する利点:

* **パフォーマンスの最適化:**パフォーマンスを向上させるために最適化できる遅いまたは非効率な書き込みを特定します。
* **リソース管理:**インサイトをリソース使用量に提供し、CPU、メモリ、およびI/Oリソースの効率的な割り当てを支援します。
* **問題の診断:**アプリケーションの速度低下や障害の原因となる問題の特定と解決を容易にします。

## クエリパフォーマンスダッシュボードにアクセスする [#access]

New Relicアカウントの**左側のペイン &gt; All Capabilities &gt; Dashboards**から \[パフォーマンス ダッシュボード] にアクセスできます。

* クエリ パフォーマンスを監視するために、データベースを New Relic に統合して構成します。詳細については、以下を参照してください。

  * [PostgreSQLの統合](/install/postgresql)
  * [MySQLインテグレーション](/install/mysql)
  * [Microsoft SQLの統合](/install/microsoft-sql)

**クエリ パフォーマンス ダッシュボードにアクセスするには:**

1. New Relic アカウントにログインします。
2. **All capabilities &gt; Dashboards**に移動します。
3. データベース ダッシュボードを選択します。

<img title="Example MySQL dashboards" alt="A screenshot of example MySQL dashboards" src="/images/new-relic-query-analysis.webp" />

## クエリパフォーマンスダッシュボードの使用 [#using-query-dashboard]

実行パフォーマンス分析には、データベース内の個々の SQL 実行を調べて、そのパフォーマンスと影響を評価することが含まれます。 インサイトの実行時間、リソース消費、潜在的なボトルネックを把握し、ユーザーがデータベース操作を最適化できるようにします。

New Relic クエリ パフォーマンス ダッシュボードには 3 つのタブがあります。

* [クエリ分析](#query-analysis)
* [問い合わせ内容](#query-details)
* [待ち時間分析](#wait-time)

### クエリ分析 [#query-analysis]

クエリ分析では、データベース パフォーマンスの概要が提供され、ユーザーは注意が必要な領域をすばやく特定できます。 実行時間や待機イベントなどの主要なパフォーマンス指標が強調表示されます。

#### クエリ分析の使用 [#use-query-analysis]

* ウィジェットを使用して、平均実行時間が長いデータベースや待機イベントが多いデータベースを特定します。
* 実行回数とディスク I/O の傾向を分析して、パフォーマンスの問題と相関関係を調べます。
* ブロックの詳細を使用して、ロックを引き起こしたり、ロックが発生したりするクエリを解決します。

### クエリ分析ウィジェット [#widget-bird]

クエリ分析には次のウィジェットがあります。

<table>
  <thead>
    <tr>
      <th>
        ウィジェット
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        データベース
      </td>

      <td>
        すべてのモニター データベースのリストを表示し、パフォーマンス ステータスを簡単に評価できます。
      </td>
    </tr>

    <tr>
      <td>
        平均実行時間 (ミリ秒)
      </td>

      <td>
        クエリの実行にかかる平均時間のリストを表示し、パフォーマンスが低いクエリを特定するのに役立ちます。
      </td>
    </tr>

    <tr>
      <td>
        実行回数は時間の経過とともに増える
      </td>

      <td>
        クエリ実行頻度を視覚化し、パフォーマンスの問題を示すパターンや急増を識別するのに役立ちます。
      </td>
    </tr>

    <tr>
      <td>
        上位の待機イベント
      </td>

      <td>
        I/O 待機やロック待機など、パフォーマンスに影響を与える最も頻繁な待機イベントのリストを表示します。
      </td>
    </tr>

    <tr>
      <td>
        最も遅い上位N
      </td>

      <td>
        データベース全体でパフォーマンスが最も遅いクエリを強調表示し、最適化の取り組みを優先順位付けします。
      </td>
    </tr>

    <tr>
      <td>
        ディスク IO 使用量 (平均ディスク読み取り)
      </td>

      <td>
        平均的なディスク読み取り操作を監視して、パフォーマンスへの影響を評価します。
      </td>
    </tr>

    <tr>
      <td>
        ディスク IO 使用量 (平均ディスク書き込み)
      </td>

      <td>
        平均的なディスク書き込み操作を監視して、パフォーマンスへの影響を評価します。
      </td>
    </tr>

    <tr>
      <td>
        ブロックの詳細
      </td>

      <td>
        ロック関連の問題に対処するために、ブロックされたセッションとブロックしているセッションに関する情報を提供します。
      </td>
    </tr>
  </tbody>
</table>

### 問い合わせ内容 [#query-details]

「書き込みの詳細」タブを使用すると、ユーザーは個々の書き込みの実行をドリルダウンして、パフォーマンスを最適化するための詳細なメトリクスと実行計画を提供できます。

#### クエリの詳細の使用 [#use-query-details]

* 個別の文章詳細ウィジェットを使用して、リソース使用量の多い文章を特定します。
* 実行プランを分析して非効率性を検出し、推奨される最適化を実装します。

#### クエリ詳細ウィジェット [#widget-query]

クエリの詳細には次のウィジェットがあります。

<table>
  <thead>
    <tr>
      <th>
        ウィジェット
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        スロークエリサンプル
      </td>

      <td>
        実行時間と書き込み情報を含む、実行速度の遅い書き込みを表示します。 このウィジェットは、一貫してパフォーマンスが低く、最適化が必要なクエリを識別するのに役立ちます。
      </td>
    </tr>

    <tr>
      <td>
        クエリ実行プランの詳細
      </td>

      <td>
        CPU 使用率、メモリ消費量、実行時間など、各実行の詳細なメトリクスを提供します。 これは、パフォーマンスの問題を診断し、リソースを大量に消費するクエリを識別するのに役立ちます。
      </td>
    </tr>
  </tbody>
</table>

### 待ち時間分析 [#wait-time]

待機時間分析タブは、クエリのパフォーマンスに影響を与える遅延をユーザーが理解し、軽減するのに役立ちます。

#### 待ち時間分析の使用 [#use-wait-time]

* トップ待機イベント ウィジェットを使用して、最も影響力のある待機イベントに対処することに重点を置きます。
* DB インスタンス待機時間の傾向を使用して、待機時間が長くなる期間を特定します。
* 「待機書き込みの詳細」にアクセスして遅延の原因を診断し、最適化のために書き込みに優先順位を付けます。

#### 待ち時間分析ウィジェット [#widget-wait]

待機時間分析には次のウィジェットがあります。

<table>
  <thead>
    <tr>
      <th>
        ウィジェット
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        上位の待機イベント
      </td>

      <td>
        折れ線グラフを使用して、I/O やロック待機などのさまざまなイベントの合計待機時間を表示します。
      </td>
    </tr>

    <tr>
      <td>
        ウェブイベント
      </td>

      <td>
        一意の待機イベントの数を表示して、その多様性と頻度を把握します。
      </td>
    </tr>

    <tr>
      <td>
        DBインスタンス待ち時間の傾向
      </td>

      <td>
        指定された期間にわたる待機時間の変化を追跡して傾向を特定します。
      </td>
    </tr>

    <tr>
      <td>
        待機クエリの詳細
      </td>

      <td>
        重要な待機イベントに関連するクエリに関する詳細情報を提供します。
      </td>
    </tr>
  </tbody>
</table>