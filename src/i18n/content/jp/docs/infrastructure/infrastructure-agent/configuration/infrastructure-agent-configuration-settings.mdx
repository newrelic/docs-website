---
title: インフラストラクチャエージェントの設定
tags:
  - Infrastructure
  - Install the infrastructure agent
  - Configuration
metaDescription: 'Configuration settings for the New Relic infrastructure agent, including YAML and environment variable names, value, minimum agent version.'
freshnessValidatedDate: never
translationType: machine
---

インフラストラクチャ・エージェントには、その動作を微調整するための [の設定が多数用意されています](/docs/infrastructure/new-relic-infrastructure/configuration/configure-infrastructure-agent) 。ここでは

* すべての設定オプションを（YAMLと環境変数名の両方で）一覧表示します。
* 各設定の役割と使用するタイミングを説明します。
* 変数のタイプとデフォルト値（ある場合）を指定します。
* 最低限必要なエージェントのバージョンを該当するものを記載してください。

<Callout variant="important">
  シークレット管理を使用すると、統合の構成ファイルにプレーン テキストとして機密データ (パスワードなど) を書き込むことなく、機密データ (パスワードなど) を使用するようにエージェントのオンホスト統合をインフラストラクチャと構成できます。詳細については、 [「シークレット管理」](/docs/integrations/host-integrations/installation/secrets-management)を参照してください。
</Callout>

まだNewRelicアカウントがありませんか？永久に無料で[サインアップ](https://newrelic.com/signup) します。

## 始めましょう [#requirements]

[New Relic アカウント](https://newrelic.com/signup) (永久に無料です)を作成し、 [インフラストラクチャエージェント](/docs/infrastructure/install-infrastructure-agent/get-started/install-infrastructure-agent/) をインストールすると、お客様の環境に合わせてインフラストラクチャエージェントを設定することができます。

必要な設定は[`license_key`](#license-key)のみです。

これらすべての変数の使用方法の例については、 [GitHub のサンプル構成テンプレートを](https://github.com/newrelic/infrastructure-agent/blob/master/assets/examples/infrastructure/newrelic-infra-template.yml.example)参照してください。

## 環境変数

リストされている設定オプションの多くは、環境変数を使用して値を設定することも許可しており、これは YAML 設定よりも優先されます。

<Callout variant="important">
  多くの場合、インフラストラクチャエージェントはホスト内のシステムサービスとして実行され、グローバルに管理されます（例： `systemd` (Linux、Windows サービスの場合)、 `launchd` (macOS の場合) など。 このセットアップで環境変数を使用して設定の変更を適用するには、これらの環境変数を設定し、infrastructureagent サービスが実行されている分離されたコンテキストに表示できるようにする必要があります。 これを行う方法はプラットフォームによって異なります。システム サービスに環境変数を追加する方法については、プラットフォームのサービス マネージャーのドキュメントを確認してください。
</Callout>

## エージェント変数 [#agent-variables]

<CollapserGroup>
  <Collapser
    className="freq-link"
    id="license-key"
    title={<>license_key (<strong> REQUIRED)</strong></>
    }
  >
    New Relic アカウントの<InlinePopover type="licenseKey" />を指定します。 エージェントはこのキーを使用して、サーバーのメトリクスを New Relic アカウントに関連付けます。 この設定は、標準のインストレーション プロセスの一部として作成されます。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `license_key`
          </td>

          <td>
            `NRIA_LICENSE_KEY`
          </td>

          <td>
            ストリング
          </td>

          <td />

          <td />
        </tr>
      </tbody>
    </table>

    例：

    ```yml
    license_key: 1234567890abcdefghijklmnopqrstuvwxyz1234
    ```
  </Collapser>

  <Collapser className="freq-link" id="fedramp" title="FedRAMP">
    FedRAMP エンドポイントを使用するかどうかを指定します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `fedramp`
          </td>

          <td>
            `NRIA_FEDRAMP`
          </td>

          <td>
            ブール値
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.15.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1150)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="max-procs" title="max_procs">
    エージェントが使用できる論理プロセッサの数を指定します。この値を増やすことで、異なるコア間で負荷を分散することができます。

    `-1`に設定されている場合、エージェントは環境変数`GOMAXPROCS`を読み取ろうとします。この変数が設定されていない場合、デフォルト値はホストで使用可能なコアの総数になります。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `max_procs`
          </td>

          <td>
            `NRIA_MAX_PROCS`
          </td>

          <td>
            整数
          </td>

          <td>
            `1`
          </td>

          <td>
            [1.0.1002](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-101002)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="payload-compression-level" title="payload_compression_level">
    バージョン[1.0.804](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10804)以降では、エージェントから送信されるデータはデフォルトで圧縮されています。ペイロードの圧縮を無効にするには、 `payload_compression_level`を0に設定します。

    <Callout variant="important">
      推奨事項: この設定は変更しないでください。
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `payload_compression_level`
          </td>

          <td>
            `NRIA_PAYLOAD_COMPRESSION_LEVEL`
          </td>

          <td>
            整数
          </td>

          <td>
            `6`
          </td>

          <td>
            [1.0.804](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10804)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="startup-connection-retries" title="startup_connection_retries">
    起動時にNew Relicのプラットフォームの可用性を確認するために、エージェントがエラーを投げる前にリクエストを再試行する回数。

    <DNT>**negative value**</DNT>に設定すると、エージェントは成功するまで接続をチェックし続けます。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `startup_connection_retries`
          </td>

          <td>
            `NRIA_STARTUP_CONNECTION_RETRIES`
          </td>

          <td>
            整数
          </td>

          <td>
            `6`
          </td>

          <td>
            1.0.936
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="startup-connection-retries" title="startup_connection_retry_time">
    リクエストがタイムアウトした後、エージェントがリクエストの再試行を待つ時間は、起動時にNew Relicのプラットフォームの可用性をチェックするためのものです。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `startup_connection_retry_time`
          </td>

          <td>
            `NRIA_STARTUP_CONNECTION_RETRY_TIME`
          </td>

          <td>
            ストリング
          </td>

          <td>
            `5s`
          </td>

          <td>
            1.0.936 - 1.2.30
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="startup-connection-timeout" title="startup_connection_timeout">
    起動時にNew Relicのプラットフォームの可用性を確認するリクエストがタイムアウトしたとみなされるまで、エージェントが待機する時間。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `startup_connection_timeout`
          </td>

          <td>
            `NRIA_STARTUP_CONNECTION_TIMEOUT`
          </td>

          <td>
            ストリング
          </td>

          <td>
            `10s`
          </td>

          <td>
            1.0.936
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="self-instrumentation" title="self_instrumentation">
    [エージェントのセルフ インストルメンテーション](/docs/infrastructure/install-infrastructure-agent/manage-your-agent/infrastructure-agent-self-instrumentation)を有効にします。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `self_instrumentation`
          </td>

          <td>
            `NRIA_SELF_INSTRUMENTATION`
          </td>

          <td>
            ストリング
          </td>

          <td>
            `empty`
          </td>

          <td>
            [1.24.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1240)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="logging_retry-limit" title="logging_retry_limit">
    組み込みの Fluentbit ログ フォワーダーを介した[ログ送信のエージェントの再試行](/docs/infrastructure/install-infrastructure-agent/manage-your-agent/infrastructure-agent-behavior/#retry)を有効にします。整数値は、意図された再試行の回数を表します。その他の可能な値には、再試行回数を無限に設定する`False`や、再試行機能を完全にオフにする`no_retries`があります。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `logging_retry_limit`
          </td>

          <td>
            `NRIA_LOGGING_RETRY_LIMIT`
          </td>

          <td>
            整数
          </td>

          <td>
            `5`
          </td>

          <td>
            [1.29.1](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1291)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## クラウド変数

エージェントがクラウドインスタンスで実行されている場合、エージェントはクラウドタイプを検出し、基本的な[メタデータ](/docs/integrations/new-relic-integrations/getting-started/understand-use-data-infrastructure-integrations#overview)を取得しようとします。 [クラウドプロバイダーアカウントをNewRelicに接続する](/docs/infrastructure/infrastructure-integrations/get-started/introduction-infrastructure-integrations#cloud)ときに、メトリックを拡張クラウドメタデータ（カスタムリソースタグを含む）で強化することもできます。

<CollapserGroup>
  <Collapser className="freq-link" id="cloud-max-retry-count" title="クラウド・マックス・リトライ・カウント（cloud_max_retry_count">
    クラウドの検出に失敗した場合に、エージェントが接続を再試行する回数を設定します。

    エージェントの初期化中にクラウド検出が失敗した場合、エージェントは[`CloudRetryBackOffSec`秒](#cloud-retry-backoff-sec)待機した後に再試行します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `cloud_max_retry_count`
          </td>

          <td>
            `NRIA_CLOUD_MAX_RETRY_COUNT`
          </td>

          <td>
            整数
          </td>

          <td>
            `10`
          </td>

          <td>
            1.2.6
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="cloud-metadata-expiry-sec" title="クラウド・メタデータ・エクスペリシティ・セキュリティ">
    エージェントがメタデータを破棄するまでの待ち時間を秒単位で設定します。この時間が経過すると、メタデータは失効し、エージェントは再びメタデータを取得します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `cloud_metadata_expiry_sec`
          </td>

          <td>
            `NRIA_CLOUD_METADATA_EXPIRY_SEC`
          </td>

          <td>
            整数
          </td>

          <td>
            `300`
          </td>

          <td>
            1.2.6
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="cloud-retry-backoff-sec" title="クラウド・リトライ・バックオフ・セキュリティ">
    クラウドの検出に失敗した場合に、エージェントがクラウドディテクションの再試行を行うまでの時間を秒単位で設定します。

    エージェントの初期化中にクラウド検出が失敗した場合、エージェントは[`CloudMaxRetryCount`回](#cloud-max-retry-count)再試行します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `cloud_retry_backoff_sec`
          </td>

          <td>
            `NRIA_CLOUD_RETRY_BACKOFF_SEC`
          </td>

          <td>
            整数
          </td>

          <td>
            `60`
          </td>

          <td>
            1.2.6
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="cloud-provider" title="クラウドプロバイダー">
    エージェントが実行されているクラウド プロバイダーを指定します。これがデフォルトとは異なる値に設定されている場合、エージェントは、データをバックエンドに送信する前に、クラウド プロバイダーからメタデータ (インスタンス ID) を正常に取得するまで待機します。

    デフォルトの動作では、エージェントはクラウド プロバイダーの検出とメタデータの取得も試みますが、エージェントをブロックすることはありません。

    許可された値: `""`、 `"aws"`、 `"azure"`、 `"gcp"`、 `"alibaba"`

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `cloud_provider`
          </td>

          <td>
            `NRIA_CLOUD_PROVIDER`
          </td>

          <td>
            ストリング
          </td>

          <td>
            `""`
          </td>

          <td>
            1.40.1
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="disable-cloud-instance-id" title="disable_cloud_instance_id">
    [`DisableCloudMetadata`](#disable-cloud-metadata)に似ていますが、ホストエイリアスプラグインのクラウドメタデータの収集のみを無効にします。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `disable_cloud_instance_id`
          </td>

          <td>
            `NRIA_DISABLE_CLOUD_INSTANCE_ID`
          </td>

          <td>
            ブール値
          </td>

          <td>
            `false`
          </td>

          <td>
            1.0.220
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="disable-cloud-metadata" title="クラウドメタデータの無効化">
    クラウドメタデータの収集を無効にします。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `disable_cloud_metadata`
          </td>

          <td>
            `NRIA_DISABLE_CLOUD_METADATA`
          </td>

          <td>
            ブール値
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.0.690](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10690)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## ドッカー変数

<CollapserGroup>
  <Collapser className="freq-link" id="container-cache-metadata-limit" title="container_cache_metadata_limit">
    キャッシュされたコンテナのメタデータが期限切れになり、エージェントが再度取得する必要が生じるまでの時間（秒単位）。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `container_cache_metadata_limit`
          </td>

          <td>
            `NRIA_CONTAINER_CACHE_METADATA_LIMIT`
          </td>

          <td>
            整数
          </td>

          <td>
            `60`
          </td>

          <td>
            1.0.801
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="docker-api-version" title="docker_api_version">
    DockerクライアントのAPIバージョンを指定します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `docker_api_version`
          </td>

          <td>
            `NRIA_DOCKER_API_VERSION`
          </td>

          <td>
            ストリング
          </td>

          <td>
            `1.24`
          </td>

          <td>
            [1.1.4](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-114)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## ファイルシステム変数 [#filesystem-variables]

<CollapserGroup>
  <Collapser className="freq-link" id="custom-supported-file-systems" title="カスタムサポートファイルシステム">
    エージェントがサポートしているファイルシステムの種類のリストです。この値は、デフォルトのリストのサブセットである必要があり、デフォルトのリストにない項目は破棄されます。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `custom_supported_file_systems`
          </td>

          <td>
            `NRIA_CUSTOM_SUPPORTED_FILESYSTEMS`
          </td>

          <td>
            \[]文字列
          </td>

          <td>
            Linux： `["xfs", "btrfs", "ext", "ext2", "ext3", "ext4", "hfs", "vxfs", "zfs"]`

            ウィンドウズ： `["NTFS", "ReFS"]`
          </td>

          <td>
            1.0.220
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="file-devices-ignored" title="ファイル_デバイス_イグニッション">
    `StorageSample`データを収集するときにエージェントが無視するストレージデバイスのリスト。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `file_devices_ignored`
          </td>

          <td>
            `NRIA_FILE_DEVICES_IGNORED`
          </td>

          <td>
            \[]文字列
          </td>

          <td />

          <td>
            1.0.220
          </td>
        </tr>
      </tbody>
    </table>

    YAML属性の例。

    ```yml
    file_devices_ignored:
      - sda1
      - sda2
    ```

    環境変数としての例

    ```ini
    FILE_DEVICES_IGNORED="sda1,sda2"
    ```
  </Collapser>
</CollapserGroup>

## ホスト名の変数

<CollapserGroup>
  <Collapser className="freq-link" id="display-name" title="display_name">
    レポート用に自動生成されたホスト名を上書きします。これは、同じ名前のホストが複数ある場合に便利です。インフラストラクチャモニタリングでは、ホスト名を各ホストの一意の識別子として使用します。この値は、エンティティ名のループバックアドレスの置換にも使用されることに注意してください。

    詳しくは、 [エンティティ名解決の仕組み](/docs/integrations/integrations-sdk/file-specifications/integration-executable-file-specifications#h2-loopback-address-replacement-on-entity-names) についてのドキュメントをご覧ください。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `display_name`
          </td>

          <td>
            `NRIA_DISPLAY_NAME`
          </td>

          <td>
            ストリング
          </td>

          <td>
            空
          </td>

          <td>
            1.0.266
          </td>
        </tr>
      </tbody>
    </table>

    例：

    ```yml
    display_name: teslaOne
    ```
  </Collapser>

  <Collapser className="freq-link" id="dns_hostname_resolution" title="dns_hostname_resolution">
    `true`の場合、ホストのアドレスの逆引き参照を実行することにより、完全なホスト名が解決されます。それ以外の場合は、Linuxではhostnameコマンドを使用して、WindowsではレジストリのTCP/IPパラメータから取得されます。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `dns_hostname_resolution`
          </td>

          <td>
            `NRIA_DNS_HOSTNAME_RESOLUTION`
          </td>

          <td>
            ブール値
          </td>

          <td>
            `true`
          </td>

          <td>
            [1.2.6](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-125)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="override-hostname" title="ホスト名を上書きする">
    設定されている場合、これは完全なホスト名に対して報告される値であり、そうでない場合は、エージェントは通常の検索動作を行います。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `override_hostname`
          </td>

          <td>
            `NRIA_OVERRIDE_HOSTNAME`
          </td>

          <td>
            ストリング
          </td>

          <td />

          <td>
            1.0.1015
          </td>
        </tr>
      </tbody>
    </table>

    例：

    ```
    my.custom-hostname.co.org
    ```
  </Collapser>

  <Collapser className="freq-link" id="override-hostname-short" title="オーバーライド_ホスト名_ショート">
    設定されている場合、これはホスト名に対して報告される値です。そうでない場合、エージェントは通常の検索動作を行います。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `override_hostname_short`
          </td>

          <td>
            `NRIA_OVERRIDE_HOSTNAME_SHORT`
          </td>

          <td>
            ストリング
          </td>

          <td />

          <td>
            1.0.1015
          </td>
        </tr>
      </tbody>
    </table>

    例：

    ```
    my.custom-hostname
    ```
  </Collapser>
</CollapserGroup>

## インストール変数 [#installation-variables]

<CollapserGroup>
  <Collapser className="freq-link" id="agent-dir" title="agent_dir">
    エージェントがキャッシュ、インベントリ、統合などのファイルを保存するディレクトリ。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `agent_dir`
          </td>

          <td>
            `NRIA_AGENT_DIR`
          </td>

          <td>
            ストリング
          </td>

          <td>
            Linux： `/var/db/newrelic-infra`

            ウィンドウズ： `C:\Program Files\NewRelic\newrelic-infra\`
          </td>

          <td>
            1.0.2
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="plugin-dir" title="plugin_dir">
    インテグレーションの設定ファイルを含むディレクトリ。

    各統合には、デフォルトで`<integration_name>-config.yml`という名前の独自の構成ファイルがあり、エージェントが初期化時にロードする事前定義された場所に配置されます。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `plugin_dir`
          </td>

          <td>
            `NRIA_PLUGIN_DIR`
          </td>

          <td>
            ストリング
          </td>

          <td>
            Linux： `etc/newrelic-infra/integrations.d/`

            ウィンドウズ： `\Program Files\NewRelic\newrelic-infra\integrations.d`
          </td>

          <td>
            1.0.2
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="custom-plugin-installation-dir" title="カスタムプラグインのインストール先">
    統合をインストールするためのカスタムパスを指定します。これにより、統合を`agent_dir`の外部にインストールできます。エージェントがインストール済みの統合を探している場合は、これが優先されます。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `custom_plugin_installation_dir`
          </td>

          <td>
            `NRIA_CUSTOM_PLUGIN_INSTALLATION_DIR`
          </td>

          <td>
            ストリング
          </td>

          <td>
            エンプティ
          </td>

          <td>
            1.0.2
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## 積算変数

<CollapserGroup>
  <Collapser className="freq-link" id="passthrough_-environment" title="passthrough_environment">
    すべての統合に渡される環境変数のリストです。インテグレーションに同じ名前の既存の設定オプションがある場合は、環境変数が優先されます。

    インフラストラクチャエージェント1.24.1以降、 `passthrough_environment`は変数名の正規表現をサポートします。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `passthrough_environment`
          </td>

          <td>
            `NRIA_PASSTHROUGH_ENVIRONMENT`
          </td>

          <td>
            \[]文字列
          </td>

          <td>
            エンプティ
          </td>

          <td>
            [1.0.719](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10719)
          </td>
        </tr>
      </tbody>
    </table>

    YAML属性としての例（エージェントの構成ファイル内、デフォルトでは`/etc/newrelic-infra.yml`にあります）：

    ```yml
    passthrough_environment:
      - HOST
      - PORT
      - NRIA_.*
    ```

    環境変数としての例

    ```ini
    NRIA_PASSTHROUGH_ENVIRONMENT="HOST,PORT,NRIA_.*"
    ```

    Windows ホストの場合: `PATHEXT`は MS Windows 環境変数です。 この機能は、すべてのコマンドラインから実行可能なファイルにどの拡張子がマークされているかを判断することです。 これにより、一般的な Flex 統合で「... はコマンドレット、関数、スクリプト ファイルの名前として認識されません...」というエラーが報告され、すべて解決されます。

    ```yml
    passthrough_environment:
      - PATHEXT
    ```
  </Collapser>

  <Collapser className="freq-link" id="entityname-integrations-v2-update" title="エンティティネーム_統合_v2_update">
    エージェントは、統合プロトコルのバージョン3に対して、エンティティ名（したがってキー）のループバックアドレス置換を自動的に有効にします。プロトコルのバージョン2を使用していて、この動作が必要な場合は、 `entityname_integrations_v2_update`オプションを有効にします。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `entityname_integrations_v2_update`
          </td>

          <td>
            `NRIA_ENTITYNAME_INTEGRATIONS_V2_UPDATE`
          </td>

          <td>
            ブール値
          </td>

          <td>
            `false`
          </td>

          <td>
            1.2.15
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="http-server-enabled" title="http_server_enabled">
    この構成パラメーターを`true`に設定すると、エージェントはHTTPポート（デフォルトでは`8001` ）を開き、NewRelicStatsDバックエンドからデータを受信します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `http_server_enabled`
          </td>

          <td>
            `NRIA_HTTP_SERVER_ENABLED`
          </td>

          <td>
            ブール値
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.0.818](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10818)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="http-server-host" title="http_server_host">
    この値を設定すると、エージェントは`HTTPServerPort`のリッスンを開始して、NewRelicStatsDバックエンドからデータを受信します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `http_server_host`
          </td>

          <td>
            `NRIA_HTTP_SERVER_HOST`
          </td>

          <td>
            ストリング
          </td>

          <td>
            `localhost`
          </td>

          <td>
            [1.0.818](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10818)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="http-server-port" title="http_server_port">
    New Relic StatsD バックエンドからデータを受信するための http サーバーのポートを設定します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `http_server_port`
          </td>

          <td>
            `NRIA_HTTP_SERVER_PORT`
          </td>

          <td>
            整数
          </td>

          <td>
            `8001`
          </td>

          <td>
            [1.0.818](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10818)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="remove-entities-period" title="remove_entities_period">
    この期間に情報が報告されていないエンティティの削除処理を開始します。

    有効な時間単位： `s` （秒）、 `m` （分）、および`h` （時間）。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `remove_entities_period`
          </td>

          <td>
            `NRIA_REMOVE_ENTITIES_PERIOD`
          </td>

          <td>
            ストリング
          </td>

          <td>
            `48h`
          </td>

          <td>
            [1.0.859](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10859)
          </td>
        </tr>
      </tbody>
    </table>

    例：

    ```
    1h
    ```
  </Collapser>

  <Collapser className="freq-link" id="event_queue_depth" title="イベントキューの深さ">
    ホスト上に多数のプロセスがある場合、または統合全体で収集された大量のデータがある場合、エージェント キューがオーバーランする可能性があります。キューの深さを増やして、キューがいっぱいになることによるエラー メッセージを防ぎます。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `event_queue_depth`
          </td>

          <td>
            `NRIA_EVENT_QUEUE_DEPTH`
          </td>

          <td>
            int64
          </td>

          <td>
            `1000`
          </td>

          <td>
            [1.12.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1120/)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="default_integrations_temp_dir" title="default_integrations_temp_dir">
    統合 SDK 同期の永続ストレージとして使用される一時ディレクトリを定義します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `default_integrations_temp_dir`
          </td>

          <td>
            `NRIA_DEFAULT_INTEGRATIONS_TEMP_DIR`
          </td>

          <td>
            ストリング
          </td>

          <td>
            `/tmp/nr-integrations`
          </td>

          <td>
            [1.50.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1500/)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="is_integrations_only" title="統合のみ">
    インフラストラクチャ エージェント以外のソース ( OpenTelemetry Collector や Prometheus ノード エクスポータなど) からホストをインストゥルメントされており、他のインフラを監視するためにインフラストラクチャ オンホストエージェント統合を使用し続けたい場合は、この設定を使用します。ストラクチャサービス。 有効にすると、エージェントはホストのメタデータで修飾されたホスト インベントリと統合テレメトリー (イベント メトリクスとインベントリ) を報告しますが、ホスト メトリクス (CPU、メモリ、ディスク、ネットワーク、プロセス) は無効になります。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `is_integrations_only`
          </td>

          <td>
            `NRIA_IS_INTEGRATIONS_ONLY`
          </td>

          <td>
            ブール値
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.53.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1530/)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## 在庫変数

<CollapserGroup>
  <Collapser className="freq-link" id="offline-time-to-reset" title="オフライン_リセット時間">
    キャッシュされたインベントリがこの値よりも古くなった場合（エージェントがオフラインになった場合など）、エージェントは自動的にデルタストアを削除し、再作成します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `offline_time_to_reset`
          </td>

          <td>
            `NRIA_OFFLINE_TIME_TO_RESET`
          </td>

          <td>
            ストリング
          </td>

          <td>
            `24h`
          </td>

          <td>
            [1.0.888](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10888)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="enable-async-inventory" title="Enable_async_inventory">
    true に設定すると、インベントリの非同期処理が有効になり、より大きなインベントリ ペイロードを処理できるようになります。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `async_inventory_handler_enabled`
          </td>

          <td>
            `NRIA_ASYNC_INVENTORY_HANDLER_ENABLED`
          </td>

          <td>
            bool
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.40.1](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1401)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="ignored-inventory" title="ignored_inventory">
    エージェントが無視するインベントリパスのリストです。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `ignored_inventory`
          </td>

          <td>
            `NRIA_IGNORED_INVENTORY`
          </td>

          <td>
            文字列\[]
          </td>

          <td>
            空のリスト
          </td>

          <td>
            [1.0.336](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10336)
          </td>
        </tr>
      </tbody>
    </table>

    YAML属性の例。

    ```yml
    ignored_inventory:
      - files/config/stuff.bar
      - files/config/stuff.foo
    ```

    環境変数としての例

    ```ini
    NRIA_IGNORED_INVENTORY="files/config/stuff.bar,files/config/stuff.foo"
    ```
  </Collapser>
</CollapserGroup>

## Linuxの変数 [#linux-variables]

<CollapserGroup>
  <Collapser className="freq-link" id="pid-file" title="pid_file">
    エージェントプロセスの`pid`ファイルが作成されるLinux上の場所。起動時に、エージェントの他のインスタンスが実行されていないことを確認するために使用されます。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `pid_file`
          </td>

          <td>
            `NRIA_PID_FILE`
          </td>

          <td>
            ストリング
          </td>

          <td>
            `/var/run/newrelic-infra/newrelic-infra.pid`
          </td>

          <td>
            1.0.2
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="ignore-reclaimable" title="ignore_reclaimable">
    trueの場合、ホスト仮想メモリの定式化では`SReclaimable`が使用可能なメモリと見なされます。それ以外の場合、 `SReclaimable`は使用済みメモリの一部と見なされます。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `ignore_reclaimable`
          </td>

          <td>
            `NRIA_IGNORE_RECLAIMABLE`
          </td>

          <td>
            ブール値
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.2.6](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-125)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## 変数のロギング

<CollapserGroup>
  <Collapser className="freq-link" id="log" title="ログ">
    Log は、インフラストラクチャ エージェント ロガーの構成に使用されるキーと値のマップです。YAML 属性としての例:

    ```yml
    log:
      file: '/var/log/newrelic-infra/newrelic-infra.log'
      level: debug
      forward: true
      stdout: false
    ```

    環境変数としての例

    ```ini
    NRIA_LOG_FILE='/var/log/newrelic-infra/newrelic-infra.log'
    NRIA_LOG_LEVEL='smart'
    NRIA_LOG_FORWARD='false'
    NRIA_LOG_STDOUT='true'
    ```

    <CollapserGroup>
      <Collapser className="freq-link" id="file" title="ファイル">
        ログのファイルパスを定義します。

        デフォルトのインストールではログディレクトリが作成され、このファイルパス値が`file`構成オプションに設定されます。このログディレクトリは、以下に示すように、OSごとに異なります。

        この設定オプションを変更して、ログのファイルパスをカスタマイズします。

        <table>
          <thead>
            <tr>
              <th style={{ width: "200px" }}>
                YMLオプション名
              </th>

              <th style={{ width: "200px" }}>
                環境変数
              </th>

              <th>
                タイプ
              </th>

              <th>
                デフォルト
              </th>

              <th>
                バージョン
              </th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
                `file`
              </td>

              <td>
                `NRIA_LOG_FILE`
              </td>

              <td>
                ストリング
              </td>

              <td>
                下記参照\*。
              </td>

              <td />
            </tr>
          </tbody>
        </table>

        デフォルトのパスです。

        * Linuxです。定義されていない場合は、標準出力にのみログを記録します。

        * Windows、エージェントバージョン1.0.944以上。

          ```
          C:\%ProgramData%\New Relic\newrelic-infra\newrelic-infra.log
          ```

          ディレクトリの作成ができない場合

          ```
          C:\Program Files\New Relic\newrelic-infra\newrelic-infra.log
          ```
      </Collapser>

      <Collapser className="freq-link" id="level" title="level">
        ログレベルを定義します。利用可能な値：

        * `info`：レベルエラー、警告、情報のログメッセージを表示します。

        * `smart`: [スマート冗長モード](/docs/infrastructure/infrastructure-troubleshooting/troubleshoot-logs/infrastructure-agent-logging-behavior/#smart-verbose-mode)を有効にします。スマート冗長モードでは、エラーが記録されると、最後の `smart_level_entry_limit` デバッグ メッセージが記録されます。

        * `debug`：レベルエラー、警告、情報、およびデバッグのログメッセージを表示します。

        * `trace`：すべてのログメッセージが表示されます。

          <Callout variant="important">
            トレースレベルのログは、大量のデータを非常に迅速に生成できます。問題を再現するために必要な期間だけエージェントをトレースモードで実行してから、 `level: info`を設定し[、エージェントを再起動](/docs/infrastructure/new-relic-infrastructure/configuration/start-stop-restart-check-infrastructure-agent-status)して詳細ログを無効にします。または、 `level` ： `smart`を設定して、スマート冗長モードを有効にすることもできます。
          </Callout>

          <table>
            <thead>
              <tr>
                <th style={{ width: "200px" }}>
                  YMLオプション名
                </th>

                <th style={{ width: "200px" }}>
                  環境変数
                </th>

                <th>
                  タイプ
                </th>

                <th>
                  デフォルト
                </th>

                <th>
                  バージョン
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  `level`
                </td>

                <td>
                  `NRIA_LOG_LEVEL`
                </td>

                <td>
                  ストリング
                </td>

                <td>
                  設定されていません
                </td>

                <td />
              </tr>
            </tbody>
          </table>
      </Collapser>

      <Collapser className="freq-link" id="log-format" title="フォーマット">
        ログの出力形式を定義します。利用可能な値

        * `text`：プレーンテキスト出力、ログエントリごとに1行。

        * `json`：JSON形式の出力、ログエントリごとに1行。

          <table>
            <thead>
              <tr>
                <th style={{ width: "200px" }}>
                  YMLオプション名
                </th>

                <th style={{ width: "200px" }}>
                  環境変数
                </th>

                <th>
                  タイプ
                </th>

                <th>
                  デフォルト
                </th>

                <th>
                  バージョン
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  `format`
                </td>

                <td>
                  `NRIA_LOG_FORMAT`
                </td>

                <td>
                  ストリング
                </td>

                <td>
                  `text`
                </td>

                <td>
                  [1.4.9](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-149)
                </td>
              </tr>
            </tbody>
          </table>
      </Collapser>

      <Collapser className="freq-link" id="forward" title="前方">
        エージェント ログをログ UI に転送できるようにします。無効にするには、この構成オプションを `false`に設定します。

        <table>
          <thead>
            <tr>
              <th style={{ width: "200px" }}>
                YMLオプション名
              </th>

              <th style={{ width: "200px" }}>
                環境変数
              </th>

              <th>
                タイプ
              </th>

              <th>
                デフォルト
              </th>

              <th>
                バージョン
              </th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
                `forward`
              </td>

              <td>
                `NRIA_LOG_FORWARD`
              </td>

              <td>
                ブール値
              </td>

              <td>
                `false`
              </td>

              <td>
                [1.0.703](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10703)
              </td>
            </tr>
          </tbody>
        </table>
      </Collapser>

      <Collapser className="freq-link" id="stdout" title="stdout">
        デフォルトでは、すべてのログは標準出力とログファイルの両方に表示されます。標準出力でログを無効にするには、この構成オプションを`false`に設定します。

        <table>
          <thead>
            <tr>
              <th style={{ width: "200px" }}>
                YMLオプション名
              </th>

              <th style={{ width: "200px" }}>
                環境変数
              </th>

              <th>
                タイプ
              </th>

              <th>
                デフォルト
              </th>

              <th>
                バージョン
              </th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
                `stdout`
              </td>

              <td>
                `NRIA_LOG_STDOUT`
              </td>

              <td>
                ブール値
              </td>

              <td>
                `true`
              </td>

              <td>
                [1.0.703](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10703)
              </td>
            </tr>
          </tbody>
        </table>
      </Collapser>

      <Collapser className="freq-link" id="smart_level_entry_limit" title="smart_level_entry_limit">
        `smart_level_entry_limit` エラーがログに記録されるときにログに記録される以前のデバッグ メッセージの数を指します。 たとえば、制限が`5`に設定されている場合、デバッグ ログはエラーがログになるまでメモリにキャッシュされ、その時点で以前の 5 つのデバッグ メッセージもログになります。

        <Callout variant="important">
          この構成オプションは、 `level`が`smart` （スマートレベルが有効）に設定されている場合にのみ使用されます。
        </Callout>

        <table>
          <thead>
            <tr>
              <th style={{ width: "200px" }}>
                YMLオプション名
              </th>

              <th style={{ width: "200px" }}>
                環境変数
              </th>

              <th>
                タイプ
              </th>

              <th>
                デフォルト
              </th>

              <th>
                バージョン
              </th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
                `smart_level_entry_limit`
              </td>

              <td>
                `NRIA_SMART_LEVEL_ENTRY_LIMIT`
              </td>

              <td>
                整数
              </td>

              <td>
                `1000`
              </td>

              <td>
                [1.9.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-190)
              </td>
            </tr>
          </tbody>
        </table>
      </Collapser>

      <Collapser className="freq-link" id="rotate" title="回転する">
        バージョン[v1.28.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes)以降では、組み込みのログローテーション機能を使用できます。デフォルトでは、ログローテーションは無効になっています。これを有効にするには、 `max_size_mb`オプションを使用してログファイルの最大サイズを指定する必要があります。インフラストラクチャエージェントのログファイルがそのサイズに達すると、現在のログファイルが新しいファイルにローテーションされます。

        ```yml
        log:
          level: info
          file: /var/log/newrelic-infra/newrelic-infra.log
          rotate:
            max_size_mb: 1000                        # Required
            max_files: 5                             # Optional
            compression_enabled: true                # Optional
            file_pattern: YYYY-MM-DD_hh-mm-ss.log    # Optional
        ```

        <CollapserGroup>
          <Collapser className="rotate-max_size_mb" id="rotate-max_size_mb" title="max_size_mb">
            `max_size_mb` インフラストラクチャエージェントログファイルの最大サイズをメガバイト単位で指定します。ファイルがこのサイズに達すると、現在のログが新しいファイルにローテーションされます。`max_size_mb`が`0`の場合、組み込みのログローテーションは無効になります。

            <table>
              <thead>
                <tr>
                  <th style={{ width: "200px" }}>
                    YMLオプション名
                  </th>

                  <th style={{ width: "200px" }}>
                    環境変数
                  </th>

                  <th>
                    タイプ
                  </th>

                  <th>
                    デフォルト
                  </th>

                  <th>
                    バージョン
                  </th>
                </tr>
              </thead>

              <tbody>
                <tr>
                  <td>
                    `max_size_mb`
                  </td>

                  <td>
                    `NRIA_LOG_ROTATE_MAX_SIZE_MB`
                  </td>

                  <td>
                    整数
                  </td>

                  <td>
                    `0` - 無効
                  </td>

                  <td />
                </tr>
              </tbody>
            </table>
          </Collapser>

          <Collapser className="rotate-max_files" id="rotate-max_files" title="max_files">
            `max_files` 保持するアーカイブログファイルの数を定義します。この値を超えると、古いファイルが削除されます。`max_files`が`0`の場合、ファイル数の制限は無効になります。

            <table>
              <thead>
                <tr>
                  <th style={{ width: "200px" }}>
                    YMLオプション名
                  </th>

                  <th style={{ width: "200px" }}>
                    環境変数
                  </th>

                  <th>
                    タイプ
                  </th>

                  <th>
                    デフォルト
                  </th>

                  <th>
                    バージョン
                  </th>
                </tr>
              </thead>

              <tbody>
                <tr>
                  <td>
                    `max_files`
                  </td>

                  <td>
                    `NRIA_LOG_ROTATE_MAX_FILES`
                  </td>

                  <td>
                    整数
                  </td>

                  <td>
                    `0`
                  </td>

                  <td />
                </tr>
              </tbody>
            </table>
          </Collapser>

          <Collapser className="rotate-compression_enabled" id="rotate-compression_enabled" title="Compression_enabled">
            `compression_enabled`を`true`に設定すると、ログファイルの圧縮を有効にできます。圧縮がアクティブになっている場合、ローテーションされたファイルは`gzip`形式になり、使用するディスク容量が少なくなります。

            <Callout variant="important">
              ログローテーション中に圧縮が有効になっている場合、特に`max_size_mb`値が`1000`より大きい場合、エージェントのCPU使用率が増加する可能性があります。
            </Callout>

            <table>
              <thead>
                <tr>
                  <th style={{ width: "200px" }}>
                    YMLオプション名
                  </th>

                  <th style={{ width: "200px" }}>
                    環境変数
                  </th>

                  <th>
                    タイプ
                  </th>

                  <th>
                    デフォルト
                  </th>

                  <th>
                    バージョン
                  </th>
                </tr>
              </thead>

              <tbody>
                <tr>
                  <td>
                    `compression_enabled`
                  </td>

                  <td>
                    `NRIA_LOG_ROTATE_COMPRESSION_ENABLED`
                  </td>

                  <td>
                    ブール値
                  </td>

                  <td>
                    `false`
                  </td>

                  <td />
                </tr>
              </tbody>
            </table>
          </Collapser>

          <Collapser className="rotate-file_pattern" id="rotate-file_pattern" title="file_pattern">
            `file_pattern` アーカイブされたログファイルの名前の形式を指定します。デフォルトでは、新しいファイル名は次の名前パターンを使用します： `original-file_YYYY-MM-DD_hh-mm-ss.log` 。

            次のタイムスタンプフィールドを使用して、ファイル名パターンをカスタマイズできます。

            * `YYYY`： 年

            * `MM`： 月

            * `DD`： 日

            * `hh`： 時間

            * `mm`： 分

            * `ss`：セカンド

              エージェントは、これらのタイムスタンプフィールドをファイルローテーションの時刻に自動的に置き換えます。例えば：

              ```yml
              log:
                level: info
                file: /var/log/newrelic-infra/newrelic-infra.log
                rotate:
                  max_size_mb: 1000
                  file_pattern: rotated.YYYY-MM-DD_hh-mm-ss.log
              ```

              <table>
                <thead>
                  <tr>
                    <th style={{ width: "200px" }}>
                      YMLオプション名
                    </th>

                    <th style={{ width: "200px" }}>
                      環境変数
                    </th>

                    <th>
                      タイプ
                    </th>

                    <th>
                      デフォルト
                    </th>

                    <th>
                      バージョン
                    </th>
                  </tr>
                </thead>

                <tbody>
                  <tr>
                    <td>
                      `file_pattern`
                    </td>

                    <td>
                      `NRIA_LOG_ROTATE_FILE_PATTERN`
                    </td>

                    <td>
                      ストリング
                    </td>

                    <td>
                      `file_YYYY-MM-DD_hh-mm-ss.file_extension`
                    </td>

                    <td />
                  </tr>
                </tbody>
              </table>
          </Collapser>
        </CollapserGroup>
      </Collapser>
    </CollapserGroup>
  </Collapser>
</CollapserGroup>

<Callout variant="tip">
  インフラストラクチャ エージェント バージョン 1.28.0 では、ロギング構成の下位互換性の向上が導入されました。従来の設定と、それらを新しい構造にマッピングする方法を理解するには、 [GitHub ドキュメント](https://github.com/newrelic/infrastructure-agent/blob/master/docs/log_configuration.md)を参照してください。
</Callout>

## メトリクス変数 [#metrics]

<CollapserGroup>
  <Collapser className="freq-link" id="custom-attributes" title="custom_attributes">
    カスタム属性は、インフラストラクチャ エージェントからのデータに注釈を付けるために使用されるキーと値のペア (他のツールのタグと同様) です。このメタデータを使用して、エンティティをフィルタリングし、[結果をグループ化し](/docs/infrastructure-group-results-specific-attributes)、データに注釈を付けることができます。たとえば、マシンの環境 (ステージングまたは運用)、マシンがホストするサービス (ログイン サービスなど)、またはそのマシンを担当するチームを指定できます。

    <Callout variant="tip">
      エージェントは、 [デフォルトの属性](/docs/default-infrastructure-events-attributes) の一部として、 [Amazon Elastic Compute Cloud（Amazon EC2）タグ](/docs/default-infrastructure-events-attributes#aws-ec2-attributes) を含む、お客様の環境に関する多くの詳細情報を収集します。
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "250px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "250px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `custom_attributes`
          </td>

          <td>
            `NRIA_CUSTOM_ATTRIBUTES`
          </td>

          <td>
            map\[string]interface\{}
          </td>
        </tr>
      </tbody>
    </table>

    カスタムアトリビュートのリストを使用して、このエージェントインスタンスからのデータに注釈を付けます。 キーと値はコロン`:`で区切ります (例: `KEY: VALUE` 。また、各キーと値のペアは改行で区切ります。 キーには、スラッシュ`/`を除く有効な YAML を使用できます。 値には、スペースを含む任意の YAML 文字列を指定できます。 キーを`label.`で開始すると、そのホストが異なるクラウド環境で実行され、クラウド タグまたはクラウド ラベルがタグの組み合わせによる装飾でキーとやり取りする場合でも、キーはそのまま残ります。 対照的に、これらの環境で実行している場合や、インフラストラクチャ エージェントからのデータとクラウド モニタリングを組み合わせる場合は、 `custom_labels`に`gcp.`または`azure.`という接頭辞が付けられる場合があります。

    YAML属性の例。

    ```yml
    custom_attributes:
      label.environment: production
      label.service: login service
      label.team: alpha-team
    ```

    環境変数としての例

    ```ini
    NRIA_CUSTOM_ATTRIBUTES='{"label.customAttribute_1":"SOME_ATTRIBUTE","label.customAttribute_2": "SOME_ATTRIBUTE_2"}'
    ```

    NRQL の例では、カスタム属性によるフィルタリングを行っています。

    ```sql
    FROM SystemSample SELECT * WHERE label.environment = 'production'
    ```
  </Collapser>

  <Collapser className="freq-link" id="enable-process-metrics" title="プロセスメトリクスの有効化">
    <Callout variant="important">
      インフラストラクチャエージェントバージョン 1.12.0 以降が必要です。 2020 年 7 月 20 日より前に作成されたアカウント、および/または新しいガイド付きインストールを使用してインストールされたインフラストラクチャ エージェントでは、この変数がデフォルトで有効になっています。
    </Callout>

    [プロセスメトリクス](/attribute-dictionary/?event=ProcessSample) の New Relic への送信を有効にします。

    デフォルトでは、インフラストラクチャエージェントはオペレーティングシステムのプロセスに関するデータを送信しません。 `metrics_process_sample_rate`が`-1`に設定されていない限り、エージェントは引き続きそのようなデータを収集します。

    すべてのオペレーティングシステムのプロセスに関するメトリックデータをレポートするには、 `enable_process_metrics`を`true`に設定します。無効にするには、 `false`に設定します。

    すべてのプロセス データを送信すると、New Relic に送信されるデータの量が増加する可能性があります。 監視するプロセスを微調整するには、 [`include_matching_metrics`](#include-matching-metrics)または[`exclude_matching_metrics`](#exclude-matching-metrics)を構成します。

    デフォルトでは、低メモリを使用しているプロセスはサンプリングの対象から除外されます。詳しくは、 [disable-zero-mem-process-filter](/docs/infrastructure/install-infrastructure-agent/configuration/infrastructure-agent-configuration-settings#disable-zero-mem-process-filter) をご覧ください。

    <table>
      <thead>
        <tr>
          <th style={{ width: "245px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "295px" }}>
            環境変数
          </th>

          <th style={{ width: "78px" }}>
            タイプ
          </th>

          <th style={{ width: "80px" }}>
            デフォルト
          </th>

          <th style={{ width: "80px" }}>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `enable_process_metrics`
          </td>

          <td>
            `NRIA_ENABLE_PROCESS_METRICS`
          </td>

          <td>
            ブール値
          </td>

          <td>
            `false`
          </td>

          <td />
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="process-container-decoration" title="プロセスコンテナの装飾">
    有効にすると、プロセスがコンテナ内で実行される場合、エージェントはプロセス サンプルをコンテナ情報で装飾します。

    この情報には、コンテナ ID、コンテナ名、イメージ ID、イメージ名、コンテナ ラベルが含まれます。

    <table>
      <thead>
        <tr>
          <th style={{ width: "245px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "295px" }}>
            環境変数
          </th>

          <th style={{ width: "78px" }}>
            タイプ
          </th>

          <th style={{ width: "80px" }}>
            デフォルト
          </th>

          <th style={{ width: "80px" }}>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `process_container_decoration`
          </td>

          <td>
            `NRIA_PROCESS_CONTAINER_DECORATION`
          </td>

          <td>
            ブール値
          </td>

          <td>
            `true`
          </td>

          <td>
            1.55.0
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="include-matching-metrics" title="include_matching_metrics">
    <Callout variant="important">
      現在のところ、この設定はオペレーティングシステムのプロセスメトリクスにのみ適用されます。
    </Callout>

    `include_matching_metrics`を設定することで、New Relicに送信されるデータの量を制御できます。これにより、メトリック[属性](/docs/query-your-data/nrql-new-relic-query-language/nrql-query-tutorials/query-infrastructure-dimensional-metrics-nrql#naming-conventions)の値に基づいてメトリックデータの送信を制限できます。

    メトリックの属性のいずれかにリテラル値または部分値を定義することにより、メトリックデータを含めます。たとえば、 `process.name`が`^java`[正規表現](https://github.com/google/re2/wiki/Syntax)と一致するすべてのプロセスの`host.process.cpuPercent`を送信するように選択できます。

    この例では、実行ファイルと名前を使ってプロセスメトリクスを含めています。

    ```yml
    include_matching_metrics:          # You can combine attributes from different metrics
      process.name:
        - regex "^java"                # Include all processes starting with "java"
      process.executable:
        - "/usr/bin/python2"           # Include the Python 2.x executable
        - regex "\\System32\\svchost"  # Include all svchost executables
    ```

    いずれかの値にコマンドライン引数を含める必要がある場合は、 [`strip_command_line`](#strip-command-line)をfalseに設定します（インフラストラクチャエージェントは、シークレットが漏洩しないように、デフォルトでCLI引数を削除します）。

    同じアイテムに`include_matching_metrics`と`exclude_matching_metrics`の両方が存在する場合は、含まれるものが優先されます。

    `include_matching_metrics` [Kubernetes 統合](/docs/integrations/kubernetes-integration)の環境変数として構成するには、それを `env:` オブジェクト内のマニフェストに追加します。

    ```yml
    env:
      - name: NRIA_INCLUDE_MATCHING_METRICS
        value: |
          process.name:
            - regex "^java"
          process.executable:
            - "/usr/bin/python2"
            - regex "\\System32\\svchost"
    ```

    デフォルト

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `include_matching_metrics`
          </td>

          <td>
            `NRIA_INCLUDE_MATCHING_METRICS`
          </td>

          <td>
            metric.attribute:

            \- regex&quot;パターン&quot;

            -&quot;文字列&quot;

            -&quot;文字列-ワイルドカード\*付き&quot;
          </td>

          <td />

          <td />
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="exclude-matching-metrics" title="除外一致メトリック">
    <Callout variant="important">
      現在のところ、この設定はオペレーティングシステムのプロセスメトリクスにのみ適用されます。
    </Callout>

    `exclude_matching_metrics` を構成することで、 New Relicに送信されるデータの量を制御できます。これにより、メトリクス [プロパティ](/docs/nrql/using-nrql/query-infrastructure-dimensional-metrics-nrql/#naming-conventions)の値に基づいてメトリクス データの送信を制限できます。

    メトリクス データを除外するには、メトリクスのプロパティのいずれかに対してリテラル値または部分値を定義します。 たとえば、 `process.name`が`^java`[正規表現](https://github.com/google/re2/wiki/Syntax)に一致するすべてのプロセスの`host.process.cpuPercent`を送信しないように選択できます。

    この例では、実行可能ファイルと名前を使用してプロセス メトリクスを除外します。

    ```yml
    exclude_matching_metrics:          # You can combine attributes from different metrics
      process.name:
        - regex "^java"                # Exclude all processes starting with "java"
      process.executable:
        - "/usr/bin/python2"           # Exclude the Python 2.x executable
        - regex "\\System32\\svchost"  # Exclude all svchost executables
    ```

    `exclude_matching_metrics` [をKubernetesインテグレーション](/docs/kubernetes-pixie/kubernetes-integration/get-started/introduction-kubernetes-integration/)の環境変数として構成するには、それを `env:` オブジェクト内のマニフェストに追加します。

    ```yml
    env:
      - name: NRIA_EXCLUDE_MATCHING_METRICS
        value: |
          process.name:
            - regex "^java"
          process.executable:
            - "/usr/bin/python2"
            - regex "\\System32\\svchost"
    ```

    デフォルト

    1.57.0

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `exclude_matching_metrics`
          </td>

          <td>
            `NRIA_EXCLUDE_MATCHING_METRICS`
          </td>

          <td>
            metric.attribute:

            \- regex&quot;パターン&quot;

            -&quot;文字列&quot;

            -&quot;文字列-ワイルドカード\*付き&quot;
          </td>

          <td />

          <td />
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="network-interface-filters" title="ネットワーク・インターフェイス・フィルター">
    ネットワーク・インターフェース・フィルター設定を使用すると、使用していないネットワーク・インターフェースや興味のないネットワーク・インターフェースをインフラストラクチャ・エージェントから隠すことができます。これにより、リソースの使用、作業、データのノイズを減らすことができます。

    <Callout variant="important">
      この設定では、環境変数はサポートされていません。
    </Callout>

    この設定では、シンプルなパターンマッチングメカニズムを使用しており、いずれかのパターンに続く特定の文字または数字のシーケンスで始まるインターフェースを探すことができます。

    * `{name}[other characters]`、ここで`prefix`オプションを使用して名前を指定します

    * `[number]{name}[other characters]`、ここで`index-1`オプションを使用して名前を指定します

      New Relic のインフラでは、厳選されたデフォルトのフィルターリストが実装されており、 [Linux](#filters-linux) と [Windows](#filters-windows) の両方で利用でき、お客様が変更することも可能です。

      <table>
        <thead>
          <tr>
            <th style={{ width: "200px" }}>
              YMLオプション名
            </th>

            <th style={{ width: "200px" }}>
              環境変数
            </th>

            <th>
              タイプ
            </th>

            <th>
              デフォルト
            </th>

            <th>
              バージョン
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `network_interface_filters`
            </td>

            <td>
              対応していません
            </td>

            <td>
              マップ\[文字列]\[]文字列
            </td>

            <td />

            <td>
              1.0.220
            </td>
          </tr>
        </tbody>
      </table>

      <CollapserGroup>
        <Collapser className="freq-link" id="filters-linux" title="Linux">
          Linuxのデフォルトのネットワークインターフェイスフィルタ。

          * `dummy` 、 `lo` 、 `vmnet` 、 `sit` 、 `tun` 、 `tap` 、または `veth`

          * `tun`またはを含むネットワークインターフェース `tap`

            次の例（構成ファイルに追加）は、デフォルトのフィルターをオーバーライドします。これは、 `dummy`または`lo`で始まる、または一連の数字が前に続き、他の文字が続く`tun`を含むネットワークインターフェイスを無視します。

            ```yml
            network_interface_filters:
              prefix:
                - dummy
                - lo
              index-1:
                - tun
            ```
        </Collapser>

        <Collapser className="freq-link" id="filters-windows" title="ウィンドウズ">
          Windowsのデフォルトのネットワークインターフェイスフィルタ。

          * `Loop` 、 `isatap` 、またはで始まるネットワークインターフェイス `Local`

            次の例（構成ファイルに追加）は、デフォルトのフィルターをオーバーライドします。これは、 `Loop`で始まるネットワークインターフェースを無視します：

            ```yml
            network_interface_filters:
              prefix:
                - Loop
            ```
        </Collapser>
      </CollapserGroup>
  </Collapser>

  <Collapser className="freq-link" id="disable-zero-mem-process-filter" title="ゼロ・メモリ・プロセス・フィルターを無効にする">
    `ZeroRSSFilter`は、メモリを使用していないプロセスをサンプリングから除外します。フィルタを無効にして、エージェントがこれらのプロセスを`ProcessSample`に含めるようにします。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `disable_zero_mem_process_filter`
          </td>

          <td>
            `NRIA_DISABLE_ZERO_MEM_PROCESS_FILTER`
          </td>

          <td>
            ブール値
          </td>

          <td>
            `false`
          </td>

          <td>
            1.0.832
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## プラグインの変数

<Callout variant="tip">
  [`DisableAllPlugins`](#disable-all-plugins)を`true`に設定することですべての変数をすばやく無効にし、必要なオプションのみをオンにすることができます。
</Callout>

<CollapserGroup>
  <Collapser className="freq-link" id="disable-all-plugins" title="すべてのプラグインを無効にする">
    すべてのプラグインを無効にするには、このオプションを`true`に設定します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `disable_all_plugins`
          </td>

          <td>
            `NRIA_DISABLE_ALL_PLUGINS`
          </td>

          <td>
            ブール値
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.2.1](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-121)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="cloud-security-group-refresh-sec" title="クラウド・セキュリティ・グループ・リフレッシュ・セキュリティ（cloud_security_group_refresh_sec">
    `CloudSecurityGroups`プラグインのサンプリング期間（秒単位）。最小値は`30`です。無効にするには、 `-1`に設定します。

    <Callout variant="important">
      このプラグインは、エージェントがAWSインスタンスで動作している場合にのみ有効です。
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `cloud_security_group_refresh_sec`
          </td>

          <td>
            `NRIA_CLOUD_SECURITY_GROUP_REFRESH_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `60`
          </td>

          <td>
            [1.0.692](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10703)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="daemontools-interval-sec" title="daemontools_interval_sec">
    `Daemontools`プラグインのサンプリング期間（秒単位）。最小値は`10`です。無効にするには、 `-1`に設定します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `daemontools_interval_sec`
          </td>

          <td>
            `NRIA_DAEMONTOOLS_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `15`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="dpkg-interval-sec" title="dpkg_interval_sec">
    `Dpkg`プラグインのサンプリング期間（秒単位）。最小値は`30`です。無効にするには、 `-1`に設定します。パラメータが設定ファイルで明示的に設定されていない場合は、 [`DisableAllPlugins`](#disable-all-plugins)を`true`に設定することで無効にできます。

    <Callout variant="important">
      これは、 [`root`または`privileged`実行モード](/docs/infrastructure/install-configure-infrastructure/linux-installation/linux-agent-running-modes)および[Debianベースのディストリビューション](/docs/infrastructure/new-relic-infrastructure/installation/install-infrastructure-linux#debian-based-root)でのみアクティブになります。
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `dpkg_interval_sec`
          </td>

          <td>
            `NRIA_DPKG_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `30`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="facter-interval-sec" title="ファクターインターバル_秒">
    `Facter`プラグインのサンプリング期間（秒単位）。最小値は`30`です。無効にするには、 `-1`に設定します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `facter_interval_sec`
          </td>

          <td>
            `NRIA_FACTER_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `30`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="kernel-modules-refresh-sec" title="カーネル・モジュール・リフレッシュ・タイム">
    `KernelModules`プラグインのサンプリング期間（秒単位）。最小値は`10`です。無効にするには、 `-1`に設定します。

    <Callout variant="important">
      `kernel_modules_refresh_sec` [`root`または`privileged`実行モード](/docs/infrastructure/install-configure-infrastructure/linux-installation/linux-agent-running-modes)でのみアクティブになります。
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `kernel_modules_refresh_sec`
          </td>

          <td>
            `NRIA_KERNEL_MODULES_REFRESH_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `10`
          </td>

          <td>
            1.0.755
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="network-interface-interval-sec" title="ネットワーク・インターフェイス・インターバル・秒">
    `NetworkInterface`プラグインのサンプリング期間（秒単位）。最小値は`30`です。無効にするには、 `-1`に設定します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `network_interface_interval_sec`
          </td>

          <td>
            `NRIA_NETWORK_INTERFACE_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `60`
          </td>

          <td>
            1.0.329
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="rpm-interval-sec" title="rpm_interval_sec">
    `Rpm`プラグインのサンプリング期間（秒単位）。最小値は`30`です。無効にするには、 `-1`に設定します。

    <Callout variant="important">
      `rpm_interval_sec` エージェントがRedHat、RedHat AWS、またはSUSEディストリビューションの[ルートモードまたは特権モード](/docs/infrastructure/install-configure-infrastructure/linux-installation/linux-agent-running-modes)で実行されている場合にのみアクティブになります。
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `rpm_interval_sec`
          </td>

          <td>
            `NRIA_RPM_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `30`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="selinux-interval-sec" title="selinux_interval_sec">
    `SELinux`プラグインのサンプリング期間（秒単位）。最小値は`30`です。無効にするには、 `-1`に設定します。 `SelinuxEnableSemodule`がfalseに設定されている場合、このオプションは無視されます。詳細について[は、 `SELinux`モジュールの無効化](/docs/infrastructure/new-relic-infrastructure/troubleshooting/reduce-infrastructure-agents-cpu-footprint)に関するトラブルシューティングドキュメントを参照してください。

    <Callout variant="important">
      `SELinux` エージェントが[ルートモード](/docs/infrastructure/install-configure-infrastructure/linux-installation/linux-agent-running-modes)で実行されている場合にのみアクティブになります。
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `selinux_interval_sec`
          </td>

          <td>
            `NRIA_SELINUX_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `30`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="sshd-config-refresh-sec" title="sshd_config_refresh_sec">
    `Sshd`プラグインのサンプリング期間（秒単位）。最小値は`10`です。無効にするには、 `-1`に設定します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `sshd_config_refresh_sec`
          </td>

          <td>
            `NRIA_SSHD_CONFIG_REFRESH_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `15`
          </td>

          <td>
            1.0.755
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="supervisor-interval-sec" title="スーパーバイザーインターバル_秒">
    `Supervisor`プラグインのサンプリング期間（秒単位）。最小値は`10`です。無効にするには、 `-1`に設定します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `supervisor_interval_sec`
          </td>

          <td>
            `NRIA_SUPERVISOR_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `15`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="sysctl-interval-sec" title="sysctl_interval_sec">
    `Sysctl`プラグインのサンプリング期間（秒単位）。最小値は`30`です。無効にするには、 `-1`に設定します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `sysctl_interval_sec`
          </td>

          <td>
            `NRIA_SYSCTL_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `60`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="systemd-interval-sec" title="systemd_interval_sec">
    `Systemd`プラグインのサンプリング期間（秒単位）。最小値は`10`です。無効にするには、 `-1`に設定します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `systemd_interval_sec`
          </td>

          <td>
            `NRIA_SYSTEMD_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `30`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="sysvinit-interval-sec" title="sysvinit_interval_sec">
    `sysv`プラグインのサンプリング期間（秒単位）。最小値は`10`です。無効にするには、 `-1`に設定します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `sysvinit_interval_sec`
          </td>

          <td>
            `NRIA_SYSVINIT_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `30`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="upstart-interval-sec" title="upstart_interval_sec">
    `Upstart`プラグインのサンプリング期間（秒単位）。最小値は`10`です。無効にするには、 `-1`に設定します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `upstart_interval_sec`
          </td>

          <td>
            `NRIA_UPSTART_INTERVAL_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `30`
          </td>

          <td>
            [1.0.316](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10316)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="users-refresh-sec" title="users_refresh_sec">
    `Users`プラグインのサンプリング期間（秒単位）。最小値は`10`です。無効にするには、 `-1`に設定します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `users_refresh_sec`
          </td>

          <td>
            `NRIA_USERS_REFRESH_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `30`
          </td>

          <td>
            1.0.755
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="supervisor-rpc-sock" title="supervisor_rpc_sock">
    [スーパーバイザー](http://www.supervisord.org/) のソケットの位置。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `supervisor_rpc_sock`
          </td>

          <td>
            `NRIA_SUPERVISOR_RPC_SOCK`
          </td>

          <td>
            ストリング
          </td>

          <td>
            `/var/run/supervisor.sock`
          </td>

          <td>
            1.0.2
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="facter-home-dir" title="ファクターのホームディレクトリ">
    [Puppet&apos;sFacter](https://puppet.com/docs/puppet/latest/puppet_index.html)の`HOME`環境変数を設定します。定義されていない場合、デフォルトで現在のユーザーのホームディレクトリになります。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `facter_home_dir`
          </td>

          <td>
            `NRIA_FACTER_HOME_DIR`
          </td>

          <td>
            ストリング
          </td>

          <td />

          <td>
            [1.1.7](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-117)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## 代理変数

インフラストラクチャーエージェントのバージョン1.3.1以降では、プロキシ設定の優先順位が

* `NRIA_PROXY`
* `proxy`
* `HTTP_PROXY`
* `HTTPS_PROXY`

<CollapserGroup>
  <Collapser className="freq-link" id="proxy" title="proxy">
    お使いのシステムには、エージェントがプロキシを使用して New Relic と通信することを要求するファイアウォール ルールがある場合があります。その場合、プロキシ URL を https\://user:password\@hostname:port の形式で設定します。 HTTP または HTTPS にすることができます。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `proxy`
          </td>

          <td>
            `NRIA_PROXY`
          </td>

          <td>
            ストリング
          </td>

          <td>
            エンプティ
          </td>

          <td>
            [1.0.308](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10308)
          </td>
        </tr>
      </tbody>
    </table>

    例：

    ```
    https://proxy_user:access_10@proxy_01:1080
    ```
  </Collapser>

  <Collapser className="freq-link" id="ignore-system-proxy" title="ignore_system_proxy">
    `true`に設定すると、 `HTTPS_PROXY`および`HTTP_PROXY`環境変数は無視されます。これは、エージェントがメトリックコレクターに直接接続し、既存のシステムプロキシをスキップする必要がある場合に役立ちます。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `ignore_system_proxy`
          </td>

          <td>
            `NRIA_IGNORE_SYSTEM_PROXY`
          </td>

          <td>
            ブール値
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.0.1002](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-101002)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="ca-bundle-dir" title="ca_bundle_dir">
    `HTTPS_PROXY`オプションが自己署名証明書を持つプロキシを参照している場合、このオプションは、プロキシ証明書が使用可能なディレクトリへのパスを指定します。ディレクトリ内の証明書は、 `.pem`拡張子で終わる必要があります。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `ca_bundle_dir`
          </td>

          <td>
            `NRIA_CA_BUNDLE_DIR`
          </td>

          <td>
            ストリング
          </td>

          <td />

          <td>
            [1.0.296](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10296)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="ca-bundle-file" title="ca_bundle_file">
    `HTTPS_PROXY`オプションが自己署名証明書を持つプロキシを参照している場合、このオプションは証明書ファイルへのパスを指定します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `ca_bundle_file`
          </td>

          <td>
            `NRIA_CA_BUNDLE_FILE`
          </td>

          <td>
            ストリング
          </td>

          <td />

          <td>
            [1.0.296](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10296)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="proxy-validate-certificates" title="プロキシ証明書の検証">
    `true`に設定されている場合、プロキシがHTTPS接続を使用するように構成されていると、次の場合にのみ機能します。

    * HTTPS プロキシに有効な認証局からの証明書がある場合。

    * `ca_bundle_file`または`ca_bundle_dir`構成プロパティにHTTPSプロキシ証明書が含まれている場合。

      <table>
        <thead>
          <tr>
            <th style={{ width: "200px" }}>
              YMLオプション名
            </th>

            <th style={{ width: "200px" }}>
              環境変数
            </th>

            <th>
              タイプ
            </th>

            <th>
              デフォルト
            </th>

            <th>
              バージョン
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `proxy_validate_certificates`
            </td>

            <td>
              `NRIA_PROXY_VALIDATE_CERTIFICATES`
            </td>

            <td>
              ブール値
            </td>

            <td>
              `false`
            </td>

            <td>
              1.3.0
            </td>
          </tr>
        </tbody>
      </table>
  </Collapser>

  <Collapser className="freq-link" id="proxy-config-plugin" title="proxy_config_plugin">
    以下のプロキシ設定情報をインベントリとして送信します。

    * `HTTPS_PROXY`

    * `HTTP_PROXY`

    * `proxy ca_bundle_dir`

    * `ca_bundle_file`

    * `ignore_system_proxy`

    * `proxy_validate_certificates`

      <table>
        <thead>
          <tr>
            <th style={{ width: "200px" }}>
              YMLオプション名
            </th>

            <th style={{ width: "200px" }}>
              環境変数
            </th>

            <th>
              タイプ
            </th>

            <th>
              デフォルト
            </th>

            <th>
              バージョン
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `proxy_config_plugin`
            </td>

            <td>
              `NRIA_PROXY_CONFIG_PLUGIN`
            </td>

            <td>
              ブール値
            </td>

            <td>
              `true`
            </td>

            <td>
              1.3.0
            </td>
          </tr>
        </tbody>
      </table>
  </Collapser>
</CollapserGroup>

プロキシの設定に問題がある場合は、 [プロキシのトラブルシューティング](/docs/infrastructure/new-relic-infrastructure/troubleshooting/https-proxy-configuration-missing) を参照してください。

## サンプル変数

<CollapserGroup>
  <Collapser className="freq-link" id="metrics-network-sample-rate" title="metrics_network_sample_rate">
    ネットワークサンプルのサンプルレート（秒単位）。最小値は`10`です。無効にするには、 `-1`に設定します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `metrics_network_sample_rate`
          </td>

          <td>
            `NRIA_METRICS_NETWORK_SAMPLE_RATE`
          </td>

          <td>
            整数
          </td>

          <td>
            `10`
          </td>

          <td>
            [1.0.308](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10308)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="metrics-process-sample-rate" title="メトリクス・プロセス・サンプル・レート（metrics_process_sample_rate">
    プロセスサンプルのサンプルレート（秒単位）。最小値は`20`です。プロセスサンプルを完全に無効にするには、 `metrics_process_sample_rate`を`-1`に設定します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `metrics_process_sample_rate`
          </td>

          <td>
            `NRIA_METRICS_PROCESS_SAMPLE_RATE`
          </td>

          <td>
            整数
          </td>

          <td>
            `20`
          </td>

          <td>
            [1.0.308](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10308)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="metrics-storage-sample-rate" title="メトリクス・ストレージ・サンプル・レート（metrics_storage_sample_rate">
    ストレージサンプルのサンプルレート（秒単位）。最小値は`5`です。無効にするには、 `-1`に設定します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `metrics_storage_sample_rate`
          </td>

          <td>
            `NRIA_METRICS_STORAGE_SAMPLE_RATE`
          </td>

          <td>
            整数
          </td>

          <td>
            `20`
          </td>

          <td>
            [1.0.308](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10308)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="metrics-system-sample-rate" title="メトリクス・システム・サンプル・レート（metrics_system_sample_rate">
    システムサンプルのサンプルレート（秒単位）。最小値は`5`です。無効にするには、 `-1`に設定します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `metrics_system_sample_rate`
          </td>

          <td>
            `NRIA_METRICS_SYSTEM_SAMPLE_RATE`
          </td>

          <td>
            整数
          </td>

          <td>
            `5`
          </td>

          <td>
            [1.0.308](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10308)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="metrics-nfs-sample-rate" title="Metrics_nfs_sample_rate">
    NFSストレージサンプルのサンプルレート（秒単位）。最小値は`5`です。無効にするには、 `-1`に設定します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `metrics_nfs_sample_rate`
          </td>

          <td>
            `NRIA_METRICS_NFS_SAMPLE_RATE`
          </td>

          <td>
            整数
          </td>

          <td>
            `20`
          </td>

          <td>
            [1.5.40](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1540)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="detailed-nfs" title="詳細なnfs">
    詳細な NFS メトリクス。有効にすると、エージェントは NFS メトリクスの完全なリストを提供します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `detailed_nfs`
          </td>

          <td>
            `NRIA_DETAILED_NFS`
          </td>

          <td>
            ブール値
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.5.40](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1540)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  ## NTP オフセット変数

  `ntp_metrics` 時間オフセット メトリックを構成するために使用されるキーと値のマップです。有効にして NTP ホスト リストが提供されている場合、エージェントはホストの `ntp offset` メトリクスを秒単位で提供します。この値は、提供された NTP ホスト プールに対して `interval` 分ごとにチェックされます (デフォルトおよび最小値は 15 分です)。間隔の間に、最後の既知のオフセットが報告されます。報告されたオフセットが数秒を超える場合、アラート条件、NRQL クエリ、ダッシュボードのデータ ギャップに関する問題が発生する可能性があります。

  YAML属性の例。

  ```yml
  ntp_metrics:
    enabled: true
    pool:
      - time.cloudflare.com
      - time.google.com
    interval: 15
    timeout: 10
  ```

  環境変数としての例

  ```ini
  NRIA_NTP_METRICS_POOL='time.cloudflare.com,time.google.com'
  NRIA_NTP_METRICS_ENABLED='true'
  NRIA_NTP_METRICS_INTERVAL='15'
  NRIA_NTP_METRICS_TIMEOUT='10'
  ```

  <Collapser className="freq-link" id="ntp-enabled" title="ntp_metrics.enabled">
    NTP オフセット メトリックを有効/無効にするフラグ。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `enabled`
          </td>

          <td>
            `NRIA_NTP_METRICS_ENABLED`
          </td>

          <td>
            ブール値
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.33.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1330)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="ntp-pool" title="ntp_metrics.pool">
    照会する NTP ホストのリストを定義します。複数のホストが定義されている場合、それらすべてが照会され、レポートされるメトリックはそれらの間の平均値になります。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `pool`
          </td>

          <td>
            `NRIA_NTP_METRICS_POOL`
          </td>

          <td>
            \[]文字列
          </td>

          <td>
            空の。[公開 NTP サーバー](https://timetoolsltd.com/information/public-ntp-server/)を確認してください。
          </td>

          <td>
            [1.33.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1330)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="ntp-interval" title="ntp_metrics.interval">
    提供されたプールから NTP オフセットを要求する間隔を分単位で定義します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `interval`
          </td>

          <td>
            `NRIA_NTP_METRICS_INTERVAL`
          </td>

          <td>
            整数
          </td>

          <td>
            `15`
          </td>

          <td>
            [1.33.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1330)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="ntp-timeout" title="ntp_metrics.timeout">
    NTP ホストに対する要求のタイムアウトを秒単位で定義します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `timeout`
          </td>

          <td>
            `NRIA_NTP_METRICS_TIMEOUT`
          </td>

          <td>
            整数
          </td>

          <td>
            `10`
          </td>

          <td>
            [1.33.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1330)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## セキュリティ変数

<CollapserGroup>
  <Collapser className="freq-link" id="selinux-enable-semodule" title="selinux_enable_semodule">
    SEModule を使用してインストールされたポリシーモジュールのバージョンを取得します。無効にした場合、SELinuxプラグインはSEStatusを使ってステータスを取得するだけです。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `selinux_enable_semodule`
          </td>

          <td>
            `NRIA_SELINUX_ENABLE_SEMODULE`
          </td>

          <td>
            ブール値
          </td>

          <td>
            `true`
          </td>

          <td>
            1.0.864
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="strip-command-line" title="ストライプ・コマンド・ライン">
    `true`の場合、エージェントは`ProcessSample`の`commandLine`属性からコマンド引数を削除します。

    <Callout variant="tip">
      これは、機密情報の漏洩を防ぐためのセキュリティ対策です。
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `strip_command_line`
          </td>

          <td>
            `NRIA_STRIP_COMMAND_LINE`
          </td>

          <td>
            ブール値
          </td>

          <td>
            `true`
          </td>

          <td>
            1.0.149
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## ステータスエンドポイント変数

<CollapserGroup>
  <Collapser className="freq-link" id="status-server-enabled" title="ステータスサーバー有効">
    ローカルの正常性情報を提供するエージェント上のステータス サーバーを有効にします。利用可能なエンドポイントは次のとおりです。

    メイン ステータス エンドポイントの例 (エラーなし):

    ```bash
    curl http://localhost:8003/v1/status
    [output] {
    [output]   "checks": {
    [output]     "endpoints": [
    [output]       {
    [output]         "url": "https://infrastructure-command-api.newrelic.com/agent_commands/v1/commands",
    [output]         "reachable": true
    [output]       },
    [output]       {
    [output]         "url": "https://infra-api.newrelic.com/infra/v2/metrics",
    [output]         "reachable": true
    [output]       },
    [output]       {
    [output]         "url": "https://identity-api.newrelic.com/identity/v1",
    [output]         "reachable": true
    [output]       },
    [output]       {
    [output]         "url": "https://infra-api.newrelic.com/inventory",
    [output]         "reachable": true
    [output]       }
    [output]     ]
    [output]   },
    [output]   "config": {
    [output]     "reachability_timeout": "10s"
    [output]   }
    [output] }
    ```

    メイン ステータス エンドポイント (エラーあり):

    ```bash
    curl http://localhost:8003/v1/status
    [output] {
    [output]   "checks": {
    [output]     "endpoints": [
    [output]       {
    [output]         "url": "https://staging-infra-api.newrelic.com/infra/v2/metrics",
    [output]         "reachable": false,
    [output]         "error": "endpoint check timeout exceeded"
    [output]       },
    [output]       {
    [output]         "url": "https://infra-api.newrelic.com/infra/v2/metrics",
    [output]         "reachable": true
    [output]       },
    [output]       {
    [output]         "url": "https://identity-api.newrelic.com/identity/v1",
    [output]         "reachable": true
    [output]       },
    [output]       {
    [output]         "url": "https://infra-api.newrelic.com/inventory",
    [output]         "reachable": true
    [output]       }
    [output]     ]
    [output]   },
    [output]   "config": {
    [output]     "reachability_timeout": "10s"
    [output]   }
    [output] }
    ```

    エラーエンドポイントの例:

    ```bash
    curl http://localhost:18003/v1/status/errors
    [output] {
    [output]   "checks": {
    [output]     "endpoints": [
    [output]       {
    [output]         "url": "https://staging-infra-api.newrelic.com/infra/v2/metrics",
    [output]         "reachable": false,
    [output]         "error": "endpoint check timeout exceeded"
    [output]       }
    [output]     ]
    [output]   },
    [output]   "config": {
    [output]     "reachability_timeout": "10s"
    [output]   }
    [output] }
    ```

    これはメイン ステータス エンドポイントに似ていますが、エラーのあるエンドポイントのみをフィルターします。

    エンティティエンドポイントの例:

    ```bash
    curl http://localhost:8003/v1/status/entity
    [output] {
    [output]   "guid":"MMMMNjI0NjR8SU5GUkF8TkF8ODIwMDg3MDc0ODE0MTUwNTMy",
    [output]   "key":"your-host-name"
    [output] }
    ```

    エージェント/ホスト エンティティに関する情報を返します。エージェントがエージェント/ホスト エンティティに関する情報をまだ持っていない場合、応答ステータス コード*204* (「コンテンツなし」) が返されます。したがって、エージェントがエンティティ データを提供するまでに、いくつかのリクエストが必要になる場合があります。

    <Callout variant="important">
      ガイド付きインストールを使用する場合、この設定はデフォルトで有効になります。 これは、エージェントの注入が成功したことを確認するのに役立ちます。
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `status_server_enabled`
          </td>

          <td>
            `NRIA_STATUS_SERVER_ENABLED`
          </td>

          <td>
            ブール値
          </td>

          <td>
            `false`
          </td>

          <td>
            1.19.0
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="status-server-port" title="ステータスサーバーポート">
    ステータス サーバー エンドポイントのポートを定義します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `status_server_port`
          </td>

          <td>
            `NRIA_STATUS_SERVER_PORT`
          </td>

          <td>
            整数
          </td>

          <td>
            `8003`
          </td>

          <td>
            1.19.0
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Windows変数

<CollapserGroup>
  <Collapser className="freq-link" id="windows-services-refresh-sec" title="windows_services_refresh_sec">
    Windowsサービスプラグインのサンプリング期間（秒単位）。最小値は`10`です。無効にするには、 `-1`に設定します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `windows_services_refresh_sec`
          </td>

          <td>
            `NRIA_WINDOWS_SERVICES_REFRESH_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `30`
          </td>

          <td>
            [1.0.755](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10775)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="windows-updates-refresh-sec" title="windows_updates_refresh_sec">
    Windows Updateプラグインのサンプリング期間（秒単位）。最小値は`10`です。無効にするには、 `-1`に設定します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `windows_updates_refresh_sec`
          </td>

          <td>
            `NRIA_WINDOWS_UPDATES_REFRESH_SEC`
          </td>

          <td>
            int64
          </td>

          <td>
            `60`
          </td>

          <td>
            [1.0.755](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10775)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="app-data-dir" title="app_data_dir">
    データをプログラムファイルのディレクトリとは別のパスに格納することを定義します。

    * `%AppDir%/data`：デルタデータの保存に使用されます

    * `%AppDir%/user_data`：ユーザーが生成したJSONファイルの外部ディレクトリ

    * `%AppDir%/newrelic-infra.log`：ログファイル設定オプションが定義されていない場合は、このディレクトリパスをデフォルトとして使用します。

      <table>
        <thead>
          <tr>
            <th style={{ width: "200px" }}>
              YMLオプション名
            </th>

            <th style={{ width: "200px" }}>
              環境変数
            </th>

            <th>
              タイプ
            </th>

            <th>
              デフォルト
            </th>

            <th>
              バージョン
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `app_data_dir`
            </td>

            <td>
              `NRIA_APP_DATA_DIR`
            </td>

            <td>
              ストリング
            </td>

            <td>
              ウィンドウズ： `env(ProgramData)\New Relic\newrelic-infra`

              Linux: 適用されません
            </td>

            <td>
              [1.0.755](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-10775)
            </td>
          </tr>
        </tbody>
      </table>
  </Collapser>

  <Collapser className="freq-link" id="enable-win-update-plugin" title="ウィンアップデートプラグイン">
    ホストにインストールされているHotfixの一覧を取得するWindows Updateプラグインを有効にします。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `enable_win_update_plugin`
          </td>

          <td>
            `NRIA_ENABLE_WIN_UPDATE_PLUGIN`
          </td>

          <td>
            ブール値
          </td>

          <td>
            `false`
          </td>

          <td>
            1.0.274
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="legacy-storage-sampler" title="レガシー_ストレージ_サンプラー">
    `true`の場合、エージェントはWindows WMI（Windowsのメトリックを取得するためのエージェントのレガシーメソッド。たとえば、 `StorageSampler` ）を使用するように強制され、新しいメソッド（PDHライブラリを使用する）を無効にします。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `legacy_storage_sampler`
          </td>

          <td>
            `NRIA_LEGACY_STORAGE_SAMPLER`
          </td>

          <td>
            ブール値
          </td>

          <td />

          <td>
            [1.0.1051](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-101051)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="win-process-priority-class" title="win_process_priority_class">
    この設定オプションを使用すると、 `newrelic-infra.exe`プロセスの優先度を次のいずれかの値に上げることができます。

    * `Normal`

    * `Idle`

    * `High`

    * `RealTime`

    * `BelowNormal`

    * `AboveNormal`

      <table>
        <thead>
          <tr>
            <th style={{ width: "200px" }}>
              YMLオプション名
            </th>

            <th style={{ width: "200px" }}>
              環境変数
            </th>

            <th>
              タイプ
            </th>

            <th>
              デフォルト
            </th>

            <th>
              バージョン
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `win_process_priority_class`
            </td>

            <td>
              `NRIA_WIN_PROCESS_PRIORITY_CLASS`
            </td>

            <td>
              ストリング
            </td>

            <td />

            <td>
              1.0.989
            </td>
          </tr>
        </tbody>
      </table>

      例：

      ```
      Normal
      ```
  </Collapser>

  <Collapser className="freq-link" id="win-removable-drives" title="win_removable_drives">
    リムーバブルドライブとしてマップされている場合、Windowsエージェントがドライブ`A:`および`B:`を報告できるようにします。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `win_removable_drives`
          </td>

          <td>
            `NRIA_WIN_REMOVABLE_DRIVES`
          </td>

          <td>
            ブール値
          </td>

          <td>
            `true`
          </td>

          <td>
            [1.3.1](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-131)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser className="freq-link" id="wmi_proc_data" title="wmi_proc_data">
    true に設定すると、WMI からプロセス情報を取得し、制限された環境でのクエリ アクセス チェックをスキップします。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            デフォルト
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `enable_wmi_proc_data`
          </td>

          <td>
            `NRIA_ENABLE_WMI_PROC_DATA`
          </td>

          <td>
            ブール値
          </td>

          <td>
            `false`
          </td>

          <td>
            [1.3.1](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-1420)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## HTTPクライアント

バックエンド通信に使用するHTTPクライアントを構成します。

<CollapserGroup>
  <Collapser className="freq-link" id="http-headers" title="http_headers">
    New Relic バックエンドへのすべてのリクエストに含めるカスタム HTTP ヘッダー。

    ```yml
    http:
      headers:
        "Proxy-Authorization": "myToken"
    ```

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            YMLオプション名
          </th>

          <th style={{ width: "200px" }}>
            環境変数
          </th>

          <th>
            タイプ
          </th>

          <th>
            バージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `headers`
          </td>

          <td>
            `NRIA_HTTP_HEADERS`
          </td>

          <td>
            キーと値のマップ
          </td>

          <td>
            [1.41.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## 次は何ですか？

もできます。

* さらに理解を深めるために [エージェントの構成](/docs/infrastructure/new-relic-infrastructure/configuration/configure-infrastructure-agent) 。
* [テンプレートを使用して構成ファイル](https://github.com/newrelic/infrastructure-agent/blob/master/assets/examples/infrastructure/newrelic-infra-template.yml.example)を作成します。
* [エージェントを管理する方法をご覧ください](/docs/infrastructure/new-relic-infrastructure/configuration/start-stop-restart-check-infrastructure-agent-status) 。