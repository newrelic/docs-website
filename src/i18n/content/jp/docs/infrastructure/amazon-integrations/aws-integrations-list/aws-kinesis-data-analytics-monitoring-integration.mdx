---
title: AWS Kinesis Data Analyticsのモニタリング統合
tags:
  - Integrations
  - Amazon integrations
  - AWS integrations list
metaDescription: 'New Relic''s AWS Kinesis Data Analytics monitoring integration: what data it reports, and how to enable it.'
translationType: machine
---

当社の [インフラストラクチャ監視統合](/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations) には、AWS Kinesis Data Analytics のデータを当社製品に報告するための統合が含まれています。インテグレーションを有効にする方法や、収集するデータについてはこちらをご覧ください。

## 統合を有効にする [#activate]

このインテグレーションを有効にするには、標準手順に従い、[AWSサービスをInfrastructureに接続します](/docs/infrastructure/infrastructure-integrations/getting-started/connect-aws-integrations-infrastructure)。

## 設定およびポーリング [#polling]

[設定オプション](/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations)を使用し、ポーリングの頻度を変更し、データを絞り込むことができます。

デフォルト [ポーリング](/docs/infrastructure/amazon-integrations/aws-integrations-list/aws-polling-intervals-infrastructure-integrations) AWS Kinesis Data Analyticsインテグレーションの情報です。

* New Relicのポーリング間隔：5分
* Amazon CloudWatchのデータ間隔：1分

## データの検索と使用 [#find-data]

Infrastructureで統合データを見つけるには、 **[one.newrelic.com](https://one.newrelic.com) > Infrastructure> AWS** にアクセスし、統合を選択します。

データは、次の [イベントタイプ](/docs/insights/use-insights-ui/getting-started/introduction-new-relic-insights#event-type) に添付されています。

<table>
  <thead>
    <tr>
      <th>
        エンティティ
      </th>

      <th>
        イベントタイプ
      </th>

      <th>
        プロバイダー
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        アプリケーション
      </td>

      <td>
        `AwsKinesisAnalyticsApplicationSample`
      </td>

      <td>
        `AwsKinesisAnalyticsApplication`
      </td>
    </tr>

    <tr>
      <td>
        アプリケーションKpu
      </td>

      <td>
        `AwsKinesisAnalyticsApplicationSample`
      </td>

      <td>
        `AwsKinesisAnalyticsApplication`
      </td>
    </tr>

    <tr>
      <td>
        タスク
      </td>

      <td>
        `AwsKinesisAnalyticsTaskSample`
      </td>

      <td>
        `AwsKinesisAnalyticsTask(アウズキネシスアナリティクスタスク)`
      </td>
    </tr>

    <tr>
      <td>
        タスクオペレータ
      </td>

      <td>
        `AwSKinessAnalyticsTaskOperatorSample`
      </td>

      <td>
        `AwsKinesisAnalyticsTaskOperator（アウスキネシスアナリティクスタスクオペレーター`
      </td>
    </tr>

    <tr>
      <td>
        タスク並列化
      </td>

      <td>
        `AwsKinesisAnalyticsTaskParallelismSample（アウスキネシスアナリティクスタスクパラレリズムサンプル`
      </td>

      <td>
        `AwsKinesisAnalyticsTaskParallelism（アウスキネシスアナリティクスタスクパラレリズム`
      </td>
    </tr>

    <tr>
      <td>
        TaskOperatorの並列化
      </td>

      <td>
        `AwsKinesisAnalyticsTaskOperatorParallelismSample（アウス・キネシス・アナリティクス・タスクオペレーター・パラレリズム・サンプル`
      </td>

      <td>
        `AawsKinessisAnalliticsTaskOperatorParallelism`
      </td>
    </tr>
  </tbody>
</table>

データの利用方法については、 [統合データの理解と利用](/docs/infrastructure/integrations/find-use-infrastructure-integration-data) を参照してください。

## メトリックデータ [#metrics]

この統合は、Application、ApplicationKpu、Task、TaskOperator、TaskParallelism、TaskOperatorParallelismのAWS Kinesis Data Analyticsデータを収集します。

### Kinesis Data Analytics アプリケーションデータ

<table>
  <thead>
    <tr>
      <th style={{ width: "275px" }}>
        メトリック
      </th>

      <th style={{ width: "150px" }}>
        ユニット
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `bytesConsumedRate`
      </td>

      <td>
        BytesPerSecond
      </td>

      <td>
        トピックの1秒間に消費される平均バイト数。
      </td>
    </tr>

    <tr>
      <td>
        `コミット失敗`
      </td>

      <td>
        Count
      </td>

      <td>
        オフセットコミットとチェックポインティングが有効な場合、Kafkaへのオフセットコミットの失敗の総数。
      </td>
    </tr>

    <tr>
      <td>
        `commitsSucceeded`
      </td>

      <td>
        Count
      </td>

      <td>
        オフセットコミットとチェックポインティングが有効な場合に、Kafkaへのオフセットコミットが成功した総数です。
      </td>
    </tr>

    <tr>
      <td>
        `cpuUtilization`
      </td>

      <td>
        パーセント
      </td>

      <td>
        タスクマネージャー全体のCPU使用率の全体的な割合。たとえば、タスク・マネージャーが5つある場合、Kinesis Data Analyticsはレポート間隔ごとにこのメトリックのサンプルを5つ発行します。
      </td>
    </tr>

    <tr>
      <td>
        `カレントインプットウォーターマーク`
      </td>

      <td>
        ミリ秒
      </td>

      <td>
        このアプリケーション／オペレーター／タスク／スレッドが受け取った最後のウォーターマーク。
      </td>
    </tr>

    <tr>
      <td>
        `カレントアウトプットウォーターマーク`
      </td>

      <td>
        ミリ秒
      </td>

      <td>
        このアプリケーション／オペレーター／タスク／スレッドが発する最後のウォーターマーク。
      </td>
    </tr>

    <tr>
      <td>
        `ダウンタイム`
      </td>

      <td>
        ミリ秒
      </td>

      <td>
        現在、故障・復旧中のジョブについては、この停止中に経過した時間。
      </td>
    </tr>

    <tr>
      <td>
        `fullRestarts`
      </td>

      <td>
        Count
      </td>

      <td>
        このジョブが送信されてから完全に再起動した回数の合計。この指標では、きめ細かな再起動は測定されません。
      </td>
    </tr>

    <tr>
      <td>
        `heapMemoryUtilization`
      </td>

      <td>
        パーセント
      </td>

      <td>
        タスク・マネージャ全体のヒープ・メモリ使用率。たとえば、タスク・マネージャが5つある場合、Kinesis Data Analyticsはレポート間隔ごとにこのメトリックのサンプルを5つ発行します。
      </td>
    </tr>

    <tr>
      <td>
        `lastCheckpointDuration`
      </td>

      <td>
        ミリ秒
      </td>

      <td>
        最後のチェックポイントをクリアするのにかかった時間です。
      </td>
    </tr>

    <tr>
      <td>
        `lastCheckpointSize`
      </td>

      <td>
        バイト
      </td>

      <td>
        最後のチェックポイントの合計サイズです。
      </td>
    </tr>

    <tr>
      <td>
        `numRecordsInPerSecond`
      </td>

      <td>
        CountPerSecond
      </td>

      <td>
        このオペレーターやタスクが1秒あたりに受信したレコードの総数です。
      </td>
    </tr>

    <tr>
      <td>
        `numRecordsOut`
      </td>

      <td>
        Count
      </td>

      <td>
        このオペレーターやタスクが放出したレコードの総数です。
      </td>
    </tr>

    <tr>
      <td>
        `numRecordsOutPerSecond`
      </td>

      <td>
        CountPerSecond
      </td>

      <td>
        このオペレーターやタスクが1秒間に放出したレコードの総数。
      </td>
    </tr>

    <tr>
      <td>
        `失敗したチェックポイントの数`
      </td>

      <td>
        Count
      </td>

      <td>
        チェックポインティングが失敗した回数。
      </td>
    </tr>

    <tr>
      <td>
        `numRecordsIn`
      </td>

      <td>
        Count
      </td>

      <td>
        このオペレーターやタスクが受け取ったレコードの総数。
      </td>
    </tr>

    <tr>
      <td>
        `oldGenerationGcCount`
      </td>

      <td>
        Count
      </td>

      <td>
        すべてのタスクマネージャーで発生した古いガベージコレクション操作の合計数。
      </td>
    </tr>

    <tr>
      <td>
        `oldGenerationGcTime`
      </td>

      <td>
        ミリ秒
      </td>

      <td>
        古いガベージコレクションの操作にかかった時間の合計。
      </td>
    </tr>

    <tr>
      <td>
        `レコードラグマックス`
      </td>

      <td>
        Count
      </td>

      <td>
        このウィンドウの任意のパーティションのレコード数での最大ラグ。
      </td>
    </tr>

    <tr>
      <td>
        `スレッド数`
      </td>

      <td>
        Count
      </td>

      <td>
        アプリケーションが使用しているライブスレッドの総数です。
      </td>
    </tr>

    <tr>
      <td>
        `アップタイム`
      </td>

      <td>
        ミリ秒
      </td>

      <td>
        ジョブが中断されずに実行されていた時間。
      </td>
    </tr>

    <tr>
      <td>
        `バイト`
      </td>

      <td>
        バイト
      </td>

      <td>
        読み込んだバイト数（入力ストリームごと）または書き込んだバイト数（出力ストリームごと）です。
      </td>
    </tr>

    <tr>
      <td>
        `入力処理.DroppedRecords`
      </td>

      <td>
        Count
      </td>

      <td>
        Lambda関数から返されたレコードのうち、Droppedステータスが付けられたレコードの数。
      </td>
    </tr>

    <tr>
      <td>
        `入力処理の所要時間`
      </td>

      <td>
        ミリ秒
      </td>

      <td>
        Kinesis Data Analyticsが実行した各AWS Lambda関数の呼び出しにかかった時間。
      </td>
    </tr>

    <tr>
      <td>
        `inputProcessing.OkBytes`
      </td>

      <td>
        Count
      </td>

      <td>
        Lambda関数で返されたレコードのうち、Okステータスとなったレコードのバイト数の合計。
      </td>
    </tr>

    <tr>
      <td>
        `入力処理.OkRecords`
      </td>

      <td>
        Count
      </td>

      <td>
        Lambda関数で返されたレコードのうち、Okステータスが付けられたレコードの数。
      </td>
    </tr>

    <tr>
      <td>
        `入力処理.処理失敗レコード`
      </td>

      <td>
        Count
      </td>

      <td>
        Lambda関数から返されたレコードのうち、ProcessingFailedステータスが付けられたレコードの数。
      </td>
    </tr>

    <tr>
      <td>
        `入力処理の成功`
      </td>

      <td>
        Count
      </td>

      <td>
        Kinesis Data Analyticsが成功したLambdaの起動数です。
      </td>
    </tr>

    <tr>
      <td>
        `lambdaDelivery.DeliveryFailedRecords`
      </td>

      <td>
        Count
      </td>

      <td>
        Lambda関数で返されたレコードのうち、DeliveryFailedステータスが付けられたレコードの数。
      </td>
    </tr>

    <tr>
      <td>
        `lambdaDelivery.Duration`
      </td>

      <td>
        ミリ秒
      </td>

      <td>
        Kinesis Data Analyticsが実行した各Lambda関数の呼び出しにかかった時間。
      </td>
    </tr>

    <tr>
      <td>
        `lambdaDelivery.OkRecords`
      </td>

      <td>
        Count
      </td>

      <td>
        Lambda関数で返されたレコードのうち、Okステータスが付けられたレコードの数。
      </td>
    </tr>

    <tr>
      <td>
        `ミリ秒単位の最新情報`
      </td>

      <td>
        ミリ秒
      </td>

      <td>
        アプリケーションがストリーミングソースから読み出している時間が、現在の時間からどれだけ遅れているかを示す。
      </td>
    </tr>

    <tr>
      <td>
        `レコード`
      </td>

      <td>
        Count
      </td>

      <td>
        読み込んだレコード数（入力ストリームごと）または書き込んだレコード数（出力ストリームごと）。
      </td>
    </tr>

    <tr>
      <td>
        `成功`
      </td>

      <td>
        Count
      </td>

      <td>
        アプリケーション用に構成された宛先への配信が成功するたびに1、失敗するたびに0。この指標の平均値は、成功した配信の回数を示します。
      </td>
    </tr>

    <tr>
      <td>
        `bytesRequestedPerFetch`
      </td>

      <td>
        バイト
      </td>

      <td>
        getRecordsの1回の呼び出しで要求されたバイト数です。
      </td>
    </tr>

    <tr>
      <td>
        `コミットメントオフセット`
      </td>

      <td>
        その他
      </td>

      <td>
        各パーティションの、Kafkaへの最後の正常なコミットのオフセット。特定のパーティションのメトリックは、トピック名とパーティションIDで指定できます。
      </td>
    </tr>

    <tr>
      <td>
        `currentOffsets`
      </td>

      <td>
        その他
      </td>

      <td>
        各パーティションについて、消費者の現在の読み取りオフセット。特定のパーティションのメトリックは、トピック名とパーティションIDで指定できます。
      </td>
    </tr>
  </tbody>
</table>

### Kinesis Data Analytics ApplicationKpuデータ

<table>
  <thead>
    <tr>
      <th style={{ width: "275px" }}>
        メトリック
      </th>

      <th style={{ width: "150px" }}>
        ユニット
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `KPU`
      </td>

      <td>
        Count
      </td>

      <td>
        現在使用されているKinesis Processing Unit (KPU)の数です。

        **既知の問題**: この指標は他の指標に比べてラグが長いため、場合によっては表示されないことがある
      </td>
    </tr>
  </tbody>
</table>

### Kinesis Data Analytics タスクデータ

<table>
  <thead>
    <tr>
      <th style={{ width: "275px" }}>
        メトリック
      </th>

      <th style={{ width: "150px" }}>
        ユニット
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `コミット失敗`
      </td>

      <td>
        Count
      </td>

      <td>
        オフセットコミットとチェックポインティングが有効な場合、Kafkaへのオフセットコミットの失敗の総数。
      </td>
    </tr>

    <tr>
      <td>
        `commitsSucceeded`
      </td>

      <td>
        Count
      </td>

      <td>
        オフセットコミットとチェックポインティングが有効な場合に、Kafkaへのオフセットコミットが成功した総数です。
      </td>
    </tr>

    <tr>
      <td>
        `カレントインプットウォーターマーク`
      </td>

      <td>
        ミリ秒
      </td>

      <td>
        このタスクが最後に受信した電子透かし。
      </td>
    </tr>

    <tr>
      <td>
        `カレントアウトプットウォーターマーク`
      </td>

      <td>
        ミリ秒
      </td>

      <td>
        現在出力されている電子透かしです。
      </td>
    </tr>

    <tr>
      <td>
        `numLateRecordsDropped`
      </td>

      <td>
        Count
      </td>

      <td>
        このタスクが、遅れて到着したために落とした記録の数。
      </td>
    </tr>

    <tr>
      <td>
        `numRecordsIn`
      </td>

      <td>
        Count
      </td>

      <td>
        このタスクが受け取ったレコードの合計数。
      </td>
    </tr>

    <tr>
      <td>
        `numRecordsInPerSecond`
      </td>

      <td>
        CountPerSecond
      </td>

      <td>
        このタスクが1秒間に受信したレコードの合計数。
      </td>
    </tr>

    <tr>
      <td>
        `numRecordsOut`
      </td>

      <td>
        Count
      </td>

      <td>
        このタスクが放出したレコードの合計数。
      </td>
    </tr>

    <tr>
      <td>
        `numRecordsOutPerSecond`
      </td>

      <td>
        CountPerSecond
      </td>

      <td>
        このタスクが1秒あたりに放出したレコードの合計数。
      </td>
    </tr>

    <tr>
      <td>
        `レコードラグマックス`
      </td>

      <td>
        Count
      </td>

      <td>
        このウィンドウの任意のパーティションのレコード数での最大ラグ。
      </td>
    </tr>
  </tbody>
</table>

### Kinesis Data Analytics TaskOperatorデータ

<table>
  <thead>
    <tr>
      <th style={{ width: "275px" }}>
        メトリック
      </th>

      <th style={{ width: "150px" }}>
        ユニット
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `bytesConsumedRate`
      </td>

      <td>
        BytesPerSecond
      </td>

      <td>
        トピックの1秒間に消費される平均バイト数。
      </td>
    </tr>

    <tr>
      <td>
        `コミット失敗`
      </td>

      <td>
        Count
      </td>

      <td>
        オフセットコミットとチェックポインティングが有効な場合、Kafkaへのオフセットコミットの失敗の総数。
      </td>
    </tr>

    <tr>
      <td>
        `commitsSucceeded`
      </td>

      <td>
        Count
      </td>

      <td>
        オフセットコミットとチェックポインティングが有効な場合に、Kafkaへのオフセットコミットが成功した総数です。
      </td>
    </tr>

    <tr>
      <td>
        `カレントインプットウォーターマーク`
      </td>

      <td>
        ミリ秒
      </td>

      <td>
        このタスクが最後に受信した電子透かし。
      </td>
    </tr>

    <tr>
      <td>
        `カレントアウトプットウォーターマーク`
      </td>

      <td>
        ミリ秒
      </td>

      <td>
        このアプリケーション／オペレーター／タスク／スレッドが発する最後のウォーターマーク。
      </td>
    </tr>

    <tr>
      <td>
        `numLateRecordsDropped`
      </td>

      <td>
        Count
      </td>

      <td>
        このオペレーターやタスクが、遅刻したために落とした記録の数。
      </td>
    </tr>

    <tr>
      <td>
        `numRecordsIn`
      </td>

      <td>
        Count
      </td>

      <td>
        このタスクが受け取ったレコードの合計数。
      </td>
    </tr>

    <tr>
      <td>
        `numRecordsInPerSecond`
      </td>

      <td>
        CountPerSecond
      </td>

      <td>
        このタスクが1秒間に受信したレコードの合計数。
      </td>
    </tr>

    <tr>
      <td>
        `numRecordsOut`
      </td>

      <td>
        Count
      </td>

      <td>
        このタスクが放出したレコードの合計数。
      </td>
    </tr>

    <tr>
      <td>
        `numRecordsOutPerSecond`
      </td>

      <td>
        CountPerSecond
      </td>

      <td>
        このタスクが1秒あたりに放出したレコードの合計数。
      </td>
    </tr>

    <tr>
      <td>
        `レコードラグマックス`
      </td>

      <td>
        Count
      </td>

      <td>
        このウィンドウの任意のパーティションのレコード数での最大ラグ。
      </td>
    </tr>
  </tbody>
</table>

### Kinesis Data Analytics TaskParallelism データ

<table>
  <thead>
    <tr>
      <th style={{ width: "275px" }}>
        メトリック
      </th>

      <th style={{ width: "150px" }}>
        ユニット
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `カレントインプットウォーターマーク`
      </td>

      <td>
        ミリ秒
      </td>

      <td>
        このアプリケーション／オペレーター／タスク／スレッドが受け取った最後のウォーターマーク。
      </td>
    </tr>

    <tr>
      <td>
        `numLateRecordsDropped`
      </td>

      <td>
        Count
      </td>

      <td>
        このタスクが、遅れて到着したために落とした記録の数。
      </td>
    </tr>

    <tr>
      <td>
        `numRecordsIn`
      </td>

      <td>
        Count
      </td>

      <td>
        このタスクが受け取ったレコードの合計数。
      </td>
    </tr>

    <tr>
      <td>
        `numRecordsInPerSecond`
      </td>

      <td>
        CountPerSecond
      </td>

      <td>
        このタスクが1秒間に受信したレコードの合計数。
      </td>
    </tr>

    <tr>
      <td>
        `numRecordsOut`
      </td>

      <td>
        Count
      </td>

      <td>
        このタスクが放出したレコードの合計数。
      </td>
    </tr>

    <tr>
      <td>
        `numRecordsOutPerSecond`
      </td>

      <td>
        CountPerSecond
      </td>

      <td>
        このタスクが1秒あたりに放出したレコードの合計数。
      </td>
    </tr>
  </tbody>
</table>

### Kinesis Data Analytics TaskOperatorParallelismデータ

<table>
  <thead>
    <tr>
      <th style={{ width: "275px" }}>
        メトリック
      </th>

      <th style={{ width: "150px" }}>
        ユニット
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `bytesConsumedRate`
      </td>

      <td>
        BytesPerSecond
      </td>

      <td>
        トピックの1秒間に消費される平均バイト数。
      </td>
    </tr>

    <tr>
      <td>
        `コミット失敗`
      </td>

      <td>
        Count
      </td>

      <td>
        オフセットコミットとチェックポインティングが有効な場合、Kafkaへのオフセットコミットの失敗の総数。
      </td>
    </tr>

    <tr>
      <td>
        `commitsSucceeded`
      </td>

      <td>
        Count
      </td>

      <td>
        オフセットコミットとチェックポインティングが有効な場合に、Kafkaへのオフセットコミットが成功した総数です。
      </td>
    </tr>

    <tr>
      <td>
        `カレントインプットウォーターマーク`
      </td>

      <td>
        ミリ秒
      </td>

      <td>
        このアプリケーション／オペレーター／タスク／スレッドが受け取った最後のウォーターマーク。
      </td>
    </tr>

    <tr>
      <td>
        `カレントアウトプットウォーターマーク`
      </td>

      <td>
        ミリ秒
      </td>

      <td>
        このアプリケーション／オペレーター／タスク／スレッドが発する最後のウォーターマーク。
      </td>
    </tr>

    <tr>
      <td>
        `numRecordsIn`
      </td>

      <td>
        Count
      </td>

      <td>
        このオペレーターやタスクが受け取ったレコードの総数。
      </td>
    </tr>

    <tr>
      <td>
        `numRecordsInPerSecond`
      </td>

      <td>
        CountPerSecond
      </td>

      <td>
        このオペレーターやタスクが1秒あたりに受信したレコードの総数です。
      </td>
    </tr>

    <tr>
      <td>
        `numRecordsOut`
      </td>

      <td>
        Count
      </td>

      <td>
        このオペレーターやタスクが放出したレコードの総数です。
      </td>
    </tr>

    <tr>
      <td>
        `numRecordsOutPerSecond`
      </td>

      <td>
        CountPerSecond
      </td>

      <td>
        このオペレーターやタスクが1秒間に放出したレコードの総数。
      </td>
    </tr>

    <tr>
      <td>
        `レコードラグマックス`
      </td>

      <td>
        Count
      </td>

      <td>
        このウィンドウの任意のパーティションのレコード数での最大ラグ。
      </td>
    </tr>
  </tbody>
</table>