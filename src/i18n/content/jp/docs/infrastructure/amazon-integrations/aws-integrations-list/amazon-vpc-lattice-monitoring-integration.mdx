---
title: Amazon VPC ラティス
tags:
  - Integrations
  - Amazon integrations
  - AWS integrations list
metaDescription: 'New Relic''s Amazon VPC Lattice monitoring integration: how to enable it, and the data it reports.'
translationType: machine
---

New Relic は [、Amazon VPC Lattice](https://docs.aws.amazon.com/vpc-lattice/latest/ug/what-is-vpc-lattice.html)の統合を提供します。

## 特徴 [#about]

[Amazon VPC Lattice は、](https://aws.amazon.com/vpc/lattice/) 複数のアカウントおよび Virtual Private Cloud (VPC) 間でアプリケーションのサービスを接続、保護、監視するために使用する、フルマネージドのアプリケーション ネットワーキング サービスです。

New Relic は、Amazon VPC Lattice の 2 つのモニタリング統合 ( [CloudWatch メトリクス](https://docs.aws.amazon.com/vpc-lattice/latest/ug/monitoring-cloudwatch.html) と [アクセス ログ)](https://docs.aws.amazon.com/vpc-lattice/latest/ug/monitoring-access-logs.html)をサポートしています。

Cloudwatch メトリクスの場合、統合を一度設定するだけで、 `AWS/VPCLattice`を含む利用可能なすべての AWS 名前空間が含まれます。VPC Lattice の CloudWatch メトリクスは、Lattice サービスとターゲット グループ間のトラフィックを常に監視します。

<Callout variant="important">
  [AWS CloudWatch Metric Streams統合](/docs/infrastructure/amazon-integrations/aws-integrations-list/aws-metric-stream/)を有効にして、カスタムネームスペースを含むAWSサービスからのすべてのCloudWatchメトリクスをモニターします。個別の統合は、もはや推奨されるオプションではありません。
</Callout>

## アクセスログ統合を有効にする [#activate-logs-integration]

<Callout variant="important">
  Kinesis Firehose を使用するには、Kinesis Data Firehose 配信ストリームを作成する必要があります。まだの場合は、 [AWS コンソール](https://console.aws.amazon.com/firehose) から Amazon Kinesis Firehose 機能に移動し、 `Destination: New Relic`で配信ストリームを作成することで作成できます。

  [Amazon Kinesis Data Firehose 配信ストリームの作成の詳細をご覧ください。](https://docs.aws.amazon.com/firehose/latest/dev/basic-create.html?icmpid=docs_console_unmapped)
</Callout>

Amazon VPC Lattice のアクセス ログ統合では [、Amazon Kinesis Firehose](https://aws.amazon.com/kinesis/data-firehose/)を使用します。Latticeサービスのアクセスログ監視を有効にするには、サービスネットワークに監視を追加するか、追跡したいサービスに個別に監視を追加します。

この統合を設定するには:

1. AWS コンソールから、 [AWS VPC Service](https://console.aws.amazon.com/vpc)に移動します。
2. 左側のパネルの **VPC Lattice** ドロップダウンで、モニタリングを有効にするために使用するオプションに応じて `Service Networks` または `Services`を選択します。
3. 監視するサービスまたはサービス ネットワークを選択します。
4. `Monitoring`タブを選択します。
5. `Edit access logs`を選択します。
6. `Access logs` モニタリングをオンに切り替えます。
7. `Kinesis Data Firehose delivery stream`というラベルの付いたチェックボックスを選択します。
8. New Relic を指すように構成された配信ストリームをドロップダウンから選択します。
9. 変更内容を保存。

## アクセスログデータの検索と使用 [#find-log-data]

このフィルタを使用すると、ログ UI でデータをクエリおよび探索できます: `ServiceNetworkArn LIKE '%vpc-lattice%'`。

[VPC Lattice のアクセス ログを](https://docs.aws.amazon.com/vpc-lattice/latest/ug/monitoring-access-logs.html) 調べて、送信されるログ データに関する詳細情報を取得します。

## CloudWatch メトリクス データを検索して使用する [#find-metric-data]

[メトリクス クエリ エクスプローラー](https://docs.newrelic.com/docs/data-apis/understand-data/metric-data/query-metric-data-type/)を介して CloudWatch データをクエリおよび探索できます。

送信されるメトリクス データの詳細 [については、VPC Lattice の CloudWatch メトリクス](https://docs.aws.amazon.com/vpc-lattice/latest/ug/monitoring-cloudwatch.html) の詳細を確認してください。