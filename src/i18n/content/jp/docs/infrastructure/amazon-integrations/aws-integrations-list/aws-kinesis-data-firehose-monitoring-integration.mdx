---
title: Amazon Kinesis Data Firehoseのモニタリング統合
tags:
  - Integrations
  - Amazon integrations
  - AWS integrations list
metaDescription: 'New Relic''s AWS Kinesis Data Firehose integration: what data it reports, and how to enable it.'
translationType: machine
---

<Callout variant="important">
  [AWS CloudWatch Metric Streams integration](/docs/infrastructure/amazon-integrations/aws-integrations-list/aws-metric-stream/) を有効にすると、カスタムネームスペースを含むAWSサービスからのすべてのCloudWatchメトリクスを監視することができます。個別の統合はもはや推奨されるオプションではありません。
</Callout>

[New Relic](/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations) には、Amazon Kinesis Data Firehose のデータを収集するための統合が含まれています。このドキュメントでは、この統合を有効にする方法と、レポート可能なデータについて説明します。

## 機能 [#features]

[Amazon Kinesis Data Firehose](https://aws.amazon.com/kinesis/firehose/) は、ストリーミングデータをキャプチャしてロードするシンプルな方法を提供します。ストリーミングデータをAmazon Kinesis Data Analytics、Amazon S3、Amazon Redshift、Amazon Elasticsearch Serviceにキャプチャー、変換、ロードすることができ、ほぼリアルタイムでの分析を可能にします。

New Relic の Kinesis Data Firehose 統合では、インデックス化されたレコードやバイト数、AWS サービスにコピーされたデータのカウント、レコードの年齢や鮮度などのデータがレポートされ、その他 [メトリクスデータ](#metrics) が表示されます。

## 統合を有効にする [#activate]

このインテグレーションを有効にするには、標準手順に従い、[AWSサービスをNew Relicに接続します](/docs/infrastructure/infrastructure-integrations/getting-started/connect-aws-integrations-infrastructure)。

## 設定およびポーリング [#polling]

[設定オプション](/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations)を使用し、ポーリングの頻度を変更し、データを絞り込むことができます。

[デフォルトのポーリング](/docs/infrastructure/amazon-integrations/aws-integrations-list/aws-polling-intervals-infrastructure-integrations) Amazon Kinesis Data Firehose統合のためのものです。

* New Relicのポーリング間隔：5分
* Amazon CloudWatchのデータ間隔：1分

## データの検索と使用 [#find-data]

統合データを見つけるには、 [**one.newrelic.com**](http://one.newrelic.com) **> Infrastructure> AWS** にアクセスし、Kinesis Data Firehose統合リンクの1つを選択します。

[データを照会して探索することができます](/docs/using-new-relic/data/understand-data/query-new-relic-data) `QueueSample` [イベントタイプ](/docs/data-apis/understand-data/new-relic-data-types/#event-data), `provider` の値 `KinesisDeliveryStream` を使用することができます。

データの利用方法については、 [統合データの理解と利用](/docs/infrastructure/integrations/find-use-infrastructure-integration-data) を参照してください。

## メトリックデータ [#metrics]

この統合は、以下のメトリクスを収集します。

<table>
  <thead>
    <tr>
      <th style={{ width: "315" }}>
        名前
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `deliveryToElasticsearchBytes`
      </td>

      <td>
        指定した期間にAmazon ESにインデックスされたバイト数。
      </td>
    </tr>

    <tr>
      <td>
        `配信先：ElasticsearchRecords`
      </td>

      <td>
        指定した期間にAmazon ESにインデックスされたレコードの数。
      </td>
    </tr>

    <tr>
      <td>
        `deliveryToElasticsearchSuccess`
      </td>

      <td>
        試行されたレコードの合計に対する、インデックス作成に成功したレコードの合計です。
      </td>
    </tr>

    <tr>
      <td>
        `deliveryToRedshiftBytes`
      </td>

      <td>
        指定した期間にAmazon Redshiftにコピーされたバイト数。
      </td>
    </tr>

    <tr>
      <td>
        `配送先：RedshiftRecords`
      </td>

      <td>
        指定した期間にAmazon Redshiftにコピーされたレコードの数。
      </td>
    </tr>

    <tr>
      <td>
        `デリバリーToRedshiftの成功`
      </td>

      <td>
        すべてのAmazon RedshiftのCOPYコマンドの合計に対する成功したAmazon RedshiftのCOPYコマンドの合計。
      </td>
    </tr>

    <tr>
      <td>
        `deliveryToS3Bytes`
      </td>

      <td>
        指定した時間帯にAmazon S3に配信されたバイト数。
      </td>
    </tr>

    <tr>
      <td>
        `deliveryToS3DataFreshness`
      </td>

      <td>
        Kinesis Firehoseの中で最も古いレコードの年齢（Kinesis Firehoseに入ってから今まで）を秒単位で表したもの。この年齢よりも古いレコードは、S3バケットに配信されています。
      </td>
    </tr>

    <tr>
      <td>
        `配信先：S3Records`
      </td>

      <td>
        指定した期間にAmazon S3に配信されたレコードの数。
      </td>
    </tr>

    <tr>
      <td>
        `配信ToS3成功`
      </td>

      <td>
        すべてのAmazon S3プットコマンドの合計に対する、成功したAmazon S3プットコマンドの合計です。
      </td>
    </tr>

    <tr>
      <td>
        `incomingBytes`
      </td>

      <td>
        指定した期間にKinesis Firehoseストリームに取り込まれたバイト数。
      </td>
    </tr>

    <tr>
      <td>
        `incomingRecords`
      </td>

      <td>
        指定した期間にKinesis Firehoseストリームに取り込まれたレコードの数。
      </td>
    </tr>

    <tr>
      <td>
        `putRecordBatchLatency`
      </td>

      <td>
        `PutRecordBatch` 一回の操作にかかった時間をミリ秒単位で、指定した期間で計測したものです。
      </td>
    </tr>

    <tr>
      <td>
        `putRecordBytes`
      </td>

      <td>
        指定された期間に `PutRecord` を使用して Kinesis Firehose 配信ストリームに投入されたバイト数です。
      </td>
    </tr>

    <tr>
      <td>
        `putRecordLatency`
      </td>

      <td>
        `PutRecord` の操作ごとにかかった時間をミリ秒単位で、指定した時間帯で計測したものです。
      </td>
    </tr>
  </tbody>
</table>

## インベントリデータ [#inventory]

<Callout
  variant="important"
  title="有効期限（EOL）の通知"
>
  2022年3月以降は、クラウド統合用のインベントリデータなど、いくつかの機能のサポートを終了します。この移行に向けて簡単に準備できる方法など、詳細については、 [Explorers Hubの投稿](https://discuss.newrelic.com/t/important-upcoming-changes-to-capabilities-and-support-across-errors-classic-labels-service-infrastructure-on-host-snmp-integration-and-inventory-data-in-cloud-integrations/175370) をご覧ください。
</Callout>

New Relic では、以下の Kinesis Firehose のインベントリデータを収集しています。インベントリーデータについては、 [Understand and use data](/docs/infrastructure/integrations-getting-started/getting-started/understand-integration-data-data-types#inventory-data) を参照してください。

<table>
  <thead>
    <tr>
      <th style={{ width: "300" }}>
        名前
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `クリエイトタイムスタンプ`
      </td>

      <td>
        配信ストリームが作成された日付と時刻。
      </td>
    </tr>

    <tr>
      <td>
        `目的地`
      </td>

      <td>
        Destination.Formatは、 [DestinationDescription](http://docs.aws.amazon.com/firehose/latest/APIReference/API_DestinationDescription.html) オブジェクトの配列です。
      </td>
    </tr>

    <tr>
      <td>
        `lastUpdateTimestamp`
      </td>

      <td>
        配信ストリームが最後に更新された日付と時間。
      </td>
    </tr>

    <tr>
      <td>
        `ステータス`
      </td>

      <td>
        配信ストリームの状態。
      </td>
    </tr>

    <tr>
      <td>
        `バージョンID`
      </td>

      <td>
        配信ストリームの配信先が更新されるたびに、バージョンIDが変更され、配信先の更新時には現在のバージョンIDが必要となります。これは、サービス側が、配信ストリームの正しいバージョンに変更を適用していることを認識するためです。
      </td>
    </tr>
  </tbody>
</table>