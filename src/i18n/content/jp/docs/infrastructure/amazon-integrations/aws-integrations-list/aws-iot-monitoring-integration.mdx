---
title: AWS IoTモニタリング統合
tags:
  - Integrations
  - Amazon integrations
  - AWS integrations list
metaDescription: 'New Relic''s AWS IoT monitoring integration: what data it reports, and how to enable it.'
freshnessValidatedDate: never
translationType: machine
---

<Callout variant="important">
  [AWS CloudWatch Metric Streams統合](/docs/infrastructure/amazon-integrations/aws-integrations-list/aws-metric-stream/)を有効にして、カスタムネームスペースを含むAWSサービスからのすべてのCloudWatchメトリクスをモニターします。個別の統合は、もはや推奨されるオプションではありません。
</Callout>

New Relic は、[ ](/docs/infrastructure/introduction-infra-monitoring)AWSIoT[ メトリクス データ をレポートするための](/docs/telemetry-data-platform/understand-data/new-relic-data-types/#metrics-new-relic) 統合 を提供します。

[AWS IoT](https://docs.aws.amazon.com/iot/latest/developerguide/what-is-aws-iot.html) は、インターネットに接続されたデバイスとAWSクラウドの間の通信を提供するサービスです。また、遠隔測定データを収集・保存します。AWS IoT Infrastructureの統合により、これらの機能にアクセスすることができます。

* AWS IoTの通信やテレメトリーのデータについて、チャートなどを表示します。
* 自動的に取得されたメトリックデータからNew Relicでカスタムクエリやチャートを作成することができます。
* ページから直接、 IoT インテグレーション データのアラート条件を設定します。AWSNew Relic<DNT>**Integrations**</DNT>

## 統合をアクティブ化する [#connect]

この統合を有効にするには、標準の手順に従って[AWSサービスをNewRelicに接続](/docs/infrastructure/infrastructure-integrations/getting-started/connect-aws-integrations-infrastructure)します。

## 構成とポーリング [#polling]

デフォルトでは、New Relic は AWS IoT サービスに対して [5 分ごとにクエリを実行します](/docs/integrations/amazon-integrations/get-started/polling-intervals-aws-integrations) 。New Relic がサービスに問い合わせる頻度を減らしたい場合は、 [ポーリング頻度を変更することができます](/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations) 。

## 統合データの検索 [#find-data]

[AWS IoTインテグレーションをNew Relic](/docs/integrations/amazon-integrations/getting-started/connect-aws-services-infrastructure) に接続して数分待つと、 [インテグレーションデータ](/docs/telemetry-data-platform/understand-data/new-relic-data-types/) を使用できるようになります。

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        AWS IoTインテグレーションのデータを見る
      </th>

      <th>
        これを行う
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        <InlinePopover type="dashboards" />[アラート](/docs/infrastructure/new-relic-infrastructure/infrastructure-alert-conditions/infrastructure-alerts-add-edit-or-view-host-alert-information#integration)
      </td>

      <td>
        <DNT>**[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &gt; Infrastructure &gt; AWS &gt; IoT**</DNT>に移動します。
      </td>
    </tr>

    <tr>
      <td>
        [メトリクスデータ](#metrics) カスタムダッシュボード上の
      </td>

      <td>
        [クエリビルダー](/docs/query-your-data/explore-query-data/query-builder/query-builder-basic-mode)に移動し、 `IOTBrokerSample` 、 `IOTRuleActionSample` 、および`IOTRuleSample`イベントのクエリを作成します。
      </td>
    </tr>
  </tbody>
</table>

## メトリックデータ [#metrics]

AWS IoT統合のメトリックデータを表示するには、 `IOTBrokerSample` 、 `IOTRuleActionSample` 、および`IOTRuleSample`[イベント](/docs/data-apis/understand-data/new-relic-data-types/#event-data)とそれらに関連する属性の[NRQLクエリを作成](/docs/integrations/new-relic-integrations/getting-started/use-integration-data-new-relic-insights#nrql)します。AWS IoTのメトリクスとディメンションの詳細については、「 [AWSIoT開発者ガイド」](https://docs.aws.amazon.com/iot/latest/developerguide/metrics_dimensions.html)を参照してください。

<CollapserGroup>
  <Collapser id="iotbrokersample" title="IOTBrokerSampleイベント">
    `IOTBrokerSample`イベントをクエリして、次の属性のデータを表示します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "250px" }}>
            名前
          </th>

          <th>
            説明
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `connect.AuthError`
          </td>

          <td>
            メッセージブローカが認証できなかった接続要求の数。
          </td>
        </tr>

        <tr>
          <td>
            `connect.ClientError`
          </td>

          <td>
            MQTT メッセージが [AWS IoT 要件を満たしていないために拒否された接続リクエストの数](http://docs.aws.amazon.com/iot/latest/developerguide/iot-limits.html) 。
          </td>
        </tr>

        <tr>
          <td>
            `connect.ServerError`
          </td>

          <td>
            内部エラーのために失敗した接続要求の数。
          </td>
        </tr>

        <tr>
          <td>
            `connect.Success`
          </td>

          <td>
            メッセージブローカーへの接続に成功した数。
          </td>
        </tr>

        <tr>
          <td>
            `connect.Throttle`
          </td>

          <td>
            クライアントが許容される接続要求速度を超えたためにスロットルされた接続要求の数。
          </td>
        </tr>

        <tr>
          <td>
            `ping.Success`
          </td>

          <td>
            メッセージブローカが受信したPingメッセージの数。
          </td>
        </tr>

        <tr>
          <td>
            `publishIn.AuthError`
          </td>

          <td>
            メッセージブローカが認証できなかった公開要求の数。
          </td>
        </tr>

        <tr>
          <td>
            `publishIn.ClientError`
          </td>

          <td>
            メッセージが AWS IoT 要件 [を満たしていないためにメッセージブローカーが拒否したパブリッシュリクエストの数](http://docs.aws.amazon.com/iot/latest/developerguide/iot-limits.html) 。
          </td>
        </tr>

        <tr>
          <td>
            `publishIn.ServerError`
          </td>

          <td>
            内部エラーのためにメッセージブローカが処理できなかった公開要求の数。
          </td>
        </tr>

        <tr>
          <td>
            `publishIn.Success`
          </td>

          <td>
            メッセージブローカが正常に処理した公開要求の数。
          </td>
        </tr>

        <tr>
          <td>
            `publishIn.Throttle`
          </td>

          <td>
            クライアントが許容されるインバウンドメッセージレートを超えたためにスロットルされたパブリッシュリクエストの数です。
          </td>
        </tr>

        <tr>
          <td>
            `publishOut.AuthError`
          </td>

          <td>
            メッセージブローカが行った、AWS IoTの認証を受けられなかったパブリッシュリクエストの数。
          </td>
        </tr>

        <tr>
          <td>
            `publishOut.ClientError`
          </td>

          <td>
            メッセージブローカーが行ったパブリッシュリクエストのうち、メッセージが [AWS IoT 要件を満たしていないために拒否された数](http://docs.aws.amazon.com/iot/latest/developerguide/iot-limits.html) 。
          </td>
        </tr>

        <tr>
          <td>
            `publishOut.Success`
          </td>

          <td>
            メッセージブローカが成功した発行要求の数。
          </td>
        </tr>

        <tr>
          <td>
            `subscribe.AuthError`
          </td>

          <td>
            認証できなかったクライアントによるサブスクリプション要求の数。
          </td>
        </tr>

        <tr>
          <td>
            `subscribe.ClientError`
          </td>

          <td>
            `SUBSCRIBE`メッセージが[AWSIoT要件](http://docs.aws.amazon.com/iot/latest/developerguide/iot-limits.html)を満たしていないために拒否されたサブスクライブリクエストの数。
          </td>
        </tr>

        <tr>
          <td>
            `subscribe.ServerError`
          </td>

          <td>
            内部エラーのために拒否されたサブスクライブ要求の数。
          </td>
        </tr>

        <tr>
          <td>
            `subscribe.Success`
          </td>

          <td>
            メッセージブローカが処理に成功したサブスクライブ要求の数。
          </td>
        </tr>

        <tr>
          <td>
            `subscribe.Throttle`
          </td>

          <td>
            クライアントが許容されるサブスクライブリクエストレートを超えたためにスロットルされたサブスクライブリクエストの数。
          </td>
        </tr>

        <tr>
          <td>
            `unsubscribe.ClientError`
          </td>

          <td>
            `UNSUBSCRIBE`メッセージが[AWSIoT要件](http://docs.aws.amazon.com/iot/latest/developerguide/iot-limits.html)を満たしていないために拒否された登録解除リクエストの数。
          </td>
        </tr>

        <tr>
          <td>
            `unsubscribe.ServerError`
          </td>

          <td>
            内部エラーのために拒否された配信停止リクエストの数。
          </td>
        </tr>

        <tr>
          <td>
            `unsubscribe.Success`
          </td>

          <td>
            メッセージブローカーが処理に成功したアンサブスクライブ要求の数。
          </td>
        </tr>

        <tr>
          <td>
            `unsubscribe.Throttle`
          </td>

          <td>
            クライアントが許容されるアンサブスクライブ要求率を超えたために拒否されたアンサブスクライブ要求の数。
          </td>
        </tr>

        <tr>
          <td>
            `deleteThingShadow.Accepted`
          </td>

          <td>
            正常に処理された`DeleteThingShadow`リクエストの数。
          </td>
        </tr>

        <tr>
          <td>
            `getThingShadow.Accepted`
          </td>

          <td>
            正常に処理された`GetThingShadow`リクエストの数。
          </td>
        </tr>

        <tr>
          <td>
            `updateThingShadow.Accepted`
          </td>

          <td>
            正常に処理された`UpdateThingShadow`リクエストの数。
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="iotruleactionsample" title="IOTRuleActionSampleイベント">
    `IOTRuleActionSample`イベントをクエリして、次の属性のデータを表示します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "250px" }}>
            名前
          </th>

          <th>
            説明
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `success`
          </td>

          <td>
            成功したルールアクション呼び出しの数。`RuleName`ディメンションには、呼び出されたアクションを指定するルールの名前が含まれています。`ActionType`ディメンションには、呼び出されたアクションのタイプが含まれています。
          </td>
        </tr>

        <tr>
          <td>
            `failure`
          </td>

          <td>
            失敗したルールアクション呼び出しの数。`RuleName`ディメンションには、呼び出されたアクションを指定するルールの名前が含まれています。`RuleName`ディメンションには、アクションを指定するルールの名前が含まれています。`ActionType`ディメンションには、呼び出されたアクションのタイプが含まれています。
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="iotrulesample" title="IOTRuleSampleイベント">
    `IOTRuleSample`イベントをクエリして、次の属性のデータを表示します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "250px" }}>
            名前
          </th>

          <th>
            説明
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `topicMatch`
          </td>

          <td>
            ルールがリッスンしているトピックで公開された着信メッセージの数。`RuleName`ディメンションには、ルールの名前が含まれています。
          </td>
        </tr>

        <tr>
          <td>
            `parseError`
          </td>

          <td>
            ルールがリッスンしているトピックで公開されたメッセージで発生したJSON解析エラーの数。`RuleName`ディメンションには、ルールの名前が含まれています。
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>