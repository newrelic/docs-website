---
title: AWS IoTモニタリング統合
tags:
  - Integrations
  - Amazon integrations
  - AWS integrations list
metaDescription: 'New Relic''s AWS IoT monitoring integration: what data it reports, and how to enable it.'
translationType: machine
---

<Callout variant="important">
  [AWS CloudWatch Metric Streams integration](/docs/infrastructure/amazon-integrations/aws-integrations-list/aws-metric-stream/) を有効にすると、カスタムネームスペースを含むAWSサービスからのすべてのCloudWatchメトリクスを監視することができます。個別の統合はもはや推奨されるオプションではありません。
</Callout>

New Relicは、AWS IoT [メトリクスデータ](/docs/telemetry-data-platform/understand-data/new-relic-data-types/#metrics-new-relic) を報告するための [インテグレーションを提供しています。](/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations)

[](/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations)

[](/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations)[AWS IoT](https://docs.aws.amazon.com/iot/latest/developerguide/what-is-aws-iot.html) は、インターネットに接続されたデバイスとAWSクラウドの間の通信を提供するサービスです。また、遠隔測定データを収集・保存します。AWS IoT Infrastructureの統合により、これらの機能にアクセスすることができます。

* AWS IoTの通信やテレメトリーのデータについて、チャートなどを表示します。
* 自動的に取得されたメトリックデータからNew Relicでカスタムクエリやチャートを作成することができます。
* New Relic **Integrations** ページから直接、AWS IoT 統合データにアラート条件を設定します。

## 統合を有効にする [#connect]

このインテグレーションを有効にするには、標準手順に従い、[AWSサービスをNew Relicに接続します](/docs/infrastructure/infrastructure-integrations/getting-started/connect-aws-integrations-infrastructure)。

## 設定およびポーリング [#polling]

デフォルトでは、New Relic は AWS IoT サービスに対して [5 分ごとにクエリを実行します](/docs/integrations/amazon-integrations/get-started/polling-intervals-aws-integrations) 。New Relic がサービスに問い合わせる頻度を減らしたい場合は、 [ポーリング頻度を変更することができます](/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations) 。

## 統合データの検索 [#find-data]

[AWS IoTインテグレーションをNew Relic](/docs/integrations/amazon-integrations/getting-started/connect-aws-services-infrastructure) に接続して数分待つと、 [インテグレーションデータ](/docs/telemetry-data-platform/understand-data/new-relic-data-types/) を使用できるようになります。

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        AWS IoTインテグレーションのデータを見る
      </th>

      <th>
        実行する操作
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        ダッシュボードと [アラート](/docs/infrastructure/new-relic-infrastructure/infrastructure-alert-conditions/infrastructure-alerts-add-edit-or-view-host-alert-information#integration)
      </td>

      <td>
        Go to [**one.newrelic.com**](http://one.newrelic.com) **> インフラストラクチャー> AWS** **> IoT**.
      </td>
    </tr>

    <tr>
      <td>
        [メトリクスデータ](#metrics) カスタムダッシュボード上の
      </td>

      <td>
        [クエリビルダー](/docs/query-your-data/explore-query-data/query-builder/query-builder-basic-mode) にアクセスし、 `IOTBrokerSample` 、 `IOTRuleActionSample` 、 `IOTRuleSample` のイベントに対するクエリを作成します。
      </td>
    </tr>
  </tbody>
</table>

## メトリックデータ [#metrics]

AWS IoT統合のメトリックデータを表示するには、`IOTBrokerSample`、`IOTRuleActionSample`、および`IOTRuleSample`[events](/docs/data-apis/understand-data/new-relic-data-types/#event-data)とそれらに関連する属性の[NRQLクエリを作成](/docs/integrations/new-relic-integrations/getting-started/use-integration-data-new-relic-insights#nrql)します。AWS IoTのメトリクスとディメンションの詳細については、[AWSIoTデベロッパーガイド](https://docs.aws.amazon.com/iot/latest/developerguide/metrics_dimensions.html)をご覧ください。

<CollapserGroup>
  <Collapser
    id="iotbrokersample"
    title="IOTBrokerSampleイベント"
  >
    Query `IOTBrokerSample` イベントで、以下の属性のデータを表示します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "250px" }}>
            名前
          </th>

          <th>
            説明
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `connect.AuthError`
          </td>

          <td>
            メッセージブローカが認証できなかった接続要求の数。
          </td>
        </tr>

        <tr>
          <td>
            `connect.ClientError`
          </td>

          <td>
            MQTT メッセージが [AWS IoT 要件を満たしていないために拒否された接続リクエストの数](http://docs.aws.amazon.com/iot/latest/developerguide/iot-limits.html) 。
          </td>
        </tr>

        <tr>
          <td>
            `connect.ServerError`
          </td>

          <td>
            内部エラーのために失敗した接続要求の数。
          </td>
        </tr>

        <tr>
          <td>
            `connect.Success`
          </td>

          <td>
            メッセージブローカーへの接続に成功した数。
          </td>
        </tr>

        <tr>
          <td>
            `connect.Throttle`
          </td>

          <td>
            クライアントが許容される接続要求速度を超えたためにスロットルされた接続要求の数。
          </td>
        </tr>

        <tr>
          <td>
            `ping.Success`
          </td>

          <td>
            メッセージブローカが受信したPingメッセージの数。
          </td>
        </tr>

        <tr>
          <td>
            `publishIn.AuthError`
          </td>

          <td>
            メッセージブローカが認証できなかった公開要求の数。
          </td>
        </tr>

        <tr>
          <td>
            `publishIn.ClientError`
          </td>

          <td>
            メッセージが AWS IoT 要件 [を満たしていないためにメッセージブローカーが拒否したパブリッシュリクエストの数](http://docs.aws.amazon.com/iot/latest/developerguide/iot-limits.html) 。
          </td>
        </tr>

        <tr>
          <td>
            `publishIn.ServerError`
          </td>

          <td>
            内部エラーのためにメッセージブローカが処理できなかった公開要求の数。
          </td>
        </tr>

        <tr>
          <td>
            `パブリッシュイン.サクセス`
          </td>

          <td>
            メッセージブローカが正常に処理した公開要求の数。
          </td>
        </tr>

        <tr>
          <td>
            `パブリッシュイン.スロットル`
          </td>

          <td>
            クライアントが許容されるインバウンドメッセージレートを超えたためにスロットルされたパブリッシュリクエストの数です。
          </td>
        </tr>

        <tr>
          <td>
            `publishOut.AuthError`
          </td>

          <td>
            メッセージブローカが行った、AWS IoTの認証を受けられなかったパブリッシュリクエストの数。
          </td>
        </tr>

        <tr>
          <td>
            `publishOut.ClientError`
          </td>

          <td>
            メッセージブローカーが行ったパブリッシュリクエストのうち、メッセージが [AWS IoT 要件を満たしていないために拒否された数](http://docs.aws.amazon.com/iot/latest/developerguide/iot-limits.html) 。
          </td>
        </tr>

        <tr>
          <td>
            `パブリッシュアウト.成功`
          </td>

          <td>
            メッセージブローカが成功した発行要求の数。
          </td>
        </tr>

        <tr>
          <td>
            `subscribe.AuthError`
          </td>

          <td>
            認証できなかったクライアントによるサブスクリプション要求の数。
          </td>
        </tr>

        <tr>
          <td>
            `subscribe.ClientError`
          </td>

          <td>
            `SUBSCRIBE` メッセージが [AWS IoT 要件を満たしていないために拒否された subscribe リクエストの数](http://docs.aws.amazon.com/iot/latest/developerguide/iot-limits.html).
          </td>
        </tr>

        <tr>
          <td>
            `subscribe.ServerError`
          </td>

          <td>
            内部エラーのために拒否されたサブスクライブ要求の数。
          </td>
        </tr>

        <tr>
          <td>
            `subscribe.Success`
          </td>

          <td>
            メッセージブローカが処理に成功したサブスクライブ要求の数。
          </td>
        </tr>

        <tr>
          <td>
            `subscribe.Throttle`
          </td>

          <td>
            クライアントが許容されるサブスクライブリクエストレートを超えたためにスロットルされたサブスクライブリクエストの数。
          </td>
        </tr>

        <tr>
          <td>
            `unsubscribe.ClientError`
          </td>

          <td>
            `UNSUBSCRIBE` メッセージが [AWS IoT 要件を満たしていないために拒否された配信停止リクエストの数](http://docs.aws.amazon.com/iot/latest/developerguide/iot-limits.html) 。
          </td>
        </tr>

        <tr>
          <td>
            `unsubscribe.ServerError`
          </td>

          <td>
            内部エラーのために拒否された配信停止リクエストの数。
          </td>
        </tr>

        <tr>
          <td>
            `unsubscribe.Success`
          </td>

          <td>
            メッセージブローカーが処理に成功したアンサブスクライブ要求の数。
          </td>
        </tr>

        <tr>
          <td>
            `unsubscribe.Throttle`
          </td>

          <td>
            クライアントが許容されるアンサブスクライブ要求率を超えたために拒否されたアンサブスクライブ要求の数。
          </td>
        </tr>

        <tr>
          <td>
            `deleteThingShadow.Accepted`
          </td>

          <td>
            `DeleteThingShadow` リクエストの処理に成功した数。
          </td>
        </tr>

        <tr>
          <td>
            `getThingShadow.Accepted`
          </td>

          <td>
            `GetThingShadow` リクエストの処理に成功した数。
          </td>
        </tr>

        <tr>
          <td>
            `updateThingShadow.Accepted`
          </td>

          <td>
            `UpdateThingShadow` リクエストの処理が完了した数。
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser
    id="iotruleactionsample"
    title="IOTRuleActionSampleイベント"
  >
    クエリ `IOTRuleActionSample` イベントで、以下の属性のデータを見ることができます。

    <table>
      <thead>
        <tr>
          <th style={{ width: "250px" }}>
            名前
          </th>

          <th>
            説明
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `成功`
          </td>

          <td>
            成功したルール・アクションの呼び出しの数。 `RuleName` ディメンジョンには、起動されたアクションを指定するルールの名前が含まれます。 `ActionType` ディメンジョンには、起動されたアクションのタイプが含まれます。
          </td>
        </tr>

        <tr>
          <td>
            `失敗`
          </td>

          <td>
            失敗したルール・アクションの呼び出しの数。 `RuleName` ディメンジョンには、起動されたアクションを指定するルールの名前が含まれます。 `RuleName`ディメンジョンには、アクションを指定するルールの名前が含まれます。 `ActionType` ディメンジョンには、起動されたアクションのタイプが含まれます。
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser
    id="iotrulesample"
    title="IOTRuleSampleイベント"
  >
    クエリ `IOTRuleSample` イベントで、以下の属性のデータを見ることができます。

    <table>
      <thead>
        <tr>
          <th style={{ width: "250px" }}>
            名前
          </th>

          <th>
            説明
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `トピックマッチ`
          </td>

          <td>
            ルールがリッスンしているトピックにパブリッシュされた受信メッセージの数。 `RuleName` ディメンジョンには、ルールの名前が含まれます。
          </td>
        </tr>

        <tr>
          <td>
            `parseError`
          </td>

          <td>
            ルールがリッスンしているトピックでパブリッシュされたメッセージで発生したJSONパース・エラーの数。 `RuleName` ディメンジョンには、ルールの名前が含まれます。
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## インベントリデータ [#inventory]

<Callout
  variant="important"
  title="有効期限（EOL）の通知"
>
  2022年3月以降は、クラウド統合用のインベントリデータなど、いくつかの機能のサポートを終了します。この移行に向けて簡単に準備できる方法など、詳細については、 [Explorers Hubの投稿](https://discuss.newrelic.com/t/important-upcoming-changes-to-capabilities-and-support-across-errors-classic-labels-service-infrastructure-on-host-snmp-integration-and-inventory-data-in-cloud-integrations/175370) をご覧ください。
</Callout>

[AWS IoTのインベントリデータ](/docs/integrations/new-relic-integrations/getting-started/understand-use-data-infrastructure-integrations#overview) を表示するには、 [**one.newrelic.com**](https://one.newrelic.com) **> Infrastructure> Inventory** を検索または選択してください。

<CollapserGroup>
  <Collapser
    id="aws-iot-broker"
    title="aws/iot/broker/"
  >
    <table>
      <thead>
        <tr>
          <th style={{ width: "250px" }}>
            名前
          </th>

          <th>
            説明
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `プロトコル`
          </td>

          <td>
            ブローカーが使用するプロトコル。
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser
    id="aws-iot-rule-action"
    title="aws/iot/rule-action/"
  >
    <table>
      <thead>
        <tr>
          <th style={{ width: "250px" }}>
            名前
          </th>

          <th>
            説明
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `ルールアーン`
          </td>

          <td>
            ルールのARNです。
          </td>
        </tr>

        <tr>
          <td>
            `ルール名`
          </td>

          <td>
            ルールの名称
          </td>
        </tr>

        <tr>
          <td>
            `トピックパターン`
          </td>

          <td>
            トピック名のパターン。
          </td>
        </tr>

        <tr>
          <td>
            `アクションタイプ`
          </td>

          <td>
            リクエストのトリガーとなったルールで指定された [アクションタイプ](http://docs.aws.amazon.com/iot/latest/developerguide/iot-rule-actions.html) 。
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser
    id="aws-iot-rule"
    title="aws/iot/rule"
  >
    <table>
      <thead>
        <tr>
          <th style={{ width: "250px" }}>
            名前
          </th>

          <th>
            説明
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `ルールアーン`
          </td>

          <td>
            ルールのARNです。
          </td>
        </tr>

        <tr>
          <td>
            `ルール名`
          </td>

          <td>
            ルールの名称
          </td>
        </tr>

        <tr>
          <td>
            `トピックパターン`
          </td>

          <td>
            トピック名のパターン。
          </td>
        </tr>

        <tr>
          <td>
            `createdAt`
          </td>

          <td>
            ルールを作成した日付と時間
          </td>
        </tr>

        <tr>
          <td>
            `ruleDisabled`
          </td>

          <td>
            ルールを無効にするかどうかを指定するブール値。
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>