---
title: AWS Auto Scalingのモニタリング統合
tags:
  - Integrations
  - Amazon integrations
  - AWS integrations list
metaDescription: 'New Relic''s AWS Auto Scaling integration: what data it reports, and how to enable it.'
translationType: machine
---

<Callout variant="important">
  [AWS CloudWatch Metric Streams integration](/docs/infrastructure/amazon-integrations/aws-integrations-list/aws-metric-stream/) を有効にすると、カスタムネームスペースを含むAWSサービスからのすべてのCloudWatchメトリクスを監視することができます。個別の統合はもはや推奨されるオプションではありません。
</Callout>

[AWS Auto Scaling](https://aws.amazon.com/autoscaling/) サービスは、Amazon EC2インスタンスを自動的に起動または終了させることができます。ユーザー定義のポリシー、スケジュール、ヘルスチェックに基づいて、Amazon EC2の容量を動的に適応させることができます。

[New Relic インフラストラクチャ インテグレーション](/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations) には、AWS Auto Scaling インテグレーションがあり、Auto Scaling サービスからグループに関するデータを New Relic 製品にレポートします。このドキュメントでは、この統合を有効にする方法と、レポート可能なデータについて説明します。

## 統合を有効にする [#activate]

この統合を有効にするには

1. 標準的な手順に従って、 [AWS サービスを New Relic](/docs/infrastructure/infrastructure-integrations/getting-started/connect-aws-integrations-infrastructure) に接続します。
2. [Auto Scaling group metrics](https://docs.aws.amazon.com/autoscaling/ec2/userguide/as-instance-monitoring.html#as-group-metrics) を有効にして、AWS Auto Scalingが1分ごとにサンプリングしたデータをCloudWatchに送信するようにします。

コンソールを使ってグループメトリクスを有効にするには

1. Amazon EC2 コンソールを [console.aws.amazon.com/ec2/](https://console.aws.amazon.com/ec2/) で開きます。
2. ナビゲーションペインから、 **「Auto Scaling Groups」> （グループを選択）** を選択します。
3. **監視** タブから、 **Auto Scaling Metrics> Enable Group Metrics Collection** or **Display> Auto Scaling** を選択します。

## 設定およびポーリング [#polling]

[デフォルトのポーリング](/docs/infrastructure/amazon-integrations/aws-integrations-list/aws-polling-intervals-infrastructure-integrations) AWS Auto Scalingインテグレーションの情報です。

* New Relicのポーリング間隔：5分
* Amazon CloudWatchのデータ間隔：デフォルトでは1分

ポーリング周波数とフィルターデータを変更するには、 [設定オプション](/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations) を使用します。

## データの検索と使用 [#find-data]

[統合データを見るには](/docs/infrastructure/integrations/find-use-infrastructure-integration-data) 、 [**one.newrelic.com**](http://one.newrelic.com) **> Infrastructure> AWS** 、 **AWS Auto Scaling** 統合リンクの一つを選択します。

これらの[イベントタイプ](/docs/data-apis/understand-data/new-relic-data-types/#event-data)を使用して、[データのクエリと探索](/docs/using-new-relic/data/understand-data/query-new-relic-data)を行うことができます。

* `AutoScalingInstanceSample`
* `AutoScalingGroupSample（オートスケーリンググループサンプル`
* `AutoScalingLaunchConfigurationSample`
* `AutoScalingPolicySample`
* `AutoScalingRegionLimitSample`

## メトリックデータ [#metric-data]

このインフラ統合では、以下のAWS Auto Scalingのデータを収集します。

<table>
  <thead>
    <tr>
      <th width="300px">
        メトリック
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `groupDesiredCapacity`
      </td>

      <td>
        Auto Scalingグループが維持しようとするインスタンスの数。
      </td>
    </tr>

    <tr>
      <td>
        `groupInServiceInstances`
      </td>

      <td>
        Auto Scalingグループの一部として稼働しているインスタンスの数。
      </td>
    </tr>

    <tr>
      <td>
        `groupMaxSize`
      </td>

      <td>
        オートスケーリンググループの最大サイズです。
      </td>
    </tr>

    <tr>
      <td>
        `グループ最小サイズ`
      </td>

      <td>
        オートスケーリンググループの最小サイズです。
      </td>
    </tr>

    <tr>
      <td>
        `groupPendingInstances`
      </td>

      <td>
        保留中で、まだサービスを開始していないインスタンスの数。
      </td>
    </tr>

    <tr>
      <td>
        `groupStandbyInstances`
      </td>

      <td>
        "スタンバイ" の状態にあるインスタンスの数です。
      </td>
    </tr>

    <tr>
      <td>
        `groupTerminatingInstances`
      </td>

      <td>
        終了処理中のインスタンスの数です。
      </td>
    </tr>

    <tr>
      <td>
        `groupTotalInstances`
      </td>

      <td>
        Auto Scalingグループのインスタンスの合計数。
      </td>
    </tr>
  </tbody>
</table>

## インベントリデータ [#inventory]

<Callout
  variant="important"
  title="有効期限（EOL）の通知"
>
  2022年3月以降は、クラウド統合用のインベントリデータなど、いくつかの機能のサポートを終了します。この移行に向けて簡単に準備できる方法など、詳細については、 [Explorers Hubの投稿](https://discuss.newrelic.com/t/important-upcoming-changes-to-capabilities-and-support-across-errors-classic-labels-service-infrastructure-on-host-snmp-integration-and-inventory-data-in-cloud-integrations/175370) をご覧ください。
</Callout>

[インベントリデータ](/docs/infrastructure/integrations-getting-started/getting-started/understand-integration-data-data-types#inventory-data) は、サービスの状態と構成に関する情報を提供します。Auto Scalingの設定オプションは、インベントリデータとして報告されます。

### /aws/autoscaling/group inventory [#alb-inventory]

<table>
  <thead>
    <tr>
      <th width="250px">
        名前
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `autoScalingGroupArn`
      </td>

      <td>
        グループのAmazon Resource Name（ARN）です。
      </td>
    </tr>

    <tr>
      <td>
        `autoScalingGroupName`
      </td>

      <td>
        グループの名前です。
      </td>
    </tr>

    <tr>
      <td>
        `awsRegion`
      </td>

      <td>
        オートスケーリンググループの領域です。
      </td>
    </tr>

    <tr>
      <td>
        `希望する容量`
      </td>

      <td>
        グループの望ましいサイズ
      </td>
    </tr>

    <tr>
      <td>
        `enabledMetrics`
      </td>

      <td>
        グループに有効なメトリクスを表す構造体のリストです。
      </td>
    </tr>

    <tr>
      <td>
        `HealthCheckPeriod`
      </td>

      <td>
        サービスが開始されたEC2インスタンスの健全性をチェックする前に、Auto Scalingが待機する時間（秒）です。
      </td>
    </tr>

    <tr>
      <td>
        `ヘルスチェックタイプ`
      </td>

      <td>
        健康診断に利用するサービスです。
      </td>
    </tr>

    <tr>
      <td>
        `インスタンス`
      </td>

      <td>
        グループに関連するEC2インスタンスを表す構造体のリスト。
      </td>
    </tr>

    <tr>
      <td>
        `launchConfiguration`
      </td>

      <td>
        インスタンスに関連する起動設定。
      </td>
    </tr>

    <tr>
      <td>
        `ロードバランサー`
      </td>

      <td>
        グループに関連付けられた1つまたは複数のロードバランサー。
      </td>
    </tr>

    <tr>
      <td>
        `最大サイズ`
      </td>

      <td>
        グループの最大サイズです。
      </td>
    </tr>

    <tr>
      <td>
        `最小サイズ`
      </td>

      <td>
        グループの最小サイズです。
      </td>
    </tr>

    <tr>
      <td>
        `ステータス`
      </td>

      <td>
        delete-auto-scaling-groupが進行中の場合の、グループの現在の状態。
      </td>
    </tr>

    <tr>
      <td>
        `タグ`
      </td>

      <td>
        グループのタグを表す構造体のリストです。
      </td>
    </tr>
  </tbody>
</table>

### /aws/autoscaling/instance inventory [#config-target]

<table>
  <thead>
    <tr>
      <th width="280px">
        名前
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `autoScalingGroupName`
      </td>

      <td>
        グループの名前です。
      </td>
    </tr>

    <tr>
      <td>
        `awsRegion`
      </td>

      <td>
        オートスケーリンググループの領域です。
      </td>
    </tr>

    <tr>
      <td>
        `id`
      </td>

      <td>
        インスタンスのIDです。
      </td>
    </tr>

    <tr>
      <td>
        `launchConfigurationName`
      </td>

      <td>
        インスタンスの起動に使用される起動設定。
      </td>
    </tr>

    <tr>
      <td>
        `ライフサイクル`
      </td>

      <td>
        インスタンスのライフサイクルの状態。
      </td>
    </tr>

    <tr>
      <td>
        `ステータス`
      </td>

      <td>
        このインスタンスの最後に報告された健康状態。
      </td>
    </tr>
  </tbody>
</table>

### /aws/autoscaling/launch-configuration inventory [#config-target]

<table>
  <thead>
    <tr>
      <th width="260px">
        名前
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `awsRegion`
      </td>

      <td>
        ローンチ構成が定義されているAWSリージョンです。
      </td>
    </tr>

    <tr>
      <td>
        `createdAt`
      </td>

      <td>
        起動設定の作成日時です。
      </td>
    </tr>

    <tr>
      <td>
        `kernelId`
      </td>

      <td>
        AMIに関連するカーネルのID。
      </td>
    </tr>

    <tr>
      <td>
        `キーネーム`
      </td>

      <td>
        キーペアの名前です。
      </td>
    </tr>

    <tr>
      <td>
        `iamInstanceProfile`
      </td>

      <td>
        インスタンスのIAMロールに関連するインスタンスプロファイルの名前またはAmazon Resource Name（ARN）。
      </td>
    </tr>

    <tr>
      <td>
        `imageId`
      </td>

      <td>
        Amazon Machine Image（AMI）のIDです。
      </td>
    </tr>

    <tr>
      <td>
        `instanceMonitoring`
      </td>

      <td>
        真偽値です。このグループのインスタンスが詳細なモニタリングを伴って起動された場合、trueとなります。
      </td>
    </tr>

    <tr>
      <td>
        `インスタンスタイプ`
      </td>

      <td>
        インスタンスのインスタンスタイプです。
      </td>
    </tr>

    <tr>
      <td>
        `launchConfigurationArn`
      </td>

      <td>
        起動設定のAmazon Resource Name（ARN）です。
      </td>
    </tr>

    <tr>
      <td>
        `launchConfigurationName`
      </td>

      <td>
        起動設定の名前です。
      </td>
    </tr>

    <tr>
      <td>
        `name`
      </td>

      <td>
        起動設定の名前です。
      </td>
    </tr>

    <tr>
      <td>
        `プレースメント・テナンシー`
      </td>

      <td>
        インスタンスの天引き
      </td>
    </tr>

    <tr>
      <td>
        `securityGroups`
      </td>

      <td>
        インスタンスに関連付けるセキュリティグループです。
      </td>
    </tr>

    <tr>
      <td>
        `spotPrice`
      </td>

      <td>
        スポットインスタンスを起動する際に入札する価格です。
      </td>
    </tr>
  </tbody>
</table>

### /aws/autoscaling/policy inventory

<table>
  <thead>
    <tr>
      <th width="260px">
        名前
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `adjustmentType`
      </td>

      <td>
        調整タイプで、ScalingAdjustmentをどのように解釈するかを指定します。
      </td>
    </tr>

    <tr>
      <td>
        `アラーム`
      </td>

      <td>
        ポリシーに関連するCloudWatchアラームを表す構造体のリストです。
      </td>
    </tr>

    <tr>
      <td>
        `autoScalingGroupName`
      </td>

      <td>
        このスケーリングポリシーに関連するAuto Scalingグループの名前です。
      </td>
    </tr>

    <tr>
      <td>
        `awsRegion`
      </td>

      <td>
        ポリシーが定義されているAWSのリージョン。
      </td>
    </tr>

    <tr>
      <td>
        `クールダウン`
      </td>

      <td>
        スケーリングアクティビティが完了してから、さらに動的なスケーリングアクティビティを開始するまでの時間（秒）です。
      </td>
    </tr>

    <tr>
      <td>
        `推定WarmUp`
      </td>

      <td>
        新たに起動したインスタンスがCloudWatchのメトリクスに貢献できるようになるまでの推定時間（秒単位）。
      </td>
    </tr>

    <tr>
      <td>
        `metricAggregationType`
      </td>

      <td>
        CloudWatchメトリクスの集約タイプです。
      </td>
    </tr>

    <tr>
      <td>
        `name`
      </td>

      <td>
        Auto Scalingグループの名前です。
      </td>
    </tr>

    <tr>
      <td>
        `ポリシーアルン`
      </td>

      <td>
        ポリシーのAmazon Resource Name（ARN）。
      </td>
    </tr>

    <tr>
      <td>
        `ポリシータイプ`
      </td>

      <td>
        ポリシーの種類です。
      </td>
    </tr>

    <tr>
      <td>
        `stepAdjustments`

        _構造一覧_
      </td>

      <td>
        アラーム違反の大きさに応じてスケーリングできるようにするための一連の調整を表す構造体のリストです。
      </td>
    </tr>
  </tbody>
</table>

### /aws/autoscaling/region-limit inventory

<table>
  <thead>
    <tr>
      <th width="260px">
        名前
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `アカウント名`
      </td>

      <td>
        AWSのアカウント名です。
      </td>
    </tr>

    <tr>
      <td>
        `autoScalingGroups`
      </td>

      <td>
        AWSアカウントの現在のグループ数です。
      </td>
    </tr>

    <tr>
      <td>
        `awsRegion`
      </td>

      <td>
        リージョンリミットが定義されているAWSリージョンです。
      </td>
    </tr>

    <tr>
      <td>
        `launchConfigurations`
      </td>

      <td>
        AWSアカウントの現在の起動設定数。
      </td>
    </tr>

    <tr>
      <td>
        `maxAutoScalingGroups`
      </td>

      <td>
        AWSアカウントで許可されているグループの最大数です。
      </td>
    </tr>

    <tr>
      <td>
        `maxLaunchConfigurations`
      </td>

      <td>
        AWSアカウントで許可されている起動設定の最大数です。
      </td>
    </tr>
  </tbody>
</table>