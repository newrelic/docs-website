---
title: Node.jsエージェントのインストール
tags:
  - Agents
  - Nodejs agent
  - Installation and configuration
---

Node.js用エージェントは、[Node Package Manager (npm)リポジトリ](https://npmjs.org/package/newrelic)と[GitHub](https://github.com/newrelic/node-newrelic)で公開されています。Node.jsエージェントをインストールする前に、お使いのアプリケーションが[要件](/docs/agents/nodejs-agent/getting-started/compatibility-requirements-nodejs-agent)を満たしていることを確認します。

インストールを進めるには、ランチャーを使用するか、以下の説明に従います。

<ButtonLink
  role="button"
  to="https://one.newrelic.com/launcher/nr1-core.settings?pane=eyJuZXJkbGV0SWQiOiJ0dWNzb24ucGxnLWluc3RydW1lbnQtZXZlcnl0aGluZyJ9&cards[0]=eyJuZXJkbGV0SWQiOiJzZXR1cC1uZXJkbGV0cy5zZXR1cC1ub2RlLWludGVncmF0aW9uIiwiYWNjb3VudElkIjoyNjQwNDA5fQ==&platform[accountId]=1"
  variant="primary"
>
  Node.jsデータを追加
</ButtonLink>

## Node.jsエージェントのインストール [#installing]

<Callout variant="important">
  Dockerコンテナでエージェントを使用している場合は、[各コンテナ内](/docs/agents/nodejs-agent/installation-configuration/install-new-relic-nodejs-agent-docker)にエージェントをインストールします。
</Callout>

Node.jsエージェントをインストールするには：

1. [システム要件](/docs/agents/nodejs-agent/getting-started/compatibility-requirements-nodejs-agent)を満たしていることを確認します。特に、サポートされているNodeバージョンを使用していることを確認します。
2. 監視したい各アプリケーションに対して、`npm install newrelic --save`コマンドを使用します。
3. `node_modules/newrelic`から、`newrelic.js`をアプリケーションのルートディレクトリにコピーします。
4. `newrelic.js`ファイル、または[環境変数](/docs/agents/nodejs-agent/installation-configuration/nodejs-agent-configuration#environment)を使用して、エージェントを設定します：

   * [ライセンスキー](/docs/accounts-partnerships/accounts/account-setup/license-key)を使用して、`license_key`設定をカスタマイズします。
   * 1つまたは複数の[意味のあるアプリケーション名](/docs/apm/new-relic-apm/installation-and-configuration/naming-your-application)を使用して、[`app_name`](/docs/agents/nodejs-agent/installation-configuration/nodejs-agent-configuration#app_name)設定をカスタマイズします。
5. アプリケーションのメインモジュールの先頭行に、`require('newrelic');`を追加します。
6. オプション：追加の[Node.jsランタイムレベルの統計情報](/docs/agents/nodejs-agent/supported-features/node-vms-statistics-page)については、[`@newrelic/native-metrics`パッケージがインストールされていることを確認してください](/docs/agents/nodejs-agent/supported-features/node-vm-measurements)。
7. ある程度のトラフィックを生成し、[APM UI](/docs/apm/applications-menu/monitoring/apm-overview-page)にデータが表示されるまで数分間待ちます。

`newrelic.js`、または環境変数を使用して、さらに[エージェントの動作をカスタマイズ](/docs/agents/nodejs-agent/installation-configuration/nodejs-agent-configuration)することができます。エージェント設定をアプリケーションから切り離しておくには、[`NEW_RELIC_HOME`環境変数](/docs/agents/nodejs-agent/installation-configuration/nodejs-agent-configuration#home)を編集してください。

## Node.jsエージェントを最新状態で維持する [#upgrading]

確実にNew Relicの最新バージョンを使用できるよう、[Node.jsのリリースノート](/docs/release-notes/agent-release-notes/nodejs-release-notes)を参照してください。該当する場合、リリースノートには[Node.jsエージェントの更新](/docs/agents/nodejs-agent/installation-configuration/upgrade-nodejs-agent)手順を含んだダウンロードリンクが掲載されています。

## トラブルシューティング [#troubleshoot]

エージェントの更新後、ある程度のトラフィックを生成してから数分待ちます。New Relic UIにデータが表示されない場合は、[トラブルシューティング手順](/docs/agents/nodejs-agent/troubleshooting/troubleshooting-your-nodejs-installation)を参照してください。

## その他のヘルプ [#more_help]

さらに支援が必要な場合は、これらのサポートと学習リソースを確認してください：

* [Explorers Hub](https://discuss.newrelic.com/)を参照して、コミュニティから支援を受け、ディスカッションに参加してください。
* [当社のサイトで回答を見つけ、サポートポータルの使用方法について学びます](/docs/using-new-relic/welcome-new-relic/get-started/find-help-use-support-portal)。
* Linux、Windows、およびmacOSのトラブルシューティングツールである[New Relic Diagnosticsを実行します](/docs/using-new-relic/cross-product-functions/troubleshooting/new-relic-diagnostics)。
* New Relicの[データセキュリティ](/docs/security)と[ライセンス](/docs/licenses)ドキュメントを見直してください。
