---
title: Javaエージェントの互換性と要件
tags:
  - Agents
  - Java agent
  - Getting started
metaDescription: 'The New Relic APM Java agent: compatibility and requirements.'
---

[New RelicのJavaエージェント](/docs/agents/java-agent/getting-started/introduction-new-relic-java)には、アプリケーションサーバー、フレームワーク、データベース、そしてメッセージキューシステムを含む、Javaエコシステムの中で最も人気ある部分のビルトインインストゥルメンテーションが含まれています。追加設定なしではインストゥルメントされていないフレームワークとライブラリに関しては、[Javaカスタムインストゥルメンテーション](/docs/agents/java-agent/custom-instrumentation/java-custom-instrumentation)でそのエージェントを拡張できます。

## エージェントのインストール要件 [#java-requirements]

Javaエージェントをインストールする前に、お使いのシステムが以下のシステム要件を満たしていることを確認してください：

<CollapserGroup>
  <Collapser
    id="jvm"
    title="JVM"
  >
    <Callout variant="tip">
      Javaエージェントは、Java、Scala、Kotlin、ClojureなどのJVMベースの言語と互換性があります。個々の言語の機能のインストゥルメンテーションのサポートについては、以下の[自動インストゥルメンテーションされたフレームワークとライブラリ](#auto-instrumented)のセクションをご覧ください。
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Javaバージョン
          </th>

          <th>
            互換性のあるエージェントバージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Java 5
          </td>

          <td>
            Agent v1.3.0 to v2.21.7
          </td>
        </tr>

        <tr>
          <td>
            Java 6
          </td>

          <td>
            Agent v3.0.0 to v4.3.0
          </td>
        </tr>

        <tr>
          <td>
            Java 7
          </td>

          <td>
            Agent v3.0.0 to v6.5.0
          </td>
        </tr>

        <tr>
          <td>
            Java 8
          </td>

          <td>
            Agent v3.10.0以降
          </td>
        </tr>

        <tr>
          <td>
            Java 9
          </td>

          <td>
            Agent v3.43.0以降
          </td>
        </tr>

        <tr>
          <td>
            Java 10
          </td>

          <td>
            Agent v4.4.0以降
          </td>
        </tr>

        <tr>
          <td>
            Java 11
          </td>

          <td>
            Agent v4.7.0以降
          </td>
        </tr>

        <tr>
          <td>
            Java 12
          </td>

          <td>
            Agent v4.12.0以降
          </td>
        </tr>

        <tr>
          <td>
            Java 13
          </td>

          <td>
            Agent v5.7.0以降
          </td>
        </tr>

        <tr>
          <td>
            Java 14
          </td>

          <td>
            Agent v5.11.0以降
          </td>
        </tr>

        <tr>
          <td>
            Java 15
          </td>

          <td>
            Agent v6.1.0以降
          </td>
        </tr>
      </tbody>
    </table>

    互換：

    * Linux用IBM JVMバージョン7、8

    * Linux、Windows、macOS 用 Eclipse OpenJ9 バージョン 8～13

    * Linux、Windows、macOS 用 OpenJDK および AdoptOpenJDK JVM バージョン7～15

    * Linux、Solaris、Windows、およびmacOS 用 Oracle Hotspot JVMバージョン7～15

    * Linux、Windows、macOS 用の Azul Zulu JVM バージョン8と11

    * Linux、Windows、macOS 用の Azul Zulu JVM バージョン8～12

    * Linux、Windows、macOS 用の Amazon Coretto JVM バージョン8と11

    * Linux、Windows、macOS 用の Alibaba Dragonwell JVMバージョン8と11

      [Javaエージェント4.3.x](https://download.newrelic.com/newrelic/java-agent/newrelic-agent/4.3.0/newrelic-java-4.3.0.zip)とのみ互換性あり \[ZIP | 2.8 MB] レガシーエージェント：

    * macOS 用 Apple Hotspot JVMバージョン6

    * IBM JVMバージョン 6

    * Linux、Solaris、Windows、macOS 用 Oracle Hotspot JVMバージョン6.0

      [Javaエージェント2.21.x](https://download.newrelic.com/newrelic/java-agent/newrelic-agent/2.21.7/newrelic-java-2.21.7.zip) \[ZIP | 2.8 MB] レガシーエージェントでのみ互換性あり：

    * Linux、Solaris、Windows、macOS 用 Oracle Hotspot JVMバージョン5.0（[Java SE 5.0](/docs/java/java-se-5)）

    * Oracle JRockit（1.6.0_50まで）
  </Collapser>

  <Collapser
    id="security-requirements"
    title="セキュリティ要件"
  >
    標準的な [データ収集のセキュリティ対策](/docs/accounts-partnerships/accounts/security/data-security)として、アプリサーバーはSHA-2（256ビット）をサポートしている必要があります。SHA-1はサポートされていません。
  </Collapser>

  <Collapser
    id="other-apm"
    title="その他のモニターソフトウェアの使用"
  >
    アプリケーションが当社のモニターソフトウェアのほかに他社のアプリケーションモニターソフトウェアを使用している場合は、エージェントが正しく動作することを保証できないため、技術サポートは提供できません。詳細については、[その他のモニターソフトウェアを使用中のエラー](/docs/apm/new-relic-apm/troubleshooting/errors-while-using-new-relic-apm-alongside-other-apm-software)を参照してください。
  </Collapser>
</CollapserGroup>

## 内蔵インストゥルメンテーション [#auto-instrumented]

[Javaエージェントをインストール](/docs/agents/java-agent/installation/install-java-agent)すると、多数の人気のフレームワークとライブラリが自動的にインストゥルメントされます。自動インストゥルメンテーションでは、エージェントが追加設定なしでリッチデータを収集し、データはインストールから数分でご利用のNew Relicダッシュボードに表示されます。ライブラリが自動インストゥルメンテーションされていない場合でも、[カスタムインストゥルメンテーション](/docs/agents/java-agent/custom-instrumentation/java-custom-instrumentation)および[JavaエージェントAPI](/docs/agents/java-agent/api-guides/guide-using-java-agent-api)を通じてデータを収集できます。

エージェントは、以下のフレームワークとライブラリを自動的にインストゥルメントします：

<CollapserGroup>
  <Collapser
    id="app-web-servers"
    title="アプリケーション/ウェブサーバー"
  >
    エージェントは、以下のアプリケーション/Webサーバーを自動的にインストゥルメントします。サポートされているアプリケーション/WebサーバーにJavaエージェントをインストールするには、[Javaエージェントのインストール](/docs/agents/java-agent/installation/java-agent-manual-installation)を参照してください。

    * ColdFusion 10
    * Glassfish 3.0～5.x
    * JBoss 7.0以降
    * JBoss EAP 6.0以降
    * Jetty 7.0.0.M3～9.4.x
    * Mule ESB 3.4～3.8.x
    * Netty 3.3.0.Alpha1～5.0.0.Alpha1
    * Resin 3.1.9 4.0.xまで
    * Spray-can 1.3.1以降
    * Tomcat 7.0.0～9.0.x
    * TomEE 1.5～8.0.x
    * WebLogic 12.1.2.1～12.2.x
    * [WebSphere 8.5.x～9.x](/docs/agents/java-agent/additional-installation/websphere-application-server)
    * WebSphere Liberty Profile 8.5以降
    * [WildFly 8.0.0.Final以降](/docs/agents/java-agent/additional-installation/wildfly-11-installation-java)
  </Collapser>

  <Collapser
    id="frameworks"
    title="フレームワークとライブラリ"
  >
    エージェントは、以下のフレームワークを自動的にインストゥルメントします。サポートされているフレームワークにJavaエージェントをインストールするには、[Javaエージェントのインストール](/docs/agents/java-agent/installation/java-agent-manual-installation)を参照してください。

    * Akka 2.2.0-RC1以降
    * AmazonS3クライアント1.2.13以降
    * AmazonSNSおよびAmazonSNSAsyncクライアント1.11.12以降
    * AmazonSQSおよびAmazonSQSAsyncクライアント1.3.22以降
    * S3Client 2.1.0以降
    * SnsClient 2.1.0以降
    * SqsClient 2.1.0以降
    * CXF 2.1.3以降
    * Grails 1.3.7～2.3.x
    * Hibernate 3.3.0.CR1～6.0.0.Alpha2
    * Hystrix 1.3.15以降
    * JAX-RS 1.0～2.0
    * [JCache API](/docs/release-notes/agent-release-notes/java-release-notes/java-agent-3200) 1.0.0以降
    * Jersey 1.0.1～2.x
    * JSF （Java Server Faces）
    * Play 2.3.0以降
    * Quartz Job Scheduler 1.8.3～2.2.x
    * RESTEasy 2.2-RC-1以降
    * Spray 1.3.1以降
    * Spring 3.0.0.RELEASE以降
    * Spring webclient 5.0.0.RELEASE以降
    * Spring Web Services 1.5.7以降
    * Spring Boot 1.4.x以降
    * Struts 2
    * Thrift 0.8.0以降
    * Vert.x 3.2.0～3.8.3
  </Collapser>

  <Collapser
    id="http-messaging"
    title="HTTPとメッセージング"
  >
    エージェントは、以下のHTTPクライアントおよびメッセージングサービスを自動的にインストゥルメントします。詳しい手順については、[Javaエージェントのインストール](/docs/agents/java-agent/installation/java-agent-manual-installation)をご覧ください。

    * Akka HTTP 2.4.5以降
    * Akka Http Core 0.4以降
    * AsyncHttpClient 2.0.0-RC1以降
    * gRPC 1.4.0以降
    * HttpAsyncClient 4.1以降
    * Apache Httpclient 3.0以降
    * java.net.HttpURLConnection
    * JMS および Spring-JMS 1.1以降
    * [Kafka Clients](https://docs.newrelic.com/docs/agents/java-agent/instrumentation/use-kafka-message-queues) 0.10.0.0以降（メトリックおよびイベントデータ向け）
    * [Kafka Clients](https://docs.newrelic.com/docs/agents/java-agent/instrumentation/use-kafka-message-queues) 0.11.0.0以降（ディストリビューティッド（分散）トレーシング、メトリック、およびイベントデータ向け）
    * OkHttp 3.x～4.3.x
    * Ning AsyncHttpClient 1.x
    * Play WS 2.6.0以降
    * RabbitMQ 1.7.2以降 (AMQP および JMS)
    * Spray-client 1.3.1以降
    * Spring webclient 5.0.0.リリース～最新版まで
  </Collapser>

  <Collapser
    id="JDBC"
    title="データストア"
  >
    現在、New RelicはMySQLとPostgreSQLをサポートしており、データベースのクエリが遅い場合にExplain Planを取得します。

    * Amazon DynamoDB 1.11.106以降
    * Anorm 2.0 ～2.5
    * DataStax Cassandra 2.1.2～4.0.0（[高セキュリティ](/docs/accounts-partnerships/accounts/security/high-security)を使用している場合、[許可リストに関する設定ドキュメンテーションを](/docs/agents/java-agent/configuration/java-agent-configuration-config-file#tt-slow_query_whitelist)参照してください。）
    * DB2 9.1以降
    * Derby 10.2.1.6以降
    * 汎用JDBC（任意のJDBC準拠ドライバ）
    * H2 1.0.57以降
    * HSQL 1.7.2.2以降
    * INet Oracle Driver （Oranxo） 3.06、3.14
    * INet MERLIA 7.0.3、8.04.03、8.06
    * Jedis Redisドライバ1.4.0～2.10.x、3.0.0以降
    * jTDS 1.2以降
    * MariaDB 1.1.7以上
    * Microsoft SQL Server 1.2以降
    * MongoDB 2.12.0-rc0～最新版まで（同期クライアントのみ）
    * MySQL mysql-connector-java 3.0.8以降
    * Oracle ojdbc5、ojdbc6、ojdbc7、ojdbc8、ojdbc10、ojdbc14
    * Postgres 8.0-312.jdbc3以降
    * Slick 3.0.0以降
    * Solr 4.0以降
    * Spymemcached 2.11以降
    * Sybase (jConnect) JDBC 3 driver 6.0以降
  </Collapser>

  <Collapser
    id="instance-level-db"
    title="インスタンスレベルのデータベース情報"
  >
    New Relicは[様々なデータベースとデータベースドライバのインスタンス詳細](/docs/apm/applications-menu/features/analyze-database-instance-level-performance-issues)を収集します。APMで特定のインスタンスおよびデータベース情報のタイプを表示する能力は、New Relicエージェントのバージョンによって異なります。

    New RelicのJavaエージェント[バージョン3.33.0以降](/docs/release-notes/agent-release-notes/java-release-notes/java-agent-3330) では、以下の機能をサポートしています：

    * 任意の [互換性のあるJDBCドライバ](#JDBC)

    * Amazon DynamoDB 1.11.106以上

    * DataStax Cassandra driver 2.1.2～4.0.0

    * Jedis Redisドライバ1.4～2.10.x、3.0.0以降

    * Mongo 2.12.0～最新版まで（同期クライアントのみ）/li>

    * Spymemcached 2.11.0～2.12.x

      **例外：**インスタンスレベルの情報は、`getBulk()`APIメソッドの呼び出しでは報告されません。

      Javaエージェントは、低速クエリのトレースおよびこれらのデータベースドライバのトランザクショントレースに関して、データベース名とデータベースサーバー/識別子属性をレポートします。追加のデータストアからインスタンスレベルの情報をリクエストするには、[support.newrelic.com](https://support.newrelic.com)でサポートを受けてください。
  </Collapser>

  <Collapser
    id="hosting-services"
    title="ホスティングサービス"
  >
    Javaエージェントは、以下に記載されていないものも含め、多数のホスティングサービス上にインストールできます。以下は、特定のホスティングサービスに関するインストレーションガイドになります：

    * [Google App Engine（GAE）フレキシブル環境](/docs/agents/java-agent/additional-installation/google-app-engine-flexible-installation-java#tomcat-example)
    * [Heroku](/docs/agents/java-agent/heroku/java-agent-heroku)
  </Collapser>

  <Collapser
    id="async"
    title="非同期インストゥルメンテーション"
  >
    サポートされているフレームワークの場合、Javaエージェントは[通常、非同期インストゥルメンテーションを自動的に行います](/docs/agents/java-agent/async-instrumentation/asynchronous-applications-monitoring-considerations)。ただし、JavaエージェントAPIを使用して[このインストゥルメンテーションを拡張](/docs/agents/java-agent/async-instrumentation/java-agent-api-asynchronous-applications)できます。
  </Collapser>

  <Collapser
    id="other"
    title="その他のインストゥルメンテーション機能"
  >
    * EJB Session Beans 3.0以上
    * JMX
    * JSP （Java Server Pages） 2.0～2.2
    * [Scala](/docs/agents/java-agent/frameworks/scala-installation-java) 2.9.3～2.13.x
  </Collapser>
</CollapserGroup>

## エージェントを他のNew Relic製品に接続 [#digital-intelligence-platform]

Javaエージェントは、他のNew Relic製品と統合され、エンドツーエンドの可視性を提供します。

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        製品
      </th>

      <th>
        インテグレーション
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [ブラウザのモニタリング](/docs/browser/new-relic-browser/getting-started/introduction-new-relic-browser)
      </td>

      <td>
        Javaエージェントは[自動インストゥルメンテーションが有効にされると](/docs/browser/new-relic-browser/installation/install-new-relic-browser-agent#select-apm-app)、Browser JavaScriptエージェントを自動的に挿入します。Browserインジェクションを有効化したあと、[APMの概要ページ](/docs/apm/applications-menu/monitoring/apm-overview-page)でBrowserデータを表示したり、特定のアプリに対してAPMとBrowserデータを素早く切り替えできます。設定オプションと手動インストゥルメンテーションについては、[ブラウザのモニタリングとJavaエージェント](/docs/agents/java-agent/instrumentation/page-load-timing-java)をご覧ください。
      </td>
    </tr>

    <tr>
      <td>
        [インフラストラクチャのモニタリング](/docs/infrastructure/new-relic-infrastructure/getting-started/introduction-new-relic-infrastructure)
      </td>

      <td>
        インフラストラクチャとAPMエージェントを同じホストにインストールすると、それぞれが自動的に相互に検出します。その後、APM UIにホストのリストを表示し、インフラストラクチャUIでAPMアプリでインフラストラクチャホストをフィルタリングできます。詳細については、[インフラストラクチャのAPMデータ](/docs/infrastructure/new-relic-infrastructure/data-instrumentation/new-relic-apm-data-infrastructure)を参照してください。
      </td>
    </tr>

    <tr>
      <td>
        [New Relic One のダッシュボード](/docs/query-your-data/explore-query-data/dashboards/introduction-new-relic-one-dashboards)
      </td>

      <td>
        Javaエージェントはデフォルトのイベントと属性をダッシュボードに送信します。または、[クエリビルダーでNRQLクエリを実行](/docs/query-your-data/explore-query-data/query-builder/use-advanced-nrql-mode-specify-data)できます。高度な分析のために、[カスタムイベントを記録](/docs/insights/insights-data-sources/custom-data/insert-custom-events-new-relic-apm-agents)することもできます。
      </td>
    </tr>

    <tr>
      <td>
        [合成のモニタリング](/docs/synthetics/new-relic-synthetics/getting-started/introduction-new-relic-synthetics)
      </td>

      <td>
        [合成トランザクショントレース](/docs/synthetics/new-relic-synthetics/using-monitors/collect-synthetic-transaction-traces)は、合成モニターからのリクエストを基盤となるAPMトランザクションに接続します。
      </td>
    </tr>
  </tbody>
</table>