---
title: ログ UI を使用する
tags:
  - Logs
  - Log management
  - UI and data
metaDescription: How to use the New Relic logs UI to explore your data.
freshnessValidatedDate: never
translationType: machine
---

import logsLogsUi from 'images/logs_screenshot-full_logs-ui.webp'

import logsExport from 'images/logs_export.webp'

import logsPatterns from 'images/logs_screenshot-crop_patterns.webp'

import logsLogDetails from 'images/logs_screenshot-crop_log-details.webp'

import logsSurroundingLogs from 'images/logs_screenshot-crop_surrounding-logs.webp'

import logsDtLogs from 'images/logs_screenshot-full_dt-logs.webp'

import logsTracesinContext from 'images/logs_screenshot-crop_traces-in-context.webp'

import logsNrqlButton from 'images/logs_screenshot-crop_nrql-button.webp'

ログ UI を使用して次のことを行います。

* ログの中に興味深いパターンや重要なパターンを発見する。
* 特定のログラインに関する詳細な情報を調べる。
* フィルタや解析ルールを使って、ログデータを調べたり操作したりすることができます。
* データをクエリしてカスタム ビジュアライゼーションを作成するか、それらをダッシュボードに追加します
* 組織のログ データを整理し、データ パーティションを使用してクエリのパフォーマンスを最適化します。
* 防止したい問題のアラート条件を設定します。

新しい機能や改善点に関する最新情報を入手するには、 [ログ リリース ノートの RSS フィード](/docs/release-notes/logs-release-notes)を購読してください。

<img
  title="Logs UI with details"
  alt="Screenshot of logs UI with details"
  src={logsLogsUi}
/>

<figcaption>
  **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**: ログを探索および管理するには、左側のナビゲーションを使用します。詳細情報を表示するには、ログ行をクリックします。
</figcaption>

## ログ UI を見つける [#find-ui]

ログUIを見つけるには、 **[one.newrelic.com](https://one.newrelic.com/all-capabilities)**から、\[**ログ]**を選択します。

## ログデータを見る [#ui-workflow]

ログ UI の左側のナビゲーションを、すべてのログ、属性、パターン、ライブテール ロギング、クエリを介した簡単なワークフローとして使用します。データの削除または解析、データ パーティションの作成、アラートの設定により、ログ データを管理します。 [難読化式とルール](/docs/logs/ui-data/obfuscation-ui)を使用して、ログ内の機密データをハッシュまたはマスクします。中央のナビゲーションから特定のログとその属性に関する詳細を取得します。

ロギングデータを調べるには、以下の基本的なワークフローに従ってください。

<CollapserGroup>
  <Collapser
    id="workflow-path"
    title="1. ログ UI に移動します。"
  >
    **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**にあるログ UI に移動します。

    [EU地域のデータセンター](/docs/using-new-relic/welcome-new-relic/get-started/our-eu-us-region-data-centers/)を使用している場合は、 **[one.eu.newrelic.com](https://one.eu.newrelic.com) >Logs**にアクセスしてください。

    [New Relic ナビゲーション バーをカスタマイズし](/docs/new-relic-one/use-new-relic-one/ui-data/basic-ui-features/#custom-navigation)ていない場合は、 **[one.newrelic.com](https://one.newrelic.com/all-capabilities)**にアクセスしてください。\[**データの参照**] をクリックし、\[**ログ**] を選択します。
  </Collapser>

  <Collapser
    id="workflow-patterns"
    title="2.パターンを探します。"
  >
    <img
      title="Logs patterns UI"
      alt="Screenshot of Log patterns UI"
      src={logsPatterns}
    />

    * ログメッセージの疑わしいスパイクまたはドロップを見つけるには、左側のナビゲーションの\[**[パターン](/docs/logs/ui-data/find-unusual-logs-log-patterns/)**]をクリックします。
    * 特定の期間のログを見るには、チャート上でそのポイントをクリック（またはエリアをクリック＆ドラッグ）するか、タイムピッカーを使用します。
  </Collapser>

  <Collapser
    id="workflow-focus"
    title="3.焦点を絞ります。"
  >
    左側のナビゲーションには、最初の検索結果の焦点を絞り込んだり、外れ値をすばやく見つけたりするのに役立つオプションが含まれています。

    * どこから始めればよいかわからない場合は、左側のナビゲーションで\[**属性**]をクリックし、必要に応じて追加の値を選択します。たとえば、 `hostname`属性の下にリストされているホストが他のホストよりも大幅に多くのエラーメッセージを生成している場合は、その値を選択して検索に適用します。
    * ログメッセージの照会と理解を容易にするために、 [組み込みの解析ルール](/docs/logs/ui-data/built-log-parsing-rules/) を使用するか、 [独自の解析ルール](/docs/logs/ui-data/parsing/) を作成して、特定の値に一致する属性を解析します。
    * 収集されるログデータの量を管理し、より少ないログを保存するために、必要のないデータを収集しないように、 [ドロップフィルタールール](/docs/logs/ui-data/drop-data-drop-filter-rules/) を作成します。
  </Collapser>

  <Collapser
    id="workflow-details"
    title="4.ログの詳細を調べます。"
  >
    <img
      title="Logs details UI"
      alt="Screenshot of Log details UI including severity level"
      src={logsLogDetails}
    />

    該当する場合、ログメッセージは重大度レベル（ `INFO` 、 `DEBUG`など）を示します。ログメッセージを選択して、その詳細を属性のテーブルまたはJSONとして表示します。

    * ログメッセージに含まれる属性を確認するには、ログ行をクリックします。
    * ログの詳細の特定の値に関連する問題のトラブルシューティングに役立てるために、属性の詳細について[周囲のログを表示](/docs/logs/troubleshooting/find-issues-cause-or-impact-surrounding-logs)します。
    * 非常に長いメッセージの詳細を得るために、 [blob](/docs/logs/ui-data/long-logs-blobs/) として保存されたデータを展開します。
  </Collapser>

  <Collapser
    id="workflow-search"
    title="5.クエリと検索。"
  >
    デフォルトでは、ログ UI にはすべてのログが表示されますが、キーワードや語句で検索して必要な結果を見つけることもできます。例えば：

    ```
    process failed
    ```

    先行入力ドロップダウンのある検索フィールドを使用して、属性、演算子、および値を選択することもできます。例えば：

    ```
    service_name equals my service
    ```

    クエリが必要な詳細に集中できるようにするには、次のいずれかを実行して属性を追加または削除します。

    * 左側のナビゲーションで、\[**属性**]を選択し、必要な値を選択して、\[**ログのクエリ**]をクリックします。

    * ログテーブルで、\[ **+** ]アイコンをクリックして属性を追加し、それをクリックしてクエリに追加します。

      Lucene 構文の検索バーから NRQL クエリに切り替えるには、検索バーの横にある **NRQL** ボタンをクリックします。NRQL と Lucene の間に直接の同等性はありません。これは、多くの場合、NRQL クエリはそれほど複雑ではなく単純であることを意味しますが、これは、同じデータを使用してクエリを構築するための開始点として役立ちます。

      ログのクエリの詳細については、 [ログ クエリ構文のドキュメントを](/docs/logs/ui-data/query-syntax-logs/)参照してください。
  </Collapser>

  <Collapser
    id="query-builder"
    title="7. NRDBクエリビルダーによる高度なログ分析。"
  >
    <img
      title="Advanced log analysis with NRDB query builder"
      alt="Screenshot of link to NRDB query builder"
      src={logsNrqlButton}
    />

    [NRDB クエリ ビルダー](/docs/query-your-data/explore-query-data/query-builder/introduction-query-builder/)を使用すると、フィルタを失うことなく、ログ イベントに対して NRQL クエリを作成できます。ログ検索バーの右側にある **NRQL** ボタンをクリックし、クエリを開始します。
  </Collapser>

  <Collapser
    id="workflow-related"
    title="8. 関連ログを取得します。"
  >
    最も有用なログに焦点を当てることは、次のことに役立ちます。

    * **パフォーマンスの最適化：**アカウント内のデータを整理し、クエリのパフォーマンスを最適化するには、[データパーティションルール](/docs/logs/ui-data/data-partitions/)を作成します。
    * **デプロイの確認：**システムがデプロイやその他のアプリの変更にどのように応答するかをすぐに確認するには、[ライブテールロギング](/docs/logs/troubleshooting/view-log-messages-real-time-live-tail)を有効にします。
    * **無関係な詳細のバイパス：**特定の値のすべてのログを表示するには、選択したログの**ログの詳細**の属性リストを確認し、必要に応じて属性の追加または削除を続行します。
    * **根本原因の特定：**問題が発生する前の根本原因またはイベント後の影響を特定するには、**ログの詳細**で\[ **...** ]をクリックして、[周囲のログを表示](/docs/logs/troubleshooting/find-issues-cause-or-impact-surrounding-logs)します。
    * **コンテキストの取得：**アプリとホストの他のテレメトリデータに関連するログを表示する[には、コンテキストでログを](/docs/logs/logs-context/logs-in-context)使用します。
  </Collapser>

  <Collapser
    id="traces-in-context-overview"
    title="9. 分散トレースを詳しく調べます。"
  >
    フィルターを使用して一連のログを絞り込み、特定のログを開くと、関連する分散トレースを表示できます。分散トレースを設定しており、ログに関連するサンプリングされたトレースがある限り、それらを表示するオプションが表示されます。これは、メインの分散トレース ページに移動せずにトレース情報を表示する簡単な方法です。

    **Log details**\[ログの詳細] ペインを開いて **Distributed trace**\[分散トレース] セクションが表示されている場合は、ウォーターフォール ビューでスパン トレースを表示するための 2 つのオプションがあります。

    * トレース名を直接クリックするか、右側にある矢印の付いたアイコンをクリックすると、ウォーターフォール フォーカス ビューが開き、エラーのあるトレース スパンが強調表示されます。

      <img
        style={{ align: "left",width: "85%" }}
        title="Screenshot showing how to reach the log details page"
        alt="Screenshot showing how to reach the log details page"
        src={logsTracesinContext}
      />

    * または、 **Explore** をクリックして、フィルター処理されていないウォーターフォールを開いて、すべてのスパンをクリックすることもできます。

      <Callout variant="tip">
        トレース ウォーターフォールの使用についてサポートが必要な場合は、 [「分散トレース UI を理解して使用する」](/docs/distributed-tracing/ui-data/understand-use-distributed-tracing-ui/)を参照してください。
      </Callout>
  </Collapser>

  <Collapser
    id="share"
    title="10. 調査結果を共有します。"
  >
    New Relic UI のコア機能のいずれかを使用して、[データ (特定のアカウント、時間範囲、メトリクスとイベント、クエリ ビルダーなど) を探索し](/docs/query-your-data/explore-query-data/browse-data/introduction-data-explorer/)、データをグラフと共有したり、ダッシュボードに追加したりできます。詳細については、このドキュメントの[例](#examples)を参照してください。
  </Collapser>
</CollapserGroup>

## 輸出 [#export]

ログのサブセットをエクスポートして共有するには、ユーザーはログ UI の専用のエクスポート機能を利用できます。この機能により、CSV または JSON 形式で最大 2000 件のログ レコードをエクスポートできます。ログ レコードは、現在のブラウザの `/Downloads/` フォルダ内のマシンにローカルにダウンロードされます。

<img
  title="Logs Export UI with details"
  alt="Screenshot of Export UI with details"
  src={logsExport}
/>

## 権限 [#permissions]

ユーザー タイプ別の権限の詳細については、 [「ユーザー タイプ」](/docs/accounts/accounts-billing/new-relic-one-user-management/user-type/#logs-capabilities)を参照してください。

`NRQL drop rules` 機能を制限し、ドロップ フィルタの作成を制限するカスタム ロールを作成できます。必要に応じて、基本ユーザーに制限を追加することもできます。[ドロップ ルールの詳細については、こちらをご覧ください](/docs/accounts/accounts-billing/new-relic-one-user-management/user-permissions#capability-definitions)。

## ビューの保存 [#saved-views]

ログのクエリ、テーブル構成、時間範囲、属性のグループ化を保存したビューに保存しておけば、後ですぐに戻ることができます。ログ分析ビューを構成した後に保存するには。

1. **Your logs** \[ログ] セクションのいずれかの UI ページで、右側の **Saved views** \[保存されたビュー] をクリックし、 **Create new** \[新規作成]をクリックします。
2. 現在のビューに名前を付けます。
3. 現在のビューからどの局面を保存するかを選択します。
4. チームメンバーのアクセス許可を選択します。

## 例 [#examples]

ここでは、ログ UI を使用して詳細情報を取得する方法の例をいくつか示します。

<CollapserGroup>
  <Collapser
    id="alert"
    title="ログデータからアラートを作成します。"
  >
    ログ UI でアラート条件を直接作成できます。

    1. **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**に移動します。

    2. 警告したい結果を検索します。たとえば、 `service_name:"your service" "fatal error"` 。

    3. ベルをクリックしてください <Icon name="fe-bell-off"/> クエリバーの横にあるアイコン。

    4. 手続きを完了する

    5. アラート条件を強化する NRQL クエリを確認します。

       アラート条件を保存した後、アラートUIで表示でき、必要に応じて追加の変更を加えることができます。
  </Collapser>

  <Collapser
    id="dashboard"
    title="ダッシュボードにログチャートを追加します。"
  >
    **ログ**UI から、ログ データを[テーブル ウィジェット](/docs/query-your-data/explore-query-data/use-charts/chart-types/#widget-table)としてダッシュボードに追加できます。メトリクスとイベントを含むログ テーブル、または New Relic のクエリ ビルダーを作成することもできます。

    1. **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**に移動します。
    2. 右側で、 **Saved views** \[保存されたビュー] をクリックし、保存されたビューを選択します。または、プロットしたい結果を検索します。たとえば、 `service_name:"checkout service" "process failed"`。
    3. \[**ダッシュボードに追加]を**クリックし、詳細を入力して、ログチャートをテーブルとして既存または新しいダッシュボードに追加します。

    次に、ダッシュボードから次のことができます。

    * コピー、編集、削除などの標準のダッシュボード ウィジェット機能を使用します。
    * ログの行をクリックして、詳細を表示します。
    * クエリを更新して、列を追加します。
    * 他の利用可能なアカウントからログデータをクエリし、ダッシュボードにグラフを追加します（たとえば、比較データとして）。
    * \[ログで**開く]を**クリックして、追加のトラブルシューティングのために**ログ**UIに直接移動します。
  </Collapser>

  <Collapser
    id="troubleshoot-error"
    title="エラーのトラブルシューティングを行います（コンテキストでログを記録します）。"
  >
    アプリでエラーが発生したときにホストで何が起こっていたかをよりよく理解するには[、コンテキストでログ](/docs/logs/logs-context/configure-logs-context-apm-agents/)を表示できる必要があります。次に、関連するエラーのトラブルシューティングを行います。

    1. **\[APM]> \[エラー受信ボックス**]または**\[APM]>（アプリを選択）>\[イベント]>\[エラー分析]**に移動し、エラートレースを選択します。

    2. エラートレースの詳細から、\[**ログで開く**]をクリックします。

    3. 関連するログの詳細を参照します。

    4. エラーを生成しているホストを特定するには、\[ **...** ]をクリックして選択し、\[**周囲のログを表示**]をクリックします。

       <img
         title="APM errors inbox UI with logs"
         alt="Screenshot of APM errors inbox UI with logs"
         src={logsSurroundingLogs}
       />
  </Collapser>

  <Collapser
    id="troubleshoot-latency"
    title="レイテンシーのトラブルシューティング（文脈上のログ）"
  >
    この方法でレイテンシーをトラブルシューティングするには、 [のログを](/docs/logs/logs-context/configure-logs-context-apm-agents/) のコンテキストで見ることができなければなりません。そして、パフォーマンスが著しく低下したときに、システムがどのように動作していたのかをより深く理解する必要があります。

    1. **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > APM & services > (アプリを選択)**に移動します。

    2. アプリの**\[概要**]ページで、\[**分散トレース**]をクリックし、特に遅いトレースを選択します。

    3. トレースの**詳細**から、\[**ログ**]をクリックします。

       <img
         title="APM distributed tracing UI with logs"
         alt="Screenshot of APM distributed tracing UI with logs"
         src={logsDtLogs}
       />
  </Collapser>
</CollapserGroup>

## New Relicのログへのリンク [#links]

お使いの New Relic のサブスクリプションに応じて、New Relic UI のいくつかの場所からログにアクセスすることができます。これらのオプションの一部については、 [ログをコンテキスト](/docs/logs/logs-context/configure-logs-context-apm-agents/) で見ることができる必要があります。

<Callout variant="tip">
  あなたのアプリの <InlinePopover type="apm"/>エージェントは、 [コンテキスト内の APM ログを](/docs/apm/new-relic-apm/getting-started/get-started-logs-context)使用して、ログ データを New Relic に直接転送します。追加のサードパーティ ソフトウェアをインストールまたは維持する必要はありません。
</Callout>

<table>
  <thead>
    <tr>
      <th style={{ width: "175px" }}>
        ログを見るには...
      </th>

      <th>
        これを行う...
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        ログ UI から直接
      </td>

      <td>
        * **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**に移動します。
        * EU地域のデータセンター [(利用可能な場合)](/docs/using-new-relic/welcome-new-relic/get-started/our-eu-us-region-data-centers/): **[one.eu.newrelic.com/](https://one.eu.newrelic.com) > Logs**.
      </td>
    </tr>

    <tr>
      <td>
        APMのアプリから
      </td>

      <td>
        **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > APM**に移動し、アプリを選択して、次のオプションのいずれかを使用します。

        * **トリアージ>ログ**
        * **トリアージ>エラー受信ボックス>（エラーを選択）>ログ**
        * **イベント>エラー>（エラーを選択）>ログを表示**
      </td>
    </tr>

    <tr>
      <td>
        分散型トレーシングから
      </td>

      <td>
        **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > APM & services > (アプリを選択) > Distributed tracing > (トレースを選択) > Logs** に 移動します。
      </td>
    </tr>

    <tr>
      <td>
        お客様のインフラのホストから
      </td>

      <td>
        **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Infrastructure**に移動し、ホストを選択して、 **Logs**を クリックします。
      </td>
    </tr>

    <tr>
      <td>
        Kubernetesから
      </td>

      <td>
        Kubernetes UI からクラスターを選択し、 **Logs** \[ログ]をクリックします。
      </td>
    </tr>

    <tr>
      <td>
        エンティティから
      </td>

      <td>
        **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > All entities > (エンティティを選択) > Logs**に移動します。
      </td>
    </tr>
  </tbody>
</table>

まだお持ちでない場合は、以下で無料の New Relic アカウントを作成して、今すぐデータの監視を開始してください。

<InlineSignup/>