---
title: ユーザーをNew Relic Oneのユーザーモデルに移行する
metaDescription: 'For New Relic organizations with users on our original user model: how to migrate your users to our new model.'
translationType: machine
---

2021年4月12日以降、元のユーザーモデルのユーザーがいる一部のお客様は、セルフサービスを利用して、それらのユーザーをNewRelicOneユーザーモデルに移行できるようになります。

## 背景 [#background]

2020年7月30日、NewRelicOneユーザーモデルと呼ばれる新しい改良されたユーザーモデルをリリースしました。この新しいモデルは、ユーザーとその役割およびアカウントへのアクセスを管理するための、よりシンプルで効率的な方法を提供します。

当初、この新しいモデルは主に新規のお客様に提供され、既存のニューレリック組織のユーザーはオリジナルのユーザーモデルのままでした。しかし、現在では、いくつかの [要件](#requirements) を満たした元のユーザーモデルの組織では、移行ウィザードを使ってユーザーを新モデルに移行することができます。この移行プロセスが完了すると、ユーザーは New Relic One のユーザーモデルになり、 [ユーザーやアカウントへのアクセスを管理するための新しい手順が必要になります](/docs/accounts/accounts-billing/new-relic-one-user-management/introduction-managing-users/) 。

## 利点 [#benefits]

ユーザーをこのモデルに移行すると、以下のようなメリットがあります。

* 複数のアカウントのすべてのユーザーを一度に表示し、管理することができます。
* ユーザーを追加・管理するための手順が少ない。
* 柔軟な認証方法
* ユーザー管理のためのより詳細な役割
* ProおよびEnterpriseのお客様向け：IDプロバイダを介した自動ユーザー管理へのアクセス。

[新しいユーザーモデルのメリットの詳細をご覧ください。](https://blog.newrelic.com/product-news/user-management-and-access-security/)

## 要件 [#requirements]

要件は、以下のとおりです。

* あなたは、 [オリジナルのユーザーモデル](/docs/accounts/original-accounts-billing/original-product-based-pricing/overview-user-models) である必要があります。どちらかわからない場合は、 [決定版ユーザーモデル](/docs/accounts/original-accounts-billing/original-users-roles/overview-user-models/#determine-user-model) をご覧ください。
* ユーザー移行ウィザードを使用するには、 [オーナーロール](/docs/accounts/original-accounts-billing/original-users-roles/users-roles-original-user-model/#roles) が必要です。

## ユーザーを移行すべきかどうかの判断 [#recommendations]

**これらの注意事項は、New Relic の担当者がサポートしている場合には適用されません。** その場合には、お客様のアカウント担当者が指導します。

このような状況では、 **ユーザー移行ウィザードを使用しないことをお勧めします。**

*** お客様の組織に30以上のアカウントがある場合（New Relicの担当者からサポートを受けている場合を除く）。なお、これは30個以上の [アカウント](/docs/accounts/accounts-billing/account-structure/new-relic-account-structure), **not** ユーザーを持っていることを指します。
* 頻繁に [アカウントを追加する場合](/docs/accounts/accounts-billing/account-structure/mastersub-account-structure/#creating) 。現在、新ユーザーモデルのユーザーがアカウントを追加するには、New Relic のサポートが必要です。
* [新しいユーザーモデルの影響と制限](/docs/accounts/original-accounts-billing/original-product-based-pricing/overview-user-models/#differences) のいずれかが自分にマイナスの影響を与える可能性があると考える場合。
* ユーザー管理機能にアカウントレベルのロールを必要とする場合。ユーザー管理に関連するロール（ユーザーの追加と更新、ユーザータイプの変更、アクセス許可の作成）は、現在、組織全体に適用され、特定のアカウントに割り当てることはできません。ユーザー移行ウィザードを使用すべきかどうかについて質問がある場合は、New Relic のアカウント担当者にご相談ください。## オプション：ユーザーのユーザータイプを確認する [#user-type][New Relic One の料金モデル](/docs/accounts/accounts-billing/new-relic-one-pricing-billing/new-relic-one-pricing-billing) の組織では、ユーザーの [ユーザータイプ](/docs/accounts/accounts-billing/new-relic-one-user-management/user-type) が課金の要因となります。現在、New Relic One の価格モデルを利用している場合も、 [近いうちにこの価格モデルに切り替える予定の場合も](/docs/accounts/original-accounts-billing/original-product-based-pricing/switch-new-models) 、ユーザーの移行を行う前に、ユーザーのユーザータイプを編集することに意味があるかもしれません。その理由のひとつは、オリジナルの **ユーザーとロール** UI では、ユーザーが最後に New Relic を使用した時間を確認することができ（新しい UI ではまだこの機能はありません）、どのユーザータイプにするかを決定するのに役立つことがあります。この方法についてのヒントは、 [Edit user type](/docs/accounts/original-accounts-billing/original-users-roles/users-roles-original-user-model/#full-user-count) を参照してください。## オプションです。ユーザー管理の概念を理解する [#before-beginning]ユーザーの移行手順では、すべてのユーザーに組織のすべてのアカウントへのアクセスを許可するか、より詳細なアクセスを割り当てるか（ユーザーグループがアクセスできる役割とアカウントを設定する）を選択できます。特定のアカウントまたは特定の役割へのユーザーのアクセスを制御する必要があるほど、新しいユーザー管理の概念に関するいくつかの基本を理解するのに役立ちます。簡単な要約は次のとおりです。* ユーザーは、"認証ドメイン" と呼ばれるコンテナに入っています。ドメインは、ユーザーがどのように New Relic に追加されるかを管理します (UI を使って手動で、または SCIM を使って自動的に)。また、ユーザーがどのようにログインするか (メール/パスワードを使って手動で行うか、SAML SSO を使って行うか)についても管理します。ほとんどの組織では、認証ドメインは1つまたは2つだけで、デフォルトの手動設定用と、より自動化された方法用があります。
* ユーザーは、1つまたは複数のグループに割り当てることができます（たとえば、当社のデフォルトの **Admin** グループや、 **Contractors** などのカスタムグループなど）。大規模な組織では、ユーザーが複数のグループに割り当てられることがよくあります。
* あるユーザーグループに特定のロールと特定のアカウントへのアクセス権を与えたい場合は、 **アクセスグラント** を作成する必要があります。たとえば、 **Contractors** グループに、1つまたは複数のアカウントで、当社のデフォルトの **All product admin** ロールへのアクセスを与えるか、そのグループにカスタムロールを与えるとします。詳細については、[ユーザー管理コンセプト](/docs/accounts/accounts-billing/new-relic-one-user-management/user-management-concepts#understand-concepts)を参照してください。アクセス権の編集や調整は、移行後に行うことができますが、先に計画を立てておきたいという方のために、そのヒントをご紹介します。* アカウント数が多い組織では、プライマリ（最初の）アカウントに、 [**Organization manager** role](/docs/accounts/accounts-billing/new-relic-one-user-management/user-management-concepts#standard-roles) （組織レベルの管理機能）を持つユーザーグループ、 [**Authentication domain manager**](/docs/accounts/accounts-billing/new-relic-one-user-management/user-management-concepts#standard-roles) （ユーザーの管理機能）を持つグループ、 [**Billing user**](/docs/accounts/accounts-billing/new-relic-one-user-management/user-management-concepts#standard-roles) （請求関連の機能）を持つグループを用意し、その他のアカウントには必要に応じてadmins、users、その他の役割を持つ様々なユーザーグループを構成するのが一般的な構成です。
* 組織の規模が小さかったり、平べったい組織で、すべてのチームがすべてのデータに対して透明性を確保することに問題がないお客様は、1つまたは2つのグループしか持たないこともあります。
* すべてのデータを1つのアカウントで管理している組織では、5つまたは6つのグループを持つのが一般的な構成です。## ユーザー移行プロセスの開始 [#find]始める前に、 [要件](#requirements) および上記のその他の推奨事項を確認してください。ウィザードの使用を開始するには1. [one.newrelic.com](https://one.newrelic.com) から、トップナビゲーションの **Apps** をクリックします。
2. アプリのテーブルで、 **User migration walkthrough** アプリをクリックします。
3. オプション：さらに詳しい情報が必要な場合は、以下のセクションで特定の移行ウィザードページに関するヒントや推奨事項をご覧ください。移行が正常に完了した場合は、 [ユーザーの管理方法を学ぶ](#manage-users) 。## ステップ1：アドミンの作成 [#page1]![ユーザー移行ページ1](./images/user-migration-page-1.png "ユーザー移行ページ-1.png")ヒント* **Accounts included** ドロップダウンにチェックを入れます。ユーザーの移行は、選択したアカウントにのみ適用されることに注意してください。つまり、組織に複数のアカウントがある場合は、それぞれのアカウントに対して移行処理を行う必要があります。

* a) アカウントの現在の管理者をすべてインポートするか、b) ユーザー管理機能へのアクセス権を持つべき管理者を指定することができます。なお、管理者ユーザーの追加や権限の編集は、移行プロセスが完了した後に行うことができます。

* すでにウィザードを使って新しいユーザーモデルに管理者を設定している場合は、管理者に新しいユーザーレコードを使ってサインインしてもらい、移行ツールにアクセスしてもらいます。ユーザー移行ウィザードは完了すると古いユーザーレコードを破棄しますが、ユーザー移行プロセスを完了せずに開始した場合、以下のように元のレコードと新しいレコードの両方にアクセスできるユーザーが存在する可能性があります。 ![複数のNew Relicログインに関連付けられたメールアドレスがある場合に表示されるスクリーンショットです。](./images/login-multiple-accounts-view.png "複数のユーザーレコードを持つメールアドレスのログインUI")

  <figcaption>新しいモデルのユーザーが作成され、移行プロセスが完了していない場合、元のユーザー記録と新しいユーザー記録の両方にアクセスできる可能性があります。</figcaption>

* もし、一部のユーザーだけを新しいユーザーモデルに移行して開始する予定であれば、元のユーザーモデルのユーザーを管理するための管理者がいるように、元のユーザーモデルの管理者をいくつか残しておくことをお勧めします。## ステップ2：組織の設定 [#page2]![ユーザー移行ページ2](./images/user-migration-page-2.png "ユーザー移行ページ-2.png")より多くの設定が可能なガイド付きセットアップ、または手順の少ない自動セットアップのいずれかを選択できます。自動設定時の注意点* SSOや [SCIMの設定を移行することはありません](/docs/accounts/accounts/automated-user-management/automated-user-provisioning-single-sign) 。その代わり、ユーザーは手動でプロビジョニングされ、ユーザー名とパスワードを使って手動でログインすることになります。
* すべてのユーザーにすべてのアカウントへのアクセスを提供します。現在、SSOまたはSCIMプロビジョニングを使用している場合や、特定のユーザーグループが一部のアカウントにアクセスできないようにする必要がある場合は、自動オプションを使用しないでください。## ステップ3：組織の名称 [#page3]![ユーザー移行 3ページ目](./images/user-migration-page-3.png "ユーザー移行ページ-3.png")組織の名前は、説明的でわかりやすいものにしましょう。## ステップ4：認証ドメインの設定 [#page4]![ユーザー移行 4ページ](./images/user-migration-page-4.png "ユーザー移行ページ-4.png")このセクションでは、ユーザーのプロビジョニング (New Relic への追加) 方法と、ユーザーの認証 (ログイン) 方法を制御します。SAML SSO または SCIM セットアップを選択すると、移行ウィザードを終了し、New Relic UI およびアイデンティティプロバイダの他の場所で設定を行う必要があることに注意してください。ここでは、2つの認証ドメイン部について詳しく説明します。### ユーザーの管理 [#managing-users]ユーザーの追加と管理の方法については、**手動**または**IDプロバイダー**（SCIM）を選択できます。 IDプロバイダーを使用してSCIMを介してユーザーをプロビジョニングするオプションは、組織に[ProまたはEnterpriseエディション](https://newrelic.com/pricing)がある場合にのみ使用できます。**IDプロバイダー**を選択した場合**は[、自動ユーザー管理の手順](/docs/accounts/accounts/automated-user-management/automated-user-provisioning-single-sign#how-to)に従う必要があります**。これらの手順を完了したら、ユーザー移行ウィザードとドキュメントに戻ります。この手順を完了したら、できるだけ早くユーザー移行プロセスを完了することを強くお勧めします。アセットを移行して元のユーザーレコードを削除する後の手順を完了しない場合、ユーザーは同じログインに関連付けられた2つのユーザーレコードを持っているか（[ステップ1のログインスクリーンショットを](#page1)参照）、そうでない場合は、期待するアセットが欠落している可能性があります（ダッシュボードのように）。IDプロバイダーをNewRelicと同期し、アクセス許可を設定するためのヒント：* Okta、Azure、またはOneLoginのいずれかでNew Relicアプリを既に使用している場合は、古いバージョンを使用している可能性があります。古いアプリのタイトルは「アカウント別のNewRelic」ですが、新しい必須アプリのタイトルは「組織別のNewRelic」です。
* これらの手順を完了すると、新しいユーザーレコードが新しいユーザーモデルで作成され、IDプロバイダーの構成に基づいてNewRelicで同期されます。ユーザーのプロビジョニングが完了したら、新しい[**ユーザー管理**UI](#manage-users)にそれらのユーザーレコードが表示されることを確認します。後で、ステップ6で、既存のユーザーのアセット（ダッシュボード、お気に入りなど）を新しく作成されたユーザーレコードに移行します。
* 新しいNewRelicユーザー管理UIにアクセスするには、新しいユーザーレコードを介してログインする必要があります。これには、ログアウト、ログインし直し、メールを確認して、メールに関連付けられているすべてのログインを確認する必要がある場合があります。
* IDプロバイダーがNewRelicと同期されていて、ユーザーとグループがNew Relicにいる場合は、アクセス許可を設定する必要があります。アクセス許可の仕組みの基本については、アクセス[許可](/docs/accounts/accounts-billing/new-relic-one-user-management/user-management-concepts/#understand-concepts)を参照してください。チュートリアルについては、 [ユーザー管理チュートリアル](/docs/accounts/accounts-billing/new-relic-one-user-management/tutorial-add-new-user-groups-roles-new-relic-one-user-model/#group-access)を参照してください。
* New Relicではユーザーまたはグループを編集できないことに注意してください。すべてのユーザーおよびグループの変更は、IDプロバイダーから行う必要があります。完了したら、ステップ5に進んでください。### ログイン方法 [#login-methods]**Manually** for [managing users](#managing-users) を選択した場合、それらのユーザーのログイン方法を選択することができます。a) 電子メール／パスワードによるログイン、b) シングルサインオン（SSO）のいずれかを選択できます。なお、SSOはPro版またはEnterprise版の組織でのみ利用可能です。必要に応じて複数の認証方法を選択することができます。例えば、従業員にはSSOを、契約者にはユーザー名/パスワードを使用することができます。SSOを選択した場合は、 [追加の構成手順](/docs/accounts/accounts-billing/new-relic-one-user-management/authentication-domains-saml-sso-scim-more/#saml)を完了する必要があります。これを行うためのいくつかのヒント：* Okta、Azure、またはOneLoginのいずれかでNew Relicアプリを既に使用している場合は、古いバージョンを使用している可能性があります。古いアプリのタイトルは「アカウント別のNewRelic」ですが、新しい必須アプリのタイトルは「組織別のNewRelic」です。
* 新しいNewRelicユーザー管理UIにアクセスするには、新しいユーザーレコードを介してログインしていることを確認する必要があります。これには、ログアウトして再度ログインし、メールを確認して、そのメールに関連付けられているすべてのログインを確認する必要がある場合があります。
* SSOの設定手順を完了してから、移行ウィザードに戻って移行プロセスを続行できます。
* 複数の認証方法を選択する場合は、新しい[認証ドメイン](/docs/accounts/accounts-billing/new-relic-one-user-management/authentication-domains-saml-sso-scim-more/#auth-domain-definition)を追加する必要があることに注意してください。## ステップ5: 既存のユーザーのインポート [#import-users]![ユーザー移行 5ページ](./images/user-migration-page-5.png "ユーザー移行ページ-5.png")NewRelicユーザーを追加および管理するには2つの方法があります。手順とヒントに使用する方法を選択します。<CollapserGroup>
  <Collapser
    id="manual-provision"
    title="NewRelicUIから手動でユーザーを追加および管理する"
  >
    **推奨**：ユーザーのインポートを選択する前に、既存の元のユーザーモデルユーザーの完全なリストをダウンロードしてください。これは便利なリソースであり、必要に応じてバックアップとして機能します。このリストを使用して、どのユーザーがどのアカウントにアクセスできるかを把握したり、後のステップでグループを作成して許可にアクセスしたりすることもできます。

    この移行中に、ユーザーを一括でアップロードする機能を提供して、ユーザーを手動で追加するタスクをはるかに簡単にします。元のユーザーモデルユーザーをダウンロードした後、すべてのユーザーまたは一部のユーザーをアップロードできます。このユーザーリストを確認し、移行したくないユーザー（たとえば、組織でもう働いていないユーザー）を[、元のユーザーモデルのNewRelicUIと同様に提供されたリストから削除することをお勧めします。](/docs/accounts/original-accounts-billing/original-users-roles/users-roles-original-user-model#deleting)

    ユーザーリストを再アップロードしてこのステップを完了すると、New Relic One のユーザーモデル上にユーザーレコードが作成されます。後のステップで、これらのユーザーのアセットを移行できるようになります。

    この手順を完了して新しいユーザーレコードを作成したら、移行プロセスの残りの部分をできるだけ早く完了することを強くお勧めします。アセットを移行して元のユーザーレコードを削除する手順を完了しない場合、ユーザーは同じログインに関連付けられた2つのユーザーレコードを持っているか（[ステップ1のログインスクリーンショットを](#page1)参照）、そうでない場合は、期待するアセットが欠落している可能性があります（ダッシュボード）。

    ヒント：

    * パスワードをリセットする必要はありません。ユーザーのログインにユーザー名/パスワードを使用する場合、ユーザーは、ユーザー用に作成された新しいユーザーレコードに対して同じログイン資格情報を持ちます。ユーザーが保留中の電子メール検証ステータス（検証中）を持っている場合、それも移行されます。
    * 新しいユーザーの電子メールアドレスが、元のユーザー記録の電子メールアドレスと一致することを確認してください（大文字小文字の一致を含む）。メールアドレスは、ユーザーを照合するためのキーバリューとして使用され、後のステップでは、ユーザーに関連する資産を移行するために使用されます。
  </Collapser>

  <Collapser
    id="aum"
    title="IDプロバイダー（SCIM）からのユーザーの追加と管理"
  >
    **推奨**：既存の元のユーザーモデルユーザーのリストをダウンロードすることをお勧めします。これは有用なリソースであり、必要に応じてバックアップとして機能します。このリストを使用して、どのユーザーがどのアカウントにアクセスできるかを把握したり、後のステップでグループを作成して許可にアクセスしたりすることもできます。

    前のステップ（ステップ＃4）で、 [IDプロバイダーをNew Relicと同期するためのステップを](/docs/accounts/accounts/automated-user-management/automated-user-provisioning-single-sign/#how-to)完了して、NewRelicでIDプロバイダーのグループとユーザーを確認できるようにする必要があります。まだ行っていない場合は、今すぐ行ってください。グループとユーザーはIDプロバイダーとNewRelicの間で同期されるため、このステップでユーザーをアップロードする必要はありません。
  </Collapser>
</CollapserGroup>## ステップ6：アクセス設定 [#access-settings]![ユーザー移行 6ページ](./images/user-migration-page-6.png "ユーザー移行ページ-6.png")この手順では、ユーザーグループがアクセスできる役割とアカウントを設定します。ユーザーアクセスを特定のアカウントと役割にマップする必要がある場合は、この段階でグループとアクセス許可を設定する必要があります。 （ステップ4でSCIMセットアップの一部としてアクセス許可を以前にセットアップしたことがある場合は、このステップをスキップできます。）グループにアクセスを許可するアカウントと役割ごとにアクセス許可を作成する必要があります。アクセス許可の仕組みの基本については、アクセス[許可](/docs/accounts/accounts-billing/new-relic-one-user-management/user-management-concepts/#understand-concepts)を参照してください。アクセス許可を作成する方法のチュートリアルについては、 [ユーザー管理のチュートリアル](/docs/accounts/accounts-billing/new-relic-one-user-management/tutorial-add-new-user-groups-roles-new-relic-one-user-model/#group-access)を参照してください。## ステップ7：ユーザー資産の移行 [#migrate-assets]![ユーザー移行 7ページ](./images/user-migration-page-7.png "ユーザー移行ページ-7.png")この手順が完了すると、ユーザーの個人資産が新しいユーザーレコードに移行され、元のユーザーレコードが削除されます。現在NewRelicにログインしているユーザーの場合、この手順を完了すると、ログアウトするか、現在のブラウザセッションが期限切れになるまで、現在のNewRelicセッションが中断されることはありません。移行されるユーザー資産は次のとおりです。* ダッシュボード
* お気に入り
* ウィークリーメールの設定
* 電子メールのオプトイン/アウトの設定
* ユーザー別 [ユーザーキー](/docs/apis/intro-apis/new-relic-api-keys/#user-api-key)
* New Relic Oneアプリ [NerdStorageデータ](https://developer.newrelic.com/explore-docs/nerdstorage)ユーザーがNewRelicを使用する複数の組織にアクセスできる場合（たとえば、そのユーザーが請負業者である場合）、それらのすべての組織がユーザーを移行するまで、元のユーザーモデルレコードは完全に削除されません。そのようなユーザーは、元のユーザーレコードと1つ以上の新しいユーザーレコードの両方を持っている可能性があり、その場合は、ログイン時に表示されます（ [1ページのセクションのログインスクリーンショットを参照](#page1)）。## ステップ8：レビューと仕上げ [#review-finish]![ユーザー移行 8ページ](./images/user-migration-page-8.png "ユーザー移行ページ-8.png")一度にすべてのユーザーを移行するのではなく、まとまった数のユーザーを移行する場合は、異なるグループのユーザーを対象に、移行ワークフローを何度も実行することができます。 **Finish Setup** をクリックできるのは、組織内のすべてのユーザーが移行されたときだけです。## トラブルシューティング [#troubleshooting]移行後のよくあるトラブル* 管理者レベルのロールが割り当てられているにもかかわらず、New Relic プラットフォームの機能にアクセスしようとするとエラーメッセージが表示される場合は、組織に対応するロール (**Organization manager** and/or **Authentication domain manager**) は割り当てられているものの、アカウントに対応するロールが割り当てられていないためだと思われます。特定のアカウントで New Relic の機能にアクセスするには、少なくとも 1 つのアカウントに対応するロール (たとえば、 **All product admin** またはカスタム ロール) が必要です。

* 移行が完了した、または移行の途中であるにもかかわらず、元のユーザー管理UI（ **アカウント設定** タブからアクセスするUI）が表示される場合、元のユーザーモデルのレコードにまだログインしていることが原因である可能性があります。この場合の改善策をいくつか紹介します。

  * New Relic からログアウトし、 **Verify email** オプションを選択して、再度ログインします。メールの確認が完了したら、"Organization" と書かれたログインオプションを選択し、"Original New Relic account と書かれたオプションは選択しないでください。"
  * それでも問題が解決しない場合は、ブラウザのキャッシュをクリアして、再度ログインを試みてください。## 終わった後 [#manage-users]ユーザーが新しいユーザーモデルに移行されると、 [account dropdown](/docs/using-new-relic/welcome-new-relic/get-started/glossary/#account-dropdown) をクリックし、 **Administration** をクリックし、これらの UI ページを使用することで、ユーザーを見つけて管理することができます。* **ユーザー管理**: これを使って、ユーザーの表示と追加、ユーザータイプの変更（ベーシックとフル）、グループの変更、ユーザーのアップグレード要求の承認を行います。
* **組織とアクセス**: これを使って、アクセスグラントの作成（グループにロールやアカウントへのアクセスを許可する）や、認証ドメインの設定（SAML SSOの設定やSCIMの設定など）を行います。アクセスグラントを計画する際のヒントについては、 [Tips on access grants](#before-beginning) をご覧ください。これらのツールやコンセプトの詳細については、 [ユーザー管理のドキュメント](/docs/accounts/accounts-billing/new-relic-one-user-management/introduction-managing-users) を参照してください。**