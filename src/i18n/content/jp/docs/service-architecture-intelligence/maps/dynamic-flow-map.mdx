---
title: ダイナミックフローマップ
tags:
  - Dynamic flow map
  - Trace flow map
  - Advanced map experience
metaDescription: 'Dynamic flow maps are visual, customizable representations of your aggregated trace data.'
freshnessValidatedDate: never
translationType: machine
---

<DNT>**Dynamic Flow Map**</DNT> 集約されたトレース データをマップ ビューに表示する視覚化ツールです。特定のサービス (焦点ノードと呼ばれる) に焦点を当て、上流サービスと下流サービスのパフォーマンスの変化が相互にどのように影響するかを明らかにします。このマップは、相関する異常なレイテンシとサービス間のトラフィックのエラーを強調表示することで、パフォーマンス ボトルネックとトレースの問題を根本原因まで迅速に特定するのに役立ちます。 マップには最大 3 時間のトレースデータが表示されます。

## 重要な理由 [#why-it-matters]

<DNT>**Dynamic Flow Map**</DNT> パフォーマンスの異常を視覚的に明らかにすることで、平均解決時間を短縮します。 サービス関係を理解するためにトレースを手動で分析する代わりに、どのサービスに問題が発生しているか、それらの問題が焦点ノードとどのように相関しているかを一目で確認できます。色分けされた視覚化により、分散システムのどこでレイテンシや、中心的なエンティティのパフォーマンスに関連するエラーが発生しているかがわかります。

すべての New Relic マップで共有される一般的なマップナビゲーションとインターフェースコントロールについては、 [「マップ」を](/docs/service-architecture-intelligence/maps/advanced-maps)参照してください。

<Callout variant="important">
  [<DNT>**Distributed tracing**</DNT>](/docs/distributed-tracing/concepts/introduction-distributed-tracing) 、 <DNT>**Dynamic Flow Map**</DNT>が機能するために必要であり、すべてのAPMエージェントに対してデフォルトで有効になっています。 データが表示されない場合は、 <DNT>**Distributed tracing**</DNT>焦点ノードと関連エンティティに対してアクティブであることを確認し、トレース データが New Relic に表示されることを確認します。
</Callout>

## ダイナミックフローマップにアクセスする [#explore-dynamic-flow-map]

調査のニーズに応じて、New Relic の複数の場所から<DNT>**Dynamic Flow Map**</DNT>アクセスできます。

### トレースページから [#from-traces-page]

このオプションは、焦点ノードから始まる分散システム全体のトレース関係を視覚化して調査する場合に使用します。

<Callout variant="important">
  このアクセス オプションは、エンティティ スコープの価格設定モデルを使用している場合にのみ使用できます。
</Callout>

1. <DNT>**[one.newrelic.com](https://one.newrelic.com) &gt; All capabilities &gt; Traces**</DNT>に移動します。
2. <DNT>**Dynamic flow map**</DNT>タブをクリックします。

### サービスマップから [#from-service-maps]

[マップ](/docs/service-architecture-intelligence/maps/advanced-maps/#entry-points)からサービスアーキテクチャーを探索し、トレースレベルの異常検出を使用して、上流および下流のサービスのパフォーマンスの変化が特定のエンティティにどのような影響を与えるかを確認したい場合は、このオプションを使用します。

1. マップ上で、任意のエンティティ ノードをポイントします。
2. コンテキスト メニューから、 <DNT>**View dynamic flow**</DNT> (トレースのアイコン) をクリックします。

### 具体的な出来事から [#from-specific-transaction]

特定のパフォーマンスの問題をトラブルシューティングする必要があり、どのサービスが関係しているか、そのパフォーマンスの実行パスのどこでレイテンシやエラーが発生しているかを確認したい場合は、このオプションを使用します。

特定のトランザクションを通じて<DNT>**Dynamic Flow Map**</DNT>にアクセスすると、マップにはそのトランザクションに関係するエンティティのみが表示されます。焦点ノードベースの動的フロー マップとは異なり、このトランザクション固有のビューには、すでに単一のトランザクションに焦点が当てられているため、 <DNT>**performance by transactions**</DNT>テーブルは含まれません。

1. <DNT>**[one.newrelic.com](https://one.newrelic.com) &gt; All capabilities &gt; APM &amp; Services &gt; (select an app) &gt; Transactions**</DNT>に移動します。
2. リストから特定の行為を選択します。
3. 動的フロー マップが自動的に読み込まれ、そのトランザクションに関係するサービスのみが表示されます。

### Transaction 360より [#from-transaction-360]

<DNT>**Dynamic Flow Map**</DNT>は、任意のトランザクションの[Transaction 360](/docs/apm/transactions/workload-performance-monitoring/transaction-workloads/)ビュー内のコンポーネントとして表示されます。マップには、トランザクションに参加しているサービスと、各サービスに要した時間が表示されます。

<Callout variant="tip">
  トランザクション固有のビューでは、ビューがすでに単一のトランザクションにフォーカスされているため、 <DNT>**performance by transactions**</DNT>テーブルは使用できません。ただし、これらのビューから他の機能に移動すると、トランザクション フィルターが渡されるため、集中的な分析を続行できます。
</Callout>

<img title="dynamic-flow-map" alt="dynamic-flow-map" src="/images/dynamic-flow-map.webp" />

<figcaption>
  <DNT>**[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &gt; APM &amp; Services &gt; Maps &gt; Dynamic Flow Map**</DNT>: トレース、異常、パフォーマンスの傾向を示す動的フロー マップ。
</figcaption>

<DNT>**Dynamic Flow Map**</DNT>は、焦点ノード (灰色のスポットライトで強調表示) と周囲のエンティティ間の関係を示します。上流サービスは焦点ノードに向かうエッジで表され、下流サービスは焦点ノードから離れるエッジで表されます。次のようにマップを操作して、パフォーマンスの傾向、異常、その他の詳細を表示できます。

<CollapserGroup>
  <Collapser id="anomalies" title="異常を分析する">
    マップには、色分けされたエッジとドットを使用して異常が表示されます。

    **エッジの色**（サービス間の異常なトラフィックを表示）:

    * **青エッジ**: サービス間のトラフィックでレイテンシ異常が検出されました。
    * **ピンクのエッジ**: サービス間のトラフィックでエラー異常が検出されました。
    * **青とピンクの縞模様のエッジ**: サービス間のトラフィックでレイテンシとエラーの両方の異常が検出されました。

    **ノードの横のドット**（サービス内の異常を表示）:

    * **青い点**: サービスでレイテンシ異常が発生しています。
    * **ピンクのドット**: サービスでエラー異常が発生しています。

    <Callout variant="tip">
      異常 のドットが付いたノードが表示されていても、一部の接続エッジが色分けされていない場合は、異常がノードとエッジに対して個別に計算されるためです。 たとえば、レイテンシの異常は、そのエンティティへの一部の呼び出しパスに沿ってのみ発生する可能性があります。
    </Callout>

    ### 異常を種類別にフィルタリング

    マップの上部にあるインタラクティブな凡例を使用して、特定の異常の種類に焦点を当てます。

    1. 범례에서 **Latency** \[지연 시간]을 클릭하면 지연 시간 이상만 표시됩니다(오류 표시기가 화면에서 사라집니다).
    2. 凡例の**Errors** \[エラー]をクリックすると、エラーの異常のみが表示されます (レイテンシ インジケーターは表示から削除されます)。

    このフィルタリングは、1 種類のパフォーマンスの問題に焦点を当てたい場合にノイズを除去するのに役立ちます。
  </Collapser>

  <Collapser id="clusters" title="クラスター化されたエンティティを操作する">
    マップを整理するために、マップは異常スコアが低いエンティティを自動的にクラスターにグループ化します。必要に応じてクラスターを展開して個々のエンティティを表示できます。

    クラスター内のエンティティを表示および管理するには:

    1. クラスター ノードをクリックします。右側のパネルに、そのクラスター内のすべてのエンティティのリストが表示されます。
    2. マップ上でエンティティを個別に表示するには、右側のパネルでその表示アイコンをクリックします。
  </Collapser>

  <Collapser id="multi-select-mode" title="複数のエンティティでフィルタリング">
    サービスアーキテクチャー内の特定のエンティティを通過するトレースを調査する必要がある場合は、複数選択モードを使用します。 これにより、分析を絞り込んで、特定のサービスがトレース パス内でどのように相互作用するかを理解できるようになります。

    複数のエンティティでフィルタリングするには:

    1. 右上隅のカーソル アイコンをクリックして、複数選択モードに入ります。
    2. 含めるエンティティをクリックします。サイドバーで選択内容を追跡します。
    3. **Apply** \[適用]をクリックすると、焦点ノードと選択したエンティティの両方を通過するトレースのみを表示するマップが再描画されます。

    複数選択モードの場合:

    * 選択できるのは個々のエンティティのみです。クラスターを追加できません。
    * 焦点ノードは常にフィルター内に残り、削除することはできません。

    <Callout variant="tip">
      複数のエンティティでフィルタリングする場合、それらのエンティティがどのトレースにも一緒に表示されないと、空のマップが取得されることがあります。これを回避するには、エンティティ フィルターを一度に 1 つずつ適用して、マップを段階的に絞り込みます。
    </Callout>
  </Collapser>

  <Collapser id="performance-trends" title="詳細なエンティティ情報を表示する">
    特定のサービスのパフォーマンスと焦点ノードとの関係を調査する必要がある場合は、マップ上の任意のエンティティをクリックして詳細なサイドバーを開きます。

    サイドバーは次のことに役立ちます:

    * **関連ページにアクセスする**: ヘッダー リンクを使用して、エンティティの APM ページまたは所有チーム ページに移動します。
    * **パフォーマンスの分析**: 選択したエンティティと焦点ノードの両方のメトリクスのトレースを示す時系列グラフを確認します。 エンティティにパフォーマンスの問題がある場合、異常バッジがチャート上に表示されます。
    * **トランザクションの調査**: どのトランザクションが焦点ノードに関係しているかを確認し、詳細なトランザクション情報にアクセスします。
    * **トレースの表示**: フィルター コンテキストが異なる 2 つの**View traces** \[トレースの表示]ボタンがあります。メイン マップ上のボタンをクリックすると、現在適用されているすべてのフィルター (エンティティ フィルター、トランザクション フィルター、時間範囲) を含む追跡ホームページが開きます。サイドバーのボタンをクリックすると、現在選択されているエンティティのすべてのマップ フィルターを含むトレースのホームページが開きます。
    * **所有権の管理**: エンティティを特定のチームに割り当てます。
    * **タグの管理**: 選択したエンティティのタグを表示および追加します。
  </Collapser>

  <Collapser id="filter-by-transaction" title="出来事でフィルターする">
    <DNT>**performance by transactions**</DNT>テーブルには、焦点ノードに関連付けられた各トランザクションの時系列データが表示されます。特定のトランザクションを含むトレースにマップを集中させる場合は、このテーブルを使用します。

    特定の場面でフィルターするには:

    1. 動的フロー マップの下部にある<DNT>**performance by transactions**</DNT>テーブルから、各トランザクションの時系列データを確認します。
    2. 分析するトランザクションの横にある<DNT>**Generate map**</DNT>をクリックします。

    マップが再描画され、そのトランザクション名を含むトレースのみが表示されます。
  </Collapser>

  <Collapser id="time-picker" title="時間枠を調整する">
    タイムピッカーを使用すると、特定の時間範囲を選択してトレース データを分析できます。 事前設定された時間範囲 (過去 30 分、過去 1 時間など) から選択するか、カスタムの時間範囲を定義することができます。

    時間枠を調整するには:

    1. ページ上部のタイムピッカーをクリックします。
    2. 事前に設定された時間範囲を選択するか、カスタムの開始時間と終了時間を設定します。

    マップが更新され、選択した時間範囲のトレース データが表示されます。3 時間を超える時間枠を選択した場合、マップではその枠内の最新の 3 時間が自動的に使用されます。
  </Collapser>
</CollapserGroup>