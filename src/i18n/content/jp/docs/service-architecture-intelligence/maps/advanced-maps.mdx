---
title: マップを理解して使用する
tags:
  - Understand dependencies
  - Understand system dependencies
  - Service maps
metaDescription: 'Maps are visual, customizable representations of your application architecture.'
freshnessValidatedDate: never
translationType: machine
---

<Callout title="プレビュー">
  この機能はまだ開発中ですが、ぜひお試しください。

  この機能は現在、弊社の[プレリリース ポリシー](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy)に従ってプレビュー プログラムの一部として提供されています。 パブリック プレビューには、 <DNT>**[Auto-Discovery](/docs/infrastructure/amazon-integrations/connect/set-up-auto-discovery-of-aws-entities)**</DNT>と<DNT>**[Transaction 360](/docs/apm/transactions/workload-performance-monitoring/transaction-workloads)**</DNT>へのアクセスがバンドルされて含まれています。 プレビューにオプトインすると、3 つの機能すべてに無料でアクセスできるようになります。プレビューをオプトアウトした場合も、3 つの機能すべてに適用されます。
</Callout>

<DNT>**Maps**</DNT> は、 cloud資産の統合された統合ビューを提供し、サービスとインフラストラクチャのシームレスなナビゲーションと探索を可能にします。 トレース、インフラストラクチャ、パフォーマンス データを 1 つのまとまりのあるエクスペリエンスに統合し、他のマップ エクスペリエンスの制限に対処します。

## サービスマップとマップ [#differences]

<table>
  <thead>
    <tr>
      <th>
        機能
      </th>

      <th>
        サービスマップ
      </th>

      <th>
        マップ
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        集中
      </td>

      <td>
        一度に 1 つのサービスを表示します。
      </td>

      <td>
        複数のサービスの包括的なビューを取得し、システム全体の理解を深めます。
      </td>
    </tr>

    <tr>
      <td>
        ナビゲーション
      </td>

      <td>
        個々のサービスを閲覧する
      </td>

      <td>
        cloudAWSエンティティとその関係の全体的なビューから、 リソースを含む トポロジ全体を探索します。
      </td>
    </tr>

    <tr>
      <td>
        グループ化
      </td>

      <td>
        利用不可
      </td>

      <td>
        エンティティを複数レベルのグループに整理して、視覚化と管理を簡素化します。
      </td>
    </tr>

    <tr>
      <td>
        クラスタリング
      </td>

      <td>
        利用不可
      </td>

      <td>
        ノードを自動的にグループ化してマップを整理し、複雑な環境をシンプルかつ管理しやすいものにします。
      </td>
    </tr>

    <tr>
      <td>
        インフラストラクチャの可視性
      </td>

      <td>
        インフラストラクチャに関するコンテキストが限られています。
      </td>

      <td>
        AWSおよびcloudリソースを直接検査し、インサイトのインフラストラクチャ サポートをより深く提供します。
      </td>
    </tr>

    <tr>
      <td>
        サービス関係
      </td>

      <td>
        サービス間の直接インターラクションを参照してください。
      </td>

      <td>
        より良い依存関係管理のために、バイパス関係を含む複雑なインターラクションを理解します。
      </td>
    </tr>

    <tr>
      <td>
        稼働ステータスの概要
      </td>

      <td>
        基本的な健康指標
      </td>

      <td>
        稼働ステータスでサービスをフィルタリングして、重要なサービス、劣化したサービス、または計測されていないサービスに焦点を当てます。
      </td>
    </tr>

    <tr>
      <td>
        カスタマイズ
      </td>

      <td>
        基本的な外観設定
      </td>

      <td>
        特定のニーズに合わせてマップ ビューとエッジ スタイルをカスタマイズし、明瞭性とフォーカスを向上させます。
      </td>
    </tr>
  </tbody>
</table>

<DNT>**Maps**</DNT> **[アドバンス計算](https://newrelic.com/pricing/compute#pricing_plan-compute)**カスタマーのみがご利用いただけます。 登録するには、 <DNT>**[one.newrelic.com &gt; Administration](https://one.newrelic.com//admin-portal) &amp;gt; Preview &amp;amp; Trials**</DNT>に移動し、 <DNT>**New experiences: Maps, Transaction 360, and Auto-Discovery**</DNT>に登録します。

## マップコンポーネント [#map-components]

<DNT>**Maps**</DNT>のコンポーネントについてよく理解してください。これにより、サービス、リソース、チーム内の関係が視覚化され、それらの稼働状況が表示されます。

<img title="new-map-view" alt="new-map-view" src="/images/new-map-view.webp" />

<figcaption>
  <DNT>**[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &amp;gt; APM &amp;amp; Services**</DNT>: マップビュー。
</figcaption>

<table>
  <thead>
    <tr>
      <th>
        コンポーネント
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        <strong>焦点ノード</strong>
      </td>

      <td>
        マップを開くエンティティ。 これは、1 つの深さ離れた他のエンティティとの関係を視覚化するための参照ポイントとして機能します。 焦点ノードを選択すると、右側のペインにエンティティの詳細の包括的なビューが表示されます。
      </td>
    </tr>

    <tr>
      <td>
        <strong>接続されたノード</strong>
      </td>

      <td>
        接続されたノードは、焦点ノードと直接関係を持つエンティティです。 これらは焦点ノードから 1 深度離れたところに表示されます。

        * **インバウンド ノード**: これらのノードはデータを焦点ノードに送信し、デフォルト ビューでは焦点ノードの左側と上部に表示されます。
        * **送信ノード**: これらのノードは焦点ノードからデータを受信し、デフォルト ビューでは焦点ノードの右側と下部に表示されます。

        ノードを選択すると、右側のパネルにエンティティの詳細の包括的なビューが表示されます。 そのノードのマップを開くには、右側のパネルの<DNT>**Related entities**</DNT>セクションで<DNT>**See full map**</DNT>をクリックします。
      </td>
    </tr>

    <tr>
      <td>
        <strong>エッジ</strong>
      </td>

      <td>
        エッジは、ノード間のインバウンドおよびアウトバウンドの関係を示します。 エッジをポイントすると、関係の種類とデータ フローの方向が表示されます。

        <DNT>**Edge Path Type**</DNT>ドロップダウンを使用して、 <DNT>**Map View Settings**</DNT>パネルからエッジ スタイルを変更できます。
      </td>
    </tr>

    <tr>
      <td>
        <strong>ズームイン、ズームアウト、中心化、ズームのリセット</strong>
      </td>

      <td>
        マップ ビューを拡大/縮小したり、中央に配置してズーム レベルをリセットしたりして、マップ ビューを調整します。 ノードがメイン ビューポートの外側にある場合、マップのサムネイルには、ノードをナビゲートして見つけるのに役立つコンパクトな概要が表示されます。
      </td>
    </tr>

    <tr>
      <td>
        <strong>稼働ステータスの概要</strong>
      </td>

      <td>
        稼働ステータスの概要は、色分けされたインジケーターとカウントを使用して、ノードのステータスの概要を簡単に示し、注意が必要な領域を特定するのに役立ちます。 ステータス サマリーから、

        [計測されていないノードを直接計測](#node-instrumentation)

        できます。
      </td>
    </tr>

    <tr>
      <td>
        <strong>クラスター</strong>
      </td>

      <td>
        Cluster 、関連するノードを統合してマップを簡素化するノードの論理グループです。 クラスターは、少なくとも 10 個のノードがある場合に形成されます。

        * 同じ親ノードを共有します。
        * 同じ関係タイプを持ちます。
        * 同じエンティティ ドメインとタイプに属します。
        * 同じ依存関係（インバウンドまたはアウトバウンド）を示します。

        クラスタには含まれるノードの数が表示され、クラスタの色は、クラスタ内のノードの稼働ステータスによって異なります。

        * **赤**: 少なくとも1つの重要なノード
        * **黄色**: 少なくとも 1 つの劣化ノードがあるが、重要なノードはない
        * **緑**: すべてのノードが動作中

        クラスターを選択すると、マップの右側のパネルにノードが表示されます。 パネルからノードを表示して、クラスター外のマップ上に個別に表示します。
      </td>
    </tr>
  </tbody>
</table>

## エントリーポイントをマップする [#entry-points]

<DNT>**Maps**</DNT> さまざまなエントリ ポイントからアクセスできる一貫したマッピング エクスペリエンスを提供します。 探索対象として選択したエンティティの種類に応じて、サービス、チーム、インフラストラクチャ リソース、または動的データ フローを表示するための個別のビューが利用できます。 この統一されたアプローチにより、サービス インタラクション、インフラストラクチャ依存関係、チーム運営、およびデータ フローへの明確なインサイトが提供されます。

<CollapserGroup>
  <Collapser id="service-map" title="見える化サービス インタラクション">
    <DNT>**Maps**</DNT> モバイル、ブラウザ、APM 環境内のサービス間の関係と依存関係を視覚化できます。 デフォルトのビューでは、マップにはサービスのみが表示されますが、関連するインフラストラクチャ リソースを専用レイヤーで表示することもできます。

    モバイル、ブラウザ、APM 環境のマップにアクセスするには:

    1. <DNT>**[one.newrelic.com](https://one.newrelic.com/all-capabilities)**</DNT>に移動します。
    2. 機能リストから、 <DNT>**APM &amp; services**</DNT> 、 <DNT>**Mobile**</DNT> 、または<DNT>**Browser**</DNT>いずれかを選択します。
    3. サービスリストから、表示するサービスを検索して選択します。
    4. 地図を開くには、左から 2 番目のナビゲーションから<DNT>**Service map**</DNT>クリックします。

    集計からサービスのマップにアクセスするには:

    1. <DNT>**[one.newrelic.com &gt; Alerts](https://one.newrelic.com/alerts)**</DNT>に移動します。
    2. 問題ページを開くには、 <DNT>**Issues &amp; Actitvity**</DNT>からサービスに関連付けられている問題を選択します ( <DNT>**Entity name**</DNT>列を確認してください)。
    3. サービス マップを取得するには、問題ページから<DNT>**Impacted entries**</DNT>セクションまでスクロールします。
  </Collapser>

  <Collapser id="infrastructure-map" title="インフラストラクチャリソースを視覚化する">
    <DNT>**Maps**</DNT>を通じて、インフラストラクチャ リソースとその内部関係を調べることができます。 これにより、インフラストラクチャ コンポーネントがサービスをどのようにサポートするかが詳細に表示され、 AWSおよびcloudリソースを直接検査できるようになります。 このマップは、サービスのパフォーマンスと可用性を維持するために重要な基盤となるインフラストラクチャの依存関係を理解するのに役立ちます。 [AWS Auto-Discovery](/docs/infrastructure/amazon-integrations/connect/set-up-auto-discovery-of-aws-entities)を使用すると、 AWSサービス間の内部関係も表示できます。

    インフラストラクチャ マップにアクセスするには:

    1. <DNT>**[one.newrelic.com](https://one.newrelic.com/alerts) &amp;gt; All entities**</DNT>に移動します。
    2. <DNT>**All entities**</DNT>ページから、表示するホストを選択します。
    3. マップを開くには、ホスト ページで<DNT>**Infrastructure**</DNT>クリックします。

    マップ上のサービスに関連付けられたインフラストラクチャにアクセスするには:

    1. <DNT>**[one.newrelic.com](https://one.newrelic.com)**</DNT>から、 <DNT>**APM &amp; services**</DNT> 、 <DNT>**Mobile**</DNT> 、または<DNT>**Browser**</DNT>任意のサービスのマップを開きます。
    2. <DNT>**Dynamic Flow Map**</DNT>開くには、ノードをポイントして<DNT>**Inspect infrastructure**</DNT>をクリックします。
  </Collapser>

  <Collapser id="teams-map" title="チーム、その関係、所有するサービスを視覚化する">
    <DNT>**Maps**</DNT>を通じて、チーム固有のサービスとそのインターラクションを表示できます。 これにより、チームの運用のコンテキスト内でサービスと依存関係を探索できるようになり、コラボレーションが促進され、チームが所有するリソースの効率的な管理が可能になります。

    Teams マップにアクセスするには:

    1. <DNT>**[one.newrelic.com &gt; Teams](https://one.newrelic.com/teams)**</DNT>に移動します。
    2. チームの詳細を取得するには、 <DNT>**Teams**</DNT>ページからチームを選択します。
    3. <DNT>**Map**</DNT>タブに移動します。
  </Collapser>

  <Collapser id="dynamic-flow-map" title="動的なデータフローを視覚化する">
    [<DNT>**Dynamic Flow Map**</DNT>](/docs/service-architecture-intelligence/maps/dynamic-flow-map)は、データベースやその他のバックエンド コンポーネントを使用したインタラクションなど、サービスを介したデータ フローの詳細なビューを提供します。 パフォーマンスと潜在的なボトルネックにインサイトを提供し、効果的なトラブルシューティングを可能にします。
  </Collapser>
</CollapserGroup>

<Callout variant="important">
  <DNT>**Maps**</DNT> [<DNT>**Distributed tracing**</DNT>](/docs/apm/distributed-tracing/getting-started/introduction-distributed-tracing)と[<DNT>**Auto-Discovery**</DNT>](/docs/infrastructure/amazon-integrations/connect/set-up-auto-discovery-of-aws-entities)を使用すると、エンティティ間の統一された関係が提供されます。 <DNT>**Distributed tracing**</DNT>または<DNT>**Auto-Discovery**</DNT>を有効にしていなくても<DNT>**Maps**</DNT>は機能しますが、より効果的で一貫性のあるエクスペリエンスを実現するには、これらの機能を有効にすることをお勧めします。
</Callout>

## 使用する <DNT>**Maps**</DNT> [#use-maps]

<DNT>**Maps**</DNT> の機能とコンポーネントを使用すると、次の方法でcloud環境を探索および管理できます。

<CollapserGroup>
  <Collapser id="health-status" title="稼働ステータスを使用してノードの可視性を管理する">
    稼働ステータスの概要では、すべてのノードの概要が簡単にわかります。 各稼働ステータスは色の凡例で表され、各凡例の横にある数字はそのステータスにあるノードの数を示します。 これにより、注意が必要な領域を迅速に評価して対処することができます。

    <img title="color-code" alt="color-code" src="/images/color-code.webp" />

    ### インスツルメントされていないノードを計装する [#node-instrumentation]

    マップ内に計測されていないノードがある場合は、点線の境界線で表示されます。 ノードを計装すると、マップが更新され、更新された稼働ステータスが表示されます。

    ノードを計装するには:

    1. マップの稼働ステータスの概要で、 <DNT>**Uninstrumented**</DNT>をポイントし、 <DNT>**Instrument what&apos;s missing**</DNT>をクリックします。
    2. <DNT>**Add more instrumentation**</DNT>ページで、画面上の指示に従って各エンティティを計量します。

    ### 稼働ステータスによるノードのフィルタリング [#node-filtering]

    特定のヘルス カテゴリを持つ一部のノードに焦点を当てる場合は、次のようにノードをフィルターします。

    1. <DNT>**Map View Settings**</DNT>パネルを開くには、マップの右上にある**Settings**\[設定]をクリックします。
    2. <DNT>**Health Status**</DNT>リストから、表示する特定のステータスを選択します。 マップ ビューが更新され、選択した稼働ステータスを持つノードのみが表示されます。

    ### 稼働ステータスでクラスタを管理する [#cluster-health-status]

    マップ ビューでクラスタが使用可能な場合は、その中のノードを稼働ステータスでフィルタリングし、個別に表示できます。 クラスタをポイントし、稼働ステータスを表示すると、クラスタの外側にあるそのステータスを持つノードが表示されます。 これにより、クラスター内の特定のノードに集中できるようになります。
  </Collapser>

  <Collapser id="group-services" title="ノードをグループ化してマップビューを整理する">
    マップ内のノードをグループ化して乱雑さを減らし、関係性を強調表示することで、パターンを識別し、依存関係を管理しやすくなります。 この構造化されたアプローチにより、特定のニーズに合わせて調整されたcloud環境の明確で整理されたビューが提供されます。

    ### グループを作成する [#create-groups]

    1. マップ内の特定の属性でノードを整理するには、 <DNT>**Group by**</DNT>ドロップダウンに移動して属性を選択します。
    2. マップ上でグループ化するには、 <DNT>**Apply**</DNT>クリックします。 各グループには、含まれるノードの数が表示されます。
    3. グループに別のレベルを追加するには、 <DNT>**Group by**</DNT>ドロップダウンから<DNT>**+ Create a group**</DNT>をクリックし、属性を選択して<DNT>**Apply**</DNT>クリックします。 最初のレベルの属性はプライマリ グループを形成し、2 番目のレベルの属性はプライマリ グループ内にネストされたサブグループを形成します。 最大 5 つのレベルのグループ化を適用できます。

    #### グループの外観と命名 [#group-appearance]

    グループは選択した属性に基づいて名前が付けられます。 たとえば、ノードを`Account`属性でグループ化する場合、グループ名は`Account: <account name>`として表示されます。 グループは、次のように、グループ内のノードの稼働状況に応じて色分けされます。

    * **赤**: 少なくとも1つの重要なノード
    * **黄色**: 少なくとも 1 つの劣化ノードがあるが、重要なノードはない
    * **緑**: すべてのノードが動作中

    グループを展開すると、その中のノードとネストされたサブグループを表示できます。 必要に応じて、 <DNT>**Group by**</DNT>ドロップダウンで属性をシャッフルしてグループ レベルを並べ替えることができます。
  </Collapser>

  <Collapser id="map-navigation" title="マップ上でナビゲートしてノードの詳細、関係、依存関係を調べる">
    <DNT>**Maps**</DNT> エンティティの関係、依存関係、メトリクスとチームの詳細を探索するのに役立ついくつかの機能を提供します。 マップ上のゴールデン ノードをポイントすると、次のインターラクション オプションと 3 つのメトリクスを含むポップオーバーが表示されます。 これらのオプションを使用して、マップをさらにナビゲートして探索することができます。

    ### 依存関係を拡大する [#expand-dependency]

    マップ上の任意のノードの依存ノードを表示するには、ノードをポイントして<DNT>**Expand dependencies**</DNT>をクリックします。 そのノードが焦点ノードになり、接続されたエッジを持つ 1 深さ離れたすべての依存ノードが表示されます。

    ### インフラストラクチャリソースの検査 [#inspect-resources]

    ノードに関連付けられているインフラストラクチャ リソースを表示するには、ノードをポイントして<DNT>**Inspect Infrastructure**</DNT>をクリックします。 インフラストラクチャ マップが開き、関連付けられているインフラストラクチャ ノードと、APM サービスから 2 階層離れたそれらの内部関係が表示されます。 <DNT>**[Auto-Discovery](/docs/infrastructure/amazon-integrations/connect/set-up-auto-discovery-of-aws-entities)**</DNT> 機能を有効にしている場合は、 AWSサービス間の内部関係を表示できます。

    ### ダイナミックフローを見る [#view-data-flow]

    データベースを使用したインターラクションやその他のバックエンド コンポーネントなど、ノードを介したデータ フローを表示するには、ノードをポイントして<DNT>**View dynamic flow**</DNT>をクリックします。 動的フロー マップが開き、データベースとその他のバックエンド コンポーネントを含むインターラクションを含む、ノードを通過するデータ フローの詳細なビューが表示されます。 詳細については、 [<DNT>**Dynamic Flow Map**</DNT>](/docs/service-architecture-intelligence/maps/dynamic-flow-map)を参照してください。

    ### アクセスノード所有者 [#access-node-owner]

    ノードの所有者にアクセスするには、ノードをポイントしてチーム名をクリックします。 チーム ページが開き、チームの詳細とチームが所有するエンティティが表示されます。

    ### ノードの詳細にアクセスする [#access-node-details]

    ノードの詳細を表示および調整するには、ノードをポイントしてノード名をクリックします。 エンティティの概要ページが開き、エンティティの詳細が表示されます。
  </Collapser>

  <Collapser id="bypass-gateways" title="ゲートウェイをバイパスして実際のノードを明らかにする">
    <DNT>**Maps**</DNT>では、ゲートウェイは焦点ノードが接続する実際のエンティティをマスクできます。 ゲートウェイではなく実際のノードを視覚化するには、バイパス呼び出し関係を手動で確立できます。

    バイパス通話関係を設定するには:

    1. マップ上で、バイパスするゲートウェイ ノードを選択します。 ゲートウェイの名前は、 `Gateway:` 、 `Nerdgraph:` 、または`GraphQL:`で始まる場合があります。
    2. 右側のパネルの<DNT>**Tags**</DNT>セクションの下に、 `service_gateway: true`タグを追加します。
    3. 変更を適用するには、マップを更新します。 実際のノードがゲートウェイ ノードに置き換わり、焦点ノードと実際のノード間のバイパス呼び出し関係を表示できるようになります。
  </Collapser>
</CollapserGroup>