---
title: スケジュールの作成
tags:
  - workflow automation
  - workflow
  - CreateSchedule
  - workflow automation API
metaDescription: Create a schedule for a workflow definition.
freshnessValidatedDate: never
translationType: machine
---

ワークフロー定義のスケジュールを作成します。

<Callout variant="tip">
  スケジュールの数と、特定のスケジュールの最小期間は[、「ワークフロー システムの制限」](/docs/workflow-automation/limitations-and-faq/workflow-limits)で定義されます。
</Callout>

## 入力

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        パラメータ
      </th>

      <th>
        タイプ
      </th>

      <th>
        必須
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `scope`
      </td>

      <td>
        オブジェクト
      </td>

      <td>
        はい
      </td>

      <td>
        アカウントのスコープ。

        `id`

         (アカウント ID) と

        `type`

         (アカウント) が含まれます。
      </td>
    </tr>

    <tr>
      <td>
        `definition`
      </td>

      <td>
        オブジェクト
      </td>

      <td>
        はい
      </td>

      <td>
        スケジュールするワークフロー定義。

        `name`

         (ワークフロー名) と

        `version`

         (ワークフロー バージョン) が含まれます。
      </td>
    </tr>

    <tr>
      <td>
        `cronExpression`
      </td>

      <td>
        弦
      </td>

      <td>
        はい
      </td>

      <td>
        スケジュールの頻度を定義する Cron 式 (例: 毎日午前 0 時の場合は

        `"0 0 * * *"`

        )。
      </td>
    </tr>

    <tr>
      <td>
        `timezone`
      </td>

      <td>
        弦
      </td>

      <td>
        はい
      </td>

      <td>
        スケジュールのタイムゾーン (例: 

        `"Asia/Kolkata"`

         、 

        `"America/New_York"`

        )。
      </td>
    </tr>

    <tr>
      <td>
        `options`
      </td>

      <td>
        オブジェクト
      </td>

      <td>
        いいえ
      </td>

      <td>
        オプション設定。 実行ログを制御するための

        `logLevel`

        が含まれています。
      </td>
    </tr>
  </tbody>
</table>

### logLevelオプション

`logLevel`オプションは、ワークフロー実行中に生成されるログ情報の量を制御します。

**利用可能な値:**

* `NONE` (デフォルト): ログ出力は生成されません。
* `INFO`: ステップレベル情報を出力します。
* `DEBUG`: すべてのアクション ステップ入力とともに、開始されたステップのログに属性を追加します。

## サンプルリクエスト

ワークフローの作成・編集には、書き込み[ビルダー](https://one.newrelic.com/nerdgraph-graphiql?state=b8f3b3a9-8d3e-c03e-5da4-34b98a57ff8f)を使用します。 [NerdGraph API エクスプローラー](/docs/apis/nerdgraph/get-started/nerdgraph-explorer)を参照してください。

```graphql
  mutation {
    workflowAutomationCreateSchedule(
      scope: {id: "12345678", type: ACCOUNT}
      definition: {name: "healthyHeartbeat", version: 1}
      cronExpression: "0 0 * * *"
      timezone: "Asia/Kolkata"
      options: {logLevel: DEBUG}
    ) {
      scheduleId
    }
  }
```

## サンプル回答

突然変異により以下が返されます:

```yaml
{
  "data": {
    "workflowAutomationCreateSchedule": null
  },
  "extensions": {
    "nrOnly": {
      "_docs": "https://pages.datanerd.us/unified-api/nerdgraph-documentation/querying/debugging/",
      "httpRequestLog": [
        {
          "body": "{\"query\":\"mutation {\\n  createSchedule(scope: { id: \\\"12345678\\\", type: ACCOUNT }, definition: { name: \\\"healthyHeartbeat\\\", version: 1 }, cronExpression: \\\"0 0 * * *\\\", timezone: \\\"Asia/Kolkata\\\", options: { logLevel: DEBUG }) {\\n    __typename\\n    scheduleId\\n  }\\n}\",\"extensions\":{\"authorizedAccountIds\":{\"error\":\"Failed to fetch Authorized Account Ids.\",\"value\":null,\"success\":false}},\"variables\":{}}",
          "curl": "echo eyJxdWVyeSI6Im11dGF0aW9uIHtcbiAgY3JlYXRlU2NoZWR1bGUoc2NvcGU6IHsgaWQ6IFwiMTIzNDU2NzhcIiwgdHlwZTogQUNDT1VOVCB9LCBkZWZpbml0aW9uOiB7IG5hbWU6IFwiaGVhbHRoeUhlYXJ0YmVhdFwiLCB2ZXJzaW9uOiAxIH0sIGNyb25FeHByZXNzaW9uOiBcIjAgMCAqICogKlwiLCB0aW1lem9uZTogXCJBc2lhL0tvbGthdGFcIiwgb3B0aW9uczogeyBsb2dMZXZlbDogREVCVUcgfSkge1xuICAgIF9fdHlwZW5hbWVcbiAgICBzY2hlZHVsZUlkXG4gIH1cbn0iLCJleHRlbnNpb25zIjp7ImF1dGhvcml6ZWRBY2NvdW50SWRzIjp7ImVycm9yIjoiRmFpbGVkIHRvIGZldGNoIEF1dGhvcml6ZWQgQWNjb3VudCBJZHMuIiwidmFsdWUiOm51bGwsInN1Y2Nlc3MiOmZhbHNlfX0sInZhcmlhYmxlcyI6e319 | base64 -D | curl -i -X POST 'https://ng-workflow-service.service.nr-ops.net/graphql' -H 'Content-Type: application/json' -H 'X-Login-Context: access-token:RGk5VGJZZERyRklVdlJBN0pzZkJXRWpmdHdFVkVIU1AwSmErRzJTTnJaVXp3RUdacUpRWTV5SHRjM3JjU1ExNGhOQjNCdkJ2eE1hR3Z4WThvWTdmL0JyZ0xPUC9WSjh0U0d2QWRmNWlKM3BDM1JoYUtvN1h4YTBMZVVMZ3FPV21xWk9OSFZCZjdnVFB4U0JaSjcvSEVRbG85S0E1a2ZaMWIzVmJkb04rcThRbkdURXBNQU9NSFltU0c1TlBzK2VuRk8ySXYrWlBqOThNWG1NZTViM0JzdStlbm5mTjhlSFkraUZSNkNieXdjTmM0Q3JVZGdKdTBKaWV3MzZlOWVsZzdVcjNQWWVFU25NQWE5WG1GT0p4Q0NaMkRWTFJrL0UwUjhaVXh1aEJVS2xWMmZFTlpzRnhiZ0pSdHM5dTFJRyt4SjdVV3VkZjVFbmFyeS9kRUFCb0ZSTUl1bGUzTjQ5MlFFRWVlTXpGcjJLc056dFJKV2htWGcxRjZVWUlmUG5TSExaNlNsd2MxcTVWSTZiYWgxTzFuUTEwaHB4QmFKYWRkVzJobGJzK29sRjJUYW1LWnVLTTNHTHBEQ3B3aDhiNWNxV1ROcVB6dkc1Q0ZwSHVrWGw5ditHVlBzaVhjUjc1K3pMK3dNWnh5ZVdBUy96MEZJNklqdW5vdkRFRm0yRVQrdFFsczErS0NSMzZmblpQVnlRYTdpUENYcWR6cGRncHl1dnJ2UG1MTlZvY0cwZXNzVlFybmpVL3VMdlQ5Nk9HMmJkM2loeUdWRkdKd1dTWnMrZ21SUVpGTVVGbE5kVWdxUUUzT3JkaHEzdktoL3M4MExBODJ6YzhYNkNRNzF2MytyZWNtbEdleUZEUXJFN01VRFJPdDFvbUdVRzZGRG0ydVlma3lTT1dwY3M9' -H 'newrelic-originating-region-id: 1' -d @-"
        }
      ]
    }
  },
  "errors": [
    {
      "message": "User does not have required capabilities",
      "path": [
        "workflowAutomationCreateSchedule"
      ],
      "extensions": {
        "classification": "DataFetchingException",
        "errorClass": "ACCESS_DENIED",
        "nrOnly": {
          "internalMessage": "User does not have required capabilities",
          "owningTeam": "#help-nomad"
        }
      },
      "locations": [
        {
          "line": 2,
          "column": 5
        }
      ]
    }
  ]
}
```