---
title: ワークフロー定義の作成
tags:
  - workflow automation
  - workflow
  - CreateWorkflowDefinition
  - workflow automation API
metaDescription: Create a workflow definition.
freshnessValidatedDate: never
translationType: machine
---

この API はワークフロー定義を作成するために使用されます。ワークフロー定義がすでに存在する場合はエラーを返します。

## 入力

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        パラメータ
      </th>

      <th>
        タイプ
      </th>

      <th>
        必須
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `scope`
      </td>

      <td>
        オブジェクト
      </td>

      <td>
        はい
      </td>

      <td>
        アカウントのスコープ。

        `id`

         (アカウントID) が含まれています。
      </td>
    </tr>

    <tr>
      <td>
        `definition`
      </td>

      <td>
        オブジェクト
      </td>

      <td>
        はい
      </td>

      <td>
        ワークフローの定義。

        `yaml`

         (base64 でエンコードされたワークフロー YAML) が含まれています。
      </td>
    </tr>
  </tbody>
</table>

## サンプルリクエスト

ワークフローの作成・編集には、書き込み[ビルダー](https://one.newrelic.com/nerdgraph-graphiql?state=c8579e50-f154-fec6-22b8-f9fdcfc1990a)を使用します。 [NerdGraph API エクスプローラー](/docs/apis/nerdgraph/get-started/nerdgraph-explorer)を参照してください。

```yaml
  mutation {
    workflowAutomationCreateWorkflowDefinition(
      scope: {
        id: "11933347"
      }
      definition: {
        yaml: "bmFtZTogbXV0YXRpb25fZXhlY3V0ZQoKc3RlcHM6CiAgLSBuYW1lOiBleGVjMQogICAgdHlwZTogYWN0aW9uCiAgICBhY3Rpb246IG5ld3JlbGljLm5lcmRncmFwaC5leGVjdXRlCiAgICB2ZXJzaW9uOiAnMS4wLjAnCiAgICBpbnB1dHM6CiAgICAgIGdyYXBocWw6IHwKICAgICAgICBtdXRhdGlvbiBLZWVwQWxpdmUoJGd1aWQ6IEVudGl0eUd1aWQhKXsKICAgICAgICAgIGVudGl0eUtlZXBBbGl2ZShndWlkczogWyRndWlkXSkgewogICAgICAgICAgICByZWZyZXNoZWRFbnRpdGllcwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgdmFyaWFibGVzOgogICAgICAgIGd1aWQ6ICJ7eyAud29ya2Zsb3dJbnB1dHMuZW50aXR5R3VpZCB9fSIKCiAgLSBuYW1lOiBsb2cxCiAgICB0eXBlOiBhY3Rpb24KICAgIGFjdGlvbjogbmV3cmVsaWMuaW5zdHJ1bWVudGF0aW9uLmxvZwogICAgdmVyc2lvbjogJzEuMC4wJwogICAgaW5wdXRzOgogICAgICBNZXNzYWdlOiAiZW50aXR5R3VpZCByZWZyZXNoZWQge3sgLnN0ZXBzLmV4ZWMxLm91dHB1dHMuZGF0YS5lbnRpdHlLZWVwQWxpdmUucmVmcmVzaGVkRW50aXRpZXMgfX0iCg=="
      }
    ) {
      definition {
        name
      }
    }
  }
```