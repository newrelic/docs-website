---
title: AWS SQSアクション
tags:
  - workflow automation
  - workflow
  - workflow automation actions
  - AWS actions
  - AWS SQS actions
metaDescription: A list of available aws sqs actions in the actions catalog for workflow definitions
freshnessValidatedDate: never
translationType: machine
---

<Callout title="プレビュー">
  この機能はまだ開発中ですが、ぜひお試しください。

  この機能は現在、弊社の[プレリリース ポリシー](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy)に従ってプレビュー プログラムの一部として提供されています。
</Callout>

このページでは、ワークフロー自動化アクション カタログで使用できる AWS SQS アクションに関する包括的なリファレンスを提供します。これらのアクションにより、sqs キュー操作が可能になります。

## 前提条件

ワークフロー自動化で AWS アクションを使用する前に、次の点を確認してください。

* 適切な権限を持つ AWS アカウント。
* 設定された AWS 認証情報 (IAM ユーザー認証情報、IAM ロール ARN、またはセッション認証情報)。
* 使用する予定の特定のAWSサービスに必要な IAM 権限。

IAM ユーザーおよび IAM ロールを作成する方法、およびワークフロー オートメーションAWSアクションと統合するための静的 AWS 認証情報とセッションAWS認証情報を設定する方法については[、「 AWS認証情報のセットアップ」を](/docs/workflow-automation/setup-and-configuration/set-up-aws-credentials/)参照してください。

<CollapserGroup>
  <Collapser id="aws-sqs-sendmessage" title="AWS SQSキューにメッセージを送信する">
    指定された Amazon SQS キューにメッセージを送信します。

    <Tabs>
      <TabsBar>
        <TabsBarItem id="aws-sqs-sendmessage-inputs">
          入力
        </TabsBarItem>

        <TabsBarItem id="aws-sqs-sendmessage-outputs">
          出力
        </TabsBarItem>

        <TabsBarItem id="aws-sqs-sendmessage-example">
          例
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="aws-sqs-sendmessage-inputs">
          <table>
            <thead>
              <tr>
                <th>
                  入力フィールド
                </th>

                <th>
                  オプション性
                </th>

                <th>
                  タイプ
                </th>

                <th>
                  例
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **awsRoleArn**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  弦
                </td>

                <td>
                  `arn:aws:iam::123456789012:role/my-workflow-role`
                </td>
              </tr>

              <tr>
                <td>
                  **awsAccessKeyId**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  弦
                </td>

                <td>
                  `${{ :secrets:<awsAccessKeyId> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **awsSecretAccessKey**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  弦
                </td>

                <td>
                  `${{ :secrets:<awsSecretAccessKey> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **awsSessionToken**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  弦
                </td>

                <td>
                  `${{ :secrets:<awsSessionToken> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **リージョン**
                </td>

                <td>
                  必須
                </td>

                <td>
                  弦
                </td>

                <td>
                  `"us-east-2"`
                </td>
              </tr>

              <tr>
                <td>
                  **queueUrl**
                </td>

                <td>
                  必須
                </td>

                <td>
                  弦
                </td>

                <td>
                  「 

                  `https://sqs.us-east-2.amazonaws.com/123456789012/my-queue`

                   」
                </td>
              </tr>

              <tr>
                <td>
                  **messageBody**
                </td>

                <td>
                  必須
                </td>

                <td>
                  弦
                </td>

                <td>
                  `"This is a test message"`
                </td>
              </tr>

              <tr>
                <td>
                  **messageDeduplicationId**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  弦
                </td>

                <td>
                  `"abc123deduplicationId5678"`
                </td>
              </tr>

              <tr>
                <td>
                  **messageGroupId**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  弦
                </td>

                <td>
                  `"group1"`
                </td>
              </tr>

              <tr>
                <td>
                  **messageAttributes**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  地図
                </td>

                <td>
                  `{ "my_attribute_name_1": { "DataType": "String", "StringValue":"my_attribute_value_1"},`

                  `"my_attribute_name_2": { "DataType": "String", "StringValue":"my_attribute_value_2"}}`
                </td>
              </tr>

              <tr>
                <td>
                  **delaySeconds**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  Int
                </td>

                <td>
                  `123`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="aws-sqs-sendmessage-outputs">
          <table>
            <thead>
              <tr>
                <th>
                  出力フィールド
                </th>

                <th>
                  タイプ
                </th>

                <th>
                  例
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **response**
                </td>

                <td>
                  物体
                </td>

                <td>
                  `{"statusCode":200, "payload":{"status":"success","data":{"MessageId":"e9b73a52-d018-4a73-9fcd-8efb682fba43","MD5OfMessageBody":"fae535c7f7c5687a1c3d8bc52288e33a","MD5OfMessageAttributes":"3ae3c4f59958e031d0d53af2d157e834", }, "message":"Message sent successfully to the SQS queue." }}`

                  レスポンス構文については、 [SQS send\_message - Boto3 ドキュメント](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/sqs/client/send_message.html)を参照してください。
                </td>
              </tr>

              <tr>
                <td>
                  **成功**
                </td>

                <td>
                  ブール値
                </td>

                <td>
                  `success: true | false`
                </td>
              </tr>

              <tr>
                <td>
                  **エラーメッセージ**
                </td>

                <td>
                  弦
                </td>

                <td>
                  `"errorMessage": "SQS.Client.exceptions.QueueDoesNotExist: "The specified queue does not exist.""`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="aws-sqs-sendmessage-example">
          <table>
            <thead>
              <tr>
                <th>
                  ワークフローの例
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                    name: sqs-send-message-test
                  description: Sends a message to an SQS queue
                  workflowInputs:
                    arnRole:
                      type: String
                  steps:
                    - name: aws_sqs_sendMessage_1
                      type: action
                      action: aws.sqs.sendMessage
                      version: '1'
                      inputs:
                        awsRoleArn: ${{ .workflowInputs.arnRole }}
                        region: us-east-2
                        queueUrl: https://sqs.us-east-2.amazonaws.com/123456789012/workflow-test-queue
                        messageBody: "This is a test message"
                        messageAttributes:
                          my_attribute_name_1:
                            DataType: "String"
                            StringValue: "my_attribute_value_1"
                          my_attribute_name_2:
                            DataType: "String"
                            StringValue: "my_attribute_value_2"
                      next: end
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>

<CollapserGroup>
  <Collapser id="aws-sqs-receivemessage" title="AWS SQSキューからメッセージを受信します">
    指定されたキューから1つ以上のメッセージを取得します。

    <Tabs>
      <TabsBar>
        <TabsBarItem id="aws-sqs-receivemessage-inputs">
          入力
        </TabsBarItem>

        <TabsBarItem id="aws-sqs-receivemessage-outputs">
          出力
        </TabsBarItem>

        <TabsBarItem id="aws-sqs-receivemessage-example">
          例
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="aws-sqs-receivemessage-inputs">
          <table>
            <thead>
              <tr>
                <th>
                  入力フィールド
                </th>

                <th>
                  オプション性
                </th>

                <th>
                  タイプ
                </th>

                <th>
                  例
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **awsRoleArn**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  弦
                </td>

                <td>
                  `arn:aws:iam::123456789012:role/my-workflow-role`
                </td>
              </tr>

              <tr>
                <td>
                  **awsAccessKeyId**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  弦
                </td>

                <td>
                  `${{ :secrets:<awsAccessKeyId> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **awsSecretAccessKey**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  弦
                </td>

                <td>
                  `${{ :secrets:<awsSecretAccessKey> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **awsSessionToken**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  弦
                </td>

                <td>
                  `${{ :secrets:<awsSessionToken> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **リージョン**
                </td>

                <td>
                  必須
                </td>

                <td>
                  弦
                </td>

                <td>
                  `"us-east-2"`
                </td>
              </tr>

              <tr>
                <td>
                  **queueUrl**
                </td>

                <td>
                  必須
                </td>

                <td>
                  弦
                </td>

                <td>
                  「 

                  `https://sqs.us-east-2.amazonaws.com/123456789012/my-queue`

                   」
                </td>
              </tr>

              <tr>
                <td>
                  **maxNumberOfMessages**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  Int
                </td>

                <td>
                  `10`
                </td>
              </tr>

              <tr>
                <td>
                  **waitTimeSeconds**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  Int
                </td>

                <td>
                  `5`
                </td>
              </tr>

              <tr>
                <td>
                  **VisibilityTimeout**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  Int
                </td>

                <td>
                  `123`
                </td>
              </tr>

              <tr>
                <td>
                  **AttributeNames**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  リスト
                </td>

                <td>
                  ```yaml
                    [
                      'All'|'Policy'|'VisibilityTimeout'|'MaximumMessageSize'|'MessageRetentionPeriod'|'ApproximateNumberOfMessages'|'ApproximateNumberOfMessagesNotVisible'|'CreatedTimestamp'|'LastModifiedTimestamp'|'QueueArn'|'ApproximateNumberOfMessagesDelayed'|'DelaySeconds'|'ReceiveMessageWaitTimeSeconds'|'RedrivePolicy'|'FifoQueue'|'ContentBasedDeduplication'|'KmsMasterKeyId'|'KmsDataKeyReusePeriodSeconds'|'DeduplicationScope'|'FifoThroughputLimit'|'RedriveAllowPolicy'|'SqsManagedSseEnabled',
                    ]
                  ```
                </td>
              </tr>

              <tr>
                <td>
                  **messageAttributeNames**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  リスト
                </td>

                <td>
                  ```yaml
                    [
                      'message_attribute_name',
                    ],
                  ```
                </td>
              </tr>

              <tr>
                <td>
                  **messageSystemAttributeNames**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  リスト
                </td>

                <td>
                  `['SenderId', 'SentTimestamp']`
                </td>
              </tr>

              <tr>
                <td>
                  **receiveRequestAttemptId**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  弦
                </td>

                <td>
                  `"req-1234abcd"`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="aws-sqs-receivemessage-outputs">
          <table>
            <thead>
              <tr>
                <th>
                  出力フィールド
                </th>

                <th>
                  タイプ
                </th>

                <th>
                  例
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **response**
                </td>

                <td>
                  物体
                </td>

                <td>
                  `{"response":<aws api response> }`

                  レスポンス構文については、receive\_message - Boto3 ドキュメントを参照してください ( [https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/sqs/client/receive\_message.html](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/sqs/client/receive_message.html) )
                </td>
              </tr>

              <tr>
                <td>
                  **成功**
                </td>

                <td>
                  ブール値
                </td>

                <td>
                  `success: true | false`
                </td>
              </tr>

              <tr>
                <td>
                  **エラーメッセージ**
                </td>

                <td>
                  弦
                </td>

                <td>
                  `"errorMessage": "SQS.Client.exceptions.QueueDoesNotExist: "The specified queue does not exist.""`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="aws-sqs-receivemessage-example">
          ```yaml
            name: sqs-receive-message-test
            description: 'Receives a message from an SQS queue'
            steps:
              - name: aws_sqs_receiveMessage_1
                type: action
                action: aws.sqs.receiveMessage
                version: '1'
                inputs:
                  awsRoleArn: ${{ :secrets:awsRoleArn }}
                  region: us-east-1
                  queueUrl: https://sqs.us-east-1.amazonaws.com/123456789012/workflow-test-queue
                  waitTimeSeconds: 5
                  maxNumberOfMessages: 10
                  messageAttributeNames: ['message_attribute_name'],
          ```
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>