---
title: New Relicアクション
tags:
  - workflow automation
  - workflow
  - workflow automation actions
  - New relic actions
metaDescription: A list of available actions in the actions catalog for workflow definitions
freshnessValidatedDate: never
translationType: machine
---

<Callout title="プレビュー">
  この機能はまだ開発中ですが、ぜひお試しください。

  この機能は現在、弊社の[プレリリース ポリシー](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy)に従ってプレビュー プログラムの一部として提供されています。
</Callout>

このページでは、ワークフロー自動化アクション カタログで使用できる New Relic アクションの包括的なリファレンスを提供します。これらのアクションにより、カスタムイベントやログの送信、NerdGraph 書き込みの実行、 NRQL書き込みの実行、通知の送信など、 New Relicプラットフォームの機能をワークフロー定義に統合できます。

## 前提条件

ワークフロー自動化で New Relic アクションを使用する前に、次の点を確認してください。

* 適切な権限を持つ New Relic アカウント。
* New Relicライセンスキー (データを別のアカウントに送信する場合)。
* 使用を計画している特定の New Relic サービスに必要な権限。

New Relicアカウントのライセンスキーの作成および管理方法については、「[ライセンスキー」](/docs/apis/intro-apis/new-relic-api-keys/#license-key)を参照してください。

## 利用可能なNew Relicアクション

カテゴリ別のすべての New Relic アクションのクイックリファレンス:

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        カテゴリー
      </th>

      <th style={{ width: "250px" }}>
        アクション
      </th>

      <th>
        目的
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        **データの取り込み**
      </td>

      <td>
        [カスタムイベントを送信する](#newrelicingestsendevents)
      </td>

      <td>
        カスタムイベントをNew Relicに送信します。
      </td>
    </tr>

    <tr>
      <td>
        **データの取り込み**
      </td>

      <td>
        [ログを送信](#newrelicingestsendlogs)
      </td>

      <td>
        ログデータを New Relic に送信します。
      </td>
    </tr>

    <tr>
      <td>
        **NerdGraph**
      </td>

      <td>
        [GraphQL書き込みまたはミューテーションを実行する](#newrelicnerdgraphexecute)
      </td>

      <td>
        NerdGraph API に対して GraphQL コマンドを実行します。
      </td>
    </tr>

    <tr>
      <td>
        **クエリ**
      </td>

      <td>
        [NRDB書き込みを実行する](#newrelicnrdbquery)
      </td>

      <td>
        クロスアカウント NRQL クエリを実行します。
      </td>
    </tr>

    <tr>
      <td>
        **通知**
      </td>

      <td>
        [通知を送信](#newrelicnotificationsend)
      </td>

      <td>
        New Relic の宛先に通知を送信します。
      </td>
    </tr>
  </tbody>
</table>

## データ取り込みアクション

<CollapserGroup>
  <Collapser id="newrelic.ingest.sendEvents" title="New Relicにカスタムイベントを送信する">
    New Relicにカスタムイベントを送信します

    <Tabs>
      <TabsBar>
        <TabsBarItem id="createventinputs">
          入力
        </TabsBarItem>

        <TabsBarItem id="createventoutputs">
          出力
        </TabsBarItem>

        <TabsBarItem id="createventexample">
          例
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="createventinputs">
          <table>
            <thead>
              <tr>
                <th>
                  入力フィールド
                </th>

                <th>
                  オプション性
                </th>

                <th>
                  タイプ
                </th>

                <th>
                  例
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **属性**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  マップ
                </td>

                <td>
                  `"{\"page\": \"1\", \"limit\": \"10\"}"`
                </td>
              </tr>

              <tr>
                <td>
                  **イベント**
                </td>

                <td>
                  必須
                </td>

                <td>
                  リスト
                </td>

                <td>
                  `"[{\"eventType\":\"XYZ\",\"attributes\":{\"foo\":\"bar\"}}, {\"eventType\":\"ABC\",\"value\":\"1234\",\"attributes\":{\"color\":\"red\"}}]`
                </td>
              </tr>

              <tr>
                <td>
                  **ライセンスキー**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  ストリング
                </td>

                <td>
                  `"{{ .secrets.secretName }}"`
                </td>
              </tr>

              <tr>
                <td>
                  **セレクター**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  リスト
                </td>

                <td>
                  `[{\"name\": \"success\", \"expression\": \".success\"}]`
                </td>
              </tr>
            </tbody>
          </table>

          <Callout variant="important">
            * **attributes**: 提供される場合にすべてのイベントの一部となる共通属性。必要なイベント項目が共通定義をオーバーライドする場合、各イベント項目をマージします。
            * **events**: イベントデータのリスト。 イベントではカスタムイベント タイプを表す`eventType`フィールドを使用する必要があり、リクエストごとに許可されるイベントの最大数は 100 であることに注意してください。
            * **LicenseKey** : イベントが送信されるターゲット アカウントを指定するNew Relicアカウント ライセンスキー。 この値が指定されていない場合、ワークフローを実行しているアカウントに基づいてデフォルトのライセンスキーが想定されます。
            * **selectors** : 指定されたもののみを出力として取得するセレクター。
          </Callout>
        </TabsPageItem>

        <TabsPageItem id="createventoutputs">
          <table>
            <thead>
              <tr>
                <th>
                  出力フィールド
                </th>

                <th>
                  タイプ
                </th>

                <th>
                  例
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **成功**
                </td>

                <td>
                  ブール値
                </td>

                <td>
                  `true`
                </td>
              </tr>

              <tr>
                <td>
                  **エラーメッセージ**
                </td>

                <td>
                  ストリング
                </td>

                <td>
                  `"Error message if operation failed"`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="createventexample">
          <table>
            <thead>
              <tr>
                <th>
                  ワークフローの例
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                  name: heartbeat_newrelicIngestSendEvents

                  workflowInputs:
                    cellName:
                      type: String

                  steps:
                    - name: runAction
                      type: action
                      action: newrelic.ingest.sendEvents
                      version: 1
                      inputs:
                        attributes:
                          colour: red
                          id: 1234
                        events:
                          - eventType: HeartBeat
                            test: "OK"
                            attributes:
                              foo: bar
                          - eventType: HeartBeat1234
                            test: "OK1234"
                            attributes:
                              foo: bar
                          - eventType: HeartBeat12345
                            test: "OK12345"
                            attributes:
                              foo: bar
                              colour: yellow
                          - eventType: HeartBeat12345678
                            test: "OK12345678"
                        selectors:
                          - name: success
                            expression: ".success"
                  ```

                  **期待される出力:**

                  ```yaml
                  {
                    "success": true
                  }
                  ```

                  **イベントを取得:**

                  ワークフローを正常に実行した後、ワークフローを実行したアカウントでクエリを実行して、関連付けられたイベントを取得できます。

                  ```sql
                  SELECT * FROM HeartBeat
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>

<CollapserGroup>
  <Collapser id="newrelic.ingest.sendLogs" title="New Relicへのログ送信">
    New Relicへのログ送信

    <Tabs>
      <TabsBar>
        <TabsBarItem id="newrelic.ingest.sendLogsinputs">
          入力
        </TabsBarItem>

        <TabsBarItem id="newrelic.ingest.sendLogsoutputs">
          出力
        </TabsBarItem>

        <TabsBarItem id="newrelic.ingest.sendLogsexample">
          例
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="newrelic.ingest.sendLogsinputs">
          <table>
            <thead>
              <tr>
                <th>
                  入力フィールド
                </th>

                <th>
                  オプション性
                </th>

                <th>
                  タイプ
                </th>

                <th>
                  例
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **属性**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  マップ
                </td>

                <td>
                  `"{\"page\": \"1\", \"limit\": \"10\"}"`
                </td>
              </tr>

              <tr>
                <td>
                  **ログ**
                </td>

                <td>
                  必須
                </td>

                <td>
                  リスト
                </td>

                <td>
                  `"[{\"message\":\"XYZ\",\"attributes\":{\"foo\":\"bar\"}}, {\"message\":\"ABC\",\"value\":\"1234\",\"attributes\":{\"color\":\"red\"}}]"`
                </td>
              </tr>

              <tr>
                <td>
                  **ライセンスキー**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  ストリング
                </td>

                <td>
                  `"{{ .secrets.secretName }}"`
                </td>
              </tr>

              <tr>
                <td>
                  **セレクター**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  リスト
                </td>

                <td>
                  `[{\"name\": \"success\", \"expression\": \".success\"}]`
                </td>
              </tr>
            </tbody>
          </table>

          <Callout variant="important">
            * **attributes**: 提供された場合、すべてのログに含まれる共通属性。ログ項目で同じ属性が指定されている場合は、共通の定義が上書きされます。
            * **logs**: ログデータのリスト。 リクエストごとに許可されるログの最大数は 100 であることに注意してください。
            * **LicenseKey** : ログが送信される対象アカウントを指定するNew Relicアカウント ライセンスキー。 指定しない場合、ワークフローを実行するアカウントに基づいてデフォルトのライセンスキーが想定されます。 詳細については、 [「ライセンスキー」を](/docs/apis/intro-apis/new-relic-api-keys/#license-key)参照してください。
            * **selectors** : 指定されたもののみを出力として取得するセレクター。
          </Callout>
        </TabsPageItem>

        <TabsPageItem id="newrelic.ingest.sendLogsoutputs">
          <table>
            <thead>
              <tr>
                <th>
                  出力フィールド
                </th>

                <th>
                  タイプ
                </th>

                <th>
                  例
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **成功**
                </td>

                <td>
                  ブール値
                </td>

                <td>
                  `true`
                </td>
              </tr>

              <tr>
                <td>
                  **エラーメッセージ**
                </td>

                <td>
                  ストリング
                </td>

                <td>
                  `"Error message if operation failed"`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="newrelic.ingest.sendLogsexample">
          <table>
            <thead>
              <tr>
                <th>
                  ワークフローの例
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                  name: heartbeat_newrelicIngestSendLogs

                  workflowInputs:
                    cellName:
                      type: String

                  steps:
                    - name: runAction
                      type: action
                      action: newrelic.ingest.sendLogs
                      version: 1
                      inputs:
                        attributes:
                          colour: red
                          id: 1234
                        logs:
                          - message: 'Heartbeat sendLogs Action Test Message'
                            attributes:
                              foo: bar
                          - message: 'HeartBeat1234'
                            attributes:
                              foo: bar
                          - message: 'HeartBeat12345'
                            attributes:
                              foo: bar
                              colour: yellow
                          - message: 'HeartBeat12345678'
                        selectors:
                          - name: success
                            expression: ".success"
                  ```

                  **期待される出力:**

                  ```yaml
                  {
                    "success": true
                  }
                  ```

                  **ログを取得:**

                  ワークフローを正常に実行した後、ワークフローを実行したアカウントでクエリを実行して、関連するログを取得できます。

                  ```sql
                  SELECT * FROM Log
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>

## NerdGraphアクション

<CollapserGroup>
  <Collapser id="newrelic.nerdgraph.execute" title="New Relic NerdGraph APIに対してGraphQLまたはミューテーションを実行する">
    newrelic NerdGraph API に対して Graphql コマンドを実行します。コマンドはクエリまたはミューテーションのいずれかになります。

    <Tabs>
      <TabsBar>
        <TabsBarItem id="nerdgraphexecuteinputs">
          入力
        </TabsBarItem>

        <TabsBarItem id="nerdgraphexecuteoutputs">
          出力
        </TabsBarItem>

        <TabsBarItem id="nerdgraphexecuteexample">
          例
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="nerdgraphexecuteinputs">
          <table>
            <thead>
              <tr>
                <th>
                  入力
                </th>

                <th>
                  オプション性
                </th>

                <th>
                  タイプ
                </th>

                <th>
                  説明
                </th>

                <th>
                  例
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **グラフQL**
                </td>

                <td>
                  必須
                </td>

                <td>
                  ストリング
                </td>

                <td>
                  GraphQL 構文。コマンドの構築とテストにはGraphiQLを使用する必要があります
                </td>

                <td />
              </tr>

              <tr>
                <td>
                  **変数**
                </td>

                <td>
                  必須
                </td>

                <td>
                  map[string]any
                </td>

                <td>
                  GraphQLステートメントで使用する任意のキーの値ペア変数。
                </td>

                <td />
              </tr>

              <tr>
                <td>
                  **セレクター**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  リスト
                </td>

                <td>
                  指定された唯一のものを出力として取得するセレクター。
                </td>

                <td>
                  ```yaml
                    {
                    "data": {
                      "actor": {
                        "user": {
                          "name": ""
                        }
                      }
                    }
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="nerdgraphexecuteoutputs">
          <table>
            <thead>
              <tr>
                <th>
                  出力
                </th>

                <th>
                  タイプ
                </th>

                <th>
                  例
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **データ**
                </td>

                <td>
                  map[string]any: NerdGraphレスポンスの

                  `data`

                  プロパティの内容。
                </td>

                <td>
                  ```yaml
                    steps:
                      - name: currentUserId
                        type: action
                        action: newrelic.nerdgraph.execute
                        version: 1
                        inputs:
                          graphql: |
                            query userId {
                              currentUser {
                                id
                              }
                            }
                      - name: sayHello
                        type: action
                        action: example.messaging.sayHello
                        version: 1
                        inputs:
                          name: ${{ .steps.currentUserId.outputs.data.currentUser.id }}
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="nerdgraphexecuteexample">
          <table>
            <thead>
              <tr>
                <th>
                  例
                </th>

                <th>
                  出力
                </th>

                <th>
                  イベントを取得する
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```json
                      name: testLog

                      steps:
                        - name: logStep
                          type: action
                          action: newrelic.ingest.sendLogs
                          version: 1
                          inputs:
                            logs:
                              - message: 'Hello World'
                  ```
                </td>

                <td>
                  ```yaml
                          {
                            "success": true
                          }
                  ```
                </td>

                <td>
                  ワークフローを実行したアカウントでクエリを実行すると、関連付けられたイベントを取得できます。

                  ```yaml
                    SELECT message FROM Log WHERE allColumnSearch('Hello World', insensitive: true) SINCE 30 minutes ago
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>

## クエリアクション

<CollapserGroup>
  <Collapser id="newrelic.nrdb.query" title="NRDB 書き込みを実行する">
    NerdGraph API を介してクロスアカウント NRQL クエリを実行します。

    <Tabs>
      <TabsBar>
        <TabsBarItem id="nrdbqueryinputs">
          入力
        </TabsBarItem>

        <TabsBarItem id="nrdbqueryoutputs">
          出力
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="nrdbqueryinputs">
          <table>
            <thead>
              <tr>
                <th>
                  入力
                </th>

                <th>
                  オプション性
                </th>

                <th>
                  タイプ
                </th>

                <th>
                  説明
                </th>

                <th>
                  例
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **クエリ**
                </td>

                <td>
                  必須
                </td>

                <td>
                  ストリング
                </td>

                <td>
                  NRQL クエリ ステートメント。
                </td>

                <td />
              </tr>

              <tr>
                <td>
                  **アカウント ID**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  intのリスト
                </td>

                <td>
                  **New Relic Account ID**

                   \[New Relic アカウント ID]入力は、クエリが実行されるターゲット アカウントを指定できるターゲット ID のリストです。この値が入力として提供されない場合、クエリはワークフローの実行アカウントに関連付けられたアカウントに対して自動的に実行されます。
                </td>

                <td />
              </tr>

              <tr>
                <td>
                  **セレクター**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  リスト
                </td>

                <td>
                  指定された唯一のものを出力として取得するセレクター。
                </td>

                <td>
                  ```json
                    steps:
                      - name: queryForLog
                        type: action
                        action: newrelic.nrdb.query
                        version: 1
                        inputs:
                          accountIds: [12345]
                          query: FROM Log SELECT * WHERE message LIKE 'DEMO%'
                          selectors:
                            - name: resultsAsString
                              expression: '.results | tostring'
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="nrdbqueryoutputs">
          <table>
            <thead>
              <tr>
                <th>
                  出力
                </th>

                <th>
                  タイプ
                </th>

                <th>
                  例
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **results**

                   : クエリの結果を含むオブジェクトの配列。
                </td>

                <td />

                <td>
                  ```yaml
                    {
                      results=[
                        { message=[INFO] - Workflow: test has ended, messageId=39af98 },
                        { message=[INFO] - Workflow: test - Step query has started, messageId=649c612 },
                        ...
                      ]
                    }
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>

## 通知アクション

<CollapserGroup>
  <Collapser id="newrelic.notification.send" title="NewRelic の宛先に通知を送信する">
    Slackなどの宛先と統合されたチャネルにメッセージを送信します

    <Tabs>
      <TabsBar>
        <TabsBarItem id="newrelicnotificationsendinputs">
          入力
        </TabsBarItem>

        <TabsBarItem id="newrelicnotificationsendoutputs">
          出力
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="newrelicnotificationsendinputs">
          <table>
            <thead>
              <tr>
                <th>
                  入力
                </th>

                <th>
                  オプション性
                </th>

                <th>
                  タイプ
                </th>

                <th>
                  説明
                </th>

                <th>
                  例
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **タイプ**
                </td>

                <td>
                  必須
                </td>

                <td>
                  ストリング
                </td>

                <td>
                  NewRelicの宛先の種類
                </td>

                <td>
                  `slack`
                </td>
              </tr>

              <tr>
                <td>
                  **宛先ID**
                </td>

                <td>
                  必須
                </td>

                <td>
                  弦
                </td>

                <td>
                  NewRelic の宛先に関連付けられた DestinationId。
                </td>

                <td>
                  `123e4567-e89b-12d3-a456-426614174000`
                </td>
              </tr>

              <tr>
                <td>
                  **パラメーター**
                </td>

                <td>
                  必須
                </td>

                <td>
                  マップ
                </td>

                <td>
                  選択した宛先タイプに通知を送信するために必要なフィールド。
                </td>

                <td>
                  `{\"channel\": \"${{ YOUR_CHANNEL }}\", \"text\": \"Enter your text here\"}`
                </td>
              </tr>

              <tr>
                <td>
                  **セレクター**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  リスト
                </td>

                <td>
                  指定された唯一のものを出力として取得するセレクター。
                </td>

                <td>
                  `[{\"name\": \"success\", \"expression\": \".success\"}]`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="newrelicnotificationsendoutputs">
          <table>
            <thead>
              <tr>
                <th>
                  出力
                </th>

                <th>
                  タイプ
                </th>

                <th>
                  例
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  成功
                </td>

                <td>
                  ブール値
                </td>

                <td>
                  `true/false`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>