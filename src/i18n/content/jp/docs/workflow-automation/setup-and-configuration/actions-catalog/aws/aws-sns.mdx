---
title: AWS SNSアクション
tags:
  - workflow automation
  - workflow
  - workflow automation actions
  - AWS actions
  - AWS SNS actions
metaDescription: A list of available aws sns actions in the actions catalog for workflow definitions
freshnessValidatedDate: never
translationType: machine
---

<Callout title="プレビュー">
  この機能はまだ開発中ですが、ぜひお試しください。

  この機能は現在、弊社の[プレリリース ポリシー](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy)に従ってプレビュー プログラムの一部として提供されています。
</Callout>

このページでは、ワークフロー自動化アクション カタログで使用できる AWS SNS アクションの包括的なリファレンスを提供します。これらのアクションにより、SNS トピックの操作が可能になります。

## 前提条件

ワークフロー自動化で AWS アクションを使用する前に、次の点を確認してください。

* 適切な権限を持つ AWS アカウント。
* 設定された AWS 認証情報 (IAM ユーザー認証情報、IAM ロール ARN、またはセッション認証情報)。
* 使用する予定の特定のAWSサービスに必要な IAM 権限。

IAM ユーザーおよび IAM ロールを作成する方法、およびワークフロー オートメーションAWSアクションと統合するための静的 AWS 認証情報とセッションAWS認証情報を設定する方法については[、「 AWS認証情報のセットアップ」を](/docs/workflow-automation/setup-and-configuration/set-up-aws-credentials/)参照してください。

## AWS SNSトピックにメッセージを公開する [#aws-sns-publish]

Amazon SNS トピックにメッセージを送信します。トピックのすべてのサブスクライバーがメッセージを受信します。

<Tabs>
  <TabsBar>
    <TabsBarItem id="aws-sns-publish-inputs">
      入力
    </TabsBarItem>

    <TabsBarItem id="aws-sns-publish-outputs">
      出力
    </TabsBarItem>

    <TabsBarItem id="aws-sns-publish-example">
      例
    </TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="aws-sns-publish-inputs">
      <table>
        <thead>
          <tr>
            <th>
              入力フィールド
            </th>

            <th>
              オプション性
            </th>

            <th>
              タイプ
            </th>

            <th>
              例
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              **awsRoleArn**
            </td>

            <td>
              オプション
            </td>

            <td>
              弦
            </td>

            <td>
              `arn:aws:iam::123456789012:role/my-workflow-role`
            </td>
          </tr>

          <tr>
            <td>
              **awsAccessKeyId**
            </td>

            <td>
              オプション
            </td>

            <td>
              弦
            </td>

            <td>
              `${{ :secrets:<awsAccessKeyId> }}`
            </td>
          </tr>

          <tr>
            <td>
              **awsSecretAccessKey**
            </td>

            <td>
              オプション
            </td>

            <td>
              弦
            </td>

            <td>
              `${{ :secrets:<awsSecretAccessKey> }}`
            </td>
          </tr>

          <tr>
            <td>
              **awsSessionToken**
            </td>

            <td>
              オプション
            </td>

            <td>
              弦
            </td>

            <td>
              `${{ :secrets:<awsSessionToken> }}`
            </td>
          </tr>

          <tr>
            <td>
              **リージョン**
            </td>

            <td>
              必須
            </td>

            <td>
              弦
            </td>

            <td>
              `"us-east-2"`
            </td>
          </tr>

          <tr>
            <td>
              **メッセージ**
            </td>

            <td>
              必須
            </td>

            <td>
              弦
            </td>

            <td>
              メッセージはUTF-8でエンコードされた文字列で、サイズは最大256KBである必要があります。

              `Workflow failed at step 3`
            </td>
          </tr>

          <tr>
            <td>
              **トピックアルン**
            </td>

            <td>
              オプション
            </td>

            <td>
              弦
            </td>

            <td>
              topicArn 問題の値を指定しない場合は、targetArn 問題の値を指定する必要があります。

              `"arn:aws:sns:us-east-2:123456789012:my-topic"`
            </td>
          </tr>

          <tr>
            <td>
              **targetArn**
            </td>

            <td>
              オプション
            </td>

            <td>
              弦
            </td>

            <td>
              topicArn 問題の値を指定しない場合は、targetArn 問題の値を指定する必要があります。

              `"arn:aws:sns:us-east-2:123456789012:MySNSTopic"`
            </td>
          </tr>

          <tr>
            <td>
              **主題**
            </td>

            <td>
              オプション
            </td>

            <td>
              弦
            </td>

            <td>
              `"Workflow Update"`
            </td>
          </tr>

          <tr>
            <td>
              **MessageStructure**
            </td>

            <td>
              オプション
            </td>

            <td>
              弦
            </td>

            <td>
              `MessageStructure`
            </td>
          </tr>

          <tr>
            <td>
              **messageAttributes**
            </td>

            <td>
              オプション
            </td>

            <td>
              地図
            </td>

            <td>
              ```yaml
              {
                'string': {
                   'DataType': 'string',
                   'StringValue': 'string',
                   'BinaryValue': b'bytes'
                 }
              },
              ```
            </td>
          </tr>

          <tr>
            <td>
              **messageDeduplicationId**
            </td>

            <td>
              オプション
            </td>

            <td>
              弦
            </td>

            <td>
              `"abc123deduplicationId5678"`
            </td>
          </tr>

          <tr>
            <td>
              **messageGroupId**
            </td>

            <td>
              オプション
            </td>

            <td>
              弦
            </td>

            <td>
              `"order-processing-group-2023_A"`
            </td>
          </tr>
        </tbody>
      </table>

      <CollapserGroup>
        <Collapser id="list-of-inputs-aws-sns-publish" title="オプションであり、アクションカタログでは考慮されない入力のリスト">
          <table>
            <thead>
              <tr>
                <th>
                  入力フィールド
                </th>

                <th>
                  タイプ
                </th>

                <th>
                  例
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  PhoneNumber
                </td>

                <td>
                  弦
                </td>

                <td>
                  電話番号は個人を特定できる情報 (PII) とみなされるため、含まれません。
                </td>
              </tr>
            </tbody>
          </table>
        </Collapser>
      </CollapserGroup>
    </TabsPageItem>

    <TabsPageItem id="aws-sns-publish-outputs">
      <table>
        <thead>
          <tr>
            <th>
              出力フィールド
            </th>

            <th>
              タイプ
            </th>

            <th>
              例
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              **response**
            </td>

            <td>
              物体
            </td>

            <td>
              `[{"success":true,"response":{"MessageId":"2333ededwedwed-52f5-a716-e10355e3e2ff"}}]`

              レスポンス構文については、sns-publish-Boto3 ドキュメント ( [https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/sns/client/publish.html](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/sns/client/publish.html) ) を参照してください。
            </td>
          </tr>

          <tr>
            <td>
              **成功**
            </td>

            <td>
              ブール値
            </td>

            <td>
              `success: true | false`
            </td>
          </tr>

          <tr>
            <td>
              **エラーメッセージ**
            </td>

            <td>
              弦
            </td>

            <td>
              `[{"errorMessage":"An error occurred (InvalidParameter) when calling the Publish operation: Invalid parameter: TopicArn or TargetArn Reason: no value for required parameter","success":false,"response":null}]`
            </td>
          </tr>
        </tbody>
      </table>
    </TabsPageItem>

    <TabsPageItem id="aws-sns-publish-example">
      ```yaml
      name: sns-publish-test
      description: Publishes a notification to an SNS topic
      workflowInputs:
        arnRole:
          type: String
      steps:
        - name: aws_sns_publish_1
          type: action
          action: aws.sns.publish
          version: '1'
          inputs:
            awsRoleArn: ${{ .workflowInputs.arnRole }}
            region: us-east-1
            topicArn: arn:aws:sns:us-east-1:123456789012:workflow-test-topic
            subject: "Workflow Update"
            message: "The data processing workflow has completed successfully."
          next: end
      ```
    </TabsPageItem>
  </TabsPages>
</Tabs>