---
title: AWS CloudWatchアクション
tags:
  - workflow automation
  - workflow
  - workflow automation actions
  - AWS actions
  - AWS CloudWatch actions
metaDescription: A list of available aws cloudwatch actions in the actions catalog for workflow definitions
freshnessValidatedDate: never
translationType: machine
---

<Callout title="プレビュー">
  この機能はまだ開発中ですが、ぜひお試しください。

  この機能は現在、弊社の[プレリリース ポリシー](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy)に従ってプレビュー プログラムの一部として提供されています。
</Callout>

このページでは、ワークフロー自動化アクション カタログで使用できる AWS CloudWatch アクションの包括的なリファレンスを提供します。これらのアクションにより、CloudWatch ログ操作が可能になります。

## 前提条件

ワークフロー自動化で AWS アクションを使用する前に、次の点を確認してください。

* 適切な権限を持つ AWS アカウント。
* 設定された AWS 認証情報 (IAM ユーザー認証情報、IAM ロール ARN、またはセッション認証情報)。
* 使用する予定の特定のAWSサービスに必要な IAM 権限。

IAM ユーザーおよび IAM ロールを作成する方法、およびワークフロー オートメーションAWSアクションと統合するための静的 AWS 認証情報とセッションAWS認証情報を設定する方法については[、「 AWS認証情報のセットアップ」を](/docs/workflow-automation/setup-and-configuration/set-up-aws-credentials/)参照してください。

<CollapserGroup>
  <Collapser id="aws.cloudWatch.getLogEvents" title="CloudWatch ログイベントを取得する">
    AWS CloudWatch ログの指定されたログ ストリームからログイベントのバッチを取得します。 これは、プログラムでログ データを取得してアプリケーションを監視、監査、トラブルシューティングするために不可欠です。

    <Tabs>
      <TabsBar>
        <TabsBarItem id="aws-cloudwatch-getlogevents-inputs">
          入力
        </TabsBarItem>

        <TabsBarItem id="aws-cloudwatch-getlogevents-outputs">
          出力
        </TabsBarItem>

        <TabsBarItem id="aws-cloudwatch-getlogevents-example">
          例
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="aws-cloudwatch-getlogevents-inputs">
          <table>
            <thead>
              <tr>
                <th>
                  入力フィールド
                </th>

                <th>
                  オプション性
                </th>

                <th>
                  タイプ
                </th>

                <th>
                  例
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **awsRoleArn**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  弦
                </td>

                <td>
                  `arn:aws:iam::123456789012:role/my-workflow-role`
                </td>
              </tr>

              <tr>
                <td>
                  **awsAccessKeyId**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  弦
                </td>

                <td>
                  `${{ :secrets:<awsAccessKeyId> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **awsSecretAccessKey**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  弦
                </td>

                <td>
                  `${{ :secrets:<awsSecretAccessKey> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **awsSessionToken**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  弦
                </td>

                <td>
                  `${{ :secrets:<awsSessionToken> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **リージョン**
                </td>

                <td>
                  必須
                </td>

                <td>
                  弦
                </td>

                <td>
                  `"us-east-2"`
                </td>
              </tr>

              <tr>
                <td>
                  **logStreamName**
                </td>

                <td>
                  必須
                </td>

                <td>
                  弦
                </td>

                <td>
                  `"2023/10/27/[$LATEST]abcdef123456"`
                </td>
              </tr>

              <tr>
                <td>
                  **logGroupName**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  弦
                </td>

                <td>
                  `"/aws/lambda/my-function"`
                </td>
              </tr>

              <tr>
                <td>
                  **logGroupIdentifier**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  弦
                </td>

                <td>
                  `"arn:partition:service:region:account-id:resource"`
                </td>
              </tr>

              <tr>
                <td>
                  **開始時間**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  Int
                </td>

                <td>
                  `1759296000000`
                </td>
              </tr>

              <tr>
                <td>
                  **エンドタイム**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  Int
                </td>

                <td>
                  `1759296000000`
                </td>
              </tr>

              <tr>
                <td>
                  **リミット**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  Int
                </td>

                <td>
                  `50`
                </td>
              </tr>

              <tr>
                <td>
                  **startFromHead**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  ブール値
                </td>

                <td>
                  `true`
                </td>
              </tr>

              <tr>
                <td>
                  **unmask**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  ブール値
                </td>

                <td>
                  `false`
                </td>
              </tr>

              <tr>
                <td>
                  **nextToken**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  弦
                </td>

                <td>
                  `"f/39218833627378687642013305455131706539523449361490509828/s"`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="aws-cloudwatch-getlogevents-outputs">
          <table>
            <thead>
              <tr>
                <th>
                  出力フィールド
                </th>

                <th>
                  タイプ
                </th>

                <th>
                  例
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **response**
                </td>

                <td>
                  オブジェクト
                </td>

                <td>
                  ```yaml
                  {
                      'events': [
                          {
                              'timestamp': 123,
                              'message': 'string',
                              'ingestionTime': 123
                          },
                      ],
                      'nextForwardToken': 'string',
                      'nextBackwardToken': 'string'
                  }
                  ```
                </td>
              </tr>

              <tr>
                <td>
                  **成功**
                </td>

                <td>
                  ブール値
                </td>

                <td>
                  `success: true | false`
                </td>
              </tr>

              <tr>
                <td>
                  **エラーメッセージ**
                </td>

                <td>
                  弦
                </td>

                <td>
                  `"An error occurred (ExpiredTokenException) when calling the GetLogEvents operation: The security token included in the request is expired"`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="aws-cloudwatch-getlogevents-example">
          ```yaml
          name: get-lambda-logs
          description: 'Retrieve log events from an AWS Lambda function'
          workflowInputs:
            region:
              type: String
              defaultValue: us-east-2
            logGroupName:
              type: String
              defaultValue: /aws/lambda/my-function
            logStreamName:
              type: String
              defaultValue: 2023/10/27/[$LATEST]abcdef123456
          steps:
            name: get_events_step
            type: action
            action: aws.cloudwatch.get_log_events
            version: '1'
            inputs:
              region: ${{ .workflowInputs.region }}
              logGroupName: ${{ .workflowInputs.logGroupName }}
              logStreamName: ${{ .workflowInputs.logStreamName }}
              limit: 100

          ```
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>

  <Collapser id="aws.cloudwatch.putLogEvents" title="ログイベントを記録する">
    これにより、ログイベントのバッチがAWS CloudWatch ログの指定されたログ ストリームにアップロードされます。 監視と分析のために、アプリケーションまたはサービスからのログデータをプログラムで CloudWatch に送信するために使用されます。

    <Tabs>
      <TabsBar>
        <TabsBarItem id="aws-cloudwatch-putlogevents-inputs">
          入力
        </TabsBarItem>

        <TabsBarItem id="aws-cloudwatch-putlogevents-outputs">
          出力
        </TabsBarItem>

        <TabsBarItem id="aws-cloudwatch-putlogevents-example">
          例
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="aws-cloudwatch-putlogevents-inputs">
          <table>
            <thead>
              <tr>
                <th>
                  入力フィールド
                </th>

                <th>
                  オプション性
                </th>

                <th>
                  タイプ
                </th>

                <th>
                  例
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **awsRoleArn**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  弦
                </td>

                <td>
                  `arn:aws:iam::123456789012:role/my-workflow-role`
                </td>
              </tr>

              <tr>
                <td>
                  **awsAccessKeyId**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  弦
                </td>

                <td>
                  `${{ :secrets:<awsAccessKeyId> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **awsSecretAccessKey**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  弦
                </td>

                <td>
                  `${{ :secrets:<awsSecretAccessKey> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **awsSessionToken**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  弦
                </td>

                <td>
                  `${{ :secrets:<awsSessionToken> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **リージョン**
                </td>

                <td>
                  必須
                </td>

                <td>
                  弦
                </td>

                <td>
                  `"us-east-2"`
                </td>
              </tr>

              <tr>
                <td>
                  **logGroupName**
                </td>

                <td>
                  必須
                </td>

                <td>
                  弦
                </td>

                <td>
                  `"/aws/lambda/hello-you"`
                </td>
              </tr>

              <tr>
                <td>
                  **logStreamName**
                </td>

                <td>
                  必須
                </td>

                <td>
                  弦
                </td>

                <td>
                  `"2025/09/24/[$LATEST]09f7ca9e9ab044f389419ce60305f594"`
                </td>
              </tr>

              <tr>
                <td>
                  **logEvents**
                </td>

                <td>
                  必須
                </td>

                <td>
                  リスト
                </td>

                <td>
                  ```yaml
                  [ 

                  { "timestamp": 1698384000000, "message": "Workflow task started." },

                   { "timestamp": 1698384000015, "message": "Data validated successfully." } ]
                  ```
                </td>
              </tr>

              <tr>
                <td>
                  **エンティティ**
                </td>

                <td>
                  オプション
                </td>

                <td>
                  Dict
                </td>

                <td>
                  `{ "entity": { "keyAttributes": { "ResourceType": "AWS::ElasticLoadBalancingV2::LoadBalancer", "Identifier": "app/my-web-lb/12345", "Environment": "Production" }, "attributes": { "MonitoringTier": "Gold", "OwnerTeam": "Networking", "MaintenanceWindow": "Sat: 0200-0400" } } }`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="aws-cloudwatch-putlogevents-outputs">
          <table>
            <thead>
              <tr>
                <th>
                  出力フィールド
                </th>

                <th>
                  タイプ
                </th>

                <th>
                  説明
                </th>

                <th>
                  例
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **response**
                </td>

                <td>
                  オブジェクト
                </td>

                <td>
                  `nextSequenceToken`

                  を含む生の JSON 応答。
                </td>

                <td>
                  ```yaml
                  {
                      'nextSequenceToken': 'string',
                      'rejectedLogEventsInfo': {
                          'tooNewLogEventStartIndex': 123,
                          'tooOldLogEventEndIndex': 123,
                          'expiredLogEventEndIndex': 123
                      },
                      'rejectedEntityInfo': {
                          'errorType': 'InvalidEntity'|'InvalidTypeValue'|'InvalidKeyAttributes'|'InvalidAttributes'|'EntitySizeTooLarge'|'UnsupportedLogGroupType'|'MissingRequiredFields'
                      }
                  }
                  ```
                </td>
              </tr>

              <tr>
                <td>
                  **成功**
                </td>

                <td>
                  ブール値
                </td>

                <td>
                  ログイベントが正常にアップロードされたかどうかを示します。
                </td>

                <td>
                  `true`
                </td>
              </tr>

              <tr>
                <td>
                  **エラーメッセージ**
                </td>

                <td>
                  弦
                </td>

                <td>
                  アクションが失敗した場合のわかりやすいエラーメッセージ。
                </td>

                <td>
                  `"An error occurred (ExpiredTokenException) when calling the PutLogEvents operation: The security token included in the request is expired"`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="aws-cloudwatch-putlogevents-example">
          <table>
            <thead>
              <tr>
                <th>
                  ワークフローの例
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                  name: put-custom-logs
                  description: 'Upload a batch of custom log events to CloudWatch'

                  workflowInputs:
                    region:
                      type: String
                      defaultValue: us-east-2
                    logGroupName:
                      type: String
                      defaultValue: my-custom-app-logs
                    logStreamName:
                      type: String
                      defaultValue: instance-01-thread-01
                    
                  steps:
                    - name: upload_logs
                      type: action
                      action: aws.cloudwatch.put_log_events
                      version: '1'
                      inputs:
                        region: ${{ .workflowInputs.region }}
                        logGroupName: ${{ .workflowInputs.logGroupName }}
                        logStreamName: ${{ .workflowInputs.logStreamName }}
                        logEvents:
                          - timestamp: 1698384000000
                            message: "Workflow started successfully"
                          - timestamp: 1698384005000
                            message: "Step 1 completed"
                      next: end
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>