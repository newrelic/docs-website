---
title: APIゲートウェイのロールバック
tags:
  - workflow automation
  - workflow
  - aws
  - api gateway
metaDescription: 'Detect deployments via change tracking, send Slack approval requests, and automate API Gateway rollback.'
freshnessValidatedDate: never
translationType: machine
---

New Relic Change Tracking (変更追跡機能) を介してデプロイメントを検出し、Slack 承認requestsを送信し、 AWS Systems Manager を使用してAPI Gateway のロールバックを自動化します。

**要件：**

* AWS 認証情報 (API ゲートウェイ + Systems Manager)
* Slack について
* New Relicエンティティ監視

**このワークフローの機能:**

* New Relic Change Tracking (変更追跡機能) を使用して最近のデプロイメントを検出する
* 承認ボタン付きのSlack通知を送信する `(:+1: or :-1:)`
* 承認後にSSMドキュメントを作成してロールバックを自動化する
* API Gateway 統合を以前のLambdaバージョンにロールバックする
* ロールバックを適用するための新しいデプロイメントを作成する
* Slackにステータス通知を送信する
* 完了後にSSMドキュメントをクリーンアップする

**キーアクション**: `newrelic.nerdgraph.execute` 、 `slack.chat.postMessage` 、 `slack.chat.getReactions` 、 `aws.systemsManager.writeDocument` 、 `aws.systemsManager.startAutomation` 、 `aws.systemsManager.waitForAutomationStatus` 、 `aws.systemsManager.deleteDocument`

## 次のステップ

* **[EC2管理](/docs/workflow-automation/workflow-examples/advanced/ec2-management)**：インフラストラクチャの自動化
* **[NRQLアラート](/docs/workflow-automation/workflow-examples/advanced/nrql-alerting)**: カスタム集計パターン