---
title: Cloud Cost Intelligence - Azure
tags:
  - cloud cost intelligence
  - azure
  - azure cost management
  - cloud cost optimization
  - cci azure
metaDescription: 'Connect your Azure billing to New Relic Cloud Cost Intelligence to monitor, analyze, and optimize cloud spending across Azure services.'
redirect:
  - /docs/cci/financial-intelligence/cci-azure
  - /docs/cci/azure-cci
freshnessValidatedDate: '2025-10-15T00:00:00.000Z'
translationType: machine
---

<Callout title="プレビュー">
  この機能はまだ開発中ですが、ぜひお試しください。

  この機能は現在、弊社の[プレリリース ポリシー](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy)に従ってプレビュー プログラムの一部として提供されています。
</Callout>

Azureの課金をCloud Cost Intelligenceに接続して、 cloud支出を監視および最適化します。 サービスおよびリソース グループ全体の支出パターン、リソースの使用、コストの割り当てを表示します。

主な機能:

* **リソースの最適化**- 十分に活用されていないサービスやコストのかかるサービスを特定し、割り当てを調整します
* **コストの管理**- 計算、ストレージ、ネットワーキング、データベース全体にわたるコスト要因を追跡します
* **マルチサブスクリプション監視**- サブスクリプションおよび管理グループ全体の支出を表示します
* **コストの責任**- Azure タグとリソース グループを使用してチャージバックを有効にする
* **予算管理**- 支出額と限度額のアラートを設定します

## あなたが始める前に

必要なもの:

* アクティブな請求先アカウントを持つ Azure サブスクリプション
* サブスクリプションの投稿者または所有者の役割
* Azure コスト管理アクセス
* サブスクリプションまたは管理グループの請求リーダー権限

## セットアップ手順

<Callout variant="important">
  **すでに FOCUS エクスポートをお持ちですか?****Cost and Usage (FOCUS)** \[コストと使用量 (FOCUS)]形式、日次頻度、Parquet 圧縮を使用した既存の請求書エクスポートがある場合は、それを使用できます。それ以外の場合は、 [「既存のエクスポートの確認」](#check-existing-export) 、 [「課金エクスポートの作成」](#create-billing-export) 、および[「ストレージ設定の構成」](#configure-storage-settings)の手順に従って、新しいエクスポートを作成します。
</Callout>

<Steps>
  <Step>
    ### 既存のエクスポートを確認する [#check-existing-export]

    必要な形式の請求書エクスポートがすでにあるかどうかを確認します。

    1. Azure ポータルで、 **Cost Management &amp; Billing** \[コスト管理と課金]に移動します。
    2. **Billing Scope** \[課金範囲]を選択し、**Settings** \[設定]を展開して**Exports** \[エクスポート]をクリックします。
    3. **Cost and Usage (FOCUS)**形式と**Parquet**圧縮によるエクスポートのリストを確認します。

    * **一致するエクスポートが存在する場合**: [New Relic アカウントの選択](#select-new-relic-account)に進みます。
    * **一致するエクスポートが存在しない場合は**、 [「請求エクスポートの作成」](#create-billing-export)に進みます。
  </Step>

  <Step>
    ### 請求書エクスポートの作成 [#create-billing-export]

    1. Azure ポータルで、 **Cost Management &amp; Billing** \[コスト管理と課金]に移動します。
    2. **Billing Scope** \[課金範囲]を選択し、**Settings** \[設定]を展開して**Exports** \[エクスポート]をクリックします。
    3. **Create** \[作成]をクリックします。
    4. エクスポート タイプとして**Cost and Usage (FOCUS**) \[コストと使用状況 (FOCUS)]を選択します。

    <Callout variant="important">
      EA および MCA の場合、エクスポート タイプの形式は、**Cost and usage details (FOCUS) : 1.2-preview\..**
    </Callout>

    5. エクスポート プレフィックスを指定します。次の点を考慮してエクスポートを構成します。

    <table>
      <thead>
        <tr>
          <th width={200}>
            パラメータ
          </th>

          <th width={200}>
            価値
          </th>

          <th>
            説明
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            データの種類
          </td>

          <td>
            コストと使用状況の詳細（FOCUS） - プレビュー
          </td>

          <td>
            FOCUS形式で詳細なコストと使用状況情報を提供します
          </td>
        </tr>

        <tr>
          <td>
            エクスポート名
          </td>

          <td>
            あなたの選んだわかりやすい名前
          </td>

          <td>
            エクスポート用の意味のある識別子
          </td>
        </tr>

        <tr>
          <td>
            データセットのバージョン
          </td>

          <td>
            1.2-preview (最新のデータセット スキーマ ファイル)
          </td>

          <td>
            利用可能な最新のスキーマバージョン
          </td>
        </tr>

        <tr>
          <td>
            頻度
          </td>

          <td>
            月初から現在までのコストの毎日のエクスポート
          </td>

          <td>
            毎日のエクスポートでは、月間のコスト情報を取得します。
          </td>
        </tr>

        <tr>
          <td>
            エクスポートの説明
          </td>

          <td>
            選択した意味のある説明
          </td>

          <td>
            輸出目的に関する背景
          </td>
        </tr>
      </tbody>
    </table>

    6. **Next**\[次へ]をクリックします。
  </Step>

  <Step>
    ### ストレージ設定を構成する [#configure-storage-settings]

    1. Azure が課金データを保存する場所を構成します。

    <table>
      <thead>
        <tr>
          <th width={200}>
            設定
          </th>

          <th width={200}>
            価値
          </th>

          <th>
            説明
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            ストレージタイプ
          </td>

          <td>
            BLOBストレージ
          </td>

          <td>
            コストデータ用の Azure Blob Storage
          </td>
        </tr>

        <tr>
          <td>
            保存先ストレージ
          </td>

          <td>
            既存のストレージ アカウントを使用するか、新しいアカウントを作成します
          </td>

          <td>
            請求データの保存場所
          </td>
        </tr>

        <tr>
          <td>
            コンテナとディレクトリ
          </td>

          <td>
            既存のコンテナ/ディレクトリを使用するか、新しいものを作成する
          </td>

          <td>
            請求書エクスポートの組織構造
          </td>
        </tr>

        <tr>
          <td>
            圧縮タイプ
          </td>

          <td>
            寄木細工
          </td>

          <td>
            最適なストレージ効率とクエリパフォーマンスを提供します
          </td>
        </tr>

        <tr>
          <td>
            データの上書き
          </td>

          <td>
            はい
          </td>

          <td>
            既存のデータの更新が可能
          </td>
        </tr>

        <tr>
          <td>
            ファイルのパーティション分割
          </td>

          <td>
            はい
          </td>

          <td>
            効率的なデータ組織と検索を可能にする
          </td>
        </tr>
      </tbody>
    </table>

    <Callout variant="important">
      ストレージ アカウントは**(US) East US**に置くことをお勧めします。これにより、送信データ転送コストを節約できます。ストレージ タイプは**Azure Blob ストレージ**である必要があります。
    </Callout>

    2. 設定を確認してください。

    3. **Create** \[作成]をクリックします。

    4. エクスポートが**Exports** \[エクスポート]リストに表示されていることを確認し、次の点を確認します。

       * FOCUS (FinOps Open Cost and Usage Specification) フォーマットはプレビュー中です
       * データセットバージョン1.2-previewは最新のスキーマバージョンです
       * 毎日のエクスポートでは、月間のコスト情報を取得します。
       * Parquet 圧縮によりストレージ効率とクエリパフォーマンスが向上
  </Step>

  <Step>
    ### New Relicアカウントを選択 [#select-new-relic-account]

    1. <DNT>[**one.newrelic.com**](https://one.newrelic.com) &gt; **All Capabilities** &gt; **Cloud Cost Intelligence - Azure**</DNT>に移動します。
    2. アカウントを選択し、 **Continue** \[続行]をクリックします。
  </Step>

  <Step>
    ### Azure接続の詳細を提供する [#provide-azure-connection-details]

    1. Azure の課金およびストレージ情報を入力します。

    <table>
      <thead>
        <tr>
          <th width={220}>
            フィールド
          </th>

          <th>
            説明
          </th>

          <th>
            場所
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            **Azure 契約の種類**
          </td>

          <td>
            契約の種類を選択してください。
          </td>

          <td>
            **Azure Console &gt; Cost Management + Billing &gt; Settings &gt; Properties**に移動します。[Billing accounts and scopes in the Azure portal](https://learn.microsoft.com/en-us/azure/cost-management-billing/manage/view-all-accounts) \[Azure Portal の課金アカウントとスコープ]を参照してください。
          </td>
        </tr>

        <tr>
          <td>
            **テナントID**
          </td>

          <td>
            組織の Microsoft Entra ID インスタンスの一意の識別子を入力します。
          </td>

          <td>
            **[Microsoft Entra 管理センター](https://entra.microsoft.com/#home)**へアクセス
          </td>
        </tr>

        <tr>
          <td>
            **請求先アカウントID**
          </td>

          <td>
            請求アカウントIDを入力してください。
          </td>

          <td>
            **Azure Console &gt; Cost Management + Billing &gt; Settings &gt; Properties**に移動します。[Billing administration](https://learn.microsoft.com/en-us/azure/cost-management-billing/manage/direct-ea-administration#to-view-enrollment-properties) \[請求管理を]参照してください。
          </td>
        </tr>

        <tr>
          <td>
            **Azure ストレージ アカウント名**
          </td>

          <td>
            作成したエクスポートからのストレージ アカウント名を入力します。送信データ転送コストを削減するには、**East US (US)**のストレージ アカウントを使用します。ストレージ タイプは**Azure Blob storage**である必要があります。
          </td>

          <td />
        </tr>

        <tr>
          <td>
            **ストレージコンテナ名**
          </td>

          <td>
            課金エクスポート ファイルを保持するストレージ アカウント内のコンテナー名を入力します。
          </td>

          <td>
            **[Microsoft Azure](https://portal.azure.com/#home) &gt; Subscription &gt; Storage account &gt; Container。****注**: このコンテナーの次のステップで、 New Relicサービス プリンシパルへのアクセスを許可する必要があります。
          </td>
        </tr>

        <tr>
          <td>
            **ディレクトリパス**
          </td>

          <td>
            デフォルトでは、Microsoft Azure は、2025 年 11 月の場合は`20251101-20251130` 、2025 年 12 月の場合は`20251201-20251231`のように、月別の命名法を使用してフォルダーにコスト エクスポート ファイルを作成します。CCI はこれらのファイルを自動的に走査して、毎日のコストレポートを作成します。ファイルがコンテナ ルートに公開されるように構成されていない場合にのみ、ディレクトリ パスを指定する必要があります。

            **例 1** : ファイルがルートの`newreliccciazure`という名前のストレージ コンテナーに公開されるように構成されている場合。

            * **アクション**: 空白のままにする

            **例 2** : 指定されたディレクトリ`azureCostData`内の`newreliccciazure`という名前のストレージ コンテナーに、サブディレクトリ`johnDoefiles`などとともにファイルが公開されるように構成されている場合、最終的なファイル フォルダー構造は`newreliccciazure/azureCostData/johnDoefiles/20251101`のようになります。

            * **アクション**: ディレクトリパスとして`azureCostData/johnDoefiles`を指定します
          </td>

          <td />
        </tr>
      </tbody>
    </table>

    2. Click **Continue**.
  </Step>

  <Step>
    ### アクセスを許可する [#authorize-access]

    New Relic サービス プリンシパル (**msazurecostdata**) が課金データにアクセスできるようにします。

    1. **Initiate Connection** \[接続の開始]をクリックします。
    2. **Microsoft Authentication**フローを完了します。

    <Callout variant="important">
      Azureアドミニストレーターの承認が必要です。
    </Callout>

    3. 認証要求を承認します。
    4. 小さなファイル（0 KB）がダウンロードされます。このファイルは削除できます。
  </Step>

  <Step>
    ### サービスプリンシパルを確認する [#confirm-service-principal]

    サービス プリンシパルが追加されたことを確認します。

    1. **Microsoft Entra Account**の**Enterprise Applications** \[エンタープライズ アプリケーション]に移動します。
    2. リストに**msazurecostdata**が表示されていることを確認します。

    <Callout variant="important">
      エンタープライズ アプリケーションの表示については、[Microsoft Entra のドキュメントを](https://learn.microsoft.com/en-us/entra/identity/enterprise-apps/view-applications-portal)参照してください。
    </Callout>
  </Step>

  <Step>
    ### 権限を割り当てる [#assign-permissions]

    読み取り専用アクセス用の**Storage Blob Data Reader**ロールを割り当てます。

    1. ストレージ アカウント コンテナーを開き、 **Access Control (IAM)** \[アクセス制御 (IAM)]を選択します。
    2. **Add** &gt; **Add role assignment**をクリックします。
    3. **Storage Blob Data Reader** \[ストレージ BLOB データ リーダー]を選択します。
    4. `msazurecostdata`を検索して選択します。
    5. **Review + Assign** \[確認 + 割り当て]をクリックし、ロールの割り当てに`msazurecostdata`が表示されていることを確認します。
  </Step>

  <Step>
    ### セットアップを確認する [#verify-setup]

    確認する：

    * **msazurecostdata** が**Enterprise Applications** \[エンタープライズアプリケーション]に表示される

    * サービス プリンシパルには**Storage Blob Data Reader** \[ストレージ BLOB データ リーダー]ロールがあります

    * ロールは正しいストレージコンテナに適用されます

    * New Relicで接続テストが成功しました

      <Callout variant="important">
        **セキュリティ**: サービス プリンシパルは課金データに対してのみ読み取り専用アクセス権を持ちます。データの書き込み、変更、削除はできません。
      </Callout>
  </Step>

  <Step>
    ### データ処理 [#data-processing]

    初期処理には最大 12 時間かかります。コスト データはコスト概要ダッシュボードに表示されます。
  </Step>

  <Step>
    ### 自分のデータを見る [#view-your-data]

    [**Intelligent summary (インテリジェント サマリー)**](/docs/cci/financial-intelligence/intelligent-summary)にアクセスして、Azure コスト データを表示し、支出を最適化します。
  </Step>
</Steps>

<DocTiles numbered>
  <DocTile title="Set up AWS" path="/docs/cci/get-started/aws-cci" />

  <DocTile title="Set up Azure" label={{text: 'You are here', color: '#FCD672'}} path="/docs/cci/get-started/azure-cci" />

  <DocTile title="Set up Google Cloud Platform" path="/docs/cci/get-started/gcp-cci" />
</DocTiles>