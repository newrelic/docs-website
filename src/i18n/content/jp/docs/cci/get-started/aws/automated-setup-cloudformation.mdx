---
title: AWS CloudFormation によるCloud Cost Intelligence自動化
tags:
  - cloud cost intelligence
  - aws
  - amazon web services
  - aws cost management
  - cloud cost optimization
  - cci aws
  - automated setup
  - cloudformation
metaDescription: Use the automated AWS CloudFormation template to quickly set up Cloud Cost Intelligence by provisioning required AWS resources and configurations.
freshnessValidatedDate: never
translationType: machine
---

<Callout title="プレビュー">
  この機能はまだ開発中ですが、ぜひお試しください。

  この機能は現在、弊社の[プレリリース ポリシー](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy)に従ってプレビュー プログラムの一部として提供されています。
</Callout>

自動化された AWS CloudFormation テンプレートを使用して、Cloud Cost Intelligence のセットアップを加速します。事前設定されたスタックは、S3 バケット設定、CUR エクスポート設定、 [Trusted Advisor 設定チェック](/docs/cci/financial-intelligence/cci-recommendations/#aws-trusted-advisor)、必要な IAM ロールとポリシーなど、必要な AWS 環境を自動的にプロビジョニングします。デプロイする前に、AWS CloudFormation コンソールですべてのリソースのアクセス許可を確認します。

## コスト面での配慮

テンプレートは、CUR データの取り込み用に S3 バケットを自動的に作成します。デフォルトのリージョンは`us-east-2`ですが、インフラストラクチャのニーズに合わせて CloudFormation を使用してこれを変更できます。

## セットアップ手順

<Steps>
  <Step>
    ### New RelicでCloud Cost Intelligenceにアクセス

    <DNT>[**one.newrelic.com**](https://one.newrelic.com/) &gt; **Integrations &amp; Agents** &gt; **Cloud Cost Intelligence - AWS**</DNT>に移動します。
  </Step>

  <Step>
    ### CloudFormation自動化を選択する

    **Automate AWS with CloudFormation (Recommended)** \[CloudFormation による AWS の自動化 (推奨)]を選択し、 **Continue** \[続行]をクリックします。
  </Step>

  <Step>
    ### AWSの CloudFormation リリース

    1. 接続名を確認し、New Relic データ領域を選択します。
    2. **Launch your CloudFormation in AWS** \[AWSでCloudFormationを起動する]をクリックします。
    3. プロンプトが表示されたら、**管理者ロール**で AWS アカウントにログインします。AWS コンソールで**CloudFormation Stacks** \[CloudFormation スタック]画面が開きます。
  </Step>

  <Step>
    ### スタック問題を構成する

    **Create Stack** \[スタックの作成]フォームで、以下を構成します。

    **事前設定された問題 (変更しないでください):**

    * **New Relic アカウント ID** : 事前に入力されています。変更しないでください。
    * **New Relic データ領域**: 事前に入力されています。変更しないでください。
    * **外部 ID** : 事前に入力されています。変更しないでください。

    **必須事項:**

    * **NewRelicAPIKey** : New Relic APIキーを入力します。 このキーはNew Relicのユーザーインターフェースで生成できます。ユーザーメニュー &gt; API Keys を選択してください。
    * **スタック名**: デフォルト値が提供されます。必要に応じて編集しますが、名前がすべての AWS CloudFormation スタック全体でグローバルに一意であることを確認してください。デフォルト値を維持することをお勧めします。
    * **バケット名**: デフォルト値が提供されます。必要に応じて編集しますが、名前がすべての S3 バケット全体でグローバルに一意であることを確認してください。
    * **接続名**: デフォルト値が提供されます。命名規則に応じて必要に応じて編集します。

    **オプション:**

    * **Trusted Advisor へのアクセスを許可**: デフォルトは**Yes**です。有効にすると、アカウントに対して**Trusted Advisor**コスト インサイト が有効になっているかどうかを確認し、推奨事項を取得できるようになります。 **No** \[いいえ]を選択した場合、または**Trusted Advisor が**有効になっていない場合、 **Trusted Advisor の**推奨事項は利用できません。

    <Callout variant="important">
      CCI ネイティブ推奨事項は**Trusted Advisor**から独立しており、この設定に関係なく機能します。
    </Callout>

    他のすべてはオプションであり、必要に応じて構成できます。
  </Step>

  <Step>
    ### スタックを作成する

    **I acknowledge that AWS CloudFormation might create IAM resources \[AWS CloudFormation** によって IAM リソースが作成される可能性があることに同意します]を選択し、 **Create stack** \[スタックの作成]をクリックします。
  </Step>

  <Step>
    ### スタックの作成を確認する

    スタックの作成が正常に完了すると、ステータスに**CREATE\_COMPLETE と**表示されます。
  </Step>

  <Step>
    ### CURレポート生成の検証

    24 時間待ってから、AWS バケットに parquet 形式の CUR レポートが表示されることを確認します。

    <Callout variant="important">
      以下のパスは例です。実際のパスには、異なるタイムスタンプ、UUID、および請求期間が含まれます。

      > **Amazon S3** &gt; **Buckets** &gt; **bucket\_name** &gt; **cost-and-usage-reports/** &gt; **bucket\_name-cci/data** &gt; **BILLING\_PERIOD=2025-12/** &gt; **2025-12-24T03:05:19.886Z-a2e23b2a-588a-4305-97fd-be712f555b75/** &gt; **bucket\_name-cci-00001.snappy.parquet**
    </Callout>

    統合のセットアップが完了しました。
  </Step>
</Steps>

## 制限

自動化された CloudFormation テンプレートでは次のことは実行されません。

* 計算またはネットワーク リソースを作成または構成します。
* 追加のAWSサービスを有効にするか、サポート レベルを更新します。
* ログ、トレース、その他のメトリクスを取り込むプロセスを自動化します。
* 書き込みアクセス ロールまたはポリシーを作成します。

## 構成されたポリシーと権限

自動化スタックは、次のアクセス レベルを構成します。

* **請求データ アクセス**: コストと使用状況レポートを保存するために作成された特定の S3 バケットへの読み取り専用権限。
* **サービス料金アクセス**: 使用量を公開料金と関連付けるための AWS 料金 API への読み取り専用アクセス。
* **設定オートメーション**: CUR エクスポートを生成し、セットアップ段階で統合ステータスを確認するために必要な限定的な権限。
* **オプションの最適化アクセス**: (選択した場合) コスト削減の推奨事項を表示するための AWS Trusted Advisor への読み取り専用アクセス。

<DocTiles numbered>
  <DocTile title="Overview of Cloud Cost Intelligence - AWS" path="/docs/cci/get-started/aws/aws-cci" />

  <DocTile title="Automate AWS with CloudFormation" label={{text: 'You are here', color: '#FCD672'}} path="/docs/cci/get-started/aws/automated-setup-cloudformation" />

  <DocTile title="Manually integrate your AWS account" path="/docs/cci/get-started/aws/manual-integrate-aws-account" />
</DocTiles>