---
title: アラートについてのREST APIコール
tags:
  - Alerts
  - REST API alerts
metaDescription: How to use the New Relic REST API Explorer to add and manage alerts.
freshnessValidatedDate: never
translationType: human
---

当社のREST APIは、New RelicのオリジナルAPIで、New Relicのアラート設定をプログラムで設定します（[当社の優先APIであるNerdGraphの詳細をご覧ください](/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/alerts-nerdgraph/nerdgraph-api-examples)）。

[REST APIエクスプローラー](/docs/apm/apis/api-explorer-v2/getting-started-new-relics-api-explorer)には、使用可能なAPIコールごとに`curl`リクエストフォーマット、使用可能なパラメーター、取りうるレスポンス状態コード、JSONレスポンス構造も含まれます。[UIでもアラート条件を作成](/docs/alerts/new-relic-alerts/defining-conditions/define-alert-conditions)できます。

## REST APIを使用する前に [#before-start]

REST APIを使用してアラートデータを管理する前に、 [<InlinePopover type="alerts" />のAPIの概要を](/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/alerts-api/intro-alerts-api)お読みください。

インフラストラクチャのアラートについては、\[REST API for infrastructure monitoring alerts]\(/docs/infrastructure/new-relic-infrastructure/infrastructure-alert-conditions/)を参照してください。

## REST APIで使用可能なデータと機能 [#data]

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        <DNT>**REST API functions**</DNT>
      </th>

      <th>
        <DNT>**Comments**</DNT>
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        アカウントデータを表示
      </td>

      <td>
        一般に、どの[ロール](/docs/accounts-partnerships/accounts/account-setup/users-roles)でも、<InlinePopover type="userKey" />または<DNT>**GET &gt; List**</DNT>関数を使用可能な[REST APIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)を使用してアラートデータを<DNT>**view**</DNT>閲覧することができます。アカウントの所有者と管理者は、自身のAPIキーを使用できます。

        リストの出力には[ページ番号](/docs/apis/rest-api-v2/requirements/pagination-api-output)が付けられることに注意してください。使用可能な機能：

        * [アラートポリシー](#policies-list)
        * [<InlinePopover type="apm" />、<InlinePopover type="browser" />、<InlinePopover type="mobile" />](#conditions-list)の条件（[複数の制限が適用されます）](#excluded)
        * [外部サービス](#ext-conditions-list)の条件
        * [合成モニタリング](#synthetics-conditions)の条件
        * [複数の場所における合成モニタリング](#multilocation-synthetics-conditions)の条件
        * NRQLの条件 （[いくつかの制限が適用されます。](#excluded)）
        * [イベント](#events)
        * [インシデント](#incidents)
        * [インシデント](#incidents)
      </td>
    </tr>

    <tr>
      <td>
        アカウントデータのメンテナンス
      </td>

      <td>
        <DNT>**POST &gt; Create**</DNT>、<DNT>**PUT &gt; Add**</DNT>、<DNT>**PUT &gt; Update**</DNT>、<DNT>**DELETE**</DNT>を含む任意のメンテナンス機能を使用するには、アカウントの所有者または管理者ロール<DNT>**and**</DNT>および[ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)を使用するか、<DNT>**or**</DNT>またはアラートを管理するためのアクセス許可を付与するカスタムロール<DNT>**and**</DNT>および[ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)が必要になります
      </td>
    </tr>
  </tbody>
</table>

## REST APIから除外される条件 [#excluded]

以下の条件には、APIで使用可能なエンドポイントはありません。

* APM：ウェブトランザクションパーセンタイル、条件ターゲティングラベル、異常
* NRQL：異常

## アラートポリシー

これらのAPI関数には、[ポリシー](/docs/alerts/new-relic-alerts-beta/getting-started/best-practices-alert-policies)を簡単に作成、削除、リストすることができるAPIエクスプローラーへのリンクが含まれます。

<Callout variant="important">
  お客様の組織がEUデータセンターでデータをホストする場合は、適切な[EU地域アカウント向けAPIエンドポイント](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints)を使用していることを確認してください。
</Callout>

<CollapserGroup>
  <Collapser id="policies-create" title="新しいポリシーを作成する">
    新しいポリシーを追加するには、[ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)を使用して、APIコールに以下の2つの値を含めます。

    <table>
      <thead>
        <tr>
          <th style={{ width: "230px" }}>
            <DNT>**Required values**</DNT>
          </th>

          <th>
            <DNT>**Definition**</DNT>
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            インシデント `incident_preference`
          </td>

          <td>
            アラートが[インシデントを作成する](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents)方法を決めます。以下のいずれかの方法で行う必要があります。

            * `PER_POLICY` （デフォルト）：[ポリシー](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents#preference-policy)別のロールアップ。
            * `PER_CONDITION`：[条件](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents#preference-condition)別のロールアップ。
            * `PER_CONDITION_AND_TARGET`：[ターゲットと条件](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents#preference-target)別のロールアップ。
          </td>
        </tr>

        <tr>
          <td>
            [ポリシー `name`](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/name-or-rename-alert-policy)
          </td>

          <td>
            ポリシー`name`は必須です。変更しないままにすると、string（文字列）というポリシーが作成されます。
          </td>
        </tr>
      </tbody>
    </table>

    <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_policies/create) &amp;gt; Alerts Policies &amp;gt; POST &amp;gt; Create**</DNT>

    ```
    curl -X POST 'https://api.newrelic.com/v2/alerts_policies.json' \
         -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "policy": {
        "incident_preference": "string",
        "name": "string"
      }
    }'
    ```
  </Collapser>

  <Collapser id="policies-update" title="ポリシーを更新する">
    このAPIを使用して、既存のポリシーの`name`と`incident_preference`を更新します。[ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)が必要になります。

    <table>
      <thead>
        <tr>
          <th style={{ width: "230px" }}>
            <DNT>**Required values**</DNT>
          </th>

          <th>
            <DNT>**Definition**</DNT>
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `id`
          </td>

          <td>
            必須。ポリシーのIDを確認するには、以下のオプションのいずれかを使用します。

            * UIから：ポリシーのUIページで、ポリシー名の下にあるIDを検索します。
            * APIを使用する場合：[リストポリシーAPI](/docs/alerts/rest-api-alerts/new-relic-alerts-rest-api/rest-api-calls-new-relic-alerts#policies-list)を使用します。
          </td>
        </tr>

        <tr>
          <td>
            インシデント `incident_preference`
          </td>

          <td>
            アラートが[インシデントを作成する](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents)方法を決めます。以下のいずれかの方法で行う必要があります。

            * `PER_POLICY` （デフォルト）：[ポリシー](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents#preference-policy)別のロールアップ。
            * `PER_CONDITION`：[条件](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents#preference-condition)別のロールアップ。
            * `PER_CONDITION_AND_TARGET`：[ターゲットと条件](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents#preference-target)別のロールアップ。
          </td>
        </tr>

        <tr>
          <td>
            [ポリシー `name`](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/name-or-rename-alert-policy)
          </td>

          <td>
            <DNT>**Required.**</DNT> 名前を変更しない場合は、stringというポリシーにデフォルト設定されます。

            [List policies API](/docs/alerts/rest-api-alerts/new-relic-alerts-rest-api/rest-api-calls-new-relic-alerts#policies-list)を使用して、ポリシーの正確な名前を確認します。
          </td>
        </tr>
      </tbody>
    </table>

    <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_policies/create) &amp;gt; Alerts Policies &amp;gt; PUT &amp;gt; Update**</DNT>

    ```
    curl -X PUT 'https://api.newrelic.com/v2/alerts_policies/{id}.json' \
         -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "policy": {
        "incident_preference": "string",
        "name": "string"
      }
    }'
    ```
  </Collapser>

  <Collapser id="policies-delete" title="既存のポリシーを削除する">
    既存のポリシーを削除するには、[ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)を使用して、`policy_id`（<DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_policies/list) &amp;gt; Alerts Policies &amp;gt; GET &amp;gt; List**</DNT>から入手可能）をAPIコールに含めます。

    <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_policies/delete) &amp;gt; Alerts Policies &amp;gt; DELETE &amp;gt; Delete**</DNT>

    ```
    curl -X DELETE 'https://api.newrelic.com/v2/alerts_policies/$POLICY_ID.json' \
         -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i
    ```
  </Collapser>

  <Collapser id="policies-list" title="既存のポリシーをリストする">
    アカウントの既存ポリシーのリストを表示するには、[ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)を使用して以下のオプションの値をAPIコールに含めます。

    * オプションのポリシー`name`フィルター

    * オプションの[ページ番号付け](/docs/apis/rest-api-v2/requirements/pagination-api-output)の値

      <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_policies/list) &amp;gt; Alerts Policies &amp;gt; GET &amp;gt; List**</DNT>

      ```
      curl -X GET 'https://api.newrelic.com/v2/alerts_policies.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i
      ```
  </Collapser>
</CollapserGroup>

## APM、ブラウザ、モバイルの条件 [#conditions]

このAPI関数には、ポリシーの[条件](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions)を簡単に作成、更新、削除、リストできるAPIエクスプローラーへのリンクが含まれます。こうしたコールは、以下のタイプのエンティティ向け条件となります：

* APM：アプリとキートランザクション
* Browser：アプリとキートランザクション
* Mobile：モバイルアプリ

<DNT>**Exception:**</DNT> 次のAPMの条件は、このAPIエンドポイントからは<DNT>**not available**</DNT>取得できません。

* 条件ターゲティングラベル（ダイナミックターゲティング）
* ウェブトランザクションのパーセンタイル条件
* 異常条件

<Callout variant="important">
  APIエクスプローラーは、[外部サービス](#ext-services-conditions)（APMおよびモバイル）や[外形監視](#)など、<DNT>**separate endpoints**</DNT>個別のエンドポイントを使用して他のタイプの条件に関する情報を提供します。検索または更新中にすべてのタイプのアラート条件を考慮します。アカウントがEUデータセンターでデータをホストする場合は、適切な[EUリージョンアカウント向けAPIエンドポイント](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints)を使用していることを確認してください。
</Callout>

<CollapserGroup>
  <Collapser id="conditions-create" title="ポリシーの条件を作成する">
    ポリシーに条件を追加するには、以下の値をAPIコールに含めます：

    * ご利用の<InlinePopover type="userKey" />

    * `policy_id`（<DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_policies/list) &amp;gt; Alerts Policies &amp;gt; GET &amp;gt; List**</DNT>から入手可能）

    * APIコールで必須とされる`condition`値（APIエクスプローラーページと[アラート条件のAPI用語集](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names)で説明されています）

      <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_conditions/create) &amp;gt; Alerts Conditions &amp;gt; POST &amp;gt; Create**</DNT>

      ```
      curl -X POST 'https://api.newrelic.com/v2/alerts_conditions/policies/$POLICY_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "condition": {
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#type">type</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean,
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#entities">entities</a>": [
            integer
          ],
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#metric">metric</a>": "string",
          "gc_metric": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#condition-scope">condition_scope</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#violation_close_timer">violation_close_timer</a>": integer,
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
          "terms": [
            {
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_duration">duration</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_operator">operator</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_priority">priority</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_threshold">threshold</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_time_function">time_function</a>": "string"
            }
          ],
          "user_defined": {
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#user_defined_metric">metric</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#user_defined_value_function">value_function</a>": "string"
          }
        }
      }'
      ```

      JSONレスポンスは、条件の更新や削除に必要な条件`id`を返します。条件`id`は<DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_conditions/list) &amp;gt; Alerts Conditions &amp;gt; GET &amp;gt; List**</DNT>からも表示できます。
  </Collapser>

  <Collapser id="conditions-update" title="ポリシーの条件を更新する">
    ポリシーの条件を更新するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * 条件`id`（<DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_condition/list) &amp;gt; Alerts Conditions &amp;gt; GET &amp;gt; List**</DNT>から入手可能）

    * APIコールで必須とされる`condition`値（APIエクスプローラーページと[アラート条件のAPI用語集](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names)で説明されています）

      <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_conditions/update) &amp;gt; Alerts Conditions &amp;gt; PUT &amp;gt; Update**</DNT>

      ```
      curl -X PUT 'https://api.newrelic.com/v2/alerts_conditions/$CONDITION_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "condition": {
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#type">type</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean,
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#entities">entities</a>": [
            integer
          ],
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#metric">metric</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#metric">metric</a>": "string",
          "gc_metric": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#condition-scope">condition_scope</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#violation_close_timer">violation_close_timer</a>": integer,
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
          "terms": [
            {
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_duration">duration</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_operator">operator</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_priority">priority</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_threshold">threshold</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_time_function">time_function</a>": "string"
            }
          ],
          "user_defined": {
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#user_defined_metric">metric</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#user_defined_value_function">value_function</a>": "string"
          }
        }
      }'
      ```
  </Collapser>

  <Collapser id="conditions-delete" title="ポリシーから条件を削除する">
    ポリシーから条件を削除するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * `condition_id`（<DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_conditions/list) &amp;gt; Alerts Conditions &amp;gt; GET &amp;gt; List**</DNT>から入手可能）

      <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_conditions/update) &amp;gt; Alerts Conditions &amp;gt; DELETE &amp;gt; Delete**</DNT>

      ```
      curl -X DELETE 'https://api.newrelic.com/v2/alerts_conditions/$CONDITION_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i
      ```
  </Collapser>

  <Collapser id="conditions-list" title="ポリシーの既存の条件をリストする">
    ご利用のポリシーについて既存条件の一覧を表示するには、[REST APIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)、およびAPIコールの関連[`policy_id`](#policies-list)を使用します。

    <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_conditions/list) &amp;gt; Alerts Conditions &amp;gt; GET &amp;gt; List**</DNT>

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_conditions.json?policy_id=$POLICY_ID' \
         -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i
    ```
  </Collapser>
</CollapserGroup>

## NRQLの条件 [#conditions-nrql]

このAPI関数には、ポリシーのNRQL[条件](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions)を簡単に作成、更新、削除、リストできるAPIエクスプローラーへのリンクが含まれます。

<DNT>**Exception:**</DNT> NRQL異常の条件は、このエンドポイントからは<DNT>**not available**</DNT>入手できません。

<Callout variant="important">
  お客様の組織がEUデータセンターでデータをホストする場合は、適切な[EU地域アカウント向けAPIエンドポイント](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints)を使用していることを確認してください。
</Callout>

<CollapserGroup>
  <Collapser id="create-nrql-conditions" title="ポリシーのNRQL条件を作成する">
    推奨事項：NRQLデータのストリーミング方法に応じて、`aggregation_method`を`EVENT_FLOW`に設定し、`aggregation_window`には`60`、`aggregation_delay`には`120`のデフォルト設定を使用します。`EVENT_FLOW`は、ほとんどの使用例で機能しますが、どの使用例が`EVENT_TIMER`に適しているかについては [「どの集計方法を使用するか」](https://discuss.newrelic.com/t/relic-solution-how-can-i-figure-out-which-aggregation-method-to-use/164288)を参照してください。

    <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_nrql_conditions/create) &amp;gt; Alerts NRQL Conditions &amp;gt; POST &amp;gt; Create**</DNT>

    ポリシーのNRQL条件を作成する：

    ```
    curl -X POST 'https://api.newrelic.com/v2/alerts_nrql_conditions/policies/$POLICY_ID.json' \
         -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "nrql_condition": {
        "type": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean,
        "terms": [
          {
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_duration">duration</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_operator">operator</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_priority">priority</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_threshold">threshold</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_time_function">time_function</a>": "string"
          }
        ],
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#user_defined_value_function">value_function</a>": "string",
        "nrql": {
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#nrql-query">query</a>": "string"
        },
        "signal": {
    	  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#signal_aggregation_window">aggregation_window</a>": "string",
    	  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#signal_slide_by">slide_by</a>": "integer",
    	  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#signal_aggregation_method">aggregation_method</a>": "string",
    	  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#signal_aggregation_delay">aggregation_delay</a>": integer,
    	  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#signal_aggregation_timer">aggregation_timer</a>": integer,
    	  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#fill_option">fill_option</a>": "string",
    	  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#fill_value">fill_value</a>": "string"
        },
        "expiration": {
    	  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#expiration_duration">expiration_duration</a>": "string",
    	  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#expiration_duration">open_violation_on_expiration</a>": boolean,
    	  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#expiration_duration">close_violations_on_expiration</a>": boolean
        }
      }
    }'
    ```

    `type`を除外するか`static`と設定すると、標準的なNRQLアラートにデフォルト設定されます。
  </Collapser>

  <Collapser id="update-nrql-conditions" title="ポリシーのNRQL条件を更新する">
    ポリシーのNRQL条件を更新するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * 条件の`id`（[APIエクスプローラー<Icon name="fe-external-link" />](https://rpm.newrelic.com/api/explore/alerts_nrql_conditions/list) <DNT>**Alerts NRQL Conditions &gt; GET &gt; List**</DNT>から入手可能）

    * APIコールで必須とされる`condition`値（APIエクスプローラーページと[アラート条件のAPI用語集](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names)で説明されています）

      <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_nrql_conditions/update) &amp;gt; Alerts NRQL Conditions &amp;gt; PUT &amp;gt; Update**</DNT>

      ```
      curl -X PUT 'https://api.newrelic.com/v2/alerts_nrql_conditions/$CONDITION_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "nrql_condition": {
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean,
          "terms": [
            {
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_duration">duration</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_operator">operator</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_priority">priority</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_threshold">threshold</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_time_function">time_function</a>": "string"
            }
          ],
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#user_defined_value_function">value_function</a>": "string",
          "nrql": {
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#nrql-query">query</a>": "string"
          }
        }
      }'
      ```
  </Collapser>

  <Collapser id="delete-nrql-conditions" title="ポリシーのNRQL条件を削除する">
    ポリシーからNRQL条件を削除するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * 条件の`id`（[APIエクスプローラー<Icon name="fe-external-link" />](https://rpm.newrelic.com/api/explore/alerts_nrql_conditions/list) <DNT>**Alerts NRQL Conditions &gt; GET &gt; List**</DNT>から入手可能）

      <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_nrql_conditions/delete) &amp;gt; Alerts NRQL Conditions &amp;gt; DELETE &amp;gt; Delete**</DNT>

      ```
      curl -X DELETE 'https://api.newrelic.com/v2/alerts_nrql_conditions/$CONDITION_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i
      ```
  </Collapser>

  <Collapser id="list-nrql-conditions" title="ポリシーの既存のNRQL条件をリストする">
    ご利用のアラートポリシーについて既存条件の一覧を表示するには、[REST APIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)、およびAPIコールの関連[`policy_id`](#policies-list)を使用します。

    <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_nrql_conditions/list) &amp;gt; Alerts NRQL Conditions &amp;gt; GET &amp;gt; List**</DNT>

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_nrql_conditions.json' \
         -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
         -d 'policy_id=$POLICY_ID'
    ```
  </Collapser>
</CollapserGroup>

## 外部サービスの条件 [#ext-services-conditions]

このAPI関数には、ポリシーの[条件](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions)を簡単に作成、更新、削除、リストできるAPIエクスプローラーへのリンクが含まれます。以下のコールは外部サービスの条件です。APIコールは、<InlinePopover type="apm" />およびモバイル監視アプリで使用できます。

<Callout variant="important">
  お客様の組織がEUデータセンターでデータをホストする場合は、適切な[EU地域アカウント向けAPIエンドポイント](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints)を使用していることを確認してください。
</Callout>

<CollapserGroup>
  <Collapser id="ext-conditions-create" title="外部サービス：ポリシーの条件を作成する">
    APMまたはモバイルモニタリングアプリを有するポリシーの外部サービスに条件を追加するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * `policy_id`（<DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_policies/list) &amp;gt; Alerts Policies &amp;gt; GET &amp;gt; List**</DNT>から入手可能）

    * APIコールで必須とされる`external_service_condition`値（APIエクスプローラーページと[アラート条件のAPI用語集](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names)で説明されています）

      <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_external_service_conditions/create) &amp;gt; Alerts External Service Conditions &amp;gt; POST &amp;gt; Create**</DNT>

      ```
      curl -X POST 'https://api.newrelic.com/v2/alerts_external_service_conditions/policies/$POLICY_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "external_service_condition": {
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#type">type</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean,
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#entities">entities</a>": [
            integer
          ],
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#external_service_url">external_service_url</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#metric">metric</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
          "terms": [
            {
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_duration">duration</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_operator">operator</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_priority">priority</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_threshold">threshold</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_time_function">time_function</a>": "string"
            }
          ]
        }
      }'
      ```

      JSONレスポンスは、条件の更新や削除に必要な条件`id`を返します。条件`id`は<DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_external_service_conditions/list) &amp;gt; Alerts External Service Conditions &amp;gt; GET &amp;gt; List**</DNT>からも表示できます。
  </Collapser>

  <Collapser id="ext-conditions-update" title="外部サービス：ポリシーの条件を更新する">
    APMまたはモバイルモニタリングアプリを有するポリシーの外部サービスの条件を更新するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * 外部サービス条件の`id`（<DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_external_service_conditions/list) &amp;gt; Alerts External Service Conditions &amp;gt; GET &amp;gt; List**</DNT>から入手可能）

    * APIコールで必須とされる`external_service_condition`値（APIエクスプローラーページと[アラート条件のAPI用語集](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names)で説明されています）

      <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_external_service_conditions/update) &amp;gt; Alerts External Service Conditions &amp;gt; PUT &amp;gt; Update**</DNT>

      ```
      curl -X PUT 'https://api.newrelic.com/v2/alerts_external_service_conditions/$CONDITION_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "external_service_condition": {
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#type">type</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean,
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#entities">entities</a>": [
            integer
          ],
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#external_service_url">external_service_url</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#metric">metric</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
          "terms": [
            {
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_duration">duration</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_operator">operator</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_priority">priority</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_threshold">threshold</a>": "string",
              "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_time_function">time_function</a>": "string"
            }
          ]
        }
      }'
      ```
  </Collapser>

  <Collapser id="ext-conditions-delete" title="外部サービス：条件をポリシーから削除する">
    APMまたはモバイルモニタリングアプリを有するポリシーの外部サービスの条件を削除するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * `condition_id`（<DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_conditions/list) &amp;gt; Alerts External Service Conditions &amp;gt; GET &amp;gt; List**</DNT>から入手可能）

      <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_external_service_conditions/delete) &amp;gt; Alerts External Service Conditions &amp;gt; DELETE &amp;gt; Delete**</DNT>

      ```
      curl -X DELETE 'https://api.newrelic.com/v2/alerts_external_service_conditions/$CONDITION_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i
      ```
  </Collapser>

  <Collapser id="ext-conditions-list" title="外部サービス：ポリシーの既存の条件をリストアップする">
    外部サービスアプリ（APMまたはモバイルモニタリング）を持つポリシーの既存条件の一覧を表示するには、[ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)または[REST APIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)、およびAPIコールの関連[`policy_id`](#policies-list)を使用します。

    <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_external_service_conditions/list) &amp;gt; Alerts External Service Conditions &amp;gt; GET &amp;gt; List**</DNT>

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_external_service_conditions.json' \
         -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
         -d 'policy_id=$POLICY_ID'
    ```
  </Collapser>
</CollapserGroup>

## 合成モニタリングの条件 [#synthetics-conditions]

以下のAPI関数には、アラートポリシーの[条件](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions)を簡単に作成、更新、削除、リストできるAPIエクスプローラーへのリンクが含まれます。APIコールは、合成モニタリングと共に使用できます。

<CollapserGroup>
  <Collapser id="synthetics-conditions-create" title="合成モニタリング：ポリシーの条件を作成する">
    合成モニタリングのポリシーに条件を追加するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * `policy_id`（<DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_policies/list) &amp;gt; Alerts Policies &amp;gt; GET &amp;gt; List**</DNT>から入手可能）

    * APIコールで必須とされる`synthetics_condition`値（APIエクスプローラーページと[アラート条件のAPI用語集](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names)で説明されています）

      <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/create) &amp;gt; Alerts Synthetics Conditions &amp;gt; POST &amp;gt; Create**</DNT>

      ```
      curl -X POST 'https://api.newrelic.com/v2/alerts_synthetics_conditions/policies/$POLICY_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "synthetics_condition": {
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#monitor_id">monitor_id</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean
        }
      }'
      ```

      JSONレスポンスは、条件の更新や削除に必要な条件`id`を返します。条件`id`は<DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/list) &amp;gt; Alerts Synthetics Conditions &amp;gt; GET &amp;gt; List**</DNT>からも表示できます。
  </Collapser>

  <Collapser id="synthetics-conditions-update" title="Syntheticモニタリング：ポリシーの条件を更新する">
    合成モニタリングのポリシーの条件を更新するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * 条件`id`（<DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/list) &amp;gt; Alerts Synthetics Conditions &amp;gt; GET &amp;gt; List**</DNT>から入手可能）

    * APIコールで必須とされる`synthetics_condition`値（[synthetics用のアラート条件の作成](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/create)のためのAPIエクスプローラーページと[アラート条件のAPI用語集](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names)で説明されています）

      <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/update) &amp;gt; Alerts Synthetics Conditions &amp;gt; PUT &amp;gt; Update**</DNT>

      ```
      curl -X PUT 'https://api.newrelic.com/v2/alerts_synthetics_conditions/$CONDITION_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "synthetics_condition": {
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#monitor_id">monitor_id</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean
        }
      }'
      ```
  </Collapser>

  <Collapser id="synthetics-conditions-delete" title="Syntheticモニタリング：条件をポリシーから削除する">
    合成モニタリングのポリシーの条件を削除するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * `condition_id`（<DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/list) &amp;gt; Alerts Synthetics Conditions &amp;gt; GET &amp;gt; List**</DNT>から入手可能）

      <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/delete) &amp;gt; Alerts Synthetics Conditions &amp;gt; DELETE &amp;gt; Delete**</DNT>

      ```
      curl -X DELETE 'https://api.newrelic.com/v2/alerts_synthetics_conditions/$CONDITION_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i
      ```
  </Collapser>

  <Collapser id="synthetics-conditions-list" title="Syntheticモニタリング：ポリシーの既存の条件をリストする">
    合成モニタリングの既存のポリシー条件一覧を表示するには、[ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)または[REST APIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)、およびAPIコールの関連[`policy_id`](#policies-list)を使用します。

    <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/list) &amp;gt; Alerts Synthetics Conditions &amp;gt; GET &amp;gt; List**</DNT>

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_synthetics_conditions.json' \
         -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
         -d 'policy_id=$POLICY_ID'
    ```
  </Collapser>
</CollapserGroup>

## 複数の場所における合成モニタリングの条件 [#multilocation-synthetics-conditions]

以下のAPI関数には、アラートポリシーの[条件](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions)を簡単に作成、更新、削除、リストできるAPIエクスプローラーへのリンクが含まれます。APIコールは、合成モニタリングを使用して複数場所の条件に使用できます。条件を作成または更新する前に、[複数場所のアラート条件のルール](/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/advanced-techniques/multi-location-synthetic-monitoring-alert-conditions/#rules)をお読みください。

<CollapserGroup>
  <Collapser id="multilocation-synthetics-conditions-create" title="複数の場所における合成：ポリシーの条件を作成する">
    複数の場所における合成モニタリングのポリシーに条件を追加するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * `policy_id`（<DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_policies/list) &amp;gt; Alerts Policies &amp;gt; GET &amp;gt; List**</DNT>から入手可能）

    * APIコールで必須とされる`location_failure_condition`値（APIエクスプローラーページと[アラート条件のAPI用語集](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names)で説明されています）

      <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_location_failure_conditions/create) &amp;gt; Alerts Location Failure Conditions &amp;gt; POST &amp;gt; Create**</DNT>

      ```
      curl -X POST 'https://api.newrelic.com/v2/alerts_location_failure_conditions/policies/$POLICY_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "location_failure_condition": {
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean,
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#entities">entities</a>":
          [
              "string"
          ],
          "terms": [
              {
                  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#priority">priority</a>": "string",
                  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#threshold">threshold</a>": integer,
              }
          ],
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#violation_time_limit_seconds">violation_time_limit_seconds</a>": integer
        }
      }'
      ```

      JSONレスポンスは、条件の更新や削除に必要な条件`id`を返します。条件`id`は<DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_location_failure_conditions/list) &amp;gt; Alerts Location Failure Conditions &amp;gt; GET &amp;gt; List**</DNT>からも表示できます。
  </Collapser>

  <Collapser id="multilocation-synthetics-conditions-update" title="複数の場所における合成：ポリシーの条件を更新する">
    複数の場所における合成モニタリングのポリシーの条件を更新するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * 条件`id`（<DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_location_failure_conditions/list) &amp;gt; Alerts Location Failure Conditions &amp;gt; GET &amp;gt; List**</DNT>から入手可能）

    * APIコールで必須とされる`location_failure_condition`値（APIエクスプローラーページと[アラート条件のAPI用語集](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names)で説明されています）

      <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_location_failure_conditions/update) &amp;gt; Alerts Location Failure Conditions &amp;gt; PUT &amp;gt; Update**</DNT>

      ```
      curl -X PUT 'https://api.newrelic.com/v2/alerts_location_failure_conditions/$CONDITION_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
           -H 'Content-Type: application/json' \
           -d \
      '{
        "location_failure_condition": {
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean,
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#entities">entities</a>":
          [
              "string"
          ],
          "terms": [
              {
                  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#priority">priority</a>": "string",
                  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#threshold">threshold</a>": integer,
              }
          ],
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#violation_time_limit_seconds">violation_time_limit_seconds</a>": integer
        }
      }'
      ```
  </Collapser>

  <Collapser id="multilocation-synthetics-conditions-delete" title="複数の場所における合成：ポリシーの条件を削除する">
    複数の場所における合成モニタリングのポリシーの条件を削除するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * `condition_id`（<DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_location_failure_conditions/list) &amp;gt; Alerts Location Failure Conditions &amp;gt; GET &amp;gt; List**</DNT>から入手可能）

      <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_location_failure_conditions/delete) &amp;gt; Alerts Location Failure Conditions &amp;gt; DELETE &amp;gt; Delete**</DNT>

      ```
      curl -X DELETE 'https://api.newrelic.com/v2/alerts_location_failure_conditions/$CONDITION_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i
      ```
  </Collapser>

  <Collapser id="multilocation-synthetics-conditions-list" title="複数の場所における合成：ポリシーの既存の条件をリストアップする">
    複数の場所における合成モニタリングの既存のポリシー条件一覧を表示するには、[ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)または[REST APIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)、およびAPIコールの関連[`policy_id`](#policies-list)を使用します。

    <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_location_failure_conditions/list) &amp;gt; Alerts Location Failure Conditions &amp;gt; GET &amp;gt; List**</DNT>

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_location_failure_conditions/policies/$POLICY_ID.json' \
         -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i
    ```
  </Collapser>
</CollapserGroup>

## アラートエンティティ条件

こうしたAPI関数には、アラートポリシーに対する条件のエンティティをリスト、追加、削除できるAPIエクスプローラーへのリンクが含まれます。

<Callout variant="important">
  お客様の組織がEUデータセンターでデータをホストする場合は、適切な[EU地域アカウント向けAPIエンドポイント](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints)を使用していることを確認してください。
</Callout>

<CollapserGroup>
  <Collapser id="list-condition-by-entity" title="エンティティ別に条件をリストする">
    APM、ブラウザ、モバイル、キートランザクションにおいて、[エンティティ](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity)に適用される[条件](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-condition)を表示するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)または[REST APIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)

    * `entity_id`は監視対象の特定の[エンティティ（アラートターゲット）](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity)です。

    * `entity_type`は、次のいずれかである必要があります：

      * アプリケーション
      * ブラウザアプリケーション
      * モバイルアプリケーション
      * キートランザクション

      <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_entity_conditions/list) &amp;gt; Alerts Entity Conditions &amp;gt; GET &amp;gt; list**</DNT>

      ```
      curl -X GET 'https://api.newrelic.com/v2/alerts_entity_conditions/$ENTITY_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
           -G -d 'entity_type=$ENTITY_TYPE'
      ```
  </Collapser>

  <Collapser id="add-entity" title="条件にエンティティを追加する">
    条件に[エンティティ](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity)を追加するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * `entity_id`は監視対象の[エンティティ（アラートターゲット）](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity)です。APMアプリケーション、ブラウザアプリ、キートランザクション、モバイルアプリの数値IDです。

    * `condition_id`（<DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_conditions/list) &amp;gt; Alerts Conditions &amp;gt; GET &amp;gt; List**</DNT>から入手可能）

    * `entity_type`は、次のいずれかである必要があります：

      * アプリケーション
      * ブラウザアプリケーション
      * モバイルアプリケーション
      * キートランザクション

      <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_entity_conditions/add) &amp;gt; Alerts Entity Conditions &amp;gt; PUT &amp;gt; Add**</DNT>

      ```
      curl -X PUT 'https://api.newrelic.com/v2/alerts_entity_conditions/$ENTITY_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
           -H 'Content-Type: application/json' \
           -G -d 'entity_type=$ENTITY_TYPE&condition_id=$CONDITION_ID'
      ```
  </Collapser>

  <Collapser id="remove_entity" title="エンティティを条件から削除する">
    監視している[エンティティ](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity)を条件から削除するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * `entity_id`は削除されることになる特定の監視対象[エンティティ（アラートターゲット）](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity)です。APMアプリケーション、ブラウザアプリ、キートランザクション、モバイルアプリの数値IDです。

    * `condition_id`（<DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_conditions/list) &amp;gt; Alerts Conditions &amp;gt; GET &amp;gt; List**</DNT>から入手可能）

    * `entity_type`は、次のいずれかである必要があります：

      * アプリケーション
      * ブラウザアプリケーション
      * モバイルアプリケーション
      * キートランザクション

      <DNT>**[API Explorer](https://rpm.newrelic.com/api/explore/alerts_entity_conditions/remove) &amp;gt; Alerts Entity Conditions &amp;gt; DELETE &amp;gt; Remove**</DNT>

      ```
      curl -X DELETE 'https://api.newrelic.com/v2/alerts_entity_conditions/$ENTITY_ID.json' \
           -H "X-Api-Key:<a href='/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key'>$API_KEY</a>" -i \
           -G -d 'entity_type=$ENTITY_ID&condition_id=$CONDITION_ID'
      ```
  </Collapser>
</CollapserGroup>