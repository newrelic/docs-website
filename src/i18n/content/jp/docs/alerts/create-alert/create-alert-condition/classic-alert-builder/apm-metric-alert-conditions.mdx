---
title: APMおよびブラウザ監視メトリクスのアラート条件
tags:
  - Alerts
  - Alert conditions
metaDescription: How to create NRQL alert conditions for APM and browser monitoring metrics.
freshnessValidatedDate: never
translationType: machine
---

New Relic <InlinePopover type="apm"/>および <InlinePopover type="browser"/>メトリクスのアラート条件を作成するにはさまざまな方法がありますが、 NRQLを使用することをお勧めします。 NRQL アラート条件を使用すると、追加の制御、検出時間の改善、すべてのデータ タイプにわたる一貫性が実現します。

2021年に、New Relic全体でチャートとクエリからNRQLアラート条件をより簡単に作成できるようになりました。NRQLを使用してAPMの外部サービス条件を作成する方法例については、下を参照してください。

APMとブラウザ監視メトリクスのアラート条件の設定は2つのプロセスからなります。最初に、エンティティを識別してから、NRQL条件を作成する必要があります。

## APM条件の例

ここでは、APMがモニタリングするアプリの条件の設定方法を説明します。

### 最初に：エンティティの識別 [#identity-entity]

まず、アラート条件を設定するエンティティを特定します。

1. ツールバーの<DNT>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > APM**</DNT>に移動します。

2. アラートを作成するサービスを探します。

3. サービスをクリックします。

4. 左側のナビゲーション ペインで、 <DNT>**External services**</DNT>をクリックします。

5. <DNT>**Top 20 external services**</DNT>の下で、必要なサービスを見つけてクリックします。

   <img
     title="top-twenty.png"
     alt="Screen capture showing the list of the top 20 external services to choose from."
     src="/images/accounts_screenshot-full_top-twenty.webp"
   />

6. ページの右側に、 <DNT>**Response time**</DNT>と<DNT>**External calls per minute**</DNT> (平均値) のグラフが表示されているので、これら 2 つのオプションのどちらを集計するかを決定します。

7. 選択したグラフの右上隅にある省略記号アイコン<DNT>**...**</DNT>をクリックし、 <DNT>**Create alert condition**</DNT>を選択します。

   <Callout variant="tip">
     省略記号アイコン<DNT>**...**</DNT>が表示されない場合は、ページ上部の<DNT>**Show new view**</DNT>オプションが有効になっていることを確認してください。
   </Callout>

   <img
     title="external_service_graph.png"
     alt="Screenshot showing the menu options."
     src="/images/accounts_screenshot-full_external-service-graph.webp"
   />

8. これによってNRQLアラート条件ビルダでモードが起動され、クエリが事前入力されます。

   * レスポンスタイムを選択すると、クエリは次のようになります。

     <img
       title="response_time_query.png"
       alt="Example showing a query for response time."
       src="/images/accounts_screenshot-full_response-time-query.webp"
     />

   * 毎分の外部呼び出し数を選択すると、クエリは次のようになります。

     <img
       title="external-calls-query.png"
       alt="Example show an external calls query."
       src="/images/accounts_screenshot-full_external-calls-query.webp"
     />

条件ビルダーにクエリが事前入力されていると、続いてNRQLアラート条件を作成できます。

### 次に：NRQLアラート条件の作成 [#create-condition]

モーダルで、以下を完了させます。

1. 条件名を入力します。

2. <DNT>**Define your signal**</DNT>では、NRQL クエリ構文が有効になるように、 `LIMIT` 、 `SINCE...AGO` 、および`TIMESERIES`句が削除されていることを確認します。

   <Callout variant="tip">
     結果が返されない場合は、モーダルの左上隅の現在のアカウントを見て、正しいアカウントであることを確認します。正しくない場合は、モーダルをクローズし、ページ左上隅のアカウントピッカーで正しいアカウントが選択されていることをダブルチェックします。
   </Callout>

   <img
     title="nrql_condition_builder_modal.png"
     alt="Screenshot showing you the NRQL alert condition builder pre-populated with your query."
     src="/images/accounts_screenshot-full_nrql-condition-builder-modal.webp"
   />

3. 残りのフィールドに入力し、フォームの下部近くでポリシーを選択または作成して、条件を保存します。

オプション：[APMメトリックタイムスライスデータをNRQLでクエリする方法](/docs/query-your-data/nrql-new-relic-query-language/nrql-query-tutorials/query-apm-metric-timeslice-data-nrql#timeslice-conversion)を参照してください。
