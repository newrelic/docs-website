---
title: クロスアカウントアラート
tags:
  - Alerts
  - Alert conditions
metaDescription: 'Use the conditions page to identify what triggers an alert policy''s notification, starting with the product and type of metric or service.'
freshnessValidatedDate: never
translationType: human
---

New Relicのクロスアカウントアラートオプションを使用すると、アラートが設定されているアカウントとは異なるアカウントからのデータを監視するアラート条件を設定できます。この機能により、New Relic内の複数のアカウントにわたる依存関係をより柔軟に監視および管理できるようになります。

多くの組織では、さまざまなチームや部門がアプリケーションとインフラストラクチャに個別のNew Relicアカウントを使用している可能性があります。別のアカウントのエンティティまたはデータに対して直接責任がない場合でも、それが業務にとって重要である場合があります。たとえば、アプリケーションチームは、アプリケーションを実行しているが別のアカウントで管理されているホストに対してアラートを設定する必要がある場合があります。

これには次のようないくつかの利点があります。

* アクセスできる複数のアカウントにわたってアラートを**管理**し、関連するすべてのインシデントと問題を統合ビューで提供します。
* 機密アカウントへの書き込みおよび編集アクセスを**制限**し、複数のユーザーが直接管理していないアカウントに対する権限を持つ必要性を最小限に抑えます。
* 他のユーザーのデータソースとして機能するアカウント上の不要なアラートを減らして、アラート設定を**整理**します。
* アラート閾値の管理とガバナンスを適切なチームに**委任**し、アカウント所有者の負担を軽減します。
* 重要な依存関係が異なるNew Relicアカウントに存在する場合でも、タイムリーなアラートを**確実**に送信します。

## スタートガイド [#get-started]

クロスアカウントアラートの使用を開始する前に：

* まず、アカウント間のデータ共有を有効にする必要があります。これは現在、New Relic UIでアカウントごとにのみ実行されています。
* 組織管理者は、データ共有の切り替えを**オン**にすることができます。
* または、**クロスアカウント条件：データ共有アクセス制御**権限を持つカスタムロールを作成し、この機能をユーザーに割り当てることもできます。詳細については、[カスタムロールの作成](/docs/accounts/accounts-billing/new-relic-one-user-management/account-user-mgmt-tutorial/#roles/)を参照してください。

ユーザーに適切な役割と権限があることを確認したら、以下の手順に従って、他のアカウントが選択したアカウントのデータをクエリできるようにすることができます。

<Steps>
  <Step>
    [one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &amp;gt; <DNT>**Alerts**</DNT>に移動します。
  </Step>

  <Step>
    左側のナビゲーションメニューで、 <DNT>**General**</DNT>
  </Step>

  <Step>
    **Cross-accounts**に移動し、**Let other accounts query data from this account**を有効にします。
  </Step>

  <Step>
    **Save**をクリックします。
  </Step>
</Steps>

適切な役割と権限を持つユーザーが複数のアカウントを同時にオプトインまたはオプトアウトできるようにするAPIもあります。詳細については、[クロスアカウントアラート選択のAPI例](/docs/apis/nerdgraph/examples/nerdgraph-api-cross-account-alerting-elections)を参照してください。

データアカウントへの少なくとも読み取り専用アクセス権がある限り、組織内のどのアカウントからでもアラート条件とデータをクエリできます。

## クロスアカウントアラート条件を作成する

クロスアカウントアラートは次の方法で作成できます。

* **API**：条件ビルダーAPIの`dataAccountId`フィールドに、条件を適用するアカウント番号を入力します。詳細については、[NRQL条件](/docs/apis/nerdgraph/examples/nerdgraph-api-nrql-condition-alerts/#create-cross-account-alert)を参照してください。

  -または-

* **UI** : 条件ビルダー UIのクエリモードでは、最初のステップの一部としてドロップダウンが表示されます。このメニューには、新しいアラートでクエリを実行するためにアクセスできるアカウントが一覧表示されます。詳細については、[クエリモードを使用したアラート条件の作成](/docs/alerts/create-alert/create-alert-condition/alert-conditions/#advanced-signal-settings)を参照してください。

<Callout variant="tip">
  現時点では、エンティティ稼働ステータスは、クロスアカウントアラート条件の影響を受けません。
</Callout>

## クロスアカウントアラートのデータ共有を制限する

アカウントがデータの共有を停止すると（ **Let other accounts query data from this account**オプションが無効になっている）、次のようになります。

* 新しいアラート条件のクエリ先を選択するときに、アカウントがドロップダウンに表示されません。
* そのアカウントのデータを対象に以前に作成したアラート条件はすべて削除され、評価が停止します。その状態に関連するすべての履歴が削除されます。

## データの可視性

現在、この機能を使用する場合、アラート条件を所有するアカウントに対して少なくとも読み取りアクセス権を持つすべてのユーザーは、アカウント間のアラート条件情報を表示できます。このアクセスは、ユーザーが元のアカウントに対して`read`アクセス権を持っているかどうかに関係なく許可されます。ユーザーは以下を確認できます。

* 条件名と詳細（条件シグナル、ファセット名など）
* クロスアカウント条件に関連する問題とインシデント（シグナル、インシデントタイトルのファセット名などを含む）
* クロスアカウントアラート条件に関する通知を設定するワークフロー