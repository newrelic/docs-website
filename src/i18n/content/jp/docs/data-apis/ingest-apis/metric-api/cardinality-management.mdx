---
title: カーディナリティを管理する
metaDescription: You can manage your data cardinality from the New Relic UI.
freshnessValidatedDate: '2024-09-24T00:00:00.000Z'
translationType: machine
---

New Relic は、1 日あたりアカウントあたり 1,500 万カーディナリティの予算を提供します。各アカウントでは、それぞれのカーディナリティ バジェットが 100,000 の複数のメトリクスを保持できます。 メトリックのカーディナリティ使用量が制限に近づいた場合は、次の方法でカーディナリティを管理できます。

* 重要でない属性を削除するためのプルーニング ルールを作成します。
* メトリクスごとの予算を調整して、特定のメトリクスに対してより多くのプロパティを許可します。

<Callout variant="important">
  データのニーズに応じて、[アカウントのカーディナリティ バジェットを最大 2 億まで増やす](#additional-account-cardinality-budget-adjustment)こともできます。このオプションは、計算価格モデルの一部として[、Advanced 計算アドオン](/docs/accounts/accounts-billing/new-relic-one-pricing-billing/add-on-billing)でのみ利用できます。 デフォルトの予算を超えて使用される追加のカーディナリティに対して、高度な[CCU が](/docs/licenses/license-information/product-definitions/new-relic-one-pricing-definitions/#compute-capacity-unit)消費されます。
</Callout>

## プルーニングルールを作成する [#create-pruning-rule]

アカウントのカーディナリティを予算内で維持するための一般的な方法は、重要でない属性に対してプルーニング ルールを実装し、不要なデータを削除することです。プルーニング ルールを作成するには:

1. `Manage pruning rules: modify`権限があることを確認してください。この権限がない場合は、認証ドメイン マネージャーに問い合わせてください。

2. **<DNT>[one.newrelic.com](https://one.newrelic.com)</DNT> &gt; (ユーザー名をクリック) &gt; <DNT>Administration &gt; Cardinality Management</DNT>**に移動します。

3. **Metrics** \[メトリクス]表から、プルーニング ルールを作成するメトリクスを選択します。 メトリクスの**Cardinality Management** \[カーディナリティ管理]ページが開きます。

4. **Attributes** \[属性]テーブルに移動し、削除する属性を選択します。

   <img style={{ align: 'left', maxWidth: '90%' }} title="Screenshot showing how to select attributes for pruning rule" alt="Screenshot showing how to select attributes for pruning rule" src="/images/apis-and-data_screenshot-crop_select-attributes-for-pruning-rule.webp" />

5. <DNT>**Create pruning rule**</DNT>をクリックします。 ポップアップが表示され、プルーニング ルールがメトリクスのカーディナリティにどのように影響するかについての詳細が示されます。

<img style={{ align: 'left' }} title="Screenshot of page to name the pruning rule" alt="Screenshot of page to name the pruning rule" src="/images/apis-and-data_screenshot-crop_name-pruning-rule.webp" />

6. ルール名または説明を入力します。

7. <DNT>**Submit**</DNT>をクリックします。

<Callout variant="caution">
  プルーニングルールは直ちに有効になります。 ルールを作成する前に、データを削除する必要があることを確認してください。 プルーニング ルールは作成後に削除できますが、ルールによって削除される前に一部のデータがプルーニングされる可能性があります。
</Callout>

<CollapserGroup>
  <Collapser id="view-pruning-rules" title="剪定ルールを表示">
    アカウントに関連付けられたプルーニング ルールを表示するには:

    1. `Manage pruning rules: view`権限があることを確認してください。この権限がない場合は、認証ドメイン マネージャーに問い合わせてください。
    2. **<DNT>[one.newrelic.com](https://one.newrelic.com)</DNT> &gt; (ユーザー名をクリック) &gt; <DNT>Administration &gt; Cardinality Management</DNT>**に移動します。
    3. **Metrics** \[メトリクス]表で、 <DNT>**View Pruning Rules**</DNT>をクリックします。 アカウントに関連付けられているすべてのプルーニング ルールのスクロール可能なリストが表示されます。
  </Collapser>

  <Collapser id="delete-pruning-rule" title="プルーニングルールを削除する">
    プルーニング ルールを削除するには:

    1. `Manage pruning rules: modify`権限があることを確認してください。この権限がない場合は、認証ドメイン マネージャーに問い合わせてください。
    2. **<DNT>[one.newrelic.com](https://one.newrelic.com)</DNT> &gt; (ユーザー名をクリック) &gt; <DNT>Administration &gt; Cardinality Management</DNT>**に移動します。
    3. **Metrics** \[メトリクス]表から、 <DNT>**View Pruning Rules**</DNT>選択します。
    4. 関連するプルーニング ルールまでスクロールして削除します。
  </Collapser>
</CollapserGroup>

## メトリクスごとの予算を調整する [#per-metric-limit-adjustment]

特定のメトリクスのすべてのプロパティが重要であり、カーディナリティの予算に近づくと、ニーズに合わせてメトリクスごとの予算を調整できます。 通常、メトリクスのデフォルトの最大カーディナリティは 100,000 ですが、これをメトリクスあたり最大 100 万まで増やすことができます。

<Callout variant="tip">
  アカウント全体のカーディナリティ予算は変更されません。したがって、慎重に検討せずにすべてのメトリクス予算を 100 万に設定すると、アカウントのカーディナリティ容量がすぐに使い果たされる可能性があります。
</Callout>

メトリクスごとの予算を調整するには:

1. `Manage metric cardinality: modify`権限があることを確認してください。この権限がない場合は、認証ドメイン マネージャーに問い合わせてください。
2. **<DNT>[one.newrelic.com](https://one.newrelic.com)</DNT> &gt; (ユーザー名をクリック) &gt; <DNT>Administration &gt; Cardinality Management</DNT>**に移動します。
3. 予算を調整するメトリクスを選択します。 メトリクスの**Cardinality Management** \[カーディナリティ管理]ページが開きます。
4. <DNT>**Adjust metric budget**</DNT>をクリックします。
5. ニーズに合わせて予算を更新します。100 万以下であることを確認してください。

## 追加アカウントカーディナリティ予算を調整する [#additional-account-cardinality-budget-adjustment]

デフォルトのカーディナリティ バジェット 1,500 万はほとんどのユーザーにとって十分ですが、データのニーズに対応するにはより高いバジェットが必要になる場合があります。上限を設定すると、1,500 万のデフォルトのカーディナリティ バジェットを超えて生成した集計に対してのみ、設定した新しい制限まで課金されます。現在、アカウントのカーディナリティ予算を最大 2 億まで増やすことができます。より高い予算が必要な場合は、[サポート チケットを作成してください](https://one.newrelic.com/help-xp)。

### 前提条件 [#prerequisites]

アカウントのカーディナリティ バジェットを調整するには、次のものが必要です。

* [高度な計算アドオン](/docs/accounts/accounts-billing/new-relic-one-pricing-billing/add-on-billing)を購読しました。
* `Manage account cardinality: modify` および`Customer limits management: modify`権限。[これらの権限をカスタム ロールに追加する](#access-management)には、認証ドメイン マネージャーに問い合わせてください。

### 手順 [#steps]

アカウントのカーディナリティ バジェットを調整するには、次の手順を実行します。調整が有効になるまでに 15 ～ 20 分かかる場合があります。

1. <DNT>**Cardinality Management**</DNT>ページから<DNT>**Manage account cardinality**</DNT>をクリックします。

2. <DNT>**Manage account cardinality limit**</DNT>ポップアップから:

   1. スライダーを調整して、アカウントの新しいカーディナリティ バジェットを設定します。上限は2億です。
   2. チェックボックスをオンにして、追加のカーディナリティ取り込みに関連するコストに同意します。
   3. 変更を適用するには<DNT>**Adjust cardinality budget**</DNT>をクリックします。

<img title="Manage account cardinality limit" alt="Manage account cardinality limit" src="/images/adjust-account-cardinality.webp" />

<Callout variant="tip">
  <DNT>**Manage account cardinality limit**</DNT>ポップアップから変更履歴を表示して、アカウントの基数がいつ、どのユーザーによって調整されたかを追跡できます。
</Callout>

## 関連トピック [#related-topics]

<DocTiles>
  <DocTile title="モニターカーディナリティ" path="/docs/data-apis/ingest-apis/metric-api/monitor-cardinality">
    カーディナリティの使用状況を監視する方法を学習します。
  </DocTile>

  <DocTile title="高カーディナリティメトリクスの理解と照会" path="/docs/data-apis/ingest-apis/metric-api/NRQL-high-cardinality-metrics">
    カーディナリティの概念を理解し、 NRQLを使用して高いカーディナリティ メトリクスを作成および分析する方法を学びます。
  </DocTile>

  <DocTile title="アクセス管理" path="/docs/data-apis/ingest-apis/metric-api/cardinality-access-management">
    認証ドメイン マネージャーとして、ユーザーのカーディナリティ関連のアクセスを管理する方法を学習します。
  </DocTile>
</DocTiles>