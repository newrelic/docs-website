---
title: Azure Functions の環境変数 監視
metaDescription: Configure environment variables to monitor your Azure functions with New Relic
freshnessValidatedDate: never
tags:
  - Azure Functions
  - Environment Variables
  - Configuration
  - Secrets Management
translationType: machine
---

環境変数は、コードの外部に設定と秘密を保存する方法です。 次の表には、New Relic を使用してAzure Functions を監視するために設定できる必須変数とランタイム固有の変数が表示されます。

## 必須の環境変数

ランタイムに関係なく、Azure を使用して FunctionsNew Relic を監視するには、次の環境変数を設定する必要があります。

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        変数名
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `NEW_RELIC_ACCOUNT_ID`
      </td>

      <td>
        New RelicアカウントIDを指定します
      </td>
    </tr>

    <tr>
      <td>
        `NEW_RELIC_LICENSE_KEY`
      </td>

      <td>
        Secrets Manager を上書きして、New Relic の取り込みキーを指定します。
      </td>
    </tr>
  </tbody>
</table>

## 追加の環境変数

ランタイムに基づいて、次の環境変数を設定して、New Relic Azure Functions 監視をさらに構成できます。

<Tabs>
  <TabsBar>
    <TabsBarItem id="nodejs">Node.js</TabsBarItem> <TabsBarItem id="python">Python</TabsBarItem> <TabsBarItem id="net">.NET</TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="nodejs">
      <table>
        <thead>
          <tr>
            <th>
              環境変数
            </th>

            <th>
              デフォルト値
            </th>

            <th>
              オプション
            </th>

            <th>
              説明
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `NODE_OPTIONS`
            </td>

            <td />

            <td>
              `-r newrelic`
            </td>

            <td>
              **必須**

              : Azure アプリケーション関数が呼び出される前にエージェントを挿入します。
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_APP_NAME`
            </td>

            <td />

            <td />

            <td>
              アプリケーション名を設定します。これはNew Relic UIでは使用されません。
            </td>
          </tr>
        </tbody>
      </table>

      さらに多くの環境変数については[、Node.js 設定ドキュメント](/docs/apm/agents/nodejs-agent/installation-configuration/nodejs-agent-configuration/)をご覧ください。
    </TabsPageItem>

    <TabsPageItem id="python">
      <table>
        <thead>
          <tr>
            <th>
              環境変数
            </th>

            <th>
              デフォルト値
            </th>

            <th>
              オプション
            </th>

            <th>
              説明
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `NEW_RELIC_APP_NAME`
            </td>

            <td />

            <td />

            <td>
              アプリケーション名を設定します。これはNew Relic UIでは使用されません。
            </td>
          </tr>

          <tr>
            <td>
              `FUNCTIONS_WORKER_RUNTIME`
            </td>

            <td />

            <td>
              `"python"`
            </td>

            <td>
              値を

              `python`

              に設定します。
            </td>
          </tr>

          <tr>
            <td>
              `PYTHON_ENABLE_WORKER_EXTENSIONS`
            </td>

            <td />

            <td>
              `1`
            </td>

            <td>
              Python ワーカー拡張機能を有効にします。
            </td>
          </tr>

          <tr>
            <td>
              `PYTHONPATH`
            </td>

            <td />

            <td>
              `${PYTHONPATH}:/home/site/wwwroot:/home/site/wwwroot/.python_packages/lib/site-packages`
            </td>

            <td>
              ファイルを使用してインストールされたモジュールのインストレーション

              `requirements.txt`

               Pythonパスを、Azure Function App の インポート検索パスに追加します。これにより、 

              `import`

              ステートメントがこれらのモジュールを見つけて使用できるようになります。
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_SERVERLESS_MODE_ENABLED`
            </td>

            <td>
              `false`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              これを設定してサーバーレスモードを有効にする 

              `true`
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_DISTRIBUTED_TRACING_ENABLED`
            </td>

            <td>
              `true`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              ディストリビューティッド（分散）トレーシングを有効にしてトレースを生成する
            </td>
          </tr>
        </tbody>
      </table>

      その他の環境変数については、 [Python設定ドキュメントを](/docs/apm/agents/python-agent/configuration/python-agent-configuration/)ご覧ください。
    </TabsPageItem>

    <TabsPageItem id="net">
      <table>
        <thead>
          <tr>
            <th>
              環境変数
            </th>

            <th>
              デフォルト値
            </th>

            <th>
              オプション
            </th>

            <th>
              説明
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `NEW_RELIC_AZURE_FUNCTION_MODE_ENABLED`
            </td>

            <td>
              `1`
            </td>

            <td>
              `1`

              , 

              `0`
            </td>

            <td>
              Azure Functions モードはデフォルトで有効になっています。 値を 

              `0`

               に設定すると、 Azure Functions インストゥルメンテーションを無効にできます。
            </td>
          </tr>
        </tbody>
      </table>

      その他の環境変数については[、.NET 設定ドキュメント](/docs/apm/agents/net-agent/configuration/net-agent-configuration/)をご覧ください。
    </TabsPageItem>
  </TabsPages>
</Tabs>

## 関連記事 [#related-docs]

<DocTiles>
  <DocTile title="互換性と要件" path="/docs/serverless-function-monitoring/azure-function-monitoring/compatibility-requirement-azure-monitoring">
    Azure Functions の要件
  </DocTile>

  <DocTile title="Windows計装" path="/docs/serverless-function-monitoring/azure-function-monitoring/windows">
    Azure Functions for Windowsをセットアップして、 New Relicで監視する方法を学びます。
  </DocTile>

  <DocTile title="コンテナインストゥルメンテーション" path="/docs/serverless-function-monitoring/azure-function-monitoring/container">
    Azure Functions for Containers をNew Relicで監視するように設定する方法を学びます。
  </DocTile>
</DocTiles>