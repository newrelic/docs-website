---
title: New Relic Lookout。お客様の財産を一目で把握
tags:
  - New Relic One
  - Use New Relic One
  - Core concepts
metaDescription: Lookout is a New Relic One application that provides quick visibility into your entire stack.
translationType: machine
---

New Relic Lookout は、お客様のエステート全体を可視化します。また、システム全体を把握したり、原因や結果を深く掘り下げたりすることができるので、アクションを起こすのに必要なデータを素早く入手することができます。

![展望台のUIをコラージュした画像](./images/lookout-intro.png "ルックアウト紹介")

<figcaption>
  New Relic Lookoutでどこに注目すべきかを正確に把握できます。色が明るいほど変化が激しいことを示し、サイズが大きいほど規模が大きいことを示しています。さらに、相関関係や異常な履歴を使って、システム全体にどのような影響があるのかを深く掘り下げることができます。
</figcaption>

## 重要な理由

New Relic Lookout は、あらゆる規模のソフトウェアチームが、潜在的な問題が影響を及ぼす前に発見できるようにします。

* 設定をしなくても、すぐにフルカバーのモニタリングができるので、ギャップを埋めることができます。
* 全財産の中で通常と異なることがあれば、すぐに確認する。
* すべてのシステムコンポーネントをリアルタイムに可視化することで、新たな問題を積極的に発見することができます。
* 原因と結果が自動的に表示されるため、インシデントの迅速な解決につながります。
* サードパーティ、オープンデータ、カスタムデータなど、New Relic データベース (NRDB) のあらゆるデータを分析できます。
* New Relic Oneの他の領域をより深く理解するために起動します。

## 要件 [#reqs]

* New Relic Lookout には、 [Pro または Enterprise エディションが必要です](https://newrelic.com/pricing) 。
* Standard エディションをご利用の場合は、 [New Relic Explorer](/docs/new-relic-one/use-new-relic-one/core-concepts/entity-explorer-view-performance-across-apps-services-hosts) の New Relic Lookout ビューを引き続きご利用いただけます。13ヶ月にわたるデータや相関関係、プロファイル、トレースなどの詳細を確認したい場合は、上位のエディションにアップグレードする必要があります。

## New Relic Lookoutを使い始める

New Relic Lookout にアクセスするには、New Relic One の **Apps** ボタンをクリックし、 **New Relic Lookout** ランチャーを探します。また、New Relic One のヘッダーバーにある **「More」** のドロップダウンから New Relic Lookout に直接アクセスすることもできます。New Relic Lookout が既に持っているデータから価値を提供するためには、主要なサービスパフォーマンス指標データの有効化が必要です。

デフォルトの表示では、サービスパフォーマンスの主要な3つの指標をアプリケーション別に見ることができます。 **スループット** 、 **レスポンスタイム** 、 **エラー** 。これらの指標は、過去1時間と比較して、過去5分間にデータがどのように推移したかを分析しています。

![lookoutの概要を示すイメージ図。](./images/lookout-overview.png "ルックアウトの概要")

<figcaption>
  **one.newrelic.com> アプリ> New Relic Lookout**: トレンドから大きく外れたものは、設定を必要としないNew Relic Lookoutによって自動的に発見されます。
</figcaption>

### 円の可視化とテーブルビュー [#circles]

各アプリケーション（またはその他のファセット）は、円で表されます。円の大きさは、そのアプリケーションのシグナルの大きさを示し、色は、直前の1時間の標準偏差に基づいて、過去5分間に値が大幅に減少したか増加したかを示します（デフォルトの評価および比較の時間ウィンドウ）。

結果を解釈する際には、シグナルの種類が重要であることに注意してください。下の凡例を最初に見たとき、黄色は良いもの、濃い紫は悪いものと解釈したくなるかもしれませんが、必ずしもそうとは限りません。以下に例を挙げます。

* APM/servicesのゴールデンシグナルにおいて、 **Throughput** の濃い黄色の円は、何か悪いことが起きてトラフィックが低下したことを示している可能性があります。一方で、濃い紫色の円は、予期せぬ負荷がかかっていることを示しているかもしれません。どちらも調査する価値のある重要な発見です。
* ブラウザのゴールデンシグナルでは、 **Page Views** の濃い紫の円は、サイトへのトラフィックが増えているので、素晴らしいかもしれませんね。
* エラーのある金色のシグナルでは（すべてのエンティティタイプで）、たとえグレー（通常のボリュームから逸脱していない）であっても、大きな円は、システムのエラーの数が多いと調査する価値があります。

![凡例を示すイメージ図 ](./images/lookout-legend.png "ルックアウト伝説")

<figcaption>
  凡例では、逸脱したサービスを強調するために使用される色を変更することができます
</figcaption>

カラーパレットを変更するには、ローハイカラーの凡例のそばにある歯車のアイコンをクリックします。これにより、乖離したサービスを強調するために使用する色を変更することができます。同じデータを表形式で表示するには、右のトグルをクリックします。また、各色の上にカーソルを置くと、偏差値の低い順、高い順に表示を絞り込むことができます。

### 異常なゴールデンシグナル [#signals]

右側には、New Relic Lookout が最も大きく乖離したアプリケーション (またはその他のファセット) をサイドパネルに表示し、パフォーマンス指標の大きさとその乖離の規模の両方で重み付けして表示します。詳細には、主要なパフォーマンス指標の名前、最近の時間帯におけるその大きさ、ある時間帯と他の時間帯との平均値の差などが含まれます。

### インスタントサーチ [#search]

サイドパネルの虫眼鏡アイコンをクリックすると、検索ボックスが表示されます。検索ボックスに文字を入力すると、サークル、テーブル、異常信号が、その文字を含むアプリケーション（または他のファセット）にフィルタリングされます。これは、さまざまなサブシステムに素早くズームするのに適した方法です。New Relic Lookout は、インスタント検索を使用する際に分析を再実行しません。

### 表示の変更 [#search]

右側のパネルにある **Change View** ボタンをクリックします。表示されたパネルには、エンティティごとのゴールデンシグナルがすべて表示され、すぐに切り替えることができます。

![ビューを変更しようとしたときのUIを示すイメージ。](./images/lookout-changeview.png "表示の変更")

<figcaption>
  **ブラウザのゴールデンシグナル** などのビューを選択することで、デフォルトのビューから変更することができます。それぞれの新しいビューには、そのエンティティタイプに適したゴールデンシグナルが表示されます。
</figcaption>

## ドリルダウン [#explore-the-data]

アプリケーションまたはファセットを分析するには、円、表の行、または異常な金色の信号をクリックします。詳細パネルには、パフォーマンス指標の逸脱の度合い、影響を受けた [エンティティへのリンク](/docs/new-relic-one/use-new-relic-one/core-concepts/what-entity-new-relic) 、そのエンティティに対する最近のアラートや展開のアクティビティが表示されます（利用可能な場合）。

また、選択された評価期間が、昨日の同時刻や先週の同時刻など、他の比較時間帯と比較して異常かどうかも表示されます。これにより、異常な動作が全体的におかしいのか、それとも比較対象の時間帯だけに基づくものなのかをすぐに確認することができます。

### パフォーマンスタブ [#performance]

デフォルトのタブでは、選択されたアプリケーションまたはファセットの他の主要パフォーマンス指標のチャートが表示されます。チャートは、分析されている2つの時間軸を比較しています。タイトルをクリックすると、選択した重要業績評価指標に焦点を当てて分析を再実行することができます。

対象がNew Relic Oneアプリケーションの場合は、上位のトランザクション、エラークラス、外部サービス、データベース操作を、関連するNew Relic Oneの機能へのリンクとともに表示します。

### 異常履歴タブ [#history]

このセクションでは、選択した信号の過去のパフォーマンスを分析し、顕著な異常がある時間帯を呼び出します。各カードは異常な時間帯を表しており、クリックすると詳細が表示されます。チャートには、New Relic の関連する違反やデプロイメントが表示されます。

### 相関関係タブ [#correlations]

New Relic Lookout は、そのエンティティタイプで選択したシグナルと同時期に異なる動作を始めた他のシグナルを見つけることができます。シグナルの名前をクリックすると、その重要業績評価指標に焦点を当てた分析が再実行されます。お客様のアカウントに関連するエンティティがある場合、チャートのタイトルはNew Relic Oneにリンクしています。現在、相関関係はアカウント間では分析されないことに注意してください。表示される相関シグナルは、表示している元のアプリケーションのアカウント内の他の人のものです。これにより、問題に関連している可能性の高い相関関係にデータを集中させることができます。

### プロファイルタブ [#profile]

このタブは、New Relic の [エラープロファイル](/docs/apm/applications-menu/error-analytics/apm-error-profiles-troubleshoot-trends) と同じ技術に基づいており、デフォルトでは過去 5 分間とそれ以前の 1 時間（またはクエリ編集で選択した時間ウィンドウ）を比較し、選択したシグナルが対象としているイベントで分布が著しく異なる属性を表面化します。

例えば、最近のスループットの急増が1人のユーザーによるものであることをカスタムアトリビュートが示していた場合、通常、トラフィックのほとんどが多くのユーザーから来るものであれば、それはProfileで高く評価されるでしょう。

### トレース」タブ [#traces]

エンティティに [分散型トレース](/docs/understand-dependencies/distributed-tracing/get-started/introduction-distributed-tracing) が設定されており、選択された評価済みタイムウィンドウで利用可能な場合、 **Traces** セクションが有効になります。各カードにはトレースの概要が表示され、クリックすると詳細が表示されます。 **Explore all traces** は、選択されたエンティティにフィルタリングされた分散型トレースアプリケーションにリンクしています。

## カスタムビューの作成 [#edit-query]

デフォルト値以外のシグナルやタイムウィンドウをターゲットにするには、 **Change view** ボタンをクリックし、 **Custom view** を選択します。

独自のビューを作るために

1. アカウントまたはサブアカウントを選択します。

2. [データタイプ](/docs/using-new-relic/data/understand-data/new-relic-data-types) （メトリクスまたはイベント）を選択します。タイプによって利用できる機能が異なります。

3. **View a chart with** で、対象となるメトリックやイベントを選択します。デフォルトでは、ゴールデンシグナル（スループット、応答時間、エラー）が表示されます。また、カスタムクエリ（フィルタ）を構築して、リストにないシグナルを対象にすることもできます。

4. **Facet by** で、円が表すものを選択します。デフォルトは `appName` ですが、 `host` や、選択したシグナルで利用可能なその他の facetable 属性を選択することもできます。

5. この新しいビューを保存／お気に入りに登録する場合は、 **Name your view** ボックスに名前を入力してください。なお、このビューは鉛筆のアイコンを使っていつでも編集することができます。

6. New Relic Lookout が分析するデフォルトのタイムウィンドウは、前の 1 時間と比較した最後の 5 分間です。時間コントロール(**View data from** および **Compare data to**)を使って、他の時間帯を対象にすることができます。

   ![CreateCustomView-SixthSense.png](./images/CreateCustomView-SixthSense.png "CreateCustomView-SixthSense.png")

   <figcaption>
     **[one.newrelic.com](http://one.newrelic.com) > Apps> New Relic Lookout**: New Relic データベース内のすべてのイベントおよびメトリックデータは、 **Edit query** 機能を使って照会することができます。
   </figcaption>

7. **Analyze** をクリックすると、選択した信号の分析が始まります。

また、独自のクエリを作成することもできます。

![TimeSyntax-Lookout.png](./images/TimeSyntax-Lookout.png "TimeSyntax-Lookout.png")

<figcaption>
  クエリを作成します。このクエリは、過去30分のデータと1日前の同じ範囲のデータを比較しています。
</figcaption>

1. **Basic** から **Advanced** に変更するには、 **Custom view** ボタンをクリックします。
2. [データタイプ](/docs/using-new-relic/data/understand-data/new-relic-data-types) （メトリクスまたはイベント）を選択します。タイプによって利用できる機能が異なります。
3. [NRQL](/docs/query-your-data/nrql-new-relic-query-language/get-started/nrql-syntax-clauses-functions) を使ってクエリを入力してください。なお、Lookout Advancedのクエリ機能では、すべてのNRQL機能が利用できるわけではありませんのでご注意ください。
4. デフォルトでは、過去1時間と比較した直近の5分間のデータを使ってこのクエリを実行します。比較と評価のタイムウィンドウを変更するための構文の例を以下に示します。
5. **Analyze** をクリックすると、選択した信号の分析が始まります。

<CollapserGroup>
  <Collapser
    id="compare-one"
    title="クエリ。過去15分と1日前の同時刻を比較する"
  >
    標準的なNRQLとは異なり、ここではUNTIL NOWの部分が必要であることに注意してください。UNTIL NOWを追加しないと、システムは15分前から5分間のデータを照会します。

    ```
    SINCE 15 minutes AGO UNTIL NOW COMPARE WITH 1 day ago
    ```
  </Collapser>

  <Collapser
    id="compare-one"
    title="クエリです。特定の時間範囲を1ヶ月前の同じ範囲と比較する"
  >
    ```
    SINCE '2021-03-07 07:00:00-0500' UNTIL '2021-03-08 07:00:00-0500' COMPARE WITH 1 month ago
    ```

    あるいは。

    ```
    SINCE 'today at midnight' UNTIL 'now' COMPARE WITH 1 MONTH AGO
    ```
  </Collapser>

  <Collapser
    id="example-sixthsense-usage"
    title="例エラー数の異常な増加"
  >
    New Relic Lookoutのデフォルトビューでは、エステート全体のアプリケーションステータスが、過去5分とその前の1時間を比較して表示されます。通常の運用では、大規模なシステムでは、いくつかの異常が発生することがありますが、通常はほとんどの場合、正常な動作を示します。突然、 **Errors** のセクションでいくつかの円が赤に変わり始めました。これは、いくつかのアプリケーションでエラー数が異常に増加していることを示しています。

    重要なシステムを示す1つまたは2つの円が赤く表示され、通常よりもはるかに大きく表示されていることがあります。これらの円をクリックすると、何が起きているのかを詳しく知ることができます。エラーの発生率が通常よりも数千パーセントも高くなっていることがあるかもしれません。この問題をトラブルシューティングするために、New Relic Lookout タブで発見できることを以下に示します。

    * **パフォーマンス** では、他のシグナルに関するデータが表示され、システムダイナミクスの変化の特徴が明らかになります。

    * **Correlations** は、影響を受けている他のアプリケーションとその方法を明らかにし、さらに根本的な原因に近いと思われる他のアプリケーションにピボットする機会を提供します。

    * **Traces** とすると、分散したトレースが表示され、それらのシステムを通過するトラフィックの具体的な例を示すことができます。

    * **異常履歴** では、過去1週間のうち、エラーが上昇した他の時間が表示され、この問題が毎日同じ時間やデプロイメントがあるときなど、定期的に発生しているかどうかが示されます。

    * **プロファイル** は、新しいエラーのすべてまたはほとんどが、1つの地域/アカウント/ユーザーだけに隔離されているなど、共通の特性を持っていることを示しているかもしれません。

      これらのセクションの情報を組み合わせることで、何が起こっているのかを把握できるだけでなく、問題解決のためにどこに重点的にアクションを起こせばよいのかを知ることができます。
  </Collapser>
</CollapserGroup>