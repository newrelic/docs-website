---
subject: Browser agent
releaseDate: '2025-11-13'
version: 1.303.0
downloadLink: 'https://www.npmjs.com/package/@newrelic/browser-agent'
features:
  - Allow consent API to be invoked without localStorage access
  - Allow nested registrations
  - Additional validation to prepare agent for MFE registrations
  - Add measure support to register API
  - Add useConsentModel functionality
  - Retry initial connect call
  - Add custom event support to register API
  - SMs for browser connect response
bugs:
  - Obfuscate custom attributes for logs added after PVE
  - memoize promise context propagation to avoid safari hangs
security: []
translationType: machine
---

## バージョン1.303.0

### 特徴

#### ローカルストレージにアクセスせずに同意 API を呼び出すことを許可する

収集を制御するエージェント内で共通の状態を保持することにより、localStorage アクセスを必要とせずに同意 API が機能できるようにします。localStorage アクセスがブロックされている場合、アプリケーションはハードページロードごとに API を呼び出す必要があります。

#### ネストされた登録を許可する

計画された登録APIとの固有の親子関係を容易にするために、登録されたエンティティが、そのエンティティの子が登録するための独自の`.register()` APIを公開できるようにします。 コンテナ エージェントに登録するエンティティは、コンテナに関連付けられます。別の登録済みエンティティの下に登録されているエンティティは、コンテナと親エンティティの両方に関連付けられます。

#### MFE登録のためのエージェントの準備のための追加検証

MFE/v2 登録をサポートするために、MFE ターゲット`id`および`name`の不正な値を防止するためにエージェントに検証ルールを追加します。

#### 登録APIに測定サポートを追加

レジスター応答オブジェクトに測定 API のサポートを追加します。これは、将来計画されているマイクロ フロントエンドの提供をサポートするものです。

#### useConsentModel 機能を追加する

use\_consent\_mode 初期プロパティと機能を追加します。consent() APIコールを追加します。 同意モデルが有効になっている場合、consent() APIコールを通じて同意が得られない限り、エージェントの収集は許可されません。

#### 最初の接続呼び出しを再試行する

データ損失を防ぐために、エージェントは再試行可能なステータス コードに対して元の「RUM」呼び出しをさらに 1 回再試行するようになりました。

#### 登録APIにカスタムイベントのサポートを追加する

カスタムイベントをキャプチャするためのメソッドを登録APIに追加します。これは、後で MFE サポートが確立されたときに使用されます。

#### ブラウザ接続応答のSM

page\_view\_event 集約の初期化時に失敗した応答に対するサポート機能メトリクスを追加します。

### バグ修正

#### PVE 後に追加されたログのカスタムアトリビュートを難読化する

難読化を拡張して、最初のRUM /PageViewEvent 収集後に追加されたログイベントのカスタムアトリビュートをカバーします。

#### safari のハングを回避するための memoize Promise コンテキスト伝搬

Memoize はコンテキスト伝搬を約束し、コンテキスト操作の繰り返しを回避することで Safari でブラウザがハングする可能性を防ぎます。

## サポートステートメント

New Relic では、最新の機能とパフォーマンス上のメリットを確実に得られるよう、エージェントを定期的にアップグレードすることをお勧めします。古いリリースは[サポート終了](https://docs.newrelic.com/docs/browser/browser-monitoring/getting-started/browser-agent-eol-policy/)になるとサポートされなくなります。リリース日は、エージェント バージョンの元の公開日を反映します。

新しいブラウザエージェントのリリースは、一定期間にわたって小さな段階で顧客に展開されます。 このため、リリースがアカウントでアクセス可能になる日付は、元の公開日と一致しない可能性があります。詳細については、この[ステータス ダッシュボード](https://newrelic.github.io/newrelic-browser-agent-release/)をご覧ください。

弊社の[ブラウザ サポート ポリシー](https://docs.newrelic.com/docs/browser/new-relic-browser/getting-started/compatibility-requirements-browser-monitoring/#browser-types)に従い、 Browserの v1.303.0 は、 Chrome 131 ～ 141、Edge 131 ～ 141、Safari 17 ～ 26、Firefox 134 ～ 144 のブラウザとバージョン範囲を対象に構築され、テストされています。 モバイル デバイスの場合、v1.303.0 は Android OS 16 および iOS Safari 17-26 用に構築およびテストされました。