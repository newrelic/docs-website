---
subject: Java agent
releaseDate: 2025-08-13'
version: 8.23.0
downloadLink: 'https://download.newrelic.com/newrelic/java-agent/newrelic-agent/8.23.0/'
features:
  - “Support v24 of GraphQL”
  - “Add lettuce 6.5 instrumentation”
  - “Add lettuce dbName to datastore params where available”
  - “Add an environment variable to skip instrumenting certain applications”
bugs:
  - “Fix a bug where SQS messages with 8 attributes are not sent to AWS”
  - “Trim the ‘Subscriptions’ bit off the end of the topic name in azure service bus client”
  - “Fix AutoConfiguredOpenTelemetrySdk config”
security: []
translationType: machine
---

<ButtonGroup>
  <ButtonLink role="button" to="https://download.newrelic.com/newrelic/java-agent/newrelic-agent/8.23.0/" variant="primary">
    このエージェントのバージョンをダウンロード
  </ButtonLink>
</ButtonGroup>

## 新機能と改善点

* [2425年](https://github.com/newrelic/newrelic-java-agent/pull/2425)に@jtduffyがgraphqlのv24をサポートするように更新しました
* レタス6.5計装追加 by @kanderson250 in [2430](https://github.com/newrelic/newrelic-java-agent/pull/2430)
* @jtduffy が[2421 年](https://github.com/newrelic/newrelic-java-agent/pull/2421)に commons-lang バージョンを 3.18.0 にアップグレードしました
* [2423](https://github.com/newrelic/newrelic-java-agent/pull/2423)で @kanderson250 が、データストア パラメータに lettuce dbName を追加できるようになりました。
* 特定のアプリケーションの実装をスキップするための環境変数を追加します。環境変数名は`NEW_RELIC_STARTUP_JAVA_ARTIFACT_SKIPS`です。その値は、エージェントが計量すべきではないメインクラス、実行可能 jar ファイル、またはJavaベースのツール/アプリのカンマ区切りのリストです (例: `NEW_RELIC_STARTUP_JAVA_ARTIFACT_SKIPS=keytool,myapp.jar,IgnoreThisClass` )、@jtduffy による[2433 年](https://github.com/newrelic/newrelic-java-agent/pull/2433)

## 修正

* 8 つの属性を持つ SQS メッセージが AWS に送信されないバグを修正しました。[2422 年](https://github.com/newrelic/newrelic-java-agent/pull/2422)の @obenkenobi によるディストリビューティッド（分散）トレーシング ヘッダーを渡すには、SQS メッセージに 8 未満のプロパティが必要です
* [2440](https://github.com/newrelic/newrelic-java-agent/pull/2440)の @jbedell-newrelic による Azure Service Bus クライアントのトピック名の末尾の「サブスクリプション」部分を削除します
* [2451](https://github.com/newrelic/newrelic-java-agent/pull/2451)の @jasonjkeller による AutoConfiguredOpenTelemetrySdk 設定を修正

## 廃止予定

次の 計算モジュールは非推奨であり、次のメジャー リリースで削除されます。

* `aws-wrap-0.7.0`
* `java.completable-future-jdk8`
* `play-2.3`
* `netty-3.4`
* `Struts v1`

## 最新バージョンへのアップデート [#procedures]

現在使用中のJavaエージェントのバージョンを特定するには、`java -jar newrelic.jar -v`を実行します。Javaエージェントのバージョンがコンソールに出力されます。

次に、最新バージョンのJavaエージェントにアップデートするには、以下の手順に従います。

1. **すべて**の[Javaエージェントのルートディレクトリ](/docs/agents/manage-apm-agents/troubleshooting/find-agent-root-directory#java-agent)を別の場所にバックアップします。そのディレクトリの名前を`NewRelic_Agent#.#.#`に変更します。ここで、`#.#.#`はエージェントのバージョン番号です。
2. [エージェントをダウンロードします](/docs/release-notes/agent-release-notes/java-release-notes)。
3. 新しいエージェントのダウンロードファイルを解凍し、`newrelic-api.jar`と`newrelic.jar`を元の[Javaエージェントのルートディレクトリ](/docs/agents/manage-apm-agents/troubleshooting/find-agent-root-directory#java-agent)にコピーします。
4. 古い`newrelic.yml`とzipからダウンロードした新しい`newrelic.yml`を比較し、[必要に応じてファイルを更新します](#diff)。
5. Javaディスパッチャを再起動します。

Javaエージェントのアップデート後に問題が発生する場合は、バックアップしたNew Relicエージェントディレクトリから復元します。

## エージェント設定の差分のアップデート [#diff]

エージェントの新しいバージョンをリリースする際に、`newrelic.yml`に新しい設定を追加します。`diff`または別の差分ユーティリティを使用して変更内容を確認してから、新しい設定を古いファイルに追加できます。ライセンスキー、アプリ名、デフォルト設定の変更など、ファイルに対して行ったカスタマイズを上書きしないようにしてください。

たとえば、 Javaバージョン 7.10.0 および 7.11.0 のデフォルトの`newrelic.yml`ファイルを`diff`すると、コンソールに表示される結果は次のようになります。

```yaml
➜ diff newrelic_7.10.0.yml newrelic_7.11.0.yml
...
107a108,119
>       # Whether the log events should include context from loggers with support for that.
>       include_context_data:
>
>         # When true, application logs will contain context data.
>         enabled: false
>
>         # A comma separated list of attribute keys whose values should be sent to New Relic.
>         #include:
>
>         # A comma separated list of attribute keys whose values should not be sent to New Relic.
>         #exclude:
>
125a138
>
128c141
<     enabled: false
---
>     enabled: true
...
```

この例では、これらの行はJavaエージェント バージョン 7.11.0 のデフォルトの`newrelic.yml`に追加されました。 7.11.0 以降に移行する場合は、これらの新しい行を元の`newrelic.yml`に追加する必要があります。

## サポートステートメント:

* New Relic では、最新の機能とパフォーマンス上のメリットを確実に得られるよう、エージェントを定期的にアップグレードすることをお勧めします。さらに、古いリリースは[サポート終了](https://docs.newrelic.com/docs/using-new-relic/cross-product-functions/install-configure/notification-changes-new-relic-saas-features-distributed-software/)になるとサポートされなくなります。