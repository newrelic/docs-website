---
subject: Java agent
releaseDate: ‘2025-09-03'
version: 8.24.0
downloadLink: 'https://download.newrelic.com/newrelic/java-agent/newrelic-agent/8.24.0/'
features:
  - “Support MongoDB Reactive Streams 5.2.0 and up”
  - “Jedis 6 support”
bugs:
  - “CouchBase: Add skip class to prevent double instrumentation”
  - “Spring WebClient 5.x: Only wrap headers instead of the entire response”
security: []
translationType: machine
---

<ButtonGroup>
  <ButtonLink role="button" to="https://download.newrelic.com/newrelic/java-agent/newrelic-agent/8.24.0/" variant="primary">
    このエージェントのバージョンをダウンロード
  </ButtonLink>
</ButtonGroup>

## 新機能と改善点

* @obekenobi による[2465](https://github.com/newrelic/newrelic-java-agent/pull/2465)の MongoDB Reactive Streams 5.2.0 以降をサポート
* [2466年](https://github.com/newrelic/newrelic-java-agent/pull/2466)に@kanderson250がJedis 6をサポート

## 修正

* CouchBase: [2462](https://github.com/newrelic/newrelic-java-agent/pull/2462) @jtduffy による二重計装を防ぐスキップ クラスを追加
* Spring WebClient 5.x: レスポンス全体ではなくヘッダーのみをラップする[(2464)](https://github.com/newrelic/newrelic-java-agent/pull/2464) @jtduffy

## 廃止予定

* `aws-wrap-0.7.0`
* `java.completable-future-jdk8`
* `play-2.3`
* `netty-3.4`
* `Struts v1`

## 最新バージョンへのアップデート [#procedures]

現在使用中のJavaエージェントのバージョンを特定するには、`java -jar newrelic.jar -v`を実行します。Javaエージェントのバージョンがコンソールに出力されます。

次に、最新バージョンのJavaエージェントにアップデートするには、以下の手順に従います。

1. **すべて**の[Javaエージェントのルートディレクトリ](/docs/agents/manage-apm-agents/troubleshooting/find-agent-root-directory#java-agent)を別の場所にバックアップします。そのディレクトリの名前を`NewRelic_Agent#.#.#`に変更します。ここで、`#.#.#`はエージェントのバージョン番号です。
2. [エージェントをダウンロードします](/docs/release-notes/agent-release-notes/java-release-notes)。
3. 新しいエージェントのダウンロードファイルを解凍し、`newrelic-api.jar`と`newrelic.jar`を元の[Javaエージェントのルートディレクトリ](/docs/agents/manage-apm-agents/troubleshooting/find-agent-root-directory#java-agent)にコピーします。
4. 古い`newrelic.yml`とzipからダウンロードした新しい`newrelic.yml`を比較し、[必要に応じてファイルを更新します](#diff)。
5. Javaディスパッチャを再起動します。

Javaエージェントのアップデート後に問題が発生する場合は、バックアップしたNew Relicエージェントディレクトリから復元します。

## エージェント設定の差分のアップデート [#diff]

エージェントの新しいバージョンをリリースする際に、`newrelic.yml`に新しい設定を追加します。`diff`または別の差分ユーティリティを使用して変更内容を確認してから、新しい設定を古いファイルに追加できます。ライセンスキー、アプリ名、デフォルト設定の変更など、ファイルに対して行ったカスタマイズを上書きしないようにしてください。

たとえば、 Javaバージョン 7.10.0 および 7.11.0 のデフォルトの`newrelic.yml`ファイルを`diff`すると、コンソールに表示される結果は次のようになります。

```yaml
➜ diff newrelic_7.10.0.yml newrelic_7.11.0.yml
...
107a108,119
>       # Whether the log events should include context from loggers with support for that.
>       include_context_data:
>
>         # When true, application logs will contain context data.
>         enabled: false
>
>         # A comma separated list of attribute keys whose values should be sent to New Relic.
>         #include:
>
>         # A comma separated list of attribute keys whose values should not be sent to New Relic.
>         #exclude:
>
125a138
>
128c141
<     enabled: false
---
>     enabled: true
...
```

この例では、これらの行はJavaエージェント バージョン 7.11.0 のデフォルトの`newrelic.yml`に追加されました。 7.11.0 以降に移行する場合は、これらの新しい行を元の`newrelic.yml`に追加する必要があります。

## サポートステートメント:

* New Relic では、最新の機能とパフォーマンス上のメリットを確実に得られるよう、エージェントを定期的にアップグレードすることをお勧めします。さらに、古いリリースは[サポート終了](https://docs.newrelic.com/docs/using-new-relic/cross-product-functions/install-configure/notification-changes-new-relic-saas-features-distributed-software/)になるとサポートされなくなります。