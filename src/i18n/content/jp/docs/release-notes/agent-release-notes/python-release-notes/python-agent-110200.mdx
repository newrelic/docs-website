---
subject: Python agent
releaseDate: '2025-12-08'
version: 11.2.0
downloadLink: 'https://pypi.python.org/pypi/newrelic'
features:
  - Add support for Strands instrumentation
  - Add support for AWS Bedrock Converse Streaming instrumentation
  - Add support for Redis methods hybrid_search and msetex
  - Add support for loop_factory parameter in asyncio.Runner
  - Capture Langchain role assignments in LLM events
  - Capture LLM event timestamp at time of LLM request
bugs:
  - Fix ASGI header consumption
translationType: machine
---

## メモ

このリリースの Python エージェントでは、以下のサポートが追加されました。

* [ストランド](https://pypi.org/project/strands-agents-tools/)
* [AWS Bedrock コンバースストリーミング](\(https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/bedrock-runtime/client/converse.html\))
* [Redis](https://pypi.org/project/redis/)メソッド`hybrid_search`と `msetex`
* LLM イベントの[LangChain](https://pypi.org/project/langchain/)ロールの割り当て
* LLM 要求時にキャプチャされた LLM イベントのタイムスタンプ
* `loop_factory` 問題あり `asyncio.Runner`

このリリースでは、Web サーバーによってヘッダーが報告されない ASGI モジュールのバグも修正されています。

[Python パッケージ インデックス](https://pypi.python.org/pypi/newrelic)経由で`easy_install/pip/distribute`を使用するか、 [Conda-Forge パッケージ インデックス](https://anaconda.org/conda-forge/newrelic)経由で`conda`を使用してエージェントをインストールするか、 [New Relic ダウンロード サイト](https://download.newrelic.com/python_agent/release)から直接ダウンロードします。

## 特徴

* [ストランド](https://pypi.org/project/strands-agents-tools/)のサポートを追加

  * 単一および複数エージェント (群、グラフなど) 設定にストランド ツールとエージェントの計装を追加します。

* [AWS Bedrock Converse Streaming](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/bedrock-runtime/client/converse.html)のサポートを追加

  * ストリーミング Converse API の監視サポートを追加します。これには、 `converse_stream()`を使用して boto3 および aioboto3 クライアントで行われた Converse チャット完了呼び出しのサポートが含まれます。

* [Redis](https://pypi.org/project/redis/)メソッドのサポートを追加

  * 次のメソッドのサポートを追加します。

    * `hybrid_search`
    * `msetex`

* `loop_factory`のサポートを追加 `asyncio.Runner`

  * Python 3.11 では、 `asyncio.Runner` `loop_factory`が追加されました。 `loop_factory`問題は、ループ ポリシーの代替手段を提供します。 これで、グローバル イベント ループ設定またはカスタムイベント ループのどちらを介したものであっても、作成されたループはインストゥルメント化されます。

* LLM イベントで[LangChain の](https://pypi.org/project/langchain/)ロール割り当てをキャプチャする

  * LangChain `LlmChatCompletionMessage`イベントには、 [LangChain](https://pypi.org/project/langchain/)から割り当てられたロールが含まれるようになりました。

* LLM 要求時に LLM イベントのタイムスタンプをキャプチャします。

  * 以前は、LLM イベントのタイムスタンプはイベントの作成時にキャプチャされていました。現在では、LLM リクエスト時により正確にキャプチャされるようになりました。

## バグ修正

* ASGIヘッダーの消費

  * `ASGIWebTransaction`が`http.response.start`イベントからヘッダーを使用する際、許容される入力タイプを考慮せずに使用していました。ヘッダーがジェネレーターである場合、ジェネレーターは`process_response()`呼び出しによって消費され、Web サーバーが送信するヘッダーが残っていません。これは修正されました。

## サポートステートメント

最新のエージェント バージョンが利用可能になったらすぐに更新することをお勧めします。最新バージョンにアップグレードできない場合は、エージェントを 90 日以内のバージョンに更新してください。エージェントを最新の状態に保つ方法の[詳細](/docs/new-relic-solutions/new-relic-one/install-configure/update-new-relic-agent/)については、こちらをご覧ください。

エージェントのリリースとサポート日については、New Relic Python エージェントの[EOL ポリシーを](/docs/apm/agents/python-agent/getting-started/python-agent-eol-policy/)参照してください。