---
title: ブラウザとSPAのAPIの使い方ガイド
tags:
  - Browser
  - Browser monitoring
  - Guides
metaDescription: 'A goal-focused guide to New Relic''s browser agent API and SPA API, with links to relevant sections of the methods.'
translationType: machine
---

ブラウザおよびシングル・ページ・アプリケーション（SPA）のAPIを使用すると、ブラウザの監視をカスタマイズおよび拡張することができます。API の使用を開始するには、監視したいすべてのページに [ブラウザの JavaScript スニペットが存在していることを確認してください](/docs/browser/new-relic-browser/installation/install-new-relic-browser-agent) 。このドキュメントでは、各ブラウザおよび SPA API メソッドの使用例を紹介します。

ブラウザエージェントおよび SPA API の概要とそのメソッドについては、 [ブラウザエージェントおよび SPA API](/docs/browser/new-relic-browser/browser-agent-spa-api) を参照してください。

## トレースとイベント [#api-traces]

トレースやイベントを監視するには、次のような方法があります。

<table>
  <thead>
    <tr>
      <th style={{ width: "350px" }}>
        以下を行う場合...
      </th>

      <th>
        これを使用
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        New Relic が自動的に追跡しないアクションを追跡する
      </td>

      <td>
        `newrelic.addPageAction()を使用します。`
      </td>
    </tr>

    <tr>
      <td>
        進行中の [セッショントレースにオブジェクトを追加する。](/docs/browser/new-relic-browser/browser-pro-features/session-traces-exploring-webpages-life-cycle)
      </td>

      <td>
        `newrelic.addToTrace()を使用します。`
      </td>
    </tr>

    <tr>
      <td>
        独自の基準でページが終了した時点を記録する
      </td>

      <td>
        `newrelic.finished() を使用しています。`
      </td>
    </tr>

    <tr>
      <td>
        ページ上の後続のイベントに属性名と値を追加する
      </td>

      <td>
        `newrelic.setCustomAttribute()を使用します。`
      </td>
    </tr>

    <tr>
      <td>
        ページ名を設定してページビューをグループ化
      </td>

      <td>
        `newrelic.setPageViewName()を使用します。`
      </td>
    </tr>
  </tbody>
</table>

## エラー報告 [#api-errors]

アプリケーションのエラーを報告するには、以下の方法があります。

<table>
  <thead>
    <tr>
      <th style={{ width: "350" }}>
        以下を行う場合...
      </th>

      <th>
        実行する操作
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        アプリのバージョン情報でタグエラー
      </td>

      <td>
        `newrelic.addRelease()を使用します。`
      </td>
    </tr>

    <tr>
      <td>
        アプリの動作を停止させることなく、キャッチしたエラーや処理したエラーを記録する
      </td>

      <td>
        `newrelic.noticeError()を使用してください。`
      </td>
    </tr>

    <tr>
      <td>
        既知のエラーを選択的に無視する
      </td>

      <td>
        `newrelic.setErrorHandler()を使用します。`
      </td>
    </tr>
  </tbody>
</table>

## シングルページアプリの追跡（SPA API） [#spa-api]

シングルページアプリケーションをトラッキングするには、以下のSPA APIメソッドを使用します。

<table>
  <thead>
    <tr>
      <th style={{ width: "350px" }}>
        以下を行う場合...
      </th>

      <th>
        実行する操作
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [`actionText`](/attribute-dictionary/?event=BrowserInteraction&attribute=actionText) 、または、SPA [のインタラクションでクリックされた HTML 要素のテキストを設定します。](/docs/using-new-relic/welcome-new-relic/get-started/glossary/#interaction)
      </td>

      <td>
        `newrelic.interaction().actionText()を使用します。`
      </td>
    </tr>

    <tr>
      <td>
        SPAのサブコンポーネントのトレース [インタラクション](/docs/using-new-relic/welcome-new-relic/get-started/glossary/#interaction) 個別に
      </td>

      <td>
        `newrelic.interaction().createTracer()を使用しています。`
      </td>
    </tr>

    <tr>
      <td>
        SPA [インタラクションの終了](/docs/using-new-relic/welcome-new-relic/get-started/glossary/#interaction)
      </td>

      <td>
        `newrelic.interaction().end()を使用します。`
      </td>
    </tr>

    <tr>
      <td>
        現在の [インタラクションに関連する集計データ](/docs/using-new-relic/welcome-new-relic/get-started/glossary/#interaction)
      </td>

      <td>
        `newrelic.interaction().getContext()を使用しています。`
      </td>
    </tr>

    <tr>
      <td>
        [インタラクションを無視する](/docs/using-new-relic/welcome-new-relic/get-started/glossary/#interaction)
      </td>

      <td>
        `newrelic.interaction().ignore()を使用します。`
      </td>
    </tr>

    <tr>
      <td>
        現在の [のインタラクションにバインドされた新しい API オブジェクトを返します。](/docs/using-new-relic/welcome-new-relic/get-started/glossary/#interaction)
      </td>

      <td>
        `newrelic.interaction()を使用します。`
      </td>
    </tr>

    <tr>
      <td>
        [インタラクション](/attribute-dictionary/?event=BrowserInteraction) が記録される前に、名前や無視された属性などの属性を調整する。
      </td>

      <td>
        `newrelic.interaction().onEnd()を使用します。`
      </td>
    </tr>

    <tr>
      <td>
        ブラウザ [インタラクション](/docs/using-new-relic/welcome-new-relic/get-started/glossary/#interaction) が終了したときに確実に保存されるようにする。
      </td>

      <td>
        `newrelic.interaction().save()を使用しています。`
      </td>
    </tr>

    <tr>
      <td>
        現在の [インタラクションにカスタム属性を追加する](/docs/using-new-relic/welcome-new-relic/get-started/glossary/#interaction)
      </td>

      <td>
        `newrelic.interaction().setAttribute()を使用します。`
      </td>
    </tr>

    <tr>
      <td>
        SPAルートにデフォルトの名前よりも正確な名前をつける
      </td>

      <td>
        使用 `newrelic.interaction().setCurrentRouteName`
      </td>
    </tr>
  </tbody>
</table>