---
title: ブラウザのJavaScriptインジェクションでページに問題が発生する
type: troubleshooting
tags:
  - Browser
  - Browser monitoring
  - Troubleshooting
metaDescription: 'Why browser JavaScript injection may fail, and some suggested solutions.'
translationType: machine
---

## 問題

ブラウザモニタリングは、マークアップやページの読み込みに問題が生じる場所にそのJavaScriptインスツルメンテーションを挿入します。

## 解決

New Relic のエージェントは、最適な場所に JavaScript を注入しようとしますが、問題が発生した場合は、以下のトラブルシューティングの手順をお試しください。

1. ブラウザ監視を [無効にして、ブラウザ監視が](/docs/browser/new-relic-browser/installation/disable-browser-monitoring/)原因かどうかを確認します。

2. ブラウザ監視を無効にして問題が解決した場合は、そのページのソースコードを調査します。ブラウザ監視を再度有効にして、以下の可能性のある問題を確認します。

   * ページ内 (iFrame 内ではない) に `<html>` タグの複数のインスタンスがあります。
   * `<head>` または `<body>` タグの複数のインスタンス、または `<head>` または `<body>` タグが欠落しています。
   * ページの JavaScript 内での `<head>` または `<body>` タグの出現。
   * [http://validator.w3.org](http://validator.w3.org) を使用してページのソースを確認し、マークアップの妥当性や文字エンコーディングに深刻な問題がないかどうかをチェックします。

3. 見つかったコンフリクトは、ページ構造の修正、 [そのページのブラウザ監視を無効にする、](/docs/browser/new-relic-browser/installation-configuration/disable-browser-monitoring-specific-pages) または、スクリプト注入を完全に制御するために、エージェントAPIを介して [手動でインスツルメントを行う](/docs/browser/new-relic-browser/installation-configuration/browser-settings-ui-options-browser-monitoring#agent-instrumentation) に切り替えることで解消します。

4. その他の状況が発生した場合は、 [New Relic Support](https://support.newrelic.com/) に連絡し、ページへのアクセシブルなリンクまたはそのソースコードを提供してください。リンクやソースコードでブラウザモニタリングが有効になっていることを確認してください。