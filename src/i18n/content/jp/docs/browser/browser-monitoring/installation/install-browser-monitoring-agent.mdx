---
title: Browserモニタリングエージェントのインストール
tags:
  - Browser
  - Browser monitoring
  - Installation
metaDescription: 'How to deploy browser monitoring in New Relic for your apps, including UI, copy/paste, and API options.'
---

Browserは、[JavaScript スニペット](/docs/browser/new-relic-browser/page-load-timing/instrumentation-page-load-timing)（または「エージェント」）を使用して、アプリのウェブページをインストゥルメントします。JavaScriptはブラウザ監視用のデータを収集します。Browserエージェントをインストールする場合は、さまざまなデプロイメントオプションから選択できます。

<Callout variant="tip">
  ブラウザとその他の[オブザーバビリティプラットフォーム](https://one.newrelic.com)を使用するには、New Relicファミリーに参加してください。[サインアップ](https://newrelic.com/signup)して、わずか数秒で無料アカウントを作成できます。次に、毎月最大100GBのデータを無料で取り込みます。期間無制限です。
</Callout>

## デプロイメントオプションの選択 [#options]

ブラウザモニタリングのデプロイ時にどのオプションを使用しても、最終的にはBrowserエージェントのJavaScriptスニペットがブラウザモニタリング用ページに投入します。選択する方法は、個人の設定やビジネス上のニーズによって異なります。Browserエージェントをインストールし、有効にする手順を表示するには、使用するオプションのリンクをクリックします。また、[ブラウザ**アプリケーション設定**ページ](/docs/browser/new-relic-browser/configuration/browser-settings-ui-options-apdex-geography)を使用して、設定を更新することもできます。

<Callout variant="important">
  次の設定オプションは、ブラウザモニタリングエージェントのみを参照します。これらは、New Relicの[ユーザーロール](/docs/accounts/accounts-billing/new-relic-one-user-management/new-relic-one-user-model-understand-user-structure/#roles)や[エディション](https://newrelic.com/pricing)とは異なります。
</Callout>

<table>
  <thead>
    <tr>
      <th width={200}>
        **ブラウザのデプロイメントオプション**
      </th>

      <th>
        **説明**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [APMエージェントを使用して](#select-apm-app)JavaScriptを投入
      </td>

      <td>
        APMエージェントを使用すると、ブラウザ監視用のJavaScriptスニペットを自動的に投入できます。これは、すでにAPMで監視されているアプリにエージェントをインストールする最も簡単な方法です。（APMの監視対象となっているアプリは、[APM**アプリケーション**インデックス](/docs/apm/applications-menu/monitoring/viewing-your-applications-list)に一覧表示されています。）
      </td>
    </tr>

    <tr>
      <td>
        ウェブページに[JavaScriptスニペットをペースト](#copy-paste-app)
      </td>

      <td>
        BrowserエージェントのJavaScriptスニペットをコピーアンドペーストすることで、アプリのウェブページに挿入するJavaScriptの位置を正確に制御することができます。このオプションは、次のような場合に役立ちます。

        * スタンドアロン型アプリ、静的サイト、CDNによって配信されるキャッシュページ
        * 標準的なサーバーサイドアプリと同様に、ブラウザアプリに密接に連結されていないAPMアプリ（たとえば、クライアントサイドアプリがREST APIバックエンドと通信する場合）
      </td>
    </tr>

    <tr>
      <td>
        [シングルページアプリ（SPA）監視の有効化](/docs/browser/single-page-app-monitoring/get-started/install-single-page-app-monitoring-new-relic-browser)
      </td>

      <td>
        SPAを有効化するには**Pro + SPA**Browserエージェントのサブスクリプションが必要で、BrowserのJavaScriptエージェントの再デプロイが必要になる場合があります。
      </td>
    </tr>

    <tr>
      <td>
        [REST API](/docs/browser/new-relic-browser/browser-agent-apis/adding-or-listing-browser-apps-api-v2)を使用
      </td>

      <td>
        REST APIを使用すると、ブラウザUI以外でデプロイメントを管理できます。このオプションは、複数のアプリをディプロイする大規模組織で有効です。
      </td>
    </tr>

    <tr>
      <td>
        [APMエージェントAPI](#agent-instrumentation)を使用して、JavaScriptスニペットを手動でインストゥルメント
      </td>

      <td>
        APMで監視するアプリでは、APMエージェントのAPIを使用して、自動ではなく手動でJavaScriptを投入できます。
      </td>
    </tr>
  </tbody>
</table>

## APM監視対象アプリの有効化 [#select-apm-app]

APMの監視対象になっているアプリにBrowserエージェントを自動的にデプロイする場合は、この手順を使用します。

1. **[one.newrelic.com](https://one.newrelic.com)**に移動します。**ブラウザ**を選択してから、**データを追加**を選択します。

2. **バックエンド、フロントエンドおよびモバイルアプリケション**セクションで、**New Relic Browser**タイトルを選択します。このインストゥルメントを追加するアカウントの選択を促すプロンプトが表示されたら、アカウントを選択し、**続行**をクリックします。

3. **デプロイメントメソッドの選択**セクションの**New Relic Browserページで開始**から、**New Relic APMによる有効化**を選択します。

4. **インストゥルメンテーションの選択**セクションで、 **Lite**、**Pro**または**Pro + SPA**を選択します。

5. **インストゥルメンテーションの設定**セクションで、必要な選択をします。

6. **アプリケーションの選択**セクションに、入力または検索ウィンドウを使用してアプリ名を検索します。

7. **有効化**をクリックします。

   <Callout variant="important">
     **Node.js：**Note.jsアプリ用のBrowserエージェントの有効化を完了するには、HTMLページの[head](/docs/agents/nodejs-agent/supported-features/new-relic-browser-nodejs-agent)タグの先頭に`JavaScriptヘッダを挿入する`追加手順に従います。
   </Callout>

8. アプリでトラフィックを発生させます。

9. **Browser**がデータ収集を開始するまで数分間待ってから、[Browserアプリケーションインデックス](/docs/browser/new-relic-browser/dashboard-details/browser-apps-list)からアプリを選択します。

## コピー/ペーストを有効化 [#copy-paste-app]

この手順を使用して、Browserのブラウザモニタリング用JavaScriptスニペットを、アプリのウェブページに自分で挿入します。このオプションは、静的サイト（Jekyllなど）や、CDNで配信されたキャッシュページを監視する際に有効です。

<Callout variant="tip">
  生成されたJavaScriptの末尾付近に、BrowserのライセンスキーとアプリケーションIDがあります。これは、[REST API](/docs/apis/rest-api-v2/browser-examples-v2)や[APIエクスプローラー](/docs/apis/rest-api-v2/api-explorer-v2/getting-started-new-relics-api-explorer)を使用する際に有効です。
</Callout>

1. **[one.newrelic.com](https://one.newrelic.com)**に移動します。**ブラウザ**を選択してから、**データを追加**を選択します。

2. **バックエンド、フロントエンドおよびモバイルアプリケション**セクションで、**New Relic Browser**タイトルを選択します。このインストゥルメントを追加するアカウントの選択を促すプロンプトが表示されたら、アカウントを選択し、**続行**をクリックします。

3. **デプロイメントメソッドの選択**セクションの**New Relic Browserページで開始**から、**JavaScriptコードのコピー/ペースト**を選択します。

4. **インストゥルメンテーションの選択**セクションで、エージェントのタイプ: **Lite**、**Pro**または**Pro + SPA**を選択します。

5. **インストゥルメンテーションの設定**セクションで、必要な選択をします。

6. **アプリに命名**セクションで、アプリに命名します。

   * アプリがAPMの監視対象となっている場合は、**はい**を選択して、アプリ名を入力、または検索ウィンドウを使用してアプリ名を検索します。
   * **ブラウザ**（APMの監視対象ではない）のスタンドアロン型アプリの場合は、**いいえ**を選択してから、アプリ名を入力します。

7. **有効化**をクリックします。

8. 新しいセクション、**エージェントのインストゥルメント**が、プロジェクトのJavaScriptコードがあるページで開きます。コードスニペットをコピーし、ページ内のできるだけ`<head>`要素の最上部付近、ただし位置に敏感な`<meta>`タグ（例、`X-UA-Compatible`または`charset`情報）の後に埋め込む形でペーストします。インラインの`ヘッド`配置に関する詳細については、[JavaScriptの配置要件](https://docs.newrelic.com/docs/browser/new-relic-browser/page-load-timing-resources/instrumentation-browser-monitoring#javascript-placement)を参照してください。

9. アプリでトラフィックを発生させます。

10. **ブラウザ**がデータ収集を開始するまで数分間待ってから、[Browserアプリケーションインデックス](/docs/browser/new-relic-browser/getting-started/browser-apps-index/)からアプリを選択します。

コピー/ペーストを使用する場合は、セットアッププロセスを完了しないでください。引き続き、アプリの[Browser**アプリケーション設定**ページ](/docs/browser/new-relic-browser/configuration/browser-settings-ui-options-apdex-geography)から、または [REST API（v2）](/docs/browser/new-relic-browser/browser-agent-apis/adding-or-listing-browser-apps-api-v2)を使用して、生成されたJavaScriptスニペットを表示およびコピーできます。

## APMエージェントを使用してウェブページをインストゥルメント [#agent-instrumentation]

この情報は、APMの監視対象となっているアプリにも適用されます。

New Relicのエージェントは、ページロードタイミングで必要なJavaScriptで、ウェブページをインストゥルメントできます。APMエージェントを使用してJavaScriptスニペットをウェブページに追加する場合は、できるだけ最上部に近い位置にインストゥルメンテーションスニペットを挿入します。これで、ブラウザの[AJAX呼び出し](/docs/browser/new-relic-browser/dashboard-details/ajax-dashboard)や[JavaScriptエラー](/docs/browser/new-relic-browser/dashboard-details/javascript-errors-dashboard)に関する詳細な情報を利用できます。

詳細については、APMエージェントの手順を参照してください。

* [C SDK](/docs/agents/c-sdk/instrumentation/guide-using-c-sdk-api/#browser)
* [Go](/docs/agents/go-agent/features/install-new-relic-browser-go-apps)
* [Java](/docs/agents/java-agent/instrumentation/page-load-timing-java)
* [.NET](/docs/agents/net-agent/features/page-load-timing-net)
* [Node.js](/docs/agents/nodejs-agent/supported-features/page-load-timing-nodejs)
* [PHP](/docs/agents/php-agent/features/page-load-timing-php)
* [Python](/docs/agents/python-agent/supported-features/page-load-timing-python)
* [Ruby](/docs/agents/ruby-agent/features/page-load-timing-ruby)

## Browserエージェントのインストレーションのトラブルシューティング [#troubleshooting]

[セッショントレース](/docs/browser/new-relic-browser/dashboard-details/session-traces-exploring-webpages-life-cycle)、[AJAX呼び出し](/docs/browser/new-relic-browser/dashboard-details/ajax-dashboard)、または[JavaScript](/docs/browser/new-relic-browser/dashboard-details/javascript-errors-dashboard)エラーのBrowser Pro機能を有効化する場合は、情報を使用できるようになるまでに5分程度かかる場合があります。ブラウザのインストレーションに問題がある場合、または5分経過してもデータが表示されない場合は、[トラブルシューティングのヒント](/docs/browser/new-relic-browser/getting-started/troubleshooting-browser-monitoring)を参照し、エージェントを再起動します。