---
title: はじめに
metaDescription: 'Learn how to enable and manage Browser Logs in New Relic, including steps for automatic log collection and how to disable the feature.'
freshnessValidatedDate: never
translationType: machine
---

## browserログを自動検出 [#automatic-log]

自動ログは、 browser `console` から発行されたログメッセージを収集し、フロントエンド アプリケーションの監視性を最大化するのに役立ちます。

Browserログは、デフォルトでは、 <DNT>Pro</DNT>および<DNT>Pro+SPA</DNT>エージェントの`WARN`レベルで追跡されますが、Lite ブラウザエージェントでは使用できません。 まず、 <DNT>**Pro**</DNT>または<DNT>**Pro + SPA**</DNT>ブラウザ エージェントを使用していることを確認することをお勧めします。

<Callout variant="important">
  ブラウザーのログ収集の有効化または無効化、サンプル レートやログの冗長性の調整などの特定の設定は、サーバー側構成です。 エージェント スニペットをページに追加したら、これらの設定を変更するためにスクリプトを再デプロイする必要はありません。ただし、その機能がデプロイ スクリプトに含まれていない場合、サーバー側構成は効果がありません。 これは、BrowserAgent バージョン`1.259.0`以降に適用されます。
</Callout>

### browser自動ログの仕組み

browserログの自動インストゥルメンテーションは、設定で設定されたログレベルとサンプリングレートに基づいて、次の方法でメッセージの収集を試みます。

<table>
  <thead>
    <tr>
      <th style={{width: "200px"}}>
        方法
      </th>

      <th>
        レベル
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        console.log
      </td>

      <td>
        `INFO`
      </td>
    </tr>

    <tr>
      <td>
        console.error
      </td>

      <td>
        `ERROR`
      </td>
    </tr>

    <tr>
      <td>
        console.warn
      </td>

      <td>
        `WARN`
      </td>
    </tr>

    <tr>
      <td>
        console.info
      </td>

      <td>
        `INFO`
      </td>
    </tr>

    <tr>
      <td>
        console.debug
      </td>

      <td>
        `DEBUG`
      </td>
    </tr>

    <tr>
      <td>
        console.trace
      </td>

      <td>
        `TRACE`
      </td>
    </tr>
  </tbody>
</table>

デフォルトでは、ログデータは 30 日間保存されますが、実際のデータ保持期間はアカウントによって異なります。

### 前提条件

* <DNT>**Pro**</DNT>または<DNT>**Pro + SPA**</DNT>ブラウザ エージェント:

  <table>
    <thead>
      <tr>
        <th style={{width: "200px"}}>
          エージェントバージョン
        </th>

        <th>
          設定動作
        </th>
      </tr>
    </thead>

    <tbody>
      <tr>
        <td>
          `1.283.0 - 1.305.0`
        </td>

        <td>
          アプリケーション設定はコンソールと手動ログの両方に適用されます
        </td>
      </tr>

      <tr>
        <td>
          `1.306.0` 以降
        </td>

        <td>
          コンソールログと手動ログには、詳細度、サンプリング、有効化/無効化コントロールの個別の設定があります。
        </td>
      </tr>
    </tbody>
  </table>

<Callout variant="important">
  自動ログ検出は、Lite Browser エージェントでは利用できません。
</Callout>

## 自動ログ収集を有効にする（既存のブラウザアプリの場合） [#enable-automatic-log]

これらの簡単なセットアップ手順に従って、アプリケーションの監視機能とデバッグ機能を強化します。

<Steps>
  <Step>
    **[one.newrelic.com](https://one.newrelic.com) &gt; All Capabilities &gt; Browser**に移動します。
  </Step>

  <Step>
    ブラウザ アプリを選択します。
  </Step>

  <Step>
    左側のメニューで、 **Application settings** \[アプリケーション設定] をクリックします。
  </Step>

  <Step>
    <DNT>**Pro**</DNT>または<DNT>**Pro + SPA**</DNT>ブラウザ エージェントが選択されていることを確認します。
  </Step>

  <Step>
    ブラウザのコンソールに送信されたメッセージを収集するには、 **Automatically collect console logs** \[コンソール ログを自動的に収集する]を**ON** \[オン]に切り替えます。<br />`newrelic.log()`または`newrelic.wrapLogger()`経由でプログラムによって送信されたログを収集するには、 **Collect logs manually** \[ログを手動で収集]を**ON** \[オン]に切り替えます。
  </Step>

  <Step>
    サンプリング レートを編集して、ログを収集するユーザー セッションの割合を指定します。0 から 100 までの値を入力できます。

    <Callout variant="important">
      ブラウザ ログのデフォルトのサンプリング レートは、ユーザー セッションの 100% に設定されています。このセッションのサンプリング レートは、 `0%`から`100%`の間の任意の値に設定できます。たとえば、セッションのサンプリング レートを`50%`に設定すると、ランダムに選択されたユーザー セッションの約半数からログイベントが収集されます。
    </Callout>
  </Step>

  <Step>
    必要なブラウザ ログの詳細レベルを選択します。デフォルトの詳細レベルは**WARN**に設定されています。選択できるレベル:

    * `ERROR` - `ERROR`レベルのログを収集する
    * `WARN` - `WARN`または`ERROR`レベルのログを収集します
    * `INFO` - `INFO` 、 `WARN` 、または`ERROR`レベルのログを収集します
    * `DEBUG` - `DEBUG` 、 `INFO` 、 `WARN` 、または`ERROR`レベルのログを収集します
    * `TRACE` - `TRACE` 、 `DEBUG` 、 `INFO` 、 `WARN` 、または`ERROR`レベルのログを収集します

    <br />

    <Callout variant="important">
      コンソール メソッドを介して渡されるデータは、シリアル化および[難読化さ](/docs/browser/new-relic-browser/configuration/obfuscate-browser-agent-data)れる可能性があります。 サイズと頻度によっては、アプリケーションのパフォーマンスやデータコストに悪影響を及ぼす可能性があります。 一般に、大きなオブジェクトや大量のデータをコンソール メソッドに渡すことは推奨されません。
    </Callout>
  </Step>
</Steps>

<img title="Browser logs" alt="screenshot of the browser logs configuration under Application settings" src="/images/browser-logs-overview.webp" />

## ブラウザログを無効にする [#disable-browser-logs]

既存のブラウザ アプリのブラウザ ログを無効にするには:

<Steps>
  <Step>
    **[one.newrelic.com](https://one.newrelic.com) &gt; All Capabilities &gt; Browser**に移動します。
  </Step>

  <Step>
    ブラウザ アプリを選択します。
  </Step>

  <Step>
    左側のメニューで、 **Application settings** \[アプリケーション設定] をクリックします。
  </Step>

  <Step>
    **Automatically collect console logs** \[コンソール ログを自動的に収集する]および**Collect logs manually** \[ログを手動で収集するを]**OFF** \[オフ]に切り替えます。
  </Step>
</Steps>

## データ消費

ログは、他のbrowserバイトと同じ消費価格設定に従います。 生成されるバイトの量は、メッセージの数と長さによって異なります。

自動ロギング機能により、ロギングイベントにカスタムアトリビュートを追加する場合を除き、`newrelic.log` または `newrelic.wrapLogger` browser API呼び出す必要がなくなります。