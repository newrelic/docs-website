---
title: セッションリプレイのセットアップ
metaDescription: Enable session replay to play back user interactions and improve page performance.
freshnessValidatedDate: '2024-12-19T00:00:00.000Z'
translationType: machine
---

New Relicでセッションリプレイを利用するには、まずブラウザのアプリケーション設定でこの機能を有効にします。 このステップは、Web アプリでユーザー インタラクションをキャプチャし、ユーザー ジャーニーにインサイトを提供し、トラブルシューティングの問題を効果的に行うために不可欠です。 以下の手順に従ってセッションリプレイを有効にし、ブラウザエージェントが正しく設定されていることを確認してください。

<Callout variant="important">
  セッション リプレイの有効化または無効化、セッション全体またはエラーのあるセッションのみのサンプル レートの調整などの特定の設定は、サーバーサイド設定に移動されました。 たとえば、セッション リプレイ機能を含めるためにページ内のスニペットが更新された後は、サンプル レートを変更するとき、または機能を無効または再度有効にするときに、スクリプトを再展開する必要はありません。 この機能がデプロイ スクリプトに含まれていない場合、サーバー側の構成は影響を及ぼしません。 これは、BrowserAgent バージョン`1.259.0`以降に適用されます。
</Callout>

## セッションリプレイを有効にする [#enable-session-replay]

1. <DNT>**[one.newrelic.com](https://one.newrelic.com/all-capabilities) &gt; All Capabilities &gt; Browser**</DNT>に移動します。

2. ブラウザ アプリを選択します。

3. 左側のメニューで、 <DNT>**Application settings**</DNT>をクリックします。

4. <DNT>**Application settings**</DNT>ページで、 <DNT>**Pro**</DNT>または<DNT>**Pro + SPA**</DNT>ブラウザエージェントが選択されていることを確認します。 セッションリプレイは、Lite Browser エージェントでは利用できません。

5. <DNT>**Session traces**</DNT>と<DNT>**Session replay**</DNT>オンに切り替えます。

   <Callout variant="important">
     <DNT>**Session replay**</DNT>設定を表示できない場合。 さらにサポートが必要な場合は、管理者にお問い合わせください。
   </Callout>

## サンプリングレートの設定 [#configure-sampling-rates]

次のサンプルのサンプリング レート (0% ～ 100%) を設定します。

* <DNT>**User sessions**</DNT> すべてのユーザー セッションのランダム サンプルを記録します。

* <DNT>**Errored session**</DNT> すべてのエラーセッションのランダムサンプルを記録します。 エージェントはクライアント側で最大 30 秒間、データのスライディング ウィンドウをバッファリングします。エラーが発生した場合、バッファリングされたデータが収集され、セッションの残りの部分が記録されます。 エラーが発生しない場合、リプレイは収集されません。

たとえば、セッション サンプリング レートを 50% に設定し、エラー サンプリング レートを 100% に設定すると、次のことが意味されます。

* すべてのユーザー セッションの半分が記録されます。

* 50% サンプルに含まれていない場合でも、エラーが発生したすべてのセッションが記録されます。