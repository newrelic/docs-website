---
title: CodeStream フィードバック リクエストで早期フィードバックを得る
metaDescription: 'Get feedback on work-in-progress code, before the pull request, using New Relic CodeStream feedback requests.'
translationType: machine
---

import codestreamFeedbackRequestsSection from 'images/codestream_screenshot-crop_feedback-requests-section.webp'

import codestreamFeedbackRequestExample from 'images/codestream_screenshot-crop_feedback-request-example.webp'

import codestreamChangedFilesList from 'images/codestream_screenshot-crop_changed-files-list.webp'

import codestreamExcludeFileFromReviewButton from 'images/codestream_screenshot-crop_exclude-file-from-review-button.webp'

import codestreamFeedbackRequestTeamSettings from 'images/codestream_screenshot-crop_feedback-request-team-settings.webp'

import codestreamFeedbackRequestDiffView from 'images/codestream_screenshot-crop_feedback-request-diff-view.webp'

import codestreamFeedbackRequestNavigateChangesButtons from 'images/codestream_screenshot-crop_feedback-request-navigate-changes-buttons.webp'

import codestreamCommentSpecificCode from 'images/codestream_screenshot-crop_comment-specific-code.webp'

import codestreamReviewRequestedChanges from 'images/codestream_screenshot-full_review-requested-changes.webp'

import codestreamCodeReviewAmendForm from 'images/codestream_screenshot-crop_code-review-amend-form.webp'

import codestreamChangedFilesReviewCheckpoints from 'images/codestream_screenshot-crop_changed-files-review-checkpoints.webp'

New Relic CodeStream のフィードバックリクエストは、従来のエンドオブサイクルのコードレビューに使用するのに十分な強力な機能を備えていますが、同時に非常に簡単で柔軟性に富んでいるため、開発プロセス全体を通して、進行中の作業に対する迅速なフィードバックを得るために使用することができます。さらに、コミットされていない変更に対してもフィードバックリクエストを使用することができます。

従来のコードレビューは、開発サイクルの最後に行われ、変更のマージを行う際に行われていました。サイクルの終わりに行われるコードレビューは、チームメイトの負担が大きくなるだけでなく、問題の発見が遅すぎて、スケジュールを大幅に短縮するか、技術的負債を抱えるかのどちらかを選択しなければならなくなる危険性があります。

CodeStreamは開発サイクルのどの時点でも、スタブ関数を作成しただけのプロジェクトの初期段階から、進行中の作業の中間段階、あるいは完成したプロジェクトの最終レビューに至るまで、フィードバックを可能にします。CodeStreamは、プッシュされたコミット、ローカルでのコミット、ステージングされた変更、保存された変更など、現在のステータスを共有するための複雑な作業を処理します。チームメイトは、アプリケーションを切り替えることなく、ブランチを切り替えたり変更をプルすることなく、自分のIDEからフィードバックを提供することができます。

開発サイクルの最後に行われる正式なコードレビューやプルリクエストに至るまでには、問題が提起され、議論され、解決されているため、苦痛ははるかに少なく、形式的なものとなっているのです。

IDEでフィードバックを要求するためのCodeStreamの使い方については、YouTubeのショートビデオ（4分25秒）をご覧ください。

<Video
  id="lekPPyeG69I"
  type="youtube"
/>

## フィードバックリクエストUI [#feedback-ui]

New Relic CodeStream の「フィードバックリクエスト」セクションには、自分に割り当てられた、または自分がリクエストした未解決のフィードバックリクエストと、承認された、または変更がリクエストされた最近のフィードバックリクエストがすべて表示されます。

<img
  title="feedback-request-section"
  alt="A screenshot showing the feedback request section"
  src={codestreamFeedbackRequestsSection}
/>

<figcaption>
  フィードバック要求のセクションは、要求をオープン、承認、変更要求で分けています。
</figcaption>

フィードバックリクエストをクリックすると、レビューに参加したり、あなたの作品に対するチームメイトのコメントを見ることができます。

## フィードバックのお願い [#request-feedback]

ご意見を伺うため。

* CodeStreamペインの上部にある「 **+ Create** 」ボタンをクリックします。
* **フィードバックリクエスト** セクションのヘッダーにある「 **+ フィードバックリクエスト** 」ボタンを選択します。管理者であれば、歯車のアイコンも表示され、 [フィードバックリクエストの割り当て](#fr-settings) と承認が組織でどのように機能するかを制御することができます。
* キーボード ショートカット (Mac では`ctlr+shift+/` `r`または`ctrl+/` `r` ) を使用することもできます。

<img
  title="Request feedback"
  alt="A screenshot showing how to request feedback"
  src={codestreamFeedbackRequestExample}
/>

ワンクリックで、最後のコミットメッセージ、ブランチ名、または [チケットを選択して作業を開始した場合は](/docs/codestream/how-use-codestream/start-work/) 、チケットタイトルに基づいてフィードバックリクエストに名前を付けることができます。CodeStream は、あなたがエディタで現在選択しているファイルのリポジトリ/ブランチの変更に対するフィードバックを要求していると仮定します。IDE で複数のリポジトリを開いている場合は、フィードバックリクエストフォームの一番上にあるリポジトリのドロップダウンから変更することができます。

フィードバックリクエストの設定によっては、CodeStreamが特定のレビュアーを提案することがあります。変更されたコードのコミット履歴に基づいて、CodeStreamのチームにまだ所属していない人が提案されることもあります。その場合、その人にメールで通知されます。レビュアーの名前にカーソルを合わせると、詳細が表示されたり、レビュアーを削除することができます。複数のレビュアーが割り当てられている場合、そのうちの誰かがレビューを承認するのか、それとも一人一人が個別に承認しなければならないのかを決定するオプションもあります。詳しくは、 [フィードバック設定の方法について](#fr-settings) をご覧ください。

### プルリクエストで変更されたファイルを探索する [#changed-files]

**Changed Files** セクションには、追加、削除、変更されたすべてのファイルがリストアップされています。フィードバック・リクエストを送信する前に変更内容を確認したい場合は、ファイルをクリックすると差分が表示されます。

<img
  title="Changed files"
  alt="A screenshot showing changed files in a review"
  src={codestreamChangedFilesList}
/>

チェックインしたバイナリファイルなど、レビューに適さないファイルがある場合、任意のファイルにカーソルを合わせて **x** をクリックすると、そのファイルをフィードバック要求から除外することができます。そのファイルは、フォームの下のリストに移動されます。新しいファイルは、デフォルトでフィードバック要求から除外されますが、リスト内のエントリにカーソルを合わせて、 **+** 、追加することができます。

<img
  title="Exclude from review"
  alt="A screenshot showing files excluded from a review"
  src={codestreamExcludeFileFromReviewButton}
/>

除外されたファイルにカーソルを合わせ、ごみ箱をクリックして、今後のすべてのフィードバック リクエストから永久に除外します。ファイルを完全に除外すると、リポジトリに`.codestreamignore`ファイルが作成されます。チームメイトもこれらのファイル (たとえば、 `package-lock.json`またはその他のシステム生成ファイル) を除外したいと考える場合は、ファイルをコミットおよびプッシュして、チームメイトも利用できるようにすることができます。

選択されたファイルの変更点は4つのカテゴリーに分類され、フィードバックリクエストに含めたい内容を正確に選択することができます。これには、プッシュされていない、あるいはコミットされていない変更も含まれます。

4つのカテゴリーがあります。

* 変更の保存
* 段階的な変化
* ローカルコミット
* 押し出されたコミット

### プルリクエストのコミット [#commits]

コミットは、 **Local Commits** と **Pushed Commits** のセクションで降順に表示されます。あるコミットのチェックを外すと、そのコミットに先行するすべてのコミットのチェックが自動的に外れます。言い換えると、フィードバックリクエストに含まれるコミットは連続していなければなりません。デフォルトでは、自分のコミットだけがチェックされますが、どのコミットもレビューに含めることができます。

<Callout variant="tip">
  git設定のメールアドレスがCodeStreamのメールアドレスと一致していることを確認してください。または、 [blame map](/docs/codestream/how-use-codestream/my-organization/#blame-map) を設定して、gitのメールアドレスとCodeStreamのメールアドレスを対応させます。
</Callout>

オプションとして、フィードバックリクエストをSlackまたはMicrosoft Teamsで共有することができます。

フィードバックリクエストを送信すると、アクティビティフィードでチームメイトに通知され、レビュアーに指定された人には@が表示され、メールでも通知されます。

### フィードバックリクエストの設定 [#fr-settings]

デフォルトでは、フィードバックを要求した人が承認の動作を決めることができますが、組織のすべてのフィードバック要求に対するデフォルトの動作を設定することもできます。

<img
  title="feedback-request-settings"
  alt="A screenshot showing the feedback request settings"
  src={codestreamFeedbackRequestTeamSettings}
/>

<figcaption>
  フィードバック要求の設定を使用して、組織のフィードバックプロセスを微調整します。
</figcaption>

* **レビュアーの人数に関係なく、どのレビュアーも** を承認することができます。
* **すべてのレビュアーが個別に承認する必要があります** 承認されたとみなされる前に、すべてのレビュアーが承認する必要があります。
* **レビューを依頼したデベロッパーは、** 依頼を承認することを決定します。

また、CodeStreamがレビュアーを提案するかどうか、どのように提案するかを決めることができます。

* **ラウンドロビン** は、組織内のすべての開発者を循環させます。
* **Random** は、フィードバック要求を組織内の任意の開発者にランダムに割り当てます。
* **Authorship** オプションは、変更の影響を受けるコード行を書いた開発者や、ブランチにコミットした可能性のある他の開発者に基づいて、最大 3 人のレビュアーを提案します。

## フィードバック [#provide-feedback]

CodeStreamのフィードバックリクエストの最大の特徴は、チームメイトに自分のコードを見てもらうことで、彼らに余分な負担をかけないことです。ブランチを切り替えたり、変更を取り込んだりするために自分の仕事を脇に置いておく必要はありませんし、IDEを離れる必要もありません。適切なリポジトリを持っていれば、フィードバックリクエストを開いて、あなたの変更点のレビューを始めることができます。

<img
  title="Review view"
  alt="A screenshot showing the complete view during a review"
  src={codestreamFeedbackRequestDiffView}
/>

**Changed Files** セクションの任意のファイルをクリックして、変更点を確認します。変更点はエディタ上に diff で表示されます。IDE のネイティブナビゲーションや、IDE 上部の上下矢印をクリックすることで、ファイルの変更点を順に確認することができます。JetBrains IDE の場合、CodeStream はサイドバイサイドの diff ビューアのみをサポートします。

<img
  title="Navigate changes"
  alt="A screenshot showing how to navigate between changes"
  src={codestreamFeedbackRequestNavigateChangesButtons}
/>

通常、差分はフィードバックリクエストに関連したブランチ (機能/トピックブランチなど) の変更点を、機能ブランチが作成された時点でのベースブランチに対して表します。CodeStreamの差分では、開発者がフィードバックリクエストにすべての変更を含めていない可能性があるため、必ずしもそうではありません。その結果、差分を取るファイルのバージョンには、ベースブランチにない変更点が含まれていることがあります。これは、継続性を持たせるために重要なことです。

### コメント・変更依頼 [#comments]

変更点について一般的なコメントがある場合は、 **フィードバックリクエストのスレッドに返信を追加してください。**:

* 実際の変更点についてコメントしたい場合は、差分の右側からいくつかのコードを選択し、選択したコードの横にあるCodeStreamペインに表示されるコメントボタンをクリックしてください。
* コードを選択した後、キーボード ショートカット (Mac では`ctlr+shift+/` `c`または`ctrl+/` `c` ) を使用することもできます。

<img
  title="Leave a comment"
  alt="A screenshot showing how to leave a comment in a review"
  src={codestreamCommentSpecificCode}
/>

ファイルの全文脈がわかるので、変更されたコードの行だけをコメントするように制限されることはありません。たとえば、ファイルの他の部分にも作業が必要であることに気づいたり、単に参照したいだけであることに気づいたりするかもしれません。

一般的なコメントであれ、コードに関するコメントであれ、変更要求としてマークすることで、変更を承認する前にそれが必要であることを開発者に知らせることができるのです。

フィードバック中に、チェンジセットに含まれないファイルにコメントすることもでき、そのファイルはレビューへの返信として追加されます。これは、改善が必要なコードベースの別の場所をチームメイトに指摘するのに役立ちます。

### 変更要求の承認 [#approve-changes]

フィードバックリクエストに関連するすべての変更要求は、ディスカッションスレッドの一部であるだけでなく、上部のセクションにまとめられます。作業が完了したら、ここに完了マークが付けられます。

<img
  title="Review change requests"
  alt="A screenshot showing all the requested changes"
  src={codestreamReviewRequestedChanges}
/>

* 上部にある緑と赤のボタンを探して、変更を承認するか、追加の変更を要求してください。
* 未解決の変更要求がある場合、承認ボタンが青いボタンに変わり、番号が表示されます。この場合でも変更を承認することはできますが、未解決の作業があることを認識しておいてください。
* 複数のレビュアーがいて、それぞれからの承認が必要な場合、CodeStreamでは未承認の承認がある場合は非常にわかりやすくなっています。右上の青いボタンは、未承認の数を示しています。レビュアーのヘッドショットに表示されている緑色のサムズアップは、あなたの変更がすでに承認されたことを示しています。

## コード変更の追加 [#add-changes]

典型的なワークフローは、レビューアがコメントや変更点を提案し、開発者がそのフィードバックに応えてコードをさらに変更するというものです。このプロセスを継続するには、青い **Amend** ボタンをクリックして、変更を追加します。

* 最初にフィードバックリクエストを送信したときと同様に、保存された変更とステージングされた変更、ローカルコミットとプッシュされたコミットから選択できます。未解決の変更要求もリストアップされるので、更新によって対処されたものに印をつけることができます。

<img
  title="Amend review form"
  alt="A screenshot showing the amend review form"
  src={codestreamCodeReviewAmendForm}
/>

* デフォルトでは、レビューアがフィードバックリクエストに戻ったとき、各ファイルの差分を調べながら、チェンジセット全体（すべてのアップデートにわたる変更点など）を見ることになります。また、個々のアップデートの差分も見ることができます。

<img
  title="Review checkpoints"
  alt="A screenshot showing review checkpoints"
  src={codestreamChangedFilesReviewCheckpoints}
/>

## フィードバック依頼を承認する [#approve-fr]

フィードバックレビューのプロセスは、変更の最終的な承認を得るために必要なアップデートの数だけ続けることができます。フィードバックリクエストが承認されると、CodeStreamの中から [プルリクエスト](/docs/codestream/how-use-codestream/pull-requests) を作成して、コードをマージすることができます。

<Callout variant="caution">
  プルリクエストが作成された後は、フィードバックリクエストを修正したり、再開することはできません。
</Callout>