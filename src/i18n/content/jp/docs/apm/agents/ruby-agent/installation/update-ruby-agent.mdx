---
title: Rubyエージェントの更新
tags:
  - Agents
  - Ruby agent
  - Installation
metaDescription: How to update your New Relic Ruby agent plus notes on EOL support for early agent versions.
freshnessValidatedDate: never
translationType: machine
---

New Relic の最新機能、拡張機能、重要なセキュリティパッチを最大限に活用するために、Ruby エージェントを最新版にアップデートすることをお勧めします。特定のエージェントのアップデートに関する追加情報については、 [Ruby エージェントのリリースノート](/docs/release-notes/agent-release-notes/ruby-release-notes) を参照してください。

## Rubyエージェントのバージョンの確認 [#determine-versions]

アプリが現在使用しているRubyエージェントのバージョンを確認します。

1. New Relic の[ユーザー メニュー](/docs/accounts/accounts-billing/general-account-settings/intro-account-settings)から

   <DNT>
     **Account settings > Connected agents**
   </DNT>

   を選択します。

2. オプション:

   <DNT>
     **Oldest agent version**
   </DNT>

   で並べ替えます。

## エージェントの更新 [#Updating_the_Agent]

Rubyエージェントをアップデートするには

* Bundlerを使う。このコマンドを実行します。

  ```
  bundle update newrelic_rpm
  ```

* Bundlerを使用していません。このコマンドを実行してください。

  ```
  gem update newrelic_rpm
  ```

## サポート対象外のバージョンのエージェントのアップデート [#eol-update]

<Callout variant="important">
  メジャーバージョンのアップデートなど、以前のバージョンのエージェントからアップデートしている場合は、機能変更の以下のリストを見直してください。
</Callout>

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        移行
      </th>

      <th>
        コメントコメント
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td id="migration-7-8">
        バージョン 7 から 8 へ
      </td>

      <td>
        リリース ノート: [Ruby エージェント 8.0.0](/docs/release-notes/agent-release-notes/ruby-release-notes/ruby-agent-800)

        以前のバージョンの Ruby エージェントから 8.0.0 に移行するための役立つ戦略とヒントについては、 [Ruby エージェント 7.x から 8.x への移行ガイド](/docs/apm/agents/ruby-agent/getting-started/migration-8x-guide/)を参照してください。このガイドでは、新しい設定のデフォルト、 `add_method_tracer` API の変更、廃止されたアイテムとその代替品について説明します。

        * `add_method_tracer` API メソッドの変更
        * Distributed Tracingはデフォルトで有効です。
        * クロスアプリケーショントレースは非推奨
        * 非推奨のAPIメソッドとレガシー・インスツルメンテーションの削除
      </td>
    </tr>

    <tr>
      <td id="migration-6-7">
        バージョン6から7へ
      </td>

      <td>
        リリースノート： [Ruby agent 7.0.0](/docs/release-notes/agent-release-notes/ruby-release-notes/ruby-agent-700)

        以前のバージョンの Ruby エージェントから 7.0.0 に移行するための役立つ戦略とヒントについては、 [Ruby エージェント 6.x から 7.x への移行ガイド](/docs/agents/ruby-agent/getting-started/migration-7x-guide/)を参照してください。このガイドでは、新しい構成設定、SSL CA 証明書の診断とインストール、および廃止されたアイテムとその代替品について説明します。

        * Ruby 2.0と2.1のドロップ
        * ほとんどのRubyのgem/ライブラリにprefendの自動挿入ストラテジーを実装。
        * SSL証明書バンドルの削除
        * 非推奨の各種設定オプションを削除
      </td>
    </tr>

    <tr>
      <td id="migration-5-6">
        バージョン5から6へ
      </td>

      <td>
        リリースノート： [Ruby agent 6.0.0.351](/docs/release-notes/agent-release-notes/ruby-release-notes/ruby-agent-600351)

        柔軟なカスタムインストルメントのためのTracer APIの追加に伴い、いくつかのAPIが非推奨となりました。使用している場合は、更新する必要があります。詳細については、 [Ruby custom instrumentation](/docs/agents/ruby-agent/api-guides/ruby-custom-instrumentation) をご覧ください。
      </td>
    </tr>

    <tr>
      <td id="migration-4-5">
        バージョン4から5へ
      </td>

      <td>
        リリースノート： [Ruby agent 5.0.0.342](/docs/release-notes/agent-release-notes/ruby-release-notes/ruby-agent-500342)

        New RelicへのSSL接続が必須になりました。
      </td>
    </tr>

    <tr>
      <td id="migration-3-4">
        バージョン3から4へ
      </td>

      <td>
        リリースノート： [Ruby agent 4.0.0.332](/docs/release-notes/ruby-agent-400332)

        エージェントは、2.0より前のRubyバージョン、JRuby 1.7以前、およびRubiniusのすべてのバージョンをサポートしなくなりました。
      </td>
    </tr>

    <tr>
      <td id="deprecated-apis">
        非推奨のAPIコール
      </td>

      <td>
        非推奨のAPIコールとその代替品のリストについては、 [非推奨APIコールの更新](/docs/agents/ruby-agent/troubleshooting/update-deprecated-api-calls) を参照してください。
      </td>
    </tr>
  </tbody>
</table>
