---
title: Rubyエージェントの要件とサポート対象のフレームワーク
tags:
  - Agents
  - Ruby agent
  - Getting started
metaDescription: The official list of system requirements and compatible frameworks for APM's Ruby agent.
freshnessValidatedDate: never
translationType: human
---

[New RelicのRubyエージェントをインストールする](/docs/agents/ruby-agent/installation-and-configuration/ruby-agent-installation)前に、互換OSに対する要件、セキュリティ要件、およびサポート対象のフレームワークを満たしていることを確認してください。

New Relicアカウントをまだお持ちでない場合は、[New Relicアカウントを作成](https://newrelic.com/signup)することから始めます。永久無料です。

## オペレーティングシステム [#os]

Rubyエージェントは、Linux、Solaris、FreeBSD、macOSといったUNIX系のオペレーティングシステムをサポートします。

## セキュリティ要件 [#security]

標準的な[データ収集のセキュリティ対策](/docs/accounts-partnerships/accounts/security/data-security)として、アプリサーバーはSHA-2（256ビット）をサポートしている必要があります。SHA-1はサポートされていません。New Relicでは、すべてのインバウンド接続にTLS 1.2以上が必要です。

## Rubyバージョン [#ruby_versions]

New Relic Rubyエージェントは、実験的なバージョンをサポートしません。RubyエージェントがサポートするRubyバージョンは以下のとおりです。

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        Rubyバージョン
      </th>

      <th style={{ width: "150px" }}>
        サポート対象
      </th>

      <th>
        非推奨
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        JRuby
      </td>

      <td>
        * 9.0.x
        * 9.1.x
        * 9.2.x
        * 9.3.x
      </td>

      <td>
        * 1.7.x以前：最後にサポートされたエージェントは、3.18.1.330です。
      </td>
    </tr>

    <tr>
      <td>
        CRuby
      </td>

      <td>
        * ~~1.8.7~~
        * ~~1.9.x~~
        * ~~2.0.x~~
        * ~~2.1.x~~
        * ~~2.2.x~~
        * ~~2.3.x~~
        * 2.4.x
        * 2.5.x
        * 2.6.x
        * 2.7.x
        * 3.0.x
        * 3.1.x
        * 3.2.x
      </td>

      <td>
        * 2.2.x、2.3.x最後にサポートされたエージェント：8.16.0
        * 2.0.x、2.1.x最後にサポートされたエージェント：6.15.0。
        * 1.8.7、1.9.2、1.9.3：最後にサポートされたエージェントは、3.18.1.330です。
        * 1.8.6：最後にサポートされたエージェントは、3.6.8.168です。
      </td>
    </tr>
  </tbody>
</table>

## ウェブサーバー [#web_servers]

Rubyエージェントでサポートされるウェブサーバーは以下のとおりです。

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        ウェブサーバー
      </th>

      <th>
        サポート対象
      </th>

      <th>
        非推奨
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Passenger
      </td>

      <td>
        * ~~2.2.x~~
        * ~~3.0.x~~
        * ~~4.0.x~~
        * 5.x.x
        * 6.0.x
      </td>

      <td>
        * 2.2.x、3.0.x、4.0.x：最後にサポートされたエージェント：8.16.0
      </td>
    </tr>

    <tr>
      <td>
        Puma
      </td>

      <td>
        * ~~2.0.x~~
        * 3.x.x
        * 4.x.x
        * 5.x.x
        * 6.x.x
      </td>

      <td>
        * 1.0.x、2.0.x：最後にサポートされたエージェント：8.16.0
      </td>
    </tr>

    <tr>
      <td>
        Rainbows!
      </td>

      <td>
        * ~~4.5.0~~
      </td>

      <td>
        4.5.0：最後にサポートされたエージェントは、8.16.0です。
      </td>
    </tr>

    <tr>
      <td>
        Thin
      </td>

      <td>
        * 1.x.x
      </td>
    </tr>

    <tr>
      <td>
        Unicorn
      </td>

      <td>
        * 4.x.x
        * 5.x.x
        * 6.0.x
      </td>

      <td>
        * 1.0.x
        * 2.0.x
        * 3.0.x
      </td>
    </tr>

    <tr>
      <td>
        Webrick
      </td>

      <td>
        Rubyのエージェントをサポートする全バージョンがサポート対象
      </td>
    </tr>
  </tbody>
</table>

## ウェブフレームワーク [#web_frameworks]

Rubyエージェントは、実験的なバージョンをサポートしていません。Rubyエージェントでサポートされているウェブフレームワークは、以下のとおりです。Grape、Padrino、Sinatraは、Ruby 3.0+ではサポートされていません。

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        ウェブフレームワーク
      </th>

      <th style={{ width: "200px" }}>
        サポート対象
      </th>

      <th>
        非推奨
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Grape
      </td>

      <td>
        * ~~0.2.0~~
        * 0.19.2
        * 1.2.x
        * 1.3.x
        * 1.4.x
        * 1.5.x
        * 1.6.x
        * 1.7.x
      </td>

      <td>
        * 0.2.0：最後にサポートされたエージェント：8.16.0
      </td>
    </tr>

    <tr>
      <td>
        Padrino
      </td>

      <td>
        * ~~0.14.x~~
        * 0.15.1
        * 0.15.2
      </td>

      <td>
        * 0.14.x：最後にサポートされたエージェント：8.16.0
      </td>
    </tr>

    <tr>
      <td>
        Rack
      </td>

      <td>
        * 1.6.x
        * 2.x
        * 3.0.x
      </td>

      <td>
        * 1.0.x
      </td>
    </tr>

    <tr>
      <td>
        Rails
      </td>

      <td>
        * ~~3.2.x~~
        * 4.0.x
        * 4.1.x
        * 4.2.x
        * 5.0.x
        * 5.1.x
        * 5.2.x
        * 6.0.x
        * 6.1.x
        * 7.0.x
      </td>

      <td>
        * 2.1.x、2.2.x、2.3.x：最後にサポートされたエージェントは、3.18.1.330です。
        * 2.0.x：最後にサポートされたエージェントは、3.6.8.168です。
        * 3.0.x、3.1.x：最後にサポートされたエージェントは、6.15.0です。
        * 3.2.x：最後にサポートされたエージェントは、8.16.0です。
      </td>
    </tr>

    <tr>
      <td>
        Roda
      </td>

      <td>
        * 3.19.0以降
      </td>

      <td/>
    </tr>

    <tr>
      <td>
        Sinatra
      </td>

      <td>
        * ~~1.4.x~~
        * ~~1.5.x~~
        * 2.0.x
        * 2.1.x
        * 3.0.x
      </td>

      <td>
        * 1.2.x、1.3.x：最後にサポートされたエージェントは、6.15.0です。
        * 1.4.x、1.5.x：最後にサポートされたエージェントは、8.16.0です。
      </td>
    </tr>
  </tbody>
</table>

## データベース

Rubyエージェントは、実験的なバージョンをサポートしていません。Rubyエージェントがサポートするデータベースは以下のとおりです。

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        データベース
      </th>

      <th style={{ width: "150px" }}>
        サポート対象
      </th>

      <th>
        非推奨
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        ActiveRecord
      </td>

      <td>
        * ~~3.2.x~~
        * 4.0.x
        * 4.1.x
        * 4.2.x
        * 5.0.x
        * 5.1.x
        * 5.2.x
        * 6.0.x
        * 6.1.x
        * 7.0.x
      </td>

      <td>
        * 3.2.x：最後にサポートされたエージェント：8.16.0
        * 3.0.x、3.1.x：最後にサポートされたエージェント：6.15.0
        * 2.1.x、2.2.x、2.3.x：最後にサポートされたエージェントは、3.18.1.330です。
        * 2.0.x最後にサポートされたエージェントは、3.6.8.168です。
      </td>
    </tr>

    <tr>
      <td>
        DataMapper
      </td>

      <td>
        * ~~1.0~~
      </td>

      <td>
        * 1.0.x：最後にサポートされたエージェント：8.16.0
      </td>
    </tr>

    <tr>
      <td>
        Elasticsearch
      </td>

      <td>
        * 7.x
        * 8.x
      </td>

      <td/>
    </tr>

    <tr>
      <td>
        Mongo
      </td>

      <td>
        * ~~1.8.x~~
        * ~~1.9.x~~
        * ~~2.0.x~~
        * ~~2.1.x~~
        * ~~2.2.x~~
        * ~~2.3.x~~
        * 2.4.x以降
      </td>

      <td>
        * 1.8.x～2.3.x：最後にサポートされたエージェント：8.16.0
      </td>
    </tr>

    <tr>
      <td>
        Redis
      </td>

      <td>
        * 3.x
        * 4.0.x
        * 4.1.x
        * 4.2.x
        * 5.0.x
      </td>

      <td/>
    </tr>

    <tr>
      <td>
        Sequel
      </td>

      <td>
        * ~~3.37.x~~
        * ~~4.0.x~~
        * 4.45.x以降
        * 5.x.x
      </td>

      <td>
        * 3.37、4.0.x：最後にサポートされたエージェント：8.16.0
      </td>
    </tr>
  </tbody>
</table>

## その他のAPMソフトウェア [#other-monitoring-software]

アプリケーションが当社のエージェント以外にその他のアプリケーションパフォーマンスモニタリング (APM)ソフトウェアを使用している場合は、エージェントが正しく動作することを保証できないため、技術サポートは提供できません。詳細については、[その他のモニタリングソフトウェアを使用中のエラー](/docs/apm/new-relic-apm/troubleshooting/errors-while-using-new-relic-apm-alongside-other-apm-software)を参照してください。

## インスタンスの詳細 [#instance_details]

New Relicは[様々なデータベースとデータベースドライバのインスタンス詳細](/docs/apm/applications-menu/features/analyze-database-instance-level-performance-issues)を収集します。APMで特定のインスタンスおよびデータベース情報のタイプを表示する能力は、New Relicエージェントのバージョンによって異なります。

New RelicのRubyエージェント[バージョン3.17.0以降](/docs/release-notes/agent-release-notes/ruby-release-notes/ruby-agent-3170325)は、以下のORMデータベースをサポートします。

<table>
  <thead>
    <tr>
      <th>
        ORM
      </th>

      <th>
        データベース
      </th>

      <th>
        アダプター名
      </th>

      <th>
        エージェントの最小バージョン
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        ActiveRecord 5以降
      </td>

      <td>
        [PostgreSQL](https://www.postgresql.org/)
      </td>

      <td>
        [pg](https://rubygems.org/gems/pg)
      </td>

      <td>
        3.17.0
      </td>
    </tr>

    <tr>
      <td>
        [MySQL](https://www.mysql.com/)
      </td>

      <td>
        [mysql2](https://rubygems.org/gems/mysql2)
      </td>

      <td>
        3.17.0
      </td>
    </tr>

    <tr>
      <td>
        ActiveRecord 2.1～4
      </td>

      <td>
        [PostgreSQL](https://www.postgresql.org/)
      </td>

      <td>
        [pg](https://rubygems.org/gems/pg)
      </td>

      <td>
        3.17.0
      </td>
    </tr>

    <tr>
      <td>
        [MySQL](https://www.mysql.com/)
      </td>

      <td>
        [mysql](https://rubygems.org/gems/mysql)
      </td>

      <td>
        3.17.0
      </td>
    </tr>

    <tr>
      <td>
        [MySQL](https://www.mysql.com/)
      </td>

      <td>
        [mysql2](https://rubygems.org/gems/mysql2)
      </td>

      <td>
        3.17.0
      </td>

      <td/>
    </tr>
  </tbody>
</table>

Rubyエージェントも、次の`gem`データベースをサポートします：

<table>
  <thead>
    <tr>
      <th>
        Gemデータベース
      </th>

      <th>
        Gem名
      </th>

      <th>
        gemの最低バージョン
      </th>

      <th>
        エージェントの最小バージョン
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [Memcached](https://memcached.org/)
      </td>

      <td>
        * [Dalli](https://rubygems.org/gems/dalli)
        * [memcached](https://rubygems.org/gems/memcached)
        * [memcache-client](https://rubygems.org/gems/memcache-client)
      </td>

      <td>
        * 2.7.6
        * 1.8.0
        * 1.5.0
      </td>

      <td>
        3.17.0
      </td>
    </tr>

    <tr>
      <td>
        [Mongo DB](https://www.mongodb.com/)
      </td>

      <td>
        [mongo](https://rubygems.org/gems/mongo)
      </td>

      <td>
        1.8.6
      </td>

      <td>
        3.17.0
      </td>
    </tr>

    <tr>
      <td>
        [Redis](http://redis.io/)
      </td>

      <td>
        [redis-rb](https://rubygems.org/gems/redis)
      </td>

      <td>
        3.0.7
      </td>

      <td>
        3.17.0
      </td>
    </tr>
  </tbody>
</table>

現在、New Relicエージェントにリストされてないデータストアからインスタンスレベルの情報をリクエストするには、[support.newrelic.com](https://support.newrelic.com)までお問い合わせください。

## バックグラウンドジョブ [#background_jobs]

New Relic Rubyエージェントがサポートするバックグラウンドジョブは以下のとおりです。

<table>
  <thead>
    <tr>
      <th>
        バックグラウンドジョブ
      </th>

      <th>
        サポート対象
      </th>

      <th>
        非推奨
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Delayed_Job
      </td>

      <td>
        * ~~2.0.x~~
        * ~~3.0.x~~
        * ~~4.0.x~~
        * 4.1.x
      </td>

      <td>
        * 2.0.x、3.0.x、4.0.x：最後にサポートされたエージェント：8.16.0
      </td>
    </tr>

    <tr>
      <td>
        Rake
      </td>

      <td>
        * 12.3.3 以降
        * 13.x
      </td>

      <td>
        * 10.x
        * 11.x
        * 12.3.2 以前。注：12.3.3以降のみテスト済み（それ以前のバージョンにおける[悪用の可能性](https://hackerone.com/reports/651518)による）。
      </td>
    </tr>

    <tr>
      <td>
        Resque
      </td>

      <td>
        * 1.23.x
        * 1.27.x
        * 2.0.0以降
      </td>

      <td>
        * 1.22.x以前
      </td>
    </tr>

    <tr>
      <td>
        Sidekiq
      </td>

      <td>
        * ~~4.2.x~~
        * 5.x
        * 6.x
        * 7.0.x
      </td>

      <td>
        * 2.8.x、3.4.x、4.0.x、および4.1.x：最後にサポートされたエージェント：6.15.0
        * 4.2.x：最後にサポートされたエージェント：8.16.0
      </td>
    </tr>
  </tbody>
</table>

## HTTP/ネットワーククライアント [#http_network_clients]

RubyエージェントがサポートするHTTPクライアントは以下のとおりです。

* Async：：HTTP：0.59.0以降
* Curb：0.8.1以降
* Ethon：0.12.0以降
* Excon：0.19.0以降（エージェントバージョン8.16.0で最後にサポートされた0.55.0以前のバージョン）
* gRPC：1.0.0以降
* HttpClient：2.2.0以降（エージェントバージョン8.16.0で最後にサポートされた2.2.0～2.8.0のバージョン）
* HttpRb：0.9.9以降（エージェントバージョン8.16.0で最後にサポートされた0.9.9～2.2.1のバージョン）
* HTTPX：1.0.0以降
* Net::HTTP：Rubyの[エージェントをサポート](/docs/agents/ruby-agent/features/http-client-tracing-ruby)する全バージョンがサポート対象
* Typhoeus：0.5.3以降（エージェントバージョン8.16.0で最後にサポートされた0.5.3～1.2.xのバージョン）

## メッセージキューイング [#http_clients]

[メッセージキューのインストゥルメンテーション](/docs/agents/ruby-agent/features/message-queues)は、[Rubyエージェントのバージョン4.3.0以降](/docs/release-notes/agent-release-notes/ruby-release-notes)でのみ利用可能です。現在サポートされているメッセージブローカー：

* RabbitMQ

メッセージブローカーを容易にする現在サポートされているgem：

* [Bunny](/docs/agents/ruby-agent/features/message-queues)：2.0以降（エージェントバージョン8.16.0で最後にサポートされた2.0.x～2.6.xのバージョン）

## その他

APMのRubyエージェントは以下の項目もサポートします。

* ActiveMerchant：1.25.0以降（エージェントバージョン8.16.0で最後にサポートされた1.25.0～1.64.xのバージョン）
* Acts_as_Solr：エージェントバージョン8.16.0で最後にサポートされたバージョン
* 最後にサポートされたエージェント：8.16.0
* concurrent-ruby：1.1.5 以降
* Stripe：5.38.0以降
* Sunspot：エージェントバージョン8.16.0で最後にサポートされたバージョン
* Tilt：Ruby 2.2以降、Ruby 2.7以下は1.x
* Yajl-Ruby：1.1.0 以降

## エージェントを他のNew Relicパーツに接続する [#digital-intelligence-platform]

Rubyエージェントは他のNew Relic製品と統合して、エンドツーエンドの可視性を提供します。

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        機能
      </th>

      <th>
        インテグレーション
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [ブラウザのモニタリング](/docs/browser/new-relic-browser/getting-started/introduction-browser-monitoring)
      </td>

      <td>
        [自動インストゥルメンテーションを有効化](/docs/browser/new-relic-browser/installation/install-browser-monitoring-agent#select-apm-app)すると、Rubyエージェントは自動的にブラウザJavaScriptエージェントを投入します。ブラウザインジェクションを有効化すると、[APMの概要ページ](/docs/apm/applications-menu/monitoring/apm-overview-page-view-transaction-apdex-usage-data)でブラウザデータを表示でき、特定のアプリに対してAPMとブラウザデータを素早く切り替えできます。設定オプションと手動インストゥルメンテーションについては、[BrowserとRubyエージェントのドキュメント](/docs/agents/ruby-agent/features/new-relic-browser-ruby-agent)をご覧ください。
      </td>
    </tr>

    <tr>
      <td>
        [インフラストラクチャのモニタリング](/docs/infrastructure/infrastructure-monitoring/get-started/get-started-infrastructure-monitoring)
      </td>

      <td>
        インフラストラクチャとAPMエージェントを同じホストにインストールすると、それらは自動的にお互いを検出します。その後、APM UIにホストのリストを表示し、Infrastructure UIのAPMアプリ別にホストをフィルタリングできます。詳細については、[Infrastructure UIのAPMデータ](/docs/infrastructure/new-relic-infrastructure/data-instrumentation/new-relic-apm-data-infrastructure)を参照してください。
      </td>
    </tr>

    <tr>
      <td>
        [合成のモニタリング](/docs/synthetics/synthetic-monitoring/getting-started/get-started-new-relic-synthetic-monitoring)
      </td>

      <td>
        [合成トランザクショントレース](/docs/synthetics/synthetic-monitoring/using-monitors/collect-synthetic-transaction-traces)は、合成モニターからのリクエストを基盤となるAPMトランザクションに接続します。
      </td>
    </tr>
  </tbody>
</table>