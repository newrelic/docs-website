---
title: GetBrowserTimingHeader (.NETエージェントAPI)
type: apiDoc
shortDescription: エンドユーザーのブラウザを計測するために、ブラウザモニタリング用のHTMLスニペットを生成します。
tags:
  - Agents
  - NET agent
  - NET agent API
metaDescription: New Relic .NET agent API call to instrument a webpage with browser.
freshnessValidatedDate: never
translationType: machine
---

## 構文

```cs
NewRelic.Api.Agent.NewRelic.GetBrowserTimingHeader();
NewRelic.Api.Agent.NewRelic.GetBrowserTimingHeader(string nonce);
```

エンドユーザーのブラウザを計測するために、ブラウザモニタリング用のHTMLスニペットを生成します。

## 要件

すべてのAgentバージョンに対応しています。

[トランザクションの中で呼び出す必要があります](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#transaction) 。

## 説明

有効にするために使用される HTML スニペットを返します。 [<InlinePopover type="browser"/>](/docs/browser/new-relic-browser/getting-started/new-relic-browser)。このスニペットは、ブラウザに小さな JavaScript ファイルをフェッチし、ページ タイマーを開始するように指示します。返されたスニペットを HTML Web ページのヘッダーに挿入できます。詳細については、 [「ブラウザ監視へのアプリの追加」](/docs/browser/new-relic-browser/installation-configuration/adding-apps-new-relic-browser)を参照してください。

<Callout variant="tip">
  ページのブラウザスクリプトを**無効にする**[`DisableBrowserMonitoring()`](/docs/agents/net-agent/net-agent-api/disablebrowsermonitoring-net-agent)を比較してください。
</Callout>

## パラメーター

<table>
  <thead>
    <tr>
      <th width="25%">
        パラメータ
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `nonce`

        _ストリング_
      </td>

      <td>
        Content-Security-Policyポリシーで使用される、リクエストごとの暗号化されたノンスです。
      </td>
    </tr>
  </tbody>
</table>

<Callout variant="tip">
  このAPIコールでは、セキュリティ許可リストの更新が必要です。コンテンツセキュリティポリシー（CSP）の考慮事項については、 [ブラウザモニタリングの互換性と要件](/docs/browser/new-relic-browser/getting-started/compatibility-requirements-browser-monitoring) ページをご覧ください。
</Callout>

## 戻り値

ページのヘッダーに埋め込むHTML文字列です。

## 例

### ASPXで [#aspx]

```aspnet
<html>
  <head>
    <%= NewRelic.Api.Agent.NewRelic.GetBrowserTimingHeader()%>
    ...
  </head>
  <body>
  ...
```

```aspnet
<html>
  <head>
    <%= NewRelic.Api.Agent.NewRelic.GetBrowserTimingHeader("YOUR_NONCE_VALUE")%>
    ...
  </head>
  <body>
  ...
```

### レイザー付き [#razor]

```cshtml
<!DOCTYPE html>
<html lang="en">
  <head>
    @Html.Raw(NewRelic.Api.Agent.NewRelic.GetBrowserTimingHeader())
    ...
  </head>
  <body>
  ...
```

```cshtml
<!DOCTYPE html>
<html lang="en">
  <head>
    @Html.Raw(NewRelic.Api.Agent.NewRelic.GetBrowserTimingHeader("YOUR_NONCE_VALUE"))
    ...
  </head>
  <body>
  ...
```

### ブレザー付き [#blazor]

<Callout variant="important">
  エージェントは Webassembly コードをインストルメントできないため、この API は Blazor Webassembly ではサポートされていません。次の例は、Blazor サーバー アプリケーションのみを対象としています。[コピーアンドペーストの方法](/docs/browser/browser-monitoring/installation/install-browser-monitoring-agent/#copy-paste)を使用して、ブラウザー エージェントを Blazor Webassembly ページに追加します。
</Callout>

<Callout variant="important">
  この API は、 `.razor`ページの`<HeadContent>`要素には配置できません。代わりに、 `_Layout.cshtml`または同等のレイアウト ファイルから呼び出す必要があります。
</Callout>

```cshtml
<!DOCTYPE html>
<html lang="en">
  <head>
    @Html.Raw(NewRelic.Api.Agent.NewRelic.GetBrowserTimingHeader())
    ...
  </head>
  <body>
  ...
```

```cshtml
<!DOCTYPE html>
<html lang="en">
  <head>
    @Html.Raw(NewRelic.Api.Agent.NewRelic.GetBrowserTimingHeader("YOUR_NONCE_VALUE"))
    ...
  </head>
  <body>
  ...
```