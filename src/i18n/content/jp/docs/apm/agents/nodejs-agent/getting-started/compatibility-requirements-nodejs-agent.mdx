---
title: Node.jsエージェントの互換性と要件
tags:
  - Agents
  - Nodejs agent
  - Getting started
metaDescription: 'The New Relic Node.js agent supports these frameworks, architectures, and operating systems.'
freshnessValidatedDate: never
translationType: human
---

Node.jsエージェントには、最も一般的なNode.jsフレームワーク、アプリケーションサーバー、データベース、およびメッセージキューシステムのビルトイン・インストゥルメンテーションが含まれています。追加設定なしでインストゥルメントされていないフレームワークとライブラリに関しては、[Node.jsエージェントAPI](https://newrelic.github.io/node-newrelic/API.html)でエージェントを拡張できます。

Node.js用エージェントは、[Node Package Manager（npm）リポジトリ](https://npmjs.org/package/newrelic)と[GitHub](https://github.com/newrelic/node-newrelic)で公開されています。New RelicのNode.jsエージェントを試してみませんか？[New Relicアカウントを作成します](https://newrelic.com/signup)。

## エージェントのインストール要件

[エージェントをインストールする](/docs/apm/agents/nodejs-agent/installation-configuration/install-nodejs-agent)前に、お使いのシステムが最小要件を満たしていることを確認してください。パフォーマンスを最大化するために、Node.jsの最新のアクティブな長期サポート（LTS）バージョンを使用してください。

<CollapserGroup>
  <Collapser id="operating systems" title="互換性のあるオペレーティングシステム">
    Node.jsエージェントは、次のオペレーティングシステムに対応しています。

    * Linux
    * SmartOS
    * MacOS 10.7以上
    * Windows Server 2008以上
  </Collapser>

  <Collapser id="host" title="ホスティングサービス">
    また、以下のホスティングサービスにも対応しています。

    * [Google App Engine（GAE）フレキシブル環境](/docs/agents/nodejs-agent/hosting-services/install-new-relic-nodejs-agent-gae-flexible-environment)
    * AWS EC2
    * [Microsoft Azure](/docs/nodejs/nodejs-agent-on-microsoft-azure)
    * [Heroku](/docs/nodejs/nodejs-agent-on-heroku)
  </Collapser>

  <Collapser id="security" title="セキュリティ要件">
    標準的な [データ収集のセキュリティ対策](/docs/accounts-partnerships/accounts/security/data-security)として、アプリサーバーはSHA-2（256ビット）をサポートしている必要があります。SHA-1はサポートされていません。
  </Collapser>

  <Collapser id="system" title="システム要件">
    当社は、以下のアクティブな長期サポートスケジュールの開始により、[Node.jsリリースの最新バージョン](https://nodejs.org/en/about/previous-releases)をサポートします。バージョンサポートポリシーは、一般的な有効期限（EOL）ポリシーを置き換えません。

    提案される時間範囲を以下に示します。実際のリリース日は異なる可能性があります。

    <table>
      <thead>
        <tr>
          <th style={{ width: "100px" }}>
            Node.jsのバージョン
          </th>

          <th>
            アクティブな長期サポート（LTS）開始日
          </th>

          <th>
            サポート付きNode.jsエージェントの初期リリース日
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            22
          </td>

          <td>
            2024年10月
          </td>

          <td>
            2024年6月28日、Node.jsエージェントv11.22.0を使用
          </td>
        </tr>

        <tr>
          <td>
            20
          </td>

          <td>
            2023年10月
          </td>

          <td>
            2023年8月28日、Node.jsエージェントのv11.0.0を使用
          </td>
        </tr>

        <tr>
          <td>
            18
          </td>

          <td>
            2022年10月
          </td>

          <td>
            2022年8月3日、Node.jsエージェントのv9.0.0を使用
          </td>
        </tr>

        <tr>
          <td>
            16
          </td>

          <td>
            2021年10月
          </td>

          <td>
            Node.jsエージェントv8.0.0を含む2021年7月26日
          </td>
        </tr>
      </tbody>
    </table>

    古いNode.jsバージョンのEOLの推奨時間範囲を以下に示します。通常、[Node.jsで発表されたEOL日から](https://nodejs.org/en/about/previous-releases)2～4か月後にサポートが終了します。

    <table>
      <thead>
        <tr>
          <th style={{ width: "100px" }}>
            Node.jsのバージョン
          </th>

          <th>
            有効期限（EOL）日
          </th>

          <th>
            Node.jsエージェントのサポート終了の初期リリース日
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            22
          </td>

          <td>
            2027年4月
          </td>

          <td>
            未定
          </td>
        </tr>

        <tr>
          <td>
            20
          </td>

          <td>
            2026年4月
          </td>

          <td>
            未定
          </td>
        </tr>

        <tr>
          <td>
            18
          </td>

          <td>
            2025年4月
          </td>

          <td>
            未定
          </td>
        </tr>

        <tr>
          <td>
            16
          </td>

          <td>
            2023年9月
          </td>

          <td>
            2024年7月31日をもって、Node.jsエージェントv12でのNode.js 16のサポートは終了しました。
          </td>
        </tr>

        <tr>
          <td>
            14
          </td>

          <td>
            2023年4月
          </td>

          <td>
            2023年8月28日現在、Node.jsエージェントのv11を使用したNode.js 14のサポートを終了しました。
          </td>
        </tr>

        <tr>
          <td>
            12
          </td>

          <td>
            2022年4月
          </td>

          <td>
            2022年8月3日現在、Node.jsエージェントのv9を使用したNode.js 12のサポートを終了しました。
          </td>
        </tr>

        <tr>
          <td>
            10
          </td>

          <td>
            2021年4月
          </td>

          <td>
            2021年7月26日現在で、Node.jsエージェントのv8を使用したNode.js 10のサポートを終了しました。この移行の簡単な準備方法などの詳細については、[サポートフォーラムの投稿](https://discuss.newrelic.com/t/important-upcoming-changes-to-support-and-capabilities-across-browser-node-js-agent-query-builder-net-agent-apm-errors-distributed-tracing/153373)を参照してください。
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## インストゥルメントされたモジュール

インストール後、エージェントはサポートされているNode.jsライブラリとフレームワークのカタログを使用して自動インストゥルメントします。これにより、ウェブアプリケーションやサーバーに固有の詳細情報に即座にアクセスできます。 未対応のフレームワークまたはライブラリの場合、[Node.jsエージェントAPI](https://newrelic.github.io/node-newrelic/API.html)を使用してエージェントを自身でインストゥルメントする必要があります。

**注意**：サポートされている最新バージョンは、サポート対象の最新バージョンを反映していない可能性があります。

<table>
  <thead>
    <tr>
      <th>
        パッケージ名
      </th>

      <th>
        サポートされている最小バージョン
      </th>

      <th>
        サポートされている最新バージョン
      </th>

      <th>
        導入時バージョン*
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `@apollo/gateway`
      </td>

      <td>
        2.3.0
      </td>

      <td>
        2.8.4
      </td>

      <td>
        `@newrelic/apollo-server-plugin@1.0.0`
      </td>
    </tr>

    <tr>
      <td>
        `@apollo/server`
      </td>

      <td>
        4.0.0
      </td>

      <td>
        4.11.0
      </td>

      <td>
        `@newrelic/apollo-server-plugin@2.1.0`
      </td>
    </tr>

    <tr>
      <td>
        `@aws-sdk/client-bedrock-runtime`
      </td>

      <td>
        3.474.0
      </td>

      <td>
        3.629.0
      </td>

      <td>
        11.13.0
      </td>
    </tr>

    <tr>
      <td>
        `@aws-sdk/client-dynamodb`
      </td>

      <td>
        3.0.0
      </td>

      <td>
        3.629.0
      </td>

      <td>
        8.7.1
      </td>
    </tr>

    <tr>
      <td>
        `@aws-sdk/client-sns`
      </td>

      <td>
        3.0.0
      </td>

      <td>
        3.624.0
      </td>

      <td>
        8.7.1
      </td>
    </tr>

    <tr>
      <td>
        `@aws-sdk/client-sqs`
      </td>

      <td>
        3.0.0
      </td>

      <td>
        3.624.0
      </td>

      <td>
        8.7.1
      </td>
    </tr>

    <tr>
      <td>
        `@aws-sdk/lib-dynamodb`
      </td>

      <td>
        3.377.0
      </td>

      <td>
        3.624.0
      </td>

      <td>
        8.7.1
      </td>
    </tr>

    <tr>
      <td>
        `@aws-sdk/smithy-client`
      </td>

      <td>
        3.47.0
      </td>

      <td>
        3.374.0
      </td>

      <td>
        8.7.1
      </td>
    </tr>

    <tr>
      <td>
        `@elastic/elasticsearch`
      </td>

      <td>
        7.16.0
      </td>

      <td>
        8.15.0
      </td>

      <td>
        11.9.0
      </td>
    </tr>

    <tr>
      <td>
        `@grpc/grpc-js`
      </td>

      <td>
        1.4.0
      </td>

      <td>
        1.11.1
      </td>

      <td>
        8.17.0
      </td>
    </tr>

    <tr>
      <td>
        `@hapi/hapi`
      </td>

      <td>
        20.1.2
      </td>

      <td>
        21.3.10
      </td>

      <td>
        9.0.0
      </td>
    </tr>

    <tr>
      <td>
        `@koa/router`
      </td>

      <td>
        11.0.2
      </td>

      <td>
        12.0.1
      </td>

      <td>
        3.2.0
      </td>
    </tr>

    <tr>
      <td>
        `@langchain/core`
      </td>

      <td>
        0.1.17
      </td>

      <td>
        0.2.23
      </td>

      <td>
        11.13.0
      </td>
    </tr>

    <tr>
      <td>
        `@nestjs/cli`
      </td>

      <td>
        9.0.0
      </td>

      <td>
        10.4.4
      </td>

      <td>
        10.1.0
      </td>
    </tr>

    <tr>
      <td>
        `@prisma/client`
      </td>

      <td>
        5.0.0
      </td>

      <td>
        5.18.0
      </td>

      <td>
        11.0.0
      </td>
    </tr>

    <tr>
      <td>
        `@smithy/smithy-client`
      </td>

      <td>
        2.0.0
      </td>

      <td>
        3.1.12
      </td>

      <td>
        11.0.0
      </td>
    </tr>

    <tr>
      <td>
        `amqplib`
      </td>

      <td>
        0.5.0
      </td>

      <td>
        0.10.4
      </td>

      <td>
        2.0.0
      </td>
    </tr>

    <tr>
      <td>
        `apollo-server`
      </td>

      <td>
        3.0.0
      </td>

      <td>
        3.13.0
      </td>

      <td>
        `@newrelic/apollo-server-plugin@1.0.0`
      </td>
    </tr>

    <tr>
      <td>
        `apollo-server-express`
      </td>

      <td>
        3.0.0
      </td>

      <td>
        3.13.0
      </td>

      <td>
        `@newrelic/apollo-server-plugin@1.0.0`
      </td>
    </tr>

    <tr>
      <td>
        `aws-sdk`
      </td>

      <td>
        2.2.48
      </td>

      <td>
        2.1673.0
      </td>

      <td>
        6.2.0
      </td>
    </tr>

    <tr>
      <td>
        `bluebird`
      </td>

      <td>
        2.0.0
      </td>

      <td>
        3.7.2
      </td>

      <td>
        1.27.0
      </td>
    </tr>

    <tr>
      <td>
        `bunyan`
      </td>

      <td>
        1.8.12
      </td>

      <td>
        1.8.15
      </td>

      <td>
        9.3.0
      </td>
    </tr>

    <tr>
      <td>
        `cassandra-driver`
      </td>

      <td>
        3.4.0
      </td>

      <td>
        4.7.2
      </td>

      <td>
        1.7.1
      </td>
    </tr>

    <tr>
      <td>
        `connect`
      </td>

      <td>
        3.0.0
      </td>

      <td>
        3.7.0
      </td>

      <td>
        2.6.0
      </td>
    </tr>

    <tr>
      <td>
        `express`
      </td>

      <td>
        4.6.0
      </td>

      <td>
        4.19.2
      </td>

      <td>
        2.6.0
      </td>
    </tr>

    <tr>
      <td>
        `fastify`
      </td>

      <td>
        2.0.0
      </td>

      <td>
        4.28.1
      </td>

      <td>
        8.5.0
      </td>
    </tr>

    <tr>
      <td>
        `generic-pool`
      </td>

      <td>
        3.0.0
      </td>

      <td>
        3.9.0
      </td>

      <td>
        0.9.0
      </td>
    </tr>

    <tr>
      <td>
        `ioredis`
      </td>

      <td>
        4.0.0
      </td>

      <td>
        5.4.1
      </td>

      <td>
        1.26.2
      </td>
    </tr>

    <tr>
      <td>
        `kafkajs`
      </td>

      <td>
        2.0.0
      </td>

      <td>
        2.2.4
      </td>

      <td>
        11.19.0
      </td>
    </tr>

    <tr>
      <td>
        `koa`
      </td>

      <td>
        2.0.0
      </td>

      <td>
        2.15.3
      </td>

      <td>
        3.2.0
      </td>
    </tr>

    <tr>
      <td>
        `koa-route`
      </td>

      <td>
        3.0.0
      </td>

      <td>
        4.0.1
      </td>

      <td>
        3.2.0
      </td>
    </tr>

    <tr>
      <td>
        `koa-router`
      </td>

      <td>
        11.0.2
      </td>

      <td>
        12.0.1
      </td>

      <td>
        3.2.0
      </td>
    </tr>

    <tr>
      <td>
        `memcached`
      </td>

      <td>
        2.2.0
      </td>

      <td>
        2.2.2
      </td>

      <td>
        1.26.2
      </td>
    </tr>

    <tr>
      <td>
        `mongodb`
      </td>

      <td>
        4.1.4
      </td>

      <td>
        6.8.0
      </td>

      <td>
        1.32.0
      </td>
    </tr>

    <tr>
      <td>
        `mysql`
      </td>

      <td>
        2.2.0
      </td>

      <td>
        2.18.1
      </td>

      <td>
        1.32.0
      </td>
    </tr>

    <tr>
      <td>
        `mysql2`
      </td>

      <td>
        2.0.0
      </td>

      <td>
        3.11.0
      </td>

      <td>
        1.32.0
      </td>
    </tr>

    <tr>
      <td>
        `next`
      </td>

      <td>
        13.4.19
      </td>

      <td>
        14.2.5
      </td>

      <td>
        12.0.0
      </td>
    </tr>

    <tr>
      <td>
        `openai`
      </td>

      <td>
        4.0.0
      </td>

      <td>
        4.55.4
      </td>

      <td>
        11.13.0
      </td>
    </tr>

    <tr>
      <td>
        `pg`
      </td>

      <td>
        8.2.0
      </td>

      <td>
        8.12.0
      </td>

      <td>
        9.0.0
      </td>
    </tr>

    <tr>
      <td>
        `pg-native`
      </td>

      <td>
        2.0.0
      </td>

      <td>
        3.1.0
      </td>

      <td>
        9.0.0
      </td>
    </tr>

    <tr>
      <td>
        `pino`
      </td>

      <td>
        7.0.0
      </td>

      <td>
        9.3.2
      </td>

      <td>
        8.11.0
      </td>
    </tr>

    <tr>
      <td>
        `q`
      </td>

      <td>
        1.3.0
      </td>

      <td>
        1.5.1
      </td>

      <td>
        1.26.2
      </td>
    </tr>

    <tr>
      <td>
        `redis`
      </td>

      <td>
        3.1.0
      </td>

      <td>
        4.7.0
      </td>

      <td>
        1.31.0
      </td>
    </tr>

    <tr>
      <td>
        `restify`
      </td>

      <td>
        11.0.0
      </td>

      <td>
        11.1.0
      </td>

      <td>
        2.6.0
      </td>
    </tr>

    <tr>
      <td>
        `superagent`
      </td>

      <td>
        3.0.0
      </td>

      <td>
        10.0.0
      </td>

      <td>
        4.9.0
      </td>
    </tr>

    <tr>
      <td>
        `undici`
      </td>

      <td>
        5.0.0
      </td>

      <td>
        6.19.7
      </td>

      <td>
        11.1.0
      </td>
    </tr>

    <tr>
      <td>
        `when`
      </td>

      <td>
        3.7.0
      </td>

      <td>
        3.7.8
      </td>

      <td>
        1.26.2
      </td>
    </tr>

    <tr>
      <td>
        `winston`
      </td>

      <td>
        3.0.0
      </td>

      <td>
        3.14.1
      </td>

      <td>
        8.11.0
      </td>
    </tr>
  </tbody>
</table>

\*パッケージが指定されていない場合は、`newrelic`パッケージ内でサポートされます。

## AIモニタリングサポート

Node.jsエージェントでは以下のAIプラットフォームとインテグレーションをサポートしています。

### Amazon Bedrock

`@aws-sdk/client-bedrock-runtime`モジュールを通じて以下をサポートします。

<table>
  <thead>
    <tr>
      <th>
        モデル
      </th>

      <th>
        画像
      </th>

      <th>
        テキスト
      </th>

      <th>
        ビジョン
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        AI21 Labs Jurassic-2
      </td>

      <td>
        ❌
      </td>

      <td>
        ✅
      </td>

      <td>
        \-
      </td>
    </tr>

    <tr>
      <td>
        Amazon Titan
      </td>

      <td>
        ❌
      </td>

      <td>
        ✅
      </td>

      <td>
        \-
      </td>
    </tr>

    <tr>
      <td>
        Anthropic Claude
      </td>

      <td>
        ❌
      </td>

      <td>
        ✅
      </td>

      <td>
        ❌
      </td>
    </tr>

    <tr>
      <td>
        Cohere
      </td>

      <td>
        ❌
      </td>

      <td>
        ✅
      </td>

      <td>
        \-
      </td>
    </tr>

    <tr>
      <td>
        Meta Llama2
      </td>

      <td>
        ❌
      </td>

      <td>
        ✅
      </td>

      <td>
        \-
      </td>
    </tr>

    <tr>
      <td>
        Meta Llama3
      </td>

      <td>
        ❌
      </td>

      <td>
        ✅
      </td>

      <td>
        \-
      </td>
    </tr>
  </tbody>
</table>

注：モデルがストリーミングをサポートしている場合は、ストリーミングのバリアントも計算されます。

### LangChain

LangChainでは以下の一般的な機能がサポートされます。

<table>
  <thead>
    <tr>
      <th>
        エージェント
      </th>

      <th>
        Chains
      </th>

      <th>
        ツール
      </th>

      <th>
        Vectorstores
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        ✅
      </td>

      <td>
        ✅
      </td>

      <td>
        ✅
      </td>

      <td>
        ✅
      </td>
    </tr>
  </tbody>
</table>

モデル/プロバイダーは通常、プロバイダーのモジュールのインストゥルメンテーションによって推移的にサポートされます。

<table>
  <thead>
    <tr>
      <th>
        プロバイダー
      </th>

      <th>
        サポート対象
      </th>

      <th>
        推移的
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Azure OpenAI
      </td>

      <td>
        ❌
      </td>

      <td>
        ❌
      </td>
    </tr>

    <tr>
      <td>
        Amazon Bedrock
      </td>

      <td>
        ❌
      </td>

      <td>
        ❌
      </td>
    </tr>

    <tr>
      <td>
        OpenAI
      </td>

      <td>
        ✅
      </td>

      <td>
        ✅
      </td>
    </tr>
  </tbody>
</table>

### OpenAI

`openai`モジュールを通じて以下をサポートします。

<table>
  <thead>
    <tr>
      <th>
        オーディオ
      </th>

      <th>
        チャット
      </th>

      <th>
        生成
      </th>

      <th>
        組み込み
      </th>

      <th>
        ファイル
      </th>

      <th>
        画像
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        ❌
      </td>

      <td>
        ✅
      </td>

      <td>
        ✅
      </td>

      <td>
        ✅
      </td>

      <td>
        ❌
      </td>

      <td>
        ❌
      </td>
    </tr>
  </tbody>
</table>

/\* 終了：互換性テーブル \*/

## エージェントを他のNew Relic機能に接続する [#digital-intelligence-platform]

Node.jsエージェントはその他の機能と統合し、スタック全体でのオブザーバビリティを実現します。

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        製品
      </th>

      <th>
        機能
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [AIモニタリング](/docs/ai-monitoring/intro-to-ai-monitoring)
      </td>

      <td>
        Node.jsエージェントのバージョン11.13.0を使用している場合は、特定のAIライブラリおよびフレームワークからAIデータを収集できます。

        * [OpenAI Node.js APIライブラリ](https://www.npmjs.com/package/openai/v/4.0.0-beta.4)バージョン4.0.0以降。モデルがストリーミングを使用する場合、Node.jsエージェントはバージョン4.12.2以降をサポートします。
        * [AWS SDK for JavaScript BedrockRuntimeクライアント](https://www.npmjs.com/package/@aws-sdk/client-bedrock-runtime)バージョン3.474.0以降。
        * [LangChain.js](https://www.npmjs.com/package/langchain/v/0.1.17)バージョン 0.1.17以降。
      </td>
    </tr>

    <tr>
      <td>
        [ブラウザのモニタリング](/docs/browser/new-relic-browser/getting-started/introduction-new-relic-browser)
      </td>

      <td>
        [自動インストゥルメンテーションを有効化](/docs/browser/new-relic-browser/installation/install-new-relic-browser-agent#select-apm-app)すると、Node.jsエージェントは<InlinePopover type="browser" />の利点を追加できます。ブラウザ監視のインジェクションを有効にした後は、[Node.jsエージェントを使用してブラウザ監視をインストールするためのガイド](/docs/agents/nodejs-agent/extend-your-instrumentation/browser-monitoring-nodejs-agent/)に従うだけです。これらの手順が完了したら、[APM <DNT>**Summary**</DNT> ページ](/docs/apm/applications-menu/monitoring/apm-overview-page)でブラウザデータを表示し、特定のアプリのAPMとブラウザデータをすばやく切り替えることができます。 設定オプションとマニュアルインストゥルメンテーションについては、[ブラウザ監視とNode.jsエージェントを](/docs/agents/nodejs-agent/supported-features/new-relic-browser-nodejs-agent)参照してください。
      </td>
    </tr>

    <tr>
      <td>
        [インフラストラクチャのモニタリング](/docs/infrastructure/new-relic-infrastructure/getting-started/introduction-new-relic-infrastructure)
      </td>

      <td>
        インフラストラクチャとAPMエージェントを同じホストにインストールすると、それらは自動的にお互いを検出します。その後、APM UIにホストのリストを表示し、Infrastructure UIのAPMアプリ別にホストをフィルタリングできます。詳細については、[インフラストラクチャモニターにおけるAPMデータ](/docs/infrastructure/new-relic-infrastructure/data-instrumentation/new-relic-apm-data-infrastructure)を参照してください。
      </td>
    </tr>

    <tr>
      <td>
        [New Relicのダッシュボード](/docs/insights/use-insights-ui/getting-started/introduction-new-relic-insights)
      </td>

      <td>
        Node.jsエージェントは、NRQLクエリの[デフォルトのイベントと属性](/docs/insights/insights-data-sources/default-events-attributes/apm-default-event-attributes)を送信します。高度な分析のために、[カスタムイベントを記録](/docs/insights/insights-data-sources/custom-data/insert-custom-events-new-relic-apm-agents)することもできます。
      </td>
    </tr>

    <tr>
      <td>
        [合成のモニタリング](/docs/synthetics/new-relic-synthetics/getting-started/introduction-new-relic-synthetics)
      </td>

      <td>
        [合成トランザクショントレース](/docs/synthetics/new-relic-synthetics/using-monitors/collect-synthetic-transaction-traces)は、合成モニターからのリクエストを基盤となるAPMトランザクションに接続します。
      </td>
    </tr>
  </tbody>
</table>