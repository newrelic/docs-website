---
title: Node.js カスタムメトリクス
tags:
  - Agents
  - Nodejs agent
  - Extend your instrumentation
metaDescription: An overview of custom metrics for New Relic's Node.js agent and how to implement them for your application.
freshnessValidatedDate: never
translationType: machine
---

タイミングやコンピューター リソース データなど、API 呼び出しを介して任意のパフォーマンス データを記録します。[メトリクスとイベント](/docs/query-your-data/explore-query-data/data-explorer/introduction-data-explorer)を使用して、カスタム メトリクスを検索し、カスタマイズ可能なチャートを作成し、それらのチャートを New Relic ダッシュボードに追加します。カスタムメトリクスを使用すると、New Relic 内でモニタリングを統合できます。

<Callout variant="caution">
  あまりにも多くのメトリクスを収集すると、アプリケーションやNew Relicエージェントのパフォーマンスに影響を与える可能性があります。データの問題を避けるために、ユニークなカスタムメトリクスの総数は2000以下にしてください。
</Callout>

## メトリクスの名称 [#metric\_names][#metric_names]

メトリック名は、 `/`文字で区切られたパスです。カスタム メトリックには、次のパターンを使用します。

```
<category>/<class>/<method>
```

カスタム メトリック名には、 `<class>/<method>`または`<category>/<name>`を使用します。たとえば、 `MyCategory/My_method`を使用します)。

<Callout variant="important">
  Node.js エージェント v5 より前のバージョンでは、メトリクスの前に`Custom/`を追加する必要があります。エージェントは、内部メトリックとの衝突を防ぐために、これをカスタム メトリックの前に自動的に追加しません。
</Callout>

## カスタムメトリクスの記録 [#recording-custom-metrics]

メトリック データを記録するための公開 API は、 `newrelic`の 2 つのメソッドで構成されています。

* [`recordMetric`](https://newrelic.github.io/node-newrelic/API.html#recordMetric) : 新しいカスタムメトリックを作成するために使用します。
* [`incrementMetric`](https://newrelic.github.io/node-newrelic/API.html#incrementMetric) : カスタムメトリックの値を更新するために使用します。

詳細については、GitHub の[サンプルアプリケーション](https://github.com/newrelic/newrelic-node-examples/tree/69d500e02077d2565c4762c21bf779e3e39845bf/custom-instrumentation/attributes-events-metrics)を参照してください。