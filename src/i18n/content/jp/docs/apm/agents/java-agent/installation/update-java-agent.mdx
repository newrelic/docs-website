---
title: Javaエージェントのアップデート
tags:
  - Agents
  - Java agent
  - Installation
metaDescription: 'How to update your APM Java agent, and notes on EOL support for early agent versions.'
freshnessValidatedDate: never
translationType: human
---

New Relicの最新機能、追加機能、重要なセキュリティパッチを最大限に活用できるよう、Javaエージェントを最新バージョンにアップデートすることをお勧めします。特定のエージェントのアップデートの詳細については、[Javaエージェントのリリースノート](/docs/release-notes/agent-release-notes/java-release-notes)と[Javaの互換性と要件に関する](/docs/apm/agents/java-agent/getting-started/compatibility-requirements-java-agent)ドキュメントを参照してください。

これらのアップデート手順では、New Relic Javaエージェント (`newrelic.jar`) を含んだ[エージェントのルートディレクトリ](/docs/agents/manage-apm-agents/troubleshooting/find-agent-root-directory#java-agent)の現在のコンテンツの一部を、New Relic UIから新たにダウンロードしたコンテンツと置き換える方法を解説しています。

## 最新バージョンへのアップデート [#procedures]

現在使用中のJavaエージェントのバージョンを特定するには、`java -jar newrelic.jar -v`を実行します。Javaエージェントのバージョンがコンソールに出力されます。

次に、最新バージョンのJavaエージェントにアップデートするには、以下の手順に従います。

1. <DNT>**entire**</DNT> [Javaエージェントのルートディレクトリ](/docs/agents/manage-apm-agents/troubleshooting/find-agent-root-directory#java-agent)を他の場所にバックアップします。 そのディレクトリの名前を`NewRelic_Agent#.#.#`に変更します。ここで、`#.#.#`はエージェントのバージョン番号です。

2. [エージェントをダウンロードします。](/docs/release-notes/agent-release-notes/java-release-notes)

3. 新しいエージェントのダウンロードファイルを解凍し、`newrelic-api.jar`と`newrelic.jar`を元の[Javaエージェントのルートディレクトリ](/docs/agents/manage-apm-agents/troubleshooting/find-agent-root-directory#java-agent)にコピーします。

4. （オプション）[JavaエージェントAPI](/docs/apm/agents/java-agent/api-guides/guide-using-java-agent-api/)や[Scala API](/docs/apm/agents/java-agent/frameworks/scala-installation-java/#using-the-scala-api)などのエージェントAPIを使用している場合は、APIの依存関係を最新バージョンにアップグレードすることをお勧めします。新しいエージェントバージョンではAPIが引き続きサポートされますが、新しい機能が利用できなくなる可能性があります。 Mavenなどのビルドツールを使用している場合は、APIバージョンを最新にアップグレードしてください。 たとえば、JavaエージェントAPIをGradleで使用している場合は、`${agent.version}`を最新バージョンに置き換えます。

   ```groovy
   implementation 'com.newrelic.agent.java:newrelic-api:${agent.version}'
   ```

5. Javaプロセスを再起動します。

Javaエージェントのアップデート後に問題が発生する場合は、バックアップしたNew Relicエージェントディレクトリから復元します。
