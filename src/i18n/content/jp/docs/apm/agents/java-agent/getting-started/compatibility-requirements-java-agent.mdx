---
title: Javaエージェントの互換性と要件
tags:
  - Agents
  - Java agent
  - Getting started
metaDescription: 'The New Relic APM Java agent: compatibility and requirements.'
freshnessValidatedDate: never
translationType: human
---

[New RelicのJavaエージェント](/docs/agents/java-agent/getting-started/introduction-new-relic-java)には、アプリケーションサーバー、フレームワーク、データベース、そしてメッセージキューシステムを含む、Javaエコシステムの中で最も人気ある部分のビルトインインストゥルメンテーションが含まれています。追加設定なしではインストゥルメントされていないフレームワークとライブラリに関しては、[Javaカスタムインストゥルメンテーション](/docs/agents/java-agent/custom-instrumentation/java-custom-instrumentation)でそのエージェントを拡張できます。

New RelicのJavaエージェントをお試しになりますか？[New Relicアカウントの作成](https://newrelic.com/signup)は無料です。クレジットカードは不要です。

## エージェントのインストール要件 [#java-requirements]

Javaエージェントをインストールする前に、お使いのシステムが以下のシステム要件を満たしていることを確認してください：

<CollapserGroup>
  <Collapser id="jvm" title="JVM">
    Javaエージェントは、Java、Scala、Kotlin、ClojureなどのJVMベースの言語と互換性があります。個々の言語の機能のインストゥルメンテーションのサポートについては、以下の[自動インストゥルメンテーションされたフレームワークとライブラリ](#auto-instrumented)のセクションをご覧ください。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Javaバージョン
          </th>

          <th style={{ width: "300px" }}>
            互換性のあるJavaエージェントバージョン
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Java 7
          </td>

          <td>
            v3.0.0〜v6.5.0、v6.5.2、v6.5.3、v6.5.4
          </td>
        </tr>

        <tr>
          <td>
            Java 8
          </td>

          <td>
            v3.10.0以降
          </td>
        </tr>

        <tr>
          <td>
            Java 11
          </td>

          <td>
            v4.7.0以降
          </td>
        </tr>

        <tr>
          <td>
            Java 17
          </td>

          <td>
            v7.4.0以降
          </td>
        </tr>

        <tr>
          <td>
            Java 21
          </td>

          <td>
            v8.7.0以降
          </td>
        </tr>

        <tr>
          <td>
            Java 23
          </td>

          <td>
            v8.15.0以降
          </td>
        </tr>

        <tr>
          <td>
            Java 24
          </td>

          <td>
            v8.20.0以降
          </td>
        </tr>
      </tbody>
    </table>

    この表の一部のJavaエージェントバージョンはサポートされなくなりましたが、参照のために引き続きリストされています。サポート対象のJavaエージェントのバージョンのリストは、[JavaエージェントのEOLポリシー](/docs/apm/agents/java-agent/getting-started/java-agent-eol-policy/)にあります。
  </Collapser>

  <Collapser id="security-requirements" title="セキュリティ要件">
    標準的な [データ収集のセキュリティ対策](/docs/accounts-partnerships/accounts/security/data-security)として、アプリサーバーはSHA-2（256ビット）をサポートしている必要があります。SHA-1はサポートされていません。
  </Collapser>

  <Collapser id="other-apm" title="その他のモニターソフトウェアの使用">
    アプリケーションが当社のモニターソフトウェアのほかに他社のアプリケーションモニターソフトウェアを使用している場合は、エージェントが正しく動作することを保証できないため、技術サポートは提供できません。詳細については、[その他のモニターソフトウェアを使用中のエラー](/docs/apm/new-relic-apm/troubleshooting/errors-while-using-new-relic-apm-alongside-other-apm-software)を参照してください。
  </Collapser>
</CollapserGroup>

## 内蔵インストゥルメンテーション [#auto-instrumented]

[Javaエージェントをインストール](/docs/agents/java-agent/installation/install-java-agent)すると、多数の人気のフレームワークとライブラリが自動的にインストゥルメントされます。自動インストゥルメンテーションでは、エージェントが追加設定なしでリッチデータを収集し、データはインストールから数分でご利用のNew Relicダッシュボードに表示されます。ライブラリが自動インストゥルメンテーションされていない場合でも、[カスタムインストゥルメンテーション](/docs/agents/java-agent/custom-instrumentation/java-custom-instrumentation)および[JavaエージェントAPI](/docs/agents/java-agent/api-guides/guide-using-java-agent-api)を通じてデータを収集できます。

エージェントは、以下のフレームワークとライブラリを自動的にインストゥルメントします：

<CollapserGroup>
  <Collapser id="app-web-servers" title="アプリケーション/ウェブサーバー">
    エージェントは、以下のアプリケーション/Webサーバーを自動的にインストゥルメントします。サポートされているアプリケーション/WebサーバーにJavaエージェントをインストールするには、[Javaエージェントのインストール](/docs/agents/java-agent/installation/java-agent-manual-installation)を参照してください。

    * ColdFusion 10
    * Glassfish 3.0以降
    * JBoss 7.0以降
    * JBoss EAP 6.0以降
    * Jetty 9.3.0.M1以降
    * Mule ESB 3.4～3.9.x
    * Netty 3.3.0.Alpha1～5.0.0.Alpha1
    * Resin 3.1.9 4.0.xまで
    * Spray-can 1.3.1以降
    * Tomcat 7.0.0以降
    * TomEE 1.5以降
    * Undertow Server 1.1.0以降
    * WebLogic 12.1.2.1～14.1.1
    * WebSphere 8.5.x～9.x
    * WebSphere Liberty Profile 8.5以降
    * WildFly 8.0.0.Final以降
  </Collapser>

  <Collapser id="frameworks" title="フレームワークとライブラリ">
    エージェントは、以下のフレームワークを自動的にインストゥルメントします。サポートされているフレームワークにJavaエージェントをインストールするには、[Javaエージェントのインストール](/docs/agents/java-agent/installation/java-agent-manual-installation)を参照してください。

    * Akka 2.2.0-RC1以降

    * Amazon Firehose SDK 2.1.0以降

    * Amazon Kinesis v1およびv2 SDK

    * Amazon Lambda SDK 1.11.280以降

    * AmazonS3クライアント1.2.13以降

    * AmazonSNSおよびAmazonSNSAsyncクライアント1.11.12以降

    * AmazonSQSおよびAmazonSQSAsyncクライアント1.3.22以降
      * メッセージ送信のためのディストリビューティッド（分散）トレーシングは2.1.0以降がサポートされています

    * Cats Effect v2

      * Scala 2.12: 2.1以降
      * Scala 2.13: 2.1以降

    * Cats Effect v3

      * Scala 2.12: 3.2.x
      * Scala 2.13: 3.2.x

    * CXF 2.1.3以降

    * Glassfish JUL（Javaユーティリティロギング）拡張ライブラリ

    * Grails 1.3.7～2.3.x

    * GraphQL 16.0以降

    * Hibernate 3.3.0.CR1～6.0.0.Alpha2

    * Hystrix 1.3.15以降

    * Jakarta RESTful WS API 2.1.x〜3.1.xまで

    * JAX-RS 1.0～3.0

    * JBoss Logging 1.3.0.Final以降（[当社のLogs in Context](/docs/logs/logs-context/java-configure-logs-context-all/)機能用）

    * [JCache API](/docs/release-notes/agent-release-notes/java-release-notes/java-agent-3200) 1.0.0以降

    * Jersey 1.0.1以降

    * JSF （Java Server Faces）

    * JUL（Javaユーティリティロギング）（当社の[Logs in Context](/docs/logs/logs-context/java-configure-logs-context-all/)機能用）

    * Log4j1 1.2.17以降（[当社のLogs in Context](/docs/logs/logs-context/java-configure-logs-context-all/)機能用）

    * Log4j 2 2.6以降（[当社のLogs in Context](/docs/logs/logs-context/java-configure-logs-context-all/)機能用）

    * 1.1から最新のログバック（当社の[Logs in Context](/docs/logs/logs-context/java-configure-logs-context-all/)機能用）

    * Monix Task

      * Scala 2.11: 3.0.0〜3.2.x
      * Scala 2.12: 3.0.0以降
      * Scala 2.13: 3.0.0以降
      * Scala 3: 3.0.0以降

    * Pekko 1.0.0以降

    * Pekko-Http 1.0.0以降

      * Scala 2.13
      * Scala 3

    * Play Server 2.3.0以降/\* Pekko-Httpをサポートすると、Playサポートが最新のものまで拡張されます \*/

    * Quartz Job Scheduler 1.8.3～2.2.x

    * RESTEasy 2.2-RC-1以降

    * S3Client 2.1.0以降

    * SnsClient 2.1.0以降

    * Spray 1.3.1以降

    * Spring 3.0.0.RELEASE以降

    * Spring Batch 4.0.0以降

    * Spring Boot Actuator v3（トランザクション命名）

    * Spring Web Services 1.5.7以降

    * Spring Webflux 5.0.0.RELEASE以降

    * SqsClient 2.1.0以降

    * Struts 2.0以降

    * Thrift 0.8.0以降

    * Vert.x 3.2.0～4.5.x

    * ZIO
      * Scala 2.13: 1.0.9以降
  </Collapser>

  <Collapser id="http-messaging" title="HTTPとメッセージング">
    エージェントは、以下のHTTPクライアントおよびメッセージングサービスを自動的にインストゥルメントします。詳しい手順については、[Javaエージェントのインストール](/docs/agents/java-agent/installation/java-agent-manual-installation)をご覧ください。

    * Akka HTTP 2.4.5以降

    * Akka Http Core 0.4以降

    * AsyncHttpClient 2.0.0-RC1以降

    * gRPC 1.4.0以降

    * HTTP4s Blazeクライアント

      * Scala 2.12: 0.21～0.23.0-M1
      * Scala 2.13: 0.21～0.23.0-M1

    * HTTP4s Blazeサーバー

      * Scala 2.12: 0.21～0.22.0-M8
      * Scala 2.13: 0.21～0.22.0-M8

    * HttpAsyncClient 4.1以降

    * Apache Httpclient 3.1〜5.x

    * java.net.HttpURLConnection

    * JMS 1.1以降

    * Kafkaクライアント設定1.1.0以降

    * [Kafkaクライアントノードメトリクス](/docs/agents/java-agent/instrumentation/java-agent-instrument-kafka-message-queues)1.0.0以降（メトリクス用）

    * [Kafkaクライアントメトリクス](/docs/agents/java-agent/instrumentation/java-agent-instrument-kafka-message-queues) 0.10.0.0〜3.9.x（メトリクス用）

    * [Kafkaクライアントスパン](/docs/agents/java-agent/instrumentation/java-agent-instrument-kafka-message-queues)0.11.0.0以降（ディストリビューティッド（分散）トレーシング用）

    * [Kafka Connect](/docs/agents/java-agent/instrumentation/java-agent-instrument-kafka-message-queues) 1.0.0以降（メトリクス用）

    * [Kafka Connect](/docs/agents/java-agent/instrumentation/java-agent-instrument-kafka-message-queues) 2.0.0以降（ディストリビューティッド（分散）トレーシングおよびトランザクションデータ用）

    * [Kafka Streams](/docs/agents/java-agent/instrumentation/java-agent-instrument-kafka-message-queues) 1.0.0以降（メトリクス用）

    * [Kafka Streams](/docs/agents/java-agent/instrumentation/java-agent-instrument-kafka-message-queues) 2.0.0以降（ディストリビューティッド（分散）トレーシングおよびトランザクションデータ用）

    * OkHttp 3.6.0以降

    * Ning AsyncHttpClient 1.x

    * Play WS

      * Scala 2.11: 2.6.0以降
      * Scala 2.12: 2.6.0以降
      * Scala 2.13: 2.7.3以降

    * RabbitMQ 1.7.2以降 (AMQP および JMS)

    * Spray-client 1.3.1以降

    * Spring JMS 1.1以降

    * Spring Kafka 2.2.0.RELEASE以降

    * Spring webclient 5.0.0.リリース～最新版まで

    * STTP v2

      * Scala 2.12: 2.2.3〜最新2.x
      * Scala 2.13: 2.2.3〜最新2.x、3.0.0〜最新3.x
  </Collapser>

  <Collapser id="JDBC" title="データストア">
    現在、New RelicはMySQLとPostgreSQLをサポートしており、データベースのクエリが遅い場合にExplain Planを取得します。

    * Amazon v1 DynamoDB 1.11.106以降

    * Amazon v2 DynamoDB 2.1.0以降

    * Anorm 2.0 ～2.5

    * Couchbaseクライアント2.4.0以降

    * DataStax Cassandra 3.0.0以降（[高セキュリティ](/docs/accounts-partnerships/accounts/security/high-security)を使用している場合、[許可リストに関する設定ドキュメンテーションを](/docs/agents/java-agent/configuration/java-agent-configuration-config-file#tt-slow_query_whitelist)参照してください。）

    * DB2 9.1以降

    * Derby 10.11.1.1以降

    * Flywayマイグレーションイベント（Flyway v8.0.0以降）

    * 汎用JDBC（任意のJDBC準拠ドライバ）

    * H2 1.0.57以降

    * HikariCP 2.4.0以降

      * エージェントバージョン8.13.0以降で利用可能
      * HikariCPインキュベーターモジュールを置き換えます。HikariCPインキュベーターJar（hikaricp-2.4.0.jar）を使用している場合は、エージェントの拡張フォルダから削除してください。

    * HSQL 1.7.2.2以降

    * INet Oracle Driver （Oranxo） 3.06、3.14

    * INet MERLIA 7.0.3、8.04.03、8.06

    * Jedis Redisドライバ1.4.0～2.10.x、3.0.0～4.x、5.x以降

    * jTDS 1.2以降

    * Lettuce Redis driver 4.3以降

    * MariaDB 1.1.7以上

    * Microsoft JDBC Driver for SQL Server

      * jre7: 6.1.0.jre7〜6.4.0.jre7
      * jre8: 6.1.0.jre8以降

    * MongoDB

      * 同期クライアント：3.1.0-rc0以降
      * 非同期クライアント：3.4.0～4.1.x
      * Reactive streamsクライアント：4.2.0以降

    * MySQL mysql-connector-java 3.0.8以降

    * Oracle ojdbc5、ojdbc6、ojdbc7、ojdbc8、ojdbc10、ojdbc14

    * Postgres 8.0-312.jdbc3以降

    * R2DBC H2 0.8.x ～ 0.9.x

    * R2DBC MariaDB 1.0.2以降

    * R2DBC MySQL 0.8.x以降

    * R2DBC MSSQL 0.8.0以降

    * R2DBC Oracle 0.x以降

    * R2DBC Postgres 0.9.x以降

    * Slick 3.0.0～3.3.x

    * Solr 4.0以降

    * Spymemcached 2.11以降

    * Sybase (jConnect) JDBC 3 driver 6.0以降

    * Vert.x SQLクライアント4.4.2以降
  </Collapser>

  <Collapser id="instance-level-db" title="インスタンスレベルのデータベース情報">
    New Relicは[様々なデータベースとデータベースドライバのインスタンス詳細](/docs/apm/applications-menu/features/analyze-database-instance-level-performance-issues)を収集します。APMで特定のインスタンスおよびデータベース情報のタイプを表示する能力は、New Relicエージェントのバージョンによって異なります。

    New RelicのJavaエージェント[バージョン3.33.0以降](/docs/release-notes/agent-release-notes/java-release-notes/java-agent-3330) では、以下の機能をサポートしています：

    * 任意の [互換性のあるJDBCドライバ](#JDBC)

    * Amazon DynamoDB 1.11.106以上

    * Amazon v2 DynamoDB 2.1.0以降

    * DataStax Cassandra driver 3.0.0以降

    * Jedis Redisドライバー1.4～2.10.x、3.0.0～4.x、5.x以降

    * MongoDB

      * 同期クライアント：3.1.0-rc0以降
      * 非同期/Reactive Streamsクライアント：3.4.0〜4.1.2

    * Spymemcached 2.11.0以降

      <DNT>**Exception:**</DNT> `getBulk()`APIメソッドの呼び出しでは、インスタンスレベルの情報は報告されません。

      Javaエージェントは、低速クエリのトレースおよびこれらのデータベースドライバのトランザクショントレースに関して、データベース名とデータベースサーバー/識別子属性をレポートします。追加のデータストアからインスタンスレベルの情報をリクエストするには、[support.newrelic.com](https://support.newrelic.com)でサポートを受けてください。
  </Collapser>

  <Collapser id="hosting-services" title="ホスティングサービス">
    Javaエージェントは、以下に記載されていないものも含め、多数のホスティングサービス上にインストールできます。以下は、特定のホスティングサービスに関するインストレーションガイドになります：

    * [Google App Engine（GAE）フレキシブル環境](/docs/agents/java-agent/additional-installation/google-app-engine-flexible-installation-java#tomcat-example)
    * [Heroku](/docs/agents/java-agent/heroku/java-agent-heroku)
  </Collapser>

  <Collapser id="async" title="非同期インストゥルメンテーション">
    サポートされているフレームワークの場合、Javaエージェントは[通常、非同期インストゥルメンテーションを自動的に行います](/docs/agents/java-agent/async-instrumentation/asynchronous-applications-monitoring-considerations)。ただし、JavaエージェントAPIを使用して[このインストゥルメンテーションを拡張](/docs/agents/java-agent/async-instrumentation/java-agent-api-asynchronous-applications)できます。
  </Collapser>

  <Collapser id="other" title="その他のインストゥルメンテーション機能">
    * EJB Session Beans 3.0以上
    * JMX
    * JSP（Java Server Pages）2.0 以降
    * [Scala](/docs/agents/java-agent/frameworks/scala-installation-java) 2.9.3以降
  </Collapser>
</CollapserGroup>

## エージェントを他のNew Relic製品に接続 [#digital-intelligence-platform]

Javaエージェントは、他のNew Relic製品と統合され、エンドツーエンドの可視性を提供します。

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        製品
      </th>

      <th>
        機能
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [AIモニタリング](/docs/ai-monitoring/intro-to-ai-monitoring)
      </td>

      <td>
        Javaエージェントのバージョン8.12.0以降を使用している場合は、特定のAIライブラリおよびフレームワークからAIデータを収集できます。

        * [AWS SDK for Java v2 Bedrockランタイムクライアント](https://github.com/aws/aws-sdk-java-v2/)バージョン2.20.157以降
      </td>
    </tr>

    <tr>
      <td>
        [ブラウザのモニタリング](/docs/browser/new-relic-browser/getting-started/introduction-new-relic-browser)
      </td>

      <td>
        Javaエージェントは[自動インストゥルメンテーションが有効にされると](/docs/browser/new-relic-browser/installation/install-new-relic-browser-agent#select-apm-app)、browser JavaScriptエージェントを自動的に挿入します。ブラウザインジェクションを有効化すると、[APMの概要ページ](/docs/apm/applications-menu/monitoring/apm-overview-page)でブラウザデータを表示でき、特定のアプリに対してAPMとブラウザデータを素早く切り替えできます。設定オプションと手動インストゥルメンテーションについては、 [<InlinePopover type="browser" />とJavaエージェントを](/docs/agents/java-agent/instrumentation/page-load-timing-java)参照してください。
      </td>
    </tr>

    <tr>
      <td>
        [インフラストラクチャのモニタリング](/docs/infrastructure/new-relic-infrastructure/getting-started/introduction-new-relic-infrastructure)
      </td>

      <td>
        インフラストラクチャとAPMエージェントを同じホストにインストールすると、それらは自動的にお互いを検出します。その後、APM UIでホストのリストを表示し、Infrastructure UIでAPMアプリ別にホストをフィルタリングできます。詳細については、[Infrastructure UIのAPMデータ](/docs/infrastructure/new-relic-infrastructure/data-instrumentation/new-relic-apm-data-infrastructure)を参照してください。
      </td>
    </tr>

    <tr>
      <td>
        [New Relicのダッシュボード](/docs/query-your-data/explore-query-data/dashboards/introduction-new-relic-one-dashboards)
      </td>

      <td>
        Javaエージェントはデフォルトのイベントと属性をダッシュボードに送信します。または、[クエリビルダーでNRQLクエリを実行](/docs/query-your-data/explore-query-data/query-builder/use-advanced-nrql-mode-specify-data)できます。高度な分析のために、[カスタムイベントを記録](/docs/insights/insights-data-sources/custom-data/insert-custom-events-new-relic-apm-agents)することもできます。
      </td>
    </tr>

    <tr>
      <td>
        [合成のモニタリング](/docs/synthetics/new-relic-synthetics/getting-started/introduction-new-relic-synthetics)
      </td>

      <td>
        [合成トランザクショントレース](/docs/synthetics/new-relic-synthetics/using-monitors/collect-synthetic-transaction-traces)は、合成モニターからのリクエストを基盤となるAPMトランザクションに接続します。
      </td>
    </tr>
  </tbody>
</table>