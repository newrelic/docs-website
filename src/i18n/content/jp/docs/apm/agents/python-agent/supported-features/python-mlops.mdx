---
title: Python と機械学習
tags:
  - Agents
  - Python agent
freshnessValidatedDate: '2023-09-13T00:00:00.000Z'
translationType: machine
---

New Relic Python Agent v9.1.0 以降、New Relic では、機械学習モデルのモニタリングが可能になりました。これらの監視対象の ML モデルは、APM の「モデル」セクションにあります。

## セットアップ

<Callout variant="tip">
  ML モデル メトリクスは、Python エージェント バージョン 9.1.0 で使用できます。以降ですが、デフォルトでは無効になっています。この構成を変更するには、[ドキュメントを](/docs/apm/agents/python-agent/configuration/python-agent-configuration#ml-settings)参照してください。
</Callout>

ML 設定は[ここに](/docs/apm/agents/python-agent/configuration/python-agent-configuration/#ml-settings)あります。

デフォルトの ML ハーベスト サイズ 100000 を 5 秒ごとに変更するには、 `newrelic.ini`ファイルの`event_harvest_config.harvest_limits.ml_event_data`を目的の値に設定するか、環境変数`NEW_RELIC_ML_INSIGHTS_EVENTS_MAX_SAMPLES_STORED`を目的の値に設定します。

```bash
export NEW_RELIC_ML_INSIGHTS_EVENTS_MAX_SAMPLES_STORED=${desired_value}
```

## 現在実装されている機械学習フレームワーク [#ml-frameworks]

<table>
  <thead>
    <tr>
      <th>
        <DNT>
          **ML Library**
        </DNT>
      </th>

      <th>
        <DNT>
          **Version Available**
        </DNT>
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [scikit を学ぶ](https://pypi.org/project/scikit-learn/)
      </td>

      <td>
        9.1.0
      </td>
    </tr>
  </tbody>
</table>

## 機械学習 API [#ml-apis]

ML インスツルメンテーション エクスペリエンスをカスタマイズするために、2 つの新しい API が存在します。

* カスタム ML イベントを記録する: [Record_ml_event](/docs/agents/python-agent/python-agent-api/recordmlevent-python-agent-api)
* ML モデルを手動でインストルメントする: [wrap_mlmodel](/docs/agents/python-agent/python-agent-api/wrapmlmodel-python-agent-api)

## データのプライバシーを確保する [#data-privacy]

<Callout variant="caution">
  New Relicに送信するログデータはユーザーが管理するため、組織のセキュリティガイドラインに従って、個人識別情報（PII）、保護された健康情報（PHI）、またはその他の機密データの送信をマスク、難読化、または防止してください。
</Callout>

[ここで、](/docs/apm/agents/python-agent/configuration/python-agent-configuration/#inference-events-value-enabled)希望するプライバシー設定に応じて、生の推論値の送信を有効または無効にすることもできます。

## 特徴と機能 [#features-functionality]

モデルは、\[すべてのエンティティ] ビューの別のモデル カテゴリに表示されます。

<img
  title="python-ml-APM-All-Entities.png"
  alt="Screen capture showing ML Models in APM All Entries view."
  src="/images/python-ml-APM-All-Entities.webp"
/>

\[モデル] ビューのモデルの概要:

<img
  title="python-ml-APM-models-view.png"
  alt="Screen capture showing ML Models in APM Models view."
  src="/images/python-ml-APM-models-view.webp"
/>

モデルの概要内では、モデル全体のパフォーマンス ビューと予測分布が表示されます。

<img
  title="python-ml-APM-model-summary-view1.png"
  alt="Screen capture showing Label Propagation ML Model Summary view."
  src="/images/python-ml-APM-model-summary-view1.webp"
/>

<img
  title="python-ml-APM-model-summary-view2.png"
  alt="Screen capture showing Label Propagation ML Model Summary view."
  src="/images/python-ml-APM-model-summary-view2.webp"
/>
