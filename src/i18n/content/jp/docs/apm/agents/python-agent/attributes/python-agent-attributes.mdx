---
title: パイソンエージェントの属性
tags:
  - Agents
  - Python agent
  - Attributes
metaDescription: A summary of attributes captured by the Python agent.
freshnessValidatedDate: never
translationType: machine
---

[アトリビュート](/docs/features/agent-attributes) は、イベントやトランザクションのプロパティを決定する情報を含むキーと値のペアです。ユーザーは、それぞれの送信先にどの属性を送信するかを正確にカスタマイズすることができます。

* [トランザクショントレース](/docs/apm/transactions/transaction-traces/transaction-traces)
* [トレースされたエラー](/docs/apm/applications-menu/events/viewing-apm-errors-error-traces)
* [Transactionイベント](/docs/insights/new-relic-insights/decorating-events/apm-default-attributes-insights)
* [ページビュー](/docs/insights/new-relic-insights/decorating-events/browser-default-attributes-insights)

これらの属性設定は、Pythonエージェントのバージョン2.56.0.42以降に適用されます。 [利用可能なすべての機能を利用するには、Pythonエージェント](/docs/agents/python-agent/installation-configuration/upgrade-python-agent) を [最新のリリース](/docs/release-notes/agent-release-notes/python-release-notes) にアップデートしてください。

## PythonエージェントのWebトランザクション属性 [#attributes]

以下は、 [Web トランザクション](/docs/apm/transactions/intro-transactions/transactions-new-relic-apm) のために、Python エージェントで設定できる属性の一覧です。詳細は、 [Python agent configuration: attributes](/docs/python/python-agent-configuration#attributes) を参照してください。

<CollapserGroup>
  <Collapser
    id="requestHeadersAccept"
    title="request.headers.accept"
  >
    HTTPのAcceptリクエストヘッダから読み取ったタイプです。

    デフォルトでは

    * トランザクションのトレースEnabled
    * エラーコレクター（トレースされたエラー）。有効
    * トランザクションイベント。有効
    * ページビュー ( <InlinePopover type="browser"/>): 利用不可
  </Collapser>

  <Collapser
    id="requestHeadersContentLength"
    title="request.headers.contentLength"
  >
    `Content-Length`リクエスト ヘッダーから読み取った受信リクエストのサイズ（バイト単位）。

    デフォルトでは

    * トランザクションのトレースEnabled
    * エラーコレクター（トレースされたエラー）。有効
    * トランザクションイベント。有効
    * ページビュー（ブラウザモニタリング）。利用不可
  </Collapser>

  <Collapser
    id="requestHeadersContentType"
    title="request.headers.contentType"
  >
    `Content-Type`リクエスト ヘッダーから読み取られた受信リクエストのコンテンツ タイプ。

    デフォルトでは

    * トランザクションのトレースEnabled
    * エラーコレクター（トレースされたエラー）。有効
    * トランザクションイベント。有効
    * ページビュー（ブラウザモニタリング）。利用不可
  </Collapser>

  <Collapser
    id="requestHeadersHost"
    title="request.headers.host"
  >
    HTTPのホストリクエストヘッダの名前です。

    デフォルトでは

    * トランザクションのトレースEnabled
    * エラーコレクター（トレースされたエラー）。有効
    * トランザクションイベント。有効
    * ページビュー（ブラウザモニタリング）。利用不可
  </Collapser>

  <Collapser
    id="requestHeadersReferer"
    title="request.headers.referer"
  >
    `Referer`リクエスト ヘッダーから読み取られた着信リクエスト リファラー。

    デフォルトでは

    * トランザクションのトレースEnabled
    * エラーコレクター（トレースされたエラー）。有効
    * トランザクションイベント。有効
    * ページビュー（ブラウザモニタリング）。利用不可
  </Collapser>

  <Collapser
    id="requestHeadersUserAgent"
    title="request.headers.userAgent"
  >
    `User-Agent`リクエスト ヘッダーから読み取られた着信リクエストのユーザー エージェント。

    デフォルトでは

    * トランザクションのトレースEnabled
    * エラーコレクター（トレースされたエラー）。有効
    * トランザクションイベント。有効
    * ページビュー（ブラウザモニタリング）。利用不可
  </Collapser>

  <Collapser
    id="requestMethod"
    title="request.method"
  >
    受信したリクエストのHTTPメソッドです。

    デフォルトでは

    * トランザクションのトレースEnabled
    * エラーコレクター（トレースされたエラー）。有効
    * トランザクションイベント。有効
    * ページビュー（ブラウザモニタリング）。利用不可
  </Collapser>

  <Collapser
    id="requestParameters"
    title="request.parameters.org"
  >
    リクエストURLのクエリストリングからのパラメータ。

    <Callout variant="tip">
      `capture_params`プロパティは廃止されました。ただし、 `true`に設定すると、トランザクション追跡と追跡エラーのリクエスト パラメータが有効になります。
    </Callout>

    デフォルトでは

    * トランザクションのトレース。無効です。
    * エラーコレクター（トレースされたエラー）。無効です。
    * トランザクションイベント。使用不可
    * ページビュー（ブラウザ監視）。使用不可
  </Collapser>

  <Collapser
    id="requestUri"
    title="request.uri"
  >
    受信したリクエストのURIです。

    デフォルトでは

    * トランザクションのトレースEnabled
    * エラーコレクター（トレースされたエラー）。有効
    * トランザクションイベント。有効
    * ページビュー（ブラウザモニタリング）。利用不可
  </Collapser>

  <Collapser
    id="responseContentLength"
    title="response.headers.contentLength"
  >
    `Content-Length`応答ヘッダーから取得され、送信応答のサイズをバイト単位で指定します。

    デフォルトでは

    * トランザクションのトレースEnabled
    * エラーコレクター（トレースされたエラー）。有効
    * トランザクションイベント。有効
    * ページビュー（ブラウザモニタリング）。利用不可
  </Collapser>

  <Collapser
    id="responseContentType"
    title="response.headers.contentType"
  >
    `Content-Type`応答ヘッダーから取得され、発信応答のコンテンツ タイプを指定します。

    デフォルトでは

    * トランザクションのトレースEnabled
    * エラーコレクター（トレースされたエラー）。有効
    * トランザクションイベント。有効
    * ページビュー（ブラウザモニタリング）。利用不可
  </Collapser>

  <Collapser
    id="responseStatus"
    title="レスポンス.ステータス"
  >
    発信応答の状態。

    デフォルトでは

    * トランザクションのトレースEnabled
    * エラーコレクター（トレースされたエラー）。有効
    * トランザクションイベント。有効
    * ページビュー（ブラウザモニタリング）。利用不可
  </Collapser>

  <Collapser
    id="threadConcurrency"
    title="スレッド.コンカレンシー"
  >
    "スレッド使用率の指標で、" 同時リクエストを処理するスレッドの数を表す。

    デフォルトでは

    * トランザクションのトレースEnabled
    * エラーコレクター（トレースされたエラー）。有効
    * トランザクションイベント。使用不可
    * ページビュー（ブラウザモニタリング）。利用不可
  </Collapser>

  <Collapser
    id="webfrontendQueueSeconds"
    title="webfrontend.queue.seconds"
  >
    リクエストのキューイングに費やされた時間（秒単位）。

    デフォルトでは

    * トランザクションのトレースEnabled
    * エラーコレクター（トレースされたエラー）。有効
    * トランザクションイベント。使用不可
    * ページビュー（ブラウザモニタリング）。利用不可
  </Collapser>

  <Collapser
    id="wsgiInputBytes"
    title="wsgi.input.bytes"
  >
    WSGIの入力ストリームで受信したバイト数（ファイル状のオブジェクト。）

    デフォルトでは

    * トランザクションのトレースEnabled
    * エラーコレクター（トレースされたエラー）。有効
    * トランザクションイベント。使用不可
    * ページビュー（ブラウザモニタリング）。利用不可
  </Collapser>

  <Collapser
    id="wsgiInputCallsRead"
    title="wsgi.input.calls.read"
  >
    WSGI サーバーがリクエストを処理するために`read()`を呼び出した回数。

    デフォルトでは

    * トランザクションのトレースEnabled
    * エラーコレクター（トレースされたエラー）。有効
    * トランザクションイベント。使用不可
    * ページビュー（ブラウザモニタリング）。利用不可
  </Collapser>

  <Collapser
    id="wsgiInputCallsReadline"
    title="wsgi.input.calls.readline"
  >
    WSGI サーバーがリクエストを処理するために`readline()`を呼び出した回数。

    デフォルトでは

    * トランザクションのトレースEnabled
    * エラーコレクター（トレースされたエラー）。有効
    * トランザクションイベント。使用不可
    * ページビュー（ブラウザモニタリング）。利用不可
  </Collapser>

  <Collapser
    id="wsgiInputCallsReadlines"
    title="wsgi.input.calls.readlines"
  >
    WSGI サーバーがリクエストを処理するために`readlines()`を呼び出した回数。

    デフォルトでは

    * トランザクションのトレースEnabled
    * エラーコレクター（トレースされたエラー）。有効
    * トランザクションイベント。使用不可
    * ページビュー（ブラウザモニタリング）。利用不可
  </Collapser>

  <Collapser
    id="wsgiInputSeconds"
    title="wsgi.input.seconds"
  >
    WSGI入力ストリームを読み込むのにかかる時間（秒）。

    デフォルトでは

    * トランザクションのトレースEnabled
    * エラーコレクター（トレースされたエラー）。有効
    * トランザクションイベント。使用不可
    * ページビュー（ブラウザモニタリング）。利用不可
  </Collapser>

  <Collapser
    id="wsgiOutputBytes"
    title="wsgi.output.bytes"
  >
    WSGIの出力レスポンスで送信されるバイト数。

    デフォルトでは

    * トランザクションのトレースEnabled
    * エラーコレクター（トレースされたエラー）。有効
    * トランザクションイベント。使用不可
    * ページビュー（ブラウザモニタリング）。利用不可
  </Collapser>

  <Collapser
    id="wsgiOutputCallsWrite"
    title="wsgi.output.calls.write"
  >
    WSGI サーバーが応答を送信するために`write()`を呼び出した回数。

    デフォルトでは

    * トランザクションのトレースEnabled
    * エラーコレクター（トレースされたエラー）。有効
    * トランザクションイベント。使用不可
    * ページビュー（ブラウザモニタリング）。利用不可
  </Collapser>

  <Collapser
    id="wsgiOutputCallsYield"
    title="wsgi.output.calls.yield"
  >
    WSGI サーバーが応答を送信するために`yield`を呼び出した回数。

    デフォルトでは

    * トランザクションのトレースEnabled
    * エラーコレクター（トレースされたエラー）。有効
    * トランザクションイベント。使用不可
    * ページビュー（ブラウザモニタリング）。利用不可
  </Collapser>

  <Collapser
    id="wsgiOutputSeconds"
    title="wsgi.output.seconds"
  >
    WSGIのレスポンスを送信する時間（秒）。

    デフォルトでは

    * トランザクションのトレースEnabled
    * エラーコレクター（トレースされたエラー）。有効
    * トランザクションイベント。使用不可
    * ページビュー（ブラウザモニタリング）。利用不可
  </Collapser>
</CollapserGroup>

## Pythonエージェントメッセージのトランザクション属性 [#message_attributes][#message_attributes]

次のセクションでは、 <DNT>RabbitMQ</DNT>などの受信メッセージ ブローカーによって開始された[メッセージ トランザクション](/docs/agents/python-agent/supported-features/python-message-queues)に対して Python エージェントで構成できる属性を示します。 詳細については、 [「Python エージェント設定: プロパティ」](/docs/python/python-agent-configuration#attributes)を参照してください。

<CollapserGroup>
  <Collapser
    id="messageCorrelationId"
    title="message.correlationId"
  >
    RPC構成で使用される、アプリケーションが生成した識別子です。

    デフォルトでは

    * トランザクションのトレース。無効です。
    * エラーコレクター（トレースされたエラー）。無効です。
    * トランザクションイベント。使用不可
  </Collapser>

  <Collapser
    id="messageExchangeType"
    title="message.exchangeType"
  >
    このメッセージが消費された交換のタイプ：ダイレクト、ファンアウト、トピック、またはヘッダ

    デフォルトでは

    * トランザクションのトレース。無効です。
    * エラーコレクター（トレースされたエラー）。無効です。
    * トランザクションイベント。使用不可
  </Collapser>

  <Collapser
    id="messageHeaders"
    title="message.headers.children"
  >
    受信メッセージのヘッダーです。

    デフォルトでは

    * トランザクションのトレース。無効です。
    * エラーコレクター（トレースされたエラー）。無効です。
    * トランザクションイベント。使用不可
  </Collapser>

  <Collapser
    id="messageQueueName"
    title="message.queueName"
  >
    このメッセージが消費されたキューの名前。

    デフォルトでは

    * トランザクションのトレースEnabled
    * エラーコレクター（トレースされたエラー）。有効
    * トランザクションイベント。有効
  </Collapser>

  <Collapser
    id="messageReplyTo"
    title="message.replyTo"
  >
    RPC構成で使用されるコールバックキューです。

    デフォルトでは

    * トランザクションのトレース。無効です。
    * エラーコレクター（トレースされたエラー）。無効です。
    * トランザクションイベント。使用不可
  </Collapser>

  <Collapser
    id="messageRoutingKey"
    title="message.routingKey"
  >
    受信メッセージのルーティングキー。

    デフォルトでは

    * トランザクションのトレースEnabled
    * エラーコレクター（トレースされたエラー）。有効
    * トランザクションイベント。有効
  </Collapser>
</CollapserGroup>

## Pythonエージェントの外部トレース属性 [#message_attributes][#message_attributes]

以下のセクションでは、 [httplib, boto3, requests,](/docs/agents/python-agent/getting-started/instrumented-python-packages#external-web-services) などの発信ライブラリによって開始されるトレースや、 [外部トレース API](/docs/agents/python-agent/python-agent-api/external-trace) を使用する際に、Python エージェントで設定可能な属性をリストアップしています。詳細については、 [Python agent configuration: attributes](/docs/python/python-agent-configuration#attributes) を参照してください。

<CollapserGroup>
  <Collapser
    id="httpUrl"
    title="http.url"
  >
    リクエストパラメーターを取り除いた、送信されるコールのURLです。

    ときに除外されます。

    * http.url」に一致するルールが"transaction_segments.attributes.exclude" の設定に存在します。(セグメント用)

    * http.url」に一致するルールが、"span_events.attributes.exclude" の構成設定に存在します。(スパンの場合)

      デフォルトでは

    * トランザクション・セグメント。Enabled

    * スパンイベント。有効
  </Collapser>
</CollapserGroup>

## Pythonエージェントデータベースのトレース属性 [#message_attributes][#message_attributes]

以下のセクションでは、 [mysql, psycopg2, cx_Oracle,](/docs/agents/python-agent/getting-started/instrumented-python-packages#sql-database-adapters) などのデータベースライブラリが起動するトレースや、データベーストレースAPIを使用する際に、Pythonエージェントで設定できる属性をリストアップしています。詳細については、 [Python agent configuration: attributes](/docs/python/python-agent-configuration#attributes) を参照してください。

<CollapserGroup>
  <Collapser
    id="dbdbInstance"
    title="db.instance"
  >
    クエリで使用するデータベースの名前です。

    ときに除外されます。

    * "datastore_tracer.database_name_reporting.enabled" の構成設定がFalseになっています。

    * db.instance」に一致するルールが"transaction_segments.attributes.exclude" の設定（セグメント用）に存在する場合。

    * "span_events.attributes.exclude" の構成設定に「db.instance」に一致するルールが存在する場合。(スパンの場合)

      デフォルトでは

    * トランザクション・セグメント。Enabled

    * スパンイベント。有効
  </Collapser>

  <Collapser
    id="dbHost"
    title="ホスト"
  >
    データベースへの接続に使用されるホストです。

    ときに除外されます。

    * "datastore_tracer.instance_reporting.enabled configuration" の設定がFalseになっています。

      デフォルトでは

    * トランザクション・セグメント。Enabled
  </Collapser>

  <Collapser
    id="dbPortPathOrId"
    title="ポートパス_OR_ID"
  >
    データベースのポート、パス、IDのいずれか。

    ときに除外されます。

    * "datastore_tracer.instance_reporting.enabled configuration" の設定がFalseになっています。

      デフォルトでは

    * トランザクション・セグメント。Enabled
  </Collapser>

  <Collapser
    id="sql"
    title="sql"
  >
    [transaction_tracer.record_sql 設定](/docs/agents/python-agent/configuration/python-agent-configuration#txn-tracer-sql) に基づいて処理された、クエリで使用された SQLl。大きなクエリはサイズが制限されます。

    ときに除外されます。

    * "transaction_tracer.record_sql の設定" の設定が"off になっています。"

      デフォルトでは

    * トランザクションセグメント。Enabled, reported as"obfuscated" SQL.
  </Collapser>

  <Collapser
    id="dbPeerHostname"
    title="peer.hostname"
  >
    データベースへの接続に使用されるホストです。

    ときに除外されます。

    * "datastore_tracer.instance_reporting.enabled configuration" の設定がFalseになっています。(そうでない場合は、"Unknown" が代わりに報告されます)。

      デフォルトでは

    * スパンイベント。有効
  </Collapser>

  <Collapser
    id="dbPeerAddress"
    title="peer.address"
  >
    データベースへの接続に使用されるホスト（ポートやパスの情報を含む）。

    ときに除外されます。

    * "datastore_tracer.instance_reporting.enabled configuration" の設定がFalseになっています。(そうでない場合は、"Unknown" が代わりに報告されます)。

      デフォルトでは

    * スパンイベント。有効
  </Collapser>

  <Collapser
    id="dbStatement"
    title="db.statement"
  >
    [transaction_tracer.record_sql 設定](/docs/agents/python-agent/configuration/python-agent-configuration#txn-tracer-sql) に基づいて処理された、クエリで使用された SQL。大きなクエリはサイズが制限されます。

    ときに除外されます。

    * "transaction_tracer.record_sql の設定" の設定が"off になっています。"

      デフォルトでは

    * スパンイベント。Enabled, reported as"obfuscated" SQL.
  </Collapser>

  <Collapser
    id="dbOperation"
    title="db.operation"
  >
    このスパンで実行されたデータベース操作です。db.statement が適用されない場合にのみ含まれます。

    ときに除外されます。

    * db.statementという属性が報告されています。

      デフォルトでは

    * トランザクション・セグメント。Enabled

    * スパンイベント。有効
  </Collapser>
</CollapserGroup>

## Pythonエージェントのデータストアのトレース属性 [#message_attributes][#message_attributes]

以下のセクションでは、 [redis, memcache, pymongo,](/docs/agents/python-agent/getting-started/instrumented-python-packages#sql-database-adapters) などのデータストアライブラリによって開始されるトレースや、 [データストアトレースAPI](/docs/agents/python-agent/python-agent-api/datastore_trace) を使用する際に、Pythonエージェントで設定できる属性をリストアップしています。詳細については、 [Python agent configuration: attributes](/docs/python/python-agent-configuration#attributes) を参照してください。

<CollapserGroup>
  <Collapser
    id="dbdbInstance"
    title="db.instance"
  >
    クエリで使用されるデータストア・インスタンスの名前です。

    ときに除外されます。

    * "datastore_tracer.database_name_reporting.enabled" の構成設定がFalseになっています。

    * db.instance」に一致するルールが"transaction_segments.attributes.exclude" の設定（セグメント用）に存在する場合。

    * db.instance」に一致するルールが"span_events.attributes.exclude" の構成設定（スパン用）に存在する場合。

      デフォルトでは

    * トランザクション・セグメント。Enabled

    * スパンイベント。有効
  </Collapser>

  <Collapser
    id="dsHost"
    title="ホスト"
  >
    データストアへの接続に使用されるホストです。

    ときに除外されます。

    * "datastore_tracer.instance_reporting.enabled configuration" の設定がFalseになっています。

      デフォルトでは

    * トランザクション・セグメント。Enabled
  </Collapser>

  <Collapser
    id="dsPortPathOrId"
    title="ポートパス_OR_ID"
  >
    データストアのポート、パス、またはID。

    ときに除外されます。

    * "datastore_tracer.instance_reporting.enabled configuration" の設定がFalseになっています。

      デフォルトでは

    * トランザクション・セグメント。Enabled
  </Collapser>

  <Collapser
    id="dsPeerHostname"
    title="peer.hostname"
  >
    データストアへの接続に使用されるホストです。

    ときに除外されます。

    * "datastore_tracer.instance_reporting.enabled configuration" の設定がFalseになっています。(そうでない場合は、"Unknown" が代わりに報告されます)。

      デフォルトでは

    * スパンイベント。有効
  </Collapser>

  <Collapser
    id="dsPeerAddress"
    title="peer.address"
  >
    データストアへの接続に使用されたホスト（ポート、パス、またはID情報を含む）。

    ときに除外されます。

    * "datastore_tracer.instance_reporting.enabled configuration" の設定がFalseになっています。(そうでない場合は、"Unknown" が代わりに報告されます)。

      デフォルトでは

    * スパンイベント。有効
  </Collapser>
</CollapserGroup>

## Pythonエージェントのスパン属性 [#attributes]

以下のセクションでは、 [スパンイベント](/docs/apm/distributed-tracing/ui-data/span-event) のためにPythonエージェントで設定できる属性をリストアップしています。詳細については、 [Python agent configuration: attributes](/docs/python/python-agent-configuration#attributes) を参照してください。

<CollapserGroup>
  <Collapser
    id="errorClass"
    title="error.class"
  >
    スパンイベントに記録される例外のクラス（存在する場合）。例外の詳細は、 [notice_error](/docs/agents/python-agent/python-agent-api/noticeerror-python-agent-api/) APIを使ってスパンに記録することができます。

    デフォルトでは

    * スパンイベント。有効
  </Collapser>

  <Collapser
    id="errorMessage"
    title="エラー・メッセージ"
  >
    スパンイベントに記録される例外メッセージ（存在する場合）。例外の詳細は、 [notice_error](/docs/agents/python-agent/python-agent-api/noticeerror-python-agent-api/) APIを使ってスパンに記録することができます。

    デフォルトでは

    * スパンイベント。有効
  </Collapser>
</CollapserGroup>

## カスタムアトリビュートを追加する [#adding_custom_attributes][#adding_custom_attributes]

アプリケーションから追加のカスタム属性を取得するには、 `newrelic.agent.add_custom_attribute()`を使用します。

詳細は、 [Collecting custom attributes](/docs/apm/other-features/attributes/collecting-custom-attributes#python-att) を参照してください。

デフォルトでは

* トランザクションのトレースEnabled
* エラーコレクター（トレースされたエラー）。有効
* トランザクションイベント。有効
* ページビュー（ブラウザ監視）。使用不可

<Callout variant="important">
  カスタムアトリビュートを作成する前に、 [reserved terms](/docs/insights/event-data-sources/custom-events/data-requirements-limits-custom-event-data/#reserved-words) のリストを確認してください。そうしないと、予期しない結果が生じる可能性があります。
</Callout>

## 例外にカスタム属性を追加 [#adding_error_attributes][#adding_error_attributes]

`newrelic.agent.notice_error()` API 呼び出しを使用する場合、トレースされたエラーの属性として記録される`params`のディクショナリを渡すことができます。

デフォルトでは

* トランザクションのトレース。利用できません
* エラーコレクター（トレースされたエラー）。有効
* トランザクションイベントです。使用不可
* ページビュー（ブラウザモニタリング）。利用不可

## 設定ファイルのアップグレード [#upgrading]

Python エージェント<DNT>**2.56.0.42**</DNT>以上にアップグレードするときは、 <DNT>**newrelic.ini**</DNT>設定ファイルもアップグレードしてください。 非推奨の構成設定の詳細については、 [「属性の有効化と無効化」](/docs/agents/python-agent/attributes/enabling-disabling-attributes-python#deprecated)を参照してください。
