---
title: get_browser_timing_header (PythonエージェントAPI)
type: apiDoc
shortDescription: JavaScriptエージェントを注入するためのブラウザエージェントヘッダを生成します。
tags:
  - Agents
  - Python agent
  - Python agent API
metaDescription: 'Python API: This call produces the JavaScript snippet you can use to set up browser monitoring.'
freshnessValidatedDate: never
translationType: machine
---

## 構文 [#syntax]

```py
get_browser_timing_header(nonce=None)
```

JavaScript エージェントを挿入するための<InlinePopover type="browser"/>エージェント ヘッダーを生成します。

## 説明 [#description]

<Callout variant="important">
  nonce CSP サポートの nonce パラメータは、Python エージェント バージョン 9.4.0 で追加されました。

  Python エージェント バージョン 9.3.0 以前では、ブラウザのタイミングを有効にするために[`get_browser_timing_footer`](/docs/agents/python-agent/python-agent-api/get_browser_timing_footer) API も必要でした。エージェント バージョン 9.4.0 以降では、これは必要なくなりました。
</Callout>

この呼び出しにより、[ブラウザ監視を](/docs/agents/python-agent/supported-features/page-load-timing-python)有効にするために使用できるブラウザ エージェントの JavaScript ヘッダー スニペットが返されます。これは、アプリケーションで自動インストルメンテーションが不可能な場合、nonced コンテンツ セキュリティ ポリシーを使用している場合、または特定のページのみのブラウザ データを収集したい場合に使用できます。

これは、エージェントによる[この JavaScript の自動挿入](/docs/browser/new-relic-browser/installation-configuration/add-apps-new-relic-browser#select-apm-app)に代わる手動の方法です。この呼び出しと`get_browser_timing_footer`を使用してブラウザ監視を有効にする方法については、 [「ブラウザ監視を手動で設定する」](/docs/agents/python-agent/supported-features/page-load-timing-python#manual_instrumentation)を参照してください。

この呼び出しは、JavaScript スニペットを挿入するすべての Web リクエストに対して呼び出す必要があります。 <DNT>**cannot**</DNT>はグローバル スコープで呼び出され、キャッシュされます。

## パラメーター [#parameters]

<table>
  <thead>
    <tr>
      <th width="25%">
        パラメータ
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `nonce`

        _ストリング_
      </td>

      <td>
        オプション。コンテンツ セキュリティ ポリシー (CSP) ポリシーによって使用される、リクエストごとの暗号化ナンス。
      </td>
    </tr>
  </tbody>
</table>

## 戻り値 [#return-values]

ブラウザエージェントヘッダーのJavaScriptを返します。

## 例 [#examples]

### ブラウザの手動監視装置 [#browser-example]

ヘッダーコールとフッターコールの使用方法については、 [Manually instrument browser monitoring](/docs/agents/python-agent/supported-features/page-load-timing-python#manual_instrumentation) を参照してください。

### CSP ノンスの例 [#csp-nonce-example]

[CSP ノンスでヘッダー呼び出しを使用する方法については、「CSP ノンス サポート](/docs/agents/python-agent/supported-features/page-load-timing-python#csp-nonce-support)」を参照してください。
