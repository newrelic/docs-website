---
title: current_transaction (PythonエージェントAPI)
type: apiDoc
shortDescription: 現在のトランザクションに対応するオブジェクトを返します。
tags:
  - Agents
  - Python agent
  - Python agent API
metaDescription: 'New Relic Python API: Retrieves an object corresponding to the current transaction, which is used by some other calls.'
translationType: machine
---

## 構文

```py
newrelic.agent.current_transaction(active_only=True)
```

現在のトランザクションに対応するオブジェクトを返します。

## 説明

`current_transaction` を使用して、現在の [トランザクション](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#transaction)を表すオブジェクトを取得します。アクティブなトランザクションがない場合は、 `None` を返します。

## パラメーター

<table>
  <thead>
    <tr>
      <th width="25%">
        パラメータ
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `active_only`

        _ブール値_
      </td>

      <td>
        オプション。デフォルトは `True`で、アクティブなトランザクションのみを返すことを意味します。 `False`に設定すると、呼び出しは終了または停止したトランザクションを返すことができます (たとえば、 `end_of_transaction` 使用された場合)。
      </td>
    </tr>
  </tbody>
</table>

## 戻り値

現在のトランザクションに対応するトランザクション オブジェクトを返します。アクティブなトランザクションがない場合は、 `None` を返します。

## 例

### 現在のトランザクションの取得 [#function-trace-example]

```py
import newrelic.agent

@newrelic.agent.background_task()
def main():
    transaction = newrelic.agent.current_transaction()
```