---
title: capture_request_params (PythonエージェントAPI)
type: apiDoc
shortDescription: トランザクションのクエリストリングパラメーターの取得を可能にする。
tags:
  - Agents
  - Python agent
  - Python agent API
metaDescription: 'Python API: This call enables collection of query string parameters.'
translationType: machine
---

## 構文

```py
newrelic.agent.capture_request_params(flag=True)
```

トランザクションのクエリストリングパラメーターの取得を可能にする。

## 説明

この呼び出しにより、Web トランザクションのクエリ文字列パラメータを [属性](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#attribute)としてキャプチャできるようになります。このコレクションは、セキュリティ上の理由からデフォルトでブロックされています。アプリ全体に対してクエリ文字列パラメータの収集を有効にする場合は、 [`record_sql`](/docs/agents/python-agent/installation-configuration/python-agent-configuration#txn-tracer-sql) 構成設定を使用します。

[高セキュリティモード](/docs/accounts-partnerships/accounts/security/high-security) がアクティブな場合、この呼び出しは上書きされ、その場合、この呼び出しは影響しません。この呼び出しは、エージェントの [設定](/docs/agents/python-agent/installation-configuration/python-agent-configuration) の他の関連する設定よりも優先されます。

<Callout variant="tip">
  WSGI 環境ディクショナリでクエリ文字列のキャプチャを有効にすることもできます。これを行うには、WSGI サーバーによってターゲット WSGI アプリに渡される WSGI 環境ディクショナリ内の特定のリクエストの `newrelic.capture_request_params` キーにフラグを立てます。
</Callout>

## パラメーター

<table>
  <thead>
    <tr>
      <th width="25%">
        パラメータ
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `flag`

        _ブール値_
      </td>

      <td>
        オプション。デフォルトは `True`です。収集を無効にするには、 `False` を使用します。
      </td>
    </tr>
  </tbody>
</table>

## 戻り値

なし。

## 例

### クエリ文字列のキャプチャを有効にする [#capture-example]

このコールは、クエリ文字列パラメータを収集したいトランザクションに対応するコードのセクションに配置します。

```py
newrelic.agent.capture_request_params()
```