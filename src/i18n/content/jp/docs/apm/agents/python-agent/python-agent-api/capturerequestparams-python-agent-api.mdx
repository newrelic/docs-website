---
title: capture_request_params (PythonエージェントAPI)
type: apiDoc
shortDescription: トランザクションのクエリストリングパラメーターの取得を可能にする。
tags:
  - Agents
  - Python agent
  - Python agent API
metaDescription: 'Python API: This call enables collection of query string parameters.'
translationType: machine
---

## 構文

```
newrelic.agent.capture_request_params(flag=True)
```

トランザクションのクエリストリングパラメーターの取得を可能にする。

## 説明

この呼び出しにより、ウェブトランザクションのクエリストリングパラメータを [属性](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#attribute) として取得することができます。この収集は、セキュリティ上の理由からデフォルトではブロックされています。代わりにアプリ全体のクエリストリングパラメーターの収集を有効にしたい場合は、 [`record_sql`](/docs/agents/python-agent/installation-configuration/python-agent-configuration#txn-tracer-sql) の構成設定を使用してください。

[高セキュリティモード](/docs/accounts-partnerships/accounts/security/high-security) がアクティブな場合、この呼び出しは上書きされ、その場合、この呼び出しは影響しません。この呼び出しは、エージェントの [設定](/docs/agents/python-agent/installation-configuration/python-agent-configuration) の他の関連する設定よりも優先されます。

<Callout variant="tip">
  WSGI environ 辞書でクエリ文字列のキャプチャを有効にすることもできます。これを行うには、WSGIサーバーから対象WSGIアプリに渡されるWSGI environ辞書の特定のリクエストに対して、 `newrelic.capture_request_params` キーをフラグします。
</Callout>

## パラメータ

<table>
  <thead>
    <tr>
      <th width="25%">
        パラメーター
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `旗`

        _boolean_
      </td>

      <td>
        オプションです。デフォルトは `True` です。収集を無効にするには、 `False` を使用してください。
      </td>
    </tr>
  </tbody>
</table>

## 戻り値

なし。

## 例

### クエリ文字列のキャプチャを有効にする [#capture-example]

このコールは、クエリ文字列パラメータを収集したいトランザクションに対応するコードのセクションに配置します。

```
newrelic.agent.capture_request_params()
```