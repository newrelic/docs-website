---
title: newrelic_accept_distributed_trace_headers
type: apiDoc
shortDescription: 分散型トレースヘッダの配列を受け取ります。
tags:
  - Agents
  - PHP agent
  - PHP agent API
metaDescription: Distributed tracing allows you to see the path a request takes as it travels through a distributed system. Use this API to accept a distributed trace payload.
translationType: machine
---

## 構文

```php
newrelic_accept_distributed_trace_headers (array $headers, string $transport_type)
```

分散型トレースヘッダの配列を受け取ります。

## 要件

Requires PHP agent [version 9.8 or higher](/docs/release-notes/agent-release-notes/php-release-notes).

## 説明

[分散トレースを使用すると、](/docs/agents/php-agent/features/distributed-tracing-php) リクエストが分散システムを通過するときにたどるパスを確認できます。分散トレースが有効な場合は、 `newrelic_accept_distributed_trace_headers` を使用してヘッダーのペイロードを受け入れます。これらには、W3C Trace Context と New Relic 分散トレース ヘッダーの両方が含まれます。

W3C Trace Context ヘッダーのみを受け入れ、 `newrelic.distributed_tracing_exclude_newrelic_header` INI 設定を介して New Relic Distributed Tracing ヘッダーを無効にすることが可能です。

## パラメーター

<table>
  <thead>
    <tr>
      <th width="25%">
        パラメータ
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `$headers`

        _アレイ_
      </td>

      <td>
        必須：分散型トレーシングヘッダを含む配列。
      </td>
    </tr>

    <tr>
      <td>
        `$transport_type`

        _ストリング_
      </td>

      <td>
        オプションです。デフォルトのトランスポート・タイプを上書きする文字列です。

        デフォルト値です。

        * `HTTP` Web トラフィック用

        * `Unknown` 非 Web トラフィック用

          追加で受け入れられる値。

        * `AMQP`

        * `HTTP`

        * `HTTPS`

        * `IronMQ`

        * `JMS`

        * `Kafka`

        * `Other`

        * `Queue`
      </td>
    </tr>
  </tbody>
</table>

## 戻り値

ヘッダーが正常に受け入れられた場合は `true` を返し、それ以外の場合は `false`を返します。

## 例

このAPIメソッドの使用方法やタイミングの例については、 [手動で計測するアプリケーションやサービスのドキュメントを参照してください](/docs/agents/php-agent/features/distributed-tracing-php#manual) 。