---
title: PHPエージェントの互換性と要件
tags:
  - Agents
  - PHP agent
  - Getting started
metaDescription: A summary of the New Relic PHP agent's system requirements and the supported PHP frameworks and libraries.
freshnessValidatedDate: '2024-07-31T00:00:00.000Z'
translationType: human
---

[PHPエージェントをインストールする](/docs/apm/agents/php-agent/installation)前に、お使いのシステムがバージョン要件を満たしていることを確認します。

## PHPエージェントの互換性 [#compatibility]

<table>
  <thead>
    <tr>
      <th>
        PHPバージョン
      </th>

      <th>
        エージェントバージョン
      </th>

      <th>
        現在のサポート状況
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        8.4
      </td>

      <td>
        ≥ 

        [11.5.0.18](/docs/release-notes/agent-release-notes/php-release-notes/php-agent-11-5-0-18/)
      </td>

      <td>
        はい
      </td>
    </tr>

    <tr>
      <td>
        8.3
      </td>

      <td>
        ≥ 

        [10.15.0.4](/docs/release-notes/agent-release-notes/php-release-notes/php-agent-10-15-0-4/)
      </td>

      <td>
        はい
      </td>
    </tr>

    <tr>
      <td>
        8.2
      </td>

      <td>
        サポートされている全バージョンのエージェント
      </td>

      <td>
        はい
      </td>
    </tr>

    <tr>
      <td>
        8.1
      </td>

      <td>
        サポートされている全バージョンのエージェント
      </td>

      <td>
        はい
      </td>
    </tr>

    <tr>
      <td>
        8.0
      </td>

      <td>
        サポートされている全バージョンのエージェント
      </td>

      <td>
        はい
      </td>
    </tr>

    <tr>
      <td>
        7.4
      </td>

      <td>
        サポートされている全バージョンのエージェント
      </td>

      <td>
        はい
      </td>
    </tr>

    <tr>
      <td>
        7.3
      </td>

      <td>
        サポートされている全バージョンのエージェント
      </td>

      <td>
        はい
      </td>
    </tr>

    <tr>
      <td>
        7.2
      </td>

      <td>
        サポートされている全バージョンのエージェント
      </td>

      <td>
        はい
      </td>
    </tr>

    <tr>
      <td>
        7.1
      </td>

      <td>
        ≤ 

        [10.21.0.11](/docs/release-notes/agent-release-notes/php-release-notes/php-agent-10-21-0-11/)
      </td>

      <td>
        いいえ
      </td>
    </tr>

    <tr>
      <td>
        7.0
      </td>

      <td>
        ≤ 

        [10.21.0.11](/docs/release-notes/agent-release-notes/php-release-notes/php-agent-10-21-0-11/)
      </td>

      <td>
        いいえ
      </td>
    </tr>
  </tbody>
</table>

最新のPHPエージェントリリースについては、[PHPエージェントリリースノート](/docs/release-notes/agent-release-notes/php-release-notes/)を参照してください。

現在サポートされているすべてのPHPエージェントリリースの最新リストについては、[PHPエージェントのEOLポリシー](/docs/apm/agents/php-agent/getting-started/php-agent-eol-policy/)を参照してください。

サポートされていないPHPバージョンまたはプラットフォーム（32ビットOS、FreeBSD、ZTSビルドなど）を使用している場合は、PHPエージェントパッケージの自動更新メカニズムを無効にすることをお勧めします。自動更新を阻止しないと、新しいエージェントバージョンが誤ってインストールされることがあります。新しいバージョンでは、APMデータ収集に不可欠な重要な機能がサポートされなくなり、監視機能が中断される可能性があります。

自動更新を無効にするには、次の2つのオプションがあります。

* パッケージアップグレードの除外リストにPHPエージェントパッケージを追加するか、または

* PHPエージェントパッケージを、サポートされていない古い機能をサポートするエージェントバージョンにピン留めすることもできます（複数可）。影響を受けるPHPエージェントパッケージは次のとおりです

  * `newrelic-php5`
  * `newrelic-php5-common`
  * `newrelic-daemon`

## Zend Thread Safety [#zts]

Zend Thread Safety（ZTS）でコンパイルされたPHPビルドはサポートされていません。

## ジャストインタイムコンパイル（JIT） [#jit]

[ジャストインタイムコンパイル](https://php.watch/articles/jit-in-depth)は、エージェントリリース[10.18.0.8](/docs/release-notes/agent-release-notes/php-release-notes/php-agent-10-18-0-8/)以降でサポートされています。PHPは、PHPエージェントの以前のバージョンのJITを自動的に無効にします。

## ファイバー [#fibers]

[ファイバー](https://www.php.net/manual/en/language.fibers.php)はサポートされていません。

## アクセス権限 [#permissions]

PHPエージェントをインストールするには、以下に対するルートアクセスが<DNT>**requires**</DNT>です。

* PHP拡張ディレクトリへの読み取り/書き込みアクセス
* PHP設定ディレクトリ（推奨）または`php.ini`のPHP設定データへの読み取り/書き込みアクセス
* ウェブサーバーまたはPHPプロセスプールを再起動します

エージェントの実行にはルートアクセスは<DNT>**does not require**</DNT>。エージェントには、次のファイルへの読み取り/書き込みアクセスが必要です（これらのファイルの場所は[PHPエージェント設定でカスタマイズ](/docs/php/php-agent-phpini-settings)できます）。

* [エージェントログファイルを保存するファイル](/docs/apm/agents/php-agent/configuration/php-agent-configuration/#inivar-daemon-logfile)
* [エージェントソケットエンドポイントを保存するファイル](/docs/apm/agents/php-agent/configuration/php-agent-configuration/#inivar-daemon-port)
* [エージェントプロセスIDを保存するファイル](/docs/apm/agents/php-agent/configuration/php-agent-configuration/#inivar-daemon-pidfile)

## ライセンスキー [#license\_key][#license_key]

New Relic <InlinePopover type="licenseKey" />は40文字の16進数の文字列で構成され、[サインアップ](https://newrelic.com/signup)時にNew Relicから提供されます。詳細については、PHP[インストールスクリプト](/docs/php/the-newrelic-install-script)または[PHP `ini`ファイルのライセンスキー設定](/docs/php/php-agent-phpini-settings#inivar-license)を参照してください。

## プロセッサ [#processor]

次のプロセッサアーキテクチャーがサポートされています。

* x86\_64（amd64とも呼ばれる）
* aarch64（ARM64とも呼ばれる）

<Callout variant="important">
  aarch64（ARM64）のサポートはPHP 8.0以降のみとなります。
</Callout>

## オペレーティングシステム [#operating-systems]

ベンダーがサポート終了（[Ubuntuの標準サポート終了ページ](https://wiki.ubuntu.com/Releases)など）を発表した場合、当社ではこれらの最新バージョンのサポートをベンダーサポート終了日から1年間継続します。ただし、使用しているPHPバージョンが正式にサポートされなくなった場合は、1年未満でサポートが終了する可能性があります。

このため、ベンダーによる正式サポートの最新バージョンのOSを常に使用することをお勧めします。エージェントの最新バージョンは、サポート終了を過ぎたOSバージョンでも動作する可能性がありますが、古いバージョンのPHPエージェントはより長期間にわたってテストまたは正式にサポートされます。

上記のPHPエージェントの情報に基づいて、以下の表に示すインストール方法でOSにインストールできます。

<table>
  <thead>
    <tr>
      <th width={350}>
        オペレーティングシステム
      </th>

      <th>
        リリース
      </th>

      <th>
        CPUアーキテクチャ
      </th>

      <th>
        インストール方法
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Alpine Linux
      </td>

      <td>
        3.17、3.18、3.19、3.20、3.21、3.22
      </td>

      <td>
        x86\_64、aarch64
      </td>

      <td>
        [tarファイル](/docs/apm/agents/php-agent/installation/php-agent-installation-tar-file)
      </td>
    </tr>

    <tr>
      <td>
        Amazon Linux
      </td>

      <td>
        2
      </td>

      <td>
        x86\_64
      </td>

      <td>
        [tarファイル](/docs/apm/agents/php-agent/installation/php-agent-installation-tar-file)、[RPM](/docs/apm/agents/php-agent/installation/php-agent-installation-aws-linux-redhat-centos)
      </td>
    </tr>

    <tr>
      <td>
        Amazon Linux
      </td>

      <td>
        2
      </td>

      <td>
        aarch64
      </td>

      <td>
        [tarファイル](/docs/apm/agents/php-agent/installation/php-agent-installation-tar-file)
      </td>
    </tr>

    <tr>
      <td>
        Amazon Linux
      </td>

      <td>
        2023
      </td>

      <td>
        x86\_64、aarch64
      </td>

      <td>
        [tarファイル](/docs/apm/agents/php-agent/installation/php-agent-installation-tar-file)
      </td>
    </tr>

    <tr>
      <td>
        CentOS Stream
      </td>

      <td>
        9
      </td>

      <td>
        x86\_64
      </td>

      <td>
        [tarファイル](/docs/apm/agents/php-agent/installation/php-agent-installation-tar-file)、[RPM](/docs/apm/agents/php-agent/installation/php-agent-installation-aws-linux-redhat-centos)
      </td>
    </tr>

    <tr>
      <td>
        CentOS Stream
      </td>

      <td>
        9
      </td>

      <td>
        aarch64
      </td>

      <td>
        [tarファイル](/docs/apm/agents/php-agent/installation/php-agent-installation-tar-file)
      </td>
    </tr>

    <tr>
      <td>
        RedHat Enterprise Linux
      </td>

      <td>
        8、9
      </td>

      <td>
        x86\_64
      </td>

      <td>
        [tarファイル](/docs/apm/agents/php-agent/installation/php-agent-installation-tar-file)、[RPM](/docs/apm/agents/php-agent/installation/php-agent-installation-aws-linux-redhat-centos)
      </td>
    </tr>

    <tr>
      <td>
        RedHat Enterprise Linux
      </td>

      <td>
        8、9
      </td>

      <td>
        aarch64
      </td>

      <td>
        [tarファイル](/docs/apm/agents/php-agent/installation/php-agent-installation-tar-file)
      </td>
    </tr>

    <tr>
      <td>
        Debian
      </td>

      <td>
        11、12
      </td>

      <td>
        x86\_64
      </td>

      <td>
        [tarファイル](/docs/apm/agents/php-agent/installation/php-agent-installation-tar-file)、[DEB](/docs/apm/agents/php-agent/installation/php-agent-installation-ubuntu-debian)
      </td>
    </tr>

    <tr>
      <td>
        Debian
      </td>

      <td>
        11、12
      </td>

      <td>
        aarch64
      </td>

      <td>
        [tarファイル](/docs/apm/agents/php-agent/installation/php-agent-installation-tar-file)
      </td>
    </tr>

    <tr>
      <td>
        Ubuntu
      </td>

      <td>
        20、22、24
      </td>

      <td>
        x86\_64
      </td>

      <td>
        [tarファイル](/docs/apm/agents/php-agent/installation/php-agent-installation-tar-file)、[DEB](/docs/apm/agents/php-agent/installation/php-agent-installation-ubuntu-debian)
      </td>
    </tr>

    <tr>
      <td>
        Ubuntu
      </td>

      <td>
        20、22、24
      </td>

      <td>
        aarch64
      </td>

      <td>
        [tarファイル](/docs/apm/agents/php-agent/installation/php-agent-installation-tar-file)
      </td>
    </tr>

    <tr>
      <td>
        以下の条件を満たすLinuxディストリビューション

        * Kernelの[長期サポート](https://kernel.org/)付きバージョン
        * [現在](https://sourceware.org/glibc/wiki/Release)[NPTL](https://en.wikipedia.org/wiki/Native_POSIX_Thread_Library)で維持されているglibcのブランチ
        * musl libcの[安定版シリーズ](https://musl.libc.org/releases.html)
      </td>

      <td>
        該当なし
      </td>

      <td>
        x86\_64、aarch64
      </td>

      <td>
        [tarファイル](/docs/apm/agents/php-agent/installation/php-agent-installation-tar-file)
      </td>
    </tr>
  </tbody>
</table>

## ウェブサーバー [#webserver]

サポートされているウェブサーバーは次のとおりです。

* 次を介してApache 2.2または2.4： `mod_php`
* PHP-FPMを使用してFastCGIをサポ―トしている任意のウェブサーバー

## フレームワーク

サポートされているフレームワークは次のとおりです。

<table>
  <thead>
    <tr>
      <th>
        フレームワーク
      </th>

      <th>
        バージョン
      </th>

      <th>
        考慮事項
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        CakePHP
      </td>

      <td>
        4.x、5.x
      </td>

      <td />
    </tr>

    <tr>
      <td>
        Drupal
      </td>

      <td>
        7.x、9.x、10.x、11.0、11.1、11.2
      </td>

      <td>
        [Drupal固有機能](/docs/apm/agents/php-agent/frameworks-libraries/drupal-specific-functionality)<br />[Drupalブラウザ計装](/docs/apm/agents/php-agent/frameworks-libraries/drupal-specific-functionality/#page-load-timing-rum)<br />Drupal 11.3に関する注意：今後のDrupalリリースではフックの実装が変更され、現行バージョンのPHP エージェントとの互換性がなくなります。問題解決に積極的に取り組んでいますが、Drupal 11.3以降はまだサポートされておらず、この状態は2026年初旬まで続く見込みです。
      </td>
    </tr>

    <tr>
      <td>
        Joomla
      </td>

      <td>
        3.7以下
      </td>

      <td>
        エージェントバージョン

        [10.22.0.12](/docs/release-notes/agent-release-notes/php-release-notes/php-agent-10-22-0-12/)

        以下
      </td>
    </tr>

    <tr>
      <td>
        Laminas
      </td>

      <td>
        3.x
      </td>

      <td />
    </tr>

    <tr>
      <td>
        Laravel
      </td>

      <td>
        7.x、9.x、10.x、11.x、12.x
      </td>

      <td />
    </tr>

    <tr>
      <td>
        Lumen
      </td>

      <td>
        6.x、7.x、8.x、9.x、10.x
      </td>

      <td />
    </tr>

    <tr>
      <td>
        Magento
      </td>

      <td>
        2.x（CEおよびEE）
      </td>

      <td />
    </tr>

    <tr>
      <td>
        MediaWiki
      </td>

      <td>
        1.31以上
      </td>

      <td />
    </tr>

    <tr>
      <td>
        Slim
      </td>

      <td>
        2.x、3.x、4.x
      </td>

      <td />
    </tr>

    <tr>
      <td>
        Symfony
      </td>

      <td>
        4.x、5.x、6.x、7.x
      </td>

      <td />
    </tr>

    <tr>
      <td>
        Wordpress
      </td>

      <td>
        5.9以上
      </td>

      <td>
        [WordPress固有の機能](/docs/apm/agents/php-agent/frameworks-libraries/wordpress-specific-functionality/)
      </td>
    </tr>

    <tr>
      <td>
        Yii
      </td>

      <td>
        1.1、2.0
      </td>

      <td />
    </tr>

    <tr>
      <td>
        Zend Framework
      </td>

      <td>
        3.x
      </td>

      <td />
    </tr>
  </tbody>
</table>

その他の一般的なPHPフレームワークのサポートを提案する場合は、[サポートフォーラム](https://discuss.newrelic.com/tags/phpagent)を閲覧し、`Feature Idea`を作成してください。詳細については、[PHPフレームワーク：New Relicのサポートのインテグレーション](/docs/apm/agents/php-agent/frameworks-libraries/php-frameworks-integrate-support-new-relic)を参照してください。

## データベースおよびライブラリ [#databases]

サポートされているデータベースとライブラリは次のとおりです。

<table>
  <tbody>
    <tr>
      <td>
        Amazon DynamoDB（AWS -sdk-php 3ライブラリのみ）
      </td>

      <td>
        Oracle
      </td>
    </tr>

    <tr>
      <td>
        Firebird（PDOドライバのみ）
      </td>

      <td>
        PDOドライバ
      </td>
    </tr>

    <tr>
      <td>
        [Guzzle](/docs/agents/php-agent/frameworks-libraries/guzzle)
      </td>

      <td>
        Postgres
      </td>
    </tr>

    <tr>
      <td>
        Informix
      </td>

      <td>
        [Predis](/docs/agents/php-agent/frameworks-libraries/predis)
      </td>
    </tr>

    <tr>
      <td>
        Kinesis Data Streams（aws-sdk-php 3ライブラリのみ）
      </td>

      <td>
        RabbitMQ（php-amqplib 3.7ライブラリのみ）
      </td>
    </tr>

    <tr>
      <td>
        Memcached
      </td>

      <td>
        Redis
      </td>
    </tr>

    <tr>
      <td>
        Microsoft SQL Server（PDOドライバのみ）
      </td>

      <td>
        SQLite
      </td>
    </tr>

    <tr>
      <td>
        MongoDB
      </td>

      <td>
        SQS（AWS -sdk-php 3ライブラリのみ）
      </td>
    </tr>

    <tr>
      <td>
        MySQL
      </td>

      <td>
        Sybase（PDOドライバのみ）
      </td>
    </tr>

    <tr>
      <td>
        ODBC（PDOドライバのみ）
      </td>

      <td />
    </tr>
  </tbody>
</table>

## その他のサードパーティ監視ソフトウェア [#other-monitoring-software]

アプリケーションが追加の監視ソフトウェアを使用している場合、エージェントが正しく動作することを保証できないため、技術サポートは提供できません。詳細については、[その他の監視ソフトウェアを使用中のエラー](/docs/apm/new-relic-apm/troubleshooting/errors-while-using-new-relic-apm-alongside-other-apm-software)を参照してください。

## インスタンスの詳細

New Relicは[様々なデータベースとデータベースドライバのインスタンス詳細](/docs/apm/applications-menu/features/analyze-database-instance-level-performance-issues)を収集します。サポートされているデータベースと拡張機能は次のとおりです。

<table>
  <thead>
    <tr>
      <th>
        データベース
      </th>

      <th>
        拡張子
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        MongoDB
      </td>

      <td>
        [mongodb](https://github.com/mongodb/mongo-php-library)
      </td>
    </tr>

    <tr>
      <td>
        MySQL
      </td>

      <td>
        * [mysql](http://php.net/manual/en/book.mysql.php)
        * [mysqli](http://php.net/manual/en/book.mysqli.php)
        * [pdo\_mysql](http://php.net/manual/en/ref.pdo-mysql.php)
      </td>
    </tr>

    <tr>
      <td>
        [PostgreSQL](https://www.postgresql.org/)
      </td>

      <td>
        * [pgsql](http://php.net/manual/en/book.pgsql.php)
        * [pdo\_pgsql](http://php.net/manual/en/ref.pdo-pgsql.php)
      </td>
    </tr>

    <tr>
      <td>
        [Redis](https://redis.io/)
      </td>

      <td>
        * [redis](https://pecl.php.net/package/redis)
        * [predis](https://github.com/nrk/predis)
      </td>
    </tr>
  </tbody>
</table>

ホスト情報の収集を無効にするには、`newrelic.ini`ファイルで次のいずれかを設定します。

* インスタンスのレポートを無効にする `newrelic.datastore_tracer.instance_reporting.enabled = false`
* データベース名を省略する `newrelic.datastore_tracer.database_name_reporting.enabled = false`

現在PHPエージェントにリストされてないデータストアからインスタンスレベルの情報をリクエストするには、[support.newrelic.com](https://support.newrelic.com)までお問い合わせください。

## メッセージキューイング [#queuing]

以下はメッセージキューイングをサポートしています。

* HTTP
* Laravelの[キューイング](/docs/apm/agents/php-agent/frameworks-libraries/laravel)
* Laravel [Horizon](/docs/apm/agents/php-agent/frameworks-libraries/laravel)（Laravel 10以上でサポート）

## セキュリティ要件 [#security]

標準的な [データ収集のセキュリティ対策](/docs/accounts-partnerships/accounts/security/data-security)として、アプリサーバーはSHA-2（256ビット）をサポートしている必要があります。SHA-1はサポートされていません。

## New Relic機能のサポート [#digital-intelligence-platform]

PHPエージェントは他のNew Relic機能と統合して、エンドツーエンドの可視性を提供します。

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        製品
      </th>

      <th>
        インテグレーション
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [ブラウザのモニタリング](/docs/browser/new-relic-browser/getting-started/introduction-new-relic-browser)
      </td>

      <td>
        [自動インストゥルメンテーションを有効化](/docs/browser/new-relic-browser/installation/install-new-relic-browser-agent#select-apm-app)すると、PHPエージェントは自動的にBrowserエージェントのJSコードを投入します。Browserインジェクションを有効化すると、[APMの概要ページ](/docs/apm/applications-menu/monitoring/apm-overview-page)でBrowserデータを表示、特定のアプリに対してAPMとBrowserデータ間を素早く切り替えできます。設定オプションと手動インストゥルメンテーションについては、[BrowserモニタリングおよびPHPエージェント](/docs/agents/php-agent/features/page-load-timing-php)を参照してください。
      </td>
    </tr>

    <tr>
      <td>
        [Codestream（コードレベルのメトリクス）](/docs/codestream/how-use-codestream/performance-monitoring/)
      </td>

      <td>
        New Relic CodeStreamはIDEにオブザーバビリティをもたらし、本番環境でコードがメソッドレベルでどのように機能しているかを表示します。

        PHPバージョン7.0～7.4および8.0～8.3では、コードレベルのメトリクスをレポートします（リリース10.4.0以降）。
      </td>
    </tr>

    <tr>
      <td>
        [インフラストラクチャのモニタリング](/docs/infrastructure/new-relic-infrastructure/getting-started/introduction-new-relic-infrastructure)
      </td>

      <td>
        インフラストラクチャとAPMエージェントを同じホストにインストールすると、それらは自動的にお互いを検出します。その後、APM UIにホストのリストを表示し、Infrastructure UIのAPMアプリ別にホストをフィルタリングできます。詳細については、[インフラストラクチャモニターにおけるAPMデータ](/docs/infrastructure/new-relic-infrastructure/data-instrumentation/new-relic-apm-data-infrastructure)を参照してください。
      </td>
    </tr>

    <tr>
      <td>
        [Logs in Context](/docs/logs/logs-context/configure-logs-context-php/)
      </td>

      <td>
        PHPエージェントは、Monolog 2および3のライブラリのLogs in context機能をサポートしています。
      </td>
    </tr>

    <tr>
      <td>
        [New Relicのダッシュボード](/docs/insights/use-insights-ui/getting-started/introduction-new-relic-insights)
      </td>

      <td>
        PHPエージェントは、NRQLクエリを実行するため、[デフォルトのイベントと属性](/docs/insights/insights-data-sources/default-events-attributes/apm-default-event-attributes)を送信します。高度な分析のために、[カスタムイベントを記録](/docs/insights/insights-data-sources/custom-data/insert-custom-events-new-relic-apm-agents)することもできます。
      </td>
    </tr>

    <tr>
      <td>
        [合成のモニタリング](/docs/synthetics/new-relic-synthetics/getting-started/introduction-new-relic-synthetics)
      </td>

      <td>
        [合成トランザクショントレース](/docs/synthetics/new-relic-synthetics/using-monitors/collect-synthetic-transaction-traces)は、合成モニターからのリクエストを基盤となるAPMトランザクションに接続します。
      </td>
    </tr>
  </tbody>
</table>