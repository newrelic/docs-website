---
title: PHPエージェントの互換性と要件
tags:
  - Agents
  - PHP agent
  - Getting started
metaDescription: A summary of the New Relic PHP agent's system requirements and the supported PHP frameworks and libraries.
signupBanner:
  text: Monitor and improve your entire stack. 100GB free. Forever.
translationType: human
---

PHPのNew Relicを[インストール](/docs/apm/agents/php-agent/installation)する前に、システムが適用要件を満たしていることを確認します。

New Relicアカウントをまだお持ちでない場合は、[New Relicアカウントを新たに作成します](https://newrelic.com/signup)。永久無料です。

## PHPのリリース [#php-release]

New Relicは、PHPのバージョン5.5、5.6、7.0、7.1、7.2、7.3、7.4、8.0、8.1、8.1、8.2をサポートしています。

<Callout variant="important">
  互換性メモ：PHP 8.0、8.1または8.2がNew Relicエージェントなどのオブザーバビリティ拡張機能を検出すると、PHPがジャストインタイムコンパイルを無効にします。

  PHP 8.1および8.2のサポートにはファイバーは含まれません。

  PHPバージョン5.5および5.6のサポートは、2023年6月に終了します。
</Callout>

* 当社は、PHPの[サポートされているリリース](http://php.net/supported-versions.php)の使用を推奨しています。
* リリース[9.19](/docs/release-notes/agent-release-notes/php-release-notes/php-agent-9190309)は、ZTSビルドをサポートする最終リリースです。

<Callout variant="important">
  **サポートされていないPHPバージョンまたはプラットフォーム（例：32ビットOS、FreeBSD、ZTS）を使用するインストレーションでは、PHPエージェントパッケージの自動更新メカニズムを無効にすることを強くお勧めします。**これは、パッケージアップグレードの除外リストにPHPエージェントパッケージを追加することで行うことができます。または、PHPエージェントパッケージを、サポートされていない古い機能をサポートするエージェントバージョンにピン留めすることもできます（複数可）。アップグレードの防止に失敗すると、新しいエージェントリリースがインストールされ、必要な、サポートされていない機能のサポートが削除されます。これにより、APMデータ収集が中断されます。影響を受けるPHPエージェントパッケージは次のとおりです。

  * newrelic-php5
  * newrelic-php5-common
  * newrelic-daemon
</Callout>

## アクセス権限 [#permissions]

* インストレーション：ほとんどのインストレーションにはルートアクセスが[必須](/docs/agents/php-agent/troubleshooting/determing-permissions-requirements)です。
* 実行：ルートアクセスは[不要](/docs/agents/php-agent/troubleshooting/determing-permissions-requirements)です。

## ライセンスキー [#license_key]

インストレーションの際には、New Relicの<InlinePopover type="licenseKey"/>が必要です。ライセンスキーは40文字の16進数の文字列で構成され、[サインアップ](https://newrelic.com/signup)時にNew Relicから提供されます。詳細については、PHP[インストールスクリプト](/docs/php/the-newrelic-install-script)とPHP INIファイルの[ライセンスキー設定](/docs/php/php-agent-phpini-settings#inivar-license)を参照してください。

## プロセッサタイプ [#processor]

* Intel（および互換）プラットフォーム
* ARM64

## オペレーティングシステム [#operating-systems]

New RelicのPHPエージェントは、Ubuntu、Debian、Amazon Linux、Alpine、RHEL、CentOSオペレーティングシステム（OS）に対応しています。ベンダーがサポート終了（Ubuntuの標準サポート、DebianのEOL LTS、RHELのメンテナンスサポート、CentOSのメンテナンスアップデートなど）を発表した場合、New Relicではこれらの最新バージョンのサポートを1年間継続します。1年が経過すると、New Relicはこれらのバージョンのサポートを終了します。使用しているPHPのバージョンがOSで正式に利用できなくなった場合、1年未満でサポートが終了する可能性があります。ベンダーによる正式サポートの最新バージョンのOSを使用することを強くお勧めします。エージェントの最新バージョンは、サポート終了を過ぎたOSバージョンで動作する可能性がありますが、New RelicのPHPエージェントによるテストや公式サポートは終了しています。

<table>
  <thead>
    <tr>
      <th width={250}>
        **オペレーティングシステム**
      </th>

      <th>
        **New RelicのPHPエージェントによりサポートされています**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Linux（x86_64）
      </td>

      <td>
        * Alpine 3.12以降

        * Amazon Linux 2

        * Red Hat Enterprise Linux（RHEL）7以降

        * CentOS 7以降

        * Debian 9.0（"stretch"）以降

        * Ubuntu LTS 18.04（"Bionic Beaver"）以降またはUbuntuの非LTS 21.04（"Hirsute Hippo"）以降。

        * 以下を搭載した、その他のLinuxディストリビューション：

          * Kernelバージョン4.9（長期）以降
          * [NPTL](https://en.wikipedia.org/wiki/Native_POSIX_Thread_Library)のサポートを含むglibc 2.17以降、またはmusl libcバージョン1.1.24以降
      </td>
    </tr>

    <tr>
      <td>
        Linux（ARM64）
      </td>

      <td>
        * Amazon Linux 2（AWS Graviton 2を含む）

        * CentOS 8

          <Callout variant="important">
            ARM64は以下でのみサポートされています。

            * PHP 8.0およびNew Relic PHPエージェント9.18.1以降。
            * PHP 8.1およびNew Relic PHPエージェント9.19.0以降。
            * PHP 8.2およびNew Relic PHPエージェント10.7.0以降。
          </Callout>

          ARM64のサポートの詳細については、[ARM64のインストール情報](/docs/apm/agents/php-agent/installation/php-agent-installation-arm64)を参照してください。
      </td>
    </tr>
  </tbody>
</table>

## ウェブサーバー [#webserver]

* 次を介してApache 2.2または2.4： `mod_php`
* PHP-FPMを使用してFastCGIをサポ―トしている任意のウェブサーバー

## フレームワーク

サポートされているPHPフレームワークは、以下のとおりです。

<table>
  <thead>
    <tr>
      <th
        colSpan={2}
        style={{ textAlign: "center" }}
      >
        フレームワーク
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        CakePHP 2.x
      </td>

      <td>
        Magento 1.xおよび2.x、CEおよびEE
      </td>
    </tr>

    <tr>
      <td>
        CodeIgniter 2.x
      </td>

      <td>
        MediaWiki
      </td>
    </tr>

    <tr>
      <td>
        [Drupal 6.x、7.x、8.xおよび9.x](/docs/agents/php-agent/frameworks-libraries/drupal-specific-functionality)
      </td>

      <td>
        Slim 2.x、3.xおよび4.x
      </td>
    </tr>

    <tr>
      <td>
        Joomla 3.x
      </td>

      <td>
        Symfony 3.x、4.x、5​.x
      </td>
    </tr>

    <tr>
      <td>
        Laminas 3.x
      </td>

      <td>
        [Wordpress](/docs/agents/php-agent/installation/wordpress-users-new-relic)
      </td>
    </tr>

    <tr>
      <td>
        Laravel Lumen 6.x、7.xおよび8.x
      </td>

      <td>
        Yii 1.x
      </td>
    </tr>

    <tr>
      <td>
        Zend Framework 1.x、2.xおよび3.x
      </td>

      <td/>
    </tr>
  </tbody>
</table>

<Callout variant="important">
  PHP 8.xでは、Joomla 3.xはサポートされていません。
</Callout>

PHPエージェントのフレームワークリストは増え続けています。使用中のフレームワークがこのリストにない場合でも、PHPエージェントはアプリについて役立つ情報を提供できる場合があります。

詳細については、[PHPフレームワーク：New Relicのサポートのインテグレーション](/docs/php/framework-developers-integrated-support-for-new-relic)を参照してください。その他の一般的なPHPフレームワークのサポートを提案する場合は、[サポートフォーラム](https://discuss.newrelic.com/tags/phpagent)を閲覧し、`Feature Idea`を作成してください。

## データベースおよびライブラリ [#databases]

サポートされているデータベースおよびライブラリ：

<table>
  <thead>
    <tr>
      <th
        colSpan={2}
        style={{ textAlign: "center" }}
      >
        データベースおよびライブラリ
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Firebird
      </td>

      <td>
        Oracle
      </td>
    </tr>

    <tr>
      <td>
        [Guzzle](/docs/agents/php-agent/frameworks-libraries/guzzle)
      </td>

      <td>
        [PHPUnit](/docs/agents/php-agent/frameworks-libraries/analyze-phpunit-test-data-insights)
      </td>
    </tr>

    <tr>
      <td>
        Informix
      </td>

      <td>
        PDO
      </td>
    </tr>

    <tr>
      <td>
        Memcached
      </td>

      <td>
        Postgres
      </td>
    </tr>

    <tr>
      <td>
        MongoDB
      </td>

      <td>
        [Predis](/docs/agents/php-agent/frameworks-libraries/predis)
      </td>
    </tr>

    <tr>
      <td>
        Microsoft SQL Server
      </td>

      <td>
        Redis
      </td>
    </tr>

    <tr>
      <td>
        MySQL
      </td>

      <td>
        SQLite
      </td>
    </tr>

    <tr>
      <td>
        ODBC
      </td>

      <td>
        Sybase
      </td>
    </tr>
  </tbody>
</table>

## その他のAPMソフトウェア [#other-monitoring-software]

アプリケーションが当社のエージェント以外に他社のアプリケーションパフォーマンスモニタリング (APM)ソフトウェアを使用している場合は、エージェントが正しく動作することを保証できないため、技術サポートは提供できません。詳細については、[その他のモニタリングソフトウェアを使用中のエラー](/docs/apm/new-relic-apm/troubleshooting/errors-while-using-new-relic-apm-alongside-other-apm-software)を参照してください。

## インスタンスの詳細

New Relicは[様々なデータベースとデータベースドライバのインスタンス詳細](/docs/apm/applications-menu/features/analyze-database-instance-level-performance-issues)を収集します。APMで特定のインスタンスとデータベース情報のタイプを表示する機能は、次の場合に利用できます。

<table>
  <thead>
    <tr>
      <th>
        データベース
      </th>

      <th>
        拡張子
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [MongoDB](https://www.mongodb.com/)
      </td>

      <td>
        [mongodb](https://github.com/mongodb/mongo-php-library)
      </td>
    </tr>

    <tr>
      <td>
        [MySQL](http://www.mysql.com/)
      </td>

      <td>
        [mysql](http://php.net/manual/en/book.mysql.php)
      </td>
    </tr>

    <tr>
      <td>
        [MySQL](http://www.mysql.com/)
      </td>

      <td>
        [mysqli](http://php.net/manual/en/book.mysqli.php)
      </td>
    </tr>

    <tr>
      <td>
        [MySQL](http://www.mysql.com/)
      </td>

      <td>
        [pdo_mysql](http://php.net/manual/en/ref.pdo-mysql.php)
      </td>
    </tr>

    <tr>
      <td>
        [PostgreSQL](https://www.postgresql.org/)
      </td>

      <td>
        [pgsql](http://php.net/manual/en/book.pgsql.php)
      </td>
    </tr>

    <tr>
      <td>
        [PostgreSQL](https://www.postgresql.org/)
      </td>

      <td>
        [pdo_pgsql](http://php.net/manual/en/ref.pdo-pgsql.php)
      </td>
    </tr>

    <tr>
      <td>
        [Redis](https://redis.io/)
      </td>

      <td>
        [predis](https://github.com/nrk/predis)
      </td>
    </tr>

    <tr>
      <td>
        [Redis](https://redis.io/)
      </td>

      <td>
        [redis](https://pecl.php.net/package/redis)
      </td>
    </tr>
  </tbody>
</table>

ホスト情報の収集を無効にするには、以下のいずれかのオプションを使用します。

* `newrelic.ini`で`newrelic.datastore_tracer.instance_reporting.enabled`を`false`に設定します。
* `newrelic.datastore_tracer.database_name_reporting.enabled = false`でデータベース名を省略します。

現在、New Relicエージェントにリストされてないデータストアからインスタンスレベルの情報をリクエストするには、[support.newrelic.com](https://support.newrelic.com)までお問い合わせください。

## CodeStream/コードレベルのメトリクス

PHPエージェントは、PHPリリース7.0、7.1、7.2、7.3、7.4、8.0、8.1および8.2のコードレベルのメトリクスをサポートしています。

## Logs in Context [#logging]

PHPエージェントは、次のライブラリのAPM [Logs in context](/docs/logs/logs-context/configure-logs-context-php/)をサポートします。

* Monolog 2および3

## メッセージキューイング [#queuing]

* HTTP
* Laravelのキューイング

## セキュリティ要件 [#security]

標準的な [データ収集のセキュリティ対策](/docs/accounts-partnerships/accounts/security/data-security)として、アプリサーバーはSHA-2（256ビット）をサポートしている必要があります。SHA-1はサポートされていません。

## エージェントを他のNew Relic機能に接続する [#digital-intelligence-platform]

PHPエージェントは他のNew Relic機能と統合して、エンドツーエンドの可視性を提供します。

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        製品
      </th>

      <th>
        インテグレーション
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [ブラウザのモニタリング](/docs/browser/new-relic-browser/getting-started/introduction-new-relic-browser)
      </td>

      <td>
        [自動インストゥルメンテーションを有効化](/docs/browser/new-relic-browser/installation/install-new-relic-browser-agent#select-apm-app)すると、PHPエージェントは自動的にBrowserエージェントのJSコードを投入します。Browserインジェクションを有効化すると、[APMの**概要**ページ](/docs/apm/applications-menu/monitoring/apm-overview-page)でBrowserデータを表示、特定のアプリに対してAPMとBrowserデータ間を素早く切り替えできます。設定オプションと手動インストゥルメンテーションについては、[BrowserモニタリングおよびPHPエージェント](/docs/agents/php-agent/features/page-load-timing-php)を参照してください。
      </td>
    </tr>

    <tr>
      <td>
        [CodeStream/コードレベルのメトリクス](/docs/codestream/how-use-codestream/performance-monitoring/)
      </td>

      <td>
        New Relic CodeStreamを使用すると、開発者はオブザーバビリティをIDEに取り込み、日常業務の一環にすることで、本番環境で担当するコードがどのように実行されているかを確認できます。PHPエージェントは、アプリケーションのコードレベルのメトリクス（リリース10.4.0以降）をレポートします。これにより、コードがメソッドレベルでどのように機能しているかを詳細に把握できます。
      </td>
    </tr>

    <tr>
      <td>
        [インフラストラクチャのモニタリング](/docs/infrastructure/new-relic-infrastructure/getting-started/introduction-new-relic-infrastructure)
      </td>

      <td>
        インフラストラクチャとAPMエージェントを同じホストにインストールすると、自動的に相互に検出します。その後、APM UIにホストのリストを表示し、インフラストラクチャUIでAPMアプリでインフラストラクチャホストをフィルタリングできます。詳細については、[インフラストラクチャモニタリングにおけるAPMデータ](/docs/infrastructure/new-relic-infrastructure/data-instrumentation/new-relic-apm-data-infrastructure)を参照してください。
      </td>
    </tr>

    <tr>
      <td>
        [New Relicのダッシュボード](/docs/insights/use-insights-ui/getting-started/introduction-new-relic-insights)
      </td>

      <td>
        PHPエージェントは、NRQLクエリを実行するため、[デフォルトのイベントと属性](/docs/insights/insights-data-sources/default-events-attributes/apm-default-event-attributes)を送信します。高度な分析のために、[カスタムイベントを記録](/docs/insights/insights-data-sources/custom-data/insert-custom-events-new-relic-apm-agents)することもできます。
      </td>
    </tr>

    <tr>
      <td>
        [合成のモニタリング](/docs/synthetics/new-relic-synthetics/getting-started/introduction-new-relic-synthetics)
      </td>

      <td>
        [合成トランザクショントレース](/docs/synthetics/new-relic-synthetics/using-monitors/collect-synthetic-transaction-traces)は、合成モニターからのリクエストを基盤となるAPMトランザクションに接続します。
      </td>
    </tr>
  </tbody>
</table>