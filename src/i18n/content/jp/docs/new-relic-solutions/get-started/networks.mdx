---
title: ネットワークトラフィック
tags:
  - Using New Relic
  - Cross-product functions
  - Install and configure
metaDescription: 'Network connections used by New Relic for sending and receiving data: IP addresses, domains, ports, endpoints. TLS is required for all domains.'
translationType: human
---

**このリストは最新です。2022年3月22日に、ネットワーク、IP、ドメイン、ポート、エンドポイントの最終更新を行いました。**

これは、New Relicと通信するためにAPIクライアントまたはエージェントが使用するネットワーク、IPアドレス、ドメイン、ポート、およびエンドポイントのリストです。[TLSがすべてのドメインについて必要です。](#tls)

当社のFedRAMPエンドポイントに関する情報については、当社の[FedRAMPエンドポイント](/docs/security/security-privacy/compliance/fedramp-compliant-endpoints)に関するドキュメントを参照してください。

<Callout variant="tip">
  本ドキュメントでは、当社のエージェントおよびインテグレーションによりNew Relicのドメインにアクセスできるようにする方法について説明します。ネットワークのパフォーマンスを監視するには、[ネットワークパフォーマンスのモニタリングを開始する](https://docs.newrelic.com/docs/network-performance-monitoring/get-started/npm-introduction/)を参照してください。
</Callout>

## TLS暗号化 [#tls]

顧客のデータセキュリティを保証し、[FedRAMP](https://marketplace.fedramp.gov/#/product/new-relic?sort=productName&productNameSearch=new%20relic)および[データ暗号化](/docs/security/new-relic-security/compliance/data-encryption)のその他の基準に従うには、すべてのドメインのすべてのインバウンド接続にはトランスポートレイヤーセキュリティ（TLS）1.2以降が必要です。詳細については、[TLS 1.2についてのサポートフォーラムの投稿](https://discuss.newrelic.com/t/january-tls-updates-apis-and-browser-apm/88869)を参照してください。

必須のサポートされたプロトコルバージョンへの将来のアップデートについては、[New Relicのサポートフォーラムの`Security Notifications`タグ](https://discuss.newrelic.com/t/security-notifications/45862)に従ってください。

## ユーザー向けドメイン [#user-facing-domains]

New Relicが適切に機能するには、ブラウザが多数のドメインと通信できる必要があります。許可リストを更新して、New Relicが多数の統合ドメイン（このセクションにリスト）と通信できることを確認します。ドメインをブロックすると、個々の製品機能に問題が生じたり、ページがまったくロードされないことがあります。

このリストには、製品の使用に影響を与えずにブロックできる、New Relicが接続するドメインは含まれていません。また、Nerdpackや、追加のドメイン要件を持つ外部サービスと通信するその他の機能も含まれていません。

送信トラフィックを制限するファイアウォールを使用している組織の場合は、使用するオペレーティングシステムとファイアウォールに関する特定の手順に従って、次のドメインを許可リストに追加してください。

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        ドメイン：
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        \*.newrelic.com
      </td>

      <td>
        New Relicとサポートサービス
      </td>
    </tr>

    <tr>
      <td>
        \*.nr-assets.net
      </td>

      <td>
        New Relic静的アセット
      </td>
    </tr>

    <tr>
      <td>
        \*.nr-ext.net
      </td>

      <td>
        New Relic Nerdpackとアセット
      </td>
    </tr>

    <tr>
      <td>
        \*.amazonaws.com
      </td>

      <td>
        AWS S3の背後にあるNew Relicカタログアセット
      </td>
    </tr>

    <tr>
      <td>
        \*.cloudfront.net
      </td>

      <td>
        AWS CloudFront CDNの背後にあるNew Relic静的アセット
      </td>
    </tr>

    <tr>
      <td>
        secure.gravatar.com
      </td>

      <td>
        Gravatarアバターのサポート
      </td>
    </tr>

    <tr>
      <td>
        fonts.googleapis.com
      </td>

      <td>
        Google Fontsのサポート
      </td>
    </tr>

    <tr>
      <td>
        fonts.gstatic.com
      </td>

      <td>
        Google Fontsのサポート
      </td>
    </tr>

    <tr>
      <td>
        [www.google.com](http://www.google.com)
      </td>

      <td>
        reCAPTCHAのサポート
      </td>
    </tr>

    <tr>
      <td>
        [www.gstatic.com](http://www.gstatic.com)
      </td>

      <td>
        reCAPTCHAのサポート
      </td>
    </tr>

    <tr>
      <td>
        \*.nr-data.net
      </td>

      <td>
        OpenTelemetryおよびPixie
      </td>
    </tr>

    <tr>
      <td>
        onenr.io
      </td>

      <td>
        New Relicの共有パーマリンク
      </td>
    </tr>

    <tr>
      <td>
        \*.typescript.azureedge.net
      </td>

      <td>
        Syntheticsコードエディターの自動補完機能
      </td>
    </tr>
  </tbody>
</table>

## APMエージェント [#agents]

ネットワークパフォーマンスや[データセキュリティ](/docs/security/new-relic-security/data-privacy/new-relic-security-protecting-your-data-content)を向上させるため、New Relicは広いIP範囲でCDNとDDoS保護サービスを使用しています。New Relicエージェントでは、お使いのファイアウォールで次のネットワークとポートへの発信接続を許可する必要があります。次のIP接続を許可リストに追加するには、使用するオペレーティングシステムとファイアウォールに関する特定の手順に従ってください。

[TLSがすべてのドメインについて必要です。](#tls)米国または[欧州連合地域](/docs/using-new-relic/welcome-new-relic/get-started/introduction-eu-region-data-center)では、適宜アカウントデータのIP接続を使用します:

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        IP接続
      </th>

      <th>
        APデータ
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        ネットワーク
      </td>

      <td>
        米国地域のアカウント：

        * 162.247.240.0/22

          EU地域のアカウント：

        * 185.221.84.0/22
      </td>
    </tr>

    <tr>
      <td>
        ポート
      </td>

      <td>
        米国地域のアカウント：

        * デフォルト：TCP 443[（推奨）](#port-443)

        * TCP 80

          EU地域のアカウント：

        * デフォルト：TCP 443[（推奨）](#port-443)

        * TCP 80
      </td>
    </tr>

    <tr>
      <td>
        エンドポイント
      </td>

      <td>
        米国地域のアカウント：

        * `collector*.newrelic.com`

          EU地域のアカウント：

        * `collector*.eu01.nr-data.net:443` [（推奨）](#port-443)
      </td>
    </tr>
  </tbody>
</table>

### ポート443（推奨） [#port-443]

**推奨：**ポート443（暗号化されたHTTPSトラフィック用セキュアチャネル）を使用します。一部のNew Relicエージェントは、ポート80（すべてのHTTPトラフィックに開放されたセキュアでないチャネル）も提供します。

ポート80とポート443の両方を使用するよう設定できるエージェントもありますが、当社ではデフォルトのポート443を選択することを推奨しています。ポート80を使用する設定がある場合、設定を更新してデフォルトのNew Relicの接続であるポート443を使用できます。

## エージェントのダウンロード [#agent-download]

[TLSがすべてのドメインについて必要です。](#tls)`download.newrelic.com`のサービスはFastlyを通じて提供されており、予告なく変更される場合があります。New Relicエージェントのダウンロード用公開IPアドレスの最新リストについては、[api.fastly.com/public-ip-list](https://api.fastly.com/public-ip-list)をご覧ください。

## Infrastructureエージェント [#infrastructure]

New Relicにデータをレポートするためには、[Infrastructureモニタリング](/docs/infrastructure/new-relic-infrastructure/getting-started/welcome-new-relic-infrastructure)は次のドメイン、ネットワーク、ポートへの送信アクセス権限が必要です。[TLSがすべてのドメインについて必要です。](#tls)

米国または[欧州連合地域](/docs/using-new-relic/welcome-new-relic/get-started/introduction-eu-region-data-center)では、適宜アカウントデータのIP接続を使用します:

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        IP接続
      </th>

      <th>
        Infrastructureデータ
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        ドメイン
      </td>

      <td>
        * `infra-api.newrelic.com`：イベント、メトリクス、インベントリデータの送信に必要です。
        * `identity-api.newrelic.com`：エンティティ登録に必要です（`host`エンティティなど）。
        * `infrastructure-command-api.newrelic.com`：機能フラグの決定に必要です。また、新しい機能の段階的な展開にも使用されます。
        * `log-api.newrelic.com`：米国のデータセンターにログ送信が必要です。
        * `log-api.eu.newrelic.com`：EUデータセンターにログ送信が必要です。
        * `metric-api.newrelic.com`：次元メトリクスの送信に必要です。
      </td>
    </tr>

    <tr>
      <td>
        ネットワーク
      </td>

      <td>
        米国地域のアカウントの場合：

        * 162.247.240.0/22

          EU地域のアカウント：

        * 185.221.84.0/22
      </td>
    </tr>

    <tr>
      <td>
        ポート
      </td>

      <td>
        * 443
      </td>
    </tr>

    <tr>
      <td>
        ドメイン + ポート
      </td>

      <td>
        米国地域のアカウントの場合：

        * `infra-api.newrelic.com:443`

        * `identity-api.newrelic.com:443`

        * `infrastructure-command-api.newrelic.com:443`

        * `log-api.newrelic.com:443`

        * `metric-api.newrelic.com:443`

          EU地域のアカウント：

        * `infra-api.eu.newrelic.com:443`

        * `identity-api.eu.newrelic.com:443`

        * `infrastructure-command-api.eu.newrelic.com:443`

        * `log-api.eu.newrelic.com:443`

        * `metric-api.eu.newrelic.com:443`
      </td>
    </tr>

    <tr>
      <td>
        プロキシ
      </td>

      <td>
        お使いのシステムが、このドメインへの接続のためにプロキシを必要とする場合は、[Infrastructureの`proxy`設定](/docs/infrastructure/new-relic-infrastructure/configuration/configure-infrastructure-agent#proxy)を使用してください。
      </td>
    </tr>
  </tbody>
</table>

## Browserのドメイン [#browser-specific]

[APMエージェント用のIPアドレス](#agents)に加え、[ブラウザエージェント](/docs/browser)がモニターするアプリケーションは次のドメインへの発信接続を使用します。[TLSがすべてのドメインについて必要です。](#tls)

米国または[欧州連合地域](/docs/using-new-relic/welcome-new-relic/get-started/introduction-eu-region-data-center)では、適宜アカウントデータのIP接続を使用します:

米国地域のアカウントの場合：

* `bam.nr-data.net` （推奨）
* `bam-cell.nr-data.net` （必要に応じて、ブラウザモニタリングにコピー/ペースト方法を使用する、古い米国地域のアカウントで利用可能）
* `js-agent.newrelic.com`

EU地域のアカウント：

* `eu01.nr-data.net`
* `bam.eu01.nr-data.net`

`js-agent.newrelic.com`ファイルの`bam.nr-data.net`ドメイン、またはNew Relicビーコンのいずれかに対するCDNアクセスに関する詳細については、[ブラウザモニタリングのためのセキュリティ](/docs/browser/new-relic-browser/performance-quality/security-new-relic-browser)を参照してください。

## Mobileのドメイン [#mobile-specific]

[APMエージェント用のIPアドレス](#agents)に加え、[モバイルエージェント](/docs/mobile-monitoring)がモニターするアプリケーションは次のドメインへの発信接続を使用します。[TLSがすべてのドメインについて必要です。](#tls)

米国または[欧州連合地域](/docs/using-new-relic/welcome-new-relic/get-started/introduction-eu-region-data-center)では、適宜アカウントデータのIP接続を使用します:

米国地域のアカウントの場合：

* `mobile-collector.newrelic.com`
* `mobile-crash.newrelic.com`
* `mobile-symbol-upload.newrelic.com`

EU地域のアカウント：

* `mobile-collector.eu01.nr-data.net`
* `mobile-crash.eu01.nr-data.net`
* `mobile-symbol-upload.eu01.nr-data.net`

## Syntheticモニターのパブリックロケーション [#synthetics-public]

合成モニターがモニター対象のURLにアクセスできるようにお使いのファイアウォールを設定するには、[SyntheticsパブリックミニオンIP](/docs/synthetics/new-relic-synthetics/using-monitors/synthetics-public-minion-ips)を使用します。[TLSがすべてのドメインについて必要です。](#tls)

## Syntheticモニターのプライベートロケーション [#synthetics-private]

合成プライベートミニオンは地域に基づき特定のエンドポイントに報告します。プライベートミニオンがエンドポイントまたはエンドポイントに関連付けられた静的IPアドレスにアクセスできるようにするには、使用するオペレーティングシステムとファイアウォールに関する特定の手順に従ってください。これらのIPアドレスは将来変更できます。

[TLSがすべてのドメインについて必要です。](#tls)米国または[欧州連合地域](/docs/using-new-relic/welcome-new-relic/get-started/introduction-eu-region-data-center)では、適宜アカウントデータのIP接続を使用します:

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        IP接続
      </th>

      <th>
        Syntheticsプライベートロケーションデータ
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        エンドポイント
      </td>

      <td>
        米国地域のアカウントの場合：

        * `https://synthetics-horde.nr-data.net/`

          EU地域のアカウント：

        * `https://synthetics-horde.eu01.nr-data.net/`
      </td>
    </tr>

    <tr>
      <td>
        IPアドレス
      </td>

      <td>
        米国地域のアカウントの場合：

        * 13.248.153.51

        * 76.223.21.185

          EU地域のアカウント：

        * 185.221.86.57

        * 185.221.86.25
      </td>
    </tr>
  </tbody>
</table>

## アラートWebhook、api.newrelic.com、クラウドインテグレーションとチケットインテグレーション [#webhooks]

`api.newrelic.com`（[GraphQL API for NerdGraph](/docs/apis/nerdgraph/get-started/introduction-new-relic-nerdgraph)など）とNew Relicで生成された[アラートポリシー用のwebhook](/docs/alerts/new-relic-alerts/managing-notification-channels/notification-channels-controlling-where-send-alerts#webhook)を使用するエンドポイントは、米国または[欧州連合地域](/docs/using-new-relic/welcome-new-relic/get-started/introduction-eu-region-data-center)の指定されたネットワークブロックのIPアドレスを使用します。これらのブロック内のすべてのアドレスには[TLSが必要です](#tls)。

米国地域アカウントのネットワークブロック：

* 162.247.240.0/22

EU地域アカウントのネットワークブロック：

* 158.177.65.64/29
* 159.122.103.184/29
* 161.156.125.32/28

これらのネットワークブロックは、サードパーティのチケットのインテグレーションおよび[New Relicクラウドインテグレーション](/docs/integrations/infrastructure-integrations/get-started/introduction-infrastructure-integrations/#cloud-integrations)にも適用されます。

## Pixieインテグレーション [#pixie-integration]

[Pixieインテグレーション](https://github.com/newrelic/newrelic-pixie-integration)は、Kubernetesクラスタで実行され、一連の厳選されたオブザーバビリティデータをPixieから引き出し、OpenTelemetryプロトコル（OTLP）を使用してNew Relicに送信します。

Pixieインテグレーションには、以下へのアウトバウンドネットワークアクセスが必要です。

* work.withpixie.ai：443
* withpixie.ai:443
* otlp.nr-data.net：4317 （米国地域のアカウント）
* otlp.eu01.nr-data.net：4317 （EU地域のアカウント）

<Callout variant="tip">
  `4317`ポートが機能しない場合は、ポート`443`を使用できます。
</Callout>

Pixieコミュニティプロジェクトでは、Google Container Registry（[https://cloud.google.com/container-registry/](https://cloud.google.com/container-registry/)）でホストされているコンテナイメージを使用しています。クラスターが`gcr.io`からイメージを取得できることを確認してください。

## CodeStream [#codestream]

New Relic [CodeStream](/docs/codestream/start-here/what-is-codestream)は、開発チームが自然かつ状況に応じた方法でコードについて議論し、レビューできるようにする開発者向けコラボレーションプラットフォームです。

次のドメインを使用します。

* `api.codestream.com`
* `*.pubnub.com`
* `*.pubnub.net`
* `*.pndsn.com`
* `*.pubnub.io`

## OpenTelemetry [#opentelemetry]

New Relicは、テレメトリデータのエクスポート用にOpenTelemetryプロトコル（OTLP）をサポートしています。これにより、OpenTelemetryコミュニティにより開発されたベンダーニュートラルコンポーネントを使用して、データをNew Relicにエクスポートできます。

OTLPデータをNew Relicにエクスポートするには：

1. アカウントライセンスキーでヘッダー（api-key）を追加するようにOTLPエクスポーターを設定します。
2. 地域に基づき、エクスポーターがNew Relicにデータを送信するエンドポイントを設定します。詳細については、[OpenTelemetryのクイックスタート](/docs/integrations/open-source-telemetry-integrations/opentelemetry/opentelemetry-quick-start/)を参照してください。

* otlp.nr-data.net：（443/4317/4318）（米国地域のアカウント）
* otlp.eu01.nr-data.net：（443/4317/4318）（EU地域のアカウント）

ネットワークブロック：

* 162.247.240.0/22（米国地域のアカウント）
* 185.221.84.0/22（EU地域のアカウント）