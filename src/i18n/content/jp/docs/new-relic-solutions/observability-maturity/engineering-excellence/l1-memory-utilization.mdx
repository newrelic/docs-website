---
title: レベル1 - メモリ使用率とシステム最適化スコアカードルール
tags:
  - Observability maturity
  - Intelligent observability
  - Instrumentation
  - Implementation guide
metaDescription: Observability maturity engineering excellence memory utilization
freshnessValidatedDate: never
translationType: machine
---

効率的なメモリ使用は、インフラストラクチャ コストを最適化し、システム パフォーマンスを確保するために重要です。このスコアカード ルールは、十分に活用されていないメモリ リソースを持つサーバーを特定し、システムの信頼性を維持しながら無駄を削減する最適化戦略を実装するのに役立ちます。

## メモリ使用率が重要な理由

**コストの最適化:**過剰にプロビジョニングされたメモリは、インフラストラクチャの大きな無駄を意味します。メモリ使用率が低いことを特定して対処することで、適切なサイズ設定、統合、またはアーキテクチャの改善を通じてコストを削減できます。

**パフォーマンス プランニング:**実際のメモリ使用パターンを理解すると、情報に基づいて容量計画を決定し、メモリ不足の問題を防ぎ、アプリケーションのパフォーマンスを最適化するのに役立ちます。

**リソース割り当て: サイト**内のメモリ使用率はアプリケーションの動作を明らかにし、ワークロードの再配布やコンテナの最適化の機会を特定するのに役立ちます。

**インフラストラクチャの効率:**メモリを適切に利用することで、適切なパフォーマンスのヘッドルームを維持しながら、インフラストラクチャへの投資の価値を最大限に高めることができます。

## このルールの仕組み

このルールは、インフラストラクチャ エンティティ全体の 95 パーセンタイル メモリ使用率を評価します。95 パーセンタイルを使用すると、一時的な急増を除外しながら、典型的な高使用量期間を現実的に評価できます。

**成功基準:**インフラストラクチャ エンティティは、95 番目のパーセンタイル メモリ使用率が 80% を超えた場合に合格します。これは、業界最高のプラクティスと一致する効率的なリソース使用を示します。

## ルール定義

このスコアカード ルールは、サーバー環境全体のメモリ使用パターンを評価することでインフラストラクチャの効率を測定します。

## 測定基準

**メトリクス評価:**測定期間中の 95 番目のパーセンタイルのメモリ使用率**成功値:** 80% 以上のメモリ使用率**評価範囲:**監視環境内のすべてのインフラストラクチャ エンティティ

## 80%の閾値を理解する

80% のメモリ使用率により、効率とシステムの安定性のバランスが取れます。

**業界標準:**この閾値はcloudコンピューティングと一致し、最適なメモリ リソース使用率を実現するベストプラクティス**システムの安定性:**十分なメモリ ヘッドルームを維持し、メモリ不足状態やシステムの不安定性を防止します**コスト効率:**オーバープロビジョニングを行わずにメモリ投資から最大の価値を確保します

## メモリ使用率の考慮事項

**メモリとCPUの違い:**

* メモリは通常CPU使用量よりも変動が少なく、高い使用率を持続的に達成しやすくなります。
* メモリ割り当てパターンは、多くの場合、アプリケーションアーキテクチャーとデータキャッシュ戦略を反映します。
* メモリの最適化にはCPUの最適化とは異なるアプローチが必要になる場合があります

**アプリケーションへの影響:**

* メモリ使用率が低い場合、インスタンスのサイズが大きすぎるか、アプリケーションのメモリ管理が非効率的である可能性があります。
* 高いメモリ効率により、ガベージ コレクションのオーバーヘッドが削減され、アプリケーションのパフォーマンスが向上します。
* メモリの最適化はCPUの最適化よりも予測可能なコスト削減をもたらすことが多い

## 最適化戦略

スコアカードでメモリ使用率が低いことが示された場合、次の戦略によってインフラストラクチャの効率を向上できます。

## 1. メモリの使用パターンを評価する

**最適化候補を特定する:**

* メモリ使用率が一貫して低いエンティティ（95 パーセンタイルで 80% 未満）を確認します。
* メモリの使用傾向を分析して、一時的な低使用率と慢性的な低使用率を区別します。
* メモリコストが高く、常に使用率が低いサーバーを優先します。

**アプリケーション メモリの動作を理解する:**

* さまざまなアプリケーションやサービスにわたるメモリ割り当てパターンを調べる
* 最適化の恩恵を受けられるメモリを大量に消費するアプリケーションを特定する
* メモリ使用量をアプリケーションのパフォーマンスおよびユーザーのアクティビティ パターンと関連付けます。

## 2. メモリ適正化戦略を実装する

**垂直スケーリングの最適化:**

* 常に使用率の低いサーバーのメモリ割り当てを削減
* メモリを大量に消費するワークロードの場合は、メモリ最適化インスタンスタイプへの移行を検討してください。
* メモリ削減とCPUおよびストレージ要件のバランスをとる

**水平スケーリングの考慮事項:**

* メモリ使用量の少ないワークロードをより少ない、より効率的なサーバーに統合します
* コンテナオーケストレーションを実装してメモリ割り当て効率を向上させる
* メモリを考慮した負荷分散を使用してワークロードを効果的に分散します

## 3. アプリケーションレベルのメモリ最適化

**メモリ管理の改善:**

* アプリケーションのメモリ割り当てパターンを確認し、非効率性を特定します
* 適切なメモリクリーンアップとガベージコレクションの最適化を実装する
* データ構造とキャッシュ戦略を最適化してメモリフットプリントを削減する

**キャッシュの最適化:**

* 実際の使用パターンに基づいてアプリケーション キャッシュのサイズを適正化する
* インスタンス間でメモリリソースを共有するための分散キャッシュを実装する
* メモリ効率の高いキャッシュアルゴリズムとデータ圧縮を使用する

**データベースメモリのチューニング:**

* データベースのバッファプールとメモリ設定を最適化する
* メモリを大量に消費する操作を削減するためにクエリの最適化を実装する
* データベース固有のメモリ最適化手法を検討する

## 4. コンテナとオーケストレーションの最適化

**コンテナのメモリ管理:**

* コンテナに適切なメモリrequestsと制限を設定する
* メモリベースのポッド自動スケーリングを実装する
* メモリ効率の高いベースイメージを使用し、コンテナのオーバーヘッドを最小限に抑えます

**Kubernetes の最適化:**

* メモリを考慮したスケジューリングとリソースクォータを実装する
* 動的なメモリ調整には垂直ポッド自動スケーリングを使用する
* ノードのメモリ割り当てを最適化し、メモリの断片化を防ぐ

## 5. 高度な最適化技術

**メモリのプールと共有:**

* 関連アプリケーション用の共有メモリプールを実装する
* 大規模なデータセットにはメモリマップファイルを使用する
* 頻繁にアクセスされるデータにはインメモリデータベースを検討する

**Serverless考慮事項:**

* メモリ散発型ワークロードのサーバーレスアーキテクチャーを評価する
* 実際の要件に基づいて関数のメモリ割り当てを最適化します
* 一定のメモリ オーバーヘッドを削減するには、イベント主導型アーキテクチャーを検討してください。

## 実装ガイダンス

### 効果的なメモリ監視の設定

1. すべてのインフラストラクチャエンティティにわたる**包括的なメモリ監視を構成する**
2. メモリ使用率の傾向と異常に関する**アラートを設定する**
3. メモリの使用パターンと最適化の機会を視覚化する**ダッシュボードを作成する**
4. 最適化の変更を実施する前に**ベースライン測定を確立する**

### 最適化ワークフローの構築

**定期評価スケジュール:**

* メモリ使用率データの月次レビューを実施する
* さまざまなアプリケーションにおけるメモリ使用量の傾向とパターンを特定する
* コストの影響と技術的な実現可能性に基づいて最適化の取り組みを優先順位付けする

**変更管理プロセス:**

* まずステージング環境でメモリ最適化の変更をテストする
* パフォーマンスへの影響や安定性の問題を回避するために段階的な変更を実装する
* メモリ調整後のアプリケーションの動作とパフォーマンスを監視する

**チームコラボレーション:**

* インフラストラクチャとアプリケーション開発チームの両方を最適化の取り組みに参加させる
* アプリケーションの最適化のために、サイト内のメモリ使用率を開発チームと共有します
* メモリの最適化を全体的な容量計画活動と調整する

### 原価管理統合

**FinOps のプラクティス:**

* メモリ使用率のメトリクスを財務運用プロセスに統合する
* [New Relic Cloud Cost Intelligence](/docs/cci/financial-intelligence/cloud-cost-insights)を使用して包括的なコスト最適化を実現
* メモリ最適化の ROI を追跡し、節約額を関係者に伝える

**組織の調整:**

* 責任を明確にするためにワークロードを使用して、チームまたは部門ごとにインフラストラクチャ リソースをグループ化します。
* チーム固有のメモリ効率目標とスコアカード ルールを作成する
* ビジネスとアプリケーションの要件に合わせたメモリ効率の標準を確立する

# 重要な考慮事項

**カスタム評価:**メモリ使用パターンは、アプリケーションの種類やワークロードによって大きく異なります。特定のアプリケーションアーキテクチャー、パフォーマンス要件、ビジネス制約に基づいて最適化の機会を評価します。

**メモリとパフォーマンスのトレードオフ:**メモリの使用率が高くなるとコスト効率が向上しますが、アプリケーションのパフォーマンスとシステムの安定性のために適切なメモリのヘッドルームを維持するようにしてください。 ピーク時の使用パターン、メモリ増加傾向、アプリケーション固有の要件を考慮してください。

**アプリケーション固有の考慮事項:**アプリケーションごとにメモリ使用パターンが異なります。 データベース サーバー、キャッシュ レイヤー、およびデータ処理アプリケーションでは、Web サーバーやマイクロサービスとは異なる最適化アプローチが必要になる場合があります。

**継続的な監視:**メモリの最適化は継続的なプロセスです。アプリケーションの変更、データの増加、使用パターンの変化は、メモリ要件に影響を及ぼす可能性があります。継続的な監視を維持し、必要に応じて最適化戦略を調整する準備をしてください。

## 次のステップ

このスコアカード ルールを実装すると次のようになります。

1. レベル1のリソース効率評価をまだ完了していない場合は**[、CPU使用率監視](/docs/new-relic-solutions/observability-maturity/engineering-excellence/l1-cpu-utilization)を確認してください。**
2. レベル 2 エンジニアリング エクセレンス プラクティスの**[変更追跡 (変更追跡機能)](/docs/new-relic-solutions/observability-maturity/engineering-excellence/l2-change-tracking)への進捗状況**
3. スコアカードの調査結果とビジネスの優先順位に基づいて**メモリ最適化イニシアチブを実装します**
4. 体系的なインフラストラクチャの最適化のための**完全な[エンジニアリング エクセレンス フレームワーク](/docs/new-relic-solutions/observability-maturity/engineering-excellence/introduction)を探索します**