---
title: ワークロードステータスの値と通知
tags:
  - New Relic
  - Use New Relic
  - Workloads
metaDescription: 'How to measure the health of numerous entities with workload status, and alert on workload status.'
translationType: machine
---

ワークロードのステータスは、ワークロード内のエンティティのアラート ステータスから派生します。

## 重要な理由 [#why-matters]

ワークロードの状態

* システムの状態を迅速に表示し、ワークロードに対応する必要があるかどうかを一目で把握することができます。
* お客様のニーズに合わせて、各事業体の重要性に合わせて対応します。
* ワークロードのステータスを共有できます。サービスやインフラストラクチャに依存している他のチームは、システムのアーキテクチャの詳細を理解したり、カスタム ダッシュボードを見たりする必要がなく、ワークロードのステータスを知ることができます。

## ワークロードの状態を把握することができます。 [#get-started]

[アラート](/docs/alerts)インシデントの結果に基づいて、すべての監視対象エンティティのステータス値が提供されます。**All entities** \[すべてのエンティティ] ビューから各エンティティの「[色分けされたアラート ステータス」](/docs/alerts/new-relic-alerts/configuring-alert-policies/identify-entities-without-alert-policies#colors)を確認できます。

ワークロードを使用すると、ワークロード内のすべてのエンティティのステータスを要約する単一のグローバル値を取得できます。これにより、ワークロードの動作停止を迅速に検出したり、潜在的なインシデントやサービス品質の低下を予測したりすることができます。

ワークロードは、以下のいずれかのステータス値を持つことができます。

* **運用**: ワークロードは問題なく動作しています。
* **Degraded**: ワークロードのパフォーマンスまたはエラーが若干低下していますが、許容可能なレベルのサービスを提供しているため、緊急のアクションを行う必要はありません。
* **Critical** \[クリティカル] または **Disrupted** \[中断]: ワークロードは許容可能なレベルのサービスを提供していないため、緊急の措置を講じる必要があります。
* **Unknown**: ワークロード ステータスの計算方法が構成されていないか、ワークロード エンティティのステータスを判断できるアラート条件が設定されていません。

ワークロードの状態を定義または編集する方法については、 [ワークロードの状態の設定](/docs/workload-status-configuration) を参照してください。

## ワークロードの状態が変化したときに通知される [#get-notified]

ワークロードのステータスを確認する必要があるのは、そのワークロードが自分のチームが担当しているサービスを表している場合と、自分のサービスが他のチームが管理しているワークロードに依存している場合があります。

すべてのワークロードのステータスが定期的に計算され、結果は `WorkloadStatus` イベントを通じて NRDB に保存されます。これにより、ワークロードが `Disrupted` または `Degraded` ステータスになったときに通知するアラート条件を設定できます。

アラート条件を設定するには:

1. **[one.newrelic.com](https://one.newrelic.com/all-capabilities)**にアクセスし、 **Alerts & AI**を選択します。新しいアラート条件を追加するポリシーを選択するか、適切な通知チャネルで新しいポリシーを作成します。次に、\[**条件の作成**] をクリックします。

2. プロンプトが表示されたら、 **Select a product** をクリックし、 **NRQL** をクリックします。

3. 以下のNRQLクエリを追加します。

   ```
   SELECT latest(statusValueCode) FROM WorkloadStatus WHERE workloadGuid = 'YOUR_WORKLOAD_GUID' FACET workloadGuid as 'entity.guid', entity.name
   ```

4. クエリを作成するためのヒント:

   * ワークロード UI で **See metadata and manage tags** \[メタデータを参照してタグを管理] をクリックして、ワークロード GUID を取得します。
   * 条件が 1 つのワークロード (例のように) にのみ適用されるか、複数のワークロードに適用されるように、 `WHERE` 句を記述します。または、アカウント上のすべてのワークロードにアラート条件を適用する場合は、 `WHERE` 句を削除します。
   * `FACET` を使用すると、アラートの説明でこれらのフィールドを使用できます (後述)。

5. 次のいずれかの静的しきい値を設定します。

   * （推奨）ワークロードのステータスが中断されたときに通知を受け取りたい場合、クエリが**3に等しい**値を少なくとも1分間返す場合に**重要**です。
   * ワークロードのステータスが低下したときに通知を受け取りたい場合、クエリが**2に等しい**値を少なくとも1分間返す場合に**重要**です。
   * 警告のしきい値では、インシデントの発生や通知の送信は行われないことを覚えておいてください。そのため、ステータスの変化を通知したい場合は、重要なしきい値を持つ2つの警告条件を作成する必要があります（上で説明したとおり）。

6. 注意喚起の条件を満たす

   * 違反の時間制限を設定することで、長期間続いた違反を選択した時間後に自動的に強制終了させることができます。
   * Choose to fill data gaps with **Last known value**.

7. オプションで、ワークロード名とUIへのパーマネントリンクを含むカスタム違反説明をアラート通知に追加することもできます。

   ```
   Workload: {{tag.entity.name}}
   Direct link: https://one.newrelic.com/redirect/entity/{{tag.entity.guid}}
   ```