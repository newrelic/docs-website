---
title: New RelicでAIデータを表示する
metaDescription: 'AI monitoring lets you observe the AI-layer of your tech stack, giving you a holistic overview of the health and performance of your AI-powered app.'
freshnessValidatedDate: never
translationType: machine
---

import aiIntroAiUi from 'images/ai_screenshot-full_intro-ai-ui.webp'

import aiTimeseriesBillboard from 'images/ai_screenshot-crop_timeseries-billboard.webp'

import aiCroppedImageofAIBillboards from 'images/ai_screenshot-crop_billboard.webp'

import aiCroppedImageofAItimeseries from 'images/ai_screenshot-crop_Cropped-image-of-AI-timeseries.webp'

import aiAIEntitiesPage from 'images/ai_screenshot-crop_AI-entities-page.webp'

import aiTopleveAiResponsesSummary from 'images/ai_screenshot-crop_topleve-ai-responses-summary.webp'

import aiResponseTable from 'images/ai_screenshot-crop_response-table.webp'

import aiTraceViewAiResponse from 'images/ai_screenshot-full_trace-view-ai-response.webp'

import aiTraceWaterfallPageSpanDetails from 'images/ai_screenshot-crop_trace-waterfall-page-span-details.webp'

import aiTraceWaterfallPageErrorDetails from 'images/ai_screenshot-crop_trace-waterfall-page-error-details.webp'

import aiAiModelComparisonPage from 'images/ai_screenshot-full_ai-model-comparison-page.webp'

[AI モニタリング](/docs/ai-monitoring/intro-to-ai-monitoring)を有効にすると、エージェントはアプリの AI レイヤーに関するパフォーマンス メトリクス データとトレース データを認識してキャプチャできるようになります。 AI モニタリングを使用すると、AI 搭載アプリから、インターネットの使用状況、完了数、AI 応答時間を追跡できます。 エラーまたは不正確な応答が見つかった場合は、特定のプロンプトと応答のインタラクションに関するトレースレベルのビューに範囲を絞り、AI サービスのロジックの問題を特定できます。

<img
  title="AI responses data"
  alt="An image that shows the kind of data you get when you enable AI monitoring"
  src={aiIntroAiUi}
/>

<DoNotTranslate>**[one.newrelic.com](https://one.newrelic.com) > All Capabilities > AI monitoring**</DoNotTranslate>にアクセスするとデータを表示できます。 データは 3 つの異なるページから確認できます。

* <DoNotTranslate>**AI responses**</DoNotTranslate>

  : すべての AI エンティティからの集約データの概要。 AI の応答タイムやウイルスを追跡したり、個々のプロンプトや応答に関するデータを確認したりできます。

* <DoNotTranslate>**AI entities**</DoNotTranslate>

  : AI データをレポートするすべてのエンティティの表の概要を表示します。 エラー率、スループット、アプリの応答タイムなどの標準的なAPMデータでエンティティを確認します。 エンティティを選択すると、APM **AI responses**ページの探索を開始できます。

* <DoNotTranslate>**Compare models**</DoNotTranslate>

  : 異なるモデル間でトークン使用量、レスポンス時間、エラー率を比較します。 A/B テストを実施している場合は、AI を活用したアプリに関する意思決定に必要な情報をすべて取得できます。

## AI応答ページ [#ai-responses]

最上位の<DoNotTranslate>**AI responses**</DoNotTranslate>ページには、AI データが集約されて表示されます。 集計データは、すべてのエンティティ レポート AI データにわたる、平均総応答数、応答時間、応答ごとの使用量を取得します。 このページでは、応答とは、プロンプトが与えられたときの AI 搭載アプリからの出力を指します。

さまざまな AI フレームワークのさまざまな実装を備えた複数のアプリを所有している場合は、AI モデルのパフォーマンスを大まかに把握できます。

### 合計応答、平均応答時間、トークンの使用状況を追跡します。

<img
  title="AI responses response billboard and timeseries graphs"
  alt="A cropped screenshot displaying the timeseries graphs and billboard info about AI data"
  src={aiTimeseriesBillboard}
/>

3 つのタイルには、AI の応答に関する一般的なパフォーマンス メトリクスが表示されます。 これらのタイルは問題の正確な原因を教えてくれないかもしれませんが、アプリのパフォーマンスの異常を特定するのに役立ちます。

<img
  title="Three tiles to show spikes and drops in response usage"
  alt="A cropped screenshot displaying billboard info about AI data"
  src={aiCroppedImageofAIBillboards}
/>

* 総応答数の減少または平均応答時間の増加に気付いた場合は、AI ツールチェーン内の一部のテクノロジーが AI 搭載アプリの応答の送信を妨げていることを示している可能性があります。
* 応答あたりの平均トークン使用量の減少または増加により、モデルがどのように応答を作成するかを把握できます。 おそらく、過剰なコンテキストを取得しているため、応答の生成中にトークンのコストが上昇している可能性があります。 おそらく、応答が少なすぎるため、トークンコストが低くなり、役に立たない応答が生じる可能性があります。

### 時系列グラフを調整する

<img
  title="AI timeseries graphs"
  alt="A cropped screenshot displaying timeseries info about AI data"
  src={aiCroppedImageofAItimeseries}
/>

時系列グラフを参照すると、類似した動作が最初に現れる時期をより適切に視覚化できます。

* スパイクまたはドロップ上をドラッグして、時系列グラフを調整します。 これにより、時系列の範囲が特定の時間枠に限定されます。
* ドロップダウンを選択して、さまざまなパフォーマンス パラメーターの比較分析を実行します。 合計応答、平均応答時間、または応答ごとの平均トークンのいずれかを選択できます。
* [フィードバック機能](/docs/ai-monitoring/customize-agent-ai-monitoring)を有効にしている場合は、グラフの範囲を指定して、正のフィードバックと負のフィードバックによる応答を分析できます。

### 個々の AI 応答を評価する

AI 応答テーブルは、エンドユーザーと AI アプリの間のインタラクションに関するデータを整理します。 インタラクションがいつ発生したか、プロンプトとその応答のペア、完了とウイルスのカウント、およびどのモデルがプロンプトを受信したかを表示できます。

<img
  title="AI response page response table"
  alt="A cropped screenshot displaying the response table from the AI responses view"
  src={aiResponseTable}
/>

右上の歯車アイコンをクリックすると、テーブルの列を調整できます。 これにより、分析するデータの種類を選択できます。

応答テーブルは、個々の応答に関するトレース データを表示するためのエントリ ポイントです。 表内の行をクリックすると、特定の応答のトレース ビューが開きます。

### AI応答トレースビュー

<img
  title="AI response trace view"
  alt="A screenshot of the trace view for a particular AI response"
  src={aiTraceViewAiResponse}
/>

AI 応答レース ビューでは、アプリが応答を生成する方法をトレース レベルのインサイトで確認できます。 トレース ビューを確認してエラーが発生した場所を特定したり、高トークンの応答からの否定的なフィードバックの原因を理解したりすることもできます。 トレース ビューからは、次のことができます。

* トレースまたはログを選択します。 ログを選択するときは、さらに調査したいテキスト文字列または属性についてログ内でクエリを実行します。

* 応答の詳細またはメタデータを切り替えます。 応答の詳細列にはユーザー プロンプトと AI 応答が表示されるため、トレースとスパンのコンテキストを維持できます。 メタデータは、エンティティ GUID、モデル、トークン、ベンダーのリスト ビューを提供します。

* エラーが発生すると、ウォーターフォール ビューではその行が赤色で強調表示されます。 行を選択すると、スパンのエラー詳細を含むスパン データが開きます。

  <SideBySide>
    <Side>
      <img
        title="Span details modal"
        alt="A screenshot that shows span details "
        src={aiTraceWaterfallPageSpanDetails}
      />
    </Side>

    <Side>
      <img
        title="Error details modal"
        alt="A screenshot that shows error details "
        src={aiTraceWaterfallPageErrorDetails}
      />
    </Side>
  </SideBySide>

## AIエンティティページ [#entities]

AI エンティティ ページでは、現在 AI データを報告しているすべてのエンティティがテーブルに整理されます。 このページには、AI アプリが応答タイム、スループット、エラー率とともに表示されます。

<img
  title="AI entities page"
  alt="A screenshot of the first page you see when you click AI Monitoring. View aggregated data, compare your AI models, or create drop filters."
  src={aiAIEntitiesPage}
/>

<figcaption>
  AI データをレポートするエンティティを表示するには、 **[one.newrelic.com](https://one.newrelic.com) > All Capabilities > AI Monitoring**に移動します。
</figcaption>

AI エンティティを選択すると、そのアプリの APM 概要ページが表示されます。 <DoNotTranslate>**APM summary page**</DoNotTranslate>から、左側のナビゲーションで<DoNotTranslate>**AI monitoring**</DoNotTranslate>を選択します。

### APM AI 応答ページ [#apm-ai-response]

AI エンティティを選択すると、APM の概要ページが表示されます。 AI データを見つけるには、左側のナビゲーションで<DoNotTranslate>**AI responses**</DoNotTranslate>を選択します。 特定の AI エンティティが異常の原因となっていることが判明した場合は、このページを使用することをお勧めします。

* AI 応答の APM バージョンには、トップレベルの AI 応答ページとして収集されたものと同じタイル、時系列グラフ、応答テーブルが含まれています。
* APM AI 応答ページには、集計されたデータが表示されるのではなく、AI エンティティから選択したサービスにスコープされたデータが表示されます。
* 最上位の AI 応答ページではすべての AI エンティティにわたるサービスごとにフィルターできますが、APM AI 応答ページではフィルター機能がアプリ独自の属性に制限されます。

AI データの探索方法を確認するには、前の[AI 応答セクション](#ai-responses)で説明したのと同じパターンに従うことができます。

## モデル比較ページ [#model-comparison]

モデル比較ページでは、テストするユースケースに応じてパフォーマンスを柔軟に分析できます。 あなたはできる：

* アプリ内での 1 つのモデルのパフォーマンスをすべてのサービスの平均パフォーマンスと比較します。
* プロンプトのエンジニアリング中にさまざまなプロンプトをテストする場合は、A/B テストを実施します。 たとえば、1 つのプロンプト セットを含む 1 つの時間枠でのモデルのパフォーマンスと精度を、2 番目のプロンプト セットを含む別の時間枠と比較します。
* 顧客トラフィックがピークに達した特定の時間枠内でモデルがどのように機能したかを評価します。

<img
  title="Model comparison page"
  alt="A screenshot showing the model comparison page. It has annotations to demonstrate the three steps to populate page with data."
  src={aiAiModelComparisonPage}
/>

このページでは、モデル比較データの範囲が 1 つのアカウントに限定されることに注意してください。 組織に複数の AI 搭載アプリを所有する複数のアカウントがある場合、それらのアカウント間でモデル データを比較することはできません。

### モデルのコストを理解する

モデルのコスト列は、完了イベントを 2 つの部分に分類します。モデルに与えられるプロンプトと、モデルがエンドユーザーに提供する最終応答です。

* <DoNotTranslate>**Tokens per completion**</DoNotTranslate>

  : すべての完了イベントのトークンの平均。

* <DoNotTranslate>**Prompt tokens**</DoNotTranslate>

  : プロンプトのトークンの平均。 このウイルス平均には、プロンプト エンジニアとエンドユーザーによって作成されたプロンプトが含まれます。

* <DoNotTranslate>**Completion tokens**</DoNotTranslate>

  : エンドユーザーに配信されるレスポンスを生成する際にモデルによって消費されるウイルスの数。

この列を分析する場合、完了トークンとプロンプト トークンの値は、完了ごとのトークンの値と等しくなる必要があります。

## 次は何ですか？ [#whats-next]

データの検索方法がわかったので、AI モニタリングが提供する他の機能を探索してみましょう。

* 機密情報について懸念がありますか? [ドロップ フィルターの設定方法を学習します](/docs/ai-monitoring/drop-sensitive-data)。
* アプリの AI 応答に関するユーザー フィードバック情報を New Relic に転送したい場合は、[手順に従ってアプリのコードを更新し、UI でユーザー フィードバックを取得します](/docs/ai-monitoring/customize-agent-ai-monitoring)。