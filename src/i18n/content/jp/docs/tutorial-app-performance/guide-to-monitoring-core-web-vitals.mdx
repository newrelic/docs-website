---
title: ウェブ上の重要な要素を監視する
tags:
  - Browser
  - Browser monitoring
  - Guides
metaDescription: A guide to monitor Google's core web vitals.
translationType: machine
---

import browserWebVitalsGif from 'images/browser_screenshot-full_web-vitals.gif'

import browserPageUrlView from 'images/browser_screenshot-full_page-url-view.webp'

import browserFilteredWebVitals from 'images/browser_screenshot-full_filtered-web-vitals.webp'

import browserSessionTraces from 'images/browser_screenshot-crop_session-traces.gif'

コア ウェブ バイタルは、全体的なユーザー エクスペリエンスを評価する Google の指標です。これらは、ユーザーがあなたのビジネスをどのように見ているかについての貴重な洞察を提供し、サイトの SEO ランキングに影響を与える可能性があります。ユーザー エクスペリエンスを把握するスコアを取得することで、サイトが何を必要としているかを推測するのではなく、特定の問題に対してアクションを起こすことができます。

## 目的 [#objectives]

このチュートリアルでは、New Relic を使用して Web の重要な要素を分析する方法を説明します。チュートリアルが終わるまでに、次のタスクが完了します。

* one.newrelic.com でコア Web バイタルを見つけてください。
* Web の重要な要素がサイトのパフォーマンスにどのように反映されるかを理解します。
* New Relic でデータをフィルタリングして、スコアに寄与しているものを見つけます。

## ウェブの重要な要素を理解する [#understand]

すでに New Relic でブラウザ アプリを監視している場合は、 **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Browser > (アプリを選択) > Monitor > Web vitals**に移動します。

<Callout variant="important">
  一部のお客様の場合、 **Web Vitals**が ( \[**モニター**] の下ではなく) \[**その他のビュー**] の下にある場合があります。
</Callout>

<img
  title="Track core web vitals site-wide, favorite key webpages, and filter by time period."
  alt="overview of the web vitals page"
  src={browserWebVitalsGif}
/>

<figcaption>
  **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Browser > (アプリを選択) > Monitor > Web vitals**: サイト全体のコア Web バイタル、お気に入りの主要な Web ページを追跡し、期間でフィルターします。
</figcaption>

3 つの主要な Web Vitals は次のとおりです。

* [Largest contentful paint](https://web.dev/lcp/) : ローディング パフォーマンスを測定
* [First input delay](https://web.dev/fid/) : ユーザー入力とブラウザー応答の間の対話性を測定します
* [累積レイアウト シフト](https://web.dev/cls/): 視覚的な安定性を測定

各ウェブ バイタルには、アプリのパフォーマンスと SEO を追跡するのに役立つ次のしきい値があります。

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}/>

      <th style={{ width: "200px" }}>
        良い
      </th>

      <th style={{ width: "275px" }}>
        改善が必要
      </th>

      <th style={{ width: "200px" }}>
        悪い
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        **最大のコンテンツペイント**
      </td>

      <td>
        &lt;=2.5秒
      </td>

      <td>
        &lt;=4 秒
      </td>

      <td>
        \>4秒
      </td>
    </tr>

    <tr>
      <td>
        **First input delay**
      </td>

      <td>
        &lt;=100ms
      </td>

      <td>
        &lt;=300ms
      </td>

      <td>
        \>300ms
      </td>
    </tr>

    <tr>
      <td>
        **累積レイアウトシフト**
      </td>

      <td>
        &lt;=0.1
      </td>

      <td>
        &lt;=0.25
      </td>

      <td>
        \>0.25
      </td>
    </tr>
  </tbody>
</table>

**優れ**た Web Vitals は、組織がお金を節約し、SEO を向上させるのに役立ちます。**不十分**または**改善が必要**は、組織に対するユーザーの否定的な認識を反映している可能性があり、顧客の不満やビジネス チャンスの損失につながる可能性があります。

## 特定のページにドリルダウンする [#drill-down]

重要なページ (e コマースのチェックアウト ページなど) についての情報が必要な場合は、 **Page URL** \[ページ URL] テーブルでそのページを見つけます。コア Web バイタルに寄与しているものの詳細が表示され、エンド ユーザーがサイトのこれらの領域をどのように体験しているかを理解するために使用できます。たとえば、Chrome ブラウザのパフォーマンス低下のパターンに気付いた場合は、そのユーザー ベースに対する今後の改善策を厳選できます。

<img
  title="Click on a page URL to see page-specific web vitals."
  alt="Click on a page URL to see page-specific web vitals."
  src={browserPageUrlView}
/>

<figcaption>
  **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Browser > (アプリを選択) > Monitor > Web vitals > (ページ URL をクリック)**: 最も影響力のある Web ページのコア Web Vitals の内訳を表示します。
</figcaption>

## 主要な属性によるフィルタリング [#key-attributes]

バックエンドの変更やパフォーマンスの問題がコア Web Vitals にどのように影響したかなど、特定のことを調査したい場合は、\[**フィルター**] ツールを使用して任意のキー属性をフィルター処理できます。

<img
  title="Use the filter tool to filter core web vitals by key attributes"
  alt="Filter by key attributes"
  src={browserFilteredWebVitals}
/>

<figcaption>
  **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Browser > (アプリを選択) > Monitor > Web vitals > (フィルターの追加)**: フィルター ツールを使用して、主要な属性によってコア Web Vitals をフィルターします。
</figcaption>

ほぼすべてのキー属性でフィルタリングできますが、役に立つ例をいくつか読んでください。

<CollapserGroup>
  <Collapser
    id="device"
    title="デバイスの種類別"
  >
    デスクトップとモバイルのパフォーマンスを比較し、2 つのプラットフォーム間で主要な Web Vitals がどのように異なるかを比較したいとします。これを**Web Vitals**で調査するには:

    1. **Filter by**フィールドで、 **Attribute**を`deviceType`に、 **Value**を`desktop`に設定します。
    2. 複製ブラウザーで、**属性**を`deviceType`に、**値**を`mobile`に設定し、結果を比較します。
  </Collapser>

  <Collapser
    id="user-info"
    title="ユーザー情報別"
  >
    11 月 1 日の午後 12 時ごろ、エンドユーザーがサイトのチェックアウト ページでパフォーマンスの問題を報告したとします。このユーザーに何が起こったのかを確認したいとします。 **Web Vitals**でこれを調査するには:

    1. 時間範囲を 11 月 1 日の午前 11 時から午後 1 時までに設定します。
    2. \[**ページ URL** ] テーブルで、チェックアウト ページの URL をクリックします。
    3. **Filter by**フィールドで、 **Attribute**を`userID`に、 **Value**を`user ID`に設定します。

    <Callout
      variant="tip"
      title="ユーザーIDについて"
    >
      `userID` は、 [ブラウザの SPA API](/docs/browser/new-relic-browser/browser-agent-spa-api/setcustomattribute-browser-agent-api/)を使用して設定する必要があるカスタム属性です。`userID`が利用できない場合は、 `username`や`session`などの他のユーザー情報でフィルタリングすることもできます。
    </Callout>
  </Collapser>

  <Collapser
    id="resource"
    title="リソース別"
  >
    あなたの組織が、11 月 10 日の午前 8 時にサイトのホームページの画像を最近更新したとします。その変更が主要な Web Vitals に影響を与えたかどうかを確認したいとします。これを**Web Vitals**で調査するには:

    1. 時間範囲を 11 月 10 日の午前 7 時から午前 9 時までに設定します。
    2. \[**ページ URL** ] テーブルで、ホームページの URL をクリックします。
    3. **Filter by**フィールドで、 **Attribute**を`elementTagName`に、 **Value**を`IMG`に設定します。
  </Collapser>
</CollapserGroup>

## セッショントレースでより多くのコンテキストを取得 [#session-traces]

New Relic は、特定のページ上のユーザーのセッションに関するデータをキャプチャします。セッション トレースはランダムにサンプリングされ、ユーザーがページ読み込みタイミングの問題、JavaScript イベント、その他のエラーをどのように経験したかを確認できます。

<img
  title="Session traces in the New Relic UI"
  alt="Session traces in Browser UI lets you look at real user sessions for a given page"
  src={browserSessionTraces}
/>

セッション トレースを使用して、さまざまなユーザー セッションにわたるパターンを見つけることをお勧めします。コアの Web Vitals スコアの 1 つを改善できる場合、オプションの 1 つは、セッション トレースを調べて、さまざまなユーザー セッション間でどのような共通属性が共有されているかを確認することです。セッション トレースがサイトの改善にどのように役立つかを示す例を次に示します。

1. **Web Vitals** タブで、パフォーマンスが低下しているページをクリックします。上の画像を例として使用すると、サイトの全体的な LCP スコアは良好ですが、個々のページの一部には改善が必要であることがわかります。
2. **Web Vitals** ページの **Page URL** セクションを見ると、ホームページ URL の LCP スコアが 4 秒を超えていることがわかります。これはすべてのユーザーに影響するエラーによるものですか、それとも 1 種類のユーザーのみに影響するものですか?たとえば、特定のバージョンの Chrome または特定のオペレーティング システムを使用しているユーザーがページの読み込み時間が遅いことに気付いた場合、問題の特定の原因をより適切にトラブルシューティングできます。
3. トラブルシューティングする URL をクリックすると、新しいウィンドウが表示されます。LCP スコアがサイト全体の LCP スコアよりもはるかに高いことに気づきました。このページの下部にある **Session traces** \[セッション トレース] セクションまでスクロールすると、実際のユーザー セッションのさまざまなサンプルが表示されます。これらのセッションでは、ユーザーが AJAX リクエスト、DOM ロードに関連する問題、JavaScript イベント、またはその他のエラーをどのように経験したかについて、より詳細な情報を得ることができます。

ランダム化されたセッションからのデータは、Web ページとの数百または数千のユーザー操作全体のパターンを見つけるのに役立ちます。このランダムに選択されたデータにパターンが現れた場合、問題を解決するための計画によってページ スコアが向上するという確信が持てます。

<UserJourneyControls
  nextStep={{"path":"/docs/tutorial-app-performance/fixing-high-latency","title":"次のステップ","body":"サービス全体のレイテンシーの問題を特定する"}}
  previousStep={{"path":"/docs/tutorial-app-performance/instrument-your-site","title":"一つ前の手順","body":"ブラウザエージェントを使用してサイトをインストルメント化する"}}
/>