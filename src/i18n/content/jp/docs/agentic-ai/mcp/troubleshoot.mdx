---
title: New Relic MCPのトラブルシューティング
metaDescription: Common troubleshooting steps and solutions for New Relic's Model Context Protocol server setup and configuration issues.
freshnessValidatedDate: never
translationType: machine
---

## OAuthフローが開始されない

* ブラウザが`localhost`にアクセスできることを確認してください。
* ファイアウォールの設定を確認してください。
* ツールが`OAuth` URL にアクセスできることを確認してください。

## APIキーが機能しない

* キーの形式を確認してください（ `NRAK-`で始まります）。
* New Relic でキーの権限を確認します。
* キーの有効期限が切れていないことを確認してください。

## MCPサーバーが検出されません

* アプリケーションを完全に再起動します。
* `JSON`構文の妥当性を確認してください。
* ファイル パスと権限を確認します。

## mcp-remote プロキシの問題

* `Node.js`がインストールされていることを確認してください。
* インターネット接続を確認してください。
* npx が`mcp-remote`パッケージにアクセスできることを確認します。

## カスタムグループへのアクセスが拒否されました

### 問題

New Relic AI MCP サーバーに正常に接続または認証できず、次のエラー メッセージが表示されます: `Missing required capabilities to access MCP server. Please ensure you have the necessary permissions.`これは通常、組織レベルの権限を持たないカスタム ユーザー グループのメンバーである場合に発生します。

### 原因

カスタム グループには、MCP サーバー エンドポイントを使用するために必要な組織レベルのアクセス制御またはロールがありません。この組織全体の機能へのアクセスは、グループまたはユーザーロールに明示的に許可する必要があります。

### 解像度

組織内のアドミニストレーターは、アクセスを許可するために、次の 2 つのソリューションのいずれかを実装する必要があります。

1. グループに組織レベルの役割を付与します。
   * アドミニストレーターは、あなたが属するカスタム グループに適切な組織レベルの役割 (または特定の必要な権限) を追加する必要があります。
2. 承認されたグループに移動します:
   * アドミニストレーターは、MCP サーバーに必要な組織レベルのアクセス権限をすでに持っている既存のユーザー グループにユーザーを追加する必要があります。

ユーザー管理の概念、ロール、組織の付与の詳細については、 [New Relic ユーザー管理ドキュメント](/docs/accounts/accounts-billing/new-relic-one-user-management/user-management-concepts)を参照してください。組織がユーザー管理にクロスドメイン ID 管理システム (SCIM) を使用している場合、これらのグループとロールの調整は外部 ID プロバイダー (IdP) 内で実行する必要があります。

## エラーメッセージ

* **接続が拒否されました**: ツールの URL とネットワーク接続を確認してください。
* **認証が必要です**: APIキーがまだアクティブであり、正しく入力されたことを確認するか、 `OAuth`フローを完了してください。
* **無効なクライアント**: `OAuth`設定の問題。 `mcp-remote`プロキシを試してください。
* **`Time.UnmarshalJSON`** : `OAuth`には`mcp-remote`プロキシを使用します。