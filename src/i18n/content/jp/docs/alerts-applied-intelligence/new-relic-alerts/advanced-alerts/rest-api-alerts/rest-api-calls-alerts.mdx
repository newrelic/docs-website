---
title: アラートについてのREST APIコール
tags:
  - Alerts and Applied Intelligence
  - New Relic Alerts
  - REST API alerts
metaDescription: How to use the New Relic REST API Explorer to add and manage alerts.
translationType: human
---

当社のREST API（v2）を使用すれば、アラートを設定できます。[APIエクスプローラー](/docs/apm/apis/api-explorer-v2/getting-started-new-relics-api-explorer)には、使用可能なAPIコールごとにcurlリクエストフォーマット、使用可能なパラメーター、取りうるレスポンス状態コード、JSONレスポンス構造も含まれます。[UIでもアラート条件を作成](/docs/alerts/new-relic-alerts/defining-conditions/define-alert-conditions)できます。

<Callout variant="important">
  Infrastructureのアラートについては、[InfrastructureモニタリングアラートのREST API](/docs/infrastructure/new-relic-infrastructure/infrastructure-alert-conditions/rest-api-calls-new-relic-infrastructure-alerts)を参照してください。
</Callout>

## APIで使用可能なデータと機能 [#data]

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        **REST API関数**
      </th>

      <th>
        **コメント**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        アカウントデータを表示
      </td>

      <td>
        一般的に、どの[ロール](/docs/accounts-partnerships/accounts/account-setup/users-roles)でも[ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)または[REST APIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)と**GET > List**機能を使用して、アラートデータを**表示**できます。アカウントの所有者 (オーナー)と管理者は、自身のAPI キーを使用できます。

        リストの出力には[ページ番号](/docs/apis/rest-api-v2/requirements/pagination-api-output)が付けられることに注意してください。使用可能な機能：

        * [アラートポリシー](#policies-list)
        * [通知チャネル](#channels)
        * [APM、ブラウザ、モバイル](#conditions-list)の条件 （[いくつかの制限が適用されます。](#excluded)）
        * [外部サービス](#ext-conditions-list)の条件
        * [合成モニタリング](#synthetics-conditions)の条件
        * [複数の場所における合成モニタリング](#multilocation-synthetics-conditions)の条件
        * NRQLの条件 （[いくつかの制限が適用されます。](#excluded)）
        * [イベント](#events)
        * [違反](#violations)
        * [インシデント](#incidents)
      </td>
    </tr>

    <tr>
      <td>
        アカウントデータのメンテナンス
      </td>

      <td>
        **POST > Create**、[PUT > Add](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)、**PUT > Update**、**DELETE**を含むメンテナンス機能を使用するには、アカウントの所有者 (オーナー) またはAdminロール[および](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)**ユーザーキー**を使用するか、**または**アラートを管理するためのアクセス許可を付与するカスタムロール**および****ユーザーキー**が必要になります。
      </td>
    </tr>
  </tbody>
</table>

## REST APIから除外される条件 [#excluded]

以下の条件には、APIで使用可能なエンドポイントはありません。

* APM：ウェブトランザクションパーセンタイル、条件ターゲティングラベル、ベースライン
* NRQL：ベースライン

## アラートポリシー

これらのAPI関数には、[ポリシー](/docs/alerts/new-relic-alerts-beta/getting-started/best-practices-alert-policies)を簡単に作成、削除、リストすることができるAPIエクスプローラーへのリンクが含まれます。

<Callout variant="important">
  お使いのアカウントがEUデータセンターでデータをホストする場合は、適切な[EU地域アカウント向けAPIエンドポイント](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints)を使用していることを確認してください。
</Callout>

<CollapserGroup>
  <Collapser
    id="policies-create"
    title="新しいポリシーを作成する"
  >
    新しいポリシーを追加するには、[ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)を使用して、APIコールに以下の2つの値を含めます。

    <table>
      <thead>
        <tr>
          <th style={{ width: "230px" }}>
            **必須の値**
          </th>

          <th>
            **定義**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            インシデント`incident_preference`
          </td>

          <td>
            Alertsが[インシデントを作成し、違反をグループ化する](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents)方法を決めます。以下のいずれかの方法で行う必要があります。

            * `PER_POLICY`（デフォルト）：[ポリシー](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents#preference-policy)ごとにロールアップします。
            * `PER_CONDITION`：[条件](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents#preference-condition)ごとにロールアップします。
            * `PER_CONDITION_AND_TARGET`：[ターゲットと条件](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents#preference-target)ごとにロールアップします。
          </td>
        </tr>

        <tr>
          <td>
            [ポリシーの`name`（名前）](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/name-or-rename-alert-policy)
          </td>

          <td>
            ポリシーの`name`は必須です。変更しないままにすると、<var>string</var>（文字列）というポリシーが作成されます。
          </td>
        </tr>
      </tbody>
    </table>

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_policies/create) **Alerts Policies > POST > Create**

    ```
    curl -X POST 'https://api.newrelic.com/v2/alerts_policies.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "policy": {
        "incident_preference": "string",
        "name": "string"
      }
    }'
    ```
  </Collapser>

  <Collapser
    id="policies-update"
    title="ポリシーを更新する"
  >
    このAPIを使用して、既存のポリシーの`name`と`incident_preference`を更新します。[ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)が必要になります。

    <table>
      <thead>
        <tr>
          <th style={{ width: "230px" }}>
            **必須の値**
          </th>

          <th>
            **定義**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `id`
          </td>

          <td>
            必須。ポリシーのIDを確認するには、以下のオプションのいずれかを使用します。

            * UIから：ポリシーのUIページで、ポリシー名の下にあるIDを検索します。
            * APIを使用する場合：[リストポリシーAPI](/docs/alerts/rest-api-alerts/new-relic-alerts-rest-api/rest-api-calls-new-relic-alerts#policies-list)を使用します。
          </td>
        </tr>

        <tr>
          <td>
            インシデント`incident_preference`
          </td>

          <td>
            アラートが[インシデントを作成し、違反をグループ化する](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents)方法を決めます。以下のいずれかの方法で行う必要があります。

            * `PER_POLICY`（デフォルト）：[ポリシー](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents#preference-policy)ごとにロールアップします。
            * `PER_CONDITION`：[条件](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents#preference-condition)ごとにロールアップします。
            * `PER_CONDITION_AND_TARGET`：[ターゲットと条件](/docs/alerts/new-relic-alerts-beta/reviewing-alert-incidents/specify-when-new-relic-creates-incidents#preference-target)ごとにロールアップします。
          </td>
        </tr>

        <tr>
          <td>
            [ポリシーの`name`（名前）](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/name-or-rename-alert-policy)
          </td>

          <td>
            **必須。**名前を変更しない場合は、<var>string</var>というポリシーにデフォルト設定されます。

            [List policies API](/docs/alerts/rest-api-alerts/new-relic-alerts-rest-api/rest-api-calls-new-relic-alerts#policies-list)を使用して、ポリシーの正確な名前を確認します。
          </td>
        </tr>
      </tbody>
    </table>

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_policies/create) **Alerts Policies > PUT > Update**

    ```
    curl -X PUT 'https://api.newrelic.com/v2/alerts_policies/{id}.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "policy": {
        "incident_preference": "string",
        "name": "string"
      }
    }'
    ```
  </Collapser>

  <Collapser
    id="policies-delete"
    title="既存のポリシーを削除する"
  >
    既存のポリシーを削除するには、[ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)を使用して、`policy_id`（[API Explorer:](https://rpm.newrelic.com/api/explore/alerts_policies/list) **Alerts Policies > GET > List**から入手可能）をAPIコールに含めます。

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_policies/delete) **Alerts Policies > DELETE > Delete**

    ```
    curl -X DELETE 'https://api.newrelic.com/v2/alerts_policies/<var>$POLICY_ID</var>.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i
    ```
  </Collapser>

  <Collapser
    id="policies-list"
    title="既存のポリシーをリストする"
  >
    アカウントの既存ポリシーのリストを表示するには、[ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)を使用して以下のオプションの値をAPIコールに含めます。

    * オプションのポリシー`name`フィルター
    * オプションの[ページ番号付け](/docs/apis/rest-api-v2/requirements/pagination-api-output)の値

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_policies/list) **Alerts Policies > GET > List**

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_policies.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i
    ```
  </Collapser>
</CollapserGroup>

## 通知チャネル [#channels]

このAPI関数には、Alertsの[通知チャネル](/docs/alerts/new-relic-alerts-beta/managing-notification-channels/notification-channels-controlling-where-send-alerts)を作成、削除、リストアップできるAPIエクスプローラーへのリンクが含まれます。

<Callout variant="important">
  アカウントがEUデータセンターでデータをホストする場合は、適切な[EUリージョンアカウント向けAPIエンドポイント](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints)を使用していることを確認してください。
</Callout>

<CollapserGroup>
  <Collapser
    id="channels-create"
    title="新しい通知チャネルを作成する"
  >
    新しい通知チャネルを追加するには、[ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)を使用して以下の値をAPIコールに含めます。

    * 新しいチャネルの名前
    * [チャネルのタイプ](/docs/alerts/new-relic-alerts-beta/managing-notification-channels/notification-channels-controlling-where-send-alerts#channel-types)
    * 設定値

    APIエクスプローラーには、通知チャネルのタイプごとに必要な設定値のフォーマットが表示されます。

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_channels/create) **Alerts Channels > POST > Create**

    ```
    curl -X POST 'https://api.newrelic.com/v2/alerts_channels.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "channel": {
        "name": "string",
        "type": "string",
        "configuration": "hash"
      }
    }'
    ```

    この例の`"hash"`プレースホルダは、適切な値が置換された次のJSONブロックの1つと置き換える必要があります：

    <CollapserGroup>
      <Collapser
        id="email_channel"
        title="電子メールチャネル"
      >
        ```
        {
          "recipients" : "test@google.com",
          "include_json_attachment" : true
        }
        ```
      </Collapser>

      <Collapser
        id="opsgenie_channel"
        title="OpsGenieチャネル"
      >
        ```
        {
          "api_key": "abc123",
          "teams": "team1",
          "tags": "tag1",
          "recipients": "me@me.com"
        }
        ```
      </Collapser>

      <Collapser
        id="slack_channel"
        title="Slackチャネル"
      >
        ```
        {
          "url": "http://example.com",
          "channel": "channel1"
        }
        ```
      </Collapser>

      <Collapser
        id="victorops_channel"
        title="VictorOpsチャネル"
      >
        ```
        {
          "key": "mykey",
          "route_key": "theroute"
        }
        ```
      </Collapser>

      <Collapser
        id="pagerduty_channel"
        title="PagerDutyチャネル"
      >
        ```
        {
          "service_key": "myservicekey"
        }
        ```
      </Collapser>

      <Collapser
        id="webhook_json_channel"
        title="Webhook （json） チャネル"
      >
        この例では、デフォルトの`payload`を挿入しています。（`payload`属性は任意です。）

        `payload`は、表示しているキーと異なるキーを持つようにカスタマイズでき、`$`のプレフィックスが付いた属性は配信の前に補完されて送信されます。

        <Callout variant="important">
          `condition_id`は非推奨です。代わりに、`condition_family_id`を使用してください。
        </Callout>

        ```
        {
          "base_url": "http://example.com",
          "auth_username": "username",
          "auth_password": "password",
          "payload_type": "application/json",
          "headers": {
            "header1": "test", 
            "header2": "test"
          }
          "payload": {
            "account_id": "$ACCOUNT_ID",
            "account_name": "$ACCOUNT_NAME",
            "closed_violations_count_critical": "$CLOSED_VIOLATIONS_COUNT_CRITICAL",
            "closed_violations_count_warning": "$CLOSED_VIOLATIONS_COUNT_WARNING",
            "condition_family_id": "$CONDITION_FAMILY_ID",
            "condition_id": "$CONDITION_ID",
            "condition_name": "$CONDITION_NAME",
            "current_state": "$EVENT_STATE",
            "details": "$EVENT_DETAILS",
            "duration": "$DURATION",
            "event_type": "$EVENT_TYPE",
            "incident_acknowledge_url": "$INCIDENT_ACKNOWLEDGE_URL",
            "incident_id": "$INCIDENT_ID",
            "incident_url": "$INCIDENT_URL",
            "open_violations_count_critical": "$OPEN_VIOLATIONS_COUNT_CRITICAL",
            "open_violations_count_warning": "$OPEN_VIOLATIONS_COUNT_WARNING",
            "owner": "$EVENT_OWNER",
            "policy_name": "$POLICY_NAME",
            "policy_url": "$POLICY_URL",
            "runbook_url": "$RUNBOOK_URL",
            "severity": "$SEVERITY",
            "targets": "$TARGETS",
            "timestamp": "$TIMESTAMP",
            "violation_callback_url": "$VIOLATION_CALLBACK_URL",
            "violation_chart_url": "$VIOLATION_CHART_URL"
          }
        }
        ```
      </Collapser>

      <Collapser
        id="webhook_urlencoded_channel"
        title="Webhook （x-www-form-urlencoded）チャネル"
      >
        この例では、デフォルトの`payload`を挿入しています。（`payload`属性は任意です。）

        `payload`は、表示しているキーと異なるキーを持つようにカスタマイズでき、`$`のプレフィックスが付いた属性は配信の前に補完されて送信されます。

        <Callout variant="important">
          `condition_id`は非推奨です。代わりに、`condition_family_id`を使用してください。
        </Callout>

        ```
        {
          "base_url": "http://example.com",
          "auth_username": "username",
          "auth_password": "password",
          "payload_type": "application/x-www-form-urlencoded",
          "headers": {
            "header1": "test", 
            "header2": "test"
          },
          "payload": { 
            "account_id": "$ACCOUNT_ID", 
            "account_name": "$ACCOUNT_NAME", 
            "closed_violations_count_critical": "$CLOSED_VIOLATIONS_COUNT_CRITICAL", 
            "closed_violations_count_warning": "$CLOSED_VIOLATIONS_COUNT_WARNING", 
            "condition_family_id": "$CONDITION_FAMILY_ID", 
            "condition_id": "$CONDITION_ID", 
            "condition_name": "$CONDITION_NAME", 
            "current_state": "$EVENT_STATE", 
            "details": "$EVENT_DETAILS", 
            "duration": "$DURATION", 
            "event_type": "$EVENT_TYPE", 
            "incident_acknowledge_url": "$INCIDENT_ACKNOWLEDGE_URL", 
            "incident_id": "$INCIDENT_ID", 
            "incident_url": "$INCIDENT_URL", 
            "open_violations_count_critical": "$OPEN_VIOLATIONS_COUNT_CRITICAL", 
            "open_violations_count_warning": "$OPEN_VIOLATIONS_COUNT_WARNING", 
            "owner": "$EVENT_OWNER", 
            "policy_name": "$POLICY_NAME", 
            "policy_url": "$POLICY_URL", 
            "runbook_url": "$RUNBOOK_URL", 
            "severity": "$SEVERITY", 
            "targets": "$TARGETS", 
            "timestamp": "$TIMESTAMP", 
            "violation_callback_url": "$VIOLATION_CALLBACK_URL", 
            "violation_chart_url": "$VIOLATION_CHART_URL" 
          }
        }
        ```
      </Collapser>
    </CollapserGroup>
  </Collapser>

  <Collapser
    id="channels-delete"
    title="既存の通知チャネルを削除する"
  >
    既存の通知チャネルを削除するには、[ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)を使用して、`channel_id`（[API Explorer：](https://rpm.newrelic.com/api/explore/alerts_channels/list) **Alerts Channels > GET > List**から取得可能）をAPIコールに含めます。

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_channels/delete) **Alerts Channels > DELETE > Delete**

    ```
    curl -X DELETE 'https://api.newrelic.com/v2/alerts_channels/<var>{channel_id}</var>.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i
    ```
  </Collapser>

  <Collapser
    id="channels-list"
    title="既存の通知チャネルをリストする"
  >
    アカウントの既存の通知チャネルのリストを表示するには、[ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)と、APIコールのオプションの[ページネーション](/docs/apis/rest-api-v2/requirements/pagination-api-output)値を使用します。

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_channels/list) **Alerts Channels > GET > List**

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_channels.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i
    ```
  </Collapser>

  <Collapser
    id="policy-channels-update"
    title="ポリシーに関連する通知チャネルを更新する"
  >
    New Relics Alertsでは、[1つ以上の通知チャネルにポリシーを関連付ける](/docs/alerts/new-relic-alerts-beta/managing-notification-channels/add-or-remove-policy-channels)ことができます。また、通知チャネルを1つ以上のポリシーに関連付けることもできます。ポリシーに通知チャネルを追加するには、[ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)を使用して以下の値をAPIコールに含めます。

    * `policy_id`値（[API Explorer：](https://rpm.newrelic.com/api/explore/alerts_policy/list) **Alerts Policies > GET > List**から入手可能）
    * カンマまたは改行で区切られた配列内の1つ以上の`channel_id`値（[API Explorer：](https://rpm.newrelic.com/api/explore/alerts_channels/list) **Alerts Channels > GET > List**から入手可能）

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_policy_channels/update) **Alerts Policy Channels > PUT > Update**

    ```
    curl -X PUT 'https://api.newrelic.com/v2/alerts_policy_channels.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i \
         -H 'Content-Type: application/json' \
         -G -d 'policy_id=<var>$POLICY_ID</var>&channel_ids=<var>channel_id</var>'
    ```
  </Collapser>

  <Collapser
    id="policy-channels-delete"
    title="ポリシーに関連する通知チャネルを削除する"
  >
    New Relics Alertsでは、[1つ以上の通知チャネルにポリシーを関連付ける](/docs/alerts/new-relic-alerts-beta/managing-notification-channels/add-or-remove-policy-channels)ことができます。また、通知チャネルを1つ以上のアラートポリシーに関連付けることもできます。

    チャネルからポリシーを削除するか、またはポリシーからチャネルを削除するには、[ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)、およびAPIコールの以下の値を使用します。

    * `policy_id`（[API Explorer：](https://rpm.newrelic.com/api/explore/alerts_policy/list) **Alerts Policies > GET > List**から入手可能）
    * `channel_id`（[API Explorer:](https://rpm.newrelic.com/api/explore/alerts_channels/list) **Alerts Channels > GET > List**から入手可能）

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_policy_channels/delete) **Alerts Policy Channels > DELETE > Delete**

    ```
    curl -X DELETE 'https://api.newrelic.com/v2/alerts_policy_channels.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i \
         -d 'channel_id=<var>CHANNEL_ID</var>&policy_id=<var>POLICY_ID</var>'
    ```
  </Collapser>
</CollapserGroup>

## APM、ブラウザ、モバイルの条件 [#conditions]

このAPI関数には、ポリシーの[条件](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions)を簡単に作成、更新、削除、リストできるAPIエクスプローラーへのリンクが含まれます。こうしたコールは、以下のタイプのエンティティ向け条件となります：

* APM：アプリとキートランザクション
* Browser：アプリとキートランザクション
* Mobile：モバイルアプリ

**例外：**次のAPMの条件は、このAPIエンドポイントからは**入手できません**。

* 条件ターゲティングラベル（ダイナミックターゲティング）
* ウェブトランザクションのパーセンタイル条件
* ベースライン条件

<Callout variant="important">
  APIエクスプローラーは、[外部サービス](#ext-services-conditions)（APMおよびモバイル）、[Syntheticモニタリング](#)を含む、**別々のエンドポイント**を使用して他のタイプの条件に関する情報を提供します。検索または更新中にすべてのタイプのアラート条件を考慮します。アカウントがEUデータセンターでデータをホストする場合は、適切な[EUリージョンアカウント向けAPIエンドポイント](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints)を使用していることを確認してください。
</Callout>

<CollapserGroup>
  <Collapser
    id="conditions-create"
    title="ポリシーの条件を作成する"
  >
    ポリシーに条件を追加するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * `policy_id`（[API Explorer：](https://rpm.newrelic.com/api/explore/alerts_policies/list) **Alerts Policies > GET > List**から入手可能）
    * APIコールで必須とされる`条件`値（APIエクスプローラーページと[アラート条件のAPI用語集](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names)で説明されています）

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_conditions/create) **Alerts Conditions > POST > Create**

    ```
    curl -X POST 'https://api.newrelic.com/v2/alerts_conditions/policies/<var>$POLICY_ID</var>.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "condition": {
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#type">type</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean,
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#entities">entities</a>": [
          integer
        ],
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#metric">metric</a>": "string",
        "gc_metric": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#condition-scope">condition_scope</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#violation_close_timer">violation_close_timer</a>": integer,
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
        "terms": [
          {
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_duration">duration</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_operator">operator</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_priority">priority</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_threshold">threshold</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_time_function">time_function</a>": "string"
          }
        ],
        "user_defined": {
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#user_defined_metric">metric</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#user_defined_value_function">value_function</a>": "string"
        }
      }
    }'
    ```

    JSONレスポンスは、条件の更新や削除に必要な条件`id`を返します。条件`id`を[API Explorer：](https://rpm.newrelic.com/api/explore/alerts_conditions/list) **Alerts Conditions > GET > List**から表示することもできます。
  </Collapser>

  <Collapser
    id="conditions-update"
    title="ポリシーの条件を更新する"
  >
    ポリシーの条件を更新するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * 条件の`id`（[API Explorer：](https://rpm.newrelic.com/api/explore/alerts_condition/list) **Alerts Conditions > GET > List**から入手可能）
    * APIコールで必須とされる`条件`値（APIエクスプローラーページと[アラート条件のAPI用語集](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names)で説明されています）

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_conditions/update) **Alerts Conditions > PUT > Update**

    ```
    curl -X PUT 'https://api.newrelic.com/v2/alerts_conditions/<var>$CONDITION_ID</var>.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "condition": {
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#type">type</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean,
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#entities">entities</a>": [
          integer
        ],
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#metric">metric</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#metric">metric</a>": "string",
        "gc_metric": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#condition-scope">condition_scope</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#violation_close_timer">violation_close_timer</a>": integer,
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
        "terms": [
          {
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_duration">duration</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_operator">operator</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_priority">priority</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_threshold">threshold</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_time_function">time_function</a>": "string"
          }
        ],
        "user_defined": {
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#user_defined_metric">metric</a>": "string",
          "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#user_defined_value_function">value_function</a>": "string"
        }
      }
    }'
    ```
  </Collapser>

  <Collapser
    id="conditions-delete"
    title="ポリシーから条件を削除する"
  >
    ポリシーから条件を削除するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * `condition_id`（[API Explorer：](https://rpm.newrelic.com/api/explore/alerts_conditions/list) **Alerts Conditions > GET > List**から入手可能)

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_conditions/update) **Alerts Conditions > DELETE > Delete**

    ```
    curl -X DELETE 'https://api.newrelic.com/v2/alerts_conditions/<var>$CONDITION_ID</var>.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i
    ```
  </Collapser>

  <Collapser
    id="conditions-list"
    title="ポリシーの既存の条件をリストする"
  >
    ご利用のポリシーについて既存条件の一覧を表示するには、[REST APIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)または[ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)、およびAPIコールの関連[`policy_id`](#policies-list)を使用します。

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_conditions/list) **Alerts Conditions > GET > List**

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_conditions.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i \
         -d 'policy_id=<var>$POLICY_ID</var>'
    ```
  </Collapser>
</CollapserGroup>

## NRQLの条件 [#conditions-nrql]

このAPI関数には、ポリシーのNRQL[条件](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions)を簡単に作成、更新、削除、リストできるAPIエクスプローラーへのリンクが含まれます。

**例外：**NRQLベースラインの条件は、このエンドポイントからは**入手できません**。

<Callout variant="important">
  アカウントがEUデータセンターでデータをホストする場合は、適切な[EUリージョンアカウント向けAPIエンドポイント](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints)を使用していることを確認してください。
</Callout>

<CollapserGroup>
  <Collapser
    id="create-nrql-conditions"
    title="ポリシーのNRQL条件を作成する"
  >
    **推奨事項：**NRQLデータのストリーミング方法のため、`aggregation_method`を`EVENT_FLOW`に設定し、`aggregation_window`には`60`、`aggregation_delay`には`120`のデフォルト設定を使用します。`EVENT_FLOW`はほとんどの使用例で機能しますが、どの使用例が`EVENT_TIMER`でより適切に機能するかについては、[どの集計方法を使用するか](https://discuss.newrelic.com/t/relic-solution-how-can-i-figure-out-which-aggregation-method-to-use/164288)を参照してください。

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_nrql_conditions/create) **Alerts Nrql Conditions > POST > Create**

    ポリシーのNRQL条件を作成する：

    ```
    curl -X POST 'https://api.newrelic.com/v2/alerts_nrql_conditions/policies/<var>$POLICY_ID</var>.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "nrql_condition": {
        "type": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean,
        "terms": [
          {
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_duration">duration</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_operator">operator</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_priority">priority</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_threshold">threshold</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_time_function">time_function</a>": "string"
          }
        ],
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#user_defined_value_function">value_function</a>": "string",
        "nrql": {
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#nrql-query">query</a>": "string"
        },
        "signal": {
    	  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#signal_aggregation_window">aggregation_window</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#signal_aggregation_method">aggregation_method</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#signal_aggregation_delay">aggregation_delay</a>": integer,
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#signal_aggregation_timer">aggregation_timer</a>": integer,
    	  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#fill_option">fill_option</a>": "string",
    	  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#fill_value">fill_value</a>": "string"
        },
        "expiration": {
    	  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#expiration_duration">expiration_duration</a>": "string",
    	  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#expiration_duration">open_violation_on_expiration</a>": boolean,
    	  "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#expiration_duration">close_violations_on_expiration</a>": boolean
        }
      }
    }'
    ```

    `type`を除外するか`static`と設定すると、標準的なNRQLアラートにデフォルト設定されます。
  </Collapser>

  <Collapser
    id="update-nrql-conditions"
    title="ポリシーのNRQL条件を更新する"
  >
    ポリシーのNRQL条件を更新するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * 条件の`id`（[API Explorer：](https://rpm.newrelic.com/api/explore/alerts_nrql_conditions/list "新しいウィンドウにリンクが開きます。")

      <Icon name="fe-external-link">[](https://rpm.newrelic.com/api/explore/alerts_nrql_conditions/list "新しいウィンドウにリンクが開きます。")</Icon>

      **Alerts Nrql Conditions > GET > List**から入手可能）

    * APIコールで必須とされる`条件`値（APIエクスプローラーページと[アラート条件のAPI用語集](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names)で説明されています）

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_nrql_conditions/update) **Alerts Nrql Conditions > PUT > Update**

    ```
    curl -X PUT 'https://api.newrelic.com/v2/alerts_nrql_conditions/<var>$CONDITION_ID</var>.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "nrql_condition": {
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean,
        "terms": [
          {
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_duration">duration</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_operator">operator</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_priority">priority</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_threshold">threshold</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_time_function">time_function</a>": "string"
          }
        ],
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#user_defined_value_function">value_function</a>": "string",
        "nrql": {
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#nrql-query">query</a>": "string"
        }
      }
    }'
    ```
  </Collapser>

  <Collapser
    id="delete-nrql-conditions"
    title="ポリシーのNRQL条件を削除する"
  >
    ポリシーからNRQL条件を削除するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * 条件の`id`（[API Explorer：](https://rpm.newrelic.com/api/explore/alerts_nrql_conditions/list "新しいウィンドウにリンクが開きます。")

      <Icon name="fe-external-link">[](https://rpm.newrelic.com/api/explore/alerts_nrql_conditions/list "新しいウィンドウにリンクが開きます。")</Icon>

      **Alerts Nrql Conditions > GET > List**から入手可能）

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_nrql_conditions/delete) **Alerts Nrql Conditions > DELETE > Delete**

    ```
    curl -X DELETE 'https://api.newrelic.com/v2/alerts_nrql_conditions/<var>$CONDITION_ID</var>.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i
    ```
  </Collapser>

  <Collapser
    id="list-nrql-conditions"
    title="ポリシーの既存のNRQL条件をリストする"
  >
    ご利用のアラートポリシーについて既存条件の一覧を表示するには、[REST APIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)、およびAPIコールの関連[`policy_id`](#policies-list)を使用します。

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_nrql_conditions/list) **Alerts Nrql Conditions > GET > List**

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_nrql_conditions.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i \
         -d 'policy_id=<var>$POLICY_ID</var>'
    ```
  </Collapser>
</CollapserGroup>

## 外部サービスの条件 [#ext-services-conditions]

このAPI関数には、ポリシーの[条件](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions)を簡単に作成、更新、削除、リストできるAPIエクスプローラーへのリンクが含まれます。以下のコールは外部サービスの条件です。APIコールは、APMやモバイルモニタリングアプリと共に使用できます。

<Callout variant="important">
  アカウントがEUデータセンターでデータをホストする場合は、適切な[EUリージョンアカウント向けAPIエンドポイント](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints)を使用していることを確認してください。
</Callout>

<CollapserGroup>
  <Collapser
    id="ext-conditions-create"
    title="外部サービス：ポリシーの条件を作成する"
  >
    APMまたはモバイルモニタリングアプリを有するポリシーの外部サービスに条件を追加するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * `policy_id`（[API Explorer：](https://rpm.newrelic.com/api/explore/alerts_policies/list) **Alerts Policies > GET > List**から入手可能）
    * APIコールで必須とされる`external_service_condition`値（APIエクスプローラーページと[アラート条件のAPI用語集](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names)で説明されています）

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_external_service_conditions/create) **Alerts External Service Conditions > POST > Create**

    ```
    curl -X POST 'https://api.newrelic.com/v2/alerts_external_service_conditions/policies/<var>$POLICY_ID</var>.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "external_service_condition": {
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#type">type</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean,
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#entities">entities</a>": [
          integer
        ],
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#external_service_url">external_service_url</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#metric">metric</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
        "terms": [
          {
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_duration">duration</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_operator">operator</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_priority">priority</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_threshold">threshold</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_time_function">time_function</a>": "string"
          }
        ]
      }
    }'
    ```

    JSONレスポンスは、条件の更新や削除に必要な条件`id`を返します。条件`id`を[API Explorer：](https://rpm.newrelic.com/api/explore/alerts_external_service_conditions/list) **Alerts External Service Conditions > GET > List**から表示することもできます。
  </Collapser>

  <Collapser
    id="ext-conditions-update"
    title="外部サービス：ポリシーの条件を更新する"
  >
    APMまたはモバイルモニタリングアプリを有するポリシーの外部サービスの条件を更新するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * 外部サービス条件の`id`（[API Explorer：](https://rpm.newrelic.com/api/explore/alerts_external_service_conditions/list) **Alerts External Service Conditions > GET > List**から入手可能）
    * APIコールで必須とされる`external_service_condition`値（APIエクスプローラーページと[アラート条件のAPI用語集](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names)で説明されています）

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_external_service_conditions/update) **Alerts External Service Conditions > PUT > Update**

    ```
    curl -X PUT 'https://api.newrelic.com/v2/alerts_external_service_conditions/<var>$CONDITION_ID</var>.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "external_service_condition": {
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#type">type</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean,
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#entities">entities</a>": [
          integer
        ],
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#external_service_url">external_service_url</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#metric">metric</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
        "terms": [
          {
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_duration">duration</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_operator">operator</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_priority">priority</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_threshold">threshold</a>": "string",
            "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#terms_time_function">time_function</a>": "string"
          }
        ]
      }
    }'
    ```
  </Collapser>

  <Collapser
    id="ext-conditions-delete"
    title="外部サービス：条件をポリシーから削除する"
  >
    APMまたはモバイルモニタリングアプリを有するポリシーの外部サービスの条件を削除するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * `condition_id`（[API Explorer：](https://rpm.newrelic.com/api/explore/alerts_conditions/list) **Alerts External Service Conditions > GET > List**から入手可能）

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_external_service_conditions/delete) **Alerts External Service Conditions > DELETE > Delete**

    ```
    curl -X DELETE 'https://api.newrelic.com/v2/alerts_external_service_conditions/<var>$CONDITION_ID</var>.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i
    ```
  </Collapser>

  <Collapser
    id="ext-conditions-list"
    title="外部サービス：ポリシーの既存の条件をリストアップする"
  >
    外部サービスアプリ（APMまたモバイルモニタリング）を持つポリシーの既存条件の一覧を表示するには、[ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)または[REST APIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)、およびAPIコールの関連[`policy_id`](#policies-list)を使用します。

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_external_service_conditions/list) **Alerts External Service Conditions > GET > List**

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_external_service_conditions.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i \
         -d 'policy_id=<var>$POLICY_ID</var>'
    ```
  </Collapser>
</CollapserGroup>

## 合成モニタリングの条件 [#synthetics-conditions]

以下のAPI関数には、アラートポリシーの[条件](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions)を簡単に作成、更新、削除、リストできるAPIエクスプローラーへのリンクが含まれます。APIコールは、合成モニタリングと共に使用できます。

<CollapserGroup>
  <Collapser
    id="synthetics-conditions-create"
    title="Synthetics：ポリシーの条件を作成する"
  >
    合成モニタリングのポリシーに条件を追加するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * `policy_id`（[API Explorer：](https://rpm.newrelic.com/api/explore/alerts_policies/list) **Alerts Policies > GET > List**から入手可能）
    * APIコールで必須とされる`synthetics_condition`値（APIエクスプローラーページと[アラート条件のAPI用語集](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names)で説明されています）

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/create) **Alerts Synthetics Conditions > POST > Create**

    ```
    curl -X POST 'https://api.newrelic.com/v2/alerts_synthetics_conditions/policies/<var>$POLICY_ID</var>.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "synthetics_condition": {
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#monitor_id">monitor_id</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean
      }
    }'
    ```

    JSONレスポンスは、条件の更新や削除に必要な条件`id`を返します。条件`id`を[API Explorer：](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/list) **Alerts Synthetics Conditions > GET > List**から表示することもできます。
  </Collapser>

  <Collapser
    id="synthetics-conditions-update"
    title="Syntheticモニタリング：ポリシーの条件を更新する"
  >
    合成モニタリングのポリシーの条件を更新するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * 条件`id`（[API Explorer：](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/list) **Alerts Synthetics Conditions > GET > List**から入手可能）
    * APIコールで必須とされる`合成_condition`値（[合成 用のアラート条件の作成](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/create)のためのAPIエクスプローラーページと[アラート条件のAPI用語集](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names)で説明されています）

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/update) **Alerts Synthetics Conditions > PUT > Update**

    ```
    curl -X PUT 'https://api.newrelic.com/v2/alerts_synthetics_conditions/<var>$CONDITION_ID</var>.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "synthetics_condition": {
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#monitor_id">monitor_id</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean
      }
    }'
    ```
  </Collapser>

  <Collapser
    id="synthetics-conditions-delete"
    title="Syntheticモニタリング：条件をポリシーから削除する"
  >
    合成モニタリングのポリシーの条件を削除するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * `condition_id`（[API Explorer：](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/list) **Alerts Synthetics Conditions > GET > List**から入手可能）

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/delete) **Alerts Synthetics Conditions > DELETE > Delete**

    ```
    curl -X DELETE 'https://api.newrelic.com/v2/alerts_synthetics_conditions/<var>$CONDITION_ID</var>.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i
    ```
  </Collapser>

  <Collapser
    id="synthetics-conditions-list"
    title="Syntheticモニタリング：ポリシーの既存の条件をリストする"
  >
    合成モニタリングの既存のポリシー条件一覧を表示するには、[ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)または[REST APIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)、およびAPIコールの関連[`policy_id`](#policies-list)を使用します。

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_synthetics_conditions/list) **Alerts Synthetics Conditions > GET > List**

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_synthetics_conditions.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i \
         -d 'policy_id=<var>$POLICY_ID</var>'
    ```
  </Collapser>
</CollapserGroup>

## 複数の場所における合成モニタリングの条件 [#multilocation-synthetics-conditions]

以下のAPI関数には、アラートポリシーの[条件](/docs/alerts/new-relic-alerts-beta/configuring-alert-policies/define-alert-conditions)を簡単に作成、更新、削除、リストできるAPIエクスプローラーへのリンクが含まれます。APIコールは、合成モニタリングを使用して複数場所の条件に使用できます。条件を作成または更新する前に、[複数場所のアラート条件のルール](/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/advanced-techniques/multi-location-synthetic-monitoring-alert-conditions/#rules)をお読みください。

<CollapserGroup>
  <Collapser
    id="multilocation-synthetics-conditions-create"
    title="複数の場所における合成：ポリシーの条件を作成する"
  >
    複数の場所における合成モニタリングのポリシーに条件を追加するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * `policy_id`（[API Explorer：](https://rpm.newrelic.com/api/explore/alerts_policies/list) **Alerts Policies > GET > List**から入手可能）
    * APIコールで必須とされる`location_failure_condition`値（APIエクスプローラーページと[アラート条件のAPI用語集](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names)で説明されています）

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_location_failure_conditions/create) **Alerts Location Failure Conditions > POST > Create**

    ```
    curl -X POST 'https://api.newrelic.com/v2/alerts_location_failure_conditions/policies/<var>$POLICY_ID</var>.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "location_failure_condition": {
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean,
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#entities">entities</a>":
        [
            "string"
        ],
        "terms": [
            {
                "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#priority">priority</a>": "string",
                "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#threshold">threshold</a>": integer,
            }
        ],
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#violation_time_limit_seconds">violation_time_limit_seconds</a>": integer
      }
    }'
    ```

    JSONレスポンスは、条件の更新や削除に必要な条件`id`を返します。条件`id`を[API Explorer：](https://rpm.newrelic.com/api/explore/alerts_location_failure_conditions/list) **Alerts Location Failure Conditions > GET > List**から表示することもできます。
  </Collapser>

  <Collapser
    id="multilocation-synthetics-conditions-update"
    title="複数の場所における合成：ポリシーの条件を更新する"
  >
    複数の場所における合成モニタリングのポリシーの条件を更新するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * 条件`id`（[API Explorer：](https://rpm.newrelic.com/api/explore/alerts_location_failure_conditions/list) **Alerts Location Failure Conditions > GET > List**から入手可能）
    * APIコールで必須とされる`location_failure_condition`値（APIエクスプローラーページと[アラート条件のAPI用語集](/docs/alerts/new-relic-alerts/rest-api-alerts/alerts-conditions-api-field-names)で説明されています）

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_location_failure_conditions/update) **Alerts Location Failure Conditions > PUT > Update**

    ```
    curl -X PUT 'https://api.newrelic.com/v2/alerts_location_failure_conditions/<var>$CONDITION_ID</var>.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i \
         -H 'Content-Type: application/json' \
         -d \
    '{
      "location_failure_condition": {
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#name">name</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#runbook_url">runbook_url</a>": "string",
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#enabled">enabled</a>": boolean,
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#entities">entities</a>":
        [
            "string"
        ],
        "terms": [
            {
                "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#priority">priority</a>": "string",
                "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#threshold">threshold</a>": integer,
            }
        ],
        "<a href="/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/rest-api-alerts/alerts-conditions-api-field-names#violation_time_limit_seconds">violation_time_limit_seconds</a>": integer
      }
    }'
    ```
  </Collapser>

  <Collapser
    id="multilocation-synthetics-conditions-delete"
    title="複数の場所における合成：ポリシーの条件を削除する"
  >
    複数の場所における合成モニタリングのポリシーの条件を削除するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * `condition_id`（[API Explorer：](https://rpm.newrelic.com/api/explore/alerts_location_failure_conditions/list) **Alerts Location Failure Conditions > GET > List**から入手可能）

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_location_failure_conditions/delete) **Alerts Location Failure Conditions > DELETE > Delete**

    ```
    curl -X DELETE 'https://api.newrelic.com/v2/alerts_location_failure_conditions/<var>$CONDITION_ID</var>.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i
    ```
  </Collapser>

  <Collapser
    id="multilocation-synthetics-conditions-list"
    title="複数の場所における合成：ポリシーの既存の条件をリストアップする"
  >
    複数の場所における合成モニタリングの既存のポリシー条件一覧を表示するには、[ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)または[REST APIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)、およびAPIコールの関連[`policy_id`](#policies-list)を使用します。

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_location_failure_conditions/list) **Alerts Location Failure Conditions > GET > List**

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_location_failure_conditions.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i \
         -d 'policy_id=<var>$POLICY_ID</var>'
    ```
  </Collapser>
</CollapserGroup>

## アラートアクティビティイベント、違反、インシデント [#alert-activity]

こうしたAPI関数には、アラートポリシーのイベント、違反、インシデントに関する情報を表示できるAPIエクスプローラーへのリンクが含まれます。

<Callout variant="important">
  アカウントがEUデータセンターでデータをホストする場合は、適切な[EUリージョンアカウント向けAPIエンドポイント](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints)を使用していることを確認してください。
</Callout>

<CollapserGroup>
  <Collapser
    id="events"
    title="イベントのリスト"
  >
    APM、ブラウザ、モバイル、Syntheticモニタリング、アラートが監視する[エンティティ](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity)の[イベント](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#event)を表示するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)または[REST APIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)
    * フィルターとして使用するその他のオプションの値（[APIエクスプローラーページに記載](https://rpm.newrelic.com/api/explore/alerts_events/list)）は、製品のタイプ（ブラウザモニタリング、モバイルモニタリングなど）、エンティティ（APMのアプリやキートランザクション、Syntheticsのモニタリングなど）、イベントのタイプ（通知、デプロイメント、インストゥルメンテーションなど）によって異なります。
    * オプションの[ページネーション](/docs/apis/rest-api-v2/requirements/pagination-api-output)値

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_events/list) **Alerts Events > GET > List**

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_events.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i
    ```
  </Collapser>

  <Collapser
    id="violations"
    title="違反のリスト"
  >
    アカウントについて監視する[エンティティ](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-violation)の[違反](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity)を表示するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)または[REST APIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)
    * 現在オープンの違反のみを表示するオプションのフラグ
    * オプションの[ページネーション](/docs/apis/rest-api-v2/requirements/pagination-api-output)値

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_violations/list) **Alerts Violations > GET > List**

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_violations.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i
    ```

    <Callout variant="tip">
      ポリシー、条件、およびインシデント情報を見つけるには：`violations`プロパティの`links`セクションにあるIDを取得し、それらをペイロードの外部`links`プロパティに含まれるURLに配置します。
    </Callout>
  </Collapser>

  <Collapser
    id="list-incidents"
    title="インシデントのリスト"
  >
    アカウントについて監視する[エンティティ](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-incident)の[インシデント](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity)を表示するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)または[REST APIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)
    * 現在オープンのインシデントのみを表示するオプションのフラグ
    * 応答から違反データを除外するオプションのフラグ
    * オプションの[ページネーション](/docs/apis/rest-api-v2/requirements/pagination-api-output)値

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_incidents/list) **Alerts Incidents > GET > List**

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_incidents.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i
    ```
  </Collapser>

  <Collapser
    id="show-incidents"
    title="インシデントの表示"
  >
    アカウントに関連付けられた単一の[インシデント](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-incident)を表示するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)または[REST APIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)

    * インシデントID

      [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_incidents/show) **Alerts Incidents > GET > Show**

      ```
      curl -X GET 'https://api.newrelic.com/v2/alerts_incidents/<var>{id}</var>.json' \
           -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i
      ```
  </Collapser>

  <Collapser
    id="acknowledge-incidents"
    title="インシデントの認識"
  >
    アカウントに関連付けられた[インシデント](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-incident)を認識するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * インシデントID

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_incidents/acknowledge) **Alerts Incidents > PUT > Acknowledge**

    ```
    curl -X PUT 'https://api.newrelic.com/v2/alerts_incidents/<var>{id}</var>/acknowledge.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i \
         -H 'Content-Type: application/json'
    ```
  </Collapser>

  <Collapser
    id="close-incidents"
    title="インシデントのクローズ"
  >
    アカウントに関連付けられた[インシデント](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-incident)をクローズするには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)
    * インシデントID

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_incidents/close) **Alerts Incidents > PUT > Close**

    ```
    curl -X PUT 'https://api.newrelic.com/v2/alerts_incidents/<var>{id}</var>/close.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i \
         -H 'Content-Type: application/json'
    ```
  </Collapser>
</CollapserGroup>

## アラートエンティティ条件

こうしたAPI関数には、アラートポリシーに対する条件のエンティティをリスト、追加、削除できるAPIエクスプローラーへのリンクが含まれます。

<Callout variant="important">
  アカウントがEUデータセンターでデータをホストする場合は、適切な[EUリージョンアカウント向けAPIエンドポイント](/docs/using-new-relic/welcome-new-relic/getting-started/introduction-eu-region-data-center#endpoints)を使用していることを確認してください。
</Callout>

<CollapserGroup>
  <Collapser
    id="list-condition-by-entity"
    title="エンティティ別に条件をリストする"
  >
    APM、ブラウザ、モバイル、キートランザクションにおいて、[エンティティ](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity)に適用される[条件](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-condition)を表示するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)または[REST APIキー](/docs/apis/rest-api-v2/requirements/rest-api-key)

    * `entity_id`は、監視されることになる特定の[エンティティ（アラートターゲット）](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity)です。

    * `entity_type`は、次のいずれかである必要があります：

      * アプリケーション
      * ブラウザアプリケーション
      * モバイルアプリケーション
      * キートランザクション

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_entity_conditions/list) **Alerts Entity Conditions > GET > list**

    ```
    curl -X GET 'https://api.newrelic.com/v2/alerts_entity_conditions/<var>$ENTITY_ID</var>.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i \
         -G -d 'entity_type=<var>$ENTITY_TYPE</var>'
    ```
  </Collapser>

  <Collapser
    id="add-entity"
    title="条件にエンティティを追加する"
  >
    条件に[エンティティ](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity)を追加するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * `entity_id`は、監視されることになる[エンティティ（アラートターゲット）](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity)です。APMアプリケーション、ブラウザアプリ、キートランザクション、モバイルアプリの数値IDです。

    * `condition_id`（[API Explorer：](https://rpm.newrelic.com/api/explore/alerts_conditions/list) **Alerts Conditions > GET > List**から入手可能)

    * `entity_type`は、次のいずれかである必要があります：

      * アプリケーション
      * ブラウザアプリケーション
      * モバイルアプリケーション
      * キートランザクション

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_entity_conditions/add) **Alerts Entity Conditions > PUT > Add**

    ```
    curl -X PUT 'https://api.newrelic.com/v2/alerts_entity_conditions/<var>$ENTITY_ID</var>.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i \
         -H 'Content-Type: application/json' \
         -G -d 'entity_type=<var>$ENTITY_TYPE</var>&condition_id=<var>$CONDITION_ID</var>'
    ```
  </Collapser>

  <Collapser
    id="remove_entity"
    title="エンティティを条件から削除する"
  >
    監視している[エンティティ](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity)を条件から削除するには、以下の値をAPIコールに含めます：

    * [ユーザーキー](/docs/apis/get-started/intro-apis/types-new-relic-api-keys#user-api-key)

    * `entity_id`は、削除されることになる特定の監視対象[エンティティ（アラートターゲット）](/docs/alerts/new-relic-alerts-beta/getting-started/alerts-glossary#alert-entity)です。APMアプリケーション、ブラウザアプリ、キートランザクション、モバイルアプリの数値IDです。

    * `condition_id`（[API Explorer：](https://rpm.newrelic.com/api/explore/alerts_conditions/list) **Alerts Conditions > GET > List**から入手可能)

    * `entity_type`は、次のいずれかである必要があります：

      * アプリケーション
      * ブラウザアプリケーション
      * モバイルアプリケーション
      * キートランザクション

    [API Explorer：](https://rpm.newrelic.com/api/explore/alerts_entity_conditions/remove) **Alerts Entity Conditions > DELETE > Remove**

    ```
    curl -X DELETE 'https://api.newrelic.com/v2/alerts_entity_conditions/<var>$ENTITY_ID</var>.json' \
         -H 'Api-Key:<a href="/docs/apis/rest-api-v2/getting-started/introduction-new-relic-rest-api-v2#api_key"><var>$API_KEY</var></a>' -i \
         -G -d 'entity_type=<var>$ENTITY_ID</var>&condition_id=<var>$CONDITION_ID</var>'
    ```
  </Collapser>
</CollapserGroup>
