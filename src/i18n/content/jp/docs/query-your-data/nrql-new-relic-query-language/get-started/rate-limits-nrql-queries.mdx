---
title: NRQLクエリの制限
metaDescription: 'An explanation of rate limits for NRQL, the New Relic query language'
translationType: machine
---

import eventCountModal from 'images/event-count-modal.png'

New Relicのクエリ言語であるNRQLには、すべてのユーザーに高レベルの可用性と信頼性を保証するためのレート制限があります。

## クエリ制限違反を理解する [#limit-violations]

クエリ関連の制限に達しているかどうかを確認するには、[制限UI](/docs/data-apis/manage-data/view-system-limits/)を使用します。

レート制限に遭遇することはめったにありません。クエリの制限がまれになるようにするために従うべきガイドラインを次に示します。

* 同時に実行される複雑なクエリ（たとえば、 `FACET`または`TIMESERIES`句を含むクエリ、または100万を超えるイベントのクエリ）の数を制限します。
* 特に複雑なクエリが含まれている場合は、長期間にわたって同時に実行されるクエリの数を最大5つに制限します。

## NRQLクエリの制限 [#query-limits]

いくつかの異なるNRQLクエリ制限があります。

* アカウントが特定の時間範囲内に実行できるクエリの数
* アカウントが特定の時間範囲でクエリ（検査）できるデータポイントの数
* エラーと見なされて停止するまでのクエリの実行時間

これらの制限は、クエリビルダーを使用したクエリ、カスタムチャートやダッシュボードで使用されるクエリ、NerdGraph APIを使用して実行されるNRQLクエリなど、顧客が開始するNRQLクエリにのみ適用されることに注意してください。これらの制限は、事前に作成された「すぐに使える」NewRelicチャートおよびダッシュボードで使用されるクエリには適用されません。

これらの制限について詳しく説明します。

### クエリ数の制限 [#query-count-limits]

NRQLクエリの制限は、アカウントごと、1分あたり3,000クエリです。この制限を超えると、1分あたりに送信されるクエリの数が制限を超えなくなるまで、クエリが拒否される場合があります。

### 検査されるデータポイントの数の制限 [#inspected-count-limits]

NRQLクエリを実行すると、以下に示すように、検査されたデータポイントの数が表示されます。

<img
  title="New Relic inspected event count"
  alt="New Relic inspected event count"
  src={eventCountModal}
/>

このコンテキストでは、「イベント」という用語は、クエリで検査されるすべての[NRQLで使用可能なデータポイント](/docs/query-data/nrql-new-relic-query-language/getting-started/introduction-nrql#what-you-can-query)を指すために一般的な意味で使用されます。

すべてのNewRelicアカウントには、特定の時間範囲で検査できるデータポイントの総数に制限があります。これらの制限は、使用している[データオプション](/docs/accounts/accounts-billing/new-relic-one-pricing-billing/data-ingest-billing#data-prices)によって異なります。

<CollapserGroup>
  <Collapser
    id="data-plus"
    title="データプラス"
  >
    [Data Plus](/docs/accounts/accounts-billing/new-relic-one-pricing-billing/data-ingest-billing#data-prices)オプションには、次のクエリ制限が含まれています。

    * 1分あたりの検査済みデータポイント：1,000億
    * 30分あたりの検査済みデータポイント：1兆
  </Collapser>

  <Collapser
    id="original-data"
    title="元のデータオプション"
  >
    [元のデータオプション](/docs/accounts/accounts-billing/new-relic-one-pricing-billing/data-ingest-billing#data-prices)の場合、検査されるデータポイントの制限は次のとおりです。

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            **期間**
          </th>

          <th>
            **制限**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            ローリング 30分
          </td>

          <td>
            検査された3,000億のデータポイント（1分あたりに検査された100億のデータポイントの持続率に相当）
          </td>
        </tr>

        <tr>
          <td>
            24時間
          </td>

          <td>
            検査された7.2兆のデータポイント
          </td>
        </tr>
      </tbody>
    </table>

    一定期間内に制限値に達した場合、制限がかかり、一部のクエリに影響が出る可能性があります。一定期間が経過した後、クエリの量が制限値を下回ると、制限は自動的に解除されます。
  </Collapser>
</CollapserGroup>

### クエリ期間の制限 [#query-duration]

クエリ期間の制限は、NRQLクエリが実行を停止するまでに実行できる時間です。この制限は、 [データオプション](/docs/accounts/accounts-billing/new-relic-one-pricing-billing/data-ingest-billing#data-prices)によって異なります。

* 元のデータオプション：1分
* Data Plus：2分（クエリ期間が長くなります）