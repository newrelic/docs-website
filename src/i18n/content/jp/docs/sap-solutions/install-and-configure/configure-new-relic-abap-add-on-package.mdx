---
title: New Relic ABAPアドオンパッケージを構成する
metaDescription: Configure New Relic ABAP add-on package.
freshnessValidatedDate: never
translationType: machine
---

## /NEWR/INSTALLメニューの使用 [#menu-newr-install]

1. 中央監視システムの運用クライアントにログインします。
2. エリア`/NEWR/INSTALL`メニューにアクセスして、データ プロバイダーのセットアップを開始します。
3. コマンド フィールドに`/n/NEWR/INSTALL`と入力して、エリア メニューを開始する前に、 **SAP Easy Access ルート メニュー**に移動します。

<Callout variant="tip">
  **SAP Easy Access ルートメニュー**にいるかどうか不明な場合は、 `/n`と入力して**Enter キー**を押します。
</Callout>

中央監視システムにアドオンを正常にインストールした後:

* インストーラに設定を実行するための適切な権限があることを確認してください。
* アドオン パッケージによって導入された新しいコードに注目してください。NRM4SAP**インストレーションと設定用のコード**にリストされています。
* インストーラーの`profile/role`内のコード認証オブジェクトにパラメーター`/NEWR/*`を追加します。

<Callout variant="tip">
  以前のバージョンからアップグレードする場合は、 [「以前のバージョンからのアップグレード」](/docs/sap-solutions/upgrade-from-a-previous-version/install-upgrade-package)を参照して、必要な手順を確認してください。
</Callout>

## システムを接続して設定を生成する [#connect-systems]

<Callout variant="important">
  設定がまだ完了していない場合は、インストール前に完了してください。
</Callout>

* **HTTP および RFC 宛先の設定**: このオプションを使用してトランザクション`SM59`を呼び出し、 [RFC](/docs/sap-solutions/additional-resources/detailed-configuration/#create-rfc-for-monitored-systems)および[HTTPS](/docs/sap-solutions/additional-resources/detailed-configuration/#set-http-destination-to-new-relic-cloud)接続を検証します。

* **リモート データベースへの接続の設定**:

  * SAP トランザクション**DBACOCKPIT**を使用して、リモート HANA データベースへの接続のセットアップを確認します。
  * 監視するリモート HANA データベースごとにデータベース接続が作成されていることを確認します。
  * 詳細な手順については、 [「データベース接続の作成」を](/docs/sap-solutions/additional-resources/detailed-configuration/#create-database-connection)参照してください。

  <img title="Configure New Relic" alt="A screenshot displaying the SAP install new release and patch" src="/images/configure-newrelic.webp" width="500" />

* **NR APIエンドポイントへの接続を構成する**:

  1. **New Entries**\[新しいエントリ]をクリックします。
  2. New Relic**アカウントの**<DNT>**New Relic Account ID**</DNT> (オプションで SAP- というプレフィックスが付きます)、 **API Ingest Key** 、**メトリクス**エンドポイント、イベント エンドポイント、**ログ エンドポイント**、およびNew Relic**ポイント**を入力します。
  3. クリック **保存**.

  <img title="New Entry" alt="A screenshot displaying the SAP HANA database new entry" src="/images/new-entry-1.webp" width="1000" />

* **クライアント000からテンプレートテーブルをコピー**: このオプションを実行すると、クライアント000からテーブルをコピーします。<img src="/images/new-relic-sap-clock.webp" class="inline" style={{height: "20px", width: "20px"}} alt="clock indicator in New Relic" title="Multiple apps name indicator in New Relic" />

  アイコンをクリックし、成功メッセージで成功を確認します。

* **モニター システムを定義する**: このオプションを使用してモニター システムを定義します。

  1. **「新規エントリ」**をクリックして、 **SAP システム ID**と**クライアント**番号を入力します。
  2. **Data Provider Installation Information**\[データ プロバイダー インストレーション情報]で、 RFC**Destination**\[宛先]を指定し、SAP**Software Component**\[ソフトウェア コンポーネント]を選択し、**Database Vendor**\[データベース ベンダー]を入力して、 **DB Connection Name**\[DB 接続名]\(HANA データベースのみ) を指定します。
  3. **Monitoring Group**\[監視グループ]をクリックし、ダイアログ ボックスで**Yes**\[はい]を選択して確認します。
  4. 必要な監視グループを選択し、<img src="/images/generate.webp" class="inline" style={{height: "25px", width: "50px"}} alt="generate icon in New Relic" title="Multiple apps name indicator in New Relic" />プロセスを完了します。
  5. 次の手順に進むには、 **BACK**または**F3**キーをクリックします。

  <img title="New Entry" alt="A screenshot displaying the SAP HANA database new entry" src="/images/details-of-added-entry.webp" width="600" />

<CollapserGroup>
  <Collapser id="sap-versions" title="SAPコンポーネントのバージョン">
    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            モニターグループ
          </th>

          <th>
            含まれるデータプロバイダー
          </th>

          <th>
            システムタイプに適用
          </th>

          <th>
            特記事項
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            ビジネスドキュメント
          </td>

          <td>
            ビジネスオブジェクトのドキュメント変更イベント
          </td>

          <td>
            ECCシステムとS/4 HANA
          </td>

          <td />
        </tr>

        <tr>
          <td>
            DB\_KPI
          </td>

          <td>
            可用性、スペースなど、データベースの主要なパフォーマンス指標。
          </td>

          <td>
            HANA データベースを除くすべてのシステム
          </td>

          <td />
        </tr>

        <tr>
          <td>
            HANA\_DB
          </td>

          <td>
            HANA データベース データ プロバイダーは HANA DB に直接接続します
          </td>

          <td>
            全HANAデータベース
          </td>

          <td>
            データベース接続が必要
          </td>
        </tr>

        <tr>
          <td>
            亭主
          </td>

          <td>
            CPU、メモリ、ディスク使用量などのホスト メトリクス
          </td>

          <td>
            すべてのABAPシステム
          </td>

          <td />
        </tr>

        <tr>
          <td>
            IDOC
          </td>

          <td>
            IDOCイベント
          </td>

          <td>
            ECCシステムとS/4 HANA
          </td>

          <td />
        </tr>

        <tr>
          <td>
            マックスDB
          </td>

          <td>
            メトリクス for MAXDB データベース
          </td>

          <td>
            MAXDBを搭載したシステム
          </td>

          <td />
        </tr>

        <tr>
          <td>
            MS\_SQL
          </td>

          <td>
            Microsoft SQL Server データベースのメトリクス
          </td>

          <td>
            Microsoft SQL Server を搭載したシステム
          </td>

          <td />
        </tr>

        <tr>
          <td>
            Oracle
          </td>

          <td>
            Oracle データベースのメトリクス
          </td>

          <td>
            Oracleデータベースを使用したシステム
          </td>

          <td />
        </tr>

        <tr>
          <td>
            SAP\_APPL
          </td>

          <td>
            イベント、ログ、メトリクス、トレース for SAP アプリケーション監視 (RFC、ジョブ、トランザクションなど)
          </td>

          <td>
            すべてのABAPシステム
          </td>

          <td />
        </tr>

        <tr>
          <td>
            SAP\_システム
          </td>

          <td>
            メトリクス for SAP システムやアプリケーションサーバーインスタンス、ユーザー、システムパフォーマンスなどの監視
          </td>

          <td>
            すべてのABAPシステム
          </td>

          <td />
        </tr>

        <tr>
          <td>
            カスタム
          </td>

          <td>
            顧客が追加したデータプロバイダー
          </td>

          <td />

          <td />
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

<Callout variant="tip">
  **Monitoring Groups**\[監視グループ]のリストを保守するには、**Expert Mode &gt; Installation Setups &gt; Monitoring Group Maintenance**に移動します。
</Callout>

* **Check RFC Destinations** : このメニュー オプションを使用して、「NONE」を除くすべての監視システムおよび NR APIエンドポイントの RFC 宛先をテストします。

* **新しいデータプロバイダーの設定を生成する**:

  * このメニュー オプションを使用して、新しいリリースまたはパッチのデータ プロバイダーを生成します。新しいインストレーションの場合、すべてのデータ プロバイダー (DP) が生成されます。
  * 最初の画面で、リリースとパッチの詳細を確認します。空のフィールドは、既存の設定を示します。
  * 再生成するには、 **「監視システムの保守」**の**「データプロバイダ設定の再生成」**を選択するか、 **「インストレーションフラグのリセット」(再インストールのみ)**を使用してインストレーションフラグをリセットし、設定を再生成します。

  <img title="Maintain Monitored Systems" alt="A screenshot displaying the SAP maintain monitored systems" src="/images/maintain-monitored-systems.webp" width="500" />

* **インストレーションの完全性を確認する**: **Verify Installation Completeness**\[インストレーションの完全性を確認]をクリックして、すべてが正しく構成されていることを確認します。 いずれかの項目に赤いインジケーターが表示されている場合は、**Action Needed**\[必要なアクション] 列の実行ボタンをクリックします。

## 設定確認

1. データ プロバイダーが正しく構成されていることを確認するには、**データ プロバイダー レジストリ メンテナンス**フォルダーを開きます。
2. **データ プロバイダー レジストリ**をクリックするか、トランザクション`/n/NEWR/REGISTRY`を使用します。
3. **Data Provider Name**\[データ プロバイダー名]を選択し、 **Configure**\[構成] をクリックして設定を確認します。
4. **TestDP**をクリックしてデータ プロバイダーをテストします。

<img title="Data Provider Registry" alt="A screenshot displaying the SAP data provider registry" src="/images/data-provider-registry-1.webp" width="1000" />