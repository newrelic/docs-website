---
title: Observabilité de New Relic eBPF
metaDescription: Learn how New Relic eBPF observability provides zero-code monitoring for your Linux hosts and Kubernetes clusters with kernel-level visibility.
tags:
  - Integrations
  - eBPF integration
  - eAPM
  - Linux host
  - Kubernetes cluster
freshnessValidatedDate: never
translationType: machine
---

/\* L&apos;observabilité New Relic eBPF vous aide à monitorer les réseaux et environnements modernes et complexes en fournissant une nouvelle couche de visibilité. ## Quelle valeur ajoutée apporte l&apos;agent eBPF ? \[#value] L&apos;observabilité New Relic eBPF offre une visibilité unifiée et sans code sur les environnements hôtes Kubernetes et Linux. Il utilise la technologie étendue Berkeley Packet Filter (eBPF) du noyau Linux pour fournir des informations détaillées automatisées et indépendantes du langage. Cette approche réduit les coûts opérationnels en éliminant le besoin d&apos;instrumentation manuelle ou de modifications de code. &lt;img style=\{\{ align: &apos;left&apos; }} title=&quot;Dashboard eBPF&quot; alt=&quot;Dashboard eBPF&quot; src=&quot;/images/ebpf-dashboard &quot; /&gt; ## Impact \[#impact] Vous pouvez obtenir une observabilité plus approfondie et résoudre les problèmes plus rapidement avec une surcharge de ressources minimale, en veillant à ce que monitoring n&apos;ait pas d&apos;impact sur les performances des applications. L&apos;agent fournit des détails uniques au niveau du noyau et du réseau pour une compréhension globale de la dynamique du système. \*/ /\* Le monitoring des applications modernes est difficile car elles s&apos;exécutent souvent sur infrastructure complexe et mixte, allant des clusters Kubernetes aux hôtes Linux traditionnels tels que les machines virtuelles et les instances cloud. À mesure que ces environnements évoluent, il devient plus difficile d&apos;obtenir une visibilité sur les performances sans une configuration manuelle importante. Un ingénieur doit savoir quelles applications sont exécutées dans son cluster et lesquelles sont à l&apos;origine d&apos;une dégradation des performances. Parfois, les performances des applications sont affectées par des problèmes d&apos; infrastructure sous-jacente que les propriétaires d&apos;applications ne peuvent pas résoudre uniquement avec des outils au niveau de l&apos;application. Imaginez que votre équipe gère un parc informatique diversifié : \* Vous devez dépanner rapidement, mais corréler la télémétrie des applications avec les informations détaillées infrastructure n&apos;est pas chose facile. \* De nouvelles charges de travail sont déployées, mais leur instrumentation représente un défi car vous ne possédez pas le code, l&apos;équipe de développement est externe ou vous ignorez tout simplement l&apos;existence du service. Dans les deux cas, vous avez besoin d&apos;une solution qui offre une visibilité étendue sur l&apos;ensemble de votre parc informatique sans nécessiter de connaissances préalables sur le langage ou l&apos;architecture de chaque application. L&apos;agent eBPF de New Relic répond à ces défis. Il s&apos;agit d&apos;un outil puissant et non intrusif conçu pour relever ces défis. Il exploite le filtre de paquets Berkeley étendu (eBPF), une technologie de pointe qui offre un moyen sûr et efficace d&apos;obtenir des informations détaillées directement à partir du noyau Linux. En utilisant cet agent eBPF, vous pouvez obtenir une vue unifiée et automatisée de l&apos;ensemble de votre parc Linux en collectant des données de télémétrie riches et de niveau de service directement depuis le noyau. Cette approche offre une visibilité approfondie sur toutes vos applications sans nécessiter de modifications de code. \*/ /\* ## Fonctionnalité clé \[#key-features] L&apos;agent New Relic eBPF est conçu pour fournir une observabilité complète de vos hôtes Linux et de votre cluster Kubernetes. Il offre une gamme de fonctionnalités qui vous aident à monitorer efficacement l&apos;état de santé de l&apos;ensemble de votre système : \* Instrumentation sans code pour obtenir une visibilité approfondie sur les performances des applications sans modifier le code de l&apos;application ni déployer d&apos;agents spécifiques au langage. Cette approche réduit les frais généraux opérationnels et accélère le retour sur investissement pour l&apos;ensemble de votre infrastructure. \* Découverte automatique des services pour identifier et cartographier en continu tous les services en cours d&apos;exécution et leurs dépendances. Cela permet de visualiser en temps réel l&apos;architecture de votre application. \* Dans Kubernetes, l&apos;agent utilise les informations de niveau de service du cluster pour fournir un contexte natif à vos applications. \* Sur les hôtes Linux, il déduit les noms de service à partir des variables d&apos;environnement ou des informations du processus sous-jacent, vous offrant ainsi une vue claire du comportement de l&apos;application. \* Télémétrie unifiée dans tous les environnements pour une visibilité cohérente sur l&apos;ensemble de votre parc informatique, que vous exécutiez des applications sur Kubernetes ou sur des hôtes Linux traditionnels. \* Analyse des performances du niveau de service pour obtenir des informations détaillées sur l&apos;interaction du service, le taux de requêtes, la latence et les erreurs. Cela vous aide à comprendre comment vos applications fonctionnent dans des scénarios réels. \* Visibilité indépendante du langage pour les applications de monitoring écrites dans n&apos;importe quel langage, qu&apos;il s&apos;agisse microservices modernes ou d&apos;applications legacy. Cela vous permet d&apos;utiliser un seul outil pour tous vos besoins monitoring. \* Faible surcharge de ressources pour minimiser l&apos;impact sur les performances du système tout en collectant des données télémétriques détaillées. Cela garantit que votre monitoring n&apos;interfère pas avec les performances des applications. \* Visibilité approfondie de l&apos;interaction du noyau et de l&apos;espace utilisateur pour fournir des informations détaillées sur la manière dont les applications interagissent avec le système sous-jacent. Cela vous aide à capturer et trace un événement en temps réel. \* Des métadonnées riches permettant de recueillir des informations détaillées sur le fonctionnement du système afin de faciliter le dépannage et l&apos;analyse des performances. \*/ /\* \`IMAGE nécessaire\` \*/ /\* ## Comment fonctionne l&apos;agent eBPF \[#how-it-works] L&apos;agent New Relic eBPF est déployé à l&apos;aide de charts Helm dans Kubernetes et à l&apos;aide d&apos;un package Debian/RPM sur les hôtes Linux. Il s&apos;exécute en tant que \`daemonset\` dans Kubernetes ou en tant que service système sur les hôtes Linux. Une fois installé, l&apos;agent détecte automatiquement tous les services et applications en cours d&apos;exécution dans votre environnement. Ces applications sont intégrées à l&apos;interface utilisateur APM et de service de New Relic sous l&apos;entité eBPF. L&apos;agent New Relic eBPF possède deux modes : \* \*\*Mode Découverte :\*\* Pour découvrir automatiquement les applications dans votre environnement sans monitoring active. Ce mode convient à la configuration initiale ou monitoring moins intrusive. \* Mode eAPM :\*\* Pour débloquer un niveau d&apos;observabilité plus profond en monitoring activement les applications et en collectant des métriques de bas niveau pour une compréhension globale de la dynamique du système. ## Comment eBPF complète APM \[#ebpf-apm] \*/

Les piles applicatives modernes comprennent des services hétérogènes et interconnectés s&apos;exécutant dans des environnements infrastructure mixtes, allant des clusters Kubernetes aux hôtes Linux traditionnels. Cette complexité engendre des difficultés fondamentales qui ralentissent le dépannage, telles que :

* **Écarts d&apos;observabilité entre l&apos;application et infrastructure:** monitoring des applications fournit des informations approfondies et détaillées sur les performances du code, tandis que monitoring de l&apos;infrastructure suit l&apos;état du système. Cependant, la couche réseau entre ces composants reste souvent invisible. Lors d&apos;un incident, déterminer si la cause première réside dans la logique de l&apos;application ou dans des problèmes liés au réseau nécessite des investigations supplémentaires.

* **Surcharge opérationnelle liée aux agents hétérogènes :** les environnements de microservices nécessitent souvent le déploiement de plusieurs agents de monitoring différents. Cela engendre une complexité opérationnelle, des conflits potentiels entre agents et exige des modifications et des redémarrages d&apos;applications, ce qui représente un point sensible important pour les équipes DevOps.

* **Données télémétriques cloisonnées :** après la collecte des données, la corrélation des logs d&apos;application avec l&apos;étendue du réseau et les mesures de infrastructure nécessite un travail manuel approfondi, conduisant à une observabilité incomplète et à une résolution tardive incident.

* **Contrôle limité de l&apos;équipe plateforme :** les ingénieurs plateforme manquent souvent de capacités ou d&apos;autorisations pour instrument facilement les applications sur l&apos;ensemble de leur infrastructure, tout en restant responsables de la fiabilité et des performances globales du site.

La solution d&apos;observabilité eBPF de New Relic répond à ces défis grâce à l&apos;unification et à la simplification. Notre agent unique, léger et indépendant du langage exploite la technologie eBPF pour obtenir des informations approfondies « de l&apos;extérieur vers l&apos;intérieur » détaillées directement à partir du noyau Linux.

## Fonctionnalité clé [#key-features]

* **Visibilité complète sans intrusion :** obtenez une observabilité complète des charges de travail nouvelles, legacy ou tierces sur les hôtes/conteneurs Kubernetes et Linux en cluster, quel que soit le langage de programmation.

* **Collecte de données unifiée :** Fonctionnant au niveau du noyau, notre agent unique collecte simultanément des données d&apos;observabilité, notamment les étendues d&apos;application, les logs, le trafic réseau et les métriques infrastructure, résolvant ainsi le problème des silos de données.

* **Déploiement simplifié :** en déplaçant l’observabilité dans le noyau, nous éliminons la nécessité de modifier les applications, simplifiant ainsi le déploiement dans les environnements riches en microservices sans nécessiter de redémarrages d’applications ni de modifications de code.

L&apos;agent eBPF unifié offre deux fonctionnalités puissantes et complémentaires :

* [APM alimenté par eBPF](#ebpf-apm)
* [Métriques du réseau eBPF](#ebpf-network-metrics)

## Cas d&apos;utilisation [#use-cases]

Cette solution répond à des défis critiques pour l&apos;ingénieur plateforme :

* **Dépannage plus rapide :** Corréler l&apos;application télémétrie avec les informations détaillées sur infrastructure et le réseau. Cela permet un diagnostic rapide des problèmes de performances, en particulier ceux qui proviennent du système sous-jacent.

* **Découverte automatique :** obtenez une observabilité automatisée sans aucune instrumentation. L&apos;agent eBPF identifie et cartographie en continu tous les services en cours d&apos;exécution et leurs dépendances, fournissant une vue architecturale en temps réel de la charge de travail nouvelle ou inconnue sans nécessiter de connaissance préalable du langage de l&apos;application.

* **monitoring unifiée :** applications de monitoring écrites dans n&apos;importe quel langage dans divers environnements. Cela vous donne une visibilité cohérente et une analyse des performances du niveau de service directement dans l&apos;interface utilisateur de New Relic.

## APM alimenté par eBPF (eAPM) [#ebpf-apm]

L&apos;APM basé sur eBPF (eAPM) est notre norme pour monitoring des applications sans code et indépendante du langage. Il détecte automatiquement tous les services exécutés sur vos hôtes ou nœuds Kubernetes et alimente l&apos;interface utilisateur de New Relic APM avec des données de performance. Cette fonctionnalité est idéale pour obtenir un inventaire complet de tous vos services, y compris ceux que vous ne pouvez pas instrument manuellement, tels que les charges de travail inconnues ou les applications tierces.

### Fonctionnalité clé

* **Découverte continue des services :** détecte et cartographie automatiquement tous les services applicatifs en cours d’exécution, offrant une vue en temps réel de votre architecture.
* **Instrumentation sans code :** offre une visibilité approfondie sur les performances des applications (y compris les données MELT) sans modifier le code de l&apos;application ni déployer d&apos;agents spécifiques au langage.
* **Prise en charge étendue des environnements :** Offre une prise en charge complète des hôtes Linux (diverses distributions) et des clusters Kubernetes, sur les architectures **x86 et ARM64**.
* **Suivi avancé transaction :** Prend en charge la liaison détaillée des segments pour les applications Java, décomposant les transactions en composants individuels (code d&apos;application, appels de données de base, appels de service externes) pour identifier les goulots d&apos;étranglement des performances. Ce niveau de visibilité n&apos;était auparavant disponible que par le biais d&apos;agents APM traditionnels.

### Cas d&apos;utilisation

* **Pour les ingénieurs de plateforme :** obtenez un inventaire immédiat et complet de tous les services exécutés sur votre plateforme, même ceux qui ne vous appartiennent pas ou qui ont été déployés à votre insu.
* **Pour les équipes dont la charge de travail est opaque :** monitorez instantanément les applications legacy, les binaires tiers ou les services écrits dans des langages dont vous ne pouvez pas (ou ne souhaitez pas) modifier le code.
* **Pour une couverture complète de l&apos;environnement :** complétez votre instrumentation APM existante en utilisant eAPM pour couvrir tous les services qui ne sont pas instrumentés manuellement, garantissant une visibilité à 100 %.

## Métriques du réseau eBPF [#ebpf-network-metrics]

<Callout title="Aperçu">
  Nous travaillons toujours sur cette fonctionnalité, mais nous aimerions que vous l&apos;essayiez !

  Cette fonctionnalité est actuellement fournie dans le cadre d&apos;un aperçu conformément à nos [politiques de pré-sortie](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy/). Il n&apos;est pas disponible pour les clients soumis aux réglementations HIPAA ou FedRAMP.
</Callout>

Les indicateurs de réseau eBPF offrent une visibilité approfondie sur la communication réseau de vos applications. Il capture des données de télémétrie TCP, IP et DNS granulaires directement depuis le noyau, résolvant ainsi une source majeure de problèmes de performances des applications. Cette fonctionnalité est complémentaire à l&apos;APM (eAPM et APM traditionnel) et fonctionne indépendamment pour vous donner une image complète de l&apos;état de la communication de votre application, vous aidant ainsi à répondre définitivement à la question : « Est-ce l&apos;application ou le réseau ? »

### Flexibilité de déploiement

* **Pour les clients New Relic APM existants :** vous pouvez activer les métriques réseau eBPF en parallèle de vos agents APM existants afin d’obtenir une visibilité au niveau de la couche réseau sans perturber l’instrumentation actuelle. L&apos;agent eBPF fonctionne en mode réseau uniquement, complétant vos données APM avec des informations réseau détaillées au niveau du noyau.

* **Pour monitoring complète :** déployez l&apos;agent eBPF complet avec les capacités eAPM et de métriques réseau pour une observabilité complète sur les couches application, infrastructure et réseau.

Pour visualiser les métriques du réseau, reportez-vous à la documentation [réseau-métriques](/docs/ebpf/network-metrics/).

### Fonctionnalité clé

* **Données réseau contextuelles des applications :** toutes les métriques réseau sont automatiquement corrélées à l’application, au service et au processus spécifiques qui les ont initiées, ce qui facilite le dépannage.

* **Monitoring DNS granulaire :** suit les échecs de résolution DNS et signale le nom de domaine pleinement qualifié (FQDN) associé.

* **Analyse détaillée de la connexion TCP :** mesure l’état et la latence de la connexion, notamment :

  * **Poignée de main :** latence de la poignée de main en trois étapes et nombre de succès/échecs.
  * **État de la connexion :** durée de la connexion, durée de transmission des données et nombre de paquets SYN, ACK, FIN et RST.
  * **Erreurs :** Détecte des fermetures de connexion anormales.

* **Informations IP détaillées au niveau des paquets :** identifie les pertes de paquets et les opportunités d’optimisation du réseau grâce à monitoring:

  * Octets envoyés et reçus
  * Paquet retransmis / rejeté
  * latence de livraison des paquets

### Cas d&apos;utilisation

* **Dépannage slow external appel d&apos;API:** When applications show degraded temps de réponse to external services, network métriques help identify whether the problem from the problem from TCP handshake delays, packet loss, or retransmission problems rather than application logic.
* **Analyse des causes profondes de la dégradation des performances :** corréler les problèmes de performances des applications avec les problèmes de la couche réseau en examinant l’état de la connexion TCP, la latence de livraison des paquets et les changements d’état de la connexion.
* **Monitoring des communications inter-services :** monitorez l&apos;état de la communication entre microservices sur l&apos;ensemble de votre cluster, en identifiant la congestion du réseau ou les problèmes de routage entre les services.
* **Dépannage des dépendances externes :** Identifiez rapidement quand les problèmes de performance proviennent de points de terminaison d&apos;API externes ou de services tiers en analysant les modèles de réseau sortant et la qualité de la connexion.

## Comment configurer l&apos;agent eBPF [#setup]

Vous pouvez configurer l&apos;agent New Relic eBPF sur votre hôte Linux ou votre cluster Kubernetes.

<Steps>
  <Step>
    Assurez-vous que votre environnement réponde à nos [exigences de compatibilité](/docs/ebpf/requirements).

    * [Exigences Linux](/docs/ebpf/requirements#linux)
    * [exigences de Kubernetes](/docs/ebpf/requirements#k8s)
  </Step>

  <Step>
    En fonction de votre environnement, suivez le guide d&apos;installation approprié :

    * [Guide d&apos;installation de Linux](/docs/ebpf/linux-installation/)
    * [Guide d&apos;installation de Kubernetes](/docs/ebpf/k8s-installation/)
  </Step>

  <Step>
    ### Retrouvez vos données dans New Relic [#data]

    Une fois l&apos;agent eBPF installé, il commence automatiquement à collecter les données de votre hôte Linux. Vous pouvez accéder à ces données dans l&apos;interface utilisateur OpenTelemetry de New Relic. Pour plus d&apos;informations sur l&apos;interface utilisateur New Relic OpenTelemetry, reportez-vous [à l&apos;interface utilisateur OpenTelemetry APM](/docs/opentelemetry/get-started/apm-monitoring/opentelemetry-apm-ui).
  </Step>
</Steps>

## Articles connexes [#related-articles]

<DocTiles>
  <DocTile title="Compatibilité et exigences" path="/docs/ebpf/requirements/">
    Découvrez les exigences de compatibilité d&apos;agent de New Relic eBPF, la base de données prise en charge, la plateforme et les capacités d&apos;interrogation.
  </DocTile>

  <DocTile title="Installation eBPF Kubernetes" path="/docs/ebpf/k8s-installation/">
    Découvrez comment configurer l&apos;agent New Relic eBPF pour votre cluster Kubernetes.
  </DocTile>

  <DocTile title="Installation Linux eBPF" path="/docs/ebpf/linux-installation/">
    Découvrez comment configurer l&apos;agent New Relic eBPF pour votre hôte Linux.
  </DocTile>
</DocTiles>