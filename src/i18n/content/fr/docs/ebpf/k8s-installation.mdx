---
title: Installer l'agent New Relic eBPF pour Kubernetes
metaDescription: Learn how to install and configure the New Relic eBPF agent for your Kubernetes cluster using Helm charts.
tags:
  - New Relic integrations with eBPF
  - New Relic eBPF agent
  - eBPF integration
  - eAPM
  - Kubernetes cluster
  - New Relic eBPF agent for Kubernetes
freshnessValidatedDate: never
translationType: machine
---

Vous pouvez installer l&apos;agent New Relic eBPF sur votre cluster Kubernetes pour monitorer l&apos;ensemble de la santé de votre système. L&apos;agent eBPF offre une visibilité approfondie sur les performances des applications sans nécessiter de modifications de code ni de déploiement d&apos;agents spécifiques au langage.

## Installer l&apos;agent New Relic eBPF

<Steps>
  <Step>
    ### Avant de commencer [#requirements]

    Vous devez satisfaire aux prérequis décrits dans la documentation [relative à la compatibilité et aux exigences eBPF](/docs/ebpf/requirements#k8s) pour le cluster Kubernetes.
  </Step>

  <Step>
    ### Installer l&apos;agent eBPF [#install]

    Pour installer l&apos;agent eBPF :

    1. connectez-vous à votre compte New Relic.

    2. Accédez au **[volet de navigation de gauche &gt; + Integration &amp; Agents &gt; eBPF Agent](https://onenr.io/0oR8XWW36RG)**.

    3. Sur l&apos;écran Sélectionner un compte, sélectionnez le compte sur lequel vous souhaitez installer l&apos;agent eBPF, puis cliquez sur **Continuer**.

    4. Sur la page Sélectionner une méthode d’installation, sélectionnez **Kubernetes** et cliquez sur **Continue**.

    5. Sur l&apos;écran Saisissez votre clé utilisateur, sélectionnez l&apos;une des options suivantes, puis cliquez sur **Continue**:

       * **Utiliser une clé existante**: Si vous disposez déjà d’une clé utilisateur, fournissez la clé utilisateur. Pour plus d&apos;informations, reportez-vous à [Clés utilisateur](/docs/apis/intro-apis/new-relic-api-keys/#user-key).
       * **Créer une nouvelle clé**: Si vous n’avez pas de clé utilisateur, cliquez sur **Create a new key** pour en créer une.

    6. Sur l’écran Configurer l’intégration Kubernetes :

       1. Saisissez le nom de déploiement pour Kubernetes.
       2. (Facultatif) Saisissez l&apos;espace de nommage pour l&apos;intégration. L&apos;espace de nommage par défaut est `newrelic`.
       3. Cliquez sur **Continue**.

       <Callout variant="tip">
         Si vous choisissez un espace de nommage personnalisé pour votre instrumentation New Relic (au lieu de l&apos;espace de nommage par défaut `newrelic`), nous vous recommandons d&apos;exclure cet espace de nommage de monitoring en l&apos;ajoutant au paramètre configuration `dropDataForNamespaces`. Cela empêche l&apos;agent eBPF de monitoring lui-même le module d&apos;instrumentation. Par exemple, si vous utilisez `newrelic-mon` comme espace de nommage, définissez : `dropDataForNamespaces: ["kube-system", "newrelic-mon"]`.
       </Callout>

    7. Sur l&apos;écran Installer l&apos;intégration Kubernetes :

       1. Copiez et collez la commande affichée pour installer l&apos;agent eBPF sur votre cluster Kubernetes à l&apos;aide de Helm.

       2. (Facultatif) Pour télécharger le fichier de configuration `values.yaml`, cliquez sur **Download**. Pour en savoir plus sur les paramètres de configuration, reportez-vous à [Paramètres de configuration K8s](#config-params).

       3. (Facultatif) Mettez à jour le fichier `values.yaml` selon vos besoins et enregistrez-le.

       4. (Facultatif) Pour appliquer les modifications de configuration, exécutez la commande suivante :

          ```bash
              helm repo update ; helm upgrade --install nr-ebpf-agent newrelic/nr-ebpf-agent -n newrelic --values values.yaml
          ```

       5. Pour vérifier l’installation, exécutez la commande suivante :

          ```bash
              kubectl get pods -n newrelic
          ```
  </Step>

  <Step>
    ### Accéder aux données eBPF dans New Relic [#access-data]

    Une fois l&apos;agent eBPF installé, il commence automatiquement à collecter les données de votre hôte Linux. Vous pouvez accéder à ces données dans l&apos;interface utilisateur OpenTelemetry de New Relic. Pour plus d&apos;informations sur l&apos;interface utilisateur New Relic OpenTelemetry, reportez-vous [à l&apos;interface utilisateur OpenTelemetry APM](/docs/opentelemetry/get-started/apm-monitoring/opentelemetry-apm-ui).

    **Pour afficher les données eBPF dans New Relic :**

    1. Accédez à **[one.newrelic.com](https://one.newrelic.com) &gt; APM &amp; Services**.
    2. Dans la bannière de recherche, définissez les critères de recherche sur `instrumentation.name = nr_ebpf`:
       <img style={{ align: 'left' }} title="eBPF filters" alt="eBPF filter for eBPF data in New Relic OpenTelemetry UI" src="/images/ebpf_filters.webp" />
  </Step>
</Steps>

/\* Une fois votre application instrumentée et configurée pour exporter des données vers New Relic, vous devriez pouvoir trouver vos données dans l&apos;interface utilisateur de New Relic : \* Trouvez votre entité dans &lt;DNT&gt;\*\*Toutes les entités &gt; Services - OpenTelemetry&lt;/DNT&gt;. Le nom de l&apos;entité est défini sur la valeur du « service.name » de l&apos;application attribut de ressource. Pour plus d&apos;informations sur la façon dont les entités de service New Relic sont dérivées de l&apos;attribut de ressource OpenTelemetry, voir \[Services]\(/docs/OpenTelemetry/bonnes pratiques/OpenTelemetry-bonnes pratiques-resources/#services). \* Utilisez \[NRQL]\(/docs/NRQL/get-started/introduction-NRQL (langage de requête New Relic)/) pour effectuer une requête directement pour \[trace]\(https\://one.newrelic.com/launcher/nr1-core.explorer?overlay=eyJuZXJkbGV0SWQiOiJkYXRhLWV4cGxvcmF0aW9uLnF1ZXJ5LWJ1aWxkZXIiLCJpbml0aWFsQWN0aXZlSW50ZXJmYWNlIjoibnJxbEVkaXRvciIsImluaXRpYWxOcnFsVmFsdWUiOiIiLCJpbml0aWFsUXVlcmllcyI6W3sibnJxbCI6IkZST00gU3BhbiBTRUxFQ1QgY291bnQoKikgd2hlcmU gbmV3cmVsaWMuc291cmNlPSclb3RscCUnIFRJTUVTRVJJRVMifV0sImluaXRpYWxDaGFydFNldHRpbmdzIjp7ImNoYXJ0VHlwZSI6IkNIQVJUX0xJTkUiLCJsaW1pdCI6NzU0MiwibGlua2VkRW50aXR5R3VpZCI6bnVsbCwibGlua2VkRGFzaGJvYXJkSWQiOm51bGwsInlTY2FsZSI6eyJzdGF0aWMiOmZhbHNlLCJkb21haW4iOltudWxsLG51bGxdfSwieVplcm8iOnRydWV9fQo=), \[métriques]\(https\://one.newrelic.com/launcher/nr1-core.explorer?overlay=eyJuZXJkbGV0SWQiOiJkYXRhLWV4cGxvcmF0aW9uLnF1ZXJ5LWJ1aWxkZXIiLCJpbml0aWFsQWN0aXZlSW50ZXJmYWNlIjoibnJxbEVkaXRvciIsImluaXRpYWxOcnFsVmFsdWUiOiIiLCJpbml0aWFsUXVlcmllcyI6W3sibnJxbCI6IkZST00gTWV0cmljIFNFTEVDVCBjb3VudCgqKSB3aGVyZS BuZXdyZWxpYy5zb3VyY2UgTElLRSAnJW90bHAlJyBUSU1FU0VSSUVTIn1dLCJpbml0aWFsQ2hhcnRTZXR0aW5ncyI6eyJjaGFydFR5cGUiOiJDSEFSVF9MSU5FIiwibGltaXQiOjc1NDIsImxpbmtlZEVudGl0eUd1aWQiOm51bGwsImxpbmtlZERhc2hib2FyZElkIjpudWxsLCJ5U2NhbGUiOnsic3RhdGljIjpmYWxzZSwiZG9tYWluIjpbbnVsbCxudWxsXX0sInlaZXJvIjp0cnVlfX0K), et \[logs]\(https\://one.newrelic.com/launcher/nr1-core.explorer?overlay=eyJuZXJkbGV0SWQiOiJkYXRhLWV4cGxvcmF0aW9uLnF1ZXJ5LWJ1aWxkZXIiLCJpbml0aWFsQWN0aXZlSW50ZXJmYWNlIjoibnJxbEVkaXRvciIsImluaXRpYWxOcnFsVmFsdWUiOiIiLCJpbml0aWFsUXVlcmllcyI6W3sibnJxbCI6IkZST00gTG9nIFNFTEVDVCBjb3VudCgqKSB3aGVyZSBu ZXdyZWxpYy5zb3VyY2U9JyVvdGxwJScgVElNRVNFUklFUyJ9XSwiaW5pdGlhbENoYXJ0U2V0dGluZ3MiOnsiY2hhcnRUeXBlIjoiQ0hBUlRfTElORSIsImxpbWl0Ijo3NTQyLCJsaW5rZWRFbnRpdHlHdWlkIjpudWxsLCJsaW5rZWREYXNoYm9hcmRJZCI6bnVsbCwieVNjYWxlIjp7InN0YXRpYyI6ZmFsc2UsImRvbWFpbiI6W251bGwsbnVsbF19LCJ5WmVybyI6dHJ1ZX19Cg==). \* Voir \[OpenTelemetry APM UI]\(/docs/OpenTelemetry/get-started/apm-monitoring/OpenTelemetry-apm-ui) pour plus d&apos;informations. Si vous ne trouvez pas votre entité et ne voyez pas vos données avec NRQL, voir \[OTLP dépannage]\(/docs/OpenTelemetry/bonnes pratiques/OpenTelemetry-otlp-dépannage). Vous pouvez trouver les données collectées par l&apos;agent eBPF dans l&apos;interface utilisateur New Relic Opentelementry. \*/

## Mettre à niveau l&apos;agent eBPF [#upgrade]

Pour mettre à niveau l&apos;agent eBPF dans un cluster Kubernetes :

* **Pour une mise à niveau standard**: utilisez la commande Helm suivante pour passer à la dernière version :

```bash
KSM_IMAGE_VERSION="v2.13.0" && helm repo add newrelic https://helm-charts.newrelic.com && helm repo update && kubectl create namespace "newrelic" ; helm upgrade --install nr-ebpf-agent newrelic/nr-ebpf-agent --set licenseKey=<key> --set cluster="<cluster-name>" --namespace=newrelic
```

* **Pour une mise à niveau vers une version spécifique :** Pour effectuer une mise à niveau vers une version spécifique, utilisez l’indicateur `--version` :

```bash
KSM_IMAGE_VERSION="v2.13.0" && helm repo add newrelic https://helm-charts.newrelic.com && helm repo update && kubectl create namespace "newrelic" ; helm upgrade --install nr-ebpf-agent newrelic/nr-ebpf-agent --set licenseKey=<key> --set cluster="<cluster-name>" --namespace=newrelic --version=0.2.5
```

Remplacez `<key>` par votre clé de licence New Relic et `<cluster-name>` par le nom de votre cluster.

## Paramètres de configuration [#config-params]

Le fichier [`values.yaml`](https://github.com/newrelic/helm-charts/blob/master/charts/nr-ebpf-agent/values.yaml) contient les sections de configuration suivantes :

<CollapserGroup>
  <Collapser id="general-configuration" title="configurationgénérale">
    Ces paramètres contrôlent l’identité principale et la destination des données de l’agent eBPF.

    <table>
      <thead>
        <tr>
          <th>
            paramètres
          </th>

          <th>
            Description
          </th>

          <th>
            Type de données
          </th>

          <th>
            Exemple
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `cluster`
          </td>

          <td>
            Spécifie le nom de votre cluster Kubernetes. Ce champ est obligatoire.
          </td>

          <td>
            `String`
          </td>

          <td>
            `"production-cluster"`
          </td>
        </tr>

        <tr>
          <td>
            `licenseKey`
          </td>

          <td>
            Spécifie votre clé de licence New Relic. Obligatoire si 

            `customSecretName`

             n&apos;est pas utilisé.
          </td>

          <td>
            `String`
          </td>

          <td>
            `"8356...FFFFNRAL"`
          </td>
        </tr>

        <tr>
          <td>
            `nrStaging`
          </td>

          <td>
            Si 

            `true`

            , envoie des données à l&apos;environnement de simulation de New Relic.
          </td>

          <td>
            `Boolean`
          </td>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <td>
            `customSecretName`
          </td>

          <td>
            Spécifie le nom d’un secret Kubernetes qui contient votre clé de licence. Utilisez ceci pour éviter de fournir la clé directement.
          </td>

          <td>
            `String`
          </td>

          <td>
            `"newrelic-license-secret"`
          </td>
        </tr>

        <tr>
          <td>
            `customSecretLicenseKey`
          </td>

          <td>
            Spécifie la clé dans le secret où la valeur de la clé de licence est stockée. Utilisé avec 

            `customSecretName`

            .
          </td>

          <td>
            `String`
          </td>

          <td>
            `"license"`
          </td>
        </tr>

        <tr>
          <td>
            `region`
          </td>

          <td>
            Spécifie la région de votre compte New Relic (

            `US`

             ou 

            `EU`

            ). Obligatoire lors de l&apos;utilisation 

            `customSecretName`

            .
          </td>

          <td>
            `String`
          </td>

          <td>
            `"US"`
          </td>
        </tr>

        <tr>
          <td>
            `logLevel`
          </td>

          <td>
            Définit le niveau de verbosité de la logging pour l&apos;agent. Options valides : 

            `OFF`

            , 

            `FATAL`

            , 

            `ERROR`

            , 

            `WARNING`

            , 

            `INFO`

            , 

            `DEBUG`

            .
          </td>

          <td>
            `String`
          </td>

          <td>
            `"INFO"`
          </td>
        </tr>

        <tr>
          <td>
            `logFilePath`
          </td>

          <td>
            Spécifie un chemin de fichier à l&apos;intérieur du conteneur de l&apos;agent pour la sortie de log. Si le chemin n&apos;est pas valide, les logs sont dirigés vers stdout.
          </td>

          <td>
            `String`
          </td>

          <td>
            `"/var/log/nr-ebpf-agent.log"`
          </td>
        </tr>

        <tr>
          <td>
            `downloadedPackagedHeadersPath`
          </td>

          <td>
            Définit le chemin absolu du répertoire complet où les en-têtes Linux requis sont téléchargés manuellement et placés pour que l&apos;agent eBPF puisse les utiliser. Ceci est utile dans les environnements restreints où l&apos;agent n&apos;est pas en mesure de télécharger les en-têtes Linux requis. Les en-têtes requis sont identifiés par l&apos;agent en fonction de la version du noyau. Le chemin absolu dans le cas de K8 doit également être précédé de /hôte si nécessaire. Utiliser uniquement après recommandation du support NR.
          </td>

          <td>
            `String`
          </td>

          <td>
            `"/path/to/downloaded/headers/dir"`
          </td>
        </tr>

        <tr>
          <td>
            `distroKernelHeadersPath`
          </td>

          <td>
            Définit le chemin absolu du répertoire complet où les en-têtes Linux sont présents pour que l&apos;agent eBPF les utilise. Ceci est utile lorsque les en-têtes Linux requis n&apos;ont pas pu être installés ou que le chemin n&apos;a pas pu être déterminé. Le chemin absolu dans le cas de K8 doit également être précédé de /hôte si nécessaire. Utiliser uniquement après recommandation du support NR.
          </td>

          <td>
            `String`
          </td>

          <td>
            `"/host/usr/src/linux-headers-6.8.0-pl"`
          </td>
        </tr>

        <tr>
          <td>
            `tableStoreDataLimitMB`
          </td>

          <td>
            Définit la limite de mémoire en mégaoctets (Mio) pour le magasin de données interne de l&apos;agent. Il s’agit du contrôle principal de l’utilisation de la RAM.
          </td>

          <td>
            `String`
          </td>

          <td>
            `"250"`
          </td>
        </tr>

        <tr>
          <td>
            `apmDataReporting`
          </td>

          <td>
            Activez le reporting APM des données. Lorsqu&apos;il est activé, l&apos;agent collecte et transmet les données monitoring des performances des applications.
          </td>

          <td>
            `Boolean`
          </td>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <td>
            `networkMetricsReporting`
          </td>

          <td>
            Activer la génération de rapports de métriques réseau. Lorsqu&apos;il est activé, l&apos;agent collecte et rapporte les métriques réseau, y compris les statistiques TCP. Ce champ est renommé à partir de 

            `tcpStatsReporting`

            . L’ancien nom est obsolète, mais reste pris en charge pour la compatibilité descendante.
          </td>

          <td>
            `Boolean`
          </td>

          <td>
            `true`
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="all-data-filters" title="Tous les filtres de données">
    Cette section configure les filtres pour supprimer tous les types de métriques réseau et de données APM en fonction de la configuration fournie.

    <table>
      <thead>
        <tr>
          <th>
            paramètres
          </th>

          <th>
            Description
          </th>

          <th>
            Type de données
          </th>

          <th>
            Exemple
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `allDataFilters.dropNewRelicBundle`
          </td>

          <td>
            Supprimez les données des services newrelic 

            `namespace`

             et 

            `newrelic-bundle`

            . Ce champ est renommé à partir de 

            `dropDataNewRelic`

            . L&apos;ancien nom est obsolète mais reste pris en charge pour la compatibilité descendante.
          </td>

          <td>
            `Boolean`
          </td>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <td>
            `allDataFilters.dropNamespaces`
          </td>

          <td>
            Liste des espaces de noms Kubernetes pour lesquels toutes les données doivent être supprimées par l&apos;agent. Ce champ est renommé à partir de 

            `dropDataForNamespaces`

            . L&apos;ancien nom est obsolète mais reste pris en charge pour la compatibilité descendante.
          </td>

          <td>
            `List`
          </td>

          <td>
            `["kube-system"]`
          </td>
        </tr>

        <tr>
          <td>
            `allDataFilters.dropServiceNameRegex`
          </td>

          <td>
            Définissez une expression régulière pour faire correspondre les noms des services k8s à supprimer. Par exemple 

            `"kube-dns|otel-collector|\\bblah\\b"`

             Ce champ est renommé à partir de 

            `dropDataServiceNameRegex`

            . L&apos;ancien nom est obsolète, mais reste pris en charge pour la compatibilité descendante.
          </td>

          <td>
            `String`
          </td>

          <td>
            `""`
          </td>
        </tr>

        <tr>
          <td>
            `allDataFilters.keepServiceNameRegex`
          </td>

          <td>
            Cette configuration agit comme une dérogation pour la configuration 

            `dropServiceNameRegex`

            . Les noms de service qui correspondent à cette expression régulière ne verront pas leurs données supprimées par le 

            `dropServiceNameRegex`

            . Ce champ est renommé à partir de 

            `allowServiceNameRegex`

            . L’ancien nom est obsolète, mais reste pris en charge pour la compatibilité descendante.
          </td>

          <td>
            `String`
          </td>

          <td>
            `""`
          </td>
        </tr>

        <tr>
          <td>
            `allDataFilters.dropApmAgentEnabledEntity`
          </td>

          <td>
            Supprimer toutes les données des applications ou des entités qui ont des agents NewRelic ou OTEL APM en cours d&apos;exécution.
          </td>

          <td>
            `Boolean`
          </td>

          <td>
            `false`
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="apm-data-filters" title="Filtres de données APM">
    Configurer les filtres pour supprimer les données APM ebpf en fonction de la configuration fournie

    <table>
      <thead>
        <tr>
          <th>
            paramètres
          </th>

          <th>
            Description
          </th>

          <th>
            Type de données
          </th>

          <th>
            Exemple
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `apmDataFilters.dropEapmForApmEnabledEntity`
          </td>

          <td>
            Supprimer les données APM eBPF pour les applications/entités qui ont des agents NewRelic APM/OTel en cours d&apos;exécution.
          </td>

          <td>
            `Boolean`
          </td>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <td>
            `apmDataFilters.dropPodLabels`
          </td>

          <td>
            Labels de pod à faire correspondre pour filtrer les données APM. Une carte vide signifie aucun filtrage basé sur les labels. Par exemple : dropPodLabels : 

            `{ "app": "frontend", "env": "production" }`
          </td>

          <td>
            `String`
          </td>

          <td>
            `{}`
          </td>
        </tr>

        <tr>
          <td>
            `apmDataFilters.dropEntityName`
          </td>

          <td>
            Liste des noms d’entités à supprimer des données eBPF APM
          </td>

          <td>
            `List`
          </td>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <td>
            `apmDataFilters.keepEntityName`
          </td>

          <td>
            Liste des noms d&apos;entités pour toujours conserver les données APM. Par défaut, toutes les entités sont conservées/activées. Cette configuration contourne le filtre 

            `dropEntityName`

            .
          </td>

          <td>
            `List`
          </td>

          <td>
            `[]`
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="network-metric-data-filters" title="Filtres de données des métriques réseau">
    Configurer les filtres pour supprimer/conserver les données des métriques réseau en fonction de la configuration fournie

    <table>
      <thead>
        <tr>
          <th>
            paramètres
          </th>

          <th>
            Description
          </th>

          <th>
            Type de données
          </th>

          <th>
            Exemple
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `networkMetricsDataFilter.dropPodLabels`
          </td>

          <td>
            Labels de pod à faire correspondre pour filtrer les données des métriques réseau. Une carte vide signifie aucun filtrage basé sur les labels. Par exemple : dropPodLabels : 

            `{ "app": "frontend", "env": "production" }`
          </td>

          <td>
            `String`
          </td>

          <td>
            `{}`
          </td>
        </tr>

        <tr>
          <td>
            `networkMetricsDataFilter.dropEntityName`
          </td>

          <td>
            Liste des noms d’entités pour supprimer les données des métriques réseau.
          </td>

          <td>
            `List`
          </td>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <td>
            `networkMetricsDataFilter.keepEntityName`
          </td>

          <td>
            Liste des noms d&apos;entités pour toujours conserver les données des métriques réseau. Par défaut, toutes les entités sont conservées/activées. Cette configuration contourne le filtre 

            `dropEntityName`

            .
          </td>

          <td>
            `List`
          </td>

          <td>
            `[]`
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="protocol-tracing" title="configurationdu tracing du protocole">
    Cette section vous permet d&apos;activer monitoring de protocoles réseau spécifiques et de configurer la manière dont les données trace (étendues) sont collectées. Vous pouvez activer ou désactiver monitoring des protocoles tels que HTTP, MySQL et autres, et définir des paramètres pour la collecte de span en fonction de la latence ou du taux d&apos;erreur. Les protocoles suivants sont pris en charge :

    * HTTP
    * MySQL
    * PostgreSQL
    * MongoDB
    * Apache Cassandra
    * Redis
    * DynamoDB
    * MSSQL
    * Kafka
    * AMQP
    * DNS

    <table>
      <thead>
        <tr>
          <th>
            paramètres
          </th>

          <th>
            Description
          </th>

          <th>
            Type de données
          </th>

          <th>
            Exemple
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `protocols.global.max_unlinked_spans`
          </td>

          <td>
            Contrôle le nombre maximal de spans non liés signalés par protocole. Définir sur 0 pour désactiver la limite
          </td>

          <td>
            `String`
          </td>

          <td>
            `"100"`
          </td>
        </tr>

        <tr>
          <td>
            `protocols.<protocol-name>.enabled`
          </td>

          <td>
            Si 

            `true`

            , active monitoring du protocole spécifié, par exemple, 

            `http`

            , 

            `mysql`

             et tout autre.
          </td>

          <td>
            `Boolean`
          </td>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <td>
            `protocols.<protocol-name>.spans.enabled`
          </td>

          <td>
            Si 

            `true`

            , exporte les étendues de trace pour le protocole activé.
          </td>

          <td>
            `Boolean`
          </td>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <td>
            `protocols.<protocol-name>.spans.samplingLatency`
          </td>

          <td>
            Définit le seuil d&apos;échantillonnage basé sur la latence pour l&apos;exportation des étendues. Options valides : 

            `p1`

            , 

            `p10`

            , 

            `p50`

            , 

            `p90`

            , 

            `p99`

            .
          </td>

          <td>
            `String`
          </td>

          <td>
            `"p50"`
          </td>
        </tr>

        <tr>
          <td>
            `protocols.http.spans.samplingErrorRate`
          </td>

          <td>
            Pour HTTP uniquement. Les exportations s&apos;étendent à partir de n&apos;importe quel itinéraire où le taux d&apos;erreur dépasse le pourcentage spécifié (1-100).
          </td>

          <td>
            `String`
          </td>

          <td>
            `"5"`
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="daemonset-configs" title="Configuration de DaemonSet">
    Ces sections contrôlent les paramètres de déploiement des principaux composants de la solution. Un astérisque `(*)` indique le nom du composant.

    <table>
      <thead>
        <tr>
          <th>
            paramètres
          </th>

          <th>
            Description
          </th>

          <th>
            Type de données
          </th>

          <th>
            Exemple
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `*.image.repository`
          </td>

          <td>
            Spécifie le référentiel d’images de conteneur pour le composant.
          </td>

          <td>
            `String`
          </td>

          <td>
            `"docker.io/newrelic/newrelic-ebpf-agent"`
          </td>
        </tr>

        <tr>
          <td>
            `*.image.pullPolicy`
          </td>

          <td>
            Définit la politique d&apos;extraction pour l&apos;image du conteneur.
          </td>

          <td>
            `String`
          </td>

          <td>
            `"IfNotPresent"`
          </td>
        </tr>

        <tr>
          <td>
            `*.image.tag`
          </td>

          <td>
            Spécifie la tag de version de l&apos;image conteneur à déployer.
          </td>

          <td>
            `String`
          </td>

          <td>
            `"agent-0.2.4"`
          </td>
        </tr>

        <tr>
          <td>
            `*.resources.limits.memory`
          </td>

          <td>
            Définit la mémoire maximale que le conteneur peut utiliser.
          </td>

          <td>
            `String`
          </td>

          <td>
            `"2Gi"`
          </td>
        </tr>

        <tr>
          <td>
            `*.resources.limits.cpu`
          </td>

          <td>
            Définit le CPU maximal que le conteneur peut utiliser.
          </td>

          <td>
            `String`
          </td>

          <td>
            `"1"`
          </td>
        </tr>

        <tr>
          <td>
            `*.resources.requests.memory`
          </td>

          <td>
            Définit la mémoire minimale demandée pour le conteneur au démarrage.
          </td>

          <td>
            `String`
          </td>

          <td>
            `"250Mi"`
          </td>
        </tr>

        <tr>
          <td>
            `*.resources.requests.cpu`
          </td>

          <td>
            Définit le CPU minimum demandé pour le conteneur au démarrage.
          </td>

          <td>
            `String`
          </td>

          <td>
            `"100m"`
          </td>
        </tr>

        <tr>
          <td>
            `*.tolerations`
          </td>

          <td>
            Définit les tolérances de pod pour permettre la planification sur des nœuds avec des souillures spécifiques.
          </td>

          <td>
            `Objects`
          </td>

          <td>
            `[{"key": "special", "operator": "Exists"}]`
          </td>
        </tr>

        <tr>
          <td>
            `*.affinity`
          </td>

          <td>
            Définit les règles d&apos;affinité et d&apos;anti-affinité pod pour la planification.
          </td>

          <td>
            `Object`
          </td>

          <td>
            `{}`
          </td>
        </tr>

        <tr>
          <td>
            `*.podAnnotations`
          </td>

          <td>
            Spécifie les annotations personnalisées à ajouter au pod du composant.
          </td>

          <td>
            `Object`
          </td>

          <td>
            `{"iam.amazonaws.com/role": "my-role"}`
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="global-pod-scheduling" title="configurationglobale pod et de la planification">
    Ces paramètres s&apos;appliquent à tous les pods déployés par le graphique Helm, sauf s&apos;ils sont remplacés par un paramètre spécifique au composant.

    <table>
      <thead>
        <tr>
          <th>
            paramètres
          </th>

          <th>
            Description
          </th>

          <th>
            Type de données
          </th>

          <th>
            Exemple
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `podLabels`
          </td>

          <td>
            Spécifie des étiquettes supplémentaires à appliquer à tous les pods déployés par le graphique.
          </td>

          <td>
            `Object`
          </td>

          <td>
            `{"team": "observability"}`
          </td>
        </tr>

        <tr>
          <td>
            `priorityClassName`
          </td>

          <td>
            Spécifie le 

            `PriorityClass`

             pour tous les pods.
          </td>

          <td>
            `String`
          </td>

          <td>
            `"high-priority"`
          </td>
        </tr>

        <tr>
          <td>
            `nodeSelector`
          </td>

          <td>
            Contraint le pod à s&apos;exécuter uniquement sur les nœuds avec des étiquettes correspondantes.
          </td>

          <td>
            `Object`
          </td>

          <td>
            `{"disktype": "ssd"}`
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Désinstallez l&apos;agent eBPF [#uninstall]

Pour désinstaller l&apos;agent eBPF de votre cluster Kubernetes :

```bash
helm uninstall nr-ebpf-agent -n newrelic
```

<Callout variant="tip">
  Cette commande supprimera tous les composants de l&apos;agent eBPF de votre cluster. L&apos;espace de nommage restera en place sauf si vous le supprimez explicitement.
</Callout>

<DocTiles>
  <DocTile title="Installation Linux eBPF" path="/docs/ebpf/linux-installation/">
    Découvrez comment configurer l&apos;agent New Relic eBPF pour votre hôte Linux.
  </DocTile>

  <DocTile title="dépannage eBPF" path="/docs/ebpf/troubleshooting/no-ui-data/">
    Apprenez à résoudre les problèmes liés à l&apos;agent New Relic eBPF.
  </DocTile>

  <DocTile title="eBPF bonnes pratiques" path="/docs/ebpf/best-practices/">
    Découvrez les bonnes pratiques d&apos;utilisation de l&apos;agent New Relic eBPF.
  </DocTile>
</DocTiles>