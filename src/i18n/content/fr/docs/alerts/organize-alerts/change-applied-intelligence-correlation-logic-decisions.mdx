---
title: Configurer la logique de corrélation avec les décisions
metaDescription: 'For New Relic''s alerts, how to configure the correlation logic using decisions.'
freshnessValidatedDate: never
translationType: machine
---

Grâce à la logique de corrélation des alertes, les problèmes liés sont regroupés pour réduire les alertes intempestives et redondantes. À mesure que les événements entrent dans votre système, ils sont éligibles à notre logique de corrélation. Les problèmes éligibles sont évalués en fonction du temps, du contexte de l&apos;alerte et des données de relation. Si plusieurs problèmes sont liés, notre logique de corrélation regroupera les événements d&apos;alerte associés en un seul [problème](/docs/alerts-applied-intelligence/overview/#concepts-terms) complet.

Nous appelons cette logique de corrélation <DNT>**decisions**</DNT>. Nous proposons des décisions intégrées, mais vous pouvez également créer et personnaliser les vôtres sur la page des décisions. Pour trouver la page des décisions, rendez-vous sur <DNT>**[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &gt; Alerts &gt; Decisions**</DNT>. Plus vous configurez vos décisions pour répondre au mieux à vos besoins, mieux New Relic peut corréler vos événements d&apos;alerte, réduire le bruit et fournir un contexte accru aux équipes d&apos;astreinte.

/\* &lt;img title=&quot;NRAI\_Decisions\_Page.png&quot; alt=&quot;Une capture d&apos;écran montrant l&apos;interface utilisateur des décisions d&apos;alerte.&quot; src=&quot;/images/alerts\_screenshot-full\_new-relic-decisions-page.webp&quot; /&gt; &lt;figcaption&gt; &lt;DNT&gt;\*\*\[one.newrelic.com &gt; All capabilities]\(https\://one.newrelic.com/all-capabilities) &gt; Alerts &gt; Alert event intelligence &gt; Decisions\*\*&lt;/DNT&gt;: notre interface utilisateur montre comment chaque décision corrèle les événements d&apos;alerte. &lt;/figcaption&gt; \*/

## Qu’est-ce que la corrélation et comment fonctionne-t-elle ? [#what-is-correlaton]

Vos événements d&apos;alerte les plus récents et actifs sont disponibles pour notre logique de corrélation. Par exemple, supposons que votre système ait reçu deux alertes indiquant qu&apos;un moniteur synthétique est en échec en Australie et à Londres. Ces deux alertes auront créé leurs propres événements d&apos;alerte uniques. Ces événements d&apos;alerte généreront leurs propres problèmes uniques en fonction de la [politique de création d&apos;événements d&apos;alerte](/docs/alerts/organize-alerts/specify-when-alerts-create-events#preference-options) existante de votre équipe. La logique de corrélation de New Relic testera alors ces événements d&apos;alerte les uns par rapport aux autres pour trouver des similitudes. Dans ce cas, c&apos;est le même moniteur qui échoue sur plusieurs emplacements, donc New Relic fusionnera les deux événements d&apos;alerte en un seul problème contenant chaque événement pertinent.

Lorsque nous corrélons un événement, nous vérifions chaque paire de combinaisons les unes par rapport aux autres et en combinons autant que possible. Par exemple:

* Notre algorithme corrèle les événements d&apos;alerte A et B (appelons-le &quot;AB&quot;).
* Notre algorithme corrèle les événements d&apos;alerte B et C (appelons-le &quot;BC&quot;).
* Comme B est présent dans les deux problèmes, l&apos;algorithme corrèle alors les trois événements d&apos;alerte en un seul problème.

## Configurer la politique de corrélation [#configure-correlation]

Pour activer la corrélation sur les problèmes basés sur [des alertes](/docs/alerts-applied-intelligence/overview/#concepts-terms) , vous devez vous connecter à la corrélation pour la [règle d&apos;alerte](/docs/alerts-applied-intelligence/new-relic-alerts/alert-policies/create-edit-or-find-alert-policy/#alert-policy-name) correspondante.

<img title="Decision - enable correlation for alert policy" alt="A screenshot of how to enable correlation for an alert policy." src="/images/alerts_screenshot-full_decision-policy-.webp" />

<figcaption>
  Cochez la case <DNT>**Correlate and suppress noise**</DNT> pour activer la corrélation pour la règle d&apos;alerte.
</figcaption>

## Types de décisions [#decision-types]

Les Décisions déterminent comment l&apos;intelligence des événements d&apos;alerte corrèle les problèmes entre eux. La logique de corrélation de New Relic est disponible pour votre équipe dans trois types de décision différents :

* <DNT>**Global decision**</DNT>:Un large ensemble de décisions par défaut est automatiquement activé lorsque vous commencez à utiliser des alertes.
* <DNT>**Suggested decision**</DNT>:Le moteur de corrélation de New Relic évalue en permanence vos données d&apos;événement pour suggérer des décisions qui capturent des modèles de corrélation afin de réduire le bruit. Vous pouvez prévisualiser les résultats de simulation d’une décision suggérée et choisir de l’activer.
* <DNT>**Custom decision**</DNT>:Votre équipe peut personnaliser les décisions en fonction de votre cas d’utilisation pour améliorer l’efficacité de la corrélation. L&apos;UI de décision de New Relic vous offre la flexibilité de configurer toutes les dimensions d&apos;une décision.

## Passez en revue vos décisions actives [#decisions]

Pour revoir les décisions existantes de votre équipe :

1. Allez à <DNT>**[one.newrelic.com](https://one.newrelic.com/all-capabilities)&gt; Alerts &gt; alert event intelligence &gt; Decisions**</DNT>.
2. Consultez la liste des décisions actives. Pour voir la logique de règle qui crée des corrélations entre vos problèmes, cliquez sur la décision.
3. Pour voir des exemples d&apos;événements d&apos;alerte que la décision a corrélés, cliquez sur l&apos;onglet <DNT>**Recent correlations**</DNT>.
4. Vous avez la possibilité d&apos;activer ou de désactiver ces décisions globales.

## Configurer les sources [#configure-sources]

Avant de configurer vos décisions, il est important de déterminer les sources que vous souhaitez corréler. Les sources sont vos entrées de données.

Vous pouvez obtenir des données à partir de l’une des sources suivantes :

<CollapserGroup>
  <Collapser className="freq-link" id="configure-source-nr-alerts" title="Alertes">
    En activant l&apos;intelligence des événements d&apos;alerte pour vos <InlinePopover type="alerts" />politiques, vous pouvez obtenir du contexte et des corrélations à partir de ce que vous monitorez. Pour obtenir des données à partir des alertes :

    1. À partir de <DNT>**[one.newrelic.com](https://one.newrelic.com/all-capabilities)**</DNT>, cliquez sur <DNT>**Alerts**</DNT>.

    2. À gauche, sous <DNT>**Alerts**</DNT>, cliquez sur <DNT>**Sources**</DNT>, puis sur <DNT>**Alerts**</DNT>.

    3. Sélectionnez les politiques que vous souhaitez connecter aux alertes et cliquez sur <DNT>**Connect**</DNT>.

       Vous pouvez ajouter des règles d&apos;alerte supplémentaires ou supprimer des politiques que vous avez déjà connectées dans <DNT>**Sources &gt; Alerts**</DNT>.

       <Callout variant="tip">
         L&apos;ajout d&apos;alertes comme source n&apos;affectera pas votre configuration ou notification actuelle.
       </Callout>
  </Collapser>

  <Collapser className="freq-link" id="configure-aporia" title="Aporia (MLOps)">
    En intégrant l&apos;intelligence des événements d&apos;alerte à vos modèles de machine learning Aporia, vous pouvez monitorer les performances de vos modèles de machine learning. Pour configurer notre intégration Aporia, consultez notre [documentation](/docs/integrations/mlops-integrations/aporia-mlops-integration/).
  </Collapser>

  <Collapser className="freq-link" id="configure-aporia" title="Superwise (MLOps)">
    En intégrant l&apos;intelligence des événements d&apos;alerte à vos modèles de machine learning Superwise, vous pouvez monitorer les performances de vos modèles de machine learning. Pour configurer notre intégration Superwise, consultez notre [documentation](/docs/alerts-applied-intelligence/mlops/integrations/superwise-mlops-integration/).
  </Collapser>

  <Collapser className="freq-link" id="configure-source-rest-api" title="REST API">
    L&apos;intelligence des événements d&apos;alerte prend en charge une interface API REST dédiée qui vous permet de vous intégrer à d&apos;autres systèmes. L&apos;interface permet l&apos;instrumentation de votre code ou d&apos;autres solutions de monitoring pour rapporter tout type de métrique ou d&apos;événement.

    * Une métrique peut être un point de données brutes tel que le processeur, la mémoire, l&apos;utilisation du disque ou un KPI d&apos;entreprise.

    * Un événement peut être une alerte de monitoring, un événement de déploiement, un événement d&apos;alerte, des exceptions ou tout autre changement d&apos;état que vous souhaitez décrire.

      Vous pouvez également envoyer tout type de données à l&apos;intelligence des événements d&apos;alerte directement depuis vos propres systèmes ou applications. L&apos;API REST prend en charge l&apos;authentification sécurisée par jeton et accepte le contenu JSON en entrée.

      Pour plus d’informations sur l’authentification et la référence complète de l’API, consultez [API REST pour les alertes New Relic](/docs/rest-api-new-relic-ai).
  </Collapser>
</CollapserGroup>

### Décisions mondiales [#global-decisions]

Les décisions globales sont automatiquement activées lorsque votre équipe commence à utiliser des alertes. Ils ne nécessitent aucune configuration et sont immédiatement disponibles pour votre équipe. Les décisions mondiales couvrent une variété de scénarios de corrélation.

Le tableau ci-dessous fournit des descriptions pour toutes les décisions globales qui sont automatiquement activées.

<table id="global-decision-descriptions">
  <thead>
    <tr>
      <th style={{ width: "250px" }}>
        Nom de la décision
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Nom de cible du même nom New Relic (NRQL)
      </td>

      <td>
        La corrélation est activée lorsque le nom de l&apos;entité avec un seuil dépassé et la requête NRQL sont identiques. L&apos;événement pertinent de la même [condition d&apos;alerteNRQL ](/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-nrql-alert-conditions)sera identifié. Cette décision permet de relier les problèmes qui présentent le même écart de latence de requête de transaction par exemple.
      </td>
    </tr>

    <tr>
      <td>
        Nom de cible du même nom New Relic (non NRQL)
      </td>

      <td>
        La corrélation est activée car les New Relic NRQL seuils d&apos;alerte non sont les mêmes. Ne s&apos;applique pas à la source REST. L&apos;entité nonNRQL fait référence à [l&apos;entité](/docs/new-relic-solutions/new-relic-one/core-concepts/what-entity-new-relic/), généralement à l&apos;application, aux types HOST, voir [le référentielNew Relic GitHub (dépôt) sur la synthèse des entités](https://github.com/newrelic/entity-definitions#entity-definitions). Avec cette décision, les questions pertinentes de la même entité seront identifiées. Par exemple, un problème de mémoire élevée de l&apos;hôte et un problème de non-signalement de l&apos;hôte pourraient être très probablement dus à la même cause.
      </td>
    </tr>

    <tr>
      <td>
        Même identifiant de cible New Relic
      </td>

      <td>
        La corrélation est activée car les New Relic NRQL seuils d&apos;alerte non sont les mêmes. Ne s&apos;applique pas à la source REST. Utilisez l&apos;ID d&apos;entité pour identifier de manière unique une instance d&apos;entité. Apprenez-en davantage sur [entity.guid](/docs/new-relic-solutions/new-relic-one/core-concepts/what-entity-new-relic#reserved-attributes).
      </td>
    </tr>

    <tr>
      <td>
        Même état New Relic
      </td>

      <td>
        La corrélation est activée car les [ID de condition](/docs/new-relic-solutions/get-started/glossary/#condition_id) New Relic sont identiques. Par exemple, une augmentation de l&apos;utilisation du CPU avec des services associés déclenchera des événements d&apos;alerte à partir de la même condition d&apos;utilisation du CPU, et sera ainsi identifiée. Cette logique est utile au-delà de l&apos;[option de préférence de création d&apos;incidents de politique d&apos;alerte](/docs/alerts/organize-alerts/specify-when-alerts-create-events#preference-options) pour un incident par condition, en raison de la granularité au niveau de la condition et de la flexibilité dans la définition de la fenêtre temporelle de corrélation.
      </td>
    </tr>

    <tr>
      <td>
        Même état New Relic et URL de lien profond
      </td>

      <td>
        La corrélation est activée car les [ID de condition](/docs/new-relic-solutions/get-started/glossary/#condition_id) New Relic et l&apos;URL de lien profond sont identiques. L&apos;URL de lien profond fournit des informations sur les séries temporelles et la plage temporelle en plus de la [condition d&apos;alerte](/docs/alerts/create-alert/create-alert-condition/alert-conditions). La corrélation de ces problèmes vous permet de consulter plus facilement les événements d&apos;alerte liés dans le flux de réponse aux événements d&apos;alerte avec des métriques temporelles, et d&apos;effectuer une analyse approfondie. L&apos;URL de lien profond peut être générée automatiquement si les événements d&apos;alerte sont déclenchés par des conditions d&apos;alerte New Relic, tandis que pour une source REST, [deepLinkUrl](/docs/data-apis/ingest-apis/event-api/alert-event-rest-api/#api-specs) doit être définie par l&apos;utilisateur.
      </td>
    </tr>

    <tr>
      <td>
        Même état et même titre New Relic
      </td>

      <td>
        La corrélation est activée car les [noms et titres des conditions](/docs/alerts/create-alert/condition-details/alert-event-attributes/#attributes) New Relic sont identiques. Il s&apos;agit d&apos;une option affinée comparant les titres en plus des conditions pour révéler une pertinence plus étroite avec le même message d&apos;alerte.
      </td>
    </tr>

    <tr>
      <td>
        Même déploiement de K8s
      </td>

      <td>
        La logique de corrélation est activée car les déploiements Kubernetes sont identiques. De nombreux événements d&apos;alerte proviennent de modifications de déploiement uniques. Cette décision vise à réduire les problèmes provenant du même déploiement d&apos;entité Kubernetes problématique.
      </td>
    </tr>

    <tr>
      <td>
        Même nom d&apos;application, même politique et même identifiant
      </td>

      <td>
        La logique de corrélation est activée car le nom de l’application personnalisée, la politique et l’ID personnalisé sont identiques. Nous corrélons les problèmes avec ces éléments pour réduire les problèmes application , en particulier pour répondre aux besoins des utilisateurs tag personnalisées. En savoir plus sur [la balise](/docs/new-relic-solutions/new-relic-one/core-concepts/use-tags-help-organize-find-your-data/). L&apos;ID tag personnalisé peut être défini par l&apos;ID de famille de conditions ou d&apos;autres valeurs d&apos;ID utilisées comme clé pour identifier les connexions entre les données.
      </td>
    </tr>

    <tr>
      <td>
        Message d&apos;alerte similaire
      </td>

      <td>
        La corrélation est activée car les événements d&apos;alerte ont des titres similaires et proviennent de la même entité. Cela permet de réduire les problèmes provenant de la même entité causés par des [conditions d&apos;alerte](/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-alert-conditions/) similaires.
      </td>
    </tr>

    <tr>
      <td>
        Même identifiant sécurisé, même emplacement public et même type
      </td>

      <td>
        La corrélation est activée car les informations d&apos;identification sécurisées, l&apos;emplacement public et le type personnalisé sont respectivement les mêmes. Il s&apos;agit de corréler les problèmes provenant de la même localisation géographique/région avec les mêmes informations d&apos;identification de sécurité qui sont normalement déclenchés par une seule cause première (par exemple, une défaillance du moniteur Synthetics) et qui pourraient très probablement être résolus avec la même solution. [Ajoutez une balise](/docs/new-relic-solutions/new-relic-one/core-concepts/use-tags-help-organize-find-your-data/#add-tags) pour bénéficier de cette décision.
      </td>
    </tr>

    <tr>
      <td>
        Structure de problème similaire
      </td>

      <td>
        La corrélation est activée car les deux événements d&apos;alerte ont une structure d&apos;attributs et un contenu de données similaires. Il s&apos;agit d&apos;une version simplifiée du clustering, qui adopte des algorithmes de similarité avancés dans le calcul matriciel pour réduire les problèmes fortement liés.
      </td>
    </tr>

    <tr>
      <td>
        Topologiquement dépendant
      </td>

      <td>
        La corrélation est activée car des événements d&apos;alerte sont générés à partir d&apos;instances ayant des relations de dépendance. En savoir plus sur la [corrélation topologique prête à l&apos;emploi](#topology-requirements).
      </td>
    </tr>
  </tbody>
</table>

### Utiliser les décisions suggérées [#suggested-decisions]

Les données provenant de vos sources sélectionnées sont continuellement inspectées à la recherche de modèles afin de contribuer à réduire le bruit. Une fois les modèles observés dans vos données, notre logique de corrélation suggérera des décisions uniques qui permettront à ces types d’événements d’être corrélés à l’avenir.

Pour commencer, cliquez sur l’onglet <DNT>**Suggested decisions**</DNT> sur le sujet de la page UI <DNT>**Decisions**</DNT>. Vous pouvez voir la logique derrière la décision suggérée et le taux de corrélation estimé en cliquant sur chaque décision suggérée.

<img title="Suggested decision block" alt="A screenshot of a suggested decision block" src="/images/alerts_screenshot-full_suggested-decisions.webp" />

<figcaption>
  <DNT>**[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &gt; Alerts &gt; Decisions**</DNT>:Quelques exemples de statistiques issues de l&apos;UI des décisions.
</figcaption>

Pour activer une décision suggérée, cliquez sur <DNT>**Add to your decisions**</DNT>. Une fois activée, la décision apparaîtra dans le tableau de décision principal de votre équipe. Toutes les décisions suggérées afficheront le créateur comme étant New Relic AI (cela fait référence aux alertes New Relic).

Si la décision suggérée ne correspond pas à vos besoins, cliquez sur <DNT>**Dismiss**</DNT>.

## Créer des décisions personnalisées [#customize]

Vous pouvez réduire le bruit et améliorer la corrélation en créant vos propres décisions personnalisées. Pour commencer à prendre une décision, accédez à <DNT>**[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &gt; Alerts &gt; Decisions**</DNT>, puis cliquez sur <DNT>**Create new decision**</DNT>.

Il existe deux versions du générateur de décision :

* Générateur de décision de base (en avant-première)
* Générateur de décision avancé

Pour en savoir plus sur la façon d’utiliser ces outils de prise de décision, continuez à lire.

### Éléments de décision [#decision-elements]

Une décision est composée de ces éléments :

* Corréler par attributs : Corrélez tous les événements d&apos;alerte selon les similitudes ou les différences de leurs attributs.
* Filtrer par valeurs spécifiques : Limitez les événements d&apos;alerte à ceux ayant des valeurs spécifiques.
* Filtrer par entité liée : Sélectionnez les types de connexions partagées ou de dépendances que vous souhaitez que nous recherchions.
* Plage de temps de corrélation : définit la différence de temps maximale autorisée entre les heures de création de deux événements d&apos;alerte pour qu&apos;ils soient pris en compte pour la corrélation.

Une fois les connexions entre les événements d&apos;alerte établies, notre [algorithme](#what-is-correlaton) regroupe les événements d&apos;alerte corrélés en un seul problème.

### Générateur de décision de base [#basic-decision-builder]

<DNT>**This feature is currently in preview and available for only some customers.**</DNT> Si vous n&apos;y avez pas accès, consultez les instructions du [générateur de décision avancé](#advanced-decision-builder).

Voici une courte vidéo (3:25 minutes) montrant comment utiliser le générateur de décision de base :

<Video type="wistia" id="xmbcv8rhuu" />

Le générateur de décisions de base couvre la majorité des cas d&apos;utilisation et se concentre sur « Corréler par attribut », où vous pouvez spécifier des conditions de filtrage pour les correspondances de corrélation. Vous pouvez également appliquer la même logique de filtrage pour des valeurs spécifiques aux deux événements d&apos;alerte corrélés. Par exemple, vous pouvez corréler des événements d&apos;alerte si le nom de l&apos;entité est `host 1` pour les deux.

Pour créer votre propre décision personnalisée à l’aide du générateur de décision de base, procédez comme suit. Gardez à l’esprit que les étapes 1, 2 et 3 sont facultatives en elles-mêmes, mais au moins l’une des trois doit être définie pour prendre une décision.

#### Étape 1 : Corrélation par attribut [#basic-correlate-attributes]

Choisissez un attribut dans le menu liste déroulante. L&apos;opérateur `equal` , l&apos;option la plus populaire, est présélectionné, ou vous pouvez choisir un autre [opérateur](#operators).

Le deuxième attribut correspond généralement au premier, il est donc renseigné automatiquement. Vous pouvez conserver l&apos;option de remplissage automatique ou choisir un autre opérateur.

Une fois terminé, une [simulation](#simulations) s&apos;exécute automatiquement.

Vous pouvez répéter ces étapes pour ajouter jusqu&apos;à huit filtres logiques.

/\* &lt;CollapserGroup&gt; &lt;Collapser id=&quot;basic-correlate-attributes-ui&quot; title=&quot;Voir une capture d&apos;écran de l&apos;interface&quot; &gt; &lt;img title=&quot;Une capture d&apos;écran du générateur de décisions de base, effectuant une corrélation avec des attributs.&quot; alt=&quot;Une capture d&apos;écran du constructeur de décisions de base, en corrélation avec des attributs.&quot; src=&quot;/images/alerts\_screenshot-crop\_basic-decision-builder-correlate-attributes.webp&quot; /&gt; &lt;/Collapser&gt; &lt;/CollapserGroup&gt; \*/

#### Étape 2 : Filtrer par valeurs spécifiques [#basic-filter-values]

1. Pour ouvrir la section `Filter by specific values` et voir des filtres supplémentaires, cliquez sur <DNT>**See more options**</DNT>.
2. Choisissez un attribut.
3. L&apos;opérateur `equal` est présélectionné, ou vous pouvez sélectionner un autre [opérateur](#operators).
4. Sélectionnez les valeurs attendues pour l&apos;attribut choisi, avec plusieurs sélections prises en charge.

Une fois terminée, la [simulation](#simulations) s&apos;exécutera automatiquement.

Vous pouvez répéter ces étapes pour ajouter jusqu&apos;à huit filtres logiques.

/\* &lt;CollapserGroup&gt; &lt;Collapser id=&quot;basic-builder-filer-values-ui&quot; title=&quot;Voir une capture d&apos;écran de l&apos;interface&quot; &gt; &lt;img title=&quot;Une capture d&apos;écran du générateur de décision de base, filtrant par valeurs.&quot; alt=&quot;Une capture d&apos;écran du générateur de décisions de base, filtrant par valeurs.&quot; src=&quot;/images/alerts\_screenshot-crop\_basic-decision-builder-filter-values.webp&quot; /&gt; &lt;/Collapser&gt; &lt;/CollapserGroup&gt; \*/

#### Étape 3 : Filtrer par entité liée [#basic-filter-related-entities]

Cliquez sur <DNT>**Filter by related entities**</DNT> et choisissez les classes d’entité.

Lorsque vos données sont collectées par [l&apos;agentNew Relic ](/docs/new-relic-solutions/new-relic-one/install-configure/compatibility-requirements-new-relic-agents-products/), vous obtenez une corrélation topologique automatique. [En savoir plus sur notre corrélation de topologie par défaut](#topology-requirements).

Vous pouvez également configurer [les paramètres de topologie à l&apos;aide de notre API NerdGraph](/docs/apis/nerdgraph/examples/topology-nerdgraph-tutorial). Cela permet à toute décision liée à la topologie d&apos;être mise en correspondance avec vos données topologiques. [En savoir plus sur la configuration de la corrélation de topologie](#topology).

/\* &lt;CollapserGroup&gt; &lt;Collapser id=&quot;basic-builder-related-entities-ui&quot; title=&quot;Voir une capture d&apos;écran de l&apos;interface&quot; &gt; &lt;img title=&quot;Une capture d&apos;écran du générateur de décision de base, filtrant par entités.&quot; alt=&quot;Une capture d&apos;écran du générateur de décision de base, filtrant par entités.&quot; src=&quot;/images/alerts\_screenshot-crop\_basic-decision-builder-filter-related-entities.webp&quot; /&gt; &lt;/Collapser&gt; &lt;/CollapserGroup&gt; \*/

#### Étape 4 : définir la plage de temps de corrélation [#basic-set-time-range]

Cela définit la différence de temps maximale autorisée entre les heures de création de deux événements d&apos;alerte pour qu&apos;ils soient pris en compte pour la corrélation. Les événements d&apos;alerte compris dans cette plage seront évalués selon des règles spécifiées, tandis que ceux en dehors de la plage ne seront pas corrélés.

La plage horaire est définie par défaut sur 20 minutes. Vous pouvez l&apos;ajuster entre 1 et 120 minutes.

/\* &lt;CollapserGroup&gt; &lt;Collapser id=&quot;basic-builder-time-range&quot; title=&quot;Voir une capture d&apos;écran&quot; &gt; &lt;img title=&quot;Une capture d&apos;écran du générateur de décision de base, définissant une plage temporelle de corrélation.&quot; alt=&quot;Une capture d&apos;écran du générateur de décisions de base, définissant une plage de temps de corrélation.&quot; src=&quot;/images/alerts\_screenshot-crop\_basic-decision-builder-time-range.webp&quot; /&gt; &lt;/Collapser&gt; &lt;/CollapserGroup&gt; \*/

#### Étape 5 : Tester votre décision à l’aide d’une simulation [#basic-test-with-simulation]

Après l&apos;ajout d&apos;une logique de filtrage, le système exécute automatiquement une [simulation](#simulations) en utilisant les données d&apos;événements d&apos;alerte des 7 derniers jours pour vous aider à valider la décision avant de l&apos;appliquer.

Vous pouvez également déclencher manuellement la simulation en cliquant sur <DNT>**Simulate**</DNT>, ce que vous souhaiterez peut-être faire si quelque chose a changé dans la décision.

/\* &lt;CollapserGroup&gt; &lt;Collapser id=&quot;basic-builder-test-with-simulation-ui&quot; title=&quot;Voir une capture d&apos;écran&quot; &gt; &lt;img title=&quot;Une capture d&apos;écran du générateur de décision de base, testé avec une simulation.&quot; alt=&quot;Une capture d&apos;écran du générateur de décisions de base, testant avec une simulation.&quot; src=&quot;/images/alerts\_screenshot-crop\_basic-decision-builder-run-simulation.webp&quot; /&gt; &lt;/Collapser&gt; &lt;/CollapserGroup&gt; \*/

#### Étape 6 : Nommez et enregistrez votre décision [#basic-name-save-decision]

Pour accéder au panneau nom et description, cliquez sur <DNT>**Create decision**</DNT>. Le système génère un nom en fonction de votre décision. Personnalisez le nom et la description comme vous le souhaitez.

/\* &lt;CollapserGroup&gt; &lt;Collapser id=&quot;basic-builder-save-decision-ui&quot; title=&quot;Voir une capture d&apos;écran&quot; &gt; &lt;img title=&quot;Une capture d&apos;écran du générateur de décisions de base : nommer et enregistrer la décision&quot; alt=&quot;Une capture d&apos;écran du générateur de décisions de base : nommer et enregistrer la décision&quot; src=&quot;/images/alerts\_screenshot-crop\_basic-decision-builder-name-describe.webp&quot; /&gt; &lt;/Collapser&gt; &lt;/CollapserGroup&gt; \*/

### Générateur de décision avancé [#advanced-decision-builder]

Le générateur de décisions avancé permet de créer des décisions plus complexes en appliquant différents filtres logiques aux deux événements d&apos;alerte en cours de corrélation. Par exemple, vous pouvez corréler des événements d&apos;alerte si l&apos;un a le nom d&apos;entité `host 1` et l&apos;autre le nom d&apos;entité `host 2`. Il existe également des paramètres plus avancés que la simple configuration de la fenêtre temporelle.

Pour utiliser le générateur de décision avancé :

1. Allez à <DNT>**[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &gt; Alerts &gt; Decisions**</DNT>.
2. Cliquez sur <DNT>**Create new decision**</DNT>, puis sur <DNT>**Use advanced builder**</DNT>.

Pour plus de détails sur les options disponibles, continuez à lire.

Termes importants :

* Filtre logique : Condition logique définie avec un [opérateur](#operators) sur un [attribut](/docs/alerts/create-alert/condition-details/alert-event-attributes/#attributes).
* Segment : Un groupe d&apos;événements d&apos;alerte qui satisfont une combinaison de filtres logiques.

Pour créer votre propre décision personnalisée, procédez comme suit. Gardez à l’esprit que les étapes 1, 2 et 3 sont facultatives en elles-mêmes, mais au moins l’une des trois doit être définie pour prendre une décision.

#### Étape 1 : Filtrez vos données [#filter-data]

Une corrélation se produit entre deux événements d&apos;alerte. Si aucun filtre n&apos;est défini, tous les événements d&apos;alerte entrants seront pris en compte par la décision. Plus vous configurez vos décisions pour répondre à vos besoins, mieux nous pouvons corréler vos événements d&apos;alerte, réduire le bruit et fournir un contexte enrichi aux équipes d&apos;astreinte.

Votre équipe peut définir vos filtres pour le premier segment d&apos;événements d&apos;alerte et le deuxième segment d&apos;événements d&apos;alerte. Les [opérateurs](#operators) de filtrage vont de la correspondance de sous-chaîne à la [correspondance par expression régulière](#regex) pour vous aider à cibler les événements d&apos;alerte que vous souhaitez et à exclure ceux que vous ne voulez pas.

/\* &lt;CollapserGroup&gt; &lt;Collapser id=&quot;advanced-decision-builder-filter-data-ui&quot; title=&quot;Voir une capture d&apos;écran&quot; &gt; &lt;img title=&quot;Une capture d&apos;écran du générateur de décisions avancé : filtrer vos données&quot; alt=&quot;Une capture d&apos;écran du générateur de décisions basique : filtrer vos données&quot; src=&quot;/images/alerts\_screenshot-crop\_advanced-decision-builder-filter-data.webp&quot; /&gt; &lt;/Collapser&gt; &lt;/CollapserGroup&gt; \*/

#### Étape 2 : Corrélation par attribut [#correlate-context]

Une fois vos données filtrées, définissez la logique utilisée pour comparer le contexte des événements d&apos;alerte. Vous pouvez corréler les événements selon les méthodes suivantes :

* Comparaisons de valeurs d&apos;attributs avec des opérateurs standard
* Similarité des valeurs d&apos;attributs à l&apos;aide [d&apos;algorithmes de similarité](#algorithms)
* [Expression régulière de valeur d&apos;attribut avec groupes de capture](#regex)
* Comparaisons d&apos;événements d&apos;alerte complets à l&apos;aide d&apos;algorithmes de similarité ou de clustering

/\* &lt;CollapserGroup&gt; &lt;Collapser id=&quot;advanced-decision-builder-correlate-attributes-ui&quot; title=&quot;Voir une capture d&apos;écran de l&apos;interface&quot; &gt; &lt;img title=&quot;Une capture d&apos;écran du générateur de décisions avancé : corrélation par attributs&quot; alt=&quot;Une capture d&apos;écran du générateur de décisions de base : corrélation par attributs&quot; src=&quot;/images/alerts\_screenshot-crop\_advanced-decision-builder-correlate-attributes.webp&quot; /&gt; &lt;/Collapser&gt; &lt;/CollapserGroup&gt; \*/

#### Étape 3 : Corrélation par entité liée [#topology-correlation]

Pour une corrélation topologique automatique, assurez-vous que vos données télémétriques sont collectées par [l&apos;agentNew Relic ](/docs/new-relic-solutions/new-relic-one/install-configure/compatibility-requirements-new-relic-agents-products/). En savoir plus sur [la corrélation de topologie prête à l&apos;emploi](#topology-requirements).

Vous pouvez également configurer [les paramètres de topologie à l&apos;aide de notre API NerdGraph](/docs/apis/nerdgraph/examples/topology-nerdgraph-tutorial). Cela permet à toute décision liée à la topologie d&apos;être mise en correspondance avec vos données topologiques. [En savoir plus sur la configuration de la corrélation de topologie](#topology).

/\* &lt;CollapserGroup&gt; &lt;Collapser id=&quot;advanced-builder-related-entities-ui&quot; title=&quot;Voir une capture d&apos;écran&quot; &gt; &lt;img title=&quot;Une capture d&apos;écran du générateur de décisions avancé : corréler par entités associées&quot; alt=&quot;Une capture d&apos;écran du générateur de décisions de base : corréler par entités associées&quot; src=&quot;/images/alerts\_screenshot-crop\_advanced-decision-builder-related-entities.webp&quot; /&gt; &lt;/Collapser&gt; &lt;/CollapserGroup&gt; \*/

#### Étape 4 : Donnez-lui un nom [#name-your-decision]

Après avoir configuré votre logique de décision, donnez-lui un nom reconnaissable et une description.

<Callout variant="tip">
  Minimisez les problèmes de sécurité en vous assurant de ne pas ajouter d’informations sensibles ou personnelles à ces champs de texte ouverts.
</Callout>

Ceci est utilisé dans les notifications et d&apos;autres zones de l&apos;interface utilisateur pour indiquer quelle décision a provoqué la corrélation d&apos;une paire d&apos;événements d&apos;alerte. Si vous ne souhaitez pas modifier les paramètres avancés par défaut à l&apos;étape suivante, cliquez sur <DNT>**Create decision**</DNT> pour terminer la création.

/\* &lt;CollapserGroup&gt; &lt;Collapser id=&quot;advanced-builder-name-decision&quot; title=&quot;Voir une capture d&apos;écran de l&apos;interface&quot; &gt; &lt;img title=&quot;Une capture d&apos;écran du générateur de décisions avancé : nommer la décision&quot; alt=&quot;Une capture d&apos;écran du générateur de décisions de base : nommer la décision&quot; src=&quot;/images/alerts\_screenshot-crop\_advanced-decision-builder-name-decision.webp&quot; /&gt; &lt;/Collapser&gt; &lt;/CollapserGroup&gt; \*/

#### Étape 5 : Utiliser les paramètres avancés [#advanced-settings]

Utilisez la zone des paramètres avancés pour personnaliser davantage le comportement de votre décision lors de la corrélation d&apos;un événement. Chaque paramètre a une valeur par défaut, la personnalisation est donc facultative.

* <DNT>**Time window**</DNT>: Définit la durée maximale entre l&apos;heure de création de deux événements d&apos;alerte pour qu&apos;ils soient éligibles à la corrélation.
* <DNT>**Issue priority**</DNT>: Remplace le paramètre de priorité par défaut (`inherit priority`) pour attribuer une priorité supérieure ou inférieure si les événements d&apos;alerte sont corrélés.
* <DNT>**Frequency**</DNT>: Modifie le nombre minimum d&apos;événements d&apos;alerte qui doivent respecter la logique de décision pour que la décision se déclenche.
* <DNT>**Similarity**</DNT>:Si vous utilisez des opérateurs `similar to` dans votre logique de décision, vous pouvez choisir parmi une liste d&apos;algorithmes et définir sa sensibilité. Cela s&apos;appliquera à tous les opérateurs `similar to` de votre décision.

/\* &lt;CollapserGroup&gt; &lt;Collapser id=&quot;advanced-builder-advanced-settings-ui&quot; title=&quot;Voir une capture d&apos;écran&quot; &gt; &lt;img title=&quot;Décision - paramètres avancés&quot; alt=&quot;Une capture d&apos;écran du générateur de décisions montrant comment configurer les paramètres avancés.&quot; src=&quot;/images/alerts\_screenshot-full\_decision-builder-settings.webp&quot; /&gt; &lt;/Collapser&gt; &lt;/CollapserGroup&gt; \*/

## Opérateurs logiques [#operators]

Decision fournit un ensemble d&apos;opérateurs pour vous aider à définir de manière flexible comment la valeur d&apos;attribut d&apos;un événement d&apos;alerte est évaluée dans un filtre logique. Les éléments de base sont <DNT>**equals**</DNT>, <DNT>**contains**</DNT>, <DNT>**starts with**</DNT>, <DNT>**ends with**</DNT>, <DNT>**exists**</DNT>, ainsi que leurs opérateurs de négation respectifs. Par exemple, <DNT>**does not equal**</DNT>.

Il existe un opérateur de similarité <DNT>**is similar to**</DNT>, l&apos;[algorithme de similarité](#algorithms) sous-jacent peut être spécifié pour cet opérateur. Par défaut, il utilise la distance de Levenshtein.

L&apos;opérateur <DNT>**contains (regex)**</DNT> permet de définir une condition [regex](#regex). Puissant pour faire correspondre des valeurs de données arbitraires.

### Algorithmes de similarité [#algorithms]

Voici les détails techniques sur les algorithmes de similarité que nous utilisons :

<CollapserGroup>
  <Collapser id="levenshtein-distance" title="Distance de Levenshtein">
    Cette mesure est utile pour comparer des chaînes courtes avec un schéma statique et une longueur fixe, comme les noms d&apos;hôtes. La distance de Levenshtein est également connue sous le nom de distance d&apos;édition.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Détails
          </th>

          <th>
            Description
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Comment ça marche
          </td>

          <td>
            La distance de Levenshtein entre deux chaînes est le nombre minimum de modifications d&apos;un seul caractère pour passer d&apos;une chaîne à l&apos;autre. Les opérations d&apos;édition autorisées sont la suppression, l&apos;insertion et la substitution.

            Le seuil de similarité par défaut pour les décisions d’alerte est une distance d’édition de 3. Vous pouvez modifier cela dans le <DNT>**Advanced mode**</DNT> du générateur de décision.
          </td>
        </tr>

        <tr>
          <td>
            Quand l&apos;utiliser
          </td>

          <td>
            Cette mesure est particulièrement utile pour comparer des chaînes relativement courtes avec un schéma statique et une longueur fixe. Les applications courantes incluent les correcteurs orthographiques, la biologie computationnelle et la reconnaissance vocale.
          </td>
        </tr>

        <tr>
          <td>
            Exemples
          </td>

          <td>
            `number/bumble: 3 (number → bumber → bumblr → bumble)`

            `trying/lying: 2 (trying → rying → lying)`

            `strong/through: 4 (strong → htrong → throng → throug → through)`
          </td>
        </tr>

        <tr>
          <td>
            Inconvénients potentiels
          </td>

          <td>
            L&apos;algorithme de distance de Levenshtein n&apos;est pas normalisé par défaut pour prendre en compte les longueurs de chaîne.
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="fuzzy-score" title="Score flou">
    Cette métrique est utile pour comparer des chaînes de même longueur où le même préfixe serait un bon indicateur de corrélation.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Détails
          </th>

          <th>
            Description
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Comment ça marche
          </td>

          <td>
            L&apos;algorithme de score flou fonctionne en attribuant des « points » pour les correspondances de caractères entre les chaînes :

            * Un point pour chaque caractère correspondant

            * Deux points bonus pour les matchs suivants

              Plus le score flou est élevé, plus la similitude entre deux chaînes est grande.
          </td>
        </tr>

        <tr>
          <td>
            Quand l&apos;utiliser
          </td>

          <td>
            Le score flou est particulièrement utile pour les chaînes qui ont des préfixes identiques et relativement courts (idéalement moins de cinq caractères). Le score minimum garanti serait `(length(expected prefix) * 3) - 2`.
          </td>
        </tr>

        <tr>
          <td>
            Exemples
          </td>

          <td>
            Exemple: `Decisions / dcsions`

            `d: 1`

            `c: 1`

            `i 1`

            `s: 2`

            `o: 1`

            `n: 1`

            `si: 2`

            `io: 2`

            `on: 2`

            `ns: 2`

            `= 15 points`
          </td>
        </tr>

        <tr>
          <td>
            Inconvénients potentiels
          </td>

          <td>
            Si le premier caractère de la première chaîne ne peut pas être trouvé dans la deuxième chaîne, aucun point n&apos;est attribué.
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="fuzzy-wuzzy-ratio" title="Rapport flou wuzzy">
    Cette métrique est utile pour comparer des chaînes de longueur similaire.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Détails
          </th>

          <th>
            Description
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Comment ça marche
          </td>

          <td>
            La famille de mesures de similarité <DNT>**fuzzy wuzzy**</DNT> a été [développée par SeatGeek](https://chairnerd.seatgeek.com/fuzzywuzzy-fuzzy-string-matching-in-python/) pour aider à trouver des billets pour le même événement qui ont des étiquettes différentes sur plusieurs plateformes. Le rapport flou/wuzzy pour deux chaînes est exprimé en pourcentage, où un nombre plus élevé indique une chaîne plus similaire. Il est basé sur l&apos;[algorithme SequenceMatcher](https://docs.python.org/3/library/difflib.html) dans difflib de Python.
          </td>
        </tr>

        <tr>
          <td>
            Quand l&apos;utiliser
          </td>

          <td>
            Le ratio flou wuzzy est efficace pour les chaînes très courtes (telles que le nom d&apos;hôte) ou les chaînes très longues (telles que la description d&apos;un événement), en particulier pour comparer des chaînes de longueur similaire.
          </td>
        </tr>

        <tr>
          <td>
            Inconvénients potentiels
          </td>

          <td>
            Cet algorithme est trop sensible pour être utilisé efficacement pour des chaînes de 3 à 10 mots. L’une des autres modifications de fuzzy wuzzy (voir ci-dessous) peut être un meilleur choix.
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="fuzzzy-wuzzy-partial" title="Rapport partiel flou et flou">
    Cette métrique est utile pour comparer des chaînes de différentes longueurs. Cette modification de l&apos;algorithme fuzzy wuzzy permet de résoudre la limitation de longueur effective.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Détails
          </th>

          <th>
            Description
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Comment ça marche
          </td>

          <td>
            Avec le rapport partiel flou Wuzzy, la chaîne la plus courte est comparée à chaque sous-chaîne de la même longueur dans la chaîne la plus longue. Le score de la sous-chaîne « la mieux correspondante » est utilisé pour déterminer le rapport partiel flou wuzzy.
          </td>
        </tr>

        <tr>
          <td>
            Quand l&apos;utiliser
          </td>

          <td>
            Le rapport partiel flou wuzzy est particulièrement efficace pour les types de comparaisons pour lesquels l&apos;algorithme flou wuzzy de base échoue : les chaînes de 3 à 10 mots où certaines sous-chaînes significatives sont susceptibles de se chevaucher.
          </td>
        </tr>

        <tr>
          <td>
            Exemples
          </td>

          <td>
            Par exemple, entre les chaînes suivantes :

            `DevOps and SRE teams`

            `DevOps`

            `DevOps` (la chaîne la plus courte, longueur = 6) serait comparée à chaque sous-chaîne de longueur 6 dans `DevOps and SRE teams`. Étant donné que l’une de ces sous-chaînes (`DevOps`) correspond parfaitement, le rapport partiel flou wuzzy pour ces deux chaînes sera élevé.
          </td>
        </tr>

        <tr>
          <td>
            Inconvénients potentiels
          </td>

          <td>
            Là où le flou wuzzy peut être trop conservateur, la correspondance partielle floue wuzzy peut être plus libérale que prévu avec les corrélations. Vous pouvez ajuster le seuil dans le générateur de décision en fonction de vos besoins.
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="fuzzy-wuzzy-token" title="Rapport de jeu de jetons Fuzzy Wuzzy">
    Cette métrique est utile pour comparer des chaînes où les informations peuvent ne pas être dans le même ordre et de longueurs éventuellement différentes. Cela fonctionne mieux pour les phrases telles que les messages, les descriptions, etc.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Détails
          </th>

          <th>
            Description
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Comment ça marche
          </td>

          <td>
            L&apos;algorithme du rapport d&apos;ensemble de jetons suit quelques étapes pour comparer des chaînes :

            1. Tokenisez chaque chaîne (par exemple, « équipes DevOps et SRE » en « DevOps» et « équipes SRE» ; « équipe SRE et ingénieur DevOps » en « équipes SRE» et « ingénieur DevOps» »)

            2. Combinez les jetons qui se croisent dans une nouvelle chaîne, en laissant le jeton restant (par exemple, qui se croisent : « DevOps», « et », « SRE» ; reste1 : « équipes » ; reste2 : « équipe », « ingénieur »)

            3. Classez par ordre alphabétique chaque groupe de jetons (par ex. &quot;et, DevOps, SRE &quot;, &quot;équipes&quot;, ingénieur, équipe&quot;)

            4. Comparez les paires de chaînes suivantes :

            5. Groupe d&apos;intersection

            6. Groupe d&apos;intersection + reste1

            7. Groupe d&apos;intersection + reste2

            La comparaison de ces paires (« meilleures correspondances ») est le rapport d&apos;ensemble de jetons flous et wuzzy.
          </td>
        </tr>

        <tr>
          <td>
            Quand l&apos;utiliser
          </td>

          <td>
            Cette métrique est utile dans les cas où des chaînes similaires peuvent avoir des mots qui se chevauchent mais une construction différente ; par exemple, des descriptions d&apos;événements pour différents problèmes avec la même ressource.
          </td>
        </tr>

        <tr>
          <td>
            Inconvénients potentiels
          </td>

          <td>
            Là où le wuzzy flou peut être trop conservateur, la correspondance de l&apos;ensemble de jetons wuzzy flou peut être plus libérale que prévu avec les corrélations. Vous pouvez ajuster le seuil dans le générateur de décision en fonction de vos besoins.
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="Jaro-winkler-distance" title="Distance Jaro-Winkler">
    Cette métrique est utile pour les chaînes courtes où des préfixes identiques sont une forte indication de corrélation.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Détails
          </th>

          <th>
            Description
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Comment ça marche
          </td>

          <td>
            Cette métrique utilise une échelle de 0 à 1 pour indiquer la similitude entre deux chaînes, où 0 correspond à aucune similitude (0 caractères correspondants entre les chaînes) et 1 est une correspondance exacte. La similitude Jaro-Winkler prend en compte :

            * `matching`:deux caractères qui sont identiques et dans des positions similaires dans les chaînes.
            * `transpositions`: correspondance des caractères qui sont dans un ordre de séquence différent dans les chaînes.
            * `prefix scale`:la distance Jaro-Winkler est ajustée favorablement si les chaînes correspondent dès le début (un préfixe comporte jusqu&apos;à 4 caractères).
          </td>
        </tr>

        <tr>
          <td>
            Quand l&apos;utiliser
          </td>

          <td>
            Cette métrique est assez tolérante aux transpositions, mais les transpositions plus éloignées dans la corde sont moins utiles.

            Un nombre généralement sûr à utiliser pour la similarité Jaro-Winkler dans les chaînes modérées à longues est 0,9 ; vous pouvez utiliser `{~}0.85` dans les cas où une plus grande indulgence est acceptable (par exemple, si vous avez une autre logique plus spécifique dans la décision).
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="cosine-distance" title="Distance cosinus">
    Cette mesure est le plus souvent utilisée pour comparer de grands blocs de texte (par exemple, des descriptions d&apos;événements d&apos;alerte) et offre une visualisation simple de la similarité.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Détails
          </th>

          <th>
            Description
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Comment ça marche
          </td>

          <td>
            Pour chaque bloc de texte que vous comparez, un vecteur est calculé pour représenter le nombre de chaque mot unique dans le bloc. La distance cosinus des vecteurs résultants est leur produit scalaire divisé par le produit de leurs grandeurs.
          </td>
        </tr>

        <tr>
          <td>
            Quand l&apos;utiliser
          </td>

          <td>
            Cette mesure est particulièrement utile pour comparer de longs blocs de texte, en particulier lorsque la comparaison vise à considérer le texte dans son ensemble, et non les différences ou les fautes d&apos;orthographe dans les mots individuels.
          </td>
        </tr>

        <tr>
          <td>
            Exemples
          </td>

          <td>
            ```
            It is not length of life, but depth of life.
            Depth of life does not depend on length.
            ```

            Voici le nombre de mots pour ces phrases :

            `it 1 0`

            `is 0 1`

            `not 1 1`

            `length 1 1`

            `of 2 1`

            `life 2 1`

            `but 1 0`

            `depth 1 1`

            `does 0 1`

            `depend 0 1`

            `on 0 1`

            Et voici ces comptes représentés sous forme de vecteur :

            ```
            [1, 0, 1, 1, 2, 2, 1, 1, 0, 0, 0]
            [0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1]
            ```

            La distance cosinus de ces vecteurs est d&apos;environ 0,9 (1 est la similarité la plus élevée).
          </td>
        </tr>

        <tr>
          <td>
            Inconvénients potentiels
          </td>

          <td>
            La distance cosinus est moins utile dans les situations où les petites différences de caractères dans les mots sont insignifiantes. De plus, la distance cosinus ignore l’ordre des mots dans les blocs de texte.
          </td>
        </tr>
      </tbody>
    </table>

    Pour plus d&apos;informations sur la mise en œuvre de la distance cosinus, consultez la [procédure détaillée sur blog.christianperone.com](http://blog.christianperone.com/2013/09/machine-learning-cosine-similarity-for-vector-space-models-part-iii/).
  </Collapser>

  <Collapser id="hamming-distance" title="Distance de Hamming">
    Cette mesure est utile pour les textes plus courts avec un schéma statique, mais elle ne fonctionne que pour les chaînes de même longueur.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Détails
          </th>

          <th>
            Description
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Quand l&apos;utiliser
          </td>

          <td>
            La distance de Hamming nécessite que les cordes comparées soient de longueur égale. Il s&apos;agit d&apos;une mesure de similarité utile pour les situations où la différence entre deux chaînes peut être due à des fautes de frappe, ou lorsque vous souhaitez comparer deux attributs avec des longueurs connues. Par exemple:

            ```
            Low Disk Space in application myapp in data center us01
            ```

            Si vous souhaitez être tolérant aux changements data center , la distance de Hamming doit être définie sur 4. Un cas d&apos;utilisation moyen pour la distance de Hamming serait d&apos;environ 2 à 3.
          </td>
        </tr>

        <tr>
          <td>
            Exemples
          </td>

          <td>
            Une version plus simple des métriques de « distance d&apos;édition » comme la distance de Levenshtein, la distance de Hamming entre deux chaînes est le nombre de caractères de la chaîne qui ne correspondent pas (dans la même position). Par exemple, dans les chaînes ci-dessous, la distance de Hamming est de 2 :

            ```
            flowers / florets
            ```
          </td>
        </tr>

        <tr>
          <td>
            Inconvénients potentiels
          </td>

          <td>
            Dans l&apos;exemple ci-dessus, si le nom application change à la place du data center, une corrélation serait également créée. À mesure que la distance augmente, l’utilité de la distance de Hamming diminue. Pour cette raison, pour tout ce qui est un peu plus compliqué que de tolérer les substitutions de 1 à 2 caractères (ou si les longueurs de chaîne ne correspondent pas), utilisez une mesure de similarité différente.
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="Jaccard-distance" title="Distance Jaccard">
    Cette mesure est utile pour comparer de grands blocs de texte, tels que des descriptions ou des événements d&apos;alerte complets.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Détails
          </th>

          <th>
            Description
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Comment ça marche
          </td>

          <td>
            La distance, exprimée en pourcentage (0 étant complètement similaire ; 1 étant totalement différent) est calculée avec la formule suivante :

            ```
            1 - [(# of characters in both sets) / (# of characters in either set) * 100]
            ```

            En d&apos;autres termes, la distance de Jaccard est le nombre de caractères partagés divisé par le nombre total de caractères (partagés et non partagés). Une distance de Jaccard de 0,1 signifie que 10 % ou moins des caractères entre deux événements d&apos;alerte sont différents.
          </td>
        </tr>

        <tr>
          <td>
            Quand l&apos;utiliser
          </td>

          <td>
            La distance de Jaccard est très facile à interpréter et particulièrement utile pour les grands ensembles de données. Par exemple, lors de la comparaison de la similarité entre deux événements d&apos;alerte entiers (par opposition à un seul attribut).
          </td>
        </tr>

        <tr>
          <td>
            Inconvénients potentiels
          </td>

          <td>
            C&apos;est moins efficace pour les petits ensembles de données ou les situations avec des données manquantes. De plus, les différentes permutations du jeu de caractères n&apos;affectent pas la distance de Jaccard, donc veillez à éviter les faux positifs.
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

### Opérateurs Regex [#regex]

Lors de [la construction d&apos;une décision](#customize), les opérateurs disponibles incluent :

* `contains (regex)`: utilisé à [l&apos;étape 1 : Filtrez vos données](#customize).
* `regular expression match`:utilisé à [l&apos;étape 2 : Corrélation contextuelle](#customize).

Le générateur de décisions suit les normes décrites dans [ces documents pour les expressions régulières](https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html).

<CollapserGroup>
  <Collapser id="regex-step-1" title="Regex à l'étape 1">
    Pour que votre expression régulière soit testée comme vraie, la valeur entière de l&apos;attribut (les données que vous évaluez) doit correspondre aux expressions régulières fournies. Les groupes capturés peuvent être utilisés mais ne sont pas explicitement évalués.

    Par instance, si la valeur de l&apos;attribut est `foobarbaz`, ces exemples répondraient aux critères et seraient testés comme vrais :

    * `foo.*`
    * `^.*baz`
    * `\w+`
  </Collapser>

  <Collapser id="regex-step-2" title="Regex à l'étape 2">
    Pour que votre expression régulière soit évaluée comme vraie, l&apos;intégralité des valeurs d&apos;attribut pour l&apos;événement d&apos;alerte 1 et l&apos;événement d&apos;alerte 2 doit être incluse dans la correspondance. De plus, chaque groupe de capture (expressions entre `( )` parenthèses) doit exister dans les deux valeurs (attributs de l&apos;événement d&apos;alerte 1 et de l&apos;événement d&apos;alerte 2) et avoir la même valeur :

    * Le nombre de groupes capturés doit être égal pour les deux attributs d&apos;événement d&apos;alerte.

    * Chaque groupe doit être égal au groupe correspondant entre les valeurs d&apos;attributs : la valeur du premier groupe capturé dans la valeur de l&apos;attribut de l&apos;événement d&apos;alerte 1 est égale à la valeur du premier groupe capturé dans l&apos;attribut de l&apos;événement d&apos;alerte 2.

      Par instance, si la valeur d&apos;attribut 1 est `abc-123-xyz` et la valeur d&apos;attribut 2 est `abc-777-xyz`, alors `(\w+)-(?:\w+)-(\w+)` répondrait aux critères :

    * La valeur entière correspond à l&apos;expression.

    * Les premier et troisième groupes capturés ont les mêmes valeurs respectives.

    * Le deuxième groupe n&apos;est pas capturé à l&apos;aide de `?:`, ce qui permet à la valeur entière de correspondre mais n&apos;est pas utilisé dans la comparaison du groupe de capture.
  </Collapser>

  <Collapser id="flags" title="À propos des drapeaux">
    Aucun indicateur n&apos;est activé par défaut. Voici quelques indicateurs utiles à inclure dans les expressions régulières du générateur de décisions :

    * CASE\_INSENSIBLE: (?i)

    * MULTILIGNE : (?m)

    * POINT: (?s)

      Consultez [la documentation détaillée des champs d&apos;Oracle](https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#field.detail) pour plus de notes sur la fonction et l&apos;implémentation de chacun de ces indicateurs.
  </Collapser>
</CollapserGroup>

## Assistant de corrélation [#assistant]

Vous pouvez utiliser l&apos;assistant de corrélation pour analyser plus rapidement les [événements d&apos;alerte](/docs/alerts/alerts-ai-overview-page#alert-events), créer une logique de décision et tester la logique avec une simulation. Pour utiliser l&apos;assistant de corrélation :

1. Accédez à l’onglet <DNT>**[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &gt; Alerts &gt; Issues &amp; activity &gt; Alert events**</DNT>.
2. Cochez les cases des événements d&apos;alerte que vous souhaitez corréler. Ensuite, au bas de la liste des événements d&apos;alerte, cliquez sur <DNT>**Correlate alert events**</DNT>.
3. Pour obtenir les meilleurs résultats lors de la corrélation des événements d&apos;alerte, sélectionnez des attributs communs avec un faible pourcentage de fréquence. [En savoir plus sur l&apos;utilisation de la fréquence](#frequency-tips).
4. Cliquez sur <DNT>**Simulate**</DNT> pour voir l’effet probable de votre nouvelle décision sur la dernière semaine de vos données.
5. Cliquez sur des exemples de paires de corrélations pour déterminer les corrélations à utiliser.
6. Si vous aimez ce qui a été simulé, cliquez sur <DNT>**Next**</DNT>, puis nommez et décrivez votre décision.
7. Si le résultat de la simulation affiche trop d&apos;événements d&apos;alerte potentiels, vous pouvez choisir un ensemble différent d&apos;attributs et d&apos;événements d&apos;alerte pour votre décision, et lancer une autre simulation. [En savoir plus sur la simulation](#simulations).

<CollapserGroup>
  <Collapser id="frequency-tips" title="Analyse des attributs">
    Deux types d’analyse d’attributs apparaissent dans l’ UI:

    * <DNT>**Common attributes:**</DNT> Cette analyse met simplement en évidence les attributs et les valeurs qui sont exactement les mêmes pour tous les événements d&apos;alerte sélectionnés.

    * <DNT>**Similar attributes:**</DNT> L&apos;analyse de similarité utilise l&apos;algorithme de Levenshtein avec une distance de 3 pour trouver les attributs dont les valeurs seraient identiques si 3 modifications de caractères ou moins étaient effectuées. Les valeurs numériques ainsi que les valeurs d&apos;un seul caractère sont filtrées des résultats. Les attributs similaires nécessitent la sélection de deux événements d&apos;alerte ; l&apos;analyse de similarité n&apos;est pas effectuée lorsque 3 événements d&apos;alerte ou plus sont sélectionnés.

      Pour créer les meilleures décisions, nous recommandons de choisir des attributs communs ayant une fréquence plus faible dans vos événements d&apos;alerte. Voici des conseils pour comprendre comment le choix d&apos;attributs à basse ou haute fréquence affecte vos décisions :

    * <DNT>**Low frequency:**</DNT> Par exemple, un attribut avec un 0 % dans la colonne de fréquence est probablement un identifiant unique ou un attribut qui n&apos;a été signalé dans vos données que récemment au cours du mois dernier. Le choix d&apos;un attribut de basse fréquence peut corréler quelques événements.

    * <DNT>**High frequency:**</DNT> À l’autre extrémité, un attribut avec une fréquence de 100 % serait celui qui est présent sur toutes vos données. Le choix de ces attributs mettra en corrélation l&apos;ensemble de votre événement.

      Par défaut, les attributs sont triés par fréquence la plus faible. Cliquez sur le pourcentage de fréquence d&apos;un attribut pour obtenir des informations sur la distribution des valeurs que nous avons vues signalées pour cet attribut au cours du mois dernier.
  </Collapser>
</CollapserGroup>

### Simulation vs corrélation en temps réel [#simulation-vs-decisions]

Il est important de comprendre la différence entre la simulation et la corrélation en temps réel dans les décisions :

* <DNT>**Simulation**</DNT>: La corrélation de simulation consiste à analyser deux événements d&apos;alerte distincts pour comprendre leur relation dans des conditions simulées. Ces événements d&apos;alerte peuvent provenir soit du même problème sous-jacent, soit de problèmes différents. L&apos;accent est mis sur la détermination des facteurs causaux potentiels ou des caractéristiques communes entre les événements d&apos;alerte individuels. La simulation vous permet de tester et de valider votre logique de corrélation sur des données historiques avant de l&apos;appliquer en temps réel.

* <DNT>**Real-time correlation (decisions)**</DNT>: En revanche, la corrélation en temps réel cible des problèmes distincts, chaque problème pouvant englober plusieurs événements d&apos;alerte. L&apos;objectif est de détecter et de relier des modèles à travers ces multiples événements d&apos;alerte afin d&apos;identifier les problèmes sous-jacents pour une corrélation plus efficace. La corrélation en temps réel exploite les flux de données en direct, permettant une identification et une réponse rapides aux problèmes émergents.

### Utilisation de la simulation [#simulations]

La simulation teste votre logique de corrélation en analysant deux événements d&apos;alerte distincts issus de la dernière semaine de vos données, vous indiquant combien de corrélations se seraient produites. Cela vous permet de valider votre logique de décision avant qu&apos;elle ne soit appliquée à la corrélation des problèmes en temps réel. Voici le détail des informations d&apos;aperçu de la décision affichées lors d&apos;une simulation :

* <DNT>**Potential correlation rate:**</DNT> Le pourcentage d&apos;événements d&apos;alerte testés que cette décision aurait affectés.
* <DNT>**Total created alert events:**</DNT> Le nombre d&apos;événements d&apos;alerte testés par cette décision.
* <DNT>**Total estimated correlated alert events:**</DNT> Le nombre estimé d&apos;événements d&apos;alerte que cette décision aurait corrélés.
* <DNT>**Alert event examples:**</DNT> Une liste de paires d&apos;événements d&apos;alerte que la décision aurait corrélées, incluant les attributs et valeurs de la règle, ainsi que d&apos;autres attributs populaires dans chaque paire. Cliquez sur les événements d&apos;alerte pour afficher les détails.

Exécutez la simulation avec différents attributs autant de fois que nécessaire jusqu&apos;à ce que vous obteniez les résultats souhaités. Lorsque vous êtes prêt, suivez l’invite UI pour enregistrer votre décision.

## Corrélation de topologie [#topology]

Pour les alertes New Relic, la topologie est une représentation de votre carte de services : la manière dont les services et les ressources de votre infrastructure sont liés les uns aux autres.

Pour les décisions utilisateur, une [décision de topologie par défaut](#global-decisions) est ajoutée et activée dans votre compte. Vous avez également la possibilité de [créer des décisions personnalisées](#customize).

Notre corrélation topologique identifie les relations entre les sources d&apos;événements d&apos;alerte pour déterminer si les [événements d&apos;alerte](/docs/alerts/alerts-ai-overview-page#alert-events) et donc leurs problèmes respectifs doivent être corrélés. La corrélation de topologie est conçue pour améliorer la qualité de vos corrélations et la vitesse à laquelle elles sont trouvées.

### Exigences [#topology-requirements]

Pour la corrélation automatique de la topologie (sans avoir besoin de configurer explicitement le graphe de topologie), assurez-vous que vos données de télémétrie sont collectées par des [agents New Relic](/docs/new-relic-solutions/new-relic-one/install-configure/compatibility-requirements-new-relic-agents-products/). Plus il y a de types d&apos;agents New Relic installés dans vos services et votre environnement, plus les décisions de topologie ont d&apos;opportunités de corréler vos événements d&apos;alerte.

### Comment fonctionne la corrélation topologique ? [#topology-explained]

<img title="topology-4.png" alt="A screenshot of New Relic topology explained" src="/images/alerts_diagram_topology-4.webp" />

<figcaption>
  Dans cette carte de service, les hôtes et les applications sont les sommets et les lignes montrant leurs relations sont les arêtes.
</figcaption>

Pour configurer votre topologie en plus de l&apos;[entité et des relations](/docs/new-relic-solutions/new-relic-one/core-concepts/what-entity-new-relic/) collectées par [l&apos;agentNew Relic ](/docs/new-relic-solutions/new-relic-one/install-configure/compatibility-requirements-new-relic-agents-products/), utilisez notre [APINerdGraph](#create-topology-graph).

La corrélation de topologie personnalisée repose sur deux concepts principaux :

* <DNT>**Vertex:**</DNT> Un sommet représente une entité monitorée. Il s&apos;agit de la source d&apos;où proviennent vos événements d&apos;alerte, ou qui décrit un symptôme problématique. Un sommet possède des attributs (paires clé/valeur) configurés, tels que des GUID d&apos;entité ou d&apos;autres identifiants, qui permettent de l&apos;associer aux événements d&apos;alerte entrants.
* <DNT>**Edges:**</DNT> Une arête est une connexion entre deux sommets. Les arêtes décrivent la relation entre les sommets.

Il peut être utile de comprendre comment la topologie est utilisée pour corréler les événements d&apos;alerte :

1. Tout d&apos;abord, New Relic collecte tous les événements d&apos;alerte pertinents. Cela inclut les événements d&apos;alerte pour lesquels les [étapes 1 et 2 de la logique de décision](#customize) sont vraies et qui se situent également dans la fenêtre temporelle définie dans les paramètres avancés.

   <img title="topology-1.png" alt="A screenshot of New Relic topology explained" src="/images/alerts_diagram_topology-1.webp" />

2. Ensuite, nous tentons d&apos;associer chaque événement d&apos;alerte à un sommet de votre [graphe de topologie](#create-topology-graph), en utilisant les attributs définissant un sommet et les attributs disponibles sur l&apos;événement d&apos;alerte.

   <img title="topology-2.png" alt="A screenshot of New Relic topology explained" src="/images/alerts_diagram_topology-2.webp" />

   <figcaption>
     Un exemple des étapes pour associer les événements d&apos;alerte aux informations dans le graphe de topologie.
   </figcaption>

3. Ensuite, les paires de sommets associées à des événements d&apos;alerte sont testées à l&apos;aide de l&apos;opérateur « topologiquement dépendant » pour déterminer si ces sommets sont connectés entre eux.

   <img title="topology-3.png" alt="A screenshot of New Relic topology explained" src="/images/alerts_diagram_topology-3.webp" />

   <figcaption>
     Cet opérateur vérifie s&apos;il existe un chemin dans le graphique qui relie les deux sommets en cinq sauts.
   </figcaption>

   Les événements d&apos;alerte sont ensuite corrélés et les problèmes sont fusionnés.

### Ajouter des attributs aux événements d&apos;alerte [#add-attributes]

Les événements d&apos;alerte sont connectés aux sommets à l&apos;aide des attributs de définition d&apos;un sommet. (Dans l&apos;exemple de topologie sous [Explication de la topologie](#topology-explained), chaque sommet possède un attribut de définition &quot;CID&quot; avec une valeur unique.) Ensuite, le système d&apos;alertes de New Relic trouve un sommet qui correspond à l&apos;attribut.

Si l&apos;attribut de définition que vous souhaitez utiliser sur vos sommets ne figure pas déjà dans vos événements d&apos;alerte, utilisez l&apos;une de ces options pour l&apos;ajouter :

<CollapserGroup>
  <Collapser id="tag-entities" title="étiquetez votre entité dans New Relic">
    En [ajoutant des tags à vos entités](/docs/new-relic-one/use-new-relic-one/core-concepts/use-tags-help-organize-find-your-data), ces tags enrichiront les événements d&apos;alerte générés par les alertes. Par exemple, si vous avez tagué vos entités avec `CID` et leurs valeurs uniques correspondantes, vous pouvez alors avoir des attributs de définition sur votre vertex comme suit : `'newrelic/tags/CID' : CID_VALUE`
  </Collapser>

  <Collapser id="facet-data" title="étiquetez votre entité dans New Relic">
    La création de [conditions d&apos;alerte NRQL](/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-nrql-alert-conditions) avec une ou plusieurs [facettes](/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-nrql-alert-conditions#syntax) définies regroupera vos données par attribut. De plus, les événements d&apos;alerte émis seront enrichis de ces attributs et valeurs. Pour les événements d&apos;alerte, les attributs à facettes suivent le même format : `newrelic/tags/ATTRIBUTE_NAME`
  </Collapser>
</CollapserGroup>

### Créer ou afficher la topologie [#create-topology-graph]

Pour configurer votre topologie ou afficher la topologie existante, consultez le [didacticiel sur la topologie NerdGraph](/docs/apis/nerdgraph/examples/topology-nerdgraph-tutorial).