---
title: Créez votre première alerte
tags:
  - Alerts
  - Alert conditions
  - NRQL
metaDescription: How to start writing NRQL alerts conditions with a step-by-step user case.
freshnessValidatedDate: never
translationType: machine
---

Une fois que vous avez connecté votre application à New Relic et commencé à explorer nos graphiques et notre dashboard, une bonne étape suivante consiste à créer une alerte pour tenir votre équipe informée de tout comportement inhabituel dans vos données. La fonctionnalité <InlinePopover type="alerts" />élève votre expérience New Relic de la simple ingestion de données à la prise de mesures réfléchies et efficaces.

Ici, nous vous guiderons à travers les cinq étapes de la création de votre première alerte afin que vous puissiez commencer à apprendre la fonctionnalité d&apos;alerte de New Relic.

<Steps>
  <Step>
    ## Créez votre état d&apos;alerte à partir d&apos;un graphique [#create-alert-condition]

    Le moyen le plus simple de commencer à utiliser les alertes est de créer une alerte à partir d&apos;un graphique New Relic. Cet itinéraire est le même que la création d’une condition d’alerte NRQL à partir de zéro, mais le graphique dispose déjà d’une requête NRQL avec laquelle vous pouvez travailler.

    Une condition d&apos;alerte est essentiellement un conteneur que vous créez pour définir les conditions qui doivent être remplies avant d&apos;être informé de tout comportement inhabituel. Pour cet exemple, vous allez créer une alerte qui avertit votre équipe de tout problème de latence avec le temps de transaction Web.

    Ainsi, dans ce cas, si vous souhaitez vous assurer que les transactions web ne durent jamais plus de 50 millisecondes, vous créerez une condition d&apos;alerte pour monitorer le moment où la durée des transactions web dépasse 50 millisecondes et crée un événement d&apos;alerte.

    <CollapserGroup>
      <Collapser id="select-your-query" title="Sélectionnez votre requête">
        Tout d’abord, accédez au graphique intitulé <DNT>**Web transactions time**</DNT> et cliquez sur <DNT>**create an alert condition**</DNT>.

        <img title="Alert condition from a chart" alt="A screenshot depicting how to create an alert condition from a chart" src="/images/alerts_screenshot-crop_create-an-alert-condition-from-a-chart.webp" />

        <img title="Select your query" alt="A screenshot demonstrating how to choose your query" src="/images/alerts_screenshot-crop_select-your-query.webp" />
      </Collapser>

      <Collapser id="name-your-condition" title="Nommez votre état">
        Il est important de donner à votre condition d’alerte un nom descriptif. Disons que vous nommez cette condition <DNT>**response time**</DNT> , puis que vous créez une autre condition pour une application complètement différente et que vous nommez également cette condition <DNT>**response time**</DNT> . Si cela se produit, vous ne serez pas en mesure de distinguer quelle condition correspond à quelle application. Assurez-vous donc de donner à votre condition un nom spécifique et unique. Dans ce cas, nous nommerions cette condition <DNT>**Response time: Example-app**</DNT>.
      </Collapser>

      <Collapser id="define-your-signal" title="Définissez votre signal">
        Une fois que vous avez nommé votre condition, vous pouvez apporter des modifications à la requête NRQL si vous le souhaitez. Pour votre première alerte, nous vous recommandons de ne pas ajuster la requête NRQL et de laisser cette section telle quelle, mais si vous souhaitez en savoir plus sur la façon d&apos;utiliser NRQL pour personnaliser votre requête, visitez notre [documentation](/docs/query-your-data/nrql-new-relic-query-language/get-started/introduction-nrql-new-relics-query-language/).

        <img title="Define your signal" alt="A screenshot that shows you how to define your signal" src="/images/alerts_screenshot-crop_define-your-signal.webp" />
      </Collapser>
    </CollapserGroup>
  </Step>

  <Step>
    ## Fixer le seuil de condition d&apos;alerte

    Si une condition d&apos;alerte est un conteneur, alors les seuils sont les règles que chaque condition d&apos;alerte contient. À mesure que les données affluent dans votre système, la condition d&apos;alerte recherche tout événement d&apos;alerte lié à ces règles. Si la condition d&apos;alerte détecte des données provenant de votre système qui remplissent toutes les conditions que vous avez définies, elle créera un événement d&apos;alerte. Un événement d&apos;alerte est un signal indiquant que quelque chose ne va pas dans votre système et que vous devez l&apos;examiner.

    Votre équipe crée une condition d&apos;alerte pour rechercher d&apos;éventuels problèmes de latence dans le temps de transaction Web. Maintenant, vous allez créer les règles que cette condition va rechercher.

    <CollapserGroup>
      <Collapser id="anomaly-threshold" title="Seuil d'anomalie (recommandé)">
        Votre équipe crée cette condition d&apos;alerte afin que vous soyez averti si le temps de transaction Web prend plus de temps que d&apos;habitude. Mais disons que vous ne vous souciez pas de la durée de transaction Web supplémentaire et que vous souhaitez simplement savoir si le temps de transaction se comporte de manière anormale. Pour ce cas d&apos;utilisation spécifique, nous vous recommandons d&apos;utiliser notre <DNT>**anomaly threshold**</DNT>. Notre détection d&apos;anomalies évalue en permanence vos données pour comprendre comment votre système se comporte normalement. En définissant un seuil d&apos;anomalie, vous pouvez utiliser notre détection d&apos;anomalie pour alerter votre équipe si le temps Web de transaction s&apos;écarte de ses performances attendues. Étant donné que vous souhaitez uniquement savoir si le temps de transaction Web se comporte de manière inhabituelle, vous devez sélectionner <DNT>**upper and lower**</DNT> car vous souhaitez être informé de *tout* écart. Mais si vous souhaitez uniquement recevoir des alertes si les délais de transaction sur le Web prennent *plus de temps* que d&apos;habitude, vous devez sélectionner <DNT>**upper only.**</DNT>

        Ensuite, vous devez définir le niveau de priorité. Le niveau de priorité détermine ce qui créera un événement d&apos;alerte. Nous vous recommandons de définir votre niveau de priorité sur <DNT>**critical**</DNT> pour votre première alerte. Vous pouvez en savoir plus sur les niveaux de priorité dans notre [documentation sur les conditions d&apos;alerte](/docs/alerts-applied-intelligence/new-relic-alerts/advanced-alerts/advanced-techniques/set-thresholds-alert-condition#threshold-levels).

        Ensuite, vous devez choisir ce qui définit un <DNT>**critical anomaly threshold breach**</DNT>. Pour cette première alerte, nous recommandons d&apos;utiliser nos paramètres par défaut et de les ajuster selon vos besoins si nécessaire. Laissez donc les paramètres pour ouvrir un événement d&apos;alerte &quot;lorsqu&apos;une requête renvoie une valeur s&apos;écartant de la valeur prédite : <DNT>**for at least five minutes**</DNT> de <DNT>**3 standard deviations**</DNT>&quot;.

        Apprenez-en plus sur les anomalies dans notre [documentation](/docs/alerts-applied-intelligence/applied-intelligence/anomaly-detection/anomaly-detection-applied-intelligence/) sur les anomalies.

        <DNT>
          /* &lt;img title=&quot;Configure your anomaly thresholds&quot; alt=&quot;A screenshot demonstrating how to configure custom anomalies&quot; src=&quot;/images/alerts_screenshot-crop_configure-your-anomaly-thresholds.webp&quot; /&gt; */
        </DNT>
      </Collapser>

      <Collapser id="static-threshold" title="Seuil statique">
        Contrairement aux seuils d&apos;anomalie, un seuil statique n&apos;examine pas votre jeu de données dans son ensemble et ne détermine pas quel comportement est inhabituel en se basant sur l&apos;historique de votre système. Au lieu de cela, un seuil statique ouvrira un événement d&apos;alerte chaque fois que votre système se comportera différemment des critères que vous avez définis. Les seuils d&apos;alerte statiques sont beaucoup plus personnalisables, et nous les recommandons si vous avez une connaissance approfondie de vos données et de ce que vous recherchez.

        Apprenez-en plus sur notre condition d&apos;alerte statique dans notre [documentationNRQL ](/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-nrql-alert-conditions/#threshold-types).
      </Collapser>

      <Collapser id="lost-signal" title="Seuil de perte de signal (optionnel)">
        Parfois, un signal entrant peut être perdu, et il est important de comprendre s&apos;il s&apos;agit simplement d&apos;un retard ou de l&apos;indication d&apos;un problème plus large. Notre <DNT>**lost signal threshold**</DNT> nous indique combien de secondes le système doit attendre depuis la détection du dernier point de données avant de considérer le signal comme perdu. Si le signal ne revient pas avant le délai que vous avez défini, vous avez plusieurs options : ouvrir un nouvel événement d&apos;alerte, fermer tous les événements d&apos;alerte ouverts et/ou ignorer l&apos;ouverture d&apos;un événement d&apos;alerte lorsque le signal est censé se terminer. Cliquez [ici](/docs/alerts/create-alert/create-alert-condition/create-nrql-alert-conditions/#signal-loss) pour en savoir plus sur vos options de seuil de perte de signal.

        La définition de votre seuil de signal perdu nécessite une connaissance de votre système et de ce que vous cherchez à comprendre. Dans le cas du temps de transaction Web, disons que New Relic collecte un signal toutes les minutes. Un signal perdu pourrait indiquer un problème de latence beaucoup plus important. Nous vous recommandons donc de régler l&apos;heure en fonction de votre niveau de confort, puis de cocher la case <DNT>**open a new lost signal alert event**</DNT>.

        <DNT>
          /* &lt;img title=&quot;&quot; alt=&quot;&quot; src=&quot;/images/alerts_screenshot-crop_lost-signal-threshold.webp&quot;/&gt; */
        </DNT>
      </Collapser>
    </CollapserGroup>
  </Step>

  <Step>
    ## Ajuster les paramètres avancés du signal [#advanced-signal-settings]

    New Relic observe en permanence les données qui transitent par votre application et pénètrent dans notre système. Mais toutes les applications n’envoient pas de signaux à la même fréquence ou cadence. Certains événements pourraient envoyer des signaux à notre système une fois par minute tandis que d&apos;autres ne pourraient signaler des données à New Relic qu&apos;une fois par jour. Une condition d’alerte est un conteneur <DNT>**specific**</DNT> conçu pour un cas d’utilisation <DNT>**specific**</DNT> . Lors de la création d&apos;une condition d&apos;alerte, cette section est la plus personnalisable pour les données que vous évaluez.

    Nous allons personnaliser ces paramètres de signal avancés pour notre condition qui recherche des problèmes de latence de transaction Web.

    <CollapserGroup>
      <Collapser id="window-duration" title="Durée de la fenêtre">
        <DNT>
          /* &lt;img title=&quot;Window duration&quot; alt=&quot;A screenshot depicting advanced custom settings for an alert condition.&quot; src=&quot;/images/alerts_screenshot-crop_window-duration.webp&quot; /&gt; */
        </DNT>

        La définition de la durée de la fenêtre pour votre condition d&apos;alerte indique New Relic comment regrouper vos données. Si vous créez une condition d&apos;alerte pour un ensemble de données qui envoie un signal à New Relic une fois par heure, vous souhaiterez définir la durée de la fenêtre sur une valeur plus proche de soixante minutes, car cela aidera à repérer les modèles et les comportements inhabituels. Mais si vous créez une condition d&apos;alerte pour le temps de transaction Web et New Relic collecte un signal pour ces données toutes les minutes, nous vous recommandons de définir la durée de la fenêtre sur une minute.

        Pour votre première alerte, nous vous recommandons de vous en tenir à nos paramètres par défaut, mais à mesure que vous vous familiariserez avec la création d&apos;une condition d&apos;alerte, nous vous encourageons à personnaliser ces champs en fonction de votre propre expérience.
      </Collapser>

      <Collapser id="sliding-window" title="Utiliser l'agrégation de fenêtres glissantes">
        Tout au long de la journée, les données affluent de votre application vers New Relic. Au lieu d&apos;évaluer ces données immédiatement pour des événements d&apos;alerte, les conditions d&apos;alerte collectent les données sur une période de temps appelée <DNT>**aggregation window**</DNT>. Un délai supplémentaire permet aux points de données plus lents d&apos;arriver avant que la fenêtre ne soit agrégée.

        Les fenêtres coulissantes sont utiles lorsque vous avez besoin de lisser des graphiques « en pointe ». Un cas d&apos;utilisation courant consiste à utiliser des fenêtres glissantes pour lisser les graphiques linéaires qui présentent de nombreuses variations sur de courtes périodes de temps dans les cas où l&apos;agrégat glissant est plus important que les agrégats provenant de fenêtres temporelles étroites.

        Nous vous recommandons d&apos;utiliser notre agrégation de fenêtres glissantes si vous ne vous attendez pas à avoir un flux de données constant et cohérent, mais que vous vous attendez à des baisses et des pics de données.

        Vous pouvez en apprendre davantage sur l’agrégation de fenêtres glissantes dans [ce didacticiel NRQL](/docs/query-your-data/nrql-new-relic-query-language/nrql-query-tutorials/create-smoother-charts-sliding-windows/) ou en regardant cette vidéo.

        <Video type="youtube" id="-5--8DZynFE" />
      </Collapser>

      <Collapser id="streaming-method" title="Méthode de diffusion en continu">
        En général, nous recommandons d&apos;utiliser la méthode de streaming <DNT>**event flow**</DNT> . Cette option est idéale pour les données qui arrivent fréquemment et régulièrement dans votre système. Il existe des cas spécifiques où <DNT>**event timer**</DNT> pourrait être une meilleure méthode à choisir, mais pour votre première alerte, nous recommandons notre valeur par défaut, <DNT>**event flow**</DNT>. Pour mieux comprendre quelle méthode de streaming choisir, nous vous recommandons de regarder cette courte vidéo.

        <Video type="wistia" id="n6nei987ln" />
      </Collapser>

      <Collapser id="delay" title="Retard">
        La fonctionnalité de délai vous protège contre une collecte de données incohérente. Cela donne à la condition d&apos;alerte une petite marge de manœuvre avant de décider de créer un événement d&apos;alerte. Si, au cours d&apos;une minute donnée, vos données arrivent dans New Relic avec des horodatages provenant d&apos;une seule minute, alors un paramètre de délai faible est suffisant. En revanche, si au cours de cette minute New Relic reçoit des points de données avec des horodatages de plusieurs minutes dans le passé ou le futur, alors votre signal est plus incohérent et nécessitera un réglage de délai plus élevé.
      </Collapser>

      <Collapser id="gap-filling-strategy" title="Stratégie de comblement des lacunes">
        Nous créons une condition d&apos;alerte pour informer notre équipe de tout problème de latence avec le temps de transaction Web. Dans ce cas, notre application envoie systématiquement des données New Relic. Il y a un flux constant de signaux envoyés depuis notre application vers New Relic et il n&apos;y a pas d&apos;écart prévu dans le signal, nous n&apos;aurons donc pas besoin de sélectionner une stratégie de comblement des écarts. Pour ce cas d&apos;utilisation, et pour votre première alerte, nous vous recommandons de laisser le <DNT>**gap-filling strategy**</DNT> défini sur <DNT>**none**</DNT>.

        Si vous disposez d&apos;un ensemble de données plus incohérent envoyant des signaux à New Relic une fois toutes les vingt-quatre heures, nous vous recommandons de personnaliser cette fonctionnalité en fonction des besoins spécifiques de votre équipe.

        Apprenez-en davantage sur les stratégies de comblement des lacunes dans nos [documents sur les signaux perdus](/docs/apis/nerdgraph/examples/nerdgraph-api-loss-signal-gap-filling/).
      </Collapser>
    </CollapserGroup>
  </Step>

  <Step>
    ## Reliez votre état à une politique [#connect-condition-policy]

    En cas de problèmes de latence concernant les temps de transaction web, nous souhaitons recevoir une notification dès que possible. L&apos;action la plus rapide et efficace consiste à créer une condition d&apos;alerte qui ouvrira un événement d&apos;alerte si les temps de transaction web sont trop longs.

    Cette condition d&apos;alerte est un conteneur qui contient toutes les règles : utilisons-nous un seuil statique ou d&apos;anomalie, utilisons-nous une agrégation à fenêtre glissante ou laissons-nous simplement la période d&apos;évaluation comme d&apos;habitude ?

    À ce stade du processus, nous disposons maintenant d&apos;un conteneur entièrement défini et nous avons configuré toutes les règles pour nous assurer qu&apos;un événement d&apos;alerte est ouvert lorsque nous le souhaitons. En fonction des paramètres ci-dessus, si notre condition d&apos;alerte détecte dans notre système ce comportement dépassant les seuils que nous avons définis, elle créera un événement d&apos;alerte. Maintenant, il ne nous reste plus qu&apos;à associer ce conteneur à une politique.

    La stratégie est le système de tri pour l&apos;événement d&apos;alerte. Lorsque vous créez une stratégie, vous créez l&apos;outil qui organise tous vos événements d&apos;alerte entrants. Vous pouvez connecter des politiques à <DNT>**[workflows](/docs/alerts/get-notified/alert-event-workflows/)**</DNT> qui indiquent à New Relic où vous souhaitez acheminer toutes ces informations entrantes, à quelle fréquence vous souhaitez qu&apos;elles soient envoyées et où.

    <CollapserGroup>
      <Collapser id="select-an-existing-policy" title="Sélectionnez une politique existante">
        Si vous disposez déjà d’une politique que vous souhaitez connecter à une condition d’alerte, sélectionnez la politique existante.

        Découvrez comment créer des politiques [ici](/docs/alerts/organize-alerts/specify-when-alerts-create-events).
      </Collapser>

      <Collapser id="create-a-new-policy" title="Créer une nouvelle politique">
        Si nous voulons créer une nouvelle politique pour cette condition d&apos;alerte, c&apos;est l&apos;occasion. N&apos;oubliez pas qu&apos;une politique est liée à des workflows et que les workflows contrôlent la fréquence à laquelle nous sommes notifiés des événements d&apos;alerte. C&apos;est un équilibre délicat entre s&apos;assurer que nous prenons connaissance de tout problème lié aux temps de transaction web aussi vite que possible et veiller à ne pas recevoir tant d&apos;alertes que nos développeurs en éprouvent de la fatigue et commencent à manquer des informations importantes à cause de la surcharge d&apos;informations.

        Les politiques peuvent contenir une ou plusieurs conditions. Si vous cherchez à monitorer la latence des transactions Web, vous disposez de quelques options.

        Tout d&apos;abord, vous pouvez créer une stratégie qui n&apos;associe qu&apos;un seul problème par stratégie (l&apos;option par défaut). Un problème par politique réduit le bruit mais nécessite également une action immédiate. Mais cela signifie que si vous avez associé plusieurs conditions à cette stratégie, et pas seulement à <DNT>**Response time: Example app**</DNT>, alors tous les événements d&apos;alerte de cette stratégie seront regroupés en un seul incident, quoi qu&apos;il arrive.

        Ou nous pourrions créer un problème par condition. Cela signifie que chaque fois que la condition <DNT>**Response time: Example app**</DNT> ouvre un événement d&apos;alerte, tous ces événements d&apos;alerte seront regroupés en un seul problème lié à notre condition. Pour ce cas d&apos;utilisation spécifique, vous devriez choisir cette option car elle répond à l&apos;objectif principal, qui est de monitorer les problèmes de latence liés au temps de transaction web.

        Ou nous pourrions créer un ticket pour chaque événement d&apos;alerte. Cette option est la plus bruyante, mais elle peut s&apos;avérer efficace si vous souhaitez envoyer des informations vers un système externe.

        Découvrez comment créer des politiques [ici](/docs/alerts/organize-alerts/specify-when-alerts-create-events).
      </Collapser>
    </CollapserGroup>
  </Step>

  <Step>
    ## Paramètres supplémentaires [#additional-settings]

    <CollapserGroup>
      <Collapser id="close-open-alert events" title="Fermer les événements d'alerte ouverts">
        Un événement d&apos;alerte se fermera automatiquement lorsque le signal ciblé reviendra à un état de non-violation pendant la période indiquée dans les seuils de la condition. Ce temps d&apos;attente est appelé la période de rétablissement.

        Par exemple, si le comportement de violation est &quot;le temps de transaction web est supérieur à 0,50 secondes au moins une fois en 5 minutes&quot;, alors l&apos;événement d&apos;alerte se fermera automatiquement lorsque le temps de transaction web est égal ou inférieur à 0,50 pendant 5 minutes consécutives.

        Lorsqu&apos;un événement d&apos;alerte se ferme automatiquement :

        1. L&apos;horodatage de clôture est rétroactif au début de la période de récupération.

        2. L&apos;évaluation se réinitialise et redémarre à partir du moment où l&apos;événement d&apos;alerte précédent s&apos;est terminé.

           Toutes les conditions disposent d&apos;un paramètre de limite de durée d&apos;événement d&apos;alerte qui force automatiquement la fermeture d&apos;un événement d&apos;alerte de longue durée.

           Nous définissons automatiquement la durée par défaut sur 3 jours et vous recommandons d&apos;utiliser nos paramètres par défaut pour votre première alerte.
      </Collapser>

      <Collapser id="custom-alert-event-description" title="Envoyer une description d'événement d'alerte personnalisée">
        Puisque nous créons une condition d&apos;alerte qui nous permet de savoir s&apos;il y a des problèmes de latence concernant le temps de transaction web, nous voulons nous assurer que nos développeurs disposent de toutes les informations nécessaires lorsqu&apos;ils sont notifiés de cet événement d&apos;alerte. Nous allons utiliser des workflows pour notifier un canal Slack d&apos;équipe lorsqu&apos;un événement d&apos;alerte est créé.

        En savoir plus sur les descriptions personnalisées d&apos;événements d&apos;alerte dans notre [documentation](/docs/alerts/create-alert/condition-details/custom-alert-event-descriptions).
      </Collapser>

      <Collapser id="runbook" title="Ajouter l'URL runbook">
        Si vous souhaitez créer un lien vers un runbook, vous pouvez placer l&apos;URL dans le champ URL du runbook.
      </Collapser>
    </CollapserGroup>
  </Step>
</Steps>