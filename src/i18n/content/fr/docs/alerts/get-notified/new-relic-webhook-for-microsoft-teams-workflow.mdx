---
title: New Relic pour workflowMicrosoft Teams
tags:
  - Alerts
  - Incident intelligence
  - New Relic webhook for Microsoft Teams workflow
metaDescription: Read about how to add a New Relic webhook for Microsoft Teams workflow.
freshnessValidatedDate: never
translationType: machine
---

Microsoft va supprimer le service de connecteur bas√© sur le webhook Microsoft 365 dans Teams d&apos;ici la fin de l&apos;ann√©e 2025. Pour continuer √† recevoir les notifications d‚Äôalerte New Relic , vous pouvez cr√©er un workflow dans Microsoft Teams √† l‚Äôaide de l‚Äôapplication de flux de travail. Ce document fournit des instructions pour mettre √† jour vos destinations d&apos;alerte et votre flux de travail New Relic afin de garantir une transition en douceur et des alertes ininterrompues dans vos canaux Teams. Pour plus d&apos;informations sur le retrait des services de connecteur Office 365, consultez [le blog des d√©veloppeurs Microsoft](https://devblogs.microsoft.com/microsoft365dev/retirement-of-office-365-connectors-within-microsoft-teams/).

**Pr√©requis :**

* Cr√©ez un nouveau workflow dans Microsoft Teams pour les alertes New Relic . Apr√®s avoir cr√©√© le workflow, copiez l‚ÄôURL de la requ√™te POST. Vous aurez besoin de cette URL dans New Relic. Pour plus d‚Äôinformations, reportez-vous √† [la documentation de Microsoft pour cr√©er un flux de travail dans Teams](https://support.microsoft.com/en-us/office/create-incoming-webhooks-with-workflows-for-microsoft-teams-8ae491c7-0394-4861-ba59-055e33f75498).

**Pour ajouter un webhook New Relic pour workflow Microsoft Teams¬†:**

1. Mettre √† jour la destination du webhook existant¬†:

   1. Acc√©dez √† **[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &amp;gt; Alerts &amp;gt; Enrich and Notify &amp;gt; Destinations**.
   2. Cliquez sur la destination du webhook requise li√©e √† Microsoft Teams pour la modifier.
   3. Apr√®s avoir cr√©√© un workflow dans Teams, dans le champ **Endpoint URL**, remplacez l‚ÄôURL existante par une nouvelle URL.
      <img title="Destinations update page" alt="Destinations update page." src="/images/alerts_destination_enpointurl.webp" />
   4. Cliquez sur **Update destination**.

2. Mettre √† jour le workflow webhook existant¬†:

   1. Acc√©dez √† **[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &amp;gt; Alerts &amp;gt; Enrich and Notify &amp;gt; Workflows**.
   2. Pour modifier la charge utile de notification, cliquez sur le workflow requis li√© √† la destination.
      <img title="Workflow update page" alt="Workflow update page." src="/images/alerts_workflow_payload.webp" />
   3. Sur l&apos;√©cran <DNT>Edit notification message</DNT> , dans le champ **Template** , copiez et collez la charge utile suivante¬†:

   ```json
     {
       "type": "message",
       "attachments": [
         {
           "contentType": "application/vnd.microsoft.card.adaptive",
           "contentUrl": null,
           "content": {
             "$schema": "http://adaptivecards.io/schemas/adaptive-card.json",
             "type": "AdaptiveCard",
             "version": "1.2",
             "msteams": { "width": "full" },
             "body": [
               {
                 "type": "ColumnSet",
                 "columns": [
                 
                 {
                                 "type": "Column",
                                 "items": [
                                     {
                                     "type": "Image",
                                     "style": "Person",
                                     "url": "https://avatars.slack-edge.com/2022-06-02/3611814361970_f6a28959c2e7258660ea_512.png",
                                     "size": "Small"
                                     }
                                 ],
                                 "width": "auto"
                                 },
                 
                   {
                     "type": "Column",
                     "items": [
                       {
                         "type": "TextBlock",
                         "size": "large",
                         "weight": "bolder",
                         "text": "{{ priorityText }} priority issue is {{#if issueClosedAt}}CLOSED{{else}}{{#if issueAcknowledgedAt}}ACKNOWLEDGED{{else}}ACTIVATED{{/if}}{{/if}}"
                       },
                       {
                         "type": "TextBlock",
                         "size": "large",
                         "wrap": "true",
                         "maxLines": "2",
                         "weight": "bolder",
                         "text": "[{{ issueTitle }}]({{ issuePageUrl }})"
                       }
                     ],
                     "width": "stretch"
                   }
                 ]
               },
               {{#if accumulations.conditionDescription.[0]}}
               {
                 "type": "TextBlock",
                 "text": {{ json accumulations.conditionDescription.[0] }},
                 "wrap": true
               },
               {{/if}}
               {{#eq "Not Available" violationChartUrl}}
               {{else}}
               {
                 "type": "Image",
                 "url": {{ json violationChartUrl }}
               }, 
               {{/eq}}
               {
                 "type": "FactSet",
                 "facts": [
                   {
                       "title": "*Impacted entities:*",
                       "value": "{{#each entitiesData.names}}{{#lt @index 5}}{{this}}{{#unless @last}},{{/unless}}{{/lt}}{{/each}}"
                   },
                   {{#if accumulations.policyName }}
                   {
                       "title": "*Policy:*",
                       "value": {{ json accumulations.policyName.[0]}}
                   },
                   {{/if}}
                   {{#if accumulations.conditionName }}
                   {
                       "title": "*Condition:*",
                       "value": {{ json accumulations.conditionName.[0]}}
                   },
                   {{#eq impactedEntitiesCount 1}}
                   {{else}}
                   {
                       "title": "*Total Incidents:*",
                       "value": {{ json impactedEntitiesCount}}
                   },
                   {{/eq}}
                   {{/if}}
                   {
                       "title": "Workflow Name:",
                       "value": {{ json workflowName }}
                   }
                 ]
               }, 
               {
                 "type": "ActionSet",
                 "actions": [
                       {
                           "type": "Action.OpenUrl",
                           "title": "üì• Acknowledge",
                           "url": {{ json issueAckUrl }}
                       },
                       {
                           "type": "Action.OpenUrl",
                           "title": "‚úîÔ∏è Close",
                           "url": {{ json issueCloseUrl }}
                       }
                       {{#if accumulations.deepLinkUrl}}
                       ,{
                           "type": "Action.OpenUrl",
                           "title": "üîé View Query",
                           "url": {{ json accumulations.deepLinkUrl.[0] }},
                           "mode": "secondary"
                       }
                       {{/if}}
                       {{#if accumulations.runbookUrl}}
                       ,{
                           "type": "Action.OpenUrl",
                           "title": "üìï View Runbook",
                           "url": {{ json accumulations.runbookUrl.[0] }},
                           "mode": "secondary"
                       }
                       {{/if}}
                   ]
               }
             ]
           }
         }
       ]
     }
   ```

   4. Cliquez sur **Save message**.