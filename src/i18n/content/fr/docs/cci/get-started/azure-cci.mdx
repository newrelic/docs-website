---
title: Intelligence Coûts du cloud - Azure
tags:
  - cloud cost intelligence
  - azure
  - azure cost management
  - cloud cost optimization
  - cci azure
metaDescription: 'Connect your Azure billing to New Relic Cloud Cost Intelligence to monitor, analyze, and optimize cloud spending across Azure services.'
redirect:
  - /docs/cci/financial-intelligence/cci-azure
  - /docs/cci/azure-cci
freshnessValidatedDate: '2025-10-15T00:00:00.000Z'
translationType: machine
---

<Callout title="Aperçu">
  Nous travaillons toujours sur cette fonctionnalité, mais nous aimerions que vous l&apos;essayiez !

  Cette fonctionnalité est actuellement fournie dans le cadre d&apos;un programme d&apos;aperçu conformément à nos [politiques de pré-sortie](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

Connectez votre facturation Azure à Cloud Cost Intelligence pour monitorer et optimiser les dépenses cloud. Affichez les schémas de dépenses, l&apos;utilisation des ressources et l&apos;allocation des coûts entre les services et les groupes de ressources.

Capacités clés :

* **Optimiser les ressources** - Identifier les services sous-utilisés ou coûteux et ajuster les allocations
* **Contrôler les coûts** - Suivez les facteurs de coûts pour le calcul, le stockage, la mise en réseau et les bases de données
* **Monitoring multi-abonnement** - Afficher les dépenses sur les abonnements et les groupes de gestion
* **Responsabilité des coûts** - Activez la refacturation à l&apos;aide des balises Azure et des groupes de ressources
* **Gestion budgétaire** - Définissez des alertes pour les seuils et les limites de dépenses

## Avant de commencer

Vous avez besoin de :

* Abonnement Azure avec un compte de facturation actif
* Rôle de contributeur ou de propriétaire sur l&apos;abonnement
* Accès à Azure Cost Management
* Permissions de lecteur de facturation pour l&apos;abonnement ou le groupe de gestion

## Instructions de configuration

<Callout variant="important">
  **Vous avez déjà une exportation FOCUS ?** Si vous disposez d&apos;une exportation de facturation existante au format **Cost and Usage (FOCUS)**, avec une fréquence quotidienne et une compression Parquet, vous pouvez l&apos;utiliser. Sinon, créez une nouvelle exportation en suivant [Vérifier l&apos;exportation existante](#check-existing-export), [Créer une exportation de facturation](#create-billing-export) et [Configurer les paramètres de stockage](#configure-storage-settings).
</Callout>

<Steps>
  <Step>
    ### Vérifier l&apos;exportation existante [#check-existing-export]

    Vérifiez si vous disposez déjà d&apos;une exportation de facturation avec le format requis :

    1. Dans le portail Azure, accédez à **Cost Management &amp; Billing**.
    2. Sélectionnez votre **Billing Scope**, puis développez **Settings** et cliquez sur **Exports**.
    3. Passez en revue la liste pour une exportation au format **Cost and Usage (FOCUS)** et une compression **Parquet**.

    * **Si une exportation correspondante existe**: Passez à [Sélectionner le compte New Relic](#select-new-relic-account).
    * **Si aucune exportation correspondante n&apos;existe**: Continuez vers [Créer une exportation de facturation](#create-billing-export).
  </Step>

  <Step>
    ### Créer une exportation de facturation [#create-billing-export]

    1. Dans le portail Azure, accédez à **Cost Management &amp; Billing**.
    2. Sélectionnez votre **Billing Scope**, puis développez **Settings** et cliquez sur **Exports**.
    3. Cliquez sur **Create**.
    4. Sélectionnez **Cost and Usage (FOCUS)** comme type d’exportation.

    <Callout variant="important">
      Pour EA et MCA, le format du type d&apos;exportation doit être **Cost and usage details (FOCUS) : 1.2-preview\..**
    </Callout>

    5. Fournir un préfixe d&apos;exportation. Configurer l&apos;exportation avec ces paramètres :

    <table>
      <thead>
        <tr>
          <th width={200}>
            paramètres
          </th>

          <th width={200}>
            Valeur
          </th>

          <th>
            Description
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Type de données
          </td>

          <td>
            Détails des coûts et de l&apos;utilisation (FOCUS) - Aperçu
          </td>

          <td>
            Fournit des informations détaillées sur les coûts et l&apos;utilisation au format FOCUS
          </td>
        </tr>

        <tr>
          <td>
            Nom d&apos;exportation
          </td>

          <td>
            Un nom descriptif de votre choix
          </td>

          <td>
            Identifiant significatif pour votre exportation
          </td>
        </tr>

        <tr>
          <td>
            Version du jeu de données
          </td>

          <td>
            1.2-preview (derniers fichiers de schéma de jeu de données)
          </td>

          <td>
            Dernière version du schéma disponible
          </td>
        </tr>

        <tr>
          <td>
            Fréquence
          </td>

          <td>
            Exportation quotidienne des coûts mensuels cumulés
          </td>

          <td>
            Les exportations quotidiennes capturent les informations sur les coûts du mois à ce jour
          </td>
        </tr>

        <tr>
          <td>
            Description de l&apos;exportation
          </td>

          <td>
            Une description significative de votre choix
          </td>

          <td>
            Contexte de l&apos;objectif d&apos;exportation
          </td>
        </tr>
      </tbody>
    </table>

    6. Cliquez sur **Next**.
  </Step>

  <Step>
    ### Configurer les paramètres de stockage [#configure-storage-settings]

    1. Configurez l&apos;emplacement de stockage de vos données de facturation Azure :

    <table>
      <thead>
        <tr>
          <th width={200}>
            Paramètre
          </th>

          <th width={200}>
            Valeur
          </th>

          <th>
            Description
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            Type de stockage
          </td>

          <td>
            Stockage d&apos;objets blob
          </td>

          <td>
            Stockage d&apos;objets blob Azure pour les données de coût
          </td>
        </tr>

        <tr>
          <td>
            Stockage de destination
          </td>

          <td>
            Utiliser un compte de stockage existant ou en créer un nouveau
          </td>

          <td>
            Emplacement de stockage des données de facturation
          </td>
        </tr>

        <tr>
          <td>
            conteneur et répertoire
          </td>

          <td>
            Utiliser le conteneur/répertoire existant ou en créer un nouveau
          </td>

          <td>
            structure organisationnelle pour la facturation des exportations
          </td>
        </tr>

        <tr>
          <td>
            Type de compression
          </td>

          <td>
            Parquet
          </td>

          <td>
            Offre une efficacité de stockage et des performances de requête optimales
          </td>
        </tr>

        <tr>
          <td>
            Écrasement des données
          </td>

          <td>
            Oui
          </td>

          <td>
            Permet la mise à jour des données existantes
          </td>
        </tr>

        <tr>
          <td>
            Partitionnement de fichiers
          </td>

          <td>
            Oui
          </td>

          <td>
            Permet une organisation et une récupération efficaces des données
          </td>
        </tr>
      </tbody>
    </table>

    <Callout variant="important">
      Nous recommandons que le compte de stockage soit basé dans **(US) East US**. Cela permet d’économiser sur les coûts de transfert de données sortantes. Le type de stockage doit être **stockage Azure Blob**.
    </Callout>

    2. Vérifiez vos paramètres.

    3. Cliquez sur **Create**.

    4. Vérifiez que l&apos;exportation apparaît dans votre liste **Exports** et assurez-vous que :

       * Le format FOCUS (FinOps Open Cost and Usage Specification) est en préversion
       * La version 1.2-preview du jeu de données est la dernière version du schéma
       * Les exportations quotidiennes capturent les informations sur les coûts du mois à ce jour
       * La compression Parquet offre une efficacité de stockage et des performances de requête
  </Step>

  <Step>
    ### Sélectionnez le compte New Relic [#select-new-relic-account]

    1. Allez à <DNT>[**one.newrelic.com**](https://one.newrelic.com) &gt; **All Capabilities** &gt; **Cloud Cost Intelligence - Azure**</DNT>.
    2. Sélectionnez votre compte et cliquez sur **Continue**.
  </Step>

  <Step>
    ### Fournir les informations de connexion Azure [#provide-azure-connection-details]

    1. Saisissez vos informations de facturation et de stockage Azure :

    <table>
      <thead>
        <tr>
          <th width={220}>
            Champ
          </th>

          <th>
            Description
          </th>

          <th>
            Emplacement
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            **Type de contrat Azure**
          </td>

          <td>
            Sélectionnez votre type d&apos;accord.
          </td>

          <td>
            Accédez à **Azure Console &gt; Cost Management + Billing &gt; Settings &gt; Properties**. Consultez [Billing accounts and scopes in the Azure portal](https://learn.microsoft.com/en-us/azure/cost-management-billing/manage/view-all-accounts).
          </td>
        </tr>

        <tr>
          <td>
            **ID du locataire**
          </td>

          <td>
            Saisissez l’identifiant unique de l’instance Microsoft Entra ID de votre organisation.
          </td>

          <td>
            Accédez au **[centre d&apos;administration Microsoft Entra](https://entra.microsoft.com/#home)**
          </td>
        </tr>

        <tr>
          <td>
            **ID de compte de facturation**
          </td>

          <td>
            Saisissez votre ID de compte de facturation.
          </td>

          <td>
            Accédez à **Azure Console &gt; Cost Management + Billing &gt; Settings &gt; Properties**. Consultez [Billing administration](https://learn.microsoft.com/en-us/azure/cost-management-billing/manage/direct-ea-administration#to-view-enrollment-properties).
          </td>
        </tr>

        <tr>
          <td>
            **Nom du compte de stockage Azure**
          </td>

          <td>
            Saisissez le nom du compte de stockage à partir de l&apos;exportation que vous avez créée. Pour réduire les coûts de transfert de données sortantes, utilisez un compte de stockage dans **East US (US)**. Le type de stockage doit être **Azure Blob storage**.
          </td>

          <td />
        </tr>

        <tr>
          <td>
            **Nom du conteneur de stockage**
          </td>

          <td>
            Saisissez le nom du conteneur dans votre compte de stockage qui contient les fichiers d’exportation de facturation.
          </td>

          <td>
            Accédez à **[Microsoft Azure](https://portal.azure.com/#home) &gt; Subscription &gt; Storage account &gt; Container** **Remarque**: vous devez accorder l’accès au principal du service New Relic à l’étape suivante pour ce conteneur.
          </td>
        </tr>

        <tr>
          <td>
            **Chemin du répertoire**
          </td>

          <td>
            Par défaut, Microsoft Azure crée des fichiers d&apos;exportation des coûts dans des dossiers avec des nomenclatures mensuelles, comme `20251101-20251130` pour novembre 2025 et `20251201-20251231` pour décembre 2025. CCI parcourt automatiquement ces fichiers pour les rapports de coûts quotidiens. Vous devez fournir le chemin d&apos;accès au répertoire uniquement si les fichiers n&apos;ont pas été configurés pour être publiés dans la racine du conteneur.

            **Exemple 1**: Si les fichiers sont configurés pour être publiés dans un conteneur de stockage nommé `newreliccciazure` à la racine.

            * **Action**: Laisser vide

            **Exemple 2**: Si les fichiers sont configurés pour être publiés dans un conteneur de stockage nommé `newreliccciazure` dans un répertoire spécifié `azureCostData`, avec un sous-répertoire comme `johnDoefiles`, la structure de dossiers de fichiers finale ressemble à `newreliccciazure/azureCostData/johnDoefiles/20251101`.

            * **Action**: Fournir `azureCostData/johnDoefiles` comme chemin d&apos;accès au répertoire
          </td>

          <td />
        </tr>
      </tbody>
    </table>

    2. Cliquez sur **Continue**.
  </Step>

  <Step>
    ### Autoriser l&apos;accès [#authorize-access]

    Autorisez le principal de service New Relic (**msazurecostdata**) à accéder à vos données de facturation :

    1. Cliquez sur **Initiate Connection**.
    2. Effectuez le flux d&apos;**Microsoft Authentication**.

    <Callout variant="important">
      Approbation de l&apos;administrateur Azure requise.
    </Callout>

    3. Acceptez la demande d&apos;authentification.
    4. Un petit fichier (0 Ko) sera téléchargé. Vous pouvez supprimer ce fichier.
  </Step>

  <Step>
    ### Confirmer le principal du service [#confirm-service-principal]

    Vérifiez que le principal de service a été ajouté :

    1. Accédez à **Enterprise Applications** dans **Microsoft Entra Account**.
    2. Confirmez que **msazurecostdata** apparaît dans la liste.

    <Callout variant="important">
      Consultez la [documentation Microsoft Entra](https://learn.microsoft.com/en-us/entra/identity/enterprise-apps/view-applications-portal) pour obtenir de l’aide sur l’affichage des applications d’entreprise.
    </Callout>
  </Step>

  <Step>
    ### Attribuer des autorisations [#assign-permissions]

    Attribuez le rôle **Storage Blob Data Reader** pour un accès en lecture seule :

    1. Ouvrez le conteneur de votre compte de stockage et sélectionnez **Access Control (IAM)**.
    2. Cliquez sur **Add** &gt; **Add role assignment**.
    3. Sélectionnez **Storage Blob Data Reader**.
    4. Recherchez et sélectionnez `msazurecostdata`.
    5. Cliquez sur **Review + Assign** et vérifiez que `msazurecostdata` apparaît dans les attributions de rôles.
  </Step>

  <Step>
    ### Vérifier la configuration [#verify-setup]

    Confirmer :

    * **msazurecostdata** apparaît dans **Enterprise Applications**

    * Le principal de service a le rôle **Storage Blob Data Reader**

    * Le rôle s&apos;applique au conteneur de stockage correct

    * Le test de connexion réussit dans New Relic

      <Callout variant="important">
        **Sécurité :** Le principal de service a un accès en lecture seule aux données de facturation uniquement. Il ne peut pas écrire, modifier ou supprimer des données.
      </Callout>
  </Step>

  <Step>
    ### Traitement des données [#data-processing]

    Le traitement initial prend jusqu&apos;à 12 heures. Vos données de coût apparaissent ensuite dans le dashboard Cost Overview.
  </Step>

  <Step>
    ### Visualisez vos données [#view-your-data]

    Accédez à [**Intelligent summary (Résumé intelligent)**](/docs/cci/financial-intelligence/intelligent-summary) pour afficher vos données de coût Azure et optimiser les dépenses.
  </Step>
</Steps>

<DocTiles numbered>
  <DocTile title="Set up AWS" path="/docs/cci/get-started/aws-cci" />

  <DocTile title="Set up Azure" label={{text: 'You are here', color: '#FCD672'}} path="/docs/cci/get-started/azure-cci" />

  <DocTile title="Set up Google Cloud Platform" path="/docs/cci/get-started/gcp-cci" />
</DocTiles>