---
title: EntityStorageMutation
metaDescription: Learn how to work the EntityStorageMutation component
freshnessValidatedDate: '2024-06-03T00:00:00.000Z'
translationType: machine
---

Enregistrez, supprimez ou mettez à jour un document de portée d&apos;entité dans NerdStorage. Afin de réaliser cette opération avec succès, l&apos;utilisateur doit disposer des autorisations appropriées.

### Usage

```js
import { EntityStorageMutation } from 'nr1'
```

### Exemples

#### Rédiger un document

```js
EntityStorageMutation.mutate({
  entityGuid: 'MTIzNDU2fEZPT3xCQVJ8OTg3NjU0Mzcz',
  actionType: EntityStorageMutation.ACTION_TYPE.WRITE_DOCUMENT,
  collection: 'myCollection',
  documentId: 'myDocumentId',
  document: {
    name: 'John',
    surname: 'Doe',
  },
});
```

#### Supprimer le document

```js
EntityStorageMutation.mutate({
  entityGuid: 'MTIzNDU2fEZPT3xCQVJ8OTg3NjU0Mzcz',
  actionType: EntityStorageMutation.ACTION_TYPE.DELETE_DOCUMENT,
  collection: 'myCollection',
  documentId: 'myDocumentId',
});
```

#### Supprimer la collection

```js
EntityStorageMutation.mutate({
  entityGuid: 'MTIzNDU2fEZPT3xCQVJ8OTg3NjU0Mzcz',
  actionType: EntityStorageMutation.ACTION_TYPE.DELETE_COLLECTION,
  collection: 'myCollection',
});
```

### Accessoires

<table>
  <tbody>
    <tr>
      <td>
        `actionType` <h5>OBLIGATOIRE</h5><h5>énumération</h5>
      </td>

      <td>
        Type d&apos;action à réaliser.

        <OptionReference>
          EntityStorageMutation.ACTION\_TYPE.DELETE\_COLLECTION, EntityStorageMutation.ACTION\_TYPE.DELETE\_DOCUMENT, EntityStorageMutation.ACTION\_TYPE.WRITE\_DOCUMENT,
        </OptionReference>
      </td>
    </tr>

    <tr>
      <td>
        `children` <h5>OBLIGATOIRE</h5><h5>fonction</h5>
      </td>

      <td>
        Rendre la fonction prop comme des enfants.

        <FunctionDefinition returnValue={[{"type":"React.ReactNode","description":""}]} arguments={[{"name":"mutate","type":"function","description":"Function to trigger a mutation from your UI."},{"name":"mutationResult","type":"MutationResult","description":"Results of the mutation."}]} />
      </td>
    </tr>

    <tr>
      <td>
        `collection` <h5>OBLIGATOIRE</h5> <h5>chaîne</h5>
      </td>

      <td>
        Nom de la collection.
      </td>
    </tr>

    <tr>
      <td>
        `document` <h5>objet</h5>
      </td>

      <td>
        Document NerdStorage. Les documents sont limités à une taille de 64 Ko lorsqu&apos;ils sont convertis en chaîne JSON.
      </td>
    </tr>

    <tr>
      <td>
        `documentId` <h5>chaîne</h5>
      </td>

      <td>
        Document identifiant pour opérer. En cas d&apos;omission, la collection entière est renvoyée.
      </td>
    </tr>

    <tr>
      <td>
        `entityGuid` <h5>OBLIGATOIRE</h5> <h5>chaîne</h5>
      </td>

      <td>
        GUID de l&apos;entité dans laquelle la collection est exploitée.
      </td>
    </tr>

    <tr>
      <td>
        `scopeByActor` <h5>booléen</h5>
      </td>

      <td>
        Établit si les données doivent être limitées par l&apos;acteur ou non ; c&apos;est-à-dire si les données lues ou enregistrées sont communes à tous ceux qui ont accès à l&apos;objet, ou si elles sont exclusives à l&apos;utilisateur. Un objet (entité ou compte) peut avoir à la fois des données « globales » et des données « limitées », et les données lues dépendront de l&apos;état de l&apos;indicateur.
      </td>
    </tr>
  </tbody>
</table>

### Méthodes

### `EntityStorageMutation.mutate`

<FunctionDefinition arguments={[{"description":"Object containing the mutation options. Any `EntityStorageMutation` prop is a valid option except `children`.","name":"props","type":"Object"}]} returnValue={{"description":"","type":"PromiseQueryResult"}} />

### Définitions de types

<TypeDefReference typeDef={{"name":"PromiseQueryResult","properties":[{"description":"Runtime error with `graphQLErrors` and `networkError` properties.","name":"error","type":"ApolloClient.ApolloError"},{"description":"Object containing the result of your query.","name":"data","type":"Object"},{"description":"If not `null`, `fetchMore` allows you to load more results for your query. New data is merged with previous data.","name":"fetchMore","type":"function|null"},{"description":"Refetch the query.","name":"refetch","type":"function"}]}} />

<TypeDefReference typeDef={{"name":"MutationResult","properties":[{"description":"Indicates that the request is in flight.","name":"loading","type":"boolean"},{"description":"Runtime error with `graphQLErrors` and `networkError` properties.","name":"error","type":"ApolloClient.ApolloError"},{"description":"Object containing the result of your mutation.","name":"data","type":"Object"}]}} />