---
title: 'adoption du cloud : optimisez l''architecture et les dépenses pour améliorer en permanence votre environnement cloud moderne'
tags:
  - New Relic solutions
  - New Relic solutions
  - Optimize your cloud native environment
metaDescription: Capture all the data you should leverage to optimize your cloud architecture and spend.
freshnessValidatedDate: never
translationType: machine
---

Dans le cloud, il est important d’examiner régulièrement et attentivement la manière dont vos applications et services sont architecturés et utilisés. C&apos;est le meilleur moyen d&apos;identifier les opportunités qui vous permettront de dimensionner correctement votre instance, d&apos;affiner votre base de données, de modifier votre utilisation du stockage, de mieux configurer vos équilibreurs de charge ou même de réarchitecturer vos applications.

Par exemple, si vous disposez d&apos;un ensemble de 20 instances fonctionnant toutes à 10 % d&apos;utilisation du processeur, vous pouvez envisager d&apos;utiliser une instance plus petite ou de consolider davantage de travail sur ces instances. Ce type de réflexion sur l’utilisation et les dépenses liées au cloud vous aidera à optimiser votre environnement et à économiser de l’argent rapidement.

L’optimisation de votre architecture cloud a trois objectifs principaux :

1. Améliorez les performances, la disponibilité et l&apos;expérience de l&apos;utilisateur final en tirant mieux parti des services cloud
2. Optimisez vos dépenses cloud en trouvant le délicat équilibre entre coût et performances
3. Capturez les mesures commerciales et techniques qui aident à justifier vos dépenses cloud actuelles et qui peuvent être référencées comme justification d&apos;un budget cloud plus important en fonction de la croissance

Dans ce didacticiel, nous vous montrerons comment utiliser la [plateforme New Relic](https://one.newrelic.com) pour capturer toutes les données que vous devez exploiter pour optimiser votre architecture cloud et vos dépenses.

## 1. instrumentez votre application et votre environnement cloud [#instrument]

Assurez-vous que les produits et l&apos;intégration suivants sont instrumentés :

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        instrument
      </th>

      <th>
        Détails
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [Installer l&apos;infrastructure](/docs/infrastructure/new-relic-infrastructure/installation)
      </td>

      <td>
        Instrumenter l&apos;infrastructure : si vous ne l&apos;avez pas déjà fait, examinez les exigences relatives à l&apos;[agent d&apos;infrastructure](/docs/infrastructure). L&apos;infrastructure est livrée avec plusieurs types d&apos;intégration, notamment [Amazon Web Services (AWS))](/docs/infrastructure/amazon-integrations/aws-integrations-list), [Microsoft Azure](/docs/integrations/microsoft-azure-integrations/azure-integrations-list) et [l&apos;intégration sur hôte](/docs/infrastructure/host-integrations/host-integrations-list). Après avoir installé l&apos;agent infrastructure sur votre ou vos hôtes, vous aurez immédiatement accès au large éventail de métriques collectées par l&apos;agent dès sa sortie de la boîte.
      </td>
    </tr>

    <tr>
      <td>
        [Installer l&apos;agent APM](/docs/agents/manage-apm-agents/installation/install-agent)
      </td>

      <td>
        instrumentez vos applications avec [APM](/docs/apm). Cela vous permettra de monitorer les performances de vos applications pendant que vous optimisez les services cloud sous-jacents. De cette façon, vous pouvez confirmer que vos modifications apportées à l’infrastructure améliorent réellement les performances des applications.
      </td>
    </tr>

    <tr>
      <td>
        [Configurer l&apos;intégration AWS](/docs/integrations/amazon-integrations/get-started/connect-aws-infrastructure)
      </td>

      <td>
        L&apos;intégration d&apos;Amazon de l&apos;infrastructure vous permet de monitorer vos données AWS partout sur notre plateforme, y compris infrastructure, le dashboard et les alertes.
      </td>
    </tr>

    <tr>
      <td>
        [Connectez-vous AWS Billing](/docs/integrations/amazon-integrations/aws-integrations-list/aws-billing-monitoring-integration)
      </td>

      <td>
        Si vous êtes hébergé dans un environnement AWS, New Relic peut vous aider à monitorer vos dépenses cloud avec notre intégration [AWS Billing](https://docs.aws.amazon.com/account-billing/index.html#lang/en_us) . Pour tirer parti de l&apos;intégration AWS Billing de New Relic, suivez les procédures décrites dans la [documentation Connect AWS Billing](/docs/integrations/amazon-integrations/aws-integrations-list/aws-billing-monitoring-integration)
      </td>
    </tr>
  </tbody>
</table>

## 2. Créer un dashboard pour afficher les mesures d&apos;anomalies infrastructure ; inclure les budgets AWS s&apos;ils sont disponibles [#create]

[Dashboards](/docs/query-your-data/explore-query-data/dashboards/introduction-new-relic-one-dashboards) vous permettent d&apos;écrire de puissantes requêtes personnalisées sur vos données et de visualiser les résultats dans un widget affiché sur un dashboard commun. Vous pouvez également alimenter les résultats de votre requête directement dans [des alertes](https://newrelic.com/alerts), où vous pourrez recevoir une notification immédiate sur tout écart identifié.

Pour cette étape, vous devez afficher les métriques d’infrastructure d’anomalie liées aux performances et à l’utilisation (CPU, mémoire, disque, base de données, etc.). Inclure les budgets AWS s&apos;ils sont disponibles.

Créez <InlinePopover type="dashboards" />individuels pour chaque application, puis collectez ces tableaux de bord dans une seule [application de données](/docs/insights/use-insights-ui/manage-dashboards/data-apps-build-collections-linked-dashboards), comme indiqué ici. Cette application de données de présentation de la production AWS affiche un ensemble de widgets relatifs à un budget de production AWS. Les applications de données sont idéales pour les présentations dans lesquelles vous souhaitez parcourir une série de sujets et également fournir un aperçu clair d&apos;un environnement ou d&apos;un service dans son ensemble.

<CollapserGroup>
  <Collapser id="org-dashboards" title="Créez un dashboard pour chaque niveau de votre organisation">
    Que vous soyez développeur, opérateur ou dirigeant, disposer d&apos;informations sur votre utilisation cloud peut vous aider à optimiser votre environnement cloud :

    * développeurs : comprendre ce que coûtent actuellement les applications peut aider les développeurs à configurer les applications pour utiliser davantage de services plus efficacement. Par exemple, les développeurs pourraient-ils réduire les coûts cloud en utilisant [AWS Lambda](https://aws.amazon.com/lambda/) ou une instance correctement dimensionnée ?

    * Opérateurs : le monitoring de l&apos;utilisation des applications permet aux opérateurs de détecter d&apos;éventuels dépassements dus à des services mal configurés. Par exemple, la configuration de mise à l’échelle automatique de l’équipe d’opérations est-elle correctement réduite ?

    * Dirigeants : une vue d&apos;ensemble des dépenses cloud prévues et réelles, pour des applications individuelles, par région et des totaux globaux, peut aider les dirigeants à prendre de meilleures décisions commerciales.

      Utilisez New Relic pour suivre vos dépenses cloud et assurez-vous que vos équipes sont immédiatement alertées lorsque vous dépassez le seuil.
  </Collapser>
</CollapserGroup>

## 3. Identifier les ressources pour l&apos;optimisation

Cette étape vous montre comment utiliser les métriques capturées par New Relic pour déterminer les ressources à optimiser.

<img title="Create an alert condition" alt="Create an alert condition" src="/images/alert-policy_screenshot-full_new-alert-conditions.webp" />

Dans l&apos;exemple dashboard ci-dessus, le widget d&apos;utilisation du processeur sur la gauche révèle que cette application utilise de nombreuses tailles d&apos;instance. Notez que l&apos;instance « c4.xlarge » (dans coral) consomme systématiquement seulement environ 20 % de la capacité du processeur. Cependant, lorsque vous analysez l&apos;utilisation de la mémoire c4.xlarge dans le widget central (vert clair), vous verrez que l&apos;utilisation de la mémoire pour cette instance varie de 20 % à 80 %. Cela suggère que l&apos;application est plus gourmande en mémoire qu&apos;en CPU. Dans ce cas, le type d&apos;instance doit être modifié d&apos;une instance optimisée pour le calcul à une instance optimisée pour la mémoire. Notez que le graphique à droite du dashboard peut être utilisé pour monitorer le temps de réponse moyen de l&apos;application au fur et à mesure que vous effectuez ces optimisations.

Ceci n’est qu’un exemple de la manière d’identifier les ressources basées sur le cloud qui pourraient être candidates à l’optimisation.

Maintenant que vous avez identifié l’architecture à optimiser, allez-y et faites-le. Que vous dimensionniez correctement votre instance, affiniez votre base de données, modifiiez votre utilisation du stockage, configuriez mieux vos équilibreurs de charge ou même réarchitecturiez vos applications, votre objectif final est de pouvoir comparer votre nouvelle architecture optimisée à l&apos;anomalie que vous avez capturée à l&apos;étape 2. Pour en savoir plus sur l&apos;anomalie, veuillez consulter le [didacticiel Établir des objectifs et une anomalie](/docs/1-adopt-easily-establish-objectives-baselines-define-team-slos).

## 4. Facultatif : configurer des alertes [#alerts]

Vous pouvez créer une condition d&apos;alerte pour une requête NRQL . Assurez-vous de consulter la [documentation complète](/docs/alerts/new-relic-alerts/defining-conditions/create-alert-conditions-nrql-queries) si nécessaire.

Utilisez cette requête pour configurer des alertes :

```sql
SELECT latest(`provider.actualAmount`) AS '$ Actual', 
       latest(`provider.forecastedAmount`) AS '$ Forecast', 
       max(`provider.limitAmount`) AS '$ Limit' 
FROM FinanceSample WHERE provider = 'BillingBudget' 
AND `provider.budgetName` = '[Your Cloud Budget]'
```

Si vous pouvez écrire des requêtes sur vos données et les afficher dans le dashboard, vous pouvez facilement les utiliser pour générer [une condition d&apos;alerte](/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-alert-conditions/).

### requête d&apos;anomalie [#anomaly-queries]

New Relic vous permet également d’écrire des « requêtes d’anomalie » sur vos données. Il s&apos;agit de requêtes que vous écrivez sans définir de limites strictes sur les résultats. Au lieu de cela, vous laissez les alertes New Relic apprendre automatiquement vos données de performances, puis vous avertir lorsque vos données s&apos;éloignent trop de vos chiffres d&apos;anomalie.

Pour créer une requête d&apos;anomalie, rendez-vous sur la [console Alert](/docs/alerts/new-relic-alerts/configuring-alert-policies/create-or-rename-alert-policy#alert-policy-name), allez dans règle d&apos;alerte, et ajoutez une Nouvelle règle d&apos;alerte. Ensuite, suivez ces étapes :

1. Créer une règle d&apos;alerte. Donnez à votre politique un nom concis et descriptif et sélectionnez une préférence d’incident. Sélectionnez ensuite Créer une règle d&apos;alerte.

2. Créer une condition. Sélectionner <DNT>**NRQL**</DNT>

   /\* &lt;img title=&quot;Saisir une requête NQRL&quot; alt=&quot;Saisir une requête NQRL&quot; src=&quot;/images/alert-policy\_screenshot-full\_enter-nrql.webp&quot; /&gt; \*/

3. Définissez votre requête et décidez du degré de restriction avec lequel les alertes New Relic doivent analyser vos données à l&apos;aide d&apos;un simple curseur et d&apos;une visualisation basée sur vos performances récentes.

   /\* &lt;img title=&quot;Saisir un seuil&quot; alt=&quot;Saisir un seuil&quot; src=&quot;/images/alert-policy\_screenshot-full\_enter-threshold.webp&quot; /&gt; \*/

   Le curseur en bas du graphique augmente ou diminue la bande grise autour de votre seuil budgétaire (la ligne bleue). Le paramètre affiché aurait entraîné zéro incident sur la base de données récentes, et c&apos;est ce que vous recherchez. Toutefois, si cette ligne bleue monte ou descend en dehors de la bande grise, nous vous en informerons immédiatement.

   Les alertes constituent un excellent moyen de vous aider à en savoir plus de manière proactive sur vos dépenses cloud ou sur vos données de performances.

## En savoir plus [#learn-more]

* Consultez le didacticiel [sur les alertes proactives et l’orchestration incident ](/docs/4-fail-fast-set-proactive-alerts-align-teams-tools-processes-incident-response)pour une analyse plus approfondie de certaines des bonnes pratiques décrites ci-dessus.