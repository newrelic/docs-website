---
title: Valider les paramètres du fichier de configuration avec nrdiag
tags:
  - Using New Relic
  - Cross-product functions
  - Diagnostics CLI (nrdiag)
metaDescription: 'How to validate your config file settings when using New Relic Diagnostics (nrdiag); for example, with deployments.'
freshnessValidatedDate: never
translationType: machine
---

L&apos;interface de ligne de commande de diagnostic inclut une validation détaillée des paramètres de configuration pour le fichier `newrelic.yml` de l&apos;agent Java. Pour demander de l&apos;assistance pour d&apos;autres agents New Relic, utilisez notre [modèle GitHub](https://github.com/newrelic/newrelic-diagnostics-cli/issues/new?assignees=&labels=enhancement%2C+needs-triage&template=enhancement.md&title=).

Si vous exécutez `nrdiag` de la manière habituelle (sur le système exécutant votre application avec l&apos;agent New Relic déjà installé), la nouvelle validation est appliquée automatiquement et tous les avertissements apparaissent également automatiquement.

## Exemple de déploiement [#deployments]

Vous pouvez également utiliser cette fonctionnalité comme linter pour valider un fichier de configuration avant le déploiement. Pour ce faire, exécutez la tâche appropriée et indiquez le chemin d’accès à votre fichier de configuration.

Par exemple, si vos `newrelic.yml` et `nrdiag` se trouvent tous les deux dans le répertoire actuel, exécutez la commande suivante pour analyser le fichier de configuration :

```shell
./nrdiag -t Java/Config/ValidateSettings -c newrelic.yml
```

Voici un exemple de sortie pour un paramètre incorrect. Le paramètre `agent_enabled` dans ce cas a une valeur de `yes`, mais l&apos;agent Java accepte uniquement les valeurs `true` ou `false`. Cette mauvaise configuration empêchera l&apos;exécution de l&apos;agent.

<img title="agent_enabled.png" alt="Screenshot of a terminal window showing command output. The agent_enabled setting is called out as incorrect." src="/images/agent_enabled.webp" />

<figcaption>
  Si vous activez votre agent Java de manière incorrecte, l&apos;interface de ligne de commande de diagnostic renvoie un message comme celui-ci, décrivant le paramètre qui doit être mis à jour et comment il doit être modifié.
</figcaption>