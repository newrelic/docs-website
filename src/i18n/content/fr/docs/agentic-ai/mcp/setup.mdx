---
title: Configurer le MCP New Relic
metaDescription: Step-by-step instructions to configure New Relic's Model Context Protocol server with your preferred AI development tools.
freshnessValidatedDate: never
translationType: machine
---

Ce guide vous accompagne dans la configuration du serveur MCP (Model Context Protocol) de New Relic avec vos outils de développement d&apos;IA préférés. Choisissez votre environnement ci-dessous pour obtenir des instructions spécifiques à votre plateforme.

<Callout variant="important">
  L&apos;utilisation de tout outil d&apos;IA, y compris, mais sans s&apos;y limiter, ceux énumérés sur cette page, avec les serveurs New Relic AI MCP signifie que votre IA agira en votre nom. Lorsque vous utilisez l&apos;une ou l&apos;autre des méthodes décrites ici, créez et utilisez des comptes New Relic appropriés disposant du contrôle d&apos;accès basé sur les rôles (RBAC) et des autorisations d&apos;accès minimales adaptées à votre cas d&apos;utilisation, à vos exigences et à vos politiques internes.
</Callout>

Avant de commencer la configuration de New Relic MCP, assurez-vous d&apos;avoir rempli les [conditions préalables](/docs/agentic-ai/mcp/overview#prerequisites), y compris la configuration de l&apos;authentification. Suivez ensuite les instructions correspondant à votre environnement de développement spécifique.

## Outils de filtrage avec balise include [#filtering-tools]

Les outils New Relic MCP sont organisés et catégorisés à l&apos;aide d&apos;une étiquette interne (telle que `alerting`, `discovery`, et `data-access`).

Vous pouvez filtrer dynamiquement les outils auxquels votre agent d&apos;IA accède en envoyant l&apos;en-tête `include-tags` `HTTP` avec vos requests comme indiqué ici :

<Callout variant="important">
  **Avis concernant la région États-Unis/UE :** Les exemples de configuration de cette rubrique utilisent l’URL de connexion MCP de la région États-Unis : [https://mcp.newrelic.com/mcp/](https://mcp.newrelic.com/mcp/). Si votre compte New Relic se trouve dans la région UE, vous devez remplacer cette URL par le point de terminaison régional dans tous les fichiers de configuration et les arguments de ligne de commande : [https://mcp.eu.newrelic.com/mcp/](https://mcp.eu.newrelic.com/mcp/).
</Callout>

```json
"servers": {
    "new-relic-mcp-server": {
        "url": "https://mcp.newrelic.com/mcp/",
        "type": "http",
        "headers": {
            "api-key": "NRAK-****",
            "include-tags": "discovery,alerting"
        }
    }
}
```

Pour obtenir la liste complète des balises disponibles et des outils associés à chacune, reportez-vous à la documentation [de référence des outils New Relic MCP](/docs/agentic-ai/mcp/tool-reference).

## Configuration du code Claude [#claude-code]

Claude Code prend en charge les méthodes d&apos;authentification OAuth (recommandée) et par clé API.

### Méthode OAuth (recommandée) [#oauth]

1. Assurez-vous que Claude Code est installé et configuré.
2. Ajoutez le serveur MCP à l&apos;aide de la ligne de commande :

```shell
claude mcp add newrelic --transport http https://mcp.newrelic.com/mcp/
```

Ou modifiez `~/.claude.json` comme indiqué ici :

```json
{
  "mcpServers": {
    "newrelic": {
      "httpUrl": "https://mcp.newrelic.com/mcp/",
      "oauth": {
        "enabled": true,
        "clientId": "pUWGgnjsQ0bydqCbavTPpw==",
        "authorizationUrl": "https://login.newrelic.com/login",
        "tokenUrl": "https://mcp.newrelic.com/oauth2/token",
        "scopes": ["openid"]
      }
    }
  }
}
```

3. Commencez par Claude :

```shell
claude
```

4. Authentifier:

```shell
/mcp
```

5. Sélectionnez le serveur mcp `newrelic` et appuyez sur **ENTER**.

6. Suivez le flux du navigateur `OAuth`.

### méthode de clé API [#api-key]

1. Ajoutez le serveur MCP à l&apos;aide de la ligne de commande :

```shell
claude mcp add newrelic https://mcp.newrelic.com/mcp/ --transport http --header "Api-Key: NRAK-YOUR-KEY-HERE"
```

Ou modifiez `~/.claude.json` comme indiqué ici :

```json
{
  "mcpServers": {
    "newrelic": {
      "type": "http",
      "url": "https://mcp.newrelic.com/mcp/",
      "headers": {
        "Api-Key": "NRAK-YOUR-KEY-HERE"
       }
    }
  }
}
```

2. Vérifiez que le serveur MCP est bien répertorié :

```shell
claude mcp list
```

3. Commencez par Claude :

```shell
claude
```

## Configuration du bureau Claude [#claude-desktop]

Claude Desktop nécessite le proxy `mcp-remote` pour l&apos;authentification `OAuth`.

### Méthode OAuth (recommandée) [#oauth]

1. Créez le répertoire de configuration (si nécessaire) :

```shell
mkdir -p "~/Library/Application Support/Claude"
```

2. Modifiez le fichier de configuration : `~/Library/Application Support/Claude/claude_desktop_config.json` (macOS) ou `%APPDATA%\Claude\claude_desktop_config.json` (Windows).

```json
{
  "mcpServers": {
    "new-relic-mcp": {
      "command": "npx",
      "args": [
        "mcp-remote",
        "https://mcp.newrelic.com/mcp/"
      ]
    }
  }
}
```

3. Redémarrez Claude Desktop.

### méthode de clé API [#api-key]

1. Ajoutez le serveur MCP en modifiant `~/Library/Application Support/Claude/claude_desktop_config.json` (macOS) ou `%APPDATA%\Claude\claude_desktop_config.json` (Windows) comme indiqué ici :

```json
{
  "mcpServers": {
    "newrelic": {
      "url": "https://mcp.newrelic.com/mcp/",
      "transport": "http",
      "headers": {
        "api-key": "NRAK-YOUR-KEY-HERE"
      }
    }
  }
}
```

2. Redémarrez Claude Desktop.

## équipement de planche à voile [#windsurf]

### Méthode OAuth (via proxy distant mcp) [#oauth]

1. Modifiez le fichier de configuration, `~/.codeium/windsurf/mcp_config.json`, comme indiqué ici :

```json
{
  "mcpServers": {
    "newrelic-oauth": {
      "command": "npx",
      "args": [
        "-y",
        "mcp-remote",
        "https://mcp.newrelic.com/mcp/"
      ]
    }
  }
}
```

2. Redémarrez la planche à voile.

3. Vérifiez les serveurs MCP à l&apos;aide de l&apos;icône en forme de marteau dans le panneau Cascade.

### méthode de clé API [#api-key]

1. Ajoutez le serveur MCP en modifiant `~/.codeium/windsurf/mcp_config.json` comme indiqué ici :

```json
{
  "mcpServers": {
    "newrelic-api": {
      "serverUrl": "https://mcp.newrelic.com/mcp/",
      "headers": {
        "api-key": "NRAK-YOUR-API-KEY"
      }
    }
  }
}
```

2. Redémarrez la planche à voile.

## Configuration de l&apos;interface de ligne de commande Gemini [#gemini-cli]

### Méthode OAuth [#oauth]

1. Modifier le fichier de paramètres : `~/.gemini/settings.json` (Linux/macOS) ou `%APPDATA%\Gemini\settings.json` (Windows).

```json
{
  "theme": "Default",
  "selectedAuthType": "oauth-personal",
  "mcpServers": {
    "newrelic": {
      "httpUrl": "https://mcp.newrelic.com/mcp/",
      "oauth": {
        "enabled": true,
        "clientId": "pUWGgnjsQ0bydqCbavTPpw==",
        "authorizationUrl": "https://login.newrelic.com/login",
        "tokenUrl": "https://mcp.newrelic.com/oauth2/token",
        "scopes": ["openid"]
      }
    }
  }
}
```

2. Démarrer Gemini CLI :

```shell
gemini
```

3. Authentifier:

```shell
/mcp auth newrelic
```

### méthode de clé API [#api-key]

1. Ajoutez le serveur MCP en modifiant `~/.gemini/settings.json` (Linux/macOS) ou `%APPDATA%\Gemini\settings.json` (Windows) comme indiqué ici :

```json
{
  "theme": "Default",
  "selectedAuthType": "oauth-personal",
  "mcpServers": {
    "newrelic": {
      "url": "https://mcp.newrelic.com/mcp/",
      "headers": {
        "api-key": "NRAK-YOUR-KEY-HERE"
      }
    }
  }
}
```

2. Démarrer Gemini CLI :

```shell
gemini
```

3. Authentifier:

```shell
/mcp auth newrelic
```

## Configuration de VS Code [#vs-code]

VS Code reste entièrement compatible avec les deux méthodes d&apos;authentification. Vous avez besoin de VS Code (version 1.60 ou ultérieure).

### Méthode OAuth [#oauth]

Ajoutez le serveur MCP en modifiant `.vscode/mcp.json` comme indiqué ici :

```json
{
  "servers": {
    "new-relic-mcp": {
      "url": "https://mcp.newrelic.com/mcp/",
      "type": "http"
    }
  }
}
```

### méthode de clé API [#api-key]

Ajoutez le serveur MCP en modifiant `.vscode/mcp.json` comme indiqué ici :

```json
{
  "servers": {
    "new-relic-mcp": {
      "url": "https://mcp.newrelic.com/mcp/",
      "headers": {
        "api-key": "NRAK-YOUR-API-KEY-HERE"
      }
    }
  }
}
```

### Étapes de configuration

1. Créez ou ouvrez `mcp.json` dans votre espace de travail VS Code :

* Si vous n&apos;avez pas de répertoire `.vscode`, créez-en un à la racine de votre projet.

  * Dans `.vscode`, créez un fichier nommé `mcp.json`.
  * Ajoutez votre configuration d&apos;authentification en utilisant l&apos;une des méthodes ci-dessus.

2. Démarrer le serveur :

   * Assurez-vous que votre fichier `mcp.json` est ouvert dans l&apos;éditeur.
   * Recherchez un lien cliquable (CodeLens) au-dessus de la configuration de votre serveur. Cliquez dessus pour démarrer le serveur MCP.

Une fois connecté, vous pouvez interagir avec New Relic AI en utilisant des instructions en langage naturel. Le serveur MCP gérera l&apos;authentification et la récupération des données depuis votre compte New Relic.