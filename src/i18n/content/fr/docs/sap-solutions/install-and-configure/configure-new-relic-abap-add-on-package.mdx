---
title: Configurer le package complémentaire New Relic ABAP
metaDescription: Configure New Relic ABAP add-on package.
freshnessValidatedDate: never
translationType: machine
---

## Utilisation du menu /NEWR/INSTALL [#menu-newr-install]

1. connectez-vous au client de production du système monitoring central.
2. Démarrez la configuration du fournisseur de données en accédant au menu de la zone `/NEWR/INSTALL`.
3. Accédez au **menu racine SAP Easy Access** avant de démarrer le menu de zone en tapant `/n/NEWR/INSTALL` dans le champ de commande.

<Callout variant="tip">
  Si vous n&apos;êtes pas sûr d&apos;être dans le **menu racine de SAP Easy Access**, saisissez `/n` et appuyez sur **Enter**.
</Callout>

Après avoir installé avec succès le module complémentaire sur le système monitoring central :

* Assurez-vous que le programme d&apos;installation dispose de l&apos;autorisation appropriée pour effectuer la configuration.
* Notez le nouveau code transaction introduit par le package complémentaire, répertorié dans **Transaction Code for NRM4SAP Installation and Configuration**.
* Ajoutez le paramètre `/NEWR/*` aux objets d&apos;autorisation de code dans le `profile/role` du programme d&apos;installation.

<Callout variant="tip">
  Si vous effectuez une mise à niveau à partir d&apos;une version précédente, reportez-vous [à Mise à niveau à partir d&apos;une version précédente](/docs/sap-solutions/upgrade-from-a-previous-version/install-upgrade-package) pour déterminer les étapes nécessaires.
</Callout>

## Connecter le système et générer la configuration [#connect-systems]

<Callout variant="important">
  Terminez les étapes de configuration avant l&apos;installation si elles n&apos;ont pas encore été effectuées.
</Callout>

* **Configurer les destinations HTTP et RFC**: Utilisez cette option pour appeler la transaction `SM59` et vérifier vos connexions [RFC](/docs/sap-solutions/additional-resources/additional-configuration/#create-rfc-for-monitored-systems) et [HTTPS](/docs/sap-solutions/additional-resources/additional-configuration/#set-http-destination-to-new-relic-cloud).

* **Configurer la connexion à la base de données distante**:

  * Utilisez transaction SAP **DBACOCKPIT** pour vérifier la configuration des connexions à la base de données HANA distante.
  * Assurez-vous qu&apos;une connexion à la base de données est créée pour chaque base de données HANA distante que vous souhaitez monitorer.
  * Pour des instructions détaillées, consultez [Créer une connexion à la base de données](/docs/sap-solutions/additional-resources/additional-configuration/#create-database-connection).

  <img title="Configure New Relic" alt="A screenshot displaying the SAP install new release and patch" src="/images/configure-newrelic.webp" width="500" />

* **Configurer les connexions aux NR points de terminaison d&apos;API**:

  1. Cliquez sur **New Entries**.
  2. Saisissez le <DNT>**New Relic Account ID**</DNT> (éventuellement préfixé par SAP-), l&apos;**API Ingest Key**, le **Metric Endpoint**, l&apos;**Event Endpoint**, le **Log Endpoint** et le** Trace Endpoint** pour le compte New Relic.
  3. Cliquez sur **Save**.

  <img title="New Entry" alt="A screenshot displaying the SAP HANA database new entry" src="/images/new-entry-1.webp" width="1000" />

* **Copier les tables de modèles du client 000**: Exécutez cette option pour copier la table du client 000 en cliquant sur l’icône<img src="/images/new-relic-sap-clock.webp" class="inline" style={{height: "20px", width: "20px"}} alt="clock indicator in New Relic" title="Multiple apps name indicator in New Relic" />

  icône et confirmez le succès avec le message de réussite.

* **Définir le système de monitoring**: Utilisez cette option pour définir le système de monitoring.

  1. Cliquez sur **New Entries** pour saisir le **SAP System ID** et le numéro de **Client**.
  2. Dans **Data Provider Installation Information**, spécifiez la **Destination** RFC, sélectionnez le **Software Component** SAP, entrez le **Database Vendor** et indiquez le **DB Connection Name** (base de données HANA uniquement).
  3. Cliquez sur **Monitoring Group**, sélectionnez **Yes** dans la boîte de dialogue pour confirmer.
  4. Choisissez les groupes de monitoring nécessaires et cliquez sur l&apos;icône<img src="/images/generate.webp" class="inline" style={{height: "25px", width: "50px"}} alt="generate icon in New Relic" title="Multiple apps name indicator in New Relic" />pour compléter le processus.
  5. Cliquez sur **BACK** ou sur la touche **F3** pour passer à l’étape suivante.

  <img title="New Entry" alt="A screenshot displaying the SAP HANA database new entry" src="/images/details-of-added-entry.webp" width="600" />

<CollapserGroup>
  <Collapser id="sap-versions" title="Versions des composants SAP">
    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            Groupe de monitoring
          </th>

          <th>
            Fournisseurs de données inclus
          </th>

          <th>
            Appliqué au type de système
          </th>

          <th>
            Notes spéciales
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            BIZ\_DOC
          </td>

          <td>
            Modifier un événement de document pour des objets métier
          </td>

          <td>
            Système ECC et S/4 HANA
          </td>

          <td />
        </tr>

        <tr>
          <td>
            DB\_KPI
          </td>

          <td>
            indicateurs de performances clés pour la base de données, telles que la disponibilité, l&apos;espace, etc.
          </td>

          <td>
            Tout système, sauf HANA base de données
          </td>

          <td />
        </tr>

        <tr>
          <td>
            HANA\_DB
          </td>

          <td>
            Les fournisseurs de données de la base de données HANA se connectent directement à la base de données HANA
          </td>

          <td>
            Toutes les bases de données HANA
          </td>

          <td>
            Nécessite une connexion à la base de données
          </td>
        </tr>

        <tr>
          <td>
            HÔTE
          </td>

          <td>
            Hôte métriques telles que CPU, mémoire, utilisation du disque
          </td>

          <td>
            Tous les systèmes ABAP
          </td>

          <td />
        </tr>

        <tr>
          <td>
            IDOC
          </td>

          <td>
            Événement IDOC
          </td>

          <td>
            Système ECC et S/4 HANA
          </td>

          <td />
        </tr>

        <tr>
          <td>
            MAXDB
          </td>

          <td>
            Métriques pour la base de données MAXDB
          </td>

          <td>
            système avec MAXDB
          </td>

          <td />
        </tr>

        <tr>
          <td>
            MS\_SQL
          </td>

          <td>
            Métriques pour la base de données Microsoft SQL Server
          </td>

          <td>
            système avec Microsoft SQL Server
          </td>

          <td />
        </tr>

        <tr>
          <td>
            Oracle
          </td>

          <td>
            Métriques pour la base de données Oracle
          </td>

          <td>
            système avec base de données Oracle
          </td>

          <td />
        </tr>

        <tr>
          <td>
            SAP\_APPL
          </td>

          <td>
            Événements, logs, métriques et traces pour le monitoring d&apos;applications SAP telles que les RFC, les Jobs, les Transactions, etc.
          </td>

          <td>
            Tous les systèmes ABAP
          </td>

          <td />
        </tr>

        <tr>
          <td>
            SYSTÈME SAP
          </td>

          <td>
            Métriques pour le système SAP et l&apos;instance de serveur d&apos;applications, monitoring telle que les performances utilisateur, système, etc.
          </td>

          <td>
            Tous les systèmes ABAP
          </td>

          <td />
        </tr>

        <tr>
          <td>
            COUTUME
          </td>

          <td>
            Tout fournisseur de données ajouté par les clients
          </td>

          <td />

          <td />
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

<Callout variant="tip">
  Gérez la liste des **Monitoring Groups** en accédant à **Expert Mode &gt; Installation Setups &gt; Monitoring Group Maintenance**. Pour une liste complète des fournisseurs de données dans chaque groupe de monitoring, consultez la [Référence des fournisseurs de données](/docs/sap-solutions/additional-resources/data-providers-reference).
</Callout>

* **Vérifier les destinations RFC**: utilisez cette option de menu pour tester les destinations RFC pour tous les systèmes de monitoring et les points de terminaison d&apos;API NR, à l&apos;exception de « AUCUN ».

* **Générer la configuration pour les nouveaux fournisseurs de données**:

  * Utilisez cette option de menu pour générer des fournisseurs de données pour une nouvelle sortie ou un nouveau patch. Pour les nouvelles installations, tous les fournisseurs de données (DP) sont générés.
  * Sur le premier écran, confirmez les détails de la sortie et du patch ; les champs vides indiquent configuration préexistante.
  * Pour régénérer, sélectionnez **Re-generate Data Provider Configurations** dans **Maintain Monitored Systems** ou utilisez **Reset Installation Flag (For Re-install only)** pour réinitialiser l&apos;indicateur d&apos;installation et régénérer la configuration.

  <img title="Maintain Monitored Systems" alt="A screenshot displaying the SAP maintain monitored systems" src="/images/maintain-monitored-systems.webp" width="500" />

* **Vérifier l&apos;exhaustivité de l&apos;installation**: cliquez sur **Verify Installation Completeness** pour vous assurer que tout est correctement configuré. Si un élément affiche un indicateur rouge, cliquez sur le bouton d’exécution dans la colonne **Action Needed**.

## Vérification de la configuration

1. Pour vous assurer que les fournisseurs de données sont correctement configurés, ouvrez le dossier **Data Provider Registry Maintenance**.
2. Cliquez sur **Data Provider Registry** ou utilisez la transaction `/n/NEWR/REGISTRY`.
3. Sélectionnez un **Data Provider Name** et vérifiez les paramètres de configuration en cliquant sur **Configure**.
4. Testez le fournisseur de données en cliquant sur **TestDP**.

<img title="Data Provider Registry" alt="A screenshot displaying the SAP data provider registry" src="/images/data-provider-registry-1.webp" width="1000" />