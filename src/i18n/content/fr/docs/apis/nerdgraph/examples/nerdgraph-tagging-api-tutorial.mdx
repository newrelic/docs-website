---
title: "Tutoriel NerdGraph\_: afficher et ajouter une balise"
tags:
  - APIs
  - NerdGraph
  - Examples
metaDescription: Use New Relic NerdGraph (our GraphQL API) to manage tags attached to your entities.
freshnessValidatedDate: never
translationType: machine
---

Vous pouvez utiliser notre [APINerdGraph](/docs/apis/nerdgraph/get-started/introduction-new-relic-nerdgraph) pour ajouter [des balises](/docs/new-relic-one/use-new-relic-one/core-concepts/tagging-use-tags-organize-group-what-you-monitor) à vos données afin d&amp;apos;améliorer l&amp;apos;organisation et la recherche des données.

## Présentation [#overview]

Ce document explique comment utiliser notre API NerdGraph pour ajouter et gérer des balises. Notez qu'il ne s'agit que d'une façon d'ajouter une balise. Pour d’autres méthodes, voir [Comment les balises sont ajoutées](/docs/new-relic-one/use-new-relic-one/core-concepts/use-tags-help-organize-find-your-data/#tag-sources). Pour savoir comment automatiser le balisage à l&amp;apos;aide de notre outil CLI, consultez [le site de nos développeurs](https://developer.newrelic.com/automate-workflows/5-mins-tag-resources/).

## Lire l'étiquette d'une entité [#read-tags]

Pour construire ces requêtes et voir les réponses :

1. Accédez à l'explorateur NerdGraph GraphiQL à l'[adresse api.newrelic.com/graphiql](https://api.newrelic.com/graphiql).
2. Utilisez [`entitySearch()`](/docs/apis/graphql-api/tutorials/use-new-relic-graphql-api-query-entities#search-entity) pour trouver l’entité, puis récupérez sa balise.
3. Utilisez de NerdGraph tag API pour lire la balise existante et ses valeurs.

Dans cet exemple, notre entité est une application de navigateur appelée `Cookie Checkout`:

```graphql
{
  actor {
    entitySearch(query: "name like 'Cookie Checkout'") {
      results {
        entities {
          tags {
            key
            values
          }
        }
      }
    }
  }
}
```

Les valeurs réelles varient en fonction de vos données. Utilisez l'[explorateurNew Relic GraphiQL](https://api.newrelic.com/graphiql) pour expérimenter les requêtes.

## Ajouter une balise pour une entité [#add-tags]

Pour ajouter une nouvelle balise pour une entité :

1. Accédez à l'explorateur NerdGraph GraphiQL à l'[adresse api.newrelic.com/graphiql](https://api.newrelic.com/graphiql).
2. Utilisez [`entitySearch()`](/docs/apis/graphql-api/tutorials/use-new-relic-graphql-api-query-entities#search-entity) pour localiser le GUID de l’entité que vous souhaitez tag.
3. Utilisez la mutation `taggingAddTagsToEntity` pour ajouter une tag avec une valeur à l&amp;apos;entité.
4. Pour <InlinePopover type="apm" />agent, un redémarrage est nécessaire après l&amp;apos;ajout d&amp;apos;une nouvelle tag.

Dans cet exemple, nous avons une application de navigateur appelée `Cookie Checkout` appartenant à une équipe UI . Nous souhaitons ajouter une tag `team` avec une valeur `ui` à cette instance. Une fois la tag ajoutée, nous pouvons filtrer par la tag `team:ui` et trouver `Cookie Checkout` l&amp;apos;application dans l&amp;apos;UI de New Relic.

```graphql
mutation {
  taggingAddTagsToEntity(
    guid: "ENTITY_GUID"
    tags: { key: "team", values: ["ui"] }
  ) {
    errors {
      message
    }
  }
}
```

## Supprimer une tag d'une entité [#delete-entity-tag]

Pour supprimer une tag et toutes ses valeurs associées d'une entité :

1. Accédez à l'explorateur NerdGraph GraphiQL à l'[adresse api.newrelic.com/graphiql](https://api.newrelic.com/graphiql).
2. Utilisez [`entitySearch()`](/docs/apis/graphql-api/tutorials/use-new-relic-graphql-api-query-entities#search-entity) pour localiser le GUID de l’entité avec la tag que vous souhaitez supprimer.
3. Utilisez la mutation `taggingDeleteTagFromEntity` .
4. Pour l'agent <InlinePopover type="apm" />, un redémarrage est nécessaire après le changement de balise.

L'exemple de mutation suivant supprime la tag `team` d&amp;apos;une entité :

```graphql
mutation {
  taggingDeleteTagFromEntity(
    guid: "ENTITY_GUID", 
    tagKeys: ["team"]
  ) {
    errors {
      message
    }
  }
}
```

## Supprimer des valeurs tag spécifiques pour une entité [#delete-specific-tag]

Au lieu de supprimer une tag entière et toutes ses valeurs, vous pouvez supprimer une seule valeur tag .

1. Accédez à l'explorateur NerdGraph GraphiQL à l'[adresse api.newrelic.com/graphiql](https://api.newrelic.com/graphiql).
2. Utilisez [`entitySearch()`](/docs/apis/graphql-api/tutorials/use-new-relic-graphql-api-query-entities#search-entity) pour localiser le GUID de l’entité avec la tag que vous souhaitez supprimer.
3. Utilisez la mutation `taggingDeleteTagValuesFromEntity` .

L'exemple de mutation suivant supprime la valeur `ui` de la clé `tag` :

```graphql
mutation {
  taggingDeleteTagValuesFromEntity(
    guid: "ENTITY_GUID"
    tagValues: [{ key: "team", value: "ui" }]
  ) {
    errors {
      message
    }
  }
}
```

Parce que `tagValues` est un éventail, vous pouvez supprimer plusieurs valeurs spécifiques d’une seule entité en une seule mutation.

## Remplacer toutes les valeurs tag pour une entité [#replace-tag-values]

Pour remplacer l'ensemble des balises de l'entité par l'ensemble tag fourni :

1. Accédez à l'explorateur NerdGraph GraphiQL à l'[adresse api.newrelic.com/graphiql](https://api.newrelic.com/graphiql).
2. Utilisez [`entitySearch()`](/docs/apis/graphql-api/tutorials/use-new-relic-graphql-api-query-entities#search-entity) pour localiser le GUID de l’entité avec la tag que vous souhaitez supprimer.
3. Utilisez la mutation `taggingReplaceTagsOnEntity` .

Dans cet exemple, l'application de navigateur `Cookie Checkout` a été transférée de l&amp;apos;équipe `ui` à l&amp;apos;équipe `cookie-dev` . Vous pouvez remplacer les valeurs tag pour `team` par la mutation suivante :

```graphql
mutation {
  taggingReplaceTagsOnEntity(
    guid: "ENTITY_GUID"
    tags: { key: "team", values: ["cookie-dev"] }
  ) {
    errors {
      message
    }
  }
}
```