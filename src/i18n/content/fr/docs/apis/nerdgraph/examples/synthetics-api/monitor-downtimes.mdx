---
title: Gérer les temps d'arrêt du moniteur
tags:
  - Synthetics
  - APIs
  - NerdGraph
  - Examples
metaDescription: How to use New Relic NerdGraph API to create and manage monitor downtimes for synthetic monitoring.
freshnessValidatedDate: never
translationType: machine
---

Monitorer temps d&apos;arrêt vous permet de programmer des périodes pendant lesquelles votre moniteur Synthétique s&apos;arrête de fonctionner. Ceci est utile lors des opérations de maintenance planifiées, des déploiements ou des pannes connues, lorsque vous ne souhaitez pas recevoir d&apos;alertes. Vous pouvez créer des temps d&apos;arrêt ponctuels ou des programmes récurrents (quotidiens, hebdomadaires ou mensuels). Ce tutoriel fournit des exemples d&apos;utilisation de l&apos;API NerdGraph pour gérer par programmation les temps d&apos;arrêt des moniteurs. Pour gérer les temps d&apos;arrêt du moniteur à l&apos;aide de l&apos;interface utilisateur, reportez-vous à [Désactiver monitoring pendant les périodes de maintenance planifiées](/docs/synthetics/synthetic-monitoring/using-monitors/monitor-downtimes-disable-monitoring-during-scheduled-maintenance-times/).

<Callout variant="tip">
  Pour les valeurs de fuseau horaire, consultez la [base de données tz des fuseaux horaires](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones). Par exemple, utilisez `America/Los_Angeles` pour l&apos;heure du Pacifique.
</Callout>

## Créer un temps d&apos;arrêt du monitoring ponctuel [#create-once-downtime]

Vous pouvez créer un moniteur à usage unique temps d&apos;arrêt en utilisant la mutation `syntheticsCreateOnceMonitorDowntime`. Utilisez ceci pour la maintenance planifiée ou les événements ponctuels.

### Paramètres d&apos;entrée

<table>
  <thead>
    <tr>
      <th>
        paramètres
      </th>

      <th>
        Type de données
      </th>

      <th>
        Est-ce obligatoire ?
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `accountId`
      </td>

      <td>
        Entier
      </td>

      <td>
        Oui
      </td>

      <td>
        L&apos; 

        [identifiant du compte](/docs/accounts/accounts-billing/account-structure/account-id)

         New Relic sur lequel les temps d&apos;arrêt seront créés.
      </td>
    </tr>

    <tr>
      <td>
        `name`
      </td>

      <td>
        Chaîne
      </td>

      <td>
        Oui
      </td>

      <td>
        Un nom descriptif pour la période de temps d&apos;arrêt.
      </td>
    </tr>

    <tr>
      <td>
        `monitorGuids`
      </td>

      <td>
        Array
      </td>

      <td>
        Non
      </td>

      <td>
        Liste des 

        [GUID](/docs/apis/nerdgraph/examples/synthetics-api/query-synthetics-data#query-monitors)

         de moniteur à inclure dans les temps d&apos;arrêt. Laisser vide pour appliquer à tous les moniteurs.
      </td>
    </tr>

    <tr>
      <td>
        `timezone`
      </td>

      <td>
        Chaîne
      </td>

      <td>
        Oui
      </td>

      <td>
        Le fuseau horaire pour l&apos;horaire des temps d&apos;arrêt (par exemple, 

        `America/New_York`

        ).
      </td>
    </tr>

    <tr>
      <td>
        `startTime`
      </td>

      <td>
        Chaîne
      </td>

      <td>
        Oui
      </td>

      <td>
        Lorsque le temps d&apos;arrêt commence au format 

        `yyyy-MM-ddTHH:mm:ss`

        .
      </td>
    </tr>

    <tr>
      <td>
        `endTime`
      </td>

      <td>
        Chaîne
      </td>

      <td>
        Oui
      </td>

      <td>
        Lorsque le temps d&apos;arrêt se termine au format 

        `yyyy-MM-ddTHH:mm:ss`

        .
      </td>
    </tr>
  </tbody>
</table>

### Demande d&apos;échantillon

```graphql
mutation {
  syntheticsCreateOnceMonitorDowntime(
    accountId: ACCOUNT_ID,
    name: "MonitorDowntimeName",
    monitorGuids: ["OptionalMonitorEntityGuid", "OptionalMonitorEntityGuid"],
    timezone: "TIMEZONE",
    startTime: "yyyy-MM-ddTHH:mm:ss",
    endTime: "yyyy-MM-ddTHH:mm:ss"
  ) {
    guid
    accountId
    name
    monitorGuids
    timezone
    startTime
    endTime
  }
}
```

## Créer un moniteur de temps d&apos;arrêt récurrent quotidien [#create-daily-downtime]

Vous pouvez créer un moniteur quotidien récurrent de temps d&apos;arrêt en utilisant la mutation `syntheticsCreateDailyMonitorDowntime`. Utilisez ceci pour les fenêtres de maintenance régulières qui ont lieu quotidiennement.

### Paramètres d&apos;entrée

<table>
  <thead>
    <tr>
      <th>
        paramètres
      </th>

      <th>
        Type de données
      </th>

      <th>
        Est-ce obligatoire ?
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `accountId`
      </td>

      <td>
        Entier
      </td>

      <td>
        Oui
      </td>

      <td>
        L&apos; 

        [identifiant du compte](/docs/accounts/accounts-billing/account-structure/account-id)

         New Relic sur lequel les temps d&apos;arrêt seront créés.
      </td>
    </tr>

    <tr>
      <td>
        `name`
      </td>

      <td>
        Chaîne
      </td>

      <td>
        Oui
      </td>

      <td>
        Un nom descriptif pour le temps d&apos;arrêt récurrent.
      </td>
    </tr>

    <tr>
      <td>
        `monitorGuids`
      </td>

      <td>
        Array
      </td>

      <td>
        Non
      </td>

      <td>
        Liste des 

        [GUID](/docs/apis/nerdgraph/examples/synthetics-api/query-synthetics-data#query-monitors)

         de moniteur à inclure dans les temps d&apos;arrêt.
      </td>
    </tr>

    <tr>
      <td>
        `timezone`
      </td>

      <td>
        Chaîne
      </td>

      <td>
        Oui
      </td>

      <td>
        Le fuseau horaire de l&apos;horaire des temps d&apos;arrêt.
      </td>
    </tr>

    <tr>
      <td>
        `startTime`
      </td>

      <td>
        Chaîne
      </td>

      <td>
        Oui
      </td>

      <td>
        Heure de début quotidienne au format 

        `yyyy-MM-ddTHH:mm:ss`

        .
      </td>
    </tr>

    <tr>
      <td>
        `endTime`
      </td>

      <td>
        Chaîne
      </td>

      <td>
        Oui
      </td>

      <td>
        Heure de fin de journée au format 

        `yyyy-MM-ddTHH:mm:ss`

        .
      </td>
    </tr>

    <tr>
      <td>
        `endRepeat`
      </td>

      <td>
        Objet
      </td>

      <td>
        Non
      </td>

      <td>
        Quand arrêter les temps d&apos;arrêt récurrents. Utilisez 

        `onDate`

         pour une date spécifique ou 

        `onRepeat`

         pour un nombre d&apos;occurrences.
      </td>
    </tr>
  </tbody>
</table>

### Demande d&apos;échantillon

```graphql
mutation {
  syntheticsCreateDailyMonitorDowntime(
    accountId: ACCOUNT_ID,
    name: "MonitorDowntimeName",
    monitorGuids: ["OptionalMonitorEntityGuid", "AnotherOptionalMonitorEntityGuid"],
    timezone: "TIMEZONE",
    startTime: "yyyy-MM-ddTHH:mm:ss",
    endTime: "yyyy-MM-ddTHH:mm:ss",
    endRepeat: {
      onDate: "yyyy-MM-ddTHH:mm:ss",
      onRepeat: 10
    }
  ) {
    guid
    accountId
    name
    monitorGuids
    timezone
    startTime
    endTime
    endRepeat {
      onDate
      onRepeat
    }
  }
}
```

## Créer un moniteur récurrent hebdomadaire temps d&apos;arrêt [#create-weekly-downtime]

Vous pouvez créer un moniteur hebdomadaire récurrent de temps d&apos;arrêt en utilisant la mutation `syntheticsCreateWeeklyMonitorDowntime`. Utilisez ceci pour les fenêtres de maintenance qui ont lieu certains jours de la semaine.

### Paramètres d&apos;entrée

<table>
  <thead>
    <tr>
      <th>
        paramètres
      </th>

      <th>
        Type de données
      </th>

      <th>
        Est-ce obligatoire ?
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `accountId`
      </td>

      <td>
        Entier
      </td>

      <td>
        Oui
      </td>

      <td>
        L&apos; 

        [identifiant du compte](/docs/accounts/accounts-billing/account-structure/account-id)

         New Relic sur lequel les temps d&apos;arrêt seront créés.
      </td>
    </tr>

    <tr>
      <td>
        `name`
      </td>

      <td>
        Chaîne
      </td>

      <td>
        Oui
      </td>

      <td>
        Un nom descriptif pour le temps d&apos;arrêt hebdomadaire.
      </td>
    </tr>

    <tr>
      <td>
        `monitorGuids`
      </td>

      <td>
        Array
      </td>

      <td>
        Non
      </td>

      <td>
        Liste des 

        [GUID](/docs/apis/nerdgraph/examples/synthetics-api/query-synthetics-data#query-monitors)

         de moniteur à inclure dans les temps d&apos;arrêt.
      </td>
    </tr>

    <tr>
      <td>
        `timezone`
      </td>

      <td>
        Chaîne
      </td>

      <td>
        Oui
      </td>

      <td>
        Le fuseau horaire de l&apos;horaire des temps d&apos;arrêt.
      </td>
    </tr>

    <tr>
      <td>
        `startTime`
      </td>

      <td>
        Chaîne
      </td>

      <td>
        Oui
      </td>

      <td>
        Heure de début hebdomadaire au format 

        `yyyy-MM-ddTHH:mm:ss`

        .
      </td>
    </tr>

    <tr>
      <td>
        `endTime`
      </td>

      <td>
        Chaîne
      </td>

      <td>
        Oui
      </td>

      <td>
        Heure de fin de semaine au format 

        `yyyy-MM-ddTHH:mm:ss`

        .
      </td>
    </tr>

    <tr>
      <td>
        `maintenanceDays`
      </td>

      <td>
        Array
      </td>

      <td>
        Oui
      </td>

      <td>
        Jours de la semaine (ex., 

        `MONDAY`

        , 

        `TUESDAY`

        , 

        `WEDNESDAY`

        ).
      </td>
    </tr>

    <tr>
      <td>
        `endRepeat`
      </td>

      <td>
        Objet
      </td>

      <td>
        Non
      </td>

      <td>
        Quand arrêter les temps d&apos;arrêt récurrents.
      </td>
    </tr>
  </tbody>
</table>

### Demande d&apos;échantillon

```graphql
mutation {
  syntheticsCreateWeeklyMonitorDowntime(
    accountId: ACCOUNT_ID,
    name: "MonitorDowntimeName",
    monitorGuids: ["OptionalMonitorEntityGuid", "AnotherOptionalMonitorEntityGuid"],
    timezone: "TIMEZONE",
    startTime: "yyyy-MM-ddTHH:mm:ss",
    endTime: "yyyy-MM-ddTHH:mm:ss",
    maintenanceDays: [MONDAY, WEDNESDAY, FRIDAY],
    endRepeat: {
      onDate: "yyyy-MM-ddTHH:mm:ss",
      onRepeat: 20
    }
  ) {
    guid
    accountId
    name
    monitorGuids
    timezone
    startTime
    endTime
    maintenanceDays
    endRepeat {
      onDate
      onRepeat
    }
  }
}
```

## Créer un moniteur récurrent mensuel temps d&apos;arrêt [#create-monthly-downtime]

Vous pouvez créer un moniteur mensuel récurrent de temps d&apos;arrêt en utilisant la mutation `syntheticsCreateMonthlyMonitorDowntime`. Utilisez ceci pour les fenêtres de maintenance qui ont lieu à des dates précises chaque mois.

### Paramètres d&apos;entrée

<table>
  <thead>
    <tr>
      <th>
        paramètres
      </th>

      <th>
        Type de données
      </th>

      <th>
        Est-ce obligatoire ?
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `accountId`
      </td>

      <td>
        Entier
      </td>

      <td>
        Oui
      </td>

      <td>
        L&apos; 

        [identifiant du compte](/docs/accounts/accounts-billing/account-structure/account-id)

         New Relic sur lequel les temps d&apos;arrêt seront créés.
      </td>
    </tr>

    <tr>
      <td>
        `name`
      </td>

      <td>
        Chaîne
      </td>

      <td>
        Oui
      </td>

      <td>
        Un nom descriptif pour le temps d&apos;arrêt mensuel.
      </td>
    </tr>

    <tr>
      <td>
        `monitorGuids`
      </td>

      <td>
        Array
      </td>

      <td>
        Non
      </td>

      <td>
        Liste des 

        [GUID](/docs/apis/nerdgraph/examples/synthetics-api/query-synthetics-data#query-monitors)

         de moniteur à inclure dans les temps d&apos;arrêt.
      </td>
    </tr>

    <tr>
      <td>
        `timezone`
      </td>

      <td>
        Chaîne
      </td>

      <td>
        Oui
      </td>

      <td>
        Le fuseau horaire de l&apos;horaire des temps d&apos;arrêt.
      </td>
    </tr>

    <tr>
      <td>
        `startTime`
      </td>

      <td>
        Chaîne
      </td>

      <td>
        Oui
      </td>

      <td>
        Heure de début mensuelle au format 

        `yyyy-MM-ddTHH:mm:ss`

        .
      </td>
    </tr>

    <tr>
      <td>
        `endTime`
      </td>

      <td>
        Chaîne
      </td>

      <td>
        Oui
      </td>

      <td>
        Date de fin de mois au format 

        `yyyy-MM-ddTHH:mm:ss`

        .
      </td>
    </tr>

    <tr>
      <td>
        `frequency`
      </td>

      <td>
        Objet
      </td>

      <td>
        Oui
      </td>

      <td>
        Définit à quel moment du mois survient le temps d&apos;arrêt. Utilisez 

        `daysOfWeek`

         pour les dates relatives (par exemple, le premier lundi) ou 

        `daysOfMonth`

         pour les dates spécifiques (par exemple, le 15 de chaque mois).
      </td>
    </tr>

    <tr>
      <td>
        `endRepeat`
      </td>

      <td>
        Objet
      </td>

      <td>
        Non
      </td>

      <td>
        Quand arrêter les temps d&apos;arrêt récurrents.
      </td>
    </tr>
  </tbody>
</table>

### Demande d&apos;échantillon

```graphql
mutation {
  syntheticsCreateMonthlyMonitorDowntime(
    accountId: ACCOUNT_ID,
    name: "MonitorDowntimeName",
    monitorGuids: ["OptionalMonitorEntityGuid", "AnotherOptionalMonitorEntityGuid"],
    timezone: "TIMEZONE",
    startTime: "yyyy-MM-ddTHH:mm:ss",
    endTime: "yyyy-MM-ddTHH:mm:ss",
    frequency: {
      daysOfWeek: {
        weekDay: MONDAY,
        ordinalDayOfMonth: FIRST
      }
      daysOfMonth: [15]
    },
    endRepeat: {
      onDate: "yyyy-MM-ddTHH:mm:ss",
      onRepeat: 12
    }
  ) {
    guid
    accountId
    name
    monitorGuids
    timezone
    startTime
    endTime
    frequency {
      daysOfWeek {
        weekDay
        ordinalDayOfMonth
      }
      daysOfMonth
    }
    endRepeat {
      onDate
      onRepeat
    }
  }
}
```

## Mettre à jour un moniteur temps d&apos;arrêt [#update-downtime]

Vous pouvez mettre à jour un moniteur de temps d&apos;arrêt existant en utilisant la mutation `syntheticsEditMonitorDowntime`. Cela vous permet de modifier n&apos;importe quel type de temps d&apos;arrêt (une fois, quotidiennement, hebdomadairement ou mensuellement) en utilisant cette seule mutation.

### Paramètres d&apos;entrée

<table>
  <thead>
    <tr>
      <th>
        paramètres
      </th>

      <th>
        Type de données
      </th>

      <th>
        Est-ce obligatoire ?
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `guid`
      </td>

      <td>
        Chaîne
      </td>

      <td>
        Oui
      </td>

      <td>
        Le 

        [GUID](/docs/apis/nerdgraph/examples/synthetics-api/query-synthetics-data#query-monitors)

         du moniteur de temps d&apos;arrêt existant à mettre à jour.
      </td>
    </tr>

    <tr>
      <td>
        `name`
      </td>

      <td>
        Chaîne
      </td>

      <td>
        Non
      </td>

      <td>
        Nouveau nom pour les temps d&apos;arrêt.
      </td>
    </tr>

    <tr>
      <td>
        `monitorGuids`
      </td>

      <td>
        Array
      </td>

      <td>
        Non
      </td>

      <td>
        Liste mise à jour des 

        [GUID](/docs/apis/nerdgraph/examples/synthetics-api/query-synthetics-data#query-monitors)

         des moniteurs.
      </td>
    </tr>

    <tr>
      <td>
        `once`
      </td>

      <td>
        Objet
      </td>

      <td>
        Non
      </td>

      <td>
        configuration pour temps d&apos;arrêt ponctuel.
      </td>
    </tr>

    <tr>
      <td>
        `daily`
      </td>

      <td>
        Objet
      </td>

      <td>
        Non
      </td>

      <td>
        configuration pour les temps d&apos;arrêt récurrents quotidiens.
      </td>
    </tr>

    <tr>
      <td>
        `weekly`
      </td>

      <td>
        Objet
      </td>

      <td>
        Non
      </td>

      <td>
        configuration pour les temps d&apos;arrêt récurrents hebdomadaires.
      </td>
    </tr>

    <tr>
      <td>
        `monthly`
      </td>

      <td>
        Objet
      </td>

      <td>
        Non
      </td>

      <td>
        configuration pour les temps d&apos;arrêt récurrents mensuels.
      </td>
    </tr>
  </tbody>
</table>

### Demande d&apos;échantillon

```graphql
mutation {
  syntheticsEditMonitorDowntime(
    guid: "MonitorDowntimeEntityGuid",
    name: "MONITOR_DOWNTIME_NAME",
    monitorGuids: ["OptionalMonitorEntityGuid", "AnotherOptionalMonitorEntityGuid"],
    once: {
      timezone: "TIMEZONE",
      startTime: "yyyy-MM-ddTHH:mm:ss",
      endTime: "yyyy-MM-ddTHH:mm:ss"
    },
    daily: {
      timezone: "TIMEZONE",
      startTime: "yyyy-MM-ddTHH:mm:ss",
      endTime: "yyyy-MM-ddTHH:mm:ss",
      endRepeat: {
        onDate: "yyyy-MM-ddTHH:mm:ss",
        onRepeat: 30
      }
    },
    weekly: {
      timezone: "TIMEZONE",
      startTime: "yyyy-MM-ddTHH:mm:ss",
      endTime: "yyyy-MM-ddTHH:mm:ss",
      endRepeat: {
        onDate: "yyyy-MM-ddTHH:mm:ss",
        onRepeat: 20
      },
      maintenanceDays: [MONDAY, WEDNESDAY]
    },
    monthly: {
      timezone: "TIMEZONE",
      startTime: "yyyy-MM-ddTHH:mm:ss",
      endTime: "yyyy-MM-ddTHH:mm:ss",
      endRepeat: {
        onDate: "yyyy-MM-ddTHH:mm:ss",
        onRepeat: 12
      },
      frequency: {
        daysOfWeek: {
          weekDay: MONDAY,
          ordinalDayOfMonth: FIRST
        },
        daysOfMonth: [15]
      }
    }
  ) {
    guid
    accountId
    name
    monitorGuids
    timezone
    startTime
    endTime
    endRepeat {
      onDate
      onRepeat
    }
    maintenanceDays
    frequency {
      daysOfWeek {
        weekDay
        ordinalDayOfMonth
      }
      daysOfMonth
    }
  }
}
```

## Supprimer un moniteur temps d&apos;arrêt [#delete-downtime]

Vous pouvez supprimer un moniteur de temps d&apos;arrêt en utilisant la mutation `syntheticsDeleteMonitorDowntime`. Une fois supprimés, les temps d&apos;arrêt programmés seront retirés et le système de monitoring reprendra son fonctionnement normal.

### Paramètres d&apos;entrée

<table>
  <thead>
    <tr>
      <th>
        paramètres
      </th>

      <th>
        Type de données
      </th>

      <th>
        Est-ce obligatoire ?
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `guid`
      </td>

      <td>
        Chaîne
      </td>

      <td>
        Oui
      </td>

      <td>
        Le 

        [GUID](/docs/apis/nerdgraph/examples/synthetics-api/query-synthetics-data#query-monitor-downtimes)

         du moniteur temps d&apos;arrêt à supprimer.
      </td>
    </tr>
  </tbody>
</table>

### Demande d&apos;échantillon

```graphql
mutation {
  syntheticsDeleteMonitorDowntime(
    guid: "DOWNTIME_ENTITY_GUID"
  ) {
    guid
  }
}
```