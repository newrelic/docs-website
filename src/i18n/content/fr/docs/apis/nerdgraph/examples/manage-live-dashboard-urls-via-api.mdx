---
title: "Tutoriel NerdGraph\_: créer, mettre à jour et révoquer les URL dashboard de partage public"
tags:
  - share dashboards externally
  - share dashboards using NerdGraph
  - public dashboard
  - public dashboard URL
metaDescription: 'Use New Relic NerdGraph to create, update, and revoke live dashboard URLs'
freshnessValidatedDate: never
translationType: machine
---

Avec la [sécurité et l&apos;accès nécessaires configurés,](/docs/query-your-data/explore-query-data/dashboards/prerequisites-to-share-dashboards-charts) vous pouvez créer, gérer et révoquer les URL de dashboard en direct accessibles au public à l&apos;aide de requêtes et de mutations dans [NerdGraph](/docs/apis/nerdgraph/get-started/introduction-new-relic-nerdgraph). Vous pouvez également le faire à partir de l&apos; [UI de New Relic](/docs/query-your-data/explore-query-data/dashboards/share-charts-dashboards-externally/#dashboard).

<Callout variant="caution">Si un dashboard partagé n&apos;est pas protégé par mot de passe, toute personne disposant de l&apos;URL en direct peut accéder et afficher toutes les informations qu&apos;il contient. Pour éviter tout accès indésirable, assurez-vous [de créer des URL protégées par mot de passe](#create-dashboard-url-with-psswd-nerdgraph) ou [d&apos;activer la protection par mot de passe pour les URL partagées existantes](#enable-password-dashboard-url-nerdgraph).</Callout>

Pour créer, mettre à jour ou révoquer une URL dashboard en direct accessible au public à partir de NerdGraph, vous avez besoin du GUID du dashboard que vous souhaitez partager.

1. Allez à <DNT>**[one.newrelic.com &gt; Dashboards](https://one.newrelic.com//dashboards)**</DNT>.
2. Ouvrez le dashboard que vous souhaitez partager.
3. Accédez à <DNT>**<Icon name="fe-more-horizontal" /> &gt; Metadata**</DNT> et copiez le GUID d’entité du dashboard.

<CollapserGroup>
  <Collapser id="create-dashboard-url-nerdgraph" title="Créer une URL sans protection par mot de passe">
    1. Accédez à [l&apos;explorateur d&apos;API NerdGraph](https://one.newrelic.com/nerdgraph-graphiql).
    2. Construisez un [graphe appelé d&apos;API](/docs/apis/nerdgraph/get-started/nerdgraph-explorer) en utilisant la mutation `dashboardCreateLiveUrl` avec les paramètres suivants :

    * `GUID`: Entrez le GUID de l&apos;entité du dashboard.

    * `Options`(facultatif) &gt; `ttl`: saisissez la période en secondes pendant laquelle l&apos;URL doit être active.

      * **Valeur minimale**: 300 secondes (5 minutes)
      * **Valeur maximale**: 631152000 secondes (20 ans)
      * **Valeur par défaut**: 2592000 secondes (30 jours)

    * `url`: Sélectionnez cette option pour obtenir l’URL dashboard en direct dans la réponse.

    * Sélectionnez tous les autres champs que vous souhaitez dans la réponse.

    #### Mutation d&apos;échantillon [#create-public-link]

    ```graphql
    mutation {
      dashboardCreateLiveUrl(
        options: { ttl: TIME_IN_SECONDS }
        guid: "YOUR_DASHBOARD_GUID"
      ) {
        url
      }
    }
    ```

    L&apos;URL dashboard en direct apparaît dans la réponse. Il s&apos;agit d&apos;une URL publique, vous pouvez donc la partager avec n&apos;importe qui.

    #### Exemple de réponse [#create-public-link-response]

    ```json
    {
      "data": {
        "dashboardCreateLiveUrl": {
          "url": "https://share.newrelic.com/dashboard/PUBLIC_LINK_ID"
        }
      }
    }
    ```

    Le `PUBLIC_LINK_ID` est l&apos;ID du dashboard partagé. Vous pouvez l&apos;utiliser pour mettre à jour ou révoquer l&apos;URL dashboard partagé via NerdGraph.

    <Callout variant="important">
      Toute mise à jour de contenu dans le dashboard sur la plateforme New Relic se reflète sur la page dashboard partagé.
    </Callout>
  </Collapser>

  <Collapser id="create-dashboard-url-with-psswd-nerdgraph" title="Créer une URL avec protection par mot de passe">
    Pour éviter tout accès indésirable au dashboard partagé, vous pouvez créer une URL dashboard en direct avec protection par mot de passe.

    1. Accédez à [l&apos;explorateur d&apos;API NerdGraph](https://one.newrelic.com/nerdgraph-graphiql).
    2. Construisez un [graphe appelé d&apos;API](/docs/apis/nerdgraph/get-started/nerdgraph-explorer) en utilisant la mutation `dashboardCreateLiveUrl` avec les paramètres suivants :

    * `auth` &gt; `factors` &gt; `type`: Sélectionnez `PASSWORD` pour activer la protection par mot de passe pour l&apos;URL dashboard en direct.

    * `GUID`: Entrez le GUID de l&apos;entité du dashboard.

    * `Options`(facultatif) &gt; `ttl`: saisissez la période en secondes pendant laquelle l&apos;URL doit être active.

      * **Valeur minimale**: 300 secondes (5 minutes)
      * **Valeur maximale**: 631152000 secondes (20 ans)
      * **Valeur par défaut**: 2592000 secondes (30 jours)

    * `auth` &gt; `factors` &gt; `password` &gt; `value`: Sélectionnez cette option pour obtenir le mot de passe dashboard en direct dans la réponse.

    * `url`: Sélectionnez cette option pour obtenir l’URL dashboard en direct dans la réponse.

    * Sélectionnez tous les autres champs que vous souhaitez dans la réponse.

    #### Mutation d&apos;échantillon [#create-public-link-with-password]

    ```graphql
    mutation {
      dashboardCreateLiveUrl(
        guid: "YOUR_DASHBOARD_GUID"
        options: { ttl: 3600 } # Optional: Set a time-to-live for the URL
        auth: { factors: [{ type: PASSWORD }] }
      ) {
        url
        uuid
        auth {
          factors {
            type
            password {
              value # REQUEST THE PASSWORD VALUE HERE
            }
          }
        }
      }
    }
    ```

    L&apos;URL et le mot de passe dashboard en direct apparaissent dans la réponse.

    #### Exemple de réponse [#create-public-link-with-password-response]

    ```json
    {
      "data": {
        "dashboardCreateLiveUrl": {
          "auth": {
            "factors": [
              {
                "password": {
                  "value": "pfd-3ZZ46#3a4On5p%&¿"
                },
                "type": "PASSWORD"
              }
            ]
          },
          "url": "https://one.newrelic.com/dashboard/f6c730bf-fced-4890-ad6e-86ab6a6e8159",
          "uuid": "f6c730bf-fced-4890-ad6e-86ab6a6e8159"
        }
      }
    }
    ```

    Le `uuid` est l&apos;ID du dashboard partagé. Vous pouvez l&apos;utiliser pour [mettre à jour](#update-dashboard-url-nerdgraph) ou [révoquer](revoke-dashboard-url-nerdgraph) l&apos;URL du tableau de bord partagé via NerdGraph. Pour partager le dashboard avec un utilisateur externe, copiez l&apos;URL et le mot de passe de la réponse. Les mots de passe ne peuvent pas être récupérés ultérieurement. Si vous le perdez, il vous suffit de [réinitialiser le mot de passe](#reset-password-dashboard-url-nerdgraph) et de le partager à nouveau avec l&apos;utilisateur. Suivez nos [bonnes pratiques de gestion des mots de passe](/docs/query-your-data/explore-query-data/dashboards/share-charts-dashboards-externally/#password-management) pour gérer le mot de passe en toute sécurité.
  </Collapser>

  <Collapser id="update-dashboard-url-nerdgraph" title="Mettre à jour la durée d'expiration dashboard en direct">
    Assurez-vous que vous disposez des [autorisations](/docs/query-your-data/explore-query-data/dashboards/prerequisites-to-share-dashboards-charts/#permissions-to-custom-role) pour modifier la configuration du dashboard partagé.

    Pour mettre à jour la période pendant laquelle l&apos;URL doit être active :

    1. Accédez à [l&apos;explorateur d&apos;API NerdGraph](https://one.newrelic.com/nerdgraph-graphiql).
    2. Construisez un [graphe appelé d&apos;API](/docs/apis/nerdgraph/get-started/nerdgraph-explorer) en utilisant la mutation `dashboardUpdateLiveUrl` avec les paramètres suivants :

    * `id`:Copiez l’ID de l’URL dashboard partagé et saisissez-le.

    * `options` (facultatif) &gt; `ttl`: saisissez la période en secondes pendant laquelle l&apos;URL doit être active.

      * **Valeur minimale**: `300` secondes (5 minutes)
      * **Valeur maximale**: `631152000` secondes (20 ans)
      * **Valeur par défaut**: `2592000` secondes (30 jours)

    #### Mutation d&apos;échantillon [#update-public-link-request]

    ```graphql
    mutation {
      dashboardUpdateLiveUrl(
        id: "PUBLIC_URL_ID"
        options: { ttl: TIME_IN_SECONDS }
      )
    }
    ```

    L&apos;URL apparaît dans la réponse comme suit. Désormais, l&apos;URL restera active pendant la période mise à jour.

    #### Exemple de réponse [#update-public-link-response]

    ```json
    {
      "data": {
        "dashboardUpdateLiveUrl": {
          "url": "https://share.newrelic.com/dashboard/PUBLIC_LINK_ID"
        }
      }
    }
    ```
  </Collapser>

  <Collapser id="enable-password-dashboard-url-nerdgraph" title="Activer la protection par mot de passe pour l'URL en direct">
    Assurez-vous que vous disposez des [autorisations nécessaires](/docs/query-your-data/explore-query-data/dashboards/prerequisites-to-share-dashboards-charts/#permissions-to-custom-role) pour modifier la configuration du dashboard partagé. Pour activer la protection par mot de passe pour une URL dashboard en direct :

    1. Accédez à [l&apos;explorateur d&apos;API NerdGraph](https://one.newrelic.com/nerdgraph-graphiql).
    2. Construisez un [graphe appelé d&apos;API](/docs/apis/nerdgraph/get-started/nerdgraph-explorer) en utilisant la mutation `dashboardUpdateLiveUrlAuth` avec les paramètres suivants :

    * `auth` &gt; `factors` &gt; `type`: Sélectionnez `PASSWORD` pour activer la protection par mot de passe pour l&apos;URL dashboard en direct.
    * `id`:Copiez l’ID de l’URL dashboard partagé et saisissez-le.
    * `auth` &gt; `factors` &gt; `password` &gt; `value`: Sélectionnez cette option pour obtenir le mot de passe dashboard en direct dans la réponse.
    * Sélectionnez tous les autres champs que vous souhaitez dans la réponse.

    #### Mutation d&apos;échantillon [#enable-password-protection]

    ```graphql
    mutation {
      dashboardUpdateLiveUrlAuth(
        id: "YOUR_PUBLIC_LINK_UUID"
        auth: { factors: [{ type: PASSWORD }] }
      ) {
        factors {
          password {
            value # A NEW PASSWORD WILL BE GENERATED AND RETURNED
          }
          type
        }
      }
    }
    ```

    #### Exemple de réponse [#enable-password-protection-response]

    Le mot de passe apparaît dans la réponse comme suit.

    ```json
    {
      "data": {
        "dashboardUpdateLiveUrlAuth": {
          "factors": [
            {
              "password": {
                "value": "system generated password"
              },
              "type": "PASSWORD"
            }
          ]
        }
      }
    }
    ```

    Après avoir activé le mot de passe pour le tableau de bord partagé, vous devez partager le mot de passe avec l&apos;utilisateur. Copiez et enregistrez le mot de passe, car vous ne pourrez pas le récupérer ultérieurement. Si vous le perdez, il vous suffit de [réinitialiser le mot de passe](#reset-password-dashboard-url-nerdgraph) et de le partager à nouveau avec l&apos;utilisateur. Suivez nos [bonnes pratiques de gestion des mots de passe](/docs/query-your-data/explore-query-data/dashboards/share-charts-dashboards-externally/#password-management) pour gérer le mot de passe en toute sécurité.
  </Collapser>

  <Collapser id="disable-password-dashboard-url-nerdgraph" title="Désactiver la protection par mot de passe pour l'URL en direct">
    Assurez-vous que vous disposez des [autorisations nécessaires](/docs/query-your-data/explore-query-data/dashboards/prerequisites-to-share-dashboards-charts/#permissions-to-custom-role) pour modifier la configuration du dashboard partagé. Pour désactiver la protection par mot de passe pour une URL dashboard en direct :

    1. Accédez à [l&apos;explorateur d&apos;API NerdGraph](https://one.newrelic.com/nerdgraph-graphiql).
    2. Construisez un [graphe appelé d&apos;API](/docs/apis/nerdgraph/get-started/nerdgraph-explorer) en utilisant la mutation `dashboardUpdateLiveUrlAuth` avec les valeurs d&apos;attribut suivantes :

    * `auth` &gt; `factors` &gt; `type`: Sélectionnez `PASSWORD` pour activer la protection par mot de passe pour l&apos;URL dashboard en direct.
    * `id`:Copiez l’ID de l’URL dashboard partagé et saisissez-le.
    * `auth` &gt; `factors`: Laissez ce champ vide.
    * `factors` &gt; `type`: Sélectionnez cette option pour obtenir la confirmation en réponse que la valeur du mot de passe est supprimée.

    #### Mutation d&apos;échantillon [#disable-password-protection]

    ```graphql
    mutation {
      dashboardUpdateLiveUrlAuth(
        id: "YOUR_PUBLIC_LINK_UUID"
        auth: { factors: [] } # Send an empty array to remove all authentication
      ) {
        factors {
          # This will be empty
          type
        }
      }
    }
    ```

    ## Exemple de réponse [#disable-password-protection-response]

    Vérifiez que la réponse apparaît comme suit. Le mot de passe est supprimé et l’URL dashboard en direct n’est plus protégée par mot de passe.

    ```json
    {
      "data": {
        "dashboardUpdateLiveUrlAuth": {
          "factors": []
        }
      }
    }
    ```
  </Collapser>

  <Collapser id="reset-password-dashboard-url-nerdgraph" title="Réinitialiser le mot de passe pour l'URL en direct">
    Assurez-vous que vous disposez des [autorisations nécessaires](/docs/query-your-data/explore-query-data/dashboards/prerequisites-to-share-dashboards-charts/#permissions-to-custom-role) pour modifier la configuration du dashboard partagé. Pour réinitialiser le mot de passe d’une URL dashboard en direct :

    1. Accédez à [l&apos;explorateur d&apos;API NerdGraph](https://one.newrelic.com/nerdgraph-graphiql).
    2. Construisez un [graphe appelé d&apos;API](/docs/apis/nerdgraph/get-started/nerdgraph-explorer) en utilisant la mutation `dashboardResetLiveUrlPassword` avec les valeurs d&apos;attribut suivantes :

    * `id`:Copiez l’ID de l’URL dashboard partagé et saisissez-le.
    * `password`: Sélectionnez cette option pour obtenir le nouveau mot de passe dashboard en direct dans la réponse.

    #### Mutation d&apos;échantillon [#reset-password]

    ```graphql
    mutation {
      dashboardResetLiveUrlPassword(id: "YOUR_PUBLIC_LINK_UUID") {
        password
      }
    }
    ```

    #### Exemple de réponse [#reset-password-response]

    Le nouveau mot de passe apparaît dans la réponse comme suit.

    ```json
    {
      "data": {
        "dashboardResetLiveUrlPassword": {
          "password": "system generated password"
        }
      }
    }
    ```

    Après avoir réinitialisé le mot de passe du tableau de bord partagé, vous devez partager le nouveau mot de passe avec l&apos;utilisateur. Copiez et enregistrez le mot de passe, car vous ne pourrez pas le récupérer ultérieurement. Si vous le perdez, il vous suffit de le réinitialiser à nouveau. Suivez nos [bonnes pratiques de gestion des mots de passe](/docs/query-your-data/explore-query-data/dashboards/share-charts-dashboards-externally/#password-management) pour gérer le mot de passe en toute sécurité.
  </Collapser>

  <Collapser id="revoke-dashboard-url-nerdgraph" title="Révoquer une URL active">
    En fonction des [autorisations](/docs/query-your-data/explore-query-data/dashboards/prerequisites-to-share-dashboards-charts/#permissions-to-custom-role) dont vous disposez, vous pouvez révoquer uniquement les URL que vous avez créées ou toutes les URL créées par l&apos;utilisateur dans le compte. Pour révoquer une URL dashboard partagée :

    1. Accédez à [l&apos;explorateur d&apos;API NerdGraph](https://one.newrelic.com/nerdgraph-graphiql).
    2. Construisez un [graphe appelé d&apos;API](/docs/apis/nerdgraph/get-started/nerdgraph-explorer) en utilisant la mutation `dashboardRevokeLiveUrl` avec la valeur d&apos;attribut suivante :

    * `id`:Copiez l’ID de l’URL dashboard partagé et saisissez-le.

    #### Mutation d&apos;échantillon [#revoke-public-link]

    ```graphql
    mutation {
      dashboardRevokeLiveUrl(id: "PUBLIC_LINK_ID") {
        id
      }
    }
    ```

    #### Exemple de réponse [#revoke-public-link-response]

    L&apos;URL dashboard partagé est désormais révoquée et ne sera plus accessible. La réponse apparaît comme suit :

    ```json
    {
      "data": {
        "dashboardRevokeLiveUrl": {
          "id": "PUBLIC_LINK_ID" //the one you passed to the mutation
        }
      }
    }
    ```
  </Collapser>

  <Collapser id="list-dashboard-url-nerdgraph" title="Lister toutes les URL partagées">
    En fonction des [autorisations](/docs/query-your-data/explore-query-data/dashboards/prerequisites-to-share-dashboards-charts/#permissions-to-custom-role) dont vous disposez, vous pouvez récupérer la liste des URL que vous avez créées, ou toutes les URL créées par l&apos;utilisateur du compte. Pour obtenir la liste des URL dashboard partagées :

    1. Accédez à [l&apos;explorateur d&apos;API NerdGraph](https://one.newrelic.com/nerdgraph-graphiql).
    2. Construisez un [graphe appelé d&apos;API](/docs/apis/nerdgraph/get-started/nerdgraph-explorer) en utilisant les détails suivants :

    * `actor` &gt; `dashboard` &gt; `liveUrls`: utilisez ceci pour récupérer la liste des URL dashboard partagées.
    * `filter` &gt; `type`: sélectionnez `DASHBOARD` pour filtrer les résultats des URL dashboard .
    * Sélectionnez tous les autres champs que vous souhaitez dans la réponse.

    #### Exemple de requête [#list-public-links]

    ```graphql
    {
      actor {
        user {
          name
        }
        dashboard {
          liveUrls(filter: { type: DASHBOARD }) {
            liveUrls {
              createdAt
              type
              uuid
            }
          }
        }
      }
    }
    ```

    La liste des URL dashboard partagées apparaît en réponse.
  </Collapser>
</CollapserGroup>