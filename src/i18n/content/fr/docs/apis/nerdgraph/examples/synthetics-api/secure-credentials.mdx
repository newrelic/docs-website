---
title: Gérer les identifiants sécurisés
tags:
  - Synthetics
  - APIs
  - NerdGraph
  - Examples
metaDescription: How to use New Relic NerdGraph API to create and manage secure credentials for synthetic monitoring.
freshnessValidatedDate: never
translationType: machine
---

[Les identifiants sécurisés](/docs/synthetics/synthetic-monitoring/using-monitors/store-secure-credentials-scripted-browsers-api-tests) vous aident à stocker, protéger et gérer de manière centralisée des informations sensibles telles que les mots de passe, les clés API ou les certificats chiffrés. Votre moniteur Synthétique peut accéder en toute sécurité à ces informations pendant l&apos;exécution script. Ce tutoriel fournit des exemples d&apos;utilisation de l&apos;API NerdGraph pour gérer par programmation des identifiants sécurisés.

## Créer un identifiant sécurisé [#create-secure-credential]

Vous pouvez créer une authentification sécurisée en utilisant la mutation `syntheticsCreateSecureCredential`. Cette mutation vous permet de stocker en toute sécurité des informations sensibles auxquelles votre moniteur Synthétique peut accéder pendant l&apos;exécution script.

### Paramètres d&apos;entrée

<table>
  <thead>
    <tr>
      <th>
        paramètres
      </th>

      <th>
        Type de données
      </th>

      <th>
        Est-ce obligatoire ?
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `accountId`
      </td>

      <td>
        Entier
      </td>

      <td>
        Oui
      </td>

      <td>
        L&apos; 

        [identifiant](/docs/accounts/accounts-billing/account-structure/account-id)

         du compte New Relic sur lequel les informations d&apos;identification sécurisées seront créées.
      </td>
    </tr>

    <tr>
      <td>
        `description`
      </td>

      <td>
        Chaîne
      </td>

      <td>
        Non
      </td>

      <td>
        Une description permettant d&apos;identifier l&apos;objectif de cette certification.
      </td>
    </tr>

    <tr>
      <td>
        `key`
      </td>

      <td>
        Chaîne
      </td>

      <td>
        Oui
      </td>

      <td>
        L&apos;identifiant unique de la clé d&apos;identification sécurisée Synthetics dans New Relic.
      </td>
    </tr>

    <tr>
      <td>
        `value`
      </td>

      <td>
        Chaîne
      </td>

      <td>
        Oui
      </td>

      <td>
        Les données sensibles à stocker en toute sécurité (mot de passe, clé API, etc.).
      </td>
    </tr>
  </tbody>
</table>

### Demande d&apos;échantillon

```graphql
mutation {
  syntheticsCreateSecureCredential(
    accountId: ACCOUNT_ID,
    description: "Your optional description",
    key: "SECURE_CREDENTIAL_NAME",
    value: "SECURE_CREDENTIAL_VALUE"
  ) {
    errors {
      description
      type
    }
  }
}
```

### Exemple de réponse

Une réponse positive renvoie `null` en cas d&apos;erreur :

```json
{
  "data": {
    "syntheticsCreateSecureCredential": {
      "errors": null
    }
  }
}
```

En cas de problème lors de la création de l&apos;identifiant sécurisé, le éventail `errors` contiendra des objets avec des champs `description` et `type` expliquant ce qui s&apos;est mal passé.

## Mettre à jour un identifiant sécurisé [#update-secure-credential]

Vous pouvez mettre à jour une authentification sécurisée existante en utilisant la mutation `syntheticsUpdateSecureCredential`. Cela vous permet de modifier la valeur et la description tout en conservant le même nom de clé.

### Paramètres d&apos;entrée

<table>
  <thead>
    <tr>
      <th>
        paramètres
      </th>

      <th>
        Type de données
      </th>

      <th>
        Est-ce obligatoire ?
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `accountId`
      </td>

      <td>
        Entier
      </td>

      <td>
        Oui
      </td>

      <td>
        L&apos; 

        [identifiant du compte](/docs/accounts/accounts-billing/account-structure/account-id)

         contenant les informations d&apos;identification sécurisées.
      </td>
    </tr>

    <tr>
      <td>
        `description`
      </td>

      <td>
        Chaîne
      </td>

      <td>
        Non
      </td>

      <td>
        Description mise à jour pour l&apos;identifiant sécurisé.
      </td>
    </tr>

    <tr>
      <td>
        `key`
      </td>

      <td>
        Chaîne
      </td>

      <td>
        Oui
      </td>

      <td>
        L&apos;identifiant unique de la clé d&apos;identification sécurisée Synthetics dans New Relic.
      </td>
    </tr>

    <tr>
      <td>
        `value`
      </td>

      <td>
        Chaîne
      </td>

      <td>
        Oui
      </td>

      <td>
        La nouvelle valeur sensible à stocker.
      </td>
    </tr>
  </tbody>
</table>

### Demande d&apos;échantillon

```graphql
mutation {
  syntheticsUpdateSecureCredential(
    accountId: ACCOUNT_ID
    description: "Updated description for the secure credential."
    key: "SECURE_CREDENTIAL_NAME"
    value: "SECURE_CREDENTIAL_VALUE"
  ) {
    createdAt
    lastUpdate
    errors {
      description
      type
    }
  }
}
```

### Exemple de réponse

Une réponse positive renvoie les métadonnées mises à jour et `null` pour les erreurs :

```json
{
  "data": {
    "syntheticsUpdateSecureCredential": {
      "createdAt": "2024-01-15T10:30:00Z",
      "lastUpdate": "2024-01-20T14:45:00Z",
      "errors": null
    }
  }
}
```

En cas de problème lors de la mise à jour des informations d&apos;identification sécurisées, le éventail `errors` contiendra des objets avec des champs `description` et `type` expliquant ce qui s&apos;est mal passé.

## Supprimer un identifiant sécurisé [#delete-secure-credential]

Vous pouvez supprimer une information d&apos;identification sécurisée en utilisant la mutation `syntheticsDeleteSecureCredential`. Une fois supprimée, toute fonction de monitoring faisant référence à ces informations d&apos;identification échouera jusqu&apos;à leur mise à jour.

<Callout variant="caution">
  Avant de supprimer un identifiant sécurisé, assurez-vous qu&apos;aucun système de monitoring actif ne l&apos;utilise. La suppression d&apos;une authentification en cours d&apos;utilisation entraînera la défaillance de ces moniteurs.
</Callout>

### Paramètres d&apos;entrée

<table>
  <thead>
    <tr>
      <th>
        paramètres
      </th>

      <th>
        Type de données
      </th>

      <th>
        Est-ce obligatoire ?
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `accountId`
      </td>

      <td>
        Entier
      </td>

      <td>
        Oui
      </td>

      <td>
        L&apos; 

        [identifiant du compte](/docs/accounts/accounts-billing/account-structure/account-id)

         contenant les informations d&apos;identification sécurisées.
      </td>
    </tr>

    <tr>
      <td>
        `key`
      </td>

      <td>
        Chaîne
      </td>

      <td>
        Oui
      </td>

      <td>
        L&apos;identifiant unique de la clé d&apos;identification sécurisée Synthetics dans New Relic.
      </td>
    </tr>
  </tbody>
</table>

### Demande d&apos;échantillon

```graphql
mutation {
  syntheticsDeleteSecureCredential(
    accountId: ACCOUNT_ID,
    key: "SECURE_CREDENTIAL_NAME"
  ) {
    errors {
      description
      type
    }
  }
}
```

### Exemple de réponse

Une réponse positive renvoie `null` en cas d&apos;erreur :

```json
{
  "data": {
    "syntheticsDeleteSecureCredential": {
      "errors": null
    }
  }
}
```

En cas de problème lors de la suppression des informations d&apos;identification sécurisées, le éventail `errors` contiendra des objets avec des champs `description` et `type` expliquant ce qui s&apos;est mal passé.