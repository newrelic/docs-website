---
title: 'Tutoriel NerdGraph : Créer et gérer un dashboard'
tags:
  - Dashboards
  - Dashboards API
freshnessValidatedDate: never
translationType: machine
---

Vous pouvez utiliser [notre API NerdGraph](/docs/apis/nerdgraph/get-started/introduction-new-relic-nerdgraph) pour créer et gérer <InlinePopover type="dashboards" />.

## Présentation [#starting-out]

Pour une introduction à notre fonctionnalité personnalisée de dashboard, consultez [la documentation du dashboard](/docs/query-your-data/explore-query-data/dashboards/introduction-dashboards).

Lorsque vous utilisez NerdGraph pour configurer le dashboard, il est utile de comprendre que nos dashboards sont considérés comme [des entités](/docs/new-relic-one/use-new-relic-one/core-concepts/what-entity-new-relic), qui ont leurs propres identifiants d&apos;entité, similaires à d&apos;autres éléments que nous considérons comme des entités, comme les applications de monitoring, les hôtes et les services.

Pour savoir comment ajouter et configurer des widgets et des graphiques dans un dashboard, consultez [Configurer des graphiques et d&apos;autres widgets](/docs/apis/nerdgraph/examples/create-widgets-dashboards-api).

## Opérations [#operations]

Nous avons défini une granulaire qui vous permet GraphQL API d&apos;exécuter différentes dashboard opérations en fonction de leur objectif et de leur portée.

### dashboard opérations CRUD [#crud-operations]

Voici les opérations liées à la création, la lecture, la mise à jour et la suppression (CRUD).

<table>
  <thead>
    <tr>
      <th width={325}>
        Opération
      </th>

      <th>
        Type d&apos;opération GraphQL
      </th>

      <th>
        Remarques
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `actor > entity()`
      </td>

      <td>
        requête
      </td>

      <td>
        Obtenir le fonctionnement dashboard . Vous pouvez obtenir toutes les données dashboard et widget pour une entité dashboard donnée GUID.
      </td>
    </tr>

    <tr>
      <td>
        `dashboardCreate()`
      </td>

      <td>
        mutation
      </td>

      <td>
        Créer une opération dashboard . Vous pouvez créer un dashboard attaché à un compte spécifique en spécifiant tous ses éléments, des métadonnées à widget configuration.
      </td>
    </tr>

    <tr>
      <td>
        `dashboardUpdate()`
      </td>

      <td>
        mutation
      </td>

      <td>
        Mettre à jour le fonctionnement dashboard . Vous pouvez mettre à jour un existant dashboard dashboard à GUID l&apos;aide de l&apos;entité . Pour ce faire, vous devez inclure tous les éléments de ce dashboard, même si vous ne mettez pas à jour chaque élément. Par exemple, pour mettre à jour seulement un des nombreux widgets d&apos;un dashboard, vous devrez inclure tous les autres widgets et métadonnées dashboard dans votre mutation.
      </td>
    </tr>

    <tr>
      <td>
        `dashboardDelete()`
      </td>

      <td>
        mutation
      </td>

      <td>
        Opération de suppression dashboard . Vous pouvez supprimer un existant dashboard en dashboard fonction GUID d&apos;un d&apos;entité . Cette opération exécute une suppression logique qui vous permet de récupérer votre dashboard.
      </td>
    </tr>

    <tr>
      <td>
        `dashboardUndelete()`
      </td>

      <td>
        mutation
      </td>

      <td>
        Opération de restauration dashboard . Vous pouvez récupérer un précédemment dashboard dashboard supprimé GUID en fonction d&apos;un d&apos;entité . La balise personnalisée ne peut pas être récupérée.
      </td>
    </tr>
  </tbody>
</table>

### Opérations de la page du dashboard [#page-operations]

<table>
  <thead>
    <tr>
      <th width={325}>
        Opération
      </th>

      <th>
        Type d&apos;opération GraphQL
      </th>

      <th>
        Remarques
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `dashboardUpdatePage()`
      </td>

      <td>
        mutation
      </td>

      <td>
        Mettre à jour le fonctionnement de la page dashboard . Vous pouvez mettre à jour une page dashboard d&apos;un dashboard existant en fonction d&apos;une entité de page GUID. Vous devez spécifier dashboard l&apos;élément de bord complet et mis à jour, des métadonnées à widget configuration.
      </td>
    </tr>

    <tr>
      <td>
        `dashboardUpdateWidgetsInPage()`
      </td>

      <td>
        mutation
      </td>

      <td>
        Mettre à jour le fonctionnement du widget. Vous pouvez mettre à jour un ensemble de widgets dashboard dashboard existants d&apos;une page étant donné un d&apos;entité de page GUID. Vous devez spécifier l&apos;ensemble des widgets à mettre à jour et leur configuration complète.
      </td>
    </tr>

    <tr>
      <td>
        `dashboardAddWidgetsToPage()`
      </td>

      <td>
        mutation
      </td>

      <td>
        Ajouter une opération de widget. Vous pouvez ajouter un ensemble de nouveaux widgets à une dashboard page en dashboard fonction GUID d&apos;un d&apos;entité de page . Vous devez spécifier l&apos;ensemble des nouveaux widgets et leur configuration complète.
      </td>
    </tr>
  </tbody>
</table>

### Autres opérations [#other-operations]

<table>
  <thead>
    <tr>
      <th width={325}>
        Opération
      </th>

      <th>
        Type d&apos;opération GraphQL
      </th>

      <th>
        Remarques
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `dashboardCreateSnapshotUrl()`
      </td>

      <td>
        mutation
      </td>

      <td>
        Créer une opération d&apos;instantané de page dashboard . Vous pouvez créer une URL publique pour une dashboard entité de page GUID donnée. La page dashboard est ensuite accessible sous la forme d’un instantané statique dans l’URL publique résultante. L&apos;URL résultante sera obsolète trois mois après sa création.
      </td>
    </tr>

    <tr>
      <td>
        `actor > dashboard > liveUrls()`
      </td>

      <td>
        requête
      </td>

      <td>
        Répertoriez toutes les opérations d&apos;URL en direct. Vous pouvez obtenir la liste complète des URL en direct auxquelles vous avez accès. Une URL en direct est un mécanisme qui vous permet de partager publiquement des pages dashboard et des widgets avec des données à jour ou en direct.
      </td>
    </tr>

    <tr>
      <td>
        `dashboardWidgetRevokeLiveUrl()`
      </td>

      <td>
        mutation
      </td>

      <td>
        Révoquer l&apos;opération d&apos;URL en direct du widget. Vous pouvez révoquer une URL en direct précédemment créée d&apos;un widget. Par conséquent, l’URL en direct ne sera plus disponible au public.
      </td>
    </tr>

    <tr>
      <td>
        `dashboardCreateLiveUrl()`
      </td>

      <td>
        mutation
      </td>

      <td>
        Créez une URL dashboard en direct accessible au public.
      </td>
    </tr>

    <tr>
      <td>
        `dashboardUpdateLiveUrl()`
      </td>

      <td>
        mutation
      </td>

      <td>
        Mettre à jour la date d’expiration d’une URL dashboard en direct accessible au public.
      </td>
    </tr>

    <tr>
      <td>
        `dashboardRevokeLiveUrl()`
      </td>

      <td>
        mutation
      </td>

      <td>
        Révoquer l&apos;URL dashboard en direct accessible au public.
      </td>
    </tr>

    <tr>
      <td>
        `dashboardUpdateLiveUrlCreationPolicies()`
      </td>

      <td>
        mutation
      </td>

      <td>
        Seul un gestionnaire de domaine d’authentification peut utiliser cette mutation pour activer ou désactiver la politique <DNT>**Live URL Creation**</DNT> pour les comptes. L&apos;utilisateur peut créer des URL en direct pour le dashboard dans les comptes où cette politique est activée.
      </td>
    </tr>
  </tbody>
</table>

## Dashboards multi-comptes [#cross-account]

Avec NerdGraph, vous pouvez [créer des requêtes de données à partir de plusieurs comptes New Relic ](/docs/apis/nerdgraph/examples/nerdgraph-nrql-tutorial#cross-account-query). Vous pouvez également créer un dashboard à l&apos;aide de données provenant de plusieurs comptes en ajoutant des identifiants de compte à l&apos;éventail `accountIds`.

Voici un exemple de création d&apos;un dashboard multi-comptes :

<CollapserGroup>
  <Collapser id="cross-account-dashboard" title="Dashboard avec requête inter-comptes">
    ```graphql lineHighlight=21,37,53
    mutation {
      dashboardCreate(
        accountId: 1
        dashboard: {
          name: "Cross account queries - NerdGraph API - Cross Account Test1"
          description: null
          permissions: PUBLIC_READ_WRITE
          pages: [
            {
              name: "Page 1"
              description: null
              widgets: [
                {
                  visualization: { id: "viz.billboard" }
                  layout: { column: 1, row: 1, height: 3, width: 4 }
                  title: "Cross Account Total Transaction Count"
                  rawConfiguration: {
                    legend: { enabled: true }
                    nrqlQueries: [
                      {
                        accountIds: [1, 1606862, 2212585]
                        query: "SELECT count(*) FROM Transaction"
                      }
                    ]
                    yAxisLeft: { zero: true }
                  }
                  linkedEntityGuids: null
                }
                {
                  visualization: { id: "viz.pie" }
                  layout: { column: 5, row: 1, height: 3, width: 4 }
                  title: "Cross Account Pie"
                  rawConfiguration: {
                    legend: { enabled: true }
                    nrqlQueries: [
                      {
                        accountIds: [1, 1606862, 2212585]
                        query: "SELECT count(*) FROM Transaction FACET accountId()"
                      }
                    ]
                    yAxisLeft: { zero: true }
                  }
                  linkedEntityGuids: null
                }
                {
                  visualization: { id: "viz.line" }
                  layout: { column: 9, row: 1, height: 3, width: 4 }
                  title: "Cross Account Line"
                  rawConfiguration: {
                    legend: { enabled: true }
                    nrqlQueries: [
                      {
                        accountIds: [1, 1606862, 2212585]
                        query: "SELECT count(*) FROM Transaction FACET accountId() TIMESERIES"
                      }
                    ]
                    yAxisLeft: { zero: true }
                  }
                  linkedEntityGuids: null
                }
              ]
            }
          ]
        }
      ) {
        errors {
          description
          type
        }
      }
    }
    ```
  </Collapser>
</CollapserGroup>

## Limites [#limits]

Nous avons limité les valeurs que vous pouvez définir pour certaines propriétés dashboard . Cela nous permet de maintenir le dashboard en bon état tout en améliorant sa convivialité.

### Limites du dashboard [#dashboard-limits]

<table>
  <thead>
    <tr>
      <th>
        Limite
      </th>

      <th>
        Valeur
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Nombre maximal de pages dans un dashboard
      </td>

      <td>
        25
      </td>
    </tr>

    <tr>
      <td>
        Longueur maximale d&apos;un nom dashboard
      </td>

      <td>
        255
      </td>
    </tr>

    <tr>
      <td>
        Longueur maximale d&apos;une description dashboard
      </td>

      <td>
        1024
      </td>
    </tr>
  </tbody>
</table>

### Limites de la page du dashboard [#page-limits]

<table>
  <thead>
    <tr>
      <th>
        Limite
      </th>

      <th>
        Valeur
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Nombre maximal de widgets dans une page dashboard
      </td>

      <td>
        150
      </td>
    </tr>

    <tr>
      <td>
        Longueur maximale d&apos;un nom de page dashboard
      </td>

      <td>
        255
      </td>
    </tr>

    <tr>
      <td>
        Longueur maximale d&apos;une description de page dashboard
      </td>

      <td>
        1024
      </td>
    </tr>
  </tbody>
</table>

### Limites des widgets [#widget-limits]

<table>
  <thead>
    <tr>
      <th>
        Limite
      </th>

      <th>
        Valeur
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Longueur maximale d&apos;un titre de widget
      </td>

      <td>
        255
      </td>
    </tr>

    <tr>
      <td>
        Nombre maximal d&apos;entités liées à un widget
      </td>

      <td>
        1
      </td>
    </tr>

    <tr>
      <td>
        Nombre maximal de requêtes dans un widget
      </td>

      <td>
        20
      </td>
    </tr>

    <tr>
      <td>
        Colonne de disposition maximale d&apos;un widget
      </td>

      <td>
        12
      </td>
    </tr>

    <tr>
      <td>
        Colonne de disposition minimale d&apos;un widget
      </td>

      <td>
        1
      </td>
    </tr>

    <tr>
      <td>
        Ligne de disposition minimale d&apos;un widget
      </td>

      <td>
        1
      </td>
    </tr>

    <tr>
      <td>
        Largeur de mise en page maximale d&apos;un widget
      </td>

      <td>
        12
      </td>
    </tr>

    <tr>
      <td>
        Largeur minimale de mise en page d&apos;un widget
      </td>

      <td>
        1
      </td>
    </tr>

    <tr>
      <td>
        Hauteur de mise en page maximale d&apos;un widget
      </td>

      <td>
        32
      </td>
    </tr>

    <tr>
      <td>
        Hauteur minimale de mise en page d&apos;un widget
      </td>

      <td>
        1
      </td>
    </tr>
  </tbody>
</table>

## Les erreurs des citoyens de première classe [#errors-first-class]

Toutes les mutations dashboard offrent un moyen de demander des erreurs lors de leur exécution. Cela signifie que vous pouvez effectuer vos mutations dashboard et vérifier la réponse afin de détecter les problèmes potentiels attendus. Chaque erreur a un type et une description pour vous aider à identifier la source du problème.

<CollapserGroup>
  <Collapser id="errors-first-class" title="Des erreurs dans chaque réponse à une mutation">
    ```graphql lineHighlight=2
    mutation {
      dashboardMutation(guid: "MY_EXISTING_DASHBOARD_GUID") {
        mutationResult {
          result
        }
        errors {
          description
          type
        }
      }
    }
    ```
  </Collapser>
</CollapserGroup>

Gardez à l&apos;esprit qu&apos;il s&apos;agit d&apos;erreurs attendues dont nous sommes conscients à l&apos;avance. Vous devez également vérifier les erreurs inattendues qui seront renvoyées dans le [champ d’erreurs GraphQL](https://graphql.org/learn/serving-over-http/#response) standard.