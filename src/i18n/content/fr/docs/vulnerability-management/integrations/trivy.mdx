---
title: Intégration de sécurité Trivy
metaDescription: Send your Trivy scan results in SARIF
freshnessValidatedDate: never
translationType: machine
---

Envoyez les résultats de votre analyse Trivy dans New Relic Security RX pour unifier vos résultats de sécurité en un seul endroit. Cette intégration utilise la capacité de l&apos;API de données de sécurité à traiter les résultats de Trivy dans SARIF.

## Prérequis

* New Relic <InlinePopover type="licenseKey" />pour le compte auquel vous souhaitez signaler des données.

## Envoyer des données à New Relic

Pour ingérer vos fichiers de résultats d&apos;analyse Trivy dans SARIF dans New Relic, utilisez l&apos;API de données de sécurité avec l&apos;en-tête `X-SCANNER` défini sur `Trivy`.

Voici un exemple de POST curl :

```bash
curl --location --request POST 'https://security-api.newrelic.com/security/v1?repository=<https://github.com/MY_GITHUB_USER/MY_TRIVY_REPO>' \
  --header 'Api-Key: YOUR_LICENSE_KEY' \
  --header 'Content-Type: application/json' \
  --header 'X-Scanner: Trivy' \
  -d @nameOfSarifFile.json
```

<Callout variant="important">
  Si vous utilisez une clé de licence UE, utilisez le point de terminaison UE : `https://security-api.service.eu.newrelic.com/security/v1`.
</Callout>

<Callout variant="tip">
  Remplacez `<RepositoryUrl>` par votre référentiel d&apos;intégration (facultatif).
</Callout>

## Confirmer l’activité d’importation de numérisation

La réponse HTTP du POST inclura un uuid de demande et des informations sur la demande. Par exemple:

```json
{
  "success": false,
  "errorMessage": null,
  "uuid": "4740e3c8-dbc4-46e6-a4b2-a7fb6f918d20"
}
```

Le GUID de la requête est inclus dans tous les événements de vulnérabilité qui peuvent être [interrogés avec NRQL](/docs/query-your-data/nrql-new-relic-query-language/get-started/introduction-nrql-new-relics-query-language/). Ces événements sont écrits en temps réel au fur et à mesure de l&apos;exécution du job d&apos;import. Pour afficher l&apos;état et la sortie d&apos;une importation pendant son exécution, utilisez cette requête NRQL (en remplaçant `YOUR_REQUEST_ID` par l&apos;uuid renvoyé par votre HTTP POST) :

```sql
FROM Log SELECT * WHERE source = 'Trivy' AND requestId = 'YOUR_REQUEST_ID'
```

Pour voir les résultats de l&apos;analyse, visitez [Security RX](/docs/vulnerability-management/overview/).