---
title: Présentation de l'installation guidée
tags:
  - Full-Stack Observability
  - Observe everything
  - Get started
metaDescription: Our guided installation is a single command that you can use to discover and start monitoring integrations on your system.
freshnessValidatedDate: never
translationType: machine
---

Si vous ne l&apos;avez pas déjà fait, [créez un compte New Relic gratuit](https://newrelic.com/signup) afin de pouvoir instrumenter votre système et envoyer des données télémétriques à New Relic. Notre installation guidée crée une commande CLI personnalisée pour votre environnement qui télécharge et installe la CLI New Relic et l&apos;agent d&apos;infrastructure. Nous vous recommandons de consulter notre [guide des bonnes pratiquesmonitoring des infrastructures](/docs/new-relic-solutions/best-practices-guides/full-stack-observability/infrastructure-monitoring-best-practices-guide/) avant de commencer.

Prêt à commencer ? Cliquez sur le bouton <DNT>**Guided install**</DNT> . Ou, si votre organisation est située dans un [data centerde l’UE](/docs/using-new-relic/welcome-new-relic/get-started/our-eu-us-region-data-centers), cliquez sur <DNT>**EU Guided install**</DNT>.

<ButtonGroup>
  <ButtonLink role="button" to="https://one.newrelic.com/marketplace?state=15321ec0-7cd8-0c04-52bf-7b65778f2e8c" variant="primary">
    Installation guidée
  </ButtonLink>

  <ButtonLink role="button" to="https://one.eu.newrelic.com/marketplace?state=15321ec0-7cd8-0c04-52bf-7b65778f2e8c" variant="primary">
    Guide d&apos;installation de l&apos;UE
  </ButtonLink>
</ButtonGroup>

Notre guide d&apos;installation découvre les applications, infrastructure et les sources log exécutées dans votre environnement, et recommande celles qui doivent être instrumentées. L&apos;installation automatise la configuration et le déploiement de chaque système que vous choisissez d&apos; instrumenter.

<InstallFeedback />

## Pourquoi c&apos;est important [#why-it-matters]

Grâce à notre guide d&apos;installation, vous pouvez instrumenter vos applications et infrastructure et commencer à voir vos données dans New Relic en quelques minutes.

L&apos;installation guidée utilise notre interface de ligne de commande (CLI), l&apos; [agent infrastructure ](/docs/infrastructure/install-infrastructure-agent/get-started/install-infrastructure-agent)pour votre environnement hôte et une [bibliothèque de recettes d&apos;installation](https://github.com/newrelic/open-install-library) pour instrumenter vos applications et infrastructure à votre place. Cela signifie moins de travail pour vous.

Parce que nos recettes d&apos;instrumentation sont open source, vous pouvez modifier les recettes existantes ou en créer de nouvelles pour répondre à vos besoins.

## Drapeaux CLI [#cli-flags]

Personnalisez et déboguez votre installation avec les indicateurs CLI. Utilisez l&apos;indicateur « supposer oui » `-y` pour une installation automatisée avec des valeurs par défaut raisonnables, modifiez la verbosité de la sortie avec `--debug` ou `--trace`, ajoutez une balise ou utilisez des recettes d&apos;installation personnalisées. Vous pouvez trouver une liste complète des options disponibles dans notre référentiel open source (dépôt) sur [GitHub](https://github.com/newrelic/newrelic-cli/blob/main/docs/cli/newrelic_install.md).

## Quelques détails techniques [#technical-details]

L&apos;installation guidée de New Relic utilise des recettes d&apos;installation open source pour instrumenter l&apos;intégration sur hôte. Ces recettes incluent des commandes d&apos;installation et de configuration, des informations sur le log et les métadonnées liées à ce qui est en cours d&apos;installation. Ils sont écrits au format YAML pour chaque type de système à instrumenter et disposent de tous les détails d&apos;installation nécessaires à l&apos;installation de l&apos;agent infrastructure pour une intégration spécifique. Des informations supplémentaires sont disponibles dans notre référentiel open source (dépôt) sur [GitHub](https://github.com/newrelic/open-install-library/blob/main/docs/README.md).

## Recettes [#recipes]

Le guide d&apos;installation automatise la découverte, configuration et l&apos;installation des agents New Relic et de l&apos;intégration. Cependant, il peut arriver que vous souhaitiez les instrumenter un par un à l&apos;aide de la commande d&apos;installation CLI.

Pour installer des agents et des intégrations individuels, vous devez utiliser une commande similaire à la suivante, qui spécifie le type d&apos;intégration que vous souhaitez installer. Voici la syntaxe pour Linux :

```bash
curl -Ls https://download.newrelic.com/install/newrelic-cli/scripts/install.sh | bash && sudo NEW_RELIC_API_KEY=INSERT_YOUR_API_KEY NEW_RELIC_ACCOUNT_ID=INSERT_YOUR_ACCOUNT_ID NEW_RELIC_REGION=INSERT_YOUR_REGION /usr/local/bin/newrelic install -n INSERT_THE_RECIPE_NAME
```

Par exemple, pour installer l’intégration Apache :

```bash
curl -Ls https://download.newrelic.com/install/newrelic-cli/scripts/install.sh | bash && sudo NEW_RELIC_API_KEY=INSERT_YOUR_API_KEY NEW_RELIC_ACCOUNT_ID=INSERT_YOUR_ACCOUNT_ID /usr/local/bin/newrelic install -n apache-open-source-integration
```

Voici la syntaxe pour Windows :

```powershell
[Net.ServicePointManager]::SecurityProtocol = 'tls12, tls'; (New-Object System.Net.WebClient).DownloadFile("https://download.newrelic.com/install/newrelic-cli/scripts/install.ps1", "$env:TEMP\install.ps1"); & PowerShell.exe -ExecutionPolicy Bypass -File $env:TEMP\install.ps1; $env:NEW_RELIC_API_KEY='INSERT_YOUR_API_KEY'; $env:NEW_RELIC_ACCOUNT_ID='INSERT_YOUR_ACCOUNT_ID'; $env:NEW_RELIC_REGION='INSERT_YOUR_REGION'; & 'C:\Program Files\New Relic\New Relic CLI\newrelic.exe' install
```

<Callout variant="important">
  Sous Windows, notre guide d’installation prend uniquement en charge Microsoft SQL Server, le log et l’agent infrastructure .

  Toutes les autres intégrations ne sont prises en charge que sous Linux.
</Callout>

Notre agent open source et d&apos;intégration envoient des métriques de performances et des données d&apos;inventaire depuis vos serveurs et applications vers la plateforme New Relic. Vous pouvez afficher <InlinePopover type="dashboards" />prédéfinis de vos données métriques, créer des règles d&apos;alerte et créer vos propres requêtes et graphiques personnalisés.

Le tableau ci-dessous répertorie les agents et l&apos;intégration pris en charge par la commande CLI d&apos;installation guidée. Les commandes spécifiques d&apos;intégration sur hôte sont fournies pour votre référence :

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        intégration
      </th>

      <th>
        Commande
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Apache
      </td>

      <td>
        `newrelic install -n apache-open-source-integration`
      </td>
    </tr>

    <tr>
      <td>
        Cassandre
      </td>

      <td>
        `newrelic install -n cassandra-open-source-integration`
      </td>
    </tr>

    <tr>
      <td>
        Base de canapé
      </td>

      <td>
        `newrelic install -n couchbase-open-source-integration`
      </td>
    </tr>

    <tr>
      <td>
        .NET
      </td>

      <td>
        `newrelic install -n dotnet-agent-installer`
      </td>
    </tr>

    <tr>
      <td>
        Recherche élastique
      </td>

      <td>
        `newrelic install -n elasticsearch-open-source-integration`
      </td>
    </tr>

    <tr>
      <td>
        HAProxy
      </td>

      <td>
        `newrelic install -n haproxy-open-source-integration`
      </td>
    </tr>

    <tr>
      <td>
        Consul de HashiCorp
      </td>

      <td>
        `newrelic install -n hashicorp-consul-open-source-integration`
      </td>
    </tr>

    <tr>
      <td>
        Agent d&apos;infrastructure
      </td>

      <td>
        `newrelic install -n infrastructure-agent-installer`
      </td>
    </tr>

    <tr>
      <td>
        Java
      </td>

      <td>
        `newrelic install -n java-agent-installer`
      </td>
    </tr>

    <tr>
      <td>
        Memcached
      </td>

      <td>
        `newrelic install -n memcached-open-source-integration`
      </td>
    </tr>

    <tr>
      <td>
        Serveur Microsoft SQL<br /> (Windows uniquement)
      </td>

      <td>
        `newrelic install -n mssql-server-integration-installer`
      </td>
    </tr>

    <tr>
      <td>
        MongoDB
      </td>

      <td>
        `newrelic install -n mongodb-open-source-integration`
      </td>
    </tr>

    <tr>
      <td>
        MySQL
      </td>

      <td>
        `newrelic install -n mysql-open-source-integration`
      </td>
    </tr>

    <tr>
      <td>
        Nagios
      </td>

      <td>
        `newrelic install -n nagios-open-source-integration`
      </td>
    </tr>

    <tr>
      <td>
        Nginx
      </td>

      <td>
        `newrelic install -n nginx-open-source-integration`
      </td>
    </tr>

    <tr>
      <td>
        Node.JS
      </td>

      <td>
        `newrelic install -n node-agent-installer`
      </td>
    </tr>

    <tr>
      <td>
        PHP
      </td>

      <td>
        `newrelic install -n php-agent-installer`
      </td>
    </tr>

    <tr>
      <td>
        PostgreSQL
      </td>

      <td>
        `newrelic install -n postgres-open-source-integration`
      </td>
    </tr>

    <tr>
      <td>
        RabbitMQ
      </td>

      <td>
        `newrelic install -n rabbitmq-open-source-integration`
      </td>
    </tr>

    <tr>
      <td>
        Redis
      </td>

      <td>
        `newrelic install -n redis-open-source-integration`
      </td>
    </tr>

    <tr>
      <td>
        Cache Varnish
      </td>

      <td>
        `newrelic install -n varnish-cache-open-source-integration`
      </td>
    </tr>
  </tbody>
</table>

## Installer des versions spécifiques de l&apos;agent d&apos;infrastructure [#install-specific-versions]

L&apos;interface de ligne de commande prend désormais en charge l&apos;installation de versions spécifiques de l&apos;agent d&apos;infrastructure. Cette fonctionnalité est particulièrement utile pour les environnements qui nécessitent une cohérence dans le déploiement ou qui doivent maintenir la compatibilité avec un système spécifique.

Par défaut, si vous ne spécifiez pas de version, l&apos;interface de ligne de commande installe automatiquement la dernière version disponible de l&apos;agent d&apos;infrastructure. Pour installer une version spécifique à la place, ajoutez le numéro de version au nom de la recette à l&apos;aide du symbole `@` :

```shell
newrelic install -n infrastructure-agent-installer@X.XX.X
```

Où `X.XX.X` représente le numéro de version (par exemple, `1.64.0`). Pour trouver les versions d&apos;agent infrastructure disponibles et leurs détails de sortie, reportez-vous aux [notes de sortie de l&apos;agent d&apos;infrastructure](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/).

Pour Linux :

```bash
curl -Ls https://download.newrelic.com/install/newrelic-cli/scripts/install.sh | bash && sudo NEW_RELIC_API_KEY=INSERT_YOUR_API_KEY NEW_RELIC_ACCOUNT_ID=INSERT_YOUR_ACCOUNT_ID NEW_RELIC_REGION=INSERT_YOUR_REGION /usr/local/bin/newrelic install -n infrastructure-agent-installer@1.64.0
```

Pour Windows :

```powershell
[Net.ServicePointManager]::SecurityProtocol = 'tls12, tls'; (New-Object System.Net.WebClient).DownloadFile("https://download.newrelic.com/install/newrelic-cli/scripts/install.ps1", "$env:TEMP\install.ps1"); & PowerShell.exe -ExecutionPolicy Bypass -File $env:TEMP\install.ps1; $env:NEW_RELIC_API_KEY='INSERT_YOUR_API_KEY'; $env:NEW_RELIC_ACCOUNT_ID='INSERT_YOUR_ACCOUNT_ID'; $env:NEW_RELIC_REGION='INSERT_YOUR_REGION'; & 'C:\Program Files\New Relic\New Relic CLI\newrelic.exe' install -n infrastructure-agent-installer@1.62.0
```

<Callout variant="important">
  Cette fonctionnalité fonctionne sur tous les hôtes Linux et Windows, mais n&apos;est pas prise en charge sur macOS. Lors de l&apos;installation sur macOS, la dernière version sera toujours installée quelle que soit la version spécifiée.
</Callout>

## Résoudre les problèmes courants [#troubleshoot]

Au fur et à mesure que nous identifions les zones dans lesquelles l&apos;installation guidée échoue, nous les documenterons ici et fournirons quelques conseils de dépannage.

<CollapserGroup>
  <Collapser className="freq-link" id="mysql" title="MySQL : autorisations utilisateur incorrectes">
    Pour monitorer les données de santé MySQL , vous avez besoin d&apos;un nom d&apos;utilisateur et d&apos;un mot de passe valides avec des autorisations spécifiques.

    Ces commandes créeront un utilisateur et accorderont les autorisations requises :

    Créez un utilisateur `newrelic@localhost` avec un mot de passe spécifique.

    ```bash
    sudo mysql -e "CREATE USER 'newrelic'@'localhost' IDENTIFIED BY 'YOUR_SELECTED_PASSWORD';"
    ```

    Accordez des privilèges de réplication à `newrelic@localhost` avec un maximum de 5 connexions.

    ```bash
    sudo mysql -e "GRANT REPLICATION CLIENT ON *.* TO 'newrelic'@'localhost' WITH MAX_USER_CONNECTIONS 5;"
    ```

    Accordez des privilèges sélectionnés à `newrelic@localhost` avec un maximum de 5 connexions.

    ```bash
    sudo mysql -e "GRANT SELECT ON *.* TO 'newrelic'@'localhost' WITH MAX_USER_CONNECTIONS 5;"
    ```

    Une fois terminé, votre prochaine tentative d’installation guidée devrait fonctionner.
  </Collapser>

  <Collapser className="freq-link" id="nginx" title="NGINX : aucune URL de statut">
    Pour monitorer votre serveur NGINX, vous devrez configurer une URL d&apos;état valide.

    `status_url`: L&apos;URL configurée pour fournir les métriques à l&apos;aide du module d&apos;état. Si la valeur par défaut de `127.0.0.1` est incorrecte, remplacez l&apos;adresse/FQDN/URL de votre système. Exemple:

    `status_url: http://127.0.0.1/status`

    Vous pouvez en savoir plus sur le `status_url` dans ces documents NGINX :

    * Pour NGINX open source : [module d&apos;état de stub HTTP](https://nginx.org/en/docs/http/ngx_http_stub_status_module.html)

    * Pour NGINX Plus : [module d&apos;état HTTP](https://nginx.org/en/docs/http/ngx_http_status_module.html) et [module API HTTP](http://nginx.org/en/docs/http/ngx_http_api_module.html)

      Il existe différentes manières de définir `status_url`, selon la manière dont NGINX a été installé :

    * Si activé via Kubernetes: voir [les services de monitoring exécutés sur Kubernetes](/docs/monitor-service-running-kubernetes).

    * Si activé via Amazon ECS : voir [les services de monitoring exécutés sur ECS](/docs/integrations/host-integrations/host-integrations-list/monitor-services-running-amazon-ecs).

    * Si installé sur l&apos;hôte : modifiez la configuration dans le fichier de configuration YAML de l&apos;intégration, `nginx-config.yml`.
  </Collapser>
</CollapserGroup>