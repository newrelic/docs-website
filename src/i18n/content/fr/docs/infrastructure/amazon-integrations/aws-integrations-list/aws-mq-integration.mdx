---
title: Intégration d'Amazon MQ
tags:
  - Integrations
  - Amazon integrations
  - AWS integrations list
metaDescription: 'New Relic''s AWS MQ monitoring integration: what data it reports, and how to enable it.'
freshnessValidatedDate: never
translationType: machine
---

<Callout variant="important">
  Activez l&apos; [intégrationAWS CloudWatch Metric Streams ](/docs/infrastructure/amazon-integrations/aws-integrations-list/aws-metric-stream/)pour monitorer toutes les métriques CloudWatch de vos services AWS, y compris l&apos;espace de nommage personnalisé. L’intégration individuelle n’est plus notre option recommandée.

  <DNT>ActiveMQ</DNT> est le seul moteur MQ pris en charge par cette intégration. Si vous utilisez RabbitMQ, consultez notre [intégration RabbitMQ](/docs/infrastructure/host-integrations/host-integrations-list/rabbitmq-monitoring-integration/) pour savoir comment obtenir des métriques à partir de votre instance.
</Callout>

New Relic propose une intégration pour générer des rapports sur vos données [Amazon Web Services MQ](https://aws.amazon.com/amazon-mq) . Ce document explique comment activer cette intégration et décrit les données qui peuvent être signalées.

## Activer l&apos;intégration [#activate]

Pour activer cette intégration, suivez les procédures standard pour [connecter les services AWS à New Relic](/docs/infrastructure/infrastructure-integrations/getting-started/connect-aws-integrations-infrastructure).

## configuration et sondage [#polling]

Vous pouvez modifier la fréquence d&apos;interrogation et filtrer les données à l&apos;aide [des options de configuration](/docs/integrations/new-relic-integrations/getting-started/configure-polling-frequency-data-collection-cloud-integrations).

Informations [d&apos;interrogation](/docs/infrastructure/amazon-integrations/aws-integrations-list/aws-polling-intervals-infrastructure-integrations) par défaut pour l&apos;intégration Amazon MQ :

* Intervalle d&apos;interrogation de New Relic : 5 minutes
* Intervalle de données Amazon CloudWatch : 1 minute

## Afficher et interroger les données [#find-data]

Pour afficher vos données d’intégration, accédez à <DNT>**[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &gt; Infrastructure &gt; AWS**</DNT> et sélectionnez une intégration.

Vous pouvez [interroger et explorer vos données](/docs/using-new-relic/data/understand-data/query-new-relic-data) en utilisant le [type d&apos;événement](/docs/data-apis/understand-data/new-relic-data-types/#event-data) suivant :

<table>
  <thead>
    <tr>
      <th>
        Entité
      </th>

      <th>
        Type d&apos;événement
      </th>

      <th>
        Fournisseur
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Courtier
      </td>

      <td>
        `AwsMqBrokerSample`
      </td>

      <td>
        `AwsMqBroker`
      </td>
    </tr>

    <tr>
      <td>
        Sujet
      </td>

      <td>
        `AwsMqTopicSample`
      </td>

      <td>
        `AwsMqTopic`
      </td>
    </tr>

    <tr>
      <td>
        File d&apos;attente
      </td>

      <td>
        `AwsMqQueueSample`
      </td>

      <td>
        `AwsMqQueue`
      </td>
    </tr>
  </tbody>
</table>

Pour en savoir plus sur l’utilisation de vos données, consultez [Comprendre et utiliser les données d’intégration](/docs/infrastructure/integrations/find-use-infrastructure-integration-data).

## données métriques [#metrics]

Cette intégration enregistre les données Amazon MQ pour le courtier, le sujet et l&apos;entité de file d&apos;attente.

### Données du courtier MQ

<table>
  <thead>
    <tr>
      <th style={{ width: "275px" }}>
        métrique
      </th>

      <th style={{ width: "150px" }}>
        Unité
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `CpuCreditBalance`
      </td>

      <td>
        Compter
      </td>

      <td>
        Le nombre de crédits CPU gagnés qu&apos;une instance a accumulés depuis son lancement ou son démarrage (y compris le nombre de crédits de lancement). Le solde créditeur est disponible pour que l&apos;instance du courtier puisse dépenser des sommes dépassant l&apos;utilisation du processeur de base de référence. Cette métrique est disponible uniquement pour le type d&apos;instance de courtier mq.t2.micro. Les mesures de crédit CPU ne sont disponibles qu&apos;à des intervalles de cinq minutes.
      </td>
    </tr>

    <tr>
      <td>
        `CpuUtilization`
      </td>

      <td>
        Pour cent
      </td>

      <td>
        Le pourcentage d&apos;unité de calcul EC2 allouée que le courtier utilise actuellement.
      </td>
    </tr>

    <tr>
      <td>
        `CurrentConnectionsCount`
      </td>

      <td>
        Compter
      </td>

      <td>
        Le nombre actuel de connexions actives sur le courtier actuel.
      </td>
    </tr>

    <tr>
      <td>
        `EstablishedConnectionsCount`
      </td>

      <td>
        Compter
      </td>

      <td>
        Le nombre total de connexions, actives et inactives, qui ont été établies sur le courtier.
      </td>
    </tr>

    <tr>
      <td>
        `InactiveDurableTopicSubscribersCount`
      </td>

      <td>
        Compter
      </td>

      <td>
        Le nombre d&apos;abonnés inactifs à des sujets durables, jusqu&apos;à un maximum de 2000.
      </td>
    </tr>

    <tr>
      <td>
        `JournalFilesForFastRecovery`
      </td>

      <td>
        Compter
      </td>

      <td>
        Le nombre de fichiers journaux qui seront relus après un arrêt propre.
      </td>
    </tr>

    <tr>
      <td>
        `JournalFilesForFullRecovery`
      </td>

      <td>
        Compter
      </td>

      <td>
        Le nombre de fichiers journaux qui seront relus après un arrêt incorrect.
      </td>
    </tr>

    <tr>
      <td>
        `HeapUsage`
      </td>

      <td>
        Pour cent
      </td>

      <td>
        Le pourcentage de la limite de mémoire JVM <DNT>ActiveMQ</DNT> que le courtier utilise actuellement.
      </td>
    </tr>

    <tr>
      <td>
        `NetworkIn`
      </td>

      <td>
        Octets
      </td>

      <td>
        Le volume de trafic entrant pour le courtier.
      </td>
    </tr>

    <tr>
      <td>
        `NetworkOut`
      </td>

      <td>
        Octets
      </td>

      <td>
        Le volume de trafic sortant pour le courtier.
      </td>
    </tr>

    <tr>
      <td>
        `OpenTransactionsCount`
      </td>

      <td>
        Compter
      </td>

      <td>
        Le nombre total de transactions en cours.
      </td>
    </tr>

    <tr>
      <td>
        `StorePercentUsage`
      </td>

      <td>
        Pour cent
      </td>

      <td>
        Le pourcentage utilisé par la limite de stockage. Si ce nombre atteint 100, le courtier refusera les messages.
      </td>
    </tr>

    <tr>
      <td>
        `TotalConsumerCount`
      </td>

      <td>
        Compter
      </td>

      <td>
        Le nombre de messages consommateurs abonnés à des destinations sur le courtier actuel.
      </td>
    </tr>

    <tr>
      <td>
        `TotalMessageCount`
      </td>

      <td>
        Compter
      </td>

      <td>
        Le nombre de messages stockés sur le courtier.
      </td>
    </tr>

    <tr>
      <td>
        `TotalProducerCount`
      </td>

      <td>
        Compter
      </td>

      <td>
        Le nombre de producteurs de messages actifs sur les destinations du courtier actuel.
      </td>
    </tr>
  </tbody>
</table>

### Données du sujet MQ

<table>
  <thead>
    <tr>
      <th style={{ width: "275px" }}>
        métrique
      </th>

      <th style={{ width: "150px" }}>
        Unité
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `ConsumerCount`
      </td>

      <td>
        Compter
      </td>

      <td>
        Le nombre de consommateur abonnés à la destination.
      </td>
    </tr>

    <tr>
      <td>
        `EnqueueCount`
      </td>

      <td>
        Compter
      </td>

      <td>
        Le nombre de messages envoyés à la destination, par minute.
      </td>
    </tr>

    <tr>
      <td>
        `EnqueueTime`
      </td>

      <td>
        Millisecondes
      </td>

      <td>
        La latence de bout en bout entre le moment où un message arrive chez un courtier et celui où il est livré à un consommateur.
      </td>
    </tr>

    <tr>
      <td>
        `ExpiredCount`
      </td>

      <td>
        Compter
      </td>

      <td>
        Le nombre de messages qui n&apos;ont pas pu être livrés car ils ont expiré, par minute.
      </td>
    </tr>

    <tr>
      <td>
        `DispatchCount`
      </td>

      <td>
        Compter
      </td>

      <td>
        Le nombre de messages envoyés au consommateur, par minute.
      </td>
    </tr>

    <tr>
      <td>
        `DequeueCount`
      </td>

      <td>
        Compter
      </td>

      <td>
        Le nombre de messages reconnus par le consommateur, par minute.
      </td>
    </tr>

    <tr>
      <td>
        `ReceiveCount`
      </td>

      <td>
        Compter
      </td>

      <td>
        Le nombre de messages reçus du courtier distant pour un connecteur réseau duplex.
      </td>
    </tr>

    <tr>
      <td>
        `InFlightCount`
      </td>

      <td>
        Compter
      </td>

      <td>
        Le nombre de messages envoyés au consommateur qui n&apos;ont pas été reconnus.
      </td>
    </tr>

    <tr>
      <td>
        `MemoryUsage`
      </td>

      <td>
        Pour cent
      </td>

      <td>
        Le pourcentage de la limite de mémoire que la destination utilise actuellement.
      </td>
    </tr>

    <tr>
      <td>
        `ProducerCount`
      </td>

      <td>
        Compter
      </td>

      <td>
        Le nombre de producteurs pour la destination.
      </td>
    </tr>
  </tbody>
</table>

### Données de la file d&apos;attente MQ

<table>
  <thead>
    <tr>
      <th style={{ width: "275px" }}>
        métrique
      </th>

      <th style={{ width: "150px" }}>
        Unité
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `ConsumerCount`
      </td>

      <td>
        Compter
      </td>

      <td>
        Le nombre de consommateur abonnés à la destination.
      </td>
    </tr>

    <tr>
      <td>
        `EnqueueCount`
      </td>

      <td>
        Compter
      </td>

      <td>
        Le nombre de messages envoyés à la destination, par minute.
      </td>
    </tr>

    <tr>
      <td>
        `EnqueueTime`
      </td>

      <td>
        Millisecondes
      </td>

      <td>
        La latence de bout en bout entre le moment où un message arrive chez un courtier et celui où il est livré à un consommateur.
      </td>
    </tr>

    <tr>
      <td>
        `ExpiredCount`
      </td>

      <td>
        Compter
      </td>

      <td>
        Le nombre de messages qui n&apos;ont pas pu être livrés car ils ont expiré, par minute.
      </td>
    </tr>

    <tr>
      <td>
        `DispatchCount`
      </td>

      <td>
        Compter
      </td>

      <td>
        Le nombre de messages envoyés au consommateur, par minute.
      </td>
    </tr>

    <tr>
      <td>
        `DequeueCount`
      </td>

      <td>
        Compter
      </td>

      <td>
        Le nombre de messages reconnus par le consommateur, par minute.
      </td>
    </tr>

    <tr>
      <td>
        `ReceiveCount`
      </td>

      <td>
        Compter
      </td>

      <td>
        Le nombre de messages reçus du courtier distant pour un connecteur réseau duplex.
      </td>
    </tr>

    <tr>
      <td>
        `InFlightCount`
      </td>

      <td>
        Compter
      </td>

      <td>
        Le nombre de messages envoyés au consommateur qui n&apos;ont pas été reconnus.
      </td>
    </tr>

    <tr>
      <td>
        `MemoryUsage`
      </td>

      <td>
        Pour cent
      </td>

      <td>
        Le pourcentage de la limite de mémoire que la destination utilise actuellement.
      </td>
    </tr>

    <tr>
      <td>
        `ProducerCount`
      </td>

      <td>
        Compter
      </td>

      <td>
        Le nombre de producteurs pour la destination.
      </td>
    </tr>

    <tr>
      <td>
        `QueueSize`
      </td>

      <td>
        Compter
      </td>

      <td>
        Le nombre de messages dans la file d&apos;attente.
      </td>
    </tr>
  </tbody>
</table>