---
title: Service Azure IoT Hub via l'intégration d'Azure Monitor
metaDescription: 'New Relic''s Microsoft Azure IoT Hub integration: what data it reports and how to enable it.'
freshnessValidatedDate: never
translationType: machine
---

[L&apos;intégration de New Relic](/docs/infrastructure/introduction-infra-monitoring) inclut une intégration permettant de signaler vos métriques [Microsoft Azure IoT Hub](https://learn.microsoft.com/en-us/azure/iot-hub) et d&apos;autres données à New Relic. Ce document explique comment activer l&apos;intégration et décrit les données rapportées.

## Caractéristiques

New Relic collecte les données de métriques d’Azure Monitor pour le service Azure IoT Hub. Azure IoT Hub est un service géré hébergé dans le cloud qui agit comme un hub de messages central pour la communication entre une application IoT et ses appareils connectés. Grâce à New Relic, vous pouvez :

* Affichez les données Azure IoT Hub dans un dashboard prédéfini.
* Exécutez [une requête personnalisée et visualisez les données](/docs/infrastructure/integrations-getting-started/getting-started/use-integration-data-new-relic-insights).
* Créez une condition d&apos;alerte pour vous avertir des changements de données.

## Activer l&apos;intégration [#activate]

Suivez la[Azure Monitor procédure d&apos;intégration](/docs/infrastructure/microsoft-azure-integrations/azure-integrations-list/azure-monitor) standard pour activer votre Azure service dans de New Relic.monitoring infrastructure

## configuration et sondage [#polling]

Vous pouvez modifier la fréquence d&apos;interrogation et filtrer les données à l&apos;aide [des options de configuration](/docs/infrastructure/microsoft-azure-integrations/azure-integrations-list/azure-monitor/#settings).

New Relic interroge vos services Azure IoT Hub via l’intégration Azure Monitor selon un intervalle [d’interrogation](/docs/infrastructure/microsoft-azure-integrations/azure-integrations-list/azure-monitor/#settings) par défaut.

## Rechercher et utiliser des données [#find-and-use]

Pour [explorer vos données d’intégration](/docs/infrastructure/integrations/find-use-infrastructure-integration-data), accédez à <DNT>**[one.newrelic.com/infra](https://one.newrelic.com/infra) &amp;gt; Azure &amp;gt; (select an integration)**</DNT>.

## données métriques [#metrics]

Cette intégration collecte les [données métriques](/docs/infrastructure/integrations-getting-started/getting-started/understand-integration-data-data-types#metric) suivantes :

### Métriques d&apos; Azure IoT Hub [#Azure-iot-hub]

<table>
  <thead>
    <tr>
      <th style={{ width: "300px" }}>
        métrique
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `c2d.commands.egress.abandon.success`
      </td>

      <td>
        Nombre de messages cloud-to-device abandonnés par l&apos;appareil.
      </td>
    </tr>

    <tr>
      <td>
        `c2d.commands.egress.complete.success`
      </td>

      <td>
        Nombre de livraisons de messages cloud vers appareil effectuées avec succès par l&apos;appareil.
      </td>
    </tr>

    <tr>
      <td>
        `c2d.commands.egress.reject.success`
      </td>

      <td>
        Nombre de messages cloud-to-device rejetés par l&apos;appareil.
      </td>
    </tr>

    <tr>
      <td>
        `c2d.methods.failure`
      </td>

      <td>
        Le nombre de tous les appels de méthode directe ayant échoué.
      </td>
    </tr>

    <tr>
      <td>
        `c2d.methods.requestSize`
      </td>

      <td>
        La moyenne, le minimum et le maximum de toutes requests méthode directe réussies.
      </td>
    </tr>

    <tr>
      <td>
        `c2d.methods.responseSize`
      </td>

      <td>
        La moyenne, le minimum et le maximum de toutes les réponses réussies par méthode directe.
      </td>
    </tr>

    <tr>
      <td>
        `c2d.methods.success`
      </td>

      <td>
        Le nombre de tous les appels de méthode directe réussis.
      </td>
    </tr>

    <tr>
      <td>
        `c2d.twin.read.failure`
      </td>

      <td>
        Le nombre de toutes les lectures jumelles initiées par le back-end ayant échoué.
      </td>
    </tr>

    <tr>
      <td>
        `c2d.twin.read.success`
      </td>

      <td>
        Le nombre de toutes les lectures jumelles initiées par le back-end réussies.
      </td>
    </tr>

    <tr>
      <td>
        `c2d.twin.read.size`
      </td>

      <td>
        La moyenne, le minimum et le maximum de toutes les lectures jumelles initiées par le back-end réussies.
      </td>
    </tr>

    <tr>
      <td>
        `c2d.twin.update.failure`
      </td>

      <td>
        Le nombre de toutes les mises à jour jumelles initiées par le back-end ayant échoué.
      </td>
    </tr>

    <tr>
      <td>
        `c2d.twin.update.size`
      </td>

      <td>
        La taille moyenne, minimale et maximale de toutes les mises à jour jumelles initiées par le back-end avec succès.
      </td>
    </tr>

    <tr>
      <td>
        `c2d.twin.update.success`
      </td>

      <td>
        Le nombre de toutes les mises à jour jumelles initiées par le back-end avec succès.
      </td>
    </tr>

    <tr>
      <td>
        `C2DMessagesExpired`
      </td>

      <td>
        Nombre de messages cloud-to-appareil expirés.
      </td>
    </tr>

    <tr>
      <td>
        `configurations`
      </td>

      <td>
        Métriques pour les opérations de configuration.
      </td>
    </tr>

    <tr>
      <td>
        `connectedDeviceCount`
      </td>

      <td>
        Nombre d&apos;appareils connectés à votre hub IoT.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.endpoints.egress.builtIn.events`
      </td>

      <td>
        Nombre de fois où le routage IoT Hub a réussi à transmettre des messages au point de terminaison intégré (messages/événement).
      </td>
    </tr>

    <tr>
      <td>
        `d2c.endpoints.egress.eventHubs`
      </td>

      <td>
        Nombre de fois où le routage IoT Hub a réussi à transmettre des messages au point de terminaison de l&apos;événement Hub.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.endpoints.egress.serviceBusQueues`
      </td>

      <td>
        Nombre de fois où le routage IoT Hub a réussi à transmettre des messages au point de terminaison de la file d&apos;attente Service Bus.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.endpoints.egress.serviceBusTopics`
      </td>

      <td>
        Nombre de fois où le routage IoT Hub a réussi à transmettre des messages au point de terminaison de la rubrique Service Bus.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.endpoints.egress.storage`
      </td>

      <td>
        Nombre de fois où le routage IoT Hub a réussi à transmettre des messages au point de terminaison de stockage.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.endpoints.egress.storage.blobs`
      </td>

      <td>
        Nombre de fois où le routage IoT Hub a livré des blobs au point de terminaison de stockage.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.endpoints.egress.storage.bytes`
      </td>

      <td>
        La quantité de données (octets) que le routage IoT Hub fournit au point de terminaison de stockage.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.endpoints.latency.builtIn.events`
      </td>

      <td>
        Latence moyenne (millisecondes) entre l&apos;entrée du message dans IoT Hub et l&apos;entrée du message de télémétrie dans le point de terminaison intégré (messages/événement).
      </td>
    </tr>

    <tr>
      <td>
        `d2c.endpoints.latency.eventHubs`
      </td>

      <td>
        Latence moyenne (en millisecondes) entre l&apos;entrée du message dans IoT Hub et l&apos;entrée du message dans un point de fin d&apos;événement Hub.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.endpoints.latency.serviceBusQueues`
      </td>

      <td>
        La latence moyenne (millisecondes) entre l&apos;entrée du message dans IoT Hub et l&apos;entrée du message de télémétrie dans un point de terminaison de file d&apos;attente Service Bus.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.endpoints.latency.serviceBusTopics`
      </td>

      <td>
        La latence moyenne (millisecondes) entre l&apos;entrée du message dans IoT Hub et l&apos;entrée du message de télémétrie dans un point de terminaison de rubrique Service Bus.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.endpoints.latency.storage`
      </td>

      <td>
        La latence moyenne (millisecondes) entre l&apos;entrée du message dans IoT Hub et l&apos;entrée du message de télémétrie dans un point de terminaison de stockage.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.telemetry.egress.dropped`
      </td>

      <td>
        Nombre de fois où des messages ont été abandonnés par le routage IoT Hub en raison d&apos;un point mort de terminaison. Cette valeur ne compte pas les messages livrés à la route de secours car les messages abandonnés ne sont pas livrés à cet endroit.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.telemetry.egress.fallback`
      </td>

      <td>
        Nombre de fois où le routage IoT Hub a livré des messages au point de terminaison associé à la route de secours.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.telemetry.egress.invalid`
      </td>

      <td>
        Nombre de fois où le routage IoT Hub n&apos;a pas réussi à délivrer des messages en raison d&apos;une incompatibilité avec le point de terminaison. Cette valeur n&apos;inclut pas les tentatives.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.telemetry.egress.orphaned`
      </td>

      <td>
        Nombre de fois où les messages ont été rendus orphelins par le routage IoT Hub car ils ne correspondaient à aucune règle de routage (y compris la règle de secours).
      </td>
    </tr>

    <tr>
      <td>
        `d2c.telemetry.egress.success`
      </td>

      <td>
        Nombre de fois où les messages ont été livrés avec succès à tous les points de terminaison à l&apos;aide du routage IoT Hub. Si un message est acheminé vers plusieurs points de terminaison, cette valeur augmente d&apos;un pour chaque livraison réussie. Si un message est livré plusieurs fois au même point de terminaison, cette valeur augmente d&apos;un pour chaque livraison réussie.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.telemetry.ingress.allProtocol`
      </td>

      <td>
        Nombre de messages de télémétrie appareil-cloud qui ont tenté d&apos;être envoyés à votre hub IoT.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.telemetry.ingress.sendThrottle`
      </td>

      <td>
        Nombre d&apos;erreurs de limitation dues aux limitations de débit des appareils.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.telemetry.ingress.success`
      </td>

      <td>
        Nombre de messages de télémétrie appareil-cloud envoyés avec succès à votre hub IoT.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.twin.read.failure`
      </td>

      <td>
        Le nombre de toutes les lectures jumelles initiées par le périphérique ayant échoué.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.twin.read.size`
      </td>

      <td>
        La moyenne, le minimum et le maximum de toutes les lectures jumelles initiées par l&apos;appareil avec succès.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.twin.read.success`
      </td>

      <td>
        Le nombre de toutes les lectures jumelles initiées par l&apos;appareil avec succès.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.twin.update.failure`
      </td>

      <td>
        Le nombre de toutes les mises à jour jumelles initiées par l&apos;appareil ayant échoué.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.twin.update.size`
      </td>

      <td>
        La taille moyenne, minimale et maximale de toutes les mises à jour jumelles initiées par l&apos;appareil.
      </td>
    </tr>

    <tr>
      <td>
        `d2c.twin.update.success`
      </td>

      <td>
        Le nombre de toutes les mises à jour jumelles lancées avec succès par l&apos;appareil.
      </td>
    </tr>

    <tr>
      <td>
        `dailyMessageQuotaUsed`
      </td>

      <td>
        Nombre total de messages utilisés aujourd&apos;hui.
      </td>
    </tr>

    <tr>
      <td>
        `deviceDataUsage`
      </td>

      <td>
        Octets transférés vers et depuis tous les appareils connectés à IotHub.
      </td>
    </tr>

    <tr>
      <td>
        `deviceDataUsageV2`
      </td>

      <td>
        Octets transférés vers et depuis tous les appareils connectés à IotHub.
      </td>
    </tr>

    <tr>
      <td>
        `devices.connectedDevices.allProtocol`
      </td>

      <td>
        Nombre d&apos;appareils connectés à votre hub IoT.
      </td>
    </tr>

    <tr>
      <td>
        `devices.totalDevices`
      </td>

      <td>
        Nombre d&apos;appareils enregistrés sur votre hub IoT.
      </td>
    </tr>

    <tr>
      <td>
        `EventGridDeliveries`
      </td>

      <td>
        Le nombre d&apos;événements IoT Hub publiés sur l&apos;événement Grid. Utilisez la dimension Résultat pour le nombre de requests réussies et échouées. La dimension EventType indique le type d&apos;événement.
      </td>
    </tr>

    <tr>
      <td>
        `EventGridLatency`
      </td>

      <td>
        La latence moyenne (millisecondes) entre le moment où l&apos;événement IoT Hub a été généré et le moment où l&apos;événement a été publié sur Event Grid. Ce nombre est une moyenne entre tous les types d&apos;événements. Utilisez la dimension EventType pour voir la latence d’un type d’événement spécifique.
      </td>
    </tr>

    <tr>
      <td>
        `jobs.cancelJob.failure`
      </td>

      <td>
        Le nombre de tous les appels échoués pour annuler une tâche.
      </td>
    </tr>

    <tr>
      <td>
        `jobs.cancelJob.success`
      </td>

      <td>
        Le nombre de tous les appels réussis pour annuler une tâche.
      </td>
    </tr>

    <tr>
      <td>
        `jobs.completed`
      </td>

      <td>
        Le nombre de tous les travaux terminés.
      </td>
    </tr>

    <tr>
      <td>
        `jobs.createDirectMethodJob.failure`
      </td>

      <td>
        Le nombre de toutes les créations échouées de tâches d&apos;invocation de méthode directe.
      </td>
    </tr>

    <tr>
      <td>
        `jobs.createDirectMethodJob.success`
      </td>

      <td>
        Le nombre de toutes les créations réussies de tâches d&apos;invocation de méthode directe.
      </td>
    </tr>

    <tr>
      <td>
        `jobs.createTwinUpdateJob.failure`
      </td>

      <td>
        Le nombre de toutes les créations de tâches de mise à jour jumelles ayant échoué.
      </td>
    </tr>

    <tr>
      <td>
        `jobs.createTwinUpdateJob.success`
      </td>

      <td>
        Le nombre de toutes les créations réussies de tâches de mise à jour jumelles.
      </td>
    </tr>

    <tr>
      <td>
        `jobs.failed`
      </td>

      <td>
        Le nombre de toutes les tâches ayant échoué.
      </td>
    </tr>

    <tr>
      <td>
        `jobs.listJobs.failure`
      </td>

      <td>
        Le nombre de tous les appels échoués pour répertorier les tâches.
      </td>
    </tr>

    <tr>
      <td>
        `jobs.listJobs.success`
      </td>

      <td>
        Le nombre de tous les appels réussis pour répertorier les tâches.
      </td>
    </tr>

    <tr>
      <td>
        `jobs.queryJobs.failure`
      </td>

      <td>
        Requête de travail échouée.
      </td>
    </tr>

    <tr>
      <td>
        `jobs.queryJobs.success`
      </td>

      <td>
        Le nombre de tous les appels réussis aux tâches de requête.
      </td>
    </tr>

    <tr>
      <td>
        `RoutingDataSizeInBytesDelivered`
      </td>

      <td>
        La taille totale en octets des messages livrés par le hub IoT à un point de terminaison. Vous pouvez utiliser les dimensions EndpointName et EndpointType pour afficher la taille des messages en octets livrés à vos différents points de terminaison. La valeur métrique augmente pour chaque message délivré, y compris si le message est délivré à plusieurs points de terminaison ou si le message est délivré plusieurs fois au même point de terminaison.
      </td>
    </tr>

    <tr>
      <td>
        `RoutingDeliveries`
      </td>

      <td>
        Nombre de fois où IoT Hub a tenté de transmettre des messages à tous les points de terminaison à l&apos;aide du routage. Pour voir le nombre de tentatives réussies ou échouées, utilisez la dimension Résultat. Pour voir la raison de l&apos;échec, comme non valide, abandonné ou orphelin, utilisez la dimension FailureReasonCategory. Vous pouvez également utiliser les dimensions EndpointName et EndpointType pour comprendre combien de messages ont été livrés à vos différents points de terminaison. La valeur métrique augmente d&apos;une unité à chaque tentative de livraison, y compris si le message est livré à plusieurs points de terminaison ou si le message est livré plusieurs fois au même point de terminaison.
      </td>
    </tr>

    <tr>
      <td>
        `RoutingDeliveryLatency`
      </td>

      <td>
        La latence moyenne (millisecondes) entre l&apos;entrée du message dans IoT Hub et l&apos;entrée du message de télémétrie dans un point de terminaison. Vous pouvez utiliser les dimensions EndpointName et EndpointType pour comprendre la latence de vos différents points de terminaison.
      </td>
    </tr>

    <tr>
      <td>
        `totalDeviceCount`
      </td>

      <td>
        Nombre d&apos;appareils enregistrés sur votre hub IoT.
      </td>
    </tr>

    <tr>
      <td>
        `twinQueries.failure`
      </td>

      <td>
        Le nombre de toutes les requêtes jumelles ayant échoué.
      </td>
    </tr>

    <tr>
      <td>
        `twinQueries.resultSize`
      </td>

      <td>
        La moyenne, le minimum et le maximum de la taille du résultat de toutes les requêtes jumelles réussies.
      </td>
    </tr>

    <tr>
      <td>
        `twinQueries.success`
      </td>

      <td>
        Le nombre de toutes les requêtes jumelles réussies.
      </td>
    </tr>
  </tbody>
</table>