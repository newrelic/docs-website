---
title: IntégrationGoogle Cloud Pub/Sub monitoring
tags:
  - Integrations
  - Google Cloud Platform integrations
  - GCP integrations list
metaDescription: 'New Relic''s Google Cloud Pub/Sub integration: how to activate it and what data it reports.'
freshnessValidatedDate: never
translationType: machine
---

[L&apos;intégration de New Relic](/docs/infrastructure/introduction-infra-monitoring) avec [Google Cloud Platform (GCP)](https://cloud.google.com/) inclut une intégration permettant de signaler les données [Google Cloud Pub/Sub](https://cloud.google.com/pubsub/) à New Relic. Ce document explique comment activer l&apos;intégration GCP Pub/Sub et décrit les données qui seront signalées.

## Caractéristiques

Dans le cadre de la Google Cloud [solution d&apos;analyse](https://cloud.google.com/solutions/stream-analytics) de flux , le service Cloud Pub/Sub ingère et fournit des flux d&apos;événements pour un traitement et une analyse rapides des données.

## Activer l&apos;intégration [#activate]

Pour activer l&apos;intégration, suivez les procédures standard pour [connecter votre service GCP à New Relic](/docs/connect-google-cloud-platform-services-infrastructure).

## Fréquence des sondages [#polling]

L&apos;intégration de New Relic interroge vos services GCP selon un intervalle d&apos;interrogation, qui varie en fonction de l&apos;intégration. La fréquence d&apos;interrogation pour Google Cloud Pub/Sub est de cinq minutes. La résolution est de 1 point de données par minute.

## Rechercher et utiliser des données [#find-data]

Après avoir activé l&apos;intégration et attendu quelques minutes (en fonction de la [fréquence d&apos;interrogation](#polling)), les données apparaîtront dans l&apos;UI de New Relic. Pour [rechercher et utiliser vos données](/docs/infrastructure/integrations/find-use-infrastructure-integration-data), y compris les liens vers vos <InlinePopover type="dashboards" />et vos paramètres d&apos;alerte, accédez à <DNT>**[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &amp;gt; Infrastructure &amp;gt; GCP &amp;gt; (select an integration)**</DNT>.

## données métriques [#metrics]

Les sujets Pub/Sub sont des entités nommées qui représentent des flux de messages, et les abonnements sont des entités nommées qui représentent des destinations de messages sur un sujet particulier.

Pour afficher [les données métriques](/docs/telemetry-data-platform/understand-data/new-relic-data-types/#metrics) de votre intégration GCP Pub/Sub dans New Relic, [créez une requête NRQL ](/docs/integrations/new-relic-integrations/getting-started/use-integration-data-new-relic-insights#nrql)pour [l&apos;événement](/docs/data-apis/understand-data/new-relic-data-types/#event-data) `GcpPubSubTopicSample` et `GcpPubSubSubscriptionSample` et leur attribut associé.

### Exemple de sous-sujet GcpPub [#gcp-app-engine-service-sample]

requête `GcpPubSubTopicSample` événement dans New Relic pour afficher les données de l&apos;attribut suivant :

<table>
  <thead>
    <tr>
      <th style={{ width: "400px" }}>
        Attribut
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `topic.ByteCost`
      </td>

      <td>
        Coût des opérations, mesuré en octets. Ceci est utilisé pour mesurer l&apos;utilisation des quotas.
      </td>
    </tr>

    <tr>
      <td>
        `topic.ConfigUpdates`
      </td>

      <td>
        Nombre cumulé de modifications de configuration, regroupées par type d&apos;opération et résultat.
      </td>
    </tr>

    <tr>
      <td>
        `topic.MessageSizes`
      </td>

      <td>
        Répartition des tailles des messages publiés (en octets).
      </td>
    </tr>

    <tr>
      <td>
        `topic.NumRetainedAckedMessagesByRegion`
      </td>

      <td>
        Nombre de messages reconnus conservés dans une rubrique, répartis par région Cloud.
      </td>
    </tr>

    <tr>
      <td>
        `topic.NumUnackedMessagesByRegion`
      </td>

      <td>
        Nombre de messages non reconnus dans une rubrique, répartis par région Cloud.
      </td>
    </tr>

    <tr>
      <td>
        `topic.OldestRetainedAckedMessageAgeByRegion`
      </td>

      <td>
        Âge (en secondes) du message reconnu le plus ancien conservé dans une rubrique, réparti par région Cloud.
      </td>
    </tr>

    <tr>
      <td>
        `topic.OldestUnackedMessageAgeByRegion`
      </td>

      <td>
        Âge (en secondes) du message non reconnu le plus ancien dans une rubrique, réparti par région Cloud.
      </td>
    </tr>

    <tr>
      <td>
        `topic.RetainedAckedBytesByRegion`
      </td>

      <td>
        Taille totale en octets des messages reconnus conservés dans une rubrique, répartis par région Cloud.
      </td>
    </tr>

    <tr>
      <td>
        `topic.SendMessageOperation`
      </td>

      <td>
        Nombre cumulé d&apos;opérations de publication de messages.
      </td>
    </tr>

    <tr>
      <td>
        `topic.SendRequest`
      </td>

      <td>
        Nombre cumulé de requests de publication.
      </td>
    </tr>

    <tr>
      <td>
        `topic.UnackedBytesByRegion`
      </td>

      <td>
        Taille totale en octets des messages non reconnus dans une rubrique, répartie par région Cloud.
      </td>
    </tr>
  </tbody>
</table>

### Exemple d&apos;abonnement GcpPubSub [#gcp-app-engine-service-sample]

requête `GcpPubSubSubscriptionSample` événement dans New Relic pour afficher les données de l&apos;attribut suivant :

<table>
  <thead>
    <tr>
      <th style={{ width: "400px" }}>
        Attribut
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `subscription.BacklogBytes`
      </td>

      <td>
        Taille totale en octets des messages non reconnus (alias messages en attente) dans un abonnement.
      </td>
    </tr>

    <tr>
      <td>
        `subscription.ByteCost`
      </td>

      <td>
        Coût cumulé des opérations, mesuré en octets. Ceci est utilisé pour mesurer l&apos;utilisation des quotas.
      </td>
    </tr>

    <tr>
      <td>
        `subscription.ConfigUpdates`
      </td>

      <td>
        Nombre cumulé de modifications de configuration pour chaque abonnement, regroupées par type d&apos;opération et résultat.
      </td>
    </tr>

    <tr>
      <td>
        `subscription.ModAckDeadlineMessageOperation`
      </td>

      <td>
        Nombre cumulé d&apos;opérations de message ModifyAckDeadline, regroupées par résultat.
      </td>
    </tr>

    <tr>
      <td>
        `subscription.ModAckDeadlineRequest`
      </td>

      <td>
        Nombre cumulé de requests ModifyAckDeadline, regroupées par résultat.
      </td>
    </tr>

    <tr>
      <td>
        `subscription.NumOutstandingMessages`
      </td>

      <td>
        Nombre de messages livrés au point de terminaison push d&apos;un abonnement, mais pas encore reconnus.
      </td>
    </tr>

    <tr>
      <td>
        `subscription.NumRetainedAckedMessages`
      </td>

      <td>
        Nombre de messages reconnus conservés dans un abonnement.
      </td>
    </tr>

    <tr>
      <td>
        `subscription.NumRetainedAckedMessagesByRegion`
      </td>

      <td>
        Nombre de messages reconnus conservés dans un abonnement, répartis par région Cloud.
      </td>
    </tr>

    <tr>
      <td>
        `subscription.NumUnackedMessagesByRegion`
      </td>

      <td>
        Nombre de messages non reconnus dans un abonnement, répartis par région Cloud.
      </td>
    </tr>

    <tr>
      <td>
        `subscription.NumUndeliveredMessages`
      </td>

      <td>
        Nombre de messages non reconnus (aka messages en attente) dans un abonnement.
      </td>
    </tr>

    <tr>
      <td>
        `subscription.OldestRetainedAckedMessageAge`
      </td>

      <td>
        Âge (en secondes) du message reconnu le plus ancien conservé dans un abonnement.
      </td>
    </tr>

    <tr>
      <td>
        `subscription.OldestRetainedAckedMessageAgeByRegion`
      </td>

      <td>
        Âge (en secondes) du message reconnu le plus ancien conservé dans un abonnement, réparti par région Cloud.
      </td>
    </tr>

    <tr>
      <td>
        `subscription.OldestUnackedMessageAge`
      </td>

      <td>
        Âge (en secondes) du plus ancien message non reconnu (aka message d&apos;arriéré) dans un abonnement.
      </td>
    </tr>

    <tr>
      <td>
        `subscription.OldestUnackedMessageAgeByRegion`
      </td>

      <td>
        Âge (en secondes) du message non reconnu le plus ancien dans un abonnement, réparti par région Cloud.
      </td>
    </tr>

    <tr>
      <td>
        `subscription.PullAckMessageOperation`
      </td>

      <td>
        Nombre cumulé d&apos;opérations de messages d&apos;accusé de réception, regroupées par résultat.
      </td>
    </tr>

    <tr>
      <td>
        `subscription.PullAckRequest`
      </td>

      <td>
        Nombre cumulé de requests d&apos;accusé de réception, regroupées par résultat.
      </td>
    </tr>

    <tr>
      <td>
        `subscription.PullMessageOperation`
      </td>

      <td>
        Nombre cumulé d&apos;opérations d&apos;extraction de messages, regroupées par résultat.
      </td>
    </tr>

    <tr>
      <td>
        `subscription.PullRequest`
      </td>

      <td>
        Nombre cumulé de demandes de tirage, regroupées par résultat.
      </td>
    </tr>

    <tr>
      <td>
        `subscription.PushRequest`
      </td>

      <td>
        Nombre cumulé de tentatives de push, regroupées par résultat. Contrairement aux pulls, l&apos;implémentation du serveur push ne regroupe pas les messages utilisateur, donc chaque demande ne contient qu&apos;un seul message utilisateur. Le serveur push réessaye en cas d&apos;erreur, de sorte qu&apos;un message utilisateur donné peut apparaître plusieurs fois.
      </td>
    </tr>

    <tr>
      <td>
        `subscription.PushRequestLatencies`
      </td>

      <td>
        Répartition de la latence des requêtes push (en microsecondes), regroupée par résultat.
      </td>
    </tr>

    <tr>
      <td>
        `subscription.RetainedAckedBytes`
      </td>

      <td>
        Taille totale en octets des messages reconnus conservés dans un abonnement.
      </td>
    </tr>

    <tr>
      <td>
        `subscription.RetainedAckedBytesByRegion`
      </td>

      <td>
        Taille totale en octets des messages reconnus conservés dans un abonnement, répartie par région Cloud.
      </td>
    </tr>

    <tr>
      <td>
        `subscription.StreamingPullAckMessageOperation`
      </td>

      <td>
        Nombre cumulé d&apos;opérations de messages d&apos;accusé de réception StreamingPull, regroupées par résultat.
      </td>
    </tr>

    <tr>
      <td>
        `subscription.StreamingPullAckRequest`
      </td>

      <td>
        Nombre cumulé de demandes de tirage en streaming avec des identifiants d&apos;accusé de réception non vides, regroupées par résultat.
      </td>
    </tr>

    <tr>
      <td>
        `subscription.StreamingPullMessageOperation`
      </td>

      <td>
        Nombre cumulé d&apos;opérations d&apos;extraction de messages en streaming, regroupées par résultat.
      </td>
    </tr>

    <tr>
      <td>
        `subscription.StreamingPullModAckDeadlineMessageOperation`
      </td>

      <td>
        Nombre cumulé d&apos;opérations StreamingPull ModifyAckDeadline, regroupées par résultat.
      </td>
    </tr>

    <tr>
      <td>
        `subscription.StreamingPullModAckDeadlineRequest`
      </td>

      <td>
        Nombre cumulé de demandes de tirage en streaming avec des champs ModifyAckDeadline non vides, regroupés par résultat.
      </td>
    </tr>

    <tr>
      <td>
        `subscription.StreamingPullResponse`
      </td>

      <td>
        Nombre cumulé de réponses d&apos;extraction en continu, regroupées par résultat.
      </td>
    </tr>

    <tr>
      <td>
        `subscription.UnackedBytesByRegion`
      </td>

      <td>
        Taille totale en octets des messages non reconnus dans un abonnement, répartie par région Cloud.
      </td>
    </tr>
  </tbody>
</table>