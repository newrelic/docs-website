---
title: IntégrationGoogle Cloud Spanner monitoring
tags:
  - Integrations
  - Google Cloud Platform integrations
  - GCP integrations list
metaDescription: 'New Relic''s Google Cloud Spanner integration: how to activate it and what data it reports.'
freshnessValidatedDate: never
translationType: machine
---

[L&apos;intégration de New Relic](/docs/infrastructure/introduction-infra-monitoring) avec [Google Cloud Platform (GCP)](https://cloud.google.com) inclut une intégration permettant de signaler les données de [Google Cloud Spanner](https://cloud.google.com/spanner/) à New Relic. Ce document explique comment activer l&apos;intégration GCP Cloud Spanner et décrit les données qui peuvent être signalées.

## Caractéristiques [#features]

Le service Google Cloud Spanner est un service de bases de données relationnelles distribué à l&apos;échelle mondiale et conçu pour le cloud. À l&apos;aide de la [console Google Spanner](https://cloud.google.com/spanner/docs/quickstart-console), les développeurs peuvent créer une instance Cloud Spanner, ajouter des schémas, écrire et modifier des données et exécuter des requêtes.

## Activer l&apos;intégration [#activate]

Pour activer l&apos;intégration, suivez les procédures standard pour [connecter votre service GCP à New Relic](/docs/connect-google-cloud-platform-services-infrastructure).

## Fréquence des sondages [#polling]

L&apos;intégration de New Relic interroge vos services GCP selon un intervalle d&apos;interrogation, qui varie en fonction de l&apos;intégration. La fréquence d&apos;interrogation de Google Cloud Spanner est de cinq minutes. La résolution est de 1 point de données par minute.

## Rechercher et utiliser des données [#find-data]

Après avoir activé l&apos;intégration et attendu quelques minutes (en fonction de la [fréquence d&apos;interrogation](#polling)), les données apparaîtront dans l&apos;UI de New Relic. Pour [rechercher et utiliser vos données](/docs/infrastructure/integrations/find-use-infrastructure-integration-data), y compris les liens vers vos <InlinePopover type="dashboards" />et vos paramètres d&apos;alerte, accédez à <DNT>**[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &gt; Infrastructure &gt; GCP &gt; (select an integration)**</DNT>.

## données métriques [#metrics]

Pour afficher [les données métriques](/docs/integrations/new-relic-integrations/getting-started/#metric) de votre intégration GCP Spanner dans New Relic, [créez une requête NRQL ](/docs/integrations/new-relic-integrations/getting-started/use-integration-data-new-relic-insights#nrql)pour [les événements](/docs/data-apis/understand-data/new-relic-data-types/#event-data) `GcpSpannerInstanceSample` et `GcpSpannerDatabaseSample` et leur attribut associé.

### Exemple d&apos;instance GcpSpanner [#gcp-spanner-instance-sample]

requête `GcpSpannerInstanceSample` événement dans New Relic pour afficher les données de l&apos;attribut suivant :

<table>
  <thead>
    <tr>
      <th style={{ width: "300px" }}>
        Attribut
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `instance.autoscaling.HighPriorityCpuUtilizationTarget`
      </td>

      <td>
        Cible d&apos;utilisation du processeur hautement prioritaire utilisée pour la mise à l&apos;échelle automatique.
      </td>
    </tr>

    <tr>
      <td>
        `instance.autoscaling.MaxNodes`
      </td>

      <td>
        Nombre maximal de nœuds que l&apos;autoscaler est autorisé à allouer à l&apos;instance.
      </td>
    </tr>

    <tr>
      <td>
        `instance.autoscaling.MaxProcessingUnits`
      </td>

      <td>
        Nombre maximal d&apos;unités de traitement que l&apos;autoscaler est autorisé à allouer à l&apos;instance.
      </td>
    </tr>

    <tr>
      <td>
        `instance.autoscaling.MinNodes`
      </td>

      <td>
        Nombre minimum de nœuds que l&apos;autoscaler est autorisé à allouer à l&apos;instance.
      </td>
    </tr>

    <tr>
      <td>
        `instance.autoscaling.MinProcessingUnits`
      </td>

      <td>
        Nombre minimum d&apos;unités de traitement que l&apos;autoscaler est autorisé à allouer à l&apos;instance.
      </td>
    </tr>

    <tr>
      <td>
        `instance.autoscaling.StorageUtilizationTarget`
      </td>

      <td>
        Cible d&apos;utilisation du stockage utilisée pour la mise à l&apos;échelle automatique.
      </td>
    </tr>

    <tr>
      <td>
        `instance.backup.UsedBytes`
      </td>

      <td>
        Stockage de sauvegarde utilisé en octets.
      </td>
    </tr>

    <tr>
      <td>
        `instance.cpu.SmoothedUtilization`
      </td>

      <td>
        Utilisation lissée du processeur provisionné pendant 24 heures. Les valeurs sont généralement des nombres compris entre 0,0 et 1,0 (mais peuvent dépasser 1,0), les graphiques affichent les valeurs sous forme de pourcentage compris entre 0 % et 100 % (ou plus).
      </td>
    </tr>

    <tr>
      <td>
        `instance.cpu.Utilization`
      </td>

      <td>
        Pourcentage d&apos;utilisation du processeur provisionné. Les valeurs sont généralement des nombres compris entre 0,0 et 1,0 (mais peuvent dépasser 1,0), les graphiques affichent les valeurs sous forme de pourcentage compris entre 0 % et 100 % (ou plus).
      </td>
    </tr>

    <tr>
      <td>
        `instance.cpu.UtilizationByOperationType`
      </td>

      <td>
        Pourcentage d&apos;utilisation du processeur provisionné, par type d&apos;opération. Les valeurs sont généralement des nombres compris entre 0,0 et 1,0 (mais peuvent dépasser 1,0), les graphiques affichent les valeurs sous forme de pourcentage compris entre 0 % et 100 % (ou plus). Actuellement, il n&apos;inclut pas l&apos;utilisation du processeur pour les tâches système.
      </td>
    </tr>

    <tr>
      <td>
        `instance.cpu.UtilizationByPriority`
      </td>

      <td>
        Pourcentage d&apos;utilisation du processeur provisionné, par priorité. Les valeurs sont généralement des nombres compris entre 0,0 et 1,0 (mais peuvent dépasser 1,0), les graphiques affichent les valeurs sous forme de pourcentage compris entre 0 % et 100 % (ou plus).
      </td>
    </tr>

    <tr>
      <td>
        `instance.dataBoost.ProcessingUnitSeconds`
      </td>

      <td>
        Nombre total d&apos;unités de traitement utilisées pour les opérations DataBoost.
      </td>
    </tr>

    <tr>
      <td>
        `instance.LeaderPercentageByRegion`
      </td>

      <td>
        Pourcentage de leaders par région cloud. Les valeurs sont généralement des nombres compris entre 0,0 et 1,0, les graphiques affichent les valeurs sous forme de pourcentage compris entre 0 % et 100 %.
      </td>
    </tr>

    <tr>
      <td>
        `instance.nodes`
      </td>

      <td>
        Nombre total de nœuds.
      </td>
    </tr>

    <tr>
      <td>
        `instance.ProcessingUnits`
      </td>

      <td>
        Nombre total d&apos;unités de traitement.
      </td>
    </tr>

    <tr>
      <td>
        `instance.sessions`
      </td>

      <td>
        Nombre de sessions en cours d&apos;utilisation.
      </td>
    </tr>

    <tr>
      <td>
        `instance.storage.LimitBytes`
      </td>

      <td>
        Limite de stockage par instance en octets.
      </td>
    </tr>

    <tr>
      <td>
        `instance.storage.LimitBytesPerProcessingUnit`
      </td>

      <td>
        Limite de stockage par unité de traitement en octets.
      </td>
    </tr>

    <tr>
      <td>
        `instance.storage.UsedBytes`
      </td>

      <td>
        Stockage utilisé en octets.
      </td>
    </tr>

    <tr>
      <td>
        `instance.storage.Utilization`
      </td>

      <td>
        Stockage utilisé comme fraction de la limite de stockage.
      </td>
    </tr>
  </tbody>
</table>

### Exemple de base de données GcpSpanner [#gcp-spanner-database-sample]

requête `GcpSpannerDatabaseSample` événement dans New Relic pour afficher les données de l&apos;attribut suivant :

<table>
  <thead>
    <tr>
      <th style={{ width: "300px" }}>
        Attribut
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `api.apiRequests`
      </td>

      <td>
        requests API Cloud Spanner.
      </td>
    </tr>

    <tr>
      <td>
        `api.ReceivedBytes`
      </td>

      <td>
        Octets de demande non compressés reçus par Cloud Spanner.
      </td>
    </tr>

    <tr>
      <td>
        `api.Requests`
      </td>

      <td>
        Taux de requests API Cloud Spanner.
      </td>
    </tr>

    <tr>
      <td>
        `api.RequestLatencies`
      </td>

      <td>
        Répartition de la latence des requêtes serveur pour une base de données. Cela inclut la latence du traitement des requêtes dans le backend et la couche API de Cloud Spanner. Il n&apos;inclut pas les frais de réseau ou de proxy inverse entre les clients et les serveurs.
      </td>
    </tr>

    <tr>
      <td>
        `api.RequestLatenciesByTransactionType`
      </td>

      <td>
        Répartition de la latence des requêtes serveur pour une base de données. Cela inclut la latence du traitement des requêtes dans le backend et la couche API de Cloud Spanner. Il n&apos;inclut pas les frais de réseau ou de proxy inverse entre les clients et les serveurs.
      </td>
    </tr>

    <tr>
      <td>
        `api.SentBytes`
      </td>

      <td>
        Octets de réponse non compressés envoyés par Cloud Spanner.
      </td>
    </tr>

    <tr>
      <td>
        `lockStat.total.LockWaitTime`
      </td>

      <td>
        Temps d&apos;attente total de verrouillage pour les conflits de verrouillage enregistrés pour l&apos;ensemble de la base de données.
      </td>
    </tr>

    <tr>
      <td>
        `queries`
      </td>

      <td>
        Nombre de requêtes par nom de base de données, statut, type de requête et version de l&apos;optimiseur utilisée.
      </td>
    </tr>

    <tr>
      <td>
        `queryStat.total.BytesReturned`
      </td>

      <td>
        Nombre d&apos;octets de données renvoyés par la requête, hors frais généraux de codage de transmission.
      </td>
    </tr>

    <tr>
      <td>
        `queryStat.total.CpuTime`
      </td>

      <td>
        Nombre de secondes de temps CPU que Cloud Spanner a consacré aux opérations pour exécuter la requête.
      </td>
    </tr>

    <tr>
      <td>
        `queryStat.total.Executions`
      </td>

      <td>
        Nombre de fois où Cloud Spanner a vu une requête pendant l&apos;intervalle.
      </td>
    </tr>

    <tr>
      <td>
        `queryStat.total.FailedExecutions`
      </td>

      <td>
        Nombre de fois où la requête a échoué pendant l&apos;intervalle.
      </td>
    </tr>

    <tr>
      <td>
        `queryStat.total.QueryLatencies`
      </td>

      <td>
        Distribution de la durée totale, en secondes, des exécutions de requêtes au sein de la base de données.
      </td>
    </tr>

    <tr>
      <td>
        `queryStat.total.RemoteServiceCalls`
      </td>

      <td>
        Nombre d&apos;appels de service à distance.
      </td>
    </tr>

    <tr>
      <td>
        `queryStat.total.RemoteServiceCallsLatencies`
      </td>

      <td>
        latence des appels de service à distance.
      </td>
    </tr>

    <tr>
      <td>
        `queryStat.total.RemoteServiceNetworkBytesSizes`
      </td>

      <td>
        Octets réseau échangés avec un service distant.
      </td>
    </tr>

    <tr>
      <td>
        `queryStat.total.RemoteServiceProcessedRows`
      </td>

      <td>
        Nombre de lignes traitées par un service distant.
      </td>
    </tr>

    <tr>
      <td>
        `queryStat.total.RemoteServiceProcessedRowsLatencies`
      </td>

      <td>
        latence des lignes traitées par un service distant.
      </td>
    </tr>

    <tr>
      <td>
        `queryStat.total.ReturnedRows`
      </td>

      <td>
        Nombre de lignes renvoyées par la requête.
      </td>
    </tr>

    <tr>
      <td>
        `queryStat.total.ScannedRows`
      </td>

      <td>
        Nombre de lignes analysées par la requête, à l&apos;exclusion des valeurs supprimées.
      </td>
    </tr>

    <tr>
      <td>
        `readStat.total.BytesReturned`
      </td>

      <td>
        Nombre total d&apos;octets de données renvoyés par les lectures, hors frais généraux de codage de transmission.
      </td>
    </tr>

    <tr>
      <td>
        `readStat.total.ClientWaitTime`
      </td>

      <td>
        Nombre de secondes passées à attendre en raison de la limitation.
      </td>
    </tr>

    <tr>
      <td>
        `readStat.total.CpuTime`
      </td>

      <td>
        Nombre de secondes de temps CPU que Cloud Spanner a passé à exécuter les lectures, hors temps de prélecture du processeur et autres frais généraux.
      </td>
    </tr>

    <tr>
      <td>
        `readStat.total.Executions`
      </td>

      <td>
        Nombre de fois que Cloud Spanner a exécuté les formes lues pendant l&apos;intervalle.
      </td>
    </tr>

    <tr>
      <td>
        `readStat.total.LeaderRefreshDelay`
      </td>

      <td>
        Nombre de secondes consacrées à la coordination des lectures sur plusieurs instances dans des configurations multirégionales.
      </td>
    </tr>

    <tr>
      <td>
        `readStat.total.LockingDelays`
      </td>

      <td>
        Répartition du temps total en secondes passé à attendre en raison du verrouillage.
      </td>
    </tr>

    <tr>
      <td>
        `readStat.total.ReturnedRows`
      </td>

      <td>
        Nombre de lignes renvoyées par les lectures.
      </td>
    </tr>

    <tr>
      <td>
        `rowDeletionPolicy.DeletedRows`
      </td>

      <td>
        Nombre de lignes supprimées par la politique depuis le dernier échantillon.
      </td>
    </tr>

    <tr>
      <td>
        `rowDeletionPolicy.ProcessedWatermarkAge`
      </td>

      <td>
        Temps entre maintenant et l&apos;horodatage de lecture de la dernière exécution réussie. Une exécution se produit lorsque la tâche en arrière-plan supprime les données éligibles par lots et réussit même lorsqu&apos;il existe des lignes qui ne peuvent pas être supprimées.
      </td>
    </tr>

    <tr>
      <td>
        `rowDeletionPolicy.UndeletableRows`
      </td>

      <td>
        Nombre de lignes dans toutes les tables de la base de données qui ne peuvent pas être supprimées. Une ligne ne peut pas être supprimée si, par exemple, elle comporte tellement de lignes enfants qu&apos;une suppression dépasserait la limite de transaction.
      </td>
    </tr>

    <tr>
      <td>
        `transactionStat.total.BytesWritten`
      </td>

      <td>
        Nombre d&apos;octets écrits par les transactions.
      </td>
    </tr>

    <tr>
      <td>
        `transactionStat.total.CommitAttempts`
      </td>

      <td>
        Nombre de tentatives de validation pour les transactions.
      </td>
    </tr>

    <tr>
      <td>
        `transactionStat.total.CommitRetries`
      </td>

      <td>
        Nombre de tentatives de validation qui sont des tentatives de transaction précédemment abandonnées.
      </td>
    </tr>

    <tr>
      <td>
        `transactionStat.total.Participants`
      </td>

      <td>
        Répartition du nombre total de participants à chaque tentative de validation.
      </td>
    </tr>

    <tr>
      <td>
        `transactionStat.total.TransactionLatencies`
      </td>

      <td>
        Répartition du nombre total de secondes nécessaires à la validation ou à l&apos;abandon de la première opération de transaction.
      </td>
    </tr>
  </tbody>
</table>