---
title: Obtenir des métriques de scraper (intégration Prometheus)
type: troubleshooting
tags:
  - Integrations
  - Prometheus integrations
  - Troubleshooting
metaDescription: How to get scraper metrics for your Prometheus OpenMetrics integration with New Relic for Docker or Kubernetes.
freshnessValidatedDate: never
translationType: machine
---

## Problème

Vous souhaitez obtenir des métriques de scraper pour votre intégration Prometheus OpenMetrics avec New Relic pour Docker ou Kubernetes.

<img title="Docker icon" alt="Docker icon" src="/images/os_icon_docker.webp" />

<DNT>**Docker:**</DNT> Si vous configurez le `http://localhost:8080/metrics` point de terminaison , l&amp;apos;intégration récupérera également ses propres métriques.

<img title="img-integration-k8s@2x.png" alt="img-integration-k8s@2x.png" src="/images/os_icon_k8.webp" />

<DNT>**Kubernetes:**</DNT> Par défaut, le scraper récupérera également ses propres métriques.

## Solution

Pour en savoir plus sur ce qui se passe à l&apos;intérieur du scraper, utilisez les mesures suivantes pour votre intégration Docker ou Kubernetes avec New Relic :

<table>
  <thead>
    <tr>
      <th>
        métrique
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `nr_stats_targets`
      </td>

      <td>
        Cible découverte par retriever (par exemple, Fixed, Kubernetes).
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_fetch_errors_total`
      </td>

      <td>
        Récupérations tentées qui ont abouti à une erreur par la cible.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_discoveries_total`
      </td>

      <td>
        Tentatives de découvertes par récupérateur (par exemple, Fixed, Kubernetes).
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_fetches_total`
      </td>

      <td>
        Récupérations tentées par la cible.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_integration_fetch_target_duration_seconds`
      </td>

      <td>
        Le temps total en secondes pour récupérer les métriques d&apos;une cible.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_integration_list_targets_duration_by_kind`
      </td>

      <td>
        Le temps total en secondes pour obtenir la liste des cibles par type de ressource et récupérateur (par exemple, pod Kubernetes , services, etc.).
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_integration_payload_size`
      </td>

      <td>
        Taille de la charge utile de la cible.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_integration_process_duration_seconds`
      </td>

      <td>
        Le temps total en secondes pour traiter toutes les étapes de l&apos;intégration.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_integration_total_executions`
      </td>

      <td>
        Le nombre de fois que l&apos;intégration a été exécutée.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_integration_total_payload_size`
      </td>

      <td>
        Taille totale de la charge grattée.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_metrics_total_timeseries`
      </td>

      <td>
        Le nombre total de séries chronologiques récupérées.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_metrics_total_timeseries_by_target`
      </td>

      <td>
        Nombre total de séries chronologiques par cible.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_metrics_total_timeseries_by_target_type`
      </td>

      <td>
        Nombre total de métriques récupérées par type et cible.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_metrics_total_timeseries_by_type`
      </td>

      <td>
        Nombre total de métriques récupérées par type.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_discovery_errors_total`
      </td>

      <td>
        Tentatives de découvertes ayant abouti à une erreur du récupérateur.
      </td>
    </tr>
  </tbody>
</table>