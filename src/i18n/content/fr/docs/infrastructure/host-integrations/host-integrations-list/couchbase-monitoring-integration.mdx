---
title: Intégration monitoring Couchbase
tags:
  - Integrations
  - On-host integrations
  - On-host integrations list
metaDescription: New Relic's Couchbase integration collects and sends inventory and metric data from your Couchbase cluster to the New Relic platform.
freshnessValidatedDate: never
translationType: machine
---

Notre [intégration](/docs/integrations/host-integrations/getting-started/introduction-host-integrations) Couchbase collecte et envoie les données d&amp;apos;inventaire et de métrique de votre cluster Couchbase à la plateforme New Relic, où vous pouvez rapidement voir l&amp;apos;état de votre environnement Couchbase. Nous collectons des données au niveau du cluster, du nœud, du moteur de requête et du bucket afin que vous puissiez trace un problème jusqu&amp;apos;à sa source.

Lisez la suite pour installer l’intégration et voir quelles données nous collectons.

## Compatibilité et exigences [#req]

Notre intégration est compatible avec Couchbase version 4.0 ou supérieure.

## Démarrage rapide [#quick]

Si vous n&apos;exécutez pas Couchbase dans des environnements Kubernetes ou ECS, nous vous recommandons notre installation guidée. Notre guide d&apos;installation utilise notre agent infrastructure et notre CLI pour configurer l&apos;intégration Couchbase, et découvre d&apos;autres applications et sources log exécutées dans votre environnement, puis recommande celles que vous devez instrumenter.

L&apos;installation guidée fonctionne avec la plupart des configurations. Mais si cela ne répond pas à vos besoins, il existe d&apos;autres options d&apos;installation ci-dessous.

Prêt à commencer ? Cliquez sur le bouton correspondant, en fonction de la [régiondata center ](/docs/accounts/accounts-billing/account-setup/choose-your-data-center)que vous utilisez. Une fois l&amp;apos;installation terminée, revenez à cette documentation pour consulter les options de configuration.

<ButtonGroup>
  <ButtonLink role="button" to="https://one.newrelic.com/marketplace/install-data-source?state=7cd80f29-a702-ebb3-edcd-80cab8b61ee2" variant="primary">
    installation guidée, région des États-Unis
  </ButtonLink>

  <ButtonLink role="button" to="https://one.eu.newrelic.com/marketplace/install-data-source?state=7cd80f29-a702-ebb3-edcd-80cab8b61ee2" variant="primary">
    installation guidée, région UE
  </ButtonLink>
</ButtonGroup>

## Installation [#install]

Pour installer l&apos;intégration Couchbase, suivez les instructions correspondant à votre environnement :

<CollapserGroup>
  <Collapser id="ecs-install" title="ECS">
    Voir [le service de monitoring exécuté sur ECS](/docs/integrations/host-integrations/host-integrations-list/monitor-services-running-amazon-ecs).
  </Collapser>

  &apos; &apos;

  <Collapser id="k8s-install" title="Kubernetes">
    Voir [le service de monitoring exécuté sur Kubernetes](/docs/monitor-service-running-kubernetes).
  </Collapser>

  <Collapser id="linux-install" title="Linux">
    1. Installez [l&apos;agent d&apos;infrastructure](/docs/integrations/host-integrations/installation/install-infrastructure-host-integrations/#install) et remplacez la variable `INTEGRATION_FILE_NAME` par `nri-couchbase`.

    2. Changer de répertoire vers le dossier d&apos;intégration :

       ```
       cd /etc/newrelic-infra/integrations.d
       ```

    3. Copie du fichier de configuration d&apos;exemple :

       ```
       sudo cp couchbase-config.yml.sample couchbase-config.yml
       ```

    4. Modifiez le fichier `couchbase-config.yml` comme décrit dans les [paramètres de configuration](#config).
  </Collapser>

  <Collapser id="windows-install" title="Windows">
    1. Téléchargez l&apos;image du programme d&apos;installation `nri-couchbase` .MSI depuis :

       [https://download.newrelic.com/infrastructure\_agent/windows/integrations/nri-couchbase/nri-couchbase-amd64.msi](https://download.newrelic.com/infrastructure_agent/windows/integrations/nri-couchbase/nri-couchbase-amd64.msi)

    2. Pour installer à partir de l’invite de commande Windows, exécutez :

       ```
       msiexec.exe /qn /i PATH\TO\nri-couchbase-amd64.msi
       ```

    3. Dans le répertoire d’intégration, `C:\Program Files\New Relic\newrelic-infra\integrations.d\`, créez une copie du fichier configuration d’exemple en exécutant :

       ```
       copy couchbase-config.yml.sample couchbase-config.yml
       ```

    4. Modifiez le fichier `couchbase-config.yml` comme décrit dans les [paramètres de configuration](#config).
  </Collapser>
</CollapserGroup>

## Mettez à jour votre intégration [#update]

Cette intégration ne se met pas à jour automatiquement. Pour de meilleurs résultats, mettez régulièrement [à jour le package d&apos;intégration](/docs/integrations/host-integrations/installation/update-infrastructure-host-integration-package) et [l&apos;agent d&apos;infrastructure](/docs/infrastructure/new-relic-infrastructure/installation/update-infrastructure-agent).

## Tâches post-installation [#after-install]

Une fois l&apos;installation terminée, vous pouvez définir les options de configuration. Certaines configurations sont nécessaires pour que l&apos;intégration fonctionne, tandis que d&apos;autres sont facultatives.

### Configurer l&apos;intégration [#config]

Si vous avez activé cette intégration via notre intégration ECS ou Kubernetes, consultez ces documents :

* [Kubernetes](/docs/monitor-service-running-kubernetes)
* [ECS](/docs/integrations/host-integrations/host-integrations-list/monitor-services-running-amazon-ecs)

Pour l&apos;installation standard sur l&apos;hôte, cette intégration est livrée avec un fichier de configuration YAML, `apache-config.yml`. Cette configuration vous permet de placer les informations de connexion requises et de configurer la manière dont les données sont collectées. Les options que vous modifiez dépendent de votre configuration et de vos préférences. Il est livré avec un exemple de fichier de configuration `apache-config.yml.sample` que vous pouvez copier et modifier.

Le fichier configuration contient des paramètres communs applicables à toutes les intégrations, tels que `interval`, `timeout`, `inventory_source`. Pour tout savoir sur ces paramètres courants, reportez-vous à notre document [Format de configuration](/docs/create-integrations/infrastructure-integrations-sdk/specifications/host-integrations-newer-configuration-format/#configuration-basics) .

Les paramètres spécifiques liés à Couchbase sont définis à l&apos;aide de la section `env` du fichier de configuration. Ces paramètres contrôlent la connexion à votre instance Couchbase ainsi que d&amp;apos;autres paramètres et fonctionnalités de sécurité. La liste des paramètres valides est décrite dans la section suivante de ce document.

#### Options de configuration de Couchbase [#config-options]

L&apos;intégration Couchbase collecte à la fois des métriques et des informations d&apos;inventaire. Ce tableau montre à quoi s’applique chaque option de configuration.

&apos; &apos; &apos; &apos; &apos; &apos; &apos; &apos; &apos; &apos; &apos; &apos; &apos; &apos; &apos; &apos; &apos; &apos; &apos; &apos; &apos; &apos; &apos; &apos; &apos; &apos;

<table>
  <thead>
    <tr>
      <th style={{ width: '150px' }}>
        Paramètre
      </th>

      <th>
        Description
      </th>

      <th>
        Défaut
      </th>

      <th>
        S&apos;applique à
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        <DNT>
          **HOSTNAME**
        </DNT>
      </td>

      <td>
        nom d&apos;hôte ou IP où Couchbase est exécuté.
      </td>

      <td>
        hôte local
      </td>

      <td style={{ "text-align": "center" }}>
        MI
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **PORT**
        </DNT>
      </td>

      <td>
        Port sur lequel l&apos;API Couchbase écoute.
      </td>

      <td>
        8091
      </td>

      <td style={{ 'text-align': 'center' }}>
        MI
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **QUERY\_PORT**
        </DNT>
      </td>

      <td>
        Port sur lequel le service Couchbase N1QL écoute.
      </td>

      <td>
        8093
      </td>

      <td style={{ 'text-align': 'center' }}>
        MI
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **USERNAME**
        </DNT>
      </td>

      <td>
        Nom d&apos;utilisateur pour accéder à l&apos;API Couchbase.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        MI
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **PASSWORD**
        </DNT>
      </td>

      <td>
        Mot de passe pour l&apos;utilisateur donné.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        MI
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **USE\_SSL**
        </DNT>
      </td>

      <td>
        Utilisez SSL lors de la communication avec Couchbase.
      </td>

      <td>
        false
      </td>

      <td style={{ 'text-align': 'center' }}>
        MI
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **CA\_BUNDLE\_FILE**
        </DNT>
      </td>

      <td>
        Emplacement du certificat SSL sur l&apos;hôte. Requis uniquement si `USE_SSL` est vrai.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        MI
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **CA\_BUNDLE\_DIR**
        </DNT>
      </td>

      <td>
        Répertoire de bundles d&apos;autorités de certification alternatives.
      </td>

      <td>
        N/A
      </td>

      <td style={{ 'text-align': 'center' }}>
        MI
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **TIMEOUT**
        </DNT>
      </td>

      <td>
        Délai d&apos;expiration requests API, en secondes.
      </td>

      <td>
        30
      </td>

      <td style={{ 'text-align': 'center' }}>
        MI
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **ENABLE\_BUCKETS**
        </DNT>
      </td>

      <td>
        Si vrai, collecte les ressources du bucket.
      </td>

      <td>
        vrai
      </td>

      <td style={{ 'text-align': 'center' }}>
        M
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **ENABLE\_BUCKET\_STATS**
        </DNT>
      </td>

      <td>
        Si vrai, collecte des statistiques de bucket supplémentaires.
      </td>

      <td>
        vrai
      </td>

      <td style={{ 'text-align': 'center' }}>
        M
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **ENABLE\_CLUSTER\_AND\_NODES**
        </DNT>
      </td>

      <td>
        Si vrai, collecte les ressources du cluster et du nœud.
      </td>

      <td>
        vrai
      </td>

      <td style={{ 'text-align': 'center' }}>
        M
      </td>
    </tr>

    <tr>
      <td>
        <DNT>
          **METRICS**
        </DNT>
      </td>

      <td>
        Définissez sur `true` pour activer la collecte de métriques uniquement.
      </td>

      <td>
        false
      </td>

      <td style={{ 'text-align': 'center' }} />
    </tr>

    <tr>
      <td>
        <DNT>
          **INVENTORY**
        </DNT>
      </td>

      <td>
        Définissez sur `true` pour activer la collecte d&amp;apos;inventaire uniquement.
      </td>

      <td>
        false
      </td>

      <td style={{ 'text-align': 'center' }} />
    </tr>
  </tbody>
</table>

Les valeurs de ces paramètres peuvent être définies de plusieurs manières :

* Ajout de la valeur directement dans le fichier de configuration (la manière la plus courante).
* Remplacement des valeurs des variables d’environnement à l’aide de la notation `{{}}` . Cela nécessite l&amp;apos;agent d&amp;apos;infrastructure version 1.14.0 ou supérieure. Pour plus d&amp;apos;informations, consultez [Configuration de l&apos;infrastructure](/docs/infrastructure/install-infrastructure-agent/configuration/configure-infrastructure-agent/#passthrough) ou consultez [l&apos;exemple de variable d&apos;environnement](#example5).
* Utilisation de la gestion des secrets. Utilisez ceci pour protéger les informations sensibles, telles que les mots de passe qui seraient exposés en texte brut dans le fichier de configuration. Pour plus d&apos;informations, voir [Gestion des secrets](/docs/integrations/host-integrations/installation/secrets-management).

### Étiquettes [#labels]

Vous pouvez également décorer vos métriques à l’aide d’étiquettes. Les étiquettes vous permettent d&apos;ajouter des paires d&apos;attributs (valeur clé) à vos métriques, que vous pouvez ensuite utiliser pour interroger, filtrer ou regrouper vos métriques.

Notre fichier de configuration d&apos;exemple par défaut inclut des exemples d&apos;étiquettes mais, comme ils ne sont pas obligatoires, vous pouvez supprimer, modifier ou ajouter de nouvelles étiquettes de votre choix.

```
 labels:
   env: production
   role: load_balancer
```

## Exemple de configuration [#examples]

<CollapserGroup>
  <Collapser id="basic-config" title="Configuration de base">
    Il s&apos;agit de la configuration de base utilisée pour collecter les métriques et l&apos;inventaire à partir de votre hôte local :

    ```
    integrations:
      - name: nri-couchbase
        env:
          HOSTNAME: localhost
          PORT: 8091
          QUERY_PORT: 8093
          USERNAME: couchbase_user
          PASSWORD: couchbase_password
        interval: 15s
        labels:
          environment: production
        inventory_source: config/couchbase
    ```
  </Collapser>

  <Collapser id="basic-intervals" title="configuration de base avec différents intervalles métriques/d'inventaire">
    Cette configuration collecte des métriques toutes les 15 secondes et un inventaire toutes les 60 secondes :

    ```
    integrations:
      - name: nri-couchbase
        env:
          METRICS: true
          HOSTNAME: localhost
          PORT: 8091
          QUERY_PORT: 8093
          USERNAME: couchbase_user
          PASSWORD: couchbase_password
        interval: 15s
        labels:
          environment: production

      - name: nri-couchbase
        env:
          INVENTORY: true
          HOSTNAME: localhost
          PORT: 8091
          QUERY_PORT: 8093
          USERNAME: couchbase_user
          PASSWORD: couchbase_password
        interval: 60s
        labels:
          environment: production
        inventory_source: config/couchbase
    ```
  </Collapser>

  <Collapser id="envvar-replacement" title="Remplacement des variables d'environnement">
    Dans cette configuration nous utilisons la variable d&apos;environnement `COUCHBASE_HOST` pour renseigner le paramètre nom d&amp;apos;hôte de l&amp;apos;intégration :

    ```
    integrations:
      - name: nri-couchbase
        env:
          METRICS: "true"
          HOSTNAME: {{COUCHBASE_HOST}}
          PORT: 8091
          QUERY_PORT: 8093
          USERNAME: couchbase_user
          PASSWORD: couchbase_password
        interval: 15s
        labels:
          env: production
          role: load_balancer
    ```
  </Collapser>

  <Collapser id="multi-instance" title="multi-instance monitoring">
    Dans cette configuration nous monitoring plusieurs serveurs Couchbase à partir de la même intégration. Pour la première instance (`HOSTNAME: 1st_couchbase_host`), nous collectons des métriques et un inventaire tandis que pour la deuxième instance (`HOSTNAME: 2nd_couchbase_host`), nous collecterons uniquement des métriques.

    ```
    integrations:
      - name: nri-couchbase
        env:
          METRICS: "true"
          HOSTNAME: 1st_couchbase_host
          PORT: 8091
          QUERY_PORT: 8093
          USERNAME: couchbase_user
          PASSWORD: couchbase_password
        interval: 15s
        labels:
          env: production
          role: load_balancer
      - name: nri-couchbase
        env:
          INVENTORY: "true"
          HOSTNAME: 1st_couchbase_host
          PORT: 8091
          QUERY_PORT: 8093
          USERNAME: couchbase_user
          PASSWORD: couchbase_password
        interval: 60s
        labels:
          env: production
          role: load_balancer
        inventory_source: config/couchbase

      - name: nri-couchbase
        env:
          METRICS: "true"
          HOSTNAME: 2nd_couchbase_host
          PORT: 8091
          QUERY_PORT: 8093
          USERNAME: couchbase_user
          PASSWORD: couchbase_password
        interval: 15s
        labels:
          env: production
          role: load_balancer
    ```
  </Collapser>
</CollapserGroup>

## Rechercher et utiliser des données [#find-and-use]

les données d&apos;intégration sont rapportées au [dashboard d&apos;intégration](/docs/integrations/new-relic-integrations/getting-started/infrastructure-integration-dashboards-charts).

Les données Couchbase sont attachées aux [types d’événements](/docs/using-new-relic/data/understand-data/new-relic-data-types#events-new-relic) suivants :

* `CouchbaseBucketSample`
* `CouchbaseClusterSample`
* `CouchbaseNodeSample`
* `CouchbaseQueryEngineSample`

Vous pouvez [interroger ces données](/docs/using-new-relic/data/understand-data/query-new-relic-data) à des fins de dépannage ou pour créer des graphiques et des dashboards personnalisés.

Pour en savoir plus sur la recherche et l’utilisation de vos données, consultez [Comprendre les données d’intégration](/docs/infrastructure/integrations/find-use-infrastructure-integration-data).

## données métriques [#metrics]

L&apos;intégration Couchbase collecte l&apos;attribut de données métriques suivant. Certains noms métriques sont préfixés par un indicateur de catégorie et un point, tels que `cluster.` ou `node.`.

### Exemples de mesures du bucket Couchbase [#bucket-sample-metric]

Ces attributs sont attachés au type d&apos;événement `CouchbaseBucketSample` .

<table>
  <thead>
    <tr>
      <th style={{ width: "350px" }}>
        métrique
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `bucket.activeResidentItemsRatio`
      </td>

      <td>
        Pourcentage d&apos;éléments actifs mis en cache dans la RAM dans ce bucket.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.averageDiskCommitTimeInMilliseconds`
      </td>

      <td>
        Le temps moyen de validation du disque du bucket, en millisecondes.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.averageDiskUpdateTimeInMilliseconds`
      </td>

      <td>
        Le temps moyen de mise à jour du disque du bucket, en millisecondes.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.cacheMissRatio`
      </td>

      <td>
        Pourcentage de lectures par seconde dans ce bucket à partir du disque par opposition à la RAM.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.currentConnections`
      </td>

      <td>
        Nombre de connexions à ce serveur, y compris les connexions provenant de SDK clients externes, de proxys, requests TAP et de collecte de statistiques internes.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.dataUsedInBytes`
      </td>

      <td>
        Quantité de données utilisées par ce bucket, en octets.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.decrementHitsPerSecond`
      </td>

      <td>
        Le nombre de décrémentations par seconde du bucket.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.decrementMissesPerSecond`
      </td>

      <td>
        Le nombre d&apos;échecs de décrémentation par seconde du bucket.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.deleteHitsPerSecond`
      </td>

      <td>
        Le nombre de suppressions par seconde pour ce bucket.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.deleteMissesPerSecond`
      </td>

      <td>
        Le nombre d&apos;échecs de suppression par seconde pour ce bucket.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.diskCreateOperationsPerSecond`
      </td>

      <td>
        Nombre de nouveaux éléments créés sur le disque par seconde pour ce bucket.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.diskFetchesPerSecond`
      </td>

      <td>
        Le nombre d&apos;opérations requises par seconde pour récupérer des éléments du disque sur le bucket.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.diskUpdateOperationsPerSecond`
      </td>

      <td>
        Nombre d&apos;éléments mis à jour sur le disque par seconde pour ce bucket.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.diskUsedInBytes`
      </td>

      <td>
        La quantité d&apos;espace disque utilisée pour le bucket, en octets.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.diskWriteQueue`
      </td>

      <td>
        Nombre d&apos;éléments en attente d&apos;être écrits sur le disque dans le bucket.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.ejectionsPerSecond`
      </td>

      <td>
        Nombre total d&apos;éléments par seconde éjectés sur le disque dans ce compartiment
      </td>
    </tr>

    <tr>
      <td>
        `bucket.evictionPolicy`
      </td>

      <td>
        La politique d&apos;expulsion du seau.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.evictionsPerSecond`
      </td>

      <td>
        Le nombre d&apos;éléments par seconde expulsés du bucket.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.getHitsPerSecond`
      </td>

      <td>
        Nombre d&apos;opérations d&apos;obtention par seconde pour les données contenues dans ce bucket.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.getMissesPerSecond`
      </td>

      <td>
        Nombre d&apos;opérations d&apos;obtention par seconde pour les données que ce bucket ne contient pas.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.hitRatio`
      </td>

      <td>
        Pourcentage de requêtes GET traitées avec des données de ce bucket.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.incrementHitsPerSecond`
      </td>

      <td>
        Le nombre d&apos;incréments par seconde du bucket.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.incrementMissesPerSecond`
      </td>

      <td>
        Le nombre d&apos;échecs d&apos;incrémentation par seconde du bucket.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.itemCount`
      </td>

      <td>
        Le nombre d&apos;objets stockés dans le bucket.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.memoryHighWaterMarkInBytes`
      </td>

      <td>
        Limite supérieure pour les expulsions automatiques sur le bucket, en octets.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.memoryLowWaterMarkInBytes`
      </td>

      <td>
        Limite d&apos;eau basse pour les expulsions automatiques sur le bucket, en octets.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.memoryUsedInBytes`
      </td>

      <td>
        La quantité de RAM utilisée pour le bucket, en octets.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.metadataInRAMInBytes`
      </td>

      <td>
        Quantité de RAM utilisée pour les métadonnées sur ce bucket, en octets.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.missesPerSecond`
      </td>

      <td>
        Le nombre d&apos;échecs par seconde du bucket.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.nodeLocator`
      </td>

      <td>
        Type de localisateur de nœuds.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.outOfMemoryErrorsPerSecond`
      </td>

      <td>
        Nombre d&apos;erreurs matérielles de manque de mémoire pour ce bucket.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.OverheadInBytes`
      </td>

      <td>
        La mémoire supplémentaire utilisée par les données transitoires (files d&apos;attente de persistance, files d&apos;attente de réplication, points de contrôle, etc.) sur le bucket, en octets.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.pendingResidentItemsRatio`
      </td>

      <td>
        Pourcentage d&apos;éléments en attente mis en cache dans la RAM dans ce bucket.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.quotaUtilization`
      </td>

      <td>
        Le pourcentage du quota de RAM actuellement utilisé sur le bucket.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.readOperationsPerSecond`
      </td>

      <td>
        Le nombre de lectures (opérations d&apos;obtention) par seconde à partir de ce bucket.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.readRatePerSecond`
      </td>

      <td>
        Les octets lus par seconde du bucket.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.replicaIndex`
      </td>

      <td>
        Définit si les index de réplication sont activés pour le bucket.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.replicaNumber`
      </td>

      <td>
        Nombre de répliques de ce bucket.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.replicaResidentItemsRatio`
      </td>

      <td>
        Pourcentage d&apos;éléments de réplique mis en cache dans la RAM dans ce bucket.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.residentItemsRatio`
      </td>

      <td>
        Pourcentage de tous les éléments mis en cache dans la RAM dans ce bucket.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.temporaryOutOfMemoryErrorsPerSecond`
      </td>

      <td>
        Nombre de back-offs envoyés par seconde aux SDK clients en raison de situations de manque de mémoire à partir de ce bucket.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.threadsNumber`
      </td>

      <td>
        Le nombre de lecteurs et d’écrivains simultanés pour le compartiment de données.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.totalOperationsPerSecond`
      </td>

      <td>
        Le nombre total d&apos;opérations par seconde du bucket.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.writeOperationsPerSecond`
      </td>

      <td>
        Le nombre d&apos;écritures (opérations de définition) par seconde dans ce bucket.
      </td>
    </tr>

    <tr>
      <td>
        `bucket.writeRatePerSecond`
      </td>

      <td>
        Les octets écrits dans le bucket.
      </td>
    </tr>
  </tbody>
</table>

### Exemples de mesures cluster Couchbase [#cluster-sample-metric]

Ces attributs sont attachés au type d&apos;événement `CouchbaseClusterSample` .

<table>
  <thead>
    <tr>
      <th style={{ width: "350px" }}>
        métrique
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `cluster.autoFailoverCount`
      </td>

      <td>
        Le nombre de basculements automatiques sur le cluster.
      </td>
    </tr>

    <tr>
      <td>
        `cluster.autoFailoverEnabled`
      </td>

      <td>
        Indique si le basculement est activé sur le cluster.
      </td>
    </tr>

    <tr>
      <td>
        `cluster.databaseFragmentationThreshold`
      </td>

      <td>
        Le niveau de pourcentage dans la base de données auquel le compactage se produit.
      </td>
    </tr>

    <tr>
      <td>
        `cluster.diskFreeInBytes`
      </td>

      <td>
        L&apos;espace disque libre sur ce cluster, en octets.
      </td>
    </tr>

    <tr>
      <td>
        `cluster.diskQuotaTotalInBytes`
      </td>

      <td>
        Espace disque total disponible pour Couchbase, en octets.
      </td>
    </tr>

    <tr>
      <td>
        `cluster.diskTotalInBytes`
      </td>

      <td>
        Espace disque total disponible, en octets.
      </td>
    </tr>

    <tr>
      <td>
        `cluster.diskUsedbyDataInBytes`
      </td>

      <td>
        Disque utilisé par les données du bucket sur ce cluster, en octets.
      </td>
    </tr>

    <tr>
      <td>
        `cluster.diskUsedInBytes`
      </td>

      <td>
        L&apos;espace disque utilisé sur ce cluster, en octets.
      </td>
    </tr>

    <tr>
      <td>
        `cluster.indexFragmentationThreshold`
      </td>

      <td>
        Le niveau de pourcentage dans les indices auquel le compactage se produit.
      </td>
    </tr>

    <tr>
      <td>
        `cluster.maximumBucketCount`
      </td>

      <td>
        Nombre maximal de buckets pris en charge par ce cluster.
      </td>
    </tr>

    <tr>
      <td>
        `cluster.memoryQuotaTotalInBytes`
      </td>

      <td>
        RAM totale disponible pour Couchbase, en octets.
      </td>
    </tr>

    <tr>
      <td>
        `cluster.memoryQuotaTotalPerNodeInBytes`
      </td>

      <td>
        RAM totale disponible pour Couchbase, par nœud, en octets.
      </td>
    </tr>

    <tr>
      <td>
        `cluster.memoryQuotaUsedInBytes`
      </td>

      <td>
        RAM totale utilisée par Couchbase, en octets.
      </td>
    </tr>

    <tr>
      <td>
        `cluster.memoryQuotaUsedPerNodeInBytes`
      </td>

      <td>
        RAM totale utilisée par Couchbase, par nœud, en octets.
      </td>
    </tr>

    <tr>
      <td>
        `cluster.memoryTotalInBytes`
      </td>

      <td>
        La RAM totale sur ce cluster, en octets.
      </td>
    </tr>

    <tr>
      <td>
        `cluster.memoryUsedByDataInBytes`
      </td>

      <td>
        RAM totale utilisée par les données du bucket sur ce cluster, en octets.
      </td>
    </tr>

    <tr>
      <td>
        `cluster.memoryUsedInBytes`
      </td>

      <td>
        La RAM totale utilisée sur ce cluster, en octets.
      </td>
    </tr>

    <tr>
      <td>
        `cluster.viewFragmentationThreshold`
      </td>

      <td>
        Le pourcentage de fragmentation dans tous les fichiers d&apos;index de vue auquel le compactage est déclenché.
      </td>
    </tr>
  </tbody>
</table>

### Exemples de mesures du nœud Couchbase [#node-sample-metric]

Ces attributs sont attachés au type d&apos;événement `CouchbaseNodeSample` .

<table>
  <thead>
    <tr>
      <th style={{ width: "350px" }}>
        métrique
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `node.cpuUtilization`
      </td>

      <td>
        L&apos;utilisation du processeur du nœud.
      </td>
    </tr>

    <tr>
      <td>
        `node.memoryFreeInBytes`
      </td>

      <td>
        La mémoire libre du nœud, en octets.
      </td>
    </tr>

    <tr>
      <td>
        `node.memoryTotalInBytes`
      </td>

      <td>
        La mémoire totale allouée au nœud, en octets.
      </td>
    </tr>

    <tr>
      <td>
        `node.recoveryType`
      </td>

      <td>
        Le type de récupération du nœud.
      </td>
    </tr>

    <tr>
      <td>
        `node.services`
      </td>

      <td>
        Les services du nœud.
      </td>
    </tr>

    <tr>
      <td>
        `node.status`
      </td>

      <td>
        L&apos;état du nœud. (`0` = malsain, `1` = sain)
      </td>
    </tr>

    <tr>
      <td>
        `node.swapTotalInBytes`
      </td>

      <td>
        L&apos;espace d&apos;échange total du nœud, en octets.
      </td>
    </tr>

    <tr>
      <td>
        `node.swapUsedInBytes`
      </td>

      <td>
        L&apos;espace de swap utilisé par le nœud, en octets.
      </td>
    </tr>

    <tr>
      <td>
        `node.uptimeInMilliseconds`
      </td>

      <td>
        Le temps de disponibilité du nœud, en millisecondes.
      </td>
    </tr>
  </tbody>
</table>

### Exemples de mesures du moteur de requête Couchbase [#query-engine-sample-metric]

Ces attributs sont attachés au type d&apos;événement `CouchbaseQueryEngineSample` .

<table>
  <thead>
    <tr>
      <th style={{ width: "350px" }}>
        métrique
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `queryengine.activeRequests`
      </td>

      <td>
        Nombre actuel de requests actives.
      </td>
    </tr>

    <tr>
      <td>
        `queryengine.averageRequestTimeInMilliseconds`
      </td>

      <td>
        Temps de requête moyen de ce moteur de requête, en millisecondes.
      </td>
    </tr>

    <tr>
      <td>
        `queryengine.completedLimit`
      </td>

      <td>
        Nombre de requêtes que Couchbase conservera dans le log des requêtes.
      </td>
    </tr>

    <tr>
      <td>
        `queryengine.completedRequests`
      </td>

      <td>
        Nombre actuel de requests complétées.
      </td>
    </tr>

    <tr>
      <td>
        `queryengine.completedThresholdInMilliseconds`
      </td>

      <td>
        Temps minimum que la requête doit prendre pour être enregistrée dans le log des requêtes Couchbase, en millisecondes.
      </td>
    </tr>

    <tr>
      <td>
        `queryengine.cores`
      </td>

      <td>
        Nombre de cœurs disponibles pour ce moteur de requête.
      </td>
    </tr>

    <tr>
      <td>
        `queryengine.garbageCollectionNumber`
      </td>

      <td>
        Numéro du dernier ramasse-miettes.
      </td>
    </tr>

    <tr>
      <td>
        `queryengine.garbageCollectionPaused`
      </td>

      <td>
        Pourcentage de temps pendant lequel le ramassage des déchets est suspendu.
      </td>
    </tr>

    <tr>
      <td>
        `queryengine.garbageCollectionTimePausedInMilliseconds`
      </td>

      <td>
        Nombre de millisecondes pendant lesquelles le ramassage des déchets est suspendu, en millisecondes.
      </td>
    </tr>

    <tr>
      <td>
        `queryengine.medianRequestTimeInMilliseconds`
      </td>

      <td>
        Temps de requête médian de ce moteur de requête, en millisecondes.
      </td>
    </tr>

    <tr>
      <td>
        `queryengine.preparedStatementUtilization`
      </td>

      <td>
        Pourcentage de requests qui sont des déclarations préparées.
      </td>
    </tr>

    <tr>
      <td>
        `queryengine.requestsLast15MinutesPerSecond`
      </td>

      <td>
        Requêtes par seconde en moyenne au cours des 15 dernières minutes.
      </td>
    </tr>

    <tr>
      <td>
        `queryengine.requestsLast1MinutesPerSecond`
      </td>

      <td>
        Requêtes par seconde en moyenne au cours de la dernière minute.
      </td>
    </tr>

    <tr>
      <td>
        `queryengine.requestsLast5MinutesPerSecond`
      </td>

      <td>
        Requêtes par seconde en moyenne au cours des 5 dernières minutes.
      </td>
    </tr>

    <tr>
      <td>
        `queryengine.requestTime80thPercentileInMilliseconds`
      </td>

      <td>
        80e percentile du temps de requête de ce moteur de requête, en millisecondes.
      </td>
    </tr>

    <tr>
      <td>
        `queryengine.requestTime95thPercentileInMilliseconds`
      </td>

      <td>
        95e percentile du temps de requête de ce moteur de requête, en millisecondes.
      </td>
    </tr>

    <tr>
      <td>
        `queryengine.requestTime99thPercentileInMilliseconds`
      </td>

      <td>
        99e percentile du temps de requête de ce moteur de requête, en millisecondes.
      </td>
    </tr>

    <tr>
      <td>
        `queryengine.systemCPUUtilization`
      </td>

      <td>
        Utilisation du processeur de ce moteur de requête
      </td>
    </tr>

    <tr>
      <td>
        `queryengine.systemMemoryInBytes`
      </td>

      <td>
        L&apos;espace d&apos;adressage virtuel réservé par ce moteur de requête, en octets.
      </td>
    </tr>

    <tr>
      <td>
        `queryengine.totalMemoryInBytes`
      </td>

      <td>
        Quantité cumulée de mémoire allouée aux objets de tas par ce moteur de requête, en octets.
      </td>
    </tr>

    <tr>
      <td>
        `queryengine.totalThreads`
      </td>

      <td>
        Nombre total de threads utilisés par ce moteur de requête.
      </td>
    </tr>

    <tr>
      <td>
        `queryengine.uptimeInMilliseconds`
      </td>

      <td>
        temps de disponibilité de ce moteur de requêtes, en millisecondes
      </td>
    </tr>

    <tr>
      <td>
        `queryengine.usedMemoryInBytes`
      </td>

      <td>
        Quantité de mémoire allouée aux objets de tas pour ce moteur de requête, en octets.
      </td>
    </tr>

    <tr>
      <td>
        `queryengine.userCPUUtilization`
      </td>

      <td>
        Utilisation du processeur par l&apos;utilisateur de ce moteur de requête.
      </td>
    </tr>
  </tbody>
</table>

## Données d&apos;inventaire [#inventory]

L&apos;intégration Couchbase capture les paramètres de configuration de la base de données Couchbase. Les données sont disponibles sur la [page Inventaire](/docs/infrastructure/new-relic-infrastructure/infrastructure-ui-pages/infrastructure-inventory-page-search-your-entire-infrastructure) dans l&amp;apos;UI infrastructure, sous la source <DNT>**config/couchbase**</DNT>. Pour en savoir plus sur les données d’inventaire, voir [Comprendre les données](/docs/infrastructure/integrations-getting-started/getting-started/understand-integration-data-data-types#inventory-data).

L&apos;intégration capture les données pour les paramètres de configuration Couchbase suivants :

<CollapserGroup>
  <Collapser id="bucket-parameters" title="Paramètres du bucket">
    <table>
      <thead>
        <tr>
          <th style={{ width: "300px" }}>
            Nom
          </th>

          <th>
            Description
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `Node locator`
          </td>

          <td>
            Type de localisateur de nœuds.
          </td>
        </tr>

        <tr>
          <td>
            `Proxy port`
          </td>

          <td>
            Port proxy sur lequel le bucket communique.
          </td>
        </tr>

        <tr>
          <td>
            `Type`
          </td>

          <td>
            Le type de seau.
          </td>
        </tr>

        <tr>
          <td>
            `UUID`
          </td>

          <td>
            L&apos;UUID du bucket.
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="cluster-parameters" title="Paramètres Cluster">
    <table>
      <thead>
        <tr>
          <th style={{ width: "300px" }}>
            Nom
          </th>

          <th>
            Description
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `Collection node`
          </td>

          <td>
            Le nœud utilisé pour collecter les métriques.
          </td>
        </tr>

        <tr>
          <td>
            `Couchbase version`
          </td>

          <td>
            La version de Couchbase exécutée sur ce cluster.
          </td>
        </tr>

        <tr>
          <td>
            `UUID`
          </td>

          <td>
            L&apos;UUID du cluster.
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="node-parameters" title="Paramètres du nœud">
    <table>
      <thead>
        <tr>
          <th style={{ width: "300px" }}>
            Nom
          </th>

          <th>
            Description
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `Cluster membership`
          </td>

          <td>
            L&apos;appartenance au cluster du nœud.
          </td>
        </tr>

        <tr>
          <td>
            `Hostname`
          </td>

          <td>
            Le nom d&apos;hôte du nœud.
          </td>
        </tr>

        <tr>
          <td>
            `Operating system`
          </td>

          <td>
            Le système d&apos;exploitation du nœud.
          </td>
        </tr>

        <tr>
          <td>
            `Port`
          </td>

          <td>
            Le port du nœud.
          </td>
        </tr>

        <tr>
          <td>
            `Recovery type`
          </td>

          <td>
            Le type de récupération du nœud.
          </td>
        </tr>

        <tr>
          <td>
            `Services`
          </td>

          <td>
            Une liste séparée par des virgules des services du nœud.
          </td>
        </tr>

        <tr>
          <td>
            `Version`
          </td>

          <td>
            La version de Couchbase exécutée sur ce nœud.
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="query-engine-parameters" title="Paramètres du moteur de requête">
    <table>
      <thead>
        <tr>
          <th style={{ width: "300px" }}>
            Nom
          </th>

          <th>
            Description
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `Node hostname`
          </td>

          <td>
            Le nom d&apos;hôte du nœud sur lequel ce moteur de requête s&apos;exécute.
          </td>
        </tr>

        <tr>
          <td>
            `Node port`
          </td>

          <td>
            Le port du nœud sur lequel ce moteur de requête s&apos;exécute.
          </td>
        </tr>

        <tr>
          <td>
            `Version`
          </td>

          <td>
            La version de ce moteur de requête.
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## Vérifiez le code source [#source-code]

Cette intégration est un logiciel open source. Cela signifie que vous pouvez [parcourir son code source](https://github.com/newrelic/nri-apache/) et envoyer des améliorations, ou créer votre propre fork et le construire.