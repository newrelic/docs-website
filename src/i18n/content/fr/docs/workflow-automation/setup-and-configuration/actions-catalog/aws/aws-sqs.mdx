---
title: Actions AWS SQS
tags:
  - workflow automation
  - workflow
  - workflow automation actions
  - AWS actions
  - AWS SQS actions
metaDescription: A list of available aws sqs actions in the actions catalog for workflow definitions
freshnessValidatedDate: never
translationType: machine
---

<Callout title="Aperçu">
  Nous travaillons toujours sur cette fonctionnalité, mais nous aimerions que vous l&apos;essayiez !

  Cette fonctionnalité est actuellement fournie dans le cadre d&apos;un programme d&apos;aperçu conformément à nos [politiques de pré-sortie](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

Cette page fournit une référence complète des actions aws sqs disponibles dans le catalogue des actions d&apos;automatisation des workflows. Ces actions vous permettent d&apos;effectuer des opérations sur les files d&apos;attente sqs.

## Prérequis

Avant d&apos;utiliser AWS Actions dans l&apos;automatisation workflow, assurez-vous de disposer des éléments suivants :

* Un compte AWS disposant des autorisations appropriées.
* Informations d&apos;identification AWS configurées (informations d&apos;identification de l&apos;utilisateur IAM, ARN du rôle IAM ou informations d&apos;identification de session).
* Les autorisations IAM nécessaires pour les services AWS spécifiques que vous prévoyez d&apos;utiliser.

Consultez [la section Configurer les informations d&apos;identification AWS](/docs/workflow-automation/setup-and-configuration/set-up-aws-credentials/) pour savoir comment créer un utilisateur IAM et des rôles IAM, et comment configurer les informations d&apos;identification AWS statiques et de session pour l&apos;intégration avec les actions AWS d&apos;automatisation workflow.

<CollapserGroup>
  <Collapser id="aws-sqs-sendmessage" title="Envoyer un message à une file d'attente AWS SQS">
    Envoie un message à une file d&apos;attente Amazon SQS spécifiée.

    <Tabs>
      <TabsBar>
        <TabsBarItem id="aws-sqs-sendmessage-inputs">
          Entrées
        </TabsBarItem>

        <TabsBarItem id="aws-sqs-sendmessage-outputs">
          Sorties
        </TabsBarItem>

        <TabsBarItem id="aws-sqs-sendmessage-example">
          Exemple
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="aws-sqs-sendmessage-inputs">
          <table>
            <thead>
              <tr>
                <th>
                  Champ de saisie
                </th>

                <th>
                  optionnalité
                </th>

                <th>
                  Type
                </th>

                <th>
                  Exemple
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **awsRoleArn**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `arn:aws:iam::123456789012:role/my-workflow-role`
                </td>
              </tr>

              <tr>
                <td>
                  **awsAccessKeyId**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `${{ :secrets:<awsAccessKeyId> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **awsSecretAccessKey**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `${{ :secrets:<awsSecretAccessKey> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **awsSessionToken**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `${{ :secrets:<awsSessionToken> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **région**
                </td>

                <td>
                  Requis
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `"us-east-2"`
                </td>
              </tr>

              <tr>
                <td>
                  **queueUrl**
                </td>

                <td>
                  Requis
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  &quot;

                  `https://sqs.us-east-2.amazonaws.com/123456789012/my-queue`

                  &quot;
                </td>
              </tr>

              <tr>
                <td>
                  **messageBody**
                </td>

                <td>
                  Requis
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `"This is a test message"`
                </td>
              </tr>

              <tr>
                <td>
                  **messageDeduplicationId**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `"abc123deduplicationId5678"`
                </td>
              </tr>

              <tr>
                <td>
                  **messageGroupId**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `"group1"`
                </td>
              </tr>

              <tr>
                <td>
                  **messageAttributes**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Carte
                </td>

                <td>
                  ```yaml
                  { "my_attribute_name_1": { "DataType": "String", "StringValue":"my_attribute_value_1"}, 

                  "my_attribute_name_2": { "DataType": "String", "StringValue":"my_attribute_value_2"}}
                  ```
                </td>
              </tr>

              <tr>
                <td>
                  **delaySeconds**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Int
                </td>

                <td>
                  `123`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="aws-sqs-sendmessage-outputs">
          <table>
            <thead>
              <tr>
                <th>
                  Champ de sortie
                </th>

                <th>
                  Type
                </th>

                <th>
                  Exemple
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **response**
                </td>

                <td>
                  objet
                </td>

                <td>
                  ```yaml
                  {"statusCode":200, "payload":{"status":"success","data":{"MessageId":"e9b73a52-d018-4a73-9fcd-8efb682fba43","MD5OfMessageBody":"fae535c7f7c5687a1c3d8bc52288e33a","MD5OfMessageAttributes":"3ae3c4f59958e031d0d53af2d157e834", }, "message":"Message sent successfully to the SQS queue." }}
                  ```

                  La syntaxe de réponse peut être consultée dans [la documentation Boto3 relative à la fonction SQS send\_message.](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/sqs/client/send_message.html)
                </td>
              </tr>

              <tr>
                <td>
                  **succès**
                </td>

                <td>
                  Booléen
                </td>

                <td>
                  `success: true | false`
                </td>
              </tr>

              <tr>
                <td>
                  **message d&apos;erreur**
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `"errorMessage": "SQS.Client.exceptions.QueueDoesNotExist: "The specified queue does not exist.""`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="aws-sqs-sendmessage-example">
          <table>
            <thead>
              <tr>
                <th>
                  Exemple de workflow
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                  name: sqs-send-message-test
                  description: Sends a message to an SQS queue
                  workflowInputs:
                    arnRole:
                      type: String
                  steps:
                    - name: aws_sqs_sendMessage_1
                      type: action
                      action: aws.sqs.sendMessage
                      version: '1'
                      inputs:
                        awsRoleArn: ${{ .workflowInputs.arnRole }}
                        region: us-east-2
                        queueUrl: https://sqs.us-east-2.amazonaws.com/123456789012/workflow-test-queue
                        messageBody: "This is a test message"
                        messageAttributes:
                          my_attribute_name_1:
                            DataType: "String"
                            StringValue: "my_attribute_value_1"
                          my_attribute_name_2:
                            DataType: "String"
                            StringValue: "my_attribute_value_2"
                      next: end
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>

<CollapserGroup>
  <Collapser id="aws-sqs-receivemessage" title="Reçoit un message d'une file d'attente AWS SQS">
    Récupère un ou plusieurs messages de la file d&apos;attente spécifiée.

    <Tabs>
      <TabsBar>
        <TabsBarItem id="aws-sqs-receivemessage-inputs">
          Entrées
        </TabsBarItem>

        <TabsBarItem id="aws-sqs-receivemessage-outputs">
          Sorties
        </TabsBarItem>

        <TabsBarItem id="aws-sqs-receivemessage-example">
          Exemple
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="aws-sqs-receivemessage-inputs">
          <table>
            <thead>
              <tr>
                <th>
                  Champ de saisie
                </th>

                <th>
                  optionnalité
                </th>

                <th>
                  Type
                </th>

                <th>
                  Exemple
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **awsRoleArn**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `arn:aws:iam::123456789012:role/my-workflow-role`
                </td>
              </tr>

              <tr>
                <td>
                  **awsAccessKeyId**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `${{ :secrets:<awsAccessKeyId> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **awsSecretAccessKey**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `${{ :secrets:<awsSecretAccessKey> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **awsSessionToken**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `${{ :secrets:<awsSessionToken> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **région**
                </td>

                <td>
                  Requis
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `"us-east-2"`
                </td>
              </tr>

              <tr>
                <td>
                  **queueUrl**
                </td>

                <td>
                  Requis
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  &quot;

                  `https://sqs.us-east-2.amazonaws.com/123456789012/my-queue`

                  &quot;
                </td>
              </tr>

              <tr>
                <td>
                  **maxNumberOfMessages**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Int
                </td>

                <td>
                  `10`
                </td>
              </tr>

              <tr>
                <td>
                  **waitTimeSeconds**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Int
                </td>

                <td>
                  `5`
                </td>
              </tr>

              <tr>
                <td>
                  **VisibilityTimeout**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Int
                </td>

                <td>
                  `123`
                </td>
              </tr>

              <tr>
                <td>
                  **AttributeNames**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  List
                </td>

                <td>
                  ```yaml
                  [
                    'All'|'Policy'|'VisibilityTimeout'|'MaximumMessageSize'|'MessageRetentionPeriod'|'ApproximateNumberOfMessages'|'ApproximateNumberOfMessagesNotVisible'|'CreatedTimestamp'|'LastModifiedTimestamp'|'QueueArn'|'ApproximateNumberOfMessagesDelayed'|'DelaySeconds'|'ReceiveMessageWaitTimeSeconds'|'RedrivePolicy'|'FifoQueue'|'ContentBasedDeduplication'|'KmsMasterKeyId'|'KmsDataKeyReusePeriodSeconds'|'DeduplicationScope'|'FifoThroughputLimit'|'RedriveAllowPolicy'|'SqsManagedSseEnabled',
                  ]
                  ```
                </td>
              </tr>

              <tr>
                <td>
                  **messageAttributeNames**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  List
                </td>

                <td>
                  ```yaml
                  [
                    'message_attribute_name',
                  ],
                  ```
                </td>
              </tr>

              <tr>
                <td>
                  **messageSystemAttributeNames**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  List
                </td>

                <td>
                  `['SenderId', 'SentTimestamp']`
                </td>
              </tr>

              <tr>
                <td>
                  **receiveRequestAttemptId**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `"req-1234abcd"`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="aws-sqs-receivemessage-outputs">
          <table>
            <thead>
              <tr>
                <th>
                  Champ de sortie
                </th>

                <th>
                  Type
                </th>

                <th>
                  Exemple
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **response**
                </td>

                <td>
                  objet
                </td>

                <td>
                  `{"response":<aws api response> }`

                  La syntaxe de réponse peut être consultée dans la documentation Boto3 relative à receive\_message]\([https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/sqs/client/receive\_message.html](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/sqs/client/receive_message.html))
                </td>
              </tr>

              <tr>
                <td>
                  **succès**
                </td>

                <td>
                  Booléen
                </td>

                <td>
                  `success: true | false`
                </td>
              </tr>

              <tr>
                <td>
                  **message d&apos;erreur**
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `"errorMessage": "SQS.Client.exceptions.QueueDoesNotExist: "The specified queue does not exist.""`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="aws-sqs-receivemessage-example">
          ```yaml
          name: sqs-receive-message-test
          description: 'Receives a message from an SQS queue'
          steps:
            - name: aws_sqs_receiveMessage_1
              type: action
              action: aws.sqs.receiveMessage
              version: '1'
              inputs:
                awsRoleArn: ${{ :secrets:awsRoleArn }}
                region: us-east-1
                queueUrl: https://sqs.us-east-1.amazonaws.com/123456789012/workflow-test-queue
                waitTimeSeconds: 5
                maxNumberOfMessages: 10
                messageAttributeNames: ['message_attribute_name'],
          ```
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>