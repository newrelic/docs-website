---
title: Actions AWS CloudWatch
tags:
  - workflow automation
  - workflow
  - workflow automation actions
  - AWS actions
  - AWS CloudWatch actions
metaDescription: A list of available aws cloudwatch actions in the actions catalog for workflow definitions
freshnessValidatedDate: never
translationType: machine
---

<Callout title="Aperçu">
  Nous travaillons toujours sur cette fonctionnalité, mais nous aimerions que vous l&apos;essayiez !

  Cette fonctionnalité est actuellement fournie dans le cadre d&apos;un programme d&apos;aperçu conformément à nos [politiques de pré-sortie](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

Cette page fournit une référence complète des actions AWS CloudWatch disponibles dans le catalogue des actions d&apos;automatisation des workflows. Ces actions vous permettent d&apos;effectuer des opérations sur les logs CloudWatch.

## Prérequis

Avant d&apos;utiliser AWS Actions dans l&apos;automatisation workflow, assurez-vous de disposer des éléments suivants :

* Un compte AWS disposant des autorisations appropriées.
* Informations d&apos;identification AWS configurées (informations d&apos;identification de l&apos;utilisateur IAM, ARN du rôle IAM ou informations d&apos;identification de session).
* Les autorisations IAM nécessaires pour les services AWS spécifiques que vous prévoyez d&apos;utiliser.

Consultez [la section Configurer les informations d&apos;identification AWS](/docs/workflow-automation/setup-and-configuration/set-up-aws-credentials/) pour savoir comment créer un utilisateur IAM et des rôles IAM, et comment configurer les informations d&apos;identification AWS statiques et de session pour l&apos;intégration avec les actions AWS d&apos;automatisation workflow.

<CollapserGroup>
  <Collapser id="aws.cloudWatch.getLogEvents" title="Obtenir les événements de log CloudWatch">
    Récupère un lot d&apos;événements de log à partir d&apos;un flux de log spécifié dans AWS CloudWatch Logs. Il est essentiel pour le monitoring, l&apos;audit et le dépannage des applications en récupérant par programme les données de logs.

    <Tabs>
      <TabsBar>
        <TabsBarItem id="aws-cloudwatch-getlogevents-inputs">
          Entrées
        </TabsBarItem>

        <TabsBarItem id="aws-cloudwatch-getlogevents-outputs">
          Sorties
        </TabsBarItem>

        <TabsBarItem id="aws-cloudwatch-getlogevents-example">
          Exemple
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="aws-cloudwatch-getlogevents-inputs">
          <table>
            <thead>
              <tr>
                <th>
                  Champ de saisie
                </th>

                <th>
                  optionnalité
                </th>

                <th>
                  Type
                </th>

                <th>
                  Exemple
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **awsRoleArn**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `arn:aws:iam::123456789012:role/my-workflow-role`
                </td>
              </tr>

              <tr>
                <td>
                  **awsAccessKeyId**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `${{ :secrets:<awsAccessKeyId> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **awsSecretAccessKey**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `${{ :secrets:<awsSecretAccessKey> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **awsSessionToken**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `${{ :secrets:<awsSessionToken> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **région**
                </td>

                <td>
                  Requis
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `"us-east-2"`
                </td>
              </tr>

              <tr>
                <td>
                  **logStreamName**
                </td>

                <td>
                  Requis
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `"2023/10/27/[$LATEST]abcdef123456"`
                </td>
              </tr>

              <tr>
                <td>
                  **logGroupName**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `"/aws/lambda/my-function"`
                </td>
              </tr>

              <tr>
                <td>
                  **logGroupIdentifier**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `"arn:partition:service:region:account-id:resource"`
                </td>
              </tr>

              <tr>
                <td>
                  **startTime**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Int
                </td>

                <td>
                  `1759296000000`
                </td>
              </tr>

              <tr>
                <td>
                  **endTime**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Int
                </td>

                <td>
                  `1759296000000`
                </td>
              </tr>

              <tr>
                <td>
                  **limit**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Int
                </td>

                <td>
                  `50`
                </td>
              </tr>

              <tr>
                <td>
                  **startFromHead**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Booléen
                </td>

                <td>
                  `true`
                </td>
              </tr>

              <tr>
                <td>
                  **unmask**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Booléen
                </td>

                <td>
                  `false`
                </td>
              </tr>

              <tr>
                <td>
                  **nextToken**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `"f/39218833627378687642013305455131706539523449361490509828/s"`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="aws-cloudwatch-getlogevents-outputs">
          <table>
            <thead>
              <tr>
                <th>
                  Champ de sortie
                </th>

                <th>
                  Type
                </th>

                <th>
                  Exemple
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **response**
                </td>

                <td>
                  Objet
                </td>

                <td>
                  ```yaml
                  {
                      'events': [
                          {
                              'timestamp': 123,
                              'message': 'string',
                              'ingestionTime': 123
                          },
                      ],
                      'nextForwardToken': 'string',
                      'nextBackwardToken': 'string'
                  }
                  ```
                </td>
              </tr>

              <tr>
                <td>
                  **succès**
                </td>

                <td>
                  Booléen
                </td>

                <td>
                  `success: true | false`
                </td>
              </tr>

              <tr>
                <td>
                  **message d&apos;erreur**
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `"An error occurred (ExpiredTokenException) when calling the GetLogEvents operation: The security token included in the request is expired"`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="aws-cloudwatch-getlogevents-example">
          ```yaml
          name: get-lambda-logs
          description: 'Retrieve log events from an AWS Lambda function'
          workflowInputs:
            region:
              type: String
              defaultValue: us-east-2
            logGroupName:
              type: String
              defaultValue: /aws/lambda/my-function
            logStreamName:
              type: String
              defaultValue: 2023/10/27/[$LATEST]abcdef123456
          steps:
            name: get_events_step
            type: action
            action: aws.cloudwatch.get_log_events
            version: '1'
            inputs:
              region: ${{ .workflowInputs.region }}
              logGroupName: ${{ .workflowInputs.logGroupName }}
              logStreamName: ${{ .workflowInputs.logStreamName }}
              limit: 100

          ```
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>

  <Collapser id="aws.cloudwatch.putLogEvents" title="Mettre les événements de log">
    Cela télécharge un lot d&apos;événements de log vers le flux de log spécifié dans AWS CloudWatch Logs. Il est utilisé pour envoyer par programme des données de logs à partir d&apos;applications ou de services vers CloudWatch à des fins de monitoring et d&apos;analyse.

    <Tabs>
      <TabsBar>
        <TabsBarItem id="aws-cloudwatch-putlogevents-inputs">
          Entrées
        </TabsBarItem>

        <TabsBarItem id="aws-cloudwatch-putlogevents-outputs">
          Sorties
        </TabsBarItem>

        <TabsBarItem id="aws-cloudwatch-putlogevents-example">
          Exemple
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="aws-cloudwatch-putlogevents-inputs">
          <table>
            <thead>
              <tr>
                <th>
                  Champ de saisie
                </th>

                <th>
                  optionnalité
                </th>

                <th>
                  Type
                </th>

                <th>
                  Exemple
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **awsRoleArn**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `arn:aws:iam::123456789012:role/my-workflow-role`
                </td>
              </tr>

              <tr>
                <td>
                  **awsAccessKeyId**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `${{ :secrets:<awsAccessKeyId> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **awsSecretAccessKey**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `${{ :secrets:<awsSecretAccessKey> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **awsSessionToken**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `${{ :secrets:<awsSessionToken> }}`
                </td>
              </tr>

              <tr>
                <td>
                  **région**
                </td>

                <td>
                  Requis
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `"us-east-2"`
                </td>
              </tr>

              <tr>
                <td>
                  **logGroupName**
                </td>

                <td>
                  Requis
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `"/aws/lambda/hello-you"`
                </td>
              </tr>

              <tr>
                <td>
                  **logStreamName**
                </td>

                <td>
                  Requis
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  `"2025/09/24/[$LATEST]09f7ca9e9ab044f389419ce60305f594"`
                </td>
              </tr>

              <tr>
                <td>
                  **logEvents**
                </td>

                <td>
                  Requis
                </td>

                <td>
                  List
                </td>

                <td>
                  ```yaml
                  [ 

                  { "timestamp": 1698384000000, "message": "Workflow task started." },

                   { "timestamp": 1698384000015, "message": "Data validated successfully." } ]
                  ```
                </td>
              </tr>

              <tr>
                <td>
                  **entité**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Dict
                </td>

                <td>
                  `{ "entity": { "keyAttributes": { "ResourceType": "AWS::ElasticLoadBalancingV2::LoadBalancer", "Identifier": "app/my-web-lb/12345", "Environment": "Production" }, "attributes": { "MonitoringTier": "Gold", "OwnerTeam": "Networking", "MaintenanceWindow": "Sat: 0200-0400" } } }`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="aws-cloudwatch-putlogevents-outputs">
          <table>
            <thead>
              <tr>
                <th>
                  Champ de sortie
                </th>

                <th>
                  Type
                </th>

                <th>
                  Description
                </th>

                <th>
                  Exemple
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **response**
                </td>

                <td>
                  Objet
                </td>

                <td>
                  La réponse JSON brute, qui inclut 

                  `nextSequenceToken`

                  .
                </td>

                <td>
                  ```yaml
                  {
                      'nextSequenceToken': 'string',
                      'rejectedLogEventsInfo': {
                          'tooNewLogEventStartIndex': 123,
                          'tooOldLogEventEndIndex': 123,
                          'expiredLogEventEndIndex': 123
                      },
                      'rejectedEntityInfo': {
                          'errorType': 'InvalidEntity'|'InvalidTypeValue'|'InvalidKeyAttributes'|'InvalidAttributes'|'EntitySizeTooLarge'|'UnsupportedLogGroupType'|'MissingRequiredFields'
                      }
                  }
                  ```
                </td>
              </tr>

              <tr>
                <td>
                  **succès**
                </td>

                <td>
                  Booléen
                </td>

                <td>
                  Indique si les événements de log ont été correctement téléchargés.
                </td>

                <td>
                  `true`
                </td>
              </tr>

              <tr>
                <td>
                  **message d&apos;erreur**
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  Un message d&apos;erreur descriptif si l&apos;action a échoué.
                </td>

                <td>
                  `"An error occurred (ExpiredTokenException) when calling the PutLogEvents operation: The security token included in the request is expired"`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="aws-cloudwatch-putlogevents-example">
          <table>
            <thead>
              <tr>
                <th>
                  Exemple de workflow
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                  name: put-custom-logs
                  description: 'Upload a batch of custom log events to CloudWatch'

                  workflowInputs:
                    region:
                      type: String
                      defaultValue: us-east-2
                    logGroupName:
                      type: String
                      defaultValue: my-custom-app-logs
                    logStreamName:
                      type: String
                      defaultValue: instance-01-thread-01
                    
                  steps:
                    - name: upload_logs
                      type: action
                      action: aws.cloudwatch.put_log_events
                      version: '1'
                      inputs:
                        region: ${{ .workflowInputs.region }}
                        logGroupName: ${{ .workflowInputs.logGroupName }}
                        logStreamName: ${{ .workflowInputs.logStreamName }}
                        logEvents:
                          - timestamp: 1698384000000
                            message: "Workflow started successfully"
                          - timestamp: 1698384005000
                            message: "Step 1 completed"
                      next: end
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>