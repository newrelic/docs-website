---
title: Actions de communication
tags:
  - workflow automation
  - workflow
  - workflow automation actions
  - communication actions
  - slack actions
  - ms teams actions
metaDescription: A list of available actions in the actions catalog for workflow definitions
freshnessValidatedDate: never
translationType: machine
---

<Callout title="Aperçu">
  Nous travaillons toujours sur cette fonctionnalité, mais nous aimerions que vous l&apos;essayiez !

  Cette fonctionnalité est actuellement fournie dans le cadre d&apos;un programme d&apos;aperçu conformément à nos [politiques de pré-sortie](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

Cette page fournit une référence complète des actions de communication disponibles dans le catalogue des actions d&apos;automatisation workflow. Ces actions vous permettent d&apos;intégrer une plateforme de communication à vos définitions workflow, notamment en envoyant des messages aux canaux Slack, en récupérant les réactions, et bien plus encore.

## Prérequis

Avant d&apos;utiliser des actions de communication dans l&apos;automatisation workflow, assurez-vous de disposer de :

* Un espace de travail Slack avec les autorisations appropriées.
* Un bot Slack configuré comme secret dans l&apos;automatisation workflow.
* Accès aux canaux Slack dans lesquels vous souhaitez envoyer des messages.

Consultez la section [« Ajouter une configuration Slack »](/docs/autoflow/overview#add-the-slack-integration) pour plus d&apos;informations sur la configuration de l&apos;intégration Slack.

## Actions de communication disponibles

Référence rapide de toutes les actions de communication par plateforme :

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        plateforme
      </th>

      <th style={{ width: "250px" }}>
        Action
      </th>

      <th>
        But
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        **Mou**
      </td>

      <td>
        [Publier un message](#slackchatpostmessage)
      </td>

      <td>
        Envoyer des messages vers les canaux Slack avec pièces jointes facultatives.
      </td>
    </tr>

    <tr>
      <td>
        **Mou**
      </td>

      <td>
        [Obtenir des réactions](#slackchatgetreactions)
      </td>

      <td>
        Récupérer les réactions emoji des messages Slack.
      </td>
    </tr>
  </tbody>
</table>

## Actions Slack

<CollapserGroup>
  <Collapser id="slack.chat.postMessage" title="Publier un message sur le canal Slack">
    Envoie un message vers un canal Slack, avec une pièce jointe facultative.

    <Tabs>
      <TabsBar>
        <TabsBarItem id="chatpostMessageinputs">
          Entrées
        </TabsBarItem>

        <TabsBarItem id="chatpostMessageoutputs">
          Sorties
        </TabsBarItem>

        <TabsBarItem id="chatpostMessageexample">
          Exemple
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="chatpostMessageinputs">
          <table>
            <thead>
              <tr>
                <th>
                  Champ de saisie
                </th>

                <th>
                  optionnalité
                </th>

                <th>
                  Type
                </th>

                <th>
                  Exemple
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **jeton**
                </td>

                <td>
                  Requis
                </td>

                <td>
                  secrète
                </td>

                <td>
                  `${{ :secrets:slackToken }}`
                </td>
              </tr>

              <tr>
                <td>
                  **canal**
                </td>

                <td>
                  Requis
                </td>

                <td>
                  chaîne
                </td>

                <td>
                  `my-slack-channel`
                </td>
              </tr>

              <tr>
                <td>
                  **texte**
                </td>

                <td>
                  Requis
                </td>

                <td>
                  chaîne
                </td>

                <td>
                  `Hello World!`
                </td>
              </tr>

              <tr>
                <td>
                  **filTs**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  chaîne
                </td>

                <td>
                  `<digits>.<digits>`
                </td>
              </tr>

              <tr>
                <td>
                  **pièce jointe**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  carte
                </td>

                <td />
              </tr>

              <tr>
                <td>
                  **pièce jointe.nom_de_fichier**
                </td>

                <td>
                  Requis
                </td>

                <td>
                  chaîne
                </td>

                <td>
                  `file.txt`
                </td>
              </tr>

              <tr>
                <td>
                  **pièce jointe.contenu**
                </td>

                <td>
                  Requis
                </td>

                <td>
                  chaîne
                </td>

                <td>
                  `Hello\nWorld!`
                </td>
              </tr>
            </tbody>
          </table>

          <Callout variant="important">
            * **token**: Le bot Slack jeton à utiliser. Cela devrait être transmis comme une syntaxe secrète. Consultez la section [« Ajouter une configuration Slack »](/docs/autoflow/overview#add-the-slack-integration) pour obtenir des instructions sur la configuration d&apos;un jeton.
            * **channel**: Le nom du canal, ou un identifiant de canal, sur lequel envoyer le message. Consultez [l&apos;API Slack](https://api.slack.com/methods/chat.postMessage#arg_channel/) pour plus d&apos;informations.
            * **text**: Le message à publier sur Slack dans le `channel` spécifié.
            * **threadTs**: horodatage appartenant au message parent, utilisé pour créer une réponse à un message dans un fil de discussion.
            * **attachment**: Autoriser la pièce jointe d&apos;un fichier avec un message sur le `channel` spécifié.
            * **attachment.filename**: Spécifiez le nom du fichier téléchargé dans Slack.
            * **attachment.content**: Le contenu du fichier à télécharger au format UTF-8.
          </Callout>
        </TabsPageItem>

        <TabsPageItem id="chatpostMessageoutputs">
          <table>
            <thead>
              <tr>
                <th>
                  Champ de sortie
                </th>

                <th>
                  Type
                </th>

                <th>
                  Exemple
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **filTs**
                </td>

                <td>
                  chaîne
                </td>

                <td>
                  `<digits>.<digits>`
                </td>
              </tr>

              <tr>
                <td>
                  **ID du canal**
                </td>

                <td>
                  chaîne
                </td>

                <td>
                  `<string>`
                </td>
              </tr>
            </tbody>
          </table>

          <Callout variant="important">
            * **threadTs**: horodatage du message. Peut être utilisé dans de futurs appels postMessage pour publier une réponse dans un fil de discussion.
            * **channelID**: Identifiant du canal où le message est publié.
          </Callout>
        </TabsPageItem>

        <TabsPageItem id="chatpostMessageexample">
          **Exemple 1 : Publier un message sur un canal Slack**

          <table>
            <thead>
              <tr>
                <th>
                  Exemple de workflow
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                  name: SendMessage

                  steps:
                    - name: send_slack_message
                      type: action
                      action: slack.chat.postMessage
                      version: 1
                      inputs:
                        token: ${{ :secrets:slackToken }}
                        channel: ${{ .workflowInputs.channel }}
                        text: ${{ .workflowInputs.text }}
                  ```

                  **Entrées attendues :**

                  ```json
                  {
                    "inputs": [
                      {
                        "key" : "channel",
                        "value" : "my-channel"
                      },
                      {
                        "key" : "text",
                        "value" : "This is my message *with bold text* and `code backticks`"
                      }
                    ]
                  }
                  ```

                  **Résultat attendu :**

                  ```json
                  [
                    {
                      "threadTs": "1718897637.400609",
                      "channelID": "C063JK1RHN1"
                    }
                  ]
                  ```
                </td>
              </tr>
            </tbody>
          </table>

          **Exemple 2 : Joindre un fichier**

          <table>
            <thead>
              <tr>
                <th>
                  Exemple de workflow
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                  name: SendFileMessage

                  steps:
                    - name: postCsv
                      type: action
                      action: slack.chat.postMessage
                      version: 1
                      inputs:
                        token: ${{ :secrets:slackToken }}
                        channel: my-channel
                        text: "Please find the attached file:"
                        attachment:
                          filename: 'file.txt'
                          content: "Hello\nWorld!"
                  ```

                  **Résultat attendu :**

                  ```json
                  [
                    {
                      "threadTs": "1718897637.400609",
                      "channelID": "C063JK1RHN1"
                    }
                  ]
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>

<CollapserGroup>
  <Collapser id="slack.chat.getReactions" title="Obtenir une réaction à un message provenant d'un canal Slack">
    Obtenir une réaction à un message provenant d&apos;un canal Slack.

    <Tabs>
      <TabsBar>
        <TabsBarItem id="chatgetreactionsinputs">
          Entrées
        </TabsBarItem>

        <TabsBarItem id="chatgetreactionsoutputs">
          Sorties
        </TabsBarItem>

        <TabsBarItem id="chatgetreactionsexample">
          Exemple
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="chatgetreactionsinputs">
          <table>
            <thead>
              <tr>
                <th>
                  Champ de saisie
                </th>

                <th>
                  optionnalité
                </th>

                <th>
                  Type
                </th>

                <th>
                  Exemple
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **jeton**
                </td>

                <td>
                  Requis
                </td>

                <td>
                  secrète
                </td>

                <td>
                  `${{ :secrets:slackToken }}`
                </td>
              </tr>

              <tr>
                <td>
                  **ID du canal**
                </td>

                <td>
                  Requis
                </td>

                <td>
                  chaîne
                </td>

                <td>
                  `C063JK1RHN1`
                </td>
              </tr>

              <tr>
                <td>
                  **temps mort**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  int
                </td>

                <td>
                  60
                </td>
              </tr>

              <tr>
                <td>
                  **filTs**
                </td>

                <td>
                  Requis
                </td>

                <td>
                  chaîne
                </td>

                <td>
                  `<digits>.<digits>`
                </td>
              </tr>

              <tr>
                <td>
                  **sélecteurs**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  liste
                </td>

                <td>
                  `[{\"name\": \"reactions\", \"expression\": \".reactions \"}]`
                </td>
              </tr>
            </tbody>
          </table>

          <Callout variant="important">
            * **token**: Le bot Slack jeton à utiliser. Cela devrait être transmis comme une syntaxe secrète. Consultez la section [« Ajouter une configuration Slack »](/docs/autoflow/overview#add-the-slack-integration) pour obtenir des instructions sur la configuration d&apos;un jeton.
            * **channelID**: L&apos;identifiant du canal permettant d&apos;obtenir les réactions aux messages.
            * **timeout**: Durée en secondes pendant laquelle il faut attendre une réaction. La valeur par défaut est de 60 secondes, la valeur maximale autorisée est de 600 secondes (10 minutes).
            * **threadTs**: horodatage associé au message, utilisé pour obtenir la réaction à ce message.
            * **selectors**: Les sélecteurs permettant d&apos;obtenir uniquement les paramètres spécifiés en sortie.
          </Callout>
        </TabsPageItem>

        <TabsPageItem id="chatgetreactionsoutputs">
          <table>
            <thead>
              <tr>
                <th>
                  Champ de sortie
                </th>

                <th>
                  Type
                </th>

                <th>
                  Exemple
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **réactions**
                </td>

                <td>
                  liste
                </td>

                <td>
                  `<list>`
                </td>
              </tr>
            </tbody>
          </table>

          <Callout variant="important">
            * **reactions**: Liste des éléments contenant toutes les réactions capturées ou une liste vide en cas de dépassement de délai.
          </Callout>
        </TabsPageItem>

        <TabsPageItem id="chatgetreactionsexample">
          **Exemple 1 : Slack obtient des réactions**

          <table>
            <thead>
              <tr>
                <th>
                  Exemple de workflow
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                  name: GetReactions

                  steps:
                    - name: getReactions
                      type: action
                      action: slack.chat.getReactions
                      version: 1
                      inputs:
                        token: ${{ :secrets:slackToken }}
                        channelID: ${{ .steps.promptUser.outputs.channelID }}
                        threadTs: ${{ .steps.promptUser.outputs.threadTs }}
                        timeout: ${{ .workflowInputs.timeout }}
                        selectors: ${{ .workflowInputs.selectors }}
                  ```

                  **Entrées attendues :**

                  ```json
                  {
                    "inputs": [
                      {
                        "key" : "channelID",
                        "value" : "C063JK1RHN1"
                      },
                      {
                        "key" : "threadTs",
                        "value" : "1718897637.400609"
                      },
                      {
                        "key" : "selectors",
                        "value" : "[{\"name\": \"reactions\", \"expression\": \".reactions \"}]"
                      }
                    ]
                  }
                  ```

                  **Résultat attendu :**

                  ```json
                  [
                    {
                      "name": "grinning",
                      "users": [
                        "W222222"
                      ],
                      "count": 1
                    },
                    {
                      "name": "question",
                      "users": [
                        "W333333"
                      ],
                      "count": 1
                    }
                  ]
                  ```

                  Ou si le délai est dépassé :

                  ```json
                  []
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>