---
title: Actions New Relic Ingest
tags:
  - workflow automation
  - workflow
  - workflow automation actions
  - New Relic actions
  - New Relic Ingest actions
metaDescription: A list of available new relic ingest actions in the actions catalog for workflow definitions
freshnessValidatedDate: never
translationType: machine
---

<Callout title="Aperçu">
  Nous travaillons toujours sur cette fonctionnalité, mais nous aimerions que vous l&apos;essayiez !

  Cette fonctionnalité est actuellement fournie dans le cadre d&apos;un programme d&apos;aperçu conformément à nos [politiques de pré-sortie](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

Cette page fournit une référence complète des actions d&apos;ingestion New Relic disponibles dans le catalogue des actions d&apos;automatisation des workflows. Ces actions vous permettent d&apos;envoyer des événements et des logs à New Relic.

## Prérequis

Avant d&apos;utiliser les actions New Relic dans l&apos;automatisation workflow, assurez-vous de disposer de :

* Un compte New Relic disposant des autorisations appropriées.
* Une clé de licence New Relic (si vous envoyez des données vers un compte différent).
* Les autorisations nécessaires pour les services New Relic spécifiques que vous prévoyez d&apos;utiliser.

Consultez [la clé de licence](/docs/apis/intro-apis/new-relic-api-keys/#license-key) pour obtenir des informations sur la façon de créer et de gérer votre compte New Relic.

## actions d&apos;ingestion de données

<CollapserGroup>
  <Collapser id="newrelic-ingest-sendevents" title="Envoyer un événement personnalisé à New Relic">
    Signale un événement personnalisé à New Relic.

    <Tabs>
      <TabsBar>
        <TabsBarItem id="createventinputs">
          Entrées
        </TabsBarItem>

        <TabsBarItem id="createventoutputs">
          Sorties
        </TabsBarItem>

        <TabsBarItem id="createventexample">
          Exemple
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="createventinputs">
          <table>
            <thead>
              <tr>
                <th>
                  Champ de saisie
                </th>

                <th>
                  optionnalité
                </th>

                <th>
                  Type
                </th>

                <th>
                  Description
                </th>

                <th>
                  Exemple
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **attributes**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Carte
                </td>

                <td>
                  Attributs courants qui font partie de tous les événements lorsqu&apos;ils sont fournis.

                  Fusion pour chaque élément d&apos;événement lorsque l&apos;élément d&apos;événement doit remplacer la définition commune.
                </td>

                <td>
                  `"{\"page\": \"1\", \"limit\": \"10\"}"`
                </td>
              </tr>

              <tr>
                <td>
                  **événement**
                </td>

                <td>
                  Requis
                </td>

                <td>
                  List
                </td>

                <td>
                  La liste des données d&apos;événement.

                  <Callout variant="important">
                    Les événements nécessitent l&apos;utilisation d&apos;un champ `eventType` qui représente le type d&apos;événement personnalisé. Le nombre maximal d&apos;événements autorisés par requête est de **100**.
                  </Callout>
                </td>

                <td>
                  `"[{\"eventType\":\"XYZ\",\"attributes\":{\"foo\":\"bar\"}}, {\"eventType\":\"ABC\",\"value\":\"1234\",\"attributes\":{\"color\":\"red\"}}]"`
                </td>
              </tr>

              <tr>
                <td>
                  **clé de licence**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  La **Clé de licence du compte New Relic** (obligatoire) spécifie le compte cible pour vos événements. Si elle n&apos;est pas fournie, le système utilise la clé de licence par défaut du compte exécutant le workflow.

                  [En savoir plus sur nos clés API](/docs/apis/intro-apis/new-relic-api-keys/#license-key) pour créer et gérer votre **clé de licence de compte New Relic**.
                </td>

                <td>
                  `"{{ .secrets.secretName }}"`

                  , où 

                  `secretName`

                   est la clé sous laquelle la clé de licence est stockée.
                </td>
              </tr>

              <tr>
                <td>
                  **sélecteurs**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  List
                </td>

                <td>
                  Les sélecteurs permettant d&apos;obtenir uniquement les paramètres spécifiés en sortie.
                </td>

                <td>
                  `[{\"name\": \"success\", \"expression\": \".success\"}]`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="createventoutputs">
          <table>
            <thead>
              <tr>
                <th>
                  Champ de sortie
                </th>

                <th>
                  Type
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **succès**
                </td>

                <td>
                  Booléen
                </td>
              </tr>

              <tr>
                <td>
                  **message d&apos;erreur**
                </td>

                <td>
                  chaîne
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="createventexample">
          <table>
            <thead>
              <tr>
                <th>
                  Exemple de workflow
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                  name: heartbeat_newrelicIngestSendEvents

                  workflowInputs:
                  cellName:
                    type: String

                  steps:
                  - name: runAction
                    type: action
                    action: newrelic.ingest.sendEvents
                    version: 1
                    inputs:
                      attributes:
                        colour: red
                        id: 1234
                      events:
                        - eventType: HeartBeat
                          test: "OK"
                          attributes:
                            foo: bar
                        - eventType: HeartBeat1234
                          test: "OK1234"
                          attributes:
                            foo: bar
                        - eventType: HeartBeat12345
                          test: "OK12345"
                          attributes:
                            foo: bar
                            colour: yellow
                        - eventType: HeartBeat12345678
                          test: "OK12345678"
                      selectors:
                        - name: success
                          expression: ".success"
                  ```

                  **Résultat attendu :**

                  ```yaml
                  {
                    "success": true
                  }
                  ```

                  **Récupérer l&apos;événement :**

                  Une fois un workflow exécuté avec succès, vous pouvez récupérer l&apos;événement associé en exécutant une requête sous le compte qui a exécuté le workflow:

                  ```sql
                  SELECT * FROM HeartBeat
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>

<CollapserGroup>
  <Collapser id="newrelic-ingest-sendlogs" title="Envoyer les logs à New Relic">
    Envoyer les logs à New Relic

    <Tabs>
      <TabsBar>
        <TabsBarItem id="newrelic-ingest-sendlogsinputs">
          Entrées
        </TabsBarItem>

        <TabsBarItem id="newrelic-ingest-sendlogsoutputs">
          Sorties
        </TabsBarItem>

        <TabsBarItem id="newrelic-ingest-sendlogsexample">
          Exemple
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="newrelic-ingest-sendlogsinputs">
          <table>
            <thead>
              <tr>
                <th>
                  Champ de saisie
                </th>

                <th>
                  optionnalité
                </th>

                <th>
                  Type
                </th>

                <th>
                  Description
                </th>

                <th>
                  Exemple
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **attributes**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Carte
                </td>

                <td>
                  Les attributs communs sont inclus dans tous les logs lorsqu&apos;ils sont fournis. Ceux-ci fusionnent avec chaque élément de log, les valeurs spécifiques au log remplaçant les attributs communs en cas de conflit.
                </td>

                <td>
                  `"{\"page\": \"1\", \"limit\": \"10\"}"`
                </td>
              </tr>

              <tr>
                <td>
                  **logs**
                </td>

                <td>
                  Requis
                </td>

                <td>
                  List
                </td>

                <td>
                  Liste des logs. Chaque 

                  **log**

                   nécessite un champ 

                  `message`

                  . Maximum de 100 logs par requête.
                </td>

                <td>
                  `"[{\"message\":\"XYZ\",\"attributes\":{\"foo\":\"bar\"}}, {\"message\":\"ABC\",\"value\":\"1234\",\"attributes\":{\"color\":\"red\"}}]"`
                </td>
              </tr>

              <tr>
                <td>
                  **clé de licence**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  La **Clé de licence du compte New Relic** (obligatoire) spécifie le compte cible pour vos événements. Si elle n&apos;est pas fournie, le système utilise la clé de licence par défaut du compte exécutant le workflow.

                  [En savoir plus sur nos clés API](/docs/apis/intro-apis/new-relic-api-keys/#license-key) pour créer et gérer votre **clé de licence de compte New Relic**.
                </td>

                <td>
                  `"{{ .secrets.secretName }}"`

                  , où 

                  `secretName`

                   est la clé sous laquelle la clé de licence est stockée.
                </td>
              </tr>

              <tr>
                <td>
                  **sélecteurs**
                </td>

                <td>
                  Facultatif
                </td>

                <td>
                  List
                </td>

                <td>
                  Les sélecteurs permettant d&apos;obtenir uniquement les paramètres spécifiés en sortie.
                </td>

                <td />
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="newrelic-ingest-sendlogsoutputs">
          <table>
            <thead>
              <tr>
                <th>
                  Champ de sortie
                </th>

                <th>
                  Type
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **succès**
                </td>

                <td>
                  Booléen
                </td>
              </tr>

              <tr>
                <td>
                  **message d&apos;erreur**
                </td>

                <td>
                  chaîne
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="newrelic-ingest-sendlogsexample">
          <table>
            <thead>
              <tr>
                <th>
                  Exemple de workflow
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                  name: heartbeat_newrelicIngestSendLogs

                  workflowInputs:
                  cellName:
                    type: String

                  steps:
                  - name: runAction
                    type: action
                    action: newrelic.ingest.sendLogs
                    version: 1
                    inputs:
                      attributes:
                        colour: red
                        id: 1234
                      logs:
                        - message: 'Heartbeat sendLogs Action Test Message'
                          attributes:
                            foo: bar
                        - message: 'HeartBeat1234'
                          attributes:
                            foo: bar
                        - message: 'HeartBeat12345'
                          attributes:
                            foo: bar
                            colour: yellow
                        - message: 'HeartBeat12345678'
                      selectors:
                        - name: success
                          expression: ".success"
                  ```

                  **Résultat attendu :**

                  ```yaml
                  {
                    "success": true
                  }
                  ```

                  **Récupérer les logs :**

                  Une fois un workflow exécuté avec succès, vous pouvez récupérer le log associé en exécutant une requête sous le compte qui a exécuté le workflow:

                  ```sql
                  SELECT * FROM Log
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>