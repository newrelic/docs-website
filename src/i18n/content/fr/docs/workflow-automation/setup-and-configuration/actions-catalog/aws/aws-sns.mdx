---
title: Actions AWS SNS
tags:
  - workflow automation
  - workflow
  - workflow automation actions
  - AWS actions
  - AWS SNS actions
metaDescription: A list of available aws sns actions in the actions catalog for workflow definitions
freshnessValidatedDate: never
translationType: machine
---

<Callout title="Aperçu">
  Nous travaillons toujours sur cette fonctionnalité, mais nous aimerions que vous l&apos;essayiez !

  Cette fonctionnalité est actuellement fournie dans le cadre d&apos;un programme d&apos;aperçu conformément à nos [politiques de pré-sortie](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

Cette page fournit une référence complète des actions aws sns disponibles dans le catalogue des actions d&apos;automatisation des workflows. Ces actions vous permettent d&apos;effectuer des opérations sur les rubriques SNS.

## Prérequis

Avant d&apos;utiliser AWS Actions dans l&apos;automatisation workflow, assurez-vous de disposer des éléments suivants :

* Un compte AWS disposant des autorisations appropriées.
* Informations d&apos;identification AWS configurées (informations d&apos;identification de l&apos;utilisateur IAM, ARN du rôle IAM ou informations d&apos;identification de session).
* Les autorisations IAM nécessaires pour les services AWS spécifiques que vous prévoyez d&apos;utiliser.

Consultez [la section Configurer les informations d&apos;identification AWS](/docs/workflow-automation/setup-and-configuration/set-up-aws-credentials/) pour savoir comment créer un utilisateur IAM et des rôles IAM, et comment configurer les informations d&apos;identification AWS statiques et de session pour l&apos;intégration avec les actions AWS d&apos;automatisation workflow.

## Publier un message sur un sujet AWS SNS [#aws-sns-publish]

Envoie un message à un sujet Amazon SNS. Tous les abonnés à ce sujet recevront le message.

<Tabs>
  <TabsBar>
    <TabsBarItem id="aws-sns-publish-inputs">
      Entrées
    </TabsBarItem>

    <TabsBarItem id="aws-sns-publish-outputs">
      Sorties
    </TabsBarItem>

    <TabsBarItem id="aws-sns-publish-example">
      Exemple
    </TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="aws-sns-publish-inputs">
      <table>
        <thead>
          <tr>
            <th>
              Champ de saisie
            </th>

            <th>
              optionnalité
            </th>

            <th>
              Type
            </th>

            <th>
              Exemple
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              **awsRoleArn**
            </td>

            <td>
              Facultatif
            </td>

            <td>
              Chaîne
            </td>

            <td>
              `arn:aws:iam::123456789012:role/my-workflow-role`
            </td>
          </tr>

          <tr>
            <td>
              **awsAccessKeyId**
            </td>

            <td>
              Facultatif
            </td>

            <td>
              Chaîne
            </td>

            <td>
              `${{ :secrets:<awsAccessKeyId> }}`
            </td>
          </tr>

          <tr>
            <td>
              **awsSecretAccessKey**
            </td>

            <td>
              Facultatif
            </td>

            <td>
              Chaîne
            </td>

            <td>
              `${{ :secrets:<awsSecretAccessKey> }}`
            </td>
          </tr>

          <tr>
            <td>
              **awsSessionToken**
            </td>

            <td>
              Facultatif
            </td>

            <td>
              Chaîne
            </td>

            <td>
              `${{ :secrets:<awsSessionToken> }}`
            </td>
          </tr>

          <tr>
            <td>
              **région**
            </td>

            <td>
              Requis
            </td>

            <td>
              Chaîne
            </td>

            <td>
              `"us-east-2"`
            </td>
          </tr>

          <tr>
            <td>
              **message**
            </td>

            <td>
              Requis
            </td>

            <td>
              Chaîne
            </td>

            <td>
              Les messages doivent être des chaînes de caractères encodées en UTF-8 et ne pas dépasser 256 Ko.

              `Workflow failed at step 3`
            </td>
          </tr>

          <tr>
            <td>
              **topicArn**
            </td>

            <td>
              Facultatif
            </td>

            <td>
              Chaîne
            </td>

            <td>
              Si vous ne spécifiez pas de valeur pour le paramètre topicArn, vous devez spécifier une valeur pour les paramètres targetArn.

              `"arn:aws:sns:us-east-2:123456789012:my-topic"`
            </td>
          </tr>

          <tr>
            <td>
              **targetArn**
            </td>

            <td>
              Facultatif
            </td>

            <td>
              Chaîne
            </td>

            <td>
              Si vous ne spécifiez pas de valeur pour le paramètre topicArn, vous devez spécifier une valeur pour les paramètres targetArn.

              `"arn:aws:sns:us-east-2:123456789012:MySNSTopic"`
            </td>
          </tr>

          <tr>
            <td>
              **sujet**
            </td>

            <td>
              Facultatif
            </td>

            <td>
              Chaîne
            </td>

            <td>
              `"Workflow Update"`
            </td>
          </tr>

          <tr>
            <td>
              **MessageStructure**
            </td>

            <td>
              Facultatif
            </td>

            <td>
              Chaîne
            </td>

            <td>
              `MessageStructure`
            </td>
          </tr>

          <tr>
            <td>
              **messageAttributes**
            </td>

            <td>
              Facultatif
            </td>

            <td>
              Carte
            </td>

            <td>
              ```yaml
                {
                  'string': {
                    'DataType': 'string',
                    'StringValue': 'string',
                    'BinaryValue': b'bytes'
                  }
                },
              ```
            </td>
          </tr>

          <tr>
            <td>
              **messageDeduplicationId**
            </td>

            <td>
              Facultatif
            </td>

            <td>
              Chaîne
            </td>

            <td>
              `"abc123deduplicationId5678"`
            </td>
          </tr>

          <tr>
            <td>
              **messageGroupId**
            </td>

            <td>
              Facultatif
            </td>

            <td>
              Chaîne
            </td>

            <td>
              `"order-processing-group-2023_A"`
            </td>
          </tr>
        </tbody>
      </table>

      <CollapserGroup>
        <Collapser id="list-of-inputs-aws-sns-publish" title="Liste des entrées facultatives qui ne sont pas prises en compte dans le catalogue d'actions">
          <table>
            <thead>
              <tr>
                <th>
                  Champ de saisie
                </th>

                <th>
                  Type
                </th>

                <th>
                  Exemple
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  PhoneNumber
                </td>

                <td>
                  Chaîne
                </td>

                <td>
                  Nous n&apos;incluons pas le numéro de téléphone car il est considéré comme une information personnelle identifiable (IPI).
                </td>
              </tr>
            </tbody>
          </table>
        </Collapser>
      </CollapserGroup>
    </TabsPageItem>

    <TabsPageItem id="aws-sns-publish-outputs">
      <table>
        <thead>
          <tr>
            <th>
              Champ de sortie
            </th>

            <th>
              Type
            </th>

            <th>
              Exemple
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              **response**
            </td>

            <td>
              objet
            </td>

            <td>
              `[{"success":true,"response":{"MessageId":"2333ededwedwed-52f5-a716-e10355e3e2ff"}}]`

              La syntaxe de réponse peut être consultée dans la documentation de sns-publish-Boto3]\([https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/sns/client/publish.html](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/sns/client/publish.html))
            </td>
          </tr>

          <tr>
            <td>
              **succès**
            </td>

            <td>
              Booléen
            </td>

            <td>
              `success: true | false`
            </td>
          </tr>

          <tr>
            <td>
              **message d&apos;erreur**
            </td>

            <td>
              Chaîne
            </td>

            <td>
              `[{"errorMessage":"An error occurred (InvalidParameter) when calling the Publish operation: Invalid parameter: TopicArn or TargetArn Reason: no value for required parameter","success":false,"response":null}]`
            </td>
          </tr>
        </tbody>
      </table>
    </TabsPageItem>

    <TabsPageItem id="aws-sns-publish-example">
      ```yaml
        name: sns-publish-test
        description: Publishes a notification to an SNS topic
        workflowInputs:
          arnRole:
            type: String
        steps:
          - name: aws_sns_publish_1
            type: action
            action: aws.sns.publish
            version: '1'
            inputs:
              awsRoleArn: ${{ .workflowInputs.arnRole }}
              region: us-east-1
              topicArn: arn:aws:sns:us-east-1:123456789012:workflow-test-topic
              subject: "Workflow Update"
              message: "The data processing workflow has completed successfully."
            next: end
      ```
    </TabsPageItem>
  </TabsPages>
</Tabs>