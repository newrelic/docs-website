---
title: Restauration du déploiement
tags:
  - workflow automation
  - workflow
  - deployment
  - rollback
metaDescription: Monitor New Relic entity health and trigger rollback notifications when issues detected.
freshnessValidatedDate: never
translationType: machine
---

Monitorer l&apos;état de l&apos;entité New Relic et déclencher des notifications de restauration via AWS SQS ou des webhooks HTTP lorsque des problèmes sont détectés.

**Exigences:**

* Monitoring des entités New Relic
* (Facultatif) File d’attente AWS SQS ou point de terminaison de webhook HTTP

**Ce que fait ce workflow :**

* Monitorer la gravité des alertes d&apos;entité pendant une durée spécifiée (par défaut 30 minutes)
* Vérifier l’état de l’entité chaque minute
* Enregistrez l&apos;état non sain si l&apos;entité devient CRITICAL ou WARNING
* Envoyer des notifications de restauration AWS SQS (si configuré) avec les détails de l&apos;entité
* Envoyer des notifications de rollback de webhook HTTP (si configuré)
* Enregistrer la réussite si l’entité reste saine pendant toute la durée
* Arrêter la monitoring si l&apos;entité est introuvable

**Actions clés**: `newrelic.nerdgraph.execute`, `newrelic.ingest.sendLogs`, `aws.execute.api`, `(sqs.send_message)`, `http.post`

## Et ensuite ?

* **[Gestion EC2](/docs/workflow-automation/workflow-examples/advanced/ec2-management)**: Automatiser les modifications d’infrastructure
* **[Restauration de l&apos;API Gateway](/docs/workflow-automation/workflow-examples/advanced/api-gateway-rollback)**: Automatisation de l&apos;API Gateway