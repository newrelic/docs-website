---
title: Gestion des instances EC2
tags:
  - workflow automation
  - workflow
  - aws
  - ec2
metaDescription: 'Respond to CPU alerts, request Slack approval, and automate EC2 instance resizing.'
freshnessValidatedDate: never
translationType: machine
---

Répondez aux alertes CPU New Relic, demandez l&apos;approbation Slack et automatisez le redimensionnement des instances EC2 via AWS Systems Manager.

**Exigences:**

* Identifiants AWS (EC2 + Systems Manager)
* Condition d&apos;alerte New Relic
* Jeton Slack

**Ce que fait ce workflow :**

* Recevoir des alertes de CPU élevées de New Relic
* Récupérer les détails des alertes et identifier l&apos;instance EC2 impactée
* Envoyer une notification Slack avec les détails de l&apos;instance et demander une approbation
* Créer un document SSM après l&apos;approbation pour automatiser le redimensionnement
* Arrêter l&apos;instance, modifier le type d&apos;instance et redémarrer
* Envoyer des mises à jour de progression à Slack pendant le redimensionnement
* Attendre la fin et envoyer l&apos;état
* Nettoyer le document SSM et envoyer la confirmation finale

**Actions clés**: `newrelic.nerdgraph.execute`, `newrelic.nrdb.query`, `slack.chat.postMessage`, `slack.chat.getReactions`, `aws.systemsManager.writeDocument`, `aws.systemsManager.startAutomation`, `aws.systemsManager.waitForAutomationStatus`, `aws.systemsManager.deleteDocument`, `utils.datetime.fromEpoch`, `utils.uuid.generate`

## Et ensuite ?

* **[Restauration de l&apos;API Gateway](/docs/workflow-automation/workflow-examples/advanced/api-gateway-rollback)**: Automatisation de l&apos;API Gateway
* **[Restauration de déploiement](/docs/workflow-automation/workflow-examples/advanced/deployment-rollback)**: Monitoring du déploiement