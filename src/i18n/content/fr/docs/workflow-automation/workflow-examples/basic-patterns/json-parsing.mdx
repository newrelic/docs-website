---
title: Analyse JSON
tags:
  - workflow automation
  - workflow
  - json
  - selectors
metaDescription: Parse JSON responses using selectors to extract and process specific fields from API responses.
freshnessValidatedDate: never
translationType: machine
---

Récupérer le JSON de l&apos;API d&apos;état de New Relic, analyser les statuts des composants et consigner les problèmes.

**Exigences:**

* Accès à l&apos;API d&apos;état.
* Permissions d&apos;ingestion des logs.

**Ce que fait ce workflow :**

* Récupère des données JSON à partir de l&apos;API d&apos;état de New Relic
* Extrait et catégorise les composants selon leur état opérationnel
* Enregistrement conditionnel des composants opérationnels (si activée)
* Enregistrement conditionnel des composants non opérationnels (si activée)
* Gère les erreurs HTTP et consigne les messages d&apos;erreur.

**Actions clés**: `http.get`, `newrelic.ingest.sendLogs`

```yaml
  name: parse_status_api

  steps:
    - name: fetchStatus
      type: action
      action: http.get
      version: 1
      inputs:
        url: 'https://status.newrelic.com/api/v2/summary.json'
        selectors:
          - name: operational
            expression: '.components[] | select(.status == "operational") | .name'
          - name: degraded
            expression: '.components[] | select(.status != "operational") | .name'

    - name: logNonOperational
      type: action
      action: newrelic.ingest.sendLogs
      version: 1
      inputs:
        logs:
          - message: 'Services with issues: ${{ .steps.fetchStatus.outputs.degraded | tostring }}'
            attributes:
              operationalServices: ${{ .steps.fetchStatus.outputs.operational }}
```

## Et ensuite ?

* **[Entrées de workflow](/docs/workflow-automation/workflow-examples/basic-patterns/workflow-inputs)**: transmettre des valeurs dynamiques au moment de l&apos;exécution
* **[Transmission de données](/docs/workflow-automation/workflow-examples/basic-patterns/data-passing)**: Chaîner les actions ensemble