---
title: D√©pannage de l'automatisation des workflows
tags:
  - workflow automation
  - troubleshooting
  - workflow errors
metaDescription: 'Common issues and solutions for Workflow Automation including AWS credentials, workflow execution, and dashboard problems.'
freshnessValidatedDate: never
translationType: machine
---

<Callout title="Aper√ßu">
  Nous travaillons toujours sur cette fonctionnalit√©, mais nous aimerions que vous l&apos;essayiez¬†!

  Cette fonctionnalit√© est actuellement fournie dans le cadre d&apos;un programme d&apos;aper√ßu conform√©ment √† nos [politiques de pr√©-sortie](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

Cette page propose des solutions aux probl√®mes courants que vous pourriez rencontrer lors de l&apos;utilisation de l&apos;automatisation des workflows. Pour obtenir de l&apos;aide suppl√©mentaire, consultez le [forum d&apos;assistance de New Relic](https://discuss.newrelic.com/) ou contactez [l&apos;assistance de New Relic](https://support.newrelic.com/).

## Identifiants et authentification AWS

<CollapserGroup>
  <Collapser id="access-denied-errors" title="Erreurs d'acc√®s refus√©">
    **Probl√®me¬†:** Votre workflow √©choue en raison d‚Äôune erreur d‚Äôautorisation AWS.

    **Solutions :**

    1. **V√©rifiez l&apos;identifiant de votre compte¬†:** assurez-vous d&apos;avoir utilis√© `253490767857` (et non `754728514883`) dans la politique de confiance. L&apos;ID du compte cloud d&apos;int√©gration (`754728514883`) est diff√©rent de l&apos;ID du compte d&apos;automatisation workflow.
    2. **V√©rifiez l&apos;ID externe¬†:** assurez-vous que l&apos;ID externe de votre politique de confiance correspond exactement √† l&apos;ID de votre compte New Relic (disponible dans [les param√®tres du compte](/docs/accounts/accounts-billing/account-structure/account-id)).
    3. **V√©rifiez les autorisations¬†:** assurez-vous que votre r√¥le IAM ou votre utilisateur dispose des autorisations AWS sp√©cifiques requises par votre workflow. Consultez le tableau [des autorisations AWS requises](/docs/workflow-automation/setup-and-configuration/set-up-aws-credentials#required-aws-permissions).
    4. **Testez avec l&apos;interface de ligne de commande AWS¬†:** ex√©cutez `aws sts assume-role` localement pour v√©rifier que le r√¥le peut √™tre assum√©¬†:
       ```bash
       aws sts assume-role \
       --role-arn "arn:aws:iam::YOUR_ACCOUNT:role/NewRelicWorkflowAutomationRole" \
       --role-session-name "TestSession" \
       --external-id "YOUR_NR_ACCOUNT_ID"
       ```
  </Collapser>
</CollapserGroup>

### ¬´¬†Jeton invalide¬†¬ª ou identifiants expir√©s

**Probl√®me¬†:** le workflow a √©chou√© en raison d‚Äôerreurs d‚Äôexpiration Jeton.

**Solutions :**

1. **Pour les jetons de session :** v√©rifiez la dur√©e d&apos;expiration ‚Äî les jetons de session durent g√©n√©ralement de 1 √† 12 heures. G√©n√©rez-en de nouveaux avant leur expiration en utilisant¬†:
   ```bash
   aws sts assume-role \
     --role-arn "arn:aws:iam::YOUR_ACCOUNT:role/YOUR_ROLE" \
     --role-session-name "WorkflowAutomationSession"
   ```
2. **Pour les cl√©s d&apos;acc√®s¬†:** v√©rifiez que l&apos;ID de cl√© d&apos;acc√®s et la cl√© d&apos;acc√®s secr√®te sont correctement enregistr√©s dans le gestionnaire de secrets. Rev√©rifiez les valeurs dans [l&apos;explorateur NerdGraph GraphiQL](https://one.newrelic.com/nerdgraph-graphiql).
3. **V√©rifiez la syntaxe des secrets¬†:** assurez-vous d‚Äôutiliser le format `${{ :secrets:keyName }}` et non `${{ secrets.keyName }}`. Le pr√©fixe deux-points (`:secrets:`) est requis.

### Impossible de trouver mon r√¥le ARN

**Probl√®me¬†:** Vous avez besoin de l‚ÄôARN mais vous ne parvenez pas √† le localiser dans AWS.

**Solution:**

1. Connectez-vous √† la [console AWS IAM](https://console.aws.amazon.com/iam/)
2. Choisissez **Roles** dans le menu de navigation
3. Recherchez le nom de votre r√¥le (par exemple, `NewRelicWorkflowAutomationRole`)
4. S√©lectionnez le r√¥le¬†‚Äî l‚ÄôARN appara√Æt dans la section R√©sum√©
5. Le format ARN est¬†: `arn:aws:iam::<YOUR_AWS_ACCOUNT>:role/<ROLE_NAME>`

### Le workflow ne peut pas acc√©der √† certaines ressources AWS.

**Probl√®me¬†:** Votre r√¥le dispose des autorisations n√©cessaires, mais le workflow ne peut toujours pas acc√©der √† certaines ressources.

**Solutions :**

1. **Autorisations au niveau des ressources¬†:** v√©rifiez si votre strat√©gie IAM restreint l‚Äôacc√®s √† des ARN de ressources sp√©cifiques. Vous devrez peut-√™tre ajouter un caract√®re g√©n√©rique (`*`) pour les tests, puis limiter l&apos;acc√®s √† des ressources sp√©cifiques.
   ```json
   {
     "Effect": "Allow",
     "Action": "ec2:DescribeInstances",
     "Resource": "*"  // Change from specific ARN to * for testing
   }
   ```
2. **Politiques de contr√¥le des services (SCP)¬†:** si vous √™tes dans une organisation AWS, les SCP peuvent bloquer certaines actions. Contactez votre administrateur AWS pour consulter les politiques de votre organisation.
3. **Incompatibilit√© de r√©gion¬†:** assurez-vous que vos autorisations IAM sp√©cifient la r√©gion AWS correcte o√π se trouvent vos ressources. Mettez √† jour le param√®tre `awsRegion` du workflow pour qu&apos;il corresponde √† l&apos;emplacement de votre ressource.

## probl√®mes d&apos;ex√©cution du workflow

### Guide de d√©pannage rapide

Utilisez ce tableau pour un diagnostic rapide des probl√®mes courants workflow¬†:

| **Sympt√¥me**                                                     | **V√©rifier**                                                               | **Solution**                                                                                |
| ---------------------------------------------------------------- | -------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------- |
| Le workflow √©choue √† une √©tape sp√©cifique                        | Consultez les logs d&apos;ex√©cution pour obtenir le message d&apos;erreur. | Corrigez la configuration, les identifiants ou les donn√©es d&apos;entr√©e pour cette action. |
| Le workflow s&apos;ex√©cute mais produit des r√©sultats incorrects | V√©rifier le passage des donn√©es entre les √©tapes                           | V√©rifier la syntaxe du mod√®le `${{ .steps.name.outputs.field }}`                            |
| workflow planifi√© ne s&apos;ex√©cute pas.                         | Consultez l&apos;historique d&apos;ex√©cution pour les ex√©cutions ignor√©es. | V√©rifier configuration de la planification et l&apos;√©tat workflow (Actif)                  |
| Le workflow expire                                               | V√©rifier la dur√©e d&apos;ex√©cution                                         | R√©duisez la fr√©quence d&apos;interrogation ou divisez le workflow en plus petits            |
| Les modifications ne sont pas prises en compte.                  | Consulter l&apos;historique des versions                                   | Mettez √† jour les ex√©cutions planifi√©es pour utiliser la nouvelle version.                  |

Pour des instructions d√©taill√©es sur la consultation des logs et de l&apos;historique d&apos;ex√©cution, voir [les ex√©cutions workflow du moniteur](/docs/workflow-automation/create-a-workflow-automation/managing-workflow#monitor-runs).

### Le workflow affiche l&apos;√©tat ¬´¬†√âchec¬†¬ª.

**Probl√®me¬†:** Un workflow appara√Æt avec le statut ¬´¬†√âchec¬†¬ª dans le dashboard.

**Solutions :**

1. **Consultez l&apos;historique d&apos;ex√©cution**:

   * Acc√©dez √† **[one.newrelic.com](https://one.newrelic.com) &gt; All Capabilities &gt; Workflow Automation**
   * Cliquez sur le nom workflow
   * Consultez **Run history** pour voir quelle ex√©cution a √©chou√©.

2. **Revoir les logs d&apos;ex√©cution **:

   * Cliquez sur **View logs** de l‚Äôex√©cution ayant √©chou√© pour identifier l‚Äôaction sp√©cifique qui a √©chou√©.
   * Recherchez les messages d&apos;erreur indiquant la cause premi√®re

3. **Causes fr√©quentes**:

   * **Identifiants invalides**: jeton expir√©, syntaxe des secrets incorrecte ou cl√©s secr√®tes erron√©es
   * **Autorisations manquantes**: autorisations AWS IAM insuffisantes, √©tendues d‚Äôacc√®s au bot Slack ou acc√®s √† l‚ÄôAPI insuffisants
   * **Modifications apport√©es aux ressources cibles**: instances EC2 supprim√©es, canaux Slack supprim√©s ou base de donn√©es renomm√©e
   * **Limites de d√©bit de l&apos;API d√©pass√©es**: Trop de requests vers des services externes (AWS, Slack, etc.).
   * **D√©lais d&apos;attente r√©seau**: les API externes mettent trop de temps √† r√©pondre.

4. **Correction et nouvelle ex√©cution**: Apr√®s avoir r√©solu le probl√®me, d√©clenchez manuellement le workflow √† l‚Äôaide de l‚Äô [API StartWorkflowRun](/docs/workflow-automation/workflow-automation-apis/start-workflow-run) pour v√©rifier son bon fonctionnement.

### L&apos;ex√©cution du workflow prend trop de temps.

**Probl√®me¬†:** les ex√©cutions du workflow d√©passent la dur√©e pr√©vue ou expirent.

**Solutions :**

1. **Analyse de la s√©quence d&apos;actions**: Consultez les logs pour identifier les actions lentes. Recherchez les actions dont le temps d&apos;ex√©cution est sup√©rieur √† 30 secondes.

2. **Optimisation des requ√™tes**: Si vous utilisez des requ√™tes NRQL, optimisez-les pour de meilleures performances¬†:

   * Ajoutez des plages horaires sp√©cifiques au lieu d&apos;interroger toutes les donn√©es.
   * Utilisez `LIMIT` pour r√©duire la taille de l&apos;ensemble de r√©sultats
   * Filtrer t√¥t avec des clauses `WHERE`

3. **V√©rifiez les API externes**: des r√©ponses lentes des services int√©gr√©s (AWS, Slack) peuvent retarder l‚Äôex√©cution. Tester s√©par√©ment les temps de r√©ponse de l&apos;API.

4. **Tenez compte des limites workflow **: examinez [les limitesworkflow ](/docs/workflow-automation/limitations-and-faq/workflow-limits)pour les contraintes de d√©lai d&apos;expiration (g√©n√©ralement 15 minutes par workflow).

5. **D√©composez les workflows en processus plus courts**: Divisez les workflows complexes en automatisations plus petites et cibl√©es pouvant s‚Äôex√©cuter en parall√®le.

### Les modifications apport√©es au workflow ne sont pas prises en compte.

**Probl√®me :** Vous avez modifi√© un workflow, mais les modifications ne sont pas prises en compte lors de son ex√©cution.

**Solutions :**

1. **V√©rifiez que vous avez enregistr√©**: Assurez-vous d&apos;avoir cliqu√© sur **Save** apr√®s avoir modifi√© la configuration workflow.

2. **V√©rifiez la version**:

   * Acc√©der aux d√©tails workflow
   * Cliquez sur l&apos;onglet **Version history**
   * Assurez-vous que vos derni√®res modifications apparaissent comme une nouvelle version
   * V√©rifiez que cette version est bien active.

3. **Mise √† jour des ex√©cutions planifi√©es**: si le workflow s‚Äôex√©cute selon une planification, mettez √† jour cette planification pour utiliser la nouvelle version¬†:

   * Acc√©dez √† **[one.newrelic.com](https://one.newrelic.com) &gt; All Capabilities &gt; Workflow Automation**
   * Trouver les courses programm√©es
   * Mettez √† jour le planning pour qu&apos;il prenne en compte la nouvelle version workflow

4. **Vider le cache**: La mise en cache Browser peut afficher une ancienne configuration‚Äî actualisez la page (Ctrl+Maj+R ou Cmd+Maj+R).

## Probl√®mes dashboard du workflow

### Impossible de trouver un workflow dans le dashboard

**Probl√®me¬†:** Le workflow que vous avez cr√©√© n‚Äôappara√Æt pas dans la liste dashboard.

**Solutions :**

1. **V√©rifier les filtres**:

   * Cliquez sur la liste d√©roulante des filtres
   * S√©lectionnez ¬´¬†Tous¬†¬ª pour les filtres d&apos;√©tat
   * Effacer la barre de recherche

2. **V√©rifier le compte**: Confirmez que vous √™tes connect√© au compte New Relic correct sur lequel le workflow a √©t√© cr√©√©. Consultez le s√©lecteur de compte en haut √† droite.

3. **V√©rifiez les autorisations**: assurez-vous que votre r√¥le d&apos;utilisateur a acc√®s √† la visualisation du workflow. Contactez votre administrateur New Relic si vous avez besoin d&apos;autorisations d&apos;acc√®s workflow.

4. **Actualisez la page**: la mise en cache Browser peut parfois masquer les modifications r√©centes. Essayez une actualisation forc√©e (Ctrl+Maj+R ou Cmd+Maj+R).

### Impossible de supprimer un workflow

**Probl√®me¬†:** L‚Äôoption Supprimer est gris√©e ou la suppression √©choue.

**Solutions :**

1. **V√©rifier les autorisations**: V√©rifiez que votre r√¥le d&apos;utilisateur dispose des autorisations de suppression pour le workflow. Contactez l&apos;administrateur de votre compte si n√©cessaire.

2. **Arr√™ter les ex√©cutions planifi√©es**: Annulez toutes les ex√©cutions planifi√©es actives avant de les supprimer¬†:

   * Acc√©dez aux d√©tails workflow
   * Acc√©dez √† l&apos;onglet **Scheduled runs**
   * Annuler tous les horaires actifs

3. **V√©rification des d√©pendances**: certains workflows ne peuvent pas √™tre supprim√©s si d‚Äôautres automatisations en d√©pendent. V√©rifiez si le workflow est r√©f√©renc√© par¬†:

   * D&apos;autres workflows l&apos;appellent ainsi.
   * r√®gle d&apos;alerte qui le d√©clenche
   * Syst√®me externe qui le d√©marre via API

4. **Contactez l&apos;assistance**: Si le probl√®me persiste apr√®s avoir essay√© les solutions ci-dessus, contactez [l&apos;assistance New Relic](https://support.newrelic.com/) pour obtenir de l&apos;aide.

## Probl√®mes sp√©cifiques √† l&apos;int√©gration

### La notification Slack ne s&apos;affiche pas

**Probl√®me :** le workflow s&apos;ex√©cute correctement, mais les messages Slack n&apos;apparaissent pas.

**Solutions :**

1. **V√©rifiez l&apos;ID du canal**: Assurez-vous d&apos;utiliser l&apos; **ID** du canal Slack (par exemple, `C01234ABCD`), et non le nom du canal. Trouvez l&apos;identifiant dans Slack¬†:

   * Faites un clic droit sur le nom de la cha√Æne
   * S√©lectionnez **View channel details**.
   * Copiez l&apos;identifiant de la cha√Æne en bas.

2. **V√©rifiez les autorisations du bot**: assurez-vous que votre bot Slack dispose des autorisations suivantes¬†:

   * `chat:write` - Publier des messages
   * `channels:read` - Consulter les cha√Ænes publiques
   * `groups:read` - Afficher les cha√Ænes priv√©es (le cas √©ch√©ant)

3. **V√©rifier que le bot est dans le canal**: Ajouter le bot au canal cible¬†:

   * Tapez `/invite @YourBotName` dans le canal
   * V√©rifiez que le bot figure bien dans la liste des membres.

4. **V√©rifier le jeton dans les secrets**: V√©rifiez que le jeton Slack stock√© dans le gestionnaire de secrets est correct et n‚Äôa pas expir√©.

### Les op√©rations AWS syst√®me Manager √©chouent

**Probl√®me¬†:** Les documents ou commandes d‚Äôautomatisation SSM ne s‚Äôex√©cutent pas.

**Solutions :**

1. **V√©rifiez les autorisations SSM**: assurez-vous que le r√¥le IAM dispose des autorisations suivantes¬†:
   ```json
   {
     "Effect": "Allow",
     "Action": [
       "ssm:CreateDocument",
       "ssm:DeleteDocument",
       "ssm:StartAutomationExecution",
       "ssm:GetAutomationExecution"
     ],
     "Resource": "*"
   }
   ```
2. **V√©rification de l&apos;agent SSM**: assurez-vous que l&apos;agent SSM est install√© et en cours d&apos;ex√©cution sur les instances EC2 cibles¬†:
   ```bash
   aws ssm describe-instance-information --region us-east-1
   ```
3. **V√©rifiez le profil de l&apos;instance**: les instances EC2 n√©cessitent un profil d&apos;instance IAM avec des autorisations SSM pour ex√©cuter des commandes.
4. **V√©rifier l&apos;existence du document**: Si vous utilisez un document SSM existant, v√©rifiez qu&apos;il existe dans votre compte AWS et votre r√©gion.

## Probl√®mes sp√©cifiques au mod√®le

### GUID d&apos;entit√© introuvable

**Probl√®me¬†:** Les mod√®les √©chouent avec `Entity not found` erreurs.

**Solutions :**

1. **Trouver le GUID d&apos;entit√© correct**:

   * Acc√©dez √† la page de ressources du moniteur dans New Relic
   * V√©rifiez l&apos;URL ou les m√©tadonn√©es de l&apos;entit√© pour le GUID
   * Utilisez [la recherche d&apos;entit√©](/docs/new-relic-solutions/new-relic-one/core-concepts/what-entity-new-relic#find) pour localiser l&apos;entit√©

2. **V√©rifiez que l&apos;entit√© existe dans le compte appropri√©**: assurez-vous d&apos;utiliser l&apos;entit√© du m√™me compte que celui o√π le workflow est d√©ploy√©.

3. **V√©rifiez les donn√©es de l&apos;entit√©**: assurez-vous que l&apos;entit√© affiche **Last seen** r√©cente (une entit√© obsol√®te a peut-√™tre √©t√© supprim√©e).

4. **Pour l&apos;entit√© AWS**:¬†Assurez-vous que [les int√©grations](/docs/infrastructure/amazon-integrations/get-started/introduction-aws-integrations) sont actives

<Callout variant="tip">
  **Les GUID d&apos;entit√© sont sp√©cifiques √† chaque compte.** Le d√©placement du workflow entre les comptes n√©cessite la mise √† jour de tous les GUID d&apos;entit√©.
</Callout>

### La requ√™te NRQL ne renvoie aucun r√©sultat

**Probl√®me¬†:** Les mod√®les utilisant la requ√™te NRQL s‚Äôex√©cutent correctement mais renvoient des ensembles de donn√©es vides.

**Solutions :**

1. **Testez d&apos;abord la requ√™te**: utilisez [le g√©n√©rateur de requ√™tes](/docs/query-your-data/explore-query-data/query-builder/introduction-query-builder) pour valider la requ√™te avant de l&apos;ajouter aux mod√®les

2. **V√©rifiez le type de donn√©es et les noms des √©v√©nements**:

   * Utilisez `FROM Transaction`, et non `FROM Transactions`
   * V√©rifier que les noms des attributs correspondent exactement (sensible √† la casse).

3. **Ajuster les plages horaires**: Pour les donn√©es √©parses, √©largir la fen√™tre temporelle¬†:

   * Ajoutez `SINCE 1 hour ago` pour les donn√©es r√©centes
   * Utilisez `SINCE 1 day ago` pour les tendances

4. **Simplifiez et testez progressivement**: commencez par une requ√™te de base, puis ajoutez les filtres un par un.

5. **V√©rifier [la syntaxe NRQL](/docs/query-your-data/nrql-new-relic-query-language/get-started/introduction-nrql-new-relics-query-language)**: s‚Äôassurer que la structure de la requ√™te correspond aux exigences NRQL

### Le d√©ploiement du mod√®le √©choue

**Probl√®me¬†:** Le mod√®le ne se d√©ploie pas ou affiche des erreurs lors du d√©ploiement.

**Solutions :**

1. **V√©rifiez toutes les informations requises**: assurez-vous d‚Äôavoir rempli tous les champs obligatoires (identifiants, GUID, requ√™te).
2. **V√©rifiez le format des informations d&apos;identification**: les secrets doivent utiliser le format `${{ :secrets:keyName }}` avec le pr√©fixe deux-points.
3. **Testez les identifiants ind√©pendamment**: avant le d√©ploiement, testez les identifiants AWS avec l‚Äôinterface de ligne de commande AWS et l‚ÄôAPI Slack.
4. **Exigences relatives aux mod√®les de v√©rification**: Chaque mod√®le √©num√®re des pr√©requis sp√©cifiques¬†; assurez-vous qu‚Äôils sont tous respect√©s.
5. **V√©rifiez la pr√©sence de caract√®res sp√©ciaux**: certains champs (noms de canaux, requ√™tes) peuvent ne pas fonctionner correctement avec des caract√®res sp√©ciaux¬†; utilisez des caract√®res alphanum√©riques lorsque cela est possible.

### Le flux d&apos;approbation ne r√©pond pas.

**Probl√®me¬†:** les mod√®les n√©cessitant une approbation Slack (restauration d‚ÄôAPI Gateway, redimensionnement d‚ÄôEC2) ne d√©tectent pas les r√©actions.

**Solutions :**

1. **V√©rifier les port√©es des jetons du bot**:

   * `reactions:read` - N√©cessaire pour d√©tecter les r√©actions aux √©mojis
   * `chat:write` - Obligatoire pour publier les messages d&apos;approbation

2. **V√©rifiez le format de r√©action**: utilisez l‚Äôemoji exact sp√©cifi√© dans le workflow (g√©n√©ralement üëç pour approuver, üëé pour refuser).

3. **V√©rifiez les param√®tres de d√©lai d&apos;expiration**: requests d&apos;approbation expirent apr√®s le d√©lai configur√© (g√©n√©ralement 5 √† 10 minutes).

4. **Assurez-vous que le bot puisse lire les messages**: le bot doit √™tre pr√©sent dans le canal et avoir l‚Äôautorisation de consulter l‚Äôhistorique des messages.

5. **Test avec une approbation simple**: Cr√©ez un workflow de test avec uniquement la logique d‚Äôapprobation pour isoler le probl√®me.

### Probl√®mes de gestion des instances EC2

**Probl√®me¬†:** le mod√®le EC2 ne parvient pas √† redimensionner ou √† g√©rer l‚Äôinstance.

**Solutions :**

1. **V√©rifiez que [les flux de m√©triques CloudWatch](/install/aws-cloudwatch/) sont configur√©s**: requis pour les m√©triques EC2 en temps r√©el.
2. **V√©rifier que [l&apos;int√©gration du monitoring EC2](/docs/infrastructure/amazon-integrations/aws-integrations-list/aws-ec2-monitoring-integration/#activate) est active**: garantit que les donn√©es de l&apos;instance sont transmises √† New Relic.
3. **V√©rifier l&apos;√©tat instance **: l&apos;instance doit √™tre √† l&apos;√©tat `running` ou `stopped`¬†; les √©tats transitoires (en attente, en cours d&apos;arr√™t) entra√Ænent des √©checs.
4. **V√©rifiez la compatibilit√© instance de type d&apos;**: toutes instance de type d&apos; ne prennent pas en charge toutes les op√©rations de redimensionnement. Consultez [la documentation AWS relative aux instance de type d&apos;](https://aws.amazon.com/ec2/instance-types/).
5. **V√©rifiez les autorisations d&apos;arr√™t/d√©marrage**: le r√¥le IAM n√©cessite `ec2:StopInstances` et `ec2:StartInstances` en plus de `ec2:ModifyInstanceAttribute`

### Le mod√®le d&apos;analyse JSON ne consigne pas les donn√©es.

**Probl√®me¬†:** le mod√®le d‚Äôanalyse JSON s‚Äôex√©cute correctement, mais aucune donn√©e n‚Äôappara√Æt dans les logs New Relic.

**Solutions :**

1. **V√©rifier les points de terminaison d&apos;API**: Tester l&apos;URL de la page d&apos;√©tat dans un navigateur ‚Äì s&apos;assurer qu&apos;elle renvoie un JSON valide
2. **V√©rifiez la structure JSON**: le mod√®le attend un format sp√©cifique¬†; assurez-vous que les champs d‚Äô√©tat des composants correspondent √† la structure attendue.
3. **V√©rifiez les filtres log **: assurez-vous que l‚Äôaction de logging utilise le type d‚Äô√©v√©nement et l‚Äôattribut corrects.
4. **Test avec un point de terminaison simple**: utilisez un point de terminaison JSON basique (comme `https://httpbin.org/json`) pour v√©rifier le bon fonctionnement du mod√®le.
5. **V√©rifier les autorisations du compte**: s‚Äôassurer que workflow est autoris√© √† √©crire les logs dans New Relic.

### L&apos;authentification de la requ√™te SQL NRLens √©choue

**Probl√®me¬†:** le mod√®le NRLens √©choue en raison d‚Äôerreurs d‚Äôauthentification ou de connexion.

**Solutions :**

1. **V√©rifiez les informations d&apos;identification NRLens**: assurez-vous que les informations d&apos;identification du Gateway de requ√™te SQL sont √† jour et correctement stock√©es dans les secrets.
2. **V√©rifiez les identifiants de l&apos;organisation et du compte**: assurez-vous que les deux identifiants correspondent exactement √† ceux de votre organisation New Relic.
3. **Tester la requ√™te SQL s√©par√©ment**: utiliser l‚Äôinterface NRLens pour tester la requ√™te avant de l‚Äôajouter au workflow
4. **V√©rifiez la syntaxe SQL**: NRLens SQL diff√®re de NRQL¬†; consultez [la documentation NRLens](https://docs.newrelic.com/docs/nrlens-overview) pour conna√Ætre la syntaxe prise en charge.
5. **V√©rifiez la complexit√© de la requ√™te**: les jointures tr√®s complexes ou les grands ensembles de donn√©es peuvent expirer¬†; simplifiez la requ√™te ou ajoutez des limites de temps.

## Prochaines √©tapes

Si vous rencontrez toujours des probl√®mes apr√®s avoir essay√© ces solutions¬†:

* **[Forum de la communaut√© sur l&apos;automatisation des workflows](https://discuss.newrelic.com/)**: Posez des questions et obtenez de l&apos;aide d&apos;autres utilisateurs
* **[Assistance New Relic](https://support.newrelic.com/)**: Contactez l‚Äôassistance pour les probl√®mes li√©s √† votre compte.
* **[Bonnes pratiques de workflow](/docs/workflow-automation/limitations-and-faq/workflow-best-practices)**: Apprenez des mod√®les pour un workflow fiable
* **[Limites du workflow](/docs/workflow-automation/limitations-and-faq/workflow-limits)**: Comprendre les contraintes et les quotas du syst√®me