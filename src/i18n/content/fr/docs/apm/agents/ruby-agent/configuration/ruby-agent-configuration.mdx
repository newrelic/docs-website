---
title: Configuration de l'agent Ruby
tags:
  - Agents
  - Ruby agent
  - Configuration
metaDescription: 'APM for Ruby: how to configure the Ruby agent, including editing the config file and setting environment variables.'
freshnessValidatedDate: never
translationType: machine
---

Vous pouvez configurer l&apos;agent Ruby New Relic avec des paramètres dans un fichier de configuration, des variables d&apos;environnement ou par programmation avec une configuration côté serveur. Ce document résume les options de configuration disponibles pour l&apos;agent Ruby.

Si la valeur par défaut d&apos;une option de configuration est `(Dynamic)`, cela signifie que l&apos;agent Ruby calcule la valeur par défaut au moment de l&apos;exécution. La valeur du paramètre de configuration par défaut correspond à la valeur d&apos;un autre paramètre, le cas échéant.

## Méthodes de configuration et priorité [#Options]

La méthode principale (par défaut) pour configurer l&apos;agent Ruby s&apos;effectue via le fichier de configuration (`newrelic.yml`) dans le sous-répertoire `config` . Pour définir les valeurs de configuration à l’aide de variables d’environnement :

1. Ajoutez le préfixe `NEW_RELIC_` au nom du paramètre.
2. Remplacez tous les points `.` par des traits de soulignement `_`.

Vous pouvez également configurer quelques valeurs dans l&apos;UI via [configuration côté serveur](/docs/agents/manage-apm-agents/configuration/server-side-agent-configuration).

L&apos;agent Ruby suit cet ordre de priorité pour la configuration :

1. Variables d&apos;environnement
2. Configuration côté serveur
3. Fichier de configuration (`newrelic.yml`)
4. Paramètres de configuration par défaut

En d&apos;autres termes, les variables d&apos;environnement remplacent tous les autres paramètres et informations de configuration, la configuration côté serveur remplace le fichier de configuration et les paramètres de configuration par défaut, et ainsi de suite.

## Afficher et modifier les options du fichier de configuration [#Edit]

Le `newrelic.yml` de l&apos;agent Ruby est un fichier de configuration YAML standard. Il comprend généralement une section `Defaults` en haut, ainsi que des sections en dessous pour chaque environnement d&apos;application (`Development`, `Test`, `Staging` et `Production`).

L&apos;agent Ruby détermine la section du fichier de configuration `newrelic.yml` à lire en examinant certaines variables d&apos;environnement pour dériver l&apos;environnement de l&apos;application. Cela peut être utile lorsque vous souhaitez utiliser `info` pour le paramètre de configuration `log_level` dans votre environnement de production et que vous souhaitez des paramètres de configuration `log_level` plus détaillés (tels que `debug`) dans votre environnement de développement.

Voici un exemple de fichier de configuration `newrelic.yml` :

```yaml
common: &default_settings
  license_key: 'YOUR_LICENSE_KEY'
  app_name: 'My Application Name'
production:
  <<: *default_settings
  log_level: info
development:
  <<: *default_settings
  log_level: debug
```

L&apos;agent Ruby recherche les variables d&apos;environnement suivantes, dans cet ordre, pour trouver l&apos;environnement de l&apos;application :

1. `NEW_RELIC_ENV`
2. `RUBY_ENV`
3. `RAILS_ENV`
4. `APP_ENV`
5. `RACK_ENV`

Si l&apos;agent Ruby ne détecte aucune valeur pour aucune de ces variables d&apos;environnement, il définira par défaut l&apos;environnement d&apos;application sur `development` et lira à partir de la section `development` du fichier de configuration `newrelic.yml` .

Lors de l&apos;exécution de l&apos;agent Ruby dans une application Rails, l&apos;agent recherche d&apos;abord la variable d&apos;environnement `NEW_RELIC_ENV` pour trouver l&apos;environnement de l&apos;application et la section de `newrelic.yml` à utiliser. Si `NEW_RELIC_ENV` n&apos;est pas présent, l&apos;agent utilise l&apos;environnement Rails (`RAILS_ENV`).

Lorsque vous modifiez le fichier de configuration, assurez-vous de :

* Indenter uniquement avec deux espaces.
* Indentez uniquement si cela est pertinent, dans des sections telles que **`error_collector`**.

Si vous n&apos;effectuez pas l&apos;indentation correctement, l&apos;agent peut générer une erreur `Unable to parse configuration file` au démarrage.

Pour afficher la liste la plus récente des options de configuration de l&apos;agent Ruby disponibles, utilisez la commande `rake newrelic:config:docs` . Ce document décrit les options les plus courantes.

## Mettre à jour le fichier de configuration [#Updates]

Cette documentation s&apos;applique à la dernière sortie de l&apos;agent Ruby . Pour plus de détails sur les versions antérieures, reportez-vous aux commentaires dans `newrelic.yml` lui-même.

Pour mettre à jour le fichier `newrelic.yml` après une nouvelle sortie, utilisez le modèle dans le répertoire de base du gem agent. Lorsque vous effectuez une mise à jour vers de nouvelles versions de gems, examinez ou comparez `config/newrelic.yml` et `newrelic.yml` dans le [répertoire d&apos;installation](/docs/agents/manage-apm-agents/troubleshooting/find-agent-root-directory#ruby-agent) pour profiter des nouvelles options de configuration.

<Callout variant="important">
  La mise à jour de la gem ne met pas automatiquement à jour `config/newrelic.yml`.
</Callout>

## Général [#general]

Ces paramètres sont disponibles pour la configuration de l&apos;agent. Certains paramètres dépendent de votre niveau d&apos;abonnement New Relic.

<CollapserGroup>
  <Collapser id="agent_enabled" title="agent_enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_AGENT_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, autorise l&apos;exécution de l&apos;agent Ruby.
  </Collapser>

  <Collapser id="app_name" title="app_name">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `(Dynamic)`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_APP_NAME`
          </td>
        </tr>
      </tbody>
    </table>

    Spécifiez le [nom de l’application](/docs/apm/new-relic-apm/installation-configuration/name-your-application) utilisée pour agréger les données dans l’ UI New Relic. Pour signaler des données à [plusieurs applications en même temps](/docs/apm/new-relic-apm/installation-configuration/using-multiple-names-app), spécifiez une liste de noms séparés par un point-virgule `;`. Par exemple, `MyApp` ou `MyStagingApp;Instance1`.
  </Collapser>

  <Collapser id="license_key" title="license_key">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `""`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_LICENSE_KEY`
          </td>
        </tr>
      </tbody>
    </table>

    Votre New Relic <InlinePopover type="licenseKey" />.
  </Collapser>

  <Collapser id="log_level" title="log_level">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `"info"`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_LOG_LEVEL`
          </td>
        </tr>
      </tbody>
    </table>

    Définit le niveau de détail du message de log. Les niveaux de log possibles, par verbosité croissante, sont : `error`, `warn`, `info` ou `debug`.
  </Collapser>

  <Collapser id="active_support_custom_events_names" title="active_support_custom_events_names">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_ACTIVE_SUPPORT_CUSTOM_EVENTS_NAMES`
          </td>
        </tr>
      </tbody>
    </table>

    Une gamme de noms d&apos;événements ActiveSupport personnalisés auxquels s&apos;abonner et instrument. Par exemple,

    * one.custom.event
    * another.event
    * a.third.event
  </Collapser>

  <Collapser id="backport_fast_active_record_connection_lookup" title="backport_fast_active_record_connection_lookup">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_BACKPORT_FAST_ACTIVE_RECORD_CONNECTION_LOOKUP`
          </td>
        </tr>
      </tbody>
    </table>

    Rétroporte la recherche de connexion ActiveRecord plus rapide introduite dans Rails 6, qui améliore les performances de l&apos;agent lors de l&apos;instrumentation d&apos;ActiveRecord. Notez que ce paramètre peut ne pas être compatible avec d&apos;autres gems qui corrigent ActiveRecord.
  </Collapser>

  <Collapser id="ca_bundle_path" title="ca_bundle_path">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `nil`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_CA_BUNDLE_PATH`
          </td>
        </tr>
      </tbody>
    </table>

    Remplacement manuel du chemin d&apos;accès à votre bundle CA local. Ce bundle CA valide le certificat SSL présenté par le service de collecte de données de New Relic.
  </Collapser>

  <Collapser id="capture_memcache_keys" title="capture_memcache_keys">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_CAPTURE_MEMCACHE_KEYS`
          </td>
        </tr>
      </tbody>
    </table>

    Activer ou désactiver la capture des clés memcache à partir de la trace de transaction.
  </Collapser>

  <Collapser id="capture_params" title="capture_params">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_CAPTURE_PARAMS`
          </td>
        </tr>
      </tbody>
    </table>

    Lorsque `true`, l&apos;agent capture les paramètres de requête HTTP et les attache à la trace de transaction, à la trace des erreurs et [à l&apos;événement`TransactionError` ](/attribute-dictionary?attribute_name=&events_tids%5B%5D=8241).

    <Callout variant="caution">
      Lorsque vous utilisez le paramètre `capture_params` , l&apos;agent Ruby ne tentera pas de filtrer les informations secrètes. `Recommendation:` Pour filtrer les informations secrètes des paramètres de demande, utilisez plutôt le [paramètre`attributes.include` ](/docs/agents/ruby-agent/attributes/enable-disable-attributes-ruby). Pour plus d&apos;informations, consultez les <a href="/docs/agents/ruby-agent/attributes/ruby-attribute-examples#ex_req_params">exemples d&apos;attributsRuby </a>.
    </Callout>
  </Collapser>

  <Collapser id="clear_transaction_state_after_fork" title="clear_transaction_state_after_fork">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_CLEAR_TRANSACTION_STATE_AFTER_FORK`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent effacera `Tracer::State` dans `Agent.drop_buffered_data`.
  </Collapser>

  <Collapser id="config_path" title="config_path">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `(Dynamic)`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_CONFIG_PATH`
          </td>
        </tr>
      </tbody>
    </table>

    Chemin vers `newrelic.yml`. Si indéfini, l&apos;agent vérifie les répertoires suivants (dans l&apos;ordre) :

    * `config/newrelic.yml`
    * `newrelic.yml`
    * `$HOME/.newrelic/newrelic.yml`
    * `$HOME/newrelic.yml`
  </Collapser>

  <Collapser id="exclude_newrelic_header" title="exclude_newrelic_header">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_EXCLUDE_NEWRELIC_HEADER`
          </td>
        </tr>
      </tbody>
    </table>

    Permet de supprimer les en-têtes de tracing distribué Newrelic sur requests sortantes.
  </Collapser>

  <Collapser id="force_install_exit_handler" title="force_install_exit_handler">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_FORCE_INSTALL_EXIT_HANDLER`
          </td>
        </tr>
      </tbody>
    </table>

    Le gestionnaire de sortie qui envoie toutes les données mises en cache au collecteur avant l&apos;arrêt est installé de force. Cela est vrai même lorsqu’il détecte des scénarios dans lesquels il ne devrait généralement pas l’être. Le cas d&apos;utilisation connu de cette option est lorsque Sinatra s&apos;exécute en tant que service intégré dans un autre framework. L&apos;agent détecte l&apos;application Sinatra et ignore le gestionnaire `at_exit` en conséquence. Sinatra exécute classiquement l&apos;intégralité de l&apos;application dans un bloc `at_exit` et se comporterait autrement mal si le gestionnaire `at_exit` de l&apos;agent était également installé dans ces circonstances. Remarque : `send_data_on_exit` doit également être défini sur `true` en tandem avec ce paramètre.
  </Collapser>

  <Collapser id="high_security" title="high_security">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_HIGH_SECURITY`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, active [le mode haute sécurité](/docs/accounts-partnerships/accounts/security/high-security). Assurez-vous de comprendre les implications du mode haute sécurité avant d&apos;activer ce paramètre.
  </Collapser>

  <Collapser id="labels" title="labels">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `""`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_LABELS`
          </td>
        </tr>
      </tbody>
    </table>

    Un dictionnaire de [noms d’étiquettes](/docs/data-analysis/user-interface-functions/labels-categories-organize-your-apps-servers) et de valeurs qui seront appliqués aux données envoyées par cet agent. Peut également être exprimé sous la forme d&apos;une chaîne `;` délimitée par des points-virgules et composée de paires `:` séparées par des deux-points. Par exemple, `Server:One;Data Center:Primary`.
  </Collapser>

  <Collapser id="log_file_name" title="log_file_name">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `"newrelic_agent.log"`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_LOG_FILE_NAME`
          </td>
        </tr>
      </tbody>
    </table>

    Définit un nom pour le fichier de log.
  </Collapser>

  <Collapser id="log_file_path" title="log_file_path">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `"log/"`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_LOG_FILE_PATH`
          </td>
        </tr>
      </tbody>
    </table>

    Définit un chemin vers le fichier de log de l&apos;agent, excluant le nom de fichier.
  </Collapser>

  <Collapser id="marshaller" title="maréchal">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `"json"`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_MARSHALLER`
          </td>
        </tr>
      </tbody>
    </table>

    Spécifie un marshaller pour transmettre des données au [collecteur](/docs/apm/new-relic-apm/getting-started/glossary#collector) New Relic. Actuellement, `json` est la seule valeur valide pour ce paramètre.
  </Collapser>

  <Collapser id="monitor_mode" title="monitor_mode">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_MONITOR_MODE`
          </td>
        </tr>
      </tbody>
    </table>

    Lorsque `true`, l&apos;agent transmet des données sur votre application au [collecteur](/docs/using-new-relic/welcome-new-relic/get-started/glossary/#collector) New Relic.
  </Collapser>

  <Collapser id="prepend_active_record_instrumentation" title="prepend_active_record_instrumentation">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_PREPEND_ACTIVE_RECORD_INSTRUMENTATION`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, utilise `Module#prepend` plutôt que `alias_method` pour l&apos;instrumentation ActiveRecord.
  </Collapser>

  <Collapser id="proxy_host" title="proxy_host">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `nil`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_PROXY_HOST`
          </td>
        </tr>
      </tbody>
    </table>

    Définit un hôte pour communiquer avec le [collecteur](/docs/using-new-relic/welcome-new-relic/get-started/glossary/#collector) New Relic via un serveur proxy.
  </Collapser>

  <Collapser id="proxy_pass" title="proxy_pass">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `nil`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_PROXY_PASS`
          </td>
        </tr>
      </tbody>
    </table>

    Définit un mot de passe pour communiquer avec le [collecteur](/docs/using-new-relic/welcome-new-relic/get-started/glossary/#collector) New Relic via un serveur proxy.
  </Collapser>

  <Collapser id="proxy_port" title="proxy_port">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Entier
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `8080`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_PROXY_PORT`
          </td>
        </tr>
      </tbody>
    </table>

    Définit un port pour communiquer avec le [collecteur](/docs/using-new-relic/welcome-new-relic/get-started/glossary/#collector) New Relic via un serveur proxy.
  </Collapser>

  <Collapser id="proxy_user" title="proxy_user">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `nil`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_PROXY_USER`
          </td>
        </tr>
      </tbody>
    </table>

    Définit un utilisateur pour communiquer avec le [collecteur](/docs/using-new-relic/welcome-new-relic/get-started/glossary/#collector) New Relic via un serveur proxy.
  </Collapser>

  <Collapser id="send_data_on_exit" title="send_data_on_exit">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SEND_DATA_ON_EXIT`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, active le gestionnaire de sortie qui envoie des données au [collecteur](/docs/using-new-relic/welcome-new-relic/get-started/glossary/#collector) New Relic avant l&apos;arrêt.
  </Collapser>

  <Collapser id="sync_startup" title="sync_startup">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SYNC_STARTUP`
          </td>
        </tr>
      </tbody>
    </table>

    Lorsqu&apos;il est défini sur `true`, force une connexion synchrone au [collecteur](/docs/using-new-relic/welcome-new-relic/get-started/glossary/#collector) New Relic lors du démarrage de l&apos;application. Pour les processus de très courte durée, cela permet de garantir que l&apos;agent New Relic a le temps de signaler.
  </Collapser>

  <Collapser id="thread_local_tracer_state" title="thread_local_tracer_state">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_THREAD_LOCAL_TRACER_STATE`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, le stockage de l&apos;état du traceur est local au thread, sinon, local à la fibre
  </Collapser>

  <Collapser id="timeout" title="temps mort">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Entier
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `120`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_TIMEOUT`
          </td>
        </tr>
      </tbody>
    </table>

    Définit le nombre maximal de secondes que l&apos;agent doit passer à tenter de se connecter au collecteur.
  </Collapser>

  <Collapser id="allow_all_headers" title="allow_all_headers">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_ALLOW_ALL_HEADERS`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, active la capture de tous les en-têtes de requête HTTP pour toutes les destinations.
  </Collapser>

  <Collapser id="automatic_custom_instrumentation_method_list" title="automatic_custom_instrumentation_method_list">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_AUTOMATIC_CUSTOM_INSTRUMENTATION_METHOD_LIST`
          </td>
        </tr>
      </tbody>
    </table>

    Un éventail de chaînes `CLASS#METHOD` (pour les méthodes instance ) et/ou `CLASS.METHOD` (pour les méthodes de classe) représentant des méthodes Ruby auxquelles l&apos;agent peut automatiquement ajouter instrumentation personnalisée. Cela ne nécessite aucune modification du code source qui définit les méthodes.

    Utilisez des noms de classe entièrement qualifiés (en utilisant le délimiteur `::` ) qui incluent tout espace de noms de module ou de classe.

    Voici une source de code Ruby qui définit une méthode d&apos;instance `render_png` pour une classe `Image` et une méthode de classe `notify` pour une classe `User`, toutes deux dans un espace de nommage de module `MyCompany` :

    ```rb
    	module MyCompany
    		class Image
    			def render_png
    				# code to render a PNG
    			end
    		end

    		class User
    			def self.notify
    				# code to notify users
    			end
    		end
    	end
    ```

    Étant donné le code source, le fichier de configuration `newrelic.yml` peut demander une instrumentation pour ces deux méthodes comme suit :

    ```yaml
    	automatic_custom_instrumentation_method_list:
    		- MyCompany::Image#render_png
    		- MyCompany::User.notify
    ```

    Cet exemple configuration utilise la syntaxe éventail YAML pour spécifier les deux méthodes. Alternativement, vous pouvez utiliser une chaîne délimitée par des virgules :

    ```yaml
    	automatic_custom_instrumentation_method_list: 'MyCompany::Image#render_png, MyCompany::User.notify'
    ```

    Les espaces autour des virgules dans la liste sont facultatifs. Lors de la configuration de l&apos;agent avec une liste de méthodes via la variable d&apos;environnement `NEW_RELIC_AUTOMATIC_CUSTOM_INSTRUMENTATION_METHOD_LIST` , utilisez ce format de chaîne délimitée par des virgules :

    ```sh
    	export NEW_RELIC_AUTOMATIC_CUSTOM_INSTRUMENTATION_METHOD_LIST='MyCompany::Image#render_png, MyCompany::User.notify'
    ```
  </Collapser>

  <Collapser id="defer_rails_initialization" title="defer_rails_initialization">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_DEFER_RAILS_INITIALIZATION`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, lorsque l&apos;agent est dans une application utilisant Ruby on Rails, il démarrera après l&apos;exécution de `config/initializers` .

    <Callout variant="caution">
      Cette option ne peut être définie que par une variable d&apos;environnement.
    </Callout>
  </Collapser>
</CollapserGroup>

## Traceur de transaction [#transaction-tracer]

La fonctionnalité [de trace de transaction](/docs/apm/traces/transaction-traces/transaction-traces) collecte des informations détaillées à partir d&apos;une sélection de transactions, y compris un résumé de la séquence d&apos;appel, une répartition du temps passé et une liste des requêtes SQL et de leurs plans de requête (sur MySQL et postgresql). Les fonctionnalités disponibles dépendent de votre niveau d’abonnement New Relic.

<CollapserGroup>
  <Collapser id="transaction_tracer-enabled" title="transaction_tracer.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_TRACER_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, permet la collecte de [la trace de transaction](/docs/apm/traces/transaction-traces/transaction-traces).
  </Collapser>

  <Collapser id="transaction_tracer-explain_enabled" title="transaction_tracer.explain_enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_TRACER_EXPLAIN_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, active la collecte des plans explicatifs dans la trace de transaction. Ce paramètre s&apos;appliquera également pour expliquer les plans dans la trace SQL lente si [`slow_sql.explain_enabled`](#slow_sql-explain_enabled) n&apos;est pas défini séparément.
  </Collapser>

  <Collapser id="transaction_tracer-explain_threshold" title="transaction_tracer.explain_threshold">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Virgule flottante
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `0.5`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_TRACER_EXPLAIN_THRESHOLD`
          </td>
        </tr>
      </tbody>
    </table>

    seuil (en secondes) au-delà duquel l&apos;agent devra collecter les plans explicatifs. Pertinent uniquement lorsque [`explain_enabled`](#transaction_tracer.explain_enabled) est vrai.
  </Collapser>

  <Collapser id="transaction_tracer-limit_segments" title="transaction_tracer.limit_segments">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Entier
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `4000`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_TRACER_LIMIT_SEGMENTS`
          </td>
        </tr>
      </tbody>
    </table>

    Nombre maximal de nœuds de trace de transaction à enregistrer dans une seule trace de transaction.
  </Collapser>

  <Collapser id="transaction_tracer-record_redis_arguments" title="transaction_tracer.record_redis_arguments">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_TRACER_RECORD_REDIS_ARGUMENTS`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent enregistre les arguments de commande Redis dans la trace de transaction.
  </Collapser>

  <Collapser id="transaction_tracer-record_sql" title="transaction_tracer.record_sql">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `"obfuscated"`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_TRACER_RECORD_SQL`
          </td>
        </tr>
      </tbody>
    </table>

    Niveau d&apos;obfuscation pour la requête SQL signalé dans les nœuds de trace de transaction. Par défaut, cette valeur est définie sur `obfuscated`, ce qui supprime les littéraux numériques et de chaîne.

    * Si vous ne souhaitez pas que l&apos;agent capture les informations de requête, définissez cette valeur sur `none`.
    * Si vous souhaitez que l&apos;agent capture toutes les informations de requête dans leur forme d&apos;origine, définissez cette valeur sur `raw`.
    * Lorsque vous activez [le mode haute sécurité](/docs/agents/manage-apm-agents/configuration/high-security-mode), celui-ci est automatiquement défini sur `obfuscated`.
  </Collapser>

  <Collapser id="transaction_tracer-stack_trace_threshold" title="transaction_tracer.stack_trace_threshold">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Virgule flottante
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `0.5`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_TRACER_STACK_TRACE_THRESHOLD`
          </td>
        </tr>
      </tbody>
    </table>

    Spécifiez un seuil en secondes. L&apos;agent inclut la trace d&apos;appels dans les nœuds trace de transaction lorsque la durée de trace d&apos;appels dépasse ce seuil.
  </Collapser>

  <Collapser id="transaction_tracer-transaction_threshold" title="transaction_tracer.transaction_threshold">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Virgule flottante
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `(Dynamic)`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_TRACER_TRANSACTION_THRESHOLD`
          </td>
        </tr>
      </tbody>
    </table>

    Spécifiez un seuil en secondes. Les transactions dont la durée est supérieure à ce seuil sont éligibles à la trace de transaction. Spécifiez une valeur flottante ou la chaîne `apdex_f`.
  </Collapser>
</CollapserGroup>

## Collectord&apos;erreurs [#error-collector]

Par défaut, l&apos;agent collecte et signale toutes les exceptions non détectées. Ces options de configuration vous permettent de personnaliser la collecte des erreurs.

Pour plus d&apos;informations sur les erreurs ignorées et les erreurs attendues, [consultez cette page sur l&apos;analyse des erreurs dans APM](/docs/agents/manage-apm-agents/agent-data/manage-errors-apm-collect-ignore-or-mark-expected/). Pour définir l&apos;erreur attendue via la méthode Ruby `NewRelic::Agent.notice_error`, [consultez l&apos;API de l&apos;agent Ruby](/docs/agents/ruby-agent/api-guides/sending-handled-errors-new-relic/).

<CollapserGroup>
  <Collapser id="error_collector-capture_events" title="error_collector.capture_events">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_CAPTURE_EVENTS`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent collecte [`TransactionError` événement](/docs/insights/new-relic-insights/decorating-events/error-event-default-attributes-insights).
  </Collapser>

  <Collapser id="error_collector-enabled" title="error_collector.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent capture les erreurs de trace et les métriques de nombre d&apos;erreurs.
  </Collapser>

  <Collapser id="error_collector-expected_classes" title="error_collector.expected_classes">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `None`
          </td>
        </tr>
      </tbody>
    </table>

    Une liste de classes d’erreurs que l’agent doit traiter comme prévu.

    <Callout variant="caution">
      Cette option ne peut pas être définie via une variable d&apos;environnement.
    </Callout>
  </Collapser>

  <Collapser id="error_collector-expected_messages" title="error_collector.expected_messages">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            hacher
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `{}`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `None`
          </td>
        </tr>
      </tbody>
    </table>

    Une carte des classes d&apos;erreur vers une liste de messages. Lorsqu&apos;une erreur d&apos;une des classes spécifiées ici se produit, si son message d&apos;erreur contient l&apos;une des chaînes lui correspondant ici, cette erreur sera traitée comme prévu.

    <Callout variant="caution">
      Cette option ne peut pas être définie via une variable d&apos;environnement.
    </Callout>
  </Collapser>

  <Collapser id="error_collector-expected_status_codes" title="error_collector.expected_status_codes">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `""`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_EXPECTED_STATUS_CODES`
          </td>
        </tr>
      </tbody>
    </table>

    Une liste de codes d&apos;état séparés par des virgules, incluant éventuellement des plages. Les erreurs associées à ces codes d’état, le cas échéant, seront traitées comme prévu.
  </Collapser>

  <Collapser id="error_collector-ignore_classes" title="error_collector.ignore_classes">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `["ActionController::RoutingError", "Sinatra::NotFound"]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `None`
          </td>
        </tr>
      </tbody>
    </table>

    Une liste de classes d’erreurs que l’agent doit ignorer.

    <Callout variant="caution">
      Cette option ne peut pas être définie via une variable d&apos;environnement.
    </Callout>
  </Collapser>

  <Collapser id="error_collector-ignore_messages" title="error_collector.ignore_messages">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            hacher
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `{ThreadError: ["queue empty"]}`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `None`
          </td>
        </tr>
      </tbody>
    </table>

    Une carte des classes d&apos;erreur vers une liste de messages. Lorsqu&apos;une erreur d&apos;une des classes spécifiées ici se produit, si son message d&apos;erreur contient l&apos;une des chaînes lui correspondant ici, cette erreur sera ignorée.

    <Callout variant="caution">
      Cette option ne peut pas être définie via une variable d&apos;environnement.
    </Callout>
  </Collapser>

  <Collapser id="error_collector-ignore_status_codes" title="error_collector.ignore_status_codes">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `""`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_IGNORE_STATUS_CODES`
          </td>
        </tr>
      </tbody>
    </table>

    Une liste de codes d&apos;état séparés par des virgules, incluant éventuellement des plages. Les erreurs associées à ces codes d’état, le cas échéant, seront ignorées.
  </Collapser>

  <Collapser id="error_collector-max_backtrace_frames" title="error_collector.max_backtrace_frames">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Entier
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `50`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_MAX_BACKTRACE_FRAMES`
          </td>
        </tr>
      </tbody>
    </table>

    Définit le nombre maximal d&apos;images dans une trace d&apos;erreur. Les backtraces supérieures à ce montant sont tronquées au milieu, préservant le début et la fin de la trace d&apos;appels.
  </Collapser>

  <Collapser id="error_collector-max_event_samples_stored" title="error_collector.max_event_samples_stored">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Entier
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `100`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_MAX_EVENT_SAMPLES_STORED`
          </td>
        </tr>
      </tbody>
    </table>

    Définit le nombre maximum de [`TransactionError` événements](/docs/insights/new-relic-insights/decorating-events/error-event-default-attributes-insights) signalés par cycle de collecte.
  </Collapser>
</CollapserGroup>

## Monitoring de navigateurs [#browser-monitoring]

La fonctionnalité[de synchronisation de chargement des pages](/docs/browser/new-relic-browser/page-load-timing/page-load-timing-process) <InlinePopover type="browser" />(parfois appelée monitoring des utilisateurs réels ou RUM) vous donne des informations détaillées sur les performances des utilisateurs réels avec votre site Web. Cela se fait en mesurant le temps qu&apos;il faut au navigateur de votre utilisateur pour télécharger et restituer vos pages Web en injectant une petite quantité de code JavaScript dans l&apos;en-tête et le pied de page de chaque page.

<CollapserGroup>
  <Collapser id="browser_monitoring-auto_instrument" title="browser_monitoring.auto_instrument">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_BROWSER_MONITORING_AUTO_INSTRUMENT`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, active [l&apos;auto-injection](/docs/browser/new-relic-browser/installation-configuration/adding-apps-new-relic-browser#select-apm-app) de l&apos;en-tête JavaScript pour le temps de chargement de la page (parfois appelé monitoring des utilisateurs réels ou RUM).
  </Collapser>

  <Collapser id="browser_monitoring-content_security_policy_nonce" title="browser_monitoring.content_security_policy_nonce">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_BROWSER_MONITORING_CONTENT_SECURITY_POLICY_NONCE`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, activeinjection automatique du [Nonce de la politique de sécurité du contenu](https://content-security-policy.com/nonce/) dans le script monitoring des navigateurs. Pour l&apos;instant, l&apos;injection automatique ne fonctionne qu&apos;avec Rails 5.2+.
  </Collapser>
</CollapserGroup>

## Événement de transaction [#transaction-events]

<CollapserGroup>
  <Collapser id="transaction_events-enabled" title="transaction_events.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_EVENTS_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, active l&apos;échantillonnage des événements de transaction.
  </Collapser>

  <Collapser id="transaction_events-max_samples_stored" title="transaction_events.max_samples_stored">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Entier
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `1200`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_EVENTS_MAX_SAMPLES_STORED`
          </td>
        </tr>
      </tbody>
    </table>

    Définit le nombre maximal d&apos;événements de transaction signalés à partir d&apos;une seule récolte.
  </Collapser>
</CollapserGroup>

## Logging des applications [#application-logging]

L&apos;agent Ruby prend en charge [les logs APM dans ce contexte](/docs/apm/new-relic-apm/getting-started/get-started-logs-context). Pour quelques conseils sur la configuration du log pour l&apos;agent Ruby , voir [Configurer les logs Ruby en contexte](/docs/logs/logs-context/configure-logs-context-ruby).

Les options de configuration liées au logging disponibles incluent :

<CollapserGroup>
  <Collapser id="application_logging-enabled" title="application_logging.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, active la décoration log et la collecte des événements de log et des métriques.
  </Collapser>

  <Collapser id="application_logging-forwarding-enabled" title="application_logging.forwarding.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_FORWARDING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent capture les enregistrements log émistre par votre application.
  </Collapser>

  <Collapser id="application_logging-forwarding-log_level" title="application_logging.forwarding.log_level">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `"debug"`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_FORWARDING_LOG_LEVEL`
          </td>
        </tr>
      </tbody>
    </table>

    Définit le niveau minimum qu&apos;un événement de log doit avoir pour être transmis à New Relic.

    Ceci est basé sur les valeurs entières des [constantes `Logger::Severity` de Ruby](https://github.com/ruby/logger/blob/113b82a06b3076b93a71cd467e1605b23afb3088/lib/logger/severity.rb).

    L&apos;intention est de transmettre le log avec le niveau donné à la configuration, ainsi que tout log avec un niveau de gravité plus élevé.

    Par exemple, définir cette valeur sur « debug » transmettra tous les événements de log à New Relic. La définition de cette valeur sur « erreur » ne transmettra que les événements de log avec les niveaux « erreur », « fatal » et « inconnu ».

    Valeurs valides (classées du plus bas au plus haut) :

    * &quot;déboguer&quot;
    * &quot;infos&quot;
    * &quot;avertir&quot;
    * &quot;erreur&quot;
    * &quot;fatal&quot;
    * &quot;inconnu&quot;
  </Collapser>

  <Collapser id="application_logging-forwarding-custom_attributes" title="application_logging.forwarding.custom_attributes">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            hacher
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `{}`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_FORWARDING_CUSTOM_ATTRIBUTES`
          </td>
        </tr>
      </tbody>
    </table>

    Un hacher avec des paires de valeurs clés à ajouter comme attribut personnalisé à tout événement de log transmis à New Relic. Si vous envoyez à l&apos;aide d&apos;une variable d&apos;environnement, la valeur doit être formatée comme suit : « key1=value1,key2=value2 »
  </Collapser>

  <Collapser id="application_logging-forwarding-labels-enabled" title="application_logging.forwarding.labels.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_FORWARDING_LABELS_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent attache [des étiquettes](https://docs.newrelic.com/docs/apm/agents/ruby-agent/configuration/ruby-agent-configuration/#labels) aux log log.
  </Collapser>

  <Collapser id="application_logging-forwarding-labels-exclude" title="application_logging.forwarding.labels.exclude">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_FORWARDING_LABELS_EXCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Un éventail insensible à la casse ou une chaîne délimitée par des virgules contenant les étiquettes à exclure des enregistrements log .
  </Collapser>

  <Collapser id="application_logging-forwarding-max_samples_stored" title="application_logging.forwarding.max_samples_stored">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Entier
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `10000`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_FORWARDING_MAX_SAMPLES_STORED`
          </td>
        </tr>
      </tbody>
    </table>

    Définit le nombre maximal d&apos;enregistrements log à mettre en mémoire tampon à la fois.
  </Collapser>

  <Collapser id="application_logging-local_decorating-enabled" title="application_logging.local_decorating.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_LOCAL_DECORATING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent décore le log avec des métadonnées pour créer un lien vers l&apos;entité, les hôtes, la trace et les spans.
  </Collapser>

  <Collapser id="application_logging-metrics-enabled" title="application_logging.metrics.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_METRICS_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent capture les métriques liées au logging de votre application.
  </Collapser>
</CollapserGroup>

## Monitoring de l&apos;IA [#ai-monitoring]

Cette section comprend la configuration de l&apos;agent Ruby pour la mise en place monitoring de l&apos;IA.

<Callout variant="important">Vous devez activer le tracing distribué pour capturer les données trace et de commentaires. Il est activé par défaut dans les agents Ruby 8.0.0 et supérieurs.</Callout>

<CollapserGroup>
  <Collapser id="ai_monitoring-enabled" title="ai_monitoring.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_AI_MONITORING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `false`, toute instrumentation LLM (OpenAI uniquement pour l&apos;instant) sera désactivée et aucune métrique, événement ou étendue ne sera envoyé. Le monitoring de l&apos;IA est automatiquement désactivée si le mode `high_security` est activé.
  </Collapser>

  <Collapser id="ai_monitoring-record_content-enabled" title="ai_monitoring.record_content.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_AI_MONITORING_RECORD_CONTENT_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `false`, instrumentation LLM (OpenAI uniquement pour l&apos;instant) ne capturera pas le contenu d&apos;entrée et de sortie sur un événement LLM spécifique.

    Les attributs exclus incluent :

    * `content` de LlmChatCompletionMessage événement
    * `input` de l&apos;événement LlmEmbedding

    Il s&apos;agit d&apos;un paramètre de sécurité facultatif pour empêcher l&apos;enregistrement des données sensibles envoyées et reçues par vos LLM.
  </Collapser>
</CollapserGroup>

## Attributs [#attributes]

[Les attributs](/docs/features/agent-attributes) sont des paires valeur clé contenant des informations qui déterminent les propriétés d&apos;un événement ou d&apos;une transaction. Ces paires valeur-clé peuvent être visualisées dans la trace de transaction dans APM, la trace des erreurs dans APM, l&apos;événement de transaction dans le dashboard et les pages vues dans le dashboard. Vous pouvez personnaliser exactement quel attribut sera envoyé à chacune de ces destinations

<CollapserGroup>
  <Collapser id="attributes-enabled" title="attributes.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_ATTRIBUTES_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, active la capture de l&apos;attribut pour toutes les destinations.
  </Collapser>

  <Collapser id="attributes-exclude" title="attributes.exclude">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_ATTRIBUTES_EXCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Préfixe d&apos;attribut à exclure de toutes les destinations. Autorise `*` comme caractère générique à la fin.
  </Collapser>

  <Collapser id="attributes-include" title="attributes.include">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_ATTRIBUTES_INCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Préfixe d&apos;attribut à inclure dans toutes les destinations. Autorise `*` comme caractère générique à la fin.
  </Collapser>

  <Collapser id="browser_monitoring-attributes-enabled" title="browser_monitoring.attributes.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_BROWSER_MONITORING_ATTRIBUTES_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent capture l&apos;attribut de monitoring des navigateurs.
  </Collapser>

  <Collapser id="browser_monitoring-attributes-exclude" title="browser_monitoring.attributes.exclude">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_BROWSER_MONITORING_ATTRIBUTES_EXCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Préfixe d&apos;attribut à exclure de monitoring des navigateurs. Autorise `*` comme caractère générique à la fin.
  </Collapser>

  <Collapser id="browser_monitoring-attributes-include" title="browser_monitoring.attributes.include">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_BROWSER_MONITORING_ATTRIBUTES_INCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Préfixe d&apos;attribut à inclure dans monitoring des navigateurs. Autorise `*` comme caractère générique à la fin.
  </Collapser>

  <Collapser id="error_collector-attributes-enabled" title="error_collector.attributes.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_ATTRIBUTES_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos; agent capture l&apos;attribut de la collection d&apos;erreurs.
  </Collapser>

  <Collapser id="error_collector-attributes-exclude" title="attribut_collecteur_erreur.exclude">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_ATTRIBUTES_EXCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Préfixe de l&apos;attribut à exclure de la collecte des erreurs. Autorise `*` comme caractère générique à la fin.
  </Collapser>

  <Collapser id="error_collector-attributes-include" title="error_collector.attributes.include">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_ATTRIBUTES_INCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Préfixe d&apos;attribut à inclure dans la collection d&apos;erreurs. Autorise `*` comme caractère générique à la fin.
  </Collapser>

  <Collapser id="span_events-attributes-enabled" title="span_events.attributes.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SPAN_EVENTS_ATTRIBUTES_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent capture l&apos;attribut lors de l&apos;événement span.
  </Collapser>

  <Collapser id="span_events-attributes-exclude" title="span_events.attributes.exclude">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SPAN_EVENTS_ATTRIBUTES_EXCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Préfixe d&apos;attribut à exclure de l&apos;événement span. Autorise `*` comme caractère générique à la fin.
  </Collapser>

  <Collapser id="span_events-attributes-include" title="span_events.attributes.include">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SPAN_EVENTS_ATTRIBUTES_INCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Préfixe de l&apos;attribut à inclure sur l&apos;événement span. Autorise `*` comme caractère générique à la fin.
  </Collapser>

  <Collapser id="transaction_events-attributes-enabled" title="transaction_events.attributes.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_EVENTS_ATTRIBUTES_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos; agent capture l&apos;attribut de l&apos;événement de transaction.
  </Collapser>

  <Collapser id="transaction_events-attributes-exclude" title="transaction_events.attributes.exclude">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_EVENTS_ATTRIBUTES_EXCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Préfixe d&apos;attribut à exclure de l&apos;événement de transaction. Autorise `*` comme caractère générique à la fin.
  </Collapser>

  <Collapser id="transaction_events-attributes-include" title="transaction_events.attributes.include">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_EVENTS_ATTRIBUTES_INCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Préfixe d&apos;attribut à inclure dans l&apos;événement de transaction. Autorise `*` comme caractère générique à la fin.
  </Collapser>

  <Collapser id="transaction_segments-attributes-enabled" title="transaction_segments.attributes.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_SEGMENTS_ATTRIBUTES_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent capture l&apos;attribut sur les segments de transaction.
  </Collapser>

  <Collapser id="transaction_segments-attributes-exclude" title="transaction_segments.attributes.exclude">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_SEGMENTS_ATTRIBUTES_EXCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Préfixe d&apos;attribut à exclure des segments de transaction. Autorise `*` comme caractère générique à la fin.
  </Collapser>

  <Collapser id="transaction_segments-attributes-include" title="transaction_segments.attributes.include">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_SEGMENTS_ATTRIBUTES_INCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Préfixe d&apos;attribut à inclure dans les segments de transaction. Autorise `*` comme caractère générique à la fin.
  </Collapser>

  <Collapser id="transaction_tracer-attributes-enabled" title="transaction_tracer.attributes.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_TRACER_ATTRIBUTES_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos; agent capture l&apos;attribut à partir de la trace de transaction.
  </Collapser>

  <Collapser id="transaction_tracer-attributes-exclude" title="transaction_tracer.attributes.exclude">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_TRACER_ATTRIBUTES_EXCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Préfixe d&apos;attribut à exclure de la trace de transaction. Autorise `*` comme caractère générique à la fin.
  </Collapser>

  <Collapser id="transaction_tracer-attributes-include" title="transaction_tracer.attributes.include">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_TRACER_ATTRIBUTES_INCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Préfixe d&apos;attribut à inclure dans la trace de transaction. Autorise `*` comme caractère générique à la fin.
  </Collapser>
</CollapserGroup>

## Log d&apos;audit [#audit-log]

<CollapserGroup>
  <Collapser id="audit_log-enabled" title="audit_log.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_AUDIT_LOG_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, active un log d&apos;audit qui enregistre les communications avec le [collecteur](/docs/using-new-relic/welcome-new-relic/get-started/glossary/#collector) New Relic.
  </Collapser>

  <Collapser id="audit_log-endpoints" title="audit_log.endpoints">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[".*"]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_AUDIT_LOG_ENDPOINTS`
          </td>
        </tr>
      </tbody>
    </table>

    Liste des points de terminaison autorisés à inclure dans log d&apos;audit.
  </Collapser>

  <Collapser id="audit_log-path" title="audit_log.path">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `log/newrelic_audit.log`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_AUDIT_LOG_PATH`
          </td>
        </tr>
      </tbody>
    </table>

    Spécifie un chemin d&apos;accès au fichier log d&apos;audit (y compris le nom du fichier).
  </Collapser>
</CollapserGroup>

## Démarrage automatique [#autostart]

<CollapserGroup>
  <Collapser id="autostart-denylisted_constants" title="autostart.denylisted_constants">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `"Rails::Command::ConsoleCommand,Rails::Command::CredentialsCommand,Rails::Command::Db::System::ChangeCommand,Rails::Command::DbConsoleCommand,Rails::Command::DestroyCommand,Rails::Command::DevCommand,Rails::Command::EncryptedCommand,Rails::Command::GenerateCommand,Rails::Command::InitializersCommand,Rails::Command::NotesCommand,Rails::Command::RoutesCommand,Rails::Command::RunnerCommand,Rails::Command::SecretsCommand,Rails::Console,Rails::DBConsole"`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_AUTOSTART_DENYLISTED_CONSTANTS`
          </td>
        </tr>
      </tbody>
    </table>

    Spécifiez une liste de constantes qui doivent empêcher l’agent de démarrer automatiquement. Séparez les constantes individuelles par une virgule `,`. Par exemple, `"Rails::Console,UninstrumentedBackgroundJob"`.
  </Collapser>

  <Collapser id="autostart-denylisted_executables" title="autostart.denylisted_executables">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `"irb,rspec"`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_AUTOSTART_DENYLISTED_EXECUTABLES`
          </td>
        </tr>
      </tbody>
    </table>

    Définit une liste délimitée par des virgules d&apos;exécutables que l&apos;agent ne doit pas instrument. Par exemple, `"rake,my_ruby_script.rb"`.
  </Collapser>

  <Collapser id="autostart-denylisted_rake_tasks" title="autostart.denylisted_rake_tasks">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `"about,assets:clean,assets:clobber,assets:environment,assets:precompile,assets:precompile:all,db:create,db:drop,db:fixtures:load,db:migrate,db:migrate:status,db:rollback,db:schema:cache:clear,db:schema:cache:dump,db:schema:dump,db:schema:load,db:seed,db:setup,db:structure:dump,db:version,doc:app,log:clear,middleware,notes,notes:custom,rails:template,rails:update,routes,secret,spec,spec:features,spec:requests,spec:controllers,spec:helpers,spec:models,spec:views,spec:routing,spec:rcov,stats,test,test:all,test:all:db,test:recent,test:single,test:uncommitted,time:zones:all,tmp:clear,tmp:create,webpacker:compile"`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_AUTOSTART_DENYLISTED_RAKE_TASKS`
          </td>
        </tr>
      </tbody>
    </table>

    Définit une liste délimitée par des virgules de tâches Rake que l&apos;agent ne doit pas instrument. Par exemple, `"assets:precompile,db:migrate"`.
  </Collapser>
</CollapserGroup>

## Cloud [#cloud]

<CollapserGroup>
  <Collapser id="cloud-aws-account_id" title="cloud.aws.account_id">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `nil`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_CLOUD_AWS_ACCOUNT_ID`
          </td>
        </tr>
      </tbody>
    </table>

    L&apos;ID de compte AWS pour le compte AWS associé à cette application
  </Collapser>
</CollapserGroup>

## niveau du code Métriques [#code-level-metrics]

<CollapserGroup>
  <Collapser id="code_level_metrics-enabled" title="code_level_metrics.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_CODE_LEVEL_METRICS_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent signalera les métriques au niveau de la source du code pour les méthodes de trace. Voir : [https://docs.newrelic.com/docs/apm/agents/ruby-agent/features/ruby-codestream-integration/](https://docs.newrelic.com/docs/apm/agents/ruby-agent/features/ruby-codestream-integration/)
  </Collapser>
</CollapserGroup>

## attribut personnalisé [#custom-attributes]

<CollapserGroup>
  <Collapser id="custom_attributes-enabled" title="custom_attributes.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_CUSTOM_ATTRIBUTES_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `false`, l&apos;attribut personnalisé ne sera pas envoyé sur événement.
  </Collapser>
</CollapserGroup>

## événement personnalisé [#custom-events]

<CollapserGroup>
  <Collapser id="custom_insights_events-enabled" title="custom_insights_events.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_CUSTOM_INSIGHTS_EVENTS_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent capture [l&apos;événement personnalisé](/docs/insights/new-relic-insights/adding-querying-data/inserting-custom-events-new-relic-apm-agents).
  </Collapser>

  <Collapser id="custom_insights_events-max_samples_stored" title="custom_insights_events.max_samples_stored">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Entier
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `3000`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_CUSTOM_INSIGHTS_EVENTS_MAX_SAMPLES_STORED`
          </td>
        </tr>
      </tbody>
    </table>

    * Spécifiez un nombre maximum d&apos;événements personnalisés à mettre en mémoire tampon à la fois.
    * Lors de la configuration de l&apos;agent pour [monitoring de l&apos;IA](/docs/ai-monitoring/intro-to-ai-monitoring), définissez la valeur maximale sur `100000`. Cela garantit que l&apos;agent capture la quantité maximale d&apos;événements LLM.
  </Collapser>
</CollapserGroup>

## Traceur de datastore [#datastore-tracer]

<CollapserGroup>
  <Collapser id="datastore_tracer-database_name_reporting-enabled" title="datastore_tracer.database_name_reporting.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_DATASTORE_TRACER_DATABASE_NAME_REPORTING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `false`, l&apos; agent n&apos;ajoutera pas le paramètre `database_name` à la transaction ou ne ralentira pas la trace SQL.
  </Collapser>

  <Collapser id="datastore_tracer-instance_reporting-enabled" title="datastore_tracer.instance_reporting.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_DATASTORE_TRACER_INSTANCE_REPORTING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `false`, l&apos;agent ne signalera pas les métriques de l&apos;instance datastore, n&apos;ajoutera pas `host` de `port_path_or_id` paramètres ou à la transaction ni ne ralentira la trace SQL.
  </Collapser>
</CollapserGroup>

## Désactiver [#disabling]

Utilisez ces paramètres pour basculer entre les types d’instrumentation lors du démarrage de l’agent.

<CollapserGroup>
  <Collapser id="disable_action_cable_instrumentation" title="disable_action_cable_instrumentation">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_DISABLE_ACTION_CABLE_INSTRUMENTATION`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, désactive l&apos;instrumentation du câble d&apos;action.
  </Collapser>

  <Collapser id="disable_action_controller" title="disable_action_controller">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_DISABLE_ACTION_CONTROLLER`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, désactive l&apos;instrumentation du contrôleur d&apos;action.
  </Collapser>

  <Collapser id="disable_action_mailbox" title="disable_action_mailbox">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_DISABLE_ACTION_MAILBOX`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, désactive l’instrumentation de la boîte aux lettres d’action.
  </Collapser>

  <Collapser id="disable_action_mailer" title="disable_action_mailer">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_DISABLE_ACTION_MAILER`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, désactive l&apos;instrumentation Action Mailer.
  </Collapser>

  <Collapser id="disable_activejob" title="disable_activejob">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_DISABLE_ACTIVEJOB`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, désactive l&apos;instrumentation du travail actif.
  </Collapser>

  <Collapser id="disable_active_storage" title="disable_active_storage">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_DISABLE_ACTIVE_STORAGE`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, désactive l’instrumentation Active Storage.
  </Collapser>

  <Collapser id="disable_active_support" title="disable_active_support">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_DISABLE_ACTIVE_SUPPORT`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, désactive l&apos;instrumentation de support actif.
  </Collapser>

  <Collapser id="disable_active_record_instrumentation" title="disable_active_record_instrumentation">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_DISABLE_ACTIVE_RECORD_INSTRUMENTATION`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, désactive l&apos;instrumentation Active Record.
  </Collapser>

  <Collapser id="disable_active_record_notifications" title="disable_active_record_notifications">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_DISABLE_ACTIVE_RECORD_NOTIFICATIONS`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, désactive l&apos;instrumentation pour Active Record 4+
  </Collapser>

  <Collapser id="disable_cpu_sampler" title="disable_cpu_sampler">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_DISABLE_CPU_SAMPLER`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l’agent n’échantillonnera pas l’utilisation du processeur du processus hôte.
  </Collapser>

  <Collapser id="disable_delayed_job_sampler" title="disable_delayed_job_sampler">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_DISABLE_DELAYED_JOB_SAMPLER`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent ne mesurera pas la profondeur des files d&apos;attente de tâches retardées.
  </Collapser>

  <Collapser id="disable_gc_profiler" title="disable_gc_profiler">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_DISABLE_GC_PROFILER`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, désactive l&apos;utilisation de `GC::Profiler` pour mesurer le temps passé dans le garbage collection
  </Collapser>

  <Collapser id="disable_memory_sampler" title="disable_memory_sampler">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_DISABLE_MEMORY_SAMPLER`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l’agent n’échantillonnera pas l’utilisation de la mémoire du processus hôte.
  </Collapser>

  <Collapser id="disable_middleware_instrumentation" title="disable_middleware_instrumentation">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_DISABLE_MIDDLEWARE_INSTRUMENTATION`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent n&apos;encapsulera pas les middlewares tiers dans l&apos;instrumentation (qu&apos;ils soient installés via `Rack::Builder` ou Rails).

    <Callout variant="important">
      Lorsque l&apos;instrumentation middleware est désactivée, si une application utilise un middleware susceptible de modifier le code de réponse, le code d&apos;état HTTP signalé sur la transaction peut ne pas refléter la valeur modifiée.
    </Callout>
  </Collapser>

  <Collapser id="disable_samplers" title="disable_samplers">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_DISABLE_SAMPLERS`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, désactive la collecte des métriques de l&apos;échantillonneur. Les métriques de Sampler sont des métriques qui ne sont pas basées sur des événements (comme le temps CPU ou l&apos;utilisation de la mémoire).
  </Collapser>

  <Collapser id="disable_sequel_instrumentation" title="disable_sequel_instrumentation">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_DISABLE_SEQUEL_INSTRUMENTATION`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, désactive [l&apos;instrumentation Sequel](/docs/agents/ruby-agent/frameworks/sequel-instrumentation).
  </Collapser>

  <Collapser id="disable_sidekiq" title="disable_sidekiq">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_DISABLE_SIDEKIQ`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, désactive [l&apos;instrumentation Sidekiq](/docs/agents/ruby-agent/background-jobs/sidekiq-instrumentation).
  </Collapser>

  <Collapser id="disable_roda_auto_middleware" title="disable_roda_auto_middleware">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_DISABLE_RODA_AUTO_MIDDLEWARE`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, désactive l&apos;agent middleware pour Roda. Ce middleware est responsable de la prise en charge des fonctionnalités avancées telles que [le temps de chargement des pages](/docs/browser/new-relic-browser/getting-started/new-relic-browser) et [la collecte des erreurs](/docs/apm/applications-menu/events/view-apm-error-analytics).
  </Collapser>

  <Collapser id="disable_sinatra_auto_middleware" title="disable_sinatra_auto_middleware">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_DISABLE_SINATRA_AUTO_MIDDLEWARE`
          </td>
        </tr>
      </tbody>
    </table>

    If `true`, disables agent middleware for Sinatra. This middleware is responsible for advanced feature support such as [distributed tracing](/docs/apm/distributed-tracing/getting-started/introduction-distributed-tracing), [page load timing](/docs/browser/new-relic-browser/getting-started/new-relic-browser), and [error collection](/docs/apm/applications-menu/events/view-apm-error-analytics).
  </Collapser>

  <Collapser id="disable_view_instrumentation" title="disable_view_instrumentation">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_DISABLE_VIEW_INSTRUMENTATION`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, désactive l&apos;instrumentation de vue.
  </Collapser>

  <Collapser id="disable_vm_sampler" title="disable_vm_sampler">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_DISABLE_VM_SAMPLER`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent n&apos;échantillonnera pas [les mesures de performances de la machine virtuelle Ruby](/docs/agents/ruby-agent/features/ruby-vm-measurements).
  </Collapser>
</CollapserGroup>

## Tracing distribué [#distributed-tracing]

<CollapserGroup>
  <Collapser id="distributed_tracing-enabled" title="distributed_tracing.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_DISTRIBUTED_TRACING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Le tracing distribué vous permet de voir le chemin qu&apos;emprunte une requête à travers vos systèmes distribués. L&apos;activation du tracing distribué modifie le comportement de certaines fonctionnalités de New Relic. Consultez donc attentivement le [guide de transition](/docs/transition-guide-distributed-tracing) avant d&apos;activer cette fonctionnalité.
  </Collapser>

  <Collapser id="distributed_tracing-sampler-root" title="distributed_tracing.sampler.root">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `"adaptive"`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_DISTRIBUTED_TRACING_SAMPLER_ROOT`
          </td>
        </tr>
      </tbody>
    </table>

    This setting controls the behavior of transaction sampling for transactions without a remote parent, traces that originate within this instance of the New Relic agent. Available values are `adaptive` (the default), `always_on`, `always_off`, and `trace_id_ratio_based`.
  </Collapser>

  <Collapser id="distributed_tracing-sampler-remote_parent_sampled" title="distributed_tracing.sampler.remote_parent_sampled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `"adaptive"`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_DISTRIBUTED_TRACING_SAMPLER_REMOTE_PARENT_SAMPLED`
          </td>
        </tr>
      </tbody>
    </table>

    This setting controls the behavior of transaction sampling when a remote parent is sampled. Available values are `adaptive` (the default), `always_on`, `always_off`, and `trace_id_ratio_based`.
  </Collapser>

  <Collapser id="distributed_tracing-sampler-remote_parent_not_sampled" title="distributed_tracing.sampler.remote_parent_not_sampled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `"adaptive"`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_DISTRIBUTED_TRACING_SAMPLER_REMOTE_PARENT_NOT_SAMPLED`
          </td>
        </tr>
      </tbody>
    </table>

    This setting controls the behavior of transaction sampling when a remote parent is not sampled. Available values are `adaptive` (the default), `always_on`, `always_off`, and `trace_id_ratio_based`.
  </Collapser>
</CollapserGroup>

## Elasticsearch [#elasticsearch]

<CollapserGroup>
  <Collapser id="elasticsearch-capture_cluster_name" title="elasticsearch.capture_cluster_name">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_ELASTICSEARCH_CAPTURE_CLUSTER_NAME`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent capture le nom du cluster d&apos;Elasticsearch dans la trace de transaction.
  </Collapser>

  <Collapser id="elasticsearch-capture_queries" title="elasticsearch.capture_queries">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_ELASTICSEARCH_CAPTURE_QUERIES`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent capture la requête Elasticsearch dans la trace de transaction.
  </Collapser>

  <Collapser id="elasticsearch-obfuscate_queries" title="elasticsearch.obfuscate_queries">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_ELASTICSEARCH_OBFUSCATE_QUERIES`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent obscurcit la requête Elasticsearch dans la trace de transaction.
  </Collapser>
</CollapserGroup>

## Heroku [#heroku]

<CollapserGroup>
  <Collapser id="heroku-use_dyno_names" title="heroku.use_dyno_names">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_HEROKU_USE_DYNO_NAMES`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos; agent utilise les noms dyno Heroku comme nom d&apos;hôte.
  </Collapser>

  <Collapser id="heroku-dyno_name_prefixes_to_shorten" title="heroku.dyno_name_prefixes_to_shorten">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `["scheduler", "run"]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_HEROKU_DYNO_NAME_PREFIXES_TO_SHORTEN`
          </td>
        </tr>
      </tbody>
    </table>

    En règle générale, l&apos;agent signale les noms des dynamomètres avec un point de fin et un ID de processus (par exemple, `worker.3`). Vous pouvez supprimer ces données de fin en spécifiant les préfixes que vous souhaitez signaler sans données de fin (par exemple, `worker`).
  </Collapser>
</CollapserGroup>

## Infinite Tracing [#infinite-tracing]

<CollapserGroup>
  <Collapser id="infinite_tracing-trace_observer-host" title="infinite_tracing.trace_observer.host">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `""`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INFINITE_TRACING_TRACE_OBSERVER_HOST`
          </td>
        </tr>
      </tbody>
    </table>

    Configure le nom d&apos;hôte pour l&apos;Hôte observateur de trace. Une fois configuré, il permet l&apos;échantillonnage en fin de flux de travail en envoyant toutes les étendues enregistrées à un observateur trace pour d&apos;autres décisions d&apos;échantillonnage, indépendamment de toute décision d&apos;échantillonnage habituelle de l&apos;agent.
  </Collapser>

  <Collapser id="infinite_tracing-trace_observer-port" title="infinite_tracing.trace_observer.port">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Entier
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `443`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INFINITE_TRACING_TRACE_OBSERVER_PORT`
          </td>
        </tr>
      </tbody>
    </table>

    Configure le port TCP/IP pour l&apos;Hôte observateur de trace
  </Collapser>

  <Collapser id="infinite_tracing-batching" title="infinite_tracing.batching">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INFINITE_TRACING_BATCHING`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true` (valeur par défaut), les données envoyées à l&apos;observateur de trace sont regroupées au lieu d&apos;être envoyées chaque plage individuellement.
  </Collapser>

  <Collapser id="infinite_tracing-compression_level" title="infinite_tracing.compression_level">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Symbole
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `:high`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INFINITE_TRACING_COMPRESSION_LEVEL`
          </td>
        </tr>
      </tbody>
    </table>

    Configurez le niveau de compression des données envoyées à l&apos;observateur de trace. Peut être l&apos;un des suivants : `:none`, `:low`, `:medium`, `:high`. Réglez le niveau sur `:none` pour désactiver la compression.
  </Collapser>
</CollapserGroup>

## Instrumentation [#instrumentation]

<CollapserGroup>
  <Collapser id="instrumentation-active_support_notifications-active_support_events" title="instrumentation.active_support_notifications.active_support_events">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `["cache_fetch_hit.active_support", "cache_generate.active_support", "cache_read.active_support", "cache_write.active_support", "cache_delete.active_support", "cache_exist?.active_support", "cache_read_multi.active_support", "cache_write_multi.active_support", "cache_delete_multi.active_support", "cache_delete_matched.active_support", "cache_cleanup.active_support", "cache_increment.active_support", "cache_decrement.active_support", "cache_prune.active_support", "message_serializer_fallback.active_support"]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_ACTIVE_SUPPORT_NOTIFICATIONS_ACTIVE_SUPPORT_EVENTS`
          </td>
        </tr>
      </tbody>
    </table>

    An allowlist array of Active Support notifications events specific to the Active Support library itself that the agent should subscribe to. The Active Support library specific events focus primarily on caching. Any event name not included in this list will be ignored by the agent. Provide complete event names such as &apos;cache\_fetch\_hit.active\_support&apos;. Do not provide asterisks or regex patterns, and do not escape any characters with backslashes. For a complete list of all possible Active Support event names, see the [list of caching names](https://edgeguides.rubyonrails.org/active_support_instrumentation.html#active-support-caching) and the [list of messages names](https://edgeguides.rubyonrails.org/active_support_instrumentation.html#active-support-messages) from the official Rails documentation.
  </Collapser>

  <Collapser id="instrumentation-active_support_broadcast_logger" title="instrumentation.active_support_broadcast_logger">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_ACTIVE_SUPPORT_BROADCAST_LOGGER`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de `ActiveSupport::BroadcastLogger` au démarrage. Peut être l’un des suivants : `auto`, `prepend`, `chain`, `disabled`. Utilisé dans les versions Rails &gt;= 7.1.
  </Collapser>

  <Collapser id="instrumentation-active_support_logger" title="instrumentation.active_support_logger">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_ACTIVE_SUPPORT_LOGGER`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de `ActiveSupport::Logger` au démarrage. Peut être l’un des suivants : `auto`, `prepend`, `chain`, `disabled`. Utilisé dans les versions Rails inférieures à 7.1.
  </Collapser>

  <Collapser id="instrumentation-async_http" title="instrumentation.async_http">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_ASYNC_HTTP`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de Async::HTTP au démarrage. Peut être l&apos;un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-bunny" title="instrumentation.bunny">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_BUNNY`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation du lapin au démarrage. Peut être l&apos;un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-aws_sdk_firehose" title="instrumentation.aws_sdk_firehose">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_AWS_SDK_FIREHOSE`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de la bibliothèque aws-sdk-firehose au démarrage. Peut être l’un des `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-aws_sdk_lambda" title="instrumentation.aws_sdk_lambda">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_AWS_SDK_LAMBDA`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de la bibliothèque aws\_sdk\_lambda au démarrage. Peut être l’un des `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-aws_sdk_kinesis" title="instrumentation.aws_sdk_kinesis">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_AWS_SDK_KINESIS`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de la bibliothèque aws-sdk-kinesis au démarrage. Peut être l’un des `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-ruby_kafka" title="instrumentation.ruby_kafka">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `"auto"`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_RUBY_KAFKA`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de la bibliothèque ruby-kafka au démarrage. Peut être l’un des `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-opensearch" title="instrumentation.opensearch">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_OPENSEARCH`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de la bibliothèque opensearch-ruby au démarrage. Peut être l’un des `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-rdkafka" title="instrumentation.rdkafka">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `"auto"`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_RDKAFKA`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de la bibliothèque rdkafka au démarrage. Peut être l’un des `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-aws_sqs" title="instrumentation.aws_sqs">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `"auto"`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_AWS_SQS`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de la bibliothèque aws-sdk-sqs au démarrage. Peut être l&apos;un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-dynamodb" title="instrumentation.dynamodb">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_DYNAMODB`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de la bibliothèque aws-sdk-dynamodb au démarrage. Peut être l’un des `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-fiber" title="instrumentation.fiber">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_FIBER`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de la classe Fibre au démarrage. Peut être l&apos;un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-concurrent_ruby" title="instrumentation.concurrent_ruby">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_CONCURRENT_RUBY`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de la bibliothèque concurrent-ruby au démarrage. Peut être l&apos;un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-curb" title="instrumentation.curb">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_CURB`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation du Curb au démarrage. Peut être l&apos;un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-delayed_job" title="instrumentation.delayed_job">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_DELAYED_JOB`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation du travail différé au démarrage. Peut être l&apos;un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-elasticsearch" title="instrumentation.elasticsearch">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_ELASTICSEARCH`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de la bibliothèque elasticsearch au démarrage. Peut être l&apos;un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-ethon" title="instrumentation.ethon">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_ETHON`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de l&apos;éthon au démarrage. Peut être l&apos;un des `auto`, `prepend`, `chain`, `disabled`
  </Collapser>

  <Collapser id="instrumentation-excon" title="instrumentation.excon">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `enabled`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_EXCON`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation d&apos;Excon au démarrage. Peut être l’un des suivants : `enabled`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-grape" title="instrumentation.grape">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_GRAPE`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle auto-instrumentation du Grape au démarrage. Peut être l&apos;un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-grpc_client" title="instrumentation.grpc_client">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_GRPC_CLIENT`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation des clients gRPC au démarrage. Peut être l&apos;un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-grpc-host_denylist" title="instrumentation.grpc.host_denylist">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_GRPC_HOST_DENYLIST`
          </td>
        </tr>
      </tbody>
    </table>

    Spécifie une liste de modèles de nom d&apos;hôte séparés par des virgules qui correspondront au nom d&apos;hôte gRPC pour lequel le trafic doit être ignoré par New Relic. du client de New Relic gRPC instrumentation ignorera le trafic diffusé vers un hôte correspondant à l&apos;un de ces modèles, et du gRPC serveur de New Relic instrumentation ignorera le trafic d&apos;un serveur exécuté sur un hôte dont le nom d&apos;hôte correspond à l&apos;un de ces modèles. Par défaut, aucun trafic n&apos;est ignoré lorsque l&apos;instrumentation gRPC est elle-même activée. Par exemple, `"private.com$,exception.*"`
  </Collapser>

  <Collapser id="instrumentation-grpc_server" title="instrumentation.grpc_server">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_GRPC_SERVER`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation des serveurs gRPC au démarrage. Peut être l&apos;un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-httpclient" title="instrumentation.httpclient">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_HTTPCLIENT`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de HTTPClient au démarrage. Peut être l&apos;un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-httprb" title="instrumentation.httprb">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_HTTPRB`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation du gem http.rb au démarrage. Peut être l&apos;un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-httpx" title="instrumentation.httpx">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_HTTPX`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de httpx au démarrage. Peut être l&apos;un des `auto`, `prepend`, `chain`, `disabled`
  </Collapser>

  <Collapser id="instrumentation-logger" title="instrumentation.logger">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_LOGGER`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle auto-instrumentation de la bibliothèque standard Ruby activer au démarrage. Peut être l&apos;un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-logstasher" title="instrumentation.logstasher">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_LOGSTASHER`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de la bibliothèque LogStasher au démarrage. Peut être l&apos;un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-memcache" title="instrumentation.memcache">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_MEMCACHE`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de la gem dalli pour Memcache au démarrage. Peut être l&apos;un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-memcached" title="instrumentation.memcached">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_MEMCACHED`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de la gem memcached pour Memcache au démarrage. Peut être l&apos;un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-memcache_client" title="instrumentation.memcache_client">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_MEMCACHE_CLIENT`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de la gem memcache-client pour Memcache au démarrage. Peut être l&apos;un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-mongo" title="instrumentation.mongo">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `enabled`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_MONGO`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de Mongo au démarrage. Peut être l’un des suivants : `enabled`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-net_http" title="instrumentation.net_http">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_NET_HTTP`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de `Net::HTTP` au démarrage. Peut être l’un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-ruby_openai" title="instrumentation.ruby_openai">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_RUBY_OPENAI`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de la gem ruby-openai au démarrage. Peut être l&apos;un des suivants : `auto`, `prepend`, `chain`, `disabled`. La valeur par défaut est `disabled` en mode haute sécurité.
  </Collapser>

  <Collapser id="instrumentation-puma_rack" title="instrumentation.puma_rack">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_PUMA_RACK`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de `Puma::Rack`. Lorsqu&apos;elle est activée, l&apos;agent se connecte à la méthode `to_app` dans `Puma::Rack::Builder` pour trouver les gems à instrumenter lors du démarrage de l&apos;application. Peut être l&apos;un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-puma_rack_urlmap" title="instrumentation.puma_rack_urlmap">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_PUMA_RACK_URLMAP`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de `Puma::Rack::URLMap` au démarrage. Peut être l’un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-rack" title="instrumentation.rack">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_RACK`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation du Rack. Lorsqu&apos;elle est activée, l&apos;agent se connecte à la méthode `to_app` dans `Rack::Builder` pour trouver les gems à instrumenter lors du démarrage de l&apos;application. Peut être l’un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-rack_urlmap" title="instrumentation.rack_urlmap">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_RACK_URLMAP`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de `Rack::URLMap` au démarrage. Peut être l’un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-rake" title="instrumentation.rake">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_RAKE`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation du râteau au démarrage. Peut être l&apos;un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-redis" title="instrumentation.redis">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_REDIS`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de Redis au démarrage. Peut être l&apos;un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-resque" title="instrumentation.resque">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_RESQUE`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation du resque au démarrage. Peut être l&apos;un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-roda" title="instrumentation.roda">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_RODA`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de Roda au démarrage. Peut être l&apos;un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-sinatra" title="instrumentation.sinatra">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_SINATRA`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de Sinatra au démarrage. Peut être l&apos;un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-stripe" title="instrumentation.stripe">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `"enabled"`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_STRIPE`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de Stripe au démarrage. Peut être l’un des suivants : `enabled`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-view_component" title="instrumentation.view_component">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_VIEW_COMPONENT`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de ViewComponent au démarrage. Peut être l&apos;un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-thread" title="instrumentation.thread">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_THREAD`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de la classe Thread au démarrage pour permettre à l&apos;agent d&apos;imbriquer correctement les étendues à l&apos;intérieur d&apos;une transaction asynchrone. Cela ne permet pas à l&apos;agent de trace automatiquement tous les threads créés (voir `instrumentation.thread.tracing`). Peut être l’un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-thread-tracing" title="instrumentation.thread.tracing">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_THREAD_TRACING`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de la classe Thread au démarrage pour ajouter automatiquement le tracing à tous les threads créés dans l&apos;application.
  </Collapser>

  <Collapser id="instrumentation-tilt" title="instrumentation.tilt">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_TILT`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de la bibliothèque de rendu de modèles Tilt au démarrage. Peut être l&apos;un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>

  <Collapser id="instrumentation-typhoeus" title="instrumentation.typhoeus">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `auto`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_INSTRUMENTATION_TYPHOEUS`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle l&apos;auto-instrumentation de Typhoeus au démarrage. Peut être l&apos;un des suivants : `auto`, `prepend`, `chain`, `disabled`.
  </Collapser>
</CollapserGroup>

## Traceur de messages [#message-tracer]

<CollapserGroup>
  <Collapser id="message_tracer-segment_parameters-enabled" title="message_tracer.segment_parameters.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_MESSAGE_TRACER_SEGMENT_PARAMETERS_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent collectera des métadonnées sur les messages et les joindra en tant que paramètres de segment.
  </Collapser>
</CollapserGroup>

## Mongo [#mongo]

<CollapserGroup>
  <Collapser id="mongo-capture_queries" title="mongo.capture_queries">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_MONGO_CAPTURE_QUERIES`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent capture la requête Mongo dans la trace de transaction.
  </Collapser>

  <Collapser id="mongo-obfuscate_queries" title="mongo.obfuscate_queries">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_MONGO_OBFUSCATE_QUERIES`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent obscurcit la requête Mongo dans la trace de la transaction.
  </Collapser>
</CollapserGroup>

## Recherche ouverte [#opensearch]

<CollapserGroup>
  <Collapser id="opensearch-capture_queries" title="opensearch.capture_queries">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_OPENSEARCH_CAPTURE_QUERIES`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent capture la requête OpenSearch dans la trace de transaction.
  </Collapser>

  <Collapser id="opensearch-obfuscate_queries" title="opensearch.obfuscate_queries">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_OPENSEARCH_OBFUSCATE_QUERIES`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent obscurcit la requête OpenSearch dans la trace de transaction.
  </Collapser>
</CollapserGroup>

## Hôte de processus [#process-host]

<CollapserGroup>
  <Collapser id="process_host-display_name" title="process_host.display_name">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `(Dynamic)`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_PROCESS_HOST_DISPLAY_NAME`
          </td>
        </tr>
      </tbody>
    </table>

    Spécifiez un nom d&apos;hôte personnalisé à [afficher dans l&apos;UI de New Relic](/docs/apm/new-relic-apm/maintenance/add-rename-remove-hosts#display_name).
  </Collapser>
</CollapserGroup>

## Râteau [#rake]

<CollapserGroup>
  <Collapser id="rake-tasks" title="rake.tasks">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_RAKE_TASKS`
          </td>
        </tr>
      </tbody>
    </table>

    Spécifiez un éventail de tâches Rake à instrumenter automatiquement. Cette option configuration convertit l&apos;éventail en une liste RegEx. Si vous souhaitez autoriser toutes les tâches par défaut, utilisez `rake.tasks: [.+]`. Aucune tâche de râteau ne sera instrumentée à moins qu&apos;elle ne soit ajoutée à cette liste. Pour plus d&apos;informations, consultez la [documentation sur l&apos;instrumentation New Relic Rake](/docs/apm/agents/ruby-agent/background-jobs/rake-instrumentation).
  </Collapser>

  <Collapser id="rake-connect_timeout" title="rake.connect_timeout">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Entier
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `10`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_RAKE_CONNECT_TIMEOUT`
          </td>
        </tr>
      </tbody>
    </table>

    Délai d&apos;attente avant la fin de la connexion avant une tâche de rake
  </Collapser>
</CollapserGroup>

## Règles [#rules]

<CollapserGroup>
  <Collapser id="rules-ignore_url_regexes" title="rules.ignore_url_regexes">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_RULES_IGNORE_URL_REGEXES`
          </td>
        </tr>
      </tbody>
    </table>

    Définissez les transactions que vous souhaitez que l&apos;agent ignore, en spécifiant une liste de modèles correspondant à l&apos;URI que vous souhaitez ignorer. Pour plus de détails, consultez [la documentation sur l&apos;ignorance de transactions spécifiques](/docs/agents/ruby-agent/api-guides/ignoring-specific-transactions/#config-ignoring).
  </Collapser>
</CollapserGroup>

## Sécurité [#security]

<CollapserGroup>
  <Collapser id="security-agent-enabled" title="security.agent.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_AGENT_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent de sécurité est chargé (un « require » Ruby est exécuté)
  </Collapser>

  <Collapser id="security-enabled" title="security.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent de sécurité est démarré (l&apos;agent s&apos;exécute dans sa boucle d&apos;événements)
  </Collapser>

  <Collapser id="security-mode" title="security.mode">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `"IAST"`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_MODE`
          </td>
        </tr>
      </tbody>
    </table>

    Définit le mode de fonctionnement de l&apos;agent de sécurité. Actuellement, seul `IAST` est pris en charge
  </Collapser>

  <Collapser id="security-validator_service_url" title="security.validator_service_url">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `"wss://csec.nr-data.net"`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_VALIDATOR_SERVICE_URL`
          </td>
        </tr>
      </tbody>
    </table>

    Définit l&apos;URL du point de terminaison pour la publication des données liées à la sécurité
  </Collapser>

  <Collapser id="security-application_info-port" title="security.application_info.port">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Entier
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `nil`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_APPLICATION_INFO_PORT`
          </td>
        </tr>
      </tbody>
    </table>

    Le port sur lequel l&apos;application écoute. Ce paramètre est obligatoire pour les serveurs passagers. L&apos;agent détecte d&apos;autres serveurs par défaut.
  </Collapser>

  <Collapser id="security-exclude_from_iast_scan-api" title="security.exclude_from_iast_scan.api">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_EXCLUDE_FROM_IAST_SCAN_API`
          </td>
        </tr>
      </tbody>
    </table>

    Définit les chemins d&apos;API que l&apos;agent de sécurité doit ignorer dans les analyses IAST. Accepte un éventail de modèles d&apos;expressions régulières correspondant à l&apos;URI à ignorer. Le modèle regex doit trouver une correspondance complète pour l&apos;URL sans le point de terminaison. Par exemple, `[".*account.*"], [".*/\api\/v1\/.*?\/login"]`
  </Collapser>

  <Collapser id="security-exclude_from_iast_scan-http_request_parameters-header" title="security.exclude_from_iast_scan.http_request_parameters.header">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_EXCLUDE_FROM_IAST_SCAN_HTTP_REQUEST_PARAMETERS_HEADER`
          </td>
        </tr>
      </tbody>
    </table>

    Un éventail d&apos;en-têtes de requête HTTP que l&apos;agent de sécurité doit ignorer dans les analyses IAST . L&apos;éventail doit spécifier une liste de modèles correspondant aux en-têtes à ignorer.
  </Collapser>

  <Collapser id="security-exclude_from_iast_scan-http_request_parameters-query" title="security.exclude_from_iast_scan.http_request_parameters.query">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_EXCLUDE_FROM_IAST_SCAN_HTTP_REQUEST_PARAMETERS_QUERY`
          </td>
        </tr>
      </tbody>
    </table>

    Un éventail de paramètres de requête HTTP que l&apos;agent de sécurité doit ignorer dans les analyses IAST . L&apos;éventail doit spécifier une liste de modèles correspondant aux paramètres de requête HTTP à ignorer.
  </Collapser>

  <Collapser id="security-exclude_from_iast_scan-http_request_parameters-body" title="security.exclude_from_iast_scan.http_request_parameters.body">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_EXCLUDE_FROM_IAST_SCAN_HTTP_REQUEST_PARAMETERS_BODY`
          </td>
        </tr>
      </tbody>
    </table>

    Un éventail de clés de corps de requête HTTP que l&apos;agent de sécurité doit ignorer dans les analyses IAST .
  </Collapser>

  <Collapser id="security-exclude_from_iast_scan-iast_detection_category-insecure_settings" title="security.exclude_from_iast_scan.iast_detection_category.insecure_settings">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_EXCLUDE_FROM_IAST_SCAN_IAST_DETECTION_CATEGORY_INSECURE_SETTINGS`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, désactive la détection des paramètres non sécurisés de faible gravité. Par exemple, hacher, crypto, cookie, générateurs aléatoires, limite de confiance).
  </Collapser>

  <Collapser id="security-exclude_from_iast_scan-iast_detection_category-invalid_file_access" title="security.exclude_from_iast_scan.iast_detection_category.invalid_file_access">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_EXCLUDE_FROM_IAST_SCAN_IAST_DETECTION_CATEGORY_INVALID_FILE_ACCESS`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, désactive les détections IAST liées aux opérations de fichiers (violation de l&apos;accès aux fichiers et de l&apos;intégrité des applications)
  </Collapser>

  <Collapser id="security-exclude_from_iast_scan-iast_detection_category-sql_injection" title="security.exclude_from_iast_scan.iast_detection_category.sql_injection">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_EXCLUDE_FROM_IAST_SCAN_IAST_DETECTION_CATEGORY_SQL_INJECTION`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, désactive la détection d’injection SQL dans les analyses IAST.
  </Collapser>

  <Collapser id="security-exclude_from_iast_scan-iast_detection_category-nosql_injection" title="security.exclude_from_iast_scan.iast_detection_category.nosql_injection">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_EXCLUDE_FROM_IAST_SCAN_IAST_DETECTION_CATEGORY_NOSQL_INJECTION`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, désactive la détection d&apos;injection NOSQL dans les analyses IAST.
  </Collapser>

  <Collapser id="security-exclude_from_iast_scan-iast_detection_category-ldap_injection" title="security.exclude_from_iast_scan.iast_detection_category.ldap_injection">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_EXCLUDE_FROM_IAST_SCAN_IAST_DETECTION_CATEGORY_LDAP_INJECTION`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, désactive la détection d’injection LDAP dans les analyses IAST.
  </Collapser>

  <Collapser id="security-exclude_from_iast_scan-iast_detection_category-javascript_injection" title="security.exclude_from_iast_scan.iast_detection_category.javascript_injection">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_EXCLUDE_FROM_IAST_SCAN_IAST_DETECTION_CATEGORY_JAVASCRIPT_INJECTION`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, désactive la détection d&apos;injection Javascript dans les analyses IAST.
  </Collapser>

  <Collapser id="security-exclude_from_iast_scan-iast_detection_category-command_injection" title="security.exclude_from_iast_scan.iast_detection_category.command_injection">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_EXCLUDE_FROM_IAST_SCAN_IAST_DETECTION_CATEGORY_COMMAND_INJECTION`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, désactive la détection d&apos;injection de commande système dans les analyses IAST.
  </Collapser>

  <Collapser id="security-exclude_from_iast_scan-iast_detection_category-xpath_injection" title="security.exclude_from_iast_scan.iast_detection_category.xpath_injection">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_EXCLUDE_FROM_IAST_SCAN_IAST_DETECTION_CATEGORY_XPATH_INJECTION`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, désactive la détection d&apos;injection XPATH dans les analyses IAST.
  </Collapser>

  <Collapser id="security-exclude_from_iast_scan-iast_detection_category-ssrf" title="security.exclude_from_iast_scan.iast_detection_category.ssrf">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_EXCLUDE_FROM_IAST_SCAN_IAST_DETECTION_CATEGORY_SSRF`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, désactive la détection de falsification de requête côté serveur (SSRF) dans les analyses IAST.
  </Collapser>

  <Collapser id="security-exclude_from_iast_scan-iast_detection_category-rxss" title="security.exclude_from_iast_scan.iast_detection_category.rxss">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_EXCLUDE_FROM_IAST_SCAN_IAST_DETECTION_CATEGORY_RXSS`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, désactive la détection de script intersite réfléchi (RXSS) dans les analyses IAST .
  </Collapser>

  <Collapser id="security-scan_schedule-delay" title="security.scan_schedule.delay">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Entier
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `0`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_SCAN_SCHEDULE_DELAY`
          </td>
        </tr>
      </tbody>
    </table>

    Spécifie le délai (en minutes) avant le début de l&apos;analyse IAST après le démarrage de l&apos;application.
  </Collapser>

  <Collapser id="security-scan_schedule-duration" title="security.scan_schedule.duration">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Entier
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `0`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_SCAN_SCHEDULE_DURATION`
          </td>
        </tr>
      </tbody>
    </table>

    Indique la durée (en minutes) pendant laquelle l&apos;analyse IAST sera effectuée.
  </Collapser>

  <Collapser id="security-scan_schedule-schedule" title="security.scan_schedule.schedule">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `""`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_SCAN_SCHEDULE_SCHEDULE`
          </td>
        </tr>
      </tbody>
    </table>

    Spécifie une expression cron qui définit quand l&apos;analyse IAST doit être exécutée.
  </Collapser>

  <Collapser id="security-scan_schedule-always_sample_traces" title="security.scan_schedule.always_sample_traces">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_SCAN_SCHEDULE_ALWAYS_SAMPLE_TRACES`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, permet à IAST de collecter en continu des données de trace en arrière-plan. L&apos;agent de sécurité utilise les données collectées pour effectuer une analyse IAST à l&apos;heure programmée.
  </Collapser>

  <Collapser id="security-scan_controllers-iast_scan_request_rate_limit" title="security.scan_controllers.iast_scan_request_rate_limit">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Entier
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `3600`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_SCAN_CONTROLLERS_IAST_SCAN_REQUEST_RATE_LIMIT`
          </td>
        </tr>
      </tbody>
    </table>

    Définit le nombre maximal de requests HTTP autorisées pour l&apos;analyse IAST par minute. Tout entier compris entre 12 et 3600 est valide. La valeur par défaut est 3600.
  </Collapser>

  <Collapser id="security-scan_controllers-scan_instance_count" title="security.scan_controllers.scan_instance_count">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Entier
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `0`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_SCAN_CONTROLLERS_SCAN_INSTANCE_COUNT`
          </td>
        </tr>
      </tbody>
    </table>

    Le nombre d&apos;instances d&apos;application pour une entité spécifique sur laquelle effectuer une analyse IAST .
  </Collapser>

  <Collapser id="security-scan_controllers-report_http_response_body" title="security.scan_controllers.report_http_response_body">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_SCAN_CONTROLLERS_REPORT_HTTP_RESPONSE_BODY`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, active l&apos;envoi des corps de réponses HTTP. La désactivation de cette option désactive également la détection des vulnérabilités du script Reflected Cross-Site (RXSS).
  </Collapser>

  <Collapser id="security-iast_test_identifier" title="security.iast_test_identifier">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `nil`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_IAST_TEST_IDENTIFIER`
          </td>
        </tr>
      </tbody>
    </table>

    Un identifiant de test unique lors de l&apos;exécution IAST dans un environnement CI/CD (intégration et livraison continue) pour différencier les différentes exécutions de tests. Par exemple, un numéro de build.
  </Collapser>
</CollapserGroup>

## Mode Serverless [#serverless-mode]

<CollapserGroup>
  <Collapser id="serverless_mode-enabled" title="serverless_mode.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SERVERLESS_MODE_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent fonctionnera dans un mode simplifié adapté à une utilisation avec un serveur sans serveur à fonction de courte durée. REMARQUE : seules les fonctions AWS Lambda sont actuellement prises en charge et cette option n&apos;est pas destinée à être utilisée sans l&apos;offre [de couche Ruby Lambda de New Relic](https://docs.newrelic.com/docs/serverless-function-monitoring/aws-lambda-monitoring/get-started/monitoring-aws-lambda-serverless-monitoring/) .
  </Collapser>
</CollapserGroup>

## Sidekiq [#sidekiq]

<CollapserGroup>
  <Collapser id="sidekiq-args-include" title="sidekiq.args.include">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SIDEKIQ_ARGS_INCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Un ensemble de chaînes qui serviront collectivement de liste blanche pour filtrer les arguments de tâche Sidekiq signalés à New Relic. Pour capturer tous les arguments Sidekiq, &apos;job.sidekiq.args.\*&apos; doit être ajouté à l&apos;option de configuration `:'attributes.include'` distincte. Chaque chaîne de cet éventail sera transformée en expressions régulières via `Regexp.new` pour permettre une correspondance avancée. Pour l&apos;argument de travail hacher, si une clé ou une valeur correspond, la paire sera incluse. Tous les éléments d&apos;éventail d&apos;arguments de travail correspondants et les scalaires d&apos;arguments de travail seront inclus.
  </Collapser>

  <Collapser id="sidekiq-args-exclude" title="sidekiq.args.exclude">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SIDEKIQ_ARGS_EXCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Un ensemble de chaînes qui serviront collectivement de liste de refus pour filtrer les arguments de tâche Sidekiq signalés à New Relic. Pour capturer tous les arguments Sidekiq, &apos;job.sidekiq.args.\*&apos; doit être ajouté à l&apos;option de configuration `:'attributes.include'` distincte. Chaque chaîne de cet éventail sera transformée en expressions régulières via `Regexp.new` pour permettre une correspondance avancée. Pour l&apos;argument de travail hacher, si une clé ou une valeur correspond, la paire sera exclue. Tous les éléments d&apos;éventail d&apos;arguments de travail correspondants et les scalaires d&apos;arguments de travail seront exclus.
  </Collapser>

  <Collapser id="sidekiq-ignore_retry_errors" title="sidekiq.ignore_retry_errors">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SIDEKIQ_IGNORE_RETRY_ERRORS`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent ignorera les exceptions levées lors des tentatives de nouvelle tentative de Sidekiq et ne signalera l&apos;erreur que si la tâche échoue définitivement.
  </Collapser>
</CollapserGroup>

## SQL lent [#slow-sql]

<CollapserGroup>
  <Collapser id="slow_sql-enabled" title="slow_sql.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SLOW_SQL_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent collecte [les requêtes SQL lentes](/docs/apm/applications-menu/monitoring/viewing-slow-query-details).
  </Collapser>

  <Collapser id="slow_sql-explain_threshold" title="slow_sql.explain_threshold">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Virgule flottante
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `0.5`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SLOW_SQL_EXPLAIN_THRESHOLD`
          </td>
        </tr>
      </tbody>
    </table>

    Spécifiez un seuil en secondes. L&apos;agent collecte [les requêtes SQL lentes](/docs/apm/applications-menu/monitoring/viewing-slow-query-details) et explique les plans qui dépassent ce seuil.
  </Collapser>

  <Collapser id="slow_sql-explain_enabled" title="slow_sql.explain_enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SLOW_SQL_EXPLAIN_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent collecte des plans explicatifs dans une requête SQL lente. Si ce paramètre est omis, le paramètre [`transaction_tracer.explain_enabled`](#transaction_tracer-explain_enabled) sera également appliqué comme paramètre par défaut pour expliquer les plans dans SQL lent.
  </Collapser>

  <Collapser id="slow_sql-record_sql" title="slow_sql.record_sql">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `obfuscated`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SLOW_SQL_RECORD_SQL`
          </td>
        </tr>
      </tbody>
    </table>

    Définit un niveau obfuscation pour les requêtes SQL lentes. Les options valides sont `obfuscated`, `raw` ou `none`.
  </Collapser>

  <Collapser id="slow_sql-use_longer_sql_id" title="slow_sql.use_longer_sql_id">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SLOW_SQL_USE_LONGER_SQL_ID`
          </td>
        </tr>
      </tbody>
    </table>

    Générer un `sql_id` plus long pour une trace SQL lente. `sql_id` est utilisé pour l&apos;agrégation de requêtes similaires.
  </Collapser>
</CollapserGroup>

## Événement de span [#span-events]

<CollapserGroup>
  <Collapser id="span_events-enabled" title="span_events.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SPAN_EVENTS_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, active l&apos;échantillonnage d&apos;événements sur plusieurs périodes.
  </Collapser>

  <Collapser id="span_events-queue_size" title="span_events.queue_size">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Entier
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `10000`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SPAN_EVENTS_QUEUE_SIZE`
          </td>
        </tr>
      </tbody>
    </table>

    Définit le nombre maximal d&apos;événements span à mettre en mémoire tampon lors de la diffusion vers l&apos;observateur de trace .
  </Collapser>

  <Collapser id="span_events-max_samples_stored" title="span_events.max_samples_stored">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Entier
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `2000`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SPAN_EVENTS_MAX_SAMPLES_STORED`
          </td>
        </tr>
      </tbody>
    </table>

    * Définit le nombre maximal d&apos;événements de portée signalés à partir d&apos;une seule récolte. Tout entier compris entre `1` et `10000` est valide.
    * Lors de la configuration de l&apos;agent pour [monitoring de l&apos;IA](/docs/ai-monitoring/intro-to-ai-monitoring), définissez la valeur maximale sur `10000`. Cela garantit que l&apos;agent capture la quantité maximale de traces distribuées.
  </Collapser>
</CollapserGroup>

## Supprimer les messages d&apos;exception [#strip-exception-messages]

<CollapserGroup>
  <Collapser id="strip_exception_messages-enabled" title="strip_exception_messages.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_STRIP_EXCEPTION_MESSAGES_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si cette valeur est vraie, l&apos;agent supprime les messages de toutes les exceptions, à l&apos;exception de celles figurant dans la [liste des classes autorisées](#strip_exception_messages-allowed_classes). Activé automatiquement en [mode haute sécurité](/docs/accounts-partnerships/accounts/security/high-security).
  </Collapser>

  <Collapser id="strip_exception_messages-allowed_classes" title="strip_exception_messages.allowed_classes">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_STRIP_EXCEPTION_MESSAGES_ALLOWED_CLASSES`
          </td>
        </tr>
      </tbody>
    </table>

    Spécifiez une liste d&apos;exceptions que vous ne souhaitez pas que l&apos;agent supprime lorsque [strip\_exception\_messages](#strip_exception_messages-enabled) est `true`. Séparez les exceptions par une virgule. Par exemple, `"ImportantException,PreserveMessageException"`.
  </Collapser>
</CollapserGroup>

## Stripe [#stripe]

<CollapserGroup>
  <Collapser id="stripe-user_data-include" title="stripe.user_data.include">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_STRIPE_USER_DATA_INCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Un ensemble de chaînes permettant de spécifier quelles clés à l&apos;intérieur du hachoir `user_data` d&apos;un événement Stripe doivent être signalées à New Relic. Chaque chaîne de cet éventail sera transformée en expressions régulières via `Regexp.new` pour permettre une correspondance avancée. La définition de la valeur sur `["."]` signalera tous `user_data`.
  </Collapser>

  <Collapser id="stripe-user_data-exclude" title="stripe.user_data.exclude">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_STRIPE_USER_DATA_EXCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    Un ensemble de chaînes permettant de spécifier quelles clés et/ou valeurs à l&apos;intérieur du hachage `user_data` d&apos;un événement Stripe ne doivent pas être signalées à New Relic. Chaque chaîne de cet éventail sera transformée en expressions régulières via `Regexp.new` pour permettre une correspondance avancée. Pour chaque paire Hacher, si la clé ou la valeur correspond, la paire n&apos;est pas signalée. Par défaut, aucun `user_data` n&apos;est signalé. Utilisez cette option uniquement si l’option `stripe.user_data.include` est également utilisée.
  </Collapser>
</CollapserGroup>

## Profileur de filetage [#thread-profiler]

<CollapserGroup>
  <Collapser id="thread_profiler-enabled" title="thread_profiler.enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_THREAD_PROFILER_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, active l&apos;utilisation du [profileur de thread](/docs/apm/applications-menu/events/thread-profiler-tool).
  </Collapser>
</CollapserGroup>

## Utilisation [#utilization]

<CollapserGroup>
  <Collapser id="utilization-detect_aws" title="utilization.detect_aws">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_UTILIZATION_DETECT_AWS`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l’agent détecte automatiquement qu’il s’exécute dans un environnement AWS.
  </Collapser>

  <Collapser id="utilization-detect_azure" title="utilization.detect_azure">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_UTILIZATION_DETECT_AZURE`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l’agent détecte automatiquement qu’il s’exécute dans un environnement Azure.
  </Collapser>

  <Collapser id="utilization-detect_docker" title="utilization.detect_docker">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_UTILIZATION_DETECT_DOCKER`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l’agent détecte automatiquement qu’il s’exécute dans Docker.
  </Collapser>

  <Collapser id="utilization-detect_gcp" title="utilization.detect_gcp">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_UTILIZATION_DETECT_GCP`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent détecte automatiquement qu&apos;il s&apos;exécute dans un environnement Google Cloud Platform.
  </Collapser>

  <Collapser id="utilization-detect_kubernetes" title="utilization.detect_kubernetes">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_UTILIZATION_DETECT_KUBERNETES`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l’agent détecte automatiquement qu’il s’exécute dans Kubernetes.
  </Collapser>

  <Collapser id="utilization-detect_pcf" title="utilization.detect_pcf">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_UTILIZATION_DETECT_PCF`
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent détecte automatiquement qu&apos;il s&apos;exécute dans un environnement Pivotal Cloud Foundry.
  </Collapser>
</CollapserGroup>