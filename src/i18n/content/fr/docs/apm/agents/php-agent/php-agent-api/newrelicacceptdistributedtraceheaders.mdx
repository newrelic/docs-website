---
title: newrelic_accept_distributed_trace_headers
type: apiDoc
shortDescription: Accepte un éventail d'en-têtes traces distribuées.
tags:
  - Agents
  - PHP agent
  - PHP agent API
metaDescription: Distributed tracing allows you to see the path a request takes as it travels through a distributed system. Use this API to accept a distributed trace payload.
freshnessValidatedDate: never
translationType: machine
---

## Syntaxe

```php
newrelic_accept_distributed_trace_headers (array $headers, string $transport_type)
```

Accepte un éventail d&apos;en-têtes traces distribuées.

## Exigences

Nécessite l&apos;agent PHP [version 9.8 ou supérieure](/docs/release-notes/agent-release-notes/php-release-notes).

## Description

[Le tracing distribué](/docs/agents/php-agent/features/distributed-tracing-php) vous permet de voir le chemin emprunté par une requête lorsqu&apos;elle parcourt un système distribué. Lorsque le tracing distribué est activé, utilisez `newrelic_accept_distributed_trace_headers` pour accepter une charge d&apos;en-têtes. Il s&apos;agit notamment des en-têtes distribués W3C Trace Context et New Relic trace .

Il est possible d&apos;accepter uniquement les en-têtes W3C Trace Context et de désactiver l&apos;en-tête de tracing distribué New Relic via le paramètre INI `newrelic.distributed_tracing_exclude_newrelic_header`.

## Paramètres

<table>
  <thead>
    <tr>
      <th width="25%">
        paramètres
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `$headers`

        *éventail*
      </td>

      <td>
        Obligatoire : un éventail contenant les en-têtes de tracing distribué.
      </td>
    </tr>

    <tr>
      <td>
        `$transport_type`

        *chaîne*
      </td>

      <td>
        Facultatif. Une chaîne remplaçant le type de transport par défaut.

        Valeurs par défaut :

        * `HTTP` pour le trafic Web

        * `Unknown` pour le trafic non Web

          Valeurs supplémentaires acceptées :

        * `AMQP`

        * `HTTP`

        * `HTTPS`

        * `IronMQ`

        * `JMS`

        * `Kafka`

        * `Other`

        * `Queue`
      </td>
    </tr>
  </tbody>
</table>

## Valeurs de retour

Renvoie `true` si les en-têtes ont été acceptés avec succès, sinon renvoie `false`.

## Exemples

Pour obtenir des exemples sur la manière et le moment d&apos;utiliser cette méthode API, consultez la documentation pour [instrumenter manuellement les applications et les services](/docs/agents/php-agent/features/distributed-tracing-php#manual).