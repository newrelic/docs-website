---
title: newrelic_set_user_attributes (API d'agent PHP)
type: apiDoc
shortDescription: Créez un attribut personnalisé lié à l'utilisateur. newrelic_add_custom_parameter est plus flexible.
tags:
  - Agents
  - PHP agent
  - PHP agent API
metaDescription: New Relic PHP agent API call to attach user-related custom attributes to APM and browser events.
freshnessValidatedDate: never
translationType: machine
---

## Syntaxe

```php
newrelic_set_user_attributes(string $user_value, string $account_value, string $product_value)
```

Créez un attribut personnalisé lié à l&apos;utilisateur. newrelic\_add\_custom\_parameter est plus flexible.

## Exigences

Version de l&apos;agent [3.1.5.111](/docs/release-notes/agent-release-notes/php-release-notes/php-agent-315111) ou supérieure.

## Description

<Callout variant="tip">
  Cet appel vous permet uniquement d&apos;attribuer des valeurs à des clés préexistantes. Pour une méthode plus flexible pour créer des paires valeur-clé, utilisez [`newrelic_add_custom_parameter`](/docs/agents/php-agent/php-agent-api/newrelic_add_custom_parameter).
</Callout>

À partir de la sortie 4.4, appel :

```php
newrelic_set_user_attributes("a", "b", "c");
// is equivalent to calling these three methods:

newrelic_add_custom_parameter("user", "a");  
newrelic_add_custom_parameter("account", "b"); 
newrelic_add_custom_parameter("product", "c");
```

Les trois paramètres sont obligatoires, mais ils peuvent être des chaînes vides.

## Paramètres

<table>
  <thead>
    <tr>
      <th width="25%">
        paramètres
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `$user_value`

        *chaîne*
      </td>

      <td>
        Obligatoire (peut être une chaîne vide). Spécifiez un nom ou un nom d&apos;utilisateur à associer à cette vue de page. Cette valeur est attribuée à la touche `user` .
      </td>
    </tr>

    <tr>
      <td>
        `$account_value`

        *chaîne*
      </td>

      <td>
        Obligatoire (peut être une chaîne vide). Spécifiez le nom d’un compte utilisateur à associer à cette vue de page. Cette valeur est attribuée à la touche `account` .
      </td>
    </tr>

    <tr>
      <td>
        `$product_value`

        *chaîne*
      </td>

      <td>
        Obligatoire (peut être une chaîne vide). Spécifiez le nom d&apos;un produit à associer à cette vue de page. Cette valeur est attribuée à la touche `product` .
      </td>
    </tr>
  </tbody>
</table>

## Valeurs de retour

Cette fonction renverra `true` si l&apos;attribut a été ajouté avec succès.

## Exemples

### Enregistrer trois attribut utilisateur [#record-three]

```php
function example() {
    if (extension_loaded('newrelic')) { // Ensure PHP agent is available
        newrelic_set_user_attributes("MyUserName", "MyAccountName", "MyProductName");
    }
}
```

### Enregistrer deux attribut utilisateur et un attribut vide [#record-two]

```php
function example() {
    if (extension_loaded('newrelic')) { // Ensure PHP agent is available
        newrelic_set_user_attributes("MyUserName", "", "MyProductName");
    }
}
```