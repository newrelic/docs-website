---
title: Activer ou désactiver l'attribut
tags:
  - Agents
  - PHP agent
  - Attributes
metaDescription: 'How to include and exclude specific attributes for your New Relic PHP agent, including properties and rules.'
freshnessValidatedDate: never
translationType: machine
---

Découvrez les propriétés permettant d&apos;activer ou de désactiver l&apos;attribut, ainsi que les règles utilisées par New Relic pour déterminer l&apos;attribut à inclure ou à exclure pour une [destination](/docs/features/agent-attributes#destinations). Cela inclut également un résumé des agent propriétés PHP qui ont été déconseillées avec la sortie des de l&apos;agent New Relic.

## Propriétés

Utilisez les propriétés de destination suivantes pour ouvrir ou fermer la destination de n’importe quelle collection d’attributs :

<CollapserGroup>
  <Collapser
    id="cfg-attributes-enabled"
    title={<InlineCode>newrelic.attributes.enabled</InlineCode>
    }
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            Vrai
          </td>
        </tr>
      </tbody>
    </table>

    Active ou désactive tous les attributs dans toutes les destinations.
  </Collapser>

  <Collapser
    id="cfg-browser-attributes-enabled"
    title={<InlineCode>newrelic.browser_monitoring.attributes.enabled</InlineCode>
    }
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut:
          </th>

          <td>
            FAUX
          </td>
        </tr>
      </tbody>
    </table>

    Active ou désactive tous les attributs pour <InlinePopover type="browser" />. Il s&apos;agit des données qui sont jointes à l&apos;événement de visualisation de la page. Si `newrelic.attributes.enabled` est `false`, aucun attribut ne sera envoyé aux navigateurs de monitoring, quelle que soit la manière dont cette propriété est définie.
  </Collapser>

  <Collapser
    id="cfg-error-attributes-enabled"
    title={<InlineCode>newrelic.error_collector.attributes.enabled</InlineCode>
    }
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut:
          </th>

          <td>
            Vrai
          </td>
        </tr>
      </tbody>
    </table>

    Active ou désactive tous les attributs pour les erreurs de trace. Si `newrelic.attributes.enabled` est `false`, aucun attribut ne sera envoyé pour tracer les erreurs, quelle que soit la manière dont cette propriété est définie.
  </Collapser>

  <Collapser
    id="cfg-events-attributes-enabled"
    title={<InlineCode>newrelic.transaction_events.attributes.enabled</InlineCode>
    }
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut:
          </th>

          <td>
            Vrai
          </td>
        </tr>
      </tbody>
    </table>

    Active ou désactive tous les attributs de l&apos;événement de transaction. Si `newrelic.attributes.enabled` est `false`, aucun attribut ne sera envoyé à l&apos;événement de transaction, quelle que soit la manière dont cette propriété est définie.
  </Collapser>

  <Collapser
    id="cfg-tt-attributes-enabled"
    title={<InlineCode>newrelic.transaction_tracer.attributes.enabled</InlineCode>
    }
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            Vrai
          </td>
        </tr>
      </tbody>
    </table>

    Active ou désactive tous les attributs pour le suivi de la transaction. Si `newrelic.attributes.enabled` est `false`, aucun attribut ne sera envoyé pour tracer la transaction, quelle que soit la manière dont cette propriété est définie.
  </Collapser>

  <Collapser
    id="cfg-tt-attributes-enabled"
    title={<InlineCode>newrelic.span_events.attributes.enabled</InlineCode>
    }
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            Vrai
          </td>
        </tr>
      </tbody>
    </table>

    Active ou désactive tous les attributs pour les données `Span` . Si `newrelic.attributes.enabled` est `false`, aucun attribut ne sera envoyé aux étendues, quelle que soit la manière dont cette propriété est définie.
  </Collapser>
</CollapserGroup>

Utilisez les propriétés `.include` ou `.exclude` spécifiques à l&apos;attribut/à la destination suivantes pour ajouter ou supprimer un attribut spécifique dans des destinations spécifiques :

<CollapserGroup>
  <Collapser
    id="cfg-attributes-include"
    title={<InlineCode>newrelic.attributes.include</InlineCode>
    }
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Liste de chaînes délimitées par des virgules
          </td>
        </tr>

        <tr>
          <th>
            Défaut:
          </th>

          <td>
            Vide
          </td>
        </tr>
      </tbody>
    </table>

    Si les attributs sont activés, toutes les clés d&apos;attribut de cette liste seront envoyées à New Relic.
  </Collapser>

  <Collapser
    id="cfg-attributes-exclude"
    title={<InlineCode>newrelic.attributes.exclude</InlineCode>
    }
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Liste de chaînes délimitées par des virgules
          </td>
        </tr>

        <tr>
          <th>
            Défaut:
          </th>

          <td>
            Vide
          </td>
        </tr>
      </tbody>
    </table>

    Toutes les clés d&apos;attribut de cette liste ne seront **pas** envoyées à New Relic.
  </Collapser>

  <Collapser
    id="cfg-bm-attributes-include"
    title={<InlineCode>newrelic.browser_monitoring.attributes.include</InlineCode>
    }
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Liste de chaînes délimitées par des virgules
          </td>
        </tr>

        <tr>
          <th>
            Défaut:
          </th>

          <td>
            Vide
          </td>
        </tr>
      </tbody>
    </table>

    Si les attributs sont activés pour `browser_monitoring`, toutes les clés d&apos;attribut de cette liste seront envoyées dans les données de vue de page.
  </Collapser>

  <Collapser
    id="cfg-bm-attributes-exclude"
    title={<InlineCode>newrelic.browser_monitoring.attributes.exclude</InlineCode>
    }
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Liste de chaînes délimitées par des virgules
          </td>
        </tr>

        <tr>
          <th>
            Défaut:
          </th>

          <td>
            Vide
          </td>
        </tr>
      </tbody>
    </table>

    Toutes les clés d&apos;attribut trouvées dans cette liste ne seront **pas** envoyées à New Relic dans les vues de page.
  </Collapser>

  <Collapser
    id="cfg-ec-attributes-include"
    title={<InlineCode>newrelic.error_collector.attributes.include</InlineCode>
    }
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Liste de chaînes délimitées par des virgules
          </td>
        </tr>

        <tr>
          <th>
            Défaut:
          </th>

          <td>
            Vide
          </td>
        </tr>
      </tbody>
    </table>

    Si les attributs sont activés pour les erreurs de trace, toutes les clés d&apos;attribut de cette liste seront envoyées à New Relic dans les erreurs de trace.
  </Collapser>

  <Collapser
    id="cfg-ec-attributes-exclude"
    title={<InlineCode>newrelic.error_collector.attributes.exclude</InlineCode>
    }
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Liste de chaînes délimitées par des virgules
          </td>
        </tr>

        <tr>
          <th>
            Défaut:
          </th>

          <td>
            Vide
          </td>
        </tr>
      </tbody>
    </table>

    Toutes les clés d&apos;attribut de cette liste ne seront **pas** envoyées à New Relic en cas d&apos;erreurs de trace.
  </Collapser>

  <Collapser
    id="cfg-te-attributes-include"
    title={<InlineCode>newrelic.transaction_events.attributes.include</InlineCode>
    }
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Liste de chaînes délimitées par des virgules
          </td>
        </tr>

        <tr>
          <th>
            Défaut:
          </th>

          <td>
            Vide
          </td>
        </tr>
      </tbody>
    </table>

    Si les attributs sont activés pour l&apos;événement de transaction, toutes les clés d&apos;attribut de cette liste seront envoyées à New Relic dans l&apos;événement de transaction.
  </Collapser>

  <Collapser
    id="cfg-te-attributes-exclude"
    title={<InlineCode>newrelic.transaction_events.attributes.exclude</InlineCode>
    }
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Liste de chaînes délimitées par des virgules
          </td>
        </tr>

        <tr>
          <th>
            Défaut:
          </th>

          <td>
            Vide
          </td>
        </tr>
      </tbody>
    </table>

    Toutes les clés d&apos;attribut de cette liste ne seront **pas** envoyées à New Relic lors d&apos;un événement de transaction.
  </Collapser>

  <Collapser
    id="cfg-tt-attributes-include"
    title={<InlineCode>newrelic.transaction_tracer.attributes.include</InlineCode>
    }
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Liste de chaînes délimitées par des virgules
          </td>
        </tr>

        <tr>
          <th>
            Défaut:
          </th>

          <td>
            Vide
          </td>
        </tr>
      </tbody>
    </table>

    Si les attributs sont activés pour le suivi de transaction, toutes les clés d&apos;attribut de cette liste seront envoyées à New Relic dans le suivi de transaction.
  </Collapser>

  <Collapser
    id="cfg-tt-attributes-exclude"
    title={<InlineCode>newrelic.transaction_tracer.attributes.exclude</InlineCode>
    }
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Liste de chaînes délimitées par des virgules
          </td>
        </tr>

        <tr>
          <th>
            Défaut:
          </th>

          <td>
            Vide
          </td>
        </tr>
      </tbody>
    </table>

    Toutes les clés d&apos;attribut de cette liste ne seront **pas** envoyées à New Relic lors du suivi de la transaction.
  </Collapser>

  <Collapser
    id="cfg-tt-attributes-include"
    title={<InlineCode>newrelic.span_events.attributes.include</InlineCode>
    }
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Liste de chaînes délimitées par des virgules
          </td>
        </tr>

        <tr>
          <th>
            Défaut:
          </th>

          <td>
            Vide
          </td>
        </tr>
      </tbody>
    </table>

    Si les attributs sont activés pour l&apos;événement SPAN, toutes les clés d&apos;attribut de cette liste seront envoyées à New Relic dans l&apos;événement SPAN.
  </Collapser>

  <Collapser
    id="cfg-tt-attributes-exclude"
    title={<InlineCode>newrelic.span_events.attributes.exclude</InlineCode>
    }
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Liste de chaînes délimitées par des virgules
          </td>
        </tr>

        <tr>
          <th>
            Défaut:
          </th>

          <td>
            Vide
          </td>
        </tr>
      </tbody>
    </table>

    Toutes les clés d&apos;attribut de cette liste ne seront **pas** envoyées à New Relic lors d&apos;un événement SPAN.
  </Collapser>
</CollapserGroup>

## Règles d&apos;attribut [#attruls]

New Relic suit ces règles pour déterminer quel attribut inclure ou exclure pour une destination.

<CollapserGroup>
  <Collapser id="rule-root-precedence" title="Le niveau racine est prioritaire pour l'activation.">
    Le champ `newrelic.attributes.enabled` l&apos;emporte sur tous les autres paramètres. Lorsque `false`, aucun attribut ne sera signalé à New Relic.

    Exemple de configuration :

    ```ini
    newrelic.attributes.enabled = false
    newrelic.attributes.include = foo,bar
    newrelic.transaction_tracer.attributes.enabled = true
    ```

    Exemple de sortie :

    ```
    Keys passed in: password, foo, bar, bat
    Keys included for all destinations:
    Keys excluded for all destinations: password, foo, bar, bat
    ```
  </Collapser>

  <Collapser id="rule-destination-precedence" title="La destination activée a priorité sur l'inclusion et l'exclusion.">
    `newrelic.{destination}.attributes.enabled` les indicateurs ont priorité sur les clés d&apos;inclusion et d&apos;exclusion.

    Exemple de configuration :

    ```ini
    newrelic.transaction_tracer.attributes.enabled = false
    newrelic.attributes.include = one,two
    newrelic.transaction_tracer.attributes.include = three,four
    ```

    Exemple de sortie :

    ```
    Keys passed in: one, two, three, four
    Keys included for transaction traces:
    Keys excluded for transaction traces: one, two, three, four
    ```
  </Collapser>

  <Collapser id="rule-included-destination" title="L'attribut est inclus si la destination est activée.">
    Si une destination est activée, tous les attributs utilisateur sont envoyés à cette destination par défaut.

    Tous les attributs utilisateur sont par défaut `true`. Cependant, par défaut, l&apos;attribut de demande et le paramètre de message sont désactivés pour toutes les destinations.

    Exemple de configuration :

    ```ini
    newrelic.attributes.enabled = true
    newrelic.attributes.exclude = myAttKey
    ```

    Exemple de sortie :

    ```
    Keys passed in: foo, bar, myAttKey
    Keys included: foo, bar
    Keys excluded: myAttKey
    ```
  </Collapser>

  <Collapser id="rule-exclude-wins" title="Exclure remplace toujours inclure.">
    Si la même clé est répertoriée dans les listes d&apos;inclusion et d&apos;exclusion, l&apos;attribut avec la clé spécifiée sera exclu.

    Exemple de configuration :

    ```ini
    newrelic.attributes.enabled = true
    newrelic.attributes.include = foo,myCustomAtt
    newrelic.attributes.exclude = password,myCustomAtt
    ```

    Exemple de sortie :

    ```
    Keys passed in: foo, myCustomAtt, password
    Keys included: foo
    Keys excluded: password, myCustomAtt
    ```
  </Collapser>

  <Collapser id="rule-keys-case-sensitive" title="Les clés sont sensibles à la casse.">
    Les clés sont sensibles à la casse.

    Exemple de configuration :

    ```ini
    newrelic.attributes.enabled = true
    newrelic.attributes.exclude = password,PaSsWoRd
    ```

    Exemple de sortie :

    ```
    Keys passed in: password, Password, PASSWORD, PaSsWoRd, PassWORD
    Keys included: Password, PASSWORD, PassWORD
    Keys excluded: password, PaSsWoRd
    ```
  </Collapser>

  <Collapser
    id="rule-star-wildcard"
    title={<>Utilisez une étoile (<InlineCode>
      \*
    </InlineCode>) pour les caractères génériques.</>
    }
  >
    Vous pouvez utiliser un astérisque ou une étoile (`*`) à la fin d&apos;une clé comme caractère générique. Cela correspondra à un ensemble d’attributs avec le même préfixe.

    Exemple de configuration :

    ```ini
    newrelic.attributes.enabled = true
    newrelic.attributes.include = custom*
    newrelic.attributes.exclude = request.parameters.*
    ```

    Exemple de sortie :

    ```
    Keys passed in: custom, custom.key1, custom.key2, request.parameters., request.parameters.foo, request.parameters.bar
    Keys included: custom, custom.key1, custom.key2
    Keys excluded: request.parameters., request.parameters.foo, request.parameters.bar
    ```
  </Collapser>

  <Collapser id="rule-specific-wins" title="Le réglage le plus spécifique pour une clé est prioritaire.">
    Si plusieurs attributs d&apos;inclusion ou d&apos;exclusion affectent la même clé, le paramètre le plus spécifique aura la priorité.

    Exemple de configuration :

    ```ini
    newrelic.attributes.enabled = true
    newrelic.attributes.include = request.parameters.foo
    newrelic.attributes.exclude = request.parameters.*
    ```

    Exemple de sortie :

    ```
    Keys passed in: request.parameters., request.parameters.foo, request.parameters.bar
    Keys included: request.parameters.foo
    Keys excluded: request.parameters., request.parameters.bar
    ```
  </Collapser>

  <Collapser id="rule-destination-include-exclude" title="Inclure ou exclure affecte la destination spécifique.">
    Si l&apos;attribut include ou exclude est spécifié sur une destination, il n&apos;impacte que cette destination.

    Exemple de configuration :

    ```ini
    newrelic.attributes.include = foo
    newrelic.transaction_events.attributes.exclude = foo
    ```

    Exemple de sortie :

    ```
    Keys passed in: foo
    Keys included for transaction events: 
    Keys included for other destinations: foo
    Keys excluded for transaction events: foo
    ```
  </Collapser>
</CollapserGroup>

## Propriétés obsolètes [#deprecated]

Les propriétés suivantes sont obsolètes. Passez à la nouvelle configuration d&apos;attribut pour ces propriétés lors de la mise à niveau de votre agent PHP.

<table>
  <thead>
    <tr>
      <th width={200}>
        <DNT>
          **Deprecated property**
        </DNT>
      </th>

      <th>
        <DNT>
          **New property**
        </DNT>
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `newrelic.capture_params`
      </td>

      <td>
        `newrelic.attributes.include = request.parameters.*`

        Par défaut, les paramètres de requête ne sont pas envoyés à New Relic. Ajoutez `request.parameters.*` à la liste `newrelic.attributes.include` pour activer tous les paramètres de demande. La propriété `newrelic.capture_params` est obsolète.
      </td>
    </tr>

    <tr>
      <td>
        `newrelic.ignored_params`
      </td>

      <td>
        `newrelic.attributes.exclude = request.parameters.{name}`

        Ajoutez chaque clé de paramètre de demande à la liste `newrelic.attributes.exclude`, délimitée par des virgules. Assurez-vous de préfixer la clé avec `request.parameters`. La propriété `newrelic.ignored_params` est obsolète.
      </td>
    </tr>

    <tr>
      <td>
        `newrelic.{destination}.capture_attributes`
      </td>

      <td>
        `newrelic.{destination}.attributes.enabled`

        L&apos;ancien indicateur `newrelic.{destination}.capture_attributes` désactiverait la collecte d&apos;attributs utilisateur. Ceci est obsolète. Utilisez plutôt `newrelic.{destination}.attributes.enabled` .
      </td>
    </tr>
  </tbody>
</table>