---
title: newrelic_accept_distributed_trace_payload_httpsafe (API d'agent PHP)
type: apiDoc
shortDescription: Accepte une tracedistribuée chargée qui inclut une chaîne JSON HTTPSafe (codée en Base64).
tags:
  - Agents
  - PHP agent
  - PHP agent API
metaDescription: Distributed tracing allows you to see the path a request takes as it travels through a distributed system. Use this API to accept an HTTPSafe/Base64 payload.
freshnessValidatedDate: never
translationType: machine
---

## Syntaxe

```php
newrelic_accept_distributed_trace_payload_httpsafe(string $httpsafe_payload, string $transport_type)
```

Accepte une tracedistribuée chargée qui inclut une chaîne JSON HTTPSafe (codée en Base64).

## Exigences

Nécessite l&apos;agent PHP [version 8.4 ou supérieure](/docs/release-notes/agent-release-notes/php-release-notes).

## Description

[Le tracing distribué](/docs/agents/php-agent/features/distributed-tracing-php) vous permet de voir le chemin emprunté par une requête lorsqu&amp;apos;elle parcourt un système distribué. Cela est utile, par exemple, lorsque des transactions individuelles se produisent dans plusieurs services et que vous souhaitez les examiner comme une trace de transaction complète.

<Callout variant="important">
  Avec agent PHP [version 9.10 ou](/docs/release-notes/agent-release-notes/php-release-notes) supérieure, les fonctions JSON suivantes sont désormais considérées comme obsolètes et seront supprimées dans une future sortie :

  ```php
  newrelic_create_distributed_trace_payload()
  newrelic_accept_distributed_trace_payload($payload)
  newrelic_accept_distributed_trace_payload_httpsafe($payload)
  ```

  Utilisez plutôt l’ API compatible avec la prise en charge W3C Trace Context, ajoutée dans la version 9.8 agent . Avec cela, l&apos; API pour l&apos;application instrumentée manuellement est passée des fonctions liées aux charges JSON aux formes d&apos;éventail d&apos;en-têtes suivantes :

  ```php
  newrelic_insert_distributed_trace_headers($outbound_headers)
  newrelic_accept_distributed_trace_headers($inbound_headers)
  ```
</Callout>

## Paramètres

<table>
  <thead>
    <tr>
      <th width="25%">
        paramètres
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `$httpsafe_payload`

        *chaîne*
      </td>

      <td>
        Requis. Une représentation de chaîne JSON HTTPSafe (codée en Base64) de la charge utile.
      </td>
    </tr>

    <tr>
      <td>
        `$transport_type`

        *chaîne*
      </td>

      <td>
        Facultatif. Une chaîne remplaçant le type de transport par défaut.

        Valeurs par défaut :

        * `HTTP` pour le trafic Web

        * `Unknown` pour le trafic non Web

          Valeurs supplémentaires acceptées :

        * `AMQP`

        * `HTTP`

        * `HTTPS`

        * `IronMQ`

        * `JMS`

        * `Kafka`

        * `Other`

        * `Queue`
      </td>
    </tr>
  </tbody>
</table>

## Valeurs de retour

Renvoie `true` pour indiquer la réussite, ou `false` si une erreur se produit.

## Exemples

Pour obtenir des exemples sur la manière et le moment d&apos;utiliser cette méthode API, consultez la documentation pour [instrumenter manuellement les applications et les services](/docs/agents/php-agent/features/distributed-tracing-php#manual).