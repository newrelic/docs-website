---
title: Paquet Python instrumenté
tags:
  - Agents
  - Python agent
  - Getting started
metaDescription: Summary of Python packages and modules that are automatically instrumented with the New Relic Python agent.
freshnessValidatedDate: never
translationType: machine
---

Ce document répertorie les packages et modules automatiquement instrumentés par l&apos;[Python agent](/docs/agents/python-agent/getting-started/new-relic-python) après son installation [](/docs/agents/python-agent/getting-started/python-agent-quick-start). Vous pouvez également utiliser [une instrumentation personnalisée](/docs/agents/python-agent/supported-features/python-custom-instrumentation) si vous souhaitez :

* Désactivez instrumentation pour un package ou des modules spécifiques si l&apos; instrumentation interfère avec votre application.
* Instrumenter un package ou module tiers qui n&apos;est pas instrumenté automatiquement par l&apos; agent.
* Ajoutez une instrumentation plus spécifique à votre propre code, par exemple pour suivre le temps passé dans des fonctions supplémentaires.

Pour demander instrumentation intégrée pour un package supplémentaire, obtenez de l&apos;aide sur [support.newrelic.com](https://support.newrelic.com).

## Frameworks Web

<CollapserGroup>
  <Collapser
    id="aiohttp"
    title={<ExternalLink href="http://aiohttp.readthedocs.io">aiohttp</ExternalLink>
    }
  >
    Prise en charge des versions 2.2.x ou supérieures.

    La fonction de synchronisation dans le suivi de transaction pour les transactions lentes est fournie pour :

    * Afficher les fonctions (coroutines).

    * intergiciel d&apos;application.

      Le logging des exceptions est fournie pour :

    * Exceptions non détectées entraînant une réponse HTTP autre que 200.

      Le site Web de transactions porte le nom de la fonction d&apos;affichage.
  </Collapser>

  <Collapser
    id="bottle"
    title={<ExternalLink href="http://bottlepy.org/">Bottle</ExternalLink>
    }
  >
    La fonction de synchronisation dans le suivi de transaction pour les transactions lentes est fournie pour :

    * Fonction d&apos;affichage.

    * Rendu de modèles via les interfaces SimpleTemplate, MakoTemplate, CheetahTemplate, Jinja2Template et SimpleTalTemplate.

      Le logging des exceptions est fournie pour :

    * Exceptions non détectées qui, autrement, généreraient 500 réponses de Bottle.

      Le site Web de transactions porte le nom de la fonction d&apos;affichage.

      Comme Bottle utilise une bibliothèque de modèles externe, voyez également lesquels de ces packages peuvent être pris en charge pour plus de détails.
  </Collapser>

  <Collapser
    id="cherrypy"
    title={<ExternalLink href="http://cherrypy.org/">CherryPy</ExternalLink>
    }
  >
    La fonction de synchronisation dans le suivi de transaction pour les transactions lentes est fournie pour :

    * Fonction de gestionnaire.

      Le logging des exceptions est fournie pour :

    * Exceptions non détectées qui généreraient autrement 500 réponses de CherryPy.

      Le réseau de transactions est nommé d&apos;après la fonction de gestionnaire.

      Comme CherryPy s&apos;appuie sur une bibliothèque de modèles externes, consultez également lesquels de ces packages peuvent être pris en charge pour plus de détails.
  </Collapser>

  <Collapser
    id="django"
    title={<ExternalLink href="http://www.djangoproject.com/">Django</ExternalLink>
    }
  >
    La fonction de synchronisation dans le suivi de transaction pour les transactions lentes est fournie pour :

    * Demande de middleware.

    * Afficher le middleware.

    * Modèle de réponse middleware.

    * Middleware de réponse.

    * Middleware d&apos;exception.

    * Rendu du modèle.

      Le logging des exceptions est fournie pour :

    * Exceptions se produisant lors du chargement des gestionnaires de vue par le résolveur d&apos;URL.

    * Exceptions se produisant lors de l&apos;exécution du gestionnaire de vue.

    * Exceptions non détectées qui, autrement, généreraient 500 réponses de Django.

      La prise en charge du temps de chargement des pages (parfois appelée monitoring des utilisateurs réels ou RUM) comprend :

    * Insertion automatique facultative d&apos;en-tête/pied de page JavaScript via un middleware de réponse.

    * Fourniture d&apos;une bibliothèque tag de modèles pour permettre l&apos;insertion manuelle de l&apos;en-tête/pied de page JavaScript dans les modèles.

      Le site Web de transaction est nommé d&apos;après le gestionnaire de vue, sauf si une requête ou un middleware de vue renvoie un objet de réponse avant que le gestionnaire de vue ne soit invoqué.

      une instrumentation est également mise en œuvre pour fournir une meilleure dénomination du Web des transactions ou un traçage fonctionnel supplémentaire lors de l&apos;utilisation :

    * [django-REST-framework](http://www.django-rest-framework.org/)

    * [django-piston](https://bitbucket.org/jespern/django-piston/wiki/Home)

    * [django-tastypie](http://tastypieapi.org/)
  </Collapser>

  <Collapser
    id="falcon"
    title={<ExternalLink href="https://falconframework.org/">Falcon</ExternalLink>
    }
  >
    La fonction de synchronisation dans le suivi de transaction pour les transactions lentes est fournie pour :

    * Fonction de gestionnaire.

      Le logging des exceptions est fournie pour :

    * Exceptions non détectées qui, autrement, généreraient des réponses d&apos;erreur de Falcon.

      Le réseau de transactions est nommé d&apos;après la fonction de gestionnaire.
  </Collapser>

  <Collapser
    id="fastapi"
    title={<ExternalLink href="https://github.com/tiangolo/fastapi">FastAPI</ExternalLink>
    }
  >
    La fonction de synchronisation dans le suivi de transaction pour les transactions lentes est fournie pour :

    * Fonctions d&apos;itinéraire (coroutines).

    * intergiciel d&apos;application.

    * Gestionnaires d&apos;exceptions.

    * Tâches d&apos;arrière-plan

      Le logging des exceptions est fournie pour :

    * Exceptions se produisant à l&apos;intérieur du middleware.

    * Exceptions se produisant à l&apos;intérieur d&apos;un gestionnaire d&apos;exceptions.

    * Exceptions non détectées qui généreraient autrement 500 réponses de FastAPI.

      Le réseau de transactions porte le nom du gestionnaire de route.
  </Collapser>

  <Collapser
    id="flask"
    title={<ExternalLink href="http://flask.pocoo.org/">Flask</ExternalLink>
    }
  >
    La fonction de synchronisation dans le suivi de transaction pour les transactions lentes est fournie pour :

    * Fonction d&apos;affichage.

    * Rendu du modèle via render\_template() et render\_template\_string().

      Le logging des exceptions est fournie pour :

    * Exceptions non détectées qui, autrement, généreraient 500 réponses de Flask.

      Le site Web de transactions porte le nom de la fonction d&apos;affichage.

      Comme Flask utilise Jinja2 pour les modèles, voir également les détails de l&apos;instrumentation Jinja2 répertoriés ci-dessous.
  </Collapser>

  <Collapser
    id="grpc"
    title={<ExternalLink href="https://grpc.github.io/grpc/python/">gRPC</ExternalLink>
    }
  >
    Pris en charge pour les versions 1.4 ou supérieures.

    La fonction de synchronisation dans le suivi de transaction pour les transactions lentes est fournie pour :

    * `_stream_response_in_pool`

    * `_unary_response_in_pool`

      Le logging des exceptions est fournie pour :

    * le serveur grpc s&apos;arrête
  </Collapser>

  <Collapser
    id="pylons"
    title={<ExternalLink href="http://pylonsproject.org/">Pylons</ExternalLink>
    }
  >
    La fonction de synchronisation dans le suivi de transaction pour les transactions lentes est fournie pour :

    * Fonction contrôleur, méthodes avant et après.

    * Rendu du modèle via render\_genshi(), render\_jinja2() et render\_mako().

      Le logging des exceptions est fournie pour :

    * Exceptions non détectées qui, autrement, généreraient 500 réponses de Pylons.

      Le site Web de transaction est nommé d&apos;après le contrôleur/l&apos;action.

      Comme Pylons peut utiliser Genshi, Jinja2 ou Mako pour les modèles, voir également les détails de l&apos;instrumentation pour les modules répertoriés ci-dessous.
  </Collapser>

  <Collapser
    id="pyramid"
    title={<ExternalLink href="http://pylonsproject.org/">Pyramid</ExternalLink>
    }
  >
    La fonction de synchronisation dans le suivi de transaction pour les transactions lentes est fournie pour :

    * Afficher les fonctions du gestionnaire.

      Le logging des exceptions est fournie pour :

    * Exceptions non détectées qui, autrement, généreraient 500 réponses de Pyramid.

      Le site Web de transaction est nommé d&apos;après le gestionnaire de vue.
  </Collapser>

  <Collapser
    id="sanic"
    title={<ExternalLink href="https://github.com/channelcat/sanic">Sanic</ExternalLink>
    }
  >
    La fonction de synchronisation dans le suivi de transaction pour les transactions lentes est fournie pour :

    * Afficher les fonctions (coroutines).

    * intergiciel d&apos;application.

      Le logging des exceptions est fournie pour :

    * Exceptions se produisant à l&apos;intérieur d&apos;un middleware de requête.

    * Exceptions se produisant à l&apos;intérieur d&apos;un middleware de réponse.

    * Exceptions se produisant à l&apos;intérieur d&apos;un gestionnaire de requêtes.

    * Exceptions se produisant à l&apos;intérieur d&apos;un gestionnaire d&apos;exceptions.

    * Exceptions non détectées qui, autrement, généreraient 500 réponses de Sanic.

      Le site Web de transaction est nommé d&apos;après le gestionnaire de vue.
  </Collapser>

  <Collapser
    id="starlette"
    title={<ExternalLink href="https://github.com/encode/starlette">Starlette</ExternalLink>
    }
  >
    La fonction de synchronisation dans le suivi de transaction pour les transactions lentes est fournie pour :

    * Fonctions d&apos;itinéraire (coroutines).

    * intergiciel d&apos;application.

    * Gestionnaires d&apos;exceptions.

    * Tâches d&apos;arrière-plan

      Le logging des exceptions est fournie pour :

    * Exceptions se produisant à l&apos;intérieur du middleware.

    * Exceptions se produisant à l&apos;intérieur d&apos;un gestionnaire d&apos;exceptions.

    * Exceptions non détectées qui généreraient autrement 500 réponses de Starlette.

      Le réseau de transactions porte le nom du gestionnaire de route.
  </Collapser>

  <Collapser
    id="tornado"
    title={<ExternalLink href="http://www.tornadoweb.org/en/stable/">Tornado</ExternalLink>
    }
  >
    Vous pouvez utiliser l&apos;agent Python avec une application qui utilise [Tornado 6](/docs/agents/python-agent/web-frameworks-servers/python-agent-tornado-6-web-framework).
  </Collapser>

  <Collapser
    id="web2py"
    title={<ExternalLink href="http://web2py.com/">Web2py</ExternalLink>
    }
  >
    La fonction de synchronisation dans le suivi de transaction pour les transactions lentes est fournie pour :

    * Temps global en phase modèles.

    * Temps global en phase contrôleur.

    * Durée globale de la phase de visualisation.

    * Temps d&apos;exécution d&apos;un script spécifique exécuté dans les phases de modèles, de contrôleur et de vue.

      Le logging des exceptions est fournie pour :

    * Exceptions non détectées qui généreraient autrement 500 réponses de Web2py.

      Le site Web de transaction est nommé d&apos;après le script de vue.
  </Collapser>
</CollapserGroup>

## services back-end [#backend-services]

<CollapserGroup>
  <Collapser
    id="gearman"
    title={<ExternalLink href="https://pypi.python.org/pypi/gearman/">gearman</ExternalLink>
    }
  >
    Moment de l&apos;exécution des tâches effectuées dans un ouvrier gearman enregistré comme tâches d&apos;arrière-plan par rapport à application Web désignée. Le timing en tant que Web externe appelle tout appel côté client à un serveur gearman pour mettre en file d&apos;attente ou attendre l&apos;exécution des tâches en file d&apos;attente.
  </Collapser>

  <Collapser
    id="celery"
    title={<ExternalLink href="http://celeryproject.org/">Celery</ExternalLink>
    }
  >
    Moment de l&apos;exécution des tâches enregistrées en tant que tâches d&apos;arrière-plan par rapport à l&apos;application Web désignée.
  </Collapser>
</CollapserGroup>

## Rendu du modèle

<CollapserGroup>
  <Collapser
    id="genshi"
    title={<ExternalLink href="http://genshi.edgewall.org/">Genshi</ExternalLink>
    }
  >
    La fonction de synchronisation dans le suivi de transaction pour les transactions lentes est fournie pour :

    * Rendu du modèle.
  </Collapser>

  <Collapser
    id="jinja2"
    title={<ExternalLink href="http://jinja.pocoo.org/">Jinja2</ExternalLink>
    }
  >
    La fonction de synchronisation dans le suivi de transaction pour les transactions lentes est fournie pour :

    * Compilation de modèles.
    * Rendu du modèle.
  </Collapser>

  <Collapser
    id="mako"
    title={<ExternalLink href="http://www.makotemplates.org/">Mako</ExternalLink>
    }
  >
    La fonction de synchronisation dans le suivi de transaction pour les transactions lentes est fournie pour :

    * Rendu du modèle.
  </Collapser>
</CollapserGroup>

## Frameworks GraphQL

L&apos;agent Python fournit des informations détaillées sur GraphQL application les opérations et les résolveurs de votre et rapporte GraphQLles métriques et les attributs span spécifiques . Pour plus d&apos;informations sur la dénomination des transactions et d&apos;autres fonctionnalités, veuillez consulter notre [documentationGraphQL ](/docs/agents/python-agent/supported-features/python-graphQL). À partir de la version 6.10.0.165 agent, l&apos; agent prend en charge le framework GraphQL suivant :

* [Graphene](https://docs.graphene-python.org/en/latest/)
* [Ariadne](https://ariadnegraphql.org/docs/intro)
* [Strawberry](https://strawberry.rocks/)
* [Starlette GraphQL](https://www.starlette.io/graphql/)
* [FastAPI GraphQL](https://fastapi.tiangolo.com/advanced/graphql/)
* [GraphQL Server](https://github.com/graphql-python/graphql-server)

## Détails de l&apos;instance

L&apos; agent collecte [les détailsinstance pour une variété de bases de données et de pilotes de base de données](/docs/apm/applications-menu/features/analyze-database-instance-level-performance-issues). La possibilité d&apos;afficher une instance spécifique et les types d&apos;informations de base de données dépend de la Python agent version de votre .

L&apos;agent Python [version 2.72.0.52 ou supérieure](/docs/release-notes/agent-release-notes/python-release-notes) prend en charge les éléments suivants :

<table>
  <thead>
    <tr>
      <th>
        base de données
      </th>

      <th>
        Nom du package Python
      </th>

      <th>
        Version minimale du package
      </th>

      <th>
        Version minimale de l&apos;agent
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [PostgreSQL](https://www.postgresql.org/)
      </td>

      <td>
        [psycopg](https://pypi.python.org/pypi/psycopg)
      </td>

      <td>
        3.0
      </td>

      <td>
        9.11.0
      </td>
    </tr>

    <tr>
      <td>
        [PostgreSQL](https://www.postgresql.org/)
      </td>

      <td>
        [psycopg2](https://pypi.python.org/pypi/psycopg2)
      </td>

      <td>
        2.0.14
      </td>

      <td>
        2.72.0.52
      </td>
    </tr>

    <tr>
      <td>
        [MySQL](http://www.mysql.com/)
      </td>

      <td>
        [MySQLdb](https://pypi.python.org/pypi/MySQL-python/)
      </td>

      <td>
        1.2.5
      </td>

      <td>
        2.74.0.54
      </td>
    </tr>

    <tr>
      <td>
        [Redis](http://redis.io/)
      </td>

      <td>
        [redis](https://pypi.python.org/pypi/redis)
      </td>

      <td>
        2.6.2
      </td>

      <td>
        2.74.0.54
      </td>
    </tr>

    <tr>
      <td>
        [Redis](http://redis.io/)
      </td>

      <td>
        [Arède](https://pypi.org/project/aredis/)
      </td>

      <td>
        1.1.4
      </td>

      <td>
        7.6.0.173
      </td>
    </tr>

    <tr>
      <td>
        [Redis](http://redis.io/)
      </td>

      <td>
        [aioredis](https://pypi.org/project/aioredis/)
      </td>

      <td>
        1.3.1
      </td>

      <td>
        7.14.0.177
      </td>
    </tr>

    <tr>
      <td>
        [Memcached](https://memcached.org/)
      </td>

      <td>
        [memcached-python](https://pypi.python.org/pypi/python-memcached)
      </td>

      <td>
        1.51
      </td>

      <td>
        2.76.0.55
      </td>
    </tr>

    <tr>
      <td>
        [aiomcache](https://github.com/aio-libs/aiomcache)
      </td>

      <td>
        [aiomcache](https://pypi.org/project/aiomcache/)
      </td>

      <td>
        0.8.2
      </td>

      <td>
        9.12.0
      </td>
    </tr>

    <tr>
      <td>
        [Elasticsearch](https://www.elastic.co/products/elasticsearch)
      </td>

      <td>
        [elasticsearch](https://pypi.python.org/pypi/elasticsearch)
      </td>

      <td>
        0,45
      </td>

      <td>
        2.78.0.56
      </td>
    </tr>
  </tbody>
</table>

Pour demander des informations au niveau de l&apos;instance à partir de magasins de données actuellement non répertoriés pour votre agent, obtenez de l&apos;aide sur [support.newrelic.com](https://support.newrelic.com).

## Adaptateurs de base de données SQL

Pour les modules compatibles Python DB-API 2.0 répertoriés dans cette section, l&apos;agent Python prend en charge :

* Moment de requête de base de données
* Capture SQL pour la requête de base de données
* Capture d&apos;une trace d&apos;appels pour une requête longue de base de données
* MySQL et PostgreSQ uniquement : la capture explique les plans pour une requête de base de données lente

L&apos;agent Python doit être capable de suivre les requêtes de base de données pour tous les Python API modules compatibles DB- 2.0. Cependant, l&apos;agent Python ne prend officiellement en charge que les modules répertoriés dans cette section.

* [cx\_Oracle](http://cx-oracle.sourceforge.net/)
* [MySQLdb](http://mysql-python.sourceforge.net/)
* [oursql](https://launchpad.net/oursql)
* [proboscis](https://pypi.python.org/pypi/proboscis)
* [psycopg2](http://initd.org/psycopg/)
* [psycopg2ct](http://pypi.python.org/pypi/psycopg2ct)
* [psycopg2cffi](http://pypi.python.org/pypi/psycopg2cffi)
* [pymysql](https://github.com/petehunt/PyMySQL)
* [pyodbc](https://pypi.org/project/pyodbc/)
* [ibm\_db\_dbi](https://pypi.python.org/pypi/ibm_db)
* [mysql-connector-python](http://dev.mysql.com/doc/connector-python/en/index.html)
* [py-postgresql](http://python.projects.pgfoundry.org/)
* [pymssql](http://www.pymssql.org/)

Pour les adaptateurs de base de données suivants, nous fournissons instrumentation supplémentaire pour les fonctionnalités en dehors de la spécification DB-API 2.0, telles que des méthodes de raccourci pour exécuter une requête sans créer de curseurs :

* [pysqlite2](http://pypi.python.org/pypi/pysqlite/)
* [sqlite3](http://docs.python.org/library/sqlite3.html)

Si votre module client de base de données n&apos;est pas répertorié dans cette section, obtenez de l&apos;aide sur [support.newrelic.com](https://support.newrelic.com). Le support New Relic pourra peut-être suggérer une modification temporaire de votre fichier de configuration pour le faire fonctionner.

## Clients de base de données NoSQL

Le timing des appels effectués sur la base de données NoSQL est fourni pour les modules clients suivants.

* [pymongo](http://pypi.python.org/pypi/pymongo/)
* [redis](http://pypi.python.org/pypi/redis/)

## Clients Elasticsearch

Le temps passé dans les appels effectués vers Elasticsearch sera répertorié à la fois dans le graphique d&apos;aperçu principal, ainsi que dans l&apos;onglet base de données de l&apos; UI.

* [elasticsearch](https://www.elastic.co/guide/en/elasticsearch/client/python-api/current/index.html)
* [pyelasticsearch](http://pyelasticsearch.readthedocs.org/)

## Clients Memcache

La synchronisation des memcache requests et la capture du type de requête sont fournies pour les memcache modules clients suivants.

* [memcache](http://www.tummy.com/Community/software/python-memcached/)
* [pylibmc](http://sendapatch.se/projects/pylibmc/)
* [bmemcached](https://github.com/jaysonsantos/python-binary-memcached)
* [pymemcache](https://github.com/Pinterest/pymemcache)
* [cachet d&apos;umemcache](https://github.com/esnme/ultramemcache)

## Clients du service Solr

Le calendrier des de Solr service requests et le type de demande sont fournis pour les Solr modules clients suivants.

* [pysolr](http://pypi.python.org/pypi/pysolr/)
* [solrpy](https://pypi.org/project/solrpy/)

## Clients du courtier en messages

La synchronisation des transactions du courtier de messages est fournie pour les modules suivants.

* [pika](https://pypi.python.org/pypi/pika)
* [kafka-python](https://pypi.org/project/kafka-python/)
* [confluent-kafka](https://pypi.org/project/confluent-kafka/)

## Services Web externes

La synchronisation des requests services Web externes est effectuée via les modules suivants.

* [aiobotocore](https://aiobotocore.readthedocs.io/en/stable/)
* [aiohttp](http://aiohttp.readthedocs.io)
* [botocore](https://botocore.amazonaws.com/v1/documentation/api/latest/index.html)
* [dropbox](https://www.dropbox.com/developers/start/setup#python)
* [facepy](http://facepy.readthedocs.org/)
* [feedparser](https://pypi.python.org/pypi/feedparser)
* [gRPC](https://grpc.github.io/grpc/python/)
* [httplib](http://docs.python.org/library/httplib.html)
* [httplib2](https://pypi.org/project/httplib2/)
* [httpx](https://www.python-httpx.org/)
* [pywapi](https://code.google.com/archive/p/python-weather-api/)
* [requests](http://docs.python-requests.org)
* [urllib](http://docs.python.org/library/urllib.html)
* [urllib2](http://docs.python.org/library/urllib2.html)
* [urllib3](https://urllib3.readthedocs.org/en/latest/)
* [xmlrpclib](http://docs.python.org/library/xmlrpclib.html)

## Modèles d&apos;apprentissage automatique et LLM

* [Scikit Learn](https://pypi.org/project/scikit-learn/)

* [OpenAI](https://pypi.org/project/openai/)

* [LangChain](https://pypi.org/project/langchain/)

* [<DNT>Amazon Bedrock</DNT>](https://aws.amazon.com/bedrock/)

  * [Amazon Titan](https://aws.amazon.com/bedrock/titan/)
  * [Cohere Command and Embed](https://aws.amazon.com/bedrock/cohere-command-embed/)
  * [<DNT>AI21 Labs Jurassic</DNT>](https://aws.amazon.com/bedrock/jurassic/)
  * [Anthropic&apos;s Claude](https://aws.amazon.com/bedrock/claude/)
  * [Meta Llama2](https://aws.amazon.com/bedrock/llama/)
  * [Meta Llama3](https://aws.amazon.com/bedrock/llama/)
  * [Mistral AI](https://aws.amazon.com/bedrock/mistral/)