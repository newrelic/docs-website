---
title: current_transaction (Python API d'agent)
type: apiDoc
shortDescription: Renvoie un objet correspondant à la transaction en cours.
tags:
  - Agents
  - Python agent
  - Python agent API
metaDescription: 'New Relic Python API: Retrieves an object corresponding to the current transaction, which is used by some other calls.'
freshnessValidatedDate: never
translationType: machine
---

## Syntaxe

```py
newrelic.agent.current_transaction(active_only=True)
```

Renvoie un objet correspondant à la transaction en cours.

## Description

Utilisez `current_transaction` pour récupérer l’objet représentant la [transaction](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#transaction) en cours. Il renverra `None` s&apos;il n&apos;y a pas de transaction active.

## Paramètres

<table>
  <thead>
    <tr>
      <th width="25%">
        paramètres
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `active_only`

        *booléen*
      </td>

      <td>
        Facultatif. La valeur par défaut est `True`, ce qui signifie que seules les transactions actives seront renvoyées. Si défini sur `False`, l&apos;appel est capable de renvoyer une transaction terminée ou arrêtée (par exemple, si `end_of_transaction` a été utilisé).
      </td>
    </tr>
  </tbody>
</table>

## Valeurs de retour

Renvoie un objet de transaction correspondant à la transaction en cours. Renvoie `None` s&apos;il n&apos;y a pas de transaction active.

## Exemples

### Obtenir la transaction en cours [#function-trace-example]

```py
import newrelic.agent

@newrelic.agent.background_task()
def main():
    transaction = newrelic.agent.current_transaction()
```