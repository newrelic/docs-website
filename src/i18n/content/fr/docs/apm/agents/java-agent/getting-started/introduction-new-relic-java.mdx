---
title: Introduction à New Relic pour Java
tags:
  - Agents
  - Java agent
  - Getting started
metaDescription: 'For an overview of New Relic''s Java agent (compatibility, requirements, installation, configuration), start here.'
freshnessValidatedDate: never
translationType: machine
---

Avec l&apos;agent Java de New Relic, vous pouvez suivre tout, des problèmes de performances aux petites erreurs dans votre code. Chaque minute, l&apos;agent publie [des données d&apos;intervalle de temps métrique et d&apos;événement](/docs/data-analysis/metrics/analyze-your-metrics/data-collection-metric-timeslice-event-data) sur l&apos;interface utilisateur New Relic , où le propriétaire de ces données peut se connecter et utiliser les données pour voir les performances de son site Web.

Utilisez l&apos;agent Java New Relic pour résoudre les problèmes de performances de votre application avec notre [didacticiel Mon application est lente](/docs/journey-app-slow/root-causes/).

<Callout variant="tip">
  Êtes-vous curieux des tendances Java ? Consultez notre rapport [2024 État de l&apos;écosystème Java](https://newrelic.com/resources/report/2024-state-of-the-java-ecosystem).
</Callout>

## installation [#java-installation]

Pour utiliser l’agent Java :

1. Assurez-vous que votre système répond [à la compatibilité et aux exigences de l&apos;agent Java](/docs/compatibility-requirements-java-agent).

2. Inscrivez-vous pour votre compte gratuit si vous ne l&apos;avez pas déjà fait.

   <InlineSignup />

3. Installez l&apos;agent Java à l&apos;aide de notre lanceur ou en suivant les [documents d&apos;installation](/install/java/).

<ButtonGroup>
  <ButtonLink role="button" to="/docs/agents/java-agent/installation/install-java-agent" variant="normal">
    Lire la documentation d&apos;installation
  </ButtonLink>

  <ButtonLink role="button" to="https://one.newrelic.com/marketplace/install-data-source?state=f91bc85d-0574-6e23-b90a-4d89c7c12866" variant="primary">
    Ajouter des données Java
  </ButtonLink>
</ButtonGroup>

Pour [afficher les performances de votre application dans l&apos;UI de New Relic](/docs/apm/applications-menu/monitoring/apm-overview-page), accédez à <DNT>**[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &gt; APM &amp; services &gt; (select an app) &gt; Summary**</DNT>. L&apos;interface utilisateur APM comprend une [page <DNT>**JVM metrics**</DNT>](/docs/agents/java-agent/features/jvm-metrics-page) dédiée, des détails [sur les transactions](/docs/apm/transactions) et [les erreurs](/docs/apm/applications-menu/error-analytics/introduction-error-analytics) , un [outil de profileur de thread](/docs/apm/applications-menu/events/thread-profiler-tool) pour échantillonner les threads Java et signaler les traces d&apos;appels, et bien plus encore.

Vous pouvez également [étendre votre instrumentation d&apos;agent](#extend-instrumentation) et explorer vos données avec d&apos;autres New Relic fonctionnalités , notamment notre [explorateur et tableau de](/docs/query-your-data/explore-query-data/data-explorer/introduction-data-explorer) [bord](/docs/query-your-data/explore-query-data/dashboards/introduction-new-relic-one-dashboards) de métriques et d&apos;événements .

## configurationde démarrage [#h2-startup]

L&apos;agent Java lit la configuration de démarrage à partir du fichier `newrelic.yml` , qui doit se trouver dans le même répertoire que `newrelic.jar`. Vous pouvez également remplacer les paramètres à l’aide des propriétés système Java.

L&apos;agent a besoin des paramètres `license_key` et `app_name` au démarrage (bootstrap). Vous pouvez [personnaliser](/docs/agents/java-agent/configuration/java-agent-configuration-config-file) l&apos;emplacement du fichier de log et d&apos;autres paramètres dans votre fichier `newrelic.yml`. De plus, vous pouvez ajuster la configuration de dénomination si votre serveur d’applications exécute [plusieurs applications dans la même JVM](/docs/agents/java-agent/configuration/automatic-application-naming).

## Options de configuration [#h2-configuration]

Vous pouvez configurer les rapports d&apos;application à partir de l&apos;interface Web New Relic à l&apos;aide [de la configuration côté serveur](/docs/agents/manage-apm-agents/configuration/server-side-agent-configuration). Les modifications seront appliquées à tous les rapports d’agent de votre application lorsque la JVM redémarre. Cependant, si vous utilisez la configuration côté serveur, vous devez toujours conserver les paramètres requis (`license_key` et `app_name`) dans le fichier de configuration local.

Les traces de transaction et les instantanés d&apos;erreur peuvent éventuellement enregistrer les paramètres HTTP. Parfois, les paramètres HTTP contiennent des informations sensibles, comme un numéro de carte de crédit. L&apos;agent dispose de plusieurs [optionsconfiguration pour assurer la sécurité des données](/docs/agents/java-agent/getting-started/apm-agent-security-java), comme la collecte des paramètres HTTP mais l&apos;exclusion de certains paramètres nommés.

## Afficher les logs de vos données APM et infrastructure [#logs-context]

Vous pouvez également rassembler vos données de log et d&apos;application pour rendre le dépannage plus facile et plus rapide. Avec [les logs en contexte](/docs/logs/logs-context/java-configure-logs-context-all/), vous pouvez voir les messages de log liés à vos erreurs et les tracer directement dans UI de votre application. Vous pouvez également voir les logs en contexte de vos [données infrastructure ](/docs/logs/forward-logs/forward-your-logs-using-infrastructure-agent/), telles que le cluster Kubernetes. Pas besoin de passer à une autre page UI .

## instrumentationsupplémentaire [#extend-instrumentation]

Après avoir installé l’agent Java, utilisez l’une de ces méthodes pour étendre votre instrumentation :

* [instrumentation personnalisée :](/docs/agents/manage-apm-agents/agent-metrics/custom-instrumentation) implémentez Java instrumentation personnalisée via une annotation ou XML.
* [Activer le traçage distribué](/docs/apm/distributed-tracing/getting-started/introduction-distributed-tracing)[:](/docs/agents/manage-apm-agents/agent-metrics/collect-custom-attributes) visualisez les chemins de vos requests à mesure qu&apos;elles se propagent dans une architecture distribuée à services multiples.
* [Collecter l&apos;attribut personnalisé :](/docs/agents/manage-apm-agents/agent-metrics/collect-custom-attributes) Collecter l&apos;attribut personnalisé via API ou fichier XML.
* [API de l&apos;agent Java :](/docs/agents/java-agent/custom-instrumentation/java-agent-api) utilisez l&apos;API pour contrôler, personnaliser ou étendre les fonctionnalités de l&apos;agent Java.
* [instrumentation du navigateur :](/docs/browser/new-relic-browser/page-load-timing-resources/page-load-timing-process) Intégrez l&apos;agent Java avec [<InlinePopover type="browser" />](/docs/browser/new-relic-browser/getting-started/new-relic-browser)pour obtenir une visibilité sur l&apos;activité finale de l&apos;utilisateur.
* [disjoncteur pour Java instrumentation personnalisé :](/docs/agents/java-agent/custom-instrumentation/circuit-breaker-java-custom-instrumentation) utilisez un disjoncteur pour protéger l&apos;application contre lainstrumentation.
* [instrumentation JMX personnalisée par YAML :](/docs/agents/java-agent/custom-instrumentation/custom-jmx-instrumentation-yaml) affichez des métriques JMX personnalisées avec un fichier d&apos;instrumentation YAML personnalisé.
* [Page métriquesJVM :](/docs/apm/applications-menu/monitoring/jvm-metrics-page) Collectez les métriques des serveurs application les plus courants via JMX.
* [télémétrie open source :](/docs/integrations/open-source-telemetry-integrations/get-started/introduction-new-relics-open-source-telemetry-integrations) Nous proposons une variété d&apos;outils, tels que [Kamon Reporter](/docs/integrations/open-source-telemetry-integrations/open-source-telemetry-integration-list/kamon-reporter), [OpenTelemetry exportateur](/docs/integrations/open-source-telemetry-integrations/open-source-telemetry-integration-list/new-relics-opentelemetry-integration), [Micrometer métriques Registry](/docs/integrations/open-source-telemetry-integrations/open-source-telemetry-integration-list/new-relics-micrometer-integration) et [Java télémétrie SDK](/docs/data-ingest-apis/get-data-new-relic/new-relic-sdks/telemetry-sdks-send-custom-telemetry-data-new-relic).

## Quand redémarrer votre JVM [#jvm\_restart][#jvm_restart]

Lorsque vous apportez une modification à votre configuration ou à votre XML personnalisé, dans presque tous les cas, vous devez redémarrer votre JVM. Il n&apos;y a que quatre situations dans lesquelles un redémarrage **n&apos;est pas** nécessaire :

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        <DNT>
          **JVM restart is not required for...**
        </DNT>
      </th>

      <th>
        <DNT>
          **Comments**
        </DNT>
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        Changements de niveau de logging ou de mode d&apos;audit
      </td>

      <td>
        Si vous modifiez simplement `log_level` ou `audit_mode` dans le [fichier de configuration de l&apos;agent Java](/docs/agents/java-agent/configuration/java-agent-configuration-config-file), vous n&apos;avez pas besoin de redémarrer la JVM.
      </td>
    </tr>

    <tr>
      <td>
        Fichier XML d&apos;instrumentation personnalisée
      </td>

      <td>
        Le redémarrage de la JVM dépend de la version de votre agent Java :

        * 3.15.0 ou supérieur : si vous mettez à jour un fichier XML instrumentation personnalisée dans le dossier des extensions, les mises à jour seront rechargées automatiquement dans un délai d&apos;une minute.
        * Versions de l&apos;agent Java inférieures à 3.15.0 : Si vous utilisez une version d&apos;agent antérieure à 3.15.0, vous devez redémarrer la JVM.
      </td>
    </tr>

    <tr>
      <td>
        changements de disjoncteur
      </td>

      <td>
        Si vous [modifiez le disjoncteur](/docs/agents/java-agent/custom-instrumentation/circuit-breaker-java-custom-instrumentation#troubleshooting) pour l&apos;instrumentation personnalisée Java, un redémarrage de la JVM n&apos;est pas requis.
      </td>
    </tr>

    <tr>
      <td>
        Ignoré ou erroné
      </td>

      <td>
        Si vous ignorez ou attendez des erreurs en configurant le fichier `newrelic.yml` , un redémarrage de la JVM n&apos;est pas nécessaire. Cela inclut l&apos;ajout de codes d&apos;état ou de classes au fichier `newrelic.yml` lors de l&apos;utilisation de l&apos;agent Java version 3.40.0 ou supérieure. Par exemple:

        * `ignore_status_codes`
        * `expected_status_codes`
        * `ignore_classes`
        * `ignore_messages`
        * `expected_classes`
        * `expected_messages`
      </td>
    </tr>
  </tbody>
</table>

Toutes les autres modifications nécessitent un redémarrage de l’agent, ce qui signifie le redémarrage de la JVM.

## Conformité à la norme JSR 163 [#jvm]

L&apos;agent Java de New Relic monitore les transactions Web, reçoit des informations à leur sujet et communique ces informations à New Relic l&apos;utilisateur de l&apos;interface avec de fortes [mesures de sécurité des données](/docs/accounts-partnerships/accounts/security/data-security) en place. L&apos;agent est empaqueté sous la forme d&apos;un `javaagent` conforme à JSR 163 qui est activé par la JVM via des modifications au lancement de la JVM . Une fois activé, l&apos;agent s&apos;insère dans le flux de chargement de classe et instrumente les méthodes de classe à l&apos;aide de instrumentation de byte code (bci).

Conçues pour avoir un impact minimal sur votre application Web, toutes les classes sont dans le package `newrelic` espace de nommage afin qu&apos;elles n&apos;entrent pas en conflit avec vos propres classes. L&apos;agent utilise le moteur ASM bci pour insérer des sondes logicielles.

L&apos;agent reçoit des informations de base sur votre environnement hôte, telles que le système d&apos;exploitation, Java la version , les propriétés du système et votre New Relic configuration fichier . L&apos;agent interroge également les données de la JVM et de JMX.

## Procédures de dépannage [#troubleshoot]

Si vous rencontrez des problèmes, consultez [Aucune donnée n&apos;apparaît](/docs/apm/agents/java-agent/troubleshooting/no-data-appears-java) et d&apos;autres documents de dépannage dans cette section.