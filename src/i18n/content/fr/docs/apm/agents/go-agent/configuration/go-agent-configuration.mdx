---
title: Configuration de l'agent Go
tags:
  - Agents
  - Go agent
  - Configuration
metaDescription: How to change the configuration settings of New Relic Go agent.
freshnessValidatedDate: never
translationType: machine
---

Vous pouvez modifier les paramètres configuration de l&apos;agent Go pour contrôler certains aspects de la manière dont New Relic monitore votre application. Par exemple:

* Activez le mode haute sécurité.
* Ajoutez une balise personnalisée pour le filtrage et le tri dans l&apos;UI.
* Désactivez la collecte des erreurs, la transaction événement, la trace de transaction et l&apos;événement personnalisé.

## Méthodes de configuration et priorité [#options]

La principale façon de configurer l&apos;agent Go consiste à modifier la structure `newrelic.Config` dans le cadre de l&apos;appel de `newrelic.NewApplication()`, qui fait partie du [processusinstallation ](/docs/agents/go-agent/installation/install-new-relic-go)standard. Avec [les versions agent Go 2.7.0 ou supérieures](/docs/release-notes/agent-release-notes/go-release-notes), vous pouvez également définir un nombre limité d&apos;options configuration à l&apos;aide [configuration côté serveur dans l&apos;UI](#server-side-configuration).

L&apos;agent Go suit cet ordre de priorité pour configuration. Si cette option est activée, la configuration côté serveur remplace <DNT>**all**</DNT> valeurs correspondantes dans la structure `newrelic.Config`, même si les valeurs côté serveur sont laissées vides.

<img title="New Relic Go agent: config order of precedence" alt="New Relic Go agent: config order of precedence" src="/images/apm_diagram_Go-agent-config-precedence.webp" />

<figcaption>
  Si configuration côté serveur est activée avec l&apos;agent Go, elle remplace <DNT>**all**</DNT> valeurs correspondantes dans la structure `newrelic.Config`, même si les valeurs côté serveur sont laissées vides.
</figcaption>

Voici des descriptions détaillées de chaque méthode de configuration :

<CollapserGroup>
  <Collapser id="server-side-configuration" title="Configuration côté serveur (2.7.0 ou supérieur)">
    [configuration côté serveur](/docs/agents/manage-apm-agents/configuration/server-side-agent-configuration) est disponible avec [les versions agent Go 2.7.0 ou supérieures](/docs/release-notes/agent-release-notes/go-release-notes). Cela vous permet de configurer certains paramètres dans l&apos;UI. Cela applique automatiquement vos modifications à tous les agents, même s&apos;ils s&apos;exécutent sur plusieurs hôtes. Le cas échéant, ce document inclut les étiquettes UI pour la configuration côté serveur sous les options de configuration individuelles comme <DNT>**Server-side label**</DNT>.

    Vous devez toujours appeler `newrelic.NewApplication()` dans votre processus application en suivant les étapes décrites dans la [configuration en cours](#in-process-config). Les options de configuration définies côté serveur écraseront celles définies localement. Étant donné que toutes les options de configuration ne sont pas disponibles côté serveur, vous souhaiterez peut-être toujours mettre à jour votre structure `newrelic.Config` .

    <Callout variant="caution">
      Si la configuration côté serveur est activée, l&apos;agent ignore toute valeur dans la structure `newrelic.Config` qui <DNT>**could**</DNT> doit être définie dans l&apos;UI. Même si la valeur UI est vide, l&apos;agent la traite comme une valeur vide et n&apos;utilise pas la valeur `newrelic.Config`.
    </Callout>
  </Collapser>

  <Collapser
    id="in-process-config"
    title={<>En cours de construction <InlineCode>
      newrelic.Config
    </InlineCode></>
    }
  >
    Vous configurez votre agent Go à partir de la structure locale en cours `newrelic.Config` . Cette structure est accessible lors de l&apos;appel de `newrelic.NewApplication()`.

    1. Ajoutez ce qui suit dans la fonction `main` ou dans un bloc `init` :

       ```go
       app, err := newrelic.NewApplication(
           newrelic.ConfigAppName("Your Application Name"),
           newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
       )
       ```

       Notez l&apos;utilisation de `os.Getenv` pour lire votre clé de licence à partir de l&apos;environnement plutôt que de la coder en dur en tant que valeur littérale de chaîne transmise à `newrelic.ConfigLicense`. Nous vous recommandons de ne pas placer de clé de licence ou d&apos;autres informations sensibles dans votre source de code, car cela pourrait entraîner leur stockage dans votre référentiel SCM et éventuellement leur révélation à des parties non autorisées.

    2. Mettez à jour les valeurs de la structure `newrelic.Config` pour configurer votre application à l&apos;aide de `newrelic.ConfigOption` . Ce sont des fonctions qui acceptent un pointeur vers la structure `newrelic.Config` . Ajoutez des `newrelic.ConfigOption`supplémentaires pour configurer davantage votre application. Par exemple, vous pouvez utiliser l’une des options prédéfinies pour effectuer une configuration courante :

       ```go
       app, err := newrelic.NewApplication(
           newrelic.ConfigAppName("Your Application Name"),
           newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
           // add debug level logging to stdout
           newrelic.ConfigDebugLogger(os.Stdout),
       )
       ```

    3. Ou, vous pouvez créer votre propre `newrelic.ConfigOption` pour effectuer une configuration plus complexe :

       ```go
       app, err := newrelic.NewApplication(
           newrelic.ConfigAppName("Your Application Name"),
           newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
           newrelic.ConfigDebugLogger(os.Stdout),
           func(config *newrelic.Config) {
           // add more specific configuration of the agent within a custom ConfigOption
           config.HighSecurity = true
               config.CrossApplicationTracer.Enabled = false
           },
       )
       ```
  </Collapser>
</CollapserGroup>

## Modifier les paramètres de configuration [#make-config-changes]

Pour apporter des modifications configuration de l&apos;agent Go, définissez les valeurs dans la structure `newrelic.Config` à partir d&apos;un `newrelic.ConfigOption` personnalisé. Par exemple, pour désactiver New Relic monitoring temporairement à des fins de test, remplacez la `Enabled` valeur par `false`:

```go
app, err := newrelic.NewApplication(
    newrelic.ConfigAppName("Your Application Name"),
    newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
    func(config *newrelic.Config) {
    	config.Enabled = false
    },
)
```

Dans cet exemple et les suivants, `config` représente votre structure de configuration New Relic, même si vous lui avez peut-être donné un nom de variable différent lorsque vous [avez installé l&apos;agent Go](/docs/agents/go-agent/get-started/get-new-relic-go) et lancé la configuration dans votre application.

## Paramètres de configuration générale [#general-settings]

<CollapserGroup>
  <Collapser id="license" title="Licence (OBLIGATOIRE)">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            (aucun)
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    Spécifie votre [clé de licence](/docs/subscriptions/license-key) New Relic, utilisée pour associer les métriques de votre application à un compte New Relic. La licence et le nom de l&apos;application sont tous deux définis dans le cadre du [processus d&apos;installation de New Relic](/docs/apm/agents/go-agent/installation/install-new-relic-go/#get-new-relic).
  </Collapser>

  <Collapser id="app-name" title="Nom de l'application (OBLIGATOIRE)">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `(none)`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    Il s&apos;agit du [application nom](/docs/apm/agents/manage-apm-agents/app-naming/name-your-application/) utilisé pour agréger les données dans l&apos;UI de New Relic . Vous définissez à la fois la licence et le nom de l&apos;application dans le cadre du [processus d&apos;installation de New Relic](/docs/apm/agents/go-agent/installation/install-new-relic-go/#get-new-relic).

    Pour signaler des données à [plusieurs applications en même temps](/docs/apm/agents/manage-apm-agents/app-naming/use-multiple-names-app/), spécifiez une liste de noms séparés par un point-virgule. Ne mettez pas d’espace avant le point-virgule lui-même. Par exemple:

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigAppName("YOUR_APP_NAME;APP_GROUP_1;ALL_APPS"),
        newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
    )
    ```
  </Collapser>

  <Collapser id="enabled" title="Activé">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    Lorsque `true`, l&apos;agent envoie les données de votre application au [collecteur New Relic](/docs/new-relic-solutions/get-started/glossary/#collector).

    Pour désactiver New Relic monitoring, définissez cette valeur `false` sur.

    Par exemple:

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigAppName("Your Application Name"),
        newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
        func(config *newrelic.Config) {
        	config.Enabled = false
        },
    )
    ```

    Vous pouvez utiliser l&apos;option `ConfigEnabled` pour faciliter cette opération :

    ```go
    app, err: = newrelic.NewApplication(
        newrelic.ConfigAppName("Your Application Name"),
        newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
        newrelic.ConfigEnabled(false),
    )
    ```

    Cela peut être utile pour installer New Relic dans un environnement de développement ou à des fins de dépannage. Lorsque `Enabled` est défini sur `false`:

    * L&apos;agent New Relic Go ne communiquera pas avec le collecteur New Relic .
    * L&apos;agent ne générera pas de goroutines.
    * La clé de licence n&apos;est pas requise lors de l&apos;installation.
  </Collapser>

  <Collapser id="labels" title="Étiquettes">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            map\[string]string
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            (aucun)
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    Ajouter [une balise](/docs/new-relic-solutions/new-relic-one/core-concepts/use-tags-help-organize-find-your-data/).

    <CollapserGroup>
      <Collapser id="example-labels" title="Création de quatre paires tag">
        Voici un exemple de définition de quatre balises :

        ```go
        app, err := newrelic.NewApplication(
            newrelic.ConfigAppName("Your Application Name"),
            newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
            func(config *newrelic.Config) {
                config.Labels = map[string]string{
                    "Env":    "Dev",
                    "Label2": "label2",
                    "Label3": "label3",
                    "Label4": "label4",
                }
            },
        )
        ```
      </Collapser>
    </CollapserGroup>
  </Collapser>

  <Collapser id="logger" title="enregistreur">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Interface
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            (aucun)
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](/docs/apm/agents/go-agent/configuration/go-agent-configuration/#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    Vous pouvez utiliser l&apos;interface `Logger` pour [écrire le fichier de logGo](/docs/apm/agents/go-agent/configuration/go-agent-logging/) dans un emplacement spécifique ou dans le système de logging.
  </Collapser>

  <Collapser id="high_security" title="Haute sécurité">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    <Callout variant="important">
      Cette fonctionnalité nécessite [le niveau Entreprise](https://www.newrelic.com/pricing).
    </Callout>

    [Le mode haute sécurité](/docs/accounts-partnerships/accounts/security/high-security) applique certains paramètres de sécurité et empêche leur remplacement, de sorte que l&apos;agent n&apos;envoie aucune donnée sensible. Le mode haute sécurité effectue les opérations suivantes :

    * Active SSL

    * Désactive le signalement des chaînes de messages d&apos;erreur

    * Désactive le reporting des événements personnalisés

      Ce paramètre doit correspondre au paramètre de compte correspondant dans l&apos;UI. Par exemple:

      ```go
      app, err := newrelic.NewApplication(
          newrelic.ConfigAppName("Your Application Name"),
          newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
          func(config *newrelic.Config) {
              config.HighSecurity = true
          },
      )
      ```

      L&apos;agent communique avec New Relic via HTTPS par défaut, et New Relic [requiert HTTPS](/docs/apis/rest-api-v2/troubleshooting/301-response-rest-api-calls) pour tout le trafic vers APM et notre API REST.
  </Collapser>

  <Collapser id="use-tls" title="UseTLS (OBSOLÈTE)">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    <Callout variant="important">
      Cette option a été supprimée dans [la version 2.0 de l&apos;agent](/docs/release-notes/agent-release-notes/go-release-notes/go-agent-20).
    </Callout>

    Contrôle si HTTPS ou HTTP est utilisé pour envoyer des données à New Relic. L&apos;agent communique avec New Relic via HTTPS par défaut (qui utilise le protocole TLS), et New Relic [requiert HTTPS](/docs/apis/rest-api-v2/troubleshooting/301-response-rest-api-calls) pour tout le trafic vers APM et l&apos;API REST New Relic.
  </Collapser>

  <Collapser id="host-display-name" title="Nom d'affichage de l'hôte">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            (aucun)
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    Ceci définit le [nom d&apos;hôte affiché dans l&apos;UI APM](/docs/apm/agents/manage-apm-agents/configuration/add-rename-remove-hosts/#display_name). Il s&apos;agit d&apos;une configuration facultative.
  </Collapser>

  <Collapser id="transport" title="Transport">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            [http.RoundTripper](https://golang.org/pkg/net/http/#RoundTripper)
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            (aucun)
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    Ceci personnalise la communication [http.Client](https://golang.org/pkg/net/http/#Client) avec le collecteur New Relic . Vous pouvez l&apos;utiliser pour configurer un proxy.
  </Collapser>

  <Collapser id="runtime-sampler" title="RuntimeSampler.Enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    Lorsque `true`, l&apos;agent capture les statistiques d&apos;exécution.
  </Collapser>
</CollapserGroup>

Si vous utilisez New Relic CodeStream pour monitorer les performances de votre IDE, vous souhaiterez peut-être également [associer un référentiel à vos services](/docs/codestream/observability/repo-association) et [associer des SHA de build ou une balise de sortie à des erreurs](/docs/codestream/observability/error-investigation/#buildsha).

## Configuration à partir de l&apos;environnement [#configuring-from-the-environment]

Pour une plus grande flexibilité, vous pouvez définir de nombreuses options de configuration en définissant des variables d&apos;environnement au lieu de les coder en dur dans le code source de votre application. Pour les utiliser, ajoutez un appel à `ConfigFromEnvironment()` parmi vos autres options de configuration :

```go
app, err := newrelic.NewApplication(
   newrelic.ConfigAppName("Your Application Name"),
   newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
   newrelic.ConfigFromEnvironment(),
)
```

Notez que les variables d&apos;environnement seront lues et leurs entrées correspondantes dans la structure `newrelic.Config` seront mises à jour, au point de la liste d&apos;options où `newrelic.ConfigFromEnvironment()` apparaît. S&apos;il existe des options de configuration supplémentaires répertoriées après `ConfigFromEnvironment`, elles peuvent remplacer les valeurs définies par `ConfigFromEnvironment`.

Par exemple, si les variables d’environnement suivantes sont définies :

```ini
NEW_RELIC_LICENSE_KEY="your_license_key_here"
NEW_RELIC_APP_NAME="Your Application Name"
NEW_RELIC_CODE_LEVEL_METRICS_ENABLED="true"
NEW_RELIC_CODE_LEVEL_METRICS_PATH_PREFIX="myproject/src"
NEW_RELIC_LABELS="Env:Dev;Label2:label2;Label3:label3;Label4:label4"
```

puis le code suivant :

```go
app, err := newrelic.NewApplication(
    newrelic.ConfigFromEnvironment(),
)
```

obtiendra le même résultat que l&apos;équivalent codé en dur :

```go
app, err := newrelic.NewApplication(
    newrelic.ConfigAppName("Your Application Name"),
    newrelic.ConfigLicense("your_license_key_here"),
    newrelic.ConfigCodeLevelMetricsEnabled(true),
    newrelic.ConfigCodeLevelMetricsPathPrefix("myproject/src"),
    func(config *newrelic.Config) {
        config.Labels = map[string]string{
            "Env":    "Dev",
            "Label2": "label2",
            "Label3": "label3",
            "Label4": "label4",
        }
    },
)
```

Toutes les options de configuration possibles ne peuvent pas être définies via des variables d&apos;environnement. Le [tableau des variables d&apos;environnement et des fonctions](#env-var-table) dans le réplicateur ci-dessous répertorie toutes les fonctions de configuration disponibles et leurs variables d&apos;environnement correspondantes. Bien que toute option de configuration nommée puisse être définie en attribuant directement une valeur au champ correspondant dans la structure `Config`, nous recommandons d&apos;utiliser des fonctions de configuration et/ou des variables d&apos;environnement chaque fois que possible.

<CollapserGroup>
  <Collapser className="freq-link" id="env-var-table" title="Tableau des variables d'environnement et des fonctions">
    Voici quelques conseils sur la façon d&apos;utiliser le tableau :

    * Si une variable d’environnement est répertoriée dans le tableau, vous pouvez définir l’option correspondante en définissant la variable d’environnement nommée. Vous devez également inclure la fonction `ConfigFromEnvironment()`, qui obligera l&apos;agent à accepter toutes les variables d&apos;environnement `NEW_RELIC_*` .

    * Si une fonction de configuration est répertoriée, vous pouvez utiliser cette fonction pour définir l&apos;option correspondante au lieu d&apos;utiliser `ConfigFromEnvironment()`. Gardez à l’esprit que les fonctions de configuration répertoriées dans le programme, y compris `ConfigFromEnvironment()`, sont résolues dans l’ordre dans lequel elles apparaissent dans le code. Cela signifie que si vous créez une variable d&apos;environnement et appelez la fonction `ConfigFromEnvironment()`, elle écrasera la configuration correspondante que vous avez peut-être définie précédemment à l&apos;aide d&apos;une fonction spécifique. Les options de configuration ultérieures après `ConfigFromEnvironment()` remplaceront les fonctions de configuration et les variables d&apos;environnement précédentes.

    * Consultez la documentation ici et sur [le site de documentation de Go](https://pkg.go.dev/github.com/newrelic/go-agent/v3@v3.20.0/newrelic#ConfigOption) pour plus d&apos;informations sur l&apos;utilisation de chaque fonction.

      <table>
        <thead>
          <tr>
            <th>
              Champ de configuration
            </th>

            <th>
              Fonctions de configuration
            </th>

            <th>
              Variables d&apos;environnement
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `AppName`
            </td>

            <td>
              `ConfigAppName`
            </td>

            <td>
              `NEW_RELIC_APP_NAME`
            </td>
          </tr>

          <tr>
            <td>
              `ApplicationLogging.Enabled`
            </td>

            <td>
              `ConfigAppLogForwardingEnabled`

              `ConfigAppLogEnabled`

              (Voir [note 1](#table-note-one) ci-dessous)
            </td>

            <td>
              `NEW_RELIC_APPLICATION_LOGGING_ENABLED`
            </td>
          </tr>

          <tr>
            <td>
              `ApplicationLogging.Forwarding.Enabled`
            </td>

            <td>
              `ConfigAppLogForwardingEnabled`

              `ConfigAppLogDecoratingEnabled`

              `ConfigAppLogMetricsEnabled`

              (Voir [note 1](#table-note-one) ci-dessous)
            </td>

            <td>
              `NEW_RELIC_APPLICATION_LOGGING_FORWARDING_ENABLED`
            </td>
          </tr>

          <tr>
            <td>
              `ApplicationLogging.Forwarding.MaxSamplesStored`
            </td>

            <td>
              `ConfigAppLogForwardingEnabled`

              `ConfigAppLogForwardingMaxSamplesStored`

              (Voir [note 1](#table-note-one) ci-dessous)
            </td>

            <td>
              `NEW_RELIC_APPLICATION_LOGGING_FORWARDING_MAX_SAMPLES_STORED`
            </td>
          </tr>

          <tr>
            <td>
              `ApplicationLogging.LocalDecorating.Enabled`
            </td>

            <td>
              `ConfigAppLogDecoratingEnabled`
            </td>

            <td>
              `NEW_RELIC_APPLICATION_LOGGING_LOCAL_DECORATING_ENABLED`
            </td>
          </tr>

          <tr>
            <td>
              `ApplicationLogging.Metrics.Enabled`
            </td>

            <td>
              `ConfigAppLogMetricsEnabled`
            </td>

            <td>
              `NEW_RELIC_APPLICATION_LOGGING_METRICS_ENABLED`
            </td>
          </tr>

          <tr>
            <td>
              `Attributes.Enabled`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `Attributes.Exclude`
            </td>

            <td />

            <td>
              `NEW_RELIC_ATTRIBUTES_EXCLUDE`
            </td>
          </tr>

          <tr>
            <td>
              `Attributes.Include`
            </td>

            <td />

            <td>
              `NEW_RELIC_ATTRIBUTES_INCLUDE`
            </td>
          </tr>

          <tr>
            <td>
              `BrowserMonitoring.Attributes.Enabled`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `BrowserMonitoring.Attributes.Exclude`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `BrowserMonitoring.Attributes.Include`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `BrowserMonitoring.Enabled`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `CodeLevelMetrics.Enabled`
            </td>

            <td>
              `ConfigCodeLevelMetricsEnabled`
            </td>

            <td>
              `NEW_RELIC_CODE_LEVEL_METRICS_ENABLED`
            </td>
          </tr>

          <tr>
            <td>
              `CodeLevelMetrics.IgnoredPrefixes`
            </td>

            <td>
              `ConfigCodeLevelMetricsIngoredPrefixes`
            </td>

            <td>
              `NEW_RELIC_CODE_LEVEL_METRICS_IGNORED_PREFIXES`
            </td>
          </tr>

          <tr>
            <td>
              `CodeLevelMetrics.PathPrefixes`
            </td>

            <td>
              `ConfigCodeLevelMetricsPathPrefixes`
            </td>

            <td>
              `NEW_RELIC_CODE_LEVEL_METRICS_PATH_PREFIXES`
            </td>
          </tr>

          <tr>
            <td>
              `CodeLevelMetrics.RedactIgnoredPrefixes`
            </td>

            <td>
              `ConfigCodeLevelMetricsRedactIgnoredPrefixes`
            </td>

            <td>
              `NEW_RELIC_CODE_LEVEL_METRICS_REDACT_IGNORED_PREFIXES`
            </td>
          </tr>

          <tr>
            <td>
              `CodeLevelMetrics.RedactPathPrefixes`
            </td>

            <td>
              `ConfigCodeLevelMetricsRedactPathPrefixes`
            </td>

            <td>
              `NEW_RELIC_CODE_LEVEL_METRICS_REDACT_PATH_PREFIXES`
            </td>
          </tr>

          <tr>
            <td>
              `CodeLevelMetrics.Scope`
            </td>

            <td>
              `ConfigCodeLevelMetricsScope`
            </td>

            <td>
              `NEW_RELIC_CODE_LEVEL_METRICS_SCOPE`
            </td>
          </tr>

          <tr>
            <td>
              `CrossApplicationTracer.Enabled`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `CustomInsightsEvents.Enabled`
            </td>

            <td>
              `ConfigCustomInsightsEventsEnabled`
            </td>

            <td />
          </tr>

          <tr>
            <td>
              `CustomInsightsEvents.MaxSamplesStored`
            </td>

            <td>
              `ConfigCustomInsightsEventsMaxSamplesStored`
            </td>

            <td />
          </tr>

          <tr>
            <td>
              `DatastoreTracer.DatabaseNameReporting.Enabled`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `DatastoreTracer.InstanceReporting.Enabled`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `DatastoreTracer.QueryParameters.Enabled`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `DatastoreTracer.SlowQuery.Enabled`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `DatastoreTracer.SlowQuery.Threshold`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `DistributedTracer.Enabled`
            </td>

            <td>
              `ConfigDistributedTracerEnabled`
            </td>

            <td>
              `NEW_RELIC_DISTRIBUTED_TRACING_ENABLED`
            </td>
          </tr>

          <tr>
            <td>
              `DistributedTracer.ExcludeNewRelicHeader`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `DistributedTracer.ReservoirLimit`
            </td>

            <td>
              `ConfigDistributedTracerReservoirLimit`
            </td>

            <td />
          </tr>

          <tr>
            <td>
              `Enabled`
            </td>

            <td>
              `ConfigEnabled`
            </td>

            <td>
              `NEW_RELIC_ENABLED`
            </td>
          </tr>

          <tr>
            <td>
              `ErrorCollector.Attributes.Enabled`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `ErrorCollector.Attributes.Exclude`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `ErrorCollector.Attributes.Include`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `ErrorCollector.CaptureEvents`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `ErrorCollector.Enabled`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `ErrorCollector.IgnoreStatusCodes`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `ErrorCollector.RecordPanics`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `Error`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `Heroku.DynoNamePrefixesToShorten`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `Heroku.UseDynoNames`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `HighSecurity`
            </td>

            <td />

            <td>
              `NEW_RELIC_HIGH_SECURITY`
            </td>
          </tr>

          <tr>
            <td>
              `HostDisplayName`
            </td>

            <td />

            <td>
              `NEW_RELIC_PROCESS_HOST_DISPLAY_NAME`
            </td>
          </tr>

          <tr>
            <td>
              `Host`
            </td>

            <td />

            <td>
              `NEW_RELIC_HOST`
            </td>
          </tr>

          <tr>
            <td>
              `InfiniteTracing.SpanEvents.QueueSize`
            </td>

            <td />

            <td>
              `NEW_RELIC_INFINITE_TRACING_SPAN_EVENTS_QUEUE_SIZE`
            </td>
          </tr>

          <tr>
            <td>
              `InfiniteTracing.TraceObserver.Host`
            </td>

            <td />

            <td>
              `NEW_RELIC_INFINITE_TRACING_TRACE_OBSERVER_HOST`
            </td>
          </tr>

          <tr>
            <td>
              `InfiniteTracing.TraceObserver.Port`
            </td>

            <td />

            <td>
              `NEW_RELIC_INFINITE_TRACING_TRACE_OBSERVER_PORT`
            </td>
          </tr>

          <tr>
            <td>
              `Labels`
            </td>

            <td />

            <td>
              `NEW_RELIC_LABELS`
            </td>
          </tr>

          <tr>
            <td>
              `License`
            </td>

            <td>
              `ConfigLicense`
            </td>

            <td>
              `NEW_RELIC_LICENSE_KEY`
            </td>
          </tr>

          <tr>
            <td>
              `Logger`
            </td>

            <td>
              `ConfigLogger`

              `ConfigInfoLogger`

              `ConfigDebugLogger`

              (Voir [note 2](#table-note-two) ci-dessous)
            </td>

            <td>
              `NEW_RELIC_LOG`

              `NEW_RELIC_LOG_LEVEL`
            </td>
          </tr>

          <tr>
            <td>
              `ModuleDependencyMetrics.Enabled`
            </td>

            <td>
              `ConfigModuleDependencyMetricsEnabled`
            </td>

            <td>
              `NEW_RELIC_MODULE_DEPENDENCY_METRICS_ENABLED`
            </td>
          </tr>

          <tr>
            <td>
              `ModuleDependencyMetrics.IgnoredPrefixes`
            </td>

            <td>
              `ConfigModuleDependencyMetricsIgnoredPrefixes`
            </td>

            <td>
              `NEW_RELIC_MODULE_DEPENDENCY_METRICS_IGNORED_PREFIXES`
            </td>
          </tr>

          <tr>
            <td>
              `ModuleDependencyMetrics.RedaceIgnoredPrefixes`
            </td>

            <td>
              `ConfigModuleDependencyMetricsRedactIgnoredPrefixes`
            </td>

            <td>
              `NEW_RELIC_MODULE_DEPENDENCY_METRICS_REDACT_IGNORED_PREFIXES`
            </td>
          </tr>

          <tr>
            <td>
              `RuntimeSampler.Enabled`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `SecurityPoliciesToken`
            </td>

            <td />

            <td>
              `NEW_RELIC_SECURITY_POLICIES_TOKEN`
            </td>
          </tr>

          <tr>
            <td>
              `Segments.Attributes.Enabled`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `Segments.Attributes.Exclude`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `Segments.Attributes.Include`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `Segments.StackTraceThreshold`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `Segments.Threshold`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `ServerlessMode.AccountID`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `ServerlessMode.ApdexThreshold`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `ServerlessMode.Enabled`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `ServerlessMode.PrimaryAppID`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `ServerlessMode.TrustedAccountKey`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `SpanEvents.Attributes.Enabled`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `SpanEvents.Attributes.Exclude`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `SpanEvents.Attributes.Include`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `SpanEvents.Enabled`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `TransactionEvents.Attributes.Enabled`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `TransactionEvents.Attributes.Exclude`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `TransactionEvents.Attributes.Include`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `TransactionEvents.Enabled`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `TransactionEvents.MaxSamplesStored`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `TransactionTracer.Attributes.Enabled`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `TransactionTracer.Attributes.Exclude`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `TransactionTracer.Attributes.Include`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `TransactionTracer.Enabled`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `TransactionTracer.Threshold.Duration`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `TransactionTracer.Threshold.IsApdexFailing`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `Transport`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `Utilization.BillingHostname`
            </td>

            <td />

            <td>
              `NEW_RELIC_UTILIZATION_BILLING_HOSTNAME`
            </td>
          </tr>

          <tr>
            <td>
              `Utilization.DetectAWS`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `Utilization.DetectAzure`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `Utilization.DetectDocker`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `Utilization.DetectGCP`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `Utilization.DetectKubernetes`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `Utilization.DetectPCF`
            </td>

            <td />

            <td />
          </tr>

          <tr>
            <td>
              `Utilization.LocalRAMMIB`
            </td>

            <td />

            <td>
              `NEW_RELIC_UTILIZATION_TOTAL_RAM_MIB`
            </td>
          </tr>

          <tr>
            <td>
              `Utilization.LogicalProcessors`
            </td>

            <td />

            <td>
              `NEW_RELIC_UTILIZATION_LOGICAL_PROCESSORS`
            </td>
          </tr>
        </tbody>
      </table>

      ### Note de tableau 1 : [#table-note-one]

      L&apos;appel de l&apos;une des fonctions répertoriées pour activer une fonctionnalité subordonnée active également la fonctionnalité principale et/ou définit d&apos;autres valeurs de configuration :

      * `ConfigAppLogForwardingEnabled(true)` définit `ApplicationLogging.Forwarding.Enabled=true` mais définit également `ApplicationLogging.Enabled=true`.
      * `ConfigAppLogForwardingEnabled(false)` définit `ApplicationLogging.Forwarding.Enabled=false` mais définit également `ApplicationLogging.Forwarding.MaxSamplesStored=0`.
      * `ConfigAppLogDecoratingEnabled(true)` définit `ApplicationLogging.LocalDecorating.Enabled=true` mais définit également `ApplicationLogging.Enabled=true`.
      * `ConfigAppLogDecoratingEnabled(false)` définit `ApplicationLogging.LocalDecorating.Enabled=false` mais n&apos;affecte pas `ApplicationLogging.Enabled`.
      * `ConfigAppLogMetricsEnabled(true)` définit `ApplicationLogging.Metrics.Enabled=true` mais définit également `ApplicationLogging.Enabled=true`.
      * `ConfigAppLogMetricsEnabled(false)` définit `ApplicationLogging.Metrics.Enabled=false` mais n&apos;affecte pas `ApplicationLogging.Enabled`.

      ### Note de tableau 2 : [#table-note-two]

      Lors de la définition de `Logger` via la variable d&apos;environnement `NEW_RELIC_LOG`, le type d&apos;enregistreur utilisé dépend de la valeur de `NEW_RELIC_LOG_LEVEL`. Si la dernière variable est définie et a la valeur `debug`, `Debug`, `DEBUG`, `d` ou `D`, alors un enregistreur de niveau débogage est utilisé à la place d&apos;un enregistreur standard. `NEW_RELIC_LOG` peut avoir les valeurs `stdout`, `Stdout`, `STDOUT`, `stderr`, `Stderr` ou `STDERR`.

    <Callout variant="tip">
      Les variables d&apos;environnement doivent avoir une valeur non vide pour être lues par `newrelic.ConfigFromEnvironment`.
    </Callout>
  </Collapser>
</CollapserGroup>

## Définir tagde version [#version-tag]

Le paramètre NEW\_RELIC\_METADATA\_SERVICE\_VERSION créera une tag, `tag.service.version` sur les données de l&apos;événement. Dans ce contexte, la version du service est la version de votre code qui est déployée, dans de nombreux cas une version sémantique telle que 1.2.3 mais pas toujours. L&apos;envoi de ces informations vous permet de facetter votre télémétrie par la version du logiciel déployé afin de pouvoir identifier rapidement quelles versions de votre logiciel produisent les erreurs.

## Monitoring de l&apos;IA [#ai-monitoring]

Cette section comprend la configuration de l&apos;agent Go pour la mise en place de monitoring de l&apos;IA.

<Callout variant="important">
  Si le tracing distribué est désactivé ou si le mode haute sécurité est activé, monitoring de l&apos;IA ne collectera pas de données AI.
</Callout>

<Callout variant="important">
  Lorsque cette option est activée, monitoring de l&apos;IA enregistre une copie en continu des entrées et des sorties envoyées vers et depuis les modèles que vous choisissez de monitorer, y compris toutes les informations personnelles qu&apos;ils contiennent. Vous êtes responsable d&apos;obtenir le consentement de l&apos;utilisateur de votre modèle pour que son interaction puisse être enregistrée par un tiers (New Relic) dans le but d&apos;assurer la monitoring de la fonctionnalité IA.
</Callout>

<CollapserGroup>
  <Collapser id="ai-monitoring-enabled" title="AIMonitoring.Enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [Variable d&apos;environnement](#environment)
          </th>

          <td>
            `NEW_RELIC_AI_MONITORING_ENABLED`
          </td>
        </tr>

        <tr>
          <th>
            Fonction de configuration
          </th>

          <td>
            `newrelic.ConfigAIMonitoringEnabled`
          </td>
        </tr>
      </tbody>
    </table>

    Lorsque défini sur `true`, active monitoring de l&apos;IA.
  </Collapser>

  <Collapser id="ai-monitoring-streaming" title="AIMonitoring.Streaming.Enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Variable d&apos;environnement](#environment)
          </th>

          <td>
            `NEW_RELIC_AI_MONITORING_STREAMING_ENABLED`
          </td>
        </tr>

        <tr>
          <th>
            Fonction de configuration
          </th>

          <td>
            `newrelic.ConfigAIMonitoringStreamingEnabled`
          </td>
        </tr>
      </tbody>
    </table>

    Lorsqu&apos;il est défini sur `true`, permet à l&apos;agent de capturer les réponses diffusées en continu. Si la valeur est définie sur `false`, l&apos;agent ne capturera pas les données d&apos;événement sur les réponses diffusées en continu, mais l&apos;agent peut toujours capturer les métriques et les étendues. La durée de l&apos;intervalle se terminera lorsque l&apos;appel de fonction LLM se terminera. Lorsque la valeur est `true`, la durée de l&apos;intervalle se termine lorsque le résultat final est lu à partir du flux.
  </Collapser>

  <Collapser id="ai-monitoring-record-content" title="AIMonitoring.RecordContent.Enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [Variable d&apos;environnement](#environment)
          </th>

          <td>
            `NEW_RELIC_AI_MONITORING_RECORD_CONTENT_ENABLED`
          </td>
        </tr>

        <tr>
          <th>
            Fonction de configuration
          </th>

          <td>
            `newrelic.ConfigAIMonitoringRecordContentEnabled()`
          </td>
        </tr>
      </tbody>
    </table>

    Si défini sur `false`, agent omettra le contenu d&apos;entrée et de sortie (comme les chaînes de texte de l&apos;invite et des réponses) capturées dans l&apos;événement LLM. Il s&apos;agit d&apos;un paramètre de sécurité facultatif si vous ne souhaitez pas enregistrer les données sensibles envoyées et reçues par vos LLM.
  </Collapser>
</CollapserGroup>

## Configuration d&apos;événement personnalisé [#custom-insights-events-settings]

Vous pouvez créer des événements personnalisés et les rendre disponibles pour l&apos;interrogation et l&apos;analyse.

<CollapserGroup>
  <Collapser id="custom-insights-events-enabled" title="CustomInsightsEvents.Enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    Lorsque `true`, l&apos;agent [envoie un événement personnalisé](/docs/data-apis/custom-data/custom-events/apm-report-custom-events-attributes/#go) à [New Relic](/docs/insights/new-relic-insights/understanding-insights/new-relic-insights). Ce paramètre est remplacé par [`HighSecurity`](#high_security), qui désactive l&apos;événement personnalisé.

    Pour désactiver l&apos;événement personnalisé, placez les éléments suivants dans votre application Go une fois la [configuration New Relic](/docs/agents/go-agent/get-started/get-new-relic-go#get-new-relic) lancée :

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigAppName("Your Application Name"),
        newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
        func(config *newrelic.Config) {
            config.CustomInsightsEvents.Enabled = false
        },
    )
    ```
  </Collapser>
</CollapserGroup>

## Configuration des événements de transaction [#transaction-events-settings]

Les événements de transaction sont utilisés pour collecter les événements correspondant aux requests Web et aux tâches d&apos;arrière-plan. Les données d&apos;événement permettent à l&apos;UI de New Relic d&apos;afficher des informations supplémentaires telles que [l&apos;histogramme](/docs/applications-menu/histograms-viewing-data-distribution) et le [centile](/docs/applications-menu/percentiles-comparing-ranked-data).

<CollapserGroup>
  <Collapser id="transaction-events" title="TransactionEvents.Enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    Lorsque `true`, l&apos;agent collecte l&apos;événement de transaction.
  </Collapser>

  <Collapser id="txn-events-attributes" title="Attribut TransactionEvents">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Structure
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            Activé, aucune exclusion
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    `TransactionEvents.Attributes` est une structure avec trois champs :

    ```go
    Enabled bool
    Include []string
    Exclude []string
    ```

    Utilisez `TransactionEvents.Attributes.Enabled` pour activer ou désactiver la collecte d’attributs pour l’événement de transaction. Utilisez `Include` et `Exclude` pour inclure ou exclure un attribut spécifique.

    Exemple d&apos;exclusion d&apos;une tranche d&apos;attribut nommée `allAgentAttributeNames` d&apos;un événement de transaction :

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigAppName("Your Application Name"),
        newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
        func(config *newrelic.Config) {
            config.TransactionEvents.Attributes.Exclude = allAgentAttributeNames
        },
    )
    ```
  </Collapser>

  <Collapser id="transaction-events-maxsamplesstored" title="TransactionEvents.MaxSamplesStored">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Entier
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `10000`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    Définit le nombre maximal d&apos;événements de transaction par minute à envoyer à New Relic, jusqu&apos;au maximum par défaut de 10 000 événements de transaction.
  </Collapser>
</CollapserGroup>

## Configuration du collecteur d&apos;erreurs [#error-collector]

Les paramètres suivants sont utilisés pour configurer le collecteur d’erreurs :

<Callout variant="tip">
  Pour un aperçu de la configuration des erreurs dans New Relic, voir [Gérer les erreurs dans APM](/docs/agents/manage-apm-agents/agent-data/manage-errors-apm-collect-ignore-mark-expected).
</Callout>

<CollapserGroup>
  <Collapser id="error-collector-enabled" title="ErrorCollector.Enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure, configuration côté serveur
          </td>
        </tr>

        <tr>
          <th>
            [Étiquette côté serveur](#server-side-configuration)
          </th>

          <td>
            `Error Collection on/off`
          </td>
        </tr>
      </tbody>
    </table>

    Lorsque `false`, l&apos;agent ne collecte aucune erreur ni trace d&apos;erreur.
  </Collapser>

  <Collapser id="error-capture-events" title="Collecteur d'erreurs. CaptureEvents">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    Lorsque `true`, l&apos;agent collecte l&apos;événement d&apos;analyse d&apos;erreur.
  </Collapser>

  <Collapser id="error-group-callback" title="ErrorCollector.ErrorGroupCallback">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Groupe d&apos;erreurs de rappel
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            néant
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>

          <td>
            `newrelic.ConfigSetErrorGroupCallbackFunction` option de configuration
          </td>
        </tr>
      </tbody>
    </table>

    Lorsque la valeur n&apos;est pas nulle, l&apos;agent appliquera la fonction de rappel définie par l&apos;utilisateur à toutes les erreurs détectées au moment de la récolte, en leur appliquant un groupe d&apos;erreurs.
  </Collapser>

  <Collapser id="error-ignore-status" title="ErrorCollector.IgnoreStatusCodes">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Entier
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            Les codes d&apos;erreur 399 et inférieurs, ainsi que 404, sont ignorés.
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure, configuration côté serveur
          </td>
        </tr>

        <tr>
          <th>
            [Étiquette côté serveur](#server-side-configuration)
          </th>

          <td>
            `Error Collection: Ignore from error collection`
          </td>
        </tr>
      </tbody>
    </table>

    Cela contrôle quels codes de réponse HTTP sont ignorés comme des erreurs.

    Les codes de réponse supérieurs ou égaux à 100 et strictement inférieurs à 400 sont ignorés par défaut et n&apos;ont jamais besoin d&apos;être spécifiés lors de l&apos;appel de cette fonction. Les codes de réponse 0, 5 et 404 sont inclus dans la liste par défaut, mais doivent être spécifiés lors de l&apos;ajout à la liste d&apos;ignorance.

    La forme par défaut de cette fonction est :

    ```go
    config.ErrorCollector.IgnoreStatusCodes = []int{
        0,                   // gRPC OK
        5,                   // gRPC NOT_FOUND
        http.StatusNotFound, // 404
    }
    ```

    Vous pouvez également ajouter des codes de réponse au format HTTP, comme `http.StatusNotFound` ci-dessus.

    <Callout variant="important">
      Si elle est utilisée, [la configuration côté serveur](#server-side-configuration) remplacera toutes les valeurs définies sur la structure `newrelic.Config` . Ainsi pour ignorer 404 lorsque configuration côté serveur est activée, il faut inclure 404 dans la configuration définie dans l&apos;UI.
    </Callout>

    <CollapserGroup>
      <Collapser id="ignore-error-example" title="Exemple de code erreur ignorée">
        Pour ajouter le code de réponse HTTP 418 à la liste d’ignorés par défaut, qui comprend 0, 5 et 404 :

        ```go
        app, err := newrelic.NewApplication(
            newrelic.ConfigAppName("Your Application Name"),
            newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
            func(config *newrelic.Config) {
                config.ErrorCollector.IgnoreStatusCodes = []int{0, 5, 404, 418}
            },
        )
        ```
      </Collapser>
    </CollapserGroup>
  </Collapser>

  <Collapser id="error-expected-status" title="Codes d'état attendus du collecteur d'erreurs">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Entier
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            Aucun code d&apos;erreur n&apos;est défini comme prévu par défaut.
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    Cela contrôle quels codes de réponse HTTP sont attendus comme erreurs.

    Les codes de réponse attendus n&apos;affecteront pas l&apos;apdex ou les alertes d&apos;erreur de votre application, mais ils seront toujours enregistrés.

    La forme par défaut de cette fonction est :

    ```go
    config.ErrorCollector.ExpectStatusCodes = []int{
        100,
        http.StatusAccepted,
    }
    ```

    Vous pouvez également ajouter des codes de réponse au format HTTP tels que `http.StatusAccepted` décrit ci-dessus.

    <CollapserGroup>
      <Collapser id="expected-error-example" title="Exemple de marquage des codes d'erreur comme prévu">
        Pour ajouter les codes de réponse HTTP 418 et 502 à la liste attendue :

        ```go
        app, err := newrelic.NewApplication(
            newrelic.ConfigAppName("Your Application Name"),
            newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
            func(config *newrelic.Config) {
                config.ErrorCollector.ExpectStatusCodes = []int{418, 502}
            },
        )
        ```
      </Collapser>
    </CollapserGroup>
  </Collapser>

  <Collapser id="error-attributes" title="Attribut ErrorCollector">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Structure
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            Activé, aucune exclusion
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    `ErrorCollector.Attributes` est une structure avec trois champs :

    ```go
    Enabled bool
    Include []string
    Exclude []string
    ```

    Utilisez `ErrorCollector.Attributes.Enabled` pour activer ou désactiver la collecte d’attributs pour les erreurs. Utilisez `Include` et `Exclude` pour inclure ou exclure un attribut spécifique.

    Un exemple d&apos;exclusion d&apos;une tranche d&apos;attribut nommée `allAgentAttributeNames` des erreurs :

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigAppName("Your Application Name"),
        newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
        func(config *newrelic.Config) {
            config.ErrorCollector.Attributes.Exclude = allAgentAttributeNames
        },
    )
    ```
  </Collapser>
</CollapserGroup>

## Configuration du traceur de transactions [#transaction-tracer]

Voici les paramètres permettant de modifier la configuration du traceur de transaction. Pour plus d&apos;informations sur la trace de transaction, voir [trace de transaction](/docs/traces/transaction-traces).

<CollapserGroup>
  <Collapser id="txn-tracer-enabled" title="TransactionTracer.Enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure, configuration côté serveur
          </td>
        </tr>

        <tr>
          <th>
            [Étiquette côté serveur](#server-side-configuration)
          </th>

          <td>
            `Transaction Tracing on/off`
          </td>
        </tr>
      </tbody>
    </table>

    Lorsque `true`, l&apos;agent collecte [la trace de transaction](/docs/apm/transactions/transaction-traces/transaction-traces) (informations détaillées sur les transactions lentes).
  </Collapser>

  <Collapser id="txn-tracer-threshold-apdex-falling" title="TransactionTracer.Threshold.IsApdexFailing">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure, configuration côté serveur
          </td>
        </tr>

        <tr>
          <th>
            [Étiquette côté serveur](#server-side-configuration)
          </th>

          <td>
            `Transaction Tracing: Threshold`
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle si le seuil de trace de transaction est basé sur Apdex.

    * Si `true`, alors le seuil de trace est quatre fois le [seuil Apdex](/docs/apm/new-relic-apm/apdex/apdex-measuring-user-satisfaction).
    * Si `false`, l’agent utilise [`Threshold.Duration`](/docs/go-agent-configuration#txn-tracer-threshold-duration) comme seuil de trace de transaction.
  </Collapser>

  <Collapser id="txn-tracer-threshold-duration" title="TransactionTracer.Threshold.Duration">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            time.Millisecond
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `500`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure, configuration côté serveur
          </td>
        </tr>

        <tr>
          <th>
            [Étiquette côté serveur](#server-side-configuration)
          </th>

          <td>
            `Transaction Tracing: Threshold`
          </td>
        </tr>
      </tbody>
    </table>

    Si `Threshold.IsApdexFailing` est défini sur `false`, l&apos;agent utilise cette durée comme seuil de trace de transaction.
  </Collapser>

  <Collapser id="txn-tracer-segment-threshold" title="TransactionTracer.Segments.Threshold">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            time.Millisecond
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `2`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    Il s&apos;agit du seuil à partir duquel les segments seront ajoutés à la trace.
  </Collapser>

  <Collapser id="txn-tracer-segments-attributes" title="Attribut de segmentation de TransactionTracer">
    <Callout variant="important">
      Disponible pour agent Go version 2.6.0 ou supérieure.
    </Callout>

    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Structure
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            Activé, aucune exclusion
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    `TransactionTracer.Segments.Attributes` est une structure avec trois champs :

    ```go
    Enabled bool
    Include []string
    Exclude []string
    ```

    Utilisez `TransactionTracer.Segments.Attributes.Enabled` pour activer ou désactiver la collecte d’attributs pour les segments trace de transaction. Utilisez `Include` et `Exclude` pour inclure ou exclure un attribut spécifique.

    Un exemple d’exclusion d’une tranche d’attribut nommée `allSegmentAttributeNames` de la trace :

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigAppName("Your Application Name"),
        newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
        func(config *newrelic.Config) {
            config.TransactionTracer.Segments.Attributes.Exclude = allSegmentAttributeNames
        },
    )
    ```
  </Collapser>

  <Collapser id="txn-tracer-stack-threshold" title="TransactionTracer.Segments.StackTraceThreshold">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            time.Millisecond
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `500`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure, configuration côté serveur
          </td>
        </tr>

        <tr>
          <th>
            [Étiquette côté serveur](#server-side-configuration)
          </th>

          <td>
            `Transaction Tracing: Stack trace threshold`
          </td>
        </tr>
      </tbody>
    </table>

    Il s&apos;agit du seuil à partir duquel les segments recevront une trace d&apos;appels dans la trace de transaction.

    <Callout variant="caution">
      La réduction de ce paramètre peut augmenter considérablement la charge de l’agent.
    </Callout>
  </Collapser>

  <Collapser id="txn-tracer-attributes" title="Attribut de TransactionTracer">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Structure
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            Activé, aucune exclusion
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](/docs/agents/go-agent/instrumentation/go-agent-configuration#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    `TransactionTracer.Attributes` est une structure avec trois champs :

    ```go
    Enabled bool
    Include []string
    Exclude []string
    ```

    Utilisez `TransactionTracer.Attributes.Enabled` pour activer ou désactiver la collecte d’attributs pour le suivi de la transaction. Utilisez `Include` et `Exclude` pour inclure ou exclure un attribut spécifique.

    Un exemple d’exclusion d’une tranche d’attribut nommée `allAgentAttributeNames` de la trace :

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigAppName("Your Application Name"),
        newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
        func(config *newrelic.Config) {
            config.TransactionTracer.Attributes.Exclude = allAgentAttributeNames
        },
    )
    ```
  </Collapser>
</CollapserGroup>

## Configuration du traceur de banque de données [#datastore-tracer]

Voici les paramètres datastore, y compris l&apos;activation et les paramètres [des requêtes lentes](/docs/apm/applications-menu/monitoring/viewing-slow-query-details).

<CollapserGroup>
  <Collapser id="instance-reporting" title="DatastoreTracer.InstanceReporting.Enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    Cela permet de collecter des datastore instance métriques (telles que l&apos;hôte et le port) pour certains pilotes de base de données. Ceux-ci sont signalés sur le suivi de transaction et dans le cadre [des données de requête lente](/docs/apm/applications-menu/monitoring/viewing-slow-query-details).
  </Collapser>

  <Collapser id="name-reporting" title="DatastoreTracer.NameReporting.Enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    Utilisez-le pour activer la collecte du nom de la base de données sur la requête lente trace et la trace de transaction. La valeur par défaut de l&apos;attribut activé est `true`.
  </Collapser>

  <Collapser id="data-query-enabled" title="DatastoreTracer.QueryParameters.Enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    Lorsque `true`, l&apos;agent collecte les paramètres de requête d&apos;appel datastore .
  </Collapser>

  <Collapser id="slow-query" title="DatastoreTracer.SlowQuery.Enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    Contrôle si [les requêtes lentes](/docs/apm/applications-menu/monitoring/viewing-slow-query-details) sont capturées.
  </Collapser>

  <Collapser id="slow-query-threshold" title="DatastoreTracer.SlowQuery.Threshold">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            time.Millisecond
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `10`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    L&apos;agent capture [les données de requête lente](/docs/apm/applications-menu/monitoring/viewing-slow-query-details) pour les requêtes plus lentes que cela.
  </Collapser>
</CollapserGroup>

## du tracing inter-application configuration [#cross-application-tracing]

Voici les paramètres permettant de modifier la fonctionnalité [de tracing inter-applications](/docs/agents/go-agent/features/cross-application-tracing-go).

<Callout variant="important">
  Le tracing inter-applicationa été abandonné au profit du [tracing distribué](/docs/agents/go-agent/features/distributed-tracing-go) et sera supprimé dans une future version agent .
</Callout>

<CollapserGroup>
  <Collapser id="cross-tracer-enabled" title="CrossApplicationTracer.Enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure, configuration côté serveur
          </td>
        </tr>

        <tr>
          <th>
            [Étiquette côté serveur](#server-side-configuration)
          </th>

          <td>
            `Cross-application tracing on/off`
          </td>
        </tr>
      </tbody>
    </table>

    Lorsque `true`, l&apos;agent ajoutera des en-têtes de tracing inter-applicationdans requests sortantes et analysera requests entrantes pour les en-têtes de tracing inter-application .

    Le tracing distribué et le tracing inter-applicationne peuvent pas être utilisés simultanément. La configuration par défaut de l&apos;agent Go désactive le tracing distribué et active le tracing inter-application .
  </Collapser>
</CollapserGroup>

## Configuration du tracing distribué [#distributed-tracing]

<Callout variant="important">
  L&apos;activation du tracing distribué nécessite la version 2.1.0 de l&apos;agent Go ou supérieur, et il désactive [le tracing inter-applications](#cross-application-tracing). Cela a également des effets sur d’autres fonctionnalités. Avant l&apos;activation, lisez le [guide de transition](/docs/transition-guide-distributed-tracing).
</Callout>

[Le tracing distribué](/docs/agents/go-agent/features/distributed-tracing-go) vous permet de voir le chemin emprunté par une requête lorsqu&apos;elle traverse un système distribué.

Lorsque le tracing distribué est activé, vous pouvez collecter [span événement](/docs/apm/distributed-tracing/ui-data/span-event).

<CollapserGroup>
  <Collapser id="distributed-enabled" title="DistributedTracer.Enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    Le tracing standard est activé par défaut dans les versions 3.16.0 et supérieures d&apos;agent Go. Cela signifie que l&apos;agent ajoutera automatiquement des en-têtes de tracing distribué dans requests sortantes et analysera requests entrantes pour rechercher des en-têtes de tracing distribué. Pour désactiver le tracing distribué, définissez la valeur sur `false`.

    Pour plus d&apos;informations sur la configuration du tracing distribué, consultez [Activer le tracing distribué pour votre application Go](/docs/apm/agents/go-agent/instrumentation/distributed-tracing-go-agent).

    <Callout variant="important">
      L&apos;activation du tracing distribué désactive [le tracing inter-application](#cross-application-tracing).
    </Callout>
  </Collapser>

  <Collapser id="dt-exclude-newrelic-header" title="DistributedTracer.ExcludeNewRelicHeader">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    Définissez cette valeur sur `true` pour exclure l&apos;en-tête New Relic attaché aux requests sortantes et vous fier uniquement aux en-têtes W3C Trace Context pour le tracing distribué. Si c&apos;est `false`, les deux types d&apos;en-têtes sont utilisés.
  </Collapser>
</CollapserGroup>

## Configuration des événementde span [#span-events]

[Span événement](/docs/apm/distributed-tracing/ui-data/span-event) sont signalés pour [tracing distribué](/docs/agents/java-agent/configuration/java-agent-configuration-config-file#distributed-tracing). le tracing distribué doit être activé pour signaler l&apos;événement span. Ces paramètres contrôlent la collecte de l&apos;événement span :

<CollapserGroup>
  <Collapser id="span-events-enabled" title="SpanEvents.Enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    Lorsque `true`, l&apos;agent collectera l&apos;événement span.
  </Collapser>

  <Collapser id="span-event-attributes" title="Attribut SpanEvents">
    <Callout variant="important">
      Disponible pour agent Go version 2.6.0 ou supérieure.
    </Callout>

    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Structure
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            Activé, aucune exclusion
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    `SpanEvents.Attributes` est une structure avec trois champs :

    ```go
    Enabled bool
    Include []string
    Exclude []string
    ```

    Utilisez `SpanEvents.Attributes.Enabled` pour activer ou désactiver la collecte d’attributs pour l’événement span. Utilisez `Include` et `Exclude` pour inclure ou exclure un attribut spécifique.

    Un exemple d’exclusion d’une tranche d’attribut nommée `allSpanAttributeNames` de la trace :

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigAppName("Your Application Name"),
        newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
        func(config *newrelic.Config) {
            config.TransactionTracer.Segments.Attributes.Exclude = allSpanAttributeNames
        },
    )
    ```
  </Collapser>
</CollapserGroup>

## Configuration de Infinite Tracing [#infinite-tracing]

Pour activer le Infinite Tracing, activez le tracing distribué (définissez `config.DistributedTracer.Enabled = true` sur la structure `newrelic.Config` ) et ajoutez les paramètres supplémentaires ci-dessous. Pour un exemple, voir [Agent de langage : Configurer le tracing distribué](/docs/understand-dependencies/distributed-tracing/enable-configure/language-agents-enable-distributed-tracing#go-config).

<CollapserGroup>
  <Collapser id="trace-observer-host" title="InfiniteTracing.TraceObserver.Host">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            chaîne
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            (aucun)
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    Pour obtenir de l&apos;aide pour obtenir une entrée d&apos;hôte d&apos;observateur de trace Infinite Tracing valide, consultez [Rechercher ou créer un point de terminaison d&apos;observateur de trace](/docs/understand-dependencies/distributed-tracing/enable-configure/language-agents-enable-distributed-tracing#provision-trace-observer).
  </Collapser>
</CollapserGroup>

## Paramètres de logging des applications [#application-logging]

Les paramètres suivants sont disponibles pour configuration du logging application dans l&apos;agent. Pour obtenir des conseils sur l&apos;utilisation des logs en contexte d&apos;agent Go, consultez [Go logs en contexte](/docs/logs/logs-context/configure-logs-context-go).

<Callout variant="important">
  Nécessite la version 3.17.0 ou supérieure d&apos;agent Go
</Callout>

<CollapserGroup>
  <Collapser id="application-logging-enabled" title="ApplicationLogging.Enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, active la collecte des événements de log et des métriques de logging si ces sous-fonctionnalités de configuration sont également activées. Si `false`, aucune fonctionnalité d’instrumentation de logging n’est activée.

    Configurez ApplicationLogging en appelant `ConfigAppLogEnabled()`.

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigAppLogEnabled(true),
    )
    ```
  </Collapser>

  <Collapser id="application-logging-forwarding-enabled" title="ApplicationLogging.Forwarding.Enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent capture les enregistrements log émis par votre application et les transmet à New Relic. `ApplicationLogging.Enabled` doit également être `true` pour que ce paramètre prenne effet.

    Activez le transfert de logen appelant `ConfigAppLogForwardingEnabled()`.

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigAppLogForwardingEnabled(true),
    )
    ```
  </Collapser>

  <Collapser id="application-logging-forwarding-maximum-samples-stored" title="ApplicationLogging.Forwarding.MaxSamplesStored">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Entier
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `10000`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    Nombre d&apos;enregistrements log à envoyer par minute à New Relic. Ce paramètre contrôle la consommation globale de mémoire lors de l&apos;utilisation de la fonctionnalité de transfert de log .

    Configurez `ApplicationLogging.Forwarding.MaxSamplesStored` en appelant `ConfigAppLogForwardingMaxSamplesStored()`.

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigAppLogForwardingMaxSamplesStored(1000),
    )
    ```

    Définissez cette valeur sur une valeur inférieure pour réduire la quantité de lignes log envoyées (peut provoquer un échantillonnage log ). Définissez cette valeur sur une valeur plus élevée pour envoyer plus de lignes log .

    Chaque log reçoit la même priorité que sa transaction associée. Les logs qui se produisent en dehors d&apos;une transaction recevront une priorité aléatoire. Certains logs peuvent ne pas être inclus car ils sont limités par `MaxSamplesStored`. Par exemple, si le logging `MaxSamplesStored` est définie sur 10 000 et que la transaction 1 comporte 10 000 entrées log, seules les entrées log de la transaction 1 seront enregistrées. Si la transaction 1 contient moins de 10 000 logs, vous recevez tous les logs de la transaction 1. S&apos;il reste de la place, vous recevez l&apos;intégralité du log de la transaction 2, et ainsi de suite.

    Si après tout le log des transactions échantillonnées est enregistré et qu&apos;elles n&apos;ont pas atteint la limite de `MaxSamplesStored`, alors les messages de log des transactions qui n&apos;étaient pas dans notre échantillonnage sont envoyés. S&apos;il en reste, les messages de log en dehors des transactions sont enregistrés.
  </Collapser>

  <Collapser id="application-logging-metrics-enabled" title="ApplicationLogging.Métriques.Enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, l&apos;agent capture les métriques liées aux lignes log envoyées par votre application. `ApplicationLogging.Enabled` doit également être `true` pour que ce paramètre prenne effet.

    Configurez ApplicationLogging.Metrics.Enabled en appelant `ConfigAppLogMetricsEnabled()`.

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigAppLogMetricsEnabled(true),
    )
    ```
  </Collapser>
</CollapserGroup>

## Paramètres des métriques de dépendance des modules [#mdm]

Les modules dépendance métriques peuvent être configurés de différentes manières dans l&apos;agent Go. Les métriques de dépendance de module indiquent la liste des modules importés utilisés par votre application Go pour faciliter la gestion des dépendances de code. Il inclut également les informations de version des modules de votre application.

<Callout variant="important">
  Nécessite la version 3.20.0 d&apos;agent Go ou supérieur
</Callout>

<CollapserGroup>
  <Collapser id="mdm-enabled" title="ModuleDependencyMetrics.Enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    Si `true`, active la collecte des données de dépendance du module. Si `false`, aucune information de dépendance de module n&apos;est collectée.

    Configurez ModuleDependencyMetrics en appelant `ConfigModuleDependencyMetricsEnabled`.

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigModuleDependencyMetricsEnabled(true),
    )
    ```

    Vous pouvez activer le paramétrage de vos options agent Go via des variables d&apos;environnement en insérant `ConfigFromEnvironment()` dans votre appel à `NewApplication`. Si vous avez fait cela, vous pouvez activer ou désactiver la collecte des métriques de dépendance du module en définissant la variable d’environnement.

    ```ini
    NEW_RELIC_MODULE_DEPENDENCY_METRICS_ENABLED=true
    ```
  </Collapser>

  <Collapser id="mdm-ignored-prefixes" title="ModuleDependencyMetrics.IgnoredPrefixes">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne(s)
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `nil`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    Cette liste de préfixes de chemin de module spécifie que vous souhaitez exclure certains modules des informations de dépendance signalées par l&apos;agent. Tout module dont le chemin `import` commence par l’une des chaînes de préfixe répertoriées sera exclu. La valeur par défaut est une liste vide, ce qui signifie que tous les modules trouvés sont signalés.

    Spécifiez une liste de chaînes de préfixes de chemin à exclure en appelant `ConfigModuleDependencyMetricsIgnoredPrefixes`.

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigModuleDependencyMetricsIgnoredPrefixes("example.com/packageAlpha", "example.com/packageBeta"),
    )
    ```

    Si vous avez activé le paramétrage de vos options agent Go via des variables d&apos;environnement en insérant `ConfigFromEnvironment()` dans votre appel à `NewApplication`, vous pouvez répertorier les préfixes de chemin en définissant la variable d&apos;environnement.

    ```ini
    NEW_RELIC_MODULE_DEPENDENCY_METRICS_IGNORED_PREFIXES="example.com/packageAlpha,example.com/packageBeta"
    ```
  </Collapser>

  <Collapser id="mdm-redact-ignored-prefixes" title="ModuleDependencyMetrics.RedactIgnoredPrefixes">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [S&apos;installer](#options)
          </th>

          <td>
            `newrelic.Config` structure
          </td>
        </tr>
      </tbody>
    </table>

    Normalement, toutes les options que vous définissez dans le cadre de de votre agent configuration sont signalées et visibles dans l&apos;UI de New Relic . Si vous choisissez d&apos;exclure certains modules du signalement via l&apos;option `ConfigModuleDependencyIgnoredPrefixes`, vous pouvez également les supprimer des données de configuration. Par exemple, si les modules ont été exclus pour des raisons de confidentialité.

    Activez ou désactivez la rédaction des chemins exclus en appelant `ConfigModuleDependencyMetricsRedactIgnoredPrefixes`. Si `true`, la liste des préfixes de modules exclus ne sera pas signalée. Si `false`, ils sont signalés.

    ```go
    app, err := newrelic.NewApplication(
        newrelic.ConfigModuleDependencyMetricsRedactIgnoredPrefixes(false),
    )
    ```

    Si vous avez activé le paramétrage de vos options agent Go via des variables d&apos;environnement en insérant `ConfigFromEnvironment()` dans votre appel à `NewApplication`, vous pouvez répertorier les préfixes de chemin en définissant la variable d&apos;environnement.

    ```ini
    NEW_RELIC_MODULE_DEPENDENCY_METRICS_REDACT_IGNORED_PREFIXES=false
    ```
  </Collapser>
</CollapserGroup>

## New Relic IAST [#go-IAST]

[New Relic Interactive sécurité des applications Testing](/docs/iast/introduction/) (IAST) teste votre application pour détecter d&apos;éventuelles vulnérabilités exploitables en rejouant la requête HTTP générée avec une charge vulnérable. Vous pouvez activer New Relic IAST en mettant à jour le code de votre application Go avec la configuration transmise à la fonction INIT. Vous pouvez également effectuer ces configurations via un fichier YAML ou avec des variables d&apos;environnement.

Les options définies à l&apos;aide des fonctions INIT ont priorité sur l&apos;environnement ou la configuration YAML. Cela dit, nous vous recommandons d&apos;activer IAST à l&apos;aide d&apos;un fichier YAML car ces configurations seront transmises à d&apos;autres agents de votre environnement.

### Instructions d&apos;installation

Importez l&apos;intégration en ajoutant la dépendance directe suivante à votre fichier `go.mod` .

```go
import "github.com/newrelic/go-agent/v3/integrations/nrsecurityagent"
```

Ensuite, initialisez et activez l’agent de sécurité.

### Activer IAST

<CollapserGroup>
  <Collapser id="iast-option" title="Activer avec les fonctions d'option">
    ```go
    err: = nrsecurityagent.InitSecurityAgent(
        app,
        nrsecurityagent.ConfigSecurityMode("IAST"),
        nrsecurityagent.ConfigSecurityValidatorServiceEndPointUrl("wss://csec.nr-data.net"),
        nrsecurityagent.ConfigSecurityEnable(true),
    )
    ```
  </Collapser>

  <Collapser id="iast-enviro" title="Activer avec des variables d'environnement">
    ConfigSecurityFromEnvironment ordonne à l&apos;intégration nrsecurityagent d&apos;obtenir toutes ses informations de configuration à partir des variables d&apos;environnement.

    ```go
     err: = nrsecurityagent.InitSecurityAgent(
         app,
         ConfigSecurityFromEnvironment(),
     )
    ```
  </Collapser>

  <Collapser id="iast-yaml" title="Activer à partir du fichier YAML">
    ConfigSecurityFromYaml ordonne à l&apos;intégration nrsecurityagent de lire un fichier externe au format YAML pour obtenir ses valeurs de configuration. Le chemin vers ce fichier doit être fourni en définissant la variable d&apos;environnement NEW\_RELIC\_SECURITY\_CONFIG\_PATH.

    ```go
    err: = nrsecurityagent.InitSecurityAgent(
        app,
        ConfigSecurityFromYaml(),
    )
    ```

    Le fichier YAML par défaut ressemble à ceci.

    ```yaml
    enabled: true

    # NR security provides two modes IAST and RASP
    # Default is IAST
    mode: IAST

    # New Relic’s SaaS connection URLs
    validator_service_url: wss://csec.nr-data.net

    # Following category of security events
    # can be disabled from generating.
    detection:
      rxss:
        enabled: true
    request:
      body_limit: 300
    ```
  </Collapser>
</CollapserGroup>

### Configurer IAST

L&apos;agent de sécurité peut être configuré avec les options suivantes.

<CollapserGroup>
  <Collapser id="cfg-security-agent-enabled" title="cfg.Security.Agent.Enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Fonction de configuration
          </th>

          <td>
            ```go
            func(cfg *SecurityConfig) {
                cfg.Security.Agent.Enabled = true
            }
            ```
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_AGENT_ENABLED`
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>
      </tbody>
    </table>

    Pour désactiver complètement toutes les fonctionnalités de sécurité, définissez cet indicateur sur faux. En important et en initialisant l&apos;agent de sécurité dans Go, il est supposé que vous avez l&apos;intention de l&apos;utiliser, donc cette valeur par défaut est `true`. Notez qu&apos;il s&apos;agit du comportement opposé à celui de l&apos;agent instrumenté automatiquement. Cette propriété est lue une seule fois au démarrage de l&apos;application.
  </Collapser>

  <Collapser id="cfg-security-enabled" title="cfg.Security.Enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Fonction de configuration
          </th>

          <td>
            `nrsecurityagent.ConfigSecurityEnable(false)`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_ENABLED`
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `false`
          </td>
        </tr>
      </tbody>
    </table>

    Détermine si les données de sécurité sont envoyées à New Relic ou non. Lorsque cette option est désactivée et que agent.enabled est vrai, le module de sécurité s&apos;exécutera mais les données ne seront pas envoyées. La valeur par défaut est faux.
  </Collapser>

  <Collapser id="cfg-security-mode" title="cfg.Security.Mode">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Fonction de configuration
          </th>

          <td>
            `nrsecurityagent.ConfigSecurityMode("IAST")`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_MODE`
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `IAST`
          </td>
        </tr>
      </tbody>
    </table>

    Mode de sécurité New Relic : IAST. La valeur par défaut est IAST. En raison de la nature invasive de l&apos;analyse IAST, N&apos;ACTIVEZ PAS ce mode dans un environnement de production ou dans un environnement où des données de production sont traitées.
  </Collapser>

  <Collapser id="cfg-security-validator-service-url" title="cfg.Security.Validator_service_url">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Chaîne
          </td>
        </tr>

        <tr>
          <th>
            Fonction de configuration
          </th>

          <td>
            `nrsecurityagent.ConfigSecurityValidatorServiceEndPointUrl("wss://csec.nr-data.net")`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_VALIDATOR_SERVICE_URL`
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `wss://csec.nr-data.net`
          </td>
        </tr>
      </tbody>
    </table>

    URL de connexion SaaS de New Relic Security. Il s’agit du point de terminaison auquel l’agent de sécurité envoie les données. Il doit correspondre à l’environnement que vous avez défini pour l’agent Java APM.

    Production américaine : wss\://csec.nr-data.net
  </Collapser>

  <Collapser id="cfg-security-detection-rxss-enabled" title="cfg.Security.Detection.Rxss.Enabled">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Booléen
          </td>
        </tr>

        <tr>
          <th>
            Fonction de configuration
          </th>

          <td>
            `nrsecurityagent.ConfigSecurityDetectionDisableRxss(true)`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_DETECTION_RXSS_ENABLED`
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            `true`
          </td>
        </tr>
      </tbody>
    </table>

    Activez la détection des événements de sécurité RXSS. La valeur par défaut est vrai.
  </Collapser>

  <Collapser id="cfg-security-request-body-limit" title="cfg.Security.Request.BodyLimit">
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Int
          </td>
        </tr>

        <tr>
          <th>
            Fonction de configuration
          </th>

          <td>
            `nrsecurityagent.ConfigSecurityRequestBodyLimit(300)`
          </td>
        </tr>

        <tr>
          <th>
            Variable d&apos;environnement
          </th>

          <td>
            `NEW_RELIC_SECURITY_REQUEST_BODY_LIMIT`
          </td>
        </tr>

        <tr>
          <th>
            Défaut
          </th>

          <td>
            300
          </td>
        </tr>
      </tbody>
    </table>

    La limite du corps de la demande de sécurité définit une limite de lecture de la quantité de mémoire qui peut être consommée lors de la lecture d&apos;un corps de demande en Ko. Par défaut, c&apos;est « 300 ».
  </Collapser>

  ### les parties sensibles de votre applicationen matière de sécurité des instruments

  L&apos;intégration `nrgin`, `nrgrpc`, `nrmicro`, `fasthttp` ou `nrmongo` contient désormais du code pour prendre en charge l&apos;analyse de sécurité des données qu&apos;elles traitent.

  De plus, l&apos;agent Go effectuera un examen des vulnérabilités sur le code instrumenté contenant des segments datastore, des opérations SQL, des transactions et des appels HTTP encapsulés et des points de terminaison.
</CollapserGroup>