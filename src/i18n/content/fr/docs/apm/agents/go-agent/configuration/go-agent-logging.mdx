---
title: Logging de l'agent Go
tags:
  - Agents
  - Go agent
  - Configuration
metaDescription: You can set up several logging levels for your New Relic Go agent; this is useful for troubleshooting your New Relic Golang integration.
freshnessValidatedDate: never
translationType: machine
---

Le logging [New Relic for Go](/docs/agents/go-agent/get-started/new-relic-go) utilise le [package de log Go](https://golang.org/pkg/log/) standard et un package New Relic `Logger`. Le logging est utile pour [le dépannage](/docs/agents/go-agent/troubleshooting/no-data-appears-go) de votre intégration New Relic ; par exemple, en cas de problèmes [installation](/docs/agents/go-agent/get-started/install-new-relic-go) ou [configuration](/docs/agents/go-agent/instrumentation/go-agent-configuration).

## Écrire un fichier de log [#write-logfiles]

Pour utiliser les méthodes agent Go pour l&apos;écriture des fichiers log et d&apos;audit, consultez [log.go sur le référentiel GitHub agent (repository)](https://github.com/newrelic/go-agent/blob/20541a9393ae651949eb75b82666d4a7c2a10dec/v3/newrelic/log.go).

## Intégrations Logrus [#logrus]

New Relic propose deux intégrations Logrus pour différents cas d&apos;utilisation :

### Logging de l&apos;agent (pour les messages de débogage de l&apos;agent Go) [#agent-logging]

Utilisez cette intégration pour envoyer les messages de logs internes de l&apos;agent Go vers Logrus. Cela est utile pour le dépannage de l&apos;agent lui-même.

**Intégration :** [`nrlogrus`](https://github.com/newrelic/go-agent/tree/master/v3/integrations/nrlogrus)

Voici un exemple d&apos;utilisation de l&apos;intégration New Relic Logrus pour le logging de l&apos;agent :

1. Importez les packages requis :

   ```go
   import (
       "os"

       "github.com/newrelic/go-agent/v3/integrations/nrlogrus"
       "github.com/newrelic/go-agent/v3/newrelic"
       "github.com/sirupsen/logrus"
   )
   ```

2. Configurez l&apos;agent Go pour utiliser Logrus pour le logging de l&apos;agent :

   ```go
   app, err := newrelic.NewApplication(
       newrelic.ConfigAppName("Your Application Name"),
       newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
       func(config *newrelic.Config) {
           logrus.SetLevel(logrus.DebugLevel)
           config.Logger = nrlogrus.StandardLogger()
       },
   )
   ```

### Logs d&apos;application (logs en contexte) [#application-logging]

Utilisez cette intégration pour envoyer les messages de log Logrus de votre application vers New Relic avec une corrélation automatique des traces. Cela active les [logs en contexte](/docs/logs/logs-context/configure-logs-context-go/), vous permettant de voir les messages de log liés à vos erreurs et traces directement dans l&apos;interface utilisateur de votre application.

**Intégration :** [`logcontext-v2/nrlogrus`](https://github.com/newrelic/go-agent/tree/master/v3/integrations/logcontext-v2/nrlogrus)

Voici un exemple d&apos;utilisation de l&apos;intégration New Relic Logrus pour le logging d&apos;application :

1. Importez les packages requis :

   ```go
   import (
       "context"
       "os"

       "github.com/newrelic/go-agent/v3/integrations/logcontext-v2/nrlogrus"
       "github.com/newrelic/go-agent/v3/newrelic"
       "github.com/sirupsen/logrus"
   )
   ```

2. Configurez Logrus pour utiliser le formateur New Relic :

   ```go
   app, err := newrelic.NewApplication(
       newrelic.ConfigAppName("Your Application Name"),
       newrelic.ConfigLicense(os.Getenv("NEW_RELIC_LICENSE_KEY")),
       newrelic.ConfigAppLogForwardingEnabled(true),
   )

   logger := logrus.New()
   logger.SetFormatter(nrlogrus.NewFormatter(app, &logrus.TextFormatter{}))
   ```

3. Utilisez le logger dans votre application avec le contexte de transaction :

   ```go
   txn := app.StartTransaction("myTransaction")
   defer txn.End()

   ctx := newrelic.NewContext(context.Background(), txn)
   logger.WithContext(ctx).Info("This log will be correlated with the transaction")
   ```

Pour plus d&apos;exemples, consultez les [exemples logcontext-v2/nrlogrus](https://github.com/newrelic/go-agent/tree/master/v3/integrations/logcontext-v2/nrlogrus/example).

## Autres intégrations de logging prises en charge [#other-integrations]

En plus de Logrus, New Relic propose des intégrations pour plusieurs autres bibliothèques de logging Go populaires :

### Intégrations de logging de l&apos;Agent [#other-agent-logging]

Ces intégrations envoient les messages de débogage internes de l&apos;agent Go à votre framework de logging :

* **[nrzap](https://github.com/newrelic/go-agent/tree/master/v3/integrations/nrzap)** - Intégration avec le logger Zap d&apos;Uber
* **[nrslog](https://github.com/newrelic/go-agent/tree/master/v3/integrations/nrslog)** - Intégration avec le package `log/slog` de la bibliothèque standard Go
* **[nrzerolog](https://github.com/newrelic/go-agent/tree/master/v3/integrations/nrzerolog)** - Intégration avec Zerolog
* **[nrlogxi](https://github.com/newrelic/go-agent/tree/master/v3/integrations/nrlogxi)** - Intégration avec Logxi

### Intégrations de logs en contexte [#other-logs-context]

Ces intégrations activent les logs en contexte pour vos logs d&apos;application :

* **[logcontext-v2/zerologWriter](https://github.com/newrelic/go-agent/tree/master/v3/integrations/logcontext-v2/zerologWriter)** - Envoyez les messages de log Zerolog vers New Relic avec la corrélation de traces
* **[logcontext-v2/logWriter](https://github.com/newrelic/go-agent/tree/master/v3/integrations/logcontext-v2/logWriter)** - Envoyer les messages du package `log` de la bibliothèque standard vers New Relic avec la corrélation de traces

Chaque intégration suit un modèle similaire aux exemples Logrus ci-dessus. Consultez les dépôts GitHub respectifs pour des instructions d&apos;utilisation détaillées et des exemples.

## Afficher les logs de vos données APM et infrastructure [#logs-context]

Avec les [logs en contexte](/docs/logs/logs-context/configure-logs-context-go/), vous pouvez visualiser les messages de log liés à vos erreurs et traces directement dans l&apos;interface utilisateur de votre application. Vous pouvez également consulter les logs dans le contexte de vos [données d&apos;infrastructure](/docs/logs/forward-logs/forward-your-logs-using-infrastructure-agent/), telles que les clusters Kubernetes. Inutile de basculer vers une autre page de l&apos;interface.

Pour activer les logs en contexte, utilisez l&apos;une des [intégrations de logs en contexte](#other-logs-context) listées ci-dessus. Pour Logrus spécifiquement, consultez l&apos;intégration [`logcontext-v2/nrlogrus`](#application-logging).