---
title: Définir la durée maximale du tampon d'événement
type: apiDoc
shortDescription: Définit la durée du cycle d'événement de collecte.
tags:
  - Mobile monitoring
  - Mobile SDK API
  - Custom instrumentation
metaDescription: Mobile app monitoring API used to set the event harvest cycle length.
freshnessValidatedDate: '2023-07-20T00:00:00.000Z'
translationType: machine
---

<Tabs>
  <TabsBar>
    <TabsBarItem id="android">
      Android
    </TabsBarItem>

    <TabsBarItem id="ios">
      iOS
    </TabsBarItem>

    <TabsBarItem id="capacitor">
      Capacitor
    </TabsBarItem>

    <TabsBarItem id="cordova">
      Cordova
    </TabsBarItem>

    <TabsBarItem id="maui">
      .NET MAUI
    </TabsBarItem>

    <TabsBarItem id="flutter">
      Flutter
    </TabsBarItem>

    <TabsBarItem id="react">
      React Native
    </TabsBarItem>

    <TabsBarItem id="unity">
      Unité
    </TabsBarItem>

    <TabsBarItem id="unreal">
      Moteur Unreal
    </TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="android">
      ## Syntaxe [#syntax]

      ### Java [#java]

      ```java
      NewRelic.setMaxEventBufferTime(int $maxBufferTimeInSec)
      ```

      ### Kotlin [#kotlin]

      ```kotlin
      NewRelic.setMaxEventBufferTime(maxBufferTimeInSec: Int)
      ```

      ## Description [#description]

      Définit la durée du cycle d&apos;événement de collecte.

      Cette méthode définit le temps maximum en secondes pendant lequel l&apos;agent Android New Relic stockera l&apos;événement en mémoire avant d&apos;inclure l&apos;événement mis en mémoire tampon à envoyer à New Relic lors du prochain [cycle de collecte](/docs/apm/new-relic-apm/getting-started/glossary#harvest-cycle).

      * La valeur par défaut est de 60 secondes (1 minute).
      * La valeur minimale ne peut pas être inférieure à 60 secondes.
      * La valeur maximale ne doit pas être supérieure à 600 secondes.

      En d&apos;autres termes, lorsque l&apos;horodatage de l&apos;événement le plus ancien dépasse ce temps configuré sur mesure, l&apos;agent transmet le contenu mis en mémoire tampon au cycle de collecte entre chaque connexion d&apos;un agent New Relic au collecteur.

      Voir également [`setMaxEventPoolSize()`](/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/setmaxeventpoolsize-android-sdk-api), qui définit le nombre maximal d&apos;événements stockés par l&apos;agent pendant un cycle de collecte.

      <Callout variant="important">
        Gardez à l&apos;esprit que le signalement d&apos;un grand nombre d&apos;événements, ou le signalement d&apos;événements trop fréquents, peut avoir un impact sur les performances de l&apos;application.
      </Callout>

      ## Paramètres [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              paramètres
            </th>

            <th width={200}>
              Type
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `$maxBufferTimeInSec`
            </td>

            <td>
              `int`
            </td>

            <td>
              Obligatoire. Le temps maximum (en secondes) que l&apos;agent doit conserver les événements en mémoire. La durée par défaut du cycle de collecte des événements est de 60 secondes.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemple [#example]

      Voici un exemple pour définir la durée maximale de la mémoire tampon de l&apos;événement à 300 secondes :

      ### Java [#java]

      ```java
      boolean NewRelic.setMaxEventBufferTime(300);
      ```

      ### Kotlin [#kotlin]

      ```kotlin
      NewRelic.setMaxEventBufferTime(300)
      ```
    </TabsPageItem>

    <TabsPageItem id="ios">
      ## Syntaxe [#syntax]

      ### Objectif-C [#objc]

      ```objectivec
      + (void) setMaxEventBufferTime:(unsigned int)seconds;
      ```

      ### Swift [#swift]

      ```swift
      NewRelic.setMaxEventBufferTime:(unsigned int)seconds;
      ```

      ## Description [#description]

      Définit la durée du cycle de collecte des événements. La valeur par défaut est de 60 secondes.

      Cette méthode définit le temps maximum en secondes pendant lequel l&apos;agent iOS New Relic stockera l&apos;événement en mémoire avant d&apos;inclure l&apos;événement mis en mémoire tampon à envoyer à New Relic lors du prochain [cycle de collecte](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#harvest-cycle). En d&apos;autres termes, lorsque l&apos;horodatage de l&apos;événement le plus ancien dépasse ce temps configuré sur mesure, l&apos;agent transmet le contenu mis en mémoire tampon au cycle de collecte entre chaque connexion d&apos;un agent New Relic au collecteur. Vous devez définir cette valeur après l&apos;appel de `Agent.start()` .

      * La valeur par défaut est de 60 secondes (1 minute).
      * La valeur minimale ne peut pas être inférieure à 60 secondes.

      Voir également [`setMaxEventPoolSize()`](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/set-max-event-pool-size/), qui vous permet de modifier la taille maximale du pool d&apos;événements.

      ## Paramètres [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              paramètres
            </th>

            <th width={200}>
              Type
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `seconds`
            </td>

            <td>
              `unsigned int`
            </td>

            <td>
              Requis. La durée maximale en secondes pendant laquelle l&apos;événement peut être mis en mémoire tampon avant d&apos;être envoyé à New Relic.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemples [#examples]

      ### Objective-C [#obj-c]

      ```objectivec
      BOOL fiveMinuteLimitSet = [NewRelic setMaxEventBufferTime:600];
      ```

      ### Swift [#swift]

      ```swift
      let fiveMinuteLimitSet = NewRelic.setMaxEventBufferTime(600)
      ```
    </TabsPageItem>

    <TabsPageItem id="capacitor">
      ## Syntaxe [#syntax]

      ```typescript
      setMaxEventBufferTime(options: { maxBufferTimeInSeconds: number; }) => void
      ```

      ## Description [#description]

      Définit la durée du cycle de collecte des événements. La valeur par défaut est de 60 secondes (1 minute). La valeur minimale ne peut pas être inférieure à 60 secondes. La valeur maximale ne doit pas être supérieure à 600 secondes.

      ## Paramètres [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              paramètres
            </th>

            <th width={200}>
              Type
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `options`
            </td>

            <td>
              `{ maxBufferTimeInSeconds: number; }`
            </td>

            <td>
              Requis. Un objet qui contient le temps de mémoire tampon maximal en secondes.
            </td>
          </tr>

          <tr>
            <td>
              `maxBufferTimeInSeconds`
            </td>

            <td>
              `number`
            </td>

            <td>
              Requis. La durée maximale en secondes pendant laquelle l&apos;événement peut être mis en mémoire tampon avant d&apos;être envoyé à New Relic.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemple [#example]

      ```typescript
      NewRelicCapacitorPlugin.setMaxEventBufferTime({ maxBufferTimeInSeconds: 60 });
      ```
    </TabsPageItem>

    <TabsPageItem id="cordova">
      ## Syntaxe [#syntax]

      ```typescript
      setMaxEventBufferTime(maxBufferTimeInSeconds: number): void;
      ```

      ## Description [#description]

      Définit la durée du cycle de collecte des événements. La valeur par défaut est de 60 secondes (1 minute). La valeur minimale ne peut pas être inférieure à 60 secondes. La valeur maximale ne doit pas être supérieure à 600 secondes.

      ## Paramètres [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              paramètres
            </th>

            <th width={200}>
              Type
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `maxBufferTimeInSeconds`
            </td>

            <td>
              `number`
            </td>

            <td>
              Requis. La durée maximale en secondes pendant laquelle l&apos;événement peut être mis en mémoire tampon avant d&apos;être envoyé à New Relic.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemple [#example]

      ```js
      NewRelic.setMaxEventBufferTime(60);
      ```
    </TabsPageItem>

    <TabsPageItem id="maui">
      ## Syntaxe [#syntax]

      ```csharp
      SetMaxEventBufferTime(int maxBufferTimeInSec) void;
      ```

      ## Description [#description]

      Définit la durée du cycle de collecte des événements. La valeur par défaut est de 60 secondes (1 minute). La valeur minimale ne peut pas être inférieure à 60 secondes. La valeur maximale ne doit pas être supérieure à 600 secondes.

      ## Paramètres [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              paramètres
            </th>

            <th width={200}>
              Type
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `maxBufferTimeInSec`
            </td>

            <td>
              `int`
            </td>

            <td>
              Requis. La durée maximale en secondes pendant laquelle l&apos;événement peut être mis en mémoire tampon avant d&apos;être envoyé à New Relic.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemple [#example]

      ```csharp
      CrossNewRelic.Current.SetMaxEventBufferTime(200);
      ```
    </TabsPageItem>

    <TabsPageItem id="flutter">
      ## Syntaxe [#syntax]

      ```typescript
      setMaxEventBufferTime(int maxBufferTimeInSec) void;
      ```

      ## Description [#description]

      Définit la durée du cycle de collecte des événements. La valeur par défaut est de 60 secondes (1 minute). La valeur minimale ne peut pas être inférieure à 60 secondes. La valeur maximale ne doit pas être supérieure à 600 secondes.

      ## Paramètres [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              paramètres
            </th>

            <th width={200}>
              Type
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `maxBufferTimeInSec`
            </td>

            <td>
              `int`
            </td>

            <td>
              Requis. La durée maximale en secondes pendant laquelle l&apos;événement peut être mis en mémoire tampon avant d&apos;être envoyé à New Relic.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemple [#example]

      ```dart
      NewrelicMobile.instance.setMaxEventBufferTime(200);
      ```
    </TabsPageItem>

    <TabsPageItem id="react">
      ## Syntaxe [#syntax]

      ```js
      setMaxEventBufferTime(maxBufferTimeInSeconds: number): void;
      ```

      ## Description [#description]

      Définit la durée du cycle de collecte des événements. La valeur par défaut est de 60 secondes (1 minute). La valeur minimale ne peut pas être inférieure à 60 secondes. La valeur maximale ne doit pas être supérieure à 600 secondes.

      ## Paramètres [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              paramètres
            </th>

            <th width={200}>
              Type
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `maxBufferTimeInSeconds`
            </td>

            <td>
              `number`
            </td>

            <td>
              Requis. La durée maximale en secondes pendant laquelle l&apos;événement peut être mis en mémoire tampon avant d&apos;être envoyé à New Relic.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemple [#example]

      ```js
      NewRelic.setMaxEventBufferTime(60);
      ```
    </TabsPageItem>

    <TabsPageItem id="unity">
      ## Syntaxe [#syntax]

      ```csharp
      SetMaxEventBufferTime(int maxBufferTimeInSec) void;
      ```

      ## Description [#description]

      Définit la durée du cycle de collecte des événements. La valeur par défaut est de 60 secondes (1 minute). La valeur minimale ne peut pas être inférieure à 60 secondes. La valeur maximale ne doit pas être supérieure à 600 secondes.

      ## Paramètres [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              paramètres
            </th>

            <th width={200}>
              Type
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `maxBufferTimeInSec`
            </td>

            <td>
              `int`
            </td>

            <td>
              Requis. La durée maximale en secondes pendant laquelle l&apos;événement peut être mis en mémoire tampon avant d&apos;être envoyé à New Relic.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemple [#example]

      ```csharp
      NewRelicAgent.SetMaxEventBufferTime(200);
      ```
    </TabsPageItem>

    <TabsPageItem id="unreal">
      ## Syntaxe [#syntax]

      ```cpp
      setMaxEventBufferTime(int64 maxBufferTimeInSec):void;
      ```

      ## Description [#description]

      Définit la durée du cycle de collecte des événements. La valeur par défaut est de 60 secondes (1 minute). La valeur minimale ne peut pas être inférieure à 60 secondes. La valeur maximale ne doit pas être supérieure à 600 secondes.

      ## Paramètres [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              paramètres
            </th>

            <th width={200}>
              Type
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `maxBufferTimeInSec`
            </td>

            <td>
              `int`
            </td>

            <td>
              Requis. La durée maximale en secondes pendant laquelle l&apos;événement peut être mis en mémoire tampon avant d&apos;être envoyé à New Relic.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemple [#example]

      ```cpp
      UNewRelicBPLibrary::setMaxEventBufferTime(60);
      ```
    </TabsPageItem>
  </TabsPages>
</Tabs>