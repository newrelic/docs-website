---
title: Définir la taille maximale de stockage hors ligne
type: apiDoc
shortDescription: Définit la taille maximale qui peut être stockée dans le stockage hors ligne.
tags:
  - Mobile monitoring
  - Mobile SDK API
  - Custom instrumentation
metaDescription: Mobile app monitoring API used to set the maximum size of offline storage.
freshnessValidatedDate: '2024-02-28T00:00:00.000Z'
translationType: machine
---

Définit la taille maximale des données totales pouvant être stockées pour le stockage hors ligne.

Par défaut, monitoring des applications mobiles peut collecter un maximum de 100 mégaoctets de stockage hors ligne. Lorsqu&apos;une charge utile de données ne parvient pas à être envoyée parce que l&apos;appareil ne dispose pas de connexion Internet, elle peut être stockée dans le système de fichiers jusqu&apos;à ce qu&apos;une connexion Internet soit établie. Une fois qu&apos;une charge utile de récolte typique a été envoyée avec succès, toutes les données hors ligne sont envoyées à New Relic et effacées du stockage.

Cette méthode contrôle la quantité maximale de stockage hors ligne pouvant être stockée dans le système de fichiers. Lorsque la limite de taille est atteinte, l&apos;agent New Relic Mobile rejettera la nouvelle charge qui n&apos;a pas pu être stockée. Cette méthode vous permet de remplacer la taille maximale de ce stockage hors ligne.

<Tabs>
  <TabsBar>
    <TabsBarItem id="android">
      Android
    </TabsBarItem>

    <TabsBarItem id="ios">
      iOS
    </TabsBarItem>

    <TabsBarItem id="capacitor">
      Capacitor
    </TabsBarItem>

    <TabsBarItem id="cordova">
      Cordova
    </TabsBarItem>

    <TabsBarItem id="maui">
      .NET MAUI
    </TabsBarItem>

    <TabsBarItem id="flutter">
      Flutter
    </TabsBarItem>

    <TabsBarItem id="react">
      React Native
    </TabsBarItem>

    <TabsBarItem id="unity">
      Unité
    </TabsBarItem>

    <TabsBarItem id="xamarin">
      Xamarin
    </TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="android">
      <Callout variant="important">
        Le stockage hors ligne est désactivé par défaut. Pour l&apos;activer, ajoutez l&apos;indicateur de fonctionnalité suivant :

        ```java
        NewRelic.enableFeature(FeatureFlag.OfflineStorage)
        ```

        Pour plus de détails sur l&apos;ajout d&apos;indicateurs de fonctionnalité, voir [Configurer les paramètres monitoring des applications mobiles](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/configure-settings/#android).
      </Callout>

      ## Syntaxe [#syntax]

      ### Java [#java]

      ```java
      NewRelic.setMaxOfflineStorageSize(int $megaBytes)
      ```

      ### Kotlin [#kotlin]

      ```kotlin
      NewRelic.setMaxOfflineStorageSize(megaBytes: Int)
      ```

      ## Paramètres [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              paramètres
            </th>

            <th width={200}>
              Type
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `$megaBytes`
            </td>

            <td>
              `int`
            </td>

            <td>
              Requis. Taille maximale en mégaoctets pouvant être stockée dans le système de fichiers.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemple [#example]

      Voici un exemple pour définir la taille maximale de stockage hors ligne sur 1 000 :

      ### Java [#java]

      ```java
      NewRelic.setMaxOfflineStorageSize(1000);
      ```

      ### Kotlin [#kotlin]

      ```kotlin
      NewRelic.setMaxOfflineStorageSize(1000)
      ```
    </TabsPageItem>

    <TabsPageItem id="ios">
      <Callout variant="important">
        Le stockage hors ligne est désactivé par défaut. Pour l&apos;activer, ajoutez l&apos;indicateur de fonctionnalité suivant :

        ```swift
        NewRelic.enableFeatures(NRMAFeatureFlags.NRFeatureFlag_OfflineStorage)
        ```

        Pour plus de détails sur l&apos;ajout d&apos;indicateurs de fonctionnalité, voir [Configurer les paramètres monitoring des applications mobiles](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/configure-settings/#ios).
      </Callout>

      ## Syntaxe [#syntax]

      ### Objective-C [#objc]

      ```objectivec
      + (void) setMaxOfflineStorageSize:(unsigned int)size;
      ```

      ### Swift [#swift]

      ```swift
      NewRelic.setMaxOfflineStorageSize(unsigned int $size)
      ```

      ## Paramètres [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              paramètres
            </th>

            <th width={200}>
              Type
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `$megaBytes`
            </td>

            <td>
              `unsigned int`
            </td>

            <td>
              Requis. Taille maximale en mégaoctets pouvant être stockée dans le système de fichiers.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemples [#examples]

      ### Objective-C [#obj-c]

      ```objectivec
      BOOL poolSizeSet = [NewRelic setMaxOfflineStorageSize:1000];
      ```

      ### Swift [#swift]

      ```swift
      let poolSizeSet = NewRelic.setMaxOfflineStorageSize(1000)
      ```
    </TabsPageItem>

    <TabsPageItem id="capacitor">
      <Callout variant="important">
        Le stockage hors ligne est activé par défaut. Si vous devez le désactiver, ajoutez l&apos;indicateur de fonctionnalité suivant :

        ```typescript
        offlineStorageEnabled: false
        ```

        Pour plus de détails sur l&apos;ajout d&apos;indicateurs de fonctionnalité, voir [Configurer les paramètres monitoring des applications mobiles](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/configure-settings/#capacitor).
      </Callout>

      ## Syntaxe [#syntax]

      ```typescript
      setMaxOfflineStorageSize(options: { megabytes: number; }) => void
      ```

      ## Paramètres [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              paramètres
            </th>

            <th width={200}>
              Type
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `megabytes`
            </td>

            <td>
              `number`
            </td>

            <td>
              Requis. Taille maximale en mégaoctets pouvant être stockée dans le système de fichiers.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemple [#example]

      ```typescript
      NewRelicCapacitorPlugin.setMaxOfflineStorageSize({ megaBytes: 200 })
      ```
    </TabsPageItem>

    <TabsPageItem id="cordova">
      <Callout variant="important">
        Le stockage hors ligne est activé par défaut. Si vous devez le désactiver, ajoutez l&apos;indicateur de fonctionnalité suivant :

        ```typescript
        OFFLINE_STORAGE_ENABLED = "false"
        ```

        Pour plus de détails sur l&apos;ajout d&apos;indicateurs de fonctionnalité, voir [Configurer les paramètres monitoring des applications mobiles](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/configure-settings/#cordova).
      </Callout>

      ## Syntaxe [#syntax]

      ```typescript
      setMaxOfflineStorageSize(megabytes: number): void;
      ```

      ## Paramètres [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              paramètres
            </th>

            <th width={200}>
              Type
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `megabytes`
            </td>

            <td>
              `number`
            </td>

            <td>
              Requis. Taille maximale en mégaoctets pouvant être stockée dans le système de fichiers.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemple [#example]

      ```js
      NewRelic.setMaxOfflineStorageSize(200);
      ```
    </TabsPageItem>

    <TabsPageItem id="maui">
      <Callout variant="important">
        Le stockage hors ligne est activé par défaut. Si vous devez le désactiver, ajoutez l&apos;indicateur de fonctionnalité suivant :

        ```csharp
        offlineStorageEnabled: false
        ```

        Pour plus de détails sur l&apos;ajout d&apos;indicateurs de fonctionnalité, voir [Configurer les paramètres monitoring des applications mobiles](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/configure-settings/#maui).
      </Callout>

      ## Syntaxe [#syntax]

      ```csharp
      setMaxOfflineStorageSize(int megabytes): void;
      ```

      ## Paramètres [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              paramètres
            </th>

            <th width={200}>
              Type
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `megabytes`
            </td>

            <td>
              `int`
            </td>

            <td>
              Requis. Taille maximale en mégaoctets pouvant être stockée dans le système de fichiers.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemple [#example]

      ```csharp
      CrossNewRelic.Current.SetMaxOfflineStorageSize(200);
      ```
    </TabsPageItem>

    <TabsPageItem id="flutter">
      <Callout variant="important">
        Le stockage hors ligne est activé par défaut. Si vous devez le désactiver, ajoutez l&apos;indicateur de fonctionnalité suivant :

        ```typescript
        offlineStorageEnabled: false
        ```

        Pour plus de détails sur l&apos;ajout d&apos;indicateurs de fonctionnalité, voir [Configurer les paramètres monitoring des applications mobiles](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/configure-settings/#flutter).
      </Callout>

      ## Syntaxe [#syntax]

      ```typescript
      setMaxOfflineStorageSize(int megabytes): void;
      ```

      ## Paramètres [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              paramètres
            </th>

            <th width={200}>
              Type
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `megabytes`
            </td>

            <td>
              `int`
            </td>

            <td>
              Requis. Taille maximale en mégaoctets pouvant être stockée dans le système de fichiers.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemple [#example]

      ```dart
      NewrelicMobile.instance.setMaxOfflineStorageSize(200);
      ```
    </TabsPageItem>

    <TabsPageItem id="react">
      <Callout variant="important">
        Le stockage hors ligne est activé par défaut. Si vous devez le désactiver, ajoutez l&apos;indicateur de fonctionnalité suivant :

        ```typescript
        offlineStorageEnabled: false
        ```

        Pour plus de détails sur l&apos;ajout d&apos;indicateurs de fonctionnalité, voir [Configurer les paramètres monitoring des applications mobiles](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/configure-settings/#react).
      </Callout>

      ## Syntaxe [#syntax]

      ```js
      setMaxOfflineStorageSize(megabytes: number): void;
      ```

      ## Paramètres [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              paramètres
            </th>

            <th width={200}>
              Type
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `megabytes`
            </td>

            <td>
              `number`
            </td>

            <td>
              Requis. Taille maximale en mégaoctets pouvant être stockée dans le système de fichiers.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemple [#example]

      ```js
      NewRelic.setMaxOfflineStorageSize(200);
      ```
    </TabsPageItem>

    <TabsPageItem id="unity">
      <Callout variant="important">
        Le stockage hors ligne est activé par défaut. Si vous devez le désactiver, consultez [Configurer les paramètres monitoring des applications mobiles](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/configure-settings/#unity).
      </Callout>

      ## Syntaxe [#syntax]

      ```csharp
      SetMaxOfflineStorageSize(int maxOfflineStorageSize): void;
      ```

      ## Paramètres [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              paramètres
            </th>

            <th width={200}>
              Type
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `maxOfflineStorageSize`
            </td>

            <td>
              `int`
            </td>

            <td>
              Requis. Taille maximale en mégaoctets pouvant être stockée dans le système de fichiers.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemple [#example]

      ```csharp
      NewRelicAgent.SetMaxOfflineStorageSize(200);
      ```
    </TabsPageItem>

    <TabsPageItem id="xamarin">
      <Callout variant="important">
        Le stockage hors ligne est activé par défaut. Si vous devez le désactiver, ajoutez l&apos;indicateur de fonctionnalité suivant :

        ```typescript
        offlineStorageEnabled: false
        ```

        Pour plus de détails sur l&apos;ajout d&apos;indicateurs de fonctionnalité, voir [Configurer les paramètres monitoring des applications mobiles](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/configure-settings/#xamarin).
      </Callout>

      ## Syntaxe [#syntax]

      ```csharp
      SetMaxOfflineStorageSize(int megabytes): void;
      ```

      ## Paramètres [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              paramètres
            </th>

            <th width={200}>
              Type
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `megabytes`
            </td>

            <td>
              `int`
            </td>

            <td>
              Requis. Taille maximale en mégaoctets pouvant être stockée dans le système de fichiers.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemple [#example]

      ```csharp
      CrossNewRelicClient.Current.SetMaxOfflineStorageSize(200);
      ```
    </TabsPageItem>
  </TabsPages>
</Tabs>