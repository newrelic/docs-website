---
title: Définir un identifiant utilisateur personnalisé pour les sessions
type: apiDoc
shortDescription: Définissez une valeur d'identifiant utilisateur personnalisée pour associer les sessions utilisateur à l'événement et à l'attribut d'analyse.
tags:
  - Mobile monitoring
  - Mobile SDK API
  - Custom instrumentation
metaDescription: Mobile app monitoring API used to set a custom user identifier value to associate user sessions with analytics events and attributes.
freshnessValidatedDate: '2023-07-20T00:00:00.000Z'
translationType: machine
---

<Tabs>
  <TabsBar>
    <TabsBarItem id="android">
      Android
    </TabsBarItem>

    <TabsBarItem id="ios">
      iOS
    </TabsBarItem>

    <TabsBarItem id="capacitor">
      Capacitor
    </TabsBarItem>

    <TabsBarItem id="cordova">
      Cordova
    </TabsBarItem>

    <TabsBarItem id="flutter">
      Flutter
    </TabsBarItem>

    <TabsBarItem id="maui">
      .NET MAUI
    </TabsBarItem>

    <TabsBarItem id="react">
      React Native
    </TabsBarItem>

    <TabsBarItem id="unity">
      Unité
    </TabsBarItem>

    <TabsBarItem id="unreal">
      Moteur Unreal
    </TabsBarItem>

    <TabsBarItem id="xamarin">
      Xamarin
    </TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="android">
      ## Syntaxe [#syntax]

      ### Java [#java]

      ```java
      NewRelic.setUserId(string $userId)
      ```

      ### Kotlin [#kotlin]

      ```kotlin
      NewRelic.setUserId(userId: String?)
      ```

      ## Description [#description]

      Définissez une valeur d&apos;identifiant utilisateur personnalisée pour associer les sessions utilisateur à l&apos;événement et à l&apos;attribut d&apos;analyse.

      Cette méthode définit une valeur d&apos;identifiant utilisateur personnalisée pour associer tous les événements de la session d&apos;un utilisateur mobile à un identifiant utilisateur spécifique. Cette méthode peut être appelée à tout moment après le démarrage de l&apos;agent Android New Relic.

      Un identifiant utilisateur est utile pour plusieurs raisons. À l’aide de l’ [UId’analyse des pannes](/docs/mobile-monitoring/mobile-monitoring-ui/crashes/crash-analysis-group-filter-your-crashes), vous pouvez :

      * Rechercher des crashs spécifiques à un utilisateur. Se concentrer sur un crash particulier concernant un utilisateur suffit souvent à résoudre rapidement le problème.
      * Filtrez tous les crashs pour afficher les occurrences d&apos;un utilisateur (ou d&apos;un groupe d&apos;utilisateurs) pour chaque type de crash ; inversement, filtrez la liste des crashs pour afficher les utilisateurs affectés par chaque type de crash. Si l&apos;ID utilisateur est représenté sous la forme d&apos;une adresse e-mail, il est alors facile de les contacter et de les informer lorsqu&apos;une solution est disponible pour résoudre ces pannes.

      Si vous ne souhaitez pas identifier explicitement l&apos;utilisateur en raison des règles de confidentialité, cette méthode est toujours utile lors du suivi des segments d&apos;utilisateurs, tels que les utilisateurs finaux payants et gratuits, ou les utilisateurs enregistrés et non enregistrés. Cela vous permet de filtrer ou d&apos;analyser le nombre et les types de plantages rencontrés par chaque segment, et de mener des actions de sensibilisation en fonction de ce segment.

      Pour plus de contexte sur la façon d&apos;utiliser cette API, voir [Envoyer un attribut personnalisé et événement](/docs/data-apis/custom-data/custom-events/report-mobile-monitoring-custom-events-attributes).

      <Callout variant="important">
        Les améliorations suivantes ont été ajoutées à l&apos;agent Android v7.4.0 :

        * Lorsque `setUserId(value: string|null)` est appelé, si `userID` était précédemment nul et que la nouvelle valeur n&amp;apos;est pas nulle, la session en cours continue et un nouveau `userID` sera défini.
        * Lorsque `setUserId(value: string|null)` est appelé, si `userID` n&amp;apos;était pas précédemment nul et que le nouveau `userID` est différent (y compris `null`), la session en cours sera terminée et une récolte sera effectuée. Une nouvelle session sera créée avec le nouveau `userID`.
      </Callout>

      ## Paramètres [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              paramètres
            </th>

            <th width={200}>
              Taper
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `$userID`
            </td>

            <td>
              `string`
            </td>

            <td>
              Requis. Définit l&apos;ID utilisateur.
            </td>
          </tr>
        </tbody>
      </table>

      ## Valeurs de retour [#return-values]

      Renvoie `true` en cas de réussite, ou `false` en cas d&amp;apos;échec.

      ## Exemple [#example]

      Voici un exemple pour définir un identifiant utilisateur pour associer une session utilisateur à un événement et un attribut :

      ### Java [#java]

      ```java
      boolean userIdWasSet = NewRelic.setUserId("SampleUserName");
      ```

      ### Kotlin [#kotlin]

      ```kotlin
      val userIdWasSet = NewRelic.setUserId("SampleUserName")
      ```
    </TabsPageItem>

    <TabsPageItem id="ios">
      ## Syntaxe [#syntax]

      ### Objectif-C

      ```objectivec
      + (BOOL) setUserId:(NSString*)userId;
      ```

      ### Swift [#swift]

      ```swift
      NewRelic.setUserId(userId: String!) -> Bool
      ```

      ## Description [#description]

      Définissez une valeur d&apos;identifiant utilisateur personnalisée pour associer les sessions utilisateur à l&apos;événement et à l&apos;attribut d&apos;analyse.

      Cette méthode définit une valeur d&apos;identifiant utilisateur personnalisée pour associer tous les événements de la session d&apos;un utilisateur mobile à un identifiant utilisateur spécifique. Cette méthode peut être appelée à tout moment après le démarrage de l&apos;agent New Relic iOS.

      Un identifiant utilisateur est utile pour plusieurs raisons. À l’aide de l’ [UId’analyse des pannes](/docs/mobile-monitoring/mobile-monitoring-ui/crashes/crash-analysis-group-filter-your-crashes), vous pouvez :

      * Rechercher des crashs spécifiques à un utilisateur. Se concentrer sur un crash particulier concernant un utilisateur suffit souvent à résoudre rapidement le problème.
      * Filtrez tous les crashs pour afficher les occurrences d&apos;un utilisateur (ou d&apos;un groupe d&apos;utilisateurs) pour chaque type de crash ; ou filtrez la liste des crashs pour afficher les utilisateurs affectés par chaque type de crash. Si l&apos;ID utilisateur est représenté sous la forme d&apos;une adresse e-mail, il est alors facile de les contacter et de les informer lorsqu&apos;une solution est disponible pour résoudre ces plantages.

      Si vous ne souhaitez pas identifier explicitement l&apos;utilisateur en raison des règles de confidentialité, cette méthode est toujours utile lors du suivi des segments d&apos;utilisateurs, tels que les utilisateurs finaux payants et gratuits, ou les utilisateurs enregistrés et non enregistrés. Cela vous permet de filtrer ou d&apos;analyser le nombre et les types de plantages rencontrés par chaque segment, et de mener des actions de sensibilisation en fonction de ce segment.

      <Callout variant="important">
        Les améliorations suivantes ont été ajoutées à l&apos;agent iOS v7.5.0 :

        * Lorsque `setUserId(value: string|null)` est appelé, si `userId` était précédemment nul et que la nouvelle valeur n&amp;apos;est pas nulle, la session en cours continue et un nouveau `userId` sera défini.

        * Lorsque `setUserId(value: string|null)` est appelé, si `userId` n&amp;apos;était pas précédemment nul et que le nouveau `userId` est différent (y compris `null`), la session en cours sera terminée et une récolte sera effectuée. Une nouvelle session sera créée avec le nouveau `userId`.
      </Callout>

      ## Paramètres [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              paramètres
            </th>

            <th width={200}>
              Taper
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `userID`
            </td>

            <td>
              `NSString`
            </td>

            <td>
              Requis. L&apos;ID utilisateur à associer à la session en cours.
            </td>
          </tr>
        </tbody>
      </table>

      ## Valeurs de retour [#return-values]

      Renvoie `true` en cas de réussite, ou `false` en cas d&amp;apos;échec.

      ## Exemple [#example]

      ### Objective-C [#obj-c]

      ```objectivec
      BOOL userIdWasSet = [NewRelic setUserId:@"SampleUserName"];
      ```

      ### Swift [#swift]

      ```swift
      let userIdWasSet = NewRelic.setUserId("SampleUserName")
      ```
    </TabsPageItem>

    <TabsPageItem id="capacitor">
      ## Syntaxe [#syntax]

      ```typescript
      setUserId(options: { userId: string; }) => void
      ```

      ## Description [#description]

      Définissez une valeur d&apos;identifiant utilisateur personnalisée pour associer les sessions utilisateur à l&apos;événement et à l&apos;attribut d&apos;analyse.

      ## Paramètres [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              paramètres
            </th>

            <th width={200}>
              Taper
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `options`
            </td>

            <td>
              `{ userId: string; }`
            </td>

            <td>
              Requis. Un objet qui contient l&apos;ID utilisateur.
            </td>
          </tr>

          <tr>
            <td>
              `userId`
            </td>

            <td>
              `string`
            </td>

            <td>
              Requis. L&apos;ID utilisateur à associer à la session en cours.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemple [#example]

      ```typescript
      NewRelicCapacitorPlugin.setUserId({ userId: "CapacitorUserId" });
      ```
    </TabsPageItem>

    <TabsPageItem id="cordova">
      ## Syntaxe [#syntax]

      ```typescript
      setUserId(userId: string): void;
      ```

      ## Description [#description]

      Définissez une valeur d&apos;identifiant utilisateur personnalisée pour associer les sessions utilisateur à l&apos;événement et à l&apos;attribut d&apos;analyse.

      ## Paramètres [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              paramètres
            </th>

            <th width={200}>
              Taper
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `userID`
            </td>

            <td>
              `string`
            </td>

            <td>
              Requis. L&apos;ID utilisateur à associer à la session en cours.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemple [#example]

      ```js
      NewRelic.setUserId("CORDOVA12934");
      ```
    </TabsPageItem>

    <TabsPageItem id="maui">
      ## Syntaxe [#syntax]

      ```csharp
      SetUserId(string userId): bool;
      ```

      ## Description [#description]

      Définissez une valeur d&apos;identifiant utilisateur personnalisée pour associer les sessions utilisateur à l&apos;événement et à l&apos;attribut d&apos;analyse.

      ## Paramètres [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              paramètres
            </th>

            <th width={200}>
              Taper
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `userID`
            </td>

            <td>
              `string`
            </td>

            <td>
              Requis. L&apos;ID utilisateur à associer à la session en cours.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemple [#example]

      ```csharp
      CrossNewRelic.Current.SetUserId("User123");
      ```
    </TabsPageItem>

    <TabsPageItem id="flutter">
      ## Syntaxe [#syntax]

      ```typescript
      setUserId(String userId): void;
      ```

      ## Description [#description]

      Définissez une valeur d&apos;identifiant utilisateur personnalisée pour associer les sessions utilisateur à l&apos;événement et à l&apos;attribut d&apos;analyse.

      ## Paramètres [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              paramètres
            </th>

            <th width={200}>
              Taper
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `userID`
            </td>

            <td>
              `string`
            </td>

            <td>
              Requis. L&apos;ID utilisateur à associer à la session en cours.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemple [#example]

      ```dart
      NewrelicMobile.instance.setUserId("RN12934");
      ```
    </TabsPageItem>

    <TabsPageItem id="react">
      ## Syntaxe [#syntax]

      ```typescript
      setUserId(userId: string): void;
      ```

      ## Description [#description]

      Définissez une valeur d&apos;identifiant utilisateur personnalisée pour associer les sessions utilisateur à l&apos;événement et à l&apos;attribut d&apos;analyse.

      ## Paramètres [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              paramètres
            </th>

            <th width={200}>
              Taper
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `userID`
            </td>

            <td>
              `string`
            </td>

            <td>
              Requis. L&apos;ID utilisateur à associer à la session en cours.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemple [#example]

      Définir l&apos;utilisateur

      ```js
      NewRelic.setUserId("RN12934");
      ```

      Désactiver l&apos;utilisateur

      ```js
      NewRelic.setUserId("");
      ```
    </TabsPageItem>

    <TabsPageItem id="unity">
      ## Syntaxe [#syntax]

      ```csharp
      SetUserId(string userId): bool;
      ```

      ## Description [#description]

      Définissez une valeur d&apos;identifiant utilisateur personnalisée pour associer les sessions utilisateur à l&apos;événement et à l&apos;attribut d&apos;analyse.

      ## Paramètres [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              paramètres
            </th>

            <th width={200}>
              Taper
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `userID`
            </td>

            <td>
              `string`
            </td>

            <td>
              Requis. L&apos;ID utilisateur à associer à la session en cours.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemple [#example]

      ```csharp
      NewRelicAgent.SetUserId("User123");
      ```
    </TabsPageItem>

    <TabsPageItem id="unreal">
      ## Syntaxe [#syntax]

      ```csharp
      setUserId(FString userId): void;
      ```

      ## Description [#description]

      Définissez une valeur d&apos;identifiant utilisateur personnalisée pour associer les sessions utilisateur à l&apos;événement et à l&apos;attribut d&apos;analyse.

      ## Paramètres [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              paramètres
            </th>

            <th width={200}>
              Taper
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `userID`
            </td>

            <td>
              `FString`
            </td>

            <td>
              Requis. L&apos;ID utilisateur à associer à la session en cours.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemple [#example]

      ```cpp
      #include "NewRelicBPLibrary.h"

      UNewRelicBPLibrary::setUserId("Unreal12934");
      ```
    </TabsPageItem>

    <TabsPageItem id="xamarin">
      ## Syntaxe [#syntax]

      ```csharp
      SetUserId(string userId): bool;
      ```

      ## Description [#description]

      Définissez une valeur d&apos;identifiant utilisateur personnalisée pour associer les sessions utilisateur à l&apos;événement et à l&apos;attribut d&apos;analyse.

      ## Paramètres [#parameters]

      <table>
        <thead>
          <tr>
            <th width={200}>
              paramètres
            </th>

            <th width={200}>
              Taper
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `userID`
            </td>

            <td>
              `string`
            </td>

            <td>
              Requis. L&apos;ID utilisateur à associer à la session en cours.
            </td>
          </tr>
        </tbody>
      </table>

      ## Exemple [#example]

      ```csharp
      CrossNewRelicClient.Current.SetUserId("User123");
      ```
    </TabsPageItem>
  </TabsPages>
</Tabs>