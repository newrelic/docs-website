---
title: Guide du SDK mobile
tags:
  - Mobile monitoring
  - API guides
metaDescription: Customize your mobile agent instrumentation to send custom data and metrics to New Relic.
freshnessValidatedDate: never
translationType: machine
---

Utilisez l&apos;appel d&apos;API New Relic Mobile SDK pour personnaliser et étendre les données que votre application mobile signale à New Relic.

Bien que notre solution <InlinePopover type="mobile" />offre une puissante collecte de données prête à l&amp;apos;emploi, vous devrez peut-être personnaliser et étendre les données que votre application mobile signale à New Relic. Par exemple, vous pouvez utiliser le SDK public appelé API pour :

* Démarrer et arrêter le suivi d&apos;interaction à partir d&apos;un événement dans votre application mobile
* Enregistrer des métriques personnalisées
* Envoyer l&apos;attribut personnalisé et événement
* Le suivi requests réseau de la bibliothèque n&apos;est pas pris en charge automatiquement
* Définir des identifiants personnalisés pour les sessions utilisateur

## Démarrer [#get-started]

1. Assurez-vous que le dernier agent mobile est installé.
2. Sélectionnez une personnalisation dans le tableau ci-dessous et suivez la documentation de la méthode.

## Personnalisations disponibles [#methods]

Le tableau ci-dessous répertorie les méthodes SDK prises en charge pour personnaliser votre instrumentation d&apos;agent mobile. Sélectionnez une méthode pour afficher la syntaxe et les exemples d’utilisation pour chaque type d’agent.

<table>
  <thead>
    <tr>
      <th style={{ width: "300px" }}>
        Si vous voulez...
      </th>

      <th>
        Utilisez cette méthode
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td id="crash-analysis">
        Enregistrez le fil d&apos;Ariane pour suivre l&apos;activité de l&apos;application qui peut être utile pour le dépannage des pannes.
      </td>

      <td>
        [Disque fil d&apos;Ariane](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/record-breadcrumb)
      </td>
    </tr>

    <tr>
      <td id="creating">
        Suivre une méthode en tant qu&apos;interaction.
      </td>

      <td>
        [Démarrer les interactions](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/start-interaction) [Arrêter les interactions](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/stop-interaction)

        <Callout variant="tip">
          Si vous utilisez ces méthodes, l&apos;interaction instrumentée n&apos;apparaîtra pas sur la page [d&apos;interaction](/docs/mobile-monitoring/mobile-monitoring-ui/mobile-app-pages/interactions-page) , mais elles peuvent toujours être trouvées avec une requête NRQL , telle que :

          ```sql
          SELECT name FROM Mobile SINCE 7 DAYS AGO
          ```
        </Callout>
      </td>
    </tr>

    <tr>
      <td id="naming">
        Nommez ou renommez une interaction.
      </td>

      <td>
        [Interaction du nom](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/name-interaction)
      </td>
    </tr>

    <tr>
      <td>
        Définissez l&apos;ID de build ou la version de votre application à associer à l&apos;interaction.
      </td>

      <td>
        [Définir le numéro de build de l&apos;application](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/set-application-build-number/)

        [Définir le numéro de version de l&apos;application](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/set-application-version/)
      </td>
    </tr>

    <tr>
      <td id="create-custom">
        Créez des métriques personnalisées.
      </td>

      <td>
        [Enregistrer des métriques personnalisées](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/record-custom-metrics/)
      </td>
    </tr>

    <tr>
      <td id="attributes-events-insights">
        Rapport attribut personnalisé et événement.
      </td>

      <td>
        Il existe plusieurs façons de signaler un attribut personnalisé et un événement :

        * [Enregistrer l&apos;attribut personnalisé](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/create-attribute)

        * [Augmenter le nombre d&apos;attributs de session](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/increment-session-attribute-count)

        * [Supprimer un attribut](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/remove-attribute)

        * [Supprimer tous les attributs](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/remove-all-attributes)

        * [Enregistrer un événement personnalisé](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/record-custom-events)

        * [Disque fil d&apos;Ariane](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/record-breadcrumb)

        * [Définir la taille maximale d&apos;un pool d&apos;événements](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/set-max-event-pool-size)

        * [Définir la durée maximale pendant laquelle l&apos;agent stocke l&apos;événement en mémoire](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/set-max-event-buffer-time)

        * [Obtenir l&apos;identifiant d&apos;une session en cours](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/current-session-id)

        * [Définir un identifiant utilisateur personnalisé à associer à l&apos;événement et à l&apos;attribut](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/set-custom-user-id)

          Pour en savoir plus sur la meilleure méthode à utiliser et pourquoi, consultez [Rapport monitoring des applications mobiles événement personnalisé et attribut](/docs/data-apis/custom-data/custom-events/report-mobile-monitoring-custom-events-attributes/).
      </td>
    </tr>

    <tr>
      <td id="track-custom">
        Suivez requests et les échecs du réseau personnalisé.
      </td>

      <td>
        [Suivre requestsHTTP](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/network-request-success)

        [Suivre requestsHTTP en échec](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/network-request-failures)
      </td>
    </tr>

    <tr>
      <td>
        Enregistrez une exception traitée en tant qu’événement, y compris le contexte de ce qui s’est passé.
      </td>

      <td>
        [Enregistrer les exceptions traitées](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/record-handled-exceptions)
      </td>
    </tr>

    <tr>
      <td>
        Enregistrer les erreurs.
      </td>

      <td>
        [Enregistrer les erreurs](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/record-errors)
      </td>
    </tr>

    <tr>
      <td>
        Nommer l&apos;activité pour l&apos;heure de lancement de l&apos;application.
      </td>

      <td>
        [Définir l&apos;activité cible de l&apos;heure de lancement de l&apos;application](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/name-android-activity)
      </td>
    </tr>

    <tr>
      <td>
        Arrêtez l&apos;agent.
      </td>

      <td>
        [Arrêter l&apos;agent](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/shut-down-agent)
      </td>
    </tr>

    <tr>
      <td>
        Activer/désactiver monitoring par défaut des paramètres des applications mobiles.
      </td>

      <td>
        [Activer/désactiver la fonctionnalité monitoring](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/configure-settings)
      </td>
    </tr>

    <tr>
      <td>
        Exécutez un rapport de crash de test.
      </td>

      <td>
        [Rapport de crash de test](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/test-crash-reporting)
      </td>
    </tr>
  </tbody>
</table>

## Utilisation de l&apos;API du SDK mobile [#android-sdk-usage]

### (Android) Méthodes instrumentées automatiquement [#method-list]

instrumentation automatique est l&apos;une des fonctionnalités les plus pratiques de l&apos;agent Android . Cependant, si cela interfère avec la méthode en cours de tracing, ajoutez `@SkipTrace` à la méthode et l&amp;apos;agent l&amp;apos;ignorera pendant instrumentation au moment de la compilation.

<table>
  <thead>
    <tr>
      <th width={200}>
        <DNT>
          **Classes**
        </DNT>
      </th>

      <th>
        <DNT>
          **Methods**
        </DNT>
      </th>
    </tr>
  </thead>

  <tbody />

  <tbody>
    <tr>
      <td>
        `Activity`
      </td>

      <td>
        * `onCreate`
        * `onCreateView`
      </td>
    </tr>

    <tr>
      <td>
        `AsyncTask`
      </td>

      <td>
        * `execute`
        * `executeOnExecutor`
      </td>
    </tr>

    <tr>
      <td>
        `BitmapFactory`
      </td>

      <td>
        * `decodeFile`
        * `decodeResourceStream`
        * `decodeResource`
        * `decodeByteArray`
        * `decodeStream`
        * `decodeFileDescriptor`
        * `decodeResourceStream`
      </td>
    </tr>

    <tr>
      <td>
        `SQLiteDatabase`
      </td>

      <td>
        * `query`
        * `queryWithFactory`
        * `rawQuery`
        * `rawQueryWithFactory`
        * `insert`
        * `insertOrThrow`
        * `insertWithOnConflict`
        * `replace`
        * `replaceOrThrow`
        * `delete`
        * `update`
        * `updateWithOnConflict`
        * `execSql`
      </td>
    </tr>

    <tr>
      <td>
        `GSON`
      </td>

      <td>
        * `toJson`
        * `fromJson`
      </td>
    </tr>

    <tr>
      <td>
        `JSONObject`
      </td>

      <td>
        * `<init>`
        * `toString`
      </td>
    </tr>

    <tr>
      <td>
        `JSONArray`
      </td>

      <td>
        * `<init>`
        * `toString`
      </td>
    </tr>

    <tr>
      <td>
        `Log`
      </td>

      <td>
        * `d // debug`
        * `w // warning`
        * `i // info`
        * `v // verbose`
        * `e // error`
      </td>
    </tr>
  </tbody>
</table>

### (iOS) Méthodes instrumentées automatiquement [#method-list-ios]

instrumentation automatique est l&apos;une des fonctionnalités les plus pratiques de l&apos;agent iOS. Il est activé par défaut. Pour désactiver, veuillez configurer les indicateurs de fonctionnalité `NRFeatureFlag_DefaultInteractions` et `NRFeatureFlag_InteractionTracing`.

Le tableau ci-dessous répertorie les classes et méthodes instrumentées automatiquement dans l&apos;agent iOS.

<table>
  <thead>
    <tr>
      <th width={200}>
        <DNT>
          **Classes**
        </DNT>
      </th>

      <th>
        <DNT>
          **Methods**
        </DNT>
      </th>
    </tr>
  </thead>

  <tbody />

  <tbody>
    <tr>
      <td>
        `UIViewController`
      </td>

      <td>
        * `viewDidLoad`
        * `viewWillAppear`
        * `viewDidAppear`
        * `viewWillDisappear`
        * `viewDidDisappear`
        * `viewWillLayoutSubviews`
        * `viewDidLayoutSubviews`
      </td>
    </tr>

    <tr>
      <td>
        `UIImage`
      </td>

      <td>
        * `imageNamed`
        * `imageWithContentsOfFile`
        * `imageWithData`
        * `imageWithData:scale:`
        * `initWithContentsOfFile:`
        * `initWithData:`
        * `initWithData:scale:`
      </td>
    </tr>

    <tr>
      <td>
        `NSJSONSerialization`
      </td>

      <td>
        * `JSONObjectWithData:options:error:`
        * `JSONObjectWithStream:options:error:`
        * `dataWithJSONObject:options:error:`
        * `writeJSONObject:toStream:options:error:`
      </td>
    </tr>

    <tr>
      <td>
        `NSManagedObjectContext`
      </td>

      <td>
        * `executeFetchRequest:error:`
        * `processPendingChanges`
      </td>
    </tr>
  </tbody>
</table>

## (iOS) Envoi d&apos;attribut personnalisé et événement [#custom-att-events]

Lors de [la création de rapports sur les attributs personnalisés et les événements](/docs/insights/new-relic-insights/adding-querying-data/custom-attributes-events-new-relic-mobile), utilisez les méthodes SDK dans l&amp;apos;objet `NewRelic` .

Les méthodes qui renvoient `BOOL` résultats renvoient `YES` si elles réussissent, ou `NO` si l&amp;apos;opération n&amp;apos;est pas terminée. Ces méthodes sont disponibles dans les versions 5.0.0 ou supérieures de l&amp;apos;agent New Relic iOS.

Le SDK peut stocker jusqu&apos;à 128 [attributs personnalisés](/docs/insights/insights-data-sources/custom-events/insert-custom-events-attributes-mobile-data#event-definition) définis par l&amp;apos;utilisateur à la fois. Si vous essayez de stocker plus de 128 attributs, le SDK renvoie `NO`.

Lors de la dénomination d&apos;un attribut personnalisé, nous vous recommandons d&apos;utiliser le format le plus simple nécessaire, comme l&apos;utilisation d&apos;un seul mot d&apos;attribut et aucun espace. Par exemple, `My Custom Attribute` doit être formaté en `myCustomAttribute`.

Lors de la dénomination de métriques personnalisées :

* Évitez d’utiliser les caractères `/` `]` `[` `|` `*` lorsque vous nommez des choses.
* Évitez les caractères multi-octets.