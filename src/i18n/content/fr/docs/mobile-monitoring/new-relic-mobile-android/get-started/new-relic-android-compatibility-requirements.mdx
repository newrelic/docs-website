---
title: Compatibilité d'agent Android et exigences
tags:
  - Mobile monitoring
  - New Relic Mobile Android
  - Get started
metaDescription: 'Compatible build systems, OS versions, and more for the Android agent.'
freshnessValidatedDate: never
translationType: machine
---

La fonctionnalité <InlinePopover type="mobile" />est compatible avec les magasins d’applications standard, notamment Google Play Store, Amazon Appstore et autres. Avant [d&apos;installer et de configurer l&apos;agent mobile](/docs/mobile-monitoring/new-relic-mobile-android/install-configure) avec vos applications Android, suivez ces instructions pour la compatibilité et d&apos;autres exigences.

## monitoringde premier plan [#foreground]

L&apos;agent Android monitore uniquement votre application lorsqu&apos;elle est au premier plan. L&apos;agent ne monitore pas les services d&apos;arrière-plan lorsque l&apos;application est fermée. Pour plus d&apos;informations, consultez notre [documentation sur la confidentialité et la sécurité des données mobiles](/docs/mobile-monitoring/new-relic-mobile/get-started/security-mobile-apps).

## Compatibilité Android [#compatibility]

Assurez-vous que votre application Android répond à ces exigences :

<table>
  <thead>
    <tr>
      <th width={200}>
        Composant
      </th>

      <th>
        Conditions d&apos;application
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        système d&apos;exploitation
      </td>

      <td>
        Android 7.0 ou supérieur
      </td>
    </tr>

    <tr>
      <td>
        API/SDK
      </td>

      <td>
        API réseau HttpURLConnection, OkHttp2 (sauf versions 2.0 et 2.4), OkHttp (versions 2.8, 3.5+, 4.0+), OkIO (version 1.11), AndroidHttpClient, Volley (version 1.0.0) et Apache HTTP Client

        <Callout variant="important">
          AndroidHttpClient a été supprimé du SDK dans la version 23 et n&apos;est donc pris en charge que dans la version 6.5.0 et inférieure de l&apos;agent Android.
        </Callout>

        <DNT>**Android agent version 7.0.0 or higher**</DNT> nécessite :

        * Android Studio Flamingo
        * Gradle 7.2
        * Plugin Android Gradle 7.0.0
        * DexGuard 9.0 et versions ultérieures

        <DNT>**Android agent version 6.6.0 or higher**</DNT> nécessite <DNT>**Android SDK Tools version 24 or higher**</DNT>. Pour Android SDK Tools version 24 ou supérieure, vous devez également répondre aux exigences suivantes :

        * Android Studio
        * Gradle 5.1.1
        * Plugin Android Gradle 3.4
        * Proguard 5.0
        * DexGuard 8.0 à 9.x

        Pour les anciennes versions d&apos;agent Android, la version des outils SDK Android de votre build doit être compatible avec la version de votre agent Android :

        * <DNT>**Android agent version 6.0.0 through 6.5.0**</DNT> nécessite que les builds soient compilés avec <DNT>**Android SDK Tools version 21 or higher**</DNT>.
        * <DNT>**Android agent version 5.0.0 through 5.9.9**</DNT> nécessite que les builds soient compilés avec <DNT>**Android SDK Tools version 14 or higher**</DNT>.

        Remarque : assurez-vous de mettre à niveau vos outils SDK vers la version la plus récente avant d’installer l’agent Android.

        <Callout variant="important">
          Depuis mai 2022, la version 7.2.1 du plugin Android Gradle interrompt l&apos;API de transformation lorsqu&apos;il est utilisé avec l&apos;API ASM, ce qui a eu un impact sur les fonctionnalités de l&apos;agent Android New Relic. Ce problème a été résolu dans [la version 7.2.2 du plugin Android Gradle](https://developer.android.com/studio/releases/gradle-plugin#7-2-0)
        </Callout>
      </td>
    </tr>

    <tr>
      <td>
        Langues
      </td>

      <td>
        Java 1.7 à Java 9. JDK 11 est pris en charge dans la version 6.2.0 et supérieure. JDK 17 est pris en charge dans la version 7.0.0 et supérieure.
      </td>
    </tr>

    <tr>
      <td>
        Appareils
      </td>

      <td>
        Tout appareil compatible Android (smartphones, tablettes, Android TV, Amazon Fire, etc.)
      </td>
    </tr>

    <tr>
      <td>
        Tailles de fichiers
      </td>

      <td>
        L&apos;agent ajoute moins de 500 Ko à votre APK de sortie.
      </td>
    </tr>

    <tr>
      <td>
        Architectures
      </td>

      <td>
        ARM, Intel Atom
      </td>
    </tr>

    <tr>
      <td>
        Validation de signature
      </td>

      <td>
        L&apos;agent ne peut pas intrumenter les JAR qui utilisent [la validation de signature](https://docs.oracle.com/javase/7/docs/technotes/guides/jar/jar.html#Signature_Validation) lors de la signature. Les JAR avec des manifestes contenant l&apos;attribut `SHA1-Digest` ou `SHA-256-Digest` ne seront pas modifiés.
      </td>
    </tr>
  </tbody>
</table>

## Compatibilité Agent et Gradle [#agent-gradle]

Voici les versions compatibles de l&apos;agent Android New Relic, de Gradle et du [plugin Android Gradle](https://developer.android.com/studio/releases/gradle-plugin).

<Callout variant="important">
  Depuis janvier 2021, notre agent Android a cessé de prendre en charge la version 2 du plug-in Android Gradle. Pour plus d&apos;informations, consultez notre [publication sur le forum d&apos;assistance](https://discuss.newrelic.com/t/important-upcoming-changes-to-capabilities-across-browser-php-python-mobile-and-android-agents/123951).
</Callout>

<table>
  <thead>
    <tr>
      <th width={200}>
        Plugin Android Gradle
      </th>

      <th>
        Agent de compatibilité New Relic Android
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [2.3](https://developer.android.com/studio/releases/gradle-plugin#2-3-0)
      </td>

      <td>
        Non pris en charge dans les versions 6.0 et supérieures. [5.25](/docs/release-notes/mobile-release-notes/android-release-notes/android-5252) - [5.26](/docs/release-notes/mobile-release-notes/android-release-notes/android-5260-0) ne sont pas pris en charge
      </td>
    </tr>

    <tr>
      <td>
        [3.0](https://developer.android.com/studio/releases/gradle-plugin#3-0-0) - [3.3](https://developer.android.com/studio/releases/gradle-plugin#3-3-0)
      </td>

      <td>
        Non pris en charge dans les versions 6.0 et supérieures.
      </td>
    </tr>

    <tr>
      <td>
        [3.4](https://developer.android.com/studio/releases/gradle-plugin#3-4-0)
      </td>

      <td>
        [5.25](/docs/release-notes/mobile-release-notes/android-release-notes/android-5252) et supérieur
      </td>
    </tr>

    <tr>
      <td>
        [4.+](https://developer.android.com/studio/releases/gradle-plugin#4-0-0)
      </td>

      <td>
        [5.26](/docs/release-notes/mobile-release-notes/android-release-notes/android-5260-0) et supérieur
      </td>
    </tr>

    <tr>
      <td>
        [7.1.0](https://developer.android.com/studio/releases/gradle-plugin#7-1-0)
      </td>

      <td>
        [6.2.0](/docs/release-notes/mobile-release-notes/android-release-notes/android-620) et supérieur
      </td>
    </tr>

    <tr>
      <td>
        [8.+](https://developer.android.com/studio/releases/gradle-plugin#8-0-0)
      </td>

      <td>
        [7.0.0](/docs/release-notes/mobile-release-notes/android-release-notes/android-700) et supérieur
      </td>
    </tr>

    <tr>
      <td>
        [9.+](https://developer.android.com/studio/releases/gradle-plugin#9-0-0)
      </td>

      <td>
        [7.7.0](/docs/release-notes/mobile-release-notes/android-release-notes/android-770) et versions ultérieures
      </td>
    </tr>
  </tbody>
</table>

## Kotlin et Kotlin DSL [#kotlin]

Vous pouvez également utiliser [des projets Kotlin avec Gradle](https://kotlinlang.org/docs/reference/using-gradle.html) et l&apos;agent Android de New Relic.

### Prise en charge DSL de Kotlin par la version de l&apos;agent Android [#Kotlin-DSL-support-by-Android-agent-version]

À l&apos;exception des incompatibilités constatées avec [le plugin Android Gradle](#agent-gradle), l&apos;agent Android de New Relic est compatible avec les versions <DNT>**1.3 - 1.4**</DNT> du plugin Kotlin Gradle.

<table>
  <thead>
    <tr>
      <th width={200}>
        Version DSL de Kotlin
      </th>

      <th>
        Agent de compatibilité New Relic Android
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        1.2
      </td>

      <td>
        Non pris en charge
      </td>
    </tr>

    <tr>
      <td>
        1.3
      </td>

      <td>
        * <DNT>**5.24 and lower:**</DNT> Nécessite le plugin Kotlin Gradle version 1.3.10 ou supérieure
        * <DNT>**5.25:**</DNT> Nécessite le plugin Kotlin Gradle version 1.3.10 ou supérieure
        * <DNT>**5.26:**</DNT> Non pris en charge dans les versions d&apos;agent Android 5.26.0 à 5.28.0
      </td>
    </tr>

    <tr>
      <td>
        1.4
      </td>

      <td>
        * <DNT>**5.24 and lower:**</DNT> Nécessite le plugin Kotlin Gradle version 1.3.10 ou supérieure
        * <DNT>**5.25:**</DNT> Soutenu
        * <DNT>**5.26:**</DNT> Non pris en charge dans les versions d&apos;agent Android 5.26.0 à 5.28.0
      </td>
    </tr>
  </tbody>
</table>

### Prise en charge DSL de Kotlin par version AGP [#kotlin-andoid-gradle]

La prise en charge de Kotlin DSL a été officiellement ajoutée au plugin Android Gradle dans la version 4.1, mais de nombreux développeurs l&apos;utilisent déjà à la place de Groovy.

<table id="Kotlin-DSL-support-by-Android-agent-version">
  <thead>
    <tr>
      <th width={200}>
        Version DSL de Kotlin
      </th>

      <th>
        Plugin Android Gradle et compatibilité Android Gradle
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        1.3
      </td>

      <td>
        * <DNT>**3.2 (AGP), 4.6 (Gradle) :**</DNT> Nécessite le plugin Kotlin Gradle version 1.3.10 ou supérieure
        * <DNT>**3.3 (AGP), 5.1.1 (Gradle):**</DNT> Nécessite le plugin Kotlin Gradle version 1.3.10 ou supérieure
        * <DNT>**3.4 (AGP), 5.1.1 (Gradle):**</DNT> Nécessite le plugin Kotlin Gradle version 1.3.10 ou supérieure
        * <DNT>**3.5 (AGP), 5.4.1 (Gradle):**</DNT> Nécessite le plugin Kotlin Gradle version 1.3.10 ou supérieure
        * <DNT>**3.6 (AGP), 5.6.4 (Gradle):**</DNT> Nécessite le plugin Kotlin Gradle version 1.3.40 ou supérieure
        * <DNT>**4.0 (AGP), 6.1.1 (Gradle):**</DNT> Nécessite le plugin Kotlin Gradle version 1.3.40 ou supérieure
        * <DNT>**4.1 (AGP), 6.5 (Gradle):**</DNT> Nécessite le plugin Kotlin Gradle version 1.3.40 ou supérieure
      </td>
    </tr>

    <tr>
      <td>
        1.4
      </td>

      <td>
        * <DNT>**3.2 (AGP), 4.6 (Gradle) :**</DNT> Nécessite Gradle 5.3
        * <DNT>**3.3 (AGP), 5.1.1 (Gradle):**</DNT> Nécessite Gradle 5.3
        * <DNT>**3.4 (AGP), 5.1.1 (Gradle):**</DNT> Soutenu
        * <DNT>**3.5 (AGP), 5.4.1 (Gradle):**</DNT> Soutenu
        * <DNT>**3.6 (AGP), 5.6.4 (Gradle):**</DNT> Soutenu
        * <DNT>**4.0 (AGP), 6.1.1 (Gradle):**</DNT> Soutenu
        * <DNT>**4.1 (AGP), 6.5 (Gradle):**</DNT> Soutenu
      </td>
    </tr>
  </tbody>
</table>

## Les tests unitaires ne sont pas pris en charge [#testing]

Nos agents New Relic Mobile sont conçus et testés pour fonctionner dans un cycle de vie d&apos;application normal. Nous ne prenons pas en charge l’exécution d’un environnement de test sur les applications avec l’agent. Les tests peuvent provoquer des conflits et des comportements imprévisibles.