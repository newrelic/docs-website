---
title: Gérer les flottes
tags:
  - fleet-control
  - manage
  - deployment
  - configuration
  - agent-management
metaDescription: 'Learn how to perform day-to-day operations on your fleets, including managing deployments, updating configurations, and organizing your managed entities.'
freshnessValidatedDate: never
translationType: machine
---

<Callout title="fonctionnalité Disponibilité">
  le contrôle de la flotte pour le cluster Kubernetes est généralement disponible (GA). La prise en charge de la gestion des agents sur les hôtes est actuellement en version préliminaire publique.

  Pour une liste complète des agents pris en charge et de leurs environnements, consultez notre [documentation sur la compatibilité des types d&apos;agents](/docs/new-relic-control/agent-control/agent-types).

  La fonctionnalité d&apos;aperçu public est fournie conformément à nos [politiques de pré-sortie](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

Une fois que vous avez créé votre première flotte à l&apos;aide du [guide de configuration](/docs/new-relic-control/fleet-control/setup), vous effectuerez la plupart de vos tâches quotidiennes à partir de l&apos;interface utilisateur de contrôle de la flotte. Bien que ces opérations puissent également être effectuées par programmation via l&apos;API, cette page se concentre sur le flux de travail de l&apos;interface utilisateur pour la gestion de vos flottes, le déploiement et la configuration.

## Tri des données dans les tableaux

De nombreuses tables de données de l&apos;interface utilisateur du contrôle de la flotte sont triables. Pour trier un tableau par une colonne spécifique, passez la souris sur l&apos;en-tête de la colonne. Si une légère flèche grise vers le haut ou vers le bas apparaît, vous pouvez cliquer sur l&apos;en-tête pour réorganiser les lignes du tableau en fonction des données de cette colonne.

## La page des flottes

Lorsque vous accédez à **New Relic Control → Fleets**, vous accédez à la page principale Flottes, qui fournit un aperçu de haut niveau de l&apos;ensemble de votre environnement de contrôle de la flotte. À partir d&apos;ici, vous pouvez :

* **Rechercher des flottes :** utilisez la barre de recherche pour trouver une flotte spécifique par nom.
* **Afficher les comptes récapitulatifs :** consultez le nombre total de votre flotte et le nombre d&apos;entités gérées non attribuées.
* **Voir la répartition de la flotte :** affichez une répartition de vos flottes par type (par exemple, cluster Kubernetes vs. hôtes).

### Actions de la flotte

Depuis la page principale des flottes, vous pouvez cliquer sur les points de suspension (`...`) à l&apos;extrême droite de n&apos;importe quelle flotte pour afficher un menu d&apos;actions :

* **Modifier les paramètres :** vous permet de modifier le nom et la description d&apos;une flotte.

* **Modifier les autorisations :** vous permet de gérer les contrôles d&apos;accès précis (FGA) de la flotte en modifiant le groupe ou le rôle associé.

* **Supprimer une flotte :** supprime définitivement la flotte. Avant qu&apos;une flotte puisse être supprimée, les conditions suivantes doivent être remplies :

  * Toutes les entités gérées doivent être retirées de la flotte.
  * La flotte ne peut avoir aucun déploiement en cours actuellement.

<img title="Fleet actions" alt="Reveal a number of fleet actions by clicking the ellipsis button in that fleet's corresponding row." src="/images/fleet-control-fleet-options.webp" />

### Autorisations de flotte (accès précis)

Le contrôle de la flotte utilise un accès à granularité fine (FGA) pour permettre à l&apos;administrateur de déléguer la gestion de flottes spécifiques à certains utilisateurs ou groupes. Cela est utile lorsque vous souhaitez permettre à une équipe de gérer ses propres flottes sans lui accorder d&apos;autorisations générales au niveau de l&apos;organisation.

La principale méthode de délégation d’accès consiste à attribuer le rôle prédéfini de **Fleet Manager** à un groupe d’utilisateurs pour une flotte spécifique. Cela donne à l&apos;utilisateur de ce groupe un contrôle total sur cette flotte, y compris la possibilité de créer un déploiement, de gérer la configuration et d&apos;ajouter ou de supprimer des entités gérées.

#### Prérequis pour l&apos;administrateur

Pour configurer les autorisations de flotte, vous devez disposer des rôles de **Organization Manager** et de **AuthDomain Manager**.

#### Configuration workflow

Le processus comprend deux étapes principales : premièrement, un administrateur crée un groupe d’utilisateurs, et deuxièmement, il attribue à ce groupe le rôle `Fleet Manager` pour une flotte spécifique.

**Étape 1 : Créer un groupe utilisateur**

1. En bas du menu de navigation de gauche, cliquez sur votre nom d’utilisateur, puis sélectionnez **Administration**.
2. Sur la page **Administration**, sélectionnez **Access Management**.
3. Accédez à l’onglet **Groups** et cliquez sur **Create a new group**.
4. Donnez au groupe un nom significatif (par exemple, `k8s-platform-team-fleet-managers`).
5. Sous la section **Members**, ajoutez l’utilisateur auquel vous souhaitez déléguer la gestion de flotte.
6. Cliquez sur **Add user to the group**. Vous n’avez pas besoin d’attribuer de rôles au niveau du compte ou de l’organisation ici ; les autorisations seront accordées au niveau de la flotte.

**Étape 2 : Attribuer un groupe et un rôle à une flotte**

Vous pouvez attribuer des autorisations soit lorsque vous créez une nouvelle flotte, soit en modifiant une flotte existante.

**Pour attribuer des autorisations à une flotte existante :**

1. Depuis la page principale des **Fleets**, recherchez la flotte que vous souhaitez gérer.

2. Cliquez sur les points de suspension (`...`) à la fin de la ligne et sélectionnez **Edit permissions**.

3. Dans la fenêtre modale **Fleet Permissions** :

   * **Sélectionnez un groupe :** Choisissez le groupe d’utilisateurs que vous avez créé à l’étape précédente.
   * **Sélectionnez un rôle :** Choisissez le rôle de **Fleet Manager**.

4. Cliquez sur **Save**. L&apos;utilisateur du groupe sélectionné dispose désormais de toutes les autorisations de gestion pour cette flotte.

**Pour attribuer des autorisations lors de la création d’une flotte :**

1. Suivez les étapes de [création d&apos;une flotte dans notre guide de configuration](/docs/new-relic-control/fleet-control/setup).
2. Avant de cliquer sur **Create Fleet**, développez la section **Access management**.
3. Utilisez la liste déroulante pour sélectionner le **Group** souhaité et le rôle de **Fleet Manager**.
4. Cliquez sur **Create Fleet**.

<img title="Fleet permissions modal" alt="The Fleet Permissions modal showing dropdowns to select a user group and the Fleet Manager role." src="/images/fleet-control-fleet-fga.webp" />

## Gérer une flotte spécifique

En cliquant sur le nom d&apos;une flotte, vous accédez à sa page de gestion détaillée.

<Callout title="Important : règles de configuration de la flotte">
  Les flottes sont conçues pour assurer la cohérence dans toutes les entités qu&apos;elles gèrent. Pour y parvenir, deux règles importantes s’appliquent :

  * **Une configuration par type d&apos;agent :** Au sein d&apos;une même flotte, vous ne pouvez avoir qu&apos;une seule configuration pour chaque type d&apos;agent. Par exemple, si vous avez trois clusters Kubernetes dans une flotte, ils doivent tous utiliser la même configuration unique pour l&apos;agent New Relic Infrastructure. La cardinalité d&apos;un type d&apos;agent par rapport à sa configuration au sein d&apos;une flotte est toujours 1:1.

  * **Instrumentation infrastructure exclusive :** Le système vous empêche de déployer à la fois l&apos;agent New Relic Infrastructure et la distribution New Relic d&apos; OpenTelemetry Collector (NRDOT) sur la même flotte. Cette validation permet d&apos;éviter de double-instrument accidentellement votre entité gérée pour monitoring d&apos;infrastructure.
</Callout>

### L&apos;en-tête de flotte : tag et métadonnées

En haut de la page, l&apos;en-tête affiche le nom de la flotte ainsi que des boutons cliquables de **Tags** et de **Metadata**. Ils offrent un accès rapide aux informations d’identification importantes de la flotte.

* **Tags :** Cliquer ici révèle un ensemble complet de données de paires valeur-clé associées à la flotte, telles que le `accountId`, le `description` de la flotte et l&apos;horaire de création ou de mise à jour.
* **Métadonnées :** Cliquer ici affiche les principaux détails d&apos;identification de la flotte en tant qu&apos;entité New Relic, tels que ses `Entity guid`, `Account ID` et `Managed entities type`.

La page de gestion détaillée est organisée en trois onglets principaux : **Summary**, **Agents** et **Deployments**.

<img title="Tag and Metadata buttons" alt="View the tagging and metadata information associated with a fleet by clicking the associated button." src="/images/fleet-control-metadata-button.webp" />

### L&apos;onglet Résumé

Cet onglet fournit un aperçu de l&apos;état actuel de la flotte, organisé en trois tableaux :

* **Tableau de déploiement actif :** affiche le nom du déploiement le plus récent, le nombre d&apos;agents/configurations inclus et la date de la dernière mise à jour.
* **Tableau des agents :** répertorie les types d’agents, leur configuration et leurs versions associées, ainsi que la date de création de la configuration.
* **Tableau des entités gérées :** répertorie toutes les entités affectées à la flotte, leur compte, leur type et leur état d&apos;instrumentation actuel. Il inclut également un lien **View entity** qui vous amène à la page principale de l&apos;entité ailleurs dans la plateforme New Relic (par exemple, l&apos;explorateur cluster Kubernetes ).

### L&apos;onglet agents

Cet onglet fournit une vue détaillée de tous les agents exécutés sur l&apos;entité gérée au sein de la flotte. Vous pouvez utiliser la barre de recherche en haut de cet onglet pour trouver un agent spécifique par son nom ou son type.

Un détail important est que le superviseur New Relic Agent Control est également répertorié ici comme type d&apos;agent. Pour chaque agent, vous pouvez voir son entité gérée associée, l&apos;état de l&apos;instrumentation, l&apos;état de la configuration à distance et la dernière fois qu&apos;un battement de cœur a été reçu.

#### Afficher la configuration effective

Une fonctionnalité clé de l’onglet **Agents** est la possibilité de voir la *configuration effective* de n’importe quel agent. Cliquez sur le nom d&apos;un agent pour ouvrir une vue détaillée. Ici, vous pouvez voir des métadonnées telles que la version du graphique Helm, mais surtout, vous pouvez visualiser la configuration exacte exécutée sur l&apos;agent en temps réel.

La configuration effective peut parfois différer de la configuration que vous avez utilisée, car elle prend en compte les remplacements provenant de sources telles que les variables d&apos;environnement locales. Cette vue est précieuse pour les problèmes liés à configurationdu dépannage.

<img title="Viewing effective configuration" alt="By viewing an agents details under the agents tab in Fleet Control you can view its effective configuration." src="/images/fleet-control-agents-effective-config.webp" />

### L&apos;onglet déploiement

Cet onglet contient l&apos;historique complet du déploiement de la flotte. Vous pouvez utiliser la barre de recherche pour trouver un déploiement spécifique par son nom. Le tableau répertorie le nom de chaque déploiement, son statut, le nombre d&apos;agents/configurations et la date de la dernière mise à jour. Le déploiement réussi le plus récent est marqué d&apos;une étiquette `Active` pour indiquer qu&apos;il s&apos;agit de celui actuellement appliqué sur la flotte.

En cliquant sur le nom d&apos;un déploiement, vous accédez à une page récapitulative pour ce déploiement spécifique, où vous pouvez trouver :

* déployées métadonnées (nom, type, description, heures de début/fin et un identifiant déployé pour le dépannage).
* Un tableau d&apos;**Agents** indiquant le type d&apos;agent, l&apos;action effectuée (par exemple, installation, mise à jour) et la version de configuration.
* Une table de **Managed Entities** montrant exactement quelles entités ont été affectées par le déploiement.

## Compréhension

Un déploiement est un ensemble contrôlé d&apos;actions qui peuvent installer, supprimer ou mettre à jour des agents et leur configuration sur l&apos;entité gérée de votre flotte. Cette section couvre les aspects clés du cycle de vie du déploiement, notamment la compréhension des différents statuts de déploiement, le processus de mise à niveau automatique pour Agent Control et l&apos;utilisation de fonctionnalités avancées telles que le déploiement brouillon et Canary pour gérer les modifications en toute sécurité.

### Comprendre les statuts de déploiement

L’état de chaque déploiement vous aide à comprendre son résultat. Voici les statuts possibles et ce qu&apos;ils signifient :

| Statut                                                                                                                                         | Description                                                                                                                                                                                                                                                                                                                 |
| :--------------------------------------------------------------------------------------------------------------------------------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <span style="background-color: #007bff; color: white; padding: 2px 8px; border-radius: 4px; display: inline-block;">EN COURS</span>            | Le déploiement est en cours de déploiement actif auprès de l&apos;entité gérée de la flotte.                                                                                                                                                                                                                                |
| <span style="background-color: #28a745; color: white; padding: 2px 8px; border-radius: 4px; display: inline-block;">COMPLÉTÉ</span>            | Le déploiement s&apos;est terminé avec succès et toutes les actions prévues ont été appliquées.                                                                                                                                                                                                                             |
| <span style="background-color: #dc3545; color: white; padding: 2px 8px; border-radius: 4px; display: inline-block;">ÉCHOUÉ</span>              | Le déploiement est terminé, mais au moins un agent sur une entité gérée a signalé un problème. Cela peut signifier qu&apos;un agent n&apos;a pas réussi à démarrer, à s&apos;arrêter correctement ou à appliquer sa nouvelle configuration. Le déploiement peut être partiellement réussi sur d&apos;autres entités gérées. |
| <span style="background-color: #fd7e14; color: white; padding: 2px 8px; border-radius: 4px; display: inline-block;">DÉFAILLANCE INTERNE</span> | Le déploiement n&apos;a pas pu être réalisé en raison d&apos;un problème inattendu au sein du contrôle de la flotte système. Il ne s’agit pas d’une erreur liée à vos agents ou à votre configuration. Veuillez réessayer le déploiement et, si le problème persiste, contactez le support New Relic.                       |

### Mises à niveau automatiques du contrôle des agents

Pour garantir que votre entité gérée bénéficie des derniers correctifs de sécurité, des améliorations de performances et des fonctionnalités, contrôle de la flotte gère automatiquement le processus de mise à niveau d&apos;Agent Control. Lorsque vous lancez un déploiement, le contrôle de la flotte vérifie si une version plus récente d&apos;Agent Control est disponible pour l&apos;entité gérée dans votre flotte.

Si une mise à niveau est requise, elle est automatiquement incluse dans votre déploiement. Vous verrez une notification dans l&apos;interface utilisateur pendant le processus de déploiement vous informant que Agent Control sera mis à niveau. Cette mise à niveau implicite se produit parallèlement à toutes les actions de déploiement que vous effectuez (telles que l&apos;installation d&apos;agents, la suppression d&apos;agents ou la modification de la configuration d&apos;agents), garantissant que votre environnement reste à jour avec un minimum d&apos;effort.

<Callout title="Important : échec de la mise à niveau et récupération">
  Actuellement, il n’existe aucune restauration automatique en cas d’échec de la mise à niveau d’Agent Control. Si une mise à niveau échoue, le déploiement sera marqué comme **FAILED** et l&apos;entité gérée peut nécessiter une intervention manuelle. Pour obtenir des conseils, consultez notre documentation sur [la mise à niveau manuelle d&apos;Agent Control](/docs/new-relic-control/agent-control/upgrading).

  Nous développons activement une fonctionnalité permettant de fournir une restauration automatique et de simplifier la correction des échecs de mise à niveau lors d&apos;une future sortie.
</Callout>

<img title="Agent Control auto-upgrade notification" alt="The Agent Control auto-upgrade notification banner shown in the deployment pane." src="/images/fleet-control-auto-upgrade-banner.webp" />

## Créer et gérer des brouillons de déploiement

Vous pouvez enregistrer un déploiement en tant que brouillon pour y travailler au fil du temps sans déployer les modifications immédiatement.

### Créer et reprendre un brouillon

1. Accédez à l’onglet **Deployments** au sein d’une flotte spécifique.
2. Cliquez sur le bouton **Create deployment**.
3. Dans le volet de déploiement, indiquez un **Name** obligatoire et une **Description** facultative.
4. Apportez les modifications souhaitées, telles que l’ajout d’agents ou la mise à jour de leur configuration.
5. Au lieu de démarrer le déploiement, cliquez sur **Save draft**.
6. Vous pouvez ensuite fermer le volet de déploiement. Votre nouveau déploiement sera répertorié dans l&apos;onglet **Deployments** avec un statut de `Draft`.

Pour continuer à travailler sur le brouillon, cliquez simplement sur son nom dans le tableau de l&apos;historique de déploiement. Cela rouvrira le volet de déploiement, vous permettant de terminer vos modifications et de cliquer sur **Start deployment** lorsque vous êtes prêt.

### Supprimer un brouillon

Si vous n’avez plus besoin d’un projet de déploiement :

1. Depuis l&apos;onglet **Deployments**, cliquez sur le nom du brouillon que vous souhaitez supprimer.
2. Dans le volet de déploiement qui s’ouvre, cliquez sur le bouton points de suspension (`...`) à côté du bouton **Start deployment** en haut de l’écran.
3. Sélectionnez **Delete draft** dans le menu.
4. Le brouillon sera définitivement supprimé et vous serez renvoyé à l&apos;onglet **Deployments**.

### Actions de l&apos;agent dans un déploiement

Lorsque vous créez ou modifiez un déploiement, le tableau **Agents** dans le volet de déploiement fournit plusieurs actions pour chaque agent. Cliquez sur les points de suspension (`...`) à droite de la ligne d&apos;un agent pour accéder aux options suivantes :

* **Modifier la configuration :** ouvre l’éditeur de configuration, vous permettant de modifier la configuration de cet agent dans le cadre du déploiement.
* **Utiliser la version la plus récente :** si vous avez créé plusieurs versions d’une configuration, cette option met automatiquement à jour le déploiement pour utiliser la dernière version enregistrée.
* **Modifier la version :** vous permet de sélectionner manuellement une version spécifique et plus ancienne de la configuration à utiliser pour le déploiement.
* **Supprimer du déploiement :** supprime entièrement l’agent et sa configuration de ce déploiement.

<img title="Agent actions" alt="Reveal a number of agent actions by clicking the ellipsis button in that agent's corresponding row in the deployment pane." src="/images/fleet-control-agent-options.webp" />

## Gérer les entités d&apos;une flotte

<Callout title="Important : Le principe de l'héritage de la flotte">
  Les flottes fonctionnent selon un principe fondamental d’ **héritage**. Cela signifie que toute entité gérée affectée à une flotte sera automatiquement conforme au dernier déploiement actif de cette flotte pour garantir la cohérence de l&apos;instrumentation. Il est essentiel de comprendre ce comportement lors de l’ajout ou de la suppression d’entités, car cela peut entraîner l’installation ou la désinstallation automatique d’agents.
</Callout>

### Supprimer une entité d&apos;une flotte

1. Accédez à l’onglet **Summary** de la flotte qui contient actuellement l’entité.
2. Dans le tableau **Managed Entities**, utilisez la case à cocher pour sélectionner une ou plusieurs entités que vous souhaitez supprimer.
3. Cliquez sur le bouton **Remove** qui apparaît.
4. Une fenêtre de vérification apparaîtra, listant l&apos;entité à supprimer. Pour confirmer, tapez `remove` dans le champ de texte.
5. Cliquez sur **Remove entities**. L&apos;entité n&apos;est désormais plus affectée à la flotte.

<Callout title="Important : retour à la configuration locale">
  Lorsqu&apos;une entité gérée est supprimée d&apos;une flotte, elle revient automatiquement à sa **configuration locale**d&apos;origine, c&apos;est-à-dire l&apos;état dans lequel elle se trouvait lors de la première installation d&apos;Agent Control. Cela peut entraîner la désinstallation des agents. Par exemple, si la flotte avait l&apos;infrastructure et les agents Fluent Bit installés, mais que la configuration locale de l&apos;entité inclut uniquement le contrôle des agents, les deux agents seront désinstallés lors de la suppression pour garantir qu&apos;ils correspondent à l&apos;état local.
</Callout>

<img title="Removing a managed entity from a fleet" alt="The verification screen for confirming the removal of an managed entity from a fleet." src="/images/fleet-control-remove-me.webp" />

### Ajouter une entité gérée non attribuée à une flotte

Vous ajoutez une entité gérée non attribuée à une flotte en créant un nouveau déploiement. Ce processus associe l&apos;entité à la flotte et à sa configuration de déploiement.

1. Accédez à la flotte où vous souhaitez ajouter l’entité et cliquez sur **Create a deployment**.
2. Donnez au déploiement un nom et une description significatifs.
3. Dans le tableau **Managed Entities** en bas de l’écran de déploiement, cliquez sur le bouton **Add managed entities**.
4. Un volet s&apos;ouvrira, affichant une liste de toutes vos entités gérées non attribuées.
5. Utilisez les cases de sélection pour choisir une ou plusieurs entités que vous souhaitez ajouter à la flotte.
6. Cliquez sur **Add to deployment**. L&apos;entité sélectionnée apparaîtra désormais dans la table **Managed Entities** pour ce déploiement.
7. Cliquez sur **Save draft**, puis sur **Start deployment** pour terminer le processus. L&apos;entité sera désormais affectée à la nouvelle flotte.

<Callout title="Important : héritage du dernier déploiement actif">
  Lorsque vous ajoutez une entité gérée à une flotte, un déploiement implicite se produit en arrière-plan. Ce déploiement installe, met à jour ou supprime automatiquement l&apos;instrumentation sur la nouvelle entité pour garantir qu&apos;elle correspond parfaitement au dernier **déploiement actif** de la flotte. Par exemple, si le déploiement actif de la flotte inclut l&apos;infrastructure et les agents Fluent Bit, mais que la nouvelle entité n&apos;avait auparavant que l&apos;agent OTel, l&apos;agent OTel sera supprimé et l&apos;infrastructure et les agents Fluent Bit seront installés.
</Callout>

<img title="Adding a managed entity to a fleet" alt="The selection pane for adding a managed entity to a fleet via a deployment." src="/images/fleet-control-add-me-deployment.webp" />

## Utiliser le canari

le contrôle de la flotte permet de désigner une ou plusieurs entités gérées comme « canari » lors du processus de déploiement. Cela fournit un mécanisme de sécurité crucial pour le déploiement des modifications.

Lorsque vous créez un nouveau déploiement, vous pouvez utiliser les points de suspension (`...`) à côté de n’importe quelle entité gérée dans la liste et la désigner comme canari.

Lorsque le déploiement commence :

1. Les modifications ne s&apos;appliquent *qu&apos;à* l&apos;entité gérée marquée comme canaris.
2. Le processus de déploiement s&apos;arrête et attend que le déploiement du canari réussisse.
3. Si un déploiement Canary échoue, l’ensemble du déploiement s’arrête immédiatement et aucune autre entité gérée n’est affectée.
4. Si tous les déploiements canaris réussissent, le déploiement se poursuit vers le reste de l&apos;entité gérée dans la flotte.

<Callout title="Important : pas de restauration automatique pour les canaris ayant échoué">
  Si un déploiement Canary échoue, l&apos;entité gérée à laquelle il était destiné restera dans un état **Failed**. Il n’y a pas de retour automatique à la configuration précédente. Vous devrez créer un nouveau déploiement pour annuler les modifications ou résoudre le problème.
</Callout>

<img title="Canary deployment enablement" alt="Set your managed entities for canary deployments via the canary selection action in the deployment pane." src="/images/fleet-control-canary-action.webp" />

contrôle-de-flotte-action-canari

## La page de configuration

<Callout title="Important : les configurations sont globales">
  Toutes les configurations que vous créez dans contrôle de la flotte sont **globales**. Cela signifie qu&apos;ils sont disponibles pour une utilisation dans l&apos;ensemble de votre organisation New Relic et peuvent être déployés sur n&apos;importe quelle flotte qui en a besoin, quelle que soit la personne qui a créé la configuration.
</Callout>

Lorsque vous accédez à **New Relic Control → Configurations**, vous accédez à la page de configuration principale, qui est le hub central pour la gestion de toute la configuration de votre agent.

### Aperçu de la page principale

Cette page fournit un aperçu de haut niveau de toutes les configurations disponibles dans votre compte. À partir d&apos;ici, vous pouvez :

* **Afficher le nombre récapitulatif :** consultez le nombre total de vos configuration.
* **Voir la distribution configuration :** affichez une répartition de votre configuration par type d&apos;agent (par exemple, New Relic Infrastructure, Fluent Bit, NRDOT collecteur).
* **Rechercher une configuration :** utilisez la barre de recherche pour trouver une configuration spécifique par son nom ou le type d’agent associé.
* **Actualiser la liste :** Si vous venez de créer une nouvelle configuration et que vous ne la voyez pas dans le tableau, cliquez sur le bouton Actualiser situé à gauche du bouton **Créer une configuration**.

La page affiche un tableau de votre configuration avec les colonnes suivantes :

* **configuration :** Le nom de la configuration.
* **Agent :** le type d’agent auquel la configuration s’applique.
* **Révisions :** le nombre de versions existantes pour la configuration.
* **Type :** le type d&apos;entité gérée (par exemple, Kubernetes ou Hôte).
* **Dernière modification :** un horodatage de la dernière mise à jour.

### Actions de configuration

À partir du tableau de configuration principal, vous pouvez cliquer sur les points de suspension (`...`) à l&apos;extrême droite de n&apos;importe quelle configuration pour la **Edit**. Cela ouvre le volet d&apos;édition principal dans lequel vous pouvez modifier le fichier de configuration. Cette vue fournit également des boutons pour **Download** le fichier de configuration sur votre machine locale ou **Copy** son contenu dans votre presse-papiers.

### Comprendre la configuration

La structure d&apos;un fichier configuration dépend de l&apos; **Environment** que vous sélectionnez (Kubernetes ou Hôte).

* **Pour Kubernetes,** la configuration que vous créez dans l’interface utilisateur est un fichier `values.yaml`. Lors du déploiement, contrôlez la flotte en packageant ce fichier avec la charte Helm de l&apos;agent pour le configurer sur votre cluster. Les modèles pour les agents Kubernetes sont structurés sous la forme d&apos;un fichier graphique Helm canonique `values.yaml`. Près du haut du modèle, vous trouverez un lien placer en commentaire vers le graphique Helm de l&apos;agent dans le [référentiel GitHub New Relic Helm Charts](https://github.com/newrelic/helm-charts). Cela vous permet de référencer facilement le schéma, les valeurs disponibles et d&apos;autres documentations spécifiques à l&apos;agent.
* **Pour les hôtes,** le format du fichier configuration est spécifique à l&apos;agent déployé.

<Callout title="Important : valeurs auto-injectées pour Kubernetes">
  Lors du déploiement dans un environnement Kubernetes, vous n&apos;avez pas besoin de spécifier manuellement les valeurs `licenseKey`, `cluster`, `lowDataMode` ou `verboseLog` dans votre configuration. Ceux-ci sont automatiquement injectés en tant que variables d’environnement à partir de la configuration de l’agent Control. Pour plus de détails, consultez notre documentation sur [la gestion des secrets](/docs/new-relic-control/fleet-control/configuration).
</Callout>

### Créer une configuration

Pour créer une nouvelle configuration globale à partir de zéro :

1. Depuis la page de configuration principale, cliquez sur le bouton **Create configuration**.

2. Dans la fenêtre modale qui s&apos;affiche, vous devez :

   * Sélectionnez l&apos; **Environment** (Kubernetes ou Hôte).
   * Sélectionnez le **Agent type** (par exemple, New Relic Infrastructure, collecteur NRDOT, Fluent Bit).
   * Fournissez un **Name** significatif et unique pour la configuration.

3. Cliquez sur **Continue**. Cela ouvre la vue d&apos;édition de configuration, qui est divisée en deux volets.

   * **Volet gauche (configuration active) :** c&apos;est ici que vous créez votre configuration. Vous pouvez taper directement dans ce volet ou coller du contenu à partir d&apos;une autre source.
   * **Volet droit (Modèle) :** ce volet contient le dernier modèle par défaut pour le type d’agent que vous avez sélectionné. Ces modèles fournissent les paramètres minimaux requis pour exécuter l&apos;agent, mais ils incluent également de nombreuses options de mise en commentaire supplémentaires. Vous pouvez utiliser ces exemples comme référence ou les supprimer des commentaires pour créer une configuration plus personnalisée.

4. Un workflow courant consiste à cliquer sur le bouton **Copy** dans le volet de modèle et à coller le contenu dans le volet configuration actif sur la gauche pour l&apos;utiliser comme point de départ.

5. Une fois que vous êtes satisfait de votre configuration dans le volet de gauche, cliquez sur **Save**. La vue d&apos;édition se fermera, vous ramenant à la page de configuration principale où vous pourrez trouver votre nouvelle configuration.

### Afficher et versionner une configuration spécifique

Pour voir plus de détails sur une configuration et gérer ses versions, cliquez sur son nom dans la liste principale. Cela ouvre un volet détaillé pour cette configuration spécifique.

Cette vue vous montre :

* Le nom de la configuration, le type d&apos;agent et une liste de ses versions disponibles.
* Le **Deployment status**, qui indique si la configuration a été déployée sur des flottes et, si oui, lesquelles.

À partir de ce volet, vous pouvez également effectuer plusieurs actions telles que **Download**, **Copy** et **Clone**. L’action principale ici est de créer une nouvelle version de la configuration.

Pour créer une nouvelle version :

1. Cliquez sur le bouton **Create config version**.
2. Cela ouvre le volet d&apos;édition dans lequel vous pouvez modifier la configuration.
3. Lorsque vous avez terminé vos modifications, cliquez sur **Save**.
4. Vous serez renvoyé vers la page de configuration principale et vous verrez que le nombre de **Revisions** pour cette configuration a augmenté d&apos;un.

Si vous revenez à la configuration, vous pouvez désormais sélectionner la nouvelle version dans la liste pour l&apos;afficher.

<img title="Configuration details pane" alt="From the configuration details pane, you can copy, download, clone, create and delete a configuration." src="/images/fleet-control-config-detail.webp" />

## Supprimer une configuration et ses versions

Pour supprimer une configuration, vous devez d’abord supprimer toutes ses versions individuelles. La configuration parent est automatiquement supprimée une fois sa dernière version supprimée.

<Callout title="Important : restriction de suppression">
  Vous ne pouvez pas supprimer une version de configuration qui fait actuellement partie d’un déploiement actif. La section d&apos;état de déploiement dans le volet des détails configuration vous indiquera à quelles flottes une version est destinée. Avant de pouvoir le supprimer, vous devez d’abord créer un nouveau déploiement pour les flottes qui utilisent une version de configuration différente.
</Callout>

1. Pour supprimer une version de configuration :
2. Accédez à la page de configuration.
3. Cliquez sur le nom de la configuration que vous souhaitez modifier pour ouvrir son volet de détails.
4. Sur la gauche, vous verrez une liste de toutes ses versions. Passez la souris sur la version que vous souhaitez supprimer et cliquez sur les points de suspension (...) qui apparaissent.
5. Sélectionnez Supprimer dans le menu.
6. Répétez ce processus pour toutes les versions restantes. Une fois la dernière version supprimée, la configuration parent sera supprimée de la liste sur la page de configuration principale.

### Cloner une configuration

Le clonage est un moyen rapide de créer une nouvelle configuration basée sur une configuration existante.

1. Sur la page de configuration principale, cliquez sur le bouton points de suspension (`...`) situé à côté du bouton principal **Create configuration**.
2. Dans la liste déroulante, sélectionnez la configuration existante que vous souhaitez utiliser comme point de départ pour votre clone.
3. Cela ouvre la même vue d&apos;édition à deux volets, pré-remplie avec le contenu de la configuration que vous avez sélectionnée.
4. Vous pouvez maintenant créer votre nouvelle configuration et la sauvegarder.

## La page principale de l&apos;entité gérée

Lorsque vous accédez à **New Relic Control → Managed Entities**, vous obtenez une vue centralisée de toutes vos entités gérées, qui sont des clusters Kubernetes ou des hôtes avec Agent Control installé. Cette page sert d&apos;inventaire complet des actifs de toute entité susceptible d&apos;être gérée par le contrôle de la flotte et est organisée en deux onglets : **Fleet managed** et **Unassigned**.

### Onglet Gestion de flotte

Cet onglet répertorie toutes les entités gérées qui sont actuellement affectées à une flotte. Le tableau fournit les informations suivantes :

* **Nom de l&apos;entité :** cliquer sur le nom vous amène directement à l&apos;expérience d&apos;exploration de cette entité dans la plateforme New Relic (par exemple, l&apos;explorateur cluster Kubernetes ).
* **type d&apos;entité :** type de l&apos;entité gérée (par exemple, cluster Kubernetes ou hôte).
* **État de l&apos;instrumentation :** l&apos;état de santé actuel de l&apos;instrumentation sur l&apos;entité.
* **Flotte :** à quelle flotte l&apos;entité est actuellement affectée. Vous pouvez cliquer sur le nom de la flotte pour accéder directement à la page de gestion de cette flotte.
* **Nom du compte :** le compte New Relic associé à l’entité gérée.

<img title="The fleet managed tab on the managed entities page" alt="By selecting the fleet managed tab under the managed entities page, you can view all of your managed entities that are under fleet control management." src="/images/fleet-control-me-page.webp" />

### Onglet non attribué

Cet onglet fournit une liste de toutes les entités gérées sur lesquelles Agent Control est installé mais qui ne sont actuellement affectées à aucune flotte. Le tableau fournit les informations suivantes :

* **Nom de l&apos;entité :** Cliquer sur le nom vous amène directement à l&apos;expérience d&apos;exploration de cette entité sur la plateforme New Relic.
* **type d&apos;entité :** type d&apos;entité gérée.
* **État de l&apos;instrumentation :** l&apos;état de santé actuel de l&apos;instrumentation.
* **Nom du compte :** le compte New Relic associé à l’entité gérée.

Cette vue est particulièrement utile pour identifier lesquels de vos actifs ne sont pas encore gérés par le contrôle de la flotte. Il est de bonne pratique d&apos;affecter toutes les entités gérées à une flotte pour garantir qu&apos;elles sont configurées et monitorées de manière cohérente.

<img title="The unassigned tab on the managed entities page" alt="By selecting the unassigned tab under the managed entities page, you can view all of your unassigned managed entities." src="/images/fleet-control-me-unassigned-tab.webp" />

## La page des agents principaux

Lorsque vous accédez à **New Relic Control → Agents**, vous obtenez un aperçu global de tous les agents gérés par le contrôle de la flotte dans votre organisation.

En haut de la page, vous trouverez des cartes récapitulatives qui donnent un aperçu rapide de la santé de votre agent, notamment :

* Un décompte de tous les agents connectés.
* Un décompte des agents déconnectés, vous aidant à identifier rapidement les agents qui peuvent nécessiter un dépannage.
* Une distribution de vos 500 principaux types d’agents.

Sous les cartes récapitulatives, un tableau complet répertorie tous vos agents gérés. Vous pouvez rechercher ce tableau par nom d&apos;agent et le filtrer par type d&apos;agent ou statut de rapport. Le tableau comprend les colonnes suivantes :

* **Type :** le type de l&apos;agent (par exemple, New Relic Infrastructure).
* **Nom de l&apos;agent :** Le nom spécifique de l&apos;agent.
* **Entité gérée :** l’entité gérée à laquelle l’agent est associé.
* **État de connexion :** l’état de connexion actuel de l’agent.
* **Flotte :** La flotte dont l&apos;agent fait partie.
* **Version de l&apos;agent :** le numéro de version de l&apos;agent.

<img title="The agents page" alt="The agents page gives you a global overview of all of your agents managed by Fleet Control." src="/images/fleet-control-agents-page.webp" />