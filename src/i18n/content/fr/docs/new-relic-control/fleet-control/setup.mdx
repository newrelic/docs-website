---
title: Mettre en place le contrôle de la flotte
tags:
  - fleet-control
  - setup
  - getting-started
  - kubernetes
  - deployment
  - agent-management
metaDescription: Learn how to get started with Fleet Control by creating your first fleet and running your first deployment.
freshnessValidatedDate: never
translationType: machine
---

<Callout title="fonctionnalité Disponibilité">
  le contrôle de la flotte pour le cluster Kubernetes est généralement disponible (GA). La prise en charge de la gestion des agents sur les hôtes est actuellement en version préliminaire publique.

  Pour une liste complète des agents pris en charge et de leurs environnements, consultez notre [documentation sur la compatibilité des types d&apos;agents](/docs/new-relic-control/agent-control/agent-types).

  La fonctionnalité d&apos;aperçu public est fournie conformément à nos [politiques de pré-sortie](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

Ce guide fournit le chemin le plus rapide pour démarrer avec le contrôle de la flotte. Nous vous guiderons à travers le workflow essentiel du « chemin heureux » pour créer votre première flotte et exécuter un déploiement de base.

## aperçu du flux de travail

Le processus de mise en place du contrôle de la flotte suit un ordre spécifique. Vous devez créer une flotte *avant de* pouvoir installer Agent Control, car le processus d&apos;installation nécessite une flotte à laquelle s&apos;associer. Une fois Agent Control installé, l’entité est automatiquement affectée à cette flotte. Par conséquent, le workflow est le suivant :

1. **Créez une flotte** sur la plateforme New Relic.
2. **Installez Agent Control** sur votre entité. L&apos;assistant d&apos;installation utilise les détails de votre flotte pour attribuer chaque entité, ce qui en fait une « entité gérée attribuée ».
3. **Exécutez un déploiement** pour installer et configurer les agents sur l&apos;entité qui font désormais partie de votre flotte.

## Prérequis

Vous aurez besoin du rôle de **Organization Manager** ou d’un rôle personnalisé avec les autorisations de gestion de flotte équivalentes pour effectuer ces actions.

## Étape 1 : Créez votre première flotte

La première étape consiste à créer une flotte. Dans le contrôle de la flotte, une **flotte** est un ensemble homogène d&apos;entités gérées (comme le cluster Kubernetes) qui partagent une configuration d&apos;instrumentation identique. Les flottes agissent comme des regroupements logiques, vous permettant de gérer les versions et la configuration des agents de manière cohérente dans votre environnement à grande échelle, évitant ainsi les dérives configuration et les lacunes d&apos;observabilité.

1. Connectez-vous à la plateforme New Relic sous le compte approprié.

2. Accédez à **All capabilities → New Relic Control**.
   * **Astuce :** vous pouvez épingler **New Relic Control** sur la barre de navigation de gauche pour un accès facile en cliquant sur l&apos;icône d&apos;épingle.

3. Dans le menu **New Relic Control**, sélectionnez **Fleets** sous la section **Fleet Control**.

4. Sur la page principale des flottes, cliquez sur le bouton **Create a fleet**.

5. Dans le modal :

   * Donnez à votre flotte un **Name** significatif (par exemple, `prod-us-east-1-platform-k8s`) et une **Description** facultative.
   * Sélectionnez le **Type of Fleet**. Pour ce guide, nous sélectionnerons **Kubernetes**, qui est généralement disponible. Le support Hôte est actuellement en version préliminaire publique.
   * Laissez la **Access management** par défaut. Il s&apos;agit d&apos;un paramètre facultatif pour le FGA (contrôle d&apos;accès à granularité fine).

6. Cliquez sur **Create Fleet**.

<img title="Create a fleet modal" alt="The 'Create a fleet' modal with input fields for a fleet name, description, and environment type." src="/images/fleet-control-creation-modal.webp" />

Avec la flotte créée, vous disposez désormais du composant nécessaire pour procéder à l&apos;installation d&apos;Agent Control.

## Étape 2 : Installer Agent Control

Maintenant que votre flotte existe, installez Agent Control sur l&apos;entité que vous souhaitez lui associer.

Suivez les instructions de la [documentation de configuration d&apos;Agent Control](/docs/new-relic-control/agent-control/setup). L&apos;assistant fournit un fichier `values.yaml` et une commande Helm qui installe Agent Control et attribue l&apos;entité gérée à la flotte que vous venez de créer. Une fois terminée, votre entité apparaîtra comme **Assigned Managed Entities** au sein de votre flotte.

## Étape 3 : Créer une configuration d’agent

Avant de déployer l’agent New Relic Infrastructure, vous devez créer une configuration pour celui-ci. Toute configuration que vous créez est enregistrée globalement et peut être utilisée sur votre compte New Relic.

1. Dans le menu de gauche de **New Relic Control**, cliquez sur **Configurations**.

2. Cliquez sur le bouton **Create configuration**.

3. Dans le modal :

   * Pour **Environnement**, sélectionnez **Kubernetes**.
   * Pour le **Agent type**, sélectionnez **New Relic Infrastructure**.
   * Donnez à la configuration un nom significatif et unique. Étant donné que la configuration est globale, un nom clair est important. Par exemple : `New Relic default infra config`.

4. Cliquez sur **Continue**.

5. Vous verrez deux panneaux. Le panneau de droite contient un modèle par défaut. Cliquez sur le bouton **Copy** pour copier l’intégralité du modèle.

6. Collez le texte copié dans le panneau de configuration de gauche.

7. Cliquez sur **Save**. Votre configuration est désormais enregistrée globalement.

<img title="Create a fleet configuration editor" alt="The 'Create a configuration editor' with template and content panes for easily authoring a configuration." src="/images/fleet-control-config-editor.webp" />

## Étape 4 : Créez et exécutez votre premier déploiement

Un déploiement est un ensemble contrôlé d’actions qui peuvent installer, supprimer ou configurer des agents sur l’entité gérée de votre flotte. Vous allez maintenant en créer un pour déployer l’agent New Relic Infrastructure.

1. Revenez à l’onglet **Fleets** et sélectionnez la flotte que vous avez créée précédemment.
2. Sur la page récapitulative de la flotte, cliquez sur **Create a deployment**. (Si la flotte dispose d&apos;un déploiement existant, accédez à l&apos;onglet **Deployments** et cliquez sur **Create deployment**).
3. Donnez à votre déploiement un **Name** obligatoire. Un nom significatif fournit un contexte historique et aide au dépannage. Considérez un modèle qui inclut le changement, une version ou un ID de ticket. Par exemple : `v1.0-initial-infra-deploy` ou `add-logging-JIRA-123`.
4. Cliquez sur **Add an agent**.
5. Sélectionnez le type d’agent pour lequel vous avez créé la configuration : **New Relic Infrastructure**.
6. Dans la liste des configurations disponibles, sélectionnez le `New Relic default infra config` que vous venez de créer. La version par défaut sera `v1`.
7. Cliquez sur **Add to deployment**. L&apos;agent et sa configuration associée apparaîtront désormais dans un tableau appelé **Agents**.
8. Cliquez sur **Save draft**.
9. Lorsque vous êtes prêt, cliquez sur **Start deployment**. Une fenêtre de confirmation apparaîtra.
10. Dans le modal, cliquez sur **Start deployment** pour lancer.

<img title="Create a fleet deployment pane" alt="The 'Create a fleet deployment pane' allows the user to create a deployment consisting of actions that can install, delete, or configure agents." src="/images/fleet-control-deployment-pane-gke.webp" />

Un écran « EN COURS » affichera le statut, le nombre d&apos;entités gérées et d&apos;agents affectés, ainsi qu&apos;un ID de déploiement. Une fois terminée, la page sera mise à jour avec un statut « Terminé » et des tableaux récapitulatifs détaillant le déploiement, les agents et l&apos;entité gérée spécifique qui ont été instrumentés.

<img title="Fleet Control deployment progress" alt="The 'Fleet Control deployment progress' allows the user to understand the current status of their deployment." src="/images/fleet-control-deployment-progress.webp" />

## Prochaines étapes

Félicitations pour le déploiement de votre première flotte ! Vous avez appris le workflow de base pour gérer votre instrumentation à grande échelle.

Pour approfondir ce que vous avez appris, explorez notre page sur [la gestion des flottes](/docs/new-relic-control/fleet-control/manage-fleets). Il fournit des détails supplémentaires sur la fonctionnalité plus nuancée et quotidienne du contrôle de la flotte, notamment comment :

* Créez et versionnez la configuration de votre agent.
* Gérez les détails et les paramètres de votre flotte.
* Utilisez l&apos;onglet **Managed Entities** de niveau supérieur pour voir toute votre infrastructure avec Agent Control installé, y compris les entités attribuées et non attribuées.
* Plongez dans une flotte spécifique pour afficher la **configuration effective** sur son onglet **Agents** et comprendre les différents statuts de déploiement et d&apos;instrumentation.