---
subject: Java agent
releaseDate: '2026-02-12'
version: 9.1.0
downloadLink: 'https://download.newrelic.com/newrelic/java-agent/newrelic-agent/9.1.0/'
features:
  - “Adds Java Hybrid Agent implementation”
  - “Adds support for the addition of SQL metadata comments for Query Performance Monitoring (QPM)”
  - “Enhancements to correct issues related to ignores in Kotlin Coroutines.”
  - “Adds support for agent metadata actions”
bugs:
  - “Fix broken trace propagation with w3c headers”
  - “Fix multihost preference config”
  - “Fixed problem where suspend ignores was not being read”
security: []
translationType: machine
---

<ButtonGroup>
  <ButtonLink role="button" to="https://download.newrelic.com/newrelic/java-agent/newrelic-agent/9.1.0/" variant="primary">
    Téléchargez cette version de l&apos;agent
  </ButtonLink>
</ButtonGroup>

## Nouvelle fonctionnalité et améliorations

* L&apos;Agent Java hybride : offre une expérience « le meilleur des deux mondes » en combinant la visibilité approfondie de New Relic avec la compatibilité de l&apos;API OpenTelemetry. Cette version inclut une prise en charge complète des API de traçage, de métriques et de logs OpenTelemetry, ainsi que l&apos;instrumentation de bibliothèques autonomes et de frameworks natifs. Des améliorations clés telles que les Span Links et les Events on Spans sont désormais disponibles, garantissant une interopérabilité transparente dans les environnements en mode mixte.

  * Mise à jour de la configuration de l&apos;agent hybride basée sur les changements de spécifications par @jasonjkeller dans [2738](https://github.com/newrelic/newrelic-java-agent/pull/2738)
  * Prise en charge de l&apos;API OpenTelemetry pour l&apos;agent hybride par @jasonjkeller dans [2711](https://github.com/newrelic/newrelic-java-agent/pull/2711)
  * Prise en charge de l&apos;API OTel Bridge par @sdaubin dans [1886](https://github.com/newrelic/newrelic-java-agent/pull/1886)

* Added support for prepending a comment to executed SQL that contains the entity GUID of the current application. This is used by the Query Performance Monitoring product for entity linking by @jtduffy in [2715](https://github.com/newrelic/newrelic-java-agent/pull/2715)

* Améliorations des exclusions de coroutines par @dhilpipre dans [2726](https://github.com/newrelic/newrelic-java-agent/pull/2726)

* Ajout de l&apos;action de métadonnées de l&apos;agent - @mvicknr dans [2732](https://github.com/newrelic/newrelic-java-agent/pull/2732) [2745](https://github.com/newrelic/newrelic-java-agent/pull/2745)

## Corrections

* Correction de la propagation de trace défectueuse avec les en-têtes W3C par @jasonjkeller dans [2299](https://github.com/newrelic/newrelic-java-agent/pull/2299)
* Correction de la configuration de préférence multihôte @jtduffy dans [2720](https://github.com/newrelic/newrelic-java-agent/pull/2720)
* Correction d&apos;un problème où suspend ignores n&apos;était pas lu, par @dhilpipre dans [2663](https://github.com/newrelic/newrelic-java-agent/pull/2663)

## Mise à jour vers la dernière version [#procedures]

Pour identifier la version de l’agent Java que vous utilisez actuellement, exécutez `java -jar newrelic.jar -v`. Votre version d&apos;agent Java sera imprimée sur votre console.

Ensuite, pour mettre à jour vers la dernière version de l&apos;agent Java :

1. Sauvegardez l’ **intégralité** du [répertoire racine de l’agent Java](/docs/agents/manage-apm-agents/troubleshooting/find-agent-root-directory#java-agent) vers un autre emplacement. Renommez ce répertoire en `NewRelic_Agent#.#.#`, où `#.#.#` est le numéro de version de l&apos;agent.
2. [Téléchargez l&apos;agent.](/docs/release-notes/agent-release-notes/java-release-notes).
3. Décompressez le nouveau fichier de téléchargement de l&apos;agent, puis copiez `newrelic-api.jar` et `newrelic.jar` dans le [répertoire racine de l&apos;agent Java](/docs/agents/manage-apm-agents/troubleshooting/find-agent-root-directory#java-agent) d&apos;origine.
4. Comparez votre ancien `newrelic.yml` avec le `newrelic.yml` nouvellement téléchargé à partir du zip et [mettez à jour le fichier si nécessaire](#diff).
5. Redémarrez votre répartiteur Java.

Si vous rencontrez des problèmes après la mise à jour de l&apos;agent Java, effectuez la restauration à partir du répertoire de l&apos;agent New Relic sauvegardé.

## Différences de configuration de l&apos;agent de mise à jour [#diff]

Nous ajoutons de nouveaux paramètres à `newrelic.yml` à mesure que nous sortons de nouvelles versions de l&apos;agent. Vous pouvez utiliser `diff` ou un autre utilitaire de comparaison pour voir ce qui a changé et ajouter les nouveaux paramètres de configuration à votre ancien fichier. Assurez-vous de ne pas écraser les personnalisations que vous avez apportées au fichier, telles que votre clé de licence, le nom de l&apos;application ou les modifications apportées aux paramètres par défaut.

Par exemple, si vous `diff` les fichiers par défaut `newrelic.yml` pour les versions 7.10.0 et 7.11.0 de l&apos;agent Java, les résultats imprimés sur la console seront comme suit :

```yaml
➜ diff newrelic_7.10.0.yml newrelic_7.11.0.yml
...
107a108,119
>       # Whether the log events should include context from loggers with support for that.
>       context_data:
>
>         # When true, application logs will contain context data.
>         enabled: false
>
>         # A comma separated list of attribute keys whose values should be sent to New Relic.
>         #include:
>
>         # A comma separated list of attribute keys whose values should not be sent to New Relic.
>         #exclude:
>
125a138
>
128c141
<     enabled: false
---
>     enabled: true
...
```

Dans cet exemple, ces lignes ont été ajoutées à la valeur par défaut `newrelic.yml` dans la version 7.11.0 de l&apos;agent Java. Si vous passez à la version 7.11.0 ou supérieure, vous devez ajouter ces nouvelles lignes à votre `newrelic.yml` d&apos;origine.

## Déclaration de soutien :

* New Relic vous recommande de mettre à niveau l&apos;agent régulièrement pour vous assurer de bénéficier des dernières fonctionnalités et avantages en termes de performances. De plus, les anciennes sorties ne seront plus prises en charge lorsqu&apos;elles atteindront leur [fin de vie](https://docs.newrelic.com/docs/using-new-relic/cross-product-functions/install-configure/notification-changes-new-relic-saas-features-distributed-software/).