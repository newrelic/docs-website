---
subject: Ruby agent
releaseDate: '2025-12-02'
version: 9.24.0
downloadLink: 'https://rubygems.org/downloads/newrelic_rpm-9.24.0.gem'
features:
  - Deprecation reminder for SqlSampler#notice_sql API
  - Deprecation notice for second and third arguments in Datastores.notice_sql API
  - Deprecation notice for second argument in Datastores.notice_statement API
  - Deprecation notice for proc's second and third arguments in Datastores.wrap API
bugs: []
security: []
translationType: machine
---

<Callout variant="important">
  Nous vous recommandons de mettre à jour vers la dernière version de l&apos;agent dès qu&apos;elle est disponible. Si vous ne pouvez pas effectuer la mise à niveau vers la dernière version, mettez à jour vos agents vers une version datant de moins de 90 jours. En savoir plus sur [la façon de tenir les agents informés](/docs/new-relic-solutions/new-relic-one/install-configure/update-new-relic-agent/).

  Consultez la [politique EOL](/docs/apm/agents/ruby-agent/getting-started/ruby-agent-eol-policy/) de l&apos;agent New Relic Ruby pour obtenir des informations sur la sortie de l&apos;agent et les dates de support.
</Callout>

## v9.24.0

* **Fonctionnalité : Rappel de dépréciation pour l’API SqlSampler#notice\_sql**

  La méthode `NewRelic::Agent::SqlSampler#notice_sql` est obsolète et sera supprimée dans une future version majeure. Au lieu de cela, l&apos;utilisateur doit appeler `NewRelic::Agent::Datastores.notice_sql`. [PR#3345](https://github.com/newrelic/newrelic-ruby-agent/pull/3345)

* **fonctionnalité : Avertissement de dépréciation pour les deuxième et troisième arguments de Datastores.notice\_sql API**

  Les deuxième (`scoped_metric`) et troisième (`elapsed`) arguments de la méthode `NewRelic::Agent::Datastores.notice_sql` sont obsolètes. Elles n&apos;ont pas été utilisées par cette méthode depuis un certain temps. Ces valeurs seront plutôt définies en fonction du segment actuel lors de l&apos;appel de l&apos;API. [PR#3345](https://github.com/newrelic/newrelic-ruby-agent/pull/3345)

* **fonctionnalité : Avis de dépréciation pour le deuxième argument de Datastores.notice\_statement API**

  Le deuxième argument (`elapsed`) de la méthode `NewRelic::Agent::Datastores.notice_statement` est obsolète. Cette méthode n&apos;a pas été utilisée depuis un certain temps. Cette valeur sera plutôt définie en fonction du segment actuel lors de l&apos;appel de l&apos;API. [PR#3346](https://github.com/newrelic/newrelic-ruby-agent/pull/3346)

* **Fonctionnalité : Avis de dépréciation concernant les deuxième et troisième arguments de la procédure dans l’API Datastores.wrap**

  La méthode `NewRelic::Agent::Datastores.wrap` est en cours de modification. Dans une future version majeure, la procédure n&apos;acceptera qu&apos;un seul argument : le résultat de la fonction yield. Le nom de la métrique à portée et les arguments écoulés seront supprimés, car ils sont supprimés de la méthode `Datastores.notice_sql`. Le nom de la métrique et les valeurs écoulées sont dérivés du segment actuel lorsque le retour à la ligne est atteint. [PR#3346](https://github.com/newrelic/newrelic-ruby-agent/pull/3346)