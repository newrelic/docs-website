---
subject: Python agent
releaseDate: '2025-12-08'
version: 11.2.0
downloadLink: 'https://pypi.python.org/pypi/newrelic'
features:
  - Add support for Strands instrumentation
  - Add support for AWS Bedrock Converse Streaming instrumentation
  - Add support for Redis methods hybrid_search and msetex
  - Add support for loop_factory parameter in asyncio.Runner
  - Capture Langchain role assignments in LLM events
  - Capture LLM event timestamp at time of LLM request
bugs:
  - Fix ASGI header consumption
translationType: machine
---

## Remarques

Cette sortie de l&apos;agent Python ajoute la prise en charge des éléments suivants :

* [Brins](https://pypi.org/project/strands-agents-tools/)
* [AWS Bedrock Converse Streaming](\(https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/bedrock-runtime/client/converse.html\))
* Méthodes [Redis](https://pypi.org/project/redis/) `hybrid_search` et `msetex`
* Attributions de rôles [LangChain](https://pypi.org/project/langchain/) pour l&apos;événement LLM
* LLM événement horodatage capturé au moment de la demande LLM
* `loop_factory` paramètre dans `asyncio.Runner`

Cette mise à jour corrige également un bug dans l&apos;instrumentation ASGI où les en-têtes ne sont pas signalés par le serveur web.

Installez l&apos;agent en utilisant `easy_install/pip/distribute` via l&apos; [index des packagesPython ](https://pypi.python.org/pypi/newrelic), en utilisant `conda` via l&apos; [index des packages Conda-Forge](https://anaconda.org/conda-forge/newrelic), ou téléchargez-le directement depuis le [site de téléchargement de New Relic](https://download.newrelic.com/python_agent/release).

## Caractéristiques

* Ajout de la prise en charge de [Strands](https://pypi.org/project/strands-agents-tools/)

  * Ajouter des instruments pour les outils et agents Strands dans des configurations mono-agent et multi-agents (essaims, graphes, etc.).

* Ajout de la prise en charge [du streaming Converse sur AWS Bedrock](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/bedrock-runtime/client/converse.html)

  * Ajout de la prise en charge monitoring pour l&apos;API Converse en streaming. Cela inclut la prise en charge des appels de complétion de chat Converse effectués avec les clients boto3 et aioboto3 utilisant `converse_stream()`.

* Ajout de la prise en charge des méthodes [Redis](https://pypi.org/project/redis/)

  * Ajouter la prise en charge des méthodes suivantes :

    * `hybrid_search`
    * `msetex`

* Ajouter la prise en charge de `loop_factory` dans `asyncio.Runner`

  * Dans Python 3.11, la classe `asyncio.Runner` a été ajoutée ainsi que le paramètre `loop_factory`. Le paramètre `loop_factory` fournit un remplacement pour les politiques de boucle. La boucle ainsi créée est désormais instrumentée, que ce soit via un paramètre de boucle d&apos;événements global ou une boucle d&apos;événements personnalisée.

* Capturer les attributions de rôles [LangChain](https://pypi.org/project/langchain/) dans un événement LLM

  * L&apos;événement LangChain `LlmChatCompletionMessage` contient désormais le rôle attribué par [LangChain](https://pypi.org/project/langchain/).

* Capture de l&apos;horodatage de l&apos;événement LLM au moment de la requête LLM

  * Auparavant, la date et l&apos;heure de l&apos;événement LLM étaient enregistrées au moment de sa création. Désormais, cette information est saisie avec plus de précision au moment de la demande de LLM.

## Débogage

* consommation d&apos;en-tête ASGI

  * Lorsqu&apos;un `ASGIWebTransaction` consomme les en-têtes d&apos;un événement `http.response.start`, il le fait sans tenir compte des types d&apos;entrée autorisés. Lorsque les en-têtes sont un générateur, le générateur a été consommé par l&apos;appel à `process_response()` ne laissant aucun en-tête à envoyer au serveur Web. Ce problème est maintenant résolu.

## Déclaration de soutien

Nous vous recommandons de mettre à jour vers la dernière version de l&apos;agent dès qu&apos;elle est disponible. Si vous ne pouvez pas effectuer la mise à niveau vers la dernière version, mettez à jour vos agents vers une version datant de moins de 90 jours. En savoir [plus](/docs/new-relic-solutions/new-relic-one/install-configure/update-new-relic-agent/) sur la façon de tenir les agents informés.

[Consultez la politique EOL de](/docs/apm/agents/python-agent/getting-started/python-agent-eol-policy/) l&apos;agent Python de New Relic pour obtenir des informations sur la sortie de l&apos;agent et les dates de support.