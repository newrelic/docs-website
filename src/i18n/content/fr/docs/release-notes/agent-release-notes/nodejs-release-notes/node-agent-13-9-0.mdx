---
subject: Node.js agent
releaseDate: '2026-01-08'
version: 13.9.0
downloadLink: 'https://www.npmjs.com/package/newrelic'
security: []
bugs:
  - Updated samplers to properly assign sampling decisions based on appropriate context
  - Updated `undici` instrumentation to track the active and parent segment as symbols on request to properly end active request
  - Account for links added during transaction
features:
  - Added instrumentation support for `iovalkey`
  - Added `entity_guid` to Agent Control health file
  - Added support for OTel span events
  - Additional support for partial granularity traces (Not available for production use
translationType: machine
---

## Remarques

#### Caractéristiques

* Ajout de `entity_guid` au fichier de santé Agent Control ([#3594](https://github.com/newrelic/node-newrelic/pull/3594)) ([f42a501](https://github.com/newrelic/node-newrelic/commit/f42a501defce8eb246d28d6218db4947aca5bedd))

* Ajout de la prise en charge de l&apos;instrumentation pour `iovalkey` ([#3612](https://github.com/newrelic/node-newrelic/pull/3612)) ([55f5d6e](https://github.com/newrelic/node-newrelic/commit/55f5d6e8f1c1278845c2ed2a06c4d1d600015bb0))

* Ajout de la prise en charge des événements de span OTel ([#3600](https://github.com/newrelic/node-newrelic/pull/3600)) ([5b7c340](https://github.com/newrelic/node-newrelic/commit/5b7c34013aafd42d9f3e2b11eb31b86f1f4ea461))

* Prise en charge supplémentaire des traces de granularité partielle (Non disponible pour une utilisation en production)

  * Ajout du type `compact` pour les traces à granularité partielle. ([#3608](https://github.com/newrelic/node-newrelic/pull/3608)) ([73b0381](https://github.com/newrelic/node-newrelic/commit/73b038107f2e1fb94e7e7586dcf1d392031eb272))
  * Ajout de métriques de supportabilité de tracing de base ([#3610](https://github.com/newrelic/node-newrelic/pull/3610)) ([c465f4c](https://github.com/newrelic/node-newrelic/commit/c465f4c540599b0ded7eac1f27e12443b69d7a81))
  * Mise à jour des noms de métriques pour les traces complètes et partielles afin de consolider les valeurs similaires ([#3620](https://github.com/newrelic/node-newrelic/pull/3620)) ([b201338](https://github.com/newrelic/node-newrelic/commit/b20133825440876260998eda58eb94b04b864bb2))

#### Débogage

* Prise en compte des liens ajoutés pendant la transaction ([#3606](https://github.com/newrelic/node-newrelic/pull/3606)) ([488b6fd](https://github.com/newrelic/node-newrelic/commit/488b678278811af7eb6b941eed84e0dafdb86fd5))
* Mise à jour des échantillonneurs pour attribuer correctement les décisions d&apos;échantillonnage en fonction du contexte approprié ([#3641](https://github.com/newrelic/node-newrelic/pull/3641)) ([4bbdddf](https://github.com/newrelic/node-newrelic/commit/4bbdddf7ae845cf349f27cca895a32a748a8327a))
* Mise à jour de l&apos;instrumentation `undici` pour suivre le segment actif et parent en tant que symboles sur la requête afin de terminer correctement la requête active ([#3619](https://github.com/newrelic/node-newrelic/pull/3619)) ([9baebe5](https://github.com/newrelic/node-newrelic/commit/9baebe5c6bccba3c69bda5f3f3195d24dce0065b))

#### Refactoring de code

* Suppression de la logique `distributed_tracing.in_process_spans.enabled` inutilisée. Le tracing à granularité partielle le remplace ([#3611](https://github.com/newrelic/node-newrelic/pull/3611)) ([1d5584e](https://github.com/newrelic/node-newrelic/commit/1d5584eacd98b484435e56af455070ed866d246d))
* Mise à jour de l&apos;instrumentation `@langchain/core` pour s&apos;abonner aux événements émis ([#3493](https://github.com/newrelic/node-newrelic/pull/3493)) ([d1e90e4](https://github.com/newrelic/node-newrelic/commit/d1e90e4d66ac03a07b572a94f58066f2c20e7f25))

#### Documentation

* Mise à jour du rapport de compatibilité ([#3635](https://github.com/newrelic/node-newrelic/pull/3635)) ([74ac737](https://github.com/newrelic/node-newrelic/commit/74ac737f90c9a84ddce1c0994a9ecf9665883a86))

#### Tâches diverses

* Changement de `Langchain` en `LangChain`, extension de la plage de versions ([#3629](https://github.com/newrelic/node-newrelic/pull/3629)) ([d77239e](https://github.com/newrelic/node-newrelic/commit/d77239edbff79bb4e73c58a814f7a7d272325e77))
* Copie des métadonnées d&apos;état OTEL vers le segment ([#3613](https://github.com/newrelic/node-newrelic/pull/3613)) ([4057e80](https://github.com/newrelic/node-newrelic/commit/4057e804b74170ba58a0faf0bdeb934eafc4195d))
* **deps:** Mise à jour de `@newrelic/security-agent` en `v3.0.0` ([#3637](https://github.com/newrelic/node-newrelic/pull/3637)) ([a84fa74](https://github.com/newrelic/node-newrelic/commit/a84fa742bbacb607a813de2a99d81113027178bc))
* Ne pas créer de segments OpenAI si `ai_monitoring` est désactivé ([#3625](https://github.com/newrelic/node-newrelic/pull/3625)) ([b4f0010](https://github.com/newrelic/node-newrelic/commit/b4f001033684937cbe886ca166d8c71a662b783d))
* Limiter le nombre de liens de span sur les segments ([#3621](https://github.com/newrelic/node-newrelic/pull/3621)) ([c923c30](https://github.com/newrelic/node-newrelic/commit/c923c30a094af5f5e197f2e63f5dca652480f76d))
* Mise à jour de la publication Azure avec les étapes OIDC ([#3633](https://github.com/newrelic/node-newrelic/pull/3633)) ([14c41c0](https://github.com/newrelic/node-newrelic/commit/14c41c042847e823360965d815ebff7125973197))

#### Tests

* Indices centralisés pour les tests versionnés `redis` ([#3636](https://github.com/newrelic/node-newrelic/pull/3636)) ([34f6562](https://github.com/newrelic/node-newrelic/commit/34f6562f42c8a8fb02236cdff07832d8c0fb9562))
* Changement du test d&apos;outil `LangChain` en `>=0.2.0` ([#3631](https://github.com/newrelic/node-newrelic/pull/3631)) ([3a4980f](https://github.com/newrelic/node-newrelic/commit/3a4980faf924a9a334d38e0a3ed73c6d4ad79b8b))
* Correction des cibles de test `LangChain` ([#3634](https://github.com/newrelic/node-newrelic/pull/3634)) ([6504eb8](https://github.com/newrelic/node-newrelic/commit/6504eb869dc11d9c94bc3bf862a0b6bd308ee01c))
* Tests versionnés `LangChain` refactorisés ([#3624](https://github.com/newrelic/node-newrelic/pull/3624)) ([12ae601](https://github.com/newrelic/node-newrelic/commit/12ae601befa72d16a9d1b9ca041b1fd825281c28))

### Déclaration de soutien :

Nous vous recommandons de mettre à jour vers la dernière version de l&apos;agent dès qu&apos;elle est disponible. Si vous ne pouvez pas effectuer la mise à niveau vers la dernière version, mettez à jour vos agents vers une version datant de moins de 90 jours. En savoir plus sur la façon de tenir les agents informés. ([https://docs.newrelic.com/docs/new-relic-solutions/new-relic-one/install-configure/update-new-relic-agent/](https://docs.newrelic.com/docs/new-relic-solutions/new-relic-one/install-configure/update-new-relic-agent/))

Consultez la politique EOL de l&apos;agent New Relic Node.js pour obtenir des informations sur la sortie de l&apos;agent et les dates de support. ([https://docs.newrelic.com/docs/apm/agents/nodejs-agent/getting-started/nodejs-agent-eol-policy/](https://docs.newrelic.com/docs/apm/agents/nodejs-agent/getting-started/nodejs-agent-eol-policy/))