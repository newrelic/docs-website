---
subject: Browser agent
releaseDate: '2025-11-13'
version: 1.303.0
downloadLink: 'https://www.npmjs.com/package/@newrelic/browser-agent'
features:
  - Allow consent API to be invoked without localStorage access
  - Allow nested registrations
  - Additional validation to prepare agent for MFE registrations
  - Add measure support to register API
  - Add useConsentModel functionality
  - Retry initial connect call
  - Add custom event support to register API
  - SMs for browser connect response
bugs:
  - Obfuscate custom attributes for logs added after PVE
  - memoize promise context propagation to avoid safari hangs
security: []
translationType: machine
---

## v1.303.0

### Caractéristiques

#### Autoriser l&apos;appel de l&apos;API de consentement sans accès au stockage local

Permet à l&apos;API de consentement de fonctionner sans nécessiter d&apos;accès à localStorage, en conservant un état commun dans l&apos;agent qui contrôle les récoltes. Les applications doivent appeler l&apos;API à chaque chargement de page lorsque l&apos;accès à localStorage est bloqué.

#### Autoriser les inscriptions imbriquées

Pour faciliter les relations parent-enfant inhérentes avec l&apos;API d&apos;enregistrement prévue, permettre à l&apos;entité enregistrée d&apos;exposer sa propre API `.register()` pour que les enfants de cette entité puissent s&apos;y enregistrer. Les entités qui s&apos;enregistrent auprès de l&apos;agent conteneur seront liées au conteneur. Une entité qui s&apos;enregistre sous une autre entité enregistrée sera liée à la fois au conteneur et à l&apos;entité parente.

#### Validation supplémentaire pour préparer l&apos;agent aux enregistrements MFE

Ajout de règles de validation dans l&apos;agent pour empêcher les mauvaises valeurs pour la cible MFE `id` et `name` en support des enregistrements MFE/v2.

#### Ajouter la prise en charge des mesures pour enregistrer l&apos;API

Ajoute la prise en charge de l&apos;API de mesure dans l&apos;objet de réponse d&apos;enregistrement. Ceci soutient la future offre de micro-frontend prévue.

#### Ajouter la fonctionnalité useConsentModel

Ajoute la propriété et la fonctionnalité d&apos;initialisation use\_consent\_mode. Ajoute l&apos;appel d&apos;API consent(). Le modèle de consentement, s&apos;il est activé, interdit la collecte d&apos;agents à moins que le consentement ne soit donné via l&apos;appel d&apos;API consent().

#### Réessayer l&apos;appel de connexion initial

Pour éviter toute perte de données, l&apos;agent va désormais réessayer l&apos;appel « RUM » initial une fois de plus pour les codes d&apos;état pouvant être réessayés.

#### Ajouter le support des événements personnalisés pour enregistrer l&apos;API

Ajoute des méthodes de capture d&apos;événements personnalisées à l&apos;API d&apos;enregistrement, qui seront utilisées ultérieurement lorsque la prise en charge MFE sera établie.

#### Réponse SM pour la connexion au navigateur

Ajoute des indicateurs de prise en charge pour les réponses ayant échoué lors de l&apos;initialisation de l&apos;agrégat page\_view\_event.

### Débogage

#### Obfuscation de l&apos;attribut personnalisé pour le journal ajouté après le JcE

Étend obfuscation pour couvrir l&apos;attribut personnalisé lors de l&apos;événement de journalisation ajouté après la récolte initiale RUM/PageViewEvent.

#### Mémoriser la propagation du contexte de la promesse pour éviter les blocages de Safari

Mémorise la propagation du contexte des promesses afin d&apos;éviter les blocages potentiels de browser dans Safari en évitant les opérations de contexte répétées.

## Déclaration de soutien

New Relic vous recommande de mettre à niveau l&apos;agent régulièrement pour vous assurer de bénéficier des dernières fonctionnalités et avantages en termes de performances. Les sorties plus anciennes ne seront plus prises en charge lorsqu&apos;elles atteindront [la fin de leur vie](https://docs.newrelic.com/docs/browser/browser-monitoring/getting-started/browser-agent-eol-policy/). Les dates de sortie reflètent la date de publication originale de la version de l&apos;agent.

Les nouveaux agents de navigation sont déployés auprès des clients par petites étapes sur une période donnée. De ce fait, la date à laquelle la sortie devient accessible sur votre compte peut ne pas correspondre à la date de publication d&apos;origine. Veuillez consulter ce [dashboard d&apos;état](https://newrelic.github.io/newrelic-browser-agent-release/) pour plus d&apos;informations.

Conformément à notre [politique de prise en charge des navigateurs](https://docs.newrelic.com/docs/browser/new-relic-browser/getting-started/compatibility-requirements-browser-monitoring/#browser-types), la version 1.303.0 de l&apos;agent Browser a été conçue et testée avec les navigateurs et plages de versions suivants : Chrome 131-141, Edge 131-141, Safari 17-26 et Firefox 134-144. Pour les appareils mobiles, la version 1.303.0 a été conçue et testée pour Android OS 16 et iOS Safari 17-26.