---
title: Variables d'environnement pour AWS Lambda
metaDescription: Learn how to set and use environment variables in AWS Lambda functions for configuration and secrets management.
freshnessValidatedDate: never
tags:
  - AWS Lambda
  - Environment Variables
  - Configuration
  - Secrets Management
translationType: machine
---

Les variables d&apos;environnement sont un moyen de stocker la configuration et les secrets en dehors de votre code. Les tableaux suivants affichent les variables obligatoires et les variables spécifiques à l&apos;exécution que vous pouvez définir pour monitorer votre fonction Lambda avec New Relic.

## Variables d&apos;environnement obligatoires

Quel que soit votre environnement d&apos;exécution, vous devez définir les variables d&apos;environnement suivantes pour monitorer votre fonction Lambda avec New Relic :

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        Nom de la variable
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `NEW_RELIC_ACCOUNT_ID`
      </td>

      <td>
        Spécifie votre identifiant de compte New Relic
      </td>
    </tr>

    <tr>
      <td>
        `NEW_RELIC_LAMBDA_HANDLER`
      </td>

      <td>
        Spécifie le wrapper de gestionnaire utilisé pour trouver le gestionnaire réel de votre fonction
      </td>
    </tr>

    <tr>
      <td>
        `NEW_RELIC_LICENSE_KEY`
      </td>

      <td>
        Spécifie votre clé d&apos;ingestion New Relic, remplaçant Secrets Manager
      </td>
    </tr>

    <tr>
      <td>
        `NEW_RELIC_TRUSTED_ACCOUNT_KEY`
      </td>

      <td>
        Spécifie votre identifiant de compte New Relic ou votre identifiant parent, s&apos;il existe
      </td>
    </tr>
  </tbody>
</table>

## Variables d&apos;environnement supplémentaires

En fonction de votre environnement d&apos;exécution, vous pouvez définir les variables d&apos;environnement suivantes pour configurer davantage la New Relic Lambda monitoring:

<Tabs>
  <TabsBar>
    <TabsBarItem id="nodejs">Node.js</TabsBarItem> <TabsBarItem id="python">Python</TabsBarItem> <TabsBarItem id="java">Java</TabsBarItem> <TabsBarItem id="Go">Go</TabsBarItem> <TabsBarItem id="Ruby">Ruby</TabsBarItem> <TabsBarItem id=".NET">.NET</TabsBarItem> <TabsBarItem id="Lambda extension">extension Lambda</TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="nodejs">
      <table>
        <thead>
          <tr>
            <th>
              Variable d&apos;environnement
            </th>

            <th>
              Valeur par défaut
            </th>

            <th>
              Options
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `NEW_RELIC_USE_ESM`
            </td>

            <td>
              `false`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              **Obligatoire**

              : activez les fonctions ESM qui utilisent async/await et non rappel en définissant ceci sur 

              `true`
            </td>
          </tr>

          <tr>
            <td>
              `NODE_OPTIONS`
            </td>

            <td />

            <td>
              `--experimental-loader newrelic/esm-loader.mjs`
            </td>

            <td>
              **Required**

              : If ESM is enabled, set this environment variable to use our ESM loader
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_DISTRIBUTED_TRACING_ENABLED`
            </td>

            <td>
              `true`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Générer une trace en activant le tracing distribué
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_NO_CONFIG_FILE`
            </td>

            <td>
              `false`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Utilisez les variables d&apos;environnement dans Lambda en définissant ceci sur 

              `true`
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_APP_NAME`
            </td>

            <td />

            <td />

            <td>
              Définissez le nom de l&apos;application, même s&apos;il n&apos;est pas utilisé dans l&apos;interface utilisateur de New Relic
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_LOG_ENABLED`
            </td>

            <td>
              `false`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Activez le logging de l&apos;agent en définissant ceci sur 

              `true`
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_LOG_LEVEL`
            </td>

            <td>
              `info`
            </td>

            <td>
              `fatal`

              , 

              `error`

              , 

              `warn`

              , 

              `info`

              , 

              `debug`

              , 

              `trace`
            </td>

            <td>
              Définir le niveau de log de l&apos;agent
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_LOG`
            </td>

            <td>
              `stdout`
            </td>

            <td>
              `stdout`
            </td>

            <td>
              Définissez le chemin log de l&apos;agent sur 

              `stdout`

               pour le mode sans serveur
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_NATIVE_METRICS_ENABLED`
            </td>

            <td>
              `true`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Désactiver pour réduire la durée du démarrage à froid en définissant cette option sur 

              `false`

              , bien que cela ne collecte pas les métriques de la machine virtuelle
            </td>
          </tr>
        </tbody>
      </table>

      Vous pouvez trouver plus de variables d&apos;environnement dans notre [documentation de configuration Node.js.](/docs/apm/agents/nodejs-agent/installation-configuration/nodejs-agent-configuration/)
    </TabsPageItem>

    <TabsPageItem id="python">
      <table>
        <thead>
          <tr>
            <th>
              Variable d&apos;environnement
            </th>

            <th>
              Valeur par défaut
            </th>

            <th>
              Options
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `NEW_RELIC_DISTRIBUTED_TRACING_ENABLED`
            </td>

            <td>
              `true`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Générer une trace en activant le tracing distribué
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_NO_CONFIG_FILE`
            </td>

            <td>
              `false`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Utilisez les variables d&apos;environnement dans Lambda en définissant ceci sur 

              `true`
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_APP_NAME`
            </td>

            <td />

            <td />

            <td>
              Définissez le nom de l&apos;application, même s&apos;il n&apos;est pas utilisé dans l&apos;interface utilisateur de New Relic
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_LOG`
            </td>

            <td>
              `stderr`
            </td>

            <td>
              `stderr`
            </td>

            <td>
              Définissez le chemin log de l&apos;agent sur 

              `stderr`

               pour le mode sans serveur
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_LOG_LEVEL`
            </td>

            <td>
              `info`
            </td>

            <td>
              `critical`

              , 

              `error`

              , 

              `warning`

              , 

              `info`

              , 

              `debug`
            </td>

            <td>
              Définir le niveau de log de l&apos;agent
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_SERVERLESS_MODE_ENABLED`
            </td>

            <td>
              `false`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Activez le mode sans serveur en définissant ceci sur 

              `true`
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_PACKAGE_REPORTING_ENABLED`
            </td>

            <td>
              `true`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Améliorez les temps de démarrage à froid en réglant cette option sur 

              `true`
            </td>
          </tr>
        </tbody>
      </table>

      Vous pouvez trouver plus de variables d&apos;environnement dans notre [documentation de configuration Python](/docs/apm/agents/python-agent/configuration/python-agent-configuration/).
    </TabsPageItem>

    <TabsPageItem id="java">
      <table>
        <thead>
          <tr>
            <th>
              Variable d&apos;environnement
            </th>

            <th>
              Valeur par défaut
            </th>

            <th>
              Options
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `NEW_RELIC_DISTRIBUTED_TRACING_ENABLED`
            </td>

            <td>
              `true`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Générer une trace en activant le tracing distribué
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_PRIMARY_APPLICATION_ID`
            </td>

            <td />

            <td />

            <td>
              Définissez votre identifiant de compte New Relic
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_DEBUG`
            </td>

            <td>
              `false`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Activez le niveau de log de l&apos;agent en le définissant sur 

              `true`
            </td>
          </tr>
        </tbody>
      </table>
    </TabsPageItem>

    <TabsPageItem id="Go">
      <table>
        <thead>
          <tr>
            <th>
              Variable d&apos;environnement
            </th>

            <th>
              Valeur par défaut
            </th>

            <th>
              Options
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `NEW_RELIC_DISTRIBUTED_TRACING_ENABLED`
            </td>

            <td>
              `true`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Générer une trace en activant le tracing distribué
            </td>
          </tr>
        </tbody>
      </table>
    </TabsPageItem>

    <TabsPageItem id="Ruby">
      <table>
        <thead>
          <tr>
            <th>
              Variable d&apos;environnement
            </th>

            <th>
              Valeur par défaut
            </th>

            <th>
              Options
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `NEW_RELIC_DISTRIBUTED_TRACING_ENABLED`
            </td>

            <td>
              `true`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Générer une trace en activant le tracing distribué
            </td>
          </tr>
        </tbody>
      </table>
    </TabsPageItem>

    <TabsPageItem id=".NET">
      <table>
        <thead>
          <tr>
            <th>
              Variable d&apos;environnement
            </th>

            <th>
              Valeur par défaut
            </th>

            <th>
              Options
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `CORECLR_ENABLE_PROFILING`
            </td>

            <td>
              `0`
            </td>

            <td>
              `0`

              , 

              `1`
            </td>

            <td>
              **Obligatoire**

              : activez le profilage en définissant ceci sur 

              `1`
            </td>
          </tr>

          <tr>
            <td>
              `CORECLR_PROFILER`
            </td>

            <td />

            <td>
              `{36032161-FFC0-4B61-B559-F6C5D41BAE5A}`
            </td>

            <td>
              **Obligatoire**

              : définissez cette valeur sur 

              `{36032161-FFC0-4B61-B559-F6C5D41BAE5A}`

               pour activer l&apos;agent .NET
            </td>
          </tr>

          <tr>
            <td>
              `CORECLR_NEWRELIC_HOME`
            </td>

            <td />

            <td>
              `/opt/lib/newrelic-dotnet-agent`
            </td>

            <td>
              **Obligatoire**

              : définissez cette valeur sur 

              `/opt/lib/newrelic-dotnet-agent`

               pour activer l&apos;agent .NET
            </td>
          </tr>

          <tr>
            <td>
              `CORECLR_PROFILER_PATH`
            </td>

            <td />

            <td>
              `/opt/lib/newrelic-dotnet-agent/libNewRelicProfiler.so`
            </td>

            <td>
              **Obligatoire**

              : définissez cette valeur sur 

              `/opt/lib/newrelic-dotnet-agent/libNewRelicProfiler.so`

               pour activer l&apos;agent .NET
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_DISTRIBUTED_TRACING_ENABLED`
            </td>

            <td>
              `true`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Générer une trace en activant le tracing distribué
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_APP_NAME`
            </td>

            <td />

            <td />

            <td>
              Définissez le nom de l&apos;application, même s&apos;il n&apos;est pas utilisé dans l&apos;interface utilisateur de New Relic
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_LOG_ENABLED`
            </td>

            <td>
              `1`
            </td>

            <td>
              `1`

              , 

              `0`
            </td>

            <td>
              Désactivez le logging de l&apos;agent en définissant cette option sur 

              `0`
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_LOG_CONSOLE`
            </td>

            <td>
              `0`
            </td>

            <td>
              `1`

              , 

              `0`
            </td>

            <td>
              Définissez ceci sur 

              `1`

               pour générer les logs vers CloudWatch
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_LOG_LEVEL`
            </td>

            <td>
              `info`
            </td>

            <td>
              `info`

              , 

              `debug`

              , 

              `finest`
            </td>

            <td>
              Définir le niveau de log de l&apos;agent
            </td>
          </tr>
        </tbody>
      </table>

      Vous pouvez trouver plus de variables d&apos;environnement dans notre [documentation de configuration .NET](/docs/apm/agents/net-agent/configuration/net-agent-configuration/) et notre méthode [d&apos;instrumentation sans couche](/docs/serverless-function-monitoring/aws-lambda-monitoring/instrument-lambda-function/enable-serverless-monitoring-aws-lambda-layerless/#dotnet) .
    </TabsPageItem>

    <TabsPageItem id="Lambda extension">
      <table>
        <thead>
          <tr>
            <th>
              Variable d&apos;environnement
            </th>

            <th>
              Valeur par défaut
            </th>

            <th>
              Options
            </th>

            <th>
              Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
              `NEW_RELIC_LAMBDA_EXTENSION_ENABLED`
            </td>

            <td>
              `true`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Désactivez l&apos;extension en définissant ceci sur 

              `false`
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_LICENSE_KEY_SECRET`
            </td>

            <td>
              `NEW_RELIC_LICENSE_KEY`
            </td>

            <td />

            <td>
              Définir un nom de secret personnalisé dans AWS Secrets Manager
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_DATA_COLLECTION_TIMEOUT`
            </td>

            <td>
              10s
            </td>

            <td />

            <td>
              Définir la durée du délai d&apos;expiration pour 

              `Telemetry client error`
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_EXTENSION_LOGS_ENABLED`
            </td>

            <td>
              `true`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Désactivez 

              `[NR_EXT]`

               lignes log en définissant ceci sur 

              `false`
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_EXTENSION_LOG_LEVEL`
            </td>

            <td>
              `INFO`
            </td>

            <td>
              `INFO`

              , 

              `DEBUG`
            </td>

            <td>
              Définir le niveau de log pour 

              `NR_EXT`

               lignes log
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_EXTENSION_SEND_FUNCTION_LOGS`
            </td>

            <td>
              `false`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Envoyer les logs des fonctions en définissant cette option sur 

              `true`
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_EXTENSION_SEND_EXTENSION_LOGS`
            </td>

            <td>
              `false`
            </td>

            <td>
              `true`

              , 

              `false`
            </td>

            <td>
              Envoyer les logs d&apos;extension en définissant ceci sur 

              `true`
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_LOG_ENDPOINT`
            </td>

            <td>
              `https://log-api.newrelic.com/log/v1`
            </td>

            <td>
              `https://log-api.newrelic.com/log/v1`

              , 

              `https://log-api.eu.newrelic.com/log/v1`
            </td>

            <td>
              Définir le point de terminaison des logs
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_TELEMETRY_ENDPOINT`
            </td>

            <td>
              `https://cloud-collector.newrelic.com/aws/lambda/v1`
            </td>

            <td>
              `https://cloud-collector.newrelic.com/aws/lambda/v1`

              , 

              `https://cloud-collector.eu01.nr-data.net/aws/lambda/v1`
            </td>

            <td>
              Définir le point de terminaison de la télémétrie
            </td>
          </tr>

          <tr>
            <td>
              `NEW_RELIC_IGNORE_EXTENSION_CHECKS`
            </td>

            <td />

            <td />

            <td>
              Contournez les vérifications en les fournissant sous forme de valeurs séparées par des virgules dans une chaîne. Utilisez les valeurs de chaîne 

              `handler`

              , 

              `agent`

              , 

              `sanity`

              , 

              `vendor`

               ou 

              `all`
            </td>
          </tr>
        </tbody>
      </table>

      Voir plus de variables d&apos;environnement pour l&apos;extension New Relic dans notre [documentation](https://github.com/newrelic/newrelic-lambda-extension/blob/cf86fb53f0bd816e1d09d07f7b5c5ab4841010a0/config/config.go#L41-L55).
    </TabsPageItem>
  </TabsPages>
</Tabs>

## Et ensuite ?

<DocTiles>
  <DocTile title="Install and configure Lambda monitoring" path="/docs/serverless-function-monitoring/aws-lambda-monitoring/instrument-lambda-function/configure-serverless-aws-monitoring">Commencez avec l&apos;instrumentation et configuration de votre fonction Lambda</DocTile> <DocTile title="Data and UI" path="/docs/serverless-function-monitoring/aws-lambda-monitoring/instrument-lambda-function/instrument-your-own">Apprenez à utiliser New Relic pour monitorer votre fonction AWS Lambda</DocTile>
</DocTiles>