---
title: 워크플로 변수
tags:
  - Alerts
  - workflows
  - Enrichments
  - Issues
metaDescription: 'For New Relic alerts, explanations of the variables used for workflows.'
freshnessValidatedDate: never
translationType: machine
---

켈릭 알림 [활동](/docs/alerts/get-notified/alert-event-workflows) 에 사용되는 변수에 대한 설명입니다.

<img title="Alerts workflow variables" alt="Alerts workflow variables" src="/images/alerts_screenshot-crop_workflow-variables.webp" />

<figcaption>
  누적 조건 설명 워크플로를 생성할 때, 변수를 사용하여 a) 어떤 유형의 문제가 공지를 생성할지, b) 공지 페이로드의 내용이 무엇일지를 제어할 수 있습니다. 이 스크린샷은 공지 페이로드 섹션을 보여줍니다.
</figcaption>

## 변수 [#variables]

다음은 워크플로 변수 및 해당 설명입니다.

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        키(그룹화에 사용되는 첫 번째 단어)
      </th>

      <th>
        표시 이름(그룹화에 사용되는 첫 번째 단어)
      </th>

      <th>
        설명
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `accumulations.conditionDescription`
      </td>

      <td>
        조건설명
      </td>

      <td>
        사용자 지정 위반 설명 목록입니다.
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.conditionFamilyId`
      </td>

      <td>
        조건FamilyId
      </td>

      <td>
        조건 ID 목록입니다.
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.conditionName`
      </td>

      <td>
        경고 조건 이름
      </td>

      <td>
        New Relic이 조건을 위반했습니다.
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.conditionProduct`
      </td>

      <td>
        경보 조건 제품
      </td>

      <td>
        New Relic 상태 유형.
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.deepLinkUrl`
      </td>

      <td>
        위반 콜백 URL
      </td>

      <td>
        관련 위반 콜백에 대한 직접 링크.
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.evaluation.metricValueFunction`
      </td>

      <td>
        맞춤 측정항목 값 함수
      </td>

      <td>
        사용자 정의 메트릭 값 함수.
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.evaluation.name`
      </td>

      <td>
        <InlinePopover type="apm" />조건 지표 이름
      </td>

      <td>
        <InlinePopover type="apm" />조건 지표 이름
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.nrqlQuery`
      </td>

      <td>
        NRQL 쿼리
      </td>

      <td>
        조건의 NRQL 쿼리입니다.
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.origins`
      </td>

      <td>
        문제 출처
      </td>

      <td>
        공지 이벤트를 생성한 뉴렐릭 또는 제3자 소스.
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.policyName`
      </td>

      <td>
        경고 정책 이름
      </td>

      <td>
        정책 이름 목록입니다.
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.runbookUrl`
      </td>

      <td>
        런북 URL
      </td>

      <td>
        Runbook URL 목록입니다.
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.sources`
      </td>

      <td>
        문제 출처
      </td>

      <td>
        공지 이벤트를 보고하는 시스템입니다.
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.tag.account`
      </td>

      <td>
        New Relic 계정
      </td>

      <td>
        New Relic 계정.
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.tag.affectedService`
      </td>

      <td>
        영향을 받는 서비스
      </td>

      <td>
        영향을 받는 서비스 목록입니다.
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.tag.assignmentGroup`
      </td>

      <td>
        할당 그룹
      </td>

      <td>
        할당 그룹 목록입니다.
      </td>
    </tr>

    <tr>
      <td>
        `accumulations.tag.causeService`
      </td>

      <td>
        원인 서비스
      </td>

      <td>
        원인 서비스 목록입니다.
      </td>
    </tr>

    <tr>
      <td>
        `acknowledgedBy`
      </td>

      <td>
        인정
      </td>

      <td>
        문제를 인정한 사용자입니다.
      </td>
    </tr>

    <tr>
      <td>
        `activatedAt`
      </td>

      <td>
        문제가 활성화된 시간
      </td>

      <td>
        문제 활성화의 타임스탬프입니다.
      </td>
    </tr>

    <tr>
      <td>
        `annotations.description`
      </td>

      <td>
        문제 설명
      </td>

      <td>
        문제 설명 목록입니다.
      </td>
    </tr>

    <tr>
      <td>
        `annotations.title`
      </td>

      <td>
        문제 제목
      </td>

      <td>
        이슈 제목 목록.
      </td>
    </tr>

    <tr>
      <td>
        `annotations.wildcard`
      </td>

      <td>
        경고 패싯
      </td>

      <td>
        경고 패싯.
      </td>
    </tr>

    <tr>
      <td>
        `closedBy`
      </td>

      <td>
        휴무일
      </td>

      <td>
        이슈를 종료한 사용자의 ID입니다.
      </td>
    </tr>

    <tr>
      <td>
        `closedAt`
      </td>

      <td>
        문제 마감시간
      </td>

      <td>
        문제 종료의 타임스탬프. 이슈가 종료되지 않은 경우 Null입니다.
      </td>
    </tr>

    <tr>
      <td>
        `closedIncidentsCount`
      </td>

      <td>
        마감된 공지 이벤트 횟수
      </td>

      <td>
        이 이슈에 대해 마감된 총 공지 이벤트 수입니다.
      </td>
    </tr>

    <tr>
      <td>
        `createdAt`
      </td>

      <td>
        문제 생성 시간
      </td>

      <td>
        문제 생성의 타임스탬프.
      </td>
    </tr>

    <tr>
      <td>
        `dataMLModules.components`
      </td>

      <td>
        기계 학습 구성 요소
      </td>

      <td>
        뉴렐릭 알림 기계 학습 구성 요소 목록입니다.
      </td>
    </tr>

    <tr>
      <td>
        `dataMLModules.goldenSignals`
      </td>

      <td>
        기계 학습 황금 신호
      </td>

      <td>
        뉴렐릭 알림 머신러닝 골든 신호 목록입니다.
      </td>
    </tr>

    <tr>
      <td>
        `dataMLModules.suggestedResponders`
      </td>

      <td>
        기계 학습 제안 응답자
      </td>

      <td>
        (더 이상 사용되지 않음) 뉴렐릭 알림 기계 학습 추천 응답자 목록입니다.
      </td>
    </tr>

    <tr>
      <td>
        `entitiesData.entities`
      </td>

      <td>
        영향을 받는 엔터티 데이터
      </td>

      <td>
        영향을 받는 엔터티 이름, ID, 유형 및 종류를 설명하는 개체 목록입니다.
      </td>
    </tr>

    <tr>
      <td>
        `entitiesData.ids`
      </td>

      <td>
        영향을 받는 엔터티 ID
      </td>

      <td>
        영향을 받는 모든 엔터티 ID 집합입니다.
      </td>
    </tr>

    <tr>
      <td>
        `entitiesData.kinds`
      </td>

      <td>
        영향을 받는 엔터티 종류
      </td>

      <td>
        영향을 받는 모든 엔터티 종류의 집합입니다.
      </td>
    </tr>

    <tr>
      <td>
        `entitiesData.names`
      </td>

      <td>
        영향을 받는 엔터티 이름
      </td>

      <td>
        영향을 받는 모든 엔터티 이름의 집합입니다.
      </td>
    </tr>

    <tr>
      <td>
        `entitiesData.types`
      </td>

      <td>
        영향을 받는 엔터티 유형
      </td>

      <td>
        영향을 받는 모든 엔터티 유형의 집합입니다.
      </td>
    </tr>

    <tr>
      <td>
        `impactedEntitiesCount`
      </td>

      <td>
        영향을 받는 항목 수
      </td>

      <td>
        이 문제에 영향을 받는 엔터티의 수입니다.
      </td>
    </tr>

    <tr>
      <td>
        `incidentIds`
      </td>

      <td>
        인시던트 ID
      </td>

      <td>
        모든 이슈에 대해 집계된 공지 이벤트 목록입니다.
      </td>
    </tr>

    <tr>
      <td>
        `isCorrelated`
      </td>

      <td>
        문제가 연관되어 있습니다.
      </td>

      <td>
        문제가 서로 연관되어 있는 경우(`true`, `false`)
      </td>
    </tr>

    <tr>
      <td>
        `isAcknowledged`
      </td>

      <td>
        문제가 확인됨
      </td>

      <td>
        문제가 확인된 경우(`true`, `false`)
      </td>
    </tr>

    <tr>
      <td>
        `issueAckUrl`
      </td>

      <td>
        문제 확인 URL
      </td>

      <td>
        문제를 확인하는 직접 링크.
      </td>
    </tr>

    <tr>
      <td>
        `issueCloseUrl`
      </td>

      <td>
        닫기 URL 발행
      </td>

      <td>
        문제를 종료하는 직접 링크.
      </td>
    </tr>

    <tr>
      <td>
        `issuePageUrl`
      </td>

      <td>
        문제 페이지 URL
      </td>

      <td>
        관련 문제 페이지로 직접 연결되는 링크입니다.
      </td>
    </tr>

    <tr>
      <td>
        `issueActivatedAtUtc`
      </td>

      <td>
        ActivatedAt UTC 문자열 발행
      </td>

      <td>
        UTC에서 문제 활성화의 문자열 형식입니다.
      </td>
    </tr>

    <tr>
      <td>
        `issueClosedAtUtc`
      </td>

      <td>
        ClosedAt UTC 문자열 발행
      </td>

      <td>
        UTC로 발행된 문제 종결의 문자열 형식입니다.
      </td>
    </tr>

    <tr>
      <td>
        `issueCreatedAtUtc`
      </td>

      <td>
        CreatedAt UTC 문자열 문제
      </td>

      <td>
        UTC에서 문제 생성의 문자열 형식입니다.
      </td>
    </tr>

    <tr>
      <td>
        `issueAcknowledgedAt`
      </td>

      <td>
        AcknowledgedAt 문자열 문제
      </td>

      <td>
        UTC로 확인된 문제의 문자열 형식입니다.
      </td>
    </tr>

    <tr>
      <td>
        `issueClosedAt`
      </td>

      <td>
        ClosedAt 문자열 문제
      </td>

      <td>
        UTC로 발행된 문제 종결의 문자열 형식입니다.
      </td>
    </tr>

    <tr>
      <td>
        `issueDurationMs`
      </td>

      <td>
        발행 기간(밀리초)
      </td>

      <td>
        문제가 발생한 이후 경과된 시간(밀리초)입니다.
      </td>
    </tr>

    <tr>
      <td>
        `issueDurationText`
      </td>

      <td>
        텍스트 발행 기간
      </td>

      <td>
        문제 기간에 대한 인간 친화적인 표현.
      </td>
    </tr>

    <tr>
      <td>
        `issueId`
      </td>

      <td>
        문제 ID
      </td>

      <td>
        문제의 고유 ID입니다.
      </td>
    </tr>

    <tr>
      <td>
        `issueTitle`
      </td>

      <td>
        문제 제목
      </td>

      <td>
        이슈의 제목은 보통 첫 번째 공지 이벤트의 제목입니다.
      </td>
    </tr>

    <tr>
      <td>
        `issueUpdatedAt`
      </td>

      <td>
        UpdatedAt UTC 문자열 문제
      </td>

      <td>
        문제 업데이트의 타임스탬프(UTC).
      </td>
    </tr>

    <tr>
      <td>
        `labels.accountIds`
      </td>

      <td>
        발급 환경 관련 계정 ID
      </td>

      <td>
        퀴렐릭 알림 환경 관련 계정 ID입니다.
      </td>
    </tr>

    <tr>
      <td>
        `labels.aggregationKeys`
      </td>

      <td>
        레이블 경고 집계 키
      </td>

      <td>
        뉴렐릭 공지 이벤트 감지 원본 인시던트 ID.
      </td>
    </tr>

    <tr>
      <td>
        `labels.originalAccountIds`
      </td>

      <td>
        라벨 계정 ID
      </td>

      <td>
        공지 이벤트 탐지 정책의 계정 아이디입니다.
      </td>
    </tr>

    <tr>
      <td>
        `labels.policyIds`
      </td>

      <td>
        경고 정책 ID 레이블 지정
      </td>

      <td>
        회원을 생성한 공지 이벤트 탐지 정책 ID입니다.
      </td>
    </tr>

    <tr>
      <td>
        `abels.targetId`
      </td>

      <td>
        대상 ID
      </td>

      <td>
        대상 ID.
      </td>
    </tr>

    <tr>
      <td>
        `mutingState`
      </td>

      <td>
        음소거 상태 문제
      </td>

      <td>
        문제(`MUTED`, `NOT_MUTED`)의 계산된 음소거 상태입니다.
      </td>
    </tr>

    <tr>
      <td>
        `nrAccountId`
      </td>

      <td>
        계정 ID
      </td>

      <td>
        계정 ID.
      </td>
    </tr>

    <tr>
      <td>
        `openIncidentsCount`
      </td>

      <td>
        공개 공지 이벤트 횟수
      </td>

      <td>
        해당 이슈에 대해 공개된 공지 이벤트의 총 개수입니다.
      </td>
    </tr>

    <tr>
      <td>
        `owner`
      </td>

      <td>
        소유자
      </td>

      <td>
        문제를 인정한 사람입니다.
      </td>
    </tr>

    <tr>
      <td>
        `policyUrl`
      </td>

      <td>
        알림 정책 URL
      </td>

      <td>
        경고 정책 URL.
      </td>
    </tr>

    <tr>
      <td>
        `priority`
      </td>

      <td>
        문제 우선 순위
      </td>

      <td>
        문제의 우선순위 수준(`CRITICAL`, `HIGH`, `MEDIUM`, `LOW`).
      </td>
    </tr>

    <tr>
      <td>
        `priorityText`
      </td>

      <td>
        문제 우선 순위 텍스트
      </td>

      <td>
        소문자(`Critical`, `High`, `Medium`, `Low`)의 문제 우선순위입니다.
      </td>
    </tr>

    <tr>
      <td>
        `realIssueCount`
      </td>

      <td>
        문제 수
      </td>

      <td>
        문제 수.
      </td>
    </tr>

    <tr>
      <td>
        `state`
      </td>

      <td>
        문제 상태
      </td>

      <td>
        이슈의 수명 주기 상태(`CREATED`, `ACTIVATED`, `CLOSED`).
      </td>
    </tr>

    <tr>
      <td>
        `stateText`
      </td>

      <td>
        문제 상태 텍스트
      </td>

      <td>
        이슈의 수명주기 상태는 소문자(`active` (열림), `closed`)입니다.
      </td>
    </tr>

    <tr>
      <td>
        `status`
      </td>

      <td>
        문제 연관성 상태
      </td>

      <td>
        문제의 상관 관계 상태입니다.
      </td>
    </tr>

    <tr>
      <td>
        `totalIncidents`
      </td>

      <td>
        공지 이벤트 횟수
      </td>

      <td>
        해당 이슈에서 집계되거나 상관관계가 있는 공지 이벤트의 수.
      </td>
    </tr>

    <tr>
      <td>
        `triggeredAt`
      </td>

      <td>
        문제 발생 시점
      </td>

      <td>
        트리거된 문제 알림의 타임스탬프입니다.
      </td>
    </tr>

    <tr>
      <td>
        `triggerEvent`
      </td>

      <td>
        문제 알림 트리거 이벤트
      </td>

      <td>
        공지 트리거 이벤트(`STATE_CHANGE`, `INCIDENT_ADDED`, `INCIDENT_CLOSED`, `CLOSE_INACTIVE`, `CLOSE_TTL`, `USER_ACTION`, `PRIORITY_CHANGED`, `MERGE_REQUEST`).
      </td>
    </tr>

    <tr>
      <td>
        `updatedAt`
      </td>

      <td>
        업데이트된 문제
      </td>

      <td>
        마지막으로 업데이트된 문제의 타임스탬프입니다.
      </td>
    </tr>

    <tr>
      <td>
        `violationChartUrl`
      </td>

      <td>
        위반 차트 URL
      </td>

      <td>
        위반 차트 이미지에 대한 링크입니다.
      </td>
    </tr>

    <tr>
      <td>
        `workflowName`
      </td>

      <td>
        워크플로 이름
      </td>

      <td>
        트리거된 워크플로의 이름입니다.
      </td>
    </tr>
  </tbody>
</table>

## 워크플로 데이터 보강 예제 [#enrichment-examples]

조건을 위반한 항목에 대한 정보를 얻으려면 쿼리의 `WHERE` 문의 일부로 맞춤 변수를 사용할 수 있습니다. 예를 들어 EC2 인스턴스의 상태를 가져오려면 다음을 사용합니다.

```sql
SELECT latest(ec2State) FROM ComputeSample WHERE provider = 'Ec2Instance' AND entityName IN {{entitiesData.names}}
```

이 쿼리는 단일 필드만 사용하므로 단일 값(예: `stopped` )을 반환합니다. 변수 `entitiesData.names` 은 항목의 식별자 목록입니다. 같은 방식으로 다른 엔터티 속성을 사용할 수 있습니다.

사용자 지정 변수를 사용하여 다양한 방식으로 워크플로 데이터 쿼리를 강화할 수 있습니다.

<CollapserGroup>
  <Collapser id="application-drop" title="애플리케이션 트래픽이 감소하는 시점에 대한 쿼리">
    애플리케이션에 대한 트래픽이 언제 떨어지는지 알고 싶을 때가 있습니다. 애플리케이션 이름 대신 `{{entitiesData.names}}` 변수를 사용할 수 있습니다.

    ```sql
    SELECT count(*) FROM Transaction WHERE appName IN {{entitiesData.names}} SINCE 10 minutes ago
    ```
  </Collapser>

  <Collapser id="non-web-transactions-time" title="웹이 아닌 거래 시간">
    영향을 받는 엔터티가 요청/트랜잭션을 처리하는 데 소요한 평균 시간(프로세스 유형별로 분류됨)

    ```sql
    SELECT average(apm.service.overview.other) * 1000 FROM Metric WHERE appName IN {{entitiesData.names}} FACET `segmentName` TIMESERIES
    ```
  </Collapser>

  <Collapser id="throughput" title="처리량">
    영향을 받는 개체 프로세스의 분당 요청 수

    ```sql
    SELECT rate(count(apm.service.transaction.duration), 1 minute) AS 'Non-web throughput' FROM Metric WHERE (appName IN {{entitiesData.names}}) AND (transactionType = 'Other') TIMESERIES
    ```
  </Collapser>

  <Collapser id="error-rate" title="오류율">
    영향을 받는 엔터티의 총 요청 프로세스 수에 대한 오류 비율

    ```sql
    SELECT count(apm.service.error.count) / count(apm.service.transaction.duration) AS 'Non-web errors' FROM Metric WHERE (appName IN {{entitiesData.names}}) AND (transactionType = 'Other') TIMESERIES
    ```
  </Collapser>

  <Collapser id="transaction-failures" title="트랜잭션 실패 쿼리">
    애플리케이션 트랜잭션이 언제 실패했는지 알고 싶을 때가 있습니다. 이 쿼리는 공지 조항 값을 위반한 `{{entitiesData.names}}` 변수로 필터링된 최신 HTTP 상태 코드 응답을 표시합니다.

    ```sql
    SELECT latest(http.statusCode), average(duration) FROM Transaction WHERE appName IN {{entitiesData.names}}
    ```
  </Collapser>

  <Collapser id="kubernetes-consumption" title="Kubernetes 소비 개요 쿼리">
    이와 같은 쿼리를 사용하여 Kubernetes 포드 내 엔터티 수와 수집 시간을 가져옵니다. 수집 시간이 긴 엔터티를 식별하여 해당 문제를 해결하고 잠재적인 해결책을 찾을 수 있습니다.

    ```sql
    SELECT uniqueCount(displayName), sum(nr.ingestTimeMs) FROM K8sServiceSample WHERE entityName IN {{entitiesData.names}} SINCE 1 hour ago
    ```
  </Collapser>

  <Collapser id="tags-from-facet" title="트리거링 패싯 값을 사용하여 쿼리">
    공지 조건 쿼리가 패싯 처리된 경우 쿼리에서 공지 이벤트를 트리거하는 `FACET` 값을 사용할 수 있습니다. 예를 들어, 공지 조건이 다음과 같다면:

    ```sql
    SELECT average(duration) FROM BrowserInteraction FACET appName
    ```

    그런 다음 다음과 같이 특정 `appName` 사용하여 쿼리할 수 있습니다.

    ```sql
    SELECT uniques(host) FROM Transaction WHERE appName IN {{accumulations.tag.appName}}
    ```
  </Collapser>
</CollapserGroup>