---
title: 사용되지 않는 API 호출 업데이트
type: troubleshooting
tags:
  - Agents
  - Ruby agent
  - Troubleshooting
metaDescription: Update deprecated API calls for the New Relic Ruby agent.
translationType: machine
---

## 문제

사용되지 않는 API는 때때로 제거됩니다. 다음 방법 중 하나를 사용하는 경우 특정 Ruby 에이전트 버전으로 업그레이드하기 전에 권장 교체로 API 호출을 업데이트해야 합니다.

## 루비 에이전트 9.0.0

다음 API는 Ruby 에이전트 9.0.0에서 제거되었습니다. 다음 권장 대체 항목으로 API를 업데이트합니다.

<CollapserGroup>
  <Collapser
    id="disable_transaction_tracing"
    title={<InlineCode>NewRelic::Agent#disable_transaction_tracing</InlineCode>}
  >
    `NewRelic::Agent#disable_all_tracing` 로 바꾸거나 `NewRelic::Agent#ignore_transaction`
  </Collapser>
</CollapserGroup>

## 루비 에이전트 4.0.0

다음 API는 Ruby 에이전트 4.0.0에서 제거되었습니다. 다음 권장 대체 항목으로 API를 업데이트합니다.

<CollapserGroup>
  <Collapser
    id="newrelic_notice_error"
    title={<InlineCode>ActionController#newrelic_notice_error</InlineCode>}
  >
    다음으로 대체 `NewRelic::Agent#notice_error`
  </Collapser>

  <Collapser
    id="abort_transaction"
    title={<InlineCode>NewRelic::Agent.abort_transaction!</InlineCode>}
  >
    다음으로 대체 `NewRelic::Agent.ignore_transaction`
  </Collapser>

  <Collapser
    id="add_custom-parameters"
    title={<InlineCode>NewRelic::Agent.add_custom_parameters</InlineCode>}
  >
    다음으로 대체 `NewRelic::Agent.add_custom_attributes`
  </Collapser>

  <Collapser
    id="add_request_parameters"
    title={<InlineCode>NewRelic::Agent.add_request_parameters</InlineCode>}
  >
    다음으로 대체 `NewRelic::Agent.add_custom_attributes`
  </Collapser>

  <Collapser
    id="browser_timing_footer"
    title={<InlineCode>NewRelic::Agent.browser_timing_footer</InlineCode>}
  >
    더 이상 필요하지 않고 빈 문자열을 반환하는 메서드 호출을 삭제합니다.
  </Collapser>

  <Collapser
    id="get_stats"
    title={<InlineCode>NewRelic::Agent.get_stats</InlineCode>}
  >
    * `get_stats` 을 `increment_count` 과(와) 연결한 경우 다음을 사용합니다.

      `NewRelic::Agent.increment_metric`

    * `get_stats` 을 `record_data_point` 과(와) 연결한 경우 다음을 사용합니다.

      `NewRelic::Agent.record_metric`
  </Collapser>

  <Collapser
    id="get_stats_no_scope"
    title={<InlineCode>NewRelic::Agent.get_stats_no_scope</InlineCode>}
  >
    * `get_stats_no_scope` 을 `increment_count` 과(와) 연결한 경우 다음을 사용합니다.

      `NewRelic::Agent.increment_metric`

    * `get_stats_no_scope` 을 `record_data_point` 과(와) 연결한 경우 다음을 사용합니다.

      `NewRelic::Agent.record_metric`
  </Collapser>

  <Collapser
    id="record_transaction"
    title={<InlineCode>NewRelic::Agent.record_transaction</InlineCode>}
  >
    에이전트 로그에 경고 메시지만 기록하므로 메서드 호출을 삭제합니다.
  </Collapser>

  <Collapser
    id="reset_stats"
    title={<InlineCode>NewRelic::Agent.reset_stats</InlineCode>}
  >
    다음으로 대체 `NewRelic::Agent.drop_buffered_data`
  </Collapser>

  <Collapser
    id="set_user_attributes"
    title={<InlineCode>NewRelic::Agent.set_user_attributes</InlineCode>}
  >
    다음으로 대체 `NewRelic::Agent.add_custom_attributes`
  </Collapser>

  <Collapser
    id="ActiveRecordHelper.rollup_metrics_for"
    title={<InlineCode>NewRelic::Agent::Instrumentation::ActiveRecordHelper.rollup_metrics_for</InlineCode>}
  >
    다음으로 대체 `NewRelic::Agent::Datastores::MetricHelper.metrics_for`
  </Collapser>

  <Collapser
    id="MetricFrame.recording_web_transaction"
    title={<InlineCode>NewRelic::Agent::Instrumentation::MetricFrame.recording_web_transaction?</InlineCode>}
  >
    다음으로 대체 `NewRelic::Agent::Transaction.recording_web_transaction?`
  </Collapser>

  <Collapser
    id="MetricFrame.abort_transaction"
    title={<InlineCode>NewRelic::Agent::Instrumentation::MetricFrame.abort_transaction!</InlineCode>}
  >
    다음으로 대체 `NewRelic::Agent::Transaction.abort_transaction!`
  </Collapser>

  <Collapser
    id="Rack"
    title={<InlineCode>NewRelic::Agent::Instrumentation::랙</InlineCode>}
  >
    이 모듈의 포함을 삭제합니다. Ruby 에이전트 버전 3.9.0부터 New Relic은 기본적으로 랙 미들웨어를 계측합니다. 결과적으로 이 전체 모듈은 더 이상 사용되지 않습니다.
  </Collapser>

  <Collapser
    id="MethodTracer_get_stats_scoped"
    title={<InlineCode>NewRelic::Agent::MethodTracer.get_stats_scoped</InlineCode>}
  >
    다음으로 대체 `NewRelic::Agent.record_metric`
  </Collapser>

  <Collapser
    id="MethodTracer_get_stats_unscoped"
    title={<InlineCode>NewRelic::Agent::MethodTracer.get_stats_unscoped</InlineCode>}
  >
    다음으로 대체 `NewRelic::Agent.record_metric`
  </Collapser>

  <Collapser
    id="MethodTracer_trace_method_execution"
    title={<InlineCode>NewRelic::Agent::MethodTracer.trace_method_execution</InlineCode>}
  >
    다음 방법 중 하나로 바꿉니다.

    * `NewRelic::Agent::MethodTracer.trace_execution_scoped`
    * `NewRelic::Agent::MethodTracer.trace_execution_unscoped`
  </Collapser>

  <Collapser
    id="trace_method_execution_no_scope"
    title={<InlineCode>NewRelic::Agent::MethodTracer.trace_method_execution_no_scope</InlineCode>}
  >
    다음으로 대체 `NewRelic::Agent::MethodTracer.trace_execution_unscoped`
  </Collapser>

  <Collapser
    id="trace_method_execution_with_scope"
    title={<InlineCode>NewRelic::Agent::MethodTracer.trace_method_execution_with_scope</InlineCode>}
  >
    다음으로 대체 `NewRelic::Agent::MethodTracer.trace_execution_scoped`
  </Collapser>

  <Collapser
    id="MetricStats_get_stats"
    title={<InlineCode>NewRelic::Agent::StatsEngine::MetricStats#get_stats</InlineCode>}
  >
    다음으로 대체 `NewRelic::Agent.record_metric`
  </Collapser>

  <Collapser
    id="MetricStats_no_scope"
    title={<InlineCode>NewRelic::Agent::StatsEngine::MetricStats#get_stats_no_scope</InlineCode>}
  >
    다음으로 대체 `NewRelic::Agent.record_metric`
  </Collapser>

  <Collapser
    id="Samplers_add_sampler"
    title={<InlineCode>NewRelic::Agent::StatsEngine::Samplers.add_sampler</InlineCode>}
  >
    에이전트 로그에 경고 메시지만 기록하므로 메서드 호출을 삭제합니다.
  </Collapser>

  <Collapser
    id="Samplers_add_harvest_sampler"
    title={<InlineCode>NewRelic::Agent::StatsEngine::Samplers.add_harvest_sampler</InlineCode>}
  >
    에이전트 로그에 경고 메시지만 기록하므로 메서드 호출을 삭제합니다.
  </Collapser>

  <Collapser
    id="MetricSpec"
    title={<InlineCode>NewRelic::MetricSpec#sub</InlineCode>}
  >
    더 이상 지원되지 않는 메서드 호출을 삭제합니다.
  </Collapser>

  <Collapser
    id="NoticedError"
    title={<InlineCode>NewRelic::NotatedError#exception_class</InlineCode>}
  >
    다음으로 대체 `NewRelic::NoticedError#exception_class_name`
  </Collapser>

  <Collapser
    id="Rack_ErrorCollector"
    title={<InlineCode>NewRelic::Rack::ErrorCollector</InlineCode>}
  >
    이 모듈의 포함을 삭제합니다. Ruby 에이전트는 다음 상황 중 하나에서 모든 Rack 애플리케이션에 대한 오류를 자동으로 수집합니다.

    * 자동 랙 미들웨어 계측이 활성화된 경우
    * New Relic 미들웨어를 미들웨어 스택에 수동으로 추가한 경우
  </Collapser>
</CollapserGroup>