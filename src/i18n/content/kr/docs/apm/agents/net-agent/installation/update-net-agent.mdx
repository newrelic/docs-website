---
title: .NET 에이전트 업데이트
tags:
  - Agents
  - NET agent
  - Installation
metaDescription: 'For New Relic .NET agent (Framework or Core): how to update the .NET agent.'
translationType: machine
---

APM .NET 에이전트를 업데이트하는 방법.

## .NET 에이전트 버전 확인 [#your_version]

1. 에이전트의 최신 버전을 찾으려면 [릴리스 정보를](/docs/releases/dotnet) 참조하십시오.
2. **Windows 프로그램 및 기능** 을 사용하거나 Linux 패키지 관리자를 사용하여 현재 설치한 .NET 에이전트의 버전을 확인하십시오.

## 시작하기 전에 [#before-start]

.NET 에이전트를 설치할 수 있는 방법에는 여러 가지가 있습니다. 즉, 에이전트를 업데이트하는 방법도 여러 가지가 있습니다. 이 문서에서는 Windows 또는 Linux 호스트에 직접 설치된 .NET 에이전트를 사용하여 가장 간단한 설치를 위한 업데이트 절차에 중점을 둡니다.

다른 설치가 있는 경우 자세한 내용은 해당 설정에 대한 다음 설치 문서를 참조하십시오.

* [Azure 웹 앱](/docs/apm/agents/net-agent/azure-installation/install-net-agent-azure-web-apps/#site-extention-update)
* 도커: [Windows용](/install/dotnet/?deployment=windowsInstall&docker=yesDocker) \| [리눅스](/install/dotnet/?deployment=linux&docker=yesDocker)용
* [너겟](/docs/apm/agents/net-agent/install-guides/install-net-agent-using-nuget)

## 윈도우와 리눅스 설치 [#windows-linux]

에이전트에 대한 업데이트 지침을 따르십시오.

* [윈도우](#updating_net)
* [Linux](#updating_net_core)

## .NET 에이전트 업데이트(Windows) [#updating_net]

<Callout variant="important">
  업데이트 전:

  * 에이전트를 업데이트하려면 Windows 관리자 그룹의 **관리자** 권한이 필요합니다. 자세한 내용은 [권한 설명서를](/docs/apm/agents/net-agent/getting-started/net-agent-compatibility-requirements-net-framework/#user-rights)참조하십시오.
  * 에이전트 버전이 7.0 미만이거나 .NET Framework 버전 4.0 이하를 사용 중인 경우 [레거시 .NET 에이전트 업데이트](#updating_older_net) 를 참조하세요.
  * 애플리케이션이 IIS에서 호스팅되는 경우 .NET 에이전트를 업데이트하기 전에 **IIS를 중지** 해야 합니다.
</Callout>

<CollapserGroup>
  <Collapser
    id="update-framework-standard"
    title="표준 설치"
  >
    1. [시스템에 .NET 4.5 이상이 설치되어](/docs/apm/agents/net-agent/getting-started/net-agent-compatibility-requirements-net-framework/#net-version)있는지 확인하십시오.

    2. IIS를 중지합니다.

    3. [아키텍처](/docs/apm/agents/net-agent/getting-started/net-agent-compatibility-requirements-net-framework/#architecture)에 적합한 MSI 설치 패키지를 다운로드하고 실행합니다.

       * [32비트 설치 프로그램](https://download.newrelic.com/dot_net_agent/latest_release/NewRelicDotNetAgent_x86.msi)
       * [64비트 설치 프로그램](https://download.newrelic.com/dot_net_agent/latest_release/NewRelicDotNetAgent_x64.msi)

    4. 설치 프로그램 패키지가 완료되면 IIS를 시작합니다.
  </Collapser>
</CollapserGroup>

## .NET 에이전트 업데이트(Linux) [#updating_net_core]

<Callout variant="important">
  .NET 에이전트 버전 10.0.0 이상의 경우 패키지 이름은 `newrelic-dotnet-agent` 입니다. .NET 에이전트 버전 9.9.0 이하의 경우 패키지 이름은 `newrelic-netcore20-agent` 입니다. 이 문서의 나머지 부분은 `newrelic-dotnet-agent` 참조합니다. 이전 에이전트 버전이 설치된 경우 이를 이전 이름으로 바꿉니다. 하위 버전에서 10.0.0 이상 버전으로 업데이트할 경우 패키지 이름 변경으로 인해 `CORECLR_NEWRELIC_HOME` 및 `CORECLR_PROFILER_PATH` 환경 변수를 변경해야 합니다.
</Callout>

다음 방법 중 하나를 사용하여 최신 버전의 New Relic .NET 에이전트로 업데이트하십시오.

<CollapserGroup>
  <Collapser
    id="updating-core-zip"
    title="tar.gz 또는 deb 파일"
  >
    1. 애플리케이션을 종료합니다.
    2. [다운로드 사이트](https://download.newrelic.com/dot_net_agent/latest_release/) 에서 [아키텍처](/docs/apm/agents/net-agent/getting-started/net-agent-compatibility-requirements-net-core/#architecture)에 적합한 파일을 다운로드하십시오.
    3. 원하는 설치 위치에 파일을 설치합니다. tar.gz 파일의 경우: 기존 파일 위에 zip 파일을 추출합니다.
    4. 응용 프로그램을 시작하십시오.
  </Collapser>

  <Collapser
    id="yum"
    title="yum(CentOS, Oracle Linux 또는 RHEL)"
  >
    1. 애플리케이션을 종료합니다.

    2. 다음을 사용하여 에이전트를 업데이트합니다.

       ```bash
       sudo yum update newrelic-dotnet-agent
       ```

    3. 응용 프로그램을 시작하십시오.
  </Collapser>

  <Collapser
    id="apt"
    title="apt(데비안, 리눅스 민트, 우분투)"
  >
    1. 애플리케이션을 종료합니다.

    2. 다음을 사용하여 사용 가능한 업데이트 목록을 가져오고 설치하십시오.

       ```bash
       sudo apt-get update && sudo apt-get install --only-upgrade newrelic-dotnet-agent
       ```

    3. 응용 프로그램을 시작하십시오.
  </Collapser>

  <Collapser
    id="rpm"
    title="rpm(CentOS, Oracle Linux 또는 RHEL)"
  >
    1. 애플리케이션을 종료합니다.

    2. [다운로드 사이트](https://download.newrelic.com/dot_net_agent/latest_release/) 에서 [아키텍처](/docs/apm/agents/net-agent/getting-started/net-agent-compatibility-requirements-net-core/#architecture)에 적합한 rpm 파일을 다운로드하십시오.

    3. 다음을 사용하여 에이전트를 업데이트합니다.

       ```bash
       sudo rpm -Uvh FILE_NAME.rpm
       ```

    4. 응용 프로그램을 시작하십시오.
  </Collapser>
</CollapserGroup>

## 이전 .NET Framework 에이전트 업데이트(7.0 미만) [#updating_older_net]

7.0보다 낮은 .NET Framework 에이전트 버전 업데이트를 고려 중인 경우 다음 참고 사항을 검토하십시오. 사용 중인 에이전트 버전을 보려면 [에이전트 버전 확인](#your_version) 을 참조하십시오. 에이전트 변경 사항의 전체 목록은 [.NET 릴리스 정보](/docs/release-notes/agent-release-notes/net-release-notes) 를 참조하십시오.

<CollapserGroup>
  <Collapser
    id="old-framework-versions"
    title=".NET Framework 레거시 에이전트 버전 세부 정보"
  >
    <Callout variant="important">
      .NET Framework 4.0 이하를 대상으로 하는 애플리케이션을 계측하려면 7.0 이전 버전의 .NET Framework 에이전트를 사용해야 합니다. 자세한 내용은 [.NET Frameworks 4.0 또는 이전 버전에 대한 지원을](/docs/apm/agents/net-agent/troubleshooting/technical-support-net-framework-40-or-lower/) 참조하세요.
    </Callout>

    <table>
      <thead>
        <tr>
          <th style={{ width: "150px" }}>
            버전이 다음보다 낮 으면 ...
          </th>

          <th>
            이게 ...
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td id="70">
            7.0
          </td>

          <td>
            .NET Framework 에이전트 버전 7.0 이상은 .NET Framework 4.5 이상을 대상으로 하는 응용 프로그램을 지원합니다.
          </td>
        </tr>

        <tr>
          <td id="612">
            6.12
          </td>

          <td>
            버전 6.12 이상은 Windows Server 2003을 지원하지 않습니다. Windows Server 2003이 필요한 경우 버전 6.11 이하를 사용하십시오. 자세한 내용은 [support.newrelic.com](https://support.newrelic.com) 에서 지원을 받거나 [에이전트를 다운로드하십시오](https://download.newrelic.com/).
          </td>
        </tr>

        <tr>
          <td id="611">
            6.11
          </td>

          <td>
            이전에는 트랜잭션 외부에서 발생한 [데이터베이스](/docs/apm/apm-ui-pages/monitoring/databases-page-view-operations-throughput-response-time/) 및 [외부](/docs/apm/apm-ui-pages/monitoring/external-services/external-services-intro/) 호출이 APM UI의 해당 페이지에서 볼 수 있는 메트릭을 생성했습니다. 이제 이러한 메트릭이 표시되지 않습니다. 웹이 아닌 애플리케이션에서 이러한 호출은 메트릭을 볼 수 있도록 [사용자 정의 트랜잭션](/docs/apm/agents/net-agent/custom-instrumentation/create-transactions-xml-net/) 에서 "래핑"될 수 있습니다.
          </td>
        </tr>

        <tr>
          <td id="60">
            6.0
          </td>

          <td>
            .NET 에이전트 버전이 6.0 이전인 경우 [비동기 지원을](/docs/apm/agents/net-agent/custom-instrumentation/create-transactions-xml-net/) 받으려면 해당하는 경우 다음을 수행하십시오.

            1. 존재하는 경우 `newrelic.config` 에 다음 애플리케이션 설정을 제거합니다.

               ```xml
               <appSettings>
                 <add key="AsyncMode" value="false" />
               </appSettings>
               ```

            2. 앱의 호스트에 .NET 4.5 이상이 설치되어 있는지 확인합니다.

            3. `web.config` 에 다음 줄을 추가하여 .NET에 새 ASP 요청 처리 파이프라인을 사용하도록 지시합니다.

               ```xml
               <configuration>
                 <appSettings>
                   <add key="aspnet:UseTaskFriendlySynchronizationContext" value="true" />
                 </appSettings>
               <configuration>
               ```

               또는

               `web.config` 에 다음 줄을 추가하여 .NET Framework 버전을 4.5.2 이상으로 지정합니다.

               ```xml
               <configuration>
                 <system.web>
                   <httpRuntime targetFramework="YOUR_TARGET_NET_VERSION" /> 
                 </system.web>
               <configuration>
               ```
          </td>
        </tr>

        <tr id="50">
          <td>
            5.0(웹 API용)
          </td>

          <td>
            웹 API 트랜잭션을 보려면 다음 조건이 적용되는 경우 [.NET 프레임워크 버그 수정을](https://devblogs.microsoft.com/dotnet/all-about-httpruntime-targetframework/) 옵트인해야 합니다.

            * ASP.NET Web API v1을 사용합니다.

            * 앱은 .NET Framework 에이전트 버전 4.0을 대상으로 합니다. (이 문제는 버전 4.5 이상에는 영향을 미치지 않습니다.)

            * .NET Framework 에이전트에서 버전 5.0 이상으로 업그레이드하고 있습니다.

              수정 사항을 적용하려면:

            1. 앱의 호스트에 .NET 4.5가 설치되어 있는지 확인합니다.

            2. **web.config** 에 이 `appSetting` 을 추가합니다.

               ```xml
               <configuration>
                 <appSettings>
                   <add key="aspnet:UseTaskFriendlySynchronizationContext" value="true" />
                 </appSettings>
               <configuration>
               ```

               이 .NET 프레임워크 버그에 대한 자세한 내용은 [대기 후 HttpContext.Current가 null인 이유는 무엇입니까? 를](http://stackoverflow.com/questions/18383923/why-is-httpcontext-current-null-after-await) 참조하세요. 그리고 [&lt;httpRuntime targetFramework> 에 관한 모든 것](https://devblogs.microsoft.com/dotnet/all-about-httpruntime-targetframework/).
          </td>
        </tr>

        <tr id="500">
          <td>
            5.0(메트릭용)
          </td>

          <td>
            트랜잭션의 일부가 아닌 메트릭은 UI에 표시되지 않습니다. **예외:** APM UI의 해당 페이지에서 [데이터베이스](/docs/apm/apm-ui-pages/monitoring/databases-page-view-operations-throughput-response-time/) 및 [외부](/docs/apm/apm-ui-pages/monitoring/external-services/external-services-intro/) 메트릭을 볼 수 있습니다. 다른 메트릭(예: 계측된 메서드)은 [사용자 지정 트랜잭션](/docs/apm/agents/net-agent/custom-instrumentation/create-transactions-xml-net/)에서 "래핑"하여 볼 수 있도록 만들 수 있습니다.

            [사용자 정의](/docs/apm/agents/net-agent/custom-instrumentation/introduction-net-custom-instrumentation/) [트랜잭션을 사용하려면 사용자 정의](/docs/apm/agents/net-agent/custom-instrumentation/create-transactions-xml-net/)계측을 업데이트해야 할 수 있습니다. UI에 표시되는 내용의 예는 이 [New Relic 온라인 기술 커뮤니티 게시물 을](https://discuss.newrelic.com/t/change-in-non-web-transaction-reporting-with-version-5-x/28721)참조하십시오.
          </td>
        </tr>

        <tr id="44">
          <td>
            4.4
          </td>

          <td>
            New Relic은 트랜잭션 이름을 개선했습니다. 그러나 이러한 변경 사항은 [주요 트랜잭션](/docs/apm/transactions/key-transactions/introduction-key-transactions/), "알림" 메트릭 및 트랜잭션 이름 기반 [쿼리를](/docs/query-your-data/explore-query-data/query-builder/use-advanced-nrql-mode-query-data/) 포함하여 기존 메트릭의 트랜잭션 이름에 영향을 줄 수 있습니다. 업데이트 후 새 트랜잭션 이름을 사용하여 이러한 설정을 다시 생성해야 합니다.
          </td>
        </tr>

        <tr id="42">
          <td>
            4.2
          </td>

          <td>
            New Relic은 `asp.net` 호환성 모드가 비활성화된 상태로 호스팅되는 WCF 애플리케이션에 대한 "외부" HTTP 트랜잭션(" `.svc` " 트랜잭션)을 삭제했습니다. 이제 WCF 트랜잭션만 보고됩니다.

            이 변경으로 인해 처리량 데이터가 더 정확해집니다. 또한 실패한 WCF 트랜잭션에 대해 HTTP 상태 코드 오류가 보고되는 것을 방지합니다.
          </td>
        </tr>

        <tr id="41">
          <td>
            4.1
          </td>

          <td>
            New Relic은 SQL 추적에 대한 데이터 저장소 메트릭을 구현했습니다. 데이터베이스 활동에 대한 메트릭 이름이 데이터 저장소에서 보고하도록 업데이트되었습니다.
          </td>
        </tr>

        <tr id="40">
          <td>
            4.0
          </td>

          <td>
            MVC2 애플리케이션은 더 이상 MVC 특정 세그먼트를 생성하지 않거나 MVC 경로 기반 트랜잭션 이름을 갖지 않습니다.
          </td>
        </tr>

        <tr id="30">
          <td>
            3.0
          </td>

          <td>
            New Relic의 .NET 에이전트는 .NET 3.5에 종속되었습니다. 애플리케이션은 여전히 .NET 2.0을 대상으로 할 수 있지만 에이전트가 실행되는 컴퓨터에 .NET 3.5가 설치되어 있어야 합니다.
          </td>
        </tr>

        <tr id="220">
          <td>
            2.20
          </td>

          <td>
            버전 2.19.3.0은 브라우저 모니터링을 위해 `GetBrowserTimingFooter()` 및 `GetBrowserTimingHeader()` API 호출이 모두 필요한 마지막 .NET 에이전트 버전입니다. 에이전트 버전 2.20.24.0 이상에서는 `GetBrowserTimingHeader()` 만 호출하면 됩니다. `GetBrowserTimingFooter()` 은(는) 효과가 없습니다. **권장 사항:** 코드에서 이러한 참조를 제거하십시오.
          </td>
        </tr>

        <tr id="29">
          <td>
            2.9
          </td>

          <td>
            구성 파일이 `newrelic.xml` 에서 `newrelic.config` 으)로 변경되었습니다. 최신 에이전트의 설치 프로그램은 `newrelic.xml` (있는 경우)를 `newrelic.config` 으로 변환하려고 시도합니다.
          </td>
        </tr>

        <tr id="22">
          <td>
            2.2 또는 이전
          </td>

          <td>
            2.2보다 낮은 .NET 에이전트 버전에서 업데이트하려면 새 버전을 설치하기 전에 이전 에이전트를 제거해야 합니다. 에이전트를 제거하려면 Windows 버전에 대한 표준 절차를 따르십시오. 운영 체제를 다시 시작해야 할 수 있습니다.

            이전 설치 프로그램(2.1.3.494 이하)을 업데이트하거나 환경 변수를 변경할 때 **services.exe** 에서 `cocreateinstance` 오류가 발생할 수 있습니다. 이 문제를 해결하려면 [Microsoft 설명서를](https://learn.microsoft.com/en-us/windows/win32/procthread/changing-environment-variables)참조하십시오.
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>