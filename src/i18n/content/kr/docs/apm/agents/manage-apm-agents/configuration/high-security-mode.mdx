---
title: 높은 보안 모드
tags:
  - Agents
  - Manage APM agents
  - Configuration
metaDescription: An overview of New Relic's high-security mode feature for APM agents.
freshnessValidatedDate: never
translationType: machine
---

기본 APM 에이전트 설정은 높은 수준의 보안을 제공합니다. 그러나 기본 APM 에이전트 설정을 더 허용적으로 재정의하더라도 APM 에이전트가 민감한 데이터를 New Relic에 보고하지 않도록 보장해야 할 수도 있습니다. 이 경우 APM 높은 보안 모드(엔터프라이즈 보안 모드라고도 함)를 켜는 것이 좋습니다.

기본 보안 조치에 대한 자세한 내용은 [보안 및 개인정보 보호 문서를](/docs/using-new-relic/new-relic-security/security/security-matters-data-privacy-new-relic) 참조하거나 [New Relic 보안 웹사이트를](https://newrelic.com/security) 방문하십시오.

## 요구 사항 [#requirements]

고급 보안 모드에는 [제외 에디션이](https://newrelic.com/pricing) 필요합니다.

높은 수준의 보안 모드는 조직별 설정이 아닌 계정별 설정입니다. 즉, [조직에 여러 계정이 있는](/docs/accounts/accounts-billing/account-structure/new-relic-account-structure) 경우 각 계정에 대해 이 모드를 활성화해야 합니다.

이 기능에 대한 액세스에 대해 질문이 있습니까? New Relic 계정 담당자에게 문의하십시오.

## 버전 [#overview]

높은 보안 모드에는 두 가지 버전이 있습니다. [버전 1](#version1description) 은 더 이상 사용되지 않으며 이미 있는 경우에만 사용할 수 있습니다. 높은 보안 모드를 처음으로 활성화하는 경우 유일한 옵션은 버전 2(v2)입니다. 버전 2의 에이전트 지원에 대한 자세한 내용은 [버전 지원을](#version-support) 참조하세요.

## 높은 보안 모드 활성화(버전 2) [#version2enabled]

높은 수준의 보안을 활성화하려면 서버의 로컬 설정과 <DNT>**and**</DNT> UI 의 원격 설정을 모두 업데이트해야 합니다.

이 작업을 수행하기 전에 다음 사항에 유의하십시오.

* 계정에 대해 높은 보안을 활성화한 후에는 [뉴렐릭 지원팀](https://support.newrelic.com) 의 도움 없이 <DNT>**high security cannot be turned off**</DNT> .
* 이는 [계정별 설정](#requirements) 입니다. 즉, 높은 수준의 보안 모드를 부여하려는 각 계정에 대해 설정해야 함을 의미합니다.

<table>
  <thead>
    <tr>
      <th width={150}>
        <DNT>
          **Setting location**
        </DNT>
      </th>

      <th>
        <DNT>
          **Description**
        </DNT>
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        UI에서 설정
      </td>

      <td>
        * [최신 사용자 모델](/docs/accounts/original-accounts-billing/original-product-based-pricing/overview-changes-pricing-user-model/#user-model) 사용자(거의 모든 고객): 활성화하려는 계정의 [계정 ID를](/docs/accounts/accounts-billing/account-structure/account-id) 가져옵니다. 그런 다음 이를 사용하여 다음 URL로 이동합니다: `https://one.newrelic.com/admin-portal/apm-agents/hsm?account=YOUR_ACCOUNT_ID`. 해당 페이지에서 높은 보안 모드를 구성할 수 있습니다.

        * [원래 사용자 모델](/docs/accounts/original-accounts-billing/original-users-roles/users-roles-original-user-model) 의 사용자: 계정 소유자만 이를 구성할 수 있습니다. <DNT>**[one.newrelic.com](https://one.newrelic.com/all-capabilities)**</DNT> 로 이동하여 [사용자 메뉴를](/docs/accounts/accounts-billing/general-account-settings/intro-account-settings) 클릭하고 <DNT>**Administration**</DNT> 클릭합니다. 해당 페이지에서 <DNT>**High-security mode**</DNT> 선택하십시오.

          에이전트가 UI를 통해 높은 보안을 위해 구성되었지만 로컬로 구성되지 않은 경우 에이전트 연결이 거부되고 에이전트가 종료됩니다. 그러나 이것은 응용 프로그램을 종료하지 않습니다.
      </td>
    </tr>

    <tr>
      <td>
        에이전트를 통해 로컬
      </td>

      <td>
        에이전트 구성 파일에서 높은 보안 모드를 활성화합니다. 높은 수준의 보안 모드는 기본적으로 비활성화되어 있으며 이를 활성화하는 정확한 절차는 에이전트에 따라 다릅니다.

        * [가다](/docs/agents/go-agent/instrumentation/go-agent-configuration#high_security)

        * [자바](/docs/java/java-agent-configuration#cfg-enable_high_security)

        * [.그물](/docs/dotnet/dotnet-agent-configuration#high_security_mode)

        * [노드.js](/docs/nodejs/customizing-your-nodejs-config-file#high_security)

        * [PHP](/docs/php/php-agent-phpini-settings#inivar-high-security)

        * [파이썬](/docs/python/python-agent-configuration#high_security)

        * [루비](/docs/ruby/ruby-agent-configuration#high_security)

          에이전트가 로컬에서 높은 보안을 위해 구성되었지만 UI를 통하지 않는 경우 에이전트 연결이 거부되고 에이전트가 종료됩니다. 이것은 응용 프로그램을 종료하지 않습니다.
      </td>
    </tr>
  </tbody>
</table>

## 높은 보안 모드 활성화 결과(버전 2) [#version2description]

활성화되면 높은 보안 모드(v2)가 계정에 대해 다음을 보장합니다.

<table>
  <thead>
    <tr>
      <th width={200}>
        <DNT>
          **Feature**
        </DNT>
      </th>

      <th>
        <DNT>
          **Comments**
        </DNT>
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        에이전트가 보안 연결(HTTPS)을 사용해야 합니다.
      </td>

      <td>
        높은 보안 모드에는 보안(HTTPS) 연결이 필요합니다. 비보안 연결 시도는 거부됩니다. 모든 New Relic 에이전트의 최신 버전은 HTTPS를 지원합니다. 구성이 적절하게 설정되지 않은 경우 에이전트는 최신 산업 표준에 따라 전송 중인 모든 데이터를 보장하기 위해 속성을 재정의합니다.
      </td>
    </tr>

    <tr>
      <td>
        HTTP 매개변수 캡처 방지
      </td>

      <td>
        높은 보안 모드에서는 민감한 고객 데이터가 포함될 수 있는 HTTP 매개변수가 New Relic 수집기로 전송되는 것을 허용하지 않습니다. 에이전트가 로컬로 또는 [서버측 구성을](/docs/agents/manage-apm-agents/configuration/server-side-agent-configuration) 통해 HTTP 매개변수를 전송하도록 구성된 경우 높은 수준의 보안 모드는 HTTP 매개변수를 캡처하지 않도록 구성을 재정의합니다.
      </td>
    </tr>

    <tr>
      <td>
        메시지 대기열 매개변수 캡처 방지
      </td>

      <td>
        높은 수준의 보안 모드에서는 민감한 고객 데이터가 포함될 수 있는 메시지 대기열 매개변수가 New Relic 수집기로 전송되는 것을 허용하지 않습니다. 에이전트가 로컬로 또는 [서버측 구성을](/docs/agents/manage-apm-agents/configuration/server-side-agent-configuration) 통해 메시지 큐 매개변수를 보내도록 구성된 경우 높은 수준의 보안 모드는 메시지 큐 매개변수를 캡처하지 않도록 구성을 재정의합니다.
      </td>
    </tr>

    <tr>
      <td>
        원시 쿼리 문 캡처 방지
      </td>

      <td>
        높은 수준의 보안 모드에서는 민감한 고객 데이터가 포함될 수 있는 원시 데이터베이스 쿼리 문이 캡처되는 것을 허용하지 않습니다. 에이전트가 원시 쿼리를 로컬로 또는 [서버측 구성을](/docs/agents/manage-apm-agents/configuration/server-side-agent-configuration) 통해 캡처하도록 구성된 경우 높은 수준의 보안 모드는 원시 쿼리를 캡처하지 않도록 구성을 재정의합니다.
      </td>
    </tr>

    <tr>
      <td>
        사용자 속성 캡처 방지
      </td>

      <td>
        높은 보안 모드에서는 각 에이전트의 API를 사용하여 설정된 속성이 캡처되는 것을 허용하지 않습니다. 이러한 속성에는 민감한 고객 데이터가 포함될 수 있기 때문입니다.

        예를 들어 자바 에이전트에서 다음 `NewRelic` 에이전트 API 호출을 통해 전달된 속성은 차단됩니다.

        ```java
        NewRelic.addCustomParameter(String key, String value)
        ```

        ```java
        NewRelic.addCustomParameter(String key, Number value)
        ```

        ```java
        NewRelic.setUserId(String name)
        ```

        ```java
        NewRelic.setAccountName(String name)
        ```

        ```java
        NewRelic.setProductName(String name)
        ```
      </td>
    </tr>

    <tr>
      <td>
        `noticeError` 속성 캡처 방지
      </td>

      <td>
        높은 수준의 보안 모드에서는 각 에이전트의 `noticeError` API 호출을 사용하여 설정된 속성이 민감한 고객 데이터를 포함할 수 있으므로 캡처되는 것을 허용하지 않습니다.

        예를 들어 자바 에이전트에서 다음 `NewRelic` 에이전트 API 호출을 통해 전달된 속성은 차단됩니다.

        ```java
        NewRelic.noticeError(String message, Map<String, String> params)
        ```

        ```java
        NewRelic.noticeError(Throwable throwable, Map<String, String> params)
        ```
      </td>
    </tr>

    <tr>
      <td>
        사용자 지정 이벤트 방지
      </td>

      <td>
        높은 수준의 보안 모드에서는 에이전트 API를 사용하여 사용자 지정 이벤트를 생성하는 것이 허용되지 않습니다. 이러한 이벤트에는 민감한 고객 데이터가 포함될 수 있기 때문입니다.

        예를 들어 .NET 에이전트에서 API 호출 `RecordCustomEvent` 은 차단됩니다.
      </td>
    </tr>

    <tr>
      <td>
        에이전트 내 로그 이벤트 전달 방지
      </td>

      <td>
        높은 수준의 보안 모드에서는 로그 메시지에 민감한 고객 데이터가 포함될 수 있으므로 `application_logging.forwarding.enabled` 구성 옵션을 사용하여 로그 이벤트를 APM에 전달할 수 없습니다.
      </td>
    </tr>

    <tr>
      <td>
        [CIE](/docs/agents/java-agent/custom-instrumentation/custom-instrumentation-editor-quickly-customize-your-java-instrumentation) 를 통한 Custom Instrumentation 배포 방지
      </td>

      <td>
        높은 보안 모드에서는 [Custom Instrumentation Editor를](/docs/agents/java-agent/custom-instrumentation/custom-instrumentation-editor-quickly-customize-your-java-instrumentation) 사용할 때 사용자 정의 계측 배포를 허용하지 않습니다. 높은 수준의 보안 모드를 활성화한 경우 [계측을 내보내고](/docs/agents/java-agent/custom-instrumentation/custom-instrumentation-editor-quickly-customize-your-java-instrumentation#manual-deploy) 수동으로 앱 서버로 가져와야 합니다.
      </td>
    </tr>
  </tbody>
</table>

## 버전 2 지원 [#version-support]

높은 보안 모드 버전 2를 지원하는 에이전트 버전에 대한 세부정보는 다음과 같습니다.

<table>
  <thead>
    <tr>
      <th width={150}>
        <DNT>
          **Agent**
        </DNT>
      </th>

      <th>
        <DNT>
          **Version 2 support**
        </DNT>
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [가다](/docs/agents/go-agent/instrumentation/go-agent-configuration#high_security)
      </td>

      <td>
        모든 버전
      </td>
    </tr>

    <tr>
      <td>
        [자바](/docs/java/java-agent-configuration#cfg-enable_high_security)
      </td>

      <td>
        3.7 이상
      </td>
    </tr>

    <tr>
      <td>
        [.그물](/docs/dotnet/dotnet-agent-configuration#high_security_mode)
      </td>

      <td>
        3.3 이상
      </td>
    </tr>

    <tr>
      <td>
        [노드.js](/docs/nodejs/customizing-your-nodejs-config-file#high_security)
      </td>

      <td>
        1.7.0 이상
      </td>
    </tr>

    <tr>
      <td>
        [PHP](/docs/php/php-agent-phpini-settings#inivar-high-security)
      </td>

      <td>
        4.9 이상
      </td>
    </tr>

    <tr>
      <td>
        [파이썬](/docs/python/python-agent-configuration#high_security)
      </td>

      <td>
        2.22.0.0 이상
      </td>
    </tr>

    <tr>
      <td>
        [루비](/docs/ruby/ruby-agent-configuration#high_security)
      </td>

      <td>
        3.9.1 이상
      </td>
    </tr>
  </tbody>
</table>

## 높은 보안 모드 v1 활성화 결과(더 이상 사용되지 않음) [#version1description]

높은 수준의 보안 모드 버전 1은 더 이상 사용되지 않으며 버전 2가 제공되기 전에 활성화한 경우에만 사용할 수 있습니다. 높은 보안 모드 버전 1은 계정에 대해 다음을 보장합니다.

<table>
  <thead>
    <tr>
      <th width={200}>
        <DNT>
          **Feature**
        </DNT>
      </th>

      <th>
        <DNT>
          **Comments**
        </DNT>
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        에이전트가 보안 연결(HTTPS)을 사용해야 합니다.
      </td>

      <td>
        높은 보안 모드에는 암호화된 연결(HTTPS)이 필요합니다. 비보안 연결 시도는 거부됩니다. 모든 New Relic 에이전트의 최신 버전은 HTTPS를 지원합니다. 구성이 적절하게 설정되지 않은 경우 에이전트는 전송 중인 모든 데이터가 최신 산업 표준에 따라 암호화되도록 속성을 재정의합니다.
      </td>
    </tr>

    <tr>
      <td>
        HTTP 매개변수 캡처 방지
      </td>

      <td>
        민감한 고객 데이터가 포함될 수 있는 HTTP 매개변수를 캡처하도록 구성된 에이전트는 New Relic에 연결할 수 없습니다. 로컬 구성이 요청 매개변수를 캡처하도록 설정된 경우 New Relic의 수집기는 연결을 거부하고 에이전트는 종료됩니다.
      </td>
    </tr>

    <tr>
      <td>
        원시 쿼리 문 캡처 방지
      </td>

      <td>
        민감한 고객 데이터를 포함할 수 있는 원시 데이터베이스 쿼리 문을 캡처하도록 구성된 에이전트는 New Relic에 연결할 수 없습니다. 에이전트가 로컬 또는 [서버 측 구성](/docs/agents/manage-apm-agents/configuration/server-side-agent-configuration) 을 통해 원시 쿼리를 캡처하도록 구성된 경우 New Relic의 수집기는 연결을 거부하고 에이전트는 종료됩니다.
      </td>
    </tr>

    <tr>
      <td>
        [CIE](/docs/agents/java-agent/custom-instrumentation/custom-instrumentation-editor-quickly-customize-your-java-instrumentation) 를 통한 Custom Instrumentation 배포 방지
      </td>

      <td>
        높은 보안 모드에서는 [Custom Instrumentation Editor를](/docs/agents/java-agent/custom-instrumentation/custom-instrumentation-editor-quickly-customize-your-java-instrumentation) 사용할 때 사용자 정의 계측 배포를 허용하지 않습니다. 높은 수준의 보안 모드를 활성화한 경우 [계측을 내보내고](/docs/agents/java-agent/custom-instrumentation/custom-instrumentation-editor-quickly-customize-your-java-instrumentation#manual-deploy) 수동으로 앱 서버로 가져와야 합니다.
      </td>
    </tr>
  </tbody>
</table>

## 버전 1에서 버전 2로 마이그레이션 [#migrating]

다음은 두 가지 고급 보안 버전 간의 주요 차이점입니다.

* 높은 수준의 보안을 더욱 안전하게 만들려면 로컬 뉴렐릭 설정 파일의 뉴렐릭 사용자 인터페이스 <DNT>**and**</DNT> 에서 높은 수준의 보안을 활성화해야 합니다. 높은 보안 v1에서는 뉴렐릭 UI 에서 높은 보안만 설정하면 됩니다.
* 사용자 속성, `noticeError` 속성 및 메시지 대기열 매개변수는 버전 2에서 높은 보안으로 해제되지만 버전 1에서는 해제되지 않습니다.

v1에서 v2로 업데이트하려면 로컬 에이전트 구성 파일에 `high_security: true` 을 추가합니다.