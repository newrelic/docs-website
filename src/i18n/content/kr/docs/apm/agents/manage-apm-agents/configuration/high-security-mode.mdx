---
title: 높은 보안 모드
tags:
  - Agents
  - Manage APM agents
  - Configuration
metaDescription: An overview of New Relic's high security mode feature for APM agents.
translationType: machine
---

New Relic의 기본 APM 에이전트 설정은 높은 수준의 보안을 제공합니다. 그러나 기본 APM 에이전트 설정이 더 관대하도록 재정의되더라도 민감한 데이터가 New Relic으로 전송되지 않도록 해야 할 수도 있습니다. 이 경우 APM의 높은 보안 모드(엔터프라이즈 보안 모드라고도 함)를 켜야 합니다.

보안 조치에 대한 자세한 내용은[보안 및 개인 정보 보호 문서](/docs/using-new-relic/new-relic-security/security/security-matters-data-privacy-new-relic) 를 참조하거나 [New Relic 보안 웹 사이트](https://newrelic.com/security) 를 방문하십시오.

## 요구 사항

[Enterprise 버전이](/docs/accounts/accounts-billing/new-relic-one-pricing-billing/new-relic-one-pricing-billing/#editions)필요합니다.

이 기능에 대한 액세스에 대해 질문이 있습니까? New Relic 계정 담당자에게 문의하십시오.

## 계정 수준 [#overview]

높은 보안을 켜기로 선택한 경우 계정에 보고하는 모든 애플리케이션에 대해 높은 보안을 활성화해야 합니다. 각 개별 계정에 높은 보안을 설정해야 합니다.[상위/하위 계정 구조](/docs/accounts/original-accounts-billing/original-users-roles/mastersub-account-structure) 가 있는 조직의 경우 하위 계정은 상위 계정에서 활성화된 경우 높은 보안 설정을 자동으로 상속하지 않습니다.

현재 높은 보안 모드에는 두 가지 버전이 있습니다. [버전 1](#version1description) 은 더 이상 사용되지 않으며 이미 있는 경우에만 사용할 수 있습니다. 처음으로 높은 보안 모드를 활성화하는 경우 유일한 옵션은 버전 2(v2)입니다.

<table>
  <thead>
    <tr>
      <th width={150}>
        **에이전트**
      </th>

      <th>
        **버전 2 지원**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [가다](/docs/agents/go-agent/instrumentation/go-agent-configuration#high_security)
      </td>

      <td>
        모든 버전
      </td>
    </tr>

    <tr>
      <td>
        [자바](/docs/java/java-agent-configuration#cfg-enable_high_security)
      </td>

      <td>
        3.7 이상
      </td>
    </tr>

    <tr>
      <td>
        [.그물](/docs/dotnet/dotnet-agent-configuration#high_security_mode)
      </td>

      <td>
        3.3 이상
      </td>
    </tr>

    <tr>
      <td>
        [노드.js](/docs/nodejs/customizing-your-nodejs-config-file#high_security)
      </td>

      <td>
        1.7.0 이상
      </td>
    </tr>

    <tr>
      <td>
        [PHP](/docs/php/php-agent-phpini-settings#inivar-high-security)
      </td>

      <td>
        4.9 이상
      </td>
    </tr>

    <tr>
      <td>
        [파이썬](/docs/python/python-agent-configuration#high_security)
      </td>

      <td>
        2.22.0.0 이상
      </td>
    </tr>

    <tr>
      <td>
        [루비](/docs/ruby/ruby-agent-configuration#high_security)
      </td>

      <td>
        3.9.1 이상
      </td>
    </tr>
  </tbody>
</table>

## 높은 보안 모드 사용(버전 2) [#version2enabled]

높은 보안을 사용하려면 서버의 로컬 구성 **과** UI의 원격 구성을 모두 업데이트해야 합니다.

<Callout variant="caution">
  계정에 대해 높은 보안을 활성화하면 [New Relic Support](https://support.newrelic.com) 의 도움 없이는 **높은 보안을 끌 수 없습니다** .
</Callout>

<table>
  <thead>
    <tr>
      <th width={150}>
        **위치 설정**
      </th>

      <th>
        **설명**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        UI에서 설정
      </td>

      <td>
        * [원래 사용자 모델의 사용자](/docs/accounts/original-accounts-billing/original-users-roles/users-roles-original-user-model) : 계정 소유자만 이를 구성할 수 있습니다. **[one.newrelic.com](https://one.newrelic.com/all-capabilities)** 으로 이동, [사용자 메뉴](/docs/accounts/accounts-billing/general-account-settings/intro-account-settings) 를 클릭하고 **계정 설정** 을 선택합니다. 해당 페이지에서 **높은 보안 모드** 를 선택합니다.

        * [최신 사용자 모델의 사용자](/docs/accounts/original-accounts-billing/original-product-based-pricing/overview-changes-pricing-user-model/#user-model) : 활성화하려는 계정의 [계정 ID](/docs/accounts/accounts-billing/account-structure/account-id) 를 가져옵니다.그런 다음 이를 사용하여 다음 URL로 이동합니다. `https://rpm.newrelic.com/accounts/YOUR_ACCOUNT_ID` .해당 페이지에서 높은 보안 모드를 구성할 수 있습니다.

          에이전트가 UI를 통해 높은 보안을 위해 구성되었지만 로컬로 구성되지 않은 경우 에이전트 연결이 거부되고 에이전트가 종료됩니다. 그러나 이것은 응용 프로그램을 종료하지 않습니다.
      </td>
    </tr>

    <tr>
      <td>
        에이전트를 통해 로컬
      </td>

      <td>
        에이전트 구성 파일에서 높은 보안 모드를 활성화하십시오. 높은 보안 모드는 기본적으로 비활성화되어 있으며 활성화하는 정확한 절차는 에이전트에 따라 다릅니다.

        * [가다](/docs/agents/go-agent/instrumentation/go-agent-configuration#high_security)

        * [자바](/docs/java/java-agent-configuration#cfg-enable_high_security)

        * [.그물](/docs/dotnet/dotnet-agent-configuration#high_security_mode)

        * [노드.js](/docs/nodejs/customizing-your-nodejs-config-file#high_security)

        * [PHP](/docs/php/php-agent-phpini-settings#inivar-high-security)

        * [파이썬](/docs/python/python-agent-configuration#high_security)

        * [루비](/docs/ruby/ruby-agent-configuration#high_security)

          에이전트가 로컬에서 높은 보안을 위해 구성되었지만 UI를 통하지 않는 경우 에이전트 연결이 거부되고 에이전트가 종료됩니다. 이것은 응용 프로그램을 종료하지 않습니다.
      </td>
    </tr>
  </tbody>
</table>

## 높은 보안 모드를 활성화한 결과(버전 2) [#version2description]

활성화되면 높은 보안 모드(v2)가 계정에 대해 다음을 보장합니다.

<table>
  <thead>
    <tr>
      <th width={200}>
        **기능**
      </th>

      <th>
        **코멘트**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        에이전트가 보안 연결(HTTPS)을 사용해야 합니다.
      </td>

      <td>
        높은 보안 모드에는 보안(HTTPS) 연결이 필요합니다. 비보안 연결 시도는 거부됩니다. 모든 New Relic 에이전트의 최신 버전은 HTTPS를 지원합니다. 구성이 적절하게 설정되지 않은 경우 에이전트는 최신 산업 표준에 따라 전송 중인 모든 데이터를 확인하기 위해 속성을 재정의합니다.
      </td>
    </tr>

    <tr>
      <td>
        HTTP 매개변수 캡처 방지
      </td>

      <td>
        높은 보안 모드에서는 민감한 고객 데이터가 포함될 수 있는 HTTP 매개변수를 New Relic 수집기로 보낼 수 없습니다. 에이전트가 로컬로 또는 [서버 측 구성](/docs/agents/manage-apm-agents/configuration/server-side-agent-configuration) 을 통해 HTTP 매개변수를 보내도록 구성된 경우 높은 보안 모드는 HTTP 매개변수를 캡처하지 않도록 구성을 무시합니다.
      </td>
    </tr>

    <tr>
      <td>
        메시지 대기열 매개변수 캡처 방지
      </td>

      <td>
        높은 보안 모드에서는 민감한 고객 데이터를 포함할 수 있는 메시지 대기열 매개변수를 New Relic 수집기로 보낼 수 없습니다. 에이전트가 로컬로 또는 [서버측 구성](/docs/agents/manage-apm-agents/configuration/server-side-agent-configuration) 을 통해 메시지 대기열 매개변수를 보내도록 구성된 경우 높은 보안 모드는 메시지 대기열 매개변수를 캡처하지 않도록 구성을 무시합니다.
      </td>
    </tr>

    <tr>
      <td>
        원시 쿼리 문 캡처 방지
      </td>

      <td>
        높은 보안 모드에서는 민감한 고객 데이터가 포함될 수 있는 원시 데이터베이스 쿼리 문을 캡처할 수 없습니다. 에이전트가 원시 쿼리를 로컬로 또는 [서버 측 구성](/docs/agents/manage-apm-agents/configuration/server-side-agent-configuration) 을 통해 캡처하도록 구성된 경우 높은 보안 모드는 원시 쿼리를 캡처하지 않도록 구성을 무시합니다.
      </td>
    </tr>

    <tr>
      <td>
        사용자 속성 캡처 방지
      </td>

      <td>
        높은 보안 모드에서는 민감한 고객 데이터가 포함될 수 있으므로 각 에이전트의 API를 사용하여 설정한 속성을 캡처할 수 없습니다.

        예를 들어 자바 에이전트에서 다음 `NewRelic` 에이전트 API 호출을 통해 전달된 속성은 차단됩니다.

        ```
        NewRelic.addCustomParameter(String key, String value)
        ```

        ```
        NewRelic.addCustomParameter(String key, Number value)
        ```

        ```
        NewRelic.setUserName(String name)
        ```

        ```
        NewRelic.setAccountName(String name)
        ```

        ```
        NewRelic.setProductName(String name)
        ```
      </td>
    </tr>

    <tr>
      <td>
        `noticeError` 속성 캡처 방지
      </td>

      <td>
        높은 보안 모드에서는 민감한 고객 데이터가 포함될 수 있으므로 각 에이전트의 `noticeError` API 호출을 사용하여 설정한 속성을 캡처할 수 없습니다.

        예를 들어 자바 에이전트에서 다음 `NewRelic` 에이전트 API 호출을 통해 전달된 속성은 차단됩니다.

        ```
        NewRelic.noticeError(String message, Map<String, String> params)
        ```

        ```
        NewRelic.noticeError(Throwable throwable, Map<String, String> params)
        ```
      </td>
    </tr>

    <tr>
      <td>
        사용자 지정 이벤트 방지
      </td>

      <td>
        높은 보안 모드에서는 민감한 고객 데이터가 포함될 수 있으므로 에이전트 API를 사용하여 사용자 지정 이벤트를 생성할 수 없습니다.

        예를 들어 .NET 에이전트에서 API 호출 `RecordCustomEvent` 은 차단됩니다.
      </td>
    </tr>

    <tr>
      <td>
        에이전트 내 로그 이벤트 전달 방지
      </td>

      <td>
        높은 보안 모드에서는 로그 메시지에 민감한 고객 데이터가 포함될 수 있으므로 `application_logging.forwarding.enabled` 구성 옵션을 사용하여 APM에 로그 이벤트를 전달할 수 없습니다.
      </td>
    </tr>

    <tr>
      <td>
        [CIE](/docs/agents/java-agent/custom-instrumentation/custom-instrumentation-editor-quickly-customize-your-java-instrumentation) 를 통한 Custom Instrumentation 배포 방지
      </td>

      <td>
        높은 보안 모드에서는 [사용자 지정 계측 편집기](/docs/agents/java-agent/custom-instrumentation/custom-instrumentation-editor-quickly-customize-your-java-instrumentation) 를 사용할 때 사용자 지정 계측 배포를 허용하지 않습니다. 높은 보안 모드가 활성화 [된 경우 계측을 내보내고](/docs/agents/java-agent/custom-instrumentation/custom-instrumentation-editor-quickly-customize-your-java-instrumentation#manual-deploy) 앱 서버로 수동으로 가져와야 합니다.
      </td>
    </tr>
  </tbody>
</table>

## 높은 보안 모드 v1을 활성화한 결과(더 이상 사용되지 않음) [#version1description]

높은 보안 모드 버전 1은 더 이상 사용되지 않으며 버전 2를 사용할 수 있기 전에 활성화한 경우에만 사용할 수 있습니다. 높은 보안 모드 버전 1은 계정에 대해 다음을 보장합니다.

<table>
  <thead>
    <tr>
      <th width={200}>
        **기능**
      </th>

      <th>
        **코멘트**
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        에이전트가 보안 연결(HTTPS)을 사용해야 합니다.
      </td>

      <td>
        높은 보안 모드에는 암호화된 연결(HTTPS)이 필요합니다. 비보안 연결 시도는 거부됩니다. 모든 New Relic 에이전트의 최신 버전은 HTTPS를 지원합니다. 구성이 적절하게 설정되지 않은 경우 에이전트는 전송 중인 모든 데이터가 최신 산업 표준에 따라 암호화되도록 속성을 재정의합니다.
      </td>
    </tr>

    <tr>
      <td>
        HTTP 매개변수 캡처 방지
      </td>

      <td>
        민감한 고객 데이터가 포함될 수 있는 HTTP 매개변수를 캡처하도록 구성된 에이전트는 New Relic에 연결할 수 없습니다. 로컬 구성이 요청 매개변수를 캡처하도록 설정된 경우 New Relic의 수집기는 연결을 거부하고 에이전트는 종료됩니다.
      </td>
    </tr>

    <tr>
      <td>
        원시 쿼리 문 캡처 방지
      </td>

      <td>
        민감한 고객 데이터를 포함할 수 있는 원시 데이터베이스 쿼리 문을 캡처하도록 구성된 에이전트는 New Relic에 연결할 수 없습니다. 에이전트가 로컬 또는 [서버 측 구성](/docs/agents/manage-apm-agents/configuration/server-side-agent-configuration) 을 통해 원시 쿼리를 캡처하도록 구성된 경우 New Relic의 수집기는 연결을 거부하고 에이전트는 종료됩니다.
      </td>
    </tr>

    <tr>
      <td>
        [CIE](/docs/agents/java-agent/custom-instrumentation/custom-instrumentation-editor-quickly-customize-your-java-instrumentation) 를 통한 Custom Instrumentation 배포 방지
      </td>

      <td>
        높은 보안 모드에서는 [사용자 지정 계측 편집기](/docs/agents/java-agent/custom-instrumentation/custom-instrumentation-editor-quickly-customize-your-java-instrumentation) 를 사용할 때 사용자 지정 계측 배포를 허용하지 않습니다. 높은 보안 모드가 활성화 [된 경우 계측을 내보내고](/docs/agents/java-agent/custom-instrumentation/custom-instrumentation-editor-quickly-customize-your-java-instrumentation#manual-deploy) 앱 서버로 수동으로 가져와야 합니다.
      </td>
    </tr>
  </tbody>
</table>

## 버전 1에서 버전 2로 마이그레이션 [#migrating]

다음은 두 가지 고급 보안 버전 간의 주요 차이점입니다.

* 높은 보안을 더욱 안전하게 만들려면 New Relic 사용자 인터페이스 **와** 로컬 New Relic 구성 파일에서 높은 보안을 활성화해야 합니다. 높은 보안 v1은 New Relic UI에서 높은 보안을 설정하기만 하면 됩니다.
* 사용자 속성, `noticeError` 속성 및 메시지 대기열 매개변수는 버전 2에서 높은 보안으로 해제되지만 버전 1에서는 해제되지 않습니다.

v1에서 v2로 업데이트하려면 로컬 에이전트 구성 파일에 `high_security: true` 을 추가합니다.