---
title: 'Django 미들웨어 측정, 로그 필터링'
tags:
  - Agents
  - Python agent
  - Supported features
metaDescription: Python agent (Django) middleware instrumentation filtering
freshnessValidatedDate: never
translationType: machine
---

이제 견인 에이전트는 어떤 Django 미들웨어가 모니터되어야 하는지 필터링할 수 있습니다. 기본적으로 모든 미들웨어는 계측됩니다.

<Callout variant="important">
  미들웨어 측정, Django 용 리소스 필터링은 끌어오기 버전 10.17.0 이상에서 사용할 수 있습니다. 기본적으로 모든 미들웨어는 계측됩니다. 이 설정을 변경하려면 [설명서를](/docs/apm/agents/python-agent/configuration/python-agent-configuration/#middleware-filters) 확인하세요.
</Callout>

## 모든 Django 미들웨어 비활성화 [#django-middleware-disable]

Django 에서 미들웨어의 측정 및 계측을 비활성화하는 방법은 두 가지가 있습니다.

1. `NEW_RELIC_INSTRUMENTATION_DJANGO_MIDDLEWARE_ENABLED` 환경 변수를 다음으로 설정합니다. `False`
2. 구성 파일에서 `instrumentation.middleware.django.enabled = false` 설정합니다.

## Django 미들웨어 구성 설정 [#django-middleware-configuration-settings]

<CollapserGroup>
  <Collapser id="config-middleware-django-include" title="instrumentation.middleware.django.include">
    <table>
      <tbody>
        <tr>
          <th>
            유형:
          </th>

          <td>
            공백으로 구분된 문자열 목록
          </td>
        </tr>

        <tr>
          <th>
            기본:
          </th>

          <td>
            (없음)
          </td>
        </tr>
      </tbody>
    </table>

    속성이 활성화되면 이 목록의 모든 속성 키가 전송됩니다.
  </Collapser>

  <Collapser id="config-middleware-django-exclude" title="instrumentation.middleware.django.exclude">
    <table>
      <tbody>
        <tr>
          <th>
            유형:
          </th>

          <td>
            공백으로 구분된 문자열 목록
          </td>
        </tr>

        <tr>
          <th>
            기본:
          </th>

          <td>
            (없음)
          </td>
        </tr>
      </tbody>
    </table>

    이 목록의 모든 속성 키는 전송 **되지 않습니다** .
  </Collapser>
</CollapserGroup>

## 미들웨어 제외/포함 규칙 [#django-middleware-rules]

에이전트는 모니터링을 위해 포함하거나 제외할 미들웨어를 결정할 때 다음 규칙을 따릅니다.

<CollapserGroup>
  <Collapser id="rule-destination-precedence" title="활성화는 포함 및 제외보다 우선합니다.">
    `instrumentation.middleware.FRAMEWORK.enabled` 플래그는 include 및 exclude 미들웨어보다 우선합니다.

    구성 예:

    ```ini
    instrumentation.middleware.django.enabled = false
    instrumentation.middleware.django.include = one two
    instrumentation.middleware.django.include = three four
    ```

    출력 예:

    ```
    Middleware used in app: one, two, three, four
    Middleware included for monitoring:
    Middleware excluded for monitoring: one, two, three, four
    ```
  </Collapser>

  <Collapser id="rule-included-destination" title="대상이 활성화된 경우 미들웨어가 포함됩니다.">
    대상이 활성화된 경우, 모든 미들웨어는 기본적으로 해당 대상으로 전송됩니다.

    모든 미들웨어 모니터링은 기본적으로 `true` 으로 설정됩니다.

    구성 예:

    ```ini
    instrumentation.middleware.django.enabled = true
    instrumentation.middleware.django.exclude = baz
    ```

    출력 예:

    ```
    Middleware used in app: foo, bar, baz
    Middleware included for monitoring: foo, bar
    Middleware excluded for monitoring: baz
    ```
  </Collapser>

  <Collapser id="rule-exclude-wins" title="제외는 항상 포함을 대체합니다.">
    동일한 미들웨어가 포함 및 제외 목록에 나열되어 있는 경우, 지정된 이름을 가진 미들웨어가 제외됩니다.

    구성 예:

    ```ini
    instrumentation.middleware.django.enabled = true
    instrumentation.middleware.django.include = foo bar
    instrumentation.middleware.django.exclude = nerd bar
    ```

    출력 예:

    ```
    Middleware used in app: foo, bar, nerd
    Middleware included for monitoring: foo
    Middleware excluded for monitoring: nerd, bar
    ```
  </Collapser>

  <Collapser id="rule-middleware-name-case-sensitive" title="미들웨어 이름은 대소문자를 구분합니다.">
    미들웨어 이름은 대소문자를 구분합니다.

    구성 예:

    ```ini
    instrumentation.middleware.django.enabled = true
    instrumentation.middleware.django.exclude = username UsErNaMe
    ```

    출력 예:

    ```
    Middleware used in app: username, Username, USERNAME, UsErNaMe, userNAME
    Middleware included for monitoring:  Username, USERNAME, userNAME
    Middleware excluded for monitoring:  username, UsErNaMe
    ```
  </Collapser>

  <Collapser
    id="rule-star-wildcard"
    title={<>와일드카드에는 <InlineCode>
      \*
    </InlineCode> 을 사용합니다.</>
    }
  >
    이름 끝에 별표 `*` 와일드카드로 사용할 수 있습니다. 이는 동일한 접두사를 가진 미들웨어 세트와 일치합니다.

    구성 예:

    ```ini
    instrumentation.middleware.django.enabled = true
    instrumentation.middleware.django.include = custom*
    instrumentation.middleware.django.exclude = request.parameters.*
    ```

    출력 예:

    ```
    Middleware used in app: custom, custom.key1, custom.key2, request.parameters., request.parameters.foo, request.parameters.bar
    Middleware included for monitoring: custom, custom.key1, custom.key2
    Middleware excluded for monitoring: request.parameters., request.parameters.foo, request.parameters.bar
    ```
  </Collapser>

  <Collapser id="rule-specific-wins" title="가장 구체적인 미들웨어 이름이 우선합니다.">
    여러 개의 포함 또는 제외 이름이 동일한 미들웨어에 영향을 미치는 경우, 가장 구체적인 이름이 우선합니다.

    구성 예:

    ```ini
    instrumentation.middleware.django.enabled = true
    instrumentation.middleware.django.include = request.parameters.foo
    instrumentation.middleware.django.exclude = request.parameters.*
    ```

    출력 예:

    ```
    Middleware used in app: request.parameters., request.parameters.foo, request.parameters.bar
    Middleware included for monitoring: request.parameters.foo
    Middleware included for monitoring: request.parameters., request.parameters.bar
    ```
  </Collapser>
</CollapserGroup>