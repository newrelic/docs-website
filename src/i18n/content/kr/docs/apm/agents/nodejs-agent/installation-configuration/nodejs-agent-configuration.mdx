---
title: Node.js 에이전트 구성
tags:
  - Agents
  - Nodejs agent
  - Installation and configuration
metaDescription: 'For New Relic''s Node.js agent: how to set configuration using your config file, environment variables, or server-side config.'
freshnessValidatedDate: never
translationType: human
---

`newrelic.js` 구성 파일을 수정하거나 환경 변수를 설정하여 앱 요구사항에 맞게 Node.js 에이전트를 맞춤화할 수 있습니다. 구성 파일은 앱의 루트 디렉터리에 있습니다. 뉴렐릭에서 몇 가지 옵션을 구성하거나 [Node.js 에이전트 API](/docs/agents/nodejs-agent/api-guides/nodejs-agent-api)를 사용할 수도 있습니다.

## 시작하기 [#requirements]

[뉴렐릭 계정을 생성하고](https://newrelic.com/signup) (영구 무료) [Node.js 에이전트를 설치한](/docs/apm/agents/nodejs-agent/installation-configuration/install-nodejs-agent/) 후 환경에 맞게 Node.js 에이전트를 구성할 수 있습니다.

[`license_key`](#license) 설정이 필요합니다. 또한 [기본 설정된](/docs/apm/new-relic-apm/installation-configuration/name-your-application) `My Application`이 아니라 앱이 의미 있는 이름을 갖도록 [`app_name`](#app_name)을 설정하는 것을 권합니다.

## 구성 방법 및 우선순위 [#methods-and-precedence]

Node.js 에이전트를 구성하는 기본 방법은 에이전트 설정 파일(`newrelic.js`)을 사용하는 것입니다. [환경 변수](#environment)를 사용하여 대부분의 설정을 할 수도 있습니다. [서버 측 구성](#server-side)을 통해 일부 설정을 조정할 수도 있습니다.

Node.js 에이전트는 구성 방법에 다음의 우선순위를 적용합니다.

<img
  title="Node.js agent configuration precedence"
  alt="Node.js agent configuration precedence"
  src="/images/apm_diagram_nodejs-agent-configuration-hierarchy.webp"
/>

<figcaption>
  <DNT>**Node.js configuration hierarchy:**</DNT> 서버 측 설정은 환경 변수보다 우선 적용됩니다. 환경 변수는 에이전트 구성 파일에 우선합니다. 구성 파일은 에이전트 기본값에 우선합니다.
</figcaption>

각 구성 방법에 대한 자세한 설명은 다음과 같습니다.

<CollapserGroup>
  <Collapser
    className="freq-link"
    id="config_file"
    title="에이전트 설정 파일"
  >
    구성 파일(`newrelic.js`)에는 모든 Node.js 에이전트 설정이 포함되어 있습니다. [Node.js 에이전트를 설치할](/docs/agents/nodejs-agent/installation-configuration/installing-maintaining-nodejs#installing) 때 `newrelic.js`를 앱의 루트 디렉터리에 복사해야 합니다. 대부분의 설정은 기본적으로 비어 있습니다. 설정 값은 `config/default.js`의 값을 사용합니다.

    애플리케이션이 CommonJS에서 실행 중인 경우 구성 파일 형식을 (`newrelic.cjs`)로 변경하기만 하면 됩니다. 이 파일 형식은 Node.js 에이전트 [v7.5.0](/docs/release-notes/agent-release-notes/nodejs-release-notes/node-agent-7-5-0/)부터 지원됩니다.
  </Collapser>

  <Collapser
    className="freq-link"
    id="environment"
    title="환경 변수"
  >
    `newrelic.js`의 모든 설정에는 동등한 환경 변수가 있으며, 이는 에이전트가 Heroku 또는 Microsoft Azure 같은 PaaS 환경에서 실행되는 경우 유용합니다. Node.js 에이전트 환경 변수는 항상 `NEW_RELIC_`으로 시작합니다.

    이러한 환경 변수는 아래 개별 구성 옵션 아래에 <DNT>**Environ variable**</DNT>(환경 변수)로 설명되어 있습니다. [환경 변수를 통해서만 구성](#environment-variable-overrides)할 수 있는 두 가지 설정도 있지만 거의 사용되지 않습니다. 더 복잡한 유형을 환경 변수로 지정하는 방법에 대한 자세한 내용은 [참조 가이드](#environment-variable-type-reference-guide)를 확인하십시오.

    IDE에서 성능을 모니터링하기 위해 뉴렐릭 CodeStream 사용하는 경우, [휠을 서비스와 연결](/docs/codestream/how-use-codestream/performance-monitoring#repo-association)하고 [빌드 SHA를 연결하거나 태그를 오류와 함께 릴리스](/docs/codestream/how-use-codestream/performance-monitoring#buildsha) 할 수도 있습니다.
  </Collapser>

  <Collapser
    className="freq-link"
    id="server-side"
    title="서버 측 구성"
  >
    소유자와 관리자는 [뉴렐릭에서 직접](/docs/agents/manage-apm-agents/configuration/server-side-agent-configuration) 몇 가지 설정을 확인하고 구성할 수 있습니다. 사용 가능한 경우 서버 측 구성의 UI 라벨은 이 문서의 개별 구성 옵션 아래에 <DNT>**Server-side label**</DNT>로 포함되어 있습니다.
  </Collapser>
</CollapserGroup>

## 내보내기 변수 [#exports_config]

이 섹션에서는 앱 `newrelic.js` 설정 파일의 `exports.config = {` 섹션에 일반적으로 나타나는 순서대로 Node.js 에이전트 변수들에 대해 설명합니다.

<CollapserGroup>
  <Collapser
    id="app_name"
    title="app_name(필수)"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            문자열
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `"My Application"`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_APP_NAME`
          </td>
        </tr>
      </tbody>
    </table>

    [뉴렐릭이라는 이름은 앱을 식별하는 데 사용됩니다](/docs/apm/new-relic-apm/installation-configuration/name-your-application). (예: `app_name: ['MyNodeApp']`) [앱에 여러 이름을 사용](/docs/apm/new-relic-apm/installation-configuration/use-multiple-names-app)하려면 이름을 쉼표로 구분한 목록을 지정해야 합니다.

    동일한 이름을 가진 모든 애플리케이션의 데이터는 뉴렐릭 UI 에 병합되므로 신중하게 설정해야 합니다. 혼란과 의도하지 않은 데이터 집계를 방지하기 위해 기본 이름을 잘 이해할 수 있는 이름으로 바꿀 것을 권합니다.

    <Callout variant="tip">
      [Azure 사용자](/docs/agents/nodejs-agent/hosting-services/nodejs-agent-microsoft-azure) 의 경우 Node.js 에이전트는 설정된 경우 `APP_POOL_ID`를 사용하므로, Azure 웹 서버 선택한 이름을 두 번 설정하지 않고도 사용할 수 있습니다.
    </Callout>
  </Collapser>

  <Collapser
    id="license"
    title="license_key(필수)"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            문자열
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            (없음)
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_LICENSE_KEY`
          </td>
        </tr>
      </tbody>
    </table>

    이 설정은 필수입니다. 뉴렐릭 <InlinePopover type="licenseKey"/>입니다. (예: `license_key: '40HexadecimalCharacters'`)
  </Collapser>

  <Collapser
    id="agent-enabled"
    title="agent_enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    에이전트 시작을 중지하려면 `false`로 설정합니다. 이는 코드를 디버깅하기 위해 일시적으로 에이전트를 비활성화해야 할 때 유용합니다. 이는 에이전트가 계측이나 모든 항목의 설정을 부트스트랩하여, 뉴렐릭 서버를 시작하고 연결하는 것을 방해하지 않도록 합니다.
  </Collapser>

  <Collapser
    id="allow_all_headers"
    title="allow_all_headers"
  >
    `true`인 경우 `exclude` 규칙으로 필터링된 헤더를 제외한 모든 HTTP 헤더 캡처를 활성화합니다. `false`인 경우 수집된 헤더는 [Node.js 에이전트 속성](/docs/agents/nodejs-agent/installation-configuration/nodejs-agent-attributes)에 정의된 헤더로 제한됩니다.

    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_ALLOW_ALL_HEADERS`
          </td>
        </tr>
      </tbody>
    </table>

    <Callout variant="caution">
      필터링하려면 헤더 관련 포함/제외 규칙이 camelCase 형식으로 되어 있어야 합니다.
    </Callout>
  </Collapser>

  <Collapser
    id="compressed_content_encoding"
    title="compressed_content_encoding"
  >
    페이로드에서 데이터 압축 임계값에 도달하면, 에이전트는 기본적으로 gzip 압축을 사용하여 데이터를 압축합니다. deflate 압축을 사용하려면 구성 옵션을`compressed_content_encoding` `deflate`로 설정할 수 있습니다.

    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            문자열
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `gzip`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_COMPRESSED_CONTENT_ENCODING`
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser
    id="apdex"
    title="apdex_t(더 이상 사용되지 않음)"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Number
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `0.100`
          </td>
        </tr>

        <tr>
          <th>
            [서버측 라벨](#server-side)
          </th>

          <td>
            `Apdex T`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_APDEX_T`
          </td>
        </tr>
      </tbody>
    </table>

    [뉴렐릭 UI를 통해](/docs/apm/new-relic-apm/apdex/apdex-measure-user-satisfaction/#apm-apdex) Apdex T를 설정합니다.
  </Collapser>

  <Collapser
    id="certificates"
    title="certificates"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            문자열 배열
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_CERTIFICATES`
          </td>
        </tr>
      </tbody>
    </table>

    SSL 연결의 트러스트를 위한 추가 인증서로, PEM 형식의 문자열 배열로 지정됩니다. 이는 HTTPS 프록시 연결과 뉴렐릭 연결 모두에 영향을 미칩니다.

    <Callout variant="tip">
      파일에서 인증서를 읽도록 에이전트를 구성할 수도 있습니다.

      ```js
      certificates: [ fs.readFileSync('myca.crt', {encoding: 'utf8'}) ]
      ```
    </Callout>
  </Collapser>

  <Collapser
    id="high_security"
    title="high_security"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_HIGH_SECURITY`
          </td>
        </tr>
      </tbody>
    </table>

    `true`로 설정하면 [high security v2](/docs/accounts-partnerships/accounts/security/high-security#version2description)가 활성화됩니다. 또한 [`ssl`](#ssl) 설정을 활성화하고 [UI에서 high security를 활성화](/docs/accounts-partnerships/accounts/security/high-security#version2enabled) 해야 합니다.
  </Collapser>

  <Collapser
    id="host"
    title="호스트"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            문자열
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `collector.newrelic.com`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_HOST`
          </td>
        </tr>
      </tbody>
    </table>

    <Callout variant="important">
      뉴렐릭 지원팀에서 변경을 요청하지 않는 한 이 값을 수정하면 안됩니다.
    </Callout>

    인터넷 연결을 위한 [뉴렐릭 수집기](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#collector)의 호스트명입니다. (예: `host: 'collector.newrelic.com'`)
  </Collapser>

  <Collapser
    id="labels"
    title="labels"
  >
    [태그](/docs/apm/new-relic-apm/maintenance/labels-categories-organize-your-apps-servers)를 추가합니다. 태그를 개체 또는 콜론으로 구분한 쌍을 세미 콜론으로 구분한 문자열(예: `Server:One;Data Center:Primary`)로 지정합니다.

    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            개체 또는 문자열
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            (없음)
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_LABELS`
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser
    id="port"
    title="포트"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            정수
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `443`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_PORT`
          </td>
        </tr>
      </tbody>
    </table>

    <Callout variant="important">
      뉴렐릭 지원팀에서 변경을 요청하지 않는 한 이 값을 수정하면 안됩니다.
    </Callout>

    뉴렐릭 수집기에 연결하기 위한 포트 번호입니다. (예: `port: 443`)
  </Collapser>

  <Collapser
    id="proxy"
    title="프록시"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            문자열
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            (없음)
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_PROXY_URL`
          </td>
        </tr>
      </tbody>
    </table>

    인터넷에 연결하기 위한 프록시 서버를 지정하는 URL입니다. (예: `proxy: 'http://user:pass@10.0.0.1:8000/'`) 중요한 고려사항:

    * `proxy` 구성 파일 설정은 다른 구성 파일 프록시 설정(`proxy_host`, `proxy_port`, `proxy_user`, `proxy_pass`)을 무시합니다. (사용하는 경우) 마찬가지로, `NEW_RELIC_PROXY_URL` 환경 변수는 사용되는 경우 다른 환경 변수 프록시 설정(`NEW_RELIC_PROXY_HOST`, `NEW_RELIC_PROXY_PORT`, `NEW_RELIC_PROXY_USER` 및 `NEW_RELIC_PROXY_PASS`)를 무시합니다.
    * [Infinite Tracing](/docs/distributed-tracing/infinite-tracing/introduction-infinite-tracing)을 사용하는 경우: [Infinite Tracing을 위해 프록시를 구성하는 방법](/docs/distributed-tracing/infinite-tracing/infinite-tracing-configure-proxy-support/#node-php-python-ruby)을 참조하십시오.
  </Collapser>

  <Collapser
    id="proxy_host"
    title="proxy_host"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            문자열
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            (없음)
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_PROXY_HOST`
          </td>
        </tr>
      </tbody>
    </table>

    인터넷에 연결하기 위한 프록시 서버의 호스트명 또는 IP 주소입니다.
  </Collapser>

  <Collapser
    id="proxy_pass"
    title="proxy_pass"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            문자열
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            (없음)
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_PROXY_PASS`
          </td>
        </tr>
      </tbody>
    </table>

    프록시 서버에 인증하기 위한 비밀번호입니다. 에이전트는 기본 HTTP 인증만 지원합니다.
  </Collapser>

  <Collapser
    id="proxy_port"
    title="proxy_port"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            문자열
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            (없음)
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_PROXY_PORT`
          </td>
        </tr>
      </tbody>
    </table>

    인터넷에 연결하기 위한 프록시 서버의 포트 번호입니다.
  </Collapser>

  <Collapser
    id="proxy_user"
    title="proxy_user"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            문자열
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            (없음)
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_PROXY_USER`
          </td>
        </tr>
      </tbody>
    </table>

    프록시 서버에 인증하기 위한 사용자 이름입니다. 에이전트는 기본 HTTP 인증만 지원합니다.
  </Collapser>
</CollapserGroup>

## 로깅 변수 [#logging_config]

이 섹션에서는 앱 `newrelic.js` 설정 파일의 `logging: {` 섹션에 일반적으로 나타나는 순서대로 Node.js 에이전트 변수들에 대해 설명합니다.

<CollapserGroup>
  <Collapser
    id="log-enabled"
    title="활성화"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            문자열
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true` ( `serverless_mode`에서 `false` )
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_LOG_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    에이전트별 로깅을 활성화하거나 비활성화합니다.
  </Collapser>

  <Collapser
    id="log_level"
    title="레벨"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            문자열
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `info`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_LOG_LEVEL`
          </td>
        </tr>
      </tbody>
    </table>

    에이전트 로그에 기록되는 세부 정보 수준을 정의합니다. 가장 낮은 수준에서 가장 높은 수준까지, 가능한 값은 `fatal`, `error`, `warn`, `info`, `debug` 또는 `trace`입니다.

    <Callout variant="caution">
      뉴렐릭 지원팀에서 사용을 요청하지 않는 한 `debug` 또는 `trace` 로깅을 사용하지 마시기 바랍니다. 이러한 수준의 로깅은 과도한 오버헤드를 생성할 수 있습니다. 대부분의 경우에서, `info`를 사용합니다.
    </Callout>
  </Collapser>

  <Collapser
    id="log"
    title="filepath"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            문자열
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `process.cwd()` plus `newrelic_agent.log`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_LOG`
          </td>
        </tr>
      </tbody>
    </table>

    파일 이름을 포함하는 뉴렐릭 에이전트 로그의 전체 경로입니다. 기본값은 `filepath: require('path').join(process.cwd(), 'newrelic_agent.log')`입니다. 에이전트는 이 파일을 생성할 수 없는 경우 프로세스를 종료합니다. 에이전트는 상위 Node.js 에이전트 프로세스와 동일한 권한으로 로그 파일을 생성합니다.

    * 모든 로깅을

      <DNT>
        **stdout**
      </DNT>

      에 쓰려면 이를 `stdout` 로 설정합니다.

    * 모든 로깅을

      <DNT>
        **stderr**
      </DNT>

      에 쓰려면 이를 `stderr` 로 설정합니다.
  </Collapser>
</CollapserGroup>

## AI 모니터링 [#ai-monitoring]

이 섹션에는 AI 모니터링 설정을 위한 Node.js 에이전트 구성을 설명합니다.

<Callout variant="important">
  AI 데이터를 캡처하려면 [분산 추적](/docs/apm/agents/nodejs-agent/installation-configuration/nodejs-agent-configuration/#dt-main)을 활성화해야 합니다. Node.js 에이전트 8.3.0 이상에서는 기본적으로 활성화되어 있습니다. high security 모드를 활성화한 경우 AI 모니터링이 작동하지 않습니다.
</Callout>

<CollapserGroup>
  <Collapser
    id="ai-monitoring-enabled"
    title="ai_monitoring.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_AI_MONITORING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    `true`로 설정하면 AI 모니터링이 활성화됩니다. 에이전트가 LLM 이벤트 데이터를 캡처할 수 있도록 허용합니다.
  </Collapser>

  <Collapser
    id="ai-monitoring-streaming"
    title="ai_monitoring.streaming.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_AI_MONITORING_STREAMING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    `false`로 설정하면 스트리밍된 LLM 데이터에 대한 계측이 비활성화됩니다. `true`로 설정하면 LLM 이벤트에 대한 스트리밍 데이터를 캡처합니다.
  </Collapser>

  <Collapser
    id="ai-monitoring-record-content"
    title="ai_monitoring.record_content.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_AI_MONITORING_RECORD_CONTENT_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    `false`로 설정하면 에이전트는 LLM 이벤트에서 캡처된 입력 및 출력 콘텐츠(예: 프롬프트 및 응답의 텍스트 문자열)를 생략합니다. LLM과 송수신되는 민감한 데이터를 기록하지 않으려는 경우 선택할 수 있는 보안 설정입니다.
  </Collapser>
</CollapserGroup>

## 감사 로깅 [#audit_log]

이 섹션에서는 앱 `newrelic.js` 설정 파일의 `audit_log: {` 섹션에 일반적으로 나타나는 순서대로 Node.js 에이전트 변수들에 대해 설명합니다.

<CollapserGroup>
  <Collapser
    id="audit_log-enabled"
    title="활성화"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_AUDIT_LOG_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    활성화되면 에이전트는 수집기로 보내지는 페이로드를 로깅합니다. 이 데이터는 로깅 수준이 가장 낮은 수준으로 설정된 경우에도 기본 로그 파일에 포함됩니다.
  </Collapser>

  <Collapser
    id="endpoints"
    title="엔드포인트"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `[]` (모든 유형 포함)
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_AUDIT_LOG_ENDPOINTS`
          </td>
        </tr>
      </tbody>
    </table>

    에이전트는 여러 가지 유형의 데이터를 별도의 페이로드로 수집기에 보냅니다. 기본적으로 모든 항목은 로그 파일에 포함됩니다. 이 옵션을 사용하면 특정 유형의 데이터만 로깅하도록 제한할 수 있습니다.

    유효한 값은 다음과 같습니다.

    * `agent_settings`
    * `analytic_event_data`
    * `connect`
    * `custom_event_data`
    * `error_data`
    * `error_event_data`
    * `metric_data`
    * `preconnect`
    * `shutdown`
    * `span_event_data`
    * `sql_trace_data`
    * `transaction_sample_data`
  </Collapser>
</CollapserGroup>

## API 설정 [#api_config]

이 섹션에서는 활성화할 API 메서드를 선택할 수 있습니다. 각 구성 옵션을 사용하면 커스텀 정보를 뉴렐릭으로 전송하는 API 메서드를 모듈 방식으로 활성화할 수 있습니다.

<Callout variant="important">
  에이전트가 high security 모드에 있으면, 모두 `false`로 설정됩니다.
</Callout>

<CollapserGroup>
  <Collapser
    id="custom-attributes"
    title="custom_attributes_enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_API_CUSTOM_ATTRIBUTES`
          </td>
        </tr>
      </tbody>
    </table>

    이 옵션은 [`newrelic.addCustomAttribute`](/docs/agents/nodejs-agent/supported-features/nodejs-agent-api#add-custom-param) 및 [`newrelic.addCustomAttributes`](/docs/agents/nodejs-agent/supported-features/nodejs-agent-api#add-custom-params)를 활성화합니다.
  </Collapser>

  <Collapser
    id="custom-events"
    title="custom_events_enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_API_CUSTOM_EVENTS`
          </td>
        </tr>
      </tbody>
    </table>

    이 옵션은 [`recordCustomEvent`](/docs/agents/nodejs-agent/supported-features/nodejs-agent-api#record_custom_event)를 활성화합니다.
  </Collapser>

  <Collapser
    id="notice-error"
    title="notice_error_enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_API_NOTICE_ERROR`
          </td>
        </tr>
      </tbody>
    </table>

    이 옵션은 [`newrelic.noticeError`](/docs/apm/agents/nodejs-agent/api-guides/nodejs-agent-api/#noticeError)를 활성화합니다.
  </Collapser>
</CollapserGroup>

## 속성 [#node-js-attributes]

이 섹션에서는 앱 `newrelic.js` 설정 파일의 `attributes: {` 섹션에 일반적으로 나타나는 순서대로 [Node.js 에이전트 속성](/docs/agents/nodejs-agent/attributes/nodejs-agent-attributes) 변수들에 대해 설명합니다.

<Callout variant="caution">
  필터링하려면 헤더 관련 포함/제외 규칙이 camelCase 형식으로 되어 있어야 합니다.
</Callout>

<CollapserGroup>
  <Collapser
    id="attributes_enabled"
    title="활성화"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_ATTRIBUTES_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    `true`인 경우 모든 대상에 대한 속성 캡처를 활성화합니다.
  </Collapser>

  <Collapser
    id="attributes_exclude"
    title="exclude"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_ATTRIBUTES_EXCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    모든 대상에서 제외할 속성의 접두사입니다. 끝에 `*`를 와일드카드로 허용합니다.
  </Collapser>

  <Collapser
    id="attributes_include"
    title="include"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_ATTRIBUTES_INCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    모든 대상에서 포함할 속성의 접두사입니다. 끝에 `*`를 와일드카드로 허용합니다.
  </Collapser>

  <Collapser
    id="attributes_include_enabled"
    title="include_enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_ATTRIBUTES_INCLUDE_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    `true`인 경우 패턴이 [`attributes.include`](/docs/agents/nodejs-agent/attributes/nodejs-agent-attributes#cfg-attributes-include) 목록에 추가될 수 있습니다.
  </Collapser>
</CollapserGroup>

## 오류 수집기 변수 [#error_config]

뉴렐릭에서 [오류 처리 방법을 관리](/docs/agents/manage-apm-agents/agent-data/manage-errors-apm-collect-ignore-mark-expected)할 수 있습니다. 이 섹션에서는 앱의 `newrelic.js` 설정 파일의 `error_collector: {` 섹션에 일반적으로 나타나는 순서대로 Node.js 에이전트 변수들에 대해 설명합니다.

<CollapserGroup>
  <Collapser
    id="error_collector"
    title="활성화"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_ENABLED`
          </td>
        </tr>

        <tr>
          <th>
            [서버측 라벨](#server-side)
          </th>

          <td>
            `Enable error collection?`
          </td>
        </tr>
      </tbody>
    </table>

    활성화되면 에이전트는 앱에서 [오류 트레이스](/docs/apm/applications-menu/events/viewing-apm-errors-error-traces)를 수집합니다.
  </Collapser>

  <Collapser
    id="error_ignore"
    title="ignore_status_codes"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            정수 배열
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `[404]`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_IGNORE_ERROR_CODES`
          </td>
        </tr>

        <tr>
          <th>
            [서버측 라벨](#server-side)
          </th>

          <td>
            `Ignore these status codes`
          </td>
        </tr>
      </tbody>
    </table>

    오류 수집기가 무시할 HTTP 상태 코드를 쉼표로 구분한 목록입니다.

    <Callout variant="caution">
      [`newrelic.noticeError()`](/docs/apm/agents/nodejs-agent/api-guides/nodejs-agent-api/#noticeError)를 사용하여 기록된 오류는 이 설정 값을 따르지 않습니다.
    </Callout>
  </Collapser>

  <Collapser
    id="error_ignore_classes"
    title="ignore_classes"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array|Object
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_IGNORE_ERRORS`
          </td>
        </tr>
      </tbody>
    </table>

    오류 수집기가 무시할 자바스크립트 오류 코드를 쉼표로 구분한 목록입니다.

    구성

    ```js
    error_collector: {
        /* ... */
        ignore_classes: ["ReferenceError"]
    }
    ```

    모든 레퍼런스 오류를 무시합니다.

    <Callout variant="caution">
      [`newrelic.noticeError()`](/docs/apm/agents/nodejs-agent/api-guides/nodejs-agent-api/#noticeError)를 사용하여 기록된 오류는 이 설정 값을 따르지 않습니다.
    </Callout>
  </Collapser>

  <Collapser
    id="error_ignore_messages"
    title="ignore_messages"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Object
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `{}`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_IGNORE_MESSAGES`
          </td>
        </tr>
      </tbody>
    </table>

    수집기가 무시할 오류 메시지와 관련된 클래스 목록을 설명하는 JavaScript 개체입니다. 다음 설정을 하면 `Undefined` 및 `Out of time`의 정확한(대소문자 구분) 메시지 문자열을 포함하는 `Error` 유형의 모든 오류가 무시됩니다.

    ```js
    error_collector: {
        /* ... */
        ignore_messages: {"Error":["Undefined", "Out of time"]}
    }
    ```

    `Undefined` 및 `Out of time` 의 정확한(대소문자 구분) 메시지 문자열을 사용하여 `Error` 유형의 모든 오류를 무시합니다.

    <Callout variant="caution">
      [`newrelic.noticeError()`](/docs/apm/agents/nodejs-agent/api-guides/nodejs-agent-api/#noticeError)를 사용하여 기록된 오류는 이 설정 값을 따르지 않습니다.
    </Callout>
  </Collapser>

  <Collapser
    id="expected_status_codes"
    title="expected_status_codes"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            정수 배열
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_EXPECTED_ERROR_CODES`
          </td>
        </tr>
      </tbody>
    </table>

    오류 수집기가 예상대로 표시할 HTTP 상태 코드를 쉼표로 구분한 목록입니다.

    <Callout variant="caution">
      [`newrelic.noticeError()`](/docs/apm/agents/nodejs-agent/api-guides/nodejs-agent-api/#noticeError)를 사용하여 기록된 오류는 이 설정 값을 따르지 않습니다.
    </Callout>
  </Collapser>

  <Collapser
    id="expected_classes"
    title="expected_classes"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_EXPECTED_ERRORS`
          </td>
        </tr>
      </tbody>
    </table>

    구성

    ```js
    error_collector: {
        /* ... */
        expected_classes: ["ReferenceError"]
    }
    ```

    모든 레퍼런스 오류를 예상대로 표시합니다.

    <Callout variant="caution">
      [`newrelic.noticeError()`](/docs/apm/agents/nodejs-agent/api-guides/nodejs-agent-api/#noticeError)를 사용하여 기록된 오류는 이 설정 값을 따르지 않습니다.
    </Callout>
  </Collapser>

  <Collapser
    id="expected_messages"
    title="expected_messages"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Object
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `{}`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_EXPECTED_MESSAGES`
          </td>
        </tr>
      </tbody>
    </table>

    자바스크립트 개체로, 수집기가 무시할 자바스크립트 오류 메시지와 연결된 자바스크립트 클래스 목록을 설명합니다. 구성

    ```js
    error_collector: {
        /* ... */
        expected_messages: {"Error":["Undefined", "Out of time"]}
    }
    ```

    `Undefined` 및 `Out of time` 의 정확한(대소문자 구분) 메시지 문자열을 사용하여 `Error` 유형의 모든 오류를 표시합니다.

    <Callout variant="caution">
      [`newrelic.noticeError()`](/docs/apm/agents/nodejs-agent/api-guides/nodejs-agent-api/#noticeError)를 사용하여 기록된 오류는 이 설정 값을 따르지 않습니다.
    </Callout>
  </Collapser>

  <Collapser
    id="error_attributes_enabled"
    title="attributes.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_ATTRIBUTES_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    `true`인 경우 에이전트는 오류 수집에서 속성을 캡처합니다.

    <Callout variant="caution">
      필터링하려면 헤더 관련 포함/제외 규칙이 camelCase 형식으로 되어 있어야 합니다.
    </Callout>
  </Collapser>

  <Collapser
    id="error_attributes_exclude"
    title="attributes.exclude"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_ATTRIBUTES_EXCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    오류 수집에서 제외할 속성의 접두사입니다. 끝에 `*`를 와일드카드로 허용합니다.
  </Collapser>

  <Collapser
    id="error_attributes_include"
    title="attributes.include"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_ATTRIBUTES_INCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    오류 수집에 포함할 속성의 접두사입니다. 끝에 `*`를 와일드카드로 허용합니다.
  </Collapser>
</CollapserGroup>

<CollapserGroup>
  <Collapser
    id="error_max_event_samples_stored"
    title="max_event_samples_stored"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            정수
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `100`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_ERROR_COLLECTOR_MAX_EVENT_SAMPLES_STORED`
          </td>
        </tr>
      </tbody>
    </table>

    에이전트가 분당 수집하는 이벤트의 최대 수를 정의합니다. 이 숫자보다 많은 경우 에이전트는 통계 샘플링을 수집합니다.
  </Collapser>
</CollapserGroup>

## 트랜잭션 트레이서 변수 [#tx_tracer_config]

에이전트는 요청을 [트랜잭션](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#transaction)으로 그룹화하며, 트랜잭션은 다음에 사용됩니다.

* 앱에서 시간이 소모되는 위치를 시각화합니다.(트랜잭션 분석에서)
* 느린 요청을 식별합니다.
* 메트릭을 그룹화합니다.
* [데이터베이스 성능](/docs/apm/applications-menu/monitoring/databases-slow-queries-dashboard) 저하와 같은 다른 문제를 격리합니다.

이 섹션에서는 앱 `newrelic.js` 설정 파일의 `transaction_tracer: {` 섹션에 일반적으로 나타나는 순서대로 Node.js 에이전트 변수들에 대해 설명합니다.

<Callout variant="important">
  트랜잭션 이름 끝에 대괄호 `[suffix]`를 사용하지 마십시오. 뉴렐릭은 자동으로 이름에서 괄호를 제거합니다. 대신 필요한 경우 괄호 `(suffix)` 또는 기타 기호를 사용합니다.
</Callout>

<CollapserGroup>
  <Collapser
    id="tracer_enabled"
    title="활성화"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_TRACER_ENABLED`
          </td>
        </tr>

        <tr>
          <th>
            [서버측 라벨](#server-side)
          </th>

          <td>
            `Enable transaction tracing?`
          </td>
        </tr>
      </tbody>
    </table>

    활성화되면 에이전트는 느린 [트랜잭션 트레이스](/docs/apm/transactions/transaction-traces/transaction-traces)를 수집합니다.
  </Collapser>

  <Collapser
    id="explain_threshold"
    title="explain_threshold"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            정수
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `500`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_EXPLAIN_THRESHOLD`
          </td>
        </tr>
      </tbody>
    </table>

    트랜잭션이 [트랜잭션 트레이스](/docs/apm/transactions/transaction-traces/transaction-traces)에서 [느린 쿼리](/docs/apm/applications-menu/monitoring/viewing-slow-query-details)에 해당되도록 하는 최소 쿼리 기간(밀리초)입니다.
  </Collapser>

  <Collapser
    id="record-sql"
    title="record_sql"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            문자열(`obfuscated`, `off` 또는 `raw`)
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `obfuscated`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_RECORD_SQL`
          </td>
        </tr>
      </tbody>
    </table>

    이 옵션은 [느린 쿼리](#slow-queries)와 트랜잭션 트레이스를 위한 `record_sql` 모두에 영향을 미칩니다. `off`, `obfuscated` 또는 `raw` 값을 가질 수 있습니다.

    `off`로 설정하면 느린 쿼리가 캡처되지 않으며, 역추적 및 SQL이 트랜잭션 트레이스에 포함되지 않습니다. `raw` 또는 `obfuscated`로 설정하면 에이전트가 원시 또는 난독화된 SQL과 느린 쿼리 샘플을 [수집기](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#collector)로 보냅니다. `slow_sql.enabled`가 설정된 경우와 같이 다른 기준이 충족되면 에이전트는 SQL을 보낼 수도 있습니다.
  </Collapser>

  <Collapser
    id="tracer_top"
    title="top_n"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            정수
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `20`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_TRACER_TOP_N`
          </td>
        </tr>
      </tbody>
    </table>

    [트랜잭션 트레이스](/docs/apm/transactions/transaction-traces/transaction-traces)에 해당되는 최대 요청 수를 정의합니다.

    트랜잭션은 요청에 기반해 명명되며, `top_n`는 이러한 이름으로 그룹화된 "가장 느린 n개의 트랜잭션"을 의미합니다. 모듈은 새 트레이스가 해당 이름의 이전 가장 느린 트레이스보다 느린 경우에만 기록된 트레이스를 새 트레이스로 교체합니다. 이 설정의 기본값은 `top_n: 20`입니다. 왜냐하면 [<DNT>**Transactions**</DNT> 페이지](/docs/apm/transactions/transaction-traces/transaction-traces)도 기본적으로 가장 느린 트랜잭션 20개로 설정되어 있기 때문입니다.

    Node.js 에이전트는 시작 후 첫 번째 하베스트 주기에서 최소 5개의 서로 다른 느린 트랜잭션을 캡처합니다. 또한 지난 5번의 [하베스트 주기](/docs/apm/new-relic-apm/getting-started/glossary#harvest-cycle)에서 느린 트랜잭션이 캡처되지 않은 경우 다른 트랜잭션을 재설정하고 캡처합니다. 이는 해당 하베스트 주기에서 가장 느린 요청에 중점을 두지 않고도 앱의 요청 경로에 대해 보다 자세한 정보를 확인할 수 있도록 합니다.

    <Callout variant="tip">
      마지막 순간에 가장 느린 트랜잭션을 기록하려면 `top_n: 0` 또는 `top_n: 1`을 설정할 수 있습니다. 그러나 그러면 매우 느린 경로가 트랜잭션 트레이스를 지배하게 됩니다.
    </Callout>
  </Collapser>

  <Collapser
    id="tracer_threshold"
    title="transaction_threshold"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            정수 또는 `apdex_f`
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `apdex_f`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_TRACER_THRESHOLD`
          </td>
        </tr>

        <tr>
          <th>
            [서버측 라벨](#server-side)
          </th>

          <td>
            `Threshold`
          </td>
        </tr>
      </tbody>
    </table>

    [트랜잭션 트레이스](/docs/apm/transactions/transaction-traces/transaction-traces)가 느린 것으로 간주되는 시간(초)을 설정합니다. 기본값은 `apdex_f`입니다. 이것은 트레이스의 임계값을 애플리케이션 [Apdex T](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#apdex_t)값의 4배로 설정합니다. 숫자가 제공되면 초 단위로 설정됩니다.

    기본 설정된 `apdex_t`는 500밀리초입니다. 트랜잭션 임계값이 `apdex_f`로 설정된 경우 "느린" 트랜잭션은 2초입니다.
  </Collapser>

  <Collapser
    id="hide-attributes-enabled"
    title="attributes.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_TRACER_ATTRIBUTES_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    `true`인 경우 에이전트는 트랜잭션 트레이스의 속성을 캡처합니다.

    <Callout variant="caution">
      필터링하려면 헤더 관련 포함/제외 규칙이 camelCase 형식으로 되어 있어야 합니다.
    </Callout>
  </Collapser>

  <Collapser
    id="hide-attributes-exclude"
    title="attributes.exclude"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_TRACER_ATTRIBUTES_EXCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    트랜잭션에서 제외할 속성의 접두사입니다. 끝에 `*`를 와일드카드로 허용합니다.
  </Collapser>

  <Collapser
    id="hide-attributes-include"
    title="attributes.include"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_TRACER_ATTRIBUTES_INCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    트랜잭션 트레이스에 포함할 속성의 접두사입니다. 끝에 `*`를 와일드카드로 허용합니다.
  </Collapser>
</CollapserGroup>

## 규칙 변수 [#rules_config]

이 섹션에서는 앱 `newrelic.js` 설정 파일의 `rules: {` 섹션에 일반적으로 나타나는 순서대로 Node.js 에이전트 변수들에 대해 설명합니다.

<CollapserGroup>
  <Collapser
    id="rules_names"
    title="이름"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            문자열 또는 정규식
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_NAMING_RULES`
          </td>
        </tr>
      </tbody>
    </table>

    들어오는 요청 URL과 관련된 뉴렐릭 트랜잭션의 이름을 매치하는 규칙 목록으로 쉼표로 구분되어 있습니다. 사용 형식:

    ```js
    name: [
        { pattern: 'STRING_OR_REGEX', name: 'NAME' },
        { pattern: 'STRING_OR_REGEX', name: 'NAME' }
    ]
    ```

    두 파라미터가 모두 필요합니다. 문자열의 경우 제어 문자를 이스케이프 처리해야 합니다. 정규식에서는 제어 문자를 이스케이프 처리할 필요가 없습니다. 추가 속성은 무시됩니다.

    정규식은 JavaScript 스타일 캡처 그룹을 지원하고 이름은 `$1` 스타일의 대체 문자열을 사용합니다. 정규식은 매치하는 첫 번째 결과만 찾습니다. 이후 매치는 무시됩니다. 자세한 내용은 [Node.js 트랜잭션 이름 지정 API](/docs/agents/nodejs-agent/api-guides/nodejs-agent-api#ignoring)를 참조하십시오.

    `NEW_RELIC_NAMING_RULES` 환경 변수의 경우 규칙을 쉼표로 구분된 JSON 개체 리터럴로 전달합니다.

    ```ini
    NEW_RELIC_NAMING_RULES='{"pattern":"^t","name":"u"},{"pattern":"^u","name":"t"}'
    ```
  </Collapser>

  <Collapser
    id="rules_ignore"
    title="ignore"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            문자열 또는 정규식
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `['^/socket.io/.*/xhr-polling/']`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_IGNORING_RULES`
          </td>
        </tr>
      </tbody>
    </table>

    에이전트가 무시할 요청 URL 목록을 정의합니다. 목록을 패턴(문자열 또는 정규식)으로 지정합니다. 기본값은 Socket.io 롱 폴링 요청과 매치하는 정규식입니다.
  </Collapser>

  <Collapser
    id="enforce_backstop"
    title="enforce_backstop"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_ENFORCE_BACKSTOP`
          </td>
        </tr>
      </tbody>
    </table>

    <Callout variant="caution">
      [메트릭 그룹화 문제](/docs/features/metric-grouping-issues)에 대해 잘 알지 못하는 경우에는 이 설정을 변경하지 마십시오.
    </Callout>

    활성화되면 에이전트는 트랜잭션의 이름을 다른 명명 논리(예: API, 규칙 또는 메트릭 정규화 규칙)의 영향을 받지 않도록 `NormalizedUri/*`로 바꿉니다. 이를 `false`로 설정하면 에이전트는 트랜잭션 이름을 `Uri/path/to/resource`로 설정합니다.
  </Collapser>
</CollapserGroup>

## 트랜잭션 이벤트 변수 [#tx_events]

이 섹션에서는 앱 `newrelic.js` 설정 파일의 `transaction_events: {` 섹션에 일반적으로 나타나는 순서대로 Node.js 에이전트 변수들에 대해 설명합니다.

<CollapserGroup>
  <Collapser
    id="tx_events_enabled"
    title="활성화"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_EVENTS_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    활성화되면 에이전트는 트랜잭션 이벤트를 뉴렐릭으로 보냅니다. 이 이벤트 데이터에는 트랜잭션 타이밍, 트랜잭션 이름 및 기타 커스텀 속성이 포함됩니다. 이 기능이 비활성화되면 에이전트는 이 데이터를 수집하거나 뉴렐릭으로 보내지 않습니다.
  </Collapser>

  <Collapser
    id="tx_events_max_samples_stored"
    title="max_samples_stored"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            정수
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `10000`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_EVENTS_MAX_SAMPLES_STORED`
          </td>
        </tr>
      </tbody>
    </table>

    에이전트가 분당 수집하는 이벤트의 최대 수를 정의합니다. 이 숫자보다 많은 경우 에이전트는 통계 샘플링을 수집합니다.

    10,000을 초과하지 않는 것이 좋습니다. 서버는 데이터를 분당 10,000으로 제한합니다.

    <Callout variant="important">
      이 설정은 에이전트 6.0.0 미만 버전에서 다른 동작을 행했습니다. 에이전트 버전 5.x 이하의 경우 [`max_samples_stored`(지원 중단됨)](#tx_events_max_samples_stored_legacy)를 참조하십시오.
    </Callout>
  </Collapser>

  <Collapser
    id="tx_events_max_samples_stored_legacy"
    title="max_samples_stored(더 이상 사용되지 않음)"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            정수
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `20000`
          </td>
        </tr>
      </tbody>
    </table>

    에이전트가 [뉴렐릭 수집기](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#collector) 와 통신할 수 없는 경우 에이전트가 저장하는 최대 이벤트 수를 정의합니다. 이전 [하베스트 주기](/docs/accounts-partnerships/education/getting-started-new-relic/glossary#harvest-cycle)의 값은 다음 주기로 병합되며, 이 옵션은 최대 개수를 제한합니다. 이 숫자가 `max_samples_per_minute` 보다 커야 합니다. 예를 들어 두 배로 설정할 수 있습니다. 이 값을 늘리기 전에 메모리 오버헤드를 고려하시기 바랍니다.

    <Callout variant="caution">
      이 설정은 에이전트 버전 6.0.0부터 다르게 동작하며 권장 최대값이 다릅니다. 에이전트 버전 6.x 이상은 [`max_samples_stored`](#tx_events_max_samples_stored) 참조하십시오.
    </Callout>
  </Collapser>

  <Collapser
    id="tx_events_max_samples_per_minute"
    title="max_samples_per_min(더 이상 사용되지 않음)"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            정수
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `10000`
          </td>
        </tr>
      </tbody>
    </table>

    에이전트가 분당 수집하는 이벤트의 최대 수를 정의합니다. 이 숫자보다 많은 경우 에이전트는 통계 샘플링을 수집합니다.

    <Callout variant="caution">
      이 설정은 에이전트 버전 6.0.0부터 `max_samples_stored`로 대체되었습니다. 6.x 이상의 에이전트는 [`max_samples_stored`](#tx_events_max_samples_stored)를 참조하십시오.
    </Callout>
  </Collapser>

  <Collapser
    id="tx-attributes-enabled"
    title="attributes.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_EVENTS_ATTRIBUTES_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    `true`인 경우 에이전트는 트랜잭션 이벤트에서 속성을 캡처합니다.

    <Callout variant="caution">
      필터링하려면 헤더 관련 포함/제외 규칙이 camelCase 형식으로 되어 있어야 합니다.
    </Callout>
  </Collapser>

  <Collapser
    id="tx-attributes-exclude"
    title="attributes.exclude"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_EVENTS_ATTRIBUTES_EXCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    트랜잭션 이벤트에서 제외할 속성의 접두사입니다. 끝에 `*`를 와일드카드로 허용합니다.
  </Collapser>

  <Collapser
    id="tx-attributes-include"
    title="attributes.include"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_TRANSACTION_EVENTS_ATTRIBUTES_INCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    트랜잭션 이벤트에 포함할 속성의 접두사입니다. 끝에 `*`를 와일드카드로 허용합니다.
  </Collapser>
</CollapserGroup>

## 브라우저 모니터링 변수 [#browser-variables]

이 섹션에서는 앱 `newrelic.js` 설정 파일의 `browser_monitoring: {` 섹션에 일반적으로 나타나는 순서대로 Node.js 에이전트 변수들에 대해 설명합니다.

<CollapserGroup>
  <Collapser
    id="browser"
    title="enable"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_BROWSER_MONITOR_ENABLE`
          </td>
        </tr>

        <tr>
          <th>
            [서버측 라벨](#server-side)
          </th>

          <td>
            `Enable browser monitoring?`
          </td>
        </tr>
      </tbody>
    </table>

    브라우저 계측을 위한 JavaScript 헤더를 생성합니다. `true`로 설정된 경우 [<InlinePopover type="browser"/>수동으로 활성화](/docs/browser/new-relic-browser/installation-configuration/adding-apps-new-relic-browser)하지 않는 한 에이전트는 브라우저 JS 코드를 자동으로 삽입하지 않습니다. 이를 활성화하고 [브라우저 타이밍 헤더를 추가한](/docs/agents/nodejs-agent/supported-features/page-load-timing-nodejs#procedures) 경우에도 이를 `false`로 설정하면 [앱에 대한 브라우저 모니터링을 비활성화](/docs/agents/nodejs-agent/supported-features/page-load-timing-nodejs#disabling) 할 수 있습니다.
  </Collapser>

  <Collapser
    id="browser-debug"
    title="디버깅"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_BROWSER_MONITOR_DEBUG`
          </td>
        </tr>
      </tbody>
    </table>

    `true`인 경우 서버에서 축소되지 않은 소스를 요청합니다.
  </Collapser>

  <Collapser
    id="browser-debug-enabled"
    title="attributes.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_BROWSER_MONITORING_ATTRIBUTES_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    `true`인 경우 에이전트는 브라우저 모니터링에 커스텀 속성을 보냅니다.

    <Callout variant="caution">
      필터링하려면 헤더 관련 포함/제외 규칙이 camelCase 형식으로 되어 있어야 합니다.
    </Callout>
  </Collapser>

  <Collapser
    id="browser-debug-exclude"
    title="attributes.exclude"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_BROWSER_MONITORING_ATTRIBUTES_EXCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    브라우저 모니터링에서 제외할 속성의 접두사입니다. 끝에 `*`를 와일드카드로 허용합니다.
  </Collapser>

  <Collapser
    id="browser-debug-include"
    title="attributes.include"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_BROWSER_MONITORING_ATTRIBUTES_INCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    브라우저 모니터링에 포함할 속성의 접두사입니다. 끝에 `*`를 와일드카드로 허용합니다.
  </Collapser>
</CollapserGroup>

## 커스텀 이벤트 변수 [#custom_events]

이 섹션에서는 앱 `newrelic.js` 설정 파일의 `custom_insights_events: {` 섹션에 일반적으로 나타나는 순서대로 Node.js 에이전트 변수들에 대해 설명합니다.

<CollapserGroup>
  <Collapser
    id="custom_events_enabled"
    title="활성화"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_CUSTOM_INSIGHTS_EVENTS_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    활성화되면 에이전트는 [`recordCustomEvent()`](/docs/agents/nodejs-agent/supported-features/nodejs-agent-api#custom-events-api)로 기록된 커스텀 이벤트를 [뉴렐릭](/docs/insights/new-relic-insights/adding-querying-data/inserting-custom-events-insights-api)으로 보냅니다. 이 기능이 비활성화되면 에이전트는 이 데이터를 수집하거나 뉴렐릭으로 보내지 않습니다.
  </Collapser>

  <Collapser
    id="custom_events_max_samples_stored"
    title="max_samples_stored"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            정수
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `3000`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_CUSTOM_INSIGHTS_EVENTS_MAX_SAMPLES_STORED`
          </td>
        </tr>
      </tbody>
    </table>

    * 에이전트가 분당 수집하는 커스텀 이벤트의 최대 수를 정의합니다. 커스텀 이벤트의 수가 이 한도를 초과하는 경우 에이전트는 통계 샘플링을 수집합니다.

    * [AI 모니터링](/docs/ai-monitoring/intro-to-ai-monitoring)을 위해 에이전트를 구성할 때 최대값을 `100000`으로 설정합니다. 최대 LLM 이벤트 양이 캡처되도록 합니다.

      <Callout variant="important">
        이 한도를 늘리면 메모리 사용량이 늘어날 수 있습니다.
      </Callout>
  </Collapser>
</CollapserGroup>

## 느린 쿼리 변수 [#slow-queries]

이 섹션에서는 앱의 `newrelic.js` 설정 파일의 `slow_sql: {` 섹션에 일반적으로 나타나는 순서대로 Node.js 에이전트 변수들에 대해 설명합니다. 이러한 옵션은 느린 쿼리의 동작을 제어하지만, 트랜잭션 트레이스의 SQL 노드에는 영향을 주지 않습니다.

<CollapserGroup>
  <Collapser
    id="slow-sql-enabled"
    title="활성화"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_SLOW_SQL_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    활성화되면 에이전트는 [느린 쿼리 세부정보](/docs/apm/applications-menu/monitoring/viewing-slow-query-details)를 수집합니다.
  </Collapser>

  <Collapser
    id="slow-sql-max-samples"
    title="max_samples"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            정수
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `10`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_MAX_SQL_SAMPLES`
          </td>
        </tr>
      </tbody>
    </table>

    에이전트가 분당 수집하는 느린 쿼리의 최대 수를 정의합니다. 에이전트는 한도에 도달한 후 추가 쿼리를 삭제합니다.

    <Callout variant="important">
      이 한도를 늘리면 메모리 사용량이 늘어날 수 있습니다.
    </Callout>
  </Collapser>
</CollapserGroup>

## 커스텀 호스트네임 변수 [#custom-hostnames]

이 섹션에서는 앱의 `newrelic.js` 설정 파일의 `process_host: {` 섹션에 일반적으로 나타나는 순서대로 Node.js 에이전트 변수들에 대해 설명합니다. 이러한 옵션은 APM UI의 호스트 표시 이름과 관련된 동작을 제어합니다.

<CollapserGroup>
  <Collapser
    id="custom-hostnames-display"
    title="display_name"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            255바이트 이하의 문자열
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            (없음)
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_PROCESS_HOST_DISPLAY_NAME`
          </td>
        </tr>
      </tbody>
    </table>

    [뉴렐릭에 표시할](/docs/apm/new-relic-apm/maintenance/add-rename-remove-hosts#display_name) 커스텀 호스트명을 지정합니다. 이 필드를 설정하지 않으면 뉴렐릭은 `os.hostname()`을 호출하여 발견된 기본 호스트명을 계속 사용합니다.

    * 기본 호스트명 설정을 사용하는 경우 뉴렐릭은 `os.hostname()`을 통해 호스트명을 찾습니다.
    * 이 호출이 실패하면 뉴렐릭은 호스트의 IP를 이름으로 사용합니다.
    * `ipv_preference: 4` 또는 `ipv_preference: 6`을 설정하면 뉴렐릭 UI 에 표시되는 IP 주소 유형(IPv4 또는 IPv6)을 선택할 수 있습니다.
  </Collapser>

  <Collapser
    id="custom-hostnames-ipv"
    title="ipv_preference"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            정수(`4` 또는 `6`)
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `4`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_IPV_PREFERENCE`
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## 데이터스토어어 트레이서 변수 [#datastore-tracer]

이 섹션에서는 앱 `newrelic.js` 설정 파일의 `datastore_tracer` 섹션에 일반적으로 나타나는 순서대로 Node.js 에이전트 변수들에 대해 설명합니다. 이러한 옵션은 데이터스토어 인스턴스 메트릭 수집에 대한 동작을 제어합니다.

<CollapserGroup>
  <Collapser
    id="datastore-instance-enabled"
    title="instance_reporting.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_DATASTORE_INSTANCE_REPORTING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    활성화되면 에이전트는 [일부 데이터베이스 드라이버](/docs/agents/nodejs-agent/supported-features/nodejs-instance-level-database-information)에 대해 데이터스토어 인스턴스 메트릭(예: 호스트 및 포트)을 수집합니다. 이러한 메트릭은 트랜잭션 트레이스 및 느린 쿼리 트레이스에 보고됩니다.
  </Collapser>

  <Collapser
    id="datastore-name-enabled"
    title="database_name_reporting.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_DATASTORE_DATABASE_NAME_REPORTING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    활성화되면 에이전트는 [일부 데이터베이스 드라이버](/docs/agents/nodejs-agent/supported-features/nodejs-instance-level-database-information)의 데이터베이스 트레이스와 느린 쿼리 트레이스에서 데이터베이스 이름을 수집합니다.
  </Collapser>
</CollapserGroup>

## 애플리케이션 간 추적(더 이상 사용되지 않음) [#cross-app-tracing]

[애플리케이션 간 추적](/docs/apm/transactions/cross-application-traces/introduction-cross-application-traces)을 제어하는 Node.js 에이전트 변수는 일반적으로 앱 `newrelic.js` 설정 파일의 `cross_application_tracer` 섹션에 표시됩니다.

<Callout variant="important">
  애플리케이션 간 추적은 향후 에이전트 버전부터 더 이상 사용되지 않으며 대신 [분산 추적](/docs/enable-distributed-tracing) 기능을 사용할 수 있습니다.
</Callout>

<CollapserGroup>
  <Collapser
    id="cat-enabled"
    title="활성화"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_CROSS_APPLICATION_TRACER_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    `true`로 설정하면 뉴렐릭으로 모니터링 되는 둘 이상의 애플리케이션에서 트랜잭션 추적이 허용됩니다.
  </Collapser>
</CollapserGroup>

<Callout variant="important">
  애플리케이션 간 추적(CAT)은 더 이상 사용되지 않으며 향후 주요 릴리스에서 제거될 예정입니다. 에이전트 버전 8.3.0부터 기본적으로 활성화되는 [분산 추적](#distributed-tracing)을 사용하면 서비스 간에 가시성을 확보할 수 있습니다. 활성화하기 전에 [전환 가이드](/docs/transition-guide-distributed-tracing)를 확인해보시기 바랍니다.
</Callout>

## 오류 메시지 수정 변수 [#err-message-redact]

오류 메시지 수정을 제어하는 Node.js 에이전트 변수는 앱 `newrelic.js` 설정 파일의 `strip_exception_messages` 섹션에 나타납니다.

<CollapserGroup>
  <Collapser
    id="allow-raw-enabled"
    title="활성화"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_STRIP_EXCEPTION_MESSAGES_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    `false`로 설정하면 에이전트는 캡처된 오류의 메시지를 수정합니다.
  </Collapser>
</CollapserGroup>

## 분산 추적 [#dt-main]

[분산 추적](/docs/intro-distributed-tracing)은 요청이 분산 시스템을 통해 이동하는 경로를 확인할 수 있도록 해줍니다. 구성 파일에서 설정을 하는 경우 `distributed_tracing` 섹션에 다음 옵션을 배치합니다. Node.js 에이전트 8.3.0 이상에서는 기본적으로 활성화되어 있습니다.

<Callout variant="important">
  분산 추적을 활성화하면 [애플리케이션 간 추적](#cross-app-tracing)이 비활성화되며, 이는 다른 APM 기능에 영향을 미칩니다. 활성화하기 전에 [전환 가이드](/docs/transition-guide-distributed-tracing)를 확인하시기 바랍니다. [Node.js 에이전트 버전 4.7.0 이상](/docs/agents/nodejs-agent/installation-configuration/upgrade-nodejs-agent)이 필요합니다.
</Callout>

분산 추적 설정에 대한 보다 자세한 정보는 [Java 애플리케이션에 대한 분산 추적 사용](/docs/apm/agents/nodejs-agent/installation-configuration/distributed-tracing-nodejs-agent)을 참조하십시오.

<CollapserGroup>
  <Collapser
    id="dt-enabled"
    title="활성화"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_DISTRIBUTED_TRACING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    분산 추적을 비활성화하려면 이 옵션을 `false`로 설정합니다. 예를 들어 구성 파일에서 다음을 사용할 수 있습니다.

    ```js
    distributed_tracing: {
        enabled: false
    }
    ```
  </Collapser>

  <Collapser
    id="dt-exclude-newrelic-header"
    title="exclude_newrelic_header"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_DISTRIBUTED_TRACING_EXCLUDE_NEWRELIC_HEADER`
          </td>
        </tr>
      </tbody>
    </table>

    `true`로 설정하면 아웃바운드 요청에 첨부된 뉴렐릭 헤더를 제외하고 대신 추적에 W3C Trace Context 헤더만 사용합니다. `false`로 설정하면 두 가지 유형의 헤더가 모두 사용됩니다.

    예를 들어 구성 파일에서 이를 활성화하려면 다음을 사용합니다.

    ```js
    distributed_tracing: {
        enabled: true,
        exclude_newrelic_header: true
    }
    ```
  </Collapser>
</CollapserGroup>

## gRPC 서버 계측 [#grpc_server]

`grpc` 섹션은 gRPC 서버가 계측되는 방식을 제어합니다.

<CollapserGroup>
  <Collapser
    id="record_errors"
    title="record_errors"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_GRPC_RECORD_ERRORS`
          </td>
        </tr>
      </tbody>
    </table>

    활성화되면 에이전트는 모든 오류 gRPC 상태 코드를 0이 아닌 상태 코드로 뉴렐릭에 전송합니다. 비활성화되면 서버는 0이 아닌 상태 코드를 뉴렐릭으로 보내지 않습니다.
  </Collapser>
</CollapserGroup>

<Collapser
  id="grpc_error_ignore"
  title="ignore_status_codes"
>
  <table>
    <tbody>
      <tr>
        <th>
          Type
        </th>

        <td>
          정수 배열
        </td>
      </tr>

      <tr>
        <th>
          기본
        </th>

        <td>
          `[]`
        </td>
      </tr>

      <tr>
        <th>
          [환경 변수](#environment)
        </th>

        <td>
          `NEW_RELIC_GRPC_IGNORE_STATUS_CODES`
        </td>
      </tr>
    </tbody>
  </table>

  클라이언트 측 계측과 서버 측 계측 모두에서 오류 수집기가 무시할 gRPC 상태 코드를 쉼표로 구분한 목록입니다.

  <Callout variant="caution">
    [`newrelic.noticeError()`](/docs/apm/agents/nodejs-agent/api-guides/nodejs-agent-api/#noticeError)를 사용하여 기록된 오류는 이 설정 값을 따르지 않습니다.
  </Callout>
</Collapser>

## 스팬 이벤트

[분산 추적](/docs/apm/distributed-tracing/ui-data/span-event)을 위해 [스팬](#distributed-tracing) 데이터가 보고됩니다. 스팬을 보고하려면 분산 추적을 활성화해야 합니다. `span_events` 섹션에서 스팬을 설정합니다. 옵션은 다음과 같습니다:

<CollapserGroup>
  <Collapser
    id="span-events-enabled"
    title="활성화"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_SPAN_EVENTS_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    스팬 이벤트 보고를 활성화 또는 비활성화합니다.
  </Collapser>

  <Collapser
    id="span-events-attributes-enabled"
    title="attributes.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_SPAN_EVENTS_ATTRIBUTES_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    이 설정을 사용하여 스팬에 대한 속성 보고를 활성화 또는 비활성화할 수 있습니다. 루트 수준에서 `attributes.enabled`가 `false`로 설정된 경우 설정 방법에 관계없이 스팬과 함께 속성이 전송되지 않습니다.
  </Collapser>

  <Collapser
    id="span-events-attributes-include"
    title="attributes.include"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_SPAN_EVENTS_ATTRIBUTES_INCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    스팬에 속성이 활성화된 경우 이 목록에 있는 모든 속성 키가 스팬에 연결됩니다. 자세한 내용은 [에이전트 속성 규칙](/docs/apm/other-features/attributes/agent-attributes)을 참조하십시오.
  </Collapser>

  <Collapser
    id="span-events-attributes-exclude"
    title="attributes.exclude"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `[]`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_SPAN_EVENTS_ATTRIBUTES_EXCLUDE`
          </td>
        </tr>
      </tbody>
    </table>

    이 목록에 있는 모든 속성 키는 스팬과 함께 전송되지 않습니다. 자세한 내용은 [에이전트 속성 규칙](/docs/apm/other-features/attributes/agent-attributes)을 참조하십시오.
  </Collapser>
</CollapserGroup>

<Collapser
  id="span-events-max-samples-stored"
  title="max_samples_stored"
>
  <table>
    <tbody>
      <tr>
        <th>
          Type
        </th>

        <td>
          정수
        </td>
      </tr>

      <tr>
        <th>
          기본
        </th>

        <td>
          `2000`
        </td>
      </tr>

      <tr>
        <th>
          [환경 변수](#environment)
        </th>

        <td>
          `NEW_RELIC_SPAN_EVENTS_MAX_SAMPLES_STORED`
        </td>
      </tr>
    </tbody>
  </table>

  * 에이전트가 분당 수집하는 이벤트의 최대 수를 정의합니다. 이 숫자보다 많은 경우 에이전트는 통계 샘플링을 수집합니다.

  * 10,000개를 초과하지 않는 것이 좋습니다. 서버는 데이터를 분당 10,000으로 제한합니다.

  * [AI 모니터링](/docs/ai-monitoring/intro-to-ai-monitoring)을 위해 에이전트를 구성할 때 최대값을 `10000`으로 설정합니다. 최대 트레이스 양이 캡처되도록 합니다.

    <Callout variant="important">
      `max_samples_stored` 설정을 하려면 [Node.JS 에이전트 버전 8.3.0 이상](/docs/apm/agents/nodejs-agent/installation-configuration/update-nodejs-agent/)이 필요합니다.
    </Callout>
</Collapser>

## Infinite Tracing

Infinite Tracing(무한 추적)을 활성화하려면 아래 설정을 추가합니다. `infinite_tracing` 섹션에서 무한 추적을 설정합니다. 또한 분산 추적을 [활성화](/docs/apm/agents/nodejs-agent/installation-configuration/distributed-tracing-nodejs-agent)해야 합니다. Node.js APM 에이전트 버전 8.3.0 이상에서는 분산 추적이 기본적으로 활성화되어 있습니다.

<CollapserGroup>
  <Collapser
    id="infinite-tracing-host"
    title="trace_observer.host"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            문자열
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            (없음)
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_INFINITE_TRACING_TRACE_OBSERVER_HOST`
          </td>
        </tr>
      </tbody>
    </table>

    유효한 Infinite Tracing Traces 옵저버 호스트 항목을 가져오는 데 도움이 필요한 경우 [트레이스 옵저버 엔드포인트 찾기 또는 생성](/docs/understand-dependencies/distributed-tracing/enable-configure/language-agents-enable-distributed-tracing#provision-trace-observer)을 참조하십시오.
  </Collapser>

  <Collapser
    id="infinite-tracing-queue-size"
    title="span_events.queue_size"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Number
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `10000`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_INFINITE_TRACING_SPAN_EVENTS_QUEUE_SIZE`
          </td>
        </tr>
      </tbody>
    </table>

    삭제되기 전까지 에이전트가 메모리에 보유하는 무한 추적 스팬의 양입니다.

    대부분의 시간 동안 대기열은 사용되지 않으므로 이 설정을 기본값에서 변경할 필요가 없습니다. 대기열은 에이전트가 데이터를 스트리밍할 수 없을 때 Infinite Tracing 엔드포인트에 다시 연결하는 동안에만 사용됩니다. 이 기간 동안 에이전트가 무한 추적 스팬을 삭제할 수 있으며, 이 경우 이 숫자를 늘리는 것이 도움이 될 수 있습니다.
  </Collapser>
</CollapserGroup>

## 애플리케이션 로깅 [#app-logging]

애플리케이션 로깅 설정을 하려면 [Node.JS 에이전트 버전 8.11.0 이상](/docs/apm/agents/nodejs-agent/installation-configuration/update-nodejs-agent/)이 필요합니다.

Node.js 에이전트의 로그 구성에 대한 팁은 [Node.js의 문맥적 로그 구성](/docs/logs/logs-context/configure-logs-context-nodejs)을 참조하십시오.

<CollapserGroup>
  <Collapser
    id="application-logging-enabled"
    title="application_logging.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    [문맥적 로그](/docs/logs/logs-context/configure-logs-context-nodejs/)의 자동 생성을 활성화합니다.

    예를 들어 구성 파일에서 이 기능을 비활성화하려면 다음을 사용합니다.

    ```js
    application_logging: {
        enabled: false
    }
    ```
  </Collapser>

  <Collapser
    id="application-logging-metrics-enabled"
    title="application_logging.metrics.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_METRICS_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    에이전트가 APM 요약 페이지의 로그 차트에 사용된 로깅 메트릭을 수집할지 여부를 토글 버튼으로 설정합니다.
  </Collapser>

  <Collapser
    id="application-logging-forwarding-enabled"
    title="application_logging.forwarding.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_FORWARDING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    에이전트가 뉴렐릭으로 보내기 위해 로그 레코드를 수집할지 여부를 토글 버튼으로 설정합니다.
  </Collapser>

  <Collapser
    id="application-logging-forwarding-max_samples_stored"
    title=".forwarding.max_samples_stored"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Number
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `10000`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_FORWARDING_MAX_SAMPLES_STORED`
          </td>
        </tr>
      </tbody>
    </table>

    뉴렐릭에 보낼 분당 로그 레코드 수입니다. 로그인 포워딩을 사용할 때 전체 메모리 소비를 제어합니다.

    전송되는 로그 라인의 양을 줄이려면 이 값을 더 낮게 설정합니다. (로그 샘플링이 발생할 수 있음) 더 많은 로그 라인을 보내려면 이 값을 더 높게 설정합니다.

    각 로그는 연결된 트랜잭션과 동일한 우선순위를 부여받습니다. 트랜잭션 외부에서 발생하는 로그는 랜덤 우선순위를 부여받습니다. 일부 로그는 `max_samples_stored`에 의해 제한되기 때문에 포함되지 않을 수 있습니다. 예를 들어, 로깅 `max_samples_stored`가 10,000으로 설정되고 트랜잭션 1에 10,000개의 로그 항목이 있는 경우 트랜잭션 1에 대한 로그 항목만 기록됩니다. 트랜잭션 1에 10,000개 미만의 로그가 있는 경우 트랜잭션 1에 대한 모든 로그를 수신합니다. 그래도 공간이 남아 있으면 트랜잭션 2의 모든 로그를 받습니다.

    샘플링된 트랜잭션에 대한 모든 로그가 기록된 후 `max_samples_stored`의 한도에 도달하지 않은 경우 샘플링에 없는 트랜잭션에 대한 로그 메시지가 전송됩니다. 남아 있는 경우 트랜잭션 외부의 로그 메시지가 기록됩니다.
  </Collapser>

  <Collapser
    id="application-logging-local_decorating-enabled"
    title="application_logging.local_decorating.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_APPLICATION_LOGGING_LOCAL_DECORATING_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    에이전트가 표준 로그 출력에 대해 로컬 로그 장식을 수행할지 여부를 토글 버튼으로 설정합니다.
  </Collapser>
</CollapserGroup>

## 코드 레벨 메트릭 [#code-level-metrics]

코드 레벨 메트릭 설정에는 [Node.JS 에이전트 버전 9.7.5 이상](/docs/apm/agents/nodejs-agent/installation-configuration/update-nodejs-agent/)이 필요합니다.

자세한 내용은 [앱 레벨 메트릭 문서](/docs/apm/agents/nodejs-agent/installation-configuration/codestream-integration)를 참조하십시오.

<CollapserGroup>
  <Collapser
    id="code-level-metrics-enabled"
    title="code_level_metrics.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_CODE_LEVEL_METRICS_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    [코드 레벨 메트릭](/docs/codestream/observability/code-level-metrics)을 실행하는 데 도움이 되는 모든 Node.js 웹 프레임워크의 미들웨어 스팬에 대한 추가 속성을 캡처할지 여부를 토글 버튼으로 설정합니다. 추가 속성은 `code.filepath`, `code.function`, `code.lineno` 및 `code.column` 입니다.
  </Collapser>
</CollapserGroup>

## 에러스 인박스 구성 [#errors-inbox-configuration]

다음 태그 중 하나를 설정하면 오류를 생성하는 소프트웨어 버전을 식별하는 데 도움이 됩니다.

* `NEW_RELIC_METADATA_SERVICE_VERSION` 배포된 코드 버전(대부분의 경우 1.2.3으로 표시되는 버전)이 포함된 이벤트 데이터에 대해 tagged.service.version이 생성되지만 항상 그런 것은 아닙니다.
* `NEW_RELIC_METADATA_RELEASE_TAG `릴리스 태그(예: v0.1.209 또는 릴리스-209)가 포함된 이벤트 데이터에 tagged.releaseTag를 생성합니다.
* `NEW_RELIC_METADATA_COMMIT` 커밋 SHA를 포함하는 이벤트 데이터에 대해 tagged.commit을 생성합니다. 전체 SHA를 사용하거나 처음 7자만 사용할 수 있습니다. (예: 734713b)

향후에 릴리스될 에러스 인박스는 오류를 생성하는 소프트웨어 버전을 자동으로 추적합니다. 모든 버전 데이터는 [CodeStream](/docs/codestream/how-use-codestream/performance-monitoring/#buildsha)에도 표시됩니다.

## URL 난독화 [#url-obfuscation]

URL 난독화 설정을 하려면 [Node.js 에이전트 버전 9.9.0 이상](/docs/apm/agents/nodejs-agent/installation-configuration/update-nodejs-agent/)이 필요합니다.

설정 예시는 [노드 에이전트 url 난독화](/docs/url-obfuscation/configure-url-obfuscation-nodejs)에 대한 문서를 참조하십시오.

<CollapserGroup>
  <Collapser
    id="url-obfuscation-enabled"
    title="url_obfuscation.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_URL_OBFUSCATION_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    정규식 기반 [노드 에이전트 URL 난독화](/docs/url-obfuscation/configure-url-obfuscation-nodejs/)를 활성화합니다.
  </Collapser>

  <Collapser
    id="url-obfuscation-regex-pattern"
    title="url_obfuscation.regex.pattern"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            문자열 또는 정규식
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            (없음)
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_URL_OBFUSCATION_REGEX_PATTERN`
          </td>
        </tr>
      </tbody>
    </table>

    URL 난독화에 사용할 정규식 패턴을 지정합니다. 설정하지 않으면 URL 난독화가 수행되지 않습니다.
  </Collapser>

  <Collapser
    id="url-obfuscation-regex-flags"
    title="url_obfuscation.regex.flags"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            문자열
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            (없음)
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_URL_OBFUSCATION_REGEX_FLAGS`
          </td>
        </tr>
      </tbody>
    </table>

    URL 난독화 패턴 매치에 사용할 정규식 플래그를 지정합니다. 예: 전역 매치의 경우 `g`, 대소문자를 구분하지 않는 매치의 경우 `i` 등입니다. 여러 플래그를 문자열로 지정할 수 있습니다. (예: `gi`) 설정하지 않으면 플래그가 사용되지 않습니다.
  </Collapser>

  <Collapser
    id="url-obfuscation-regex-replacement"
    title="url_obfuscation.regex.replacement"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            문자열
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            (없음)
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_URL_OBFUSCATION_REGEX_REPLACEMENT`
          </td>
        </tr>
      </tbody>
    </table>

    URL 난독화에 사용할 대체 문자열을 지정합니다. 패턴의 그룹을 캡처하기 위한 레퍼런스를 포함할 수 있습니다. (예: `$1`) 설정하지 않으면 모든 것이 단일 빈 문자열로 대체됩니다.
  </Collapser>
</CollapserGroup>

## 보안 에이전트 [#security-agent]

[뉴렐릭의 보안 에이전트인 인터랙티브 애플리케이션 보안 테스트](/docs/iast/introduction/)(IAST)는 생성된 HTTP 요청을 취약한 페이로드와 함께 재생하여 악용 가능한 취약점이 있는지 애플리케이션을 테스트합니다.

<Callout variant="caution">
  프로덕션 소프트웨어에 취약점이 노출되지 않도록 비프로덕션 배포에서만 IAST를 실행하십시오.
</Callout>

<Callout variant="important">
  보안 에이전트 설정을 하려면 [Node.js 에이전트 버전 10.3.0 이상](/docs/apm/agents/nodejs-agent/installation-configuration/update-nodejs-agent/)이 필요합니다.
</Callout>

<CollapserGroup>
  <Collapser
    id="security-enabled"
    title="security.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_SECURITY_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    뉴렐릭 Security 에이전트 데이터를 뉴렐릭으로 전송할지 여부를 토글 버튼으로 설정할 수 있습니다. 이 옵션이 비활성화되고 security.agent.enabled가 true인 경우, 보안 에이전트는 등록되지만 데이터는 전송되지 않습니다.
  </Collapser>

  <Collapser
    id="security-agent-enabled"
    title="security.agent.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_SECURITY_AGENT_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    뉴렐릭 보안 에이전트가 로드되는지 여부를 토글 버튼으로 설정할 수 있습니다. 이 속성은 애플리케이션이 시작되면 읽기만 가능합니다.
  </Collapser>

  <Collapser
    id="security-mode"
    title="security.mode"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            문자열
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `IAST`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_SECURITY_MODE`
          </td>
        </tr>
      </tbody>
    </table>

    뉴렐릭 보안 제공 모드는 IAST입니다. 기본값은 IAST입니다. IAST 스캐닝의 침습적인 특성이 있으므로 프로덕션 환경 또는 프로덕션 데이터가 처리되는 환경에서 이 모드를 활성화하면 안됩니다.
  </Collapser>

  <Collapser
    id="security-validator-url"
    title="security.validator_service_url"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            문자열
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `wss://csec.nr-data.net`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_SECURITY_VALIDATOR_SERVICE_URL`
          </td>
        </tr>
      </tbody>
    </table>

    뉴렐릭 보안 연결 URL입니다. 이는 보안 에이전트가 데이터를 보내는 엔드포인트이며, Node.js 에이전트를 위해 설정한 환경과 일치해야 합니다.
  </Collapser>

  <Collapser
    id="security-rci-detection"
    title="security.Detection.rci.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_SECURITY_DETECTION_RCI_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    RCI 보안 이벤트 감지를 활성화합니다.
  </Collapser>

  <Collapser
    id="security-xss-detection"
    title="security.Detection.rxss.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_SECURITY_DETECTION_RXSS_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    RXSS 보안 이벤트 감지를 활성화합니다.
  </Collapser>

  <Collapser
    id="security-deserialization-detection"
    title="security.Detection.deserialization.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_SECURITY_DETECTION_DESERIALIZATION_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    역직렬화 보안 이벤트 감지를 활성화합니다.
  </Collapser>
</CollapserGroup>

## Heroku [#heroku]

<CollapserGroup>
  <Collapser
    id="heroku-dyno"
    title="Heroku.use_dyno_names"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `true`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_HEROKU_USE_DYNO_NAMES`
          </td>
        </tr>
      </tbody>
    </table>

    true인 경우 에이전트는 Heroku dyno 이름을 호스트명으로 사용합니다.
  </Collapser>
</CollapserGroup>

## 작업자 스레드(Worker Threads) [#worker-threads]

11.0.0 이전 에이전트 버전에서는 에이전트가 메인 스레드와 작업자 스레드 모두에서 실행되었습니다. 버전 11.0.0에서는 비동기 컨텍스트 전파와의 비호환성으로 인해 에이전트가 작업자 스레드에서 실행되지 않습니다. 작업자 스레드에서 실행하는 기능은 버전 11.3.0에서 복원되었지만 `worker_threads.enabled`를 `true`로 설정해야 합니다. 작업자 스레드에서 실행되는 동작은 다양하며 공식적으로는 지원되지 않습니다. 메트릭 생성과 자체 포함되는 트랜잭션 트레이스 같은 일부 기능은 작동할 수 있지만 사용 책임은 사용자에 있습니다.

<CollapserGroup>
  <Collapser
    id="worker-threads"
    title="worker_threads.enabled"
  >
    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `false`
          </td>
        </tr>

        <tr>
          <th>
            [환경 변수](#environment)
          </th>

          <td>
            `NEW_RELIC_WORKER_THREADS_ENABLED`
          </td>
        </tr>
      </tbody>
    </table>

    true인 경우 지정된 작업자 스레드에 있을 때 에이전트가 로드됩니다.
  </Collapser>
</CollapserGroup>

## 환경 변수 무시

이 섹션에서는 환경 변수에서만 사용할 수 있는 두 가지 설정 옵션을 정의합니다. 대부분의 설정에서 이 무시는 사용되지 않습니다.

<CollapserGroup>
  <Collapser
    id="home"
    title="NEW_RELIC_HOME"
  >
    `newrelic.js`를 포함하는 디렉터리의 경로입니다. 이는 환경 변수로만 사용할 수 있습니다. 구성 파일에서 설정할 수 없습니다.

    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            문자열
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            (없음)
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser
    id="no_file"
    title="NEW_RELIC_NO_CONFIG_FILE"
  >
    사용하는 경우 에이전트가 `newrelic.js`에서 설정을 읽는 것을 방지합니다. 기본값과 환경 변수의 값은 계속 설정됩니다.

    이는 환경 변수로만 사용할 수 있습니다. 구성 파일에서 설정할 수 없습니다.

    <table>
      <tbody>
        <tr>
          <th>
            Type
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            기본
          </th>

          <td>
            `false`
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

## 환경 변수 유형 참조 가이드

이 섹션에서는 복잡한 데이터 유형의 형식을 올바르게 지정하는 방법을 설명합니다.

<CollapserGroup>
  <Collapser
    id="array"
    title="Array"
  >
    기타 유형은 쉼표로 구분된 문자열로 정의됩니다.

    ```ini
    NEW_RELIC_ERROR_COLLECTOR_IGNORE_ERROR_CODES=404,500,429
    ```
  </Collapser>

  <Collapser
    id="object"
    title="Object"
  >
    개체 유형은 json 문자열로 정의됩니다.

    ```ini
    NEW_RELIC_ERROR_COLLECTOR_EXPECTED_MESSAGES='{"Error":["Undefined", "No soup for you!"]}'
    ```
  </Collapser>
</CollapserGroup>
