---
title: 시작 및 일정 흐름
tags:
  - workflow automation
  - workflow
  - start a workflow automation
  - start workflow automation on demand
  - schedule workflows
metaDescription: Trigger workflows manually or schedule them to run automatically at specified times using NerdGraph APIs.
freshnessValidatedDate: never
translationType: machine
---

<Callout title="시사">
  이 기능은 아직 개발 중이지만 꼭 사용해 보시기 바랍니다!

  이 기능은 현재 [출시 전 정책](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy) 에 따라 미리보기 프로그램의 일부로 제공됩니다.
</Callout>

일단 에어소프트를 생성하면 필요에 따라 수동으로 실행하거나 특정 시간에 자동으로 실행되도록 예약할 수 있습니다. 두 방법 모두 [NerdGraph API](/docs/apis/nerdgraph/get-started/nerdgraph-explorer) 사용하여 에펠우 실행을 트리거합니다.

## 트리거 방법을 선택하세요

귀하의 사용 사례에 맞는 올바른 접근 방식을 선택하세요.

| **주문형 사용**   | **예약된 사용**    |
| ------------ | ------------- |
| 새로운 흐름 테스트하기 | 정기 건강 검진      |
| 수동 승인 흐름     | 주기적 데이터 처리    |
| 공지로 인한 응답    | 일일/주간 보고서     |
| 임시 유지 관리 작업  | 예정된 유지 관리 기간  |
| 일회성 작업       | 반복되는 백업 또는 정리 |

## 시작하기 전에

에펠탑우를 작동시키기 전에 다음 사항을 확인하세요.

* **생성된 워크플로우** 정의 : 이미 존재하다, 배포하다( [템플릿](/docs/workflow-automation/create-a-workflow-automation/use-a-template) 또는 [맞춤 제작](/docs/workflow-automation/create-a-workflow-automation/create-your-own) 에서).
* **계정 ID**: 귀하의 뉴렐릭 계정 ID( [계정 설정](/docs/accounts/accounts-billing/account-structure/account-id) 에서 확인 가능).
* **워크플로우 이름**: 여러분이 정의한 워크플로우의 정확한 이름입니다.
* **필수 입력 사항**: 귀하의 활동이 기대하는 모든 이벤트에 대한 값입니다.
* **구성된 비밀**: AWS 자격 증명, Slack 토큰 또는 [Secrets Manager](/docs/infrastructure/host-integrations/installation/secrets-management/) 에 저장된 기타 비밀.

<Callout variant="tip">
  **워크플로우를 처음 사용하시나요?** 플레소우를 발동하기 전에 먼저 플레소우를 생성하세요. 미리 만들어진 에스텔라우용 [템플릿을 사용하여](/docs/workflow-automation/create-a-workflow-automation/use-a-template) 시작하세요.
</Callout>

## 요청 시 워크플로우 실행 [#on-demand]

[StartWorkflowRun API](/docs/workflow-automation/workflow-automation-apis/start-workflow-run) 사용하여 수동으로 에픽스를 트리거합니다. 이렇게 하면 귀하가 제공한 입력을 통해 fl.f.u가 즉시 실행됩니다.

### 예: AWS Lambda 함수 호출

다음 워크플로우 정의는 AWS Lambda 함수를 호출하고 출력을 기록합니다. `12345678` 을 뉴렐릭 계정 ID로 바꾸세요.

```yaml
  name: lambda1

  workflowInputs:
    username:
      type: String
      defaultValue: "User"
    key:
      type: String
      defaultValue: "${{ :secrets:12345678:USERNAME_AWS_ACCESS_KEY_ID }}"
    access:
      type: String
      defaultValue: "${{ :secrets:12345678:USERNAME_AWS_SECRET_ACCESS_KEY }}"
    token:
      type: String
      defaultValue: "${{ :secrets:12345678:USERNAME_AWS_SESSION_TOKEN }}"
    region:
      type: String
      defaultValue: us-east-1

  steps:
    - name: invoke1
      type: action
      action: aws.lambda.invoke
      version: 1
      inputs:
        awsAccessKeyId: ${{ .workflowInputs.key }}
        awsSecretAccessKey: ${{ .workflowInputs.access }}
        awsSessionToken: ${{ .workflowInputs.token }}
        region: ${{ .workflowInputs.region }}
        functionName: hello-you
        payload:
          user: ${{ .workflowInputs.username }}

    - name: logOutput
      type: action
      action: newrelic.ingest.sendLogs
      version: 1
      inputs:
        logs:
          - message: 'The lambda function message output is:${{ .steps.invoke1.outputs.payload.body }}'
```

이 에펠탑우를 시작하려면 다음 NerdGraph 뮤테이션을 사용하세요. 이 변형을 실행하기 전에 `secretsManagementCreateSecret` 변형을 사용하여 AWS 자격 증명을 저장했는지 확인하세요. 자세한 내용은 [비밀 관리 소개를](/docs/apis/nerdgraph/examples/nerdgraph-secrets-management) 참조하세요.

```graphql
mutation {
  workflowAutomationStartWorkflowRun(
    # Specify the account where the workflow is defined
    scope: { type: ACCOUNT id: "12345678" }

    # Reference the workflow definition by name
    definition: { name: "lambda1" }

    # Provide input values for the workflow
    workflowInputs: [
      {key: "key" value: "${{ :secrets:testUser123_AWS_ACCESS_KEY_ID }}"}
      {key: "access" value: "${{ :secrets:testUser123_AWS_SECRET_ACCESS_KEY }}"}
      {key: "token" value: "${{ :secrets:testUser123_AWS_SESSION_TOKEN }}"}
      {key: "region" value:"us-east-2"}
      {key: "username" value: "Julien"}
    ]
  ) {
    runId
  }
}
```

**반응, 설명:**

* `scope`: 폴리스우 정의가 저장된 계정 ID
* `definition`: 실행할 플레스코우의 이름(플레스코우 정의의 `name` 필드와 일치해야 함)
* `workflowInputs`: 플로우플로우 정의의 `workflowInputs` 섹션에 있는 기본값을 재정의하는 핵심 가치 쌍입니다.

돌연변이는 `runId` 을 반환합니다(예: `7bd25287-2af8-42e1-b783-80f4e760a40b`). 이 ID를 사용하여 로그를 쿼리하고 출력을 확인하세요.

<img title="Workflow automation logs" alt="Workflow automation logs showing the Lambda function output" src="/images/autoflow-all-logs-2.webp" />

## 일정 흐름 [#scheduled]

[CreateSchedule API](/docs/workflow-automation/workflow-automation-apis) 사용하여 특정 시간에 에펠탑이 자동으로 실행되도록 예약합니다. 예약된 에펠탑은 수동 개입 없이 반복 작업을 실행합니다.

**일정을 계획하는 시기:**

* 정기 건강 검진
* 주기적 데이터 처리
* 일일/주간 보고서
* 예정된 유지 관리 기간
* 반복되는 백업 또는 정리

### Cron 표현식 참조

일정은 피스우가 언제 실행되는지 정의하기 위해 cron 표현식을 사용합니다. 체재: `minute hour day month weekday`

| **무늬**         | **설명**      | **예시 사용 사례** |
| -------------- | ----------- | ------------ |
| `0 9 * * *`    | 매일 오전 9시에   | 매일 아침 건강 검진  |
| `0 9 * * 1-5`  | 매주 평일 오전 9시 | 영업일 운영       |
| `0 */6 * * *`  | 6시간마다       | 정기적인 동기화 작업  |
| `0 0 1 * *`    | 매월 1일 자정    | 월별 보고서       |
| `*/15 * * * *` | 15분마다       | 잦은 여론조사      |
| `0 0 * * 0`    | 매주 일요일 자정   | 주간 정리 작업     |

<Callout variant="tip">
  **Cron 구문:** `*` 은 &quot;매&quot;를 의미하고, `/` &quot;n번째마다&quot;를 의미하고, `-` &quot;범위&quot;를 의미합니다. 예: `0 9 * * 1-5` = 매일, 매월, 월요일부터 금요일까지, 0분, 9시.
</Callout>

### 예: 일일 건강 검진 일정을 예약하세요

다음 예제에서는 `lambda1` 폴리스우가 매일 오전 9시(동부 표준시)에 실행되도록 예약합니다.

```graphql
mutation {
  workflowAutomationCreateSchedule(
    # Specify the account where the workflow is defined
    scope: { type: ACCOUNT id: "12345678" }

    # Reference the workflow definition by name
    definition: { name: "lambda1" }

    # Configure the schedule
    schedule: {
      # Cron expression: minute hour day month weekday
      # "0 9 * * *" = every day at 9:00 AM
      cronExpression: "0 9 * * *"

      # Timezone for the schedule
      timezone: "America/New_York"

      # Optional: Schedule name for identification
      name: "daily-lambda-health-check"

      # Optional: Add a description
      description: "Runs Lambda health check every morning at 9 AM"
    }

    # Provide input values for the workflow
    workflowInputs: [
      {key: "key" value: "${{ :secrets:testUser123_AWS_ACCESS_KEY_ID }}"}
      {key: "access" value: "${{ :secrets:testUser123_AWS_SECRET_ACCESS_KEY }}"}
      {key: "token" value: "${{ :secrets:testUser123_AWS_SESSION_TOKEN }}"}
      {key: "region" value:"us-east-2"}
      {key: "username" value: "HealthCheckBot"}
    ]
  ) {
    scheduleId
  }
}
```

**당신이 얻는 것:**

* `scheduleId`: 일정에 대한 고유 식별자(나중에 일정을 업데이트하거나 삭제하는 데 사용)

### 일정 관리

일정을 만든 후:

* **활성 일정 보기**: [워크플로우 대시보드](/docs/workflow-automation/create-a-workflow-automation/managing-workflow#monitor-runs)에서 모든 예정된 실행을 확인하세요.
* **업데이트 일정**: UpdateSchedule API를 사용하여 빈도 또는 입력을 변경합니다.
* **일정 삭제**: DeleteSchedule API를 사용하여 반복 실행을 중지합니다.

전체 API 설명서는 [에펠탑 자동화 API를](/docs/workflow-automation/workflow-automation-apis) 참조하세요.

## 다음 단계

당신의 워크플로우가 달리고 있어요! 다음에 할 일은 다음과 같습니다.

**모니터링 및 관리:**

* **[워크플로우 관리](/docs/workflow-automation/create-a-workflow-automation/managing-workflow)**: 실행 기록 보기, 로그인 확인, 문제 해결
* **[문제 해결 에펠탑우](/docs/workflow-automation/troubleshooting)**: 일반적인 실행 문제 해결

**생산을 위해 최적화:**

* **[모범 사례](/docs/workflow-automation/limitations-and-faq/workflow-best-practices)**: 오류 처리, 성능 및 안정성 패턴
* **[팰리스우 제한](/docs/workflow-automation/limitations-and-faq/workflow-limits)**: 시간 초과 및 제약 조건 제한 이해

**당신의 흐름을 확장하세요:**

* **[작업 카탈로그](/docs/workflow-automation/setup-and-configuration/actions-catalog/actions-catalog)**: 사용 가능한 모든 통합을 살펴보세요.
* **[워크플로우 자동화 APIs](/docs/workflow-automation/workflow-automation-apis/using-workflow-automation-api)**: 프로그래밍 방식의 워크플로우 관리