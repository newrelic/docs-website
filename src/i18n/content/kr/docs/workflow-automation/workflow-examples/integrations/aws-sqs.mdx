---
title: AWS SQS 메시징
tags:
  - workflow automation
  - workflow
  - aws
  - sqs
metaDescription: Send messages to AWS SQS queues using IAM role authentication.
freshnessValidatedDate: never
translationType: machine
---

IAM 역할 인증을 사용하여 AWS SQS 큐로 메시지를 보냅니다.

## 전제 조건

**1. AWS IAM 역할 설정**

* 뉴릭이 맡을 수 있는 IAM 역할
* 해당 역할에는 SQS로 메시지를 보낼 수 있는 권한이 있어야 합니다.
* 설정 방법은 [AWS 자격 증명 설정](/docs/workflow-automation/setup-and-configuration/set-up-aws-credentials) 페이지를 참조하세요.

**2. AWS SQS 큐**

* 지정된 지역에 있는 기존 SQS 큐

**3. 필수 입력값**

* **awsRoleArn**: IAM 역할의 ARN(예: `arn:aws:iam::123456789012:role/NewRelicIntegrationRole`)
* **awsQueueUrl**: 전체 SQS 큐 URL(형식: `https://sqs.{region}.amazonaws.com/{account-id}/{queue-name}`)
* **awsRegion**: (선택 사항) 기본값은 다음과 같습니다. `us-west-2`

## 이 흐름은 무엇을 하는가

* SQS 큐에 메시지 전송
* AWS IAM 역할 인증을 사용합니다.
* 반환 메시지 ID 및 성공 상태

**주요 작업**: `aws.execute.api`, `(sqs.send_message)`

```yaml
name: aws_execute_api_sqs_example

workflowInputs:
  awsRoleArn:
    type: String
  awsRegion:
    type: String
    defaultValue: us-west-2
  awsQueueUrl:
    type: String

steps:
  - name: sendSqsMessage
    type: action
    action: aws.execute.api
    version: 1
    inputs:
      awsRoleArn: ${{ .workflowInputs.awsRoleArn }}
      region: ${{ .workflowInputs.awsRegion }}
      service: sqs
      api: send_message
      parameters:
        QueueUrl: "${{ .workflowInputs.awsQueueUrl }}"
        MessageBody: |
          {
            "message": "deployment is bad",
            "status": "not good"
          }
      selectors:
        - name: success
          expression: '.success'
        - name: messageId
          expression: '.response.MessageId'
```

## 무엇 향후 계획

* **[REST API 폴링](/docs/workflow-automation/workflow-examples/integrations/rest-api-polling)**: 외부 API를 폴링하고 데이터를 처리합니다.
* **[구현, 배치 롤백](/docs/workflow-automation/workflow-examples/advanced/deployment-rollback)**: 롤백을 위해 SQS를 사용하세요 공지