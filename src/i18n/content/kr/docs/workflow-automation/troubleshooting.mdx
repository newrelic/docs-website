---
title: 흐름 흐름 자동화 문제 해결
tags:
  - workflow automation
  - troubleshooting
  - workflow errors
metaDescription: 'Common issues and solutions for Workflow Automation including AWS credentials, workflow execution, and dashboard problems.'
freshnessValidatedDate: never
translationType: machine
---

<Callout title="시사">
  이 기능은 아직 개발 중이지만 꼭 사용해 보시기 바랍니다!

  이 기능은 현재 [출시 전 정책](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy) 에 따라 미리보기 프로그램의 일부로 제공됩니다.
</Callout>

이 페이지에서는 폴리스우 Automation을 사용할 때 발생할 수 있는 일반적인 문제에 대한 솔루션을 제공합니다. 추가 지원이 필요하면 [뉴렐릭 지원 포럼을](https://discuss.newrelic.com/) 참조하거나 [뉴렐릭 지원팀](https://support.newrelic.com/) 에 문의하세요.

## AWS 자격 증명 및 인증

### 액세스 거부 오류 [#access-denied-errors]

**문제:** 펠로우스가 AWS 인증 오류로 인해 실패합니다.

**해결책:**

1. **계정 ID를 확인하세요.** 신뢰 정책에서 `253490767857` ( `754728514883` 아님)을 사용했는지 확인하세요. 클라우드 통합 계정 ID(`754728514883`)가 워크플로우 자동화 계정 ID와 다릅니다.

2. **외부 ID 확인:** 신뢰 정책의 외부 ID가 뉴렐릭 계정 ID( [계정 설정](/docs/accounts/accounts-billing/account-structure/account-id) 에서 확인 가능)와 정확히 일치하는지 확인하세요.

3. **권한 검토:** IAM 역할 또는 사용자에게 필요한 특정 AWS 권한이 있는지 확인하세요. [필수 AWS 권한](/docs/workflow-automation/setup-and-configuration/set-up-aws-credentials#required-aws-permissions) 표를 확인하세요.

4. **AWS CLI로 테스트:** 로컬에서 `aws sts assume-role` 실행하여 역할이 가정 가능한지 확인합니다.

   ```yaml
      aws sts assume-role \
      --role-arn "arn:aws:iam::YOUR_ACCOUNT:role/NewRelicWorkflowAutomationRole" \
      --role-session-name "TestSession" \
      --external-id "YOUR_NR_ACCOUNT_ID"
   ```

### 토큰이 잘못되었거나 자격 증명이 만료되었습니다.

**문제:** 만료 오류로 인해 워크플로우가 실패합니다.

**해결책:**

1. **세션 토큰의 경우:** 만료 타임스탬프를 확인하세요. 세션 토큰은 일반적으로 1-12시간 동안 지속됩니다. 만료되기 전에 새 항목을 생성하려면 다음을 사용하세요.

   ```yaml
      aws sts assume-role \
      --role-arn "arn:aws:iam::YOUR_ACCOUNT:role/YOUR_ROLE" \
      --role-session-name "WorkflowAutomationSession"
   ```

2. **액세스 키의 경우:** 액세스 키 ID와 비밀 액세스 키가 모두 [시크릿 관리자](/docs/workflow-automation/limitations-and-faq/workflow-best-practices/#secure-credentials) 에 올바르게 저장되어 있는지 확인하십시오. [NerdGraph GraphiQL 탐색기](https://one.newrelic.com/nerdgraph-graphiql) 에서 값을 다시 확인하십시오.

3. **비밀 구문을 확인하세요:** `${{ secrets.keyName }}` 아닌 `${{ :secrets:keyName }}` 형식을 사용하고 있는지 확인하세요. 콜론 접두사(`:secrets:`)가 필요합니다.

### 내 역할 ARN을 찾을 수 없습니다

**문제:** ARN이 필요하지만 AWS에서 찾을 수 없습니다.

**해결책:**

1. [AWS IAM 콘솔](https://console.aws.amazon.com/iam/)에 로그인하세요
2. 탐색에서 **Roles** \[역할을] 선택하세요
3. 역할 이름을 검색하세요(예: `NewRelicWorkflowAutomationRole`)
4. 역할을 선택하세요. ARN이 요약 섹션에 나타납니다.
5. ARN 형식은 다음과 같습니다. `arn:aws:iam::<YOUR_AWS_ACCOUNT>:role/<ROLE_NAME>`

### 에플로우가 특정 AWS 리소스에 액세스할 수 없습니다.

**문제:** 역할에 권한이 있지만 폴리스우가 여전히 특정 리소스에 액세스할 수 없습니다.

**해결책:**

1. **리소스 수준 권한:** IAM 정책이 특정 리소스 ARN에 대한 액세스를 제한하는지 확인하세요. 테스트를 위해 와일드카드(`*`)를 추가한 다음 특정 리소스에 잠가야 할 수도 있습니다.

   ```json
   {
      "Effect": "Allow",
      "Action": "ec2:DescribeInstances",
      "Resource": "*"  // Change from specific ARN to * for testing
   }
   ```

2. **서비스 제어 정책(SCP):** AWS 조직에 속한 경우 SCP가 특정 작업을 차단할 수 있습니다. AWS 관리자에게 문의하여 조직 정책을 검토하세요.

3. **지역 불일치:** IAM 권한이 리소스가 있는 올바른 AWS 지역을 지정하는지 확인하세요. 리소스 위치와 일치하도록 워크플로우의 `awsRegion` 보고서를 업데이트하세요.

## 워크플로우 실행 문제

### 빠른 문제 해결, 해결 참고자료

일반적인 에펠로스우 문제를 빠르게 진단하려면 이 표를 사용하세요.

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        징후
      </th>

      <th>
        확인하다
      </th>

      <th>
        해결책
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        특정 단계에서 흐름이 실패함
      </td>

      <td>
        오류 메시지에 대한 실행 로그 보기
      </td>

      <td>
        해당 작업에 대한 설정, 자격 증명 또는 입력 데이터를 수정합니다.
      </td>
    </tr>

    <tr>
      <td>
        흐름이 실행되지만 잘못된 결과가 발생함
      </td>

      <td>
        단계 간 데이터 전달 확인
      </td>

      <td>
        템플릿 구문 확인 `${{ .steps.name.outputs.field }}`
      </td>
    </tr>

    <tr>
      <td>
        예정된 워크플로우가 실행되지 않습니다
      </td>

      <td>
        건너뛴 실행에 대한 실행 기록을 확인하세요.
      </td>

      <td>
        일정 설정 및 워크플로우 상태 확인(Active)
      </td>
    </tr>

    <tr>
      <td>
        워크플로우 시간 초과
      </td>

      <td>
        실행 기간 확인
      </td>

      <td>
        폴링 빈도를 줄이거나 더 작은 SF로 분할
      </td>
    </tr>

    <tr>
      <td>
        변경 사항이 적용되지 않습니다
      </td>

      <td>
        버전 기록 확인
      </td>

      <td>
        새 버전을 사용하려면 예약된 실행을 업데이트하세요.
      </td>
    </tr>
  </tbody>
</table>

로그 조회 및 실행 내역에 대한 자세한 내용은 [모니터 플로우 실행을](/docs/workflow-automation/create-a-workflow-automation/managing-workflow#monitor-runs) 참조하세요.

### 흐름흐름이 &quot;Failed&quot; 상태로 표시됩니다.

**문제:** 대시보드에 A플로우가 Failed 상태로 나타납니다.

**해결책:**

1. **실행 기록을 확인하세요**:

   * **All Capabilities &gt; Workflow Automation**로 이동
   * 워크플로우 이름을 클릭하세요
   * 어떤 실행이 실패했는지 확인하려면 **Run history** \[실행 기록을] 확인하세요.

2. **실행 로그 검토**:

   * 실패한 실행에서 **View logs** \[로그 보기를] 클릭하여 실패한 특정 작업을 식별합니다.
   * 근본 원인을 나타내는 오류 메시지를 찾으세요.

3. **일반적인 원인**:

   * **잘못된 자격 증명**: 만료된 토큰, 잘못된 비밀 구문 또는 잘못된 비밀 키
   * **권한 없음**: AWS IAM 권한, Slack 봇 토큰 범위 또는 API 액세스가 부족합니다.
   * **부채, 목표 리소스 변경**: EC2 제외 삭제, Slack 채널 제거 또는 데이터베이스 이름 변경
   * **API 속도 제한 초과**: 외부 서비스(AWS, Slack 등)에 대한 requests 너무 많습니다.
   * **네트워크 시간 초과**: 외부 API가 응답하는 데 너무 오래 걸림

4. **수정 및 재실행**: 문제를 해결한 후 [StartWorkflowRun API](/docs/workflow-automation/workflow-automation-apis/start-workflow-run) 사용하여 수동으로 팰리세우스를 트리거하여 작동하는지 확인합니다.

### 플로우플로우 실행이 너무 오래 걸림

**문제:** 플레우스 실행이 예상 지속 시간 또는 시간 초과를 초과합니다.

**해결책:**

1. **동작 순서 검토**: 로그를 확인하여 느린 동작을 파악합니다. 실행 시간이 30초 이상인 작업을 찾으세요.

2. **쿼리 최적화**: NRQL 쿼리를 사용하는 경우 더 나은 성능을 위해 쿼리를 최적화하세요.

   * 모든 데이터를 쿼리하는 대신 특정 시간 범위를 추가합니다.
   * `LIMIT` 사용하여 결과 집합 크기를 줄이세요.
   * `WHERE` 절을 사용하여 조기에 필터링

3. **외부 API 확인**: 통합 서비스(AWS, Slack)의 응답이 느리면 실행이 지연될 수 있습니다. API 응답 시간을 별도로 테스트합니다.

4. **워크플로우 제한 고려**: [워크플로우 제한에 대한 시간 제한](/docs/workflow-automation/limitations-and-faq/workflow-limits) 을 검토합니다(일반적으로 워크플로우당 15분).

5. **더 작은 에펠탑우로 분할**: 복잡한 에펠탑우를 병렬로 실행할 수 있는 더 작고 집중적인 자동화로 분할합니다.

### 워크플로우 변경사항이 적용되지 않습니다.

**문제:** 플레시아우를 편집했지만 실행 시 변경 사항이 적용되지 않습니다.

**해결책:**

1. **저장했는지 확인하세요**. : 워크플로우 설정을 편집한 후 **Save** \[저장을] 눌렀는지 확인하세요.

2. **버전을 확인하세요**:

   * 흐름흐름 자세히 보러가기
   * **Version history** \[버전 기록] 탭을 클릭하세요
   * 최신 변경 사항이 새 버전으로 표시되는지 확인하세요.
   * 이 버전이 활성으로 표시되어 있는지 확인하세요.

3. **예약된 실행 업데이트**: 에펠우가 일정에 따라 실행되는 경우 새 버전을 사용하도록 일정을 업데이트합니다.

   * **All Capabilities &gt; Workflow Automation**로 이동
   * 예정된 실행 찾기
   * 새로운 플루토스우 버전을 참조하도록 일정을 업데이트하세요

## 워크플로우 대시보드 문제

### 대시보드에서 플로우플로우를 찾을 수 없습니다

**문제:** 생성한 A플로우가 대시보드 목록에 나타나지 않습니다.

**해결책:**

1. **필터 확인**:

   * 필터 드롭다운 메뉴를 클릭하세요
   * 상태 필터에 대해 &quot;모두&quot;를 선택하세요
   * 검색창을 비우세요

2. **계정 확인**: 뉴크리플로우가 생성된 올바른 계정에 로그인했는지 확인하세요. 오른쪽 상단 모서리에 있는 계정 선택기를 확인하세요.

3. **권한 확인**: 사용자 역할이 조회수를 볼 수 있는 권한이 있는지 확인하세요. 켈로그 접속 권한이 필요하시면 관리자에게 문의하세요.

4. **페이지 새로 고침**: 브라우저 캐싱으로 인해 최근 변경 사항이 숨겨질 수 있습니다. 강제 새로 고침(Ctrl+Shift+R 또는 Cmd+Shift+R)을 시도해 보세요.

### 흐름을 삭제할 수 없습니다.

**문제:** 삭제 옵션이 회색으로 표시되거나 삭제가 실패합니다.

**해결책:**

1. **권한 확인**: 사용자 역할에 추적플로우 삭제 권한이 있는지 확인하세요. 필요한 경우 계정 관리자에게 문의하세요.

2. **예약된 실행 중지**: 삭제하기 전에 활성 예약된 실행을 취소합니다.

   * 워크플로우 세부정보로 이동
   * **Scheduled runs** \[예약된 실행] 탭으로 이동
   * 모든 활성 일정 취소

3. **Check 의존성/종속성**: 다른 자동화가 의존하고 있는 경우 일부 워크플로우를 삭제할 수 없습니다. 플루토스우가 다음에 의해 참조되는지 확인하세요.

   * 그것을 부르는 다른 흐름
   * 그것을 촉발시키는 공지사항
   * API를 통해 시작하는 외부 시스템

4. **지원팀에 문의하세요**: 위의 방법을 시도한 후에도 문제가 지속되면 [뉴렐릭 지원팀](https://support.newrelic.com/) 에 문의하여 도움을 받으세요.

### Disabling Workflow Automation (FCM)

**Problem:** You&apos;re turning off Workflow Automation through Feature Control Management (FCM) and need to ensure a clean shutdown.

**해결책:**

1. **Remove all scheduled workflows first**: If you&apos;ve turned off FCM, ensure all future scheduled workflows are removed to prevent confusion or alerts:

   * **All Capabilities &gt; Workflow Automation**로 이동
   * Review each workflow and check for active schedules
   * Click on workflows with schedules to view their details
   * Go to the **Scheduled runs** tab
   * Delete all active schedules using the [DeleteSchedule API](/docs/workflow-automation/workflow-automation-apis/delete-schedule)

2. **Verify all schedules are removed**: Confirm no scheduled runs remain active before disabling FCM

3. **Disable FCM**: Once all schedules are removed, you can safely disable Workflow Automation through FCM settings

<Callout variant="important">
  **Why remove schedules?** Scheduled workflows cannot execute when Workflow Automation is disabled through FCM. Active schedules remaining in the system may cause confusion or generate unnecessary alerts.
</Callout>

## 통합 관련 문제

### Slack 공지가 나오지 않아요

**문제:** 스텔라우가 성공적으로 완료되었지만 Slack 메시지가 나타나지 않습니다.

**해결책:**

1. **채널 ID 확인**: 채널 이름이 아닌 Slack 채널 **ID** (예: `C01234ABCD`)를 사용하고 있는지 확인하세요. Slack에서 ID 찾기:

   * 채널 이름을 마우스 오른쪽 버튼으로 클릭하세요
   * **View channel details** \[채널 세부정보 보기를]선택하세요
   * 하단의 채널 ID를 복사하세요

2. **봇 권한 확인**: Slack 봇의 범위가 다음과 같은지 확인하세요.

   * `chat:write` - 메시지 게시
   * `channels:read` - 공개 채널 보기
   * `groups:read` - 개인 채널 보기(해당되는 경우)

3. **봇이 채널에 있는지 확인**: 봇을 목표 채널에 추가합니다:

   * 채널에 `/invite @YourBotName` 입력하세요
   * 봇이 멤버 목록에 나타나는지 확인하세요

4. **시크릿 관리자의 토큰 확인**:[시크릿 관리자](/docs/workflow-automation/limitations-and-faq/workflow-best-practices/#secure-credentials) 에 저장된 Slack 토큰이 올바르고 만료되지 않았는지 확인합니다.

### AWS Systems Manager 작업이 실패했습니다.

**문제:** SSM 자동화 문서 또는 명령이 실행되지 않습니다.

**해결책:**

1. **SSM 권한 확인**: IAM 역할에 다음 권한이 있는지 확인하세요.

   ```yaml
   {
     "Effect": "Allow",
     "Action": [
       "ssm:CreateDocument",
       "ssm:DeleteDocument",
       "ssm:StartAutomationExecution",
       "ssm:GetAutomationExecution"
     ],
     "Resource": "*"
   }
   ```

2. **SSM 에이전트 확인**: 타겟 EC2에 SSM 에이전트가 설치되어 실행 중인지 확인합니다.

   `aws ssm describe-instance-information --region us-east-1`

3. **인스턴스 프로필 확인**: EC2 인스턴스에는 명령을 실행하기 위한 SSM 권한이 있는 IAM 인스턴스 프로필이 필요합니다.

4. **문서가 있는지 확인**: 기존 SSM 문서를 사용하는 경우 AWS 계정 및 지역에 문서가 있는지 확인합니다.

## 템플릿 관련 문제

### 본문 GUID를 찾을 수 없습니다.

**문제:** 템플릿이 `Entity not found` 오류로 인해 실패합니다.

**해결책:**

1. **올바른 부분 GUID 찾기**:

   * 뉴렐릭의 모니터 리소스 페이지로 이동하세요.
   * GUID에 대한 URL 또는 세션데이터를 확인하세요
   * [분리 검색을](/docs/new-relic-solutions/new-relic-one/core-concepts/what-entity-new-relic#find) 사용하여 분리 찾기

2. **올바른 계정에 부분이 존재하는지 확인**: 해당 활동이 특정하다, 배포하다와 동일한 계정에서 부분을 사용하고 있는지 확인하세요.

3. **보고 데이터 확인**:가 최근에 **Last seen** \[마지막으로 본] 항목(오래됨)을 표시하는지 확인하세요.가 제거되었을 수 있습니다.

4. **AWS 부분**: [통합이](/docs/infrastructure/amazon-integrations/get-started/introduction-aws-integrations) 활성화되어 있는지 확인하세요.

<Callout variant="tip">
  **GUID는 계정별로 다릅니다.** 계정 간에 블리자드를 이동하려면 모든 GUID를 업데이트해야 합니다.
</Callout>

### NRQL 쿼리가 결과를 반환하지 않습니다.

**문제:** NRQL 쿼리를 사용하는 템플릿은 완료되지만 빈 데이터 세트를 반환합니다.

**해결책:**

1. **먼저 쿼리 테스트**: 템플릿에 추가하기 전에 [쿼리 빌더를](/docs/query-your-data/explore-query-data/query-builder/introduction-query-builder) 사용하여 쿼리를 검증합니다.

2. **데이터 유형 및 이벤트 이름 확인**:

   * `FROM Transaction` 사용하세요. `FROM Transactions`
   * 속성 이름이 정확히 일치하는지 확인합니다(대소문자 구분).

3. **시간 범위 조정**: 희소 데이터의 경우 시간 창을 확장합니다.

   * 최근 데이터에 `SINCE 1 hour ago` 추가합니다.
   * 추세를 보려면 `SINCE 1 day ago` 사용하세요.

4. **단순화하고 점진적으로 테스트**: 기본 쿼리로 시작하여 한 번에 하나씩 필터를 추가합니다.

5. **[NRQL 구문](/docs/query-your-data/nrql-new-relic-query-language/get-started/introduction-nrql-new-relics-query-language)확인**: 쿼리 구조가 NRQL 요구 사항과 일치하는지 확인

### 템플릿 구현, 배포 실패

**문제:** 템플릿이 구현, 배포되지 않거나 구현, 배포 중에 오류가 표시됩니다.

**해결책:**

1. **모든 필수 입력 사항 확인**: 모든 필수 필드(자격 증명, GUID, 쿼리)를 채웠는지 확인하세요.
2. **자격 증명 형식 확인**: 비밀은 콜론 접두사가 있는 `${{ :secrets:keyName }}` 형식을 사용해야 합니다.
3. **자격 증명을 독립적으로 테스트**: 구현하기 전에, Slack API에서 AWS CLI 및 Slack 의미를 사용하여 AWS 자격 증명을 테스트합니다.
4. **템플릿 요구 사항 검토**: 각 템플릿에는 특정 전제 조건이 나열되어 있습니다. 모든 요구 사항이 충족되는지 확인하세요.
5. **특수 문자 확인**: 일부 필드(채널 이름, 쿼리)는 특수 문자로 인해 실패할 수 있습니다. 가능한 경우 영숫자를 사용하세요.

### 승인흐름플로우가 응답하지 않습니다.

**문제:** Slack 승인(API Gateway 롤백, EC2 크기 조정)이 필요한 템플릿이 반응을 감지하지 못합니다.

**해결책:**

1. **봇 토큰 범위 확인**:

   * `reactions:read`- 이모티콘 반응을 감지하는 데 필요합니다.
   * `chat:write`- 승인 메시지 게시가 필요합니다.

2. **반응 형식 확인**: 확인우에 명시된 정확한 이모지를 사용하세요 (예: 승인은 `thumbsup`).

3. **시간 초과 설정 확인**: 승인 requests 구성된 시간 초과(일반적으로 5-10분) 후에 만료됩니다.

4. **봇이 메시지를 읽을 수 있는지 확인**: 봇은 채널에 있어야 하며 메시지 기록을 읽을 수 있는 권한이 있어야 합니다.

5. **간단한 승인으로 테스트**: 승인 논리만으로 문제를 분리하여 테스트 에피스우를 만듭니다.

### EC2 인스턴스 관리 문제

**문제:** EC2 템플릿이 인스턴스의 크기를 조정하거나 관리하지 못합니다.

**해결책:**

1. **[CloudWatch Metric Streams](/install/aws-cloudwatch/) 구성되어 있는지 확인**: 고대 EC2 지표에 필수
2. **[EC2 모니터링 통합](/docs/infrastructure/amazon-integrations/aws-integrations-list/aws-ec2-monitoring-integration/#activate) 활성 확인**: 뉴렐릭으로의 데이터 흐름을 보장합니다.
3. **상태를 확인하십시오**: `running` 또는 `stopped` 상태여야 합니다. 전환 상태(보류 중, 중지)로 인해 오류가 발생합니다.
4. **호환 여부 확인**: 모든 크기 조정 작업을 지원하는 것은 아닙니다. [AWS 연결 설명서를](https://aws.amazon.com/ec2/instance-types/)확인하세요.
5. **중지/시작 권한 확인**: IAM 역할에는 `ec2:StopInstances` 및 `ec2:StartInstances` 추가로 필요합니다. `ec2:ModifyInstanceAttribute`

### JSON 구문 분석 템플릿이 데이터를 기록하지 않음

**문제:** JSON 구문 분석 템플릿은 성공적으로 실행되지만 뉴렐릭 로그에 데이터가 나타나지 않습니다.

**해결책:**

1. **API 엔드포인트 확인**: 브라우저에서 상태 페이지 URL을 테스트하여 유효한 JSON을 반환하는지 확인합니다.
2. **JSON 구조 확인**: 템플릿은 특정 형식을 예상합니다. 구성 요소 상태 필드가 예상 구조와 일치하는지 확인하세요.
3. **로그 필터 검토**: 로깅 작업이 올바른 이벤트 유형 및 속성을 사용하는지 확인합니다.
4. **간단한 엔드포인트로 테스트하기**: 기본 JSON 엔드포인트(예: [https://httpbin.org/json](https://httpbin.org/json))를 사용하여 템플릿 작동 방식을 검증하세요.
5. **계정 권한 확인**: 크리플로우에 로그를 쓸 수 있는 권한이 있는지 확인하세요.

### 문제 해결, 해결 템플릿

폴리스우가 실패하거나 예상대로 작동하지 않는 경우:

1. **실행 기록 확인**: **Workflow Automation &gt; \[귀하의 워크플로] &gt; Run History** 으로 이동하여 실행 기록 및 오류 메시지를 확인하세요.

2. **일반적인 문제 검토**: 다음 문제에 대한 해결 방법 [은 문제 해결, 문제 해결 흐름 자동화를](/docs/workflow-automation/troubleshooting) 참조하세요.

   * AWS 자격 증명 및 권한 오류
   * Slack 통합 문제
   * 일부 GUID 문제
   * NRQL 쿼리 실패
   * 흐름흐름 시간 초과
   * 템플릿별 문제 해결, 해결

<Callout variant="important">
  **테스트 템플릿을 안전하게 사용하세요**. 항상 먼저 비운영 환경에서 테스트하세요. 인프라를 변경하는 템플릿(EC2, API Gateway)을 잘못 구성하면 가용성에 영향을 미칠 수 있습니다.
</Callout>

## 무엇 향후 계획

* **[모범 사례](/docs/workflow-automation/limitations-and-faq/workflow-best-practices)**: 오류 처리, 성능 최적화, 테스트 전략.
* **[팰런티우 제한](/docs/workflow-automation/limitations-and-faq/workflow-limits)**: 시간 초과, 비율 제한 및 제약 조건을 이해합니다.