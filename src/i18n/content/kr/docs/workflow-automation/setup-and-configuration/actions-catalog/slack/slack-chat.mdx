---
title: 슬랙 동작
tags:
  - workflow automation
  - workflow
  - workflow automation actions
  - Slack actions
  - communication actions
  - Slack Chat actions
metaDescription: A list of available slack chat actions in the actions catalog for workflow definitions
freshnessValidatedDate: never
translationType: machine
---

<Callout title="시사">
  이 기능은 아직 개발 중이지만 꼭 사용해 보시기 바랍니다!

  이 기능은 현재 [출시 전 정책](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy) 에 따라 미리보기 프로그램의 일부로 제공됩니다.
</Callout>

이 페이지는 도구우 자동화 작업 카탈로그에서 사용할 수 있는 Slack 채팅 작업에 대한 포괄적인 참조 정보를 제공합니다. 이러한 조치를 통해 슬랙 메시징 운영을 효율적으로 관리할 수 있습니다.

## 전제 조건

블리자드 자동화에서 통신 작업을 사용하기 전에 다음 사항이 있는지 확인하세요.

* 적절한 권한이 있는 Slack 작업 공간.
* 흐름 자동화에서 비밀로 구성된 Slack 봇의 의미입니다.
* 메시지를 보내고 싶은 Slack 채널에 접속합니다.

## Slack 통합 구성 [#slack-configuration]

이 섹션에서는 Slack 애플리케이션을 최소한의 권한 범위로 설정하여 자동화 Slack 작업을 허용하는 방법에 대한 지침을 자세히 설명합니다.

### Slack 앱을 만드세요

1. [Slack API](https://api.slack.com/apps) &gt; **Create New App &gt; From Scratch**로 이동하세요.

2. 앱 이름을 지정하고 작업 공간을 선택한 다음 **Create App** \[앱 만들기]를 클릭하세요.

3. 봇을 생성한 후 왼쪽 탐색 메뉴에서 **App Home** \[앱 홈] 으로 이동하여 봇이 온라인 상태인지 확인하세요.

   <img width="40%;" style={{align: "left"}} title="Always show My Bot as Online" alt="The Slack App Home page with the My Bot online status highlighted." src="/images/my-bot-always-online.webp" />

### OAuth 권한 구성

1. 왼쪽 탐색 메뉴에서 **OAuth &amp; Permissions** \[OAuth 및 권한]을 선택합니다.

2. 아래로 스크롤하여 **Bot Token Scopes** \[봇 토큰 범위] 섹션으로 이동한 후, 워크플로 자동화 작업 사용을 허용하기 위해 다음 범위를 추가하세요.

   * `chat:write` - 메시지를 게시하려면 필수입니다
   * `reactions:read` - 게시글에서 반응을 얻으려면 필요합니다.
   * `files:write` - 게시글에 파일을 첨부하려면 업로드해야 합니다.

   <img width="40%;" style={{align: "left"}} title="Workflow automation Slack scopes" alt="The image of the scope that needs to be added for workflow automation Slack actions." src="/images/slack-workflow-scopes.webp" />

3. 위로 스크롤하여 **Install to \[workspace]** \[\[워크스페이스]에 설치] 버튼을 클릭하면 Slack 워크스페이스를 사용한 OAuth 설정이 시작됩니다.

4. 확인이 표시되어야 합니다. 확인하려면 **Allow** \[허용]을 클릭하세요.

5. 성공하면 **Bot token** \[봇 토큰]을 복사하여 다음 단계를 위해 보관하십시오. 토큰은 `xoxb-...` 으로 시작해야 합니다.

### 앱을 채널에 추가

Slack 앱 생성 및 구성이 완료되면 사용하려는 Slack 채널의 **통합 설정을** 편집하고 Slack 앱을 추가하여 해당 채널에 연결하세요.

### 뉴럴릭 설정

Slack을 설정하고 봇을 얻은 후에는 아래 GraphQL 변형을 사용하여 뉴렐릭 비밀 관리에 이 자격 증명을 저장하세요.

```graphql
mutation {
  secretsManagementCreateSecret(
    scope: {type: ACCOUNT id: "12345678"}
    namespace: "slack"
    key: "my-app-bot-token"
    description: "A slack token to send messages with newrelic workflow automation"
    value: "xoxb-..."
  ) {
    key
  }
}
```

다음 값을 설정하십시오.

* `id` - 뉴렐릭 계정 ID
* `namespace` - 선택 사항이며, 영숫자 문자열을 사용하여 비밀을 분류할 수 있습니다.
* `key` - 이 비밀 키를 참조할 때는 영숫자 문자열을 사용하십시오.
* `description` - 비밀에 대한 선택적 설명
* `value` - 이전 단계에서 복사한 슬랙 봇 토큰

뉴렐릭 사용자 API 키와 함께 [NerdGraph GraphiQL 탐색기를](https://one.newrelic.com/nerdgraph-graphiql) 사용하여 이 돌연변이를 실행할 수 있습니다. 제출이 성공적으로 완료되면 다음과 유사한 결과가 표시됩니다.

```json
{
  "data": {
    "secretsManagementCreateSecret": {
      "key": "my-app-bot-token"
    }
  }
}
```

### Slack의 의미를 사용하세요

라벨스페이스 및 키 이름과 함께 저장된 Slack 봇의 비밀을 활용하여 워크플로우 자동화 기능을 사용하세요.

**예시:**

```yaml
name: to-slack

steps:
  - name: postCsv
    type: action
    action: slack.chat.postMessage
    version: 1
    inputs:
      channel: test-channel-workflow
      text: "Hello World!"
      token: ${{ :secrets:slack:my-app-bot-token }}
```

<Callout variant="tip">
  네임스페이스를 사용하지 않은 경우 토큰 입력에서 `:namespace` 부분을 제거하세요. 예를 들어 다음과 같습니다. `${{ :secrets:my-app-bot-token }}`
</Callout>

## 슬랙 동작

<CollapserGroup>
  <Collapser id="slack-chat-postmessage" title="Slack 채널에 메시지 게시">
    선택적으로 파일을 첨부하여 Slack 채널로 메시지를 보냅니다.

    <Tabs>
      <TabsBar>
        <TabsBarItem id="chatpostmessageinputs">
          입력
        </TabsBarItem>

        <TabsBarItem id="chatpostmessageoutputs">
          출력
        </TabsBarItem>

        <TabsBarItem id="chatpostmessageexample">
          예시
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="chatpostmessageinputs">
          <table>
            <thead>
              <tr>
                <th>
                  입력 필드
                </th>

                <th>
                  선택성
                </th>

                <th>
                  유형
                </th>

                <th>
                  설명
                </th>

                <th>
                  예시
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **토큰**
                </td>

                <td>
                  필수의
                </td>

                <td>
                  비밀
                </td>

                <td>
                  사용할 슬랙 봇 토큰입니다. 이것은 비밀 구문으로 전달되어야 합니다. 토큰 설정 방법에 대한 자세한 내용은 

                  [Slack 구성 추가를](#slack-configuration)

                   참조하십시오.
                </td>

                <td>
                  `${{ :secrets:slackToken }}`
                </td>
              </tr>

              <tr>
                <td>
                  **채널**
                </td>

                <td>
                  필수의
                </td>

                <td>
                  문자열
                </td>

                <td>
                  메시지를 보낼 채널 이름 또는 채널 ID입니다. 자세한 내용은 

                  [Slack API를](https://docs.slack.dev/reference/methods/chat.postMessage/#arg_channel)

                   참조하세요.
                </td>

                <td>
                  `my-slack-channel`
                </td>
              </tr>

              <tr>
                <td>
                  **텍스트**
                </td>

                <td>
                  필수의
                </td>

                <td>
                  문자열
                </td>

                <td>
                  지정된 

                  `channel`

                   시간에 Slack에 게시될 메시지입니다.
                </td>

                <td>
                  `Hello World!`
                </td>
              </tr>

              <tr>
                <td>
                  **스레드**
                </td>

                <td>
                  선택 과목
                </td>

                <td>
                  문자열
                </td>

                <td>
                  상위 메시지에 속하는 타임스탬프로, 스레드에서 메시지 답글을 작성하는 데 사용됩니다.
                </td>

                <td>
                  `<digits>.<digits>`
                </td>
              </tr>

              <tr>
                <td>
                  **부착**
                </td>

                <td>
                  선택 과목
                </td>

                <td>
                  지도
                </td>

                <td>
                  지정된 

                  `channel`

                   에 메시지가 포함된 파일을 첨부할 수 있습니다.
                </td>

                <td />
              </tr>

              <tr>
                <td>
                  **첨부 파일 이름**
                </td>

                <td>
                  필수의
                </td>

                <td>
                  문자열
                </td>

                <td>
                  Slack에 업로드할 파일의 파일 이름을 지정하세요.
                </td>

                <td>
                  `file.txt`
                </td>
              </tr>

              <tr>
                <td>
                  **첨부 파일.내용**
                </td>

                <td>
                  필수의
                </td>

                <td>
                  문자열
                </td>

                <td>
                  업로드할 파일의 내용을 UTF8 형식으로 입력하세요.
                </td>

                <td>
                  `Hello\nWorld!`
                </td>
              </tr>

              <tr>
                <td>
                  **선택기**
                </td>

                <td>
                  선택 과목
                </td>

                <td>
                  목록
                </td>

                <td>
                  지정된 유일한 델파이를 출력으로 가져오는 선택기입니다.
                </td>

                <td>
                  `[{\"name\": \"threadTs\", \"expression\": \".threadTs\"}, {\"name\": \"channelID\", \"expression\": \".channelID\")\"}]`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="chatpostmessageoutputs">
          <table>
            <thead>
              <tr>
                <th>
                  출력 필드
                </th>

                <th>
                  유형
                </th>

                <th>
                  설명
                </th>

                <th>
                  예시
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **스레드**
                </td>

                <td>
                  문자열
                </td>

                <td>
                  메시지 스레드의 타임스탬프입니다. 향후 

                  `postMessage`

                   호출에서 스레드에 답글을 게시하는 데 사용될 수 있습니다.
                </td>

                <td>
                  `<digits>.<digits>`
                </td>
              </tr>

              <tr>
                <td>
                  **채널ID**
                </td>

                <td>
                  문자열
                </td>

                <td>
                  메시지가 게시된 채널의 ID입니다.
                </td>

                <td>
                  `<string>`
                </td>
              </tr>

              <tr>
                <td>
                  **성공**
                </td>

                <td>
                  부울
                </td>

                <td>
                  요청 상태
                </td>

                <td>
                  `true / false`
                </td>
              </tr>

              <tr>
                <td>
                  **오류 메시지**
                </td>

                <td>
                  문자열
                </td>

                <td>
                  실패 사유 메시지
                </td>

                <td>
                  `<string>`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="chatpostmessageexample">
          **예시 1: 슬랙 메시지 보내기**

          <table>
            <thead>
              <tr>
                <th>
                  워크플로 예
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                  name: SendMessage

                  steps:
                    - name: send_slack_message
                      type: action
                      action: slack.chat.postMessage 
                      version: 1
                      inputs:
                        token: ${{ :secrets:dn_staging_slack_token }}
                        channel: ${{ .workflowInputs.channel }}
                        text: ${{ .workflowInputs.text }}
                        selectors:
                          - name: threadTs
                            expression: ".threadTs"
                          - name: channelID
                            expression: ".channelID"
                  ```

                  **입력값:**

                  ```json
                  {
                    "inputs": [
                      {
                        "key" : "channel",
                        "value" : "test-channel-workflow"
                      },
                      {
                        "key" : "text",
                        "value" : "This is my message *with bold text* and `code backticks`"
                      }
                    ]
                  }
                  ```

                  **예상 출력:**

                  ```json
                  [
                    {
                      "threadTs": "1718897637.400609",
                      "channelID": "C063JK1RHN1"
                      "success": true
                    }
                  ]
                  ```
                </td>
              </tr>
            </tbody>
          </table>

          **예 2: 파일 첨부**

          <table>
            <thead>
              <tr>
                <th>
                  워크플로 예
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                  name: SendFileMessage

                  steps:

                    - name: postCsv
                      type: action
                      action: slack.chat.postMessage
                      version: 1
                      inputs:
                        token: ${{ :secrets:dn_staging_slack_token }}
                        channel: test-channel-workflow
                        text: "Please find the attached file:"
                        attachment:
                          filename: 'file.txt'
                          content: "Hello\nWorld!"
                  ```

                  **예상 출력:**

                  ```json
                  [
                    {
                      "threadTs": "1718897637.400609",
                      "channelID": "C063JK1RHN1"
                      "success": true
                    }
                  ]
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>

<CollapserGroup>
  <Collapser id="slack-chat-getreactions" title="Slack 채널에서 메시지에 대한 반응을 얻으세요">
    Slack 채널에서 메시지에 대한 반응을 받아보세요.

    <Tabs>
      <TabsBar>
        <TabsBarItem id="chatgetreactionsinputs">
          입력
        </TabsBarItem>

        <TabsBarItem id="chatgetreactionsoutputs">
          출력
        </TabsBarItem>

        <TabsBarItem id="chatgetreactionsexample">
          예시
        </TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="chatgetreactionsinputs">
          <table>
            <thead>
              <tr>
                <th>
                  입력 필드
                </th>

                <th>
                  선택성
                </th>

                <th>
                  유형
                </th>

                <th>
                  설명
                </th>

                <th>
                  예시
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **토큰**
                </td>

                <td>
                  필수의
                </td>

                <td>
                  비밀
                </td>

                <td>
                  사용할 슬랙 봇 토큰입니다. 이것은 비밀 구문으로 전달되어야 합니다. 토큰 설정 방법에 대한 자세한 내용은 

                  [Slack 구성 추가를](#slack-configuration)

                   참조하십시오.
                </td>

                <td>
                  `${{ :secrets:slackToken }}`
                </td>
              </tr>

              <tr>
                <td>
                  **채널ID**
                </td>

                <td>
                  필수의
                </td>

                <td>
                  문자열
                </td>

                <td>
                  메시지 반응을 얻기 위한 채널 ID입니다. 

                  [`reactions.get` 방법을](https://docs.slack.dev/reference/methods/reactions.get/#arg_channel)

                  참조하세요
                </td>

                <td>
                  `C063JK1RHN1`
                </td>
              </tr>

              <tr>
                <td>
                  **시간 초과**
                </td>

                <td>
                  선택 과목
                </td>

                <td>
                  Int
                </td>

                <td>
                  반응이 나타날 때까지 기다려야 하는 시간(초)입니다. 기본값은 60초이며, 최대 허용 시간은 600초(10분)입니다.
                </td>

                <td>
                  60
                </td>
              </tr>

              <tr>
                <td>
                  **스레드**
                </td>

                <td>
                  필수의
                </td>

                <td>
                  문자열
                </td>

                <td>
                  메시지에 대한 반응을 얻기 위해 사용되는 메시지의 타임스탬프입니다.
                </td>

                <td>
                  `<digits>.<digits>`
                </td>
              </tr>

              <tr>
                <td>
                  **선택기**
                </td>

                <td>
                  선택 과목
                </td>

                <td>
                  목록
                </td>

                <td>
                  지정된 유일한 델파이를 출력으로 가져오는 선택기입니다.
                </td>

                <td>
                  `[{\"name\": \"reactions\", \"expression\": \".reactions \"}]`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="chatgetreactionsoutputs">
          <table>
            <thead>
              <tr>
                <th>
                  출력 필드
                </th>

                <th>
                  유형
                </th>

                <th>
                  설명
                </th>

                <th>
                  예시
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  **반응**
                </td>

                <td>
                  목록
                </td>

                <td>
                  모든 반응이 기록된 요소 목록 또는 시간 초과가 발생한 경우 빈 목록입니다.
                </td>

                <td>
                  `<list>`
                </td>
              </tr>

              <tr>
                <td>
                  **성공**
                </td>

                <td>
                  부울
                </td>

                <td>
                  요청 상태
                </td>

                <td>
                  `true / false`
                </td>
              </tr>

              <tr>
                <td>
                  **오류 메시지**
                </td>

                <td>
                  문자열
                </td>

                <td>
                  실패 사유 메시지
                </td>

                <td>
                  `Invalid slack token`
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>

        <TabsPageItem id="chatgetreactionsexample">
          **예 1: Slack에서 반응 얻기**

          <table>
            <thead>
              <tr>
                <th>
                  워크플로 예
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  ```yaml
                  name: GetReactions

                  steps:
                      - name: getReactions
                      type: action
                      action: slack.chat.getReactions
                      version: 1
                      inputs:
                        token: ${{ :secrets:dn_staging_slack_token }}
                        channelID: ${{ .steps.promptUser.outputs.channelID }}
                        threadTs: ${{ .steps.promptUser.outputs.threadTs }}
                        timeout: ${{ .workflowInputs.timeout }}
                        selectors: ${{ .workflowInputs.selectors }}
                  ```

                  **입력값:**

                  ```json
                  {
                    "inputs": [
                      {
                        "key" : "channelID",
                        "value" : "C063JK1RHN1"
                      },
                      {
                        "key" : "threadTs",
                        "value" : "1718897637.400609"
                      },
                      {
                        "key" : "selectors",
                        "value" : "[{\"name\": \"reactions\", \"expression\": \".reactions \"}]"
                      }
                    ]
                  }
                  ```

                  **출력:**

                  ```json
                  [
                              {
                                  "name": "grinning",
                                  "users": [
                                      "W222222"
                                  ],
                                  "count": 1
                              },
                              {
                                  "name": "question",
                                  "users": [
                                      "W333333"
                                  ],
                                  "count": 1
                              }
                          ]

                  or if it is timed out,
                  []
                  ```
                </td>
              </tr>
            </tbody>
          </table>
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Collapser>
</CollapserGroup>