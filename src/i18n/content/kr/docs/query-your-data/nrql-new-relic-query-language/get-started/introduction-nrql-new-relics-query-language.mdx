---
title: New Relic의 쿼리 언어 NRQL 소개
tags:
  - Query your data
  - 'NRQL: New Relic query language'
  - Get started
metaDescription: 'An introduction NRQL, the New Relic query language.'
translationType: machine
---

import newRelicViewChartNrqlQuery0 from 'images/new-relic-view-chart-nrql-query_0.png'

import nrqlExample from 'images/nrql_example.png'

import nrqlQuery01 from 'images/nrql_query01.png'

import nrqlQuery02 from 'images/nrql_query02.png'

import nrqlExample0 from 'images/nrql_example_0.png'

[New Relic 데이터를 쿼리](/docs/using-new-relic/data/understand-data/query-new-relic-data) 하는 한 가지 방법은 NRQL(New Relic Query Language)을 사용하는 것입니다. 이 리소스는 NRQL이 무엇인지, 언제 어떻게 사용할 수 있는지, 기본 구문 규칙에 대해 설명합니다. 절 및 함수 목록과 쿼리 예제를 포함하여 쿼리에 대한 자세한 내용은 [NRQL 구문, 절 및 함수](/docs/query-your-data/nrql-new-relic-query-language/get-started/nrql-syntax-clauses-functions) 를 참조하십시오.

[opensource.newrelic.com](https://opensource.newrelic.com/projects/newrelic/nr1-learn-nrql) 사이트에 NRQL Lessons 애플리케이션이 포함되어 있어 귀하의 데이터를 사용하여 NRQL의 가치와 힘을 빠르게 확인할 수 있습니다. NRQL Lessons 앱을 설치하고 사용하는 방법을 배우려면 이 짧은 YouTube 비디오(약 2분 45초)를 시청하십시오.

<Video
  id="3UHEHbprs6I"
  type="youtube"
/>

시작할 준비가 되셨습니까? 아직 [가입하지 않았다면 New Relic 계정](https://newrelic.com/signup) 에 가입하십시오. 영원히 무료입니다.

## NRQL이란 무엇입니까?

NRQL은 New Relic의 SQL과 유사한 쿼리 언어입니다. NRQL을 사용하여 자세한 New Relic 데이터를 검색하고 애플리케이션, 호스트 및 비즈니스 중요 활동에 대한 통찰력을 얻을 수 있습니다.

NRQL을 사용하는 이유는 다음과 같습니다.

* 문제 해결 또는 비즈니스 분석을 위한 질문에 답하기 위해
* 새 차트를 만들려면
* New Relic 데이터의 API 쿼리 만들기(예: [NerdGraph](/docs/apis/graphql-api/tutorials/nerdgraph-graphiql-nrql-tutorial) API 사용)

NRQL은 배후에서 일부 New Relic 차트를 생성하는 데 사용됩니다.

<img
  title="new-relic-view-chart-nrql-query.png"
  alt="New Relic view chart NRQL query"
  src={newRelicViewChartNrqlQuery0}
/>

<figcaption>
  일부 New Relic 차트는 NRQL을 사용하여 작성됩니다. NRQL 사용을 시작하는 한 가지 방법은 차트의 쿼리를 보고 편집하여 나만의 맞춤 차트를 만드는 것입니다.
</figcaption>

## NRQL은 어디에서 사용할 수 있습니까? [#where]

다음 위치에서 NRQL을 사용할 수 있습니다.

* [New Relic 쿼리 빌더](/docs/chart-builder/use-chart-builder/get-started/introduction-chart-builder)
* [NerdGraph](/docs/apis/graphql-api/tutorials/nerdgraph-graphiql-nrql-tutorial) : NRQL 쿼리를 만들기 위한 옵션이 포함된 GraphQL 형식 API

<img
  title="nrql_example.png"
  alt="nrql_example.png"
  src={nrqlExample}
/>

<figcaption>
  **[one.newrelic.com](https://one.newrelic.com) > 데이터 쿼리** : [플랫폼 UI](/docs/new-relic-one/use-new-relic-one/get-started/introduction-new-relic-one) 에서 NRQL 쿼리를 실행할 수 있습니다. 이 NRQL 쿼리는 엔터티 이름으로 깎인 [분산 추적](/docs/understand-dependencies/distributed-tracing/get-started/introduction-distributed-tracing) 범위의 수를 보여줍니다.
</figcaption>

NRQL은 New Relic 데이터를 쿼리하는 여러 방법 중 하나입니다. 모든 쿼리 옵션에 대한 자세한 내용은 [데이터 쿼리를 참조하세요](/docs/using-new-relic/data/understand-data/query-new-relic-data) .

## NRQL로 어떤 데이터를 쿼리할 수 있습니까? [#what-you-can-query]

NRQL을 사용하면 다음과 같은 New Relic 데이터 유형을 쿼리할 수 있습니다.

* 다음을 포함한 모든 New Relic 제품의 [이벤트 데이터](/docs/using-new-relic/data/understand-data/new-relic-data-types#event-data) :

  * [APM 이벤트](/docs/insights/insights-data-sources/default-data/apm-default-events-insights) , `Transaction`
  * 다음과 같은 [브라우저 모니터링 이벤트](/docs/insights/insights-data-sources/default-data/browser-default-events-insights) `PageView`
  * [모바일 모니터링 이벤트](/docs/insights/insights-data-sources/default-data/mobile-default-events-insights) `Mobile`
  * [인프라 이벤트](/docs/infrastructure/manage-your-data/data-instrumentation/default-infrastructure-events) , `ProcessSample`
  * [합성 이벤트](/docs/insights/insights-data-sources/default-data/synthetics-default-events-insights) , `SyntheticCheck`
  * [Event API](/docs/insights/insights-data-sources/custom-data/introduction-event-api) 에서 보고된 것과 같은 사용자 지정 이벤트

* [메트릭 타임슬라이스 데이터](/docs/using-new-relic/data/understand-data/new-relic-data-types#timeslice-data) (APM, 브라우저 및 모바일에서 보고하는 메트릭)

* [`Metric` 데이터 유형](/docs/using-new-relic/data/understand-data/new-relic-data-types#metric-time-series) (Metric API에서 보고하는 측정항목 및 해당 API를 사용하는 데이터 소스)

* [`Span` 데이터 유형](/docs/using-new-relic/data/understand-data/new-relic-data-types#trace-data) (분산 추적 데이터)

* [`Log` 데이터 유형](/docs/using-new-relic/data/understand-data/new-relic-data-types#log-data) (New Relic의 로그 관리 기능에서 가져온 데이터)

<Callout variant="tip">
  모니터링되는 엔터티 간의 관계와 같은 일부 데이터는 NRQL을 통해 사용할 수 없지만 [NerdGraph API](/docs/apis/nerdgraph/get-started/introduction-new-relic-nerdgraph) 를 사용하여 사용할 수 있습니다.
</Callout>

## NRQL 사용 시작 [#start-learning]

NRQL 사용을 시작하고 사용 가능한 데이터를 이해하는 한 가지 방법은 NRQL 인터페이스(예: [쿼리 작성기](/docs/chart-builder/use-chart-builder/get-started/introduction-chart-builder) )로 이동하여 `FROM` 을 입력하고 스페이스바를 누르는 것입니다. 인터페이스는 사용 가능한 데이터 유형을 제안합니다.

<img
  title="nrql_query01.png"
  alt="nrql_query01.png"
  src={nrqlQuery01}
/>

특정 데이터 유형에 사용할 수 있는 [속성](/docs/using-new-relic/welcome-new-relic/get-started/glossary#attribute) 을 보려면 `FROM DATA_TYPE SELECT` 을 입력하고 스페이스바를 누르십시오. 인터페이스는 사용 가능한 속성을 제안합니다. 예를 들어:

<img
  title="nrql_query02.png"
  alt="nrql_query02.png"
  src={nrqlQuery02}
/>

모든 속성을 포함하여 데이터 유형과 연결된 전체 JSON을 보려면 `keyset()` 속성을 사용합니다. 예를 들어:

```
FROM Transaction SELECT keyset()
```

NRQL은 배후에서 일부 New Relic 차트 및 대시보드를 구축하는 데 사용됩니다. NRQL을 배우는 한 가지 방법은 이러한 NRQL 생성 차트 중 하나를 찾고 NRQL을 사용하여 새로운 맞춤형 쿼리 및 차트를 만드는 것입니다.

<img
  title="new-relic-view-chart-nrql-query.png"
  alt="New Relic view chart NRQL query"
  src={newRelicViewChartNrqlQuery0}
/>

<figcaption>
  NRQL로 작성된 차트에는 **보기 쿼리** 가 옵션으로 있습니다. 그런 다음 해당 쿼리를 편집하고 사용자 지정하여 변경 사항이 결과 시각화에 어떤 영향을 미치는지 확인할 수 있습니다.
</figcaption>

<Callout variant="important">
  NRQL을 사용하지 않고 데이터를 탐색하려면 [데이터 탐색기](/docs/query-your-data/explore-query-data/browse-data/introduction-data-explorer/) 를 사용하십시오. [New Relic의 데이터 쿼리](/docs/query-your-data/explore-query-data/get-started/introduction-querying-new-relic-data/) 에 대해 자세히 알아보세요.
</Callout>

## NRQL 쿼리 예 [#examples]

다음은 [APM](/docs/apm) 에서 보고하는 `Transaction` 데이터의 NRQL 쿼리 예입니다.

```
FROM Transaction SELECT average(duration) 
  FACET appName TIMESERIES auto
```

그러면 다음과 같은 차트가 생성됩니다.

<img
  title="nrql_example.png"
  alt="nrql_example.png"
  src={nrqlExample0}
/>

다음은 쿼리 예입니다.

<CollapserGroup>
  <Collapser
    id="basic-browser-nrql"
    title="브라우저 데이터의 기본 NRQL 쿼리"
  >
    다음은 [브라우저 모니터링](/docs/browser) 의 `PageView` 데이터에 대한 NRQL 쿼리입니다.

    ```
    SELECT uniqueCount(user) FROM PageView 
      WHERE userAgentOS = 'Mac' 
      FACET countryCode
      SINCE 1 day ago 
      LIMIT 20
    ```
  </Collapser>

  <Collapser
    id="attribute-with-space"
    title="공백이 있는 속성 이름"
  >
    [사용자 정의 속성](/docs/insights/new-relic-insights/decorating-events/insights-custom-attributes) 이름에 공백이 있으면 속성 이름 주위에 역따옴표를 사용하십시오.

    ```
    SELECT count(*)
     FROM Transaction
     FACET `Logged-in user`
    ```
  </Collapser>

  <Collapser
    id="query-multiple-events-columns"
    title="여러 데이터 소스 쿼리"
  >
    두 데이터 원본에서 데이터를 반환하려면 해당 데이터 형식을 쉼표로 구분합니다. 예를 들어 다음 쿼리는 지난 3일 동안의 모든 [APM 트랜잭션](/docs/insights/new-relic-insights/decorating-events/insights-attributes#transaction-defaults) 및 [브라우저 이벤트](/docs/insights/new-relic-insights/decorating-events/insights-attributes#browser-defaults) 수를 반환합니다.

    ```
    SELECT count(*) FROM Transaction, PageView SINCE 3 days ago
    ```
  </Collapser>

  <Collapser
    id=""
    title="여러 열을 반환하는 쿼리"
  >
    데이터세트에서 여러 열을 반환하려면 집계 인수를 쉼표로 구분합니다.

    ```
    SELECT function(attribute), function(attribute) ...
      FROM ...
    ```

    이 쿼리는 지난 주 동안의 브라우저 모니터링 `PageView` 이벤트에 대한 최소, 평균 및 최대 기간을 반환합니다.

    ```
    SELECT min(duration), max(duration), average(duration)
      FROM PageView SINCE 1 week ago
    ```
  </Collapser>
</CollapserGroup>

더 많은 [NRQL 쿼리 예제](/docs/query-data/nrql-new-relic-query-language/nrql-query-examples) 를 참조하십시오.

## NRQL 구문 [#syntax]

NRQL 쿼리의 구문은 표준 SQL 쿼리와 유사합니다. 다음은 NRQL 쿼리의 구조를 분석한 것입니다.

```
<a href="/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#state-select">SELECT</a> <a href="/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#functions">function(attribute)</a> [<a href="/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#sel-as">AS</a> 'label'][, ...] 
  <a href="/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#sel-from">FROM</a> data type
  [<a href="/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#sel-where">WHERE</a> attribute [comparison] [AND|OR ...]][AS 'label'][, ...]
  [<a href="/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#sel-facet">FACET</a> attribute | function(attribute)]
  [<a href="/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#sel-limit">LIMIT</a> number]
  [<a href="/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#sel-since">SINCE</a> time]
  [<a href="/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#sel-until">UNTIL</a> time]
  [<a href="/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#sel-timezone">WITH TIMEZONE</a> timezone]
  [<a href="/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#sel-compare">COMPARE WITH</a> time]
  [<a href="/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#sel-timeseries">TIMESERIES</a> time]
```

기본 규칙은 다음과 같습니다.

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        **NRQL 조건**
      </th>

      <th>
        세부
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        필수 값
      </td>

      <td>
        [`SELECT`](#state-select) 문과 [`FROM`](#sel-from) 절이 필요합니다. 다른 모든 조항은 선택 사항입니다. `SELECT` 또는 `FROM` 으로 쿼리를 시작할 수 있습니다.
      </td>
    </tr>

    <tr>
      <td>
        쿼리 문자열 크기
      </td>

      <td>
        쿼리 문자열은 4KB 미만이어야 합니다.
      </td>
    </tr>

    <tr>
      <td>
        대소문자 구분
      </td>

      <td>
        * 데이터 유형 이름과 속성 이름은 대소문자를 구분합니다.
        * [NRQL 절](/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#clauses) 과[함수](/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#functions) 는 대소문자를 구분하지 않습니다.
      </td>
    </tr>

    <tr>
      <td>
        문자열 구문
      </td>

      <td>
        NRQL은 작은따옴표를 사용하여 문자열을 지정합니다. 예를 들어:

        ```
        ... where traceId = '030a573f0df02c57'
        ```
      </td>
    </tr>

    <tr>
      <td>
        공백이 있는 속성 이름
      </td>

      <td>
        공백이 있는 [사용자 정의 속성](/docs/insights/new-relic-insights/decorating-events/insights-custom-attributes) 이름을 인용하려면 역따옴표 ``` `` ``` 를 사용하십시오. 예를 들어:

        ```
        ... FACET `Logged-in user`
        ```
      </td>
    </tr>

    <tr>
      <td>
        데이터 유형 강제
      </td>

      <td>
        데이터 유형 "강제"를 지원하지 않습니다. 자세한 내용은 [데이터 유형 변환](/docs/insights/nrql-new-relic-query-language/nrql-reference/nrql-syntax-components-functions#type-conversion) 을 참조하십시오.
      </td>
    </tr>

    <tr>
      <td>
        수학 함수의 사용
      </td>

      <td>
        [기본 및 고급 수학 함수](/docs/insights/nrql-new-relic-query-language/using-nrql/nrql-math-using-select) 는 [`SELECT`](/docs/insights/new-relic-insights/using-new-relic-query-language/nrql-reference#state-select) 문에서 지원됩니다.
      </td>
    </tr>

    <tr>
      <td>
        조인 함수
      </td>

      <td>
        NRQL에는 SQL JOIN 기능에 해당하는 기능이 없지만 [사용자 정의 속성을 사용하여 JOIN을 시뮬레이션](/docs/insights/new-relic-insights/using-new-relic-query-language/simulate-sql-join-functions-insights) 할 수 있습니다.
      </td>
    </tr>
  </tbody>
</table>

[NRQL 구문 및 기능](/docs/query-data/nrql-new-relic-query-language/getting-started/nrql-syntax-components-functions) 에 대해 자세히 알아보십시오.