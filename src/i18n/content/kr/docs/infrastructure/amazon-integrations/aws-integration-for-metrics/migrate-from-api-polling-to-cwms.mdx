---
title: API 폴링에서 CloudWatch Metric Streams으로 마이그레이션
tags:
  - API polling to CWMS migration
metaDescription: Migrate your New Relic and AWS services integration type from API Polling to CloudWatch Metric Streams.
freshnessValidatedDate: never
translationType: machine
---

AWS 계정과 뉴렐릭을 원활하게 통합하려면 [CloudFormation 및 CloudWatch Metric Streams를 통한 통합](/docs/infrastructure/amazon-integrations/aws-integration-for-metrics/via-cloudformation) 이 가장 권장되는 방법입니다. 하지만 API 폴링을 사용하여 AWS 계정을 뉴렐릭과 이미 통합한 경우 다음 절차를 참조하여 API 폴링에서 CloudWatch Metric Streams 으로 마이그레이션하세요.

## 전제 조건 [#prerequisites]

AWS 계정을 뉴렐릭과 통합하기 전에 다음 필수 조건을 충족하는지 확인하세요.

* **A 뉴렐릭 [Ingest - 볼륨 키 및 사용자 키](https://one.newrelic.com/api-keys)**: AWS 서비스를 뉴렐릭 계정에 연결하려면 이 키가 필요합니다.
* **[새로운 리소스](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html)** 및 IAM 역할을 구현하고 배포하기 위한 **[권한](https://docs.aws.amazon.com/ARG/latest/userguide/gettingstarted-prereqs-permissions.html)** AWS :AWS 계정에 이 권한이 필요합니다.
* 클라우드 통합 **[권한](/docs/accounts/accounts-billing/new-relic-one-user-management/user-permissions/#infrastructure)** : 뉴렐릭 계정에 대해 다음 권한이 필요합니다.
* 여러 AWS 계정을 관리하는 사용자의 경우 [각 계정을 단일 뉴렐릭 계정에 연결합니다](/docs/infrastructure/amazon-integrations/manage-aws-data/aws-multi-account).
* 해당 계정 내에서 여러 지역을 관리하는 사용자의 경우 각 지역의 뉴렐릭을 가리키는 별도의 Kinesis Data Firehose를 만들어야 합니다.

<Steps>
  <Step>
    ## CloudWatch Metric Streams 통합으로 마이그레이션 [#migrate]

    CloudFormation 템플릿을 생성하거나 AWS 계정을 다시 추가하고 앱 내 안내 설치 절차를 따르면 API 폴링에서 마이그레이션할 수 있습니다. 가장 효율적인 마이그레이션 방법인 CloudFormation 템플릿 방법을 사용하는 것이 좋습니다. 이러한 통합은 CloudWatch Metric Streams 에서 지원되지 않으며 당사의 통합으로 마이그레이션할 수 없습니다.

    * AWS 클라우드 트레일
    * AWS 상태
    * AWS 신뢰할 수 있는 고문
    * AWS 엑스레이

    이러한 통합을 사용하는 경우에도 API 폴링 방법을 사용해야 합니다.

    <CollapserGroup>
      <Collapser id="with-template" title="CloudFormation 템플릿을 사용하여 마이그레이션(권장)">
        CloudFormation 템플릿을 사용하면 폴링 설정에 따라 미리 구성된 네임스페이스로 템플릿을 업데이트할 수 있습니다.

        1. **[one.newrelic.com &gt; Infrastructure &gt; AWS](https://one.newrelic.com/infra/infrastructure/cloud-aws)** 로 이동한 다음 **<DNT>Migrate to CloudWatch Metric stream</DNT>** 클릭합니다.
        2. 절차를 따르세요. 템플릿을 다운로드한 다음 API 폴링에서 네임스페이스를 복제합니다. 다운로드한 템플릿에 계정 세부 정보를 추가하세요.
        3. AWS Console 에서 <DNT>**Cloud Formation &gt; Create Stack &gt; Upload a template file**</DNT> 로 이동합니다. 업데이트된 CloudFormation 템플릿을 업로드하세요.
      </Collapser>

      <Collapser id="without-template" title="CloudFormation 템플릿 없이 마이그레이션">
        CloudFormation 방법을 사용하지 않으려면 AWS 계정을 폴링 통합과 이미 연결했더라도 AWS 계정을 다시 추가해야 합니다. 이러한 절차를 수행하려면 이 문서를 종료해야 할 수도 있지만, 폴링 통합을 비활성화하려면 다시 돌아와야 합니다.

        1. <DNT>**[one.newrelic.com &gt; All capabilities &gt;Infrastructure &gt; AWS](https://one.newrelic.com/infra/infrastructure/cloud-aws)**</DNT> 로 이동한 다음 <DNT>**Add AWS account**</DNT> 클릭하세요. 원하는 방법을 선택하세요.
        2. 이 문서의 [AWS Console 흐름](/install/aws-cloudwatch/?task=console) 에서AWS Console 단계를 따르세요.
        3. 이전 AWS 공급자 계정에서 [불필요한 모든 폴링 통합을 비활성화합니다](/docs/infrastructure/amazon-integrations/connect/uninstall-aws/) .

        비활성화할 경우 [일부 통합은 CloudWatch Metric Streams에서 지원되지 않는다는](/docs/infrastructure/amazon-integrations/connect/connect-aws-new-relic-infrastructure-monitoring/) 점을 명심하세요.
      </Collapser>
    </CollapserGroup>

    CloudWatch Metric Streams 통합은 지표 API 사용하여 [차원 지표](/docs/data-apis/understand-data/new-relic-data-types/#dimensional-metrics) 형식으로 지표를 푸시합니다. 반면에 우리의 API 폴링 방법은 [이벤트를](/docs/data-apis/understand-data/new-relic-data-types/#events-new-relic) 기반으로 메트릭을 푸시합니다.

    * 전환을 돕기 위해 우리는 여러분이 어떤 형식으로든 쿼리를 작성할 수 있게 해주는 쉬밍 메커니즘을 제공합니다. 이러한 쿼리는 이벤트에서 메트릭으로, 메트릭에서 이벤트로 사용 가능한 소스를 기반으로 예상대로 처리됩니다.
    * CloudWatch Metric Streams 통합을 사용하여 이벤트 기반 쿼리를 사용할 수 있게 해주는 시밍 메커니즘에 대한 [몇 가지 제한 사항을](/docs/query-your-data/nrql-new-relic-query-language/nrql-query-tutorials/query-infrastructure-dimensional-metrics-nrql/#known-limitations) 검토하는 것이 좋습니다.

    마이그레이션 후 API 폴링 데이터에 의존하는 일부 뉴렐릭 기능이 다르게 동작할 수 있습니다.

    * <DNT>**Dashboards**</DNT>: 폴링 기반 AWS 통합 이벤트를 사용하는 사용자 정의 대시보드는 예상대로 계속 작동합니다.
    * <DNT>**Alerts**</DNT>: 폴링 기반 AWS 이벤트를 사용하는 공지 조건은 계속 작동합니다. NRQL 소스로 사용하는 차원 지표 형식에 맞게 조정하는 것이 좋습니다.
    * <DNT>**Entities**</DNT>: 모니터링되는 부분 목록에는 최대 24시간 동안 중복된 부분이 표시될 수 있습니다.
    * <DNT>**Attributes**</DNT>: 폴 기반 AWS 통합은 수집된 리소스 태그에 `label.` 접두사를 붙이는 반면, AWS CloudWatch Metric Streams 통합은 수집된 리소스 태그에 `tags.` 접두사를 붙입니다. 동일한 AWS 계정에 대해 두 통합이 모두 활성화된 경우 이벤트 형식을 사용할 때 리소스 태그가 두 접두사 아래에 표시됩니다.
  </Step>

  <Step>
    ## 귀하의 데이터를 검증하세요 [#validate-data]

    Metric Streams에서 데이터를 수신하고 있는지 확인하려면 다음 단계를 따르세요.

    1. <DNT>**[one.newrelic.com &gt; All capabilities &gt; Infrastructure &gt; AWS](https://one.newrelic.com/infra/infrastructure/cloud-aws)**</DNT> 로 이동합니다. 연결한 AWS 계정을 검색하세요. <DNT>**Stream**</DNT> 개 계정.
    2. 대시보드에서 계정 상태를 확인하고 뉴렐릭이 지표 데이터를 수신하는지 확인하세요. 여기에는 오류와 수집된 네임스페이스 및 메트릭 수가 포함될 수 있습니다.
    3. 특정 메트릭 세트에 대한 쿼리를 작성하여 데이터를 탐색합니다.

    뉴렐릭이 새로운 리소스를 감지하고 이를 합성하는 데 몇 분이 걸릴 수 있습니다.

    <Callout variant="tip">
      AWS Billing 과 같은 글로벌 서비스에 대한 AWS CloudWatch 지표는 <DNT>**us-east-1**</DNT> 지역에서만 사용할 수 있습니다. 해당 지역에 활성 CloudWatch Metric Streams가 구성되어 있는지 확인하세요.
    </Callout>
  </Step>
</Steps>

## 관련 주제 [#related-topics]

<DocTiles>
  <DocTile title="여러 AWS 계정에서 데이터 수집" path="/docs/infrastructure/amazon-integrations/manage-aws-data/aws-multi-account/">
    여러 AWS 계정에서 데이터를 수집하는 방법을 알아보세요.
  </DocTile>

  <DocTile title="AWS 통합 지표" path="/docs/infrastructure/amazon-integrations/manage-aws-data/aws-integrations-metrics/">
    CloudWatch Metric Streams의 지표를 탐색하고 사용하세요.
  </DocTile>

  <DocTile title="CloudFormation 및 CWMS를 통한 AWS 통합" path="/docs/infrastructure/amazon-integrations/aws-integration-for-metrics/via-cloudformation-cwms">
    CloudFormation 및 CloudWatch Metric Streams 사용하여 AWS 서비스를 뉴렐릭과 통합합니다.
  </DocTile>

  <DocTile title="CloudFormation 및 API 폴링을 통한 AWS 통합" path="/docs/infrastructure/amazon-integrations/aws-integration-for-metrics/via-cloudformation-and-api-polling">
    CloudFormation 및 API 폴링을 사용하여 AWS 서비스를 뉴렐릭과 통합하세요.
  </DocTile>

  <DocTile title="Terraform을 통한 AWS 통합" path="/docs/infrastructure/amazon-integrations/aws-integration-for-metrics/terraform">
    Terraform을 사용하여 AWS 서비스를 뉴렐릭과 통합합니다.
  </DocTile>

  <DocTile title="AWS 콘솔에서 수동 통합" path="/docs/infrastructure/amazon-integrations/aws-integration-for-metrics/manual">
    AWS 콘솔에서 AWS 서비스를 뉴렐릭과 수동으로 통합하세요.
  </DocTile>
</DocTiles>