---
title: VMware Tanzu 모니터링 통합
tags:
  - Integrations
  - On-host integrations
  - On-host integrations list
metaDescription: Use our integration to gain increased visibility into the performance of your VMware Tanzu environment.
dataSource: vmware-tanzu
translationType: machine
---

import infrastructureVmwareTanzuDashboard from 'images/infrastructure_screenshot-crop_vmware-tanzu-dashboard.webp'

import infrastructureVmwareTanzuAlertChart from 'images/infrastructure_screenshot-crop_vmware-tanzu-alert-chart.webp'

[VMware Tanzu 통합](https://github.com/newrelic/newrelic-pcf-nozzle-tile) 은 Tanzu 환경의 상태와 성능을 이해하는 데 도움이 됩니다. 다양한 Tanzu 인스턴스 및 클라우드 공급자의 데이터를 쿼리하고 상위 수준 보기에서 가비지 수집기 일시 중지의 마지막 기간과 같은 가장 세부적인 데이터로 이동합니다.

<img
  title="newrelicone-dashboards-vmware-tanzu.png"
  alt="newrelicone-dashboards-vmware-tanzu.png"
  src={infrastructureVmwareTanzuDashboard}
/>

<figcaption>
  New Relic 대시보드에 시각화된 VMware Tanzu 데이터.
</figcaption>

통합은 [Loggregator](https://docs.pivotal.io/platform/application-service/2-8/loggregator/architecture.html) 를 사용하여 셀에서 실행되는 모든 Tanzu 플랫폼 구성 요소 및 애플리케이션에서 생성된 메트릭 및 이벤트를 수집합니다. VMware TAS(Tanzu Application Service) 및 CFAR(Cloud Foundry Application Runtime)을 계측하여 당사 플랫폼에 연결합니다.

<Callout variant="tip">
  VMware PKS에서 데이터를 수집하려면 [New Relic Cluster Monitoring](https://docs.pivotal.io/partners/new-relic-cluster-monitoring/index.html) 통합을 사용하십시오.
</Callout>

## 특징

New Relic VMware Tanzu 통합을 통해 다음을 수행할 수 있습니다.

* 광범위한 차트 및 대시보드 컬렉션을 사용하여 배포 상태를 모니터링합니다.
* Firehose에서 수집된 메트릭을 기반으로 경고를 설정합니다.
* 플랫폼에 배포된 사용자 앱과 관련된 로그 및 메트릭을 검색합니다.
* 플랫폼 구성 요소의 메트릭과 BOSH 배포 VM의 상태 메트릭을 스트리밍합니다.
* 설치 중 및 설치 후에 [노즐을 구성하여](https://docs.pivotal.io/partners/new-relic-nozzle/index.html#filters) 로그 및 메트릭을 필터링합니다.
* 다양한 데이터 볼륨을 지원하도록 노즐의 인스턴스 수를 조정합니다.
* 검색된 데이터를 사용하여 [핵심 성과](https://docs.pivotal.io/platform/2-8/monitoring/kpi.html) 및 [핵심 용량 확장](https://docs.pivotal.io/platform/2-8/monitoring/key-cap-scaling.html) 지표를 모니터링합니다.
* 동일한 계정을 사용하여 여러 VMware Tanzu 인스턴스를 계측하고 모니터링합니다.
* [](/docs/logs/log-management/get-started/get-started-log-management)선택적으로 LogMessage 봉투에 대한 [컨텍스트 지원의 로그를](/docs/logs/enable-log-management-new-relic/configure-logs-context/configure-logs-context-apm-agents) 포함하여 LogMessage 및 HttpStartStop 봉투를 로그 UI 로 보냅니다.

## 호환성 및 요구 사항 [#requirements]

우리의 통합은 VMware Tanzu Application Service 버전 2.10 - 3.0 및 Ops Manager 버전 2.8 - 3.0과 호환됩니다. BOSH 줄기세포는 Ubuntu Xenial을 기반으로 해야 합니다.

통합을 설치하기 전에 VMware Tanzu 계정이 필요한지 확인하십시오.

<Callout variant="tip">
  이 통합은 [사용자 지정 이벤트](/docs/using-new-relic/welcome-new-relic/getting-started/data-retention-components#components-insights-events) [및 로그를](/docs/accounts/original-accounts-billing/product-based-pricing/overview-data-retention-components#components-insights-events) 보냅니다. 구독의 사용자 지정 이벤트 데이터 수집 및 데이터 보존 한도에 도달한 경우 New Relic 담당자에게 문의하세요.
</Callout>

## 설치 및 활성화 [#install-activate]

VMware Tanzu 통합을 설치하는 가장 빠른 방법은 [nr-firehose-nozzle](https://network.pivotal.io/products/nr-firehose-nozzle) 타일을 Ops Manager로 가져오는 것입니다. 자세한 [내용은 VMware Tanzu 설명서 를 참조하십시오](https://docs.pivotal.io/partners/new-relic-nozzle/index.html) .

노즐을 표준 애플리케이션으로 배포하고 매니페스트를 편집하고 명령줄에서 `cf push` 을 실행할 수도 있습니다. [GitHub 리포지토리에서](https://github.com/newrelic/newrelic-pcf-nozzle-tile) 통합을 구축하고 배포하는 방법을 참조하세요.

<InstallFeedback/>

## 데이터 찾기 및 사용 [#find-use-data]

VMware Tanzu 통합을 설치하고 활성화하면 **[one.newrelic.com](https://one.newrelic.com/all-capabilities) > Infrastructure > Third party services > VMware Tanzu dashboard** 에서 데이터 및 사전 정의된 차트를 찾을 수 있습니다. 데이터를 쿼리하여 사용자 지정 차트와 대시보드를 만들고 계정에 추가할 수 있습니다.

여러 Tanzu 환경에서 데이터를 수집하는 경우 `WHERE` 또는 `FACET` 와 함께 `pcf.domain` 및 `pcf.IP` 속성을 사용하여 다른 Tanzu 배포의 이벤트를 구별합니다.

<Callout variant="important">
  Tanzu 메트릭은 메모리와 네트워크 소비를 줄이기 위해 집계됩니다. 그러나 구성에서 배수 간격에 작용하는 샘플 수를 늘릴 수 있습니다.
</Callout>

<Callout variant="tip">
  VMware Tanzu 데이터를 표시하는 **사전 구축된 대시보드 및 차트** 는 **요청 시 제공** 됩니다. New Relic 계정에 추가하려면 New Relic 담당자에게 문의하세요.
</Callout>

## 알림 설정 [#setup-alert]

VMware Tanzu는 [NRQL 경고 조건](/docs/alerts/new-relic-alerts/defining-conditions/create-alert-conditions-nrql-queries) 을 사용하여 모니터링할 수 있는 경고 및 임계값과 함께 [주요 성능](https://docs.pivotal.io/platform/2-8/monitoring/kpi.html) 및 [주요 용량 확장](https://docs.pivotal.io/platform/2-8/monitoring/key-cap-scaling.html) 에 대한 지표 목록을 제공합니다.

다음은 `system` 공간과 관련된 메모리 소비에 대한 경고를 설정하는 샘플 [NRQL 쿼리](/docs/query-data/nrql-new-relic-query-language/getting-started/introduction-nrql) 입니다.

```
SELECT average(app.memory.used) FROM PCFContainerMetric WHERE metric.name = 'app.memory' AND app.space.name = 'system' FACET app.instance.uid
```

결과 차트는 다음과 같습니다.

<img
  title="tanzu-alert-chart.png"
  alt="VMWare Tanzu NRQL alert chart"
  src={infrastructureVmwareTanzuAlertChart}
/>

NRQL 쿼리 및 경고에 대해 다른 알림 채널을 설정하는 방법에 대한 자세한 내용은 NRQL 쿼리에 대한 [경고 조건 만들기](/docs/alerts/new-relic-alerts/defining-conditions/create-alert-conditions-nrql-queries) 를 참조하세요.

<Callout variant="important">
  **Infrastructure > Settings** 에서 경고 조건을 만드는 것은 현재 이 통합에 대해 지원되지 않습니다.
</Callout>

## 측정항목 데이터

VMware Tanzu 통합은 다음 메트릭 데이터를 제공합니다.

* [PCFContainerMetric](#pcfcontainermetric)
* [PCF카운터 이벤트](#pcfcounterevent)
* [PCFHttpStartStop](#pcfhttpstartstop)
* [PCFLog메시지](#pcflogmessage)
* [PCF값 메트릭](#pcfvaluemetric)
* [공유 필드](#sharedfields) ( [집계](#aggregation) , [앱](#app) , [장식](#decoration) )

PCFContainerMetric

컨테이너에 있는 앱의 리소스 사용량입니다. 모든 공유 [Aggregation](#aggregation) , [App](#app) 및 [장식](#decoration) 필드를 포함합니다.

`metric.name` 값이 `app.disk` 이면 두 개의 추가 필드를 사용할 수 있습니다.

<table>
  <thead>
    <tr>
      <th>
        이름
      </th>

      <th>
        설명
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `app.disk.quota`
      </td>

      <td>
        사용 가능한 총 디스크(바이트)
      </td>
    </tr>

    <tr>
      <td>
        `app.disk.used`
      </td>

      <td>
        현재 사용 중인 디스크(백분율)
      </td>
    </tr>
  </tbody>
</table>

`metric.name` 값이 `app.memory` 이면 두 개의 추가 필드를 사용할 수 있습니다.

<table>
  <thead>
    <tr>
      <th>
        이름
      </th>

      <th>
        설명
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `app.memory.quota`
      </td>

      <td>
        사용 가능한 총 메모리(바이트)
      </td>
    </tr>

    <tr>
      <td>
        `app.memory.used`
      </td>

      <td>
        현재 백분율로 사용되는 메모리
      </td>
    </tr>
  </tbody>
</table>

### PCF카운터 이벤트

카운터 증분. 모든 공유 [집계](#aggregation) 및 [장식](#decoration) 필드를 포함합니다.

<table>
  <thead>
    <tr>
      <th>
        이름
      </th>

      <th>
        설명
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `total.reported`
      </td>

      <td>
        카운터의 현재 값
      </td>
    </tr>
  </tbody>
</table>

### PCFHttpStartStop

HTTP 요청의 전체 수명 주기입니다. 모든 공유 [장식](#decoration) 필드를 포함합니다. 이러한 이벤트는 [로그 UI](/docs/logs/new-relic-logs/ui-data/explore-your-data-new-relic-logs-ui)의 시각화를 위해 선택적으로 New Relic으로 보낼 수 있습니다.

<table>
  <thead>
    <tr>
      <th>
        이름
      </th>

      <th>
        설명
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `http.content.length`
      </td>

      <td>
        응답 길이(바이트)
      </td>
    </tr>

    <tr>
      <td>
        `http.duration`
      </td>

      <td>
        HTTP 요청 기간(밀리초)
      </td>
    </tr>

    <tr>
      <td>
        `http.method`
      </td>

      <td>
        요청 방법
      </td>
    </tr>

    <tr>
      <td>
        `http.peer.type`
      </td>

      <td>
        요청 주기(서버 또는 클라이언트)에서 방출 프로세스의 역할
      </td>
    </tr>

    <tr>
      <td>
        `http.remote.address`
      </td>

      <td>
        요청의 원격 주소입니다. 서버의 경우 이것이 요청의 출처여야 합니다.
      </td>
    </tr>

    <tr>
      <td>
        `http.request.id`
      </td>

      <td>
        요청의 수명 주기를 추적하기 위한 ID
      </td>
    </tr>

    <tr>
      <td>
        `http.start.timestamp`
      </td>

      <td>
        요청이 전송(클라이언트) 또는 수신(서버)된 UNIX 타임스탬프(나노초)
      </td>
    </tr>

    <tr>
      <td>
        `http.status`
      </td>

      <td>
        요청에 대한 응답과 함께 반환된 상태 코드
      </td>
    </tr>

    <tr>
      <td>
        `http.stop.timestamp`
      </td>

      <td>
        요청이 수신된 UNIX 타임스탬프(나노초)
      </td>
    </tr>

    <tr>
      <td>
        `http.uri`
      </td>

      <td>
        요청 대상
      </td>
    </tr>

    <tr>
      <td>
        `http.user.agent`
      </td>

      <td>
        요청에 대한 UserAgent 헤더의 내용
      </td>
    </tr>
  </tbody>
</table>

### PCFLog메시지

로그 라인 및 관련 메타데이터. 모든 공유 [Aggregation](#aggregation), [App](#app)및 [Decoration](#decoration) 필드를 포함합니다. 이러한 이벤트는 [로그 UI](/docs/logs/new-relic-logs/ui-data/explore-your-data-new-relic-logs-ui)의 시각화를 위해 선택적으로 New Relic으로 보낼 수 있습니다.

<table>
  <thead>
    <tr>
      <th>
        이름
      </th>

      <th>
        설명
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `log.app.id`
      </td>

      <td>
        메시지를 보낸 애플리케이션(또는 애플리케이션과 관련된)
      </td>
    </tr>

    <tr>
      <td>
        `log.message`
      </td>

      <td>
        로그 메시지
      </td>
    </tr>

    <tr>
      <td>
        `log.message.type`
      </td>

      <td>
        메시지 유형( `OUT` 또는 `ERR` )
      </td>
    </tr>

    <tr>
      <td>
        `log.source.instance`
      </td>

      <td>
        메시지를 내보낸 인스턴스
      </td>
    </tr>

    <tr>
      <td>
        `log.source.type`
      </td>

      <td>
        메시지 소스입니다. Cloud Foundry의 경우 `APP` , `RTR` , `DEA` , `STG` 등이 될 수 있습니다.
      </td>
    </tr>

    <tr>
      <td>
        `log.timestamp`
      </td>

      <td>
        로그가 작성된 UNIX 타임스탬프(나노초)
      </td>
    </tr>
  </tbody>
</table>

### PCF값 메트릭

Loggregator에서 가져온 키-값 쌍의 단순 목록입니다. 광범위한 목록 [은 공식 문서 를 참조하십시오](https://docs.cloudfoundry.org/running/all_metrics.html) .

모든 공유 [집계](#aggregation) 및 [장식](#decoration) 필드를 포함합니다.

### 측정항목 데이터에서 공유되는 필드 [#sharedmetrics]

VMWare Tanzu 메트릭에는 다음 범주의 공유 데이터 필드가 포함되어 있습니다.

* [집계 필드](#aggregation)
* [앱 필드](#app)
* [장식 분야](#decoration)

**집계 필드**

집계 프로세스에서 생성된 필드입니다.

`PCFCounterEvent` , `PCFContainerMetric` 및 `PCFValueMetric` 에서 공유합니다.

<table>
  <thead>
    <tr>
      <th>
        이름
      </th>

      <th>
        설명
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `metric.max`
      </td>

      <td>
        전송된 마지막 집계 메트릭에서 노즐에 의해 기록된 메트릭의 최대값
      </td>
    </tr>

    <tr>
      <td>
        `metric.min`
      </td>

      <td>
        전송된 마지막 집계 메트릭에서 노즐에 의해 기록된 메트릭의 최소값
      </td>
    </tr>

    <tr>
      <td>
        `metric.name`
      </td>

      <td>
        보고된 측정항목의 이름

        **참고:** 필드에는 수백 개의 다른 값이 포함될 수 있습니다.
      </td>
    </tr>

    <tr>
      <td>
        `metric.sample.last.value`
      </td>

      <td>
        측정항목의 마지막 수신 값
      </td>
    </tr>

    <tr>
      <td>
        `metric.samples.count`
      </td>

      <td>
        마지막으로 집계된 메트릭이 전송된 이후 노즐이 수신한 메트릭의 샘플 수
      </td>
    </tr>

    <tr>
      <td>
        `metric.sum`
      </td>

      <td>
        전송된 마지막 집계 메트릭에서 노즐에 의해 기록된 모든 메트릭 값의 합계
      </td>
    </tr>

    <tr>
      <td>
        `metric.type`
      </td>

      <td>
        측정항목 유형(예: `integer` )
      </td>
    </tr>

    <tr>
      <td>
        `metric.unit`
      </td>

      <td>
        미터법 단위. 예를 들어, `delta` , `seconds` 또는 `bytes`
      </td>
    </tr>
  </tbody>
</table>

**앱 필드**

데이터 소스를 설명하는 필드입니다.

`PCFContainerMetric` 및 `PCFLogMessage` 이(가) 공유합니다.

<table>
  <thead>
    <tr>
      <th>
        이름
      </th>

      <th>
        설명
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `app.instance.state`
      </td>

      <td>
        신청 현황
      </td>
    </tr>

    <tr>
      <td>
        `app.instance.uid`
      </td>

      <td>
        애플리케이션 인스턴스의 ID
      </td>
    </tr>

    <tr>
      <td>
        `app.instances.desired`
      </td>

      <td>
        필요한 인스턴스 수
      </td>
    </tr>

    <tr>
      <td>
        `app.name`
      </td>

      <td>
        애플리케이션 이름
      </td>
    </tr>

    <tr>
      <td>
        `app.org.name`
      </td>

      <td>
        애플리케이션이 속한 조직
      </td>
    </tr>

    <tr>
      <td>
        `app.space.name`
      </td>

      <td>
        애플리케이션이 실행되는 공간
      </td>
    </tr>
  </tbody>
</table>

**장식 분야**

에이전트, PCF 환경 및 타임스탬프와 관련된 정보가 포함된 필드입니다.

모든 데이터 유형에서 공유됩니다.

<table>
  <thead>
    <tr>
      <th>
        이름
      </th>

      <th>
        설명
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `agent.instance`
      </td>

      <td>
        노즐 ID
      </td>
    </tr>

    <tr>
      <td>
        `agent.ip`
      </td>

      <td>
        노즐 IP 주소
      </td>
    </tr>

    <tr>
      <td>
        `agent.subscription`
      </td>

      <td>
        Firehose에 등록된 에이전트 구독 ID
      </td>
    </tr>

    <tr>
      <td>
        `agent.version`
      </td>

      <td>
        노즐 버전
      </td>
    </tr>

    <tr>
      <td>
        `bosh.domain`
      </td>

      <td>
        Tanzu 환경의 API URL
      </td>
    </tr>

    <tr>
      <td>
        `pcf.IP`
      </td>

      <td>
        IP 주소(소스를 고유하게 식별하는 데 사용됨)
      </td>
    </tr>

    <tr>
      <td>
        `pcf.deployment`
      </td>

      <td>
        배포 이름(소스를 고유하게 식별하는 데 사용)
      </td>
    </tr>

    <tr>
      <td>
        `pcf.domain`
      </td>

      <td>
        Tanzu 환경의 API URL
      </td>
    </tr>

    <tr>
      <td>
        `pcf.index`
      </td>

      <td>
        작업 인덱스(소스를 고유하게 식별하는 데 사용됨)
      </td>
    </tr>

    <tr>
      <td>
        `pcf.job`
      </td>

      <td>
        작업 이름(소스를 고유하게 식별하는 데 사용됨)
      </td>
    </tr>

    <tr>
      <td>
        `pcf.origin`
      </td>

      <td>
        이벤트의 기원에 대한 고유한 설명
      </td>
    </tr>

    <tr>
      <td>
        `timestamp`
      </td>

      <td>
        이벤트의 UNIX 타임스탬프(밀리초)입니다.

        예시: `1582023990236`
      </td>
    </tr>

    <tr>
      <td>
        `pcf.envelope.type`
      </td>

      <td>
        래핑된 이벤트 유형
      </td>
    </tr>

    <tr>
      <td>
        `nr.customEventSource`
      </td>

      <td>
        커스텀 이벤트 소스
      </td>
    </tr>
  </tbody>
</table>