---
title: 스크레이퍼 메트릭 가져오기(Prometheus 통합)
type: troubleshooting
tags:
  - Integrations
  - Prometheus integrations
  - Troubleshooting
metaDescription: How to get scraper metrics for your Prometheus OpenMetrics integration with New Relic for Docker or Kubernetes.
translationType: machine
---

import osDocker from 'images/os_icon_docker.webp'

import osk8 from 'images/os_icon_k8.webp'

## 문제

Docker 또는 Kubernetes용 New Relic과 Prometheus OpenMetrics 통합에 대한 스크레이퍼 메트릭을 얻으려고 합니다.

<img title="Docker icon" alt="Docker icon" src={osDocker}/>

**Docker: **`http://localhost:8080/metrics` 엔드포인트를 구성하면 통합에서 자체 측정항목도 스크랩합니다.

<img title="img-integration-k8s@2x.png" alt="img-integration-k8s@2x.png" src={osk8}/>

**Kubernetes: **기본적으로 스크레이퍼는 자체 메트릭도 스크랩합니다.

## 해결책

스크레이퍼 내부에서 일어나는 일에 대해 자세히 알아보려면 New Relic과 Docker 또는 Kubernetes 통합에 대해 다음 메트릭을 사용하십시오.

<table>
  <thead>
    <tr>
      <th>
        미터법
      </th>

      <th>
        설명
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `nr_stats_targets`
      </td>

      <td>
        검색자별로 검색된 대상(예: 고정, Kubernetes)입니다.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_fetch_errors_total`
      </td>

      <td>
        가져오기를 시도했지만 대상별로 오류가 발생했습니다.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_discoveries_total`
      </td>

      <td>
        검색자(예: 고정, Kubernetes)에서 검색을 시도했습니다.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_fetches_total`
      </td>

      <td>
        대상에서 시도한 가져오기입니다.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_integration_fetch_target_duration_seconds`
      </td>

      <td>
        대상의 메트릭을 가져오는 데 걸린 총 시간(초)입니다.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_integration_list_targets_duration_by_kind`
      </td>

      <td>
        리소스 종류 및 검색기(예: Kubernetes Pod, 서비스 등)별로 대상 목록을 가져오는 데 걸리는 총 시간(초)입니다.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_integration_payload_size`
      </td>

      <td>
        대상의 페이로드 크기입니다.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_integration_process_duration_seconds`
      </td>

      <td>
        통합의 모든 단계를 처리하는 데 소요된 총 시간(초)입니다.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_integration_total_executions`
      </td>

      <td>
        통합이 실행된 횟수입니다.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_integration_total_payload_size`
      </td>

      <td>
        스크랩된 페이로드의 총 크기입니다.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_metrics_total_timeseries`
      </td>

      <td>
        스크랩된 시계열의 총 수입니다.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_metrics_total_timeseries_by_target`
      </td>

      <td>
        대상별 총 시계열 수입니다.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_metrics_total_timeseries_by_target_type`
      </td>

      <td>
        유형 및 대상별로 스크랩한 메트릭의 총 수입니다.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_metrics_total_timeseries_by_type`
      </td>

      <td>
        유형별로 스크랩한 총 측정항목 수입니다.
      </td>
    </tr>

    <tr>
      <td>
        `nr_stats_discovery_errors_total`
      </td>

      <td>
        검색자에 의해 오류가 발생한 검색을 시도했습니다.
      </td>
    </tr>
  </tbody>
</table>