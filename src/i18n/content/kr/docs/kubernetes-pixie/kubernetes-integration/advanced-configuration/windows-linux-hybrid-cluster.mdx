---
title: Windows 및 Linux 노드가 있는 하이브리드 클러스터에 설치
tags:
  - Kubernetes
  - Windows
  - Linux
  - Installation
metaDescription: Learn how to install New Relic to a hybrid Windows and Linux Kubernetes cluster.
freshnessValidatedDate: '2024-04-05T00:00:00.000Z'
translationType: machine
---

이 문서에서는 Windows 및 Linux 혼합 클러스터에 대한 Kubernetes 통합 설치를 명확히 설명합니다.

## 전제 조건 [#prerequisites]

계속 진행하기 전에 다음을 완료했는지 확인하세요.

* 컨테이너 이미지를 Windows 노드로 가져오는 기능을 포함하여 Windows 및 Linux 노드가 포함된 클러스터입니다.

* Helm 리포지터리를 설정하고 삭제스페이스를 만듭니다.

  ```shell
  helm repo add newrelic https://helm-charts.newrelic.com
  helm repo update
  kubectl create namespace newrelic
  ```

## 현재 차트 번들 설치 [#install-chart-bundle]

`newrelic/nri-bundle` 차트는 Linux 노드의 모든 항목에 대한 모든 최신 업데이트가 포함된 일반 차트입니다. Windows에 설치하도록 `newrelic-logging` 차트를 구성할 수 있습니다. 이 기능은 안정적이며 로깅 차트에서 지원됩니다.

다른 차트를 사용할 수 있지만 Windows로 예약하지 않으려면 `NodeSelector` 를 구성해야 합니다. 안내 설치의 기본값을 사용하는 혼합 클러스터에서 설치가 실패하는 경우 `nodeSelector` 값을 추가하세요.

선호하는 텍스트 편집기를 사용하여 값 파일을 생성하고 이름을 `values.yaml` 으로 지정하겠습니다. 뉴렐릭 UI 에서 스타터 `values.yaml` 파일을 다운로드할 수 있습니다. Kubernetes 통합을 추가하고 측정, 로그 메서드로 **Helm을** 선택합니다.

```yaml
global:
  licenseKey: mykey
  cluster: mycluster
  lowDataMode: true
 
newrelic-infrastructure:
  enabled: true
  nodeSelector:
    kubernetes.io/os: linux
 
kube-state-metrics:
  enabled: true
  image:
    tag: v2.10.0
  nodeSelector:
    kubernetes.io/os: linux
 
nri-kube-events:
  enabled: true
  nodeSelector:
    kubernetes.io/os: linux
 
newrelic-logging:
  enabled: true
  enableWindows: true
 
nri-metadata-injection:
  enabled: true
  nodeSelector:
    kubernetes.io/os: linux
 
newrelic-prometheus-agent:
  enabled: true
  verboseLog: true
  config:
    kubernetes:
      integrations_filter:
        enabled: false
  nodeSelector:
    kubernetes.io/os: linux
```

## 번들 설치 [#install-bundle]

번들을 설치하려면 다음 명령을 실행하세요.

```shell
helm upgrade --install newrelic-bundle newrelic/nri-bundle --namespace newrelic -f values-newrelic.yaml

```

Helm이 반환되면 각 Windows 노드의 로깅 패드를 포함하여 모든 패드가 시작되어야 합니다. 아직 Windows 노드에는 다른 뉴렐릭 파드가 없습니다.

## Windows 노드용 newrelic-infrastructure 미리보기 설치 [#newrelic-infra]

`newrelic-infrastructure` v2 차트의 값 파일을 만듭니다. 예를 들어, `windows-values.yaml`. 아래 예는 Windows 2022 노드 그룹 또는 노드 풀이 있는 클러스터에 대한 것입니다. [다음 지침에](/docs/kubernetes-pixie/kubernetes-integration/installation/kubernetes-integration-install-configure/#windows-install) 따라 올바른 값으로 `windowsOsList` 섹션을 조정하세요. 이는 2019년 또는 2022년을 실행하는 경우에 적용됩니다.

```yaml
global:
  licenseKey: mykey
  cluster: mycluster
 
enableLinux: false
enableWindows: true
windowsOsList:
  - version: 2022
    imageTag: 2-windows-ltsc2022-alpha
    buildNumber: 10.0.20348
windowsNodeSelector:
  kubernetes.io/os: windows
```

`newrelic-infrastructure` 차트의 v2.7.2 버전을 설치합니다. 다음 명령을 실행하세요:

```shell
helm upgrade --install newrelic-windows newrelic/newrelic-infrastructure --namespace newrelic --version 2.7.2 -f windows-values.yaml
```

Helm이 반환되면 각 Windows 노드에 `newrelic-windows-newrelic-infrastructure` 패드가 표시되어야 합니다.

## 예상되는 결과 [#expected-results]

모든 설정이 완료되면 뉴렐릭 UI 쿠버네티스 클러스터에 Windows 노드가 표시됩니다. 통합 지표, 파드 실행 및 모든 관련 정보를 볼 수 있습니다.