---
title: 파이프라인 규칙 만들기
metaDescription: Learn how to create pipeline cloud rules to drop data or attributes after it reaches New Relic.
freshnessValidatedDate: never
translationType: machine
---

파이프라인 취소 cloud 규칙은 뉴렐릭의 렌더링에서 실행되고 뉴렐릭 엔드포인트에 도달한 후 데이터를 처리합니다. cloud 규칙을 사용하여 인프라 관리 없이 원치 않는 데이터나 속성을 삭제할 수 있습니다.

클라우드 규칙은 계정별로 적용되며, NRQL 사용하여 작성되고, 뉴럴릭 UI 또는 NerdGraph API 통해 관리됩니다. 네트워크를 떠나기 전에 데이터를 처리하려면 [파이프라인 취소 게이트웨이를](/docs/new-relic-control/pipeline-control/gateway/overview) 참조하세요.

cloud 규칙과 게이트웨이를 언제 사용해야 하는지 이해하려면 [파이프라인 위험 개요를](/docs/new-relic-control/pipeline-control/overview) 참조하세요.

뉴렐릭 UI 통해 cloud 규칙을 생성하는 방법은 두 가지가 있습니다. 안내에 따라 생성하는 방법과 NRQL 쿼리를 직접 작성하는 방법입니다. 안내형 방식은 단계별 마법사를 통해 규칙 설정을 지원하며, NRQL 쿼리 옵션을 사용하면 사용자 지정 쿼리를 생성하여 데이터를 정확하게 필터링할 수 있습니다. API 통해 cloud 규칙을 관리할 수도 있습니다. 게이트웨이 설정에 대한 [자세한 내용은 게이트웨이 설명서를](/docs/new-relic-control/pipeline-control/gateway/overview) 참조하십시오.

안내 방법을 사용하여 규칙을 생성할 때 지표, 이벤트, 로그 또는 트레이스를 포함하여 필터링하려는 데이터 유형을 지정할 수 있습니다. 또한 규칙을 뉴렐릭의 관측에서 실행되는 cloud 규칙으로 구현하거나 사용자 환경에서 실행되는 게이트웨이 규칙으로 구현, 배포할 위치를 결정할 수 있습니다.

<Callout variant="important">
  * 통풍 조절 규칙은 규칙을 만든 순간부터 도착하는 데이터에만 적용되며, [이미 수집된](/docs/telemetry-data-platform/ingest-manage-data/manage-data/manage-data-retention#data-deletion) 데이터는 삭제하지 않습니다.
  * 게이트웨이 규칙에는 게이트웨이의 구현, 배포가 필요합니다.
  * 규칙을 생성하려면 적절한 역할 기반 액세스 제어(RBAC) 기능이 있어야 합니다. 자세한 내용은 [필수 조건](/docs/new-relic-control/pipeline-control/overview/#prerequisites) 을 참조하세요. 사용자가 만든 규칙과 해당 규칙에 포함된 모든 정보는 해당 RBAC 권한이 있는 모든 사용자가 보고 편집할 수 있습니다.
  * 규칙을 만들 때는 해당 규칙이 귀하가 정한 조건을 충족하는 데이터를 정확하게 식별하고 삭제하는지 확인해야 합니다. 또한 귀하는 규칙을 모니터링하고, 귀하가 뉴렐릭에 공개하는 데이터에 대해서도 책임을 져야 합니다.
</Callout>

## 가이드 방식을 통해 [#via-guided-method]

안내 방식에 따라 cloud 규칙을 생성하려면 다음 단계를 따르세요.

1. 뉴렐릭에서 뉴렐릭 Control로 가서 **Pipeline Rules** 탭을 엽니다.

2. **Create a rule** \[규칙 만들기]를 클릭합니다. 나타나는 마법사에서는 기본적으로 안내 방식이 선택되어 있습니다.

3. 필터링할 데이터 유형( **지표**, **이벤트**, **로그인** 또는 **트레이스**)을 선택한 후 **다음 을** 클릭합니다.

4. 규칙 이름을 입력하세요.

5. 데이터나 속성을 삭제할지 여부를 선택합니다. 전체 레코드를 삭제하려면 **Drop data** \[데이터 삭제]를 선택합니다. 그렇지 않으면 보존되는 데이터의 특정 속성이나 속성을 삭제하려면 **Drop attributes** \[속성 삭제]를 선택합니다.

6. **Cloud rule** \[Cloud 규칙]을 선택하여 구현하고, 규칙을 뉴렐릭의 뷰에 배포합니다.

7. 원하는 경우 규칙에 대한 친절한 설명을 추가하세요.

8. cloud 규칙을 설정할 때 현재 계정이 선택되어 있는지 확인하십시오.

9. 이전에 선택한 텔레메트리 데이터 유형에 따라 다음 작업을 수행합니다. **지표의 경우:**

   * 데이터를 삭제할 메트릭을 선택합니다.
   * NRQL `WHERE` 절을 사용하여 쿼리된 데이터의 범위를 지정하여 데이터를 필터링합니다. `WHERE` 절을 사용하면 다양한 데이터 유형에 걸쳐 조건부 필터링을 추가할 수 있습니다.
   * 속성을 삭제하는 경우 드롭다운 메뉴를 사용하여 메트릭 속성을 지정합니다. **이벤트의 경우:**
   * 데이터를 삭제할 이벤트를 선택하세요.
   * NRQL `WHERE` 절을 사용하여 쿼리된 데이터의 범위를 지정하여 데이터를 필터링합니다.
   * 속성을 삭제하는 경우 드롭다운 메뉴를 사용하여 이벤트 속성을 지정합니다. **로그의 경우:**
   * 데이터를 삭제할 파티션을 선택합니다.
   * NRQL `WHERE` 절을 사용하여 쿼리된 데이터의 범위를 지정하여 데이터를 필터링합니다. 로그 필터링의 예: `level = 'INFO'` 이를 통해 사용자 레벨, 오류 유형 또는 기타 관련 속성을 기준으로 로그를 필터링하는 등 특정 조건으로 쿼리 범위를 좁힐 수 있습니다.
   * 속성을 삭제하는 경우 드롭다운 메뉴를 사용하여 속성을 지정합니다. **트레이스의 경우:**
   * NRQL `WHERE` 절을 사용하여 쿼리된 데이터의 범위를 지정하여 데이터를 필터링합니다.
   * 속성을 삭제하는 경우 드롭다운 메뉴를 사용하여 속성을 지정합니다.

10. 규칙을 저장합니다. 규칙은 구현하다, 배포하다입니다.

## NRQL 쿼리를 작성하여 [#nrql-query]

NRQL 쿼리를 직접 작성하여 cloud 규칙을 만들려면 다음 단계를 따르세요.

1. 뉴렐릭에서 뉴렐릭 Control로 가서 **Pipeline Rules** 탭을 엽니다.
2. **Create a rule** \[규칙 만들기]를 클릭합니다. 새 규칙 만들기 마법사가 나타납니다. 기본적으로 가이드 방식이 선택되어 있습니다.
3. **Write a NRQL query** \[NRQL 쿼리 작성을] 선택하세요.
4. 규칙 이름을 입력하세요.
5. 데이터 필터링을 위한 NRQL 쿼리를 직접 작성하려면 **Write your query** \[쿼리 작성을] 클릭합니다. 쿼리 빌더가 아래쪽에 열립니다.
6. `SELECT` 키워드를 사용하여 쿼리를 작성하고 **Run** \[실행을] 클릭하여 테스트합니다. 이는 나중에 데이터가 수집될 때 이 규칙의 영향을 받는 데이터의 예를 보여줍니다. 하지만 저장된 데이터는 귀하가 작성한 규칙의 영향을 받지 않습니다.
7. 만족하면 **Save rule** \[규칙 저장을] 클릭하세요. 저장 시 `SELECT` 키워드는 `DELETE` 키워드로 바뀌므로 규칙은 `SELECT` 사용하여 참조한 데이터를 삭제합니다.
8. **Cloud rule** \[클라우드 규칙]을 선택하여 구현하고 배포하려면 뉴렐릭의 클라우드 컴퓨팅에 규칙을 적용하세요.
9. cloud 규칙의 경우 규칙을 적용할 계정도 선택해야 합니다.
10. **Save** \[저장을] 클릭하세요. 이제 규칙은 구현하다, 배포하다입니다.

파이프라인 규칙에서 지원되는 NRQL 함수 목록은 [NRQL 함수를](/docs/new-relic-control/pipeline-control/nrql-functions) 참조하세요.

## 주의 [#caution]

뉴렐릭은 이 기능이 귀하가 가질 수 있는 데이터 공개 우려 사항을 완전히 해결할 것이라고 보장할 수 없습니다. 뉴렐릭은 귀하가 개발한 규칙이 얼마나 효과적인지 검토하거나 평가하지 않습니다. 항상 쿼리를 테스트하고 다시 테스트하고, 삭제 규칙을 만든 후에는 의도한 대로 작동하는지 확인하세요.

민감한 데이터에 대한 규칙을 만들면 데이터나 시스템의 형식(예: 이메일 주소나 특정 신용 카드 번호 참조)을 포함하여 유지 관리하는 데이터 종류에 대한 정보가 유출될 수 있습니다.

## 다음 단계

* cloud 규칙의 경우 이제 규칙은 구현하다, 배포하다 및 활성 상태입니다.
* 게이트웨이 설정에 대한 [자세한 내용은 게이트웨이 설명서를](/docs/new-relic-control/pipeline-control/gateway/overview) 참조하십시오.
* 게이트웨이 클러스터 설정을 위해 게이트웨이 클러스터에 대한 로드 밸런서를 구현합니다]\(/docs/뉴클레릭-control/pipeline-control/load-balancer-for-gateway).