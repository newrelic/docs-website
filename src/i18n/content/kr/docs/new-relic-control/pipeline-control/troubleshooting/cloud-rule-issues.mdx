---
title: '문제 해결, 파이프라인 정리 cloud 규칙'
metaDescription: Diagnose and resolve common issues with Pipeline Control cloud rules that drop data in New Relic infrastructure.
freshnessValidatedDate: never
translationType: machine
---

이 가이드는 파이프라인 금지 cloud 규칙과 관련된 일반적인 문제를 해결하는 데 도움이 됩니다. 클라우드 규칙은 뉴렐릭의 어셈블리에서 실행되며 NRQL 사용하여 뉴렐릭 엔드포인트에 도달한 후 원치 않는 데이터를 삭제합니다.

## 데이터를 삭제하지 않는 규칙

### 잘못된 NRQL 구문입니다.

**문제**: 해당 규칙에 유효하지 않은 NRQL 구문이 포함되어 있어 데이터 처리에 실패합니다.

**증상**:

* 규칙은 UI에 표시되지만 데이터는 삭제되지 않습니다.
* 예상되는 하락폭이 나타나지 않음
* 규칙 상태가 비활성 또는 실패로 표시됩니다.

**해결책**:

* 쿼리 빌더에서 `DELETE` `SELECT` 로 변경하여 쿼리 논리를 테스트함으로써 NRQL 구문의 유효성을 검사하십시오.

* 쿼리가 예상 데이터를 반환하는지 확인한 후 원래대로 되돌리십시오. `DELETE`

* 일반적인 NRQL 구문 오류를 확인하세요:

  * `WHERE` 절이 누락되었거나 잘못되었습니다.
  * 잘못된 속성 이름 또는 데이터 유형입니다.
  * 잘못된 비교 연산자

* 구문 관련 자세한 내용은 [NRQL 문서를](/docs/nrql/get-started/introduction-nrql-new-relics-query-language/) 참조하십시오.

* 구문 오류를 수정하고 저장하도록 규칙을 편집하세요.

### 규칙이 예상 데이터와 일치하지 않습니다.

**문제**: NRQL 쿼리는 구문적으로는 올바르지만, 삭제하려는 데이터와 일치하지 않습니다.

**증상**:

* 규칙은 활성화되어 있지만 드롭 메트릭에 볼륨이 0 또는 낮게 표시됩니다.
* 삭제될 것으로 예상되는 데이터가 여전히 뉴럴릭에 나타납니다.
* 쿼리를 테스트했을 때 결과가 반환되지 않습니다. `SELECT`

**해결책**:

* 규칙이 `DELETE` 대신 `SELECT` 사용하여 어떤 데이터와 일치하는지 테스트해 보세요.

* 속성 이름이 실제 데이터와 일치하는지 확인하십시오.

  * 속성의 철자와 대소문자를 확인하세요.
  * 데이터 탐색기를 사용하여 텔레메트리의 실제 속성 이름을 검사하세요.

* 데이터 유형이 일치하는지 확인하세요 (문자열과 숫자 비교).

* 시간 범위를 확인하세요 - 선택한 시간 범위 내에 데이터가 있는지 확인하십시오

* `FROM` 절을 확인하고, 데이터 유형이 올바른지 확인하세요(로그, 인덱스, Span, 프로세서)

* 데이터를 더 정확하게 일치시키도록 `WHERE` 조건을 다듬으세요

### 잘못된 계정에 규칙을 구현하다, 배포하다

**문제**: 규칙이 활성화되었지만 의도한 계정과 다른 계정에서 데이터를 처리하고 있습니다.

**증상**:

* UI에 규칙이 존재하지만 예상 데이터가 여전히 표시됩니다.
* 드롭사이드가 현재 보고 있는 계정에 표시되지 않습니다.
* 규칙이 어떤 계정에 적용되는지에 대한 혼란

**해결책**:

* 파이프라인 위험 UI에서 계정 선택기를 확인하세요.
* cloud 규칙은 **계정별로 적용된다는** 점을 기억하세요(게이트웨이 규칙은 조직 전체에 적용됩니다).
* 규칙이 실행되고 배포되는 동일한 계정을 보고 있는지 확인하십시오.
* 해당 계정의 규칙 목록을 확인하여 규칙이 존재하는지 확인하십시오.
* 필요한 경우, 해당 계정에서 규칙을 다시 생성하세요.

## 규칙 생성 및 편집 문제

### 규칙을 생성하거나 편집할 수 없습니다.

**문제**: cloud 규칙을 생성하거나 수정할 권한이 없습니다.

**증상**:

* 생성/편집 버튼이 비활성화되었거나 없습니다.
* 권한 부족 오류 메시지
* 변경 사항이 저장되지 않습니다

**해결책**:

* 파이프라인 위험 cloud 규칙에 필요한 역할과 기능이 있는지 확인하세요.
* 계정 관리자에게 문의하여 적절한 권한을 부여받으세요.
* 필요한 권한에 대해서는 [사용자 권한 문서를](/docs/accounts/accounts-billing/new-relic-one-user-management/user-permissions/) 참조하십시오.
* 올바른 계정에 적절한 접근 권한이 있는지 확인하십시오.

### 규칙 변경 사항이 표시되지 않습니다

**문제**: 규칙을 생성하거나 수정했지만 규칙 목록에 변경 사항이 표시되지 않습니다.

**증상**:

* 변경 사항을 적용했는데 UI에 반영되지 않습니다.
* 규칙 목록에 이전 버전이 표시됩니다.
* 변화가 사라진 것 같습니다.

**해결책**:

* 파이프라인 지배 UI 페이지 새로 고침
* 규칙을 저장했는지 확인하세요 (저장하면 변경 사항이 즉시 적용됩니다).
* 규칙이 활성화되어 있는지 확인하세요 (규칙은 삭제하지 않고도 비활성화할 수 있습니다).
* 계정 선택기에서 올바른 계정을 보고 있는지 확인하세요.
* 변경 사항은 몇 초 내에 적용됩니다. 새로 고침 후에도 변경 사항이 보이지 않으면 규칙을 다시 편집해 보세요.

## 모델 및 지표 문제

### 누락된 드롭 지표

**문제**: 규칙은 활성화되어 있지만 삭제된 데이터에 대한 정보를 볼 수 없습니다.

**증상**:

* 규칙은 UI에서 활성화된 상태로 표시됩니다.
* 대시보드에 드롭 볼륨 지표가 표시되지 않습니다.
* 규칙이 제대로 작동하는지 확인할 수 없습니다.

**해결책**:

* 규칙 구현 후 지표가 나타날 때까지 몇 분 정도 기다립니다.
* 규칙이 실제로 일치하고 데이터를 삭제하는지 확인하려면 테스트를 통해 검증하십시오. `SELECT`
* 올바른 계정을 확인하세요. 드롭 메트릭은 규칙이 적용된 계정과 동일한 계정에 표시됩니다.
* NRQL을 사용하여 드롭 메트릭을 직접 쿼리합니다.
  ```sql
  FROM NrIntegrationError SELECT count(*) WHERE newRelicFeature = 'pipeline_control'
  ```
* 규칙이 데이터와 일치하지 않으면 [&quot;규칙이 예상 데이터와 일치하지 않음&quot;을](#rule-not-matching-expected-data)참조하십시오.

### 예상치 못한 비용 영향

**문제**: 클라우드 규칙 비용이 예상보다 높습니다.

**증상**:

* 높은 BSE(수십억 건의 스캔 이벤트) 수치
* 비용이 예상 낙찰량과 일치하지 않습니다.
* 계량 효율에 대한 우려

**해결책**:

* 규칙의 `WHERE` 절을 검토하세요. 더 광범위한 조건은 더 많은 이벤트를 스캔합니다.

* BSE 스캔 횟수를 줄이려면 보다 선택적인 조건을 사용하는 것을 고려하십시오.

* BSE는 일반적으로 GB보다 비용에서 훨씬 적은 비중을 차지한다는 점을 기억하십시오.

* 대용량 데이터 소스의 경우 [게이트웨이 규칙을](/docs/new-relic-control/pipeline-control/gateway/overview) 사용하는 것을 고려해 보세요. 게이트웨이 규칙은 다음과 같은 기능을 제공합니다.

  * 뉴릭에 도달하기 전에 데이터를 처리하세요.
  * 유입량에 따라 요금이 부과되며, 유입되는 물방울의 양과는 관계없습니다.
  * 대규모 필터링에 더 비용 효율적일 수 있습니다.

* 계량 모델에 대한 자세한 내용 [은 비용 관련 문서를](/docs/new-relic-control/pipeline-control/costs) 검토하십시오.

## 데이터 동작 문제

### 규칙을 구현한 후에도 데이터가 계속 표시됩니다.

**문제**: 구현하다, 배포하다 규칙을 삭제했지만 데이터가 여전히 뉴렐릭에 나타납니다.

**증상**:

* 특정 데이터를 대상으로 하는 `DELETE` 규칙을 생성했습니다.
* 규칙이 활성 상태로 표시됩니다
* 예상했던 데이터가 대시보드와 쿼리에 계속 표시됩니다.

**해결책**:

* 규칙이 `DELETE` 사용하는지 확인하십시오. `SELECT`

* 규칙이 **활성화되어** 있는지 확인하십시오 (비활성화된 규칙은 데이터를 처리하지 않습니다).

* 규칙이 예상 데이터와 일치하는지 확인하기 위해 `SELECT` 으로 테스트하십시오.

* 규칙의 `WHERE` 조건이 실제로 데이터와 일치하는지 확인하십시오.

* cloud 규칙은 **구현 및 배포 이후에 도착하는 새로운 데이터**에만 영향을 미친다는 점을 기억하세요.

  * 이미 NRDB에 있는 이력 데이터는 영향을 받지 않습니다.
  * 규칙 활성화 전에 전송된 데이터는 그대로 유지됩니다.

* 규칙은 저장 후 몇 초 내에 활성화됩니다. 데이터가 여전히 표시되는 경우 규칙이 제대로 적용되지 않았을 수 있습니다.

* 규칙 구현 이전의 데이터가 아닌 최근 데이터를 보고 있는지 확인하십시오.

* 규칙이 실행되다, 배포되다인 올바른 계정을 확인하세요

### 데이터 손실이 너무 많다는 규칙

**문제**: 규칙이 의도한 것보다 더 많은 데이터를 삭제하고 있습니다.

**증상**:

* 뉴렐릭에서 예상 데이터가 누락되었습니다.
* 드롭은 예상보다 높은 거래량을 보였습니다.
* Dashboards 또는 알림 누락 데이터

**해결책**:

* 규칙의 `WHERE` 조항을 주의 깊게 검토하십시오.

* `SELECT` 사용하여 규칙을 테스트하고 정확히 어떤 항목과 일치하는지 확인하십시오.

* 조건이 지나치게 포괄적인지 확인하세요:

  * `LIKE '%value%'` 사용하면 의도한 것보다 더 많은 항목과 일치할 수 있습니다.
  * 범위를 좁혀야 할 조건들이 누락되었습니다.
  * 잘못된 부울 논리 (`AND` 대 `OR`)

* 규칙을 수정하여 더 구체적인 조건을 추가하세요.

* 하나의 포괄적인 규칙 대신 여러 개의 세부적인 규칙을 만드는 것을 고려해 보세요.

* 올바른 동작을 확인하기 위해 변경 후 드롭 지표를 모니터합니다.

## 다음 단계

이 문제 해결, 해결 가이드를 따른 후에도 문제가 계속 발생하는 경우:

* [cloud 규칙 문서를](/docs/new-relic-control/pipeline-control/cloud-rules/create-pipeline-rules) 검토하여 규칙 설정을 확인하십시오.
* 쿼리 구문에 대한 자세한 내용 [은 NRQL 문서를](/docs/nrql/get-started/introduction-nrql-new-relics-query-language/) 참조하십시오.
* 구현하다, 배포하기 전에 쿼리 빌더를 사용하여 규칙의 `SELECT` 버전을 테스트하세요.
* cloud 규칙에 대한 측정 방식을 이해하기 위해 [비용 관련 문서를](/docs/new-relic-control/pipeline-control/costs) 검토하십시오.
* 규칙 정의 및 계정 정보를 뉴렐릭 지원팀에 문의하세요.