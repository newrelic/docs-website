---
title: 구독 사용량(원래 가격 책정 모델)
tags:
  - Accounts
  - Original accounts and billing
  - Original pricing model usage
metaDescription: 'For accounts on our original pricing model, how to understand your product subscription usage data.'
translationType: machine
---

import newRelicUsageUi from 'images/New-Relic-usage-UI.png'

<Callout variant="important">
  이 문서는 원래 [제품 기반 가격 책정](/docs/accounts/original-accounts-billing/product-pricing/product-based-pricing) 에 대한 계정을 위한 것입니다. 최신 가격 책정 모델을 사용 중인 경우 [사용량 기반 가격 책정 문서 를](/docs/accounts/accounts-billing/new-relic-one-pricing-users/pricing-billing) 참조하세요. 어느 쪽을 사용 중인지 확실하지 않습니까? [가격 책정 모델 개요 를](/docs/accounts/original-accounts-billing/original-product-based-pricing/overview-pricing-models) 참조하십시오.
</Callout>

[원래 가격 모델](/docs/accounts/original-accounts-billing/product-pricing/product-based-pricing) 계정의 경우 사용 UI를 통해 데이터 사용량을 예측 가능하게 추적하고 이것이 가격에 어떤 영향을 미칠 수 있는지 확인할 수 있습니다. 이 문서에서는 구독 사용 UI가 작동하는 방식과 필요한 사용 데이터를 쿼리하고 검색하는 방법을 설명합니다.

사용 데이터를 보려면:

* 계정 소유자 또는 관리자인 경우 New Relic UI에서 구독 사용 데이터에 액세스할 수 있습니다.
* 계정 소유자 또는 관리자가 아닌 경우 [`NrDailyUsage` 이벤트](/attribute-dictionary/?event=NrDailyUsage) 를 사용하여 사용 데이터를 쿼리할 수 있습니다.

## 작동 원리 [#about-usage]

<Callout variant="tip">
  **소유자 및 관리자**
</Callout>

구독 사용 UI는 New Relic 제품이 얼마나 사용되고 있으며 그 사용이 계정의 [구독 수준과 가격](/docs/accounts/accounts/subscription-pricing) 에 어떤 영향을 미칠 수 있는지 보여줍니다. 예를 들어 다음을 볼 수 있습니다.

* 조직의 부서 또는 하위 계정이 청구 가능한 New Relic 사용량에 기여하는 정도입니다. 이는 예를 들어 조직에서 IT 차지백을 사용하는 경우에 유용합니다.
* Insights Pro 구독 수준 이상에 얼마나 근접했는지입니다.

제품 사용을 이해하려면 다음 리소스 중 하나를 사용하십시오.

* New Relic 제품 사용에 대한 개요를 보려면 [**사용** UI 페이지](#ui) 를 보십시오.
* 사용 데이터 CSV를 다운로드하고 다른 [UI 기능](#ui-features) 을 사용합니다.
* [NRQL 쿼리를 실행하거나 Insights 쿼리 API 호출](#nrql-queries) 을 사용하여 집중 사용 데이터를 검색합니다.

## UI에서 사용 데이터 보기 [#ui]

<Callout variant="tip">
  계정 **소유자** 및 **관리자** 만 사용 UI를 볼 수 있습니다. 그러나 계정의 모든 사용자는 `NrDailyUsage` [이벤트](/docs/data-apis/understand-data/new-relic-data-types/#event-data) 를 사용하여 사용 데이터를 쿼리할 수 있습니다.
</Callout>

New Relic 구독 사용 데이터를 보려면:

1. [사용 UI](/docs/accounts/accounts-billing/new-relic-one-pricing-billing/billing-ui) 로 이동합니다.
2. 모든 제품의 계정 사용에 대한 개요를 보려면 **사용** 을 선택하십시오.
3. 특정 제품에 대한 사용량을 보려면 해당 제품의 **사용량** 페이지를 선택하십시오.

<img
  title="new-relic-usage-ui.png"
  alt="New Relic usage UI "
  src={newRelicUsageUi}
/>

<figcaption>
  원래 가격 모델을 사용하는 조직의 경우 소유자와 관리자는 모든 제품의 사용량을 보거나 제품별로 볼 수 있습니다.
</figcaption>

모든 New Relic 제품에는 사용량을 계산하는 자체 측정 단위가 있습니다. 예를 들어 모바일은 월간 활성 사용자를 추적합니다. 측정 단위를 제외하고 UI 차트 및 기능은 모든 제품이 유사합니다.

## UI 기능

다음은 New Relic 사용 UI 페이지에서 사용할 수 있는 일반적인 기능 중 일부입니다. 제품별 UI 및 계산 세부정보는 [제품 사용 설명서](#product-ui) 를 참조하십시오.

<table>
  <thead>
    <tr>
      <th style={{ width: "240px" }}>
        원하는 경우...
      </th>

      <th>
        이게 ...
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        전환 시간 범위
      </td>

      <td>
        **시간 선택기** 를 사용하여 현재 달의 데이터 보기와 지난 30일의 데이터 보기 간에 전환합니다. UI의 모든 시간 측정은 UTC(협정 세계시)를 사용합니다.
      </td>
    </tr>

    <tr>
      <td>
        다른 계정 수준으로 전환
      </td>

      <td>
        [고객 파트너십](/docs/new-relic-partnerships/partner-integration-guide/partner-account-maintenance/partnership-accounts-users-subscriptions) , [상위 계정](/docs/accounts/install-new-relic/account-setup/manage-apps-or-users-sub-accounts) 및 하위 계정과 같은 계정 수준을 선택하려면 **범위를** 선택합니다.
      </td>
    </tr>

    <tr id="csv">
      <td>
        CSV 다운로드
      </td>

      <td>
        제품별 사용 페이지에서 **CSV 다운로드** 를 선택하여 쉼표로 구분된 값 파일을 가져옵니다. CSV의 열 및 데이터는 UI에 표시된 데이터와 일치합니다.
      </td>
    </tr>

    <tr>
      <td>
        그룹 데이터
      </td>

      <td>
        제품별 페이지에서 기본 차트 보기는 **계정 이름** 으로 구성됩니다. 애플리케이션 또는 호스트별로 데이터를 그룹화하는 다른 방법으로 전환하려면 그룹화 기준 을 선택 **합니다** .
      </td>
    </tr>

    <tr id="view-query">
      <td>
        쿼리 보기
      </td>

      <td>
        차트 위에 마우스를 놓고 선택 <Icon name="fe-more-horizontal"/>을 클릭한 다음 **쿼리 보기** 를 선택합니다.
      </td>
    </tr>

    <tr>
      <td>
        차트 세그먼트 세부정보 보기
      </td>

      <td>
        여러 세그먼트가 있는 차트에 대한 자세한 내용을 표시하려면 세그먼트 위로 마우스를 가져갑니다.
      </td>
    </tr>
  </tbody>
</table>

## 쿼리 사용 데이터 [#nrql-queries]

New Relic은 사용 데이터를 [`NrDailyUsage` 이벤트 유형](/docs/data-apis/understand-data/new-relic-data-types/#event-data) 으로 저장합니다. 사용 차트에는 UI에 표시되는 것과 유사한 관련 NRQL 쿼리가 있습니다.

제품별 속성 및 NRQL 쿼리의 예는 계속 읽으십시오.

<CollapserGroup>
  <Collapser
    id="apm-cu"
    title="APM CU 기반 구독"
  >
    [원래 가격 책정 모델](/docs/accounts/original-accounts-billing/product-pricing/product-based-pricing) 을 사용하는 계정의 경우 사용 UI를 통해 데이터 사용량을 예측 가능하게 추적하고 이것이 가격에 어떤 영향을 미칠 수 있는지 확인할 수 있습니다. 이 문서는 New Relic이 CU 기반 가격 책정(호스트 기반 가격 책정 아님)이 있는 APM 계정에 대해 청구 가능한 사용량을 계산하는 방법을 설명하고 사용 가능한 구독 사용 속성 및 New Relic UI 또는 API 호출과 함께 사용할 [예제 NRQL 쿼리](#query-examples) 도 제공합니다.

    ### 데이터 생성 [#details]

    하루에 한 번 APM 계정은 다음에 대한 `NrDailyUsage` [이벤트](/docs/telemetry-data-platform/ingest-manage-data/understand-data/new-relic-data-types#events-new-relic) 를 생성합니다.

    * 지난 24시간 동안 생성된 모든 애플리케이션 인스턴스

    * 지난 24시간 동안 애플리케이션 인스턴스가 존재했던 모든 고유 호스트

      이 두 가지 유형의 이벤트를 통해 사용 데이터를 다양한 방식으로 쿼리하고 분석할 수 있습니다. 애플리케이션 이벤트를 쿼리하려면 `Application` 의 `usageType` 속성 값을 사용합니다. 호스트 이벤트를 쿼리하려면 `Host` 의 `usageType` 속성 값을 사용하십시오.

      모든 APM 이벤트는 `APM` 의 `productLine` 속성 값을 사용합니다. 자세한 내용은 [APM 쿼리 예제](#query-examples) 를 참조하십시오.

      ### 사용량 계산 [#calculation]

      호스트에 대한 월별 청구 가능 CU는 APM을 실행하는 호스트의 크기(CPU 수 + RAM GB)에 해당 월 동안 호스트가 New Relic에 연결된 시간을 곱하여 계산됩니다. 이 계산 방법에 대한 자세한 내용은 [CU 기반 가격 책정](/docs/accounts/accounts/subscription-pricing/compute-unit-cu-pricing-vs-host-based-pricing-apm-infrastructure#compute-unit) 을 참조하십시오.

      <Callout variant="tip">
        계정 **소유자** 및 **관리자** 만 사용 UI를 볼 수 있습니다. 그러나 계정의 모든 사용자는 `NrDailyUsage` [이벤트](/docs/telemetry-data-platform/ingest-manage-data/understand-data/new-relic-data-types#events-new-relic) 를 사용하여 사용 데이터를 쿼리할 수 있습니다.
      </Callout>

      이번 달의 최종 청구 가능 CU에 대한 추정치를 얻으려면:

    1. [사용 UI](/docs/accounts/accounts-billing/new-relic-one-pricing-billing/billing-ui) 로 이동합니다.

    2. **APM 사용** 페이지에서 시간 선택기를 **현재 월** 로 설정합니다.

    3. **평균 일일 계산 단위** 에 이번 달의 일 수를 곱합니다.

       사용 UI에 대한 자세한 내용은 [구독 사용 데이터 소개를](/docs/accounts/new-relic-account-usage/getting-started-usage/introduction-new-relic-subscription-usage-data) 참조하세요.

       ### 테이블 정의 [#details]

       다음은 UI 테이블 및 CSV 파일에 표시되는 열 헤더의 정의입니다. 표시되는 열은 페이지 상단에서 선택한 **그룹화 기준** 옵션에 따라 다릅니다.

       <table>
         <thead>
           <tr>
             <th style={{ width: "200px" }}>
               머리글
             </th>

             <th>
               정의
             </th>
           </tr>
         </thead>

         <tbody>
           <tr>
             <td>
               계정 이름
             </td>

             <td>
               계정의 이름입니다. 독립 실행형 계정, [상위 계정](/docs/accounts/install-new-relic/account-setup/manage-apps-or-users-sub-accounts) 또는 [고객 파트너십](/docs/new-relic-partnerships/partner-integration-guide/partner-account-maintenance/partnership-accounts-users-subscriptions) 이 될 수 있습니다.
             </td>
           </tr>

           <tr>
             <td>
               호스트 ID
             </td>

             <td>
               해당 호스트의 고유 식별자입니다. 호스트가 AWS에 있는 경우 AWS에서 제공한 인스턴스 ID를 사용합니다. 다른 호스트의 경우 New Relic은 호스트 ID를 할당합니다. 이 값이 생성되는 방법에 대한 자세한 내용은 [`hostID`](/docs/apm-cu-based-usage-attributes-queries#hostid) 을(를) 참조하세요.
             </td>
           </tr>

           <tr>
             <td>
               에이전트 호스트 이름
             </td>

             <td>
               에이전트가 보고한 호스트 이름입니다. 이 값에 대한 자세한 내용은 [`agentHostname`](/docs/apm-cu-based-usage-attributes-queries#agenthostname) 을(를) 참조하세요.
             </td>
           </tr>

           <tr>
             <td>
               평균 일일 계산 단위
             </td>

             <td>
               사용된 평균 일일 [계산 단위](/docs/accounts/accounts/subscription-pricing/compute-unit-cu-pricing-vs-host-based-pricing-apm-infrastructure#compute-unit) 입니다.
             </td>
           </tr>

           <tr>
             <td>
               총 사용량의 %
             </td>

             <td>
               사용된 총 사용량의 백분율입니다.
             </td>
           </tr>
         </tbody>
       </table>

       ### 쿼리 예시

       다음은 계정 사용 데이터와 함께 사용할 수 있는 NRQL 쿼리의 몇 가지 예입니다.

       <CollapserGroup>
         <Collapser
           id="last-month-query"
           title="지난달 사용량"
         >
           ```
           SELECT sum(apmComputeUnits) 
           FROM NrDailyUsage 
           WHERE usageType='Host' 
           AND productLine='APM' 
           SINCE last month 
           UNTIL this month
           ```
         </Collapser>

         <Collapser
           id="last-year-query"
           title="작년 월간 사용량"
         >
           ```
           SELECT SUM(apmComputeUnits)
           FROM NrDailyUsage
           WHERE usageType='Host' 
           AND productLine='APM'
           FACET monthOf(timestamp) 
           SINCE 12 month ago limit 13
           ```
         </Collapser>

         <Collapser
           id="instance-hours-per-app-query"
           title="애플리케이션당 인스턴스 CU"
         >
           이 쿼리는 지난 24시간 동안 애플리케이션의 모든 인스턴스(프로세스)에서 사용한 총 CU 수를 측정합니다. APM 사용을 담당하는 애플리케이션을 결정하는 데 유용하지만 New Relic이 APM 사용 가격을 책정하는 방식과 정확히 일치하는 결과는 반환하지 않습니다.

           각 애플리케이션 인스턴스는 동일한 호스트에서 다른 애플리케이션 인스턴스와 동시에 실행되더라도 이 쿼리에서 별도로 계산되므로 애플리케이션 인스턴스 시간 수가 호스트 시간 수(청구 가능 수량)보다 클 가능성이 높습니다.

           ```
           SELECT sum(apmComputeUnits) 
           FROM NrDailyUsage 
           WHERE usageType='Application' 
           AND productLine='APM' 
           FACET consumingAccountName,consumingAccountId,apmAppName 
           SINCE 1 day ago 
           LIMIT 2000
           ```
         </Collapser>

         <Collapser title="기존 호스트 사용 보고서">
           이 쿼리는 "호스트 사용 보고서"에 제공된 데이터를 반환합니다. 각 호스트에서 실행 중인 애플리케이션 목록입니다. APM 사용량은 시간 단위로 계산되지만 시간당 사용량 데이터는 API 또는 UI를 통해 더 이상 사용할 수 없습니다.

           ```
           FROM NrDailyUsage 
           SELECT min(timestamp) 
           AS 'Earliest reporting day',max(timestamp) 
           AS 'Latest reporting day' 
           FACET apmAppName,hostId,agentHostname,consumingAccountName,consumingAccountId 
           WHERE usageType='Application' 
           AND productLine='APM' 
           SINCE 1 month ago 
           LIMIT 2000
           ```
         </Collapser>

         <Collapser
           id="legacy-per-host-query"
           title="기존 호스트별 사용량 보고서"
         >
           이 쿼리는 더 이상 사용되지 않는 UI 시스템에서 얻을 수 있는 CSV 보고서의 근사치를 생성합니다.

           ```
           FROM NrDailyUsage 
           SELECT consumingAccountId 
           AS 'Account ID', hostId, cloudProvider 
           AS 'Host provider', cloudInstanceType 
           AS 'Instance type', apmBillingInstanceSize 
           AS 'Instance size', apmHoursUsed 
           AS 'Hours used', apmComputeUnits 
           AS 'Usage (CU)', apmMemoryBytes/(1024*1024*1024) 
           AS 'Total RAM', apmProcessorCount 
           AS 'Logical processors', apmContainerCount 
           AS 'Container count', apmComputeUnitRule 
           AS 'Business rule', missingCpuData, missingRamData, instanceSizeCapped, cloudZone, cloudInstanceId 
           WHERE productLine='APM' 
           AND usageType='Host' 
           SINCE 1 day ago 
           LIMIT 2000
           ```

           이 NRQL 쿼리는 기존 사용 보고서와 다릅니다.

           <table>
             <thead>
               <tr>
                 <th style={{ width: "200px" }}>
                   호스트별 쿼리
                 </th>

                 <th>
                   코멘트
                 </th>
               </tr>
             </thead>

             <tbody>
               <tr>
                 <td>
                   기간
                 </td>

                 <td>
                   이 쿼리에는 최근 24시간 동안의 사용량만 포함됩니다. 더 오랜 기간 동안 집계된 사용량을 보려면 `SINCE` 절을 변경하세요.
                 </td>
               </tr>

               <tr>
                 <td>
                   결과가 최대 행 수로 제한됨
                 </td>

                 <td>
                   NRQL은 반환되는 행 수를 제한합니다. 반환된 최대 행 수보다 많은 호스트가 있고 전체 호스트 집합을 가져오려는 경우 더 많은 `WHERE` 절로 쿼리 범위를 좁혀 데이터의 하위 집합(예: `WHERE cloudInstanceId LIKE “%0”` )을 반환하여 데이터를 나눌 수 있습니다. AWS 인스턴스 ID의 마지막 문자를 모듈로 최대 16개 그룹으로 데이터.
                 </td>
               </tr>

               <tr>
                 <td>
                   도커 컨테이너 ID
                 </td>

                 <td>
                   이 보고서에는 단일 Docker 컨테이너 ID가 표시되지 않습니다. Docker 컨테이너 ID는 애플리케이션 인스턴스 수준의 세분성( `usageType='Application'` )에서만 보고됩니다.

                   호스트( `usageType='Host'` )의 경우 종종 매우 많기 때문에 고유한 컨테이너 수가 보고됩니다. 호스트에 대해 보고할 컨테이너 ID를 하나만 선택하는 것이 유익했지만 이제는 적절한 수준의 세분성에서 보고되는 더 많은 데이터가 있습니다.
                 </td>
               </tr>

               <tr>
                 <td>
                   비즈니스 규칙
                 </td>

                 <td>
                   `Business rule` 다음 두 가지 속성으로 대체되었습니다.

                   * `apmComputeUnitRule` 에이전트에서 사용할 수 있었던 데이터에 따라 호스트 크기를 계산하는 방법을 정의합니다. 컨테이너 환경( `update_agent_for_container_environment` )에서 더 정확한 호스트 이름을 제공하기 위해 에이전트를 업데이트해야 하는지 여부를 더 이상 설명하지 않습니다.
                   * `missingCpuData`, `missingRamData` 및 `instanceSizeCapped` 은 값이 `apmComputeUnitRule` 속성에 있을 때 `missing_data` 값이 의미하는 것을 설명하는 부울 플래그입니다.
                 </td>
               </tr>
             </tbody>
           </table>
         </Collapser>

         <Collapser
           id="agent-version-info"
           title="에이전트 버전 정보"
         >
           이 쿼리를 사용하여 지난 24시간 동안 애플리케이션에서 실행 중인 에이전트 버전을 확인하십시오. 이 정보는 Docker 컨테이너 환경(Linux 부팅 ID 또는 클라우드 공급자 인스턴스 ID)에서 보다 정확한 호스트 이름을 보고하기 위해 에이전트를 업그레이드해야 하는지 여부를 결정하는 데 유용할 수 있습니다.

           ```
           FROM NrDailyUsage 
           SELECT count(*) 
           WHERE productLine='APM' 
           AND usageType='Application' 
           FACET consumingAccountId, consumingAccountName, apmAppName, apmAgentVersion, apmLanguage 
           SINCE 1 day ago 
           LIMIT 2000
           ```
         </Collapser>

         <Collapser
           id="agents-container-upgrades"
           title="컨테이너 추적 업데이트가 필요한 에이전트"
         >
           이 쿼리는 에이전트가 컨테이너 ID와 동일할 수 있는 호스트 이름을 보고하는 애플리케이션을 식별하는 데 도움이 됩니다. 쿼리 결과는 이러한 응용 프로그램의 최종 목록이 아니지만 영향을 받을 수 있는 응용 프로그램을 확인하는 데 도움이 됩니다.

           Docker 컨테이너의 이름을 잘못 지정한 호스트는 `containerId` 값의 첫 번째 부분과 동일한 `hostId` 값을 갖습니다. `apmComputeUnitRule != ‘cloud_provider_data’` 절은 클라우드 제공자가 명명하여 임시 컨테이너의 이름을 따서 명명되지 않은 호스트를 고려 대상에서 제거합니다.

           ```
           FROM NrDailyUsage 
           SELECT latest(hostId) 
           WHERE containerId is not null 
           AND apmComputeUnitRule != 'cloud_provider_data' 
           AND productLine='APM' 
           AND usageType='Application' 
           FACET consumingAccountId,apmAppName,apmAgentVersion,apmLanguage,containerId 
           SINCE 1 day ago 
           LIMIT 2000
           ```
         </Collapser>

         <Collapser
           id="account-hierarchy-query"
           title="계정 계층"
         >
           이 쿼리는 계정 계층(파트너십, 상위, 하위 계정)을 보는 데 유용합니다.

           ```
           SELECT count(*) 
           FROM NrDailyUsage 
           FACET partnershipName, masterAccountName, masterAccountId, consumingAccountName, consumingAccountId 
           LIMIT 2000 SINCE 1 day ago
           ```
         </Collapser>
       </CollapserGroup>

       ### Docker 또는 기타 컨테이너 사용 [#containers]

       일부 이전 APM 에이전트는 컨테이너를 호스트로 잘못 계산하여 CU(컴퓨팅 단위) 사용량을 과도하게 보고할 수 있습니다.

       Linux 기반 컨테이너(Docker 포함)에 대한 이 계산을 수정하려면 [APM 에이전트를 다음 버전으로 업그레이드하십시오](/docs/agents/manage-apm-agents/installation/update-new-relic-agent) .

    * **Go** : 1.11 이상
    * **자바** : 3.42.0 이상
    * **.NET** : 6.19.330.0 이상
    * **Node.js** : 2.1.0 이상
    * **PHP** : 7.5.0.199 이상
    * **Python** : 2.90.0.75 이상
    * **루비** : 4.4.0.336 이상
  </Collapser>

  <Collapser
    id="apm-host-based"
    title="APM 호스트 기반 구독"
  >
    [원래 가격 모델](/docs/accounts/original-accounts-billing/product-pricing/product-based-pricing) 계정의 경우 New Relic이 [호스트 기반 가격 책정](/docs/accounts/accounts/subscription-pricing/compute-unit-cu-pricing-vs-host-based-pricing-apm-infrastructure#host-based) ( [CU 기반 가격 책정](/docs/apm-cu-based-usage-attributes-queries) 아님)이 있는 APM 계정에 대해 청구 가능한 사용량을 계산하는 방법을 설명합니다. 이 문서는 또한 사용 가능한 구독 사용 속성과 New Relic UI에서 또는 API 호출과 함께 사용할 [예제 NRQL 쿼리](#query-examples) 를 제공합니다.

    ### 데이터 생성 [#details]

    하루에 한 번 APM 계정은 다음에 대한 `NrDailyUsage` [이벤트](/docs/data-apis/understand-data/new-relic-data-types/#event-data) 를 생성합니다.

    * 지난 24시간 동안 존재한 모든 애플리케이션 인스턴스

    * 지난 24시간 동안 애플리케이션 인스턴스가 실행된 모든 고유 호스트

      이 두 가지 유형의 이벤트를 통해 사용 데이터를 다양한 방식으로 쿼리하고 분석할 수 있습니다. 애플리케이션 이벤트를 쿼리하려면 `Application` 의 `usageType` 속성 값을 사용합니다. 호스트 이벤트를 쿼리하려면 `Host` 의 `usageType` 속성 값을 사용하십시오.

      모든 APM 이벤트는 `APM` 의 `productLine` 속성 값을 사용합니다. 자세한 내용은 [APM 쿼리 예제](#query-examples) 를 참조하십시오.

      ### 사용량 계산 [#calculation]

      호스트 기반 APM 요금의 경우 월별 청구 가능 사용량은 해당 월에 사용된 **등가 호스트** 수에 따라 결정됩니다. **동등한 호스트** 는 호스트 또는 여러 호스트가 New Relic에 연결하는 데 750시간(월간 표준화된 시간)으로 정의됩니다. 이 계산에 대한 자세한 내용은 [호스트 기반 가격 책정](/docs/accounts/accounts/subscription-pricing/compute-unit-cu-pricing-vs-host-based-pricing-apm-infrastructure#host-based) 을 참조하세요.

      <Callout variant="tip">
        계정 **소유자** 및 **관리자** 만 사용 UI를 볼 수 있습니다. 그러나 계정의 모든 사용자는 `NrDailyUsage` [이벤트](/docs/data-apis/understand-data/new-relic-data-types/#event-data) 를 사용하여 사용 데이터를 쿼리할 수 있습니다.
      </Callout>

      이번 달의 청구 가능한 사용량에 대한 추정치를 얻으려면:

    1. [사용 UI](/docs/accounts/accounts-billing/new-relic-one-pricing-billing/billing-ui) 로 이동합니다.

    2. **APM 사용** 페이지에서 시간 선택기를 **현재 월** 로 설정합니다.

    3. 계정 또는 계정 그룹에 대한 **평균 일일 등가 호스트** 를 참조하십시오.

       UI는 호스트 사용량을 추정하기 위한 것이지만 특히 클라우드 환경의 경우 시간이 지남에 따라 사용량이 증가하거나 감소할 수 있습니다.

       ## 쿼리 예시

       다음은 계정 사용 데이터와 함께 사용할 수 있는 NRQL 쿼리의 몇 가지 예입니다. NRQL 쿼리를 실행하고 대시보드에서 결과 차트를 사용할 수 있습니다.

       <CollapserGroup>
         <Collapser
           id="last-month-query"
           title="지난달 사용량"
         >
           이 쿼리는 지난 달에 대한 APM 등가 호스트를 계산하기 위해 New Relic의 표준 월 시간(750)을 사용합니다.

           ```
           SELECT sum(apmHoursUsed)/750 
           AS 'Equivalent hosts' 
           FROM NrDailyUsage 
           WHERE usageType='Host' 
           AND productLine='APM' 
           SINCE last month 
           UNTIL this month
           ```
         </Collapser>

         <Collapser
           id="per-host-app-query"
           title="애플리케이션당 호스트당 사용량"
         >
           New Relic은 엄격하게 애플리케이션별로가 아니라 애플리케이션 인스턴스별로 사용량을 기록합니다. 이 쿼리는 주어진 호스트에서 주어진 애플리케이션에 대한 대략적인 사용량을 제공합니다. 고유한 애플리케이션 인스턴스가 지정된 날짜 내에 호스트에서 순차적으로 실행되는 경우 이 쿼리는 과소 평가를 반환할 수 있습니다(예: 컨테이너 환경에서일 수 있음).

           ```
           SELECT max(apmHoursUsed) 
           FROM NrDailyUsage 
           WHERE usageType='Application' 
           AND productLine='APM' 
           FACET consumingAccountName,consumingAccountId,apmAppName,hostId 
           SINCE 1 day ago 
           LIMIT 2000
           ```
         </Collapser>

         <Collapser
           id="instance-hours-per-app-query"
           title="애플리케이션당 인스턴스 시간"
         >
           이 쿼리는 지난 24시간 동안 애플리케이션의 모든 인스턴스(프로세스)에서 사용한 총 시간 수를 측정합니다. APM 사용을 담당하는 애플리케이션을 결정하는 데 유용하지만 New Relic이 APM 사용 가격을 책정하는 방식과 정확히 일치하는 결과는 반환하지 않습니다.

           각 애플리케이션 인스턴스는 동일한 호스트에서 다른 애플리케이션 인스턴스와 동시에 실행되더라도 이 쿼리에서 별도로 계산되므로 애플리케이션 인스턴스 시간 수가 호스트 시간 수(청구 가능 수량)보다 클 가능성이 높습니다.

           ```
           SELECT sum(apmHoursUsed) 
           FROM NrDailyUsage 
           WHERE usageType='Application' 
           AND productLine='APM' 
           FACET consumingAccountName,consumingAccountId,apmAppName 
           SINCE 1 day ago 
           LIMIT 2000
           ```
         </Collapser>

         <Collapser
           id="agent-version-info"
           title="에이전트 버전 정보"
         >
           이 쿼리를 사용하여 지난 24시간 동안 애플리케이션에서 실행 중인 에이전트 버전을 확인하십시오. 이 정보는 Docker 컨테이너 환경(Linux 부팅 ID 또는 클라우드 공급자 인스턴스 ID)에서 보다 정확한 호스트 이름을 보고하기 위해 에이전트를 업그레이드해야 하는지 여부를 결정하는 데 유용할 수 있습니다.

           ```
           FROM NrDailyUsage 
           SELECT count(*) 
           WHERE productLine='APM' 
           AND usageType='Application' 
           FACET consumingAccountId, consumingAccountName, apmAppName, apmAgentVersion, apmLanguage 
           SINCE 1 day ago 
           LIMIT 2000
           ```
         </Collapser>

         <Collapser
           id="account-hierarchy-query"
           title="계정 계층"
         >
           이 쿼리는 계정 계층 구조(파트너십, 상위 계정, 하위 계정)를 보는 데 유용합니다.

           ```
           SELECT count(*) 
           FROM NrDailyUsage 
           FACET partnershipName,masterAccountName,masterAccountId,consumingAccountName,consumingAccountId 
           LIMIT 2000 
           SINCE 1 day ago
           ```
         </Collapser>

         <Collapser
           id="legacy-usage-report"
           title="기존 호스트별 사용량 보고서"
         >
           이 쿼리는 더 이상 사용되지 않는 UI 시스템에서 볼 수 있는 CSV 보고서의 근사치를 생성합니다.

           ```
           FROM NrDailyUsage 
           SELECT consumingAccountId 
           AS 'Account ID', hostId, cloudProvider 
           AS 'Host provider', cloudInstanceType 
           AS 'Instance type', apmBillingInstanceSize 
           AS 'Instance size', apmHoursUsed 
           AS 'Hours used', apmComputeUnits 
           AS 'Usage (CU)', apmMemoryBytes/(1024*1024*1024) 
           AS 'Total RAM', apmProcessorCount 
           AS 'Logical processors', apmContainerCount 
           AS 'Container count', apmComputeUnitRule 
           AS 'Business rule', missingCpuData, missingRamData, instanceSizeCapped, cloudZone, cloudInstanceId 
           WHERE productLine='APM' 
           AND usageType='Host' 
           SINCE 1 day ago 
           LIMIT 2000
           ```

           이 NRQL 쿼리는 기존 사용 보고서와 다릅니다.

           <table>
             <thead>
               <tr>
                 <th style={{ width: "200px" }}>
                   호스트별 쿼리
                 </th>

                 <th>
                   코멘트
                 </th>
               </tr>
             </thead>

             <tbody>
               <tr>
                 <td>
                   기간
                 </td>

                 <td>
                   이 쿼리에는 최근 24시간 동안의 사용량만 포함됩니다. 더 오랜 기간 동안 집계된 사용량을 보려면 `SINCE` 절을 변경하세요.
                 </td>
               </tr>

               <tr>
                 <td>
                   결과가 최대 행 수로 제한됨
                 </td>

                 <td>
                   NRQL은 반환되는 행 수를 제한합니다. 반환된 최대 행 수보다 더 많은 호스트가 있고 전체 호스트 집합을 가져오려는 경우 더 많은 `WHERE` 절로 쿼리 범위를 좁혀 데이터의 하위 집합(예: `WHERE cloudInstanceId LIKE “%0”` )을 반환하여 데이터를 나눌 수 있습니다. 최대 16개 그룹으로 AWS 인스턴스 ID의 마지막 문자를 모듈화합니다.
                 </td>
               </tr>

               <tr>
                 <td>
                   도커 컨테이너 ID
                 </td>

                 <td>
                   이 보고서에는 단일 Docker 컨테이너 ID가 표시되지 않습니다. Docker 컨테이너 ID는 애플리케이션 인스턴스 수준의 세분성( `usageType='Application'` )에서만 보고됩니다.

                   호스트( `usageType='Host'` )의 경우 종종 매우 많기 때문에 고유한 컨테이너 수가 보고됩니다. 호스트에 대해 보고할 컨테이너 ID를 하나만 선택하는 것이 유익했지만 이제는 적절한 수준의 세분성에서 보고되는 더 많은 데이터가 있습니다.
                 </td>
               </tr>

               <tr>
                 <td>
                   비즈니스 규칙
                 </td>

                 <td>
                   `Business rule` 다른 속성으로 대체되었습니다. 에이전트를 업데이트해야 하는지 여부를 설명하는 데 더 이상 사용되지 않습니다.
                 </td>
               </tr>
             </tbody>
           </table>
         </Collapser>

         <Collapser
           id="legacy-host-usage-query"
           title="레거시 호스트 사용 보고서(애플리케이션 목록)"
         >
           이 쿼리는 "호스트 사용 보고서"에 제공된 데이터를 반환합니다. 각 호스트에서 실행 중인 애플리케이션 목록입니다. APM 사용량은 시간 단위로 계산되지만 시간당 사용량 데이터는 API 또는 UI를 통해 더 이상 사용할 수 없습니다.

           ```
           FROM NrDailyUsage 
           SELECT min(timestamp) 
           AS 'Earliest reporting day',max(timestamp) 
           AS 'Latest reporting day' 
           FACET apmAppName,hostId,agentHostname,consumingAccountName,consumingAccountId 
           WHERE usageType='Application' 
           AND productLine='APM' 
           SINCE 1 month ago 
           LIMIT 2000
           ```
         </Collapser>
       </CollapserGroup>

       ### Docker 및 기타 컨테이너 사용 [#containers]

       일부 이전 New Relic APM 에이전트는 컨테이너를 호스트로 잘못 계산하여 호스트 기반 사용량을 과도하게 보고할 수 있습니다.

       Linux 기반 컨테이너(Docker 포함)에 대한 이 계산을 수정하려면 [APM 에이전트를 다음 버전으로 업그레이드하십시오](/docs/agents/manage-apm-agents/installation/update-new-relic-agent) .

    * **Go** : 1.11 이상
    * **자바** : 3.42.0 이상
    * **.NET** : 6.19.330.0 이상
    * **Node.js** : 2.1.0 이상
    * **PHP** : 7.5.0.199 이상
    * **Python** : 2.90.0.75 이상
    * **루비** : 4.4.0.336 이상
  </Collapser>

  <Collapser
    id="browser-usage"
    title="브라우저 구독"
  >
    [원래 가격 모델](/docs/accounts/original-accounts-billing/product-pricing/product-based-pricing) 계정의 경우 브라우저 구독 사용량에 대해 청구 가능한 사용량을 계산하는 방법을 설명합니다. 이 문서는 또한 사용 가능한 구독 사용 속성과 New Relic UI에서 또는 API 호출과 함께 사용할 [예제 NRQL 쿼리](#query-examples) 를 제공합니다.

    단일 페이지 앱(SPA) 모니터링 사용에 대한 자세한 내용은 [SPA 사용](#spa) 을 참조하십시오.

    ### 데이터 생성 [#data]

    모니터링되는 모든 애플리케이션에 대해 시간당 한 번 New Relic Browser 계정은 `NrUsage` [이벤트](/docs/data-apis/understand-data/new-relic-data-types/#event-data) 를 생성합니다. 각 이벤트는 지난 1시간 동안의 사용량을 요약합니다.

    브라우저 사용 데이터를 쿼리할 때 `Browser` 의 `productLine` 속성 값을 사용합니다. 자세한 내용은 [브라우저 쿼리 예제](#query-examples) 를 참조하십시오.

    ### 사용량 계산 [#calculation]

    월간 구독 사용량은 모든 최종 사용자 브라우저에서 해당 월의 총 페이지 뷰 수와 같습니다. AJAX 트래픽은 일일 사용량에 포함되지 않습니다. 페이지 뷰가 시간이 지남에 따라 상당히 안정적이라면 이번 달의 사용량을 추정할 수 있습니다.

    <Callout variant="tip">
      계정 **소유자** 및 **관리자** 만 사용 UI를 볼 수 있습니다. 그러나 계정의 모든 사용자는 `NrUsage` [이벤트](/docs/data-apis/understand-data/new-relic-data-types/#event-data) 를 사용하여 사용 데이터를 쿼리할 수 있습니다.
    </Callout>

    UI에서 사용 정보를 보려면:

    1. 이동: **[계정 드롭다운](/docs/using-new-relic/welcome-new-relic/get-started/glossary#account-dropdown) > 사용량 보기** .

    2. **브라우저 사용** 페이지에서 시간 선택기를 **지난 30일** 로 설정합니다.

    3. **평균 일일 페이지 조회수** 에 이번 달의 일 수를 곱합니다.

       사용 UI에 대한 자세한 내용은 [New Relic 구독 사용 데이터 소개를](/docs/accounts/new-relic-account-usage/getting-started-usage/introduction-new-relic-subscription-usage-data) 참조하세요.

       ### 테이블 정의 [#details]

       다음은 UI 테이블 및 CSV 파일에 표시되는 열 헤더의 정의입니다. 표시되는 열은 페이지 상단에서 선택한 **그룹화 기준** 옵션에 따라 다릅니다.

       <table>
         <thead>
           <tr>
             <th style={{ width: "200px" }}>
               머리글
             </th>

             <th>
               정의
             </th>
           </tr>
         </thead>

         <tbody>
           <tr>
             <td>
               계정 이름
             </td>

             <td>
               계정의 이름입니다. 독립 실행형 계정, [상위 계정](/docs/accounts/install-new-relic/account-setup/manage-apps-or-users-sub-accounts) 또는 [고객 파트너십](/docs/new-relic-partnerships/partner-integration-guide/partner-account-maintenance/partnership-accounts-users-subscriptions) 이 될 수 있습니다.
             </td>
           </tr>

           <tr>
             <td>
               계정 ID
             </td>

             <td>
               새 유물 [계정 ID](/docs/accounts-partnerships/accounts/account-setup/account-id) .
             </td>
           </tr>

           <tr>
             <td>
               평균 일일 페이지 조회수
             </td>

             <td>
               해당 계정 또는 애플리케이션의 평균 일일 페이지 조회수입니다.
             </td>
           </tr>

           <tr>
             <td>
               총 사용량의 %
             </td>

             <td>
               사용된 총 사용량의 백분율입니다.
             </td>
           </tr>
         </tbody>
       </table>

       ### 쿼리 예시

       다음은 구독 사용 데이터와 함께 사용할 수 있는 NRQL 쿼리의 몇 가지 예입니다. NRQL 쿼리를 실행하고 대시보드에서 결과 차트를 사용할 수 있습니다.

       <CollapserGroup>
         <Collapser
           id="page-views-last-month"
           title="지난 달 전체 페이지 조회수"
         >
           이 쿼리는 지난 달의 페이지 조회수를 보여줍니다.

           ```
           SELECT sum(usage) 
           FROM NrUsage 
           WHERE productLine='Browser' 
           SINCE last month 
           UNTIL this month
           ```
         </Collapser>

         <Collapser
           id="views-week-by-app-account"
           title="지난주 계정별 페이지 조회수"
         >
           이 쿼리는 지난 주 계정별 페이지 조회수를 보여줍니다.

           ```
           SELECT sum(usage) 
           FROM NrUsage 
           WHERE productLine='Browser' 
           SINCE 7 days ago 
           FACET consumingAccountName
           ```
         </Collapser>

         <Collapser
           id="views-week-by-app-account"
           title="애플리케이션별 지난 달의 페이지 조회수:"
         >
           이 쿼리는 애플리케이션별로 지난 달의 페이지 뷰 수를 보여줍니다.

           ```
           SELECT sum(usage) 
           FROM NrUsage 
           WHERE productLine='Browser' 
           SINCE 30 days ago 
           FACET browserAppID
           ```
         </Collapser>

         <Collapser
           id="account-hierarchy-query"
           title="계정 계층"
         >
           이 쿼리는 계정 계층 구조(파트너십, 상위 계정, 하위 계정)를 보는 데 유용합니다.

           ```
           SELECT count(*) 
           FROM NrUsage 
           FACET partnershipName,masterAccountName,masterAccountId,consumingAccountName,consumingAccountId 
           LIMIT 1000 
           SINCE 1 day ago
           ```
         </Collapser>
       </CollapserGroup>

       ### 스파 사용 [#spa]

       페이지 보기는 [New Relic Browser](/docs/browser/new-relic-browser/getting-started/new-relic-browser) 에서 고객 데이터 사용량 및 제품 가격을 결정하는 데 사용됩니다. 이 문서는 New Relic Browser의 [SPA 모니터링](/docs/browser/single-page-app-monitoring/get-started/welcome-single-page-app-monitoring) 맥락에서 페이지 보기를 정의하고 그 이유를 설명합니다.

    * SPA 모니터링은 브라우저 데이터 사용에 영향을 미치지 **않습니다** .

    * SPA 모니터링 **은** Insights 데이터 사용량을 증가시킵니다.

      New Relic Browser에서 **페이지 보기** 는 `window.onload` 이벤트의 실행에 의해 신호를 받는 페이지의 완전한 로드 또는 다시 로드로 정의됩니다.

      New Relic의 [SPA 모니터링](/docs/browser/single-page-app-monitoring/use-spa-data/understand-spa-data-collection) 은 기존의 페이지 보기를 추적하지만 다음과 같이 페이지 로드가 필요하지 않은 브라우저의 변경 사항도 추적합니다.

    * 경로 및 해시 변경 사항

    * 동기 및 비동기 JavaScript

    * 페이지에 대한 동적 서버 측 업데이트

      경로 변경 사항은 자동으로 추적되며 [사용자 지정 계측](/docs/browser/new-relic-browser/browser-agent-apis/report-data-events-browser-agent-api#spa-api) 을 설정하여 거의 모든 유형의 브라우저 상호 작용을 캡처할 수 있습니다.

      [New Relic Browser Pro](https://newrelic.com/browser-monitoring/pricing) 의 가격은 계정의 월별 페이지 뷰 수를 기준으로 합니다. [SPA 모니터링](/docs/browser/single-page-app-monitoring/use-spa-data/understand-spa-data-collection) 이 활성화된 경우 페이지 로드가 필요하지 않은 브라우저 상호 작용은 청구 목적으로 페이지 보기로 계산 **되지 않습니다** . SPA 모니터링을 사용하면 페이지 로드를 포함하지 않는 경로 변경 및 기타 사용자 지정 브라우저 상호 작용을 무제한으로 추적할 수 있습니다.

      ### Insights 구독에 대한 참고 사항 [#insights]

      표준 브라우저 모니터링에서 SPA 모니터링으로 전환하고 Insights에 대해서도 비용을 지불하는 경우(보완적인 Insights 구독만 사용하지 않음) Insights 데이터 사용량이 증가합니다. SPA 모니터링은 애플리케이션을 모니터링하는 고급 방법이므로 다음과 같은 이유로 표준 모니터링보다 더 많은 Insights 이벤트를 생성합니다.

    * 페이지 보기는 `PageView` 이벤트뿐만 아니라 `BrowserInteraction` , `AjaxRequest` 및 `BrowserTiming` 이벤트도 생성합니다.

    * 일반적인 SPA 아키텍처 앱의 경우 표준 페이지 로드보다 경로 변경이 더 많습니다.

      Insights에 대해 비용을 지불하고 현재 Insights 라이선스가 SPA 모니터링으로 생성된 [이벤트](/docs/data-apis/understand-data/new-relic-data-types/#event-data) 양에 충분하지 않은 경우 데이터 사용 계획을 초과했을 때 알려드립니다. 이를 해결하기 위해 다음 옵션을 사용할 수 있습니다.

    * Insights 플랜을 업그레이드하십시오.

    * [일부 이벤트 유형의 보고 기능을 끕니다](/docs/accounts/accounts/data-management/event-data-retention) .

    * [브라우저 API](/docs/browser/new-relic-browser/browser-agent-apis/report-data-events-browser-agent-api) 를 사용하여 일부 이벤트 수집을 수동으로 해제

    * 브라우저 SPA 모니터링에서 표준 모니터링으로 다시 전환
  </Collapser>

  <Collapser
    id="mobile-usage"
    title="모바일 구독"
  >
    [원래 가격 책정 모델](/docs/accounts/original-accounts-billing/product-pricing/product-based-pricing) 계정의 경우 모바일 계정에 대해 청구 가능한 사용량을 계산하는 방법에 대해 설명합니다. 이 문서는 또한 사용 가능한 구독 사용 속성과 New Relic UI에서 또는 API 호출과 함께 사용할 [예제 NRQL 쿼리](#query-examples) 를 제공합니다.

    ## 데이터 생성 [#data]

    매일 한 번, 모니터링되는 모든 애플리케이션에 대해 New Relic Mobile 계정은 `NrDailyUsage` [이벤트](/docs/data-apis/understand-data/new-relic-data-types/#event-data) 를 생성합니다. 각 이벤트는 최근 24시간을 포함하여 이번 달의 모바일 사용량을 요약합니다.

    모바일 사용 데이터를 쿼리하려면 `Mobile` 의 `productLine` 속성 값을 사용합니다. 자세한 내용은 [모바일 쿼리 예제](#query-examples) 를 참조하십시오.

    ### 사용량 계산 [#calculation]

    New Relic Mobile 구독 사용은 월간 활성 사용자(MAU) 개념을 기반으로 합니다.

    * New Relic에서 모니터링하는 모바일 앱의 경우 MAU는 한 달 동안 해당 앱을 사용한 고유 사용자의 누적 수를 나타냅니다. 각 고유한 최종 사용자 모바일 장치는 이 측정항목의 목적에 따라 "사용자"로 계산됩니다.

    * 여러 앱이 있는 계정의 경우 총 계정 사용량은 해당 계정에 속한 모든 앱의 MAU 합계를 나타냅니다.

      <Callout variant="tip">
        계정 **소유자** 및 **관리자** 만 사용 UI를 볼 수 있습니다. 그러나 계정의 모든 사용자는 `NrDailyUsage` [이벤트](/docs/data-apis/understand-data/new-relic-data-types/#event-data) 를 사용하여 사용 데이터를 쿼리할 수 있습니다.
      </Callout>

      이번 달의 청구 가능한 사용량에 대한 추정치를 얻으려면:

    1. [사용 UI](/docs/accounts/accounts-billing/new-relic-one-pricing-billing/billing-ui) 로 이동합니다.

    2. **모바일 사용** 페이지에서 시간 선택기를 **현재 월** 로 설정합니다.

       모바일 사용 차트 및 표에는 지정된 기간 동안 도달한 최대 MAU가 표시됩니다. 일반적으로 월초에 빠르게 증가하다가 한 달 내내 천천히 증가합니다. 지금까지 찾은 최대값을 나타내므로 절대 떨어지지 않습니다. 따라서 모바일 사용량은 일일 사용량 합계를 기반으로 하는 다른 New Relic 사용량 측정과 다릅니다.

       사용 UI에 대한 자세한 내용은 [New Relic 구독 사용 데이터 소개를](/docs/accounts/new-relic-account-usage/getting-started-usage/introduction-new-relic-subscription-usage-data) 참조하세요.

       ### 테이블 정의 [#table]

       다음은 UI 테이블 및 CSV 파일에 표시되는 열 헤더의 정의입니다. 표시되는 열은 페이지 상단에서 선택한 **그룹화 기준** 옵션에 따라 다릅니다.

       <table>
         <thead>
           <tr>
             <th style={{ width: "200px" }}>
               머리글
             </th>

             <th>
               정의
             </th>
           </tr>
         </thead>

         <tbody>
           <tr>
             <td>
               계정 이름
             </td>

             <td>
               계정의 이름입니다. 독립 실행형 계정, [상위 계정](/docs/accounts/install-new-relic/account-setup/manage-apps-or-users-sub-accounts) 또는 [고객 파트너십](/docs/new-relic-partnerships/partner-integration-guide/partner-account-maintenance/partnership-accounts-users-subscriptions) 이 될 수 있습니다.
             </td>
           </tr>

           <tr>
             <td>
               애플리케이션 이름
             </td>

             <td>
               모바일 애플리케이션의 이름입니다.
             </td>
           </tr>

           <tr>
             <td>
               애플리케이션 ID
             </td>

             <td>
               New Relic Mobile [애플리케이션 ID](/docs/using-new-relic/welcome-new-relic/getting-started/glossary#application_id) .
             </td>
           </tr>

           <tr>
             <td>
               최대 MAU
             </td>

             <td>
               최대 월간 활성 사용자. 이번 달에 도달한 최대 활성 사용자 수입니다. 이 숫자는 New Relic 구독에 포함된 MAU와 비교할 수 있습니다.
             </td>
           </tr>

           <tr>
             <td>
               총 사용량의 %
             </td>

             <td>
               그룹(선택한 **Group by** 선택에 따라 계정 또는 애플리케이션)에 기인한 총 사용량의 백분율입니다.
             </td>
           </tr>
         </tbody>
       </table>

       ### 쿼리 예시

       다음은 구독 사용 데이터와 함께 사용할 수 있는 NRQL 쿼리의 몇 가지 예입니다. NRQL 쿼리를 실행하고 대시보드에서 결과 차트를 사용할 수 있습니다.

       <CollapserGroup>
         <Collapser
           id="users-last-month"
           title="지난 달의 월간 활성 사용자(MAU)"
         >
           지난 달 전체의 월간 활성 사용자 차트:

           ```
           SELECT sum(mobileUniqueUsersPerMonth) 
           FROM NrDailyUsage 
           WHERE usageType='Application' AND productLine='Mobile' 
           SINCE last month UNTIL this month TIMESERIES 1 day
           ```

           해당 월의 청구 가능한 MAU 수는 이 차트의 최대 수입니다. `since` 절에서 해당 월의 마지막 날을 사용하여 이 쿼리를 사용하여 특정 월의 청구 가능 번호를 직접 가져올 수도 있습니다. 예를 들면 다음과 같습니다.

           ```
           SELECT sum(mobileUniqueUsersPerMonth) 
           FROM NrDailyUsage 
           SINCE '<var>2018-05-31</var>' UNTIL '<var>2018-06-01</var>'
           ```
         </Collapser>

         <Collapser
           id="users-last-month-by-app"
           title="지난 달의 앱별 월간 활성 사용자(MAU)"
         >
           애플리케이션 이름으로 분류된 마지막 달의 월간 활성 사용자 수:

           ```
           SELECT max(mobileUniqueUsersPerMonth) 
           FROM NrDailyUsage 
           WHERE usageType='Application' AND productLine='Mobile' 
           SINCE last month UNTIL this month 
           FACET mobileAppName
           ```

           이 숫자의 합계가 마지막 달에 대한 계정의 청구 가능 MAU가 됩니다.
         </Collapser>

         <Collapser
           id="unique-apps-last-month"
           title="지난 달의 고유 모바일 앱"
         >
           이 쿼리는 지난 달에 고유한 모바일 애플리케이션 수를 보여줍니다.

           ```
           SELECT uniqueCount(mobileAppName) 
           FROM NrDailyUsage 
           WHERE usageType='Application' AND productLine='Mobile' 
           SINCE 1 month ago
           ```
         </Collapser>

         <Collapser
           id="account-hierarchy-query"
           title="계정 계층"
         >
           이 쿼리는 계정 계층 구조(파트너십, 상위 계정, 하위 계정)를 보는 데 유용합니다.

           ```
           SELECT count(*) 
           FROM NrDailyUsage 
           FACET partnershipName,masterAccountName,masterAccountId,consumingAccountName,consumingAccountId 
           LIMIT 1000 
           SINCE 1 day ago
           ```
         </Collapser>
       </CollapserGroup>
  </Collapser>

  <Collapser
    id="infrastructure-usage"
    title="인프라 구독"
  >
    [원래 가격 모델](/docs/accounts/original-accounts-billing/product-pricing/product-based-pricing) 계정의 경우 인프라 계정에 대해 청구 가능한 사용량을 계산하는 방법에 대해 설명합니다. 이 문서는 또한 사용 가능한 구독 사용 속성과 New Relic UI에서 또는 API 호출과 함께 사용할 [예제 NRQL 쿼리](#query-examples) 를 제공합니다.

    ### 데이터 생성 [#data]

    하루에 한 번 New Relic Infrastructure 계정은 지난 24시간 동안 애플리케이션 인스턴스가 있었던 모든 고유 호스트에 대해 `NrDailyUsage` [이벤트](/docs/telemetry-data-platform/ingest-manage-data/understand-data/new-relic-data-types#events-new-relic) 를 생성합니다. 모든 인프라 이벤트에는 `productLine` 속성 값이 `Infrastructure` 있습니다. 자세한 내용은 [쿼리 예제](#query-examples) 를 참조하십시오.

    ### 사용량 계산 [#calculation]

    호스트에 대한 월별 청구 가능 CU는 인프라를 실행하는 호스트의 크기(CPU 수 + RAM GB)에 해당 월 동안 호스트가 New Relic에 연결된 시간을 곱하여 계산됩니다. 이 계산 방법에 대한 자세한 내용은 [CU 기반 가격 책정](/docs/accounts/accounts/subscription-pricing/compute-unit-cu-pricing-vs-host-based-pricing-apm-infrastructure#compute-unit) 을 참조하십시오.

    사용량이 시간이 지남에 따라 상당히 안정적인 경우 이번 달의 사용량을 추정할 수 있습니다.

    <Callout variant="tip">
      계정 **소유자** 및 **관리자** 만 사용 UI를 볼 수 있습니다. 그러나 계정의 모든 사용자는 `NrDailyUsage` [이벤트](/docs/telemetry-data-platform/ingest-manage-data/understand-data/new-relic-data-types#events-new-relic) 를 사용하여 사용 데이터를 쿼리할 수 있습니다.
    </Callout>

    UI에서 사용 정보를 보려면:

    1. [사용 UI](/docs/accounts/accounts-billing/new-relic-one-pricing-billing/billing-ui) 로 이동합니다.

    2. **인프라 사용** 페이지에서 시간 선택기를 **지난 30일** 로 설정합니다.

    3. **평균 일일 계산 단위** 에 이번 달의 일 수를 곱합니다.

       사용 UI에 대한 자세한 내용은 [구독 사용 데이터 소개를](/docs/accounts/new-relic-account-usage/getting-started-usage/introduction-new-relic-subscription-usage-data) 참조하세요.

       ### 테이블 정의 [#details]

       다음은 UI 테이블 및 CSV 파일에 표시되는 열 헤더의 정의입니다. 표시되는 열은 페이지 상단에서 선택한 **그룹화 기준** 옵션에 따라 다릅니다.

       <table>
         <thead>
           <tr>
             <th style={{ width: "200px" }}>
               머리글
             </th>

             <th>
               정의
             </th>
           </tr>
         </thead>

         <tbody>
           <tr>
             <td>
               계정 이름
             </td>

             <td>
               계정의 이름입니다. 독립 실행형 계정, [상위 계정](/docs/accounts/install-new-relic/account-setup/manage-apps-or-users-sub-accounts) 또는 [고객 파트너십](/docs/new-relic-partnerships/partner-integration-guide/partner-account-maintenance/partnership-accounts-users-subscriptions) 이 될 수 있습니다.
             </td>
           </tr>

           <tr>
             <td>
               계정 ID
             </td>

             <td>
               새 유물 [계정 ID](/docs/accounts-partnerships/accounts/account-setup/account-id) .
             </td>
           </tr>

           <tr>
             <td>
               에이전트 호스트 이름
             </td>

             <td>
               에이전트가 보고한 호스트 이름입니다. 이 값에 대한 자세한 내용은 [`agentHostname`](/docs/apm-cu-based-usage-attributes-queries#agenthostname) 을(를) 참조하세요.
             </td>
           </tr>

           <tr>
             <td>
               평균 일일 계산 단위
             </td>

             <td>
               사용된 평균 일일 [계산 단위](/docs/accounts/accounts/subscription-pricing/compute-unit-cu-pricing-vs-host-based-pricing-apm-infrastructure#compute-unit) 입니다.
             </td>
           </tr>

           <tr>
             <td>
               총 사용량의 %
             </td>

             <td>
               사용된 총 사용량의 백분율입니다.
             </td>
           </tr>
         </tbody>
       </table>

       ### 쿼리 예시

       다음은 인프라 구독 사용 데이터와 함께 사용할 수 있는 NRQL 쿼리의 몇 가지 예입니다. NRQL 쿼리를 실행하고 대시보드에서 결과 차트를 사용할 수 있습니다.

       NRQL 쿼리를 사용하여 집중 사용 데이터를 가져오는 방법에 대한 일반적인 정보는 사용 데이터 [소개를](/docs/introduction-new-relic-subscription-usage-data) 참조하세요.

       <CollapserGroup>
         <Collapser
           id="cus-month-query"
           title="지난 달의 계산 단위"
         >
           이 쿼리는 지난 달에 사용된 CU 수를 생성합니다.

           ```
           SELECT sum(infrastructureComputeUnits) 
           FROM NrDailyUsage 
           WHERE productLine='Infrastructure' 
           AND usageType='Host' 
           SINCE last month 
           UNTIL this month
           ```
         </Collapser>

         <Collapser
           id="host-report-query"
           title="자세한 호스트 보고서(이전 사용 보고서 재현)"
         >
           이 쿼리는 이전에 사용 가능한 인프라 구독 사용 UI에서 CSV를 다운로드하여 얻은 보고서를 가능한 한 가깝게 재현합니다.

           ```
           FROM NrDailyUsage 
           SELECT consumingAccountId 
           AS 'Account ID',agentHostname,cloudProvider 
           AS 'Host provider', cloudInstanceType 
           AS 'Instance type',infrastructureBillingInstanceSize 
           AS 'Instance size',infrastructureHoursUsed 
           AS 'Hours used',infrastructureComputeUnits 
           AS 'Usage (CU)', infrastructureCloudDerivedMemoryBytes/(1024*1024*1024) 
           AS 'Total RAM',infrastructureCloudDerivedProcessorCount 
           AS 'Logical processors',infrastructureAgentMemoryBytes/(1024*1024*1024) 
           AS 'Total RAM',infrastructureAgentProcessorCount 
           AS 'Logical processors',infrastructureComputeUnitRule 
           AS 'Business rule',missingCpuData, missingRamData, instanceSizeCapped,cloudZone,cloudInstanceId 
           WHERE productLine='Infrastructure' 
           AND usageType='Host' 
           SINCE 1 day ago 
           LIMIT 1000
           ```

           이 NRQL 쿼리는 기존 사용 보고서와 다릅니다.

           <table>
             <thead>
               <tr>
                 <th style={{ width: "200px" }}>
                   자세한 호스트 쿼리
                 </th>

                 <th>
                   코멘트
                 </th>
               </tr>
             </thead>

             <tbody>
               <tr>
                 <td>
                   기간
                 </td>

                 <td>
                   이 쿼리에는 마지막 사용 날짜만 포함됩니다. 더 오랜 기간 동안 집계된 사용량을 보려면 SINCE 절을 변경하십시오.
                 </td>
               </tr>

               <tr>
                 <td>
                   결과는 1000개로 제한됨
                 </td>

                 <td>
                   NRQL은 결과를 1000개로 제한합니다. 1000개 이상의 호스트가 있고 전체 호스트 집합을 가져오려는 경우 더 많은 `WHERE` `WHERE agentHostname LIKE ...` 을 사용하여 쿼리 범위를 좁혀 데이터의 하위 집합을 반환할 수 있습니다(예: 데이터를 그룹으로 묶음).
                 </td>
               </tr>

               <tr>
                 <td>
                   비즈니스 규칙
                 </td>

                 <td>
                   `Business rule` 다음 두 가지 속성으로 대체되었습니다.

                   * `infrastructureComputeUnitRule` 에이전트에서 사용할 수 있었던 데이터에 따라 호스트 크기를 계산하는 방법을 정의합니다. 컨테이너 환경( `update_agent_for_container_environment` )에서 더 정확한 호스트 이름을 제공하기 위해 에이전트를 업데이트해야 하는지 여부를 더 이상 설명하지 않습니다.
                   * `missingCpuData`, `missingRamData` 및 `instanceSizeCapped` 은 이제 `missing_data` 값이 `infrastructureComputeUnitRule` 속성에 있을 때 값이 의미하는 바를 설명하는 부울 플래그입니다.
                 </td>
               </tr>
             </tbody>
           </table>
         </Collapser>

         <Collapser
           id="account-hierarchy-query"
           title="계정 계층"
         >
           이 쿼리는 계정 계층 구조(파트너십, 상위 계정, 하위 계정)를 보는 데 유용합니다.

           ```
           SELECT count(*) 
           FROM NrDailyUsage 
           FACET partnershipName,masterAccountName,masterAccountId,consumingAccountName,consumingAccountId 
           LIMIT 1000 
           SINCE 1 day ago
           ```
         </Collapser>
       </CollapserGroup>
  </Collapser>

  <Collapser
    id="insights-usage"
    title="인사이트 구독"
  >
    [원래 가격 모델](/docs/accounts/original-accounts-billing/product-pricing/product-based-pricing) 을 사용하는 계정의 경우 다음을 설명합니다.

    * New Relic이 [Insights Pro 구독](/docs/insights/use-insights-ui/manage-account-data/extend-event-data-retention#insights-pro) 에 대해 청구 가능한 사용량을 계산하는 방법.

    * New Relic UI 또는 API 호출에서 사용할 수 있는 구독 사용 속성 및 [예제 NRQL 쿼리](#query-examples) .

      ### 데이터 생성 [#data]

      Insights Pro 구독이 있는 계정은 하루에 한 번 모든 [이벤트 네임스페이스](#namespace) 에 대해 `NrDailyUsage` [이벤트](/docs/telemetry-data-platform/ingest-manage-data/understand-data/new-relic-data-types#events-new-relic) 를 생성합니다. `NrDailyUsage` 이벤트에는 해당 네임스페이스 아래의 이벤트 수가 포함됩니다.

      이 이벤트의 속성을 보려면 [데이터 사전](/attribute-dictionary/?event=NrDailyUsage) 의 `NrDailyUsage` 항목을 참조하십시오.

      ### 사용량 계산 [#calculation]

      <Callout variant="tip">
        계정 **소유자** 및 **관리자** 만 사용 UI를 볼 수 있습니다. 그러나 계정의 모든 사용자는 `NrDailyUsage` [이벤트](/docs/telemetry-data-platform/ingest-manage-data/understand-data/new-relic-data-types#events-new-relic) 를 사용하여 사용 데이터를 쿼리할 수 있습니다.
      </Callout>

      이번 달의 청구 가능한 사용량에 대한 추정치를 얻으려면:

    1. [사용 UI](/docs/accounts/accounts-billing/new-relic-one-pricing-billing/billing-ui) 로 이동합니다.

    2. **인사이트 사용량** 페이지에서 시간 선택기를 **현재 월** 로 설정합니다.

       사용 UI에 대한 자세한 내용은 [구독 사용 데이터 소개를](/docs/accounts/new-relic-account-usage/getting-started-usage/introduction-new-relic-subscription-usage-data) 참조하세요.

       Insights 사용 UI는 **유료 이벤트** 만 표시합니다. 이러한 이벤트는 [Insights Pro 구독](/docs/insights/use-insights-ui/manage-account-data/extend-event-data-retention#insights-pro) 에 포함되는 이벤트입니다. 다른 New Relic 제품 구독의 일부로 무료로 포함된 이벤트는 표시하지 **않습니다** . 그러나 [제품에 포함된 이벤트를 쿼리](#query-examples) 할 수도 있습니다.

       특정 이벤트가 보존되는 기간은 각 이벤트 유형의 [데이터 보존 기간](/docs/insights/use-insights-ui/manage-account-data/insights-data-retention) 에 따라 다릅니다. 적용 가능한 이벤트 유형 목록은 [이벤트 네임스페이스](#namespace) 를 참조하십시오.

       ### 테이블 정의 [#details]

       다음은 UI 테이블 및 CSV 파일에 표시되는 열 헤더의 정의입니다. 표시되는 열은 UI에서 선택한 **그룹화 기준** 옵션에 따라 다릅니다.

       <table>
         <thead>
           <tr>
             <th style={{ width: "200px" }}>
               머리글
             </th>

             <th>
               정의
             </th>
           </tr>
         </thead>

         <tbody>
           <tr>
             <td>
               계정 이름
             </td>

             <td>
               계정의 이름입니다. 독립 실행형 계정, [상위 계정](/docs/accounts/install-new-relic/account-setup/manage-apps-or-users-sub-accounts) 또는 [파트너십](/docs/new-relic-partnerships/partner-integration-guide/partner-account-maintenance/partnership-accounts-users-subscriptions) 일 수 있습니다.
             </td>
           </tr>

           <tr>
             <td>
               계정 ID
             </td>

             <td>
               [새 유물 계정 ID](/docs/accounts/install-new-relic/account-setup/account-id) .
             </td>
           </tr>

           <tr>
             <td>
               이벤트 네임스페이스
             </td>

             <td>
               Insights 구독이 적용되는 이벤트 범주입니다. 예: `APM` 또는 `Mobile error` . 자세한 내용은 [이벤트 네임스페이스](/docs/accounts/new-relic-account-usage/insights-usage/insights-usage-attributes-queries#namespace) 목록을 참조하세요.
             </td>
           </tr>

           <tr>
             <td>
               저장된 유료 이벤트
             </td>

             <td>
               [Insights Pro 구독](/docs/insights/use-insights-ui/manage-account-data/extend-event-data-retention#insights-pro) 에 포함되는 저장된 이벤트 수입니다. 다른 New Relic 제품 구독의 일부로 포함된 이벤트는 계산되지 않습니다.
             </td>
           </tr>

           <tr>
             <td>
               총 사용량의 %
             </td>

             <td>
               사용된 총 사용량의 백분율입니다.
             </td>
           </tr>
         </tbody>
       </table>

       ### 이벤트 네임스페이스(유형) [#namespace]

       [Insights Pro 구독](/docs/insights/use-insights-ui/manage-account-data/extend-event-data-retention#insights-pro) 은 특정 유형의 이벤트에 대한 데이터 보존을 관리합니다. 이벤트의 네임스페이스( [`insightsEventNamespace`](#insightsEventNamespace) 속성으로 표시)는 단일 [데이터 보존](/docs/using-new-relic/welcome-new-relic/getting-started/data-retention-components) 정책을 공유하는 하나 이상의 이벤트 유형에 해당합니다.

       <table>
         <thead>
           <tr>
             <th style={{ width: "250px" }}>
               UI의 이벤트 네임스페이스
             </th>

             <th style={{ width: "250px" }}>
               쿼리 시 이벤트 네임스페이스
             </th>

             <th>
               이벤트 유형
             </th>
           </tr>
         </thead>

         <tbody>
           <tr>
             <td>
               APM 트랜잭션
             </td>

             <td>
               `APM`
             </td>

             <td>
               `Transaction`
             </td>
           </tr>

           <tr>
             <td>
               APM 오류
             </td>

             <td>
               `APM Errors`
             </td>

             <td>
               `TransactionError`
             </td>
           </tr>

           <tr>
             <td>
               브라우저
             </td>

             <td>
               `Browser`
             </td>

             <td>
               `Ajax`

               `PageAction`

               `PageView`
             </td>
           </tr>

           <tr>
             <td>
               페이지뷰 타이밍
             </td>

             <td>
               `PcvPerf`
             </td>

             <td>
               `PageViewTiming`
             </td>
           </tr>

           <tr>
             <td>
               스파 모니터링
             </td>

             <td>
               `Browser:EventLog`
             </td>

             <td>
               `AjaxRequest`

               `BrowserInteraction`

               `BrowserTiming`
             </td>
           </tr>

           <tr>
             <td>
               JS 오류
             </td>

             <td>
               `Browser:JSErrors`
             </td>

             <td>
               `JavaScriptError`
             </td>
           </tr>

           <tr>
             <td>
               관습:\*
             </td>

             <td>
               `Custom:*`
             </td>

             <td>
               New Relic에서 만든 사용자 정의 필터를 사용하여 저장된 이벤트 유형입니다. 대부분의 고객에게는 해당되지 않습니다.
             </td>
           </tr>

           <tr>
             <td>
               맞춤 이벤트
             </td>

             <td>
               `Default`
             </td>

             <td>
               New Relic 에이전트 또는 Event API를 사용하여 생성하는 [사용자 정의 이벤트 유형](/docs/insights/insights-data-sources/custom-data/send-custom-data-insights)
             </td>
           </tr>

           <tr>
             <td>
               [충돌 이벤트 흔적](/docs/mobile-monitoring/new-relic-mobile/maintenance/add-custom-data-new-relic-mobile#custom-breadcrumbs)
             </td>

             <td>
               `Breadcrumb`
             </td>

             <td>
               `MobileBreadcrumb`
             </td>
           </tr>

           <tr>
             <td>
               모바일 충돌
             </td>

             <td>
               `Mobile Crash`
             </td>

             <td>
               `MobileCrash`
             </td>
           </tr>

           <tr>
             <td>
               모바일 오류( [HTTP 요청](/docs/mobile-monitoring/mobile-monitoring-ui/network-pages/http-requests-page) 및 [HTTP 오류](/docs/mobile-monitoring/mobile-monitoring-ui/network-pages/http-errors-network-failure-analysis) 기능용)
             </td>

             <td>
               `Mobile Error`
             </td>

             <td>
               `MobileRequest`

               `MobileRequestError`
             </td>
           </tr>

           <tr id="partnershipId">
             <td>
               모바일 예외
             </td>

             <td>
               `Mobile Exception`
             </td>

             <td>
               `MobileHandledException`
             </td>
           </tr>

           <tr id="partnershipName">
             <td>
               모바일 일반
             </td>

             <td>
               `Mobile General`
             </td>

             <td>
               `Mobile`
             </td>
           </tr>

           <tr id="productLine">
             <td>
               모바일 세션
             </td>

             <td>
               `Mobile Session`
             </td>

             <td>
               `Mobile Session`
             </td>
           </tr>
         </tbody>
       </table>

       ### 쿼리 예시

       Insights 사용 데이터를 최대한 활용하기 위해 다음을 수행할 수 있습니다.

    * 이 데이터의 쿼리를 실행하고 사용자 지정 차트 및 대시보드를 만듭니다.

    * API 중 하나를 사용하여 이 데이터를 프로그래밍 방식으로 사용하십시오.

      NRQL 쿼리를 사용하는 방법에 대한 일반적인 정보는 [사용 데이터 소개 를](/docs/introduction-new-relic-subscription-usage-data) 참조하십시오.

      <Callout variant="tip">
        Insights는 [하루에 한 번](#data) 사용 이벤트를 작성합니다. 이것이 이러한 쿼리가 `since 24 hours ago` 또는 `timeseries 1 day` 을 사용하는 이유입니다.
      </Callout>

      다음은 사용법에 대한 몇 가지 NRQL 쿼리 예입니다.

      <CollapserGroup>
        <Collapser
          id="example-account-events"
          title="지난달 저장된 이벤트 사용량"
        >
          이 쿼리는 지난 달 동안 쿼리가 실행된 계정 아래 계층의 모든 계정(상위 계정 및 하위 계정)에 대한 Insights 관리 이벤트의 "청구 가능" 수를 알려줍니다. 이 숫자는 저장된 이벤트의 일일 평균 수로 계산됩니다.

          ```
          SELECT rate(sum(insightsTotalEventCount)-sum(insightsIncludedEventCount), 1 day) 
          AS 'Paid events' 
          FROM NrDailyUsage 
          SINCE last month 
          UNTIL this month
          ```
        </Collapser>

        <Collapser
          id="example-single-account"
          title="계정의 현재 Insights 사용량"
        >
          이 쿼리는 [이벤트 네임스페이스](#insightsEventNamespace) 로 분류된 현재 특정 계정에 대해 얼마나 많은 Insights 관리 이벤트가 저장되어 있는지 알려줍니다. 이 쿼리의 <var>YOUR_ACCOUNT_ID</var> 를 [계정 ID](/docs/accounts/install-new-relic/account-setup/account-id) 로 바꿔야 합니다.

          ```
          SELECT latest(insightsTotalEventCount) 
          FROM NrDailyUsage 
          SINCE 24 hours ago 
          WHERE consumingAccountId = <var>YOUR_ACCOUNT_ID</var> 
          FACET insightsEventNamespace
          ```

          이 쿼리는 모든 이벤트 네임스페이스에 대해 특정 계정에 대한 총 현재 Insights 관리 이벤트 스토리지를 알려줍니다.

          ```
          SELECT sum(insightsTotalEventCount) 
          FROM NrDailyUsage 
          SINCE 24 hours ago 
          WHERE consumingAccountId = <var>YOUR_ACCOUNT_ID</var>
          ```
        </Collapser>

        <Collapser
          id="example-multiple-accounts"
          title="여러 계정의 현재 Insights 사용량"
        >
          이 쿼리는 [이벤트 네임스페이스](#insightsEventNamespace) 별로 계정 목록에 대해 현재 얼마나 많은 Insights 관리 이벤트가 저장되어 있는지 알려줍니다. 쿼리의 <var>LIST_OF_ACCOUNT_ID</var> 를 [계정 ID](/docs/accounts/install-new-relic/account-setup/account-id) 목록으로 바꿔야 합니다.

          ```
          SELECT latest(insightsTotalEventCount) 
          FROM NrDailyUsage SINCE 24 hours ago 
          WHERE consumingAccountId 
          IN (<var>LIST_OF_ACCOUNT_IDs</var>) 
          FACET consumingAccountId, insightsEventNamespace 
          LIMIT 100
          ```

          이 쿼리의 모든 패싯을 보려면 `limit` 절의 값을 늘려야 할 수 있습니다.
        </Collapser>

        <Collapser
          id="example-product"
          title="다른 New Relic 제품에 포함된 이벤트"
        >
          이 쿼리는 지난 7일 동안 다른 New Relic 제품 구독에 포함된 Insights 관리 이벤트를 생성한 제품별로 계정에 저장한 이벤트 수를 알려줍니다. 쿼리의 <var>YOUR_ACCOUNT_ID</var> 를 [계정 ID](/docs/accounts/install-new-relic/account-setup/account-id) 로 바꿔야 합니다.

          ```
          SELECT sum(insightsIncludedEventCount) 
          FROM NrDailyUsage 
          SINCE 7 days ago 
          WHERE consumingAccountId = <var>YOUR_ACCOUNT_ID</var> 
          FACET insightsNrProduct 
          TIMESERIES 1 day
          ```
        </Collapser>

        <Collapser
          id="example-subaccount"
          title="하위 계정 및 이벤트 네임스페이스별 보유 기간"
        >
          이 쿼리는 지정된 상위 계정 ID 아래의 각 하위 계정에 대해 다양한 New Relic 제품(예: APM `Transaction` 이벤트)과 관련된 다양한 이벤트 범주에 대한 총, 유료 및 포함된 보존 기간을 알려줍니다. 고유한 NRQL 쿼리를 생성할 때 <var>YOUR_ACCOUNT_ID</var> 를 특정 [계정 ID](/docs/accounts/install-new-relic/account-setup/account-id) 로 바꿔야 합니다.

          ```
          SELECT latest(insightsTotalRetentionInHours)/24 
          AS 'Total retention, days', latest(insightsIncludedRetentionInHours)/24 
          AS 'Included retention, days', (latest(insightsTotalRetentionInHours) - 
          latest(insightsIncludedRetentionInHours))/24 
          AS 'Paid retention, days' 
          FROM NrDailyUsage where productLine='Insights' 
          AND masterAccountId = <var>YOUR_ACCOUNT_ID</var> 
          FACET consumingAccountId,consumingAccountName,insightsEventNamespace 
          SINCE 1 day ago
          ```
        </Collapser>

        <Collapser
          id="example-pro-subaccount"
          title="하위 계정별 유료 인사이트 사용량"
        >
          이 쿼리는 지난 7일 동안 지정된 상위 계정 ID에 대해 각 하위 계정에서 사용 중인 Insights Pro 구독의 이벤트 수를 알려줍니다. 고유한 NRQL 쿼리를 생성할 때 쿼리의 <var>YOUR_MASTER_ACCOUNT_ID</var> 를 특정 상위 [계정 ID](/docs/accounts/install-new-relic/account-setup/account-id) 로 바꿔야 합니다.

          ```
          SELECT sum(insightsTotalEventCount)-sum(insightsIncludedEventCount) 
          AS 'Paid events' from NrDailyUsage 
          SINCE 7 days ago 
          WHERE masterAccountId = <var>YOUR_MASTER_ACCOUNT_ID</var> 
          FACET consumingAccountId, consumingAccountName 
          TIMESERIES 1 day
          ```
        </Collapser>

        <Collapser
          id="account-hierarchy-query"
          title="계정 계층"
        >
          이 쿼리는 계정 계층 구조(파트너십, 상위 계정, 하위 계정)를 보는 데 유용합니다.

          ```
          SELECT count(*) 
          FROM NrDailyUsage 
          FACET partnershipName,masterAccountName,masterAccountId,
          consumingAccountName,consumingAccountId 
          LIMIT 1000 
          SINCE 1 day ago
          ```
        </Collapser>
      </CollapserGroup>
  </Collapser>

  <Collapser
    id="synthetics-usage"
    title="합성 구독"
  >
    [원래 가격 모델](/docs/accounts/original-accounts-billing/product-pricing/product-based-pricing) 계정의 경우 종합 모니터링을 사용하여 계정에 대한 청구 가능 사용량을 계산하는 방법을 설명합니다. 이 문서는 또한 사용 가능한 구독 사용 속성과 New Relic UI에서 또는 API 호출과 함께 사용할 [예제 NRQL 쿼리](#query-examples) 를 제공합니다.

    ### 데이터 생성 [#data]

    종합 모니터링 구독 수준은 한 달 동안 사용된 비 [핑](/docs/synthetics-subscription-usage-attributes-queries#label) 모니터 검사 수를 기반으로 합니다. 하루에 한 번 모든 합성 모니터 위치는 모든 [모니터 유형](#type) 에 대해 `NrDailyUsage` [이벤트](/docs/telemetry-data-platform/ingest-manage-data/understand-data/new-relic-data-types#events-new-relic) 를 생성합니다. 이 이벤트는 지난 24시간 동안 해당 위치 및 모니터 유형에 대한 종합 모니터링 사용량을 요약합니다.

    모든 합성 사용 이벤트의 `productLine` 속성 값은 `Synthetics` 입니다. 자세한 내용은 합성 [쿼리 예](#query-examples) 를 참조하세요.

    ### 사용량 계산 [#calculation]

    합성 구독 수준은 한 달 동안 사용된 비 [핑](/docs/synthetics-subscription-usage-attributes-queries#label) 모니터 검사 수를 기반으로 합니다. 모니터 점검이 시간이 지남에 따라 상당히 안정적이라면 이번 달의 최종 사용량을 추정할 수 있습니다.

    <Callout variant="tip">
      계정 **소유자** 및 **관리자** 만 사용 UI를 볼 수 있습니다. 그러나 계정의 모든 사용자는 `NrDailyUsage` [이벤트](/docs/telemetry-data-platform/ingest-manage-data/understand-data/new-relic-data-types#events-new-relic) 를 사용하여 사용 데이터를 쿼리할 수 있습니다.
    </Callout>

    UI에서 사용 정보를 보려면:

    1. [사용 UI](/docs/accounts/accounts-billing/new-relic-one-pricing-billing/billing-ui) 로 이동합니다.

    2. **합성 사용** 페이지에서 시간 선택기를 **지난 30일** 로 설정합니다.

    3. **평균 일일 지불 수표** 에 이번 달의 일 수를 곱합니다.

       Synthetics 사용 차트는 일일 모니터 점검 횟수를 표시합니다. 테이블 값 **평균 일일 지불 수표** 는 선택한 기간 동안의 총 모니터 수표 수를 일수로 나눈 값을 표시합니다.

       사용 UI에 대한 자세한 내용은 [구독 사용 데이터 소개를](/docs/accounts/new-relic-account-usage/getting-started-usage/introduction-new-relic-subscription-usage-data) 참조하세요.

       ### 쿼리 예시

       다음은 합성 모니터링 구독 사용 데이터와 함께 사용할 수 있는 NRQL 쿼리의 몇 가지 예입니다. NRQL 쿼리를 실행하고 대시보드에서 결과 차트를 사용할 수 있습니다.

       <CollapserGroup>
         <Collapser
           id="billable-checks-last-month"
           title="지난 달 청구 가능한 수표"
         >
           이 쿼리는 지난 달의 청구 가능한 모니터 확인 차트를 생성합니다. `SIMPLE` 의 `syntheticsType` 은(는) 유료 사용량에 포함되지 않는 [핑 모니터](/docs/synthetics/new-relic-synthetics/getting-started/types-synthetics-monitors#types-monitors) 를 나타냅니다.

           ```
           FROM NrDailyUsage 
           SELECT sum(syntheticsFailedCheckCount) + sum(syntheticsSuccessCheckCount) 
           AS 'Paid checks' where productLine='Synthetics' 
           AND syntheticsType != 'SIMPLE' 
           SINCE last month 
           UNTIL this month
           ```
         </Collapser>

         <Collapser
           id="account-hierarchy-query"
           title="계정 계층"
         >
           이것은 계정 계층 구조(파트너십, 상위 계정, 하위 계정)를 보는 데 유용한 비 제품별 쿼리입니다.

           ```
           SELECT count(*) 
           FROM NrDailyUsage 
           FACET partnershipName,masterAccountName,masterAccountId,consumingAccountName,consumingAccountId 
           LIMIT 1000 
           SINCE 1 day ago
           ```
         </Collapser>
       </CollapserGroup>
  </Collapser>
</CollapserGroup>