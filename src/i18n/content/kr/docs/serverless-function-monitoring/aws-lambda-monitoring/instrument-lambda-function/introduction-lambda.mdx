---
title: AWS Lambda 모니터링 소개
metaDescription: This provides an overview of New Relic's AWS Lambda monitoring and details how to link your accounts.
freshnessValidatedDate: never
translationType: machine
---

뉴렐릭의 측정, AWS Lambda 용 리뷰는 함수의 내부 작동에 대한 심층적인 가시성을 제공합니다. 뉴렐릭 에이전트를 함수에 추가하면 각 호출이 뉴렐릭의 모니터가 됩니다. 이를 통해 함수 호출 기간을 추적하고, 오류를 모니터링하고, 소스 이벤트와 함수 응답에 대한 세부 정보를 기록할 수 있습니다.

/\* AWS Lambda 확장성이 뛰어난 이벤트 중심 컴퓨트 서비스를 제공하므로 서버를 프로비저닝하거나 관리할 필요 없이 디버그 및 백앤드 서비스를 구축하고 실행할 수 있습니다. Lambda 기반 서버리스 프레임워크가 정교해지고 비즈니스에 중요한 역할을 수행함에 따라 더 광범위한 애플리케이션 생태계 내에서 성능, 운영 상태 및 전략에 대한 포괄적인 가시성을 확보하는 것이 안정성과 효율성을 유지하는 데 필수적입니다. 최신 애플리케이션은 다양한 다른 마이크로서비스, 데이터베이스 및 타사 API와 상호 작용하는 수많은 AWS Lambda 함수에 크게 의존합니다. 이처럼 복잡한 환경에서는 다음과 같은 여러 가지 문제에 직면할 수 있습니다. \* \*\*근본 원인 파악의 어려움:\*\* 성능 간헐적인 속도 저하와 같은 문제가 발생하거나 Lambda 함수와 관련된 중요한 트랜잭션이 실패하는 경우, 오류가 발생한 정확한 함수나 문제의 근원을 식별하는 것은 복잡한 퍼즐이 될 수 있습니다. \* \*\*사일로화된 모니터링 뷰:\*\* 전용 서버리스 모니터링 UI와 기존 애플리케이션 성능 모니터링(APM) 뷰 사이를 이동해야 할 수 있으며, 이로 인해 성능에 대한 단일하고 통합된 그림을 얻기 어려울 수 있습니다. \* \*\*효과적이지 않은 데이터 상관 관계:\*\* 정보가 별도의 서버리스 및 APM 모니터링 시스템에 있는 경우 성능 데이터와 이벤트를 효과적으로 상관시키는 것이 어려울 수 있습니다. \* \*\*완전하지 않은 엔드투엔드 추적:\*\* 분산 환경 내의 Lambda 함수와 다른 서비스를 통과하면서 단일 요청을 엔드투엔드로 원활하게 추적하는 데 어려움이 있을 수 있습니다. \* \*\* Lambda 에 대한 제한된 모니터링:\*\* APM 도구의 전체 진단 기능과 익숙한 기능을 Lambda 함수에 직접 적용할 수 없는 경우가 많습니다. \* \*\*인사이트에 대한 수동 작업:\*\* Lambda 와 관련된 문제의 전체 맥락을 이해하기 위해 다양한 출처의 서로 다른 정보를 조각해 모으려면 상당한 수동 작업이 필요한 경우가 많습니다. 이러한 옵저빌리버티 과제를 해결하고 진정한 통합 모니터링 경험을 제공하기 위해 뉴렐릭은 AWS Lambda 함수가 우리 플랫폼에 통합되는 방식을 개선하고 있습니다. 이 이니셔티브는 귀하의 서버리스 기능을 뉴렐릭 APM 환경으로 직접 가져와 다른 계측된 서비스와 함께 일류 시민으로 취급합니다. 우리의 목표는 Lambda 함수에 대한 풍부한 기능 인식 함수를 제공하여 전체 상황에서 성능을 그 어느 때보다 쉽게 이해할 수 있도록 하는 것입니다. \*/

## 주요 특징들 [#key-features]

* **통합된 뷰 확보:** 다른 서비스에 사용하는 것과 동일한 APM 인터페이스 내에서 Lambda 함수를 모니터링하세요. 성능 지표, 트레이스, 로그(구성된 경우) 및 오류를 포함한 서버리스 텔레메트리를 모두 한 곳에서 상호 연관시켜 서로 다른 UI 간에 전환할 필요가 없도록 합니다.

* **APM 의 모든 기능을 활용하세요.** 포괄적인 뉴렐릭 APM 기능 모음을 Lambda 함수에 직접 적용하세요. 여기에는 고급 거부 추적, 마우스 인박스(errors inbox)를 통한 상세한 오류 분석, Lambda 데칼, 소니 대시보드 등을 통합한 서비스 맵이 포함됩니다. 자세한 내용은 [APM 설명서를](https://docs.newrelic.com/docs/apm/new-relic-apm/getting-started/introduction-apm/) 참조하세요.

* **완벽한 엔드투엔드 요청 추적 달성:** 프런트엔드 서비스 또는 기타 마이크로서비스에서 AWS Lambda 함수를 통해 연결된 구성 요소로 전달되는 requests 원활하게 트레이스합니다. 이는 전체에 걸쳐 요청 지연 시간 및 의존성/종속성에 대한 명확하고 중단 없는 그림을 제공합니다. 자세한 내용은 [분산 추적 문서를](https://docs.newrelic.com/docs/distributed-tracing/concepts/introduction-distributed-tracing/) 참조하세요.

* **근본 원인 분석 간소화:** APM 에서 서버리스 데이터를 나머지 애플리케이션 데이터와 통합하면 Lambda 함수 또는 업스트림/다운스트림 서비스에서 발생한 문제를 신속하게 식별하고 진단할 수 있습니다.

* **서버리스의 영향을 더 잘 이해하세요.** Lambda 함수가 애플리케이션 및 주요 비즈니스 거래의 전반적인 상태와 성능에 어떻게 기여하는지 명확하게 파악하여 디지털 서비스 내에서 해당 함수의 역할을 더 깊이 있게 이해하세요.

<img title="New Relic Lambda Entities in APM" alt="New Relic Lambda Entities in APM" src="/images/lambda_overview.webp" />

## AWS Lambda 모니터링을 어떻게 구성할 수 있나요? [#config]

뉴렐릭으로 AWS Lambda 모니터링하려면 다양한 환경, 런타임, 구현, 배포 메서드 전반에 걸쳐 측정, 리소스를 구성할 수 있습니다. 다음 단계는 설정 과정을 안내합니다.

<Steps>
  <Step>
    ### 호환성 및 요구 사항 [#req]

    AWS Lambda가 [호환성과 요구 사항을](/docs/serverless-function-monitoring/aws-lambda-monitoring/instrument-lambda-function/compatibility-requirement-lambda-monitoring) 충족하는지 확인하세요.
  </Step>

  <Step>
    ### (선택 사항) AWS 계정을 뉴렐릭에 연결하세요 [#link]

    계정을 연결하면 AWS 계정 인벤토리를 생성하고 Lambda 함수에 대한 CloudWatch 지표를 자동으로 수집할 수 있는 권한이 부여됩니다. 계정을 연결한 후에는 AWS 계정의 리소스가 [저널 탐색기](/docs/new-relic-solutions/new-relic-one/core-concepts/new-relic-explorer-view-performance-across-apps-services-hosts/#find) 에 저널로 표시됩니다. Lambda 부분 부분은 서버리스 기능 보기에서 찾을 수 있습니다.

    다음 통합 방법 중 하나를 사용하여 AWS 와 뉴럴릭 계정을 연결할 수 있습니다.

    <Tabs>
      <TabsBar>
        <TabsBarItem id="1">AWS Metric Streams(권장)</TabsBarItem> <TabsBarItem id="2">API 폴링</TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="1">
          뉴렐릭이 Lambda 함수를 모니터링하려면 뉴렐릭과 AWS 간의 통합을 설정해야 합니다. 지연시간을 줄이고 폴링 requests 제한을 방지하려면 [지표 스트림을](/install/aws-cloudwatch) 사용하는 것이 좋습니다.
        </TabsPageItem>

        <TabsPageItem id="2">
          지표 스트림 통합을 사용하지 않는 경우 대신 [API 폴링](/docs/infrastructure/amazon-integrations/connect/set-up-aws-api-polling) 통합을 설정할 수 있습니다. 기본적으로 Lambda 서비스와 API 폴링 통합을 활성화하면 5분마다 CloudWatch 지표를 폴링합니다.

          [newrelic-lambda-cli를](https://github.com/newrelic/newrelic-lambda-cli) 사용하면 API 폴링 통합을 설정할 수 있지만 지표 스트림 통합은 설정할 수 없습니다.

          ```sh
          newrelic-lambda integrations install --nr-account-id YOUR_NR_ACCOUNT_ID \
          --nr-api-key YOUR_NEW_RELIC_USER_KEY
          ```

          [통합 설치 명령](https://github.com/newrelic/newrelic-lambda-cli?tab=readme-ov-file#aws-lambda-integration) 의 한 단계는 보안을 강화하기 위해 [AWS Secrets Manager](https://aws.amazon.com/secrets-manager/) 에 `NEW_RELIC_LICENSE_KEY` 비밀을 생성합니다. 이것은 다른 옵션 및 플래그와 함께 `--disable-license-key-secret` 플래그로 구성할 수 있습니다.
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Step>

  <Step>
    ### AWS Lambda 함수를 호출하세요 [#instrument]

    Lambda 함수를 사용하려면 에이전트와 확장 기능이 필요합니다. 이러한 구성 요소는 뉴렐릭 [Lambda 계층](https://github.com/newrelic/newrelic-lambda-layers) 에 함께 묶여 있습니다. Lambda 계층을 사용할 수 없는 경우 에이전트와 확장 기능을 수동으로 함수에 통합할 수 있습니다. Lambda 함수의 요구 사항에 따라 다음 계측 방법 중 하나를 선택하세요.

    <Tabs>
      <TabsBar>
        <TabsBarItem id="layered-instrumentation">계층화된 측정, 로그아웃</TabsBarItem> <TabsBarItem id="sdk-based-instrumentation">SDK 기반 측정,</TabsBarItem> <TabsBarItem id="containerized-instrumentation">컨테이너화된 측정, 리소스</TabsBarItem>
      </TabsBar>

      <TabsPages>
        <TabsPageItem id="layered-instrumentation">
          Lambda 함수가 Zip 파일로 패키징되어 있고 레이어를 추가할 수 있는 경우 이 방법을 사용하세요. 레이어는 라이브러리, 사용자 정의 런타임 및 기타 의존성/종속성을 위한 배포 메커니즘입니다. 자세한 내용은 [Layered 측정, 로그](/docs/serverless-function-monitoring/aws-lambda-monitoring/instrument-lambda-function/instrument-your-own/) 문서를 참조하세요.
        </TabsPageItem>

        <TabsPageItem id="sdk-based-instrumentation">
          Lambda 함수에서 레이어를 사용할 수 없는 경우 이 방법을 사용하면 레이어를 수정할 필요 없이 빠르게 구현하고 배포할 수 있습니다. 자세한 내용은 [SDK 기반 측정, 로그](/docs/serverless-function-monitoring/aws-lambda-monitoring/instrument-lambda-function/sdk-based-instrumentation/) 문서를 참조하세요.
        </TabsPageItem>

        <TabsPageItem id="containerized-instrumentation">
          Lambda 함수가 컨테이너 내부에서 실행되는 경우 이 방법을 사용하세요. 컨테이너는 애플리케이션에 일관되고 격리된 실행 환경을 제공합니다. 뉴렐릭은 뉴렐릭 Lambda 레이어, 뉴렐릭 Lambda 확장 프로그램 및 뉴렐릭 에이전트를 포함하는 사전 구축된 도커 이미지를 제공합니다. 자세한 내용은 [컨테이너화된 측정, 계측](/docs/serverless-function-monitoring/aws-lambda-monitoring/instrument-lambda-function/containerized-images/) 문서를 참조하세요.
        </TabsPageItem>
      </TabsPages>
    </Tabs>
  </Step>

  <Step>
    ### 환경 변수 구성 [#env-variables]

    <Callout variant="tip">
      * CLI를 사용하여 Lambda 계층을 계측하는 경우, 필수 환경 변수가 자동으로 구성됩니다. 그러나 일부 기본 설정을 변경하고 모니터링 요구 사항에 맞는 환경 변수로 Lambda 함수를 구성하고 싶을 수도 있습니다.
      * New Relic Lambda 확장 프로그램을 사용하는 경우 환경 변수를 수동으로 구성해야 합니다.
    </Callout>

    [환경 변수는](/docs/serverless-function-monitoring/aws-lambda-monitoring/instrument-lambda-function/env-variables-lambda) 뉴렐릭 에이전트 및 Lambda 확장을 구성하는 데 사용됩니다. Lambda 함수가 올바르게 모니터링되도록 하려면 이러한 변수를 올바르게 설정하는 것이 중요합니다.
  </Step>

  <Step>
    ### 뉴렐릭에서 데이터 찾기 [#data]

    AWS Lambda 함수를 로그아웃한 후 뉴렐릭 APM 인터페이스에서 데이터를 찾아 사용할 수 있습니다. 데이터는 여러 주요 영역으로 구성되며, 각 영역은 Lambda 함수의 성능과 상태에 대한 다양한 정보를 제공합니다.
  </Step>
</Steps>

## 예제 함수를 사용해 보세요 [#example]

로그된 뉴렐릭의 Lambda 레이어를 사용한 후에는 예제 함수를 시험해 볼 것을 강력히 권장합니다. 이러한 작업 예제는 사용자 서버리스 기능의 시작점으로 사용되어야 합니다. 이러한 예제를 사용하면 뉴렐릭 Lambda 레이어에 익숙해지고 계정 링크를 테스트하는 데 도움이 될 수 있으며 자체 로그에 대한 참조로 사용할 수 있습니다. 각 예에서는 권한 추가, 핸들러 래핑을 위한 런타임별 기술, CloudWatch에서 함수 로그 보존 관리 등을 보여줍니다.

배포하다 Lambda 함수를 관리하고 구현하는 방법에는 여러 가지가 있지만, AWS CloudFormation은 예제에 사용하는 메커니즘입니다.

우리의 예제는 뉴렐릭 Lambda Extension과 함께 이 [GitHub](https://github.com/newrelic/newrelic-lambda-extension) 에 게시되어 있습니다. 뉴렐릭이 지원하는 각 Lambda 런타임마다 하나씩 있습니다.

* [노드.js](https://github.com/newrelic/newrelic-lambda-extension/tree/main/examples/sam/node)
* [파이썬](https://github.com/newrelic/newrelic-lambda-extension/tree/main/examples/sam/python)
* [가다](https://github.com/newrelic/newrelic-lambda-extension/tree/main/examples/sam/go)
* [자바](https://github.com/newrelic/newrelic-lambda-extension/tree/main/examples/sam/java)
* [루비](https://github.com/newrelic/newrelic-lambda-extension/tree/main/examples/sam/ruby)
* [.그물](https://github.com/newrelic/newrelic-lambda-extension/tree/main/examples/sam/dotnet)

또한 우리의 [수신 거부 예제](https://github.com/newrelic/newrelic-lambda-extension/tree/main/examples/sam/distributedtracing) 에서 서버리스 서버리스로 작업을 수행하는 방법을 배울 수 있습니다. Node, Python, Ruby 및 Java 기능을 사용하여 Lambda 함수를 호출할 수 있는 가장 인기 있는 두 가지 서비스인 SQS 및 SNS에 대한 수동 트레이스 전파를 보여줍니다.

<Callout variant="tip">
  수동으로 테스트하는 경우 텔레메트리 데이터가 지연될 수 있습니다. 함수를 다시 호출하기 전에 7초 동안 기다려서 버퍼링된 모든 텔레메트리가 전달될 수 있도록 하는 것이 좋습니다.
</Callout>

## 비용 고려 [#costs]

AWS Lambda에 대한 서버리스 모니터링을 구현하면 추가 AWS 요금이 발생할 수 있습니다. 데이터를 뉴렐릭에 보고하는 `newrelic-log-ingestion` Lambda 함수는 타사 서비스로 간주되며, 관련된 모든 AWS 요금은 사용자의 책임입니다. [뉴렐릭 Lambda 계층 에](https://github.com/newrelic/newrelic-lambda-layers) [`newrelic-lambda-extension`](https://github.com/newrelic/newrelic-lambda-extension) 포함된 을 사용하면 CloudWatch를 통해 로그 및 텔레메트리데이터를 전송하지 않아도 되지만, 고가용성 `newrelic-log-ingestion` 요구 사항에 맞게 함수를 CloudWatch 폴백으로 구성하는 것도 가능합니다.

AWS Lambda에 대한 서버리스 모니터링을 활성화하면 Amazon Web Services 요금이 부과될 수 있습니다. 귀하의 Lambda 데이터를 당사에 보고하는 당사의 `newrelic-log-ingestion` Lambda 함수는 [제3자 서비스](/docs/licenses/license-information/general-usage-licenses/acceptable-use-policy) 로 간주됩니다. 귀하가 해당 함수를 사용함으로써 발생하는 AWS 요금은 귀하의 책임입니다.

[뉴렐릭 Lambda](https://github.com/newrelic/newrelic-lambda-layers) Layers 에 포함된 [newrelic-lambda-extension을 사용하면](https://github.com/newrelic/newrelic-lambda-extension) [CloudWatch와 newrelic-log-ingestion](https://github.com/newrelic/aws-log-ingestion) 함수를 통해 로그와 텔레메트리를 전송하지 않아도 됩니다. 옵저버빌리티 데이터의 고가용성이 필요한 함수에 대한 [CloudWatch 대체](/docs/serverless-function-monitoring/aws-lambda-monitoring/instrument-lambda-function/cloud-watch-fallback/) [방법으로 newrelic-log-ingestion](https://github.com/newrelic/aws-log-ingestion) 함수를 구성하는 것도 가능합니다.

## 가격 [#pricing]

뉴렐릭 APM + Serverless Convergence 사용은 주문에 따라 APM 으로 청구됩니다. 가격에 대한 자세한 내용은 당사 영업팀에 문의하시거나 주문서를 참조하세요.

## 관련 기사 [#related-docs]

<DocTiles>
  <DocTile title="계층적 측정, 시각" path="/docs/serverless-function-monitoring/aws-lambda-monitoring/instrument-lambda-function/instrument-your-own">
    뉴렐릭의 계층적 접근 방식을 사용하여 Lambda 함수를 호출하세요.
  </DocTile>

  <DocTile title="SDK 측정, 사용" path="/docs/serverless-function-monitoring/aws-lambda-monitoring/instrument-lambda-function/sdk-based-instrumentation">
    SDK를 사용하여 Lambda 함수를 코딩하세요.
  </DocTile>

  <DocTile title="컨테이너화된 계측기" path="/docs/serverless-function-monitoring/aws-lambda-monitoring/instrument-lambda-function/containerized-images">
    뉴렐릭의 컨테이너화된 접근 방식으로 Lambda 함수를 호출하세요.
  </DocTile>
</DocTiles>