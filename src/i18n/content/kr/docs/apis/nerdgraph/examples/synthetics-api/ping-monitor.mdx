---
title: 핑 모니터 관리
tags:
  - Synthetics
  - APIs
  - NerdGraph
  - Examples
metaDescription: How to use New Relic NerdGraph API to create ping monitors for synthetic monitoring.
freshnessValidatedDate: never
translationType: machine
---

뉴렐릭을 사용하면 NerdGraph를 사용하여 [핑 모니터](/docs/synthetics/synthetic-monitoring/using-monitors/add-edit-monitors) (간단한 모니터라고도 함)를 만들 수 있습니다. Ping 모니터는 정기적으로 HTTP requests 하여 URL이나 엔드포인트에 액세스할 수 있는지 확인합니다. 이 튜토리얼에서는 NerdGraph API를 사용하여 핑 모니터 생성을 자동화하는 방법에 대한 예제를 제공합니다.

## 핑 모니터 만들기 [#create-ping-monitor]

`syntheticsCreateSimpleMonitor` 뮤테이션을 사용하면 핑 모니터를 생성할 수 있습니다. 이 변형을 사용하면 공개적으로 액세스 가능한 모든 URL 또는 엔드포인트에 대한 모니터링을 구성할 수 있습니다.

### 입력스피커, 변수

<table>
  <thead>
    <tr>
      <th>
        매개변수
      </th>

      <th>
        데이터 형식
      </th>

      <th>
        꼭 필요한가요?
      </th>

      <th>
        설명
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `accountId`
      </td>

      <td>
        정수
      </td>

      <td>
        네
      </td>

      <td>
        모니터가 생성될 뉴렐릭 

        [계정 ID입니다](/docs/accounts/accounts-billing/account-structure/account-id)

        .
      </td>
    </tr>

    <tr>
      <td>
        `monitor.locations.public`
      </td>

      <td>
        정렬
      </td>

      <td>
        네
      </td>

      <td>
        모니터가 검사를 실행하는 

        [표시 위치](/docs/synthetics/synthetic-monitoring/using-monitors/add-edit-monitors/#setting-location)

         제외(예: 

        `["US_EAST_1", "US_WEST_1"]`

        ).
      </td>
    </tr>

    <tr>
      <td>
        `monitor.name`
      </td>

      <td>
        문자열
      </td>

      <td>
        네
      </td>

      <td>
        핑 모니터의 표시 이름입니다.
      </td>
    </tr>

    <tr>
      <td>
        `monitor.period`
      </td>

      <td>
        열거형
      </td>

      <td>
        네
      </td>

      <td>
        모니터링이 실행되는 빈도. 옵션: 

        `EVERY_MINUTE`

        , 

        `EVERY_5_MINUTES`

        , 

        `EVERY_10_MINUTES`

        , 

        `EVERY_15_MINUTES`

        , 

        `EVERY_30_MINUTES`

        , 

        `EVERY_HOUR`

        , 

        `EVERY_6_HOURS`

        , 

        `EVERY_12_HOURS`

        , 

        `EVERY_DAY`

        .
      </td>
    </tr>

    <tr>
      <td>
        `monitor.status`
      </td>

      <td>
        열거형
      </td>

      <td>
        네
      </td>

      <td>
        모니터 상태. 옵션: 

        `ENABLED`

         (모니터가 활성화되어 점검을 수행 중), 

        `DISABLED`

         (모니터가 비활성화됨).
      </td>
    </tr>

    <tr>
      <td>
        `monitor.uri`
      </td>

      <td>
        문자열
      </td>

      <td>
        네
      </td>

      <td>
        모니터링할 URL 또는 엔드포인트(예: 

        `https://example.com`

        ).
      </td>
    </tr>

    <tr>
      <td>
        `monitor.advancedOptions.responseValidationText`
      </td>

      <td>
        문자열
      </td>

      <td>
        아니요
      </td>

      <td>
        검증이 통과되려면 응답에 반드시 포함되어야 하는 텍스트입니다. 지정된 경우, 응답 본문에서 해당 텍스트를 찾을 수 없으면 모니터링이 실패합니다.
      </td>
    </tr>

    <tr>
      <td>
        `monitor.advancedOptions.useTlsValidation`
      </td>

      <td>
        부울
      </td>

      <td>
        아니요
      </td>

      <td>
        TLS/SSL 인증서를 검증할지 여부. SSL 인증서 체인의 유효성을 확인하려면 

        `true`

         으로 설정하십시오.
      </td>
    </tr>

    <tr>
      <td>
        `monitor.apdexTarget`
      </td>

      <td>
        뜨다
      </td>

      <td>
        아니요
      </td>

      <td>
        SLA 보고서를 채우는 데 사용되는 모니터의 Apdex 목표(초 단위)입니다. 기본값은 7.0초입니다.
      </td>
    </tr>
  </tbody>
</table>

### 샘플 요청

```graphql
mutation {
  syntheticsCreateSimpleMonitor(
    accountId: ACCOUNT_ID
    monitor: {
      locations: { public: ["LOCATION_1", "LOCATION_2"] }
      name: "YOUR_MONITOR_NAME"
      period: PERIOD
      status: STATUS
      uri: "MONITORED_URI"
      advancedOptions: {
        customHeaders: { name: "HEADER_NAME", value: "HEADER_VALUE" }
        redirectIsFailure: REDIRECT_IS_FAILURE
        responseValidationText: "VALIDATION_TEXT"
        shouldBypassHeadRequest: BYPASS_HEAD_REQUEST
        useTlsValidation: TLS_VALIDATION
      }
      apdexTarget: APDEX_TARGET
    }
  ) {
    errors {
      description
      type
    }
  }
}
```

### 샘플 응답

성공적인 응답은 오류 발생 시 `null` 반환합니다.

```json
{
  "data": {
    "syntheticsCreateSimpleMonitor": {
      "errors": null
    }
  }
}
```

모니터를 생성하는 데 문제가 있는 경우 `errors` 에는 오류가 발생한 이유를 설명하는 `description` 및 `type` 필드가 있는 객체가 포함됩니다.

## 핑 모니터 업데이트 [#update-ping-monitor]

`syntheticsUpdateSimpleMonitor` 뮤테이션을 사용하면 기존 핑 모니터를 업데이트할 수 있습니다. 이 기능을 사용하면 이미 생성된 핑 모니터의 설정을 수정할 수 있습니다.

### 입력스피커, 변수

<table>
  <thead>
    <tr>
      <th>
        매개변수
      </th>

      <th>
        데이터 형식
      </th>

      <th>
        꼭 필요한가요?
      </th>

      <th>
        설명
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `guid`
      </td>

      <td>
        문자열
      </td>

      <td>
        네
      </td>

      <td>
        업데이트하려는 모니터의 고유 엔티티 

        [GUID입니다](/docs/apis/nerdgraph/examples/synthetics-api/query-synthetics-data#query-monitors)

        .
      </td>
    </tr>

    <tr>
      <td>
        `monitor.locations.public`
      </td>

      <td>
        정렬
      </td>

      <td>
        아니요
      </td>

      <td>
        모니터가 검사를 실행하는 

        [표시 위치](/docs/synthetics/synthetic-monitoring/using-monitors/add-edit-monitors/#setting-location)

         제외(예: 

        `["US_EAST_1", "US_WEST_1"]`

        ).
      </td>
    </tr>

    <tr>
      <td>
        `monitor.name`
      </td>

      <td>
        문자열
      </td>

      <td>
        아니요
      </td>

      <td>
        핑 모니터의 업데이트된 표시 이름입니다.
      </td>
    </tr>

    <tr>
      <td>
        `monitor.period`
      </td>

      <td>
        열거형
      </td>

      <td>
        아니요
      </td>

      <td>
        모니터링이 실행되는 빈도. 옵션: 

        `EVERY_MINUTE`

        , 

        `EVERY_5_MINUTES`

        , 

        `EVERY_10_MINUTES`

        , 

        `EVERY_15_MINUTES`

        , 

        `EVERY_30_MINUTES`

        , 

        `EVERY_HOUR`

        , 

        `EVERY_6_HOURS`

        , 

        `EVERY_12_HOURS`

        , 

        `EVERY_DAY`

        .
      </td>
    </tr>

    <tr>
      <td>
        `monitor.status`
      </td>

      <td>
        열거형
      </td>

      <td>
        아니요
      </td>

      <td>
        모니터 상태. 옵션: 

        `ENABLED`

         (모니터가 활성화되어 점검을 수행 중), 

        `DISABLED`

         (모니터가 비활성화됨).
      </td>
    </tr>

    <tr>
      <td>
        `monitor.uri`
      </td>

      <td>
        문자열
      </td>

      <td>
        아니요
      </td>

      <td>
        모니터링할 URL 또는 엔드포인트(예: 

        `https://example.com`

        ).
      </td>
    </tr>

    <tr>
      <td>
        `monitor.advancedOptions.customHeaders`
      </td>

      <td>
        물체
      </td>

      <td>
        아니요
      </td>

      <td>
        요청에 포함할 사용자 지정 HTTP 헤더입니다. 각 헤더에는 

        `name`

         및 

        `value`

         속성이 있습니다.
      </td>
    </tr>

    <tr>
      <td>
        `monitor.advancedOptions.redirectIsFailure`
      </td>

      <td>
        부울
      </td>

      <td>
        아니요
      </td>

      <td>
        `true`

         인 경우 모니터는 HTTP 리디렉션(3xx 상태 코드)을 실패로 처리합니다.
      </td>
    </tr>

    <tr>
      <td>
        `monitor.advancedOptions.responseValidationText`
      </td>

      <td>
        문자열
      </td>

      <td>
        아니요
      </td>

      <td>
        검증이 통과되려면 응답에 반드시 포함되어야 하는 텍스트입니다. 지정된 경우, 응답 본문에서 해당 텍스트를 찾을 수 없으면 모니터링이 실패합니다.
      </td>
    </tr>

    <tr>
      <td>
        `monitor.advancedOptions.shouldBypassHeadRequest`
      </td>

      <td>
        부울
      </td>

      <td>
        아니요
      </td>

      <td>
        `true`

         인 경우 모니터는 초기 HEAD 요청을 건너뛰고 GET 요청만 수행합니다.
      </td>
    </tr>

    <tr>
      <td>
        `monitor.advancedOptions.useTlsValidation`
      </td>

      <td>
        부울
      </td>

      <td>
        아니요
      </td>

      <td>
        TLS/SSL 인증서를 검증할지 여부. SSL 인증서 체인의 유효성을 확인하려면 

        `true`

         으로 설정하십시오.
      </td>
    </tr>

    <tr>
      <td>
        `monitor.apdexTarget`
      </td>

      <td>
        뜨다
      </td>

      <td>
        아니요
      </td>

      <td>
        SLA 보고서를 채우는 데 사용되는 모니터의 Apdex 목표(초 단위)입니다. 기본값은 7.0초입니다.
      </td>
    </tr>
  </tbody>
</table>

### 샘플 요청

```graphql
mutation {
  syntheticsUpdateSimpleMonitor(
    guid: "ENTITY_GUID"
    monitor: {
      locations: { public: ["LOCATION_1", "LOCATION_2"] }
      name: "YOUR_MONITOR_NAME"
      period: PERIOD
      status: STATUS
      uri: "MONITORED_URI"
      advancedOptions: {
        customHeaders: { name: "HEADER_NAME", value: "HEADER_VALUE" }
        redirectIsFailure: REDIRECT_IS_FAILURE
        responseValidationText: "VALIDATION_TEXT"
        shouldBypassHeadRequest: BYPASS_HEAD_REQUEST
        useTlsValidation: TLS_VALIDATION
      }
      apdexTarget: APDEX_TARGET
    }
  ) {
    errors {
      description
      type
    }
  }
}
```

### 샘플 응답

성공적인 응답은 오류 발생 시 `null` 반환합니다.

```json
{
  "data": {
    "syntheticsUpdateSimpleMonitor": {
      "errors": null
    }
  }
}
```

모니터를 업데이트하는 데 문제가 있는 경우 `errors` 에는 오류가 발생한 이유를 설명하는 `description` 및 `type` 필드가 있는 객체가 포함됩니다.

## 합성 모니터 삭제 [#delete-monitor]

이 API 사용하면 guid 매개변수와 함께 `syntheticsDeleteMonitor` 변형을 사용하여 기존 모니터를 삭제할 수 있습니다.

### 입력스피커, 변수

<table>
  <thead>
    <tr>
      <th>
        매개변수
      </th>

      <th>
        데이터 형식
      </th>

      <th>
        꼭 필요한가요?
      </th>

      <th>
        설명
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `guid`
      </td>

      <td>
        문자열
      </td>

      <td>
        네
      </td>

      <td>
        삭제하려는 모니터의 고유 엔티티 

        [GUID입니다](/docs/apis/nerdgraph/examples/synthetics-api/query-synthetics-data#query-monitors)

        .
      </td>
    </tr>
  </tbody>
</table>

### 샘플 요청

```graphql
mutation {
  syntheticsDeleteMonitor(
    guid: "ENTITY_GUID"
  ) {
    deletedGuid
  }
}
```

### 샘플 응답

삭제가 성공적으로 완료되면 삭제된 모니터의 GUID가 반환됩니다.

```json
{
  "data": {
    "syntheticsDeleteMonitor": {
      "deletedGuid": "ENTITY_GUID"
    }
  }
}
```

모니터 삭제에 문제가 발생하면 오류 메시지와 함께 오류 원인에 대한 자세한 내용이 표시됩니다.