---
title: 'NerdGraph 튜토리얼: Teams에 대한 사용자 지정 역할 만들기'
tags:
  - Teams
  - APIs
  - NerdGraph
  - Examples
  - Custom roles
metaDescription: How to use New Relic NerdGraph API to create a custom role to create and manage Teams.
freshnessValidatedDate: never
translationType: machine
---

<Callout title="시사">
  이 기능은 아직 개발 중이지만 꼭 사용해 보시기 바랍니다!

  이 기능은 현재 [출시 전 정책](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy) 에 따라 미리보기 프로그램의 일부로 제공됩니다.
</Callout>

뉴렐릭 Teams를 사용하면 모니터링 중인 팀을 해당 팀을 소유한 팀에 연결할 수 있습니다. 누가음을 소유하고 있는지 쉽게 확인할 수 있으면 문제 진단 및 해결 속도를 높이고, 팀 협업을 강화하고, 운영 효율성을 개선할 수 있습니다.

## 기본 팀 액세스

뉴렐릭은 다음과 같은 표준 역할을 통해 Teams에 대한 기본 액세스를 제공합니다.

* **읽기 액세스**: 모든 사용자는 연락처 정보, 팀 구성원 및 기타 관련 세부 정보와 같은 메타데이터를 포함하여 Teams에 대한 읽기 액세스 권한을 갖습니다.
* **팀 수정**: **Organization Product Admin** \[조직 제품 관리자] 역할이 있는 사용자는 팀을 수정할 수 있습니다. 이는 현재 **All Product Admin** \[모든 제품 관리자] 역할을 갖고 있는 모든 사용자에게 할당된 새로운 역할입니다.
* **팀 만들기 및 삭제**: **Organization Manager** \[조직 관리자] 또는 **Authentication Manager** \[인증 관리자] 역할이 있는 사용자는 팀을 만들고 삭제할 수 있습니다.

기본 권한이 조직의 요구 사항을 충족하지 못하는 경우 사용자 지정 역할이 필요할 수 있습니다. 이 튜토리얼에서는 NerdGraph GraphQL 뮤테이션을 사용하여 팀을 관리하기 위한 사용자 지정 역할을 만드는 방법을 보여줍니다.

### 프로세스 개요

Teams 관리자 사용자 지정 역할을 만들려면 다음이 필요합니다.

1. [모든 조직 범위 기능 검색](#retrieve-organization-scoped-capabilities)
2. [귀하의 조직 ID를 검색하세요](#retrieve-your-organization-id)
3. [Teams에 필요한 권한 ID 식별](#retrieve-organization-scoped-capabilities)
4. [Teams 관리자를 위한 사용자 지정 역할 만들기](#create-custom-role)
5. [사용자 그룹에 사용자 정의 역할 추가](#add-custom-role-to-a-user-group)

## 전제 조건

시작하기 전에 다음 사항을 확인하세요.

* [일반 NerdGraph 요구 사항](/docs/apis/nerdgraph/get-started/introduction-new-relic-nerdgraph/#authentication)
* 사용자 정의 역할을 생성하기 위한 조직 관리자 역할 권한

## 돌연변이 [#mutations]

뉴렐릭은 팀 관리자를 위한 사용자 정의 역할을 생성하기 위해 다양한 NerdGraph 변형을 제공합니다.

<CollapserGroup>
  <Collapser id="retrieve-organization-scoped-capabilities" title="조직 범위 기능 검색">
    `customerAdministration` 변형을 사용하여 기능 목록, 해당 권한 ID 및 관련 정보를 검색합니다.

    #### 입력스피커, 변수

    <table>
      <thead>
        <tr>
          <th>
            매개변수
          </th>

          <th>
            데이터 형식
          </th>

          <th>
            꼭 필요한가요?
          </th>

          <th>
            설명
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `eq`
          </td>

          <td>
            문자열
          </td>

          <td>
            네
          </td>

          <td>
            Teams의 역할을 검색하려면 값을 

            `organization`

             으로 설정하세요.
          </td>
        </tr>
      </tbody>
    </table>

    #### 샘플 요청

    ```graphql
      {
      customerAdministration {
        permissions(filter: {scope: {eq: "organization"}}) {
            items {
              feature
              category
              id
              product
            }
          }
        }
      }

    ```

    #### 샘플 응답

    ```graphql
    {
      "data": {
        "customerAdministration": {
          "permissions": {
            "items": [
              {
                "category": "READ",
                "feature": "Teams",
                "id": "xxxxx",
                "product": "New Relic One"
              },
              {
                "category": "OTHER",
                "feature": "Teams",
                "id": "xxxxxx",
                "product": "New Relic One"
              },
              {
                "category": "DELETE",
                "feature": "Teams",
                "id": "xxxxx",
                "product": "New Relic One"
              },
              {
                "category": "MODIFY",
                "feature": "Teams",
                "id": "xxxxxx",
                "product": "New Relic One"
              }
            ]
          }
        }
      }
    }

    ```

    **다음 단계**: 응답에서 다음의 권한 ID를 식별하여 복사합니다.

    * `category: "MANAGE"` (또는 귀하의 필요에 맞는 적절한 카테고리)
    * `feature: "Teams"`

    다음 단계에서는 이 ID가 필요합니다.
  </Collapser>

  <Collapser id="retrieve-your-organization-id" title="귀하의 조직 ID를 검색하세요">
    이후 변형에 사용할 조직 ID를 검색합니다.

    #### 샘플 요청

    ```graphql
      {
      actor {
        organization {
          id
          }
        }
      }

    ```

    #### 샘플 응답

    ```graphql
    {
      "data": {
        "actor": {
          "organization": {
            "id": "xxx****xxx-xx**00**-xxx-x*x*-xx**XXX**XX"
          }
        }
      }
    }

    ```

    **다음 단계**: 응답에서 조직 ID를 복사합니다. 사용자 지정 역할을 만들려면 이것이 필요합니다.
  </Collapser>

  <Collapser id="create-custom-role" title="커스텀 역할 생성">
    `customRoleCreate` 변형을 사용하여 Teams 관리를 위한 사용자 지정 역할을 만듭니다.

    #### 입력스피커, 변수

    <table>
      <thead>
        <tr>
          <th>
            매개변수
          </th>

          <th>
            데이터 형식
          </th>

          <th>
            꼭 필요한가요?
          </th>

          <th>
            설명
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `id`
          </td>

          <td>
            문자열
          </td>

          <td>
            네
          </td>

          <td>
            이전 단계에서 복사한 조직 ID입니다.
          </td>
        </tr>

        <tr>
          <td>
            `type`
          </td>

          <td>
            문자열
          </td>

          <td>
            네
          </td>

          <td>
            유형을 

            `organization`

             으로 설정합니다.
          </td>
        </tr>

        <tr>
          <td>
            `name`
          </td>

          <td>
            문자열
          </td>

          <td>
            네
          </td>

          <td>
            역할의 이름.
          </td>
        </tr>

        <tr>
          <td>
            `permissionId`
          </td>

          <td>
            정수 배열
          </td>

          <td>
            네
          </td>

          <td>
            첫 번째 단계에서 검색된 Teams 기능에 대한 권한 ID입니다.
          </td>
        </tr>

        <tr>
          <td>
            `scope`
          </td>

          <td>
            문자열
          </td>

          <td>
            네
          </td>

          <td>
            범위를 

            `organization`

             로 설정합니다.
          </td>
        </tr>
      </tbody>
    </table>

    #### 샘플 요청

    ```graphql

    mutation {
      customRoleCreate(
        container: {id: "xxx****xxx-xx**00**-xxx-x*x*-xx**XXX**XX", type: "organization"}
        name: "Teams manager"
        permissionIds: [xxxxx, xxxxx]
        scope: "organization"
      ) {
        id
      }
    }

    ```

    #### 샘플 응답

    ```graphql

    {
      "data": {
        "customRoleCreate": {
          "id": 9999999
        }
      }
    }

    ```

    **다음 단계**: 반환된 역할 ID를 저장합니다. 이 역할을 사용자 그룹에 할당하려면 이것이 필요합니다.
  </Collapser>

  <Collapser id="add-custom-role-to-a-user-group" title="사용자 그룹에 사용자 정의 역할 추가">
    사용자 지정 역할을 만든 후에는 뉴렐릭의 사용자 그룹에 해당 역할을 할당해야 합니다.

    ### 1단계: 그룹 ID 검색

    `customerAdministration` 변형을 사용하여 사용 가능한 사용자 그룹 목록을 가져옵니다.

    #### 입력스피커, 변수

    <table>
      <thead>
        <tr>
          <th>
            매개변수
          </th>

          <th>
            데이터 형식
          </th>

          <th>
            꼭 필요한가요?
          </th>

          <th>
            설명
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `id`
          </td>

          <td>
            문자열
          </td>

          <td>
            네
          </td>

          <td>
            이전 단계에서 복사한 조직 ID입니다.
          </td>
        </tr>
      </tbody>
    </table>

    #### 샘플 요청

    ```graphql

    {
      customerAdministration {
        groups(filter: {organizationId: {eq: "xxx****xxx-xx**00**-xxx-x*x*-xx**XXX**XX"}}) {
          nextCursor
          items {
            id
            name
            users {
              items {
                id
                email
              }
            }
          }
        }
      }
    }

    ```

    **다음 단계**: 응답에서 Teams 역할을 할당하려는 그룹의 그룹 ID를 복사합니다.

    ### 2단계: 사용자 그룹에 역할 할당

    `authorizationManagementGrantAccess` 변형을 사용하여 사용자 그룹에 사용자 정의 역할을 할당합니다.

    #### 입력스피커, 변수

    <table>
      <thead>
        <tr>
          <th>
            매개변수
          </th>

          <th>
            데이터 형식
          </th>

          <th>
            꼭 필요한가요?
          </th>

          <th>
            설명
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `roleId`
          </td>

          <td>
            문자열
          </td>

          <td>
            네
          </td>

          <td>
            이전 단계의 사용자 정의 역할 ID입니다.
          </td>
        </tr>

        <tr>
          <td>
            `groupId`
          </td>

          <td>
            문자열
          </td>

          <td>
            네
          </td>

          <td>
            1단계의 그룹 ID.
          </td>
        </tr>
      </tbody>
    </table>

    #### 샘플 요청

    ```graphql
    mutation {
      authorizationManagementGrantAccess(
        grantAccessOptions: {organizationAccessGrants: {roleId: "99999999"}, groupId: "xxx****xxx-xx**00**-xxx-x*x*-xx**XXX**XX"}
      ) {
        roles {
          id
          name
          organizationId
          roleId
          groupId
          displayName
        }
      }
    }

    ```

    #### 샘플 응답

    ```graphql
    {
      "data": {
        "authorizationManagementGrantAccess": {
          "roles": [
            {
              "displayName": "Teams manager",
              "groupId": null,
              "id": "99999999",
              "name": "teams_manager",
              "organizationId": "xxx****xxx-xx**00**-xxx-x*x*-xx**XXX**XX",
              "roleId": 99999
            }
          ]
        }
      }
    }

    ```
  </Collapser>
</CollapserGroup>

## 무엇 향후 계획

사용자 지정 Teams 역할을 성공적으로 만들고 할당하면 할당된 그룹의 사용자는 구성한 권한을 갖게 됩니다. 다음을 수행할 수 있습니다.

* 조직의 사용자 관리를 통해 역할 사용을 모니터링합니다.
* 필요한 경우 유사한 NerdGraph 변형을 사용하여 역할 권한을 수정합니다.
* 다양한 수준의 Teams 액세스에 대해 추가 사용자 지정 역할을 만듭니다.

Teams에 대한 자세한 내용은 [Teams 설명서를](/docs/service-architecture-intelligence/teams/teams/) 참조하세요.