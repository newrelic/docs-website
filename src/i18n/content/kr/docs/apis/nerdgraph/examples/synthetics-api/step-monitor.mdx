---
title: 걸음 수 모니터 관리
tags:
  - Synthetics
  - APIs
  - NerdGraph
  - Examples
metaDescription: How to use New Relic NerdGraph API to create and update step monitors for synthetic monitoring.
freshnessValidatedDate: never
translationType: machine
---

뉴렐릭을 사용하면 NerdGraph를 사용하여 [단계 모니터를](/docs/synthetics/synthetic-monitoring/using-monitors/add-edit-monitors) 만들 수 있습니다. 단계 모니터는 코드를 작성하지 않고도 복잡한 사용자 흐름을 구성할 수 있는 코드 없는 다단계 브라우저 기반 모니터링을 제공합니다. 이 튜토리얼에서는 NerdGraph API를 사용하여 걸음 수 모니터 생성을 자동화하는 방법에 대한 예제를 제공합니다.

## 단계 모니터 만들기 [#create-step-monitor]

`syntheticsCreateStepMonitor` 뮤테이션을 사용하여 스텝 모니터를 생성할 수 있습니다. 이 변형을 사용하면 미리 정의된 일련의 작업을 통해 다단계 브라우저 모니터링을 설정할 수 있습니다.

### 입력스피커, 변수

<table>
  <thead>
    <tr>
      <th>
        매개변수
      </th>

      <th>
        데이터 형식
      </th>

      <th>
        꼭 필요한가요?
      </th>

      <th>
        설명
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `accountId`
      </td>

      <td>
        정수
      </td>

      <td>
        네
      </td>

      <td>
        모니터가 생성될 뉴렐릭 

        [계정 ID입니다](/docs/accounts/accounts-billing/account-structure/account-id)

        .
      </td>
    </tr>

    <tr>
      <td>
        `monitor.browsers`
      </td>

      <td>
        정렬
      </td>

      <td>
        네
      </td>

      <td>
        모니터가 작업을 실행하는 데 사용할 브라우저입니다. 지원되는 브라우저: 

        `CHROME`

        , 

        `FIREFOX`

        .
      </td>
    </tr>

    <tr>
      <td>
        `monitor.devices`
      </td>

      <td>
        정렬
      </td>

      <td>
        네
      </td>

      <td>
        모니터가 작업을 실행하는 데 사용할 장치입니다. 지원되는 기기: 

        `DESKTOP`

        , 

        `MOBILE_LANDSCAPE`

        , 

        `MOBILE_PORTRAIT`

        , 

        `TABLET_LANDSCAPE`

        , 

        `TABLET_PORTRAIT`

        .
      </td>
    </tr>

    <tr>
      <td>
        `monitor.locations.public`
      </td>

      <td>
        정렬
      </td>

      <td>
        네
      </td>

      <td>
        모니터가 검사를 실행하는 

        [표시 위치](/docs/synthetics/synthetic-monitoring/using-monitors/add-edit-monitors/#setting-location)

         제외(예: 

        `["US_EAST_1", "US_WEST_1"]`

        ).
      </td>
    </tr>

    <tr>
      <td>
        `monitor.name`
      </td>

      <td>
        문자열
      </td>

      <td>
        네
      </td>

      <td>
        걸음 수 모니터의 표시 이름입니다.
      </td>
    </tr>

    <tr>
      <td>
        `monitor.period`
      </td>

      <td>
        열거형
      </td>

      <td>
        네
      </td>

      <td>
        모니터링이 실행되는 빈도. 옵션: 

        `EVERY_MINUTE`

        , 

        `EVERY_5_MINUTES`

        , 

        `EVERY_10_MINUTES`

        , 

        `EVERY_15_MINUTES`

        , 

        `EVERY_30_MINUTES`

        , 

        `EVERY_HOUR`

        , 

        `EVERY_6_HOURS`

        , 

        `EVERY_12_HOURS`

        , 

        `EVERY_DAY`

        .
      </td>
    </tr>

    <tr>
      <td>
        `monitor.runtime.runtimeType`
      </td>

      <td>
        문자열
      </td>

      <td>
        네
      </td>

      <td>
        모니터에서 사용하는 런타임 유형입니다. 

        `CHROME_BROWSER`

         만 허용되는 값입니다.
      </td>
    </tr>

    <tr>
      <td>
        `monitor.runtime.runtimeTypeVersion`
      </td>

      <td>
        문자열
      </td>

      <td>
        네
      </td>

      <td>
        모니터에서 사용하는 런타임 유형 버전입니다. 

        `100`

         만 허용되는 값입니다.
      </td>
    </tr>

    <tr>
      <td>
        `monitor.status`
      </td>

      <td>
        열거형
      </td>

      <td>
        네
      </td>

      <td>
        모니터 상태. 옵션: 

        `ENABLED`

         (모니터가 활성화되어 점검을 수행 중), 

        `DISABLED`

         (모니터가 비활성화됨).
      </td>
    </tr>

    <tr>
      <td>
        `monitor.steps`
      </td>

      <td>
        정렬
      </td>

      <td>
        네
      </td>

      <td>
        모니터가 실행할 일련의 단계입니다. 각 단계 객체는 

        `ordinal`

         (단계의 위치, 0-99), 

        `type`

         (단계 유형(예: 

        `NAVIGATE`

        , 

        `CLICK_ELEMENT`

        , 

        `DOUBLE_CLICK_ELEMENT`

        , 

        `ASSERT_TEXT`

        , 

        `ASSERT_TITLE`

         등)) 및 

        `values`

         (단계 유형에 특정한 값의 어레이)을 포함합니다.
      </td>
    </tr>

    <tr>
      <td>
        `monitor.advancedOptions.enableScreenshotOnFailureAndScript`
      </td>

      <td>
        부울
      </td>

      <td>
        아니요
      </td>

      <td>
        작업 실행 중 오류가 발생하거나 스크립트가 실행될 때 스크린샷을 캡처합니다.
      </td>
    </tr>

    <tr>
      <td>
        `monitor.apdexTarget`
      </td>

      <td>
        뜨다
      </td>

      <td>
        아니요
      </td>

      <td>
        SLA 보고서를 채우는 데 사용되는 모니터의 Apdex 목표(초 단위)입니다. 기본값은 7.0초입니다.
      </td>
    </tr>
  </tbody>
</table>

### 샘플 요청

```graphql
mutation {
  syntheticsCreateStepMonitor(
    accountId: ACCOUNT_ID
    monitor: {
      browsers: [BROWSERS]
      devices: [DEVICES]
      locations: { public: ["LOCATION_1", "LOCATION_2"] }
      name: "MONITOR_NAME"
      period: PERIOD
      runtime: {
        runtimeType: "RUNTIME_TYPE"
        runtimeTypeVersion: "RUNTIME_TYPE_VERSION"
      }
      status: STATUS
      steps: [
        {
          ordinal: 0,
          type: NAVIGATE,
          values: ["MONITORED_URI", "USER_AGENT"] }
        {
          ordinal: STEP_NUMBER
          type: STEP_TYPE
          values: ["CONDITIONAL_TYPE", "VALUE"]
        }
      ]
      advancedOptions: { enableScreenshotOnFailureAndScript: ENABLE_SCREENSHOT }
      apdexTarget: APDEX_TARGET
    }
  ) {
    errors {
      description
      type
    }
  }
}
```

### 샘플 응답

성공적인 응답은 오류 발생 시 `null` 반환합니다.

```json
{
  "data": {
    "syntheticsCreateStepMonitor": {
      "errors": null
    }
  }
}
```

모니터를 생성하는 데 문제가 있는 경우 `errors` 에는 오류가 발생한 이유를 설명하는 `description` 및 `type` 필드가 있는 객체가 포함됩니다.

## 단계 모니터 업데이트 [#update-step-monitor]

`syntheticsUpdateStepMonitor` 뮤테이션을 사용하여 기존 스텝 모니터를 업데이트할 수 있습니다. 이 기능을 사용하면 이미 생성된 단계 모니터의 설정을 수정할 수 있습니다.

### 입력스피커, 변수

<table>
  <thead>
    <tr>
      <th>
        매개변수
      </th>

      <th>
        데이터 형식
      </th>

      <th>
        꼭 필요한가요?
      </th>

      <th>
        설명
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `guid`
      </td>

      <td>
        문자열
      </td>

      <td>
        네
      </td>

      <td>
        업데이트하려는 모니터의 고유 엔티티 

        [GUID입니다](/docs/apis/nerdgraph/examples/synthetics-api/query-synthetics-data#query-monitors)

        .
      </td>
    </tr>

    <tr>
      <td>
        `monitor.browsers`
      </td>

      <td>
        정렬
      </td>

      <td>
        아니요
      </td>

      <td>
        모니터가 작업을 실행하는 데 사용할 브라우저입니다. 지원되는 브라우저: 

        `CHROME`

        , 

        `FIREFOX`

        .
      </td>
    </tr>

    <tr>
      <td>
        `monitor.devices`
      </td>

      <td>
        정렬
      </td>

      <td>
        아니요
      </td>

      <td>
        모니터가 작업을 실행하는 데 사용할 장치입니다. 지원되는 기기: 

        `DESKTOP`

        , 

        `MOBILE_LANDSCAPE`

        , 

        `MOBILE_PORTRAIT`

        , 

        `TABLET_LANDSCAPE`

        , 

        `TABLET_PORTRAIT`

        .
      </td>
    </tr>

    <tr>
      <td>
        `monitor.locations.public`
      </td>

      <td>
        정렬
      </td>

      <td>
        아니요
      </td>

      <td>
        모니터가 검사를 실행하는 

        [표시 위치](/docs/synthetics/synthetic-monitoring/using-monitors/add-edit-monitors/#setting-location)

         제외(예: 

        `["US_EAST_1", "US_WEST_1"]`

        ).
      </td>
    </tr>

    <tr>
      <td>
        `monitor.name`
      </td>

      <td>
        문자열
      </td>

      <td>
        아니요
      </td>

      <td>
        걸음 수 모니터의 업데이트된 표시 이름입니다.
      </td>
    </tr>

    <tr>
      <td>
        `monitor.period`
      </td>

      <td>
        열거형
      </td>

      <td>
        아니요
      </td>

      <td>
        모니터링이 실행되는 빈도. 옵션: 

        `EVERY_MINUTE`

        , 

        `EVERY_5_MINUTES`

        , 

        `EVERY_10_MINUTES`

        , 

        `EVERY_15_MINUTES`

        , 

        `EVERY_30_MINUTES`

        , 

        `EVERY_HOUR`

        , 

        `EVERY_6_HOURS`

        , 

        `EVERY_12_HOURS`

        , 

        `EVERY_DAY`

        .
      </td>
    </tr>

    <tr>
      <td>
        `monitor.runtime.runtimeType`
      </td>

      <td>
        문자열
      </td>

      <td>
        아니요
      </td>

      <td>
        모니터에서 사용하는 런타임 유형입니다. 

        `CHROME_BROWSER`

         만 허용되는 값입니다.
      </td>
    </tr>

    <tr>
      <td>
        `monitor.runtime.runtimeTypeVersion`
      </td>

      <td>
        문자열
      </td>

      <td>
        아니요
      </td>

      <td>
        모니터에서 사용하는 런타임 유형 버전입니다. 

        `100`

         만 허용되는 값입니다.
      </td>
    </tr>

    <tr>
      <td>
        `monitor.status`
      </td>

      <td>
        열거형
      </td>

      <td>
        아니요
      </td>

      <td>
        모니터 상태. 옵션: 

        `ENABLED`

         (모니터가 활성화되어 점검을 수행 중), 

        `DISABLED`

         (모니터가 비활성화됨).
      </td>
    </tr>

    <tr>
      <td>
        `monitor.steps`
      </td>

      <td>
        정렬
      </td>

      <td>
        아니요
      </td>

      <td>
        모니터가 실행할 일련의 단계입니다. 각 단계 객체는 

        `ordinal`

         (단계의 위치, 0-99), 

        `type`

         (단계 유형(예: 

        `NAVIGATE`

        , 

        `CLICK_ELEMENT`

        , 

        `DOUBLE_CLICK_ELEMENT`

        , 

        `ASSERT_TEXT`

        , 

        `ASSERT_TITLE`

         등)) 및 

        `values`

         (단계 유형에 특정한 값의 어레이)을 포함합니다.
      </td>
    </tr>

    <tr>
      <td>
        `monitor.advancedOptions.enableScreenshotOnFailureAndScript`
      </td>

      <td>
        부울
      </td>

      <td>
        아니요
      </td>

      <td>
        작업 실행 중 오류가 발생하거나 스크립트가 실행될 때 스크린샷을 캡처합니다.
      </td>
    </tr>

    <tr>
      <td>
        `monitor.apdexTarget`
      </td>

      <td>
        뜨다
      </td>

      <td>
        아니요
      </td>

      <td>
        SLA 보고서를 채우는 데 사용되는 모니터의 Apdex 목표(초 단위)입니다. 기본값은 7.0초입니다.
      </td>
    </tr>
  </tbody>
</table>

### 샘플 요청

```graphql
mutation {
  syntheticsUpdateStepMonitor(
    guid: ENTITY_GUID
    monitor: {
      browsers: [BROWSERS]
      devices: [DEVICES]
      locations: { public: ["LOCATION_1", "LOCATION_2"] }
      name: "MONITOR_NAME"
      period: PERIOD
      runtime: {
        runtimeType: "RUNTIME_TYPE"
        runtimeTypeVersion: "RUNTIME_TYPE_VERSION"
      }
      status: STATUS
      steps: [
        {
          ordinal: 0,
          type: NAVIGATE,
          values: ["MONITORED_URI", "USER_AGENT"]
        }
        {
          ordinal: STEP_NUMBER,
          type: STEP_TYPE,
          values: ["VALUE_1", "VALUE_2"]
        }
      ]
      advancedOptions: { enableScreenshotOnFailureAndScript: ENABLE_SCREENSHOT }
      apdexTarget: APDEX_TARGET
    }
  ) {
    errors {
      description
      type
    }
  }
}
```

### 샘플 응답

성공적인 응답은 오류 발생 시 `null` 반환합니다.

```json
{
  "data": {
    "syntheticsUpdateStepMonitor": {
      "errors": null
    }
  }
}
```

모니터를 업데이트하는 데 문제가 있는 경우 `errors` 에는 오류가 발생한 이유를 설명하는 `description` 및 `type` 필드가 있는 객체가 포함됩니다.

## 스텝 모니터를 삭제하세요 [#delete-monitor]

단계 모니터가 더 이상 필요하지 않으면 `syntheticsDeleteMonitor` 변이를 사용하여 영구적으로 제거할 수 있습니다.

모니터를 삭제하려면 [&apos;합성 모니터 삭제](/docs/apis/nerdgraph/examples/synthetics-api/ping-monitor/#delete-monitor) &apos; 섹션을 참조하십시오.