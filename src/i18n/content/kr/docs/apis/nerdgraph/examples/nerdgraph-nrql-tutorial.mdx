---
title: 'NerdGraph 튜토리얼: NRQL을 사용하여 데이터 쿼리'
tags:
  - APIs
  - NerdGraph
  - Examples
metaDescription: Use New Relic NerdGraph to query data using New Relic Query Language (NRQL).
translationType: machine
---

[New Relic NerdGraph GraphiQL 탐색기](/docs/introduction-new-relic-graphql) 를 사용하여 NRQL [(New Relic Query Language)](/docs/insights/nrql-new-relic-query-language/using-nrql/introduction-nrql) 쿼리를 만들 수 있습니다. 이러한 쿼리를 구성하고 응답을 확인하는 방법을 배우려면 api.newrelic.com/graphiql에서 [NerdGraph](https://api.newrelic.com/graphiql) GraphiQL 탐색기로 이동하십시오. 이 문서에서는 NRQL 쿼리에 사용할 수 있는 몇 가지 기능에 대해 설명합니다.

NerdGraph를 통해 만들어진 NRQL 쿼리는 [NRQL 쿼리 속도 제한](/docs/query-your-data/nrql-new-relic-query-language/get-started/rate-limits-nrql-queries) 이 적용됩니다.

## NerdGraph를 사용한 기본 NRQL 쿼리 [#basic-queries]

NerdGraph를 사용하여 NRQL 쿼리를 만들려면:

1. api.newrelic.com/graphiql에서 [NerdGraph](https://api.newrelic.com/graphiql) GraphiQL 탐색기로 이동합니다.
2. NRQL 쿼리를 NRQL 개체에 대한 문자열 인수로 전달하고 NerdGraph 쿼리에 `results` 필드를 포함합니다.

예를 들어, 지난 1시간 동안의 모든 [트랜잭션 이벤트](/docs/insights/insights-data-sources/default-data/apm-default-event-attributes-insights#transaction-event) 수를 얻으려면 다음 쿼리를 사용하십시오.

```
{
   actor {
      account(id: <var>YOUR_ACCOUNT_ID)</var> {
         nrql(query: "<a href="/docs/insights/nrql-new-relic-query-language/nrql-resources/nrql-syntax-components-functions#state-select">SELECT</a> count(*) <a href="/docs/insights/nrql-new-relic-query-language/nrql-resources/nrql-syntax-components-functions#sel-from">FROM</a> <a href="/docs/insights/insights-data-sources/default-data/apm-default-event-attributes-insights#transaction-event">Transaction</a> <a href="/docs/insights/nrql-new-relic-query-language/nrql-resources/nrql-syntax-components-functions#sel-since">SINCE</a> 1 HOUR AGO") {
            results
         }
      }
   }
}
```

이 NerdGraph 쿼리 예제는 다음 결과를 반환합니다.

```
{
   "data": {
      "actor": {
         "account": {
            "nrql": {
               "results": [
                 {
                  "count": <mark>1000</mark>
                 }
                ]
            }
         }
      }
   }
}
```

실제 카운트 값은 거래 데이터에 따라 다릅니다. NerdGraph GraphiQL 탐색기를 사용하여 쿼리를 실험해 보십시오.

## 포함 가능한 차트 만들기 [#embeddable-charts]

원시 데이터를 반환하는 것 외에도 응용 프로그램에서 사용할 데이터에 대한 포함 가능한 차트 링크를 가져올 수 있습니다. 예를 들어, 단일 [트랜잭션](/docs/insights/insights-data-sources/default-data/apm-default-event-attributes-insights#transaction-event) 카운트 대신 시간 경과에 따른 버킷 카운트의 시계열을 보여주는 [차트](/docs/insights/use-insights-ui/manage-dashboards/chart-types#widget-types) 를 생성할 수 있습니다. &#x7B; `embeddedChartUrl` }을 사용하여 쿼리에 `TIMESERIES` 추가:

```
{
   actor {
      account(id: <var>YOUR_ACCOUNT_ID)</var> {
         nrql(query: "<a href="/docs/insights/nrql-new-relic-query-language/nrql-resources/nrql-syntax-components-functions#state-select">SELECT</a> count(*) from <a href="/docs/insights/insights-data-sources/default-data/apm-default-event-attributes-insights#transaction-event">Transaction</a> <a href="/docs/insights/nrql-new-relic-query-language/nrql-resources/nrql-syntax-components-functions#sel-timeseries">TIMESERIES</a>") {
            <mark>embeddedChartUrl</mark>
         }
      }
   }
}
```

이 NerdGraph 쿼리 예제는 다음 응답으로 차트의 URL을 반환합니다.

```
{
   "data": {
      "actor": {
         "account": {
            "nrql": {
               "<mark>embeddedChartUrl</mark>": "https://chart-embed.service.newrelic.com/charts/<var>EMBEDDABLE-CHART-ID</var>"
            }
         }
      }
   }
}
```

표준 HTTP 클라이언트를 사용하여 포함된 차트 URL을 보는 경우 제출한 쿼리에 대한 응답의 시각화를 보여주는 이미지를 반환합니다. 이러한 차트는 다른 곳에서 생성된 포함된 차트와 동일한 [포함된 차트 규칙](/docs/using-new-relic/user-interface-functions/share-your-data/embed-charts-external-webpages#rules) 을 따릅니다. 데이터 시각화의 스타일을 변경하려면 `chartType` 인수를 `embeddedChartUrl` 에 전달합니다.

## 제안된 측면 [#suggest-facets]

NerdGraph를 사용하여 데이터를 탐색할 때 `suggestedFacets` 필드를 사용하여 [패싯 NRQL 쿼리](/docs/insights/nrql-new-relic-query-language/nrql-resources/nrql-syntax-components-functions#sel-facet) 에 사용할 제안 속성을 반환할 수 있습니다.

<CollapserGroup>
  <Collapser
    id="suggested-facet-rules"
    title="제안된 패싯을 관리하는 규칙"
  >
    다음은 제안되는 속성을 제어하는 몇 가지 규칙입니다.

    * **기본 제공 제안.** 각 [이벤트 유형](/docs/using-new-relic/welcome-new-relic/getting-started/glossary#event) 에는 고유한 권장 속성 세트가 있습니다. 이것은 중요성과 인기를 위해 New Relic이 선택한 속성입니다.

    * **사용 기반 제안.** 일부 속성 제안은 계정에서 자주 사용한 쿼리를 기반으로 합니다. 이러한 제안에는 사용자 정의 속성이 포함될 수 있습니다.

    * **역할 제한.** [제한된 사용자](/docs/accounts/accounts/roles-permissions/users-roles) 는 계정 관련 패싯 제안에 액세스할 수 없습니다.

      제안된 쿼리를 결정하기 위해 계정 데이터를 사용하지 않으려면 [지원팀에 문의](/docs/using-new-relic/welcome-new-relic/getting-started/find-help-or-file-support-ticket#support_tickets) 하십시오.
  </Collapser>
</CollapserGroup>

<CollapserGroup>
  <Collapser
    id="example-suggested-query"
    title="제안된 속성 반환의 예"
  >
    다음은 패싯 [트랜잭션](/docs/insights/insights-data-sources/default-data/apm-default-event-attributes-insights#transaction-event) 수에 대해 제안된 속성을 반환하는 예입니다. 응답은 `host` 속성을 제안합니다. `host` 의 패싯은 한 호스트가 다른 호스트보다 더 많은 요청을 처리하고 있음을 나타낼 수 있습니다.

    ```
    {
       actor {
          account(id: <var>YOUR_ACCOUNT_ID</var>) {
             nrql(query: "<a href="/docs/insights/nrql-new-relic-query-language/nrql-resources/nrql-syntax-components-functions#state-select">SELECT</a> count(*) from <a href="https://docs.newrelic.com/docs/insights/insights-data-sources/default-data/apm-default-event-attributes-insights#transaction-event">Transaction</a> <a href="/docs/insights/nrql-new-relic-query-language/nrql-resources/nrql-syntax-components-functions#sel-timeseries">TIMESERIES</a>") {
                <mark>suggestedFacets</mark> {
                   attributes
                }
             }
          }
       }
    }
    ```

    이 NerdGraph 쿼리 예제는 다음과 유사한 응답을 반환합니다.

    ```
    {
       "data": {
          "actor": {
             "account": {
                "nrql": {
                   "<mark>suggestedFacets</mark>": [
           	          "attributes": ["host"]
                   ]
                }
             }
          }
       }
    }
    ```
  </Collapser>
</CollapserGroup>