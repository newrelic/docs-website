---
title: CocoaPods 수동 설치
tags:
  - Mobile monitoring
  - New Relic Mobile iOS
  - Installation
metaDescription: How to add New Relic to your iOS applications using Cocoapods.
freshnessValidatedDate: '2023-08-01T00:00:00.000Z'
translationType: machine
---

iOS 모니터링을 설정하려면 [설치 안내를](https://onenr.io/0qwLv87gkj5) 사용하는 것이 좋습니다. 그러나 에이전트를 수동으로 설치해야 하는 경우 아래 단계에 따라 Cocoapods와 함께 New Relic iOS 에이전트를 설치하세요.

## iOS 애플리케이션 설치 [#installation]

설치 프로세스의 일부로 New Relic은 자동으로 [애플리케이션 토큰](/docs/mobile-apps/viewing-your-application-token) 을 생성합니다. 이것은 New Relic에서 모니터링하는 각 모바일 앱을 인증하기 위한 40자의 16진수 문자열입니다.

iOS 또는 tvOS 애플리케이션을 설치하고 구성하려면:

1. <DNT>**[one.newrelic.com](https://one.newrelic.com/all-capabilities)**</DNT> 으)로 이동합니다.
2. (해당하는 경우) <DNT>**Mobile Apps**</DNT> 목록에서 <DNT>**Add a new app**</DNT> 선택합니다.
3. <DNT>**Get Started**</DNT> 페이지에서 모바일 모니터링 플랫폼으로 <DNT>**iOS**</DNT> 선택합니다.
4. 모바일 앱의 이름을 입력한 다음 <DNT>**Continue**</DNT> 선택합니다.

모바일 모니터링을 위해 New Relic을 구성하는 단계를 계속 진행합니다.

## Objective-C를 사용하여 구성 [#objective-c]

CocoaPods 및 Objective-C로 iOS/tvOS 앱을 구성하는 절차는 뉴렐릭의 <DNT>**Get Started**</DNT> 페이지에도 표시됩니다.

1. 프로젝트의 `Podfile` 에 다음 줄을 추가합니다.

   ```ruby
   pod 'NewRelicAgent'
   ```

2. Xcode에서 프로젝트를 닫은 다음 터미널을 열고 프로젝트 디렉터리에서 다음 명령을 실행하세요.

   ```shell
   pod install
   ```

3. 터미널에서 다음 명령을 실행하여 Xcode에서 프로젝트를 엽니다.

   ```shell
   open App.xcworkspace
   ```

4. `AppDelegate.m` 파일에 다음 New Relic 헤더를 추가합니다.

   ```objectivec
   #import <NewRelic/NewRelic.h>
   ```

5. `AppDelegate.m` 파일에서 이 호출을 `application:didFinishLaunchingWithOptions` 의 첫 번째 줄에 추가하고 `APP_TOKEN` 를 [애플리케이션 토큰](/docs/mobile-apps/viewing-your-application-token) 으로 바꿉니다.

   ```objectivec
   [NewRelic startWithApplicationToken:@"APP_TOKEN"];
   ```

   <Callout variant="important">
     에이전트는 `didFinishLaunchingWithOptions` 의 첫 번째 줄에 있어야 하며 적절한 계측을 보장하기 위해 기본 스레드에서 실행되어야 합니다. 나중에, 백그라운드 스레드에서 또는 비동기적으로 호출을 시작하면 예기치 않거나 불안정한 동작이 발생할 수 있습니다.
   </Callout>

6. 이 저장소를 다운로드하세요: [https://github.com/newrelic/newrelic-ios-agent-spm/archive/refs/heads/main.zip](https://github.com/newrelic/newrelic-ios-agent-spm/archive/refs/heads/main.zip).

7. 다운로드한 저장소에서 `xcodeproject` 파일이 포함된 폴더에 `dsym-upload-tools` 복사합니다. 이제 다음 파일이 포함된 폴더가 있어야 합니다.

   * `YOUR_PROJECT.xcodeproj`
   * `dsym-upload-tools/`

8. 귀하의 iOS 에이전트 버전에 따라 아래 빌드 파일을 타겟의 <DNT>**Build Phases**</DNT> 에 추가하세요. 스크립트가 마지막 빌드 스크립트인지 확인하고 `APP_TOKEN` [애플리케이션 토큰](/docs/mobile-apps/viewing-your-application-token) 으로 바꾸세요.

   * iOS 에이전트 7.4.0 이상의 경우:
     ```shell
     ARTIFACT_DIR="${BUILD_DIR%Build/*}"
     SCRIPT=`/usr/bin/find "${SRCROOT}" "${ARTIFACT_DIR}" -type f -name run-symbol-tool | head -n 1`
     /bin/sh "${SCRIPT}" "APP_TOKEN"
     ```

* upload\_dsym\_results.LOG 파일에 추가 세부 정보를 쓰려면 앱 도구 뒤에 추가 인수로 `--debug` 추가하세요.
  ```
  ARTIFACT_DIR="${BUILD_DIR%Build/*}"
  SCRIPT=`/usr/bin/find "${SRCROOT}" "${ARTIFACT_DIR}" -type f -name run-symbol-tool | head -n 1`
  /bin/sh "${SCRIPT}" "APP_TOKEN" --debug
  ```
* iOS 에이전트 7.3.8의 경우 이하:

```shell
SCRIPT=`/usr/bin/find "${SRCROOT}" -name newrelic_postbuild.sh | head -n 1`
/bin/sh "${SCRIPT}" "APP_TOKEN"
```

9. (선택 사항) 디버깅 중에 기호 업로드를 건너뛰려면 위의 빌드 스크립트에 다음 줄을 추가합니다.

   ```shell
   if [ ${CONFIGURATION} = "Debug" ]; then
       echo "Skipping DSYM upload CONFIGURATION: ${CONFIGURATION}"
       exit 0
   fi
   ```

10. 앱을 정리하고 빌드한 다음 시뮬레이터나 다른 장치에서 실행하십시오.

## Swift를 사용하여 구성 [#configuration]

CocoaPods 및 Swift로 iOS/tvOS 앱을 구성하는 절차는 뉴렐릭의 <DNT>**Get Started**</DNT> 페이지에도 표시됩니다.

1. 프로젝트의 <DNT>**Podfile**</DNT> 에 다음 줄을 추가합니다.

   ```ruby
   pod 'NewRelicAgent'
   ```

2. Xcode에서 프로젝트를 닫고 프로젝트 디렉터리의 터미널에서 다음 명령을 실행하여 업데이트합니다.

   ```shell
   pod install
   ```

3. 프로젝트 디렉터리의 터미널에서 다음 명령을 실행하여 Xcode에서 프로젝트를 엽니다.

   ```shell
   open App.xcworkspace
   ```

4. `AppDelegate.swift` 에서 New Relic 헤더를 추가합니다. (앱이 SwiftUI로 작성된 경우 다음 [지침](/docs/mobile-monitoring/new-relic-mobile-ios/troubleshoot/swiftui-appdelegate) 에 따라 프로젝트에 AppDelegate를 추가합니다.)

   ```swift
   import NewRelic
   ```

5. `AppDelegate.swift` 파일에서 이 호출을 `application:didFinishLaunchingWithOptions` 의 첫 번째 줄에 추가하고 `APP_TOKEN` 를 [애플리케이션 토큰](/docs/mobile-apps/viewing-your-application-token) 으로 바꿉니다.

   ```swift
   NewRelic.start(withApplicationToken:"APP_TOKEN")
   ```

   <Callout variant="important">
     적절한 계측을 보장하려면 `didFinishLaunchingWithOptions()` 의 첫 번째 줄에서 에이전트를 호출하고 기본 스레드에서 에이전트를 실행해야 합니다. 나중에 호출을 시작하면(백그라운드 스레드에서 또는 비동기적으로) 예기치 않거나 불안정한 동작이 발생할 수 있습니다.
   </Callout>

6. 이 저장소를 다운로드하세요: [https://github.com/newrelic/newrelic-ios-agent-spm/archive/refs/heads/main.zip](https://github.com/newrelic/newrelic-ios-agent-spm/archive/refs/heads/main.zip).

7. 다운로드한 저장소에서 `xcodeproject` 파일이 포함된 폴더에 `dsym-upload-tools` 복사합니다. 이제 다음 파일이 포함된 폴더가 있어야 합니다.

   * `YOUR_PROJECT.xcodeproj`
   * `dsym-upload-tools/`

8. 귀하의 iOS 에이전트 버전에 따라 아래 빌드 파일을 타겟의 <DNT>**Build Phases**</DNT> 에 추가하세요. 스크립트가 마지막 빌드 스크립트인지 확인하고 `APP_TOKEN` [애플리케이션 토큰](/docs/mobile-apps/viewing-your-application-token) 으로 바꾸세요.

   * iOS 에이전트 7.4.0 이상의 경우:

     ```swift
     ARTIFACT_DIR="${BUILD_DIR%Build/*}"
     SCRIPT=`/usr/bin/find "${SRCROOT}" "${ARTIFACT_DIR}" -type f -name run-symbol-tool | head -n 1`
     /bin/sh "${SCRIPT}" "APP_TOKEN"
     ```

     * upload\_dsym\_results.LOG 파일에 추가 세부 정보를 기록하려면 앱 도구 뒤에 &apos;--debug&apos;를 추가 인수로 추가하세요.

     ```
     ARTIFACT_DIR="${BUILD_DIR%Build/*}"
     SCRIPT=`/usr/bin/find "${SRCROOT}" "${ARTIFACT_DIR}" -type f -name run-symbol-tool | head -n 1`
     /bin/sh "${SCRIPT}" "APP_TOKEN" --debug
     ```

   * iOS 에이전트 7.3.8의 경우 이하:

   ```swift
   SCRIPT=`/usr/bin/find "${SRCROOT}" -name newrelic_postbuild.sh | head -n 1`
   /bin/sh "${SCRIPT}" "APP_TOKEN"
   ```

9. (선택 사항) 디버깅 중에 기호 업로드를 건너뛰려면 위의 빌드 스크립트에 다음 줄을 추가합니다.

   ```swift
   if [ ${CONFIGURATION} = "Debug" ]; then
       echo "Skipping DSYM upload CONFIGURATION: ${CONFIGURATION}"
       exit 0
   fi
   ```

10. 앱을 정리하고 빌드한 다음 시뮬레이터나 다른 장치에서 실행하십시오.

<InstallFeedback />

## (선택사항) 로깅 수준 변경 [#logging]

기본적으로 iOS 에이전트는 `info` 수준에서 로깅합니다. 로그 수준을 변경하여 더 많거나 적은 데이터를 수집할 수 있습니다. 지원되는 로그 수준은 6개입니다.

* `none`
* `error`
* `warning`
* `info`
* `verbose`
* `ALL`

<Callout variant="important">
  릴리스 빌드가 아닌 디버깅을 위해서는 로그 수준을 `verbose` 이상으로만 높이세요.
</Callout>

앱에서 로깅 수준을 변경하려면 `NewRelic.start(withApplicationToken)` 호출하기 전에 다음 메서드 호출을 추가하세요.

* 목표-c:

  ```objectivec
  [NRLogger setLogLevels:NRLogLevelALL];
  ```

* 빠른:

  ```swift
  NRLogger.setLogLevels(NRLogLevelALL.rawValue)
  ```