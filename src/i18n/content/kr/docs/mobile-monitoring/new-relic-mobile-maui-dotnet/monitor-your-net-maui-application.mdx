---
title: .NET MAUI 모바일 앱 모니터링
tags:
  - .NET MAUI
  - Mobile monitoring
  - Hybrid framework
  - Get started
metaDescription: 'New Relic''s .NET MAUI agent for Android and iOS: Features, compatibility, requirements, and installation.'
freshnessValidatedDate: never
translationType: machine
---

당사의 New Relic .NET MAUI 에이전트는 .NET MAUI 모바일 앱을 모니터링하고 앱의 성능, 오류 및 사용자 경험에 대한 심층적인 통찰력을 제공합니다. .NET MAUI 에이전트를 설치하고 구성하면 다음을 수행할 수 있습니다.

* <DNT>**Capture C# errors:**</DNT> 문제를 신속하게 식별하고 해결합니다.
* <DNT>**Track network requests:**</DNT> 앱이 백앤드와 어떻게 상호작용하는지 알아보세요.
* <DNT>**Use distributed tracing:**</DNT> 처리된 예외를 자세히 살펴보고 근본 원인을 찾으세요.
* <DNT>**Create custom events and metrics:**</DNT> 사용자가 앱과 상호 작용하는 방식을 이해합니다.

<img title="Mobile summary view in the UI" alt="Summary view of a .NET MAUI mobile app in New Relic" src="/images/mobile_screenshot-full_hybrid-summary.webp" style={{ maxWidth: '70%' }} />

<figcaption>
  <DNT>**[one.newrelic.com &gt; All capabilities](https://one.newrelic.com/all-capabilities) &gt; Mobile &gt; (select your .NET MAUI app) &gt; Summary**</DNT>: .NET MAUI 데이터를 보고, HTTP 요청 및 오류를 추적하고, 시간 경과에 따른 앱 성능을 모니터링합니다.
</figcaption>

## (권장) 설치 안내 [#guided-install]

.NET MAUI 에이전트를 설치하려면 UI에 직접 있는 [설치 안내를](https://onenr.io/0BR664ABdRO) 따르십시오.

## 수동 설치 [#manual-install]

에이전트를 수동으로 설치해야 하는 경우 다음 단계를 따르세요.

<Steps>
  <Step>
    ### 요구 사항 검토 [#requirements]

    .NET MAUI 에이전트를 설치하기 전에 앱이 다음 버전 요구 사항을 충족하는지 확인하십시오.

    * .NET 버전 7.0 이상
    * Android 네이티브 앱의 경우: Android 7(API 24) 이상
    * iOS 네이티브 앱의 경우:
      * iOS 16 이상 버전 및 최신 Xcode 버전 사용
  </Step>

  <Step>
    ### 프로젝트에 .NET MAUI 에이전트 추가 [#add-project]

    먼저 MAUI 프로젝트에 에이전트인 NuGet 패키지를 추가해야 합니다.

    1. .NET MAUI 솔루션을 열고 에이전트를 추가할 프로젝트를 선택한 다음 컨텍스트 메뉴를 엽니다.
    2. <DNT>**Add &gt; Add NuGet packages**</DNT> 클릭한 다음 `NewRelic.MAUI.Plugin` 선택합니다.
  </Step>

  <Step>
    ### UI에서 애플리케이션 토큰 복사 [#app-token]

    애플리케이션 토큰은 New Relic이 .NET MAUI 앱의 데이터를 인증하는 데 사용됩니다. New Relic UI에서 애플리케이션 토큰을 보고 복사하려면:

    1. <DNT>**[one.newrelic.com](https://one.newrelic.com/all-capabilities)**</DNT> 으로 이동하여 <DNT>**Integrations &amp; Agents**</DNT> 클릭한 다음 <DNT>**Mobile**</DNT> 클릭하세요.
    2. .NET MAUI 앱을 선택합니다.
    3. <DNT>**Settings &gt; Application**</DNT> 으로 이동하여 표시된 <DNT>**Application token**</DNT> 을 복사합니다.

    다음 단계에서 이 애플리케이션 토큰을 추가합니다.
  </Step>

  <Step>
    ### .NET MAUI 프로젝트에 에이전트 구성 파일을 추가합니다. [#add-configuration]

    프로젝트에서 `MauiProgram.cs` 열고 다음 코드를 추가합니다.

    ```csharp
    using NewRelic.MAUI.Plugin;
    ...

      public static MauiApp CreateMauiApp()
      {
        var builder = MauiApp.CreateBuilder();
        builder
          .UseMauiAppApp_()_
          .ConfigureFonts(fonts =>
          {
            fonts.AddFont("OpenSans-Regular.ttf", "OpenSansRegular");
            fonts.AddFont("OpenSans-Semibold.ttf", "OpenSansSemibold");
          });

        builder.ConfigureLifecycleEvents(AppLifecycle => {
          #if ANDROID
          AppLifecycle.AddAndroid(android => android
            .OnCreate((activity, savedInstanceState) => StartNewRelic()));
          #endif

          #if IOS
          AppLifecycle.AddiOS(iOS => iOS.WillFinishLaunching((_,__) => {
            StartNewRelic();
            return false;
          }));
          #endif
        });
        return builder.Build();
      }

      private static void StartNewRelic()
      {
        CrossNewRelic.Current.HandleUncaughtException();

        // Set optional agent configuration
        // Options are: crashReportingEnabled, loggingEnabled, logLevel, collectorAddress, 
        // crashCollectorAddress, analyticsEventEnabled, networkErrorRequestEnabled, 
        // networkRequestEnabled, interactionTracingEnabled, webViewInstrumentation, 
        // fedRampEnabled, offlineStorageEnabled, newEventSystemEnabled, backgroundReportingEnabled
        // AgentStartConfiguration agentConfig = new AgentStartConfiguration(crashReportingEnabled:false);

        if (DeviceInfo.Current.Platform == DevicePlatform.Android)
        {
          CrossNewRelic.Current.Start("APP_TOKEN_HERE");
          // Start with optional agent configuration
          // CrossNewRelic.Current.Start("APP_TOKEN_HERE", agentConfig);
        } 
        else if (DeviceInfo.Current.Platform == DevicePlatform.iOS)
        {
          CrossNewRelic.Current.Start("APP_TOKEN_HERE");
          // Start with optional agent configuration
          // CrossNewRelic.Current.Start("APP_TOKEN_HERE", agentConfig);
        }
      }
    ```

    위 코드의 `appToken = "<APP-TOKEN-HERE>"` 에 애플리케이션 토큰을 붙여넣었는지 확인하세요. iOS 및 Android 플랫폼 모두에 하이브리드 앱을 배포한 경우 iOS용 토큰과 Android용 토큰 두 개를 추가해야 합니다.
  </Step>

  <Step>
    ### 화면 추적 이벤트 [#screen-tracking-events]

    .NET MAUI 모바일 플러그인을 사용하면 [.NET MAUI 셸](https://learn.microsoft.com/en-us/dotnet/maui/fundamentals/shell/navigation) 내에서 탐색 이벤트를 추적할 수 있습니다. 이렇게 하려면 `App.xaml.cs` 에서 다음을 호출하기만 하면 됩니다.

    ```C#
    public App()
    {
      InitializeComponent();

      MainPage = new AppShell();
      CrossNewRelic.Current.TrackShellNavigatedEvents();
    }
    ```

    에이전트를 시작할 때 이 메서드를 함께 호출하는 것이 좋습니다. 이러한 이벤트는 탐색이 완료된 후에만 기록됩니다. 이 데이터는 `MobileBreadcrumb` ( `ShellNavigated` 이름으로)의 데이터 탐색기를 통해 또는 NRQL 쿼리를 통해 찾을 수 있습니다.

    ```sql
    SELECT * FROM MobileBreadcrumb WHERE name = 'ShellNavigated' SINCE 24 HOURS AGO
    ```

    브레드크럼에는 세 가지 속성이 포함됩니다.

    * `Current`: 현재 페이지의 URI입니다.
    * `Source`: 발생한 탐색 유형입니다.
    * `Previous`: 이전 페이지의 URI입니다. 이전 페이지가 null이면 존재하지 않습니다.
  </Step>
</Steps>

## 에이전트 계측 사용자 지정 [#mobile-sdk]

에이전트 계측을 사용자 정의해야 합니까? 공개 모바일 SDK API 방법을 사용하면 사용자 지정 데이터를 수집하고 기본 설정을 구성하는 등의 작업을 수행할 수 있습니다.

다음 사용자 지정은 .NET MAUI 에이전트에 사용할 수 있습니다.

<table>
  <thead>
    <tr>
      <th style={{ width: "300px" }}>
        원하는 경우...
      </th>

      <th>
        이 방법을 사용하십시오
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td id="crash-analysis">
        충돌 문제 해결에 도움이 될 수 있는 앱 활동을 추적하기 위해 이동 경로를 기록합니다.
      </td>

      <td>
        [이동 경로 기록](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/record-breadcrumb)
      </td>
    </tr>

    <tr>
      <td id="creating">
        메서드를 상호 작용으로 추적합니다.
      </td>

      <td>
        [상호 작용 시작](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/start-interaction)

        [상호 작용 중지](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/stop-interaction)
      </td>
    </tr>

    <tr>
      <td id="create-custom">
        맞춤 측정항목을 기록합니다.
      </td>

      <td>
        [맞춤 측정항목 기록](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/record-custom-metrics/)
      </td>
    </tr>

    <tr>
      <td id="create-custom">
        처리된 예외를 기록합니다.
      </td>

      <td>
        [처리된 예외 기록](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/record-handled-exceptions)
      </td>
    </tr>

    <tr>
      <td id="attributes-events-insights">
        사용자 지정 속성 및 이벤트를 기록합니다.
      </td>

      <td>
        사용자 정의 속성 및 이벤트를 보고하는 방법에는 여러 가지가 있습니다.

        * [사용자 정의 속성 기록](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/create-attribute)

        * [증가 세션 속성 수](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/increment-session-attribute-count)

        * [속성 제거](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/remove-attribute)

        * [모든 속성 제거](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/remove-all-attributes)

        * [맞춤 이벤트 기록](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/record-custom-events)

        * [이벤트 풀의 최대 크기 설정](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/set-max-event-pool-size)

        * [에이전트가 메모리에 이벤트를 저장하는 최대 시간 설정](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/set-max-event-buffer-time)

        * [현재 세션의 ID 얻기](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/current-session-id)

        * [이벤트 및 속성과 연결할 사용자 정의 사용자 ID 설정](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/set-custom-user-id)

          가장 좋은 사용 방법과 그 이유에 대한 자세한 내용 [은 모바일 모니터링 사용자 정의 이벤트 및 속성 보고를](/docs/data-apis/custom-data/custom-events/report-mobile-monitoring-custom-events-attributes/) 참조하세요.
      </td>
    </tr>

    <tr>
      <td id="track-custom">
        사용자 지정 네트워크 요청 및 실패를 추적합니다.
      </td>

      <td>
        [HTTP 요청 추적](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/network-request-success)

        [실패한 HTTP 요청 추적](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/network-request-failures)
      </td>
    </tr>

    <tr>
      <td>
        에이전트를 종료합니다.
      </td>

      <td>
        [에이전트 종료](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/shut-down-agent)
      </td>
    </tr>

    <tr>
      <td>
        기본 모바일 모니터링 설정을 활성화/비활성화합니다.
      </td>

      <td>
        [모니터링 기능 활성화/비활성화](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/configure-settings)
      </td>
    </tr>

    <tr>
      <td>
        테스트 충돌 보고서를 실행합니다.
      </td>

      <td>
        [충돌 보고 테스트](/docs/mobile-monitoring/new-relic-mobile/mobile-sdk/test-crash-reporting)
      </td>
    </tr>
  </tbody>
</table>

## HTTP 오류 문제 해결 [#http-errors]

UI에 HTTP 데이터가 누락되었습니까?

.NET MAUI 에이전트를 설치한 후 5분 이상 기다리십시오. HTTP 오류 및 HTTP 요청 UI 페이지에 HTTP 데이터가 표시되지 않으면 `HttpClient` 에서 `HttpMessageHandler` ) 사용했는지 확인하십시오.

### UI에서 분산 추적 데이터가 누락됨

정적 메서드를 사용하여 HTTP 데이터를 보고하는 경우 분산 추적이 작동하지 않습니다. 분산 추적을 활성화하려면 `HttpMessageHandler` `HttpClient` 과 함께 사용해야 합니다.

```csharp
HttpClient myClient = new HttpClient(CrossNewRelic.Current.GetHttpMessageHandler());

    var response = await myClient.GetAsync(new Uri("https://jsonplaceholder.typicode.com/todos/1"));
    if (response.IsSuccessStatusCode)
    {
        var content = await response.Content.ReadAsStringAsync();
    } else
    {
        Console.WriteLine("Http request failed");
    }
```