---
title: '오류 범위: 영향을 받는 사용자, 세션 및 장치'
metaDescription: 'Triage more effectively by viewing how many users, sessions, or devices are impacted by an error group.'
freshnessValidatedDate: never
translationType: machine
---

뉴렐릭 에이전트는 귀하의 군대에 영향을 미치는 오류 범위에 대한 데이터를 자동으로 캡처합니다. 오류 그룹별로 정리하면 세 가지 주요 지표를 통해 영향을 확인할 수 있습니다.

* **영향을 받은 사용자**: 오류의 영향을 받은 고유 사용자 수
* **영향을 받은 세션**: 영향을 받은 고유 브라우저 세션 수(브라우저 대체)
* **영향을 받은 기기**: 영향을 받은 고유한 모바일 기기 수(모바일 대체)

사용자에게 영향을 받은 데이터를 사용할 수 없는 경우 뉴렐릭은 사용자 유형에 따라 적절한 대체 지표를 자동으로 표시합니다. 이를 통해 영향 범위가 가장 큰 오류를 보여줌으로써 디버깅 노력을 어디에 집중해야 할지 우선순위를 정하는 데 도움이 됩니다.

<img title="An image showing how to navigate impact metrics in errors inbox" alt="This is an image of the main errors inbox showing users, sessions, and devices impacted" src="/images/errors-inbox_screenshot-full_users-impacted.webp" />

<figcaption>
  **[one.newrelic.com](https://one.newrelic.com) &gt; APM &amp; Services &gt; Errors (errors inbox) &gt; Triage** 로 이동하세요. 영향 지표는 **Error count** \[오류 수] 및 **Error rate** \[오류율] 시계열 아래에 있는 **Error groups** \[오류 그룹] 표의 두 번째 열에서 찾을 수 있습니다.
</figcaption>

## 대체 영향 지표 [#fallback-metrics]

뉴렐릭은 귀하의 특정 유형에 가장 관련성이 높은 영향 데이터를 표시하는 데 우선순위를 둡니다. **Users impacted** \[사용자 영향을 받는] 데이터를 사용할 수 없는 경우 시스템은 자동으로 해당 분야의 지표로 돌아갑니다.

* **브라우저에서**: **Sessions impacted** \[영향을 받은 세션] 표시 - 오류로 인해 영향을 받은 고유 브라우저 세션 수
* **모바일 실험실**: **Devices impacted** \[영향을 받은 디스플레이 장치] - 오류로 인해 영향을 받은 고유한 모바일 장치 수

이러한 대체 지표는 사용자 정의 속성이 필요할 수 있는 사용자 영향과 달리 추가 설정 없이 자동으로 수집됩니다. 이를 통해 설정에 관계없이 애플리케이션에 영향을 미치는 오류 범위를 항상 파악할 수 있습니다.

## 영향을 받은 사용자를 추적하는 사용자 정의 속성 [#custom-attributes]

어떤 경우에는 오류 이벤트에 해당 오류 이벤트의 영향을 받는 최종 사용자를 식별하는 속성이 없을 수 있습니다. 수집 시 에이전트가 사용자 식별 메타데이터를 캡처할 수 있도록 맞춤 속성을 수동으로 추가할 수 있습니다.

사용자 정의 속성을 추가해야 하는 경우 최종 사용자 속성 이름 지정에 대한 여러 공통 규칙이 있으므로 [OpenTelemetry 의 속성 규칙을](/docs/more-integrations/open-source-telemetry-integrations/opentelemetry/opentelemetry-introduction) 검토하는 것이 좋습니다.

예를 들어, [OpenTelemetry 표준은](https://opentelemetry.io/docs/reference/specification/trace/semantic_conventions/span-general/#general-identity-attributes) 우선순위에 따라 다음 속성을 사용합니다.

* `userId`
* `user`

[커스텀 대시보드 수집](/docs/data-apis/custom-data/custom-events/collect-custom-attributes/#enabling-custom) 에 대한 문서를 읽으면 뉴렐릭이 커스텀 속성을 처리하는 방법을 검토할 수 있습니다.

## 영향 지표 쿼리 [#query]

오류 그룹에 대한 영향 지표는 특정 지표 이름을 가진 [지표 데이터 유형](/docs/data-apis/understand-data/metric-data/metric-data-type/) 으로 기록됩니다.

<CollapserGroup>
  <Collapser className="freq-link" id="users" title="영향을 받은 사용자">
    NRQL 쿼리에서 `newrelic.error.group.userImpact` 지표 이름으로 사용하여 영향을 받은 사용자 수를 쿼리할 수 있습니다.

    ```sql
    SELECT uniqueCount(newrelic.error.group.userImpact) 
    FROM Metric 
    WHERE metricName='newrelic.error.group.userImpact'
    ```

    이 NRQL 쿼리 지표는 선택한 기간 동안의 대략적인 고유 사용자 수를 캡처합니다. `FACET` 절에서 사용할 수 있는 `userImpact` 메트릭에서 제공하는 추가 속성은 `error.group.guid`, `entity.guid` 입니다.
  </Collapser>

  <Collapser className="freq-link" id="sessions" title="영향을 받은 세션">
    NRQL 쿼리에서 `newrelic.error.group.sessionImpact` 지표 이름으로 사용하여 영향을 받은 세션 수를 쿼리할 수 있습니다.

    ```sql
    SELECT uniqueCount(newrelic.error.group.sessionImpact) 
    FROM Metric 
    WHERE metricName='newrelic.error.group.sessionImpact'
    ```
  </Collapser>

  <Collapser className="freq-link" id="devices" title="영향을 받은 장치">
    NRQL 쿼리에서 `newrelic.error.group.deviceUuidImpact` 지표 이름으로 사용하여 영향을 받는 장치 수를 쿼리할 수 있습니다.

    ```sql
    SELECT uniqueCount(newrelic.error.group.deviceUuidImpact) 
    FROM Metric 
    WHERE metricName='newrelic.error.group.deviceUuidImpact'
    ```
  </Collapser>
</CollapserGroup>

## 영향지수에 대한 공지 [#alert]

[NRQL 공지 조건을](/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-alert-conditions/) 생성함으로써 개발자는 오류 범위가 청년 값을 초과할 때 <InlinePopover type="alerts" />트리거할 수 있습니다. 다음과 같은 영향 지표에 대한 알림을 생성할 수 있습니다.

* **사용자 영향을 받음**: 사용자 영향이 귀하의 레버 값을 초과할 경우 공지
* **영향을 받은 세션**: 브라우저 세션 영향이 귀하의 이전 값을 초과하는 경우 공지
* **영향을 받는 장치**: 공지사항 모바일 장치 영향이 귀하의 레버 값을 초과하는 경우

이 경고를 생성하려면 사용 사례를 가장 잘 포착하는 방식으로 영향을 받는 사용자 수를 측정하는 [NRQL 쿼리를](/docs/query-your-data/nrql-new-relic-query-language/get-started/introduction-nrql-new-relics-query-language/) 결정해야 합니다.

예를 들어 다음 NRQL 쿼리는 특정 엔터티에서 발생하는 [오류 그룹](/docs/errors-inbox/errors-inbox/#groups) 의 영향을 받은 고유 사용자 수를 측정합니다.

<CollapserGroup>
  <Collapser className="freq-link" id="user" title="영향을 받는 사용자에 대한 알림">
    ```sql
    SELECT uniqueCount(newrelic.error.group.userImpact) 
    FROM Metric 
    WHERE metricName='newrelic.error.group.userImpact' 
    AND entity.guid='RXxCUk9XU9182nNEFQUExJQ0FLsU9OfDgzNzgwNw' FACET error.group.guid TIMESERIES
    ```

    [`uniqueCount()`](/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-nrql-alert-conditions/) 함수 사용, 항목의 [항목 GUID를 찾는 방법](/docs/new-relic-solutions/new-relic-one/core-concepts/what-entity-new-relic/#find) 에 대해 자세히 알아보세요.

    마찬가지로 다음 NRQL 쿼리는 지난 1시간 동안 계정에 속한 모든 엔터티의 오류로 영향을 받은 총 사용자 수를 측정합니다.

    ```sql
    SELECT count(newrelic.error.group.userImpact) 
    FROM Metric 
    WHERE metricName='newrelic.error.group.userImpact' SINCE 1 hour ago TIMESERIES
    ```
  </Collapser>

  <Collapser className="freq-link" id="session" title="영향을 받은 세션에 대한 알림">
    브라우저 애플리케이션의 경우 영향을 받은 세션을 기반으로 알림을 생성할 수 있습니다.

    ```sql
    SELECT uniqueCount(newrelic.error.group.sessionImpact) 
    FROM Metric 
    WHERE metricName='newrelic.error.group.sessionImpact' 
    AND entity.guid='YOUR_BROWSER_ENTITY_GUID' FACET error.group.guid TIMESERIES
    ```
  </Collapser>

  <Collapser className="freq-link" id="device" title="영향을 받은 장치에 대한 알림">
    모바일 애플리케이션의 경우 영향을 받은 기기를 기준으로 알림을 생성할 수 있습니다.

    ```sql
    SELECT uniqueCount(newrelic.error.group.deviceUuidImpact) 
    FROM Metric 
    WHERE metricName='newrelic.error.group.deviceUuidImpact' 
    AND entity.guid='YOUR_MOBILE_ENTITY_GUID' FACET error.group.guid TIMESERIES
    ```
  </Collapser>
</CollapserGroup>

NRQL 쿼리를 결정하면 이를 사용하여 [NRQL 경고 조건을](/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-nrql-alert-conditions/#create) 생성할 수 있습니다.

트리거된 경고의 신호 대 잡음비를 개선하려면 [경고 생성 팁](/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-nrql-alert-conditions/#condition-tips), [경고 임계값 평가 방법](/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-nrql-alert-conditions/#advanced-signal) 및 [경고 조건 예를](/docs/alerts-applied-intelligence/new-relic-alerts/alert-conditions/create-nrql-alert-conditions/#examples) 참조하세요.

## setUser 메소드로 영향을 받는 사용자 설정 [#set-users]

에이전트 방법을 사용하면 **Users impacted** \[영향을 받는 사용자] 메트릭에 대한 최종 사용자를 식별할 수 있습니다. 영향을 받은 세션과 장치는 추가 설정 없이 자동으로 수집됩니다. 각 에이전트에 대한 구현 세부 정보는 아래에서 확인하세요.

<table>
  <thead>
    <tr>
      <th>
        에이전트
      </th>

      <th>
        최종 사용자를 식별하는 방법
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        브라우저
      </td>

      <td>
        [`newrelic.setUserId(value: string|null)`](/docs/browser/new-relic-browser/browser-apis/setuserid/)
      </td>
    </tr>

    <tr>
      <td>
        가다
      </td>

      <td>
        [`txn.SetUserID("example user ID")`](/docs/apm/agents/go-agent/api-guides/guide-using-go-agent-api/#user-tracking)
      </td>
    </tr>

    <tr>
      <td>
        자바
      </td>

      <td>
        [`NewRelic.setUserId(String userId);`](/docs/apm/agents/java-agent/attributes/java-agent-attributes/#user-attributes)
      </td>
    </tr>

    <tr>
      <td>
        이동하는
      </td>

      <td>
        [`setUserId`](/docs/data-apis/custom-data/custom-events/report-mobile-monitoring-custom-events-attributes/#track-user)
      </td>
    </tr>

    <tr>
      <td>
        .그물
      </td>

      <td>
        [`SetUserId`](/docs/apm/agents/net-agent/net-agent-api/itransaction/#setuserid)
      </td>
    </tr>

    <tr>
      <td>
        노드.js
      </td>

      <td>
        [`setUserID(id)`](https://newrelic.github.io/node-newrelic/API.html#setUserID)
      </td>
    </tr>

    <tr>
      <td>
        PHP
      </td>

      <td>
        [`newrelic_set_user_id(string $user_id)`](https://docs.newrelic.com/docs/apm/agents/php-agent/php-agent-api/newrelic_set_user_id/)
      </td>
    </tr>

    <tr>
      <td>
        파이썬
      </td>

      <td>
        [`newrelic.agent.set_user_id(user_id)`](https://docs.newrelic.com/docs/apm/agents/python-agent/python-agent-api/setuserid-python-agent-api)
      </td>
    </tr>

    <tr>
      <td>
        루비
      </td>

      <td>
        [`NewRelic::Agent.set_user_id`](/docs/apm/agents/ruby-agent/api-guides/sending-handled-errors-new-relic/#user-tracking)
      </td>
    </tr>
  </tbody>
</table>