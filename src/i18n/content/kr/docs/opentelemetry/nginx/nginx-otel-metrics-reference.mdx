---
title: NGINX OpenTelemetry 메트릭 및 속성 참조
metaDescription: 'Complete reference of NGINX metrics collected via OpenTelemetry, including resource attributes for both on-host and Kubernetes deployments.'
freshnessValidatedDate: never
translationType: machine
---

이 참조는 호스트 및 Kubernetes 구현 모두에 적용 가능한 OpenTelemetry NGINX 수신기에서 수집한 모든 지표 및 속성을 다루고 있습니다.

## 핵심 NGINX 메트릭 [#core-metrics]

OpenTelemetry Collector Contrib의 [nginxreceiver는](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/nginxreceiver) NGINX 스텁 상태 모듈에서 다음 메트릭을 수집합니다.

<table>
  <thead>
    <tr>
      <th style={{ width: "350px" }}>
        미터법
      </th>

      <th>
        설명
      </th>

      <th>
        유형
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `nginx.connections_accepted`
      </td>

      <td>
        승인된 클라이언트 연결의 총 개수입니다. 이 기능을 사용하여 시간 경과에 따른 연결 수락률을 추적하십시오.
      </td>

      <td>
        합집합
      </td>
    </tr>

    <tr>
      <td>
        `nginx.connections_handled`
      </td>

      <td>
        처리된 연결의 총 수입니다. 일반적으로, 수행하는 값은 nginx.connections\_accepted와 동일합니다. 일부 리소스 제한(예: worker\_connections 제한)에 도달하지 않는 한. 수용된 양과 처리된 양 사이의 차이는 자원 제약을 시사합니다.
      </td>

      <td>
        합집합
      </td>
    </tr>

    <tr>
      <td>
        `nginx.connections_current`
      </td>

      <td>
        주별 현재 Nginx 연결 수. 상태에는 <strong>활성</strong> (총 활성 연결 수), <strong>읽기</strong> (요청 헤더 읽기), <strong>쓰기</strong> (응답 쓰기), <strong>대기</strong> (다음 요청을 기다리는 유지 연결)가 포함됩니다.
      </td>

      <td>
        합집합
      </td>
    </tr>

    <tr>
      <td>
        `nginx.requests`
      </td>

      <td>
        서버 가동 이후 서버에 대한 총 requests 횟수입니다. 성능 분석을 위해 속도 계산을 사용하여 초당 requests 도출합니다.
      </td>

      <td>
        합집합
      </td>
    </tr>
  </tbody>
</table>

**용량 계획 수립 팁:**

* 높은 `waiting` 연결 수는 유지 튜닝 기회를 나타낼 수 있습니다.
* `accepted` 과 `handled` 연결 사이의 간격은 자원 제약을 시사합니다.
* 요청 대비 연결 비율은 워커 설정을 최적화하는 데 도움이 됩니다.

## 리소스 속성 [#resource-attributes]

리소스 속성은 NGINX 구현, 배포에 대한 컨텍스트를 제공하며 온호스트 또는 Kubernetes 구현, 배포를 사용하는지 여부에 따라 달라집니다.

### 공통 속성 [#common-attributes]

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        기인하다
      </th>

      <th style={{ width: "350px" }}>
        설명
      </th>

      <th>
        예시 값
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `state`
      </td>

      <td>
        연결 상태( `nginx.connections_current` 메트릭에 적용 가능)
      </td>

      <td>
        `active`, `reading` , `writing` , `waiting`
      </td>
    </tr>

    <tr>
      <td>
        `nginx.server.endpoint`
      </td>

      <td>
        NGINX 스텁 상태 엔드포인트 URL
      </td>

      <td>
        `http://localhost:8080/stub_status`
      </td>
    </tr>
  </tbody>
</table>

### 호스트 구현, 배포 속성 [#on-host-attributes]

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        기인하다
      </th>

      <th style={{ width: "350px" }}>
        설명
      </th>

      <th>
        예시 값
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `nginx.deployment.name`
      </td>

      <td>
        이 NGINX 구현을 식별하는 고유한 이름, 배포
      </td>

      <td>
        `production-web-01`, `staging-api`
      </td>
    </tr>

    <tr>
      <td>
        `nginx.display.name`
      </td>

      <td>
        &quot;서버&quot; 접두사와 구현, 배포 이름을 결합한 보기 편한 이름
      </td>

      <td>
        `server:production-web-01`
      </td>
    </tr>

    <tr>
      <td>
        `host.name`
      </td>

      <td>
        NGINX가 실행 중인 시스템의 호스트명
      </td>

      <td>
        `web-server-01.example.com`
      </td>
    </tr>

    <tr>
      <td>
        `host.id`
      </td>

      <td>
        호스트 시스템의 고유 식별자
      </td>

      <td>
        `i-1234567890abcdef0`
      </td>
    </tr>

    <tr>
      <td>
        `logtype`
      </td>

      <td>
        수집되는 로그 유형 (로그에만 해당). 뉴렐릭의 내장 구문 [분석 규칙](https://docs.newrelic.com/docs/logs/ui-data/built-log-parsing-rules/#nginx) 에서 사용됩니다. 이 속성은 로그 포워딩이 활성화된 경우에만 사용할 수 있습니다.
      </td>

      <td>
        `nginx` (접근 로그용), `nginx-error` (오류 로그용)
      </td>
    </tr>
  </tbody>
</table>

### Kubernetes 구현, 배포 속성 [#kubernetes-attributes]

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        기인하다
      </th>

      <th style={{ width: "350px" }}>
        설명
      </th>

      <th>
        예시 값
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `k8s.cluster.name`
      </td>

      <td>
        쿠버네티스 클러스터의 이름
      </td>

      <td>
        `nginx-cluster`, `production-k8s`
      </td>
    </tr>

    <tr>
      <td>
        `k8s.namespace.name`
      </td>

      <td>
        NGINX 파드가 실행 중인 Kubernetes 네임스페이스
      </td>

      <td>
        `default`, `web-services` , `production`
      </td>
    </tr>

    <tr>
      <td>
        `k8s.pod.name`
      </td>

      <td>
        NGINX를 실행하는 Kubernetes 파드의 이름
      </td>

      <td>
        `nginx-deployment-7d4b8c6f9-x5z8w`
      </td>
    </tr>

    <tr>
      <td>
        `nginx.deployment.name`
      </td>

      <td>
        Kubernetes 구현, 배포에 대한 패드 이름으로 설정
      </td>

      <td>
        `nginx-deployment-7d4b8c6f9-x5z8w`
      </td>
    </tr>

    <tr>
      <td>
        `nginx.display.name`
      </td>

      <td>
        클러스터, 지우스페이스, 파드 정보를 포함한 종합 표시 이름
      </td>

      <td>
        `server:k8s:nginx-cluster:default:pod:nginx-deployment-7d4b8c6f9-x5z8w:nginx:8080`
      </td>
    </tr>
  </tbody>
</table>

## 컬렉션 상세 정보 [#collection-details]

### 수집 빈도

* **기본 간격**: 30초
* **설정 가능**: OpenTelemetry Collector 설정에서 조정할 수 있습니다.

### 데이터 소스

모든 메트릭은 NGINX [stub\_status 모듈](https://nginx.org/en/docs/http/ngx_http_stub_status_module.html) 에서 수집되며, 이 모듈은 HTTP 엔드포인트를 노출하도록 활성화 및 구성되어 있어야 합니다.

### 측정항목 유형

* **합계**: 시간에 따른 총합을 나타내는 누적 값
* **속도 계산**: 뉴렐릭의 `rate()` 함수를 사용하여 누적 지표를 초당 속도로 변환하여 관찰합니다.

## 관련 문서 [#related-docs]

**설치 가이드:**

* [자체 호스팅 환경에서 NGINX 모니터링](/docs/opentelemetry/nginx/nginx-otel-host/) - 호스트 내 구현을 위한 전체 설정, 배포
* [Kubernetes에서 NGINX 모니터링](/docs/opentelemetry/nginx/nginx-otel-kubernetes/) - Kubernetes 구현, 배포에 대한 전체 설정

**데이터 사용량:**

* [NGINX 데이터 찾기 및 쿼리](/docs/opentelemetry/nginx/find-and-query-your-data/) - Dashboards, NRQL 쿼리 및 알림

**기술 참고 자료:**

* [NGINX 수신기 문서](https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/receiver/nginxreceiver/documentation.md) - OpenTelemetry 기술 세부 정보