---
title: 호스트에 대한 ATP를 구성합니다.
metaDescription: Step-by-step guide to install and configure the Adaptive Telemetry Processor (ATP) with NRDOT Collector Host distribution.
tags:
  - Open source telemetry integrations
  - OpenTelemetry
  - NRDOT
  - Adaptive Telemetry Processor
  - ATP
  - Configuration
  - Setup
  - Installation
freshnessValidatedDate: never
translationType: machine
---

<Callout title="시사">
  이 기능은 아직 개발 중이지만 꼭 사용해 보시기 바랍니다!

  이 기능은 현재 [사전 출시 정책](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy/) 에 따라 미리보기의 일부로 제공됩니다.
</Callout>

NRDOT Collector 와 함께 Adaptive Telemetry Processor(ATP)를 설치하고 구성하는 방법을 알아보세요. ATP는 중요한 가시성을 유지하면서 텔레메트리 데이터 볼륨을 줄이기 위해 표준 NRDOT 배포에 포함됩니다.

## 설치 옵션 [#installation-options]

현재 설정에 맞는 설치 방법을 선택하십시오.

<Tabs>
  <TabsBar>
    <TabsBarItem id="new">새로운 설치</TabsBarItem> <TabsBarItem id="upgrade">NRDOT에서 업그레이드</TabsBarItem> <TabsBarItem id="native">기본 에이전트에서 마이그레이션</TabsBarItem>
  </TabsBar>

  <TabsPages>
    <TabsPageItem id="new">
      <Steps>
        <Step>
          ### 시작하기 전에 [#prereq]

          다음 사항을 확인하십시오:

          * 귀하의 뉴렐릭 클러스터
          * 루트 또는 sudo 권한이 필요합니다.
          * GitHub 릴리스에 대한 네트워크 액세스
        </Step>

        <Step>
          ### NRDOT 수집기 호스트를 설치합니다. [#install-nrdot]

          ATP는 NRDOT 수집기 배포와 함께 사전 포장되어 제공됩니다. 사용하는 운영체제에 따라 설치 방법을 선택하세요.

          <CollapserGroup>
            <Collapser id="deb" title="데비안/우분투용">
              1. 환경 변수를 설정하세요:

                 ```bash
                 export collector_distro="nrdot-collector"
                 export collector_version="<NRDOT_COLLECTOR_LATEST_VERSION>" #Fetch the latest version from GitHub releases available at https://github.com/newrelic/nrdot-collector-releases/releases
                 export collector_arch="amd64"  # Use 'arm64' for ARM processors
                 export license_key="<YOUR_NEW_RELIC_LICENSE_KEY>"
                 ```

              2. NRDOT 패키지를 다운로드하세요:

                 ```bash
                 curl "https://github.com/newrelic/nrdot-collector-releases/releases/download/${collector_version}/${collector_distro}_${collector_version}_linux_${collector_arch}.deb" \
                   --location \
                   --output collector.deb
                 ```

              3. 다운로드한 패키지를 설치하세요:

                 ```bash
                 sudo dpkg -i collector.deb
                 ```

              4. 정의된 환경 변수를 사용하도록 NRDOT 수집기를 구성합니다.

                 ```bash
                 echo "NEW_RELIC_LICENSE_KEY=${license_key}" | sudo tee -a /etc/${collector_distro}/${collector_distro}.conf > /dev/null
                 ```

              5. NRDOT 수집기 서비스를 시작하세요:

                 ```bash
                 sudo systemctl reload-or-restart "${collector_distro}.service"
                 ```
            </Collapser>

            <Collapser id="rhel" title="RHEL/CentOS용">
              1. 환경 변수를 설정하세요:

                 ```bash
                 export collector_distro="nrdot-collector"
                 export collector_version="<NRDOT_COLLECTOR_LATEST_VERSION>" #Fetch the latest version from GitHub releases available at https://github.com/newrelic/nrdot-collector-releases/releases
                 export collector_arch="x86_64"  # Use 'arm64' for ARM processors
                 export license_key="<YOUR_NEW_RELIC_LICENSE_KEY>"
                 ```

              2. NRDOT 패키지를 다운로드하세요:

                 ```bash
                 curl "https://github.com/newrelic/nrdot-collector-releases/releases/download/${collector_version}/${collector_distro}_${collector_version}_linux_${collector_arch}.rpm" \
                   --location \
                   --output collector.rpm
                 ```

              3. 다운로드한 패키지를 설치하세요:

                 ```bash
                 sudo rpm -i collector.rpm
                 ```

              4. 정의된 환경 변수를 사용하도록 NRDOT 수집기를 구성합니다.

                 ```bash
                 echo "NEW_RELIC_LICENSE_KEY=${license_key}" | sudo tee -a /etc/${collector_distro}/${collector_distro}.conf > /dev/null
                 ```

              5. NRDOT 수집기 서비스를 시작하세요:

                 ```bash
                 sudo systemctl reload-or-restart "${collector_distro}.service"
                 ```
            </Collapser>

            <Collapser id="binary" title="수동 바이너리의 경우">
              1. 환경 변수를 설정하세요:

                 ```bash
                 export collector_distro="nrdot-collector"
                 export collector_version="<NRDOT_COLLECTOR_LATEST_VERSION>" #Fetch the latest version from GitHub releases available at https://github.com/newrelic/nrdot-collector-releases/releases
                 export collector_arch="amd64"  # Use 'arm64' for ARM processors
                 export license_key="<YOUR_NEW_RELIC_LICENSE_KEY>"
                 ```

              2. NRDOT 수집기를 다운로드하세요:

                 ```bash
                 # Download the tarball
                 curl "https://github.com/newrelic/nrdot-collector-releases/releases/download/${collector_version}/${collector_distro}_${collector_version}_linux_${collector_arch}.tar.gz" \
                   --location \
                   --output collector.tar.gz
                 ```

              3. NRDOT 수집기를 추출하세요:

                 ```bash
                 # Extract contents
                 tar -xzf collector.tar.gz
                 ```

              4. 수집기를 실행하세요:

                 ```bash
                 # Run collector in foreground
                 NEW_RELIC_LICENSE_KEY="${license_key}" ./nrdot-collector --config ./config.yaml
                 ```
            </Collapser>
          </CollapserGroup>
        </Step>

        <Step>
          ### ATP 구성 [#configure-atp]

          NRDOT 수집기가 설치되면 수집기의 설정 파일을 편집하여 ATP를 활성화하고 사용자 정의합니다. 설정 파일 경로는 설치 방법에 따라 다릅니다.

          * DEB/RPM 설치의 경우 구성 파일은 `/etc/nrdot-collector/config.yaml` 에 있습니다.
          * 수동으로 바이너리를 설치하는 경우, 설정 파일은 압축 해제된 폴더 안에 있습니다.

          설정 파일을 편집하려면 다음 단계를 따르세요.

          1. 설정 파일(`config.yaml`)을 텍스트 편집기로 엽니다.

             * DEB/RPM 설치의 경우:

             ```bash
             sudo nano /etc/nrdot-collector/config.yaml
             ```

             * 수동 바이너리 설치의 경우:

             ```bash
             nano config.yaml
             ```

          2. 프로세스 범위를 수집하려면 `hostmetrics` 수신기의 `scrapers` 섹션에 다음 `process` 설정을 추가하십시오.

             ```yaml
             receivers:
               hostmetrics:
                 scrapers:
                   # Your existing scrapers...
                   process:
                     metrics:
                       process.cpu.utilization:
                         enabled: true
                       process.memory.utilization:
                         enabled: true
                     mute_process_name_error: true
                     mute_process_exe_error: true
                     mute_process_io_error: true
                     mute_process_user_error: true
             ```

          3. ATP를 활성화하려면 기존 `processors` 섹션을 찾고 그 아래에 `adaptivetelemetry` 설정을 추가하세요.

             ```yaml
             processors:
               adaptivetelemetry:
                 enable_storage: true
                 retention_minutes: 30
                 include_process_list:
                   - "/usr/bin/postgres"
                   - "/usr/sbin/nginx" # Replace with your target processes
                 metric_thresholds:
                   process.cpu.utilization: 0.05     # 5% CPU
                   process.memory.utilization: 0.05  # 5% memory
             ```

          4. 메트릭 파이프라인의 `service` 섹션에 ATP 프로세서를 추가하세요.

             ```yaml
             service:
               pipelines:
                 metrics/host:
                   receivers: [hostmetrics]
                   processors:
                     - memory_limiter
                     - adaptivetelemetry  # ADD THIS LINE
                     - metricstransform
                     - filter/exclude_cpu_utilization
                     - filter/exclude_memory_utilization
             ```

          5. *(선택 사항)* 필요에 따라 레벨 레전드 값과 같은 ATP 설정을 업데이트합니다. 설정 옵션에 대한 자세한 내용은 [설정 모범 사례를](#config-parameters) 참조하세요.

          6. 설정 파일을 저장합니다.

          7. 변경 사항을 적용하려면 NRDOT 수집기를 다시 시작하십시오.

          ```bash
          sudo systemctl restart nrdot-collector
          ```
        </Step>

        <Step>
          ### 뉴럴릭에서 ATP 데이터에 접근하세요 [#access-data]

          ATP 설정이 완료되면 Linux 호스트에서 데이터 수집을 시작합니다. 이 데이터는 뉴럴릭 OpenTelemetry UI 에서 확인할 수 있습니다. 뉴렐릭 OpenTelemetry UI 에 대한 자세한 내용은 [OpenTelemetry APM UI](/docs/opentelemetry/get-started/apm-monitoring/opentelemetry-apm-ui) 참조하십시오.

          **뉴릭에서 ATP 프로세스 관련 데이터를 보려면 다음을 참조하십시오.**

          1. **<DNT>[one.newrelic.com](https://one.newrelic.com) &gt; All Entities</DNT>** 으로 이동하세요.

             또는

             <DNT>**[one.newrelic.com](https://one.newrelic.com) &gt; Catalogs &gt; Infrastructure**</DNT> 으)로 이동합니다.

          2. NRDOT 수집기를 ATP와 함께 설치한 위치를 검색하세요.

          3. 엔티티를 선택한 다음 왼쪽 창에서 **<DNT>Process</DNT>** 클릭합니다.

             <DNT>Process</DNT> 페이지에서는 호스트에서 실행 중인 모든 프로세스와 해당 프로세스의 ID, CPU 및 메모리 사용률을 확인할 수 있습니다. 또한, 한 프로세스가 다른 프로세스를 생성하는 경우 프로세스 간의 부모-자식 관계를 표시합니다.

             <img style={{ align: 'left' }} title="ATP process metrics in New Relic OpenTelemetry UI" alt="ATP process metrics in New Relic OpenTelemetry UI" src="/images/atp-process-metrics.webp" />
        </Step>
      </Steps>

      /* ### ATP 설정 [#atp-setting] `config.yaml` 파일에 ATP 프로세서 설정을 추가하세요. 파일. 다음은 전체 설정 예시입니다. ```yaml processors: adaptivetelemetry: enable_storage: true retention_minutes: 30 include_process_list: - &quot;stress-ng&quot; metric_thresholds: process.cpu.utilization: 0.05 프로세스 메모리 사용률: 0.05 프로세스.메모리.가상: 20971520 # 20MB 프로세스.스레드: 16 process.open_file_descriptors: 30 process.disk.io: 204800 # 200KB 프로세스.디스크.작업: 300 프로세스 컨텍스트 스위치: 8 프로세스 페이징 오류: 50 프로세스.cpu.time: 0.01 # 인텔리전스 레이어 활성화 enable_dynamic_thresholds: true dynamic_smoothing_factor: 0.1 min_thresholds: process.cpu.utilization: 0.0005 프로세스 메모리 사용률: 0.0005 최대 임계값: 프로세스.cpu.사용률: 0.30 프로세스 메모리 사용률: 0.30 # 다중 메트릭 복합 점수 활성화 enable_multi_metric: true composite_threshold: 1.5 weights: process.cpu.utilization: 0.5 프로세스 메모리 사용률: 0.5 # 이상치 감지 enable_anomaly_detection: true anomaly_history_size: 15 anomaly_change_threshold: 50.0 anomaly_min_data_points: 3 service: pipelines: : receivers: [hostmetrics] processors: [adaptivetelemetry, batch] exporters: [otlp] ``` */
    </TabsPageItem>

    <TabsPageItem id="upgrade">
      <Steps>
        <Step>
          ### 시작하기 전에 [#upgrade-prereq]

          다음 사항을 확인하십시오:

          * 기존 NRDOT Collector 버전 `1.11.0` 이상
          * 귀하의 뉴렐릭 클러스터
          * 루트 또는 sudo 권한
          * 현재 설정 백업
        </Step>

        <Step>
          ### 백업 현재 설정 [#backup-config]

          진행하기 전에 현재 설정을 저장하십시오.

          ```bash
          sudo cp /etc/nrdot-collector/config.yaml /etc/nrdot-collector/config.yaml.bak
          ```
        </Step>

        <Step>
          ### NRDOT 수집기 업그레이드 [#upgrade-collector]

          NRDOT 데이터 수집기를 ATP 지원 기능이 포함된 최신 버전으로 업데이트하려면 최신 버전 설치 명령을 다시 실행하십시오. 이렇게 하면 기존 설정 파일은 그대로 유지하면서 이전 바이너리 파일이 덮어쓰여집니다.

          <CollapserGroup>
            <Collapser id="upgrade-deb" title="데비안/우분투용">
              1. 환경 변수를 설정하세요:

                 ```bash
                 export collector_distro="nrdot-collector"
                 export collector_version="<NRDOT_COLLECTOR_LATEST_VERSION>" #Fetch the latest version from GitHub releases available at https://github.com/newrelic/nrdot-collector-releases/releases
                 export collector_arch="amd64"  # Use 'arm64' for ARM processors
                 ```

              2. NRDOT 수집기의 최신 버전을 다운로드하세요:

                 ```bash
                 curl "https://github.com/newrelic/nrdot-collector-releases/releases/download/${collector_version}/${collector_distro}_${collector_version}_linux_${collector_arch}.deb" \
                   --location \
                   --output collector.deb
                 ```

              3. 다운로드한 NRDOT 수집기 패키지를 설치하세요.

                 ```bash
                 sudo dpkg -i collector.deb
                 ```
            </Collapser>

            <Collapser id="upgrade-rpm" title="RHEL/CentOS용">
              1. 환경 변수를 설정하세요:

                 ```bash
                 export collector_distro="nrdot-collector"
                 export collector_version="<NRDOT_COLLECTOR_LATEST_VERSION>"
                 export collector_arch="x86_64"  # Use 'arm64' for ARM processors
                 ```

              2. NRDOT 수집기의 최신 버전을 다운로드하세요:

                 ```bash
                 curl "https://github.com/newrelic/nrdot-collector-releases/releases/download/${collector_version}/${collector_distro}_${collector_version}_linux_${collector_arch}.rpm" \
                   --location \
                   --output collector.rpm
                 ```

              3. 다운로드한 NRDOT 수집기 패키지를 설치하세요.

                 ```bash
                 sudo rpm -U collector.rpm
                 ```
            </Collapser>

            <Collapser id="upgrade-manual" title="수동 바이너리의 경우">
              1. 실행 중인 수집기를 중지하고 설정을 백업합니다.

                 ```bash
                 pkill -f nrdot-collector
                 cp config.yaml config.yaml.bak
                 ```

              2. 나머지 단계를 완료하려면 **New Installation** 탭 → **For manual binary** 섹션의 설치 단계를 따르십시오.

                 <Callout variant="caution">
                   이렇게 하면 현재 config.yaml 파일이 덮어쓰여집니다. 이것이 바로 1단계에서 백업이 필요했던 이유입니다.
                 </Callout>
            </Collapser>
          </CollapserGroup>
        </Step>

        <Step>
          ### ATP 구성 [#configure-atp-upgrade]

          업그레이드로 이전 설정이 유지되었으므로 `config.yaml` 에는 아직 새 ATP 설정이 포함되어 있지 않습니다. 수동으로 추가해야 합니다.

          설정 파일을 편집하려면 다음 단계를 따르세요.

          1. 루트 또는 sudo 권한으로 텍스트 편집기를 사용하여 설정 파일(`config.yaml`)을 엽니다.

             * DEB/RPM 설치의 경우:

             ```bash
             sudo nano /etc/nrdot-collector/config.yaml
             ```

             * 수동 바이너리 설치의 경우:

             ```bash
             nano config.yaml
             ```

          2. 프로세스 범위를 수집하려면 `hostmetrics` 수신기의 `scrapers` 섹션에 다음 `process` 설정을 추가하십시오.

             ```yaml
             processes:
             process:
               metrics:
                 process.cpu.utilization:
                   enabled: true
                 process.memory.utilization:
                   enabled: true
               mute_process_name_error: true
               mute_process_exe_error: true
               mute_process_io_error: true
               mute_process_user_error: true
             ```

          3. ATP를 활성화하려면 기존 `processors` 섹션을 찾고 그 아래에 `adaptivetelemetry` 설정을 추가하세요.

             ```yaml
             processors:
               # Your existing processors...
               adaptivetelemetry:
                 enable_storage: true
                 retention_minutes: 30
                 include_process_list:
                   - "/usr/bin/postgres"
                   - "/usr/sbin/nginx" # Replace with your target processes
                 metric_thresholds:
                   process.cpu.utilization: 0.05     # 5% CPU
                   process.memory.utilization: 0.05  # 5% memory
             ```

          4. 메트릭 파이프라인의 `service` 섹션에 ATP 프로세서를 추가하세요.

             ```yaml
             service:
               pipelines:
                 metrics/host:
                   receivers: [hostmetrics]
                   processors:
                     - memory_limiter
                     - adaptivetelemetry  # ADD THIS LINE
                     - metricstransform
                     - filter/exclude_cpu_utilization
                     - filter/exclude_memory_utilization
             ```

          5. *(선택 사항)* 필요에 따라 레벨 레전드 값과 같은 ATP 설정을 업데이트합니다. 설정 옵션에 대한 자세한 내용은 [설정 모범 사례를](#config-parameters) 참조하세요.

          6. 설정 파일을 저장합니다.

          7. 변경 사항을 적용하려면 NRDOT 수집기를 다시 시작하십시오.

             ```bash
             sudo systemctl restart nrdot-collector
             ```
        </Step>

        <Step>
          ### 뉴럴릭에서 ATP 데이터에 접근하세요 [#access-data]

          ATP 설정이 완료되면 Linux 호스트에서 데이터 수집을 시작합니다. 이 데이터는 뉴럴릭 OpenTelemetry UI 에서 확인할 수 있습니다. 뉴렐릭 OpenTelemetry UI 에 대한 자세한 내용은 [OpenTelemetry APM UI](/docs/opentelemetry/get-started/apm-monitoring/opentelemetry-apm-ui) 참조하십시오.

          **뉴릭에서 ATP 프로세스 관련 데이터를 보려면 다음을 참조하십시오.**

          1. **<DNT>[one.newrelic.com](https://one.newrelic.com) &gt; All Entities</DNT>** 으로 이동하세요.

             또는

             <DNT>**[one.newrelic.com](https://one.newrelic.com) &gt; Catalogs &gt; Infrastructure**</DNT> 으)로 이동합니다.

          2. NRDOT 수집기를 ATP와 함께 설치한 위치를 검색하세요.

          3. 엔티티를 선택한 다음 왼쪽 창에서 **<DNT>Process</DNT>** 클릭합니다.

             <DNT>Process</DNT> 페이지에서는 호스트에서 실행 중인 모든 프로세스와 해당 프로세스의 ID, CPU 및 메모리 사용률을 확인할 수 있습니다. 또한, 한 프로세스가 다른 프로세스를 생성하는 경우 프로세스 간의 부모-자식 관계를 표시합니다.

             <img style={{ align: 'left' }} title="ATP process metrics in New Relic OpenTelemetry UI" alt="ATP process metrics in New Relic OpenTelemetry UI" src="/images/atp-process-metrics.webp" />
        </Step>
      </Steps>
    </TabsPageItem>

    <TabsPageItem id="native">
      뉴렐릭 네이티브 에이전트 에이전트에서 NRDOT 수집기 호스트 배포판으로 마이그레이션하여 ATP를 설치하려면 네이티브 에이전트를 제거하고 ATP로 NRDOT를 설정해야 합니다.

      <Steps>
        <Step>
          ### 시작하기 전에 [#prereq-native]

          다음 사항을 확인하십시오:

          * 귀하의 뉴렐릭 클러스터
          * 루트 또는 sudo 권한
          * 서비스 중단을 최소화하도록 계획하십시오.
        </Step>

        <Step>
          ### 네이티브 에이전트를 중지하고 비활성화합니다. [#stop-native-agent]

          1. 데이터 충돌을 방지하기 위해 기존 인프라 에이전트를 중지하려면 다음 명령을 실행하십시오.

             ```bash
             # Stop the service
             sudo systemctl stop newrelic-infra
             ```

          2. 인프라 에이전트가 부팅 시 자동으로 시작되지 않도록 하려면 다음 명령을 실행하십시오.

             ```bash
             # Disable from starting on boot
             sudo systemctl disable newrelic-infra
             ```
        </Step>

        <Step>
          ### NRDOT 수집기 호스트를 설치합니다. [#install-nrdot-native]

          ATP는 NRDOT 수집기 배포와 함께 사전 포장되어 제공됩니다. 사용하는 운영체제에 따라 설치 방법을 선택하세요.

          <CollapserGroup>
            <Collapser id="deb-native" title="데비안/우분투용">
              1. 환경 변수를 설정하세요:

                 ```bash
                 export collector_distro="nrdot-collector"
                 export collector_version="<NRDOT_COLLECTOR_LATEST_VERSION>" #Fetch the latest version from GitHub releases available at https://github.com/newrelic/nrdot-collector-releases/releases
                 export collector_arch="amd64"  # Use 'arm64' for ARM processors
                 export license_key="<YOUR_NEW_RELIC_LICENSE_KEY>"
                 ```

              2. NRDOT 패키지를 다운로드하세요:

                 ```bash
                 curl "https://github.com/newrelic/nrdot-collector-releases/releases/download/${collector_version}/${collector_distro}_${collector_version}_linux_${collector_arch}.deb" \
                   --location \
                   --output collector.deb
                 ```

              3. 다운로드한 패키지를 설치하세요:

                 ```bash
                 sudo dpkg -i collector.deb
                 ```

              4. 정의된 환경 변수를 사용하도록 NRDOT 수집기를 구성합니다.

                 ```bash
                 echo "NEW_RELIC_LICENSE_KEY=${license_key}" | sudo tee -a /etc/${collector_distro}/${collector_distro}.conf > /dev/null
                 ```

              5. NRDOT 수집기 서비스를 시작하세요:

                 ```bash
                 sudo systemctl reload-or-restart "${collector_distro}.service"
                 ```
            </Collapser>

            <Collapser id="rhel-native" title="RHEL/CentOS용">
              1. 환경 변수를 설정하세요:

                 ```bash
                 export collector_distro="nrdot-collector"
                 export collector_version="<NRDOT_COLLECTOR_LATEST_VERSION>" #Fetch the latest version from GitHub releases available at https://github.com/newrelic/nrdot-collector-releases/releases
                 export collector_arch="x86_64"  # Use 'arm64' for ARM processors
                 export license_key="<YOUR_NEW_RELIC_LICENSE_KEY>"
                 ```

              2. NRDOT 패키지를 다운로드하세요:

                 ```bash
                 curl "https://github.com/newrelic/nrdot-collector-releases/releases/download/${collector_version}/${collector_distro}_${collector_version}_linux_${collector_arch}.rpm" \
                   --location \
                   --output collector.rpm
                 ```

              3. 다운로드한 패키지를 설치하세요:

                 ```bash
                 sudo rpm -i collector.rpm
                 ```

              4. 정의된 환경 변수를 사용하도록 NRDOT 수집기를 구성합니다.

                 ```bash
                 echo "NEW_RELIC_LICENSE_KEY=${license_key}" | sudo tee -a /etc/${collector_distro}/${collector_distro}.conf > /dev/null
                 ```

              5. NRDOT 수집기 서비스를 시작하세요:

                 ```bash
                 sudo systemctl reload-or-restart "${collector_distro}.service"
                 ```
            </Collapser>

            <Collapser id="binary-native" title="수동 바이너리의 경우">
              1. 환경 변수를 설정하세요:

                 ```bash
                 export collector_distro="nrdot-collector"
                 export collector_version="<NRDOT_COLLECTOR_LATEST_VERSION>" #Fetch the latest version from GitHub releases available at https://github.com/newrelic/nrdot-collector-releases/releases
                 export collector_arch="amd64"  # Use 'arm64' for ARM processors
                 export license_key="<YOUR_NEW_RELIC_LICENSE_KEY>"
                 ```

              2. NRDOT 수집기를 다운로드하세요:

                 ```bash
                 # Download the tarball
                 curl "https://github.com/newrelic/nrdot-collector-releases/releases/download/${collector_version}/${collector_distro}_${collector_version}_linux_${collector_arch}.tar.gz" \
                   --location \
                   --output collector.tar.gz
                 ```

              3. NRDOT 수집기를 추출하세요:

                 ```bash
                 # Extract contents
                 tar -xzf collector.tar.gz
                 ```

              4. 수집기를 실행하세요:

                 ```bash
                 # Run collector in foreground
                 NEW_RELIC_LICENSE_KEY="${license_key}" ./nrdot-collector --config ./config.yaml
                 ```
            </Collapser>
          </CollapserGroup>
        </Step>

        <Step>
          ### ATP 구성 [#configure-atp-native]

          NRDOT 수집기가 설치되면 수집기의 설정 파일을 편집하여 ATP를 활성화하고 사용자 정의합니다. 설정 파일 경로는 설치 방법에 따라 다릅니다.

          * DEB/RPM 설치의 경우 구성 파일은 `/etc/nrdot-collector/config.yaml` 에 있습니다.
          * 수동으로 바이너리를 설치하는 경우, 설정 파일은 압축 해제된 폴더 안에 있습니다.

          설정 파일을 편집하려면 다음 단계를 따르세요.

          1. 설정 파일(`config.yaml`)을 텍스트 편집기로 엽니다.

             * DEB/RPM 설치의 경우:

             ```bash
             sudo nano /etc/nrdot-collector/config.yaml
             ```

             * 수동 바이너리 설치의 경우:

             ```bash
             nano config.yaml
             ```

          2. 프로세스 범위를 수집하려면 `hostmetrics` 수신기의 `scrapers` 섹션에 다음 `process` 설정을 추가하십시오.

             ```yaml
             receivers:
               hostmetrics:
                 scrapers:
                   # Your existing scrapers...
                   process:
                     metrics:
                       process.cpu.utilization:
                         enabled: true
                       process.memory.utilization:
                         enabled: true
                     mute_process_name_error: true
                     mute_process_exe_error: true
                     mute_process_io_error: true
                     mute_process_user_error: true
             ```

          3. ATP를 활성화하려면 기존 `processors` 섹션을 찾고 그 아래에 `adaptivetelemetry` 설정을 추가하세요.

             ```yaml
             processors:
               adaptivetelemetry:
                 enable_storage: true
                 retention_minutes: 30
                 include_process_list:
                   - "/usr/bin/postgres"
                   - "/usr/sbin/nginx" # Replace with your target processes
                 metric_thresholds:
                   process.cpu.utilization: 0.05     # 5% CPU
                   process.memory.utilization: 0.05  # 5% memory
             ```

          4. 메트릭 파이프라인의 `service` 섹션에 ATP 프로세서를 추가하세요.

             ```yaml
             service:
               pipelines:
                 metrics/host:
                   receivers: [hostmetrics]
                   processors:
                     - memory_limiter
                     - adaptivetelemetry  # ADD THIS LINE
                     - metricstransform
                     - filter/exclude_cpu_utilization
                     - filter/exclude_memory_utilization
             ```

          5. *(선택 사항)* 필요에 따라 레벨 레전드 값과 같은 ATP 설정을 업데이트합니다. 설정 옵션에 대한 자세한 내용은 [설정 모범 사례를](#config-parameters) 참조하세요.

          6. 설정 파일을 저장합니다.

          7. 변경 사항을 적용하려면 NRDOT 수집기를 다시 시작하십시오.

          ```bash
          sudo systemctl restart nrdot-collector
          ```
        </Step>

        <Step>
          ### 마이그레이션을 확인하세요 [#verify-migration]

          설치가 성공적으로 완료되면 뉴렐릭으로 데이터가 제대로 전송되는지 확인하십시오.

          1. 서비스 상태를 확인하려면 다음 명령을 실행하세요.

             ```bash
             sudo systemctl status nrdot-collector
             ```

          2. 로그를 확인하려면 다음 명령을 실행하세요.

             ```bash
             sudo journalctl -u nrdot-collector -f
             ```
        </Step>

        <Step>
          ### 뉴럴릭에서 ATP 데이터에 접근하세요 [#access-data]

          ATP 설정이 완료되면 Linux 호스트에서 데이터 수집을 시작합니다. 이 데이터는 뉴럴릭 OpenTelemetry UI 에서 확인할 수 있습니다. 뉴렐릭 OpenTelemetry UI 에 대한 자세한 내용은 [OpenTelemetry APM UI](/docs/opentelemetry/get-started/apm-monitoring/opentelemetry-apm-ui) 참조하십시오.

          **뉴릭에서 ATP 프로세스 관련 데이터를 보려면 다음을 참조하십시오.**

          1. **<DNT>[one.newrelic.com](https://one.newrelic.com) &gt; All Entities</DNT>** 으로 이동하세요.

             또는

             <DNT>**[one.newrelic.com](https://one.newrelic.com) &gt; Catalogs &gt; Infrastructure**</DNT> 으)로 이동합니다.

          2. NRDOT 수집기를 ATP와 함께 설치한 위치를 검색하세요.

          3. 엔티티를 선택한 다음 왼쪽 창에서 **<DNT>Process</DNT>** 클릭합니다.

             <DNT>Process</DNT> 페이지에서는 호스트에서 실행 중인 모든 프로세스와 해당 프로세스의 ID, CPU 및 메모리 사용률을 확인할 수 있습니다. 또한, 한 프로세스가 다른 프로세스를 생성하는 경우 프로세스 간의 부모-자식 관계를 표시합니다.

             <img style={{ align: 'left' }} title="ATP process metrics in New Relic OpenTelemetry UI" alt="ATP process metrics in New Relic OpenTelemetry UI" src="/images/atp-process-metrics.webp" />
        </Step>
      </Steps>
    </TabsPageItem>
  </TabsPages>
</Tabs>

## 구성 매개변수 [#config-parameters]

<CollapserGroup>
  <Collapser id="core-settings" title="핵심 설정">
    <table>
      <thead>
        <tr>
          <th>
            **매개변수**
          </th>

          <th>
            **유형**
          </th>

          <th>
            **기본값**
          </th>

          <th>
            **설명**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `enable_storage`
          </td>

          <td>
            부울
          </td>

          <td>
            `true`
          </td>

          <td>
            영구 저장소를 활성화합니다. 저장 경로는 자동으로 결정됩니다. Linux: `/var/lib/nrdot-collector/adaptiveprocess.db`, Windows: `%LOCALAPPDATA%\nrdot-collector\adaptiveprocess.db`
          </td>
        </tr>

        <tr>
          <td>
            `retention_minutes`
          </td>

          <td>
            정수
          </td>

          <td>
            `30`
          </td>

          <td>
            프로세스 상태를 유지하는 시간(분)
          </td>
        </tr>

        <tr>
          <td>
            `include_process_list`
          </td>

          <td>
            정렬
          </td>

          <td>
            `[]`
          </td>

          <td>
            (필터링을 무시하고) 항상 포함할 프로세스 이름
          </td>
        </tr>

        <tr>
          <td>
            `metric_thresholds`
          </td>

          <td>
            지도
          </td>

          <td>
            `{}`
          </td>

          <td>
            정적 레버 값, 지표 유형별
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="dynamic-thresholds" title="다이나믹 레버값, 경계">
    <table>
      <thead>
        <tr>
          <th>
            **매개변수**
          </th>

          <th>
            **유형**
          </th>

          <th>
            **기본값**
          </th>

          <th>
            **설명**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `enable_dynamic_thresholds`
          </td>

          <td>
            부울
          </td>

          <td>
            `false`
          </td>

          <td>
            적응형 레버 값, 경계 조정 활성화
          </td>
        </tr>

        <tr>
          <td>
            `dynamic_smoothing_factor`
          </td>

          <td>
            뜨다
          </td>

          <td>
            `0.1`
          </td>

          <td>
            레버 값의 평활화 계수, 릴레이 적응(0.0-1.0)
          </td>
        </tr>

        <tr>
          <td>
            `min_thresholds`
          </td>

          <td>
            지도
          </td>

          <td>
            `{}`
          </td>

          <td>
            레벨당 최소값, 레일값
          </td>
        </tr>

        <tr>
          <td>
            `max_thresholds`
          </td>

          <td>
            지도
          </td>

          <td>
            `{}`
          </td>

          <td>
            레버값, 레벨당 최대값
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="multi-metric-scoring" title="다중 메트릭 복합 점수">
    <table>
      <thead>
        <tr>
          <th>
            **매개변수**
          </th>

          <th>
            **유형**
          </th>

          <th>
            **기본값**
          </th>

          <th>
            **설명**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `enable_multi_metric`
          </td>

          <td>
            부울
          </td>

          <td>
            `false`
          </td>

          <td>
            다양한 영역에 걸쳐 복합 점수 계산을 활성화합니다.
          </td>
        </tr>

        <tr>
          <td>
            `composite_threshold`
          </td>

          <td>
            뜨다
          </td>

          <td>
            `1.5`
          </td>

          <td>
            레거값, 복합점수 평가를 위한 경계값입니다. 이 점수는 다음보다 높아야 합니다. `0.0`
          </td>
        </tr>

        <tr>
          <td>
            `weights`
          </td>

          <td>
            지도
          </td>

          <td>
            `{}`
          </td>

          <td>
            복합 점수 계산을 위한 각 가중치 값
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser id="anomaly-detection" title="이상 감지">
    <table>
      <thead>
        <tr>
          <th>
            **매개변수**
          </th>

          <th>
            **유형**
          </th>

          <th>
            **기본값**
          </th>

          <th>
            **설명**
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `enable_anomaly_detection`
          </td>

          <td>
            부울
          </td>

          <td>
            `false`
          </td>

          <td>
            이상하게 감지 레이어 활성화
          </td>
        </tr>

        <tr>
          <td>
            `anomaly_history_size`
          </td>

          <td>
            정수
          </td>

          <td>
            `15`
          </td>

          <td>
            추적할 이력 데이터 포인트 수
          </td>
        </tr>

        <tr>
          <td>
            `anomaly_change_threshold`
          </td>

          <td>
            뜨다
          </td>

          <td>
            `50.0`
          </td>

          <td>
            백분율 변화 청년값, 이상 행위에 대한
          </td>
        </tr>

        <tr>
          <td>
            `anomaly_min_data_points`
          </td>

          <td>
            정수
          </td>

          <td>
            `3`
          </td>

          <td>
            이상 동작 감지에 필요한 최소 데이터 포인트
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>
</CollapserGroup>

/\* ## 척도 값, 해당 지침 ### CPU 사용률(0.0-1.0 스케일) - \*\*라이트 필터링\*\*: \`0.10\`(10% CPU) - \*\*표준 필터링\*\*: \`0.05\`(5% CPU) - \*\*공격적 필터링\*\*: \`0.02\`(2% CPU) ### 메모리 사용률(0.0-1.0 스케일) - \*\*라이트 필터링\*\*: \`0.10\`(10% 메모리) - \*\*표준 필터링\*\*: \`0.05\`(5% 메모리) - \*\*공격적 필터링\*\*: \`0.02\`(2% 메모리) ### 메모리 사용량(바이트) - \*\*소형 프로세스\*\*: \`52428800\`(50MB) - \*\*중간 프로세스\*\*: \`104857600\`(100MB) - \*\*대형 프로세스\*\*: \`209715200\` (200MB) ### I/O 대역폭, 한계(바이트) - \*\*Light I/O\*\*: \`1048576\` (1MB) - \*\*Medium I/O\*\*: \`5242880\` (5MB) - \*\*Heavy I/O\*\*: \`10485760\` (10MB) ## ATP와 일치하는 프로세스 이름은 전체 경로를 사용합니다. ### 예시 - ✅ \*\*정확\*\*: \`/usr/sbin/nginx\` - ✅ \*\*정확\*\*: \`/usr/bin/java\` - ❌ \*\*부정확\*\*: \`&quot;nginx&quot;\`는 일치하지 않습니다. ### 일반적인 프로세스 이름 \`\`\`yaml include\_process\_list: # 웹 서버 - &quot;nginx&quot; - &quot;apache2&quot; - &quot;httpd&quot; # 데이터베이스 - &quot;postgres&quot; - &quot;MySQL&quot; - &quot;redis&quot; - &quot;mongodb&quot; # 애플리케이션 - &quot;java&quot; - &quot;python&quot; - &quot;node&quot; - &quot;php-fpm&quot; \`\`\` \*/

## 관련 리소스 [#related-resources]

<DocTiles>
  <DocTile title="문제점 해결" path="/docs/opentelemetry/nrdot/atp/troubleshooting">
    사용 환경에서 ATP 관련 문제를 해결하는 방법을 알아보세요.
  </DocTile>

  <DocTile title="데이터 쿼리" path="/docs/opentelemetry/nrdot/atp/query">
    NRQL 사용하여 뉴렐릭에서 ATP 데이터를 조회하는 방법을 알아보세요.
  </DocTile>

  <DocTile title="고급 기능" path="/docs/opentelemetry/nrdot/atp/advanced-features">
    ATP 구현, 배포에 대한 고급 기능을 활성화하는 방법을 알아보세요.
  </DocTile>
</DocTiles>