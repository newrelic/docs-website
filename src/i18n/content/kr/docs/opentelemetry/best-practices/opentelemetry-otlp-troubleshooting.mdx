---
title: 뉴렐릭 OTLP 문제 해결
tags:
  - Integrations
  - Open source telemetry integrations
  - OpenTelemetry
  - OTLP
  - Troubleshoot
metaDescription: Troubleshoot common OTLP ingest errors
freshnessValidatedDate: '2024-05-06T00:00:00.000Z'
translationType: machine
---

뉴렐릭은 수년 동안 [기본 OTLP 수집을](/docs/opentelemetry/best-practices/opentelemetry-otlp/) 지원해 왔습니다. 때때로 발생하는 지원 사례를 처리하는 과정에서 우리는 사용자가 직면하는 일반적인 문제에 대해 배웠습니다. 어떤 경우에는 문제를 쉽게 식별하고 해결할 수 있습니다. 인터넷이 신뢰할 수 없고 고객, 뉴렐릭, 공개 네트워킹 등 다양한 당사자의 통제하에 관련된 많은 구성 요소(소프트웨어, 네트워킹, 하드웨어 등)가 있다는 점을 고려하면 다른 것들은 엄청나게 까다롭습니다. . 복잡성, 설정 및 실패 지점이 너무 많기 때문에 무엇이 잘못되었는지, 가장 잘 해결하는 방법을 결정하는 것이 어려울 수 있습니다.

지원 사례를 처리하는 것은 시간이 많이 걸리고 때로는 고객(및 뉴렐릭!)에게 좌절감을 줄 수 있습니다. 따라서 우리는 공유된 이해를 돕고, 가능한 경우 문제를 자체 진단하고 해결할 수 있는 도구를 제공하기 위해 이 문제 해결 가이드를 구성했습니다.

먼저 [뉴렐릭 OTLP 설정 요구 사항 및 권장 사항을](/docs/opentelemetry/best-practices/opentelemetry-otlp/) 검토하세요. 여기에는 뉴렐릭과 함께 OTLP를 사용하려는 사람이 알아야 할 필수 조언과 맥락이 포함되어 있습니다.

다음으로 아래 섹션을 참조하세요.

* [일반 문제 해결](#general-troubleshooting): 일반적인 OTLP 문제에 대한 문제 해결
* [문제 카탈로그](#issue-catalog): 일반적인 고객 문제 및 완화 단계

## 일반적인 문제 해결 [#general-troubleshooting]

뉴켈릭 OTLP 엔드포인트에 문제가 발생하면 먼저 다음 기본 문제 해결 단계를 따르세요. 지원 티켓을 열게 되면 가장 먼저 묻는 질문은 다음과 같습니다.

* **진단 로그를 활성화합니다.** 발생할 수 있는 오류에 대한 세부 정보를 볼 수 있도록 OTLP 클라이언트에 로깅이 활성화되어 있는지 확인하십시오. 로그를 활성화하는 메커니즘은 구현에 따라 다릅니다. 관련 문서를 참고하시기 바랍니다.
* **뉴켈릭의 OTLP 엔드포인트에 도달할 수 있는지 테스트하세요.** 문제의 컴퓨터에서 간단한 셸 명령 `curl http://otlp.nr-data.net` 사용하면 일부 로컬 네트워크 설정 문제(예: 제한)으로 인해 뉴켈릭에 대한 연결이 차단되고 있습니다.
* **[`NrIntegrationError`](/docs/data-apis/manage-data/nrintegrationerror/) 이벤트를 확인하세요.** 뉴렐릭 OTLP 수집은 성공 상태 코드를 반환하기 전에 동기식으로 최소한의 검증을 수행합니다. 제작 로그에는 내보내기 오류 표시가 표시되지 않지만 뉴렐릭에는 데이터가 표시되지 않는 경우 `NrIntegrationError` 에 대해 쿼리해 보세요. 비동기 유효성 검사 중에 감지된 데이터에 문제가 있을 수 있습니다.
* **문제가 현지화되었는지 확인합니다.** 오류는 특정 애플리케이션이나 환경에 국한되는 경우가 많습니다. 이러한 경우 문제가 있는 영역과 제대로 작동하는 영역 간의 차이점을 평가하는 것이 유용합니다.
* **잘못된 API 키의 징후를 찾으세요.** 뉴렐릭 OTLP 엔도인트에는 [`api-key` 헤더 설정이 필요합니다](/docs/opentelemetry/best-practices/opentelemetry-otlp/#api-key). 유효하지 않거나 누락된 API 키는 HTTP 403 또는 401 상태 코드, gRPC 인증되지 않음 또는 PermissionDenied 상태 코드와 함께 나타나는 일반적인 문제입니다. 이러한 내용이 표시되면 API 키가 유효하고 올바르게 설정되었는지 확인하세요.
* **재시도 후 내보내기가 성공했는지 확인하세요.** [재시도를 활성화하는 것이 좋습니다](/docs/opentelemetry/best-practices/opentelemetry-otlp/#retry). 내보내기 시도는 처음에는 일시적인 오류로 인해 가끔 실패하지만 재시도 후에는 성공할 것으로 예상됩니다. 그러나 우리에게는 [SLA가](/docs/licenses/license-information/referenced-policies/service-level-availability-commitment/) 있습니다. SLA를 초과할 정도로 일시적인 오류가 자주 발생한다고 의심되는 경우 지원 사례를 개설하세요.
* **일시적인 오류가 재시도되지 않는다는 표시를 확인하십시오.** 최선의 노력에도 불구하고 뉴웰릭 OTLP 엔드포인트가 일시적인 오류에 대해 재시도할 수 없는 상태 코드를 반환하는 경우가 있을 수 있습니다. 이 시나리오가 발생했다고 생각되면 지원 사례를 개설하세요.

## 발행 카탈로그 [#issue-catalog]

아래 표에는 고객이 뉴웰릭 OTLP 엔드포인트와 관련해 겪은 문제가 나열되어 있습니다. 많은 경우 적절한 설정으로 간단하게 문제를 해결할 수 있습니다. **지문** 열에는 애플리케이션에서 특정 종류의 문제가 발생할 때 일반적인 로그가 표시됩니다. 완화 단계는 **Known resolution** \[알려진 해결 방법] 및 **Notes** \[참고] 열을 참조하세요.

| OTLP 프로토콜 버전 | 유형                            | 언어/생태계 | 지문                                                                                                                                                                                                                                                                                                              | 알려진 해상도                                                                                 | Notes                                                                                                                                      |
| ------------ | ----------------------------- | ------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| HTTP         | 401 - 승인되지 않음                 | 자바     | `io.opentelemetry.exporter.internal.http.HttpExporter - Failed to export spans. Server responded with HTTP status code 401.`                                                                                                                                                                                    | [API 키 포함](/docs/opentelemetry/best-practices/opentelemetry-otlp/#api-key)              | `api-key` 헤더가 누락되었습니다.                                                                                                                     |
| HTTP         | 401 - 승인되지 않음                 | 수집기    | `Exporting failed. The error is not retryable. Dropping data. {"kind": "exporter", "data_type": "traces", "name": "otlphttp", "error": "Permanent error: error exporting items, request to https://otlp.nr-data.net/v1/traces responded with HTTP Status Code 401, Message=, Details=[]", "dropped_items": 4}`  | [API 키 포함](/docs/opentelemetry/best-practices/opentelemetry-otlp/#api-key)              | `api-key` 헤더가 누락되었습니다.                                                                                                                     |
| HTTP         | 401 - 승인되지 않음                 | 가다     | `failed to upload metrics: failed to send metrics to https://otlp.nr-data.net/v1/metrics: 401 Unauthorized`                                                                                                                                                                                                     | [API 키 포함](/docs/opentelemetry/best-practices/opentelemetry-otlp/#api-key)              | `api-key` 헤더가 누락되었습니다.                                                                                                                     |
| HTTP         | 403 금지                        | 자바     | `io.opentelemetry.exporter.internal.http.HttpExporter - Failed to export spans. Server responded with HTTP status code 403.`                                                                                                                                                                                    | [API 키 확인](/docs/opentelemetry/best-practices/opentelemetry-otlp/#api-key)              | 잘못된 `api-key` 헤더                                                                                                                           |
| HTTP         | 403 금지                        | 자바     | `Exporting failed. The error is not retryable. Dropping data. {"kind": "exporter", "data_type": "traces", "name": "otlphttp", "error": "Permanent error: error exporting items, request to https://otlp.nr-data.net/v1/traces responded with HTTP Status Code 403, Message=, Details=[]", "dropped_items": 14}` | [API 키 확인](/docs/opentelemetry/best-practices/opentelemetry-otlp/#api-key)              | 잘못된 `api-key` 헤더                                                                                                                           |
| HTTP         | 403 금지                        | 가다     | `traces export: failed to send to https://otlp.nr-data.net/v1/traces: 403 Forbidden`                                                                                                                                                                                                                            | [API 키 확인](/docs/opentelemetry/best-practices/opentelemetry-otlp/#api-key)              | 잘못된 `api-key` 헤더                                                                                                                           |
| HTTP         | 403 금지                        | .그물    | `Exporter failed send data to collector to {0} endpoint. Data will not be sent. Exception: {1}{https://otlp.nr-data.net:4317/v1/traces}{System.Net.Http.HttpRequestException: Response status code does not indicate success: 403 (Forbidden).`                                                                 | [API 키 확인](/docs/opentelemetry/best-practices/opentelemetry-otlp/#api-key)              | 잘못된 `api-key` 헤더                                                                                                                           |
| HTTP         | 시간 초과                         | 자바     | `io.opentelemetry.exporter.internal.http.HttpExporter - Failed to export spans. The request could not be executed. Full error message: timeout`                                                                                                                                                                 | [일괄 처리/시간 초과 조정](/docs/opentelemetry/best-practices/opentelemetry-otlp/#payload-limits) | 내보내기 시간이 초과된 후에 발생합니다. 시간 초과 설정 및 클라이언트 네트워크 상태를 확인하세요.<br/>클라이언트 측 네트워크 및 구성을 배제한 경우 지원 사례를 엽니다.                                          |
| HTTP         | 시간 초과                         | 수집기    | `max elapsed time expired failed to make an HTTP request: Post \"https://otlp.nr-data.net/v1/traces\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)`                                                                                                                              | [일괄 처리/시간 초과 조정](/docs/opentelemetry/best-practices/opentelemetry-otlp/#payload-limits) | 일반적으로 재시도가 실패하고 내보내기 시간이 초과된 후에 발생합니다. 클라이언트 네트워크, 클라이언트 재시도/시간 초과 설정 또는 뉴렐릭 네트워크/서버와 관련될 수 있습니다.<br/>클라이언트측 네트워크 및 설정을 배제한 경우 지원 사례를 엽니다. |
| HTTP         | 시간 초과                         | 가다     | `failed to upload metrics: context deadline exceeded: retry-able request failure`                                                                                                                                                                                                                               | [일괄 처리/시간 초과 조정](/docs/opentelemetry/best-practices/opentelemetry-otlp/#payload-limits) | 내보내기 시간이 초과된 후에 발생합니다. 시간 초과 설정 및 클라이언트 네트워크 상태를 확인하세요.<br/>클라이언트 측 네트워크 및 구성을 배제한 경우 지원 사례를 엽니다.                                          |
| HTTP         | 비율 제한                         | 수집기    | `Exporting failed. Will retry the request after interval. {"kind": "exporter", "data_type": "metrics", "name": "otlphttp", "error": "Throttle (29s), error: error exporting items, request to https://otlp.nr-data.net:443/v1/metrics responded with HTTP Status Code 429", "interval": "29s"}`                 | [일괄 처리 조정](/docs/opentelemetry/best-practices/opentelemetry-otlp/#payload-limits)       | 비율 제한을 초과했습니다.<br/>요청 비율을 줄이려면 일괄 처리 설정을 조정하세요.                                                                                            |
| gRPC         | 코드 2 - 알 수 없음<br/>시간 초과       | 자바     | `io.opentelemetry.exporter.internal.grpc.GrpcExporter - Failed to export spans. Server responded with gRPC status code 2. Error message: timeout`                                                                                                                                                               | [일괄 처리/시간 초과 조정](/docs/opentelemetry/best-practices/opentelemetry-otlp/#payload-limits) | 내보내기 시간이 초과된 후에 발생합니다. 시간 초과 설정 및 클라이언트 네트워크 상태를 확인하세요.<br/>클라이언트 측 네트워크 및 구성을 배제한 경우 지원 사례를 엽니다.                                          |
| gRPC         | 코드 2 - 알 수 없음<br/>HTTP 500    | 수집기    | `rpc error: code = Unknown desc = unexpected HTTP status code received from server: 500 (Internal Server Error); malformed header: missing HTTP content-type`                                                                                                                                                   |                                                                                         | 뉴렐릭 네트워킹 공급업체는 일시적인 오류에 대해 재시도할 수 없는 상태 코드를 생성했습니다.<br/>이런 일이 반복적으로 발생하면 지원 케이스를 개설하세요.                                                    |
| gRPC         | 코드 2 - 알 수 없음<br/>HTTP 530    | 수집기    | `rpc error: code = Unknown desc = unexpected HTTP status code received from server: 530 (); transport: received unexpected content-type \"text/html; charset=UTF-8\"`                                                                                                                                           |                                                                                         | 뉴렐릭 네트워킹 공급업체는 일시적인 오류에 대해 재시도할 수 없는 상태 코드를 생성했습니다.<br/>이런 일이 반복적으로 발생하면 지원 케이스를 개설하세요.                                                    |
| gRPC         | 코드 4 - 마감일 초과                 | 수집기    | `rpc error: code = DeadlineExceeded desc = context deadline exceeded`                                                                                                                                                                                                                                           | [일괄 처리/시간 초과 조정](/docs/opentelemetry/best-practices/opentelemetry-otlp/#payload-limits) | 일반적으로 재시도가 실패하고 내보내기 시간이 초과된 후에 발생합니다. 클라이언트 네트워크, 클라이언트 재시도/시간 초과 설정 또는 뉴렐릭 네트워크/서버와 관련될 수 있습니다.<br/>클라이언트측 네트워크 및 설정을 배제한 경우 지원 사례를 엽니다. |
| gRPC         | 코드 7 - 인증되지 않음                | 자바     | `io.opentelemetry.exporter.internal.grpc.GrpcExporter - Failed to export spans. Server responded with gRPC status code 7.`                                                                                                                                                                                      | [API 키 포함](/docs/opentelemetry/best-practices/opentelemetry-otlp/#api-key)              | `api-key` 헤더가 누락되었습니다.                                                                                                                     |
| gRPC         | 코드 7 - 인증되지 않음                | .그물    | `Exporter failed send data to collector to {0} endpoint. Data will not be sent. Exception: {1}{https://otlp.nr-data.net:4317/}{Grpc.Core.RpcException: Status(StatusCode="Unauthenticated", Detail="")`                                                                                                         | [API 키 포함](/docs/opentelemetry/best-practices/opentelemetry-otlp/#api-key)              | `api-key` 헤더가 누락되었습니다.                                                                                                                     |
| gRPC         | 코드 8 - 자원 소진                  | 수집기    | `rpc error: code = ResourceExhausted desc = Too many requests", "dropped_items": 1024`                                                                                                                                                                                                                          | [일괄 처리 조정](/docs/opentelemetry/best-practices/opentelemetry-otlp/#payload-limits)       | 비율 제한을 초과했습니다.<br/>요청 비율을 줄이려면 일괄 처리 설정을 조정하세요.                                                                                            |
| gRPC         | 코드 13 - 내부                    | 자바     | `io.opentelemetry.exporter.internal.grpc.GrpcExporter - Failed to export spans. Server responded with gRPC status code 13.`                                                                                                                                                                                     |                                                                                         | 진단하기에는 정보가 충분하지 않습니다. 뉴렐릭 네트워킹 공급업체가 일시적인 오류로 인해 재시도할 수 없는 상태 코드를 생성했을 수 있습니다.<br/>이런 일이 반복적으로 발생하면 지원 케이스를 개설하세요.                         |
| gRPC         | 코드 13 - 내부<br/>HTTP 400       | 수집기    | `rpc error: code = Internal desc = unexpected HTTP status code received from server: 400 (Bad Request)`                                                                                                                                                                                                         |                                                                                         | 뉴렐릭 네트워킹 공급업체가 일시적인 오류에 대해 재시도할 수 없는 상태 코드를 생성했습니다.<br/>이런 일이 반복적으로 발생하면 지원 케이스를 개설하세요.                                                    |
| gRPC         | 코드 14 - 사용할 수 없음<br/>연결 재설정   | 수집기    | `rpc error: code = Unavailable desc = error reading from server: read tcp 100.127.0.171:47470->162.247.241.110:4317: read: connection reset by peer`                                                                                                                                                            | [조정 재시도](/docs/opentelemetry/best-practices/opentelemetry-otlp/#retry)                  | 재시도로 해결해야 합니다. 수집기에 재시도 역압을 처리할 수 있는 충분한 리소스가 있는지 확인하세요.                                                                                   |
| gRPC         | 코드 14 - 사용할 수 없음<br/>HTTP 502 | 수집기    | `rpc error: code = Unavailable desc = unexpected HTTP status code received from server: 502 (Bad Gateway); transport: received unexpected content-type "text/html"`                                                                                                                                             | [조정 재시도](/docs/opentelemetry/best-practices/opentelemetry-otlp/#retry)                  | 재시도로 해결해야 합니다. 수집기에 재시도 역압을 처리할 수 있는 충분한 리소스가 있는지 확인하세요.                                                                                   |
| gRPC         | 코드 14 - 사용할 수 없음<br/>HTTP 503 | 수집기    | `rpc error: code = Unavailable desc = unexpected HTTP status code received from server: 503 (Service Unavailable)`                                                                                                                                                                                              | [조정 재시도](/docs/opentelemetry/best-practices/opentelemetry-otlp/#retry)                  | 재시도로 해결해야 합니다. 수집기에 재시도 역압을 처리할 수 있는 충분한 리소스가 있는지 확인하세요.                                                                                   |
| gRPC         | 코드 16 - 권한 거부됨                | 자바     | `io.opentelemetry.exporter.internal.grpc.GrpcExporter - Failed to export spans. Server responded with gRPC status code 16.`                                                                                                                                                                                     | [API 키 확인](/docs/opentelemetry/best-practices/opentelemetry-otlp/#api-key)              | 잘못된 `api-key` 헤더                                                                                                                           |
| gRPC         | 코드 16 - 권한 거부됨                | .그물    | `Exporter failed send data to collector to {0} endpoint. Data will not be sent. Exception: {1}{https://otlp.nr-data.net:4317/}{Grpc.Core.RpcException: Status(StatusCode="PermissionDenied", Detail="")`                                                                                                        | [API 키 확인](/docs/opentelemetry/best-practices/opentelemetry-otlp/#api-key)              | 잘못된 `api-key` 헤더                                                                                                                           |
