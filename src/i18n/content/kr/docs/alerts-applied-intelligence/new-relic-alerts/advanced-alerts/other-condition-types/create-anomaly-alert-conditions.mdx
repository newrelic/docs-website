---
title: 이상 경고 조건 생성
tags:
  - Alerts and applied intelligence
  - Alerts
  - Alert conditions
metaDescription: How to create anomaly alert conditions and set thresholds that adjust to data patterns and fluctuations.
translationType: machine
---

import newRelicAlertsBaselineThresholds from 'images/new-relic-alerts-baseline-thresholds.png'

import iconAlertCritical from 'images/icon-alert-critical.png'

import iconAlertWarning from 'images/icon-alert-warning.png'

import facetedBaselineConditionQuery from 'images/faceted-baseline-condition-query.png'

import baselineOneFacet from 'images/baseline-one-facet.png'

import newRelicBaselineAlertsDirectionImageExamples0 from 'images/new-relic-baseline-alerts-direction-image-examples_0.png'

이상 조건을 사용하여 데이터 동작에 맞게 조정되는 위반 [임계값](/docs/using-new-relic/welcome-new-relic/get-started/glossary#alert-threshold) 을 정의할 수 있습니다.

이상 경고는 다음과 같은 [조건](/docs/using-new-relic/welcome-new-relic/get-started/glossary#alert-condition) 을 만드는 데 유용합니다.

* 데이터가 비정상적으로 작동하는 경우에만 알려줍니다.
* 일일 또는 주간 추세를 포함하여 변화하는 데이터 및 추세에 동적으로 조정합니다.

또한 아직 알려진 동작이 없을 때 이상 경고는 새 애플리케이션에서 잘 작동합니다.

## 작동 원리 [#anomaly-overview]

이상 조건에 대한 데이터 소스(예: APM 메트릭)를 선택하면 해당 데이터의 과거 값을 사용하여 데이터의 가까운 미래 동작을 동적으로 예측합니다.

해당 값에 대해 예측된 미래 동작의 선을 **이상이라고 합니다.** 이상 조건 UI의 미리보기 차트에 검은색 점선으로 나타납니다.

이상 경고 조건 UI를 사용하여 다음을 수행합니다.

* 데이터 소스의 변동에 대한 조건의 민감도를 조정합니다.
* 위반을 유발할 동작을 설정합니다(예: "5분 이상 이탈").
* 조건에서 상위 위반, 하위 위반 또는 둘 다를 확인할지 여부를 설정합니다.

데이터가 예측된 "정상" 동작을 벗어나고 선택한 기준을 충족하면 알림을 받게 됩니다.

## 이상 임계값 설정

<img
  title="An example anomaly condition."
  alt="A screenshot of an example anomaly condition."
  src={newRelicAlertsBaselineThresholds}
/>

<figcaption>
  **[one.newrelic.com](https://one.newrelic.com) > AI & Alerts > Policies > (정책 생성 또는 선택) > Create alert condition:** 비정상 경고 조건은 비정상적인 동작이 감지된 경우에만 위반을 생성하는 지능형 자체 조정 임계값을 설정할 수 있는 기능을 제공합니다.
</figcaption>

이상 조건을 생성하려면 **[one.newrelic.com](https://one.newrelic.com) > AI & Alerts > Policies > (정책 생성 또는 선택) > Create alert condition** 으로 이동합니다. [조건](/docs/alerts/new-relic-alerts/defining-conditions/define-alert-conditions#create-condition) 생성을 시작할 때 다음 [데이터 소스](#availability) 중 하나를 선택합니다.

* NRQL: NRQL 조건을 생성한 다음 비정상을 선택합니다.
* APM: 애플리케이션 메트릭 이상
* 브라우저: 메트릭 이상

다음은 이상 임계값을 설정하기 위한 몇 가지 팁입니다.

* 이상 방향 위 또는 아래에서 발생하는 위반을 모니터링하도록 [이상 방향](#upper-lower) 을 설정합니다.

* 미리보기 차트를 표시된 데이터의 [2일 또는 7일로](#days) 설정합니다. ( [NRQL 경고 조건](/docs/alerts/new-relic-alerts/defining-conditions/create-alert-conditions-nrql-queries) 에는 적용되지 않습니다.)

* 슬라이더 막대를 사용하여

  <img title="Alerts v3: Critical alert icon" alt="icon-alert-critical.png" src={iconAlertCritical}>을 조정합니다.</img>

  **임계값 **임계값 감도, 미리 보기 차트에서 이상 현상 주변의 밝은 회색 영역으로 표시됩니다. 이상 주변의 밴드가 더 조밀할수록 더 민감해지고 더 많은 위반이 생성됩니다.

* 선택 사항:

  <img title="Alerts v3: Warning alert icon" alt="icon-alert-warning.png" src={iconAlertWarning}>을 만들 수 있습니다.</img>

  [**경고 **임계값 ](/docs/alerts/new-relic-alerts/defining-conditions/set-thresholds-alert-condition#threshold-levels)(이상 주변의 더 어두운 회색 영역).

* NRQL 경고의 경우 [허용되는 NRQL 쿼리 유형을](/docs/alerts/new-relic-alerts/defining-conditions/create-alert-conditions-nrql-queries#threshold-types) 참조하십시오.

* 경고 조건이 여러 앱에 적용되는 경우 차트 위의 드롭다운에서 선택 항목을 선택하여 다른 측정항목을 사용할 수 있습니다. (NRQL 경고 조건에는 적용되지 않습니다.)

## 패싯 변칙 조건 [#anomaly-facets]

<img
  title="An example of an anomaly condition with facets."
  alt="A screenshot of an example anomaly condition with facets."
  src={facetedBaselineConditionQuery}
/>

<figcaption>
  NRQL 경고 조건은 패싯 예외를 지원합니다. 차트 범례에서 시계열을 클릭하여 단일 패싯으로 범위를 지정합니다.
</figcaption>

이상 조건에 대해 패싯 NRQL 쿼리를 실행한 후에는 결과 범위를 단일 이상으로 지정할 수 있습니다.

<img
  title="An example of an anomaly condition scoped to a single time series facet."
  alt="A screenshot of an anomaly scope to a single time series facet."
  src={baselineOneFacet}
/>

<figcaption>
  **전체 시계열 목록으로 돌아가기를** 클릭하여 모든 패싯 보기로 돌아갑니다.
</figcaption>

단일 시계열은 이상, 임계값 대역 및 하나 이상의 위반 영역(있는 경우)을 표시합니다.

## 이상 규칙 및 설정 [#anomaly-algorithm]

다음은 UI 작동 방식에 대한 몇 가지 세부 정보입니다.

<CollapserGroup>
  <Collapser
    id="anomaly-rules"
    title="이상 생성에 관한 규칙"
  >
    이상 조건에 대한 알고리즘은 수학적으로 복잡합니다. 다음은 예측 능력을 관장하는 몇 가지 주요 규칙입니다.

    <table>
      <thead>
        <tr>
          <th style={{ width: "200px" }}>
            데이터 특성
          </th>

          <th>
            이상 규칙
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            데이터의 시대
          </td>

          <td>
            초기 생성 시 데이터 가용성 및 이상 유형에 따라 1주에서 4주 사이의 데이터를 사용하여 이상을 계산합니다. 생성 후 알고리즘은 장기간에 걸친 지속적인 데이터 변동을 고려하지만 최근 데이터에 더 큰 가중치가 부여됩니다.

            짧은 시간 동안만 존재했던 데이터의 경우, 비정상이 상당히 변동할 가능성이 높으며 정확하지 않을 수 있습니다. 이는 아직 일반적인 값과 동작을 결정할 데이터가 충분하지 않기 때문입니다. 데이터의 기록이 많을수록 비정상 및 임계값이 더 정확해집니다.
          </td>
        </tr>

        <tr>
          <td>
            데이터의 일관성
          </td>

          <td>
            일관된 범위에 남아 있거나 천천히 그리고 꾸준히 추세를 보이는 메트릭 값의 경우 더 예측 가능한 동작은 임계값이 이상 주변에서 더 엄격해진다는 것을 의미합니다. 더 다양하고 예측할 수 없는 데이터는 더 느슨한(더 넓은) 임계값을 갖습니다.
          </td>
        </tr>

        <tr>
          <td>
            규칙적인 변동
          </td>

          <td>
            1주일 미만의 주기적인 변동(예: 매주 수요일 오후 1시 배포 또는 야간 보고서)의 경우 이상 알고리즘은 이러한 순환 변동을 찾아 조정을 시도합니다.
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser
    id="upper-lower"
    title="이상 방향: 상위 또는 하위 범위 선택"
  >
    비정상 이상("상위") 또는 비정상 미만("하위") 또는 위 또는 아래로 가는 동작에 대해 조건을 위반할지 여부를 선택할 수 있습니다. **이상 방향** 선택기로 선택합니다.

    이에 대한 사용 사례의 예:

    * 오류율과 같은 데이터 소스에 대해 **상한** 설정을 사용할 수 있습니다. 일반적으로 증가하는 경우에만 관심을 갖고 감소하는 경우에는 관심을 갖지 않기 때문입니다.

    * 처리량과 같은 데이터 원본에 대해 **더 낮은** 설정을 사용할 수 있습니다. 갑작스러운 상향 변동은 매우 일반적이지만 급격한 하향 변동은 문제의 신호일 수 있기 때문입니다.

      다음은 다양한 이상 방향 설정에서 데이터의 큰 변동이 처리되는 방법의 예입니다. 빨간색 영역은 위반을 나타냅니다.

      <img
        title="new-relic-baseline-alerts-direction-image-examples.png"
        alt="New Relic baseline alerts direction image examples"
        src={newRelicBaselineAlertsDirectionImageExamples0}
      />
  </Collapser>

  <Collapser
    id="days"
    title="차트 미리보기: 2일 또는 7일 선택"
  >
    [NRQL 경고 조건](/docs/alerts/new-relic-alerts/defining-conditions/create-alert-conditions-nrql-queries) 에는 적용되지 않습니다. 임계값을 설정할 때 미리 보기 차트에는 **2일 전** **이후 또는 7일 전** 이후를 표시하는 옵션이 있습니다. 이러한 선택은 이상을 계산하는 데 사용되는 기간이 **아닙니다** . 미리보기 표시에 사용되는 시간 범위일 뿐입니다. 이상을 계산하는 데 사용되는 시간 범위에 대한 자세한 내용은 [알고리즘 규칙](#anomaly-rules) 을 참조하세요.
  </Collapser>
</CollapserGroup>