---
title: 워크플로 변수
tags:
  - Alerts and applied intelligence
  - Applied intelligence
  - workflows
  - Enrichments
  - Issues
metaDescription: 'For applied intelligence, an explanations of the variables used for workflows.'
translationType: machine
---

[워크플로](/docs/alerts-applied-intelligence/applied-intelligence/incident-workflows/incident-workflows) 에 사용되는 변수에 대한 설명입니다.

## 변수 [#variables]

문제 엔터티의 변수를 사용하여 알림에 표시되는 메시지 템플릿뿐만 아니라 보내려는 문제의 종류를 선택합니다.

다음은 포괄적인 변수 목록입니다.

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        키(첫 단어는 그룹화에 사용됨)
      </th>

      <th>
        표시 이름(첫 단어는 그룹화에 사용됨)
      </th>

      <th>
        설명
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        축적.조건설명
      </td>

      <td>
        조건설명
      </td>

      <td>
        조건의 사용자 지정 위반 설명
      </td>
    </tr>

    <tr>
      <td>
        축적.조건FamilyId
      </td>

      <td>
        조건FamilyId
      </td>

      <td>
        위반을 생성한 인시던트 감지 조건의 ID
      </td>
    </tr>

    <tr>
      <td>
        축적.조건명
      </td>

      <td>
        경고 조건 이름
      </td>

      <td>
        New Relic 위반 조건
      </td>
    </tr>

    <tr>
      <td>
        축적.조건제품
      </td>

      <td>
        경고 조건 제품
      </td>

      <td>
        New Relic 상태 유형
      </td>
    </tr>

    <tr>
      <td>
        축적.deepLinkUrl
      </td>

      <td>
        위반 콜백 URL
      </td>

      <td>
        관련 위반 콜백에 대한 직접 링크
      </td>
    </tr>

    <tr>
      <td>
        축적.평가.metricValueFunction
      </td>

      <td>
        맞춤 측정항목 값 함수
      </td>

      <td>
        맞춤 측정항목 값 함수
      </td>
    </tr>

    <tr>
      <td>
        축적.평가.이름
      </td>

      <td>
        APM 조건 메트릭 이름
      </td>

      <td>
        APM 조건 메트릭 이름
      </td>
    </tr>

    <tr>
      <td>
        축적.nrqlQuery
      </td>

      <td>
        NRQL 쿼리
      </td>

      <td>
        조건의 NRQL 쿼리
      </td>
    </tr>

    <tr>
      <td>
        축적.원점
      </td>

      <td>
        문제 출처
      </td>

      <td>
        문제를 만든 New Relic 또는 제3자 출처
      </td>
    </tr>

    <tr>
      <td>
        축적.정책 이름
      </td>

      <td>
        경고 정책 이름
      </td>

      <td>
        위반을 생성한 인시던트 감지 정책 이름
      </td>
    </tr>

    <tr>
      <td>
        축적.runbookUrl
      </td>

      <td>
        런북 URL
      </td>

      <td>
        런북 URL 목록
      </td>
    </tr>

    <tr>
      <td>
        축적.소스
      </td>

      <td>
        문제 소스
      </td>

      <td>
        소스에서 보고한 타겟 시스템
      </td>
    </tr>

    <tr>
      <td>
        축적.태그.계정
      </td>

      <td>
        New Relic 계정
      </td>

      <td>
        New Relic 계정
      </td>
    </tr>

    <tr>
      <td>
        축적.태그.영향 서비스
      </td>

      <td>
        영향을 받는 서비스
      </td>

      <td>
        영향을 받는 서비스 목록
      </td>
    </tr>

    <tr>
      <td>
        축적.태그.할당그룹
      </td>

      <td>
        할당 그룹
      </td>

      <td>
        할당 그룹 목록
      </td>
    </tr>

    <tr>
      <td>
        축적.태그.원인서비스
      </td>

      <td>
        원인 서비스
      </td>

      <td>
        원인 서비스 목록
      </td>
    </tr>

    <tr>
      <td>
        인정
      </td>

      <td>
        인정
      </td>

      <td>
        문제를 인정한 사용자
      </td>
    </tr>

    <tr>
      <td>
        활성화된 시간
      </td>

      <td>
        활성화된 문제
      </td>

      <td>
        이슈 활성화 타임스탬프
      </td>
    </tr>

    <tr>
      <td>
        주석.설명
      </td>

      <td>
        문제 설명
      </td>

      <td>
        모든 사건 설명 목록
      </td>
    </tr>

    <tr>
      <td>
        주석.제목
      </td>

      <td>
        문제 제목
      </td>

      <td>
        모든 사건 제목 목록
      </td>
    </tr>

    <tr>
      <td>
        주석.와일드카드
      </td>

      <td>
        경고 패싯
      </td>

      <td>
        경고 패싯
      </td>
    </tr>

    <tr>
      <td>
        마감시간
      </td>

      <td>
        문제 마감시간
      </td>

      <td>
        이슈 종결의 타임스탬프, 이슈가 종결되지 않은 경우 null
      </td>
    </tr>

    <tr>
      <td>
        종료된 사고 수
      </td>

      <td>
        종료된 인시던트 수
      </td>

      <td>
        이 문제에 대해 종료된 총 인시던트 수
      </td>
    </tr>

    <tr>
      <td>
        createdAt
      </td>

      <td>
        문제 생성 시간
      </td>

      <td>
        이슈 생성 타임스탬프
      </td>
    </tr>

    <tr>
      <td>
        dataMLModules.components
      </td>

      <td>
        기계 학습 구성 요소
      </td>

      <td>
        New Relic AI의 ML 구성 요소 목록
      </td>
    </tr>

    <tr>
      <td>
        dataMLModules.goldenSignals
      </td>

      <td>
        기계 학습 골든 시그널
      </td>

      <td>
        New Relic AI의 ML 골든 시그널 목록
      </td>
    </tr>

    <tr>
      <td>
        dataMLModules.suggestedResponders
      </td>

      <td>
        기계 학습 제안 응답자
      </td>

      <td>
        New Relic AI의 ML 제안 응답자 목록
      </td>
    </tr>

    <tr>
      <td>
        entityData.entities
      </td>

      <td>
        영향을 받는 개체 데이터
      </td>

      <td>
        영향을 받는 개체 이름, ID, 유형 및 종류를 설명하는 개체 목록
      </td>
    </tr>

    <tr>
      <td>
        entityData.ids
      </td>

      <td>
        영향을 받는 엔티티 ID
      </td>

      <td>
        영향을 받는 모든 엔티티 ID 세트
      </td>
    </tr>

    <tr>
      <td>
        entityData.kinds
      </td>

      <td>
        영향을 받는 개체 종류
      </td>

      <td>
        영향을 받는 모든 엔터티 종류의 집합
      </td>
    </tr>

    <tr>
      <td>
        엔터티 데이터.이름
      </td>

      <td>
        영향을 받는 개체 이름
      </td>

      <td>
        영향을 받는 모든 엔티티 이름 세트
      </td>
    </tr>

    <tr>
      <td>
        entityData.types
      </td>

      <td>
        영향을 받는 개체 유형
      </td>

      <td>
        영향을 받는 모든 엔터티 유형 집합
      </td>
    </tr>

    <tr>
      <td>
        영향을 받는 개체 수
      </td>

      <td>
        영향을 받는 개체 수
      </td>

      <td>
        이 문제의 영향을 받는 엔터티 수
      </td>
    </tr>

    <tr>
      <td>
        사건 ID
      </td>

      <td>
        인시던트 ID
      </td>

      <td>
        문제의 모든 집계된 인시던트 목록
      </td>
    </tr>

    <tr>
      <td>
        isCorrelated
      </td>

      <td>
        문제는 상관 관계가 있습니다.
      </td>

      <td>
        문제가 관련되어 있습니까?
      </td>
    </tr>

    <tr>
      <td>
        issueAckUrl
      </td>

      <td>
        발급 확인 URL
      </td>

      <td>
        문제를 확인하는 직접 링크
      </td>
    </tr>

    <tr>
      <td>
        issueCloseUrl
      </td>

      <td>
        닫기 URL 발행
      </td>

      <td>
        문제를 종료하는 직접 링크
      </td>
    </tr>

    <tr>
      <td>
        IssuePageUrl
      </td>

      <td>
        문제 페이지 URL
      </td>

      <td>
        관련 문제 페이지에 대한 직접 링크
      </td>
    </tr>

    <tr>
      <td>
        issueActivatedAtUtc
      </td>

      <td>
        ActivatedAt UTC 문자열 발행
      </td>

      <td>
        UTC의 문제 활성화 문자열 형식
      </td>
    </tr>

    <tr>
      <td>
        issueClosedAtUtc
      </td>

      <td>
        ClosedAt UTC 문자열 발행
      </td>

      <td>
        UTC로 된 이슈 종결의 문자열 형식
      </td>
    </tr>

    <tr>
      <td>
        issueCreatedAtUtc
      </td>

      <td>
        CreatedAt UTC 문자열 문제
      </td>

      <td>
        UTC로 문제 생성의 문자열 형식
      </td>
    </tr>

    <tr>
      <td>
        issueDurationMs
      </td>

      <td>
        발행 기간(밀리초)
      </td>

      <td>
        문제가 발생한 이후 경과된 시간(밀리초)
      </td>
    </tr>

    <tr>
      <td>
        issueDurationText
      </td>

      <td>
        텍스트 문제 기간
      </td>

      <td>
        문제 기간에 대한 인간 친화적인 표현
      </td>
    </tr>

    <tr>
      <td>
        발행 ID
      </td>

      <td>
        문제 ID
      </td>

      <td>
        문제의 고유 ID
      </td>
    </tr>

    <tr>
      <td>
        issueTitle
      </td>

      <td>
        문제 제목
      </td>

      <td>
        일반적으로 첫 번째 사건의 제목
      </td>
    </tr>

    <tr>
      <td>
        문제업데이트된 시간
      </td>

      <td>
        문제 업데이트됨 UTC 문자열
      </td>

      <td>
        문제 업데이트의 타임스탬프(UTC)
      </td>
    </tr>

    <tr>
      <td>
        label.accountIds
      </td>

      <td>
        환경 관련 계정 ID 발급
      </td>

      <td>
        New Relic 응용 인텔리전스 환경 관련 계정 ID
      </td>
    </tr>

    <tr>
      <td>
        label.aggregationKeys
      </td>

      <td>
        레이블 경고 집계 키
      </td>

      <td>
        New Relic 인시던트 감지 원래 인시던트 ID
      </td>
    </tr>

    <tr>
      <td>
        label.originalAccountIds
      </td>

      <td>
        레이블 계정 ID
      </td>

      <td>
        사고 감지 정책의 계정 ID
      </td>
    </tr>

    <tr>
      <td>
        label.policyIds
      </td>

      <td>
        레이블 경고 정책 ID
      </td>

      <td>
        위반을 생성한 인시던트 감지 정책 ID
      </td>
    </tr>

    <tr>
      <td>
        labels.targetId
      </td>

      <td>
        대상 ID
      </td>

      <td>
        대상 ID
      </td>
    </tr>

    <tr>
      <td>
        음소거 상태
      </td>

      <td>
        문제 음소거 상태
      </td>

      <td>
        문제의 계산된 음소거 상태
      </td>
    </tr>

    <tr>
      <td>
        nrAccountId
      </td>

      <td>
        계정 ID
      </td>

      <td>
        계정 ID
      </td>
    </tr>

    <tr>
      <td>
        openIncidentsCount
      </td>

      <td>
        열린 인시던트 수
      </td>

      <td>
        이 문제에 대한 미결 사건의 총 수
      </td>
    </tr>

    <tr>
      <td>
        소유자
      </td>

      <td>
        소유자
      </td>

      <td>
        문제를 인정한 사람
      </td>
    </tr>

    <tr>
      <td>
        정책 URL
      </td>

      <td>
        경고 정책 URL
      </td>

      <td>
        경고 정책 URL
      </td>
    </tr>

    <tr>
      <td>
        우선 순위
      </td>

      <td>
        이슈 우선순위
      </td>

      <td>
        문제의 우선 순위 수준
      </td>
    </tr>

    <tr>
      <td>
        우선순위 텍스트
      </td>

      <td>
        문제 우선순위 텍스트
      </td>

      <td>
        소문자로 우선순위 발행
      </td>
    </tr>

    <tr>
      <td>
        실제 문제 수
      </td>

      <td>
        문제 수
      </td>

      <td>
        문제 수
      </td>
    </tr>

    <tr>
      <td>
        상태
      </td>

      <td>
        문제 상태
      </td>

      <td>
        문제의 현재 상태
      </td>
    </tr>

    <tr>
      <td>
        상태텍스트
      </td>

      <td>
        문제 상태 텍스트
      </td>

      <td>
        소문자의 문제 상태
      </td>
    </tr>

    <tr>
      <td>
        상태
      </td>

      <td>
        문제 상태
      </td>

      <td>
        문제의 현재 병합 상태
      </td>
    </tr>

    <tr>
      <td>
        총 사고
      </td>

      <td>
        사건 수
      </td>

      <td>
        문제에서 집계되거나 상관 관계가 있는 인시던트 수
      </td>
    </tr>

    <tr>
      <td>
        트리거된 시간
      </td>

      <td>
        문제가 트리거된 시간
      </td>

      <td>
        발행된 문제 알림의 타임스탬프
      </td>
    </tr>

    <tr>
      <td>
        트리거 이벤트
      </td>

      <td>
        문제 알림 트리거 이벤트
      </td>

      <td>
        알림 트리거 이벤트
      </td>
    </tr>

    <tr>
      <td>
        updatedAt
      </td>

      <td>
        문제 업데이트 날짜
      </td>

      <td>
        문제의 타임스탬프가 마지막으로 업데이트됨
      </td>
    </tr>

    <tr>
      <td>
        위반 차트 URL
      </td>

      <td>
        위반 차트 URL
      </td>

      <td>
        위반 차트 이미지 링크
      </td>
    </tr>

    <tr>
      <td>
        워크플로 이름
      </td>

      <td>
        워크플로 이름
      </td>

      <td>
        트리거된 워크플로의 이름
      </td>
    </tr>
  </tbody>
</table>

## 워크플로 데이터 보강 예제 [#enrichment-examples]

조건을 위반한 항목에 대한 정보를 얻으려면 쿼리의 `where` 문의 일부로 맞춤 변수를 사용할 수 있습니다. 예를 들어 EC2 인스턴스의 상태를 가져오려면 다음을 사용합니다.

```
SELECT latest(ec2State) FROM ComputeSample where provider = 'Ec2Instance' and entityName in {{entitiesData.names}}
```

이 쿼리는 단일 필드만 사용하므로 단일 값(예: `stopped` )을 반환합니다. 변수 `entitiesData.names` 은 항목의 식별자 목록입니다. 같은 방식으로 다른 엔터티 속성을 사용할 수 있습니다.

사용자 지정 변수를 사용하여 다양한 방식으로 워크플로 데이터 쿼리를 강화할 수 있습니다.

<CollapserGroup>
  <Collapser
    id="application-drop"
    title="애플리케이션 트래픽이 감소하는 시점에 대한 쿼리"
  >
    애플리케이션에 대한 트래픽이 언제 중단되는지 알고 싶을 때가 있습니다. 애플리케이션 이름 대신 &#x7B;&#x7B;entitiesData.names}} 변수를 사용할 수 있습니다.

    ```
    SELECT count(*) FROM Transaction WHERE appName in {{entitiesData.names}} since 10 minutes ago
    ```
  </Collapser>

  <Collapser
    id="non-web-transactions-time"
    title="웹이 아닌 거래 시간"
  >
    영향을 받는 엔터티가 요청/트랜잭션을 처리하는 데 소요한 평균 시간(프로세스 유형별로 분류됨)

    ```
    SELECT average(apm.service.overview.other) * 1000 FROM Metric WHERE appName IN {{entitiesData.names}} FACET `segmentName` TIMESERIES
    ```
  </Collapser>

  <Collapser
    id="throughput"
    title="처리량"
  >
    영향을 받는 개체 프로세스의 분당 요청 수

    ```
    SELECT rate(count(apm.service.transaction.duration), 1 minute) as 'Non-web throughput' FROM Metric WHERE (appName IN {{entitiesData.names}}) AND (transactionType = 'Other') TIMESERIES
    ```
  </Collapser>

  <Collapser
    id="error-rate"
    title="오류율"
  >
    영향을 받는 엔터티의 총 요청 프로세스 수에 대한 오류 비율

    ```
    SELECT count(apm.service.error.count) / count(apm.service.transaction.duration) as 'Non-web errors' FROM Metric WHERE (appName IN {{entitiesData.names}}) AND (transactionType = 'Other') TIMESERIES
    ```
  </Collapser>

  <Collapser
    id="transaction-failures"
    title="트랜잭션 실패 쿼리"
  >
    애플리케이션 트랜잭션이 실패한 시기를 알고 싶을 때가 있습니다. 이 쿼리는 &#x7B;&#x7B;entitiesData.names}}로 필터링된 최신 HTTP 상태 코드 응답을 보여줍니다. 경고 정책 임계값을 위반한 변수입니다.

    ```
    From Transaction select latest(http.statusCode), average(duration) where appName in {{entitiesData.names}}
    ```
  </Collapser>

  <Collapser
    id="kubernetes-consumption"
    title="Kubernetes 소비 개요 쿼리"
  >
    이와 같은 쿼리를 사용하여 Kubernetes 포드 내 엔터티 수와 수집 시간을 가져옵니다. 수집 시간이 긴 엔터티를 식별하여 해당 문제를 해결하고 잠재적인 해결책을 찾을 수 있습니다.

    ```
    SELECT uniqueCount(displayName), sum(nr.ingestTimeMs) from K8sServiceSample where entityName = {{entitiesData.names}} since 1 hour ago.
    ```
  </Collapser>
</CollapserGroup>