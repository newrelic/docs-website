---
title: 워크플로 변수
tags:
  - Alerts and applied intelligence
  - Applied intelligence
  - workflows
  - Enrichments
  - Issues
metaDescription: 'For applied intelligence, an explanations of the variables used for workflows.'
translationType: machine
---

[워크플로](/docs/alerts-applied-intelligence/applied-intelligence/incident-workflows/incident-workflows) 에 사용되는 변수에 대한 설명입니다.

## 변수 [#variables]

문제 엔터티의 변수를 사용하여 알림에 표시되는 메시지 템플릿뿐만 아니라 보내려는 문제의 종류를 선택합니다.

다음은 포괄적인 변수 목록입니다.

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        키(첫 단어는 그룹화에 사용됨)
      </th>

      <th>
        표시 이름(첫 단어는 그룹화에 사용됨)
      </th>

      <th>
        설명
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        축적.조건설명
      </td>

      <td>
        조건설명
      </td>

      <td>
        조건의 사용자 지정 위반 설명
      </td>
    </tr>

    <tr>
      <td>
        축적.조건FamilyId
      </td>

      <td>
        조건FamilyId
      </td>

      <td>
        위반을 생성한 인시던트 감지 조건의 ID
      </td>
    </tr>

    <tr>
      <td>
        축적.조건명
      </td>

      <td>
        경고 조건 이름
      </td>

      <td>
        New Relic 위반 조건
      </td>
    </tr>

    <tr>
      <td>
        축적.원점
      </td>

      <td>
        문제 출처
      </td>

      <td>
        문제를 만든 New Relic 또는 제3자 출처
      </td>
    </tr>

    <tr>
      <td>
        축적.정책 이름
      </td>

      <td>
        경고 정책 이름
      </td>

      <td>
        위반을 생성한 인시던트 감지 정책 이름
      </td>
    </tr>

    <tr>
      <td>
        축적.소스
      </td>

      <td>
        문제 소스
      </td>

      <td>
        소스에서 보고한 타겟 시스템
      </td>
    </tr>

    <tr>
      <td>
        활성화된 시간
      </td>

      <td>
        활성화된 문제
      </td>

      <td>
        이슈 활성화 타임스탬프
      </td>
    </tr>

    <tr>
      <td>
        주석.설명
      </td>

      <td>
        문제 설명
      </td>

      <td>
        모든 사건 설명 목록
      </td>
    </tr>

    <tr>
      <td>
        주석.제목
      </td>

      <td>
        문제 제목
      </td>

      <td>
        모든 사건 제목 목록
      </td>
    </tr>

    <tr>
      <td>
        마감시간
      </td>

      <td>
        문제 마감시간
      </td>

      <td>
        이슈 종결의 타임스탬프, 이슈가 종결되지 않은 경우 null
      </td>
    </tr>

    <tr>
      <td>
        createdAt
      </td>

      <td>
        문제 생성 시간
      </td>

      <td>
        이슈 생성 타임스탬프
      </td>
    </tr>

    <tr>
      <td>
        entityData.entities
      </td>

      <td>
        영향을 받는 개체 데이터
      </td>

      <td>
        영향을 받는 개체 이름, ID, 유형 및 종류를 설명하는 개체 목록
      </td>
    </tr>

    <tr>
      <td>
        entityData.ids
      </td>

      <td>
        영향을 받는 엔티티 ID
      </td>

      <td>
        영향을 받는 모든 엔티티 ID 세트
      </td>
    </tr>

    <tr>
      <td>
        entityData.kinds
      </td>

      <td>
        영향을 받는 개체 종류
      </td>

      <td>
        영향을 받는 모든 엔터티 종류의 집합
      </td>
    </tr>

    <tr>
      <td>
        엔터티 데이터.이름
      </td>

      <td>
        영향을 받는 개체 이름
      </td>

      <td>
        영향을 받는 모든 엔티티 이름 세트
      </td>
    </tr>

    <tr>
      <td>
        entityData.types
      </td>

      <td>
        영향을 받는 개체 유형
      </td>

      <td>
        영향을 받는 모든 엔터티 유형 집합
      </td>
    </tr>

    <tr>
      <td>
        사건 ID
      </td>

      <td>
        인시던트 ID
      </td>

      <td>
        문제의 모든 집계된 인시던트 목록
      </td>
    </tr>

    <tr>
      <td>
        isCorrelated
      </td>

      <td>
        문제는 상관 관계가 있습니다.
      </td>

      <td>
        문제가 관련되어 있습니까?
      </td>
    </tr>

    <tr>
      <td>
        IssuePageUrl
      </td>

      <td>
        문제 페이지 URL
      </td>

      <td>
        관련 문제 페이지에 대한 직접 링크
      </td>
    </tr>

    <tr>
      <td>
        issueActivatedAtUtc
      </td>

      <td>
        ActivatedAt UTC 문자열 발행
      </td>

      <td>
        UTC의 문제 활성화 문자열 형식
      </td>
    </tr>

    <tr>
      <td>
        issueClosedAtUtc
      </td>

      <td>
        ClosedAt UTC 문자열 발행
      </td>

      <td>
        UTC로 된 이슈 종결의 문자열 형식
      </td>
    </tr>

    <tr>
      <td>
        issueCreatedAtUtc
      </td>

      <td>
        CreatedAt UTC 문자열 문제
      </td>

      <td>
        UTC로 문제 생성의 문자열 형식
      </td>
    </tr>

    <tr>
      <td>
        발행 ID
      </td>

      <td>
        문제 ID
      </td>

      <td>
        문제의 고유 ID
      </td>
    </tr>

    <tr>
      <td>
        label.accountIds
      </td>

      <td>
        환경 관련 계정 ID 발급
      </td>

      <td>
        New Relic 응용 인텔리전스 환경 관련 계정 ID
      </td>
    </tr>

    <tr>
      <td>
        label.aggregationKeys
      </td>

      <td>
        레이블 경고 집계 키
      </td>

      <td>
        New Relic 인시던트 감지 원래 인시던트 ID
      </td>
    </tr>

    <tr>
      <td>
        label.originalAccountIds
      </td>

      <td>
        레이블 계정 ID
      </td>

      <td>
        사고 감지 정책의 계정 ID
      </td>
    </tr>

    <tr>
      <td>
        label.policyIds
      </td>

      <td>
        레이블 경고 정책 ID
      </td>

      <td>
        위반을 생성한 인시던트 감지 정책 ID
      </td>
    </tr>

    <tr>
      <td>
        우선 순위
      </td>

      <td>
        이슈 우선순위
      </td>

      <td>
        문제의 우선 순위 수준
      </td>
    </tr>

    <tr>
      <td>
        우선순위 텍스트
      </td>

      <td>
        문제 우선순위 텍스트
      </td>

      <td>
        소문자로 우선순위 발행
      </td>
    </tr>

    <tr>
      <td>
        상태
      </td>

      <td>
        문제 상태
      </td>

      <td>
        문제의 현재 상태
      </td>
    </tr>

    <tr>
      <td>
        상태텍스트
      </td>

      <td>
        문제 상태 텍스트
      </td>

      <td>
        소문자의 문제 상태
      </td>
    </tr>

    <tr>
      <td>
        상태
      </td>

      <td>
        문제 상태
      </td>

      <td>
        문제의 현재 병합 상태
      </td>
    </tr>

    <tr>
      <td>
        총 사고
      </td>

      <td>
        사건 수
      </td>

      <td>
        문제에서 집계되거나 상관 관계가 있는 인시던트 수
      </td>
    </tr>

    <tr>
      <td>
        트리거된 시간
      </td>

      <td>
        문제가 트리거된 시간
      </td>

      <td>
        발행된 문제 알림의 타임스탬프
      </td>
    </tr>

    <tr>
      <td>
        트리거 이벤트
      </td>

      <td>
        문제 알림 트리거 이벤트
      </td>

      <td>
        알림 트리거 이벤트
      </td>
    </tr>

    <tr>
      <td>
        updatedAt
      </td>

      <td>
        문제 업데이트 날짜
      </td>

      <td>
        문제의 타임스탬프가 마지막으로 업데이트됨
      </td>
    </tr>

    <tr>
      <td>
        워크플로 이름
      </td>

      <td>
        워크플로 이름
      </td>

      <td>
        트리거된 워크플로의 이름
      </td>
    </tr>
  </tbody>
</table>

## 워크플로 데이터 보강 예제 [#enrichment-examples]

조건을 위반한 항목에 대한 정보를 얻으려면 쿼리의 `where` 문의 일부로 맞춤 변수를 사용할 수 있습니다. 예를 들어 EC2 인스턴스의 상태를 가져오려면 다음을 사용합니다.

```
SELECT latest(ec2State) FROM ComputeSample where provider = 'Ec2Instance' and entityName in <var>{{entitiesData.names}}</var>
```

이 쿼리는 단일 필드만 사용하므로 단일 값(예: `stopped` )을 반환합니다. 변수 `entitiesData.names` 은 항목의 식별자 목록입니다. 같은 방식으로 다른 엔터티 속성을 사용할 수 있습니다.

사용자 지정 변수를 사용하여 다양한 방식으로 워크플로 데이터 쿼리를 강화할 수 있습니다.

<CollapserGroup>
  <Collapser
    id="application-drop"
    title="애플리케이션 트래픽이 감소하는 시점에 대한 쿼리"
  >
    애플리케이션에 대한 트래픽이 언제 중단되는지 알고 싶을 때가 있습니다. 애플리케이션 이름 대신 &#x7B;&#x7B;entitiesData.names}} 변수를 사용할 수 있습니다.

    ```
    SELECT count(*) FROM Transaction WHERE appName in {{entitiesData.names}} since 10 minutes ago
    ```
  </Collapser>

  <Collapser
    id="non-web-transactions-time"
    title="웹이 아닌 거래 시간"
  >
    영향을 받는 엔터티가 요청/트랜잭션을 처리하는 데 소요한 평균 시간(프로세스 유형별로 분류됨)

    ```
    SELECT average(apm.service.overview.other) * 1000 FROM Metric WHERE appName IN {{entitiesData.names}} FACET `segmentName` TIMESERIES
    ```
  </Collapser>

  <Collapser
    id="throughput"
    title="처리량"
  >
    영향을 받는 개체 프로세스의 분당 요청 수

    ```
    SELECT rate(count(apm.service.transaction.duration), 1 minute) as 'Non-web throughput' FROM Metric WHERE (appName IN {{entitiesData.names}}) AND (transactionType = 'Other') TIMESERIES
    ```
  </Collapser>

  <Collapser
    id="error-rate"
    title="오류율"
  >
    영향을 받는 엔터티의 총 요청 프로세스 수에 대한 오류 비율

    ```
    SELECT count(apm.service.error.count) / count(apm.service.transaction.duration) as 'Non-web errors' FROM Metric WHERE (appName IN {{entitiesData.names}}) AND (transactionType = 'Other') TIMESERIES
    ```
  </Collapser>

  <Collapser
    id="transaction-failures"
    title="트랜잭션 실패 쿼리"
  >
    애플리케이션 트랜잭션이 실패한 시점을 알고 싶을 때가 있습니다. 이 쿼리는 경고 정책 임계값을 위반한 <var>&#x7B;&#x7B;entitiesData.names}}</var> 변수로 필터링된 최신 HTTP 상태 코드 응답을 보여줍니다.

    ```
    From Transaction select latest(http.statusCode), average(duration) where appName in {{entitiesData.names}}
    ```
  </Collapser>

  <Collapser
    id="kubernetes-consumption"
    title="Kubernetes 소비 개요 쿼리"
  >
    이와 같은 쿼리를 사용하여 Kubernetes 포드 내 엔터티 수와 수집 시간을 가져옵니다. 수집 시간이 긴 엔터티를 식별하여 해당 문제를 해결하고 잠재적인 해결책을 찾을 수 있습니다.

    ```
    SELECT uniqueCount(displayName), sum(nr.ingestTimeMs) from K8sServiceSample where entityName = {{entitiesData.names}} since 1 hour ago.
    ```
  </Collapser>
</CollapserGroup>