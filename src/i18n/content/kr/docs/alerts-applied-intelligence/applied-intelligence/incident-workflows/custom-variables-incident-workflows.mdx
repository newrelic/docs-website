---
title: 워크플로 변수
tags:
  - Alerts and applied intelligence
  - Applied intelligence
  - workflows
  - Enrichments
  - Issues
metaDescription: 'For New Relic applied intelligence, an explanations of the variables used for workflows.'
freshnessValidatedDate: never
translationType: machine
---

import alertsWorkflowVariables from 'images/alerts_screenshot-crop_workflow-variables.webp'

New Relic 응용 인텔리전스 [워크플로](/docs/alerts-applied-intelligence/applied-intelligence/incident-workflows/incident-workflows)에 사용되는 변수에 대한 설명입니다.

<img
  title="Applied intelligence workflow variables"
  alt="Applied intelligence workflow variables"
  src={alertsWorkflowVariables}
/>

<figcaption>
  워크플로를 만들 때 변수를 사용하여 a) 알림을 생성할 문제 유형을 관리하고 b) 알림 페이로드의 콘텐츠에 포함할 항목을 지정할 수 있습니다. 이 스크린샷은 알림 페이로드 섹션을 보여줍니다.
</figcaption>

## 변수 [#variables]

다음은 워크플로 변수 및 해당 설명입니다.

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        키(그룹화에 사용되는 첫 번째 단어)
      </th>

      <th>
        표시 이름(그룹화에 사용되는 첫 번째 단어)
      </th>

      <th>
        설명
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        축적.조건설명
      </td>

      <td>
        조건설명
      </td>

      <td>
        조건의 사용자 지정 인시던트 설명입니다.
      </td>
    </tr>

    <tr>
      <td>
        축적.조건FamilyId
      </td>

      <td>
        조건FamilyId
      </td>

      <td>
        인시던트를 생성한 인시던트 감지 조건의 ID입니다.
      </td>
    </tr>

    <tr>
      <td>
        축적.조건명
      </td>

      <td>
        경고 조건 이름
      </td>

      <td>
        New Relic이 조건을 위반했습니다.
      </td>
    </tr>

    <tr>
      <td>
        축적.조건제품
      </td>

      <td>
        경보 조건 제품
      </td>

      <td>
        New Relic 상태 유형.
      </td>
    </tr>

    <tr>
      <td>
        축적.deepLinkUrl
      </td>

      <td>
        인시던트 콜백 URL
      </td>

      <td>
        관련 인시던트 콜백에 대한 직접 링크.
      </td>
    </tr>

    <tr>
      <td>
        축적.평가.metricValueFunction
      </td>

      <td>
        맞춤 측정항목 값 함수
      </td>

      <td>
        사용자 정의 메트릭 값 함수.
      </td>
    </tr>

    <tr>
      <td>
        축적.평가.이름
      </td>

      <td>
        <InlinePopover type="apm"/>조건 메트릭 이름
      </td>

      <td>
        <InlinePopover type="apm"/>조건 메트릭 이름
      </td>
    </tr>

    <tr>
      <td>
        축적.nrqlQuery
      </td>

      <td>
        NRQL 쿼리
      </td>

      <td>
        조건의 NRQL 쿼리입니다.
      </td>
    </tr>

    <tr>
      <td>
        축적.원산지
      </td>

      <td>
        문제 출처
      </td>

      <td>
        New Relic 또는 인시던트를 생성한 타사 소스.
      </td>
    </tr>

    <tr>
      <td>
        축적.정책 이름
      </td>

      <td>
        경고 정책 이름
      </td>

      <td>
        인시던트를 생성한 인시던트 감지 정책 이름입니다.
      </td>
    </tr>

    <tr>
      <td>
        축적.runbookUrl
      </td>

      <td>
        런북 URL
      </td>

      <td>
        Runbook URL 목록입니다.
      </td>
    </tr>

    <tr>
      <td>
        축적.출처
      </td>

      <td>
        문제 출처
      </td>

      <td>
        인시던트를 보고하는 시스템.
      </td>
    </tr>

    <tr>
      <td>
        축적.태그.계정
      </td>

      <td>
        New Relic 계정
      </td>

      <td>
        New Relic 계정.
      </td>
    </tr>

    <tr>
      <td>
        축적.태그.영향 서비스
      </td>

      <td>
        영향을 받는 서비스
      </td>

      <td>
        영향을 받는 서비스 목록입니다.
      </td>
    </tr>

    <tr>
      <td>
        축적.태그.할당그룹
      </td>

      <td>
        할당 그룹
      </td>

      <td>
        할당 그룹 목록입니다.
      </td>
    </tr>

    <tr>
      <td>
        축적.태그.원인서비스
      </td>

      <td>
        원인 서비스
      </td>

      <td>
        원인 서비스 목록입니다.
      </td>
    </tr>

    <tr>
      <td>
        인정
      </td>

      <td>
        인정
      </td>

      <td>
        문제를 인정한 사용자입니다.
      </td>
    </tr>

    <tr>
      <td>
        활성화된 시간
      </td>

      <td>
        문제가 활성화된 시간
      </td>

      <td>
        문제 활성화의 타임스탬프입니다.
      </td>
    </tr>

    <tr>
      <td>
        주석.설명
      </td>

      <td>
        문제 설명
      </td>

      <td>
        모든 인시던트 설명 목록입니다.
      </td>
    </tr>

    <tr>
      <td>
        주석.제목
      </td>

      <td>
        문제 제목
      </td>

      <td>
        모든 인시던트 제목의 목록입니다.
      </td>
    </tr>

    <tr>
      <td>
        주석.와일드카드
      </td>

      <td>
        경고 패싯
      </td>

      <td>
        경고 패싯.
      </td>
    </tr>

    <tr>
      <td>
        폐쇄자
      </td>

      <td>
        휴무일
      </td>

      <td>
        이슈를 종료한 사용자의 ID입니다.
      </td>
    </tr>

    <tr>
      <td>
        마감시간
      </td>

      <td>
        문제 마감시간
      </td>

      <td>
        문제 종료의 타임스탬프. 이슈가 종료되지 않은 경우 Null입니다.
      </td>
    </tr>

    <tr>
      <td>
        종료된 사고 수
      </td>

      <td>
        종료된 인시던트 수
      </td>

      <td>
        이 문제에 대해 종료된 인시던트의 총 수입니다.
      </td>
    </tr>

    <tr>
      <td>
        createdAt
      </td>

      <td>
        문제 생성 시간
      </td>

      <td>
        문제 생성의 타임스탬프.
      </td>
    </tr>

    <tr>
      <td>
        dataMLModules.components
      </td>

      <td>
        기계 학습 구성 요소
      </td>

      <td>
        New Relic 응용지능 머신러닝 구성요소 목록입니다.
      </td>
    </tr>

    <tr>
      <td>
        dataMLModules.goldenSignals
      </td>

      <td>
        기계 학습 황금 신호
      </td>

      <td>
        New Relic 응용지능 머신러닝 골든 시그널 목록입니다.
      </td>
    </tr>

    <tr>
      <td>
        dataMLModules.suggestedResponders
      </td>

      <td>
        기계 학습 제안 응답자
      </td>

      <td>
        (더 이상 사용되지 않음) New Relic 응용 인텔리전스 머신 러닝이 제안한 대응자 목록입니다.
      </td>
    </tr>

    <tr>
      <td>
        entityData.entities
      </td>

      <td>
        영향을 받는 엔터티 데이터
      </td>

      <td>
        영향을 받는 엔터티 이름, ID, 유형 및 종류를 설명하는 개체 목록입니다.
      </td>
    </tr>

    <tr>
      <td>
        entityData.ids
      </td>

      <td>
        영향을 받는 엔터티 ID
      </td>

      <td>
        영향을 받는 모든 엔터티 ID 집합입니다.
      </td>
    </tr>

    <tr>
      <td>
        entityData.kinds
      </td>

      <td>
        영향을 받는 엔터티 종류
      </td>

      <td>
        영향을 받는 모든 엔터티 종류의 집합입니다.
      </td>
    </tr>

    <tr>
      <td>
        엔터티 데이터.이름
      </td>

      <td>
        영향을 받는 엔터티 이름
      </td>

      <td>
        영향을 받는 모든 엔터티 이름의 집합입니다.
      </td>
    </tr>

    <tr>
      <td>
        entityData.types
      </td>

      <td>
        영향을 받는 엔터티 유형
      </td>

      <td>
        영향을 받는 모든 엔터티 유형의 집합입니다.
      </td>
    </tr>

    <tr>
      <td>
        영향을 받는 개체 수
      </td>

      <td>
        영향을 받는 항목 수
      </td>

      <td>
        이 문제에 영향을 받는 엔터티의 수입니다.
      </td>
    </tr>

    <tr>
      <td>
        사건 ID
      </td>

      <td>
        인시던트 ID
      </td>

      <td>
        모든 문제의 집계된 인시던트 목록입니다.
      </td>
    </tr>

    <tr>
      <td>
        isCorrelated
      </td>

      <td>
        문제가 연관되어 있습니다.
      </td>

      <td>
        문제가 상관 관계가 있는 경우(참, 거짓).
      </td>
    </tr>

    <tr>
      <td>
        승인됨
      </td>

      <td>
        문제가 확인됨
      </td>

      <td>
        문제가 확인된 경우(true, false).
      </td>
    </tr>

    <tr>
      <td>
        issueAckUrl
      </td>

      <td>
        문제 확인 URL
      </td>

      <td>
        문제를 확인하는 직접 링크.
      </td>
    </tr>

    <tr>
      <td>
        issueCloseUrl
      </td>

      <td>
        닫기 URL 발행
      </td>

      <td>
        문제를 종료하는 직접 링크.
      </td>
    </tr>

    <tr>
      <td>
        IssuePageUrl
      </td>

      <td>
        문제 페이지 URL
      </td>

      <td>
        관련 문제 페이지로 직접 연결되는 링크입니다.
      </td>
    </tr>

    <tr>
      <td>
        issueActivatedAtUtc
      </td>

      <td>
        ActivatedAt UTC 문자열 발행
      </td>

      <td>
        UTC에서 문제 활성화의 문자열 형식입니다.
      </td>
    </tr>

    <tr>
      <td>
        issueClosedAtUtc
      </td>

      <td>
        ClosedAt UTC 문자열 발행
      </td>

      <td>
        UTC로 발행된 문제 종결의 문자열 형식입니다.
      </td>
    </tr>

    <tr>
      <td>
        issueCreatedAtUtc
      </td>

      <td>
        CreatedAt UTC 문자열 문제
      </td>

      <td>
        UTC에서 문제 생성의 문자열 형식입니다.
      </td>
    </tr>

    <tr>
      <td>
        문제 확인 시간
      </td>

      <td>
        AcknowledgedAt 문자열 문제
      </td>

      <td>
        UTC로 확인된 문제의 문자열 형식입니다.
      </td>
    </tr>

    <tr>
      <td>
        발행종료시간
      </td>

      <td>
        ClosedAt 문자열 문제
      </td>

      <td>
        UTC로 발행된 문제 종결의 문자열 형식입니다.
      </td>
    </tr>

    <tr>
      <td>
        issueDurationMs
      </td>

      <td>
        발행 기간(밀리초)
      </td>

      <td>
        문제가 발생한 이후 경과된 시간(밀리초)입니다.
      </td>
    </tr>

    <tr>
      <td>
        issueDurationText
      </td>

      <td>
        텍스트 발행 기간
      </td>

      <td>
        문제 기간에 대한 인간 친화적인 표현.
      </td>
    </tr>

    <tr>
      <td>
        발행 ID
      </td>

      <td>
        문제 ID
      </td>

      <td>
        문제의 고유 ID입니다.
      </td>
    </tr>

    <tr>
      <td>
        issueTitle
      </td>

      <td>
        문제 제목
      </td>

      <td>
        일반적으로 첫 번째 사건의 제목입니다.
      </td>
    </tr>

    <tr>
      <td>
        문제업데이트된 시간
      </td>

      <td>
        UpdatedAt UTC 문자열 문제
      </td>

      <td>
        문제 업데이트의 타임스탬프(UTC).
      </td>
    </tr>

    <tr>
      <td>
        label.accountIds
      </td>

      <td>
        발급 환경 관련 계정 ID
      </td>

      <td>
        New Relic 적용 인텔리전스 환경 연동 계정 아이디입니다.
      </td>
    </tr>

    <tr>
      <td>
        label.aggregationKeys
      </td>

      <td>
        레이블 경고 집계 키
      </td>

      <td>
        New Relic 사건 감지 원본 사건 ID.
      </td>
    </tr>

    <tr>
      <td>
        label.originalAccountIds
      </td>

      <td>
        라벨 계정 ID
      </td>

      <td>
        사고 감지 정책의 계정 ID입니다.
      </td>
    </tr>

    <tr>
      <td>
        label.policyIds
      </td>

      <td>
        경고 정책 ID 레이블 지정
      </td>

      <td>
        인시던트를 생성한 인시던트 감지 정책 ID입니다.
      </td>
    </tr>

    <tr>
      <td>
        labels.targetId
      </td>

      <td>
        대상 ID
      </td>

      <td>
        대상 ID.
      </td>
    </tr>

    <tr>
      <td>
        음소거 상태
      </td>

      <td>
        음소거 상태 문제
      </td>

      <td>
        문제의 계산된 음소거 상태(MUTED, NOT_MUTED).
      </td>
    </tr>

    <tr>
      <td>
        nrAccountId
      </td>

      <td>
        계정 ID
      </td>

      <td>
        계정 ID.
      </td>
    </tr>

    <tr>
      <td>
        openIncidentsCount
      </td>

      <td>
        진행 중인 인시던트 수
      </td>

      <td>
        이 문제에 대해 열려 있는 총 인시던트 수입니다.
      </td>
    </tr>

    <tr>
      <td>
        소유자
      </td>

      <td>
        소유자
      </td>

      <td>
        문제를 인정한 사람입니다.
      </td>
    </tr>

    <tr>
      <td>
        정책 URL
      </td>

      <td>
        알림 정책 URL
      </td>

      <td>
        경고 정책 URL.
      </td>
    </tr>

    <tr>
      <td>
        우선 순위
      </td>

      <td>
        문제 우선 순위
      </td>

      <td>
        문제의 우선 순위 수준(CRITICAL, HIGH, MEDIUM, LOW).
      </td>
    </tr>

    <tr>
      <td>
        우선순위 텍스트
      </td>

      <td>
        문제 우선 순위 텍스트
      </td>

      <td>
        소문자로 우선순위를 발행합니다(Critical, High, Medium, Low).
      </td>
    </tr>

    <tr>
      <td>
        실제 문제 수
      </td>

      <td>
        문제 수
      </td>

      <td>
        문제 수.
      </td>
    </tr>

    <tr>
      <td>
        상태
      </td>

      <td>
        문제 상태
      </td>

      <td>
        문제의 수명 주기 상태(CREATED, ACTIVATED, CLOSED).
      </td>
    </tr>

    <tr>
      <td>
        상태텍스트
      </td>

      <td>
        문제 상태 텍스트
      </td>

      <td>
        이슈의 수명 주기 상태 소문자(활성(열림), 닫힘).
      </td>
    </tr>

    <tr>
      <td>
        상태
      </td>

      <td>
        문제 연관성 상태
      </td>

      <td>
        문제의 상관 관계 상태입니다.
      </td>
    </tr>

    <tr>
      <td>
        총 사고
      </td>

      <td>
        사건 수
      </td>

      <td>
        문제에서 집계되거나 상관 관계가 있는 인시던트 수입니다.
      </td>
    </tr>

    <tr>
      <td>
        트리거된 시간
      </td>

      <td>
        문제 발생 시점
      </td>

      <td>
        트리거된 문제 알림의 타임스탬프입니다.
      </td>
    </tr>

    <tr>
      <td>
        트리거 이벤트
      </td>

      <td>
        문제 알림 트리거 이벤트
      </td>

      <td>
        알림 트리거 이벤트(STATE_CHANGE, INCIDENT_ADDED, INCIDENT_CLOSED, CLOSE_INACTIVE, CLOSE_TTL, USER_ACTION, PRIORITY_CHANGED, MERGE_REQUEST).
      </td>
    </tr>

    <tr>
      <td>
        updatedAt
      </td>

      <td>
        업데이트된 문제
      </td>

      <td>
        마지막으로 업데이트된 문제의 타임스탬프입니다.
      </td>
    </tr>

    <tr>
      <td>
        위반 차트 URL
      </td>

      <td>
        사고 차트 URL
      </td>

      <td>
        인시던트 차트 이미지에 링크합니다.
      </td>
    </tr>

    <tr>
      <td>
        워크플로 이름
      </td>

      <td>
        워크플로 이름
      </td>

      <td>
        트리거된 워크플로의 이름입니다.
      </td>
    </tr>
  </tbody>
</table>

## 워크플로 데이터 보강 예제 [#enrichment-examples]

조건을 위반한 항목에 대한 정보를 얻으려면 쿼리의 `where` 문의 일부로 맞춤 변수를 사용할 수 있습니다. 예를 들어 EC2 인스턴스의 상태를 가져오려면 다음을 사용합니다.

```
SELECT latest(ec2State) FROM ComputeSample where provider = 'Ec2Instance' and entityName in {{entitiesData.names}}
```

이 쿼리는 단일 필드만 사용하므로 단일 값(예: `stopped` )을 반환합니다. 변수 `entitiesData.names` 은 항목의 식별자 목록입니다. 같은 방식으로 다른 엔터티 속성을 사용할 수 있습니다.

사용자 지정 변수를 사용하여 다양한 방식으로 워크플로 데이터 쿼리를 강화할 수 있습니다.

<CollapserGroup>
  <Collapser
    id="application-drop"
    title="애플리케이션 트래픽이 감소하는 시점에 대한 쿼리"
  >
    애플리케이션에 대한 트래픽이 언제 중단되는지 알고 싶을 때가 있습니다. 애플리케이션 이름 대신 &#x7B;&#x7B;entitiesData.names}} 변수를 사용할 수 있습니다.

    ```
    SELECT count(*) FROM Transaction WHERE appName in {{entitiesData.names}} since 10 minutes ago
    ```
  </Collapser>

  <Collapser
    id="non-web-transactions-time"
    title="웹이 아닌 거래 시간"
  >
    영향을 받는 엔터티가 요청/트랜잭션을 처리하는 데 소요한 평균 시간(프로세스 유형별로 분류됨)

    ```
    SELECT average(apm.service.overview.other) * 1000 FROM Metric WHERE appName IN {{entitiesData.names}} FACET `segmentName` TIMESERIES
    ```
  </Collapser>

  <Collapser
    id="throughput"
    title="처리량"
  >
    영향을 받는 개체 프로세스의 분당 요청 수

    ```
    SELECT rate(count(apm.service.transaction.duration), 1 minute) as 'Non-web throughput' FROM Metric WHERE (appName IN {{entitiesData.names}}) AND (transactionType = 'Other') TIMESERIES
    ```
  </Collapser>

  <Collapser
    id="error-rate"
    title="오류율"
  >
    영향을 받는 엔터티의 총 요청 프로세스 수에 대한 오류 비율

    ```
    SELECT count(apm.service.error.count) / count(apm.service.transaction.duration) as 'Non-web errors' FROM Metric WHERE (appName IN {{entitiesData.names}}) AND (transactionType = 'Other') TIMESERIES
    ```
  </Collapser>

  <Collapser
    id="transaction-failures"
    title="트랜잭션 실패 쿼리"
  >
    애플리케이션 트랜잭션이 실패한 시기를 알고 싶을 때가 있습니다. 이 쿼리는 &#x7B;&#x7B;entitiesData.names}}로 필터링된 최신 HTTP 상태 코드 응답을 보여줍니다. 경고 정책 임계값을 위반한 변수입니다.

    ```
    From Transaction select latest(http.statusCode), average(duration) where appName in {{entitiesData.names}}
    ```
  </Collapser>

  <Collapser
    id="kubernetes-consumption"
    title="Kubernetes 소비 개요 쿼리"
  >
    이와 같은 쿼리를 사용하여 Kubernetes 포드 내 엔터티 수와 수집 시간을 가져옵니다. 수집 시간이 긴 엔터티를 식별하여 해당 문제를 해결하고 잠재적인 해결책을 찾을 수 있습니다.

    ```
    SELECT uniqueCount(displayName), sum(nr.ingestTimeMs) from K8sServiceSample where entityName in {{entitiesData.names}} since 1 hour ago
    ```
  </Collapser>

  <Collapser
    id="tags-from-facet"
    title="트리거링 패싯 값을 사용하여 쿼리"
  >
    경고 조건 쿼리가 패싯인 경우 쿼리에서 인시던트를 트리거하는 패싯 값을 사용할 수 있습니다. 예를 들어 경고 조건이 다음과 같은 경우:

    ```
    FROM BrowserInteraction SELECT average(duration) facet appName
    ```

    그런 다음 다음과 같이 특정 appName을 사용하여 쿼리할 수 있습니다.

    ```
    SELECT uniques(host) from Transaction where appName in {{accumulations.tag.appName}}
    ```
  </Collapser>
</CollapserGroup>