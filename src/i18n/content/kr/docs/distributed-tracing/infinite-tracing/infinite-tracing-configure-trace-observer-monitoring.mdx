---
title: '무한 추적: 추적 관찰자 모니터링 구성'
tags:
  - Understand dependencies
  - Distributed tracing
  - Infinite Tracing
metaDescription: The trace observer monitoring feature allows you to see if New Relic is handling your traces as you expect.
translationType: machine
---

import distributedtracingTraceMonitoringToggle from 'images/distributed-tracing_screenshot-full_trace-monitoring-toggle.webp'

import distributedtracingHowManyTracesKept from 'images/distributed-tracing_screenshot-crop_how-many-traces-kept.webp'

Infinite Tracing(이전의 "New Relic Edge")은 추적 관찰자 모니터링을 제공하므로 추적 관찰자의 샘플링 동작에 대한 추가 통찰력을 얻을 수 있습니다. 이 선택적 기능은 트레이스 관찰자가 보고 보관한 트레이스의 양을 보여줍니다. 추적 관찰자 메트릭은 선택한 계정에 기록되며 무한 추적 설정 또는 쿼리 빌더에서 볼 수 있습니다.

모니터링을 활성화하면 추적 관찰자 메트릭을 New Relic 계정 계층의 모든 계정에 쓸 수 있습니다. 이를 통해 메트릭의 가시성을 제어할 수 있습니다. 켜기 전에 추적 관찰자 메트릭을 수신할 계정을 결정해야 합니다.

<Callout variant="tip">
  이 기능을 활성화하면 약간의 추가 월별 요금이 표시됩니다. 발생할 수 있는 요금에 대한 아이디어를 제공하기 위해 현재 가격 모델에서 다음을 기준으로 1.6센트의 추가 월별 요금을 확인할 수 있습니다.

  * 측정항목 수: 2
  * 비율: 10초마다
  * 속성 수: 2-5
</Callout>

## 추적 관찰자 모니터링 활성화 [#enable-monitoring]

New Relic UI에서 토글을 클릭하여 추적 관찰자 모니터링을 켤 수 있습니다. 추적 관찰자 모니터링을 활성화하는 즉시 추적 관찰자 메트릭이 캡처되어 앱에 표시되거나 쿼리 빌더에서 볼 수 있습니다. 추적 관찰자 메트릭은 소급 적용되지 않으며 추적 관찰자 모니터링이 활성화된 경우에만 캡처됩니다.

추적 관찰자 모니터링을 활성화하려면:

1. **[one.newrelic.com](https://one.newrelic.com/all-capabilities) > Infinite Tracing settings**으로 이동합니다.
2. 추적 관찰자 메트릭을 기록하려는 계정에 있는지 확인합니다.
3. **Trace 관찰자 모니터링** 토글을 클릭합니다.

## 추적 관찰자 모니터링 계정 전환 [#switch-accounts]

어떤 시점에서 추적 관찰자 메트릭을 받는 계정을 변경하기로 결정한 경우 무한 추적 설정에서 이 작업을 수행할 수 있습니다.

1. **[one.newrelic.com](https://one.newrelic.com/all-capabilities) > Infinite Tracing settings**으로 이동합니다.
2. 계정 선택기를 사용하여 추적 관찰자 메트릭을 기록할 계정으로 전환합니다.
3. 추적 관찰자 모니터링을 비활성화하려면 토글을 클릭합니다.
4. 현재 계정에서 추적 관찰자 모니터링을 다시 활성화하려면 토글을 클릭합니다.

<Callout variant="tip">
  추적 관찰자 모니터링이 활성화 또는 비활성화되면 변경이 발생한 계정에 `NrAuditEvent` 이 기록됩니다. 이 이벤트는 추적 관찰자에 대한 변경 사항을 추적하는 데 도움이 됩니다.
</Callout>

## 추적 관찰자 측정항목 보기 [#view-metrics]

모니터링 계정에 대한 액세스 권한이 있는 사람은 누구나 무한 추적 설정 또는 쿼리 빌더에서 추적 관찰자 지표를 볼 수 있습니다.

모니터링 계정에 대한 액세스 권한이 없으면 무한 추적 설정에서 추적 관찰자 메트릭을 볼 수 없거나 이러한 메트릭에서 NRQL 쿼리를 실행할 수 없습니다. 액세스 권한이 없는 경우 다음과 같이 표시됩니다.

<img
  title="Screenshot showing what appears in Infinite Tracing settings if you don't have access to the monitoring account that is receiving metrics."
  alt="Screenshot showing what appears in Infinite Tracing if you don't have access to the monitoring account that is receiving metrics."
  src={distributedtracingTraceMonitoringToggle}
/>

### 무한 추적 설정에서 메트릭 보기 [#view-in-edge]

추적 관찰자 모니터링을 켜면 무한 추적 설정에 추적 관찰자 메트릭이 표시됩니다.

* 두 개의 열이 기본 추적 관찰자 목록에 추가됩니다.

  * **본 추적** : 지난 60분 동안 추적 관찰자가 본 추적의 수입니다.
  * **추적 유지** : 유지된 추적의 수 및 백분율입니다.

* 화면 오른쪽에 새 창이 추가됩니다.

  * **모니터링 계정** : 오른쪽 창 상단에서 추적 관찰자 메트릭이 기록되는 계정입니다.

  * **얼마나 많은 흔적이 남아 있었습니까?** (상단 차트): **Trace Kept** 와 동일한 정보를 표시하지만 시간이 지남에 따라 어떻게 보이는지 보여줍니다. 샘플링의 규모와 추세를 볼 수 있습니다.

  * **어떤 흔적이 남았습니까?** (하단 차트): 어떤 범주의 트레이스가 보관되었는지 보여줍니다. 차트는 추적이 다양한 유형의 무한 추적 필터로 캡처되었는지 여부를 보여줍니다.

    * 기간(느린 추적)
    * 랜덤
    * 스팬 속성 필터(오류가 있는 추적 또는 사용자가 지정하는 기타 속성)

    <img
      title="Screenshot of graph showing which traces were kept."
      alt="Screenshot of graph showing which traces were kept."
      src={distributedtracingHowManyTracesKept}
    />

### 쿼리 빌더에서 보기

메트릭을 보는 프로그래밍 방식을 선호하는 경우 다음은 NRQL 쿼리의 몇 가지 예입니다. 이 예는 Infinite Tracing 설정에서 두 차트를 복제합니다.

**얼마나 많은 흔적이 남아 있었습니까?** (상단 차트):

```sql
FROM Metric SELECT sum(monitoring.trace.opened.session.count) AS 'Traces seen', sum(monitoring.trace.sampled.count) AS 'Traces kept' WHERE account = INSERT_THE_MONITORING_ACCOUNT_ID TIMESERIES
```

**어떤 흔적이 남았습니까?** (하단 차트):

```sql
FROM Metric SELECT sum(monitoring.trace.sampled.count) WHERE account = INSERT_THE_MONITORING_ACCOUNT_ID AND newRelic.traceFilter.type IS NOT NULL FACET newRelic.traceFilter.type LIMIT 3 TIMESERIES
```