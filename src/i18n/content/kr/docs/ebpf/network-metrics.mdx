---
title: eBPF 네트워크 메트릭
metaDescription: Learn how to configure New Relic eBPF network monitoring dashboard.
tags:
  - Integrations
  - eBPF integration
  - eAPM
  - eBPF Network monitoring
  - extended Berkeley Packet Filter (eBPF)
  - Linux host
  - Kubernetes cluster
freshnessValidatedDate: never
translationType: machine
---

<Callout title="시사">
  이 기능은 아직 개발 중이지만 꼭 사용해 보시기 바랍니다!

  이 기능은 현재 [사전 출시 정책](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy/) 에 따라 미리보기의 일부로 제공됩니다. HIPAA 또는 FedRAMP 규정을 준수하는 고객은 이용할 수 없습니다.
</Callout>

eBPF 네트워크 모니터링은 커널에서 직접 중요한 DNS 및 TCP 메트릭을 추적하여 시스템의 네트워크 상태에 대한 심층적인 가시성을 제공합니다. DNS 확인 및 TCP 연결에 대한 성공 및 실패율을 분석하여 연결 문제를 진단할 수 있습니다. TCP 핸드셰이크, 패킷 전달, 단기 연결 지속 시간 등 주요 지연 시간을 모니터링하여 성능 병목 현상, 병목지점을 찾아냅니다. 대시보드는 전송된 바이트, 수신된 바이트, 삭제된 패킷을 시각화하여 데이터 처리량을 추적하는 데에도 도움이 됩니다.

## 배포 옵션 [#deployment-options]

현재 모니터링 설정에 따라 두 가지 방법으로 eBPF 네트워크 메트릭을 활성화할 수 있습니다.

* **기존 뉴렐릭 APM 고객의 경우:** 뉴렐릭 APM 에이전트 구현하다, 배포하다가 이미 있는 경우 기존 측정, 로그와 함께 eBPF 네트워크 지표를 추가할 수 있습니다. eBPF 에이전트는 네트워크 전용 모드에서 작동하며, 현재 설정을 방해하지 않고 커널 수준 네트워크 인사이트로 APM 데이터를 보완합니다.

* **포괄적인 관찰을 위해:** 구현, 전투 및 네트워크 계층 전반에 걸쳐 완전한 옵저버빌리티를 위한 eAPM 및 네트워크 지표 기능을 모두 포함하는 전체 eBPF 에이전트를 배포합니다. 이 접근 방식은 단일 에이전트를 통해 통합된 텔레메트리 컬렉션을 제공합니다.

두 가지 배포 옵션 모두 아래에 설명된 것과 동일한 모니터링 기능을 제공합니다.

## 네트워크 모니터링 기능 [#network-capabilities]

네트워크 메트릭 대시보드에는 네트워크 성능의 다양한 측면을 모니터링할 수 있는 다음 탭이 있습니다.

* **오류:** DNS, TCP 및 기타 네트워크 관련 오류를 표시합니다.
* **지연시간:** TCP 핸드셰이크, 패킷 전달, 단기 연결 지속 시간과 같은 주요 지연 시간을 모니터링합니다.
* **패킷 손실:** 전송 중에 삭제된 패킷을 추적합니다. 또한 삭제된 커널 패킷, TCP 연결 시간 초과, 재전송된 패킷과 같은 정보가 포함되어 있습니다.
* **TCP 플래그:** 인바운드 및 아웃바운드 트래픽 모두에 대한 TCP 연결의 상태 플래그를 표시합니다.
* **연결:** 인바운드 및 아웃바운드 TCP 연결, 연결 수, 평균 연결 기간, 최대 연결 기간을 표시합니다.

## eBPF 네트워크 모니터링에 등록하세요 [#enroll-pp]

<DNT>**Preview &amp; Trials**</DNT> 페이지에서 eBPF 네트워크 모니터링에 등록할 수 있습니다.

1. <DNT>**[one.newrelic.com &gt; Administration](https://one.newrelic.com/admin-portal)**</DNT> 으)로 이동합니다.
2. 왼쪽 탐색창에서 <DNT>**Preview &amp; Trials**</DNT> 클릭하세요.
3. 사용 가능한 미리보기 기능 목록에서 <DNT>**eBPF network monitoring**</DNT> 클릭합니다.
4. 화면의 지시를 따르고 이용 약관에 동의하여 온보딩을 완료하세요. 이제 APM에서 새로운 eBPF 네트워크 모니터링 기능을 경험해 보세요.

## 기존 APM 고객을 위해 네트워크 메트릭 전용 모드 활성화 [#network-only-mode]

이미 뉴렐릭 APM 에이전트 구현하다, 배포하다가 있고 현재 측정, 도구를 중단하지 않고 네트워크 가시성을 추가하려는 경우 네트워크 지표 전용 모드에서 작동하도록 eBPF 에이전트를 구성할 수 있습니다. 이는 기존 APM 데이터를 보완하는 커널 수준 네트워크 인사이트를 제공합니다.

네트워크 지표 전용 모드가 활성화되면 eBPF 에이전트는 eAPM 데이터 수집을 억제하면서 네트워크 텔리메트리 데이터를 수집하고 보고합니다. 이를 통해 기존 APM 측정 및 계측을 유지하면서 네트워크 계층 가시성을 추가로 확보할 수 있습니다.

### Kubernetes 환경의 경우 [#k8s-env]

<CollapserGroup>
  <Collapser className="freq-link" id="k8s-new" title="새로운 설치">
    새로운 Kubernetes 설치에서 네트워크 메트릭 전용 모드를 활성화하려면 다음 명령을 실행하세요.

    ```bash
    KSM_IMAGE_VERSION="v2.13.0" && helm repo add newrelic https://helm-charts.newrelic.com && helm repo update && kubectl create namespace "newrelic" ; helm upgrade --install nr-ebpf-agent newrelic/nr-ebpf-agent --set licenseKey=<your-license-key> --set cluster="cluster-name-ebpf" --set apmDataReporting=false --namespace=newrelic
    ```
  </Collapser>

  <Collapser className="freq-link" id="k8s-existing" title="기존 설치">
    기존 Kubernetes 설치에서 네트워크 메트릭 전용 모드를 활성화하려면 아래 단계를 따르세요.

    1. `values.yaml` 파일에 `false` 값을 갖는 다음 `apmDataReporting` 키를 추가합니다.

       ```yaml
       apmDataReporting: false
       ```

    2. 설정을 적용합니다:

       ```bash
           helm repo update ; helm upgrade --install nr-ebpf-agent newrelic/nr-ebpf-agent -n newrelic --values values.yaml
       ```
  </Collapser>
</CollapserGroup>

### Linux 호스트 환경 [#linux-env]

<CollapserGroup>
  <Collapser className="freq-link" id="linux-new" title="새로운 설치">
    새로운 Linux 호스트 설치에서 네트워크 메트릭 전용 모드를 활성화하려면 다음 명령을 실행하세요.

    ```bash
    curl -Ls https://download.newrelic.com/install/newrelic-cli/scripts/install.sh | sudo bash && sudo DEPLOYMENT_NAME=<deployment-name> NEW_RELIC_API_KEY=<your-api-key> NEW_RELIC_ACCOUNT_ID=<your-account-id> NEW_RELIC_REGION=US NEW_RELIC_CLI_SKIP_CORE=1 /usr/local/bin/newrelic install -n ebpf-agent-installer
    ```
  </Collapser>

  <Collapser className="freq-link" id="linux-existing" title="기존 설치">
    기존 Linux 호스트 설치에서 네트워크 메트릭 전용 모드를 활성화하려면 다음 단계를 따르세요.

    1. `newrelic-ebpf-agent.conf` 파일에 `false` 값을 갖는 다음 `apmDataReporting` 키를 추가합니다.

       ```bash
       APM_DATA_REPORTING="false"
       ```

    2. eBPF 에이전트 서비스를 다시 시작합니다.

       ```bash
       sudo systemctl restart newrelic-ebpf-agent
       sudo systemctl restart newrelic-ebpf-agent-client
       ```
  </Collapser>
</CollapserGroup>

## eBPF 네트워크 모니터링 데이터 보기 [#view-network-data]

뉴렐릭 APM UI 에서 eBPF 계속 모니터링 데이터를 볼 수 있습니다.

1. **[one.newrelic.com](https://one.newrelic.com) &gt; APM &amp; Services** 로 이동하세요.
2. 원하는 eBPF를 선택하세요.
3. 모니터 섹션에서 **Network Metrics** \[네트워크 메트릭을] 클릭합니다. 네트워크 지표가 표시됩니다.

<Callout variant="tip">
  eBPF 에이전트는 환경에 따라 다음과 같이 이름을 자동으로 다르게 생성합니다.

  * 호스트나 도커에서 이러한 이름은 프로세스 이름, 디렉토리 또는 컨테이너 ID, 수신 포트의 조합입니다. 예를 들어, `ruby:/home/ubuntu/app:[5678]` 또는 `java:f4aead533895:[8080]`.

  * Kubernetes에서 이러한 이름은 `mysql-database-service` 과 같은 서비스 이름에서 파생됩니다.

  애플리케이션에 사용자 정의 이름 지정:

  * docker 컨테이너 및 on-host 기능 모두에 대해 `NEW_RELIC_APP_NAME` 환경 변수를 설정하여 원하는 이름을 특수 기능에 할당할 수 있습니다.

  * 명명된 전설은 뉴렐릭 UI 에 접미사 `-ebpf` 추가되어 표시됩니다.
</Callout>

<DocTiles>
  <DocTile title="eBPF Kubernetes 설치" path="/docs/ebpf/k8s-installation/">
    쿠버네티스 클러스터에 뉴렐릭 eBPF 에이전트를 설정하는 방법을 알아보세요.
  </DocTile>

  <DocTile title="eBPF Linux 설치" path="/docs/ebpf/linux-installation/">
    Linux 호스트에 뉴렐릭 eBPF 에이전트를 설정하는 방법을 알아보세요.
  </DocTile>

  <DocTile title="문제 해결, eBPF 해결" path="/docs/ebpf/troubleshooting/no-ui-data/">
    뉴렐릭 eBPF 에이전트 관련 문제를 해결하는 방법을 알아보세요.
  </DocTile>
</DocTiles>