---
title: setCustomAttribute
type: apiDoc
shortDescription: 페이지의 후속 이벤트에 사용자 정의 속성 이름과 값을 추가합니다.
tags:
  - Browser
  - Browser monitoring
  - Browser agent and SPA API
metaDescription: Browser API call to add a user-defined attribute name and value to subsequent events on the page.
translationType: machine
---

<Callout variant="important">
  이 API는 모든 브라우저 버전(Browser Lite, Pro 또는 Pro+SPA)에서 작동합니다.
</Callout>

## 통사론

```js
newrelic.setCustomAttribute(name: string, value: string|number|null[, persist: boolean])
```

페이지의 후속 이벤트에 사용자 정의 속성 이름과 값을 추가합니다.

## 요구 사항

에이전트 버전 [nr-593](/docs/release-notes/new-relic-browser-release-notes/browser-agent-release-notes) 이상.

`persist` 매개변수 또는 `null` 값 지원을 위해서는 에이전트 버전 1.230.0 이상이 필요합니다.

## 설명

속성이 [`PageView`](/docs/insights/explore-data/attributes/browser-default-attributes-insights#browser-attributes-table) 이벤트에 포함되도록 하려면 창 로드 이벤트가 실행되기 전에(해당 데이터가 전송될 때) 이 호출을 수행하십시오. 속성이 설정되면 New Relic 플랫폼은 페이지가 다시 로드되거나 속성이 수동으로 설정 해제될 때까지 모든 이벤트와 함께 이를 기록합니다.

호환되는 에이전트 버전과 함께 [SPA 모니터링을](/docs/browser/single-page-app-monitoring/get-started/welcome-single-page-app-monitoring) 사용하는 경우 이 호출로 설정된 속성도 [`newrelic.interaction`](/docs/browser/new-relic-browser/browser-agent-apis/browser-spa-api-newrelicinteraction) 이벤트에 포함됩니다. 그러나 SPA API를 사용하여 설정된 속성이 이러한 속성보다 우선합니다.

사용자 정의 속성에 대한 오류는 [JS 오류 페이지](/docs/browser/new-relic-browser/browser-pro-features/javascript-errors-page-detect-analyze-errors) 의 이벤트에 포함됩니다. API를 통해 맞춤 속성에 대한 오류를 보거나 기록하려면 브라우저 API의 [`noticeError`](/docs/browser/new-relic-browser/browser-agent-spa-api/newrelicnoticeerror-browser-agent-api) 호출을 사용하세요.

`persist` 플래그를 사용하면 속성이 브라우저에 저장되어 **세션 범위 내에서** _동일한_ 출처의 후속 페이지 방문이 이벤트에 유지되도록 할 수 있습니다. 이 기능은 최종 사용자 브라우저 개인 정보 설정에 따라 변동될 수 있습니다. 이 함수가 `value = null`로 호출되면 속성은 `persist` 플래그와 _관계없이_ 현재 페이지의 이벤트와 스토리지 **모두** 에서 삭제됩니다.

<Callout variant="important">
  지속 속성은 동일한 이름의 `info.jsAttributes` 키보다 우선합니다! 예를 들어 `somedomain.com/pageA` 에 설정된 지속 속성 `someName` `somedomain.com/pageB`의 정보 블록에 정적으로 설정된 모든 `someName` 재정의하며 동일한(세션) 저장소를 공유한다고 가정합니다.
</Callout>

## 매개변수

<table>
  <thead>
    <tr>
      <th width="25%">
        매개변수
      </th>

      <th>
        설명
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `name`

        _끈_
      </td>

      <td>
        필수의. 속성의 이름입니다. `PageView` 이벤트의 열로 나타납니다. 사용 중인 경우 `PageAction` 이벤트의 열로도 나타납니다.

        속성/값의 이름을 지정할 때 [예약된 NRQL 단어](/docs/insights/new-relic-insights/adding-querying-data/inserting-custom-events-attributes-insights-javascript-api#limits) 를 사용하지 마십시오.
      </td>
    </tr>

    <tr>
      <td>
        `value`

        _문자열_ OR _정수_ OR _null_
      </td>

      <td>
        필수의. 속성의 값입니다. `PageView` 이벤트의 명명된 속성 열에 값으로 나타납니다. 사용 중인 경우 `PageAction` 이벤트의 열로 나타납니다. 사용자 정의 속성 값은 복잡한 개체가 될 수 없으며 문자열 및 정수와 같은 단순 유형만 가능합니다.

        `null` 값을 전달하면 동일한 이름의 기존 속성이 설정 해제됩니다.

        속성/값의 이름을 지정할 때 [예약된 NRQL 단어](/docs/insights/new-relic-insights/adding-querying-data/inserting-custom-events-attributes-insights-javascript-api#limits) 를 사용하지 마십시오.
      </td>
    </tr>

    <tr>
      <td>
        `persist`

        _부울_
      </td>

      <td>
        선택 과목. `true`로 설정하면 이름-값 쌍도 브라우저의 저장소 API로 설정됩니다. 그런 다음 동일한 세션 내에서 로드되는 다음 계측 페이지에서 쌍이 사용자 정의 속성으로 다시 적용됩니다.

        기본값은 `false` 입니다.
      </td>
    </tr>
  </tbody>
</table>

## 예

### HTML 요소용 JavaScript/jQuery 가져오기 [#jquery-example]

이 예제는 JavaScript/jQuery를 사용하여 Drupal 생성 페이지에서 다음 HTML 요소의 값을 가져옵니다.

* `<link rel="shortlink" href="/node/1111" />`
* `<h1>Using NRQL</h1>`

New Relic은 이를 사용자 정의 속성으로 보고합니다. 이는 `PageView` 및 `PageAction` 이벤트를 쿼리하는 데 유용합니다.

```js
var node_id = jQuery("link[rel='shortlink']").attr("href");
var node_title = jQuery('h1').text();

if (typeof newrelic == 'object') {
  newrelic.setCustomAttribute('nodeId', node_id);
  newrelic.setCustomAttribute('title', node_title);
}
```