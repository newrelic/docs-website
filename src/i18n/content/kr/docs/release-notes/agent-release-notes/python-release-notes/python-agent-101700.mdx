---
subject: Python agent
releaseDate: '2025-09-04'
version: 10.17.0
downloadLink: 'https://pypi.python.org/pypi/newrelic'
features:
  - Adds support for custom tasks in Celery
  - Adds support for graphene-django
  - Adds support for middleware filtering in Django
  - Adds support for AWS Bedrock Converse API
  - Adds support for W3CTraceParent header sampled flag
bugs:
  - Safeguard for deepest unique path in GraphQL
  - Safeguard for web request parsing
  - Fix crash in GraphQL
  - Fix crash in ElasticSearch
translationType: machine
---

## Notes

이번 릴리스 에이전트에는 다음에 대한 지원이 추가되었습니다.

* [Celery](https://pypi.org/project/celery/)의 사용자 정의 작업
* [그래핀-Django](https://pypi.org/project/graphene-django/) 모니터링
* [Django](https://pypi.org/project/django/)의 미들웨어 필터링
* AWS Bedrock [Converse](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/bedrock-runtime/client/converse.html) API
* W3CTraceParent 헤더 샘플링 플래그

이 릴리스에서는 다음과 같은 수정 사항도 제공됩니다.

* GraphQL에서 가장 깊은 고유 경로에 대한 보호 장치
* 웹 URL 요청 구문 분석을 위한 보안 조치
* ElasticSearch 및 GraphQL에 대한 대체 `trace.settings==None`
* 비동기 ElasticSearch 클라이언트 목록에서 `options` 메서드 제거

[끌어오기 패키지 색인을](https://pypi.python.org/pypi/newrelic) 통해 `easy_install/pip/distribute` 사용하여 에이전트를 설치하거나 [뉴렐릭 다운로드 사이트](https://download.newrelic.com/python_agent/release) 에서 직접 다운로드하세요.

## 새로운 기능

* Celery에서 사용자 정의 작업에 대한 지원을 추가합니다.

  * [Celery](https://pypi.org/project/celery/) 에서 사용자 정의 작업 클래스에 대한 모니터링 지원을 추가합니다. 이전에는 기본 작업 클래스를 사용하는 작업만 모니터링할 수 있었습니다. 참고: 이 버전의 끌어당김 에이전트는 더 이상 [v5.2.0](https://github.com/celery/celery/releases/tag/v5.2.0) 미만의 Celery 버전을 지원하지 않습니다.

* Graphene-Django에 대한 지원을 추가합니다.

  * [Graphene-Django](https://pypi.org/project/graphene-django/) 로 생성된 동기 스키마에 대한 모니터링 지원을 추가합니다. 이전에는 Graphene-Django로 생성된 스키마가 부분적으로만 모니터링되어 [GraphQL](https://pypi.org/project/graphql-core/) 관련 속성이 누락되었습니다.

* Django에서 미들웨어 필터링에 대한 지원을 추가합니다.

  * 이제 사용자는 모니터링할 [Django](https://pypi.org/project/django/) 미들웨어를 필터링할 수 있습니다. 이제 [세 가지 추가 설정이](/docs/apm/agents/python-agent/configuration/python-agent-configuration/#middleware-filters) 있습니다.

    * `instrumentation.middleware.django.enabled` (기본값은 `true` 입니다)
    * `instrumentation.middleware.django.exclude`
    * `instrumentation.middleware.django.include`

  자세한 내용과 예제는 [Django 미들웨어 필터링 페이지를](/docs/apm/agents/python-agent/supported-features/django-middleware-filtering/) 참조하세요.

* AWS Bedrock Converse API에 대한 지원을 추가합니다.

  * 스트리밍이 아닌 [Converse](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/bedrock-runtime/client/converse.html) API에 대한 모니터링 지원을 추가합니다. 여기에는 `boto3` 및 `aioboto3` 클라이언트를 사용하여 수행된 `converse` 채팅 완료 호출에 대한 지원이 포함됩니다.

* W3CTraceParent 헤더 샘플링 플래그에 대한 지원을 추가합니다.

  * 업스트림 서비스가 샘플링 플래그가 설정된 W3CTraceParent 헤더를 보내면 뉴렐릭은 currentResources를 샘플링할지 여부를 결정할 때 해당 샘플링 결정을 고려합니다.

* 원격 부모가 샘플링되었는지 여부에 따라 샘플링 결정에 대한 지원이 추가되었습니다.

  * 두 가지 새로운 설정 옵션에 대한 지원이 추가되었습니다.

    * `distributed_tracing.sampler.remote_parent_sampled`
    * `distributed_tracing.sampler.remote_parent_not_sampled`

  * `default` 기본 동작이며 이 변경 이전과 동일하게 동작합니다(트랜잭션을 샘플링할지 여부를 결정하기 위해 샘플링 결정을 적응형 샘플링 알고리즘에 전달함).

  * `always_on` 즉, 원격 부모가 샘플링되었거나 샘플링되지 않은 트레이스는 항상 샘플링됩니다.

  * `always_off` 즉, 원격 부모가 샘플링되었거나 샘플링되지 않은 원격 부모가 있는 트레이스는 절대 샘플링되지 않습니다.

## 버그 수정

* GraphQL에서 가장 깊은 고유 경로에 대한 보호 기능 추가

  * 일부 사용자는 [GraphQL](https://pypi.org/project/graphql-core/) 에서 필드 이름이 `None` 반환하여 가장 깊은 고유 경로가 생성되지 않는 문제를 경험했습니다. 이 문제는 해결되었습니다.

* 웹 요청 구문 분석을 위한 보호 기능 추가

  * 일부 사용자는 `request_uri` 잘못 형식화되었거나 잘못된 문자를 포함하고 있어 구문 분석 오류를 경험했습니다. 요청 헤더의 `request_uri` 이 유효하지 않고 원래 제공된 (유효한) URL과 일치하지 않는 경우 이 문제가 발생할 수 있습니다. 이 보호 장치는 현재 뉴렐릭에 적용되었지만, `urllib` 에서는 2025년 1월 31일 이후에 출시된 버전에 대한 이 문제를 해결했습니다.

* ElasticSearch 및 GraphQL에서 충돌을 수정합니다. `trace.settings==None`

  * `trace.settings` 이 `None` 인 경우 ElasticSearch에 대한 측정, 리소스가 작동을 중단했습니다. `global_settings` 대안이 마련되었습니다. 이는 GraphQL에서 발견되는 동일한 문제를 해결합니다.

* 비동기 ElasticSearch 클라이언트 목록에서 `options` 메서드 제거

  * 이전 측정, ElasticSearch의 계측은 `options` 비동기 메서드 목록에 있기 때문에 충돌이 발생했습니다. 이 메서드는 어떠한 데이터스토어 작업/requests 도 수행하지 않으므로 더 이상 `DatastoreTrace` 에 래핑되지 않습니다.

## 지지 성명

최신 에이전트 버전이 출시되면 즉시 업데이트하는 것이 좋습니다. 최신 버전으로 업그레이드할 수 없는 경우, 에이전트를 90일 이내 버전으로 업데이트하세요. 에이전트에게 최신 정보를 제공하는 방법에 대해 [자세히](/docs/new-relic-solutions/new-relic-one/install-configure/update-new-relic-agent/) 알아보세요.

에이전트 릴리스 및 지원 날짜에 대한 정보는 뉴렐릭 끌어 당기는 에이전트 [EOL 정책을](/docs/apm/agents/python-agent/getting-started/python-agent-eol-policy/) 참조하세요.