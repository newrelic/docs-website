---
title: 라이브 아카이브로 장기 로그 저장
tags:
  - Logs
  - Log management
  - Get started
metaDescription: Store your logs with New Relic for up to seven years using live archives.
signupBanner:
  text: Monitor and improve your entire stack. 100GB free. Forever.
freshnessValidatedDate: never
translationType: human
---

라이브 아카이브를 사용하면 필요한 기간 동안 로그를 저장할 수 있습니다. 뉴렐릭은 기본적으로 로그 보존 기간을 30일로 정해두었지만 라이브 아카이브를 사용하면 이 기간을 최대 7년까지 연장할 수 있습니다. 오래된 세금 서류와 마찬가지로 데이터를 가까이에 보관할 필요가 없는 경우도 있지만 필요한 경우 참조할 수 있도록 정보를 보관해 두는 것이 안전합니다.

라이브 아카이브가 필요할까요? 이 기능의 이점을 누릴 수 있는 몇 가지 사용 사례는 다음과 같습니다.

* <DNT>
    **Internal retention requirements**
  </DNT>

  : 회사에 일정 기간 동안 로그를 보관하도록 요구하는 정책이 있나요? 라이브 아카이브의 보관 기간을 연장하면 요구 사항을 충족하는 데 도움이 될 수 있습니다.

* <DNT>
    **Trends and long-term debugging**
  </DNT>

  : 장기간 로그를 저장하면 전년 대비 성능을 향상하는 데 도움이 될 수 있습니다. 예를 들어, 유통사의 경우 특정 휴일의 로그를 다음 해 동일한 휴일과 비교하여 성과를 향상할 수 있습니다.

## 라이브 아카이브 작동 방식 [#how-it-works]

라이브 아카이브 기능은 더 낮은 스토리지 비용으로 드물게 쿼리하는 로그 데이터를 장기적으로 저장할 수 있도록 합니다. 라이브 아카이브를 사용하면 향후의 감사 또는 장기적인 디버깅을 위해 더 오래 로그를 사용할 수 있지만, 오래된 데이터를 저장 및 쿼리할 때 별도의 비용이 청구됩니다.

## 시작하기

<Steps>
  <Step>
    ### 라이브 아카이브 활성화 [#enable]

    먼저 라이브 아카이브 기능을 요청해야 합니다.

    1. [데이터 관리 허브](https://one.newrelic.com/data-management-hub)에 있는

       <DNT>
         **Data retention**
       </DNT>

       UI 페이지로 이동합니다.

    2. <DNT>
         **Logging live archives**
       </DNT>

       로 스크롤합니다.

    3. <DNT>
         **Request**
       </DNT>

       를 클릭합니다. 뉴렐릭 팀이 곧 연락을 드립니다.
  </Step>

  <Step>
    라이브 아카이브를 활성화한 후에는 데이터 보존 기간을 수정해야 합니다.

    1. [데이터 관리 허브](https://one.newrelic.com/data-management-hub)에 있는

       <DNT>
         **Data retention**
       </DNT>

       UI 페이지에서

       <DNT>
         **Edit data retention**
       </DNT>

       을 선택합니다.

    2. <DNT>
         **Logging live archives**
       </DNT>

       로 스크롤하여 데이터를 저장할 총 일수를 입력합니다. 여기에는 표준 보존 기간이 포함된다는 점에 유의하시기 바랍니다.

    3. <DNT>
         **Apply changes**
       </DNT>

       을 클릭합니다.

       데이터 보존 설정을 수정하려면 [관리 기능](/docs/accounts/accounts-billing/new-relic-one-user-management/user-management-concepts/#roles)이 필요합니다.

       <img
         title="edit data retention"
         alt="A screenshot showing users how to edit their data retention."
         src="/images/logs_screenshot-crop_edit-data-retention-live-archives.webp"
       />
  </Step>

  <Step>
    ### 라이브 아카이브를 사용하여 파티션 생성 [#partitions]

    파티션은 특정 기준에 따라 로그를 그룹화하는 방법입니다. 파티션을 생성하면 필요하지 않은 로그를 필터링하고 라이브 아카이브로 수행한 로그를 보관하는 데 도움이 될 수 있습니다.

    1. <DNT>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**</DNT>으로 이동합니다.

    2. 로그 쿼리 표시줄 왼쪽에서 <DNT>**Data partitions**</DNT>을 클릭한 다음 <DNT>**Create data partition**</DNT>을 클릭합니다.

    3. Log\_로 시작하는 영문과 숫자로 파티션 이름을 정의합니다.

    4. <DNT>**Use live archives on this partition**</DNT> 필드를 선택합니다.

       <img
         title="create a live archives partition"
         alt="A screenshot showing a user how to create a partition using live archives"
         src="/images/logs_screenshot-crop_create-a-partition-using-live-archives.webp"
       />

       <figcaption>
         라이브 아카이브를 사용하여 파티션을 생성하려면 <DNT>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs > Data partitions**</DNT>로 이동합니다.
       </figcaption>

    5. 정기 보관 _및_ [라이브 아카이브 보관](/docs/logs/get-started/live-archives-billing/#what-counts)을 반영하여 <DNT>**Total effective retention**</DNT> 기간이 업데이트됩니다.

       또한 <DNT>**Data partitions**</DNT> 페이지의 <Icon name="fe-more-horizontal"/> 아이콘을 클릭하여 기존 파티션을 수정할 수 있습니다. 기존 파티션을 사용하는 경우 원래 파티션에 대해 선택한 것과 동일한 파라미터가 라이브 아카이브 데이터에 적용됩니다.

       <img
         width="60%;"
         title="Edit a live archives partition"
         alt="A screenshot showing a user how to edit a partition using live archives"
         src="/images/logs_screenshot-crop_edit-data-partition-using-live-archives.webp"
       />

       파티션 사용 방법에 대한 자세한 내용은 [파티션을 통한 데이터 구성](/docs/logs/ui-data/data-partitions/) 문서를 참조하십시오.
  </Step>

  <Step>
    ## 로그 쿼리

    라이브 아카이브를 쿼리하는 방법에는 Lucene, NRQL 또는 NerdGraph API의 NRQL 등 몇 가지가 있습니다. 세 가지 방법 모두 라이브 아카이브를 쿼리하려면 **라이브 아카이브 쿼리** 기능이 필요합니다.

    ### Lucene 쿼리 구문을 사용한 라이브 아카이브 쿼리 [#query]

    Lucene 쿼리 구문에 익숙하다면 <DNT>**Logs**</DNT> UI에서 이를 실행할 수 있습니다.

    1. <DNT>
         **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**
       </DNT>

       으로 이동합니다.

    2. 검색창을 사용해 원하는 쿼리를 실행합니다. 쿼리가 예상대로 작동하는지 확인하려면 먼저 쿼리를 연습하는 것이 좋습니다.

    3. 쿼리할 날짜를 선택합니다.

    4. 라이브 아카이브를 쿼리하려고 한다는 화면이 표시됩니다. 라이브 아카이브 쿼리는 비용이 더 많이 들므로 준비가 된 경우에만

       <DNT>
         **Query live archives**
       </DNT>

       를 선택합니다.

       <img
         title="lucene live archives"
         alt="A screenshot showing a user how to query live archives in the logs UI"
         src="/images/logs_screenshot-crop_lucene-live-archives.webp"
       />

       <figcaption>
         라이브 아카이브에 저장된 데이터를 쿼리하려면 <DNT>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**</DNT>로 이동합니다.
       </figcaption>

       ### NRQL을 사용하여 라이브 아카이브 쿼리 [#nrql]

       에러스 인박스(errors inbox)나 알림에 사용하는 것과 동일한 언어를 사용하여 쿼리하려면 NRQL에서 쿼리할 것을 권합니다.

    5. <DNT>
         **[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**
       </DNT>

       으로 이동합니다.

    6. 오른쪽 상단 코너에 있는 **NRQL**을 클릭합니다.

    7. 실행하려는 NRQL 쿼리를 입력합니다.

    8. 먼저 쿼리를 연습하여 예상대로 작동하는지 확인합니다.

    9. <DNT>
         **Use live archives**
       </DNT>

       로 전환합니다.

    10. 라이브 아카이브를 쿼리하려고 한다는 화면이 표시됩니다. 라이브 아카이브 쿼리는 비용이 더 많이 들므로 준비가 된 경우에만

        <DNT>
          **Query live archives**
        </DNT>

        를 선택합니다.

        <img
          title="nrql live archives"
          alt="A screenshot showing a user how to query live archives with NRQL"
          src="/images/logs_screenshot-crop_query-live-archives-nrql.webp"
        />

        <figcaption>
          <DNT>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Logs**</DNT>로 이동한 다음 <DNT>**NRQL**</DNT>을 선택하고 쿼리 빌더를 사용해 라이브 아카이브에 저장된 데이터를 쿼리합니다.
        </figcaption>

        ### Nerdgraph API를 사용한 라이브 아카이브 쿼리 [#api]

        NerdGraph API에서 NRQL을 사용하여 라이브 아카이브 데이터를 쿼리할 수도 있습니다. 라이브 아카이브 `eventNamespace`를 지정하려면 NRQL 옵션에 `{eventNamespaces: "Logging:Archive"}`를 포함해야 합니다.

        다음은 쿼리 예입니다.

        ```
        query {
          actor {
            account(id: 1234567) {
              nrql(
                query: "SELECT count(*) FROM Log SINCE '2024-02-01 12:00:00' UNTIL '2024-02-01 13:00:00'"
                options: {eventNamespaces: "Logging:Archive"}
                async: true
              ) {
                results
              }
            }
          }
        }
        ```
  </Step>

  <Step>
    ### 데이터 소비량 확인 [#data-consumption]

    라이브 아카이브는 나머지 로그와 다르게 요금이 청구됩니다. 이에 대한 자세한 내용은 [라이브 아카이브 스토리지: 청구 및 규칙 문서](/docs/logs/get-started/live-archives-billing/)를 확인하십시오. 라이브 아카이브는 세 가지 청구 기준이 적용됩니다.

    * <DNT>
        **Data**
      </DNT>

      : 일반 로그를 처음 수집할 때 요금이 부과됩니다.

    * <DNT>
        **Storage**
      </DNT>

      : 라이브 아카이브에 데이터를 저장할 때 요금이 부과됩니다.

    * <DNT>
        **Compute**
      </DNT>

      : 라이브 아카이브 데이터에 대한 쿼리는 컴퓨팅 단위(CCU)로 청구됩니다. 컴퓨팅 단위(CCU)에 대한 자세한 내용은 [사용량 계획 문서](https://docs.newrelic.com/docs/licenses/license-information/usage-plans/new-relic-usage-plan/#list-price)를 참조하십시오.

      <DNT>**Plan & Usage**</DNT> 페이지에서 데이터 스토리지를 확인하려면 다음 단계를 따릅니다.

    1. <DNT>
         **[one.newrelic.com](https://one.newrelic.com/)**
       </DNT>

       으로 이동하여 사용자 메뉴를 클릭한 다음

       <DNT>
         **Administration**
       </DNT>

       을 클릭하여

       <DNT>
         **Plan & usage**
       </DNT>

       페이지를 엽니다.

    2. <DNT>
         **Retention (GB-month)**
       </DNT>

       로 스크롤합니다.

    3. 스토리지 세부 내역을 보려면

       <DNT>
         **View more details**
       </DNT>

       를 클릭합니다.

       라이브 아카이브를 쿼리하면 컴퓨트 관리 허브에서 컴퓨트 소비량을 확인할 수 있습니다.

    4. <DNT>
         **[one.newrelic.com](https://one.newrelic.com/)**
       </DNT>

       으로 이동하여 사용자 메뉴를 클릭한 다음

       <DNT>
         **Administration**
       </DNT>

       을 클릭합니다.

    5. <DNT>
         **Compute management**
       </DNT>

       을 선택합니다.

    6. <DNT>
         **Product capabilities**
       </DNT>

       로 스크롤합니다.

    7. <DNT>
         **Logs**
       </DNT>

       을 선택합니다.

    8. 라이브 아카이브에 대한 컴퓨트 소비량을 확인하려면

       <DNT>
         **Data category**
       </DNT>

       별로 패싯을 합니다.
  </Step>
</Steps>

## 예 [#examples]

사용자가 9월 1일에 지원 건을 처리하기 위해 컴퓨터에서 시스템에 로그인했는지 확인해야 한다고 가정해 보겠습니다. 다음 단계를 완료하면 라이브 아카이브를 사용하여 이러한 일이 발생했는지 확인할 수 있습니다.

1. 사용자가 자신의 컴퓨터에 로그인한 기간을 확인합니다.

2. <DNT>**Logs**</DNT>에서 쿼리를 테스트하여 예상대로 작동하는지 확인합니다. 이는 쿼리의 유효성을 검사하기 위한 테스트 작업으로 데이터를 반환하지 않습니다. 작동하는 경우 아카이브된 로그에 대해 더 포괄적인 쿼리를 실행할 수 있습니다.

   예시 쿼리:

   ```
   "logtype":"linux_audit" "type":"USER_LOGIN" "hostname":"apache_svr01"
   ```

3. 사용자가 컴퓨터에 로그인한 날짜를 검색하려면 타임 셀렉터를 변경합니다.

4. <DNT>**Query live archives**</DNT>을 선택합니다.

## 데이터 삭제 [#delete]

데이터 보존 기간을 줄이길 원하는 경우 다음 사항에 유의해야 합니다.

* 데이터 보존 기간을 수정하려면 관리자 권한이 필요합니다.
* _차후에 데이터 보존 기간을 줄이면 데이터를 복구할 수 없습니다. 보존 기간을 신중하게 선택하고 설정해야 합니다._
* 데이터 삭제는 보존 기간을 줄이는 날부터 유효합니다.
* 특정 날짜의 데이터 삭제를 요청할 수 있습니다. 선택한 날짜의 모든 라이브 아카이브 데이터가 삭제됩니다.
* 날짜는 UTC 경계에서 시작하고 끝나므로 요청 시 시간이 UTC와 부합하는지 확인해야 합니다. 이는 하루가 가감될 수 있다는 것을 의미합니다.

<Callout variant="important">
  의심의 여지를 없애기 위해, 뉴렐릭은 계정이 다운그레이드되거나 계약이 만료된 후, 또는 고객이 관련된 상업적 요구 사항을 충족하지 않는 경우 라이브 아카이브의 데이터를 보존할 의무가 없습니다.
</Callout>

<DocTiles>
  <DocTile
    title="Understand how live archives billing works"
    number="1"
    path="/docs/logs/get-started/live-archives-billing"
  />

  <DocTile
    title="Learn more about creating data partitions"
    number="2"
    path="/docs/logs/ui-data/data-partitions/"
  />

  <DocTile
    title="Query your logs"
    number="3"
    path="/docs/logs/ui-data/query-syntax-logs/"
  />
</DocTiles>
