---
componentType: default
headingText: Configure the .NET agent
freshnessValidatedDate: never
---

To collect AI data, you need to set certain configurations to enable AI monitoring. We recommend applying these configurations in newrelic.ini, but if you have a more complex set up with multiple environments, you can configure with environment variables.

<CollapserGroup>
  <Collapser
    id="config-file"
    title="Configure through `newrelic.config`"
  >
    Set these configurations to ingest AI monitoring data:

    ```xml
    <customEvents enabled="true" maximumSamplesStored="100000"/>
    ```

    ```xml
    <spanEvents enabled="true" maximumSamplesStored="10000"></spanEvents>
    ```

    Here is an example configuration file:

    ```xml
    <?xml version="1.0"?>
    <!-- Copyright (c) 2008-2020 New Relic, Inc.  All rights reserved. -->
    <!-- For more information see: https://docs.newrelic.com/docs/agents/net-agent/configuration/net-agent-configuration/ -->
    <configuration xmlns="urn:newrelic-config" agentEnabled="true">

    ..........

    <customEvents enabled="true" maximumSamplesStored="100000"/>

    <spanEvents enabled="true" maximumSamplesStored="10000"></spanEvents>

    </configuration>
    ```
  </Collapser>

  <Collapser
    id="environment-variables"
    title="Configure with environment variables"
  >
    ```ini
    NEW_RELIC_AI_MONITORING_ENABLED = TRUE
    ```

    ```ini
    MAX_EVENT_SAMPLES_STORED = 100000
    ```

    ```ini
    NEW_RELIC_SPAN_EVENTS_MAX_SAMPLES_STORED = 10000
    ```
  </Collapser>
</CollapserGroup>

To learn about more AI monitoring configurations, see our [Customize the agent for AI monitoring](/docs/ai-monitoring/customize-agent-ai-monitoring) doc.
