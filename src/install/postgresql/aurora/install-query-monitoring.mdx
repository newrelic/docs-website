---
headingText: Enable query monitoring for Aurora/RDS
componentType: default
---

Enable query monitoring by creating or modifying a DB Parameter Group and associating it with your Aurora/RDS DB instance in order to enable extensions. Follow these steps:

1. Navigate to your RDS or Aurora PostgreSQL instance in the AWS Management Console.

2. Select or create a custom parameter group:
   * If using the default parameter group, you'll need to create a new custom group
   * **Create**: Choose the appropriate parameter group family that matches your database engine version (e.g., for Aurora PostgreSQL use aurora-postgresql16)
   * **Modify**: Edit existing custom DB parameter groups associated with your Aurora/RDS DB setup
   > Note: Do not modify the default parameter group, as default groups are immutable; creating a custom group allows for settings changes.

3. Configure the DB Parameter Groups by setting the following parameters:
   ```
   shared_preload_libraries = 'pg_stat_statements'
   pg_stat_statements.max = 10000
   pg_stat_statements.track = all
   pg_stat_statements.save = on
   ```

4. Associate the modified or newly created DB Parameter Groups with your Aurora DB cluster and instance:
   * Select your DB cluster and instance in the RDS console
   * Click Modify
   * Find the DB instance parameter group and DB cluster parameter group settings

5. Reboot your Aurora DB instance for the changes to take effect.

> For more information, refer to the [Working with DB Parameter Groups](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_WorkingWithParamGroups.html) section of the AWS documentation.

6. Connect to your PostgreSQL instance using the psql command line tool or any PostgreSQL client.

7. Enable the pg_stat_statements extension in the database where you want to monitor query performance:
   ```sql
   CREATE EXTENSION IF NOT EXISTS pg_stat_statements;
   ```

