---
componentType: default
optiontype: task
headingText: Integrate with CloudFormation
---

You can integrate your AWS account with New Relic using CloudFormation, which uses templates or stacks as blueprints for building AWS resources. This step directs you to our in-app guided install that walks you through setting up a CloudFormation template.

1. Go to **[one.newrelic.com > Infrastructure > AWS](https://one.newrelic.com/infra/marketplace/install-data-source?&begin=1729543416051&end=1729545216051&state=82dc8d6d-8fff-45b5-e43c-15847ac8b090)**, then click **Automate AWS with CloudFormation**. You may want to return to this doc to review the CloudFormation template parameters.
1. Customize or extend the CloudFormation template parameters so they meet your requirements. This table provides some parameters to get you started: 

    <table>
    <thead>
        <tr>
        <th style={{ width: '200px' }}>
            Name
        </th>

        <th>
            Description
        </th>

        <th>
            Constraints
        </th>
        </tr>
    </thead>

    <tbody>
        <tr>
        <td>
            New Relic Ingest License Key
        </td>

        <td>
            The <InlinePopover type="licenseKey"/> associated with the account you wish to export metrics to.
        </td>

        <td>
            40-character hexadecimal string
        </td>
        </tr>

        <tr>
        <td>
            New Relic Datacenter
        </td>

        <td>
            Identification of the New Relic data center your metrics are exported to. (EU data center accounts have license keys prefixed with `eu0x`)
        </td>

        <td>
            Allowed values: `US`, `EU`
        </td>
        </tr>

        <tr>
        <td>
            CloudWatch Metric Stream name
        </td>

        <td>
            Name of new CloudWatch Metric Stream (must be unique per AWS account in the same AWS Region)
        </td>

        <td>
            Must only container letters (uppercase and lowercase), numbers, and characters '\_', and '-' with max length of 255 total characters
        </td>
        </tr>

        <tr>
        <td>
            Kinesis Data Firehose name
        </td>

        <td>
            Name of new Kinesis Firehose Delivery Stream (must be unique per AWS account in the same AWS Region)
        </td>

        <td>
            Must only container letters (uppercase and lowercase), numbers, and characters '.', '\_', and '-' with max length of 64 total characters
        </td>
        </tr>

        <tr>
        <td>
            Firehose S3 backup bucket name
        </td>

        <td>
            Name of new S3 Bucket Destination for failed events (must be globally unique across all AWS accounts in all AWS Regions within a partition)
        </td>

        <td>
            Must adhere to the [S3 bucket naming rules](https://docs.aws.amazon.com/AmazonS3/latest/userguide/bucketnamingrules.html)
        </td>
        </tr>

        <tr>
        <td>
            Enrich metrics with resource metadata from AWS Config
        </td>

        <td>
            Enable and configure AWS Config to track resource changes. This allows you a complete monitoring New Relic experience.
        </td>

        <td>
            Allowed values: `true`, `false`
        </td>
        </tr>

        <tr>
        <td>
            Config S3 backup bucket name
        </td>

        <td>
            Name of new S3 Bucket Destination for delivery channel configuration (must be globally unique across all AWS accounts in all AWS Regions within a partition)
        </td>

        <td>
            Must adhere to the [S3 bucket naming rules](https://docs.aws.amazon.com/AmazonS3/latest/userguide/bucketnamingrules.html)
        </td>
        </tr>
    </tbody>
    </table>

We don't provide names of existing AWS resources here since the template creates new resources in your AWS account.
