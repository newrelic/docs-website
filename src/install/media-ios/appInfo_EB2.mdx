---
componentType: default
headingText: Instrument on mobile application you are already monitoring
---

<Callout variant="important">
    If you are a first time user and want to add the streaming agent to a new application, see [Instrument a new mobile application](/install/media-ios/?task=AI).
</Callout>

Choose your instrumentation method from the following options:

<Tabs>
    <TabsBar>
        <TabsBarItem id="automatically-cocoapods">
            Install automatically using cocoapods
        </TabsBarItem>
        <TabsBarItem id="manually">
            Install manually
        </TabsBarItem>
    </TabsBar>

    <TabsPages>
        <TabsPageItem id="automatically-cocoapods">
            1. Add the following line to your Podfile:

            ```json
            pod 'NewRelicVideoCore', :git => 'https://github.com/newrelic/video-agent-iOS'
            pod 'NRAVPlayerTracker', :git => 'https://github.com/newrelic/video-agent-iOS'
            pod 'NRIMATracker', :git => 'https://github.com/newrelic/video-agent-iOS'
            ```

            2. Run pod install in your terminal.

            3. Open your project in Xcode and build it.

            4. Click **Continue**.

            5. Select an agent to deploy.

            <Tabs>
                <TabsBar>
                    <TabsBarItem id="AVPlayer tracker only first">
                        Video agent with AVPlayer tracker only
                    </TabsBarItem>
                    <TabsBarItem id="AVPlayer and IMA trackers first">
                        Video agent with AVPlayer and IMA trackers
                    </TabsBarItem>
                </TabsBar>

                <TabsPages>
                    <TabsPageItem id="AVPlayer tracker only first">

                        ### Objective-C

                        ```Objective-C
                        NSNumber *trackerId = [[NewRelicVideoAgent sharedInstance] startWithContentTracker:[[NRTrackerAVPlayer alloc] initWithAVPlayer:player]];
                        ```

                        ### Swift

                        ```Swift
                        let trackerId = NewRelicVideoAgent.sharedInstance().start(withContentTracker: NRTrackerAVPlayer.init(avPlayer: player))
                        ```
                    </TabsPageItem>

                    <TabsPageItem id="AVPlayer and IMA trackers first">

                        ### Objective-C

                        ```java
                        NSNumber *trackerId = [[NewRelicVideoAgent sharedInstance] startWithContentTracker:[[NRTrackerAVPlayer alloc] initWithAVPlayer:player] adTracker:[[NRTrackerIMA alloc] init]];
                        ```

                        ### Swift

                        ```kotlin
                        let trackerId = NewRelicVideoAgent.sharedInstance().start(withContentTracker: NRTrackerAVPlayer.init(avPlayer: player), adTracker: NRTrackerIMA.init())
                        ```
                    </TabsPageItem>
                </TabsPages>
            </Tabs>

            6. Click **See your data** to deploy your updated code & see the data.
        </TabsPageItem>

        <TabsPageItem id="manually">
        1. Clone the [video-agent-iOS](https://github.com/newrelic/video-agent-ios) repository.

        2. Open each one of the `.xcodeproj` files with Xcode.
        
        3. Select the appropiate scheme.
        
        4. Build (CMD+B).
        
        5. Include the generated .framework in your project and click **Continue**.

        6. Select an agent to deploy.

            <Tabs>
                <TabsBar>
                    <TabsBarItem id="AVPlayer tracker only first">
                        Video agent with AVPlayer tracker only
                    </TabsBarItem>
                    <TabsBarItem id="AVPlayer and IMA trackers first">
                        Video agent with AVPlayer and IMA trackers
                    </TabsBarItem>
                </TabsBar>

                <TabsPages>
                    <TabsPageItem id="AVPlayer tracker only first">

                        ### Objective-C

                        ```Objective-C
                        NSNumber *trackerId = [[NewRelicVideoAgent sharedInstance] startWithContentTracker:[[NRTrackerAVPlayer alloc] initWithAVPlayer:player]];
                        ```

                        ### Swift

                        ```Swift
                        let trackerId = NewRelicVideoAgent.sharedInstance().start(withContentTracker: NRTrackerAVPlayer.init(avPlayer: player))
                        ```
                    </TabsPageItem>

                    <TabsPageItem id="AVPlayer and IMA trackers first">

                        ### Objective-C

                        ```Objective-C
                        NSNumber *trackerId = [[NewRelicVideoAgent sharedInstance] startWithContentTracker:[[NRTrackerAVPlayer alloc] initWithAVPlayer:player] adTracker:[[NRTrackerIMA alloc] init]];
                        ```

                        ### Swift

                        ```Swift
                        let trackerId = NewRelicVideoAgent.sharedInstance().start(withContentTracker: NRTrackerAVPlayer.init(avPlayer: player), adTracker: NRTrackerIMA.init())
                        ```
                    </TabsPageItem>
                </TabsPages>
            </Tabs>

            6. Click **See your data** to deploy your updated code & see the data.
        </TabsPageItem>
    </TabsPages>
</Tabs>