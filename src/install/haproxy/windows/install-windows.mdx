---
componentType: default
headingText: Configure the  integration
---

1. In the Integrations directory, `C:\Program Files\New Relic\newrelic-infra\integrations.d\`, create a copy of the sample configuration file by running:

   ```shell
   copy nri-haproxy-config.yml.sample nri-haproxy-config.yml
   ```

   2. Edit the `nri-haproxy-config.yml` file. This basic config example collects Metrics and Inventory from your localhost:

   ```yml
   integrations:
     - name: nri-haproxy
       env:
         STATS_URL: http://haproxy-instance/stats
         USERNAME: haproxy_user
         PASSWORD: haproxy_password
         HA_PROXY_CLUSTER_NAME: haproxycluster
       interval: 15s
       labels:
         env: production
         role: load_balancer
       inventory_source: config/haproxy
   ```

You can find all the config options at the bottom of this doc along with more complex config examples.
